{"items":[{"tags":["java","android","android-studio","accessibilityservice"],"owner":{"account_id":25067723,"reputation":1,"user_id":18921856,"display_name":"Khiladi Bhaiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681234425,"creation_date":1681144267,"question_id":75978863,"body_markdown":"As object of currentNode holds reference to our views and layouts, so we can get the childNode(view) from the currentNode. So is there any way to detect if the childNode(at specific index)  is pressed(clicked) in AccessibilityServices.\r\n\r\n\r\n\r\nOr through the event(object reference) is there any way to detect a particular view is clicked(pressed). \r\n\r\n\r\n\r\n```\r\n @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n\r\n        AccessibilityNodeInfo currentNode = getRootInActiveWindow();\r\n\r\n        /// maybe something like this, just for illustration \r\n        if(currentNode.getChild(0)/*is pressed*/){ \r\n           // click detected...\r\n        }\r\n}\r\n```\r\n\r\n\r\nThe actions can be performed on the childNode like:-\r\n\r\n`currentNode.getChild(0).performAction(AccessibilityNodeInfo.ACTION_CLICK)`\r\n \r\nbut instead of this I want to detect if the childNode is pressed(clicked).","title":"How detect if the childNode(at specific index) is pressed in accessibilityservice(android)?","body":"<p>As object of currentNode holds reference to our views and layouts, so we can get the childNode(view) from the currentNode. So is there any way to detect if the childNode(at specific index)  is pressed(clicked) in AccessibilityServices.</p>\n<p>Or through the event(object reference) is there any way to detect a particular view is clicked(pressed).</p>\n<pre><code> @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n\n        AccessibilityNodeInfo currentNode = getRootInActiveWindow();\n\n        /// maybe something like this, just for illustration \n        if(currentNode.getChild(0)/*is pressed*/){ \n           // click detected...\n        }\n}\n</code></pre>\n<p>The actions can be performed on the childNode like:-</p>\n<p><code>currentNode.getChild(0).performAction(AccessibilityNodeInfo.ACTION_CLICK)</code></p>\n<p>but instead of this I want to detect if the childNode is pressed(clicked).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1681222030,"post_id":75986772,"comment_id":134019280,"body_markdown":"ok ... so keep track of a counter and add do seqNo += (counter+1) or similar","body":"ok ... so keep track of a counter and add do seqNo += (counter+1) or similar"},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1681222450,"post_id":75986772,"comment_id":134019408,"body_markdown":"Paste _all_ your code - the only way to do this, is to store some state (your program will either do: &quot;On startup, generate a random number, then, when my &#39;give me the next seqNo method is called, I shall take that number, increment it by 1, and return that&quot;, or: &quot;On call, check if we generated a number before. If yes, increment and return it, if no, generate a random one&quot;).","body":"Paste <i>all</i> your code - the only way to do this, is to store some state (your program will either do: &quot;On startup, generate a random number, then, when my &#39;give me the next seqNo method is called, I shall take that number, increment it by 1, and return that&quot;, or: &quot;On call, check if we generated a number before. If yes, increment and return it, if no, generate a random one&quot;)."},{"owner":{"account_id":12948460,"reputation":114,"user_id":14821969,"display_name":"Karim Moghnieh"},"score":0,"creation_date":1681223511,"post_id":75986772,"comment_id":134019739,"body_markdown":"you should store the 1st generated random somehow (for example in a static variable), and then just add +1 for every next.","body":"you should store the 1st generated random somehow (for example in a static variable), and then just add +1 for every next."}],"answers":[{"tags":[],"owner":{"account_id":22280474,"reputation":56,"user_id":21535637,"display_name":"Deepak Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681224086,"creation_date":1681224086,"answer_id":75987171,"question_id":75986772,"body_markdown":"Just generate 1 random number and then print 4 number following in sequence \r\n\r\n    int seq;\r\n    Random r = new Random(System.currentTimeMillis());\r\n    seq = 10000 + r.nextInt(20000); // generate random 5-digit number\r\n    System.out.println(seq); // print the first random number\r\n    for (int i = 1; i &lt;= 4; i++) {\r\n        System.out.println(seq + i); // print the next four numbers in sequence by adding 1\r\n    }\r\n\r\nThe output of the code will be a random 5-digit number followed by the next four numbers in sequence:\r\n\r\nExample output:\r\n\r\n    19457\r\n    19458\r\n    19459\r\n    19460\r\n    19461\r\n\r\n","title":"How to generate random 5 digit number with sequence on the end in java","body":"<p>Just generate 1 random number and then print 4 number following in sequence</p>\n<pre><code>int seq;\nRandom r = new Random(System.currentTimeMillis());\nseq = 10000 + r.nextInt(20000); // generate random 5-digit number\nSystem.out.println(seq); // print the first random number\nfor (int i = 1; i &lt;= 4; i++) {\n    System.out.println(seq + i); // print the next four numbers in sequence by adding 1\n}\n</code></pre>\n<p>The output of the code will be a random 5-digit number followed by the next four numbers in sequence:</p>\n<p>Example output:</p>\n<pre><code>19457\n19458\n19459\n19460\n19461\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681230291,"creation_date":1681229971,"answer_id":75988084,"question_id":75986772,"body_markdown":"# `AtomicLong`\r\n\r\nFor [thread safety][1], use [`AtomicLong`][2]. \r\n\r\n    AtomicLong sequencer = new AtomicLong() ;\r\n\r\nBut you want to start with a random value rather than startingmat zero. So change that line to initialize with your random number from a [`ThreadLocalRandom`][3]. Specify the range from which you want to randomly pick a number. \r\n\r\n    AtomicLong sequencer = new AtomicLong( ThreadLocalRandom.current().nextLong( 1 , 10_000 ) ) ;\r\n\r\nGenerate the next number, and return it with a call to [`incrementAndGet`][4]. \r\n\r\n    long next = sequencer.incrementAndGet() ;\r\n\r\n\r\n----------\r\n\r\n\r\nUse [`AtomicInteger`][5] if you are certain a 32-bit range of numbers suffices rather than the 64-bit range of `AtomicLong`. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Thread_safety\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html#incrementAndGet()\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html","title":"How to generate random 5 digit number with sequence on the end in java","body":"<h1><code>AtomicLong</code></h1>\n<p>For <a href=\"https://en.m.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread safety</a>, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html\" rel=\"nofollow noreferrer\"><code>AtomicLong</code></a>.</p>\n<pre><code>AtomicLong sequencer = new AtomicLong() ;\n</code></pre>\n<p>But you want to start with a random value rather than startingmat zero. So change that line to initialize with your random number from a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a>. Specify the range from which you want to randomly pick a number.</p>\n<pre><code>AtomicLong sequencer = new AtomicLong( ThreadLocalRandom.current().nextLong( 1 , 10_000 ) ) ;\n</code></pre>\n<p>Generate the next number, and return it with a call to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html#incrementAndGet()\" rel=\"nofollow noreferrer\"><code>incrementAndGet</code></a>.</p>\n<pre><code>long next = sequencer.incrementAndGet() ;\n</code></pre>\n<hr />\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a> if you are certain a 32-bit range of numbers suffices rather than the 64-bit range of <code>AtomicLong</code>.</p>\n"}],"owner":{"account_id":28275918,"reputation":9,"user_id":21618402,"display_name":"user21618402"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1681234157,"creation_date":1681221642,"question_id":75986772,"body_markdown":"Can someone please help to update my existing code, i need generate random 5 numbers with sequence on the end, for example use random 13543, but all next should be sequence like 13544,13545,13546,13547 etc.\r\n\r\n\r\n```\r\nint seq;\r\nRandom r = new Random(System.currentTimeMillis() );\r\nseq =  10000 + r.nextInt(20000);\r\nString seqNo = String.valueOf(seq);\r\n```\r\n\r\n\r\nfor now i have only random numbers","title":"How to generate random 5 digit number with sequence on the end in java","body":"<p>Can someone please help to update my existing code, i need generate random 5 numbers with sequence on the end, for example use random 13543, but all next should be sequence like 13544,13545,13546,13547 etc.</p>\n<pre><code>int seq;\nRandom r = new Random(System.currentTimeMillis() );\nseq =  10000 + r.nextInt(20000);\nString seqNo = String.valueOf(seq);\n</code></pre>\n<p>for now i have only random numbers</p>\n"},{"tags":["java","spring","spring-boot","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1681233543,"creation_date":1424804389,"answer_id":28704025,"question_id":28702809,"body_markdown":"Spring provides full support for the [JSR-303](https://beanvalidation.org/1.0/spec/) Bean Validation API. This includes convenient support for bootstrapping a JSR-303 implementation as a Spring bean. This allows a `javax.validation.Validator` to be injected wherever validation is needed in your application.\r\n\r\nUse the `LocalValidatorFactoryBean` to configure a default JSR-303 Validator as a Spring bean:\r\n\r\n    &lt;bean id=&quot;validator&quot; class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot; /&gt;\r\n\t\t\t\r\nThe basic configuration above will trigger JSR-303 to initialize using its default bootstrap mechanism. A JSR-303 provider, such as Hibernate Validator, is expected to be present in the classpath and will be detected automatically.\r\n\r\n## 5.7.2.1 Injecting a Validator\r\n\r\n`LocalValidatorFactoryBean` implements both `javax.validation.Validator` and `org.springframework.validation.Validator`. You may inject a reference to one of these two interfaces into beans that need to invoke validation logic.\r\n\r\nInject a reference to `javax.validation.Validator` if you prefer to work with the JSR-303 API directly:\r\n\r\n    // JSR-303 Validator\r\n    import javax.validation.Validator;\r\n\r\n    @Service\r\n    public class MyService {\r\n    \r\n        @Autowired\r\n        private Validator validator;\r\n    \r\n    }\r\n\t\t\t\t\r\nInject a reference to `org.springframework.validation.Validator` if your bean requires the Spring Validation API:\r\n\r\n    // Spring Validator\r\n    import org.springframework.validation.Validator;\r\n    \r\n    @Service\r\n    public class MyService {\r\n    \r\n        @Autowired\r\n        private Validator validator;\r\n    \r\n    }\r\nHere is a well exaplained example:  \r\n[Using JSR 303 with &quot;classic&quot; Spring Validators (enter the SpringValidatorAdapter)](http://nonrepeatable.blogspot.com/2010/04/using-jsr-303-with-classic-spring.html)\r\n\r\n    \r\n\r\n&gt; This link is very helpful. Wrapping javax.validation.Validator in\r\n&gt; org.springframework.validation.beanvalidation.SpringValidatorAdapter\r\n&gt; helped deal with errors consistently. Can you add this as an answer so\r\n&gt; that I can accept it\r\n\r\nand \r\n[Spring doc here](https://docs.spring.io/spring-framework/docs/3.0.x/reference/validation.html).","title":"How to manually trigger Spring validation?","body":"<p>Spring provides full support for the <a href=\"https://beanvalidation.org/1.0/spec/\" rel=\"nofollow noreferrer\">JSR-303</a> Bean Validation API. This includes convenient support for bootstrapping a JSR-303 implementation as a Spring bean. This allows a <code>javax.validation.Validator</code> to be injected wherever validation is needed in your application.</p>\n<p>Use the <code>LocalValidatorFactoryBean</code> to configure a default JSR-303 Validator as a Spring bean:</p>\n<pre><code>&lt;bean id=&quot;validator&quot; class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot; /&gt;\n        \n</code></pre>\n<p>The basic configuration above will trigger JSR-303 to initialize using its default bootstrap mechanism. A JSR-303 provider, such as Hibernate Validator, is expected to be present in the classpath and will be detected automatically.</p>\n<h2>5.7.2.1 Injecting a Validator</h2>\n<p><code>LocalValidatorFactoryBean</code> implements both <code>javax.validation.Validator</code> and <code>org.springframework.validation.Validator</code>. You may inject a reference to one of these two interfaces into beans that need to invoke validation logic.</p>\n<p>Inject a reference to <code>javax.validation.Validator</code> if you prefer to work with the JSR-303 API directly:</p>\n<pre><code>// JSR-303 Validator\nimport javax.validation.Validator;\n\n@Service\npublic class MyService {\n\n    @Autowired\n    private Validator validator;\n\n}\n            \n</code></pre>\n<p>Inject a reference to <code>org.springframework.validation.Validator</code> if your bean requires the Spring Validation API:</p>\n<pre><code>// Spring Validator\nimport org.springframework.validation.Validator;\n\n@Service\npublic class MyService {\n\n    @Autowired\n    private Validator validator;\n\n}\n</code></pre>\n<p>Here is a well exaplained example:<br />\n<a href=\"http://nonrepeatable.blogspot.com/2010/04/using-jsr-303-with-classic-spring.html\" rel=\"nofollow noreferrer\">Using JSR 303 with &quot;classic&quot; Spring Validators (enter the SpringValidatorAdapter)</a></p>\n<blockquote>\n<p>This link is very helpful. Wrapping javax.validation.Validator in\norg.springframework.validation.beanvalidation.SpringValidatorAdapter\nhelped deal with errors consistently. Can you add this as an answer so\nthat I can accept it</p>\n</blockquote>\n<p>and\n<a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/reference/validation.html\" rel=\"nofollow noreferrer\">Spring doc here</a>.</p>\n"},{"tags":[],"owner":{"account_id":15699222,"reputation":370,"user_id":11327766,"display_name":"Hai Mai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679981702,"creation_date":1679981702,"answer_id":75862637,"question_id":28702809,"body_markdown":"To make sure it behaves like validation on fields of a POJO (exception, messages) you can use [DataBinder][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/DataBinder.html\r\n\r\n```java\r\nimport org.springframework.validation.Validator;\r\n\r\n@RestController\r\nclass Controller {\r\n\r\n  @Autowired\r\n  private Validator validator;\r\n\r\n  @RequestMapping(method = RequestMethod.POST)\r\n  @ResponseStatus(HttpStatus.CREATED)\r\n  Registration create() {\r\n    Registration registration = Registraction.getBuilder()....build();\r\n    DataBinder binder = new DataBinder(registration);\r\n    binder.setValidator(validator);\r\n    binder.validate();\r\n    if (binder.getBindingResult().hasErrors()) {\r\n      Method method = this.getClass().getMethod(&quot;create&quot;);\r\n      MethodParameter methodParameter = new MethodParameter(method, 0);\r\n      throw new MethodArgumentNotValidException(methodParameter, binder.getBindingResult());\r\n    }\r\n    return someService.create(registration);\r\n  }\r\n\r\n}\r\n```\r\n\r\n    ","title":"How to manually trigger Spring validation?","body":"<p>To make sure it behaves like validation on fields of a POJO (exception, messages) you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/DataBinder.html\" rel=\"nofollow noreferrer\">DataBinder</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.validation.Validator;\n\n@RestController\nclass Controller {\n\n  @Autowired\n  private Validator validator;\n\n  @RequestMapping(method = RequestMethod.POST)\n  @ResponseStatus(HttpStatus.CREATED)\n  Registration create() {\n    Registration registration = Registraction.getBuilder()....build();\n    DataBinder binder = new DataBinder(registration);\n    binder.setValidator(validator);\n    binder.validate();\n    if (binder.getBindingResult().hasErrors()) {\n      Method method = this.getClass().getMethod(&quot;create&quot;);\n      MethodParameter methodParameter = new MethodParameter(method, 0);\n      throw new MethodArgumentNotValidException(methodParameter, binder.getBindingResult());\n    }\n    return someService.create(registration);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":372166,"reputation":3335,"user_id":721064,"accept_rate":62,"display_name":"Srini K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50112,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":28704025,"answer_count":2,"score":35,"last_activity_date":1681233543,"creation_date":1424800277,"question_id":28702809,"body_markdown":"The annotated Spring validation on fields of a POJO works when it is created from JSON request body. However, when I create the same object manually (using setters) and want to trigger validation, I&#39;m not sure how to do that.\r\n\r\nHere is the `Registration` class, which has `Builder` inner class that can build the object. In the `build()` method I would like to trigger Spring validation. Please scroll to the bottom and check `Builder.build()` and `Builder.validate()` methods to see current implementation. I&#39;m using `javax.validation.Validator` to trigger validation, but I prefer to leverage Spring validation if possible.\r\n\r\n    package com.projcore.dao;\r\n\r\n    import com.projcore.util.ToString;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import org.hibernate.validator.constraints.NotEmpty;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Valid;\r\n    import javax.validation.Validation;\r\n    import javax.validation.Validator;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n\r\n    /**\r\n     * The data transfer object that contains the information of a Registration\r\n     * and validation rules for attributes.\r\n     */\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public final class Registration {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Registration.class);\r\n\r\n        private String id;\r\n\r\n        @NotEmpty\r\n        @Size(max = 255)\r\n        private String messageId;\r\n\r\n        @NotEmpty\r\n        @Size(max = 255)\r\n        private String version;\r\n\r\n        @Size(max = 255)\r\n        private String system;\r\n\r\n        public Registration() {\r\n        }\r\n\r\n        private Registration(Builder builder) {\r\n            this.id = builder.id;\r\n            this.messageId = builder.messageId;\r\n            this.version = builder.version;\r\n            this.system = builder.system;\r\n        }\r\n\r\n        public static Builder getBuilder() {\r\n            return new Builder();\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getMessageId() {\r\n            return messageId;\r\n        }\r\n\r\n        public void setMessageId(String messageId) {\r\n            this.messageId = messageId;\r\n        }\r\n\r\n        public String getVersion() {\r\n            return version;\r\n        }\r\n\r\n        public void setVersion(String version) {\r\n            this.version = version;\r\n        }\r\n\r\n        public String getSystem() {\r\n            return system;\r\n        }\r\n\r\n        public void setSystem(String system) {\r\n            this.system = system;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return ToString.create(this);\r\n        }\r\n\r\n        /**\r\n         * Builder pattern makes the object easier to construct in one line.\r\n         */\r\n        public static class Builder {\r\n\r\n            private String id;\r\n\r\n            private String messageId;\r\n\r\n            private String version;\r\n\r\n            private String system;\r\n\r\n            private Builder() {}\r\n\r\n            public Builder id(String id) {\r\n                this.id = id;\r\n                return this;\r\n            }\r\n\r\n            public Builder messageId(String messageId) {\r\n                this.messageId = messageId;\r\n                return this;\r\n            }\r\n\r\n\r\n            public Builder version(String version) {\r\n                this.version = version;\r\n                return this;\r\n            }\r\n\r\n            public Builder system(String system) {\r\n                this.system = system;\r\n                return this;\r\n            }\r\n\r\n            public Registration build() {\r\n                Registration entry = new Registration(this);\r\n            \r\n                // *** Would like to trigger Spring validation here ***\r\n                Set violations = validate(entry);\r\n                if (violations.isEmpty())\r\n                    return entry;\r\n                else\r\n                    throw new RuntimeException(violations.toString());\r\n            }\r\n        \r\n            private Set validate(Registration entry) {\r\n                Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n                Set&lt;ConstraintViolation&lt;Registration&gt;&gt; constraintViolations = validator.validate(entry);\r\n                return constraintViolations;\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n\r\nValidation works fine here: \r\n\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    Registration create(@RequestBody @Valid Registration registration) \r\n\r\n--------------------------------------------------------------------------\r\n\r\n# Solution: \r\n\r\nRemoved `Registraion.Builder.validate()`. Updated `Registraion.Builder.build()` to:\r\n\r\n    public Registration build() {\r\n        Registration entry = new Registration(this);\r\n        return (Registration) ValidatorUtil.validate(entry);\r\n    }\r\n\r\n*ValidatorUtil.java*\r\n\r\n    package projcore.util;\r\n\r\n    import com.ericsson.admcore.error.InvalidDataException;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.validation.BeanPropertyBindingResult;\r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.validation.beanvalidation.SpringValidatorAdapter;\r\n\r\n    import javax.validation.Validation;\r\n    import javax.validation.Validator;\r\n    import java.util.Set;\r\n\r\n    public class ValidatorUtil {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(ValidatorUtil.class);\r\n        private static final Validator javaxValidator = Validation.buildDefaultValidatorFactory().getValidator();\r\n        private static final SpringValidatorAdapter validator = new SpringValidatorAdapter(javaxValidator);\r\n\r\n        public static Object validate(Object entry) {\r\n            Errors errors = new BeanPropertyBindingResult(entry, entry.getClass().getName());\r\n            validator.validate(entry, errors);\r\n            if (errors == null || errors.getAllErrors().isEmpty())\r\n                return entry;\r\n            else {\r\n                LOGGER.error(errors.toString());\r\n                throw new InvalidDataException(errors.getAllErrors().toString(), errors);\r\n            }\r\n        }\r\n    }\r\n\r\n*InvalidDataException.java*\r\n\r\n    package projcore.error;\r\n\r\n    import org.springframework.validation.Errors;\r\n\r\n    /**\r\n     * This exception is thrown when the dao has invalid data.\r\n     */\r\n    public class InvalidDataException extends RuntimeException {\r\n\r\n        private Errors errors;\r\n\r\n        public InvalidDataException(String msg, Errors errors) {\r\n            super(msg);\r\n            setErrors(errors);\r\n        }\r\n\r\n        public Errors getErrors() {\r\n            return errors;\r\n        }\r\n\r\n        public void setErrors(Errors errors) {\r\n            this.errors = errors;\r\n        }\r\n    }\r\n","title":"How to manually trigger Spring validation?","body":"<p>The annotated Spring validation on fields of a POJO works when it is created from JSON request body. However, when I create the same object manually (using setters) and want to trigger validation, I'm not sure how to do that.</p>\n<p>Here is the <code>Registration</code> class, which has <code>Builder</code> inner class that can build the object. In the <code>build()</code> method I would like to trigger Spring validation. Please scroll to the bottom and check <code>Builder.build()</code> and <code>Builder.validate()</code> methods to see current implementation. I'm using <code>javax.validation.Validator</code> to trigger validation, but I prefer to leverage Spring validation if possible.</p>\n<pre><code>package com.projcore.dao;\n\nimport com.projcore.util.ToString;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport org.hibernate.validator.constraints.NotEmpty;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Valid;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.constraints.Size;\nimport java.util.List;\nimport java.util.Set;\n\n/**\n * The data transfer object that contains the information of a Registration\n * and validation rules for attributes.\n */\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic final class Registration {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Registration.class);\n\n    private String id;\n\n    @NotEmpty\n    @Size(max = 255)\n    private String messageId;\n\n    @NotEmpty\n    @Size(max = 255)\n    private String version;\n\n    @Size(max = 255)\n    private String system;\n\n    public Registration() {\n    }\n\n    private Registration(Builder builder) {\n        this.id = builder.id;\n        this.messageId = builder.messageId;\n        this.version = builder.version;\n        this.system = builder.system;\n    }\n\n    public static Builder getBuilder() {\n        return new Builder();\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getMessageId() {\n        return messageId;\n    }\n\n    public void setMessageId(String messageId) {\n        this.messageId = messageId;\n    }\n\n    public String getVersion() {\n        return version;\n    }\n\n    public void setVersion(String version) {\n        this.version = version;\n    }\n\n    public String getSystem() {\n        return system;\n    }\n\n    public void setSystem(String system) {\n        this.system = system;\n    }\n\n    @Override\n    public String toString() {\n        return ToString.create(this);\n    }\n\n    /**\n     * Builder pattern makes the object easier to construct in one line.\n     */\n    public static class Builder {\n\n        private String id;\n\n        private String messageId;\n\n        private String version;\n\n        private String system;\n\n        private Builder() {}\n\n        public Builder id(String id) {\n            this.id = id;\n            return this;\n        }\n\n        public Builder messageId(String messageId) {\n            this.messageId = messageId;\n            return this;\n        }\n\n\n        public Builder version(String version) {\n            this.version = version;\n            return this;\n        }\n\n        public Builder system(String system) {\n            this.system = system;\n            return this;\n        }\n\n        public Registration build() {\n            Registration entry = new Registration(this);\n        \n            // *** Would like to trigger Spring validation here ***\n            Set violations = validate(entry);\n            if (violations.isEmpty())\n                return entry;\n            else\n                throw new RuntimeException(violations.toString());\n        }\n    \n        private Set validate(Registration entry) {\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n            Set&lt;ConstraintViolation&lt;Registration&gt;&gt; constraintViolations = validator.validate(entry);\n            return constraintViolations;\n        }\n        \n    }\n}\n</code></pre>\n<p>Validation works fine here:</p>\n<pre><code>@RequestMapping(method = RequestMethod.POST)\n@ResponseStatus(HttpStatus.CREATED)\nRegistration create(@RequestBody @Valid Registration registration) \n</code></pre>\n<hr />\n<h1>Solution:</h1>\n<p>Removed <code>Registraion.Builder.validate()</code>. Updated <code>Registraion.Builder.build()</code> to:</p>\n<pre><code>public Registration build() {\n    Registration entry = new Registration(this);\n    return (Registration) ValidatorUtil.validate(entry);\n}\n</code></pre>\n<p><em>ValidatorUtil.java</em></p>\n<pre><code>package projcore.util;\n\nimport com.ericsson.admcore.error.InvalidDataException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Service;\nimport org.springframework.validation.BeanPropertyBindingResult;\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.beanvalidation.SpringValidatorAdapter;\n\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport java.util.Set;\n\npublic class ValidatorUtil {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ValidatorUtil.class);\n    private static final Validator javaxValidator = Validation.buildDefaultValidatorFactory().getValidator();\n    private static final SpringValidatorAdapter validator = new SpringValidatorAdapter(javaxValidator);\n\n    public static Object validate(Object entry) {\n        Errors errors = new BeanPropertyBindingResult(entry, entry.getClass().getName());\n        validator.validate(entry, errors);\n        if (errors == null || errors.getAllErrors().isEmpty())\n            return entry;\n        else {\n            LOGGER.error(errors.toString());\n            throw new InvalidDataException(errors.getAllErrors().toString(), errors);\n        }\n    }\n}\n</code></pre>\n<p><em>InvalidDataException.java</em></p>\n<pre><code>package projcore.error;\n\nimport org.springframework.validation.Errors;\n\n/**\n * This exception is thrown when the dao has invalid data.\n */\npublic class InvalidDataException extends RuntimeException {\n\n    private Errors errors;\n\n    public InvalidDataException(String msg, Errors errors) {\n        super(msg);\n        setErrors(errors);\n    }\n\n    public Errors getErrors() {\n        return errors;\n    }\n\n    public void setErrors(Errors errors) {\n        this.errors = errors;\n    }\n}\n</code></pre>\n"},{"tags":["java","double","bigdecimal","divide","incompatibletypeerror"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1515755335,"post_id":48224886,"comment_id":83431532,"body_markdown":"Have you tried `return BigDecimal.valueOf(53360 * sqrt(640320)).divide(computeS(a), a, RoundingMode.HALF_DOWN).doubleValue();` - i.e. add `.doubleValue()` to the expression.","body":"Have you tried <code>return BigDecimal.valueOf(53360 * sqrt(640320)).divide(computeS(a), a, RoundingMode.HALF_DOWN).doubleValue();</code> - i.e. add <code>.doubleValue()</code> to the expression."},{"owner":{"account_id":12670621,"reputation":39,"user_id":9208292,"display_name":"STTR13"},"score":0,"creation_date":1515755534,"post_id":48224886,"comment_id":83431640,"body_markdown":"Ahno ok ^^&#39; I didn&#39;t catch that the espected return value was set to double!","body":"Ahno ok ^^&#39; I didn&#39;t catch that the espected return value was set to double!"}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1515755422,"creation_date":1515755422,"answer_id":48225049,"question_id":48224886,"body_markdown":"The problem is not with the `divide` method, the problem is that your `pi` method must return a `double`, but you are returning a `BigDecimal` .\r\n\r\nReturn the `double` you get by calling [doubleValue()][1] on it .\r\n\r\n\r\n    return (BigDecimal.valueOf(53360*sqrt(640320))).divide(computeS(a),a,RoundingMode.HALF_DOWN).doubleValue();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#doubleValue()","title":"BigDecimal.divide(BD,int,RM) - BigDecimal cannot be converted to double error","body":"<p>The problem is not with the <code>divide</code> method, the problem is that your <code>pi</code> method must return a <code>double</code>, but you are returning a <code>BigDecimal</code> .</p>\n\n<p>Return the <code>double</code> you get by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#doubleValue()\" rel=\"nofollow noreferrer\">doubleValue()</a> on it .</p>\n\n<pre><code>return (BigDecimal.valueOf(53360*sqrt(640320))).divide(computeS(a),a,RoundingMode.HALF_DOWN).doubleValue();\n</code></pre>\n"}],"owner":{"account_id":12670621,"reputation":39,"user_id":9208292,"display_name":"STTR13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48225049,"answer_count":1,"score":1,"last_activity_date":1681233031,"creation_date":1515754862,"question_id":48224886,"body_markdown":"The situation:\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n      public static double pi(int a) {\r\n        return (BigDecimal.valueOf(53360*sqrt(640320))).divide(computeS(a),a,RoundingMode.HALF_DOWN);\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nwith: `private static BigDecimal computeS(int a)`\r\n\r\n[![and here is the terminal][1]][1]\r\n\r\nThe problem is that while I compile the program it make a incompatible types error telling me that &quot;`BigDecimal cannot be converted to double`&quot; which seem to be a nonsense when you know that `BigDecimal.divide(BigDecimal,int,RoundingMode)` doesn&#39;t need any double and his polymorphic methods neither...\r\n\r\nSo I&#39;m a bit stuck here. Can anyone help? Thanks!\r\n\r\nPS: I also tried to put a double instead of a BigDecimal but as expected: \r\n[![terminal][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dpEXN.png\r\n  [2]: https://i.stack.imgur.com/Pfo1B.png","title":"BigDecimal.divide(BD,int,RM) - BigDecimal cannot be converted to double error","body":"<p>The situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static double pi(int a) {\n    return (BigDecimal.valueOf(53360*sqrt(640320))).divide(computeS(a),a,RoundingMode.HALF_DOWN);\n  }\n</code></pre>\n<p>with: <code>private static BigDecimal computeS(int a)</code></p>\n<p><a href=\"https://i.stack.imgur.com/dpEXN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpEXN.png\" alt=\"and here is the terminal\" /></a></p>\n<p>The problem is that while I compile the program it make a incompatible types error telling me that &quot;<code>BigDecimal cannot be converted to double</code>&quot; which seem to be a nonsense when you know that <code>BigDecimal.divide(BigDecimal,int,RoundingMode)</code> doesn't need any double and his polymorphic methods neither...</p>\n<p>So I'm a bit stuck here. Can anyone help? Thanks!</p>\n<p>PS: I also tried to put a double instead of a BigDecimal but as expected:\n<a href=\"https://i.stack.imgur.com/Pfo1B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pfo1B.png\" alt=\"terminal\" /></a></p>\n"},{"tags":["java","lucene"],"owner":{"account_id":7516541,"reputation":21,"user_id":5709771,"display_name":"Karev Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681232868,"creation_date":1681232868,"question_id":75988479,"body_markdown":"I want to get high frequency words in specific index with special filter.\r\nLibrary lucene-analysis-common has pre-built function getHighFreqTerms in HighFreqTerms class.\r\n\r\n`HighFreqTerms.getHighFreqTerms(indexReader, resultCount, FieldName, comparator)`\r\nbut it&#39;s analyze the whole index.\r\n\r\nIn my case, I want get the most used words in different periods (last hour, week, month.. etc)\r\n\r\n(LongField is already created as Date interpreter in ms)\r\n\r\nGoogle-Searching and reading the sources of lucene - no results.\r\n\r\nI have only one bad idea:\r\ncreate different indexes for every period. for example:\r\nWEEK_INDEX\r\nMONTH_INDEX\r\nDAY_INDEX\r\nand create duplicates on every new document.","title":"How get high frequency words in index with specific filter?","body":"<p>I want to get high frequency words in specific index with special filter.\nLibrary lucene-analysis-common has pre-built function getHighFreqTerms in HighFreqTerms class.</p>\n<p><code>HighFreqTerms.getHighFreqTerms(indexReader, resultCount, FieldName, comparator)</code>\nbut it's analyze the whole index.</p>\n<p>In my case, I want get the most used words in different periods (last hour, week, month.. etc)</p>\n<p>(LongField is already created as Date interpreter in ms)</p>\n<p>Google-Searching and reading the sources of lucene - no results.</p>\n<p>I have only one bad idea:\ncreate different indexes for every period. for example:\nWEEK_INDEX\nMONTH_INDEX\nDAY_INDEX\nand create duplicates on every new document.</p>\n"},{"tags":["java","spring-boot","logging"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1535037705,"post_id":51988921,"comment_id":90927958,"body_markdown":"are you trying to set the root level? `logging.level.root=debug` The arguments after the `level.` should be a package or the root logger that you want to configure. THis is likely cause by how bindings have changed in boot 2","body":"are you trying to set the root level? <code>logging.level.root=debug</code> The arguments after the <code>level.</code> should be a package or the root logger that you want to configure. THis is likely cause by how bindings have changed in boot 2"},{"owner":{"account_id":14209976,"reputation":123,"user_id":10265500,"display_name":"CostelD"},"score":0,"creation_date":1535099603,"post_id":51988921,"comment_id":90949946,"body_markdown":"I trying to use a `property.*` .. like `dosomestuf.*=true` and is not working","body":"I trying to use a <code>property.*</code> .. like <code>dosomestuf.*=true</code> and is not working"},{"owner":{"account_id":503462,"reputation":64,"user_id":2055513,"accept_rate":25,"display_name":"ClioCJS"},"score":0,"creation_date":1686737000,"post_id":51988921,"comment_id":134839159,"body_markdown":"I&#39;m looking for an answer for why this would happen when you&#39;re dealing with a java-based EXE file that hasn&#39;t changed in the slightest. Why would this error happen after a reboot if it has nothing to do with a code change?","body":"I&#39;m looking for an answer for why this would happen when you&#39;re dealing with a java-based EXE file that hasn&#39;t changed in the slightest. Why would this error happen after a reboot if it has nothing to do with a code change?"}],"answers":[{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1582543984,"creation_date":1535041772,"answer_id":51990403,"question_id":51988921,"body_markdown":"You need to explicitly mention logger name, if you are using SpringBoot 2.x.x, which you can notice when you compare documentation of both the versions.\r\n\r\n**[SpringBoot 2.0.0][1]**\r\n\r\n&gt; ... using `logging.level.&lt;logger-name&gt;=&lt;level&gt;` where level is one of\r\n&gt; TRACE, DEBUG, INFO, WARN, ERROR, FATAL, or OFF. ...\r\n\r\nEg:\r\n\r\n    logging.level.root=WARN\r\n\r\n**[SpringBoot 1.5.4][2]**\r\n\r\n&gt; ... `logging.level.*=LEVEL` where &#39;LEVEL&#39; is one of TRACE, DEBUG, INFO,\r\n&gt; WARN, ERROR, FATAL, OFF...\r\n\r\nEg:\r\n\r\n    logging.level.*=WARN\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/htmlsingle/","title":"Failed to bind properties under logging.level.* or someproperty.*=some_value","body":"<p>You need to explicitly mention logger name, if you are using SpringBoot 2.x.x, which you can notice when you compare documentation of both the versions.</p>\n\n<p><strong><a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/\" rel=\"noreferrer\">SpringBoot 2.0.0</a></strong></p>\n\n<blockquote>\n  <p>... using <code>logging.level.&lt;logger-name&gt;=&lt;level&gt;</code> where level is one of\n  TRACE, DEBUG, INFO, WARN, ERROR, FATAL, or OFF. ...</p>\n</blockquote>\n\n<p>Eg:</p>\n\n<pre><code>logging.level.root=WARN\n</code></pre>\n\n<p><strong><a href=\"https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/htmlsingle/\" rel=\"noreferrer\">SpringBoot 1.5.4</a></strong></p>\n\n<blockquote>\n  <p>... <code>logging.level.*=LEVEL</code> where 'LEVEL' is one of TRACE, DEBUG, INFO,\n  WARN, ERROR, FATAL, OFF...</p>\n</blockquote>\n\n<p>Eg:</p>\n\n<pre><code>logging.level.*=WARN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12395182,"reputation":51,"user_id":9035375,"display_name":"Enzo Lopes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677742668,"creation_date":1677703967,"answer_id":75608903,"question_id":51988921,"body_markdown":"I just wanted to add that if you are using environment variables then be careful not to set it&#39;s name as &quot;LOGGING_LEVEL&quot;.\r\n\r\nSo like, never do this:\r\nlogging.level.root=${LOGGING_LEVEL}\r\n\r\nI say this cause spring as default sets your environment variables as properties internally and will understand ${LOGGING_LEVEL} as logging.level=&quot;actualEnvValue&quot;, which will cause the exact same error the OP had and can be quite misleading, I have been at it all day.\r\n\r\nAnyway, just be sure to name your variable some other thing like MY_LOGGING_LEVEL or ENV_LOGGING_LEVEL or LOGGING_LEVEL_ROOT.\r\n\r\nThis is the source that helped me:\r\nhttps://github.com/spring-cloud/spring-cloud-sleuth/issues/1592","title":"Failed to bind properties under logging.level.* or someproperty.*=some_value","body":"<p>I just wanted to add that if you are using environment variables then be careful not to set it's name as &quot;LOGGING_LEVEL&quot;.</p>\n<p>So like, never do this:\nlogging.level.root=${LOGGING_LEVEL}</p>\n<p>I say this cause spring as default sets your environment variables as properties internally and will understand ${LOGGING_LEVEL} as logging.level=&quot;actualEnvValue&quot;, which will cause the exact same error the OP had and can be quite misleading, I have been at it all day.</p>\n<p>Anyway, just be sure to name your variable some other thing like MY_LOGGING_LEVEL or ENV_LOGGING_LEVEL or LOGGING_LEVEL_ROOT.</p>\n<p>This is the source that helped me:\n<a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/issues/1592\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-sleuth/issues/1592</a></p>\n"},{"tags":[],"owner":{"account_id":19148359,"reputation":155,"user_id":13986798,"display_name":"Sanjay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681232751,"creation_date":1681232751,"answer_id":75988465,"question_id":51988921,"body_markdown":"Open Below Path\r\n\r\n    project_base_dir/src/main/resources/application.properties\r\n\r\nand add below line\r\n\r\n    logging.level.root=INFO\r\n\r\n\r\n","title":"Failed to bind properties under logging.level.* or someproperty.*=some_value","body":"<p>Open Below Path</p>\n<pre><code>project_base_dir/src/main/resources/application.properties\n</code></pre>\n<p>and add below line</p>\n<pre><code>logging.level.root=INFO\n</code></pre>\n"}],"owner":{"account_id":14209976,"reputation":123,"user_id":10265500,"display_name":"CostelD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27724,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":51990403,"answer_count":3,"score":11,"last_activity_date":1681232751,"creation_date":1535036847,"question_id":51988921,"body_markdown":"After i migrated from Spring boot 1.5 to 2.x i have the below problem:\r\n\r\n    APPLICATION FAILED TO START\r\n    \r\n    Description:\r\n    Failed to bind properties under logging.level to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\r\n    \r\n    Reason: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\r\n    \r\n    Action:\r\n    \r\n    Update your application&#39;s configuration\r\n\r\nIn properties I have\r\n\r\n    logging.level.*=debug\r\n\r\nIt works if I go back to version 1.5.x \r\nCan anyone point me in the right way?\r\n\r\nUPDATE :\r\nThe same problem happens when I use \r\n\r\n    someproperty.*=some_value\r\n\r\nThat means the `.*=` is not supported in SpringBoot 2.0 ?\r\n","title":"Failed to bind properties under logging.level.* or someproperty.*=some_value","body":"<p>After i migrated from Spring boot 1.5 to 2.x i have the below problem:</p>\n\n<pre><code>APPLICATION FAILED TO START\n\nDescription:\nFailed to bind properties under logging.level to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\n\nReason: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n\n<p>In properties I have</p>\n\n<pre><code>logging.level.*=debug\n</code></pre>\n\n<p>It works if I go back to version 1.5.x \nCan anyone point me in the right way?</p>\n\n<p>UPDATE :\nThe same problem happens when I use </p>\n\n<pre><code>someproperty.*=some_value\n</code></pre>\n\n<p>That means the <code>.*=</code> is not supported in SpringBoot 2.0 ?</p>\n"},{"tags":["java","ajax","spring","spring-boot","httpsession"],"owner":{"account_id":28277152,"reputation":1,"user_id":21619444,"display_name":"HajBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681232262,"creation_date":1681232262,"question_id":75988407,"body_markdown":"I am developing an e-commerce web app using spring boot, mysql and thymeleaf. I was able to add product to cart using HttpSession but the problem is that I have to click on refresh button before am able to view the added product on the cart. I am using HttpSession because I want the guest users should be able to add to cart without login. I would like to view the product added to cart once the button is click without refreshing the page.\r\nPlease i need someone to help me out.\r\n\r\n\r\n```\r\n    @GetMapping(&quot;/customers/add/cart&quot;)\r\n    @ResponseBody\r\n    public ModelAndView addProductToCart(String productId, int quantity, HttpSession session) {\r\n\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        try {\r\n            Product product = productService.getProduct(productId);\r\n            if (session.getAttribute(&quot;cart&quot;) == null) {\r\n                List&lt;CartItem&gt; cartItems = new ArrayList&lt;&gt;();\r\n                cartItems.add(new CartItem(product, quantity));\r\n                session.setAttribute(&quot;cart&quot;, cartItems);\r\n            } else {\r\n                List&lt;CartItem&gt; cartItems = (List&lt;CartItem&gt;) session.getAttribute(&quot;cart&quot;);\r\n                int index = this.exists(productId, cartItems);\r\n                if (index == -1) {\r\n                    cartItems.add(new CartItem(product, quantity));\r\n                } else {\r\n                    int qty = cartItems.get(index).getQuantity() + 1;\r\n                    cartItems.get(index).setQuantity(qty);\r\n                }\r\n                session.setAttribute(&quot;cart&quot;, cartItems);\r\n            }\r\n            modelAndView.setViewName(&quot;redirect:/products/detail/&quot; + productId);\r\n            //modelAndView.setViewName(&quot;redirect:/index&quot;);\r\n            return modelAndView;\r\n        } catch (ProductNotFoundException e) {\r\n            modelAndView.setViewName(&quot;error/404&quot;);\r\n            return modelAndView;\r\n        }\r\n    }\r\n\r\n\r\n     private int exists(String id, List&lt;CartItem&gt; cartItems) {\r\n        for (int i = 0; i &lt; cartItems.size(); i++) {\r\n            if (cartItems.get(i).getProduct().getProductId().equalsIgnoreCase(id)) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n```\r\n\r\nAJAX function\r\n\r\n```\r\nfunction addToCart() {\r\n        $.ajax({\r\n            url: &quot;/customers/add/cart&quot;,\r\n            type: &#39;get&#39;,\r\n            data: {\r\n                quantity: function () {\r\n                    return $(&quot;#productQty&quot;).val();\r\n                },\r\n                productId: function () {\r\n                    return $(&quot;#productId&quot;).val();\r\n                },\r\n                _csrf: function () {\r\n                    return $(&quot;input[name=&#39;_csrf&#39;]&quot;).val();\r\n                }\r\n            },\r\n            error: function (jqXhr, status, errorMessage) {\r\n                $(&quot;#message&quot;).after(&#39;&lt;div class=&quot;alert alert-danger text-center&quot;&gt;Error&lt;/div&gt;&#39;)\r\n            },\r\n            success: function (data) {\r\n                //alert(data);\r\n               // $(&quot;#headerCartWrap&quot;).load(&quot;  #headerCartWrap&quot;)\r\n                $(&quot;#message&quot;).after(&#39;&lt;div class=&quot;alert alert-success text-center&quot;&gt;Product added to cart successfully&lt;/div&gt;&#39;)\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI was able to add product to cart using HttpSession but the problem is that I have to click on refresh button before am able to view the added product on the cart.","title":"Adding product to cart in Spring boot by guest users without login","body":"<p>I am developing an e-commerce web app using spring boot, mysql and thymeleaf. I was able to add product to cart using HttpSession but the problem is that I have to click on refresh button before am able to view the added product on the cart. I am using HttpSession because I want the guest users should be able to add to cart without login. I would like to view the product added to cart once the button is click without refreshing the page.\nPlease i need someone to help me out.</p>\n<pre><code>    @GetMapping(&quot;/customers/add/cart&quot;)\n    @ResponseBody\n    public ModelAndView addProductToCart(String productId, int quantity, HttpSession session) {\n\n        ModelAndView modelAndView = new ModelAndView();\n        try {\n            Product product = productService.getProduct(productId);\n            if (session.getAttribute(&quot;cart&quot;) == null) {\n                List&lt;CartItem&gt; cartItems = new ArrayList&lt;&gt;();\n                cartItems.add(new CartItem(product, quantity));\n                session.setAttribute(&quot;cart&quot;, cartItems);\n            } else {\n                List&lt;CartItem&gt; cartItems = (List&lt;CartItem&gt;) session.getAttribute(&quot;cart&quot;);\n                int index = this.exists(productId, cartItems);\n                if (index == -1) {\n                    cartItems.add(new CartItem(product, quantity));\n                } else {\n                    int qty = cartItems.get(index).getQuantity() + 1;\n                    cartItems.get(index).setQuantity(qty);\n                }\n                session.setAttribute(&quot;cart&quot;, cartItems);\n            }\n            modelAndView.setViewName(&quot;redirect:/products/detail/&quot; + productId);\n            //modelAndView.setViewName(&quot;redirect:/index&quot;);\n            return modelAndView;\n        } catch (ProductNotFoundException e) {\n            modelAndView.setViewName(&quot;error/404&quot;);\n            return modelAndView;\n        }\n    }\n\n\n     private int exists(String id, List&lt;CartItem&gt; cartItems) {\n        for (int i = 0; i &lt; cartItems.size(); i++) {\n            if (cartItems.get(i).getProduct().getProductId().equalsIgnoreCase(id)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n</code></pre>\n<p>AJAX function</p>\n<pre><code>function addToCart() {\n        $.ajax({\n            url: &quot;/customers/add/cart&quot;,\n            type: 'get',\n            data: {\n                quantity: function () {\n                    return $(&quot;#productQty&quot;).val();\n                },\n                productId: function () {\n                    return $(&quot;#productId&quot;).val();\n                },\n                _csrf: function () {\n                    return $(&quot;input[name='_csrf']&quot;).val();\n                }\n            },\n            error: function (jqXhr, status, errorMessage) {\n                $(&quot;#message&quot;).after('&lt;div class=&quot;alert alert-danger text-center&quot;&gt;Error&lt;/div&gt;')\n            },\n            success: function (data) {\n                //alert(data);\n               // $(&quot;#headerCartWrap&quot;).load(&quot;  #headerCartWrap&quot;)\n                $(&quot;#message&quot;).after('&lt;div class=&quot;alert alert-success text-center&quot;&gt;Product added to cart successfully&lt;/div&gt;')\n            }\n        });\n    }\n</code></pre>\n<p>I was able to add product to cart using HttpSession but the problem is that I have to click on refresh button before am able to view the added product on the cart.</p>\n"},{"tags":["java","logic","testng","testng-dataprovider","testng.xml"],"owner":{"account_id":3799607,"reputation":387,"user_id":3153599,"accept_rate":20,"display_name":"sougata das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681232252,"creation_date":1681232252,"question_id":75988405,"body_markdown":"I have a swing jTable where in I have a column where all the at the test methods are listed and another column having the class names where the @test methods reside.\r\nIs there any way that I can call the test methods of the particular classes from the Java swing project.","title":"Execute a testing.xml file from some other java project","body":"<p>I have a swing jTable where in I have a column where all the at the test methods are listed and another column having the class names where the @test methods reside.\nIs there any way that I can call the test methods of the particular classes from the Java swing project.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","primary-key"],"owner":{"account_id":24687279,"reputation":13,"user_id":18580290,"display_name":"salinda yasas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681231973,"creation_date":1681231973,"question_id":75988372,"body_markdown":"I need to create a primary key as Banner1, Banner2, Banner_3... For that I&#39;m using org.hibernate.id.enhanced.SequenceStyleGenerator .  Below I have attached the relevant code.\r\n\r\n```\r\npackage com.websafe.ccmsbe.entity;\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.MappingException;\r\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\r\nimport org.hibernate.id.enhanced.SequenceStyleGenerator;\r\nimport org.hibernate.jpa.internal.util.ConfigurationHelper;\r\nimport org.hibernate.service.ServiceRegistry;\r\nimport org.hibernate.type.LongType;\r\nimport org.hibernate.type.Type;\r\n\r\nimport java.util.Properties;\r\n\r\npublic class StringPrefixedSequenceGenerator extends SequenceStyleGenerator {\r\n\r\n    public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\r\n    public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\r\n    private String valuePrefix;\r\n\r\n    public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\r\n    public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\r\n    private String numberFormat;\r\n    @Override\r\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\r\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\r\n        valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER, params, VALUE_PREFIX_DEFAULT);\r\n        numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER, params, NUMBER_FORMAT_DEFAULT);\r\n    }\r\n\r\n    @Override\r\n    public Object generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\r\n        return valuePrefix + String.format(numberFormat, super.generate(session, object));\r\n    }\r\n}\r\n```\r\n\r\nThe problem occurs in configure method.\r\n\r\nvaluePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER, params, VALUE_PREFIX_DEFAULT);\r\nnumberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER, params, NUMBER_FORMAT_DEFAULT);\r\n\r\nIn this both lines ConfigurationHelper.getString() method doesn;t work. It displays &quot;No candidates found for the method call&quot;. Can anyone please help me to resolve this?\r\n\r\nI have attached the relevant entity class also below.\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity(name = &quot;CookieBanner&quot;)\r\n@Table(name = &quot;cookie_banner&quot;)\r\npublic class CookieBanner {\r\n    \r\n    @Id\r\n    @GeneratedValue(generator =&quot;banner_seq&quot;,strategy = GenerationType.SEQUENCE)\r\n   @GenericGenerator(name = &quot;banner_seq&quot;,strategy = &quot;com.websafe.ccmsbe.entity.StringPrefixedSequenceGenerator&quot;,parameters = {\r\n           @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceGenerator.INCREMENT_PARAM,value = &quot;1&quot;),\r\n           @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceGenerator.VALUE_PREFIX_PARAMETER, value = &quot;Banner_&quot;),\r\n           @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceGenerator.NUMBER_FORMAT_PARAMETER,value = &quot;%05d&quot;)\r\n   })\r\n    @Column(name = &quot;banner_id&quot;)\r\n    private String bannerId;\r\n    private String bannerPosition;\r\n    private String bannerColor;\r\n    private String bannerAlignment;\r\n\r\n    @OneToOne\r\n    @JoinColumn(\r\n            name = &quot;website_id&quot;,\r\n            referencedColumnName = &quot;websiteId&quot;,\r\n            foreignKey = @ForeignKey(name = &quot;fk_website_id_cb&quot;)\r\n    )\r\n    private Website website;\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;cookieBanner&quot;\r\n    )\r\n    private List&lt;CookieBannerTemplate&gt; cookieBannerTemplates = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nI tried changing the version number of hibernate in the pom.xml . but it didn&#39;t work. Current version I;m using is\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n   &lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to generate customized primary key generating in Spring Boot?","body":"<p>I need to create a primary key as Banner1, Banner2, Banner_3... For that I'm using org.hibernate.id.enhanced.SequenceStyleGenerator .  Below I have attached the relevant code.</p>\n<pre><code>package com.websafe.ccmsbe.entity;\nimport org.hibernate.HibernateException;\nimport org.hibernate.MappingException;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.enhanced.SequenceStyleGenerator;\nimport org.hibernate.jpa.internal.util.ConfigurationHelper;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.type.LongType;\nimport org.hibernate.type.Type;\n\nimport java.util.Properties;\n\npublic class StringPrefixedSequenceGenerator extends SequenceStyleGenerator {\n\n    public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\n    public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\n    private String valuePrefix;\n\n    public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\n    public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\n    private String numberFormat;\n    @Override\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\n        valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER, params, VALUE_PREFIX_DEFAULT);\n        numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER, params, NUMBER_FORMAT_DEFAULT);\n    }\n\n    @Override\n    public Object generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\n        return valuePrefix + String.format(numberFormat, super.generate(session, object));\n    }\n}\n</code></pre>\n<p>The problem occurs in configure method.</p>\n<p>valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER, params, VALUE_PREFIX_DEFAULT);\nnumberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER, params, NUMBER_FORMAT_DEFAULT);</p>\n<p>In this both lines ConfigurationHelper.getString() method doesn;t work. It displays &quot;No candidates found for the method call&quot;. Can anyone please help me to resolve this?</p>\n<p>I have attached the relevant entity class also below.</p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.GenericGenerator;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity(name = &quot;CookieBanner&quot;)\n@Table(name = &quot;cookie_banner&quot;)\npublic class CookieBanner {\n    \n    @Id\n    @GeneratedValue(generator =&quot;banner_seq&quot;,strategy = GenerationType.SEQUENCE)\n   @GenericGenerator(name = &quot;banner_seq&quot;,strategy = &quot;com.websafe.ccmsbe.entity.StringPrefixedSequenceGenerator&quot;,parameters = {\n           @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceGenerator.INCREMENT_PARAM,value = &quot;1&quot;),\n           @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceGenerator.VALUE_PREFIX_PARAMETER, value = &quot;Banner_&quot;),\n           @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceGenerator.NUMBER_FORMAT_PARAMETER,value = &quot;%05d&quot;)\n   })\n    @Column(name = &quot;banner_id&quot;)\n    private String bannerId;\n    private String bannerPosition;\n    private String bannerColor;\n    private String bannerAlignment;\n\n    @OneToOne\n    @JoinColumn(\n            name = &quot;website_id&quot;,\n            referencedColumnName = &quot;websiteId&quot;,\n            foreignKey = @ForeignKey(name = &quot;fk_website_id_cb&quot;)\n    )\n    private Website website;\n\n    @OneToMany(\n            mappedBy = &quot;cookieBanner&quot;\n    )\n    private List&lt;CookieBannerTemplate&gt; cookieBannerTemplates = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>I tried changing the version number of hibernate in the pom.xml . but it didn't work. Current version I;m using is</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;5.6.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","logging","log4j2","jboss7.x"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681311829,"post_id":75988344,"comment_id":134036676,"body_markdown":"Is the file itself created?","body":"Is the file itself created?"}],"owner":{"account_id":8827261,"reputation":913,"user_id":6595116,"accept_rate":95,"display_name":"TimeToCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681231731,"creation_date":1681231731,"question_id":75988344,"body_markdown":"I&#39;m trying to configure Log4j2 for my application. I want to define two appenders, one for console and another for the log file, both in `INFO` level.\r\n\r\nI&#39;m using JBoss EAP 7.4 to deploy my application, I&#39;ve excluded the JBoss logging subsystem already.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\r\n    \t&lt;deployment&gt;\r\n    \t\t&lt;exclude-subsystems&gt;\r\n    \t\t\t&lt;subsystem name=&quot;logging&quot; /&gt;\r\n    \t\t&lt;/exclude-subsystems&gt;\r\n    \t&lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nThis is my log4j2.xml configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%m%n&quot; /&gt;\r\n            &lt;/Console&gt;\r\n            &lt;File name=&quot;File&quot; fileName=&quot;${jboss.server.log.dir}/srcu/srcu.log&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%m%n&quot; /&gt;\r\n            &lt;/File&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n    \t\t&lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nSo far it&#39;s only showing to the console, but to the log file it&#39;s not writing anything. This is how I&#39;m using the `Logger` in my app:\r\n    \r\n    public class ExampleServiceImpl implements ExampleService {\r\n    \r\n        private static final Logger LOGGER = LogManager.getRootLogger();\r\n    \r\n        @GET\r\n        @Path(&quot;/getListData&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Override\r\n        public ExampleResp getListData() {\r\n            LOGGER.info(&quot;Inside of getListData method&quot;);\r\n            ExampleDAOImpl exampleDAOImpl = new ExampleDAOImpl();\r\n            ExampleResp resp = new ExampleResp();\r\n            resp.setListData(exampleDAOImpl.getData());\r\n            return resp;\r\n        }\r\n    \r\n    }","title":"Log4j2 logger isn&#39;t writing in log file","body":"<p>I'm trying to configure Log4j2 for my application. I want to define two appenders, one for console and another for the log file, both in <code>INFO</code> level.</p>\n<p>I'm using JBoss EAP 7.4 to deploy my application, I've excluded the JBoss logging subsystem already.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\n    &lt;deployment&gt;\n        &lt;exclude-subsystems&gt;\n            &lt;subsystem name=&quot;logging&quot; /&gt;\n        &lt;/exclude-subsystems&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>This is my log4j2.xml configuration file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%m%n&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;File name=&quot;File&quot; fileName=&quot;${jboss.server.log.dir}/srcu/srcu.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%m%n&quot; /&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;File&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>So far it's only showing to the console, but to the log file it's not writing anything. This is how I'm using the <code>Logger</code> in my app:</p>\n<pre><code>public class ExampleServiceImpl implements ExampleService {\n\n    private static final Logger LOGGER = LogManager.getRootLogger();\n\n    @GET\n    @Path(&quot;/getListData&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Override\n    public ExampleResp getListData() {\n        LOGGER.info(&quot;Inside of getListData method&quot;);\n        ExampleDAOImpl exampleDAOImpl = new ExampleDAOImpl();\n        ExampleResp resp = new ExampleResp();\n        resp.setListData(exampleDAOImpl.getData());\n        return resp;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","batch-file","cmd","environment-variables","jflex"],"owner":{"account_id":18074902,"reputation":39,"user_id":13138462,"display_name":"Elena Asi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681231704,"creation_date":1681231704,"question_id":75988338,"body_markdown":"So, I watched a few YouTube videos and read a few Stack overflow answers, and here is what I&#39;ve done so far for paths in the environment variables:\r\nJAVA_HOME:\r\n\r\n    C:\\Xilinx\\14.7\\ISE_DS\\ISE\\java6\\nt64\\jre\\bin\\java.exe\r\n\r\nJFLEX_HOME:\r\n\r\n    C:\\jflex-1.9.1\r\n\r\npath:\r\n\r\n    C:\\jflex-1.9.1\\bin\r\n\r\nI&#39;m using the eclipse 2022-12 version, so I did not install anything while installing it.\r\nThese are the errors it gives me:\r\n\r\n    &#39;JFLEX_HOME&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    &#39;JFLEX_VERSION&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    &#39;java&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n\r\nPlease, I&#39;d be so thankful if you&#39;d help me.\r\n\r\n\r\n","title":"adding environment variables does not work for JFLEX windows 10","body":"<p>So, I watched a few YouTube videos and read a few Stack overflow answers, and here is what I've done so far for paths in the environment variables:\nJAVA_HOME:</p>\n<pre><code>C:\\Xilinx\\14.7\\ISE_DS\\ISE\\java6\\nt64\\jre\\bin\\java.exe\n</code></pre>\n<p>JFLEX_HOME:</p>\n<pre><code>C:\\jflex-1.9.1\n</code></pre>\n<p>path:</p>\n<pre><code>C:\\jflex-1.9.1\\bin\n</code></pre>\n<p>I'm using the eclipse 2022-12 version, so I did not install anything while installing it.\nThese are the errors it gives me:</p>\n<pre><code>'JFLEX_HOME' is not recognized as an internal or external command,\noperable program or batch file.\n'JFLEX_VERSION' is not recognized as an internal or external command,\noperable program or batch file.\n'java' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n<p>Please, I'd be so thankful if you'd help me.</p>\n"},{"tags":["java","hibernate","jpa","orm","querydsl"],"answers":[{"tags":[],"owner":{"account_id":14593952,"reputation":66,"user_id":10540300,"display_name":"mahdi nezhadasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681231646,"creation_date":1681222422,"answer_id":75986912,"question_id":75986853,"body_markdown":"  Can you try this one and let me know if it is works or not ?\r\n\r\n    JPAQuery&lt;PersonEntity&gt; query = jpaQueryFactory.selectFrom(person).distinct()\r\n            .innerJoin(person.friendGroup, friendGroup).fetchJoin()\r\n            .innerJoin(friendGroup.name, friendGroupName).fetchJoin()\r\n            .leftJoin(friendGroup.friendOwner, friendOwner).fetchJoin() // Changed from friend to friendOwner\r\n            .leftJoin(friendGroup.friends, friend).fetchJoin()\r\n            .leftJoin(friend.friendIn, friendGroup).fetchJoin()\r\n            .leftJoin(friend.friendIn.name, friendGroupName).fetchJoin()\r\n            .fetch();","title":"QueryDSL cannot join fetch nested child elements","body":"<p>Can you try this one and let me know if it is works or not ?</p>\n<pre><code>JPAQuery&lt;PersonEntity&gt; query = jpaQueryFactory.selectFrom(person).distinct()\n        .innerJoin(person.friendGroup, friendGroup).fetchJoin()\n        .innerJoin(friendGroup.name, friendGroupName).fetchJoin()\n        .leftJoin(friendGroup.friendOwner, friendOwner).fetchJoin() // Changed from friend to friendOwner\n        .leftJoin(friendGroup.friends, friend).fetchJoin()\n        .leftJoin(friend.friendIn, friendGroup).fetchJoin()\n        .leftJoin(friend.friendIn.name, friendGroupName).fetchJoin()\n        .fetch();\n</code></pre>\n"}],"owner":{"account_id":28275674,"reputation":1,"user_id":21618186,"display_name":"NichlasLMC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681231646,"creation_date":1681222063,"question_id":75986853,"body_markdown":"Unable to to &quot;fetch join&quot; / eager load nested child elements. We need to fetch nested child elements to avoid N+1 problem.\r\nEnd up getting `org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list`\r\n\r\nWe have a pseudo datamodel as follows (Changing the model is not an option):\r\n\r\n```\r\n@Entity\r\n@QueryEntity\r\npublic class PersonEntity {\r\n    @OneToOne(mappedBy = &quot;person&quot;, fetch = FetchType.EAGER)\r\n    private FriendGroupEntity friendGroup;\r\n\r\n}\r\n\r\n@Entity\r\n@QueryEntity\r\npublic class FriendGroupEntity {\r\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;PERSON_FK&quot;, nullable = false)\r\n    private PersonEntity person;\r\n    \r\n    @OneToMany(mappedBy = &quot;friendIn&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;FriendEntity&gt; friends;\r\n\r\n    @OneToOne(mappedBy = &quot;friendOwnerIn&quot;, fetch = FetchType.LAZY)\r\n    @Fetch(FetchMode.JOIN)\r\n    private FriendEntity friendOwner;\r\n\r\n    @OneToOne(mappedBy = &quot;friendGroup&quot;, fetch = FetchType.LAZY)\r\n    private FriendGroupNameEntity groupName;\r\n}\r\n\r\n@Entity\r\n@QueryEntity\r\npublic class FriendGroupNameEntity {\r\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;FRIEND_GROUP_FK&quot;, nullable = false)\r\n    private FriendGroupEntity friendGroup;\r\n\r\n    @Column(name = &quot;name&quot;, length = 36, nullable = false)\r\n    private String name;\r\n}\r\n\r\npublic class FriendEntity {\r\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;FRIEND_IN_FK&quot;, nullable = false)\r\n    @Fetch(FetchMode.JOIN)\r\n    private FriendGroupEntity friendIn;\r\n\r\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;FRIEND_OWNER_IN&quot;, nullable = false)\r\n    private FriendGroupEntity friendOwnerIn;\r\n}\r\n```\r\n\r\nEssentially what we want to eager fetch is the a Persons Friend Group name + all friends and their Friend group name.\r\n\r\nTrying with a query dsl like this:\r\n```\r\nJPAQuery&lt;ParticipantEntity&gt; query = jpaQueryFactory.selectFrom(person).distinct()\r\n            .innerJoin(person.friendGroup, friendGroup).fetchJoin()\r\n            .innerJoin(friendGroup.name, friendGroupName).fetchJoin()\r\n            .leftJoin(friendGroup.friendOwner, friend).fetchJoin()     \r\n            .leftJoin(friendGroup.friends, friend).fetchJoin()\r\n            .leftJoin(friend.friendIn, friendGroup).fetchJoin()\r\n            .leftJoin(friend.friendIn.name, friendGroupName).fetchJoin()\r\n            .fetch()\r\n```\r\n\r\nWe get the `org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list`.\r\nWe have also tried using .join() however the problem is when looking at the outputtet SQL, we can see that when fetchJoin() is not used, the nested relations in the end is not beeing eager loaded and therefore not present in the &quot;select&quot; clause. \r\n\r\n\r\n```\r\norg.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=friendGroupNameEntity,role=FriendGroupEntity.name,tableName=friend_group_name,tableAlias=person17_,origin=friend_group person16_,columns={person16_.part_pmt_sys_assoc_sk,className=FriendGroupNameEntity}}] [select distinct PersonEntity\r\nfrom PersonEntity personEntity\r\n  inner join fetch personEntity.friendGroup as friendGroupEntity\r\n  inner join fetch friendGroupEntity.name as friendGroupNameEntity\r\n  left join fetch friendGroupEntity.friendOwner as friendOwnerEntity\r\n  left join fetch friendGroupEntity.friends as friendEntity\r\n  left join fetch friendEntity.friendIn as friendGroupEntity\r\n  left join fetch friendEntity.friendIn.name as friendGroupNameEntity\r\n```\r\n\r\nAny help appriciated. \r\n","title":"QueryDSL cannot join fetch nested child elements","body":"<p>Unable to to &quot;fetch join&quot; / eager load nested child elements. We need to fetch nested child elements to avoid N+1 problem.\nEnd up getting <code>org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list</code></p>\n<p>We have a pseudo datamodel as follows (Changing the model is not an option):</p>\n<pre><code>@Entity\n@QueryEntity\npublic class PersonEntity {\n    @OneToOne(mappedBy = &quot;person&quot;, fetch = FetchType.EAGER)\n    private FriendGroupEntity friendGroup;\n\n}\n\n@Entity\n@QueryEntity\npublic class FriendGroupEntity {\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PERSON_FK&quot;, nullable = false)\n    private PersonEntity person;\n    \n    @OneToMany(mappedBy = &quot;friendIn&quot;, fetch = FetchType.LAZY)\n    private List&lt;FriendEntity&gt; friends;\n\n    @OneToOne(mappedBy = &quot;friendOwnerIn&quot;, fetch = FetchType.LAZY)\n    @Fetch(FetchMode.JOIN)\n    private FriendEntity friendOwner;\n\n    @OneToOne(mappedBy = &quot;friendGroup&quot;, fetch = FetchType.LAZY)\n    private FriendGroupNameEntity groupName;\n}\n\n@Entity\n@QueryEntity\npublic class FriendGroupNameEntity {\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FRIEND_GROUP_FK&quot;, nullable = false)\n    private FriendGroupEntity friendGroup;\n\n    @Column(name = &quot;name&quot;, length = 36, nullable = false)\n    private String name;\n}\n\npublic class FriendEntity {\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FRIEND_IN_FK&quot;, nullable = false)\n    @Fetch(FetchMode.JOIN)\n    private FriendGroupEntity friendIn;\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FRIEND_OWNER_IN&quot;, nullable = false)\n    private FriendGroupEntity friendOwnerIn;\n}\n</code></pre>\n<p>Essentially what we want to eager fetch is the a Persons Friend Group name + all friends and their Friend group name.</p>\n<p>Trying with a query dsl like this:</p>\n<pre><code>JPAQuery&lt;ParticipantEntity&gt; query = jpaQueryFactory.selectFrom(person).distinct()\n            .innerJoin(person.friendGroup, friendGroup).fetchJoin()\n            .innerJoin(friendGroup.name, friendGroupName).fetchJoin()\n            .leftJoin(friendGroup.friendOwner, friend).fetchJoin()     \n            .leftJoin(friendGroup.friends, friend).fetchJoin()\n            .leftJoin(friend.friendIn, friendGroup).fetchJoin()\n            .leftJoin(friend.friendIn.name, friendGroupName).fetchJoin()\n            .fetch()\n</code></pre>\n<p>We get the <code>org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list</code>.\nWe have also tried using .join() however the problem is when looking at the outputtet SQL, we can see that when fetchJoin() is not used, the nested relations in the end is not beeing eager loaded and therefore not present in the &quot;select&quot; clause.</p>\n<pre><code>org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=friendGroupNameEntity,role=FriendGroupEntity.name,tableName=friend_group_name,tableAlias=person17_,origin=friend_group person16_,columns={person16_.part_pmt_sys_assoc_sk,className=FriendGroupNameEntity}}] [select distinct PersonEntity\nfrom PersonEntity personEntity\n  inner join fetch personEntity.friendGroup as friendGroupEntity\n  inner join fetch friendGroupEntity.name as friendGroupNameEntity\n  left join fetch friendGroupEntity.friendOwner as friendOwnerEntity\n  left join fetch friendGroupEntity.friends as friendEntity\n  left join fetch friendEntity.friendIn as friendGroupEntity\n  left join fetch friendEntity.friendIn.name as friendGroupNameEntity\n</code></pre>\n<p>Any help appriciated.</p>\n"},{"tags":["java","security","zap"],"comments":[{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1458197841,"post_id":36053001,"comment_id":59754562,"body_markdown":"validate incoming param ```fileSize```, tryto cast to ```int``` or ```long``` with try-catch and throw exception","body":"validate incoming param <code>fileSize</code>, tryto cast to <code>int</code> or <code>long</code> with try-catch and throw exception"},{"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"score":0,"creation_date":1458198460,"post_id":36053001,"comment_id":59754853,"body_markdown":"Thank you @EvgenyLebedev, So we don&#39;t need to worry about timeout os command?","body":"Thank you @EvgenyLebedev, So we don&#39;t need to worry about timeout os command?"},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1458202623,"post_id":36053001,"comment_id":59757032,"body_markdown":"of course, timeouts - next issue, you must use timeouts for all connections","body":"of course, timeouts - next issue, you must use timeouts for all connections"},{"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"score":0,"creation_date":1458209249,"post_id":36053001,"comment_id":59761512,"body_markdown":"&quot;you must use timeouts for all connections&quot; this sentence I did not understand. that is the attack done by ZAP tool","body":"&quot;you must use timeouts for all connections&quot; this sentence I did not understand. that is the attack done by ZAP tool"},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1458211977,"post_id":36053001,"comment_id":59763582,"body_markdown":"server side must use timeouts for connection handling (configuration of your application server or application)","body":"server side must use timeouts for connection handling (configuration of your application server or application)"},{"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"score":0,"creation_date":1458284165,"post_id":36053001,"comment_id":59800864,"body_markdown":"Yes@EvgenyLebedev, We have configured our application with 30 mins timeout","body":"Yes@EvgenyLebedev, We have configured our application with 30 mins timeout"}],"answers":[{"tags":[],"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458203340,"creation_date":1458203340,"answer_id":36055137,"question_id":36053001,"body_markdown":"For example: you have REST controller with method fileUpload and bindings for ```/file-upload/{fileSize}```:\r\n\r\ncode:\r\n\r\n    @RequestMapping(value = &quot;/file-upload/{fileSize}&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public Response fileUpload(@PathVariable int fileSize) {\r\n        //...\r\n    }\r\n\r\nif some villain will send you additional data for your fileSize path param\r\nthis method will throw exception. because it will be invalid integer value: ```837259%7Ctimeout+%2FT+%7B0%7D```\r\n\r\nalso recommended:\r\n\r\n1. Use principle: do not trust client\r\n- what is not allowed -&gt; denied\r\n- check all input arguments (especially strings)\r\n\r\n2. Use timeouts for all external communications","title":"Avoid Remote command OS Injection in Java Web Application","body":"<p>For example: you have REST controller with method fileUpload and bindings for <code>/file-upload/{fileSize}</code>:</p>\n\n<p>code:</p>\n\n<pre><code>@RequestMapping(value = \"/file-upload/{fileSize}\", method = RequestMethod.POST)\n@ResponseBody\npublic Response fileUpload(@PathVariable int fileSize) {\n    //...\n}\n</code></pre>\n\n<p>if some villain will send you additional data for your fileSize path param\nthis method will throw exception. because it will be invalid integer value: <code>837259%7Ctimeout+%2FT+%7B0%7D</code></p>\n\n<p>also recommended:</p>\n\n<ol>\n<li><p>Use principle: do not trust client</p>\n\n<ul>\n<li>what is not allowed -> denied</li>\n<li>check all input arguments (especially strings)</li>\n</ul></li>\n<li><p>Use timeouts for all external communications</p></li>\n</ol>\n"}],"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681231255,"creation_date":1458195550,"question_id":36053001,"body_markdown":"We are running ZAP tool from OWSAP to check the security vulnerabilities in our application. The ZAP tool reported many Issues like Path traversal, Cross site scripting, OS command Injection. Here I did not understand what is exactly happening when OS command is executed in our application.\r\nThe below is an example from our project which is reported while uploading file.\r\n\r\n    http://&lt;&lt;IpAddr&gt;&gt;:&lt;&lt;port&gt;&gt;/filedsMgr/upload/fileupload?/?fileSize=837259\r\n    %7Ctimeout+%2FT+%7B0%7D\r\nIn the above url the attack is performed on the &quot;filesize&quot; parameter and the attack is &quot;837259|timeout /T {0}&quot;.\r\nAs per the description given by OWASP, I understood that this is timeout command performed by ZAP tool, but I did not understand, how it is related to My application.\r\n\r\nCould any please tell me what exactly it is and how to prevent this attack?\r\n","title":"Avoid Remote command OS Injection in Java Web Application","body":"<p>We are running ZAP tool from OWSAP to check the security vulnerabilities in our application. The ZAP tool reported many Issues like Path traversal, Cross site scripting, OS command Injection. Here I did not understand what is exactly happening when OS command is executed in our application.\nThe below is an example from our project which is reported while uploading file.</p>\n<pre><code>http://&lt;&lt;IpAddr&gt;&gt;:&lt;&lt;port&gt;&gt;/filedsMgr/upload/fileupload?/?fileSize=837259\n%7Ctimeout+%2FT+%7B0%7D\n</code></pre>\n<p>In the above url the attack is performed on the &quot;filesize&quot; parameter and the attack is &quot;837259|timeout /T {0}&quot;.\nAs per the description given by OWASP, I understood that this is timeout command performed by ZAP tool, but I did not understand, how it is related to My application.</p>\n<p>Could any please tell me what exactly it is and how to prevent this attack?</p>\n"},{"tags":["java","spring","collections"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1681219783,"post_id":75986442,"comment_id":134018575,"body_markdown":"I would use `Comparator.comparing(...).reversed()` and just provide the code to extract the boolean from `FoliosDto` to `comparing(...)`. Makes it way cleaner to read. So it might be something like `Comparator.comparing(folios -&gt; ((ActionDto)folios.getFolioConfig().get(&quot;key1&quot;)).getIsAllowed()).reversed()`. If that doesn&#39;t work then you might want to check if value extraction works and returns the values you want (i.e. you might get &#39; FALSE&#39;  when not expecting this, you might get `null` is there&#39;s no value for `&quot;key1&quot;` etc.)","body":"I would use <code>Comparator.comparing(...).reversed()</code> and just provide the code to extract the boolean from <code>FoliosDto</code> to <code>comparing(...)</code>. Makes it way cleaner to read. So it might be something like <code>Comparator.comparing(folios -&gt; ((ActionDto)folios.getFolioConfig().get(&quot;key1&quot;)).getIsAllowe&zwnj;&#8203;d()).reversed()</code>. If that doesn&#39;t work then you might want to check if value extraction works and returns the values you want (i.e. you might get &#39; FALSE&#39;  when not expecting this, you might get <code>null</code> is there&#39;s no value for <code>&quot;key1&quot;</code> etc.)"},{"owner":{"account_id":11674396,"reputation":870,"user_id":8548451,"display_name":"Rupesh"},"score":0,"creation_date":1681220289,"post_id":75986442,"comment_id":134018739,"body_markdown":"Thanks for reply @Thomas, How can i pass folios to comparing ? ```        Collections.sort(folios, Comparator.comparing(folios -&gt; ((ActionDto)folios.getFolioConfig().get(&quot;key1&quot;)).getIsAllowed()).reversed());\n```","body":"Thanks for reply @Thomas, How can i pass folios to comparing ? ```        Collections.sort(folios, Comparator.comparing(folios -&gt; ((ActionDto)folios.getFolioConfig().get(&quot;key1&quot;)).getIsAllowe&zwnj;&#8203;d()).reversed()); ```"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1681225950,"post_id":75986442,"comment_id":134020487,"body_markdown":"The last snippet I provided is called a lambda function, i.e. `folios` is the name of the parameter it would get. Just define that comparator and pass it to `Collections.sort(folios, theComparator)`. Now that I&#39;m reading that code again, you might need to rename `folios` inside the lambda to something else (e.g. `foliosDto` or so) because it might conflict with the list named `folios`.","body":"The last snippet I provided is called a lambda function, i.e. <code>folios</code> is the name of the parameter it would get. Just define that comparator and pass it to <code>Collections.sort(folios, theComparator)</code>. Now that I&#39;m reading that code again, you might need to rename <code>folios</code> inside the lambda to something else (e.g. <code>foliosDto</code> or so) because it might conflict with the list named <code>folios</code>."}],"answers":[{"tags":[],"owner":{"account_id":11674396,"reputation":870,"user_id":8548451,"display_name":"Rupesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681231230,"creation_date":1681223571,"answer_id":75987079,"question_id":75986442,"body_markdown":"I figured by myself out as below.\r\n\r\n```\r\n    private void sortFolios(List&lt;HoldingFoliosDto&gt; folios) {\r\n        Collections.sort(folios, sortingByIsAllowedRedeem.reversed());\r\n    }\r\n\r\n    public Comparator&lt;HoldingFoliosDto&gt; sortingByIsAllowedRedeem = (dto1, dto2) -&gt; {\r\n        Map&lt;String, Object&gt; folioConfig1 = dto1.getFolioConfig();\r\n        Map&lt;String, Object&gt; folioConfig2 = dto2.getFolioConfig();\r\n        SchemeActionDto schemeActionDto1 = (SchemeActionDto) folioConfig1.get(&quot;key1&quot;);\r\n        SchemeActionDto schemeActionDto2 = (SchemeActionDto) folioConfig2.get(&quot;key1&quot;);\r\n        return Boolean.compare(schemeActionDto1.getIsAllowed(), schemeActionDto2.getIsAllowed());\r\n    };\r\n```","title":"How to sort the List of object having a map based on the map key -&gt; object property in java?","body":"<p>I figured by myself out as below.</p>\n<pre><code>    private void sortFolios(List&lt;HoldingFoliosDto&gt; folios) {\n        Collections.sort(folios, sortingByIsAllowedRedeem.reversed());\n    }\n\n    public Comparator&lt;HoldingFoliosDto&gt; sortingByIsAllowedRedeem = (dto1, dto2) -&gt; {\n        Map&lt;String, Object&gt; folioConfig1 = dto1.getFolioConfig();\n        Map&lt;String, Object&gt; folioConfig2 = dto2.getFolioConfig();\n        SchemeActionDto schemeActionDto1 = (SchemeActionDto) folioConfig1.get(&quot;key1&quot;);\n        SchemeActionDto schemeActionDto2 = (SchemeActionDto) folioConfig2.get(&quot;key1&quot;);\n        return Boolean.compare(schemeActionDto1.getIsAllowed(), schemeActionDto2.getIsAllowed());\n    };\n</code></pre>\n"}],"owner":{"account_id":11674396,"reputation":870,"user_id":8548451,"display_name":"Rupesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681231230,"creation_date":1681219586,"question_id":75986442,"body_markdown":"I have a list of objects (FolioDto) which looks like this\r\n\r\n    public class FoliosDto implements Serializable {\r\n      private static final long serialVersionUID = 5307750871230L;\r\n\r\n      private Map&lt;String, ActionDto&gt; folioConfig = new HashMap(); \r\n    }\r\n\r\nAnd ActionDto looks like below:\r\n\r\n    public class ActionDto {\r\n      private Boolean isAllowed;\r\n      private String remark;\r\n    }\r\nand i have `List&lt;FolioDto&gt;` folios, i want to sort the folios on the basis of `folioDto.getfolioConfig().isAllowed` field where all the FolioDto which is having isAllowed as true should come first.\r\n\r\n\r\nTried this:\r\n\r\n    Collections.sort(folios, new Comparator&lt;FoliosDto&gt;() {\r\n            @Override\r\n            public int compare(FoliosDto holding1, FoliosDto holding2) {\r\n                Map&lt;String, Object&gt; folioConfig1 = holding1.getFolioConfig();\r\n                Map&lt;String, Object&gt; folioConfig2 = holding2.getFolioConfig();\r\n                ActionDto schemeActionDto1 = (ActionDto) folioConfig1.get(&quot;key1&quot;);\r\n                SchemeActionDto schemeActionDto2 = (ActionDto) folioConfig2.get(&quot;key1&quot;));\r\n                return -1 * Boolean.compare(schemeActionDto1.getIsAllowed(), schemeActionDto2.getIsAllowed());\r\n            }\r\n        });\r\n\r\nBut this does not work and not sorting the List of objects.\r\n\r\nI am not able to figure out, pls suggest some idea","title":"How to sort the List of object having a map based on the map key -&gt; object property in java?","body":"<p>I have a list of objects (FolioDto) which looks like this</p>\n<pre><code>public class FoliosDto implements Serializable {\n  private static final long serialVersionUID = 5307750871230L;\n\n  private Map&lt;String, ActionDto&gt; folioConfig = new HashMap(); \n}\n</code></pre>\n<p>And ActionDto looks like below:</p>\n<pre><code>public class ActionDto {\n  private Boolean isAllowed;\n  private String remark;\n}\n</code></pre>\n<p>and i have <code>List&lt;FolioDto&gt;</code> folios, i want to sort the folios on the basis of <code>folioDto.getfolioConfig().isAllowed</code> field where all the FolioDto which is having isAllowed as true should come first.</p>\n<p>Tried this:</p>\n<pre><code>Collections.sort(folios, new Comparator&lt;FoliosDto&gt;() {\n        @Override\n        public int compare(FoliosDto holding1, FoliosDto holding2) {\n            Map&lt;String, Object&gt; folioConfig1 = holding1.getFolioConfig();\n            Map&lt;String, Object&gt; folioConfig2 = holding2.getFolioConfig();\n            ActionDto schemeActionDto1 = (ActionDto) folioConfig1.get(&quot;key1&quot;);\n            SchemeActionDto schemeActionDto2 = (ActionDto) folioConfig2.get(&quot;key1&quot;));\n            return -1 * Boolean.compare(schemeActionDto1.getIsAllowed(), schemeActionDto2.getIsAllowed());\n        }\n    });\n</code></pre>\n<p>But this does not work and not sorting the List of objects.</p>\n<p>I am not able to figure out, pls suggest some idea</p>\n"},{"tags":["java","websocket","undertow","java-websocket"],"owner":{"account_id":23887544,"reputation":3,"user_id":17887564,"display_name":"Doug Wegscheid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681231146,"creation_date":1681229245,"question_id":75987984,"body_markdown":"I am putting together a little app with Undertow. I have two websocket endpoints, but I am having trouble with getting the handler the way I want.\r\n\r\n\r\n\r\nIf I define my handler this way, things work well:\r\n\r\n\r\n```\r\n            handler = path()\r\n                .addPrefixPath(&quot;/websocket&quot;, websocket(new WSTest()))\r\n                .addPrefixPath(&quot;/battery&quot;, websocket(batteryStatusSender))\r\n                .addPrefixPath(&quot;/&quot;, resource(new ClassPathResourceManager(getClass().getClassLoader(), getClass().getPackage()))\r\n                    .addWelcomeFiles(&quot;index.html&quot;));\r\n```\r\n\r\nIf I define it the way I *want* (I&#39;ll be doing some REST, so I want to separate out POST, PUT, and GET):\r\n\r\n\r\n```\r\n            handler = new RoutingHandler()\r\n                .get(&quot;/websocket&quot;, websocket(new WSTest()))\r\n                .get(&quot;/battery&quot;, websocket(batteryStatusSender))\r\n                .get(&quot;/&quot;, resource(new ClassPathResourceManager(getClass().getClassLoader(), getClass().getPackage()))\r\n                    .addWelcomeFiles(&quot;index.html&quot;));\r\n```\r\n\r\nThis works sometimes, and sometimes does not; connections to /websocket never seem to make it to my onConnect() in WsTest and BatteryStatusSender, both of which are WebSocketConnectionCallback objects.\r\n\r\nIs there something I am missing about RoutingHandler?","title":"Undertow: PathHandler works with websockets, RoutingHandler does not","body":"<p>I am putting together a little app with Undertow. I have two websocket endpoints, but I am having trouble with getting the handler the way I want.</p>\n<p>If I define my handler this way, things work well:</p>\n<pre><code>            handler = path()\n                .addPrefixPath(&quot;/websocket&quot;, websocket(new WSTest()))\n                .addPrefixPath(&quot;/battery&quot;, websocket(batteryStatusSender))\n                .addPrefixPath(&quot;/&quot;, resource(new ClassPathResourceManager(getClass().getClassLoader(), getClass().getPackage()))\n                    .addWelcomeFiles(&quot;index.html&quot;));\n</code></pre>\n<p>If I define it the way I <em>want</em> (I'll be doing some REST, so I want to separate out POST, PUT, and GET):</p>\n<pre><code>            handler = new RoutingHandler()\n                .get(&quot;/websocket&quot;, websocket(new WSTest()))\n                .get(&quot;/battery&quot;, websocket(batteryStatusSender))\n                .get(&quot;/&quot;, resource(new ClassPathResourceManager(getClass().getClassLoader(), getClass().getPackage()))\n                    .addWelcomeFiles(&quot;index.html&quot;));\n</code></pre>\n<p>This works sometimes, and sometimes does not; connections to /websocket never seem to make it to my onConnect() in WsTest and BatteryStatusSender, both of which are WebSocketConnectionCallback objects.</p>\n<p>Is there something I am missing about RoutingHandler?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1681233521,"post_id":75988222,"comment_id":134022382,"body_markdown":"Check have you added internet permission in manifest secondly check the error by logging t.message in failure case. In case you cant resolve the mention the error in post","body":"Check have you added internet permission in manifest secondly check the error by logging t.message in failure case. In case you cant resolve the mention the error in post"}],"owner":{"account_id":27505472,"reputation":57,"user_id":20988296,"display_name":"namnt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681230934,"creation_date":1681230934,"question_id":75988222,"body_markdown":"hi i have an api and i want to call it but it seems to be failing.\r\n\r\n[linkapi](https://iotapi.levanphuc.asia/api/v1/device/1)\r\n\r\n\r\n\r\n\r\nmy api has form ```https://iotapi.levanphuc.asia/api/v1/device/id```\r\n\r\n\r\ni want to call api to do a PUT method if status is 0 when on press on then stustus turns to 1 and shows success\r\n\r\nI have tried several ways with no success\r\n\r\nI don&#39;t know if anyone can explain to me where I did wrong. Any help is very welcome\r\n\r\nmy code\r\nApiService\r\n\r\n```\r\npublic interface ApiService {\r\n    @GET(&quot;{id}/pin&quot;)\r\n    Call&lt;Device&gt; getDeviceStatus(@Path(&quot;id&quot;) String id);\r\n\r\n    \r\n    @PUT(&quot;{id}&quot;)\r\n    Call&lt;Device&gt; turnOnDevice(@Path(&quot;id&quot;) String id);\r\n\r\n   \r\n    @POST(&quot;{id}/pin/0&quot;)\r\n    Call&lt;Device&gt; turnOffDevice(@Path(&quot;id&quot;) String id);\r\n}\r\n\r\n```\r\n\r\nmainActivity\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ApiService apiService;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://iotapi.levanphuc.asia/api/v1/auth/device/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        apiService = retrofit.create(ApiService.class);\r\n\r\n        Button btnTurnOn = findViewById(R.id.btn_turn_on);\r\n        btnTurnOn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                turnOnLight(1);\r\n            }\r\n        });\r\n\r\n        Button btnTurnOff = findViewById(R.id.btn_turn_off);\r\n        btnTurnOff.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                turnOffLight(String.valueOf(1));\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void turnOnLight(int id) {\r\n        apiService.turnOnDevice(String.valueOf(id)).enqueue(new Callback&lt;Device&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Device&gt; call, Response&lt;Device&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Toast.makeText(MainActivity.this, &quot;light turn on&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;light turn on error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Device&gt; call, Throwable t) {\r\n                Toast.makeText(MainActivity.this, &quot;error connect API&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private void turnOffLight(String deviceId) {\r\n        apiService.turnOffDevice(deviceId).enqueue(new Callback&lt;Device&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Device&gt; call, Response&lt;Device&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Toast.makeText(MainActivity.this, &quot;light is turn off&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;error turn off&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Device&gt; call, Throwable t) {\r\n                Toast.makeText(MainActivity.this, &quot;error connect API&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nDevice \r\n\r\n```\r\n private int id;\r\n    private String name;\r\n    private String description;\r\n    private int pin;\r\n    private int status;\r\n    private String createdAt;\r\n    private String updatedAt;\r\n\r\n```","title":"call api with Retrofit JAVA","body":"<p>hi i have an api and i want to call it but it seems to be failing.</p>\n<p><a href=\"https://iotapi.levanphuc.asia/api/v1/device/1\" rel=\"nofollow noreferrer\">linkapi</a></p>\n<p>my api has form <code>https://iotapi.levanphuc.asia/api/v1/device/id</code></p>\n<p>i want to call api to do a PUT method if status is 0 when on press on then stustus turns to 1 and shows success</p>\n<p>I have tried several ways with no success</p>\n<p>I don't know if anyone can explain to me where I did wrong. Any help is very welcome</p>\n<p>my code\nApiService</p>\n<pre><code>public interface ApiService {\n    @GET(&quot;{id}/pin&quot;)\n    Call&lt;Device&gt; getDeviceStatus(@Path(&quot;id&quot;) String id);\n\n    \n    @PUT(&quot;{id}&quot;)\n    Call&lt;Device&gt; turnOnDevice(@Path(&quot;id&quot;) String id);\n\n   \n    @POST(&quot;{id}/pin/0&quot;)\n    Call&lt;Device&gt; turnOffDevice(@Path(&quot;id&quot;) String id);\n}\n\n</code></pre>\n<p>mainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private ApiService apiService;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://iotapi.levanphuc.asia/api/v1/auth/device/&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        apiService = retrofit.create(ApiService.class);\n\n        Button btnTurnOn = findViewById(R.id.btn_turn_on);\n        btnTurnOn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                turnOnLight(1);\n            }\n        });\n\n        Button btnTurnOff = findViewById(R.id.btn_turn_off);\n        btnTurnOff.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                turnOffLight(String.valueOf(1));\n            }\n        });\n\n    }\n\n    private void turnOnLight(int id) {\n        apiService.turnOnDevice(String.valueOf(id)).enqueue(new Callback&lt;Device&gt;() {\n            @Override\n            public void onResponse(Call&lt;Device&gt; call, Response&lt;Device&gt; response) {\n                if (response.isSuccessful()) {\n                    Toast.makeText(MainActivity.this, &quot;light turn on&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;light turn on error&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;Device&gt; call, Throwable t) {\n                Toast.makeText(MainActivity.this, &quot;error connect API&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n\n    private void turnOffLight(String deviceId) {\n        apiService.turnOffDevice(deviceId).enqueue(new Callback&lt;Device&gt;() {\n            @Override\n            public void onResponse(Call&lt;Device&gt; call, Response&lt;Device&gt; response) {\n                if (response.isSuccessful()) {\n                    Toast.makeText(MainActivity.this, &quot;light is turn off&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;error turn off&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;Device&gt; call, Throwable t) {\n                Toast.makeText(MainActivity.this, &quot;error connect API&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Device</p>\n<pre><code> private int id;\n    private String name;\n    private String description;\n    private int pin;\n    private int status;\n    private String createdAt;\n    private String updatedAt;\n\n</code></pre>\n"},{"tags":["java","netbeans","web-applications","ide","netbeans-16"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681229398,"post_id":75987904,"comment_id":134021409,"body_markdown":"If your tutorial is not using Maven or Gradle, you may benefit from finding a more modern tutorial. The web world and Jakarta EE (formerly Java EE) have evolved significantly.","body":"If your tutorial is not using Maven or Gradle, you may benefit from finding a more modern tutorial. The web world and Jakarta EE (formerly Java EE) have evolved significantly."},{"owner":{"account_id":20288102,"reputation":19,"user_id":14880365,"display_name":"Ahsan"},"score":0,"creation_date":1681229838,"post_id":75987904,"comment_id":134021511,"body_markdown":"You ae correct I am watching from archive.  The reason I am watching is because I just need to understand JSP and SERVLET thats all","body":"You ae correct I am watching from archive.  The reason I am watching is because I just need to understand JSP and SERVLET thats all"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681230615,"post_id":75987904,"comment_id":134021719,"body_markdown":"(A) Very well then. The basics of Servlet and JSP have not changed. (B) I inlined your screenshots for you.","body":"(A) Very well then. The basics of Servlet and JSP have not changed. (B) I inlined your screenshots for you."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1681232433,"post_id":75987904,"comment_id":134022138,"body_markdown":"Is **File &gt; New Project... &gt; Java with Ant &gt; Java Web &gt; Web Application** what you are looking for? But that will create an Ant project. As Basil suggests, you might be better off with tutorials that use Maven or Gradle. If you are still stuck update your question with links to the tutorials you are using.","body":"Is <b>File &gt; New Project... &gt; Java with Ant &gt; Java Web &gt; Web Application</b> what you are looking for? But that will create an Ant project. As Basil suggests, you might be better off with tutorials that use Maven or Gradle. If you are still stuck update your question with links to the tutorials you are using."},{"owner":{"account_id":20288102,"reputation":19,"user_id":14880365,"display_name":"Ahsan"},"score":0,"creation_date":1681236965,"post_id":75987904,"comment_id":134023186,"body_markdown":"@skomisa Yes, I am still stuck. However, I am going to take heed from your suggestions. I am going to learn it from modern tutorials. Do you have any tutorials on Udemy or from other sources where they teach Java Web Application using Gradle? I found some, but they only teach the tool Gradle or Maven. FYI, the tutorial I am using is from 2015, I think, and it is in a different language.","body":"@skomisa Yes, I am still stuck. However, I am going to take heed from your suggestions. I am going to learn it from modern tutorials. Do you have any tutorials on Udemy or from other sources where they teach Java Web Application using Gradle? I found some, but they only teach the tool Gradle or Maven. FYI, the tutorial I am using is from 2015, I think, and it is in a different language."}],"owner":{"account_id":20288102,"reputation":19,"user_id":14880365,"display_name":"Ahsan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681230825,"creation_date":1681228717,"question_id":75987904,"body_markdown":"&#39;Java Web&#39; categories doesn&#39;t exist in *New Project Categories* in Apache NetBeans therefore, I cannot create Java Web Application using Netbeans.  How do I resolve this Issue?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nEven though I can create Java Web Application with maven or Gradle the folders structures are different from the tutorials that I am watching. To solve this issue I went to tools--&gt;plugins and in there I have activated Java Web and EE. But still I cannot see the &#39;Java Web&#39; in Apache Netbeans Categories.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rlavE.jpg\r\n  [2]: https://i.stack.imgur.com/404z2.jpg","title":"Cannot Create Java Web Application in Apache NetBeans 16","body":"<p>'Java Web' categories doesn't exist in <em>New Project Categories</em> in Apache NetBeans therefore, I cannot create Java Web Application using Netbeans.  How do I resolve this Issue?</p>\n<p><a href=\"https://i.stack.imgur.com/rlavE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlavE.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/404z2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/404z2.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Even though I can create Java Web Application with maven or Gradle the folders structures are different from the tutorials that I am watching. To solve this issue I went to tools--&gt;plugins and in there I have activated Java Web and EE. But still I cannot see the 'Java Web' in Apache Netbeans Categories.</p>\n"},{"tags":["javascript","java","pdf","adobe"],"owner":{"account_id":26857995,"reputation":41,"user_id":20441989,"display_name":"bswan23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681230605,"creation_date":1681230605,"question_id":75988170,"body_markdown":"I am a beginner in working with Javascript within Adobe Acrobat. We are working within a PDF form that has calculated fields. We would like to add two fields together in the format of `HH:MM:ss`. Specifically, we would like to write code that adds 10 seconds to each subsequent field. For example, if we had a start time of `01:25:50` (row 1), we would like the subsequent columns to read:\r\n\r\n\r\n| Time |\r\n| -------- |\r\n| 01:25:50 |\r\n| 01:26:00 |\r\n| 01:26:10 |\r\n| 01:26:20 |\r\n| 01:26:30 |\r\n\r\n\r\nWe have tried adding the fields using something like: \r\n\r\n```\r\nvar time = &quot;01:00:10&quot;;\r\n\r\nvar interval = &quot;00:00:10&quot;;\r\n\r\nvar final = time + interval\r\n\r\nevent.value = final\r\n```\r\n\r\nHowever, this only returns the two string values pasted together. Additionally, using the basic sum function within Adobe did not work. I believe we have an issue with the data type not reading as a time, but I am unsure how to solve this. \r\n\r\nThank you for any help!","title":"How do I add two variables in the HH:MM:ss format in Adobe Acrobat?","body":"<p>I am a beginner in working with Javascript within Adobe Acrobat. We are working within a PDF form that has calculated fields. We would like to add two fields together in the format of <code>HH:MM:ss</code>. Specifically, we would like to write code that adds 10 seconds to each subsequent field. For example, if we had a start time of <code>01:25:50</code> (row 1), we would like the subsequent columns to read:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01:25:50</td>\n</tr>\n<tr>\n<td>01:26:00</td>\n</tr>\n<tr>\n<td>01:26:10</td>\n</tr>\n<tr>\n<td>01:26:20</td>\n</tr>\n<tr>\n<td>01:26:30</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>We have tried adding the fields using something like:</p>\n<pre><code>var time = &quot;01:00:10&quot;;\n\nvar interval = &quot;00:00:10&quot;;\n\nvar final = time + interval\n\nevent.value = final\n</code></pre>\n<p>However, this only returns the two string values pasted together. Additionally, using the basic sum function within Adobe did not work. I believe we have an issue with the data type not reading as a time, but I am unsure how to solve this.</p>\n<p>Thank you for any help!</p>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1681231077,"post_id":75988047,"comment_id":134021831,"body_markdown":"Slightly off-topic, but this is completely the wrong way to make a numeric text field. You should not change the value of a property (`text`) in a listener for the same property. Use a `TextFormatter` instead.","body":"Slightly off-topic, but this is completely the wrong way to make a numeric text field. You should not change the value of a property (<code>text</code>) in a listener for the same property. Use a <code>TextFormatter</code> instead."},{"owner":{"account_id":3004336,"reputation":454,"user_id":2549134,"display_name":"LSDeva"},"score":0,"creation_date":1681231376,"post_id":75988047,"comment_id":134021916,"body_markdown":"make sure that the JavaFX version you are using for your project matches the JavaFX version used by Scene Builder. JavaFX Scene Builder 8.5.0 uses JavaFX 8, but your project uses JavaFX 17. To use JavaFX 17 with Scene Builder, you can download Gluon Scene Builder 16.0.0 (which supports JavaFX 11 and later) or another compatible version. Note that the version number of Scene Builder does not directly correspond to the version of JavaFX it supports.","body":"make sure that the JavaFX version you are using for your project matches the JavaFX version used by Scene Builder. JavaFX Scene Builder 8.5.0 uses JavaFX 8, but your project uses JavaFX 17. To use JavaFX 17 with Scene Builder, you can download Gluon Scene Builder 16.0.0 (which supports JavaFX 11 and later) or another compatible version. Note that the version number of Scene Builder does not directly correspond to the version of JavaFX it supports."}],"owner":{"account_id":17745040,"reputation":11,"user_id":12884499,"display_name":"adk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681231017,"answer_count":0,"score":1,"last_activity_date":1681230428,"creation_date":1681229702,"question_id":75988047,"body_markdown":"I am trying to create a number field from text field in Javafx and reuse it in other fxml pages using scenebuilder. \r\n\r\nMyNumberField.java\r\n\r\n    public class MyNumberField extends TextField {\r\n\r\n\tpublic MyNumberField() {\r\n\t\tsuper();\r\n\t\ttextProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\r\n\t\t\t\tif (!newValue.matches(&quot;\\\\d*&quot;)) {\r\n\t\t\t\t\tsetText(newValue.replaceAll(&quot;[^\\\\d]&quot;, &quot;&quot;));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n \r\nI am able to do this in java but by creating a new object like below.\r\n\r\nAnyfile.java\r\n`...\r\nMyNumberField txtNmbr = new MyNumberField();\r\n...\r\n`\r\n\r\nWhat I need is to use it in scenebuilder for creating the UI and then map it to my java file using @FXML MyNumberField numberField;\r\n\r\n\r\nTried the below steps:\r\n1. Tried changing &lt;TextField /&gt; tag to &lt;MyNumberField /&gt; in FXML. But it gives an yellow exclamation and on  refreshes fxml, it changes back to &lt;TextField /&gt;.\r\n\r\n2. Created MyNumberField.fxml and imported it to scenebuilder.\r\nMyNumberField.fxml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n\r\n\r\n    &lt;TextField xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;&lt;mypackage&gt;.components.MyNumberField&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTried the way explained in \r\n[a solution][1]\r\n\r\nBut scene builder considers the imported MyNumberField.fxml as TextField and throws error if I try to do @FXML private MyNumberField txtNmbr; \r\n[Custom Component in Scene Builder](https://i.stack.imgur.com/0iWub.png)\r\nError as below:\r\nCaused by: java.lang.IllegalArgumentException: Can not set &lt;mypackage&gt;.components.MyNumberField field &lt;mypackage&gt;.controller.LoginController.txtNmbr to javafx.scene.control.TextField\r\n\r\nCan someone please help me on this?\r\n\r\nVersions:\r\nopenjdk-17.0.2_windows-x64_bin, \r\nopenjfx-17.0.6_windows-x64_bin-sdk, \r\nJavaFX Scene Builder 8.5.0 \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25612493/is-it-possible-to-import-a-jar-containing-a-custom-javafx-control-into-scene-bui#:~:text=Create%20class%20file%20with%20extending,you%20can%20find%20your%20components.","title":"Unable to use Javafx custom components","body":"<p>I am trying to create a number field from text field in Javafx and reuse it in other fxml pages using scenebuilder.</p>\n<p>MyNumberField.java</p>\n<pre><code>public class MyNumberField extends TextField {\n\npublic MyNumberField() {\n    super();\n    textProperty().addListener(new ChangeListener&lt;String&gt;() {\n        @Override\n        public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\n            if (!newValue.matches(&quot;\\\\d*&quot;)) {\n                setText(newValue.replaceAll(&quot;[^\\\\d]&quot;, &quot;&quot;));\n            }\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>I am able to do this in java but by creating a new object like below.</p>\n<p>Anyfile.java\n<code>... MyNumberField txtNmbr = new MyNumberField(); ... </code></p>\n<p>What I need is to use it in scenebuilder for creating the UI and then map it to my java file using @FXML MyNumberField numberField;</p>\n<p>Tried the below steps:</p>\n<ol>\n<li><p>Tried changing  tag to  in FXML. But it gives an yellow exclamation and on  refreshes fxml, it changes back to .</p>\n</li>\n<li><p>Created MyNumberField.fxml and imported it to scenebuilder.\nMyNumberField.fxml</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.TextField?&gt;\n\n\n&lt;TextField xmlns=\"http://javafx.com/javafx/8.0.171\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"&lt;mypackage&gt;.components.MyNumberField\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Tried the way explained in\n<a href=\"https://stackoverflow.com/questions/25612493/is-it-possible-to-import-a-jar-containing-a-custom-javafx-control-into-scene-bui#:%7E:text=Create%20class%20file%20with%20extending,you%20can%20find%20your%20components.\">a solution</a></p>\n<p>But scene builder considers the imported MyNumberField.fxml as TextField and throws error if I try to do @FXML private MyNumberField txtNmbr;\n<a href=\"https://i.stack.imgur.com/0iWub.png\" rel=\"nofollow noreferrer\">Custom Component in Scene Builder</a>\nError as below:\nCaused by: java.lang.IllegalArgumentException: Can not set .components.MyNumberField field .controller.LoginController.txtNmbr to javafx.scene.control.TextField</p>\n<p>Can someone please help me on this?</p>\n<p>Versions:\nopenjdk-17.0.2_windows-x64_bin,\nopenjfx-17.0.6_windows-x64_bin-sdk,\nJavaFX Scene Builder 8.5.0</p>\n"},{"tags":["java","flutter","gradle"],"comments":[{"owner":{"account_id":9631573,"reputation":81,"user_id":7149247,"display_name":"Murat Aktasli"},"score":0,"creation_date":1681220344,"post_id":75986130,"comment_id":134018757,"body_markdown":"Use JarFix: https://johann.loefflmann.net/en/software/jarfix/index.html","body":"Use JarFix: <a href=\"https://johann.loefflmann.net/en/software/jarfix/index.html\" rel=\"nofollow noreferrer\">johann.loefflmann.net/en/software/jarfix/index.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27216626,"reputation":91,"user_id":20746558,"display_name":"Romit Katrodiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681230312,"creation_date":1681230312,"answer_id":75988136,"question_id":75986130,"body_markdown":" 1. Download Java JDK 11\r\n\r\n     [Download Link For JDK 11][1]\r\n\r\n 2. set environment variables Like this\r\n\r\n     [![enter image description here][2]][2]\r\n\r\n 3. Than Restart your PC/Laptop\r\n\r\n  [1]: https://www.techspot.com/downloads/5553-java-jdk.html\r\n  [2]: https://i.stack.imgur.com/IoO1z.png","title":"No java executable found","body":"<ol>\n<li><p>Download Java JDK 11</p>\n<p><a href=\"https://www.techspot.com/downloads/5553-java-jdk.html\" rel=\"nofollow noreferrer\">Download Link For JDK 11</a></p>\n</li>\n<li><p>set environment variables Like this</p>\n<p><a href=\"https://i.stack.imgur.com/IoO1z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IoO1z.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Than Restart your PC/Laptop</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23744554,"reputation":45,"user_id":17762181,"display_name":"Rachita Dongre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75988136,"answer_count":1,"score":1,"last_activity_date":1681230312,"creation_date":1681217516,"question_id":75986130,"body_markdown":"I am getting the following notification in my vs code while working in my flutter project:\r\n\r\nNo java executable found, please consider to configure your &#39;java,jdt.Is.java.home&#39; setting or set JAVA_HOME in your path or put a Java executable in your path.\r\n\r\nsource :Gradle for java (extention)\r\n\r\nI have seen this notification for a few times since installing &quot;gradle for java&quot; extention, not sure what it means.","title":"No java executable found","body":"<p>I am getting the following notification in my vs code while working in my flutter project:</p>\n<p>No java executable found, please consider to configure your 'java,jdt.Is.java.home' setting or set JAVA_HOME in your path or put a Java executable in your path.</p>\n<p>source :Gradle for java (extention)</p>\n<p>I have seen this notification for a few times since installing &quot;gradle for java&quot; extention, not sure what it means.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681225923,"creation_date":1681225923,"answer_id":75987482,"question_id":75987202,"body_markdown":"There is no way to have a key without a value in the Firebase Realtime Database.\r\n\r\nThe Firebase Realtime Database automatically creates a key when you write a value under it for the first time, and it automatically removes a key when you remove the last/only value from under it.\r\n\r\nAs a workaround while I&#39;m figuring out my data model, I sometimes put a `README` property with a description of the node in place of the actual values. Since my code never deletes this README property, the parent that I have it under will also never be auto-deleted.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/70726140/firebase-realtime-database-setting-data-keys-without-including-a-value\r\n* https://stackoverflow.com/questions/15911165/create-an-empty-child-record-in-firebase","title":"Removing a child node removes all other nodes","body":"<p>There is no way to have a key without a value in the Firebase Realtime Database.</p>\n<p>The Firebase Realtime Database automatically creates a key when you write a value under it for the first time, and it automatically removes a key when you remove the last/only value from under it.</p>\n<p>As a workaround while I'm figuring out my data model, I sometimes put a <code>README</code> property with a description of the node in place of the actual values. Since my code never deletes this README property, the parent that I have it under will also never be auto-deleted.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70726140/firebase-realtime-database-setting-data-keys-without-including-a-value\">Firebase Realtime Database, setting data keys (without including a value)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/15911165/create-an-empty-child-record-in-firebase\">Create an empty child record in Firebase</a></li>\n</ul>\n"}],"owner":{"account_id":23922349,"reputation":21,"user_id":17917985,"display_name":"Tilda Mendozae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75987482,"answer_count":1,"score":0,"last_activity_date":1681230192,"creation_date":1681224291,"question_id":75987202,"body_markdown":"My database looks like this:\r\n```\r\nUser Categories\r\n-&gt; User ID\r\n--&gt; Fruits: true\r\n--&gt; Meats: true\r\n--&gt; Drinks\r\n---&gt; Product ID (under drinks node)\r\n----&gt; Product Name\r\n----&gt; Product Price\r\n```\r\n\r\nThe issue here is if I delete the product ID, the Drinks node gets deleted which is not what I want. I would like to simply delete the product ID node. How can this be done?\r\n\r\nThis is my current code:\r\n```\r\nDatabaseReference removeProductRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID).child(categoryName).child(productId);\r\n\r\nremoveProductRef.removeValue();\r\n```\r\nHere it will remove the productId child and all the childs within it as well as the Drinks node.\r\n\r\nI have also tried to do it like this but the same thing occurs:\r\n```\r\nDatabaseReference removeProductRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID).child(categoryName);\r\n\r\nremoveProductRef.child(productId).removeValue();\r\n```\r\n\r\nWorkaround:\r\n```\r\n       DatabaseReference removeProductRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID).child(categoryName);\r\n\r\n        removeProductRef.child(productId).removeValue();\r\n\r\n        removeProductRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    // Category exists in database\r\n                } else {\r\n                    removeProductRef.setValue(true);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Handle error\r\n            }\r\n        });\r\n```\r\n","title":"Removing a child node removes all other nodes","body":"<p>My database looks like this:</p>\n<pre><code>User Categories\n-&gt; User ID\n--&gt; Fruits: true\n--&gt; Meats: true\n--&gt; Drinks\n---&gt; Product ID (under drinks node)\n----&gt; Product Name\n----&gt; Product Price\n</code></pre>\n<p>The issue here is if I delete the product ID, the Drinks node gets deleted which is not what I want. I would like to simply delete the product ID node. How can this be done?</p>\n<p>This is my current code:</p>\n<pre><code>DatabaseReference removeProductRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID).child(categoryName).child(productId);\n\nremoveProductRef.removeValue();\n</code></pre>\n<p>Here it will remove the productId child and all the childs within it as well as the Drinks node.</p>\n<p>I have also tried to do it like this but the same thing occurs:</p>\n<pre><code>DatabaseReference removeProductRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID).child(categoryName);\n\nremoveProductRef.child(productId).removeValue();\n</code></pre>\n<p>Workaround:</p>\n<pre><code>       DatabaseReference removeProductRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID).child(categoryName);\n\n        removeProductRef.child(productId).removeValue();\n\n        removeProductRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    // Category exists in database\n                } else {\n                    removeProductRef.setValue(true);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Handle error\n            }\n        });\n</code></pre>\n"},{"tags":["java","opencsv","csvreader","csvwriter"],"owner":{"account_id":25593061,"reputation":5,"user_id":19369436,"display_name":"Mahi Mokhashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681230006,"creation_date":1681229738,"question_id":75988053,"body_markdown":"I want write multiple xml file data into one csv file, For first time writing data from first xml into csv file 8 columns created and for second xml file data writing into from 9th column of same csv file, How can we insert the data into specific column. list contains xml data.\r\n\r\n    String[] rowValue = new String[list.size()];\r\n    rowValue = list.toArray(rowValue);\r\n    writer.writerNext(rowValue,true);\r\n\r\n","title":"How to insert value into specific column in csv file using java","body":"<p>I want write multiple xml file data into one csv file, For first time writing data from first xml into csv file 8 columns created and for second xml file data writing into from 9th column of same csv file, How can we insert the data into specific column. list contains xml data.</p>\n<pre><code>String[] rowValue = new String[list.size()];\nrowValue = list.toArray(rowValue);\nwriter.writerNext(rowValue,true);\n</code></pre>\n"},{"tags":["java","pdf-generation","emoji","apache-fop"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1680577940,"post_id":75923463,"comment_id":133917975,"body_markdown":"You also need to modify `fo-pdf.xsl`, like this `&lt;xsl:attribute-set name=&quot;footer.content.properties&quot;&gt;\n         &lt;xsl:attribute name=&quot;font-family&quot;&gt;Noto Color Emoji,Sans-serif,Arial&lt;/xsl:attribute&gt;\n         &lt;xsl:attribute name=&quot;font-size&quot;&gt;8pt&lt;/xsl:attribute&gt;\n     &lt;/xsl:attribute-set&gt;` , add your font into some define like this `footer.content.properties`","body":"You also need to modify <code>fo-pdf.xsl</code>, like this <code>&lt;xsl:attribute-set name=&quot;footer.content.properties&quot;&gt;          &lt;xsl:attribute name=&quot;font-family&quot;&gt;Noto Color Emoji,Sans-serif,Arial&lt;&#47;xsl:attribute&gt;          &lt;xsl:attribute name=&quot;font-size&quot;&gt;8pt&lt;&#47;xsl:attribute&gt;      &lt;&#47;xsl:attribute-set&gt;</code> , add your font into some define like this <code>footer.content.properties</code>"},{"owner":{"account_id":5624664,"reputation":3721,"user_id":4453460,"display_name":"lfurini"},"score":0,"creation_date":1680599211,"post_id":75923463,"comment_id":133921422,"body_markdown":"Do you get any error / warning if you run the pdf creation from a command prompt?","body":"Do you get any error / warning if you run the pdf creation from a command prompt?"},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":1,"creation_date":1680634615,"post_id":75923463,"comment_id":133930689,"body_markdown":"Have you checked FOP support documents? They would need to support supplemental planes .. aka: Unicode Character &#128016; (U+1F410) = Unicode 1F410","body":"Have you checked FOP support documents? They would need to support supplemental planes .. aka: Unicode Character  (U+1F410) = Unicode 1F410"},{"owner":{"account_id":3380909,"reputation":43,"user_id":2837973,"display_name":"SachinD"},"score":0,"creation_date":1681225519,"post_id":75923463,"comment_id":134020342,"body_markdown":"@life888888 Thanks for the information. I added the &quot;Noto Color Emoji&quot; into the xsl file I use and it stopped outputting #######. But still I&#39;m not able to see the characters in the PDF. What I see is some empty white spaces in the pdf. But when I copy the text including the white spaces in the PDF and paste it into notepad I could see some characters in it. Any idea on what might be causing the issue here?","body":"@life888888 Thanks for the information. I added the &quot;Noto Color Emoji&quot; into the xsl file I use and it stopped outputting #######. But still I&#39;m not able to see the characters in the PDF. What I see is some empty white spaces in the pdf. But when I copy the text including the white spaces in the PDF and paste it into notepad I could see some characters in it. Any idea on what might be causing the issue here?"},{"owner":{"account_id":3380909,"reputation":43,"user_id":2837973,"display_name":"SachinD"},"score":0,"creation_date":1681225525,"post_id":75923463,"comment_id":134020349,"body_markdown":"@lfurini No I couldn&#39;t see any errors in the logs.","body":"@lfurini No I couldn&#39;t see any errors in the logs."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1681276341,"post_id":75923463,"comment_id":134028415,"body_markdown":"@SachinD, use this font: https://github.com/asciidoctor/asciidoctor-pdf/blob/main/data/fonts/notoemoji-subset.ttf","body":"@SachinD, use this font: <a href=\"https://github.com/asciidoctor/asciidoctor-pdf/blob/main/data/fonts/notoemoji-subset.ttf\" rel=\"nofollow noreferrer\">github.com/asciidoctor/asciidoctor-pdf/blob/main/data/fonts/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680635402,"creation_date":1680635037,"answer_id":75932970,"question_id":75923463,"body_markdown":"I do not believe that would be supported in FOP. Most all the characters in that font are in the Supplementary Multilingual Plane. From FOP documentation:\r\n\r\n&quot;Support for Unicode characters outside of the Base Multilingual Plane (BMP), i.e., characters whose code points are greater than 65535, is not yet implemented. See issue FOP-1969.&quot;\r\n\r\nFor instance:\r\n\r\nUnicode Character &#128016; (U+1F410) = Unicode 1F410 = 128016 \r\n\r\nIf you installed that font in a Windows machine and use charmap to view it, you will find only maybe 35 characters. Searching for one shows no character:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf you tried to view the entire font, you only see these:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HoWmz.png\r\n  [2]: https://i.stack.imgur.com/v0wWE.png","title":"Getting ###### instead of Emojis When Generating PDF using Apache FOP 2.4","body":"<p>I do not believe that would be supported in FOP. Most all the characters in that font are in the Supplementary Multilingual Plane. From FOP documentation:</p>\n<p>&quot;Support for Unicode characters outside of the Base Multilingual Plane (BMP), i.e., characters whose code points are greater than 65535, is not yet implemented. See issue FOP-1969.&quot;</p>\n<p>For instance:</p>\n<p>Unicode Character  (U+1F410) = Unicode 1F410 = 128016</p>\n<p>If you installed that font in a Windows machine and use charmap to view it, you will find only maybe 35 characters. Searching for one shows no character:</p>\n<p><a href=\"https://i.stack.imgur.com/HoWmz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HoWmz.png\" alt=\"enter image description here\" /></a></p>\n<p>If you tried to view the entire font, you only see these:</p>\n<p><a href=\"https://i.stack.imgur.com/v0wWE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v0wWE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3380909,"reputation":43,"user_id":2837973,"display_name":"SachinD"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681229559,"creation_date":1680553143,"question_id":75923463,"body_markdown":"I&#39;m generating PDF in a web application which is using Apache FOP 2.4. When generating PDF with Emojis it is resulting in the PDF as ###############. But normal alphanumeric text is appearing properly.\r\nFollowing is how my renderers looks like in fop.xconf file.\r\n```\r\n&lt;renderers&gt;\r\n\t&lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n\t\t&lt;filterList&gt;\r\n\t\t\t&lt;value&gt;flate&lt;/value&gt;\r\n\t\t&lt;/filterList&gt;\r\n\t\t&lt;fonts&gt;\r\n\t\t\t&lt;font embed-url=&quot;ARIAL.TTF&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Arial&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;font embed-url=&quot;ARIALBD.TTF&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Arial&quot; style=&quot;normal&quot; weight=&quot;bold&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;font embed-url=&quot;ARIALI.TTF&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Arial&quot; style=&quot;italic&quot; weight=&quot;normal&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;font embed-url=&quot;ARIALBI.TTF&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Arial&quot; style=&quot;italic&quot; weight=&quot;bold&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;font embed-url=&quot;ARIALUNI.TTF&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Arial Unicode MS&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;font embed-url=&quot;NotoColorEmoji-Regular.ttf&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Noto Color Emoji&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;font embed-url=&quot;MSGOTHIC.TTC&quot; metrics-url=&quot;msgothic.xml&quot;&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Gothic&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Gothic&quot; style=&quot;normal&quot; weight=&quot;bold&quot;/&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Gothic&quot; style=&quot;italic&quot; weight=&quot;normal&quot;/&gt;\r\n\t\t\t\t&lt;font-triplet name=&quot;Gothic&quot; style=&quot;italic&quot; weight=&quot;bold&quot;/&gt;\r\n\t\t\t&lt;/font&gt;\r\n\t\t&lt;/fonts&gt;\r\n\t&lt;/renderer&gt;\r\n&lt;/renderers&gt;\r\n\r\n```\r\nI added the NotoColorEmoji-Regular.ttf to support emojis. But I&#39;m still not getting the emojis in the PDF properly.\r\nI have added all the font files at the same level as the fop.xconf file.\r\nHow can I resolve this emoji issue? \r\n\r\n\r\n**[Update as at 11/04/2023]**\r\n\r\nOnce I added the &quot;Noto Color Emoji&quot; into the font-family attribute in the XSL file, it stopped showing ####### symbols. Instead now it&#39;s giving empty white symbols.\r\n\r\nIt order to test this further I created a sample application to generate PDF files using Apache FOP. You can find the project here &lt;https://github.com/sachindragh/pdf-testing&gt;.\r\n\r\nFollowing are the java code, xsl file, input.xml and the fop.xonf file contents in it.\r\n\r\n    public static void main(String[] args) throws SAXException, TransformerException, IOException {\r\n        FopFactory fopFactory = FopFactory.newInstance(new File(&quot;./fop.xconf&quot;));\r\n        OutputStream out = new BufferedOutputStream(new FileOutputStream(new File(&quot;fop2_8output.pdf&quot;)));\r\n        try {\r\n            Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, out);\r\n            TransformerFactory factory = TransformerFactory.newInstance();\r\n            Transformer transformer = factory.newTransformer(new StreamSource(new File(&quot;stylesheet.xsl&quot;)));\r\n            Source src = new StreamSource(new File(&quot;input.xml&quot;));\r\n            Result res = new SAXResult(fop.getDefaultHandler());\r\n            transformer.transform(src, res);\r\n            System.out.println(&quot;PDF file generated successfully.&quot;);\r\n        } finally {\r\n            out.close();\r\n        }\r\n    }\r\n\r\n\r\nstylesheet.xsl\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot;\r\n                    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                    xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\r\n        &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n        &lt;xsl:template match=&quot;/&quot;&gt;\r\n            &lt;!-- Vladimir Script    VLADIMIR.TTF --&gt;\r\n            &lt;!-- Viner Hand ITC     VINERITC.TTF --&gt;\r\n            &lt;!-- Noto Color Emoji   NotoColorEmoji-Regular.ttf --&gt;\r\n            &lt;fo:root font-family=&quot;Noto Color Emoji,Viner Hand ITC&quot;&gt;\r\n                &lt;fo:layout-master-set&gt;\r\n                    &lt;fo:simple-page-master master-name=&quot;A4-portrait&quot;\r\n                                           page-height=&quot;29.7cm&quot; page-width=&quot;21.0cm&quot; margin=&quot;2cm&quot;&gt;\r\n                        &lt;fo:region-body/&gt;\r\n                    &lt;/fo:simple-page-master&gt;\r\n                &lt;/fo:layout-master-set&gt;\r\n                &lt;fo:page-sequence master-reference=&quot;A4-portrait&quot;&gt;\r\n                    &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\r\n                        &lt;fo:block font-family=&quot;Noto Color Emoji,Viner Hand ITC&quot;&gt;\r\n                            &lt;xsl:value-of select=&quot;value&quot;/&gt;\r\n                        &lt;/fo:block&gt;\r\n                    &lt;/fo:flow&gt;\r\n                &lt;/fo:page-sequence&gt;\r\n            &lt;/fo:root&gt;\r\n        &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n\r\ninput.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;value&gt;\r\n        This is a sample text Emojis\r\n        BMP Glyphs  &amp;#x2663; &amp;#x2705;\r\n        Non-BMP Glyphs  &amp;#x1F410; &amp;#x1F600;\r\n    &lt;/value&gt;\r\n\r\nfop.xconf\r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;fop version=&quot;1.0&quot;&gt;\r\n      &lt;renderers&gt;\r\n        &lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n          &lt;filterList&gt;\r\n            &lt;value&gt;flate&lt;/value&gt;\r\n          &lt;/filterList&gt;\r\n          &lt;fonts&gt;\r\n            &lt;font embed-url=&quot;NotoColorEmoji-Regular.ttf&quot;&gt;\r\n                &lt;font-triplet name=&quot;Noto Color Emoji&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n            &lt;/font&gt;\r\n            &lt;font embed-url=&quot;VINERITC.TTF&quot;&gt;\r\n              &lt;font-triplet name=&quot;Viner Hand ITC&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n            &lt;/font&gt;\r\n            &lt;!--&lt;font embed-url=&quot;VLADIMIR.TTF&quot;&gt;\r\n              &lt;font-triplet name=&quot;Vladimir Script&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\r\n            &lt;/font&gt;--&gt;\r\n          &lt;/fonts&gt;\r\n          &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;/renderer&gt;\r\n      &lt;/renderers&gt;\r\n    &lt;/fop&gt;\r\n\r\n\r\nI ran the above example for Apache FOP library version 2.4 and 2.8 with PDF version set to 1.4 and 1.7 in each library. In the input.xml I added both BMP glyphs(U+2663, U+2705) and non-BMP glyphs(U+1F410, U+1F600). But I get the same result with empty white symbols for both BMP glyphs and non-BMP glyphs. Following is what pdf output looks like.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I do a select all I can see some characters getting selected in those empty spaces.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd when I copy and paste the selected text into notepad some of the characters appear as follows.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI also looked into the FOP issue &lt;https://issues.apache.org/jira/browse/FOP-1969&gt; mentioned by @Kevin Brown. It seems a fix for the issue is already merged in 2.3 release.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nCan anyone help me to figure this issue or any options that I can try to solve this?\r\n\r\n  [1]: https://i.stack.imgur.com/t1aHS.png\r\n  [2]: https://i.stack.imgur.com/ksnyY.png\r\n  [3]: https://i.stack.imgur.com/uc7hZ.png\r\n  [4]: https://i.stack.imgur.com/qeC2S.png","title":"Getting ###### instead of Emojis When Generating PDF using Apache FOP 2.4","body":"<p>I'm generating PDF in a web application which is using Apache FOP 2.4. When generating PDF with Emojis it is resulting in the PDF as ###############. But normal alphanumeric text is appearing properly.\nFollowing is how my renderers looks like in fop.xconf file.</p>\n<pre><code>&lt;renderers&gt;\n    &lt;renderer mime=&quot;application/pdf&quot;&gt;\n        &lt;filterList&gt;\n            &lt;value&gt;flate&lt;/value&gt;\n        &lt;/filterList&gt;\n        &lt;fonts&gt;\n            &lt;font embed-url=&quot;ARIAL.TTF&quot;&gt;\n                &lt;font-triplet name=&quot;Arial&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n            &lt;/font&gt;\n            &lt;font embed-url=&quot;ARIALBD.TTF&quot;&gt;\n                &lt;font-triplet name=&quot;Arial&quot; style=&quot;normal&quot; weight=&quot;bold&quot;/&gt;\n            &lt;/font&gt;\n            &lt;font embed-url=&quot;ARIALI.TTF&quot;&gt;\n                &lt;font-triplet name=&quot;Arial&quot; style=&quot;italic&quot; weight=&quot;normal&quot;/&gt;\n            &lt;/font&gt;\n            &lt;font embed-url=&quot;ARIALBI.TTF&quot;&gt;\n                &lt;font-triplet name=&quot;Arial&quot; style=&quot;italic&quot; weight=&quot;bold&quot;/&gt;\n            &lt;/font&gt;\n            &lt;font embed-url=&quot;ARIALUNI.TTF&quot;&gt;\n                &lt;font-triplet name=&quot;Arial Unicode MS&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n            &lt;/font&gt;\n            &lt;font embed-url=&quot;NotoColorEmoji-Regular.ttf&quot;&gt;\n                &lt;font-triplet name=&quot;Noto Color Emoji&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n            &lt;/font&gt;\n            &lt;font embed-url=&quot;MSGOTHIC.TTC&quot; metrics-url=&quot;msgothic.xml&quot;&gt;\n                &lt;font-triplet name=&quot;Gothic&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n                &lt;font-triplet name=&quot;Gothic&quot; style=&quot;normal&quot; weight=&quot;bold&quot;/&gt;\n                &lt;font-triplet name=&quot;Gothic&quot; style=&quot;italic&quot; weight=&quot;normal&quot;/&gt;\n                &lt;font-triplet name=&quot;Gothic&quot; style=&quot;italic&quot; weight=&quot;bold&quot;/&gt;\n            &lt;/font&gt;\n        &lt;/fonts&gt;\n    &lt;/renderer&gt;\n&lt;/renderers&gt;\n\n</code></pre>\n<p>I added the NotoColorEmoji-Regular.ttf to support emojis. But I'm still not getting the emojis in the PDF properly.\nI have added all the font files at the same level as the fop.xconf file.\nHow can I resolve this emoji issue?</p>\n<p><strong>[Update as at 11/04/2023]</strong></p>\n<p>Once I added the &quot;Noto Color Emoji&quot; into the font-family attribute in the XSL file, it stopped showing ####### symbols. Instead now it's giving empty white symbols.</p>\n<p>It order to test this further I created a sample application to generate PDF files using Apache FOP. You can find the project here <a href=\"https://github.com/sachindragh/pdf-testing\" rel=\"nofollow noreferrer\">https://github.com/sachindragh/pdf-testing</a>.</p>\n<p>Following are the java code, xsl file, input.xml and the fop.xonf file contents in it.</p>\n<pre><code>public static void main(String[] args) throws SAXException, TransformerException, IOException {\n    FopFactory fopFactory = FopFactory.newInstance(new File(&quot;./fop.xconf&quot;));\n    OutputStream out = new BufferedOutputStream(new FileOutputStream(new File(&quot;fop2_8output.pdf&quot;)));\n    try {\n        Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, out);\n        TransformerFactory factory = TransformerFactory.newInstance();\n        Transformer transformer = factory.newTransformer(new StreamSource(new File(&quot;stylesheet.xsl&quot;)));\n        Source src = new StreamSource(new File(&quot;input.xml&quot;));\n        Result res = new SAXResult(fop.getDefaultHandler());\n        transformer.transform(src, res);\n        System.out.println(&quot;PDF file generated successfully.&quot;);\n    } finally {\n        out.close();\n    }\n}\n</code></pre>\n<p>stylesheet.xsl</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot;\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;!-- Vladimir Script    VLADIMIR.TTF --&gt;\n        &lt;!-- Viner Hand ITC     VINERITC.TTF --&gt;\n        &lt;!-- Noto Color Emoji   NotoColorEmoji-Regular.ttf --&gt;\n        &lt;fo:root font-family=&quot;Noto Color Emoji,Viner Hand ITC&quot;&gt;\n            &lt;fo:layout-master-set&gt;\n                &lt;fo:simple-page-master master-name=&quot;A4-portrait&quot;\n                                       page-height=&quot;29.7cm&quot; page-width=&quot;21.0cm&quot; margin=&quot;2cm&quot;&gt;\n                    &lt;fo:region-body/&gt;\n                &lt;/fo:simple-page-master&gt;\n            &lt;/fo:layout-master-set&gt;\n            &lt;fo:page-sequence master-reference=&quot;A4-portrait&quot;&gt;\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\n                    &lt;fo:block font-family=&quot;Noto Color Emoji,Viner Hand ITC&quot;&gt;\n                        &lt;xsl:value-of select=&quot;value&quot;/&gt;\n                    &lt;/fo:block&gt;\n                &lt;/fo:flow&gt;\n            &lt;/fo:page-sequence&gt;\n        &lt;/fo:root&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>input.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;value&gt;\n    This is a sample text Emojis\n    BMP Glyphs  &amp;#x2663; &amp;#x2705;\n    Non-BMP Glyphs  &amp;#x1F410; &amp;#x1F600;\n&lt;/value&gt;\n</code></pre>\n<p>fop.xconf</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;fop version=&quot;1.0&quot;&gt;\n  &lt;renderers&gt;\n    &lt;renderer mime=&quot;application/pdf&quot;&gt;\n      &lt;filterList&gt;\n        &lt;value&gt;flate&lt;/value&gt;\n      &lt;/filterList&gt;\n      &lt;fonts&gt;\n        &lt;font embed-url=&quot;NotoColorEmoji-Regular.ttf&quot;&gt;\n            &lt;font-triplet name=&quot;Noto Color Emoji&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n        &lt;/font&gt;\n        &lt;font embed-url=&quot;VINERITC.TTF&quot;&gt;\n          &lt;font-triplet name=&quot;Viner Hand ITC&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n        &lt;/font&gt;\n        &lt;!--&lt;font embed-url=&quot;VLADIMIR.TTF&quot;&gt;\n          &lt;font-triplet name=&quot;Vladimir Script&quot; style=&quot;normal&quot; weight=&quot;normal&quot;/&gt;\n        &lt;/font&gt;--&gt;\n      &lt;/fonts&gt;\n      &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/renderer&gt;\n  &lt;/renderers&gt;\n&lt;/fop&gt;\n</code></pre>\n<p>I ran the above example for Apache FOP library version 2.4 and 2.8 with PDF version set to 1.4 and 1.7 in each library. In the input.xml I added both BMP glyphs(U+2663, U+2705) and non-BMP glyphs(U+1F410, U+1F600). But I get the same result with empty white symbols for both BMP glyphs and non-BMP glyphs. Following is what pdf output looks like.</p>\n<p><a href=\"https://i.stack.imgur.com/t1aHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t1aHS.png\" alt=\"enter image description here\" /></a></p>\n<p>When I do a select all I can see some characters getting selected in those empty spaces.</p>\n<p><a href=\"https://i.stack.imgur.com/ksnyY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ksnyY.png\" alt=\"enter image description here\" /></a></p>\n<p>And when I copy and paste the selected text into notepad some of the characters appear as follows.</p>\n<p><a href=\"https://i.stack.imgur.com/uc7hZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uc7hZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I also looked into the FOP issue <a href=\"https://issues.apache.org/jira/browse/FOP-1969\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FOP-1969</a> mentioned by @Kevin Brown. It seems a fix for the issue is already merged in 2.3 release.</p>\n<p><a href=\"https://i.stack.imgur.com/qeC2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qeC2S.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me to figure this issue or any options that I can try to solve this?</p>\n"},{"tags":["java","sockets","socket.io","background","libgdx"],"answers":[{"tags":[],"owner":{"account_id":18397708,"reputation":1,"user_id":20809237,"display_name":"Rodrigo Mac-knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671380148,"creation_date":1671380148,"answer_id":74842819,"question_id":71461711,"body_markdown":"For anyone having this problem: \r\nYou will have to override @hide from the screen interface like so:\r\n\r\n    @Override\r\n    public void hide() {\r\n        System.exit(0);\r\n    }\r\n\r\n","title":"basic java libgdx program runs in background after closing because of socket.io socket.connect","body":"<p>For anyone having this problem:\nYou will have to override @hide from the screen interface like so:</p>\n<pre><code>@Override\npublic void hide() {\n    System.exit(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3959878,"reputation":29,"user_id":3267255,"display_name":"Supermaximus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681229302,"creation_date":1681229302,"answer_id":75987994,"question_id":71461711,"body_markdown":"I don&#39;t think this is correct solution for this problem. You should not call System.exit(0) from libgdx code. But how to correctly close process I don&#39;t know.","title":"basic java libgdx program runs in background after closing because of socket.io socket.connect","body":"<p>I don't think this is correct solution for this problem. You should not call System.exit(0) from libgdx code. But how to correctly close process I don't know.</p>\n"}],"owner":{"account_id":8322799,"reputation":31,"user_id":6253813,"display_name":"gesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681229302,"creation_date":1647214792,"question_id":71461711,"body_markdown":"In a java libgdx project, the program continues running in the background on desktop even after it is closed.&lt;br&gt;\r\nThis is happening due to the line ```socket.connect();```\r\nIf that line of code is removed the program will close properly (i.e. not hang in the background).&lt;br&gt;\r\nEven closing the socket immediately after opening it does not stop this from happening. I cannot figure out why. Does anyone know why this is?\r\n\r\nAdditional info:\r\n\r\nsocket.io version:\r\n```&#39;io.socket:socket.io-client:2.0.1&#39;```\r\n\r\njava -version:\r\n   \r\n\r\n     java version &quot;15.0.2&quot; 2021-01-19\r\n     Java(TM) SE Runtime Environment (build 15.0.2+7-27)\r\n     Java HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\r\n\r\nsample code from the simple program:\r\n\r\n    imports ...\r\n    import io.socket.client.IO;\r\n    import io.socket.client.Socket;\r\n    import io.socket.emitter.Emitter;\r\n\r\n    public class game extends ApplicationAdapter {\r\n    \tprivate Socket socket;\r\n    \t\r\n    \t@Override // called when program starts\r\n    \tpublic void create() {\r\n    \t\tconnectSocket();\r\n    \t\tconfigSocEvs();\r\n    \t}\r\n    \t\r\n    \tvoid connectSocket() {\r\n    \t\ttry {\r\n    \t\t\tsocket = IO.socket(&quot;http://localhost:8080&quot;);\r\n    \t\t\tsocket.connect(); // if this is commented out the program will not hang\r\n    \t\t\t\r\n    \t\t\t    // socket is turned off right after it is created but the program still hangs\r\n    \t\t\t\tsocket.off();\r\n    \t\t\t\tsocket.disconnect();\r\n    \t\t\t\tGdx.app.log(&quot;\t&quot;, &quot;socket closed&quot;);\r\n    \t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.err.println(e.getStackTrace());\r\n    \t\t}\r\n    \t}\r\n        \r\n        // removing the code from this method does not stop the problem\r\n    \tvoid configSocEvs() {\r\n    \t\tsocket.on(Socket.EVENT_CONNECT, new Emitter.Listener() {\r\n    \t\t\tpublic void call(Object... args) {\r\n    \t\t\t\tGdx.app.log(&quot;EVENT_CONNECT&quot;, &quot;client side callback method-EVENT_CONNECT&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/*Called when the program is closed*/\r\n    \t@Override\r\n    \tpublic void dispose() {\r\n            // socket is disconnected again. this does not stop program hanging\r\n\t\t    if (socket != null) {\r\n\t\t\t    socket.off();\r\n\t\t\t    socket.disconnect();\r\n\t\t    }\r\n    \t\t//System.exit(0); // if this is uncommented the program will NOT hang regardless of if the socket is closed.\r\n    \t}\r\n    \r\n    \t//...\r\n    }\r\n\r\n\r\n","title":"basic java libgdx program runs in background after closing because of socket.io socket.connect","body":"<p>In a java libgdx project, the program continues running in the background on desktop even after it is closed.<br>\nThis is happening due to the line <code>socket.connect();</code>\nIf that line of code is removed the program will close properly (i.e. not hang in the background).<br>\nEven closing the socket immediately after opening it does not stop this from happening. I cannot figure out why. Does anyone know why this is?</p>\n<p>Additional info:</p>\n<p>socket.io version:\n<code>'io.socket:socket.io-client:2.0.1'</code></p>\n<p>java -version:</p>\n<pre><code> java version &quot;15.0.2&quot; 2021-01-19\n Java(TM) SE Runtime Environment (build 15.0.2+7-27)\n Java HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\n</code></pre>\n<p>sample code from the simple program:</p>\n<pre><code>imports ...\nimport io.socket.client.IO;\nimport io.socket.client.Socket;\nimport io.socket.emitter.Emitter;\n\npublic class game extends ApplicationAdapter {\n    private Socket socket;\n    \n    @Override // called when program starts\n    public void create() {\n        connectSocket();\n        configSocEvs();\n    }\n    \n    void connectSocket() {\n        try {\n            socket = IO.socket(&quot;http://localhost:8080&quot;);\n            socket.connect(); // if this is commented out the program will not hang\n            \n                // socket is turned off right after it is created but the program still hangs\n                socket.off();\n                socket.disconnect();\n                Gdx.app.log(&quot;   &quot;, &quot;socket closed&quot;);\n            \n        } catch (Exception e) {\n            System.err.println(e.getStackTrace());\n        }\n    }\n    \n    // removing the code from this method does not stop the problem\n    void configSocEvs() {\n        socket.on(Socket.EVENT_CONNECT, new Emitter.Listener() {\n            public void call(Object... args) {\n                Gdx.app.log(&quot;EVENT_CONNECT&quot;, &quot;client side callback method-EVENT_CONNECT&quot;);\n            }\n        });\n    }\n\n    /*Called when the program is closed*/\n    @Override\n    public void dispose() {\n        // socket is disconnected again. this does not stop program hanging\n        if (socket != null) {\n            socket.off();\n            socket.disconnect();\n        }\n        //System.exit(0); // if this is uncommented the program will NOT hang regardless of if the socket is closed.\n    }\n\n    //...\n}\n</code></pre>\n"},{"tags":["java","spring","docker","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":12646773,"reputation":177,"user_id":9192248,"display_name":"Decrux"},"score":0,"creation_date":1681231855,"post_id":75400353,"comment_id":134022013,"body_markdown":"Did you find an answer to your question because I am struggling with the same thing?","body":"Did you find an answer to your question because I am struggling with the same thing?"},{"owner":{"account_id":2913536,"reputation":51,"user_id":2497261,"display_name":"Firpo"},"score":0,"creation_date":1681282653,"post_id":75400353,"comment_id":134029437,"body_markdown":"Not a really satisfying one. I basically just use the public URI everywhere, instead of the docker-internal one.\nThere should also be the possibility to override the validation logic inside the spring resource server. But I didn&#39;t try that out yet. \nhttps://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-validation-custom","body":"Not a really satisfying one. I basically just use the public URI everywhere, instead of the docker-internal one. There should also be the possibility to override the validation logic inside the spring resource server. But I didn&#39;t try that out yet.  <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-validation-custom\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"}],"owner":{"account_id":2913536,"reputation":51,"user_id":2497261,"display_name":"Firpo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681229119,"creation_date":1675954332,"question_id":75400353,"body_markdown":"I want to deploy a Spring microservices application using Docker Compose.\r\n\r\nI have a Keycloak container running with a public *Authorization Code Flow (with PKCE)* client configured and now I want to authenticate with a webapp that&#39;s hosted on another server or with a mobile app.\r\n\r\nI have set the `KC_HOSTNAME_URL` of the Keycloak container to the public IP like `http://1.2.3.4:8080` and in my webapp I have set the authority URL to `http://1.2.3.4:8080/realms/my-realm` (using `oidc-react` package).\r\n\r\nThis way general authentication with Keycloak works.\r\nBut when I want to make a request to one of my services with the received token, Spring gives me the error: \r\n```\r\njava.lang.IllegalStateException: The Issuer &quot;http://1.2.3.4:8080/realms/my-realm&quot; provided in the configuration did not match the requested issuer &quot;http://keycloak:8080/realms/my-realm&quot;\r\n```\r\n\r\nThis makes sense, because my services are configured with `spring.security.oauth2.resourceserver.jwt.issuer-uri=http://keycloak:8080/realms/my-realm`, when running inside docker.\r\n\r\nI just don&#39;t know what I am missing in order to obtain a token using a public IP/Domain from a public client on the one hand and on the other hand validating that token inside docker using docker-internal names.","title":"Keycloak Docker setup with Spring","body":"<p>I want to deploy a Spring microservices application using Docker Compose.</p>\n<p>I have a Keycloak container running with a public <em>Authorization Code Flow (with PKCE)</em> client configured and now I want to authenticate with a webapp that's hosted on another server or with a mobile app.</p>\n<p>I have set the <code>KC_HOSTNAME_URL</code> of the Keycloak container to the public IP like <code>http://1.2.3.4:8080</code> and in my webapp I have set the authority URL to <code>http://1.2.3.4:8080/realms/my-realm</code> (using <code>oidc-react</code> package).</p>\n<p>This way general authentication with Keycloak works.\nBut when I want to make a request to one of my services with the received token, Spring gives me the error:</p>\n<pre><code>java.lang.IllegalStateException: The Issuer &quot;http://1.2.3.4:8080/realms/my-realm&quot; provided in the configuration did not match the requested issuer &quot;http://keycloak:8080/realms/my-realm&quot;\n</code></pre>\n<p>This makes sense, because my services are configured with <code>spring.security.oauth2.resourceserver.jwt.issuer-uri=http://keycloak:8080/realms/my-realm</code>, when running inside docker.</p>\n<p>I just don't know what I am missing in order to obtain a token using a public IP/Domain from a public client on the one hand and on the other hand validating that token inside docker using docker-internal names.</p>\n"},{"tags":["java","android","download","blob"],"comments":[{"owner":{"account_id":17023583,"reputation":869,"user_id":12901786,"display_name":"Marsad"},"score":0,"creation_date":1681229030,"post_id":68066626,"comment_id":134021303,"body_markdown":"@RomanSoviak I posted it as an answer, but haven&#39;t tested it yet. Let me know if this is working or not","body":"@RomanSoviak I posted it as an answer, but haven&#39;t tested it yet. Let me know if this is working or not"}],"answers":[{"tags":[],"owner":{"account_id":17023583,"reputation":869,"user_id":12901786,"display_name":"Marsad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681228954,"creation_date":1681228954,"answer_id":75987937,"question_id":68066626,"body_markdown":"The updated `convertToGifAndProcess` method reads the blob data as an input stream and writes it to the file output stream without converting it to base64 format.\r\n\r\n```java\r\nprivate void convertToGifAndProcess(String base64) {\r\n    ContextWrapper wrapper = new ContextWrapper(mContext);\r\n    String fullPath = wrapper.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString();\r\n    File gifFile = new File(fullPath+ &quot;/File_&quot; + System.currentTimeMillis() + &quot;_.gif&quot;);\r\n\r\n    try {\r\n        URL url = new URL(base64);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setDoOutput(true);\r\n        connection.connect();\r\n        InputStream input = connection.getInputStream();\r\n        FileOutputStream output = new FileOutputStream(gifFile);\r\n        byte[] buffer = new byte[1024];\r\n        int bytesRead;\r\n        while ((bytesRead = input.read(buffer)) != -1) {\r\n            output.write(buffer, 0, bytesRead);\r\n        }\r\n        output.flush();\r\n        output.close();\r\n        input.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    Toast.makeText(mContext, &quot;Downloaded &quot;, Toast.LENGTH_SHORT).show();\r\n    if (mDownloadGifSuccessListener != null) {\r\n        mDownloadGifSuccessListener.downloadGifSuccess(gifFile.getAbsolutePath());\r\n    }\r\n}\r\n```","title":"Get data from blob in android webview","body":"<p>The updated <code>convertToGifAndProcess</code> method reads the blob data as an input stream and writes it to the file output stream without converting it to base64 format.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void convertToGifAndProcess(String base64) {\n    ContextWrapper wrapper = new ContextWrapper(mContext);\n    String fullPath = wrapper.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString();\n    File gifFile = new File(fullPath+ &quot;/File_&quot; + System.currentTimeMillis() + &quot;_.gif&quot;);\n\n    try {\n        URL url = new URL(base64);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setDoOutput(true);\n        connection.connect();\n        InputStream input = connection.getInputStream();\n        FileOutputStream output = new FileOutputStream(gifFile);\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = input.read(buffer)) != -1) {\n            output.write(buffer, 0, bytesRead);\n        }\n        output.flush();\n        output.close();\n        input.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    Toast.makeText(mContext, &quot;Downloaded &quot;, Toast.LENGTH_SHORT).show();\n    if (mDownloadGifSuccessListener != null) {\n        mDownloadGifSuccessListener.downloadGifSuccess(gifFile.getAbsolutePath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17023583,"reputation":869,"user_id":12901786,"display_name":"Marsad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681228954,"creation_date":1624272716,"question_id":68066626,"body_markdown":"I&#39;m creating an application that uses `web view` to load the website and allow to download data like IMG/PDF/GIF. The problem is that the download link is not a normal link it&#39;s `blob:`.\r\n\r\nI know `blob:` `URL` does not refer to the data that exists on the server, it refers to data that your browser currently has in memory.\r\n\r\n```\r\nclass DownloadBlobFileJSInterface {\r\n\r\n    private Context mContext;\r\n    private DownloadGifSuccessListener mDownloadGifSuccessListener;\r\n\r\n    public DownloadBlobFileJSInterface(Context context) {\r\n        this.mContext = context;\r\n    }\r\n\r\n    public static String getBase64StringFromBlobUrl(String blobUrl) {\r\n        if (blobUrl.startsWith(&quot;blob&quot;)) {\r\n            return &quot;javascript: var xhr = new XMLHttpRequest();&quot; +\r\n                    &quot;xhr.open(&#39;GET&#39;, &#39;&quot; + blobUrl + &quot;&#39;, true);&quot; +\r\n                    &quot;xhr.setRequestHeader(&#39;Content-type&#39;,&#39;image/gif&#39;);&quot; +\r\n                    &quot;xhr.responseType = &#39;blob&#39;;&quot; +\r\n                    &quot;xhr.onload = function(e) {&quot; +\r\n                    &quot;    if (this.status == 200) {&quot; +\r\n                    &quot;        var blobFile = this.response;&quot; +\r\n                    &quot;        var reader = new FileReader();&quot; +\r\n                    &quot;        reader.readAsDataURL(blobFile);&quot; +\r\n                    &quot;        reader.onloadend = function() {&quot; +\r\n                    &quot;            base64data = reader.result;&quot; +\r\n                    &quot;            Android.getBase64FromBlobData(base64data);&quot; +\r\n                    &quot;        }&quot; +\r\n                    &quot;    }&quot; +\r\n                    &quot;};&quot; +\r\n                    &quot;xhr.send();&quot;;\r\n        }\r\n        return &quot;javascript: console.log(&#39;It is not a Blob URL&#39;);&quot;;\r\n    }\r\n\r\n    public void setDownloadGifSuccessListener(DownloadGifSuccessListener listener) {\r\n        mDownloadGifSuccessListener = listener;\r\n    }\r\n\r\n    @JavascriptInterface\r\n    public void getBase64FromBlobData(String base64Data) {\r\n        convertToGifAndProcess(base64Data);\r\n    }\r\n\r\n    private void convertToGifAndProcess(String base64) {\r\n\r\n        ContextWrapper wrapper = new ContextWrapper(mContext);\r\n        String fullPath =wrapper.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString();\r\n\r\n        File gifFile = new File(fullPath+ &quot;/File_&quot; + System.currentTimeMillis() + &quot;_.gif&quot;);\r\n\r\n\r\n        saveGifToPath(base64, gifFile);\r\n        Toast.makeText(mContext, &quot;Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        if (mDownloadGifSuccessListener != null) {\r\n            mDownloadGifSuccessListener.downloadGifSuccess(gifFile.getAbsolutePath());\r\n        }\r\n    }\r\n\r\n    private void saveGifToPath(String base64, File gifFilePath) {\r\n        try {\r\n            byte[] fileBytes = Base64.decode(base64.replaceFirst(\r\n                    &quot;data:image/gif;base64,&quot;, &quot;&quot;), 0);\r\n            FileOutputStream os = new FileOutputStream(gifFilePath, false);\r\n            os.write(fileBytes);\r\n            os.flush();\r\n            os.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public interface DownloadGifSuccessListener {\r\n        void downloadGifSuccess(String absolutePath);\r\n    }\r\n}\r\n```\r\n\r\nI want to download the file in device storage. \r\n&gt; Is there any way to get data from the `blob:` URL?\r\n\r\nOr\r\n\r\n&gt;Is it possible to send that data to chrome to download.\r\n\r\nI know there is a lot of questions out there like [this][1], [this][2] on StackOverflow, I almost tried all but didn&#39;t find any of these working.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48892390/download-blob-file-from-website-inside-android-webviewclient\r\n  [2]: https://stackoverflow.com/questions/14952052/convert-blob-url-to-normal-url","title":"Get data from blob in android webview","body":"<p>I'm creating an application that uses <code>web view</code> to load the website and allow to download data like IMG/PDF/GIF. The problem is that the download link is not a normal link it's <code>blob:</code>.</p>\n<p>I know <code>blob:</code> <code>URL</code> does not refer to the data that exists on the server, it refers to data that your browser currently has in memory.</p>\n<pre><code>class DownloadBlobFileJSInterface {\n\n    private Context mContext;\n    private DownloadGifSuccessListener mDownloadGifSuccessListener;\n\n    public DownloadBlobFileJSInterface(Context context) {\n        this.mContext = context;\n    }\n\n    public static String getBase64StringFromBlobUrl(String blobUrl) {\n        if (blobUrl.startsWith(&quot;blob&quot;)) {\n            return &quot;javascript: var xhr = new XMLHttpRequest();&quot; +\n                    &quot;xhr.open('GET', '&quot; + blobUrl + &quot;', true);&quot; +\n                    &quot;xhr.setRequestHeader('Content-type','image/gif');&quot; +\n                    &quot;xhr.responseType = 'blob';&quot; +\n                    &quot;xhr.onload = function(e) {&quot; +\n                    &quot;    if (this.status == 200) {&quot; +\n                    &quot;        var blobFile = this.response;&quot; +\n                    &quot;        var reader = new FileReader();&quot; +\n                    &quot;        reader.readAsDataURL(blobFile);&quot; +\n                    &quot;        reader.onloadend = function() {&quot; +\n                    &quot;            base64data = reader.result;&quot; +\n                    &quot;            Android.getBase64FromBlobData(base64data);&quot; +\n                    &quot;        }&quot; +\n                    &quot;    }&quot; +\n                    &quot;};&quot; +\n                    &quot;xhr.send();&quot;;\n        }\n        return &quot;javascript: console.log('It is not a Blob URL');&quot;;\n    }\n\n    public void setDownloadGifSuccessListener(DownloadGifSuccessListener listener) {\n        mDownloadGifSuccessListener = listener;\n    }\n\n    @JavascriptInterface\n    public void getBase64FromBlobData(String base64Data) {\n        convertToGifAndProcess(base64Data);\n    }\n\n    private void convertToGifAndProcess(String base64) {\n\n        ContextWrapper wrapper = new ContextWrapper(mContext);\n        String fullPath =wrapper.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString();\n\n        File gifFile = new File(fullPath+ &quot;/File_&quot; + System.currentTimeMillis() + &quot;_.gif&quot;);\n\n\n        saveGifToPath(base64, gifFile);\n        Toast.makeText(mContext, &quot;Downloaded&quot;, Toast.LENGTH_SHORT).show();\n        if (mDownloadGifSuccessListener != null) {\n            mDownloadGifSuccessListener.downloadGifSuccess(gifFile.getAbsolutePath());\n        }\n    }\n\n    private void saveGifToPath(String base64, File gifFilePath) {\n        try {\n            byte[] fileBytes = Base64.decode(base64.replaceFirst(\n                    &quot;data:image/gif;base64,&quot;, &quot;&quot;), 0);\n            FileOutputStream os = new FileOutputStream(gifFilePath, false);\n            os.write(fileBytes);\n            os.flush();\n            os.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public interface DownloadGifSuccessListener {\n        void downloadGifSuccess(String absolutePath);\n    }\n}\n</code></pre>\n<p>I want to download the file in device storage.</p>\n<blockquote>\n<p>Is there any way to get data from the <code>blob:</code> URL?</p>\n</blockquote>\n<p>Or</p>\n<blockquote>\n<p>Is it possible to send that data to chrome to download.</p>\n</blockquote>\n<p>I know there is a lot of questions out there like <a href=\"https://stackoverflow.com/questions/48892390/download-blob-file-from-website-inside-android-webviewclient\">this</a>, <a href=\"https://stackoverflow.com/questions/14952052/convert-blob-url-to-normal-url\">this</a> on StackOverflow, I almost tried all but didn't find any of these working.</p>\n"},{"tags":["java","performance","itext","pdfbox"],"comments":[{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":2,"creation_date":1394607754,"post_id":22340674,"comment_id":33959605,"body_markdown":"I agree with Elliott Frisch: I don&#39;t see a question in your post. Also note that you need to be sure that you&#39;re not comparing apples with oranges: PDFs can be constructed in many different ways. I&#39;m not a PDFBox expert, but I wrote iText and iText has different strategies to parse PDF. Some strategies are fast, others are slow. The resulting text can also differ. In one of my assignments for the government, I wrote a benchmark using iText only and the difference in speed between strategies was more than a factor 100.","body":"I agree with Elliott Frisch: I don&#39;t see a question in your post. Also note that you need to be sure that you&#39;re not comparing apples with oranges: PDFs can be constructed in many different ways. I&#39;m not a PDFBox expert, but I wrote iText and iText has different strategies to parse PDF. Some strategies are fast, others are slow. The resulting text can also differ. In one of my assignments for the government, I wrote a benchmark using iText only and the difference in speed between strategies was more than a factor 100."},{"owner":{"account_id":41904,"reputation":5388,"user_id":121956,"accept_rate":44,"display_name":"Gili Nachum"},"score":1,"creation_date":1435097903,"post_id":22340674,"comment_id":50055673,"body_markdown":"In a single file benchmark I found that the following cuts extraction time by half (2sec-&gt;1sec). PDFTextStripper.setSuppressDuplicateOverlappingText(false);\nI&#39;m not yet sure about effects it may have on accuracy.","body":"In a single file benchmark I found that the following cuts extraction time by half (2sec-&gt;1sec). PDFTextStripper.setSuppressDuplicateOverlappingText(false); I&#39;m not yet sure about effects it may have on accuracy."},{"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"score":0,"creation_date":1667514199,"post_id":22340674,"comment_id":131191154,"body_markdown":"Aside of performance keep in mind that `iTextPdf` is licensed under AGPL which can be too restrictive. The [README](https://github.com/itext/itext7) on github explicitly mentions that if you use it you should distribute your software under AGPL or use a paid license. On the other hand `PdfBox` is licensed under Apache License which suits in most cases.","body":"Aside of performance keep in mind that <code>iTextPdf</code> is licensed under AGPL which can be too restrictive. The <a href=\"https://github.com/itext/itext7\" rel=\"nofollow noreferrer\">README</a> on github explicitly mentions that if you use it you should distribute your software under AGPL or use a paid license. On the other hand <code>PdfBox</code> is licensed under Apache License which suits in most cases."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1394824616,"creation_date":1394824616,"answer_id":22413884,"question_id":22340674,"body_markdown":"&gt; My question is in what the performance depends, is there a way how to make PdfBox faster?\r\n\r\nOne major difference is that PDFBox always processes text glyph by glyph while iText normally processes it chunk (i.e. single string parameter of text drawing operation) by chunk; that reduces the required resources in iText quite a lot. Furthermore the event oriented architecture of iText text parsing means a lower burden on resources than that of PDFBox. And PDFBox keeps information not strictly required for plain text extraction available for a longer time, costing more resources. \r\n\r\nBut the way the libraries initially load the document may also make a difference. Here you can experiment a bit, PDFBox not only offers multiple `PDDocument.load` overloads but also some `PDDocument.loadNonSeq` overloads (actually `PDDocument.loadNonSeq` reads documents correctly while `PDDocument.load` can be tricked to misinterpret PDFs). All these different variants may have different runtime behavior.\r\n\r\n&gt; more about how strategies affect performance?\r\n\r\niText brings along a simple and a more advanced text extraction strategy. The simple one assumes text in the page content stream to appear in reading order while the more advanced one sorts. By default the more advanced one is used. Thus, you probably can speed up iText even some more by using the simple strategy. PDFBox always sorts.","title":"Performance iText vs.PdfBox (2014)","body":"<blockquote>\n  <p>My question is in what the performance depends, is there a way how to make PdfBox faster?</p>\n</blockquote>\n\n<p>One major difference is that PDFBox always processes text glyph by glyph while iText normally processes it chunk (i.e. single string parameter of text drawing operation) by chunk; that reduces the required resources in iText quite a lot. Furthermore the event oriented architecture of iText text parsing means a lower burden on resources than that of PDFBox. And PDFBox keeps information not strictly required for plain text extraction available for a longer time, costing more resources. </p>\n\n<p>But the way the libraries initially load the document may also make a difference. Here you can experiment a bit, PDFBox not only offers multiple <code>PDDocument.load</code> overloads but also some <code>PDDocument.loadNonSeq</code> overloads (actually <code>PDDocument.loadNonSeq</code> reads documents correctly while <code>PDDocument.load</code> can be tricked to misinterpret PDFs). All these different variants may have different runtime behavior.</p>\n\n<blockquote>\n  <p>more about how strategies affect performance?</p>\n</blockquote>\n\n<p>iText brings along a simple and a more advanced text extraction strategy. The simple one assumes text in the page content stream to appear in reading order while the more advanced one sorts. By default the more advanced one is used. Thus, you probably can speed up iText even some more by using the simple strategy. PDFBox always sorts.</p>\n"},{"tags":[],"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534946949,"creation_date":1534946856,"answer_id":51968731,"question_id":22340674,"body_markdown":"In the PDFBox - Version 2.0.12, they optimized the PDFunctionType3.eval() by 30%, reduced the RAM requirement of COSOutputStream, and also removed intermediate streams when merging files. All this information is provided in their release notes. Please see the link below for more information:\r\n\r\nhttps://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12343489&amp;styleName=Html&amp;projectId=12310760&amp;Create=Create&amp;atl_token=A5KQ-2QAV-T4JA-FDED%7Cddb31610c9c60486ac6cc58a5800069ddf68ccd5%7Clout\r\n","title":"Performance iText vs.PdfBox (2014)","body":"<p>In the PDFBox - Version 2.0.12, they optimized the PDFunctionType3.eval() by 30%, reduced the RAM requirement of COSOutputStream, and also removed intermediate streams when merging files. All this information is provided in their release notes. Please see the link below for more information:</p>\n\n<p><a href=\"https://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12343489&amp;styleName=Html&amp;projectId=12310760&amp;Create=Create&amp;atl_token=A5KQ-2QAV-T4JA-FDED%7Cddb31610c9c60486ac6cc58a5800069ddf68ccd5%7Clout\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12343489&amp;styleName=Html&amp;projectId=12310760&amp;Create=Create&amp;atl_token=A5KQ-2QAV-T4JA-FDED%7Cddb31610c9c60486ac6cc58a5800069ddf68ccd5%7Clout</a></p>\n"}],"owner":{"account_id":1660711,"reputation":835,"user_id":1529064,"accept_rate":100,"display_name":"meilechh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39656,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22413884,"answer_count":2,"score":9,"last_activity_date":1681228939,"creation_date":1394590557,"question_id":22340674,"body_markdown":"I&#39;m trying to convert a pdf (my favorite book Effective Java, if its matter)to text, i checked both iText and Apache PdfBox. I see a really big difference in performance: With iText it took 2:521, and with PdfBox: 6:117.\r\nThis if my code for PdfBOx \r\n\r\n    PDFTextStripper stripper = new PDFTextStripper();\r\n    BUFFER.append(stripper.getText(PDDocument.load(pdf)));\r\n\r\nAnd this is for iText\r\n\r\n    PdfReader reader = new PdfReader(pdf);\r\n    for (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\r\n      BUFFER.append(PdfTextExtractor.getTextFromPage(reader, i));\r\n    }\r\n\r\nMy question is in what the performance depends, is there a way how to make PdfBox faster? Or only to use iText? And can you explain more about how strategies affect performance?","title":"Performance iText vs.PdfBox (2014)","body":"<p>I'm trying to convert a pdf (my favorite book Effective Java, if its matter)to text, i checked both iText and Apache PdfBox. I see a really big difference in performance: With iText it took 2:521, and with PdfBox: 6:117.\nThis if my code for PdfBOx </p>\n\n<pre><code>PDFTextStripper stripper = new PDFTextStripper();\nBUFFER.append(stripper.getText(PDDocument.load(pdf)));\n</code></pre>\n\n<p>And this is for iText</p>\n\n<pre><code>PdfReader reader = new PdfReader(pdf);\nfor (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\n  BUFFER.append(PdfTextExtractor.getTextFromPage(reader, i));\n}\n</code></pre>\n\n<p>My question is in what the performance depends, is there a way how to make PdfBox faster? Or only to use iText? And can you explain more about how strategies affect performance?</p>\n"},{"tags":["java","spring","database","hibernate","orm"],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681228506,"creation_date":1681228506,"question_id":75987865,"body_markdown":"i&#39;m very new at hibernate and have some confused . I have a table Account(Id,Username,Password,email_id) which is empty  have one-one relationship with table Email(id,email) which have few record and have code below\r\n\r\nmy Account class\r\n``` @Entity\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name = &quot;Username&quot;)\r\n    @Size(max = 3)\r\n    private String username;\r\n    @Column(name = &quot;Password&quot;)\r\n    private String password;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;email_id&quot;)\r\n    Email email;\r\n//getter setter constructor\r\n```\r\nmy Email class\r\n``` @Entity\r\n@Table(name = &quot;email&quot;)\r\npublic class Email {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @OneToOne(mappedBy = &quot;email&quot;)\r\n    private Account account;\r\n//getter setter constructor\r\n```\r\nand my function to get save entity Account\r\n```\r\n  @Autowired\r\n    SessionFactory SessionFactory;\r\n\r\npublic void addAccountDAO(Account account) {\r\n\r\n        Session session = SessionFactory.openSession();\r\n        Transaction t = session.beginTransaction();\r\n\r\n        try {\r\n/// way 1\r\n            account.setEmail(session.getReference(Email.class, 1));\r\n// way 2\r\n//            Email email = new Email();\r\n//            email.setId(1);\r\n//            account.setEmail(email);\r\n            session.save(account);\r\n            t.commit();\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n            t.rollback();\r\n\r\n        } finally {\r\n\r\n            session.close();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nMy problems is when i apply the way 2 to setEmail and insert into table account. It not only insert data to account but also update entity like output of hibernate right there\r\n\r\n```\r\nHibernate: insert into account (email_id, Password, Username) values (?, ?, ?)\r\nHibernate: update email set email=? where id=?\r\n```\r\nBut when use way 2 instead , it just insert only to account without update email. \r\n```\r\nHibernate: insert into account (email_id, Password, Username) values (?, ?, ?)\r\n```\r\nI&#39;m very confused between 2 way cause it same have a same primary key but result in different query of hibernate. Please shed the light for me on this problem, thank guys very much","title":"Confused about adding record into database using Hibernate","body":"<p>i'm very new at hibernate and have some confused . I have a table Account(Id,Username,Password,email_id) which is empty  have one-one relationship with table Email(id,email) which have few record and have code below</p>\n<p>my Account class</p>\n<pre><code>@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;Username&quot;)\n    @Size(max = 3)\n    private String username;\n    @Column(name = &quot;Password&quot;)\n    private String password;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;email_id&quot;)\n    Email email;\n//getter setter constructor\n</code></pre>\n<p>my Email class</p>\n<pre><code>@Table(name = &quot;email&quot;)\npublic class Email {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @OneToOne(mappedBy = &quot;email&quot;)\n    private Account account;\n//getter setter constructor\n</code></pre>\n<p>and my function to get save entity Account</p>\n<pre><code>  @Autowired\n    SessionFactory SessionFactory;\n\npublic void addAccountDAO(Account account) {\n\n        Session session = SessionFactory.openSession();\n        Transaction t = session.beginTransaction();\n\n        try {\n/// way 1\n            account.setEmail(session.getReference(Email.class, 1));\n// way 2\n//            Email email = new Email();\n//            email.setId(1);\n//            account.setEmail(email);\n            session.save(account);\n            t.commit();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            t.rollback();\n\n        } finally {\n\n            session.close();\n        }\n\n    }\n</code></pre>\n<p>My problems is when i apply the way 2 to setEmail and insert into table account. It not only insert data to account but also update entity like output of hibernate right there</p>\n<pre><code>Hibernate: insert into account (email_id, Password, Username) values (?, ?, ?)\nHibernate: update email set email=? where id=?\n</code></pre>\n<p>But when use way 2 instead , it just insert only to account without update email.</p>\n<pre><code>Hibernate: insert into account (email_id, Password, Username) values (?, ?, ?)\n</code></pre>\n<p>I'm very confused between 2 way cause it same have a same primary key but result in different query of hibernate. Please shed the light for me on this problem, thank guys very much</p>\n"},{"tags":["java","swing","printing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681175636,"post_id":75981717,"comment_id":134010856,"body_markdown":"*&quot;the text was printed almost white (like it was on the component)!&quot;* - Then you need to change the component - or, make use of an &quot;off screen&quot; varient which renders the text as it would appear on a white background","body":"<i>&quot;the text was printed almost white (like it was on the component)!&quot;</i> - Then you need to change the component - or, make use of an &quot;off screen&quot; varient which renders the text as it would appear on a white background"},{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1681176279,"post_id":75981717,"comment_id":134010906,"body_markdown":"@MadProgrammer I have used `printTextArea.setBackground(Color.WHITE);` but this affects only the background color, not the text color.","body":"@MadProgrammer I have used <code>printTextArea.setBackground(Color.WHITE);</code> but this affects only the background color, not the text color."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681179850,"post_id":75981717,"comment_id":134011228,"body_markdown":"`setForeground` - this will change the text color","body":"<code>setForeground</code> - this will change the text color"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681179942,"post_id":75981717,"comment_id":134011232,"body_markdown":"Alternatively, you could look at [Working with Text APIs](https://docs.oracle.com/javase/tutorial/2d/text/index.html) and develop your own `Printable` workflow ... but having done something simular recently, I&#39;d consider this a &quot;last ditch effort&quot; scenario","body":"Alternatively, you could look at <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/index.html\" rel=\"nofollow noreferrer\">Working with Text APIs</a> and develop your own <code>Printable</code> workflow ... but having done something simular recently, I&#39;d consider this a &quot;last ditch effort&quot; scenario"},{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1681228416,"post_id":75981717,"comment_id":134021182,"body_markdown":"@MadProgrammer Post your comments as an answer so I can mark them as the answer.","body":"@MadProgrammer Post your comments as an answer so I can mark them as the answer."}],"answers":[{"tags":[],"owner":{"display_name":"user21603351"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681228367,"creation_date":1681228367,"answer_id":75987846,"question_id":75981717,"body_markdown":"The answer was `textArea.setForeground();`.\r\nThanks @MadProgrammer for the answer.","title":"How do I print a text file in Java?","body":"<p>The answer was <code>textArea.setForeground();</code>.\nThanks @MadProgrammer for the answer.</p>\n"}],"owner":{"display_name":"user21603351"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75987846,"answer_count":1,"score":0,"last_activity_date":1681228367,"creation_date":1681174698,"question_id":75981717,"body_markdown":"I have a text editor that needs to print a text file. I want it to display a print preferences dialog, asking the user to select a printer, and paper settings, then print a file on the user&#39;s request.  I want this dialog&#39;s icon to be the same as my Swing application&#39;s icon, and ideally would like it to match my OS.\r\n\r\nI looked at the [answer](https://stackoverflow.com/a/2184628) to [this question](https://stackoverflow.com/questions/2184188/how-can-we-print-docs-from-swing-application) and tried to use `java.awt.print` but when I used it, all it did was pop up Windows Notepad, and immediately print to the default printer.  I want to user to be able to select a printer and other options before printing, so this was not a good method.\r\n\r\nI then looked at the [Java print text tutorial](https://docs.oracle.com/javase/tutorial/uiswing/misc/printtext.html).  I came up with the code below:\r\n\r\n```\r\ntry {\r\n    boolean complete = TexType_Dark.textArea.print();\r\n    if (complete) {\r\n        System.out.println(&quot;Done!&quot;);\r\n    }\r\n    else {\r\n        JOptionPane.showMessageDialog(TexType_Dark.frame, &quot;Error while printing file.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n    }\r\n}\r\n\r\ncatch(PrinterException pe) {\r\n    JOptionPane.showMessageDialog(TexType_Dark.frame, &quot;Error while printing file.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n}\r\nreturn;\r\n```\r\n\r\nThis worked perfectly on the [Nimbus L&amp;F](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/plaf/nimbus/package-summary.html), but when running the [FlatLaf Dark Mac L&amp;F](https://www.formdev.com/flatlaf), the text was printed almost white (like it was on the component)! See result when using Microsoft Print to PDF:\r\n[Screenshot of generated PDF](https://i.stack.imgur.com/z80N2.png)\r\n\r\nI want the printed text to always be black. Is there a way to do this?\r\n\r\nFor reference, I&#39;m trying to print a [JTextArea][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html","title":"How do I print a text file in Java?","body":"<p>I have a text editor that needs to print a text file. I want it to display a print preferences dialog, asking the user to select a printer, and paper settings, then print a file on the user's request.  I want this dialog's icon to be the same as my Swing application's icon, and ideally would like it to match my OS.</p>\n<p>I looked at the <a href=\"https://stackoverflow.com/a/2184628\">answer</a> to <a href=\"https://stackoverflow.com/questions/2184188/how-can-we-print-docs-from-swing-application\">this question</a> and tried to use <code>java.awt.print</code> but when I used it, all it did was pop up Windows Notepad, and immediately print to the default printer.  I want to user to be able to select a printer and other options before printing, so this was not a good method.</p>\n<p>I then looked at the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/printtext.html\" rel=\"nofollow noreferrer\">Java print text tutorial</a>.  I came up with the code below:</p>\n<pre><code>try {\n    boolean complete = TexType_Dark.textArea.print();\n    if (complete) {\n        System.out.println(&quot;Done!&quot;);\n    }\n    else {\n        JOptionPane.showMessageDialog(TexType_Dark.frame, &quot;Error while printing file.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n}\n\ncatch(PrinterException pe) {\n    JOptionPane.showMessageDialog(TexType_Dark.frame, &quot;Error while printing file.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n}\nreturn;\n</code></pre>\n<p>This worked perfectly on the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/plaf/nimbus/package-summary.html\" rel=\"nofollow noreferrer\">Nimbus L&amp;F</a>, but when running the <a href=\"https://www.formdev.com/flatlaf\" rel=\"nofollow noreferrer\">FlatLaf Dark Mac L&amp;F</a>, the text was printed almost white (like it was on the component)! See result when using Microsoft Print to PDF:\n<a href=\"https://i.stack.imgur.com/z80N2.png\" rel=\"nofollow noreferrer\">Screenshot of generated PDF</a></p>\n<p>I want the printed text to always be black. Is there a way to do this?</p>\n<p>For reference, I'm trying to print a <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html\" rel=\"nofollow noreferrer\">JTextArea</a>.</p>\n"},{"tags":["java","generics","linked-list","queue"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1681228419,"post_id":75987823,"comment_id":134021183,"body_markdown":"The method `rotate` is not part of your `Queue` interface, therefor you can not call it on an Object like `Queue&lt;String&gt; q2`. Either move it into the Interface, or declare your variable with the type where the method is declared, like `CircularLinkedQueue&lt;String&gt; q2`","body":"The method <code>rotate</code> is not part of your <code>Queue</code> interface, therefor you can not call it on an Object like <code>Queue&lt;String&gt; q2</code>. Either move it into the Interface, or declare your variable with the type where the method is declared, like <code>CircularLinkedQueue&lt;String&gt; q2</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1681228433,"post_id":75987823,"comment_id":134021186,"body_markdown":"Variable `q2` has the static type `Queue`, and interface `Queue` does not define a method `void rotate(int)`. This is not related to generics, but to inheritance.","body":"Variable <code>q2</code> has the static type <code>Queue</code>, and interface <code>Queue</code> does not define a method <code>void rotate(int)</code>. This is not related to generics, but to inheritance."}],"owner":{"account_id":28276777,"reputation":1,"user_id":21619125,"display_name":"Kath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681228182,"creation_date":1681228182,"question_id":75987823,"body_markdown":"I&#39;m working on some code for a class of mine, and they gave us some code to test if what we wrote works. I edited it a little to make sure that the method I was implementing worked (added the &quot;q2.rotate(2);&quot; line and then an extra print line), but when I compile the tester it tells me \r\n\r\n error: cannot find symbol\r\n        q2.rotate(2);\r\n          ^\r\n  symbol:   method rotate(int)\r\n  location: variable q2 of type Queue&lt;String&gt;\r\n\r\nAnd I&#39;m not sure how to fix this? Is this something I&#39;ll need to change in the code I&#39;m working on, or should I just change the variable type in the tester and try to avoid the problem (lol)?\r\n\r\n\r\n\r\nThis is the code I&#39;ve worked on specifically:\r\n\r\n```\r\npublic class CircularLinkedQueue&lt;E&gt; implements Queue&lt;E&gt; {\r\n\r\n    private static class Elem&lt;T&gt; {\r\n\r\n        private T value;\r\n        private Elem&lt;T&gt; next;\r\n\r\n        private Elem(T value, Elem&lt;T&gt; next) {\r\n            this.value = value;\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n    public CircularLinkedQueue () {\r\n        front = rear = null;\r\n    }\r\n\r\n    private Elem&lt;E&gt; front;\r\n    private Elem&lt;E&gt; rear;\r\n\r\npublic void enqueue(E value) {\r\n\r\n        if (value == null) {\r\n            throw new NullPointerException();\r\n        }\r\n\r\n        Elem&lt;E&gt; newElem;\r\n        newElem = new Elem&lt;E&gt;(value, null );\r\n\r\n        if (rear == null) {\r\n            front = rear = newElem;\r\n        } else {\r\n            rear.next = newElem;\r\n            rear = newElem;\r\n        }\r\n    }\r\n\r\npublic E dequeue() {\r\n        E result = front.value;\r\n\r\n        if (front.next == null) {\r\n            front = rear = null;\r\n        } else {\r\n            front = front.next;\r\n        }\r\n\r\n        return result;\r\n    }\r\n   \r\n\r\n    public void rotate(int n){\r\n        if (n==0){\r\n            return;\r\n        }\r\n        Elem&lt;E&gt; current= front;\r\n        for (int i=0; i&lt;n; i++){\r\n            if(current==null){\r\n                break;\r\n            }\r\n            current=current.next;\r\n        }\r\n\r\n        if (current==null){\r\n            return;\r\n        }\r\n        Elem&lt;E&gt; nthNode=current;\r\n\r\n        current=current.next;\r\n\r\n        current.next=front;\r\n        front=nthNode.next;\r\n        nthNode.next=null;\r\n    }\r\n\r\n@Override\r\n    public String toString() {\r\n        String str = &quot;[&quot;;\r\n        Elem&lt;E&gt; p = front;\r\n\r\n        while (p != null) {\r\n            if (p != front) {\r\n                str += &quot;, &quot;;\r\n            }\r\n            str += p.value;\r\n            p = p.next;\r\n        }\r\n        str += &quot;]&quot;;\r\n        return str;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd this is the tester I edited:\r\n\r\n\r\n```\r\npublic class D4Q1 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Queue&lt;String&gt; q2 = new CircularLinkedQueue&lt;String&gt;();\r\n        q2.enqueue(&quot;A&quot;);\r\n        q2.enqueue(&quot;B&quot;);\r\n        q2.enqueue(&quot;C&quot;);\r\n        q2.enqueue(&quot;D&quot;);\r\n        q2.enqueue(&quot;E&quot;);\r\n        q2.enqueue(&quot;F&quot;);\r\n        System.out.println(q2);\r\n        q2.dequeue();\r\n        q2.dequeue();\r\n        System.out.println(q2);\r\n        q2.rotate(2);\r\n        System.out.println(q2);\r\n    }   \r\n}\r\n\r\n```\r\n\r\nAnd this is the code I was provided for the interface Queue:\r\n\r\n```\r\npublic interface Queue&lt;E&gt; {\r\n    boolean isEmpty();\r\n    void enqueue(E o);\r\n    E dequeue();\r\n}\r\n\r\n```\r\n\r\nIf someone could show me how to fix this problem and explain to me exactly why it&#39;s happening, that would be great! (I apologize in advance if I misused any terms; I&#39;m an anglophone learning Java in French so I don&#39;t really have a good grasp on the vocabulary)","title":"Cannot find the method of a class implemented using generics when the variable type is String","body":"<p>I'm working on some code for a class of mine, and they gave us some code to test if what we wrote works. I edited it a little to make sure that the method I was implementing worked (added the &quot;q2.rotate(2);&quot; line and then an extra print line), but when I compile the tester it tells me</p>\n<p>error: cannot find symbol\nq2.rotate(2);\n^\nsymbol:   method rotate(int)\nlocation: variable q2 of type Queue</p>\n<p>And I'm not sure how to fix this? Is this something I'll need to change in the code I'm working on, or should I just change the variable type in the tester and try to avoid the problem (lol)?</p>\n<p>This is the code I've worked on specifically:</p>\n<pre><code>public class CircularLinkedQueue&lt;E&gt; implements Queue&lt;E&gt; {\n\n    private static class Elem&lt;T&gt; {\n\n        private T value;\n        private Elem&lt;T&gt; next;\n\n        private Elem(T value, Elem&lt;T&gt; next) {\n            this.value = value;\n            this.next = next;\n        }\n    }\n\n    public CircularLinkedQueue () {\n        front = rear = null;\n    }\n\n    private Elem&lt;E&gt; front;\n    private Elem&lt;E&gt; rear;\n\npublic void enqueue(E value) {\n\n        if (value == null) {\n            throw new NullPointerException();\n        }\n\n        Elem&lt;E&gt; newElem;\n        newElem = new Elem&lt;E&gt;(value, null );\n\n        if (rear == null) {\n            front = rear = newElem;\n        } else {\n            rear.next = newElem;\n            rear = newElem;\n        }\n    }\n\npublic E dequeue() {\n        E result = front.value;\n\n        if (front.next == null) {\n            front = rear = null;\n        } else {\n            front = front.next;\n        }\n\n        return result;\n    }\n   \n\n    public void rotate(int n){\n        if (n==0){\n            return;\n        }\n        Elem&lt;E&gt; current= front;\n        for (int i=0; i&lt;n; i++){\n            if(current==null){\n                break;\n            }\n            current=current.next;\n        }\n\n        if (current==null){\n            return;\n        }\n        Elem&lt;E&gt; nthNode=current;\n\n        current=current.next;\n\n        current.next=front;\n        front=nthNode.next;\n        nthNode.next=null;\n    }\n\n@Override\n    public String toString() {\n        String str = &quot;[&quot;;\n        Elem&lt;E&gt; p = front;\n\n        while (p != null) {\n            if (p != front) {\n                str += &quot;, &quot;;\n            }\n            str += p.value;\n            p = p.next;\n        }\n        str += &quot;]&quot;;\n        return str;\n    }\n\n}\n\n</code></pre>\n<p>And this is the tester I edited:</p>\n<pre><code>public class D4Q1 {\n\n    public static void main(String[] args) {\n\n        Queue&lt;String&gt; q2 = new CircularLinkedQueue&lt;String&gt;();\n        q2.enqueue(&quot;A&quot;);\n        q2.enqueue(&quot;B&quot;);\n        q2.enqueue(&quot;C&quot;);\n        q2.enqueue(&quot;D&quot;);\n        q2.enqueue(&quot;E&quot;);\n        q2.enqueue(&quot;F&quot;);\n        System.out.println(q2);\n        q2.dequeue();\n        q2.dequeue();\n        System.out.println(q2);\n        q2.rotate(2);\n        System.out.println(q2);\n    }   \n}\n\n</code></pre>\n<p>And this is the code I was provided for the interface Queue:</p>\n<pre><code>public interface Queue&lt;E&gt; {\n    boolean isEmpty();\n    void enqueue(E o);\n    E dequeue();\n}\n\n</code></pre>\n<p>If someone could show me how to fix this problem and explain to me exactly why it's happening, that would be great! (I apologize in advance if I misused any terms; I'm an anglophone learning Java in French so I don't really have a good grasp on the vocabulary)</p>\n"},{"tags":["java","android","windows"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":2,"creation_date":1681228447,"post_id":75987811,"comment_id":134021190,"body_markdown":"It won&#39;t work &quot;out of the box&quot; in the sense that what you&#39;d be missing is the Android SDK/Framework/Classes. The Java code is ultimately Bytecode, but the actual Android classes/SDK isn&#39;t all java (there&#39;s native/C++ code) and you&#39;d need to obtain a Windows friendly version of all these. It&#39;s potentially doable but... why? ;)","body":"It won&#39;t work &quot;out of the box&quot; in the sense that what you&#39;d be missing is the Android SDK/Framework/Classes. The Java code is ultimately Bytecode, but the actual Android classes/SDK isn&#39;t all java (there&#39;s native/C++ code) and you&#39;d need to obtain a Windows friendly version of all these. It&#39;s potentially doable but... why? ;)"}],"owner":{"account_id":26376061,"reputation":1,"user_id":20029981,"display_name":"vishalramprasad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681228096,"creation_date":1681228096,"question_id":75987811,"body_markdown":"Can it be run cross platform natively or is there something specific that hinders a JAVA application from being run on PC equally\r\n\r\n\r\nI&#39;m a complete newbie when it comes to programming which I think should be fairly obvious, so apologies for the dumb question. I&#39;m curious as to how the particulars for app development would work as I&#39;m planning on building an app for android using JAVA and was curious as to whether it could be run on PC also.\r\n","title":"Can an app developed for android using JAVA run on windows also natively?","body":"<p>Can it be run cross platform natively or is there something specific that hinders a JAVA application from being run on PC equally</p>\n<p>I'm a complete newbie when it comes to programming which I think should be fairly obvious, so apologies for the dumb question. I'm curious as to how the particulars for app development would work as I'm planning on building an app for android using JAVA and was curious as to whether it could be run on PC also.</p>\n"},{"tags":["java","spring","multithreading","hibernate","jppf"],"owner":{"account_id":17722198,"reputation":63,"user_id":12866947,"display_name":"Pushpendra Kushvaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681228096,"creation_date":1681194486,"question_id":75982969,"body_markdown":"```\r\nprivate JPPFClient client;\r\nJPPFClientConnectionImpl connection = (JPPFClientConnectionImpl) client.getClientConnection();\r\n```\r\n\r\nIn JPPF3 this code working without any issue.\r\n\r\nBut in JPPF6, `getClientConnection()` is deprecated and replace with below method with arguments.\r\n\r\n```\r\ngetClientConnection(final int priority, final JPPFClientConnectionStatus...statuses) \r\n```\r\n\r\nI don&#39;t have any idea what to add in this arguments.\r\n\r\nTried google and check related classes in jar to get idea what to add in this arguments. \r\n\r\n`JPPFClientConnectionStatus` is an enum type and there are lot of constants in that class. Can anyone tell what to add in this arguments?\r\n","title":"getClientConnection() method deprecated in jpp6","body":"<pre><code>private JPPFClient client;\nJPPFClientConnectionImpl connection = (JPPFClientConnectionImpl) client.getClientConnection();\n</code></pre>\n<p>In JPPF3 this code working without any issue.</p>\n<p>But in JPPF6, <code>getClientConnection()</code> is deprecated and replace with below method with arguments.</p>\n<pre><code>getClientConnection(final int priority, final JPPFClientConnectionStatus...statuses) \n</code></pre>\n<p>I don't have any idea what to add in this arguments.</p>\n<p>Tried google and check related classes in jar to get idea what to add in this arguments.</p>\n<p><code>JPPFClientConnectionStatus</code> is an enum type and there are lot of constants in that class. Can anyone tell what to add in this arguments?</p>\n"},{"tags":["java","arrays","loops","if-statement","static-methods"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1681082316,"post_id":75973330,"comment_id":133997285,"body_markdown":"How can you say what the output &#39;should be&#39; when you&#39;re using an arbitrarily-initalized random number generator?","body":"How can you say what the output &#39;should be&#39; when you&#39;re using an arbitrarily-initalized random number generator?"},{"owner":{"account_id":28260379,"reputation":1,"user_id":21605184,"display_name":"mel ur mom"},"score":0,"creation_date":1681082812,"post_id":75973330,"comment_id":133997332,"body_markdown":"What should I do then? Doesn&#39;t Math.random() create a different number everytime?","body":"What should I do then? Doesn&#39;t Math.random() create a different number everytime?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681083110,"post_id":75973330,"comment_id":133997359,"body_markdown":"Please go into fair detail as to *why* you assume that the output should be as you post above. What logic tells you that this is what you should be seeing? Also, what have you done to debug the code/problem?","body":"Please go into fair detail as to <i>why</i> you assume that the output should be as you post above. What logic tells you that this is what you should be seeing? Also, what have you done to debug the code/problem?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1681083188,"post_id":75973330,"comment_id":133997373,"body_markdown":"That&#39;s my point - you appear to be saying &quot;I expect exactly these numbers as output&quot;, but that is not going to happen, because your code is doing random calculations.  Did you mean something else in the original question, like maybe you expect the 1 and 2 hit counts to be largest?","body":"That&#39;s my point - you appear to be saying &quot;I expect exactly these numbers as output&quot;, but that is not going to happen, because your code is doing random calculations.  Did you mean something else in the original question, like maybe you expect the 1 and 2 hit counts to be largest?"},{"owner":{"account_id":28260379,"reputation":1,"user_id":21605184,"display_name":"mel ur mom"},"score":0,"creation_date":1681083581,"post_id":75973330,"comment_id":133997418,"body_markdown":"All the numbers that it outputs should add up to 3,200,000, because 20^5. But they add to 1,200,000. I used 5 for loops that run 20 times but it won&#39;t work and I don&#39;t understand.","body":"All the numbers that it outputs should add up to 3,200,000, because 20^5. But they add to 1,200,000. I used 5 for loops that run 20 times but it won&#39;t work and I don&#39;t understand."}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681084395,"creation_date":1681084395,"answer_id":75973464,"question_id":75973330,"body_markdown":"You do not execute the inner block (the one that ultimately executes `numHits[numberOfHits]++`) on every time through the loop. \r\n\r\nYou only execute it if `i` and `j` fulfil certain conditions.\r\n\r\n     if (i &lt;= attackerTarget &amp;&amp; j &lt;= defenderTarget) {\r\n         ... lots of code here ...\r\n         numHits[numberOfHits]++;\r\n     }\r\n\r\nIn particular, there&#39;s no execution if `i &gt;= 15` or `j &gt;= 10` given the stated inputs.\r\n\r\nSo nothing is counted in those cases, which account for more than half of the 3,200,000 loops.\r\n","title":"My java code is outputting the incorrect thing, Issue with for loops?","body":"<p>You do not execute the inner block (the one that ultimately executes <code>numHits[numberOfHits]++</code>) on every time through the loop.</p>\n<p>You only execute it if <code>i</code> and <code>j</code> fulfil certain conditions.</p>\n<pre><code> if (i &lt;= attackerTarget &amp;&amp; j &lt;= defenderTarget) {\n     ... lots of code here ...\n     numHits[numberOfHits]++;\n }\n</code></pre>\n<p>In particular, there's no execution if <code>i &gt;= 15</code> or <code>j &gt;= 10</code> given the stated inputs.</p>\n<p>So nothing is counted in those cases, which account for more than half of the 3,200,000 loops.</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681228088,"creation_date":1681226922,"answer_id":75987648,"question_id":75973330,"body_markdown":"# Minor Code Review\r\nFirst, I have a few notes on your overall code.\r\n\r\n1.  Your code is difficult to follow because of all the [magic numbers][1].  You should make better use of constants in your code so that it&#39;s easier to read.  For example, instead of `int attackerNum1 = (int) (Math.random() * 20 + 1);` you can do `int attackerNum1 = (int) (Math.random() * DICE_SIZE + 1);` where `DIE_SIZE = 20`.  This eliminates confusion when you have a loop that is `for (int a = 1; a &lt;= 20; a++) {`, I can&#39;t tell on first glance if that 20 used there is because of the size of the die, or just some arbitrary magic number.\r\n\r\n2. Your loops are also arbitray.  You are nesting loops in loops for no reason.  If you&#39;re not going to use the value of `a`, `b`, or `c`, there&#39;s no difference between what you have and `for (int i = 0; i &lt;= Math.pow(20, 5); a++)`.  Limiting the number of loops makes your code much more readable.\r\n\r\n3.  Try to limit duplicate code.  All of your random die rolls and your conditional checks are duplicate code.  You should extract these into their own  methods.\r\n\r\n4.  Finally, limit the amount of work you do in `main`.  This can all be extracted into its own method to support reusability.\r\n\r\n# The Code\r\nSo, keeping all the above tips in mind, I rewrote your code as follows.\r\n\r\n### Main\r\n```java\r\npublic class MainClass\r\n{\r\n  public static void main(String[] args)\r\n  {\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;Attacker Target(1-20): &quot;);\r\n    int attackerTarget = input.nextInt();\r\n    System.out.print(&quot;Defender Target(1-20): &quot;);\r\n    int defenderTarget = input.nextInt();\r\n\r\n    DiceGame game = new DiceGame(attackerTarget, defenderTarget);\r\n\r\n    game.playGame();\r\n  }\r\n}\r\n```\r\n### DiceGame\r\n```java\r\npublic class DiceGame\r\n{\r\n  private static final int DICE_SIZE = 20;\r\n  private static final int GAMES = (int) Math.pow(DICE_SIZE, 5);\r\n  private static final int NUMBER_OF_ATTACKER_DIE = 3;\r\n  private static final int NUMBER_OF_DEFENDER_DIE = 2;\r\n  private final int[] numberOfHits = new int[NUMBER_OF_ATTACKER_DIE + 1];\r\n  private final int attackerTarget;\r\n  private final int defenderTarget;\r\n\r\n  public DiceGame(int attackerTarget, int defenderTarget)\r\n  {\r\n    this.attackerTarget = attackerTarget;\r\n    this.defenderTarget = defenderTarget;\r\n  }\r\n\r\n  public void playGame()\r\n  {\r\n    int[][] attackerRolls = new int[GAMES][NUMBER_OF_ATTACKER_DIE];\r\n    int[][] defenderRolls = new int[GAMES][NUMBER_OF_DEFENDER_DIE];\r\n\r\n    System.out.println(&quot;Playing &quot; + GAMES + &quot; games.&quot;);\r\n    // play the games.\r\n    for (int i = 0; i &lt; GAMES; i++) {\r\n      // roll the attacker die for this game\r\n      for (int j = 0; j &lt; NUMBER_OF_ATTACKER_DIE; j++) {\r\n        int randRoll = rollDie();\r\n        // only take the attacker die if it is less than or equal to the user provided value for attackerTarget\r\n        // otherwise places value outside expected range\r\n        attackerRolls[i][j] = randRoll &lt;= getAttackerTarget() ? randRoll : -1;\r\n      }\r\n      // roll the defender die for this game\r\n      for (int j = 0; j &lt; NUMBER_OF_DEFENDER_DIE; j++) {\r\n        int randRoll = rollDie();\r\n        // only take the defender die if it is less than or equal to the user provided value for defenderTarget\r\n        // otherwise places value outside expected range\r\n        defenderRolls[i][j] = randRoll &lt;= getDefenderTarget() ? randRoll : DICE_SIZE + 1;\r\n      }\r\n\r\n      // checks all defender die, filters by only numbers within the expected range, and then returns the lowest number\r\n      int defMax = IntStream.of(defenderRolls[i]).filter(this::valInRange).max().orElse(0);\r\n\r\n      // returns the number of attacker die that are greater than the biggest defender die\r\n      int winningAttacks = (int) (IntStream.of(attackerRolls[i]).filter(v -&gt; v &gt; defMax).count());\r\n\r\n      numberOfHits[winningAttacks]++;\r\n    }\r\n\r\n    for (int i = 0; i &lt;= 3; i++) {\r\n      System.out.println(i + &quot; hit(s): &quot; + numberOfHits[i]);\r\n    }\r\n\r\n    System.out.println(&quot;Total Games Played: &quot; + IntStream.of(numberOfHits).sum());\r\n  }\r\n\r\n  private boolean valInRange(int val)\r\n  {\r\n    return val &gt; 0 &amp;&amp; val &lt;= DICE_SIZE;\r\n  }\r\n\r\n  public int rollDie()\r\n  {\r\n    return (int) (Math.random() * DICE_SIZE) + 1;\r\n  }\r\n\r\n  public int getAttackerTarget()\r\n  {\r\n    return attackerTarget;\r\n  }\r\n\r\n  public int getDefenderTarget()\r\n  {\r\n    return defenderTarget;\r\n  }\r\n}\r\n```\r\n\r\n# A Few Notes on the rules and optimization\r\n\r\nThe rules appear to be as follows:\r\n1.  The attacker and the defender have a max possible roll, as defined by the user input.  You could potentially change the size of the dice available to be a max of that number.  This would eliminate the need to check if the resulting value is outside of the range.  However, this could have the unwanted desire of making every roll a valid roll.\r\n\r\n2.  When you say &quot;the Attacker discards any dice that are less than or equal to any of the defender dice that are left&quot;, this is difficult to translate in to code.  For example, if the defender has 2 dice rolls of 10 and 15, and the attacker rolls a 12, is this discarded or kept? Based on your code, you kept the number if it was greater than both of the defender&#39;s dice roll.  So, I only compared the number to the max.  But your rules may be different than your code.\r\n\r\n3. You could study the [Monte Carlo Simulation][2] to see various ways you could tweak and optimize your code.  This simulation is used to model the probability of different outcomes in a process that cannot easily be predicted due to the intervention of random variables. It is a technique used to understand the impact of risk and uncertainty.  The scholarly paper [&quot;A Survey of Monte-Carlo Techniques in Games&quot;][3] covers various ways this is used in board games and [&quot;RAWR: Algorithm for Dungeons and Dragons Strategy Optimization&quot;][4] covers its use specifically in Dungeons and Dragons.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Magic_number_(programming)#:~:text=In%20computer%20programming%2C%20a%20magic,see%20List%20of%20file%20signatures\r\n  [2]: https://en.wikipedia.org/wiki/Monte_Carlo_method\r\n  [3]: https://www.cs.umd.edu/sites/default/files/scholarly_papers/Rajkumar_1.pdf\r\n  [4]: https://web.stanford.edu/class/aa228/reports/2020/final98.pdf","title":"My java code is outputting the incorrect thing, Issue with for loops?","body":"<h1>Minor Code Review</h1>\n<p>First, I have a few notes on your overall code.</p>\n<ol>\n<li><p>Your code is difficult to follow because of all the <a href=\"https://en.wikipedia.org/wiki/Magic_number_(programming)#:%7E:text=In%20computer%20programming%2C%20a%20magic,see%20List%20of%20file%20signatures\" rel=\"nofollow noreferrer\">magic numbers</a>.  You should make better use of constants in your code so that it's easier to read.  For example, instead of <code>int attackerNum1 = (int) (Math.random() * 20 + 1);</code> you can do <code>int attackerNum1 = (int) (Math.random() * DICE_SIZE + 1);</code> where <code>DIE_SIZE = 20</code>.  This eliminates confusion when you have a loop that is <code>for (int a = 1; a &lt;= 20; a++) {</code>, I can't tell on first glance if that 20 used there is because of the size of the die, or just some arbitrary magic number.</p>\n</li>\n<li><p>Your loops are also arbitray.  You are nesting loops in loops for no reason.  If you're not going to use the value of <code>a</code>, <code>b</code>, or <code>c</code>, there's no difference between what you have and <code>for (int i = 0; i &lt;= Math.pow(20, 5); a++)</code>.  Limiting the number of loops makes your code much more readable.</p>\n</li>\n<li><p>Try to limit duplicate code.  All of your random die rolls and your conditional checks are duplicate code.  You should extract these into their own  methods.</p>\n</li>\n<li><p>Finally, limit the amount of work you do in <code>main</code>.  This can all be extracted into its own method to support reusability.</p>\n</li>\n</ol>\n<h1>The Code</h1>\n<p>So, keeping all the above tips in mind, I rewrote your code as follows.</p>\n<h3>Main</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass\n{\n  public static void main(String[] args)\n  {\n    Scanner input = new Scanner(System.in);\n\n    System.out.print(&quot;Attacker Target(1-20): &quot;);\n    int attackerTarget = input.nextInt();\n    System.out.print(&quot;Defender Target(1-20): &quot;);\n    int defenderTarget = input.nextInt();\n\n    DiceGame game = new DiceGame(attackerTarget, defenderTarget);\n\n    game.playGame();\n  }\n}\n</code></pre>\n<h3>DiceGame</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class DiceGame\n{\n  private static final int DICE_SIZE = 20;\n  private static final int GAMES = (int) Math.pow(DICE_SIZE, 5);\n  private static final int NUMBER_OF_ATTACKER_DIE = 3;\n  private static final int NUMBER_OF_DEFENDER_DIE = 2;\n  private final int[] numberOfHits = new int[NUMBER_OF_ATTACKER_DIE + 1];\n  private final int attackerTarget;\n  private final int defenderTarget;\n\n  public DiceGame(int attackerTarget, int defenderTarget)\n  {\n    this.attackerTarget = attackerTarget;\n    this.defenderTarget = defenderTarget;\n  }\n\n  public void playGame()\n  {\n    int[][] attackerRolls = new int[GAMES][NUMBER_OF_ATTACKER_DIE];\n    int[][] defenderRolls = new int[GAMES][NUMBER_OF_DEFENDER_DIE];\n\n    System.out.println(&quot;Playing &quot; + GAMES + &quot; games.&quot;);\n    // play the games.\n    for (int i = 0; i &lt; GAMES; i++) {\n      // roll the attacker die for this game\n      for (int j = 0; j &lt; NUMBER_OF_ATTACKER_DIE; j++) {\n        int randRoll = rollDie();\n        // only take the attacker die if it is less than or equal to the user provided value for attackerTarget\n        // otherwise places value outside expected range\n        attackerRolls[i][j] = randRoll &lt;= getAttackerTarget() ? randRoll : -1;\n      }\n      // roll the defender die for this game\n      for (int j = 0; j &lt; NUMBER_OF_DEFENDER_DIE; j++) {\n        int randRoll = rollDie();\n        // only take the defender die if it is less than or equal to the user provided value for defenderTarget\n        // otherwise places value outside expected range\n        defenderRolls[i][j] = randRoll &lt;= getDefenderTarget() ? randRoll : DICE_SIZE + 1;\n      }\n\n      // checks all defender die, filters by only numbers within the expected range, and then returns the lowest number\n      int defMax = IntStream.of(defenderRolls[i]).filter(this::valInRange).max().orElse(0);\n\n      // returns the number of attacker die that are greater than the biggest defender die\n      int winningAttacks = (int) (IntStream.of(attackerRolls[i]).filter(v -&gt; v &gt; defMax).count());\n\n      numberOfHits[winningAttacks]++;\n    }\n\n    for (int i = 0; i &lt;= 3; i++) {\n      System.out.println(i + &quot; hit(s): &quot; + numberOfHits[i]);\n    }\n\n    System.out.println(&quot;Total Games Played: &quot; + IntStream.of(numberOfHits).sum());\n  }\n\n  private boolean valInRange(int val)\n  {\n    return val &gt; 0 &amp;&amp; val &lt;= DICE_SIZE;\n  }\n\n  public int rollDie()\n  {\n    return (int) (Math.random() * DICE_SIZE) + 1;\n  }\n\n  public int getAttackerTarget()\n  {\n    return attackerTarget;\n  }\n\n  public int getDefenderTarget()\n  {\n    return defenderTarget;\n  }\n}\n</code></pre>\n<h1>A Few Notes on the rules and optimization</h1>\n<p>The rules appear to be as follows:</p>\n<ol>\n<li><p>The attacker and the defender have a max possible roll, as defined by the user input.  You could potentially change the size of the dice available to be a max of that number.  This would eliminate the need to check if the resulting value is outside of the range.  However, this could have the unwanted desire of making every roll a valid roll.</p>\n</li>\n<li><p>When you say &quot;the Attacker discards any dice that are less than or equal to any of the defender dice that are left&quot;, this is difficult to translate in to code.  For example, if the defender has 2 dice rolls of 10 and 15, and the attacker rolls a 12, is this discarded or kept? Based on your code, you kept the number if it was greater than both of the defender's dice roll.  So, I only compared the number to the max.  But your rules may be different than your code.</p>\n</li>\n<li><p>You could study the <a href=\"https://en.wikipedia.org/wiki/Monte_Carlo_method\" rel=\"nofollow noreferrer\">Monte Carlo Simulation</a> to see various ways you could tweak and optimize your code.  This simulation is used to model the probability of different outcomes in a process that cannot easily be predicted due to the intervention of random variables. It is a technique used to understand the impact of risk and uncertainty.  The scholarly paper <a href=\"https://www.cs.umd.edu/sites/default/files/scholarly_papers/Rajkumar_1.pdf\" rel=\"nofollow noreferrer\">&quot;A Survey of Monte-Carlo Techniques in Games&quot;</a> covers various ways this is used in board games and <a href=\"https://web.stanford.edu/class/aa228/reports/2020/final98.pdf\" rel=\"nofollow noreferrer\">&quot;RAWR: Algorithm for Dungeons and Dragons Strategy Optimization&quot;</a> covers its use specifically in Dungeons and Dragons.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28260379,"reputation":1,"user_id":21605184,"display_name":"mel ur mom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1681228088,"creation_date":1681081909,"question_id":75973330,"body_markdown":"I have looked through every line of my code but I can&#39;t find where it goes wrong. There is no error, the output is just wrong, and there is an issue with the math. I&#39;m supposed to create a code where the attacker rolls 3 (20 sided) dice and the defender has 2 (20 sided) dice. Attacker and Defender discards any dice that is higher than the target that was inputted by the user. And then the Attacker discards any dice that are less than or equal to any of the defender dice that are left.\r\n\r\n\r\nHere&#39;s what the output should be (when the user enters 15 and 10): \r\n\r\n0 hit(s): 494741 \r\n\r\n1 hit(s): 1006677 \r\n\r\n2 hit(s): 1080423 \r\n\r\n3 hit(s): 618159 \r\n\r\nAnd here&#39;s what the output is with my code: \r\n\r\n0 hit(s): 1020656 \r\n\r\n1 hit(s): 100373 \r\n\r\n2 hit(s): 62674 \r\n\r\n3 hit(s): 16297\r\n\r\n\r\nHere&#39;s my code: \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class DiceGame { public static void main(String[] args) { Scanner input = new Scanner(System.in);\r\n\r\n    int[] numHits = new int[4];\r\n    int attackerTarget, defenderTarget;\r\n\r\n    System.out.print(&quot;Attacker Target(1-20): &quot;);\r\n    attackerTarget = input.nextInt();\r\n\r\n    System.out.print(&quot;Defender Target(1-20): &quot;);\r\n    defenderTarget = input.nextInt();\r\n    \r\n    for (int a = 1; a &lt;= 20; a++) {\r\n        for (int b = 1; b &lt;= 20; b++) { \r\n            for (int c = 1; c &lt;= 20; c++) {\r\n                for (int i = 1; i &lt;= 20; i++) {\r\n                    for (int j = 1; j &lt;= 20; j++) {\r\n                        if (i &lt;= attackerTarget &amp;&amp; j &lt;= defenderTarget) {\r\n                            int numberOfHits = 0;\r\n                            int attackerNum1 = (int) (Math.random() * 20 + 1);\r\n                            int attackerNum2 = (int) (Math.random() * 20 + 1);\r\n                            int attackerNum3 = (int) (Math.random() * 20 + 1);\r\n                            int defenderNum1 = (int) (Math.random() * 20 + 1);\r\n                            int defenderNum2 = (int) (Math.random() * 20 + 1);\r\n                            \r\n                            if (attackerNum1 &lt; attackerTarget &amp;&amp; defenderNum1 &lt; defenderTarget &amp;&amp; defenderNum2 &lt; defenderTarget) {\r\n                                if (attackerNum1 &gt; defenderNum1 &amp;&amp; attackerNum1 &gt; defenderNum2) {\r\n                                    numberOfHits++;\r\n                                }\r\n                            }\r\n                            if (attackerNum2 &lt; attackerTarget &amp;&amp; defenderNum1 &lt; defenderTarget &amp;&amp; defenderNum2 &lt; defenderTarget) {\r\n                                if (attackerNum2 &gt; defenderNum1 &amp;&amp; attackerNum2 &gt; defenderNum2) {\r\n                                    numberOfHits++;\r\n                                }\r\n                            }\r\n                            if (attackerNum3 &lt; attackerTarget &amp;&amp; defenderNum1 &lt; defenderTarget &amp;&amp; defenderNum2 &lt; defenderTarget) {\r\n                                if (attackerNum3 &gt; defenderNum1 &amp;&amp; attackerNum3 &gt; defenderNum2) {\r\n                                    numberOfHits++;\r\n                                }\r\n                            }\r\n                            numHits[numberOfHits]++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (int i = 0; i &lt;= 3; i++) {\r\n        System.out.println(i + &quot; hit(s): &quot; + numHits[i]);\r\n    }\r\n}\r\n\r\n}\r\n```","title":"My java code is outputting the incorrect thing, Issue with for loops?","body":"<p>I have looked through every line of my code but I can't find where it goes wrong. There is no error, the output is just wrong, and there is an issue with the math. I'm supposed to create a code where the attacker rolls 3 (20 sided) dice and the defender has 2 (20 sided) dice. Attacker and Defender discards any dice that is higher than the target that was inputted by the user. And then the Attacker discards any dice that are less than or equal to any of the defender dice that are left.</p>\n<p>Here's what the output should be (when the user enters 15 and 10):</p>\n<p>0 hit(s): 494741</p>\n<p>1 hit(s): 1006677</p>\n<p>2 hit(s): 1080423</p>\n<p>3 hit(s): 618159</p>\n<p>And here's what the output is with my code:</p>\n<p>0 hit(s): 1020656</p>\n<p>1 hit(s): 100373</p>\n<p>2 hit(s): 62674</p>\n<p>3 hit(s): 16297</p>\n<p>Here's my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class DiceGame { public static void main(String[] args) { Scanner input = new Scanner(System.in);\n\n    int[] numHits = new int[4];\n    int attackerTarget, defenderTarget;\n\n    System.out.print(&quot;Attacker Target(1-20): &quot;);\n    attackerTarget = input.nextInt();\n\n    System.out.print(&quot;Defender Target(1-20): &quot;);\n    defenderTarget = input.nextInt();\n    \n    for (int a = 1; a &lt;= 20; a++) {\n        for (int b = 1; b &lt;= 20; b++) { \n            for (int c = 1; c &lt;= 20; c++) {\n                for (int i = 1; i &lt;= 20; i++) {\n                    for (int j = 1; j &lt;= 20; j++) {\n                        if (i &lt;= attackerTarget &amp;&amp; j &lt;= defenderTarget) {\n                            int numberOfHits = 0;\n                            int attackerNum1 = (int) (Math.random() * 20 + 1);\n                            int attackerNum2 = (int) (Math.random() * 20 + 1);\n                            int attackerNum3 = (int) (Math.random() * 20 + 1);\n                            int defenderNum1 = (int) (Math.random() * 20 + 1);\n                            int defenderNum2 = (int) (Math.random() * 20 + 1);\n                            \n                            if (attackerNum1 &lt; attackerTarget &amp;&amp; defenderNum1 &lt; defenderTarget &amp;&amp; defenderNum2 &lt; defenderTarget) {\n                                if (attackerNum1 &gt; defenderNum1 &amp;&amp; attackerNum1 &gt; defenderNum2) {\n                                    numberOfHits++;\n                                }\n                            }\n                            if (attackerNum2 &lt; attackerTarget &amp;&amp; defenderNum1 &lt; defenderTarget &amp;&amp; defenderNum2 &lt; defenderTarget) {\n                                if (attackerNum2 &gt; defenderNum1 &amp;&amp; attackerNum2 &gt; defenderNum2) {\n                                    numberOfHits++;\n                                }\n                            }\n                            if (attackerNum3 &lt; attackerTarget &amp;&amp; defenderNum1 &lt; defenderTarget &amp;&amp; defenderNum2 &lt; defenderTarget) {\n                                if (attackerNum3 &gt; defenderNum1 &amp;&amp; attackerNum3 &gt; defenderNum2) {\n                                    numberOfHits++;\n                                }\n                            }\n                            numHits[numberOfHits]++;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    for (int i = 0; i &lt;= 3; i++) {\n        System.out.println(i + &quot; hit(s): &quot; + numHits[i]);\n    }\n}\n\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680200301,"post_id":75889956,"comment_id":133862120,"body_markdown":"verify that the parameters in the stub (the doReturn line) match the parameters you use in the test.","body":"verify that the parameters in the stub (the doReturn line) match the parameters you use in the test."}],"answers":[{"tags":[],"owner":{"account_id":9982461,"reputation":18,"user_id":7384912,"display_name":"Easwaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681228076,"creation_date":1680189534,"answer_id":75890073,"question_id":75889956,"body_markdown":" - Use @InjectMocks and @Spy Annotation on the service so that you have a mock object\r\n\r\n    @InjectMocks\r\n    @Spy\r\n    ExcelGenerationService excelGenerationService;\r\n\r\n - generateExcel(any(ReportingTemplate.class)), Change this to any(), you might have received a mock object here.\r\n\r\n\r\nEDIT 1:\r\nReplace @Mock with @InjectMocks and @Spy","title":"Mockito mock return null","body":"<ul>\n<li><p>Use @InjectMocks and @Spy Annotation on the service so that you have a mock object</p>\n<p>@InjectMocks\n@Spy\nExcelGenerationService excelGenerationService;</p>\n</li>\n<li><p>generateExcel(any(ReportingTemplate.class)), Change this to any(), you might have received a mock object here.</p>\n</li>\n</ul>\n<p>EDIT 1:\nReplace @Mock with @InjectMocks and @Spy</p>\n"},{"tags":[],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680217012,"creation_date":1680217012,"answer_id":75893580,"question_id":75889956,"body_markdown":"Problem is that anyString() dont match with null value. I set parameter of method to string from null and now its running smoothly.\r\n\r\nAlso you can use public static &lt;T&gt; T nullable(Class&lt;T&gt; clazz).","title":"Mockito mock return null","body":"<p>Problem is that anyString() dont match with null value. I set parameter of method to string from null and now its running smoothly.</p>\n<p>Also you can use public static  T nullable(Class clazz).</p>\n"}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681228076,"creation_date":1680189040,"question_id":75889956,"body_markdown":"I have this code, but it doesnt work. excelGenerationService.generateExcel allways return null. Im completely stuck with this problem. Can someone help me? Note that sxssfWorkbook is not null. \r\n\r\n    SXSSFWorkbook sxssfWorkbook = getTestExcelFile();\r\n    doReturn(sxssfWorkbook).when(excelGenerationService).generateExcel(any(ReportingTemplate.class), anyList(), anyList(), anyList(), anyString(), anyString(), anyBoolean(), anyBoolean(), anyString(), anyBoolean());","title":"Mockito mock return null","body":"<p>I have this code, but it doesnt work. excelGenerationService.generateExcel allways return null. Im completely stuck with this problem. Can someone help me? Note that sxssfWorkbook is not null.</p>\n<pre><code>SXSSFWorkbook sxssfWorkbook = getTestExcelFile();\ndoReturn(sxssfWorkbook).when(excelGenerationService).generateExcel(any(ReportingTemplate.class), anyList(), anyList(), anyList(), anyString(), anyString(), anyBoolean(), anyBoolean(), anyString(), anyBoolean());\n</code></pre>\n"},{"tags":["java","testng","rest-assured","builder","web-api-testing"],"owner":{"account_id":28265830,"reputation":1,"user_id":21609803,"display_name":"Yashaswini M M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681227908,"creation_date":1681203772,"question_id":75984134,"body_markdown":"This is my builder class:\r\n\r\n```java\r\npackage org.jiraaf.data.builders.requests;\r\n\r\nimport net.datafaker.Faker;\r\nimport org.jiraaf.data.models.requests.OnboardingInvestorsRequest;\r\n\r\npublic class OnboardingInvestorRequestBuilder {\r\n    private static Faker FAKER = new Faker();\r\n\r\n    public static OnboardingInvestorsRequest getSingleUserRequest(String email, String mobile){\r\n        return OnboardingInvestorsRequest.builder().countryCode(&quot;+91&quot;).email(email).isNri(String.valueOf(false)).mobile(mobile).userIp(&quot;&quot;).userId(&quot;8847fdb3-105d-4fe1-a8f5-c5d60b5485cd&quot;).build();\r\n    }\r\n}\r\n```\r\n\r\nThis is my test case:\r\n\r\n```java\r\nprivate String generateToken() {\r\n    Type type = TypeFactory.defaultInstance().constructParametricType(Response.class, UserSessionResponse.class, String.class);\r\n        given()\r\n                .contentType(ContentType.JSON)\r\n                .body(sendOtpsRequest)\r\n                .when()\r\n                .post(&quot;/user/sendOtps&quot;)\r\n                .then()\r\n                .statusCode(200).body(&quot;status&quot;, is(true));\r\n\r\n        Response&lt;UserSessionResponse, String&gt; UserSessionResponse = given()\r\n                .contentType(ContentType.JSON)\r\n                .body(singleUserRequest)\r\n                .when()\r\n                .post(&quot;/user-sessions&quot;)\r\n                .then()\r\n                .statusCode(200)\r\n                .extract().as(type);\r\n\r\n        return UserSessionResponse.getEntity().getToken();\r\n    }\r\n}\r\n```\r\n\r\nThis test is erroring out saying  &quot;invalid request&quot; since the json data object is not passed in the request.\r\n\r\nHow can I fix this?\r\n","title":"How do I build a &quot;jsonData&quot; Object thats contain another string object &quot;userIp&quot;? I&#39;ve to add the pass the jsonData object to pass the test","body":"<p>This is my builder class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.jiraaf.data.builders.requests;\n\nimport net.datafaker.Faker;\nimport org.jiraaf.data.models.requests.OnboardingInvestorsRequest;\n\npublic class OnboardingInvestorRequestBuilder {\n    private static Faker FAKER = new Faker();\n\n    public static OnboardingInvestorsRequest getSingleUserRequest(String email, String mobile){\n        return OnboardingInvestorsRequest.builder().countryCode(&quot;+91&quot;).email(email).isNri(String.valueOf(false)).mobile(mobile).userIp(&quot;&quot;).userId(&quot;8847fdb3-105d-4fe1-a8f5-c5d60b5485cd&quot;).build();\n    }\n}\n</code></pre>\n<p>This is my test case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String generateToken() {\n    Type type = TypeFactory.defaultInstance().constructParametricType(Response.class, UserSessionResponse.class, String.class);\n        given()\n                .contentType(ContentType.JSON)\n                .body(sendOtpsRequest)\n                .when()\n                .post(&quot;/user/sendOtps&quot;)\n                .then()\n                .statusCode(200).body(&quot;status&quot;, is(true));\n\n        Response&lt;UserSessionResponse, String&gt; UserSessionResponse = given()\n                .contentType(ContentType.JSON)\n                .body(singleUserRequest)\n                .when()\n                .post(&quot;/user-sessions&quot;)\n                .then()\n                .statusCode(200)\n                .extract().as(type);\n\n        return UserSessionResponse.getEntity().getToken();\n    }\n}\n</code></pre>\n<p>This test is erroring out saying  &quot;invalid request&quot; since the json data object is not passed in the request.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java","user-interface","animation","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1681147585,"post_id":75978976,"comment_id":134006320,"body_markdown":"Use the same `TranslateTransition` instance and simply modify its `rate` to make it go forward or backward, based on the state. That way only one animation is modifying the position of the text at any given time.","body":"Use the same <code>TranslateTransition</code> instance and simply modify its <code>rate</code> to make it go forward or backward, based on the state. That way only one animation is modifying the position of the text at any given time."},{"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"score":0,"creation_date":1681148508,"post_id":75978976,"comment_id":134006518,"body_markdown":"@Slaw it doesnt work =(","body":"@Slaw it doesnt work =("},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681150752,"post_id":75978976,"comment_id":134007034,"body_markdown":"I am not sure why you would choose to implement such an animation yourself when [MaterialFX already provides a variety of animated text fields](https://github.com/palexdev/MaterialFX#preview-gifs), as [seen here](https://camo.githubusercontent.com/b8aa3c104c8ad45e617e71686e8686a5a9a0af49c09bc84961ece78ee838b2f3/68747470733a2f2f696d6775722e636f6d2f585432695655372e676966).","body":"I am not sure why you would choose to implement such an animation yourself when <a href=\"https://github.com/palexdev/MaterialFX#preview-gifs\" rel=\"nofollow noreferrer\">MaterialFX already provides a variety of animated text fields</a>, as <a href=\"https://camo.githubusercontent.com/b8aa3c104c8ad45e617e71686e8686a5a9a0af49c09bc84961ece78ee838b2f3/68747470733a2f2f696d6775722e636f6d2f585432695655372e676966\" rel=\"nofollow noreferrer\">seen here</a>."},{"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"score":0,"creation_date":1681153259,"post_id":75978976,"comment_id":134007560,"body_markdown":"@jewelsea yes brother, i want the textfield to have prompt text when input is empty, and floating text appears while clearing prompt text when focused. But for MFXtextfield, floating text will automatically be floating when prompt text exists, which is not what i wanted. Even if listener is added it wont work,i have pasted my code in MFX in the edited question , please check them out, thanks.","body":"@jewelsea yes brother, i want the textfield to have prompt text when input is empty, and floating text appears while clearing prompt text when focused. But for MFXtextfield, floating text will automatically be floating when prompt text exists, which is not what i wanted. Even if listener is added it wont work,i have pasted my code in MFX in the edited question , please check them out, thanks."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1681156017,"post_id":75978976,"comment_id":134008115,"body_markdown":"Why don&#39;t you just keep references to both animations, and stop the one you don&#39;t need when you start the one you do need?","body":"Why don&#39;t you just keep references to both animations, and stop the one you don&#39;t need when you start the one you do need?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681162966,"post_id":75978976,"comment_id":134009438,"body_markdown":"Related (not to animation) but to change the [default prompt text behavior in JavaFX](https://stackoverflow.com/questions/25125563/clear-prompt-text-in-javafx-textfield-only-when-user-starts-typing/25127540#25127540).","body":"Related (not to animation) but to change the <a href=\"https://stackoverflow.com/questions/25125563/clear-prompt-text-in-javafx-textfield-only-when-user-starts-typing/25127540#25127540\">default prompt text behavior in JavaFX</a>."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681189831,"creation_date":1681189044,"answer_id":75982520,"question_id":75978976,"body_markdown":"While you can consider all the other suggestions in the comments, below is my version of addressing this issue.\r\n\r\nPersonally I would prefer to create a custom control that can handle this automatically irrespective of its Parent. Currently your logic seems to assume that the TextField is always in a GridPane.\r\n\r\nI am considering the usage of `Timeline` rather than `TranslateTransition`, because of the fact that I only need the &#39;end value&#39; for using Timeline. But with `TranslateTransition`, you need to provide the &#39;by&#39; value or the &#39;from/to&#39; values to run the transition (which is the reason it is getting messed up in your case).\r\n\r\nBelow is the demo of the custom TextField that demonstrates the behavior when rendered in different `Parent` nodes (here VBox &amp; GridPane)\r\n\r\nIf you want to show the promptText animation conditionally, change the logic of the `isPromptNeeded()` method.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.KeyValue;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class PromptTextFieldDemo extends Application {\r\n    \r\n        @Override\r\n        public void start(final Stage stage) throws Exception {\r\n            VBox root = new VBox();\r\n            root.setPadding(new Insets(20));\r\n            root.setSpacing(20);\r\n    \r\n            /* Add some fields in the GridPane */\r\n            GridPane detailsGrid = new GridPane();\r\n            detailsGrid.setHgap(20);\r\n            detailsGrid.setVgap(20);\r\n            detailsGrid.addRow(0, getField(&quot;First Name&quot;), getField(&quot;Last Name&quot;), getField(&quot;Age&quot;));\r\n            detailsGrid.addRow(1, getField(&quot;City&quot;), getField(&quot;Company&quot;));\r\n    \r\n            /* Add some fields in the VBox */\r\n            root.getChildren().addAll(detailsGrid, getField(&quot;Address 1&quot;), getField(&quot;Address 2&quot;), getField(&quot;Address 3&quot;));\r\n    \r\n            Scene scene = new Scene(root, 450, 300);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;PromptTextField Demo&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        private PromptTextField getField(String text) {\r\n            PromptTextField textField = new PromptTextField();\r\n            textField.setPromptText(text);\r\n            return textField;\r\n        }\r\n    \r\n        class PromptTextField extends TextField {\r\n            private Text promptNode;\r\n    \r\n            private Timeline show;\r\n    \r\n            private Timeline hide;\r\n    \r\n            private boolean alwaysPrompt = true;\r\n    \r\n            public PromptTextField() {\r\n                super();\r\n            }\r\n    \r\n            public PromptTextField(String text) {\r\n                super(text);\r\n            }\r\n    \r\n            public void setAlwaysPrompt(final boolean alwaysPrompt) {\r\n                this.alwaysPrompt = alwaysPrompt;\r\n            }\r\n    \r\n            @Override\r\n            protected void layoutChildren() {\r\n                super.layoutChildren();\r\n                if (getPromptText() != null &amp;&amp; !getPromptText().isEmpty() &amp;&amp; !getChildren().contains(getPromptNode())) {\r\n                    getPromptNode().setText(getPromptText());\r\n                    getPromptNode().setFont(getFont());\r\n                    getChildren().add(getPromptNode());\r\n                }\r\n            }\r\n    \r\n            public Text getPromptNode() {\r\n                if (promptNode == null) {\r\n                    promptNode = new Text();\r\n                    promptNode.setFill(Color.RED);\r\n                    promptNode.setFont(getFont());\r\n                    promptNode.setVisible(false);\r\n                    /* Turn off the managed property, so that you control its position using layoutX/Y only. */\r\n                    promptNode.setManaged(false);\r\n                    promptNode.setLayoutX(8);\r\n                    promptNode.setLayoutY(17);\r\n    \r\n                    focusedProperty().addListener((obs, old, focused) -&gt; {\r\n                        if (getPromptText() != null &amp;&amp; !getPromptText().isEmpty()) {\r\n                            if (focused &amp;&amp; isPromptNeeded()) {\r\n                                if (hide.getStatus() == Animation.Status.RUNNING) {\r\n                                    hide.stop();\r\n                                }\r\n                                promptNode.setVisible(true);\r\n                                show.play();\r\n                            } else if(!focused){\r\n                                if (show.getStatus() == Animation.Status.RUNNING) {\r\n                                    show.stop();\r\n                                }\r\n                                hide.play();\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n                    final KeyFrame showKeyFrame = new KeyFrame(Duration.millis(300), new KeyValue(promptNode.layoutYProperty(), -5));\r\n                    show = new Timeline(showKeyFrame);\r\n    \r\n                    final KeyFrame hideKeyFrame = new KeyFrame(Duration.millis(300), new KeyValue(promptNode.layoutYProperty(), 17));\r\n                    hide = new Timeline(hideKeyFrame);\r\n                    hide.setOnFinished(e -&gt; promptNode.setVisible(false));\r\n                }\r\n                return promptNode;\r\n            }\r\n    \r\n            private boolean isPromptNeeded(){\r\n                /* Add your custom logic here: about when to show the prompt text animation */\r\n                return alwaysPrompt || getText()==null || getText().isEmpty();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQkFF.gif","title":"JavaFx how to keep animation running even if next animation is coming in?","body":"<p>While you can consider all the other suggestions in the comments, below is my version of addressing this issue.</p>\n<p>Personally I would prefer to create a custom control that can handle this automatically irrespective of its Parent. Currently your logic seems to assume that the TextField is always in a GridPane.</p>\n<p>I am considering the usage of <code>Timeline</code> rather than <code>TranslateTransition</code>, because of the fact that I only need the 'end value' for using Timeline. But with <code>TranslateTransition</code>, you need to provide the 'by' value or the 'from/to' values to run the transition (which is the reason it is getting messed up in your case).</p>\n<p>Below is the demo of the custom TextField that demonstrates the behavior when rendered in different <code>Parent</code> nodes (here VBox &amp; GridPane)</p>\n<p>If you want to show the promptText animation conditionally, change the logic of the <code>isPromptNeeded()</code> method.</p>\n<p><a href=\"https://i.stack.imgur.com/VQkFF.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQkFF.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.animation.Animation;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class PromptTextFieldDemo extends Application {\n\n    @Override\n    public void start(final Stage stage) throws Exception {\n        VBox root = new VBox();\n        root.setPadding(new Insets(20));\n        root.setSpacing(20);\n\n        /* Add some fields in the GridPane */\n        GridPane detailsGrid = new GridPane();\n        detailsGrid.setHgap(20);\n        detailsGrid.setVgap(20);\n        detailsGrid.addRow(0, getField(&quot;First Name&quot;), getField(&quot;Last Name&quot;), getField(&quot;Age&quot;));\n        detailsGrid.addRow(1, getField(&quot;City&quot;), getField(&quot;Company&quot;));\n\n        /* Add some fields in the VBox */\n        root.getChildren().addAll(detailsGrid, getField(&quot;Address 1&quot;), getField(&quot;Address 2&quot;), getField(&quot;Address 3&quot;));\n\n        Scene scene = new Scene(root, 450, 300);\n        stage.setScene(scene);\n        stage.setTitle(&quot;PromptTextField Demo&quot;);\n        stage.show();\n    }\n\n    private PromptTextField getField(String text) {\n        PromptTextField textField = new PromptTextField();\n        textField.setPromptText(text);\n        return textField;\n    }\n\n    class PromptTextField extends TextField {\n        private Text promptNode;\n\n        private Timeline show;\n\n        private Timeline hide;\n\n        private boolean alwaysPrompt = true;\n\n        public PromptTextField() {\n            super();\n        }\n\n        public PromptTextField(String text) {\n            super(text);\n        }\n\n        public void setAlwaysPrompt(final boolean alwaysPrompt) {\n            this.alwaysPrompt = alwaysPrompt;\n        }\n\n        @Override\n        protected void layoutChildren() {\n            super.layoutChildren();\n            if (getPromptText() != null &amp;&amp; !getPromptText().isEmpty() &amp;&amp; !getChildren().contains(getPromptNode())) {\n                getPromptNode().setText(getPromptText());\n                getPromptNode().setFont(getFont());\n                getChildren().add(getPromptNode());\n            }\n        }\n\n        public Text getPromptNode() {\n            if (promptNode == null) {\n                promptNode = new Text();\n                promptNode.setFill(Color.RED);\n                promptNode.setFont(getFont());\n                promptNode.setVisible(false);\n                /* Turn off the managed property, so that you control its position using layoutX/Y only. */\n                promptNode.setManaged(false);\n                promptNode.setLayoutX(8);\n                promptNode.setLayoutY(17);\n\n                focusedProperty().addListener((obs, old, focused) -&gt; {\n                    if (getPromptText() != null &amp;&amp; !getPromptText().isEmpty()) {\n                        if (focused &amp;&amp; isPromptNeeded()) {\n                            if (hide.getStatus() == Animation.Status.RUNNING) {\n                                hide.stop();\n                            }\n                            promptNode.setVisible(true);\n                            show.play();\n                        } else if(!focused){\n                            if (show.getStatus() == Animation.Status.RUNNING) {\n                                show.stop();\n                            }\n                            hide.play();\n                        }\n                    }\n                });\n\n                final KeyFrame showKeyFrame = new KeyFrame(Duration.millis(300), new KeyValue(promptNode.layoutYProperty(), -5));\n                show = new Timeline(showKeyFrame);\n\n                final KeyFrame hideKeyFrame = new KeyFrame(Duration.millis(300), new KeyValue(promptNode.layoutYProperty(), 17));\n                hide = new Timeline(hideKeyFrame);\n                hide.setOnFinished(e -&gt; promptNode.setVisible(false));\n            }\n            return promptNode;\n        }\n\n        private boolean isPromptNeeded(){\n            /* Add your custom logic here: about when to show the prompt text animation */\n            return alwaysPrompt || getText()==null || getText().isEmpty();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75982520,"answer_count":1,"score":0,"last_activity_date":1681227673,"creation_date":1681145330,"question_id":75978976,"body_markdown":"    \r\nI have created an animation where prompt text will move up as text to the top of its text field when the field is focused, and move downwards when out of focus. However, if the user clicks too fast ( like keep pressing &#39;tab&#39;), then the animation will the position of the prompt text will go chaos. How do i fix it?  \r\n\r\n    \r\n    import javafx.animation.TranslateTransition;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.layout.RowConstraints;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Text;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Sing_Up implements Initializable {\r\n    \r\n        @FXML\r\n        private TextField textField1;\r\n        @FXML\r\n        private TextField textField2;\r\n        @FXML\r\n        private TextField textField3;\r\n        @FXML\r\n        private TextField textField4;\r\n        @FXML\r\n        GridPane d;\r\n        @FXML\r\n        Button button;\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            button.setOnAction(event -&gt; {\r\n                FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home.fxml&quot;));\r\n                try {\r\n                    button.getScene().setRoot(loader.load());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            for (Node node : d.getChildren()) {\r\n                System.out.println(node);\r\n                // check if the node is a TextField\r\n                if (node instanceof TextField) {\r\n                    TextField textField = (TextField) node;\r\n                    // apply the animate() method to the TextField\r\n                    animate(textField);\r\n                }\r\n        }}\r\n    \r\n        public void animate(TextField textField){\r\n    \r\n            Text promptText;\r\n            String p=textField.getPromptText();\r\n            // Create a new Text node to represent the prompt text\r\n            promptText = new Text(textField.getPromptText());\r\n            promptText.setFill(Color.RED);\r\n            promptText.setFont(textField.getFont());\r\n            GridPane parent = (GridPane) textField.getParent();\r\n            GridPane.getRowIndex(textField1);\r\n          \r\n            // Animate the prompt text when the TextField receives focus\r\n            textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n    \r\n                // Position the prompt text just above the TextField\r\n    \r\n                if(!parent.getChildren().contains(promptText)&amp;&amp; !(GridPane.getRowIndex(textField) ==null)){\r\n                parent.add(promptText,0, GridPane.getRowIndex(textField));}\r\n    \r\n                promptText.setVisible(true);\r\n                        if (newValue&amp;&amp;textField.getText().equals(&quot;&quot;)) {\r\n                            promptText.setVisible(true);\r\n                            TranslateTransition tt = new TranslateTransition(Duration.seconds(0.3), promptText);\r\n                            tt.setByY(-35);\r\n                            tt.play();\r\n                        } else {\r\n                            if (!newValue &amp;&amp; textField.getText().isEmpty()){\r\n                                TranslateTransition tt = new TranslateTransition(Duration.seconds(0.3), promptText);\r\n                                tt.setByY (35);\r\n                                tt.play();\r\n                                tt.setOnFinished(event -&gt; {\r\n                                    promptText.setVisible(false);\r\n    \r\n                                });};\r\n    ;\r\n        }\r\n        ;});}}\r\n    ","title":"JavaFx how to keep animation running even if next animation is coming in?","body":"<p>I have created an animation where prompt text will move up as text to the top of its text field when the field is focused, and move downwards when out of focus. However, if the user clicks too fast ( like keep pressing 'tab'), then the animation will the position of the prompt text will go chaos. How do i fix it?</p>\n<pre><code>import javafx.animation.TranslateTransition;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.RowConstraints;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.util.Duration;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.ResourceBundle;\n\npublic class Sing_Up implements Initializable {\n\n    @FXML\n    private TextField textField1;\n    @FXML\n    private TextField textField2;\n    @FXML\n    private TextField textField3;\n    @FXML\n    private TextField textField4;\n    @FXML\n    GridPane d;\n    @FXML\n    Button button;\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        button.setOnAction(event -&gt; {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home.fxml&quot;));\n            try {\n                button.getScene().setRoot(loader.load());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        for (Node node : d.getChildren()) {\n            System.out.println(node);\n            // check if the node is a TextField\n            if (node instanceof TextField) {\n                TextField textField = (TextField) node;\n                // apply the animate() method to the TextField\n                animate(textField);\n            }\n    }}\n\n    public void animate(TextField textField){\n\n        Text promptText;\n        String p=textField.getPromptText();\n        // Create a new Text node to represent the prompt text\n        promptText = new Text(textField.getPromptText());\n        promptText.setFill(Color.RED);\n        promptText.setFont(textField.getFont());\n        GridPane parent = (GridPane) textField.getParent();\n        GridPane.getRowIndex(textField1);\n      \n        // Animate the prompt text when the TextField receives focus\n        textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n\n            // Position the prompt text just above the TextField\n\n            if(!parent.getChildren().contains(promptText)&amp;&amp; !(GridPane.getRowIndex(textField) ==null)){\n            parent.add(promptText,0, GridPane.getRowIndex(textField));}\n\n            promptText.setVisible(true);\n                    if (newValue&amp;&amp;textField.getText().equals(&quot;&quot;)) {\n                        promptText.setVisible(true);\n                        TranslateTransition tt = new TranslateTransition(Duration.seconds(0.3), promptText);\n                        tt.setByY(-35);\n                        tt.play();\n                    } else {\n                        if (!newValue &amp;&amp; textField.getText().isEmpty()){\n                            TranslateTransition tt = new TranslateTransition(Duration.seconds(0.3), promptText);\n                            tt.setByY (35);\n                            tt.play();\n                            tt.setOnFinished(event -&gt; {\n                                promptText.setVisible(false);\n\n                            });};\n;\n    }\n    ;});}}\n</code></pre>\n"},{"tags":["java","spring","eclipse","debugging","spring-boot"],"comments":[{"owner":{"account_id":374149,"reputation":1142,"user_id":724199,"accept_rate":80,"display_name":"TimeTrap"},"score":0,"creation_date":1530538046,"post_id":24113939,"comment_id":89258567,"body_markdown":"In STS 3.9.4.RELEASE on Linux Mint 18 Sarah I have to go into the debug perspective to debug Spring Boot applications.","body":"In STS 3.9.4.RELEASE on Linux Mint 18 Sarah I have to go into the debug perspective to debug Spring Boot applications."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":7,"up_vote_count":189,"is_accepted":true,"score":182,"last_activity_date":1470064134,"creation_date":1402294480,"answer_id":24114612,"question_id":24113939,"body_markdown":"Why don&#39;t you just right click on the `main()` method and choose `&quot;Debug As... Java Application&quot;`?","title":"How to debug Spring Boot application with Eclipse?","body":"<p>Why don't you just right click on the <code>main()</code> method and choose <code>\"Debug As... Java Application\"</code>?</p>\n"},{"tags":[],"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1402299817,"creation_date":1402299817,"answer_id":24115804,"question_id":24113939,"body_markdown":"Please see &lt;http://java.dzone.com/articles/how-debug-remote-java-applicat&gt; to enable the remote debugging. \r\nIf you are using tomcat to run your application, start tomcat with remote debug parameters\r\nor you can start tomcat with JPDA support by using following command.\r\n\r\nWindows\r\n\r\n    &lt;tomcat bin dir&gt;/startup.bat jpda\r\n\r\n*nix\r\n\r\n    &lt;tomcat bin dir&gt;/startup.sh jpda\r\n\r\nthis will enable remote debugging on port 8000\r\n","title":"How to debug Spring Boot application with Eclipse?","body":"<p>Please see <a href=\"http://java.dzone.com/articles/how-debug-remote-java-applicat\" rel=\"nofollow\">http://java.dzone.com/articles/how-debug-remote-java-applicat</a> to enable the remote debugging. \nIf you are using tomcat to run your application, start tomcat with remote debug parameters\nor you can start tomcat with JPDA support by using following command.</p>\n\n<p>Windows</p>\n\n<pre><code>&lt;tomcat bin dir&gt;/startup.bat jpda\n</code></pre>\n\n<p>*nix</p>\n\n<pre><code>&lt;tomcat bin dir&gt;/startup.sh jpda\n</code></pre>\n\n<p>this will enable remote debugging on port 8000</p>\n"},{"tags":[],"owner":{"account_id":2512007,"reputation":1049,"user_id":2184251,"display_name":"masster"},"down_vote_count":1,"up_vote_count":105,"is_accepted":false,"score":104,"last_activity_date":1464962713,"creation_date":1402562035,"answer_id":24179812,"question_id":24113939,"body_markdown":"There&#39;s [section **19.2** in Spring Boot Reference][1] that tells you about starting your application with remote debugging support enabled. \r\n\r\n    $ java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=8000,suspend=n \\\r\n       -jar target/myproject-0.0.1-SNAPSHOT.jar\r\n\r\nAfter you start your application just add that **Remote Java Application configuration** in Run/Debug configurations, select the port/address you defined when starting your app, and then you are free to debug. \r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-running-as-a-packaged-application &quot;Spring Boot Reference&quot;","title":"How to debug Spring Boot application with Eclipse?","body":"<p>There's <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-running-as-a-packaged-application\" rel=\"noreferrer\" title=\"Spring Boot Reference\">section <strong>19.2</strong> in Spring Boot Reference</a> that tells you about starting your application with remote debugging support enabled. </p>\n\n<pre><code>$ java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=8000,suspend=n \\\n   -jar target/myproject-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p>After you start your application just add that <strong>Remote Java Application configuration</strong> in Run/Debug configurations, select the port/address you defined when starting your app, and then you are free to debug. </p>\n"},{"tags":[],"owner":{"account_id":373119,"reputation":3318,"user_id":722553,"display_name":"Dawngerpony"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1421158203,"creation_date":1421158203,"answer_id":27924073,"question_id":24113939,"body_markdown":"I didn&#39;t need to set up remote debugging in order to get this working, I used Maven.\r\n\r\n1. Ensure you have the Maven plugin installed into Eclipse.\r\n1. Click _Run &gt; Run Configurations &gt; Maven Build &gt; new launch configuration_:\r\n* Base directory: _browse to the root of your project_\r\n* Goals: `spring-boot::run`.\r\n1. Click _Apply_ then click _Run_.\r\n\r\nNB. If your IDE has problems finding your project&#39;s source code when doing line-by-line debugging, take a look at [this SO answer][1] to find out how to manually attach your source code to the debug application.\r\n\r\nHope this helps someone!\r\n\r\n  [1]: https://stackoverflow.com/questions/21794633/debug-spring-mvc-with-eclipse-and-tomcat-issue &quot;Debug Spring MVC with eclipse and Tomcat issue&quot;","title":"How to debug Spring Boot application with Eclipse?","body":"<p>I didn't need to set up remote debugging in order to get this working, I used Maven.</p>\n\n<ol>\n<li>Ensure you have the Maven plugin installed into Eclipse.</li>\n<li>Click <em>Run > Run Configurations > Maven Build > new launch configuration</em>:\n\n<ul>\n<li>Base directory: <em>browse to the root of your project</em></li>\n<li>Goals: <code>spring-boot::run</code>.</li>\n</ul></li>\n<li>Click <em>Apply</em> then click <em>Run</em>.</li>\n</ol>\n\n<p>NB. If your IDE has problems finding your project's source code when doing line-by-line debugging, take a look at <a href=\"https://stackoverflow.com/questions/21794633/debug-spring-mvc-with-eclipse-and-tomcat-issue\" title=\"Debug Spring MVC with eclipse and Tomcat issue\">this SO answer</a> to find out how to manually attach your source code to the debug application.</p>\n\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1454783742,"creation_date":1454783742,"answer_id":35244846,"question_id":24113939,"body_markdown":"The best solution in my opinion is add a plugin in the pom.xml, and you don&#39;t need to do anything else all the time: \r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;jvmArguments&gt;\r\n                            -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9898\r\n                        &lt;/jvmArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\n","title":"How to debug Spring Boot application with Eclipse?","body":"<p>The best solution in my opinion is add a plugin in the pom.xml, and you don't need to do anything else all the time: </p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;\n                        -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9898\n                    &lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7240544,"reputation":612,"user_id":5524255,"accept_rate":20,"display_name":"Duran Wesley Harris"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1456750798,"creation_date":1456750798,"answer_id":35700230,"question_id":24113939,"body_markdown":"Easier solution:\r\n\r\nInstead of typing `mvn spring-boot:run`, \r\nsimply type `mvnDebug spring-boot:run`\r\n\r\nYou will still need to attach the debugger in Eclipse by making a new Debug Configuration for a &quot;Remote Java Application&quot; on the relevant port.","title":"How to debug Spring Boot application with Eclipse?","body":"<p>Easier solution:</p>\n\n<p>Instead of typing <code>mvn spring-boot:run</code>, \nsimply type <code>mvnDebug spring-boot:run</code></p>\n\n<p>You will still need to attach the debugger in Eclipse by making a new Debug Configuration for a \"Remote Java Application\" on the relevant port.</p>\n"},{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1461496544,"creation_date":1461496544,"answer_id":36822369,"question_id":24113939,"body_markdown":"Run below command where `pom.xml` is placed:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\r\n\r\nAnd start your **remote java application** with debugging option on port `5005`","title":"How to debug Spring Boot application with Eclipse?","body":"<p>Run below command where <code>pom.xml</code> is placed:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005\"\n</code></pre>\n\n<p>And start your <strong>remote java application</strong> with debugging option on port <code>5005</code></p>\n"},{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1474475618,"creation_date":1474475618,"answer_id":39621993,"question_id":24113939,"body_markdown":"# How to debug a remote staging or production Spring Boot application\r\n\r\n## Server-side\r\nLet&#39;s assume you have successfully followed [Spring Boot&#39;s guide on setting up your Spring Boot application as a service](http://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html).\r\nYour application artifact resides in `/srv/my-app/my-app.war`, accompanied by a configuration file `/srv/my-app/my-app.conf`:\r\n\r\n    # This is file my-app.conf\r\n    # What can you do in this .conf file? The my-app.war is prepended with a SysV init.d script\r\n    # (yes, take a look into the war file with a text editor). As my-app.war is symlinked in the init.d directory, that init.d script\r\n    # gets executed. One of its step is actually `source`ing this .conf file. Therefore we can do anything in this .conf file that\r\n    # we can also do in a regular shell script.\r\n    \r\n    JAVA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=localhost:8002,server=y,suspend=n&quot;\r\n    export SPRING_PROFILES_ACTIVE=staging\r\n\r\nWhen you restart your Spring Boot application with `sudo service my-app restart`, then in its log file located at `/var/log/my-app.log` should be a line saying `Listening for transport dt_socket at address: 8002`.\r\n\r\n## Client-side (developer machine)\r\nOpen an SSH port-forwarding tunnel to the server: `ssh -L 8002:localhost:8002 myusername@staging.example.com`. Keep this SSH session running.\r\n\r\nIn Eclipse, from the toolbar, select *Run* -&gt; *Debug Configurations* -&gt; select *Remote Java Application* -&gt; click the *New* button -&gt; select as Connection Type *Standard (Socket Attach)*, as Host *localhost*, and as Port *8002* (or whatever you have configured in the steps before). Click *Apply* and then *Debug*.\r\n\r\nThe Eclipse debugger should now connect to the remote server. Switching to the *Debug* perspective should show the connected JVM and its threads. Breakpoints should fire as soon as they are remotely triggered.","title":"How to debug Spring Boot application with Eclipse?","body":"<h1>How to debug a remote staging or production Spring Boot application</h1>\n\n<h2>Server-side</h2>\n\n<p>Let's assume you have successfully followed <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html\" rel=\"noreferrer\">Spring Boot's guide on setting up your Spring Boot application as a service</a>.\nYour application artifact resides in <code>/srv/my-app/my-app.war</code>, accompanied by a configuration file <code>/srv/my-app/my-app.conf</code>:</p>\n\n<pre><code># This is file my-app.conf\n# What can you do in this .conf file? The my-app.war is prepended with a SysV init.d script\n# (yes, take a look into the war file with a text editor). As my-app.war is symlinked in the init.d directory, that init.d script\n# gets executed. One of its step is actually `source`ing this .conf file. Therefore we can do anything in this .conf file that\n# we can also do in a regular shell script.\n\nJAVA_OPTS=\"-agentlib:jdwp=transport=dt_socket,address=localhost:8002,server=y,suspend=n\"\nexport SPRING_PROFILES_ACTIVE=staging\n</code></pre>\n\n<p>When you restart your Spring Boot application with <code>sudo service my-app restart</code>, then in its log file located at <code>/var/log/my-app.log</code> should be a line saying <code>Listening for transport dt_socket at address: 8002</code>.</p>\n\n<h2>Client-side (developer machine)</h2>\n\n<p>Open an SSH port-forwarding tunnel to the server: <code>ssh -L 8002:localhost:8002 myusername@staging.example.com</code>. Keep this SSH session running.</p>\n\n<p>In Eclipse, from the toolbar, select <em>Run</em> -> <em>Debug Configurations</em> -> select <em>Remote Java Application</em> -> click the <em>New</em> button -> select as Connection Type <em>Standard (Socket Attach)</em>, as Host <em>localhost</em>, and as Port <em>8002</em> (or whatever you have configured in the steps before). Click <em>Apply</em> and then <em>Debug</em>.</p>\n\n<p>The Eclipse debugger should now connect to the remote server. Switching to the <em>Debug</em> perspective should show the connected JVM and its threads. Breakpoints should fire as soon as they are remotely triggered.</p>\n"},{"tags":[],"owner":{"account_id":4185675,"reputation":404,"user_id":3429494,"display_name":"adia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480591744,"creation_date":1480591744,"answer_id":40909515,"question_id":24113939,"body_markdown":"With eclipse or any other IDE, just right click on your main spring boot application and click &quot;debug as java application&quot;","title":"How to debug Spring Boot application with Eclipse?","body":"<p>With eclipse or any other IDE, just right click on your main spring boot application and click \"debug as java application\"</p>\n"},{"tags":[],"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526904841,"creation_date":1526904841,"answer_id":50448680,"question_id":24113939,"body_markdown":"This question is already answered, but i also got same issue to debug Springboot + gradle + jHipster,\r\n\r\nMostly Spring boot application can debug by right click and debug,\r\nbut when you use gradle, having some additional environment parameter setup then it is not possible to debug directly.\r\n\r\nTo resolve this, Eclipse provided one additional features as [Remote Java Application][1]\r\n\r\nby using this features you can debug your application.\r\n\r\nFollow below step:\r\n\r\nrun your gradle application with \r\n`./gradlew bootRun --debug-jvm` command\r\n\r\nNow go to eclipse --&gt; right click project and Debug configuration --&gt; Remote Java Application.\r\n\r\nadd you host and port as localhost and port as 5005 (default for gradle debug, you can change it)\r\n\r\n[Refer][2] for more detail and step.\r\n\r\n\r\n  [1]: https://help.eclipse.org/mars/topic/org.eclipse.jdt.doc.user/tasks/task-remotejava_launch_config.htm\r\n  [2]: https://tedvinke.wordpress.com/2017/03/22/debugging-grails-3-spring-boot-or-gradle-with-eclipse/","title":"How to debug Spring Boot application with Eclipse?","body":"<p>This question is already answered, but i also got same issue to debug Springboot + gradle + jHipster,</p>\n\n<p>Mostly Spring boot application can debug by right click and debug,\nbut when you use gradle, having some additional environment parameter setup then it is not possible to debug directly.</p>\n\n<p>To resolve this, Eclipse provided one additional features as <a href=\"https://help.eclipse.org/mars/topic/org.eclipse.jdt.doc.user/tasks/task-remotejava_launch_config.htm\" rel=\"nofollow noreferrer\">Remote Java Application</a></p>\n\n<p>by using this features you can debug your application.</p>\n\n<p>Follow below step:</p>\n\n<p>run your gradle application with \n<code>./gradlew bootRun --debug-jvm</code> command</p>\n\n<p>Now go to eclipse --> right click project and Debug configuration --> Remote Java Application.</p>\n\n<p>add you host and port as localhost and port as 5005 (default for gradle debug, you can change it)</p>\n\n<p><a href=\"https://tedvinke.wordpress.com/2017/03/22/debugging-grails-3-spring-boot-or-gradle-with-eclipse/\" rel=\"nofollow noreferrer\">Refer</a> for more detail and step.</p>\n"},{"tags":[],"owner":{"account_id":7434261,"reputation":757,"user_id":5654221,"display_name":"Abdelwahid Oubaalla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537063959,"creation_date":1537063959,"answer_id":52350409,"question_id":24113939,"body_markdown":" - right click on your project and choose &quot;Debug As =&gt; Java application\r\n   or Spring boot App&quot; -capture1 -\r\n[![enter image description here][1]][1]\r\n - If you want that your application pause in somewhere in your app double click on the left you will have like this capture 2.\r\n[![enter image description here][2]][2]\r\n - then when you start your app use those arrows to go next.(capture 3)\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CpzqE.png\r\n  [2]: https://i.stack.imgur.com/O4qqx.png\r\n  [3]: https://i.stack.imgur.com/RttMj.png","title":"How to debug Spring Boot application with Eclipse?","body":"<ul>\n<li>right click on your project and choose \"Debug As => Java application\nor Spring boot App\" -capture1 -\n<a href=\"https://i.stack.imgur.com/CpzqE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CpzqE.png\" alt=\"enter image description here\"></a></li>\n<li>If you want that your application pause in somewhere in your app double click on the left you will have like this capture 2.\n<a href=\"https://i.stack.imgur.com/O4qqx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/O4qqx.png\" alt=\"enter image description here\"></a></li>\n<li>then when you start your app use those arrows to go next.(capture 3)\n<a href=\"https://i.stack.imgur.com/RttMj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RttMj.png\" alt=\"enter image description here\"></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1552231340,"creation_date":1552230744,"answer_id":55089095,"question_id":24113939,"body_markdown":"\r\n\r\n**`Right click on the spring boot project -&gt; debug as -&gt; spring boot App`**. Put a debugger point and invoke the app from a client like postman","title":"How to debug Spring Boot application with Eclipse?","body":"<p><strong><code>Right click on the spring boot project -&gt; debug as -&gt; spring boot App</code></strong>. Put a debugger point and invoke the app from a client like postman</p>\n"},{"tags":[],"owner":{"account_id":10897577,"reputation":1704,"user_id":8010985,"display_name":"Bishal Jaiswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559770827,"creation_date":1559770827,"answer_id":56468392,"question_id":24113939,"body_markdown":"Right click on the **Spring Boot Applications main class file** -&gt; select **Debug As** options -&gt; Select **Java Application**\r\n\r\n[![enter image description here][1]][1]\r\nNow you can use breakpoints to debug the application.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mX301.png","title":"How to debug Spring Boot application with Eclipse?","body":"<p>Right click on the <strong>Spring Boot Applications main class file</strong> -> select <strong>Debug As</strong> options -> Select <strong>Java Application</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/mX301.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mX301.png\" alt=\"enter image description here\"></a>\nNow you can use breakpoints to debug the application.</p>\n"},{"tags":[],"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681227594,"creation_date":1681227165,"answer_id":75987678,"question_id":24113939,"body_markdown":"What&#39;s more convenient for me is usually:\r\n1. set up some JUnit test making a `TestRestTemplate` request on the server API(s) I wish to debug;\r\n1. set breakpoints on the server code I wish to debug;\r\n1. right click on the JUnit test name (in the editor window or JUnit view pane) `-&gt; Debug as -&gt; JUnit test`\r\n1. if you have more than one `Run configuration`, choose from the popup window that will appear the one you normally use to run your server in Eclipse, usually with `Goals: clean spring-boot:run`.\r\n\r\nThe Eclipse debugger will start the server and honor the breakpoints in the server code as well as the ones in the test code.","title":"How to debug Spring Boot application with Eclipse?","body":"<p>What's more convenient for me is usually:</p>\n<ol>\n<li>set up some JUnit test making a <code>TestRestTemplate</code> request on the server API(s) I wish to debug;</li>\n<li>set breakpoints on the server code I wish to debug;</li>\n<li>right click on the JUnit test name (in the editor window or JUnit view pane) <code>-&gt; Debug as -&gt; JUnit test</code></li>\n<li>if you have more than one <code>Run configuration</code>, choose from the popup window that will appear the one you normally use to run your server in Eclipse, usually with <code>Goals: clean spring-boot:run</code>.</li>\n</ol>\n<p>The Eclipse debugger will start the server and honor the breakpoints in the server code as well as the ones in the test code.</p>\n"}],"owner":{"account_id":3578701,"reputation":1875,"user_id":2987388,"accept_rate":44,"display_name":"JeffLL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243931,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":24114612,"answer_count":14,"score":117,"last_activity_date":1681227594,"creation_date":1402290144,"question_id":24113939,"body_markdown":"My `Spring Boot` webapp is running just fine, and I&#39;d like to debug it through Eclipse.\r\n\r\nSo when launching my Remote Java Application debugger, which port should I listen to? And is there a setting on my webapp I have to set to enable debugging?","title":"How to debug Spring Boot application with Eclipse?","body":"<p>My <code>Spring Boot</code> webapp is running just fine, and I'd like to debug it through Eclipse.</p>\n\n<p>So when launching my Remote Java Application debugger, which port should I listen to? And is there a setting on my webapp I have to set to enable debugging?</p>\n"},{"tags":["java","java-8","jvm","cgroups"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1645043699,"post_id":71145589,"comment_id":125769014,"body_markdown":"Cgroup v2 is supported starting from JDK 15, see [JDK-8230305](https://bugs.openjdk.java.net/browse/JDK-8230305). No backports to JDK 8 or 11 yet.","body":"Cgroup v2 is supported starting from JDK 15, see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8230305\" rel=\"nofollow noreferrer\">JDK-8230305</a>. No backports to JDK 8 or 11 yet."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1645044387,"post_id":71145589,"comment_id":125769217,"body_markdown":"IMO, `MaxRAMPercentage` is a harmful flag, since it gives a wrong perception that the JVM adapts to the given environment. It practice, it almost never does. A belief that heap size should depend on the amount of available RAM is erroneous; most often, it works the other way round. If your application perfectly works with 1GB heap, just set `-Xmx1G` and enjoy. If the heap is larger than application requires - it&#39;s the waste of memory. If it&#39;s smaller - the application basically won&#39;t work at all.","body":"IMO, <code>MaxRAMPercentage</code> is a harmful flag, since it gives a wrong perception that the JVM adapts to the given environment. It practice, it almost never does. A belief that heap size should depend on the amount of available RAM is erroneous; most often, it works the other way round. If your application perfectly works with 1GB heap, just set <code>-Xmx1G</code> and enjoy. If the heap is larger than application requires - it&#39;s the waste of memory. If it&#39;s smaller - the application basically won&#39;t work at all."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1645070514,"post_id":71145589,"comment_id":125774857,"body_markdown":"Thank you @apangin for the bug reference. As to your point: we are in a business where once a season ( think 2/3 months ), we are hit with billions of kafka messages, very, very fast. For 1 or 2 days, I need our pods to have a very big heap. We know the day when it starts, so we just restart the pods with a much bigger limit. For our business model, taking a % of RAM, makes all the sense in the world.","body":"Thank you @apangin for the bug reference. As to your point: we are in a business where once a season ( think 2/3 months ), we are hit with billions of kafka messages, very, very fast. For 1 or 2 days, I need our pods to have a very big heap. We know the day when it starts, so we just restart the pods with a much bigger limit. For our business model, taking a % of RAM, makes all the sense in the world."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1645094654,"post_id":71145589,"comment_id":125781806,"body_markdown":"Your example only supports my point: you know that sometimes the application needs a huge heap - so why not setting the exact heap size with -Xmx? To make Xmx configurable from outside, set it via an environment variable. `MaxRAMPercentage` seems to me a wrong way. E.g. normally the application works with 1GB heap, so you can start it in a 2GB container with -Xmx1G. If in rare cases the application requires 60GB heap, start it with -Xmx60G and 64GB container limit. Otherwise `-XX:MaxRAMPercentage=50` will waste a huge amount of RAM.","body":"Your example only supports my point: you know that sometimes the application needs a huge heap - so why not setting the exact heap size with -Xmx? To make Xmx configurable from outside, set it via an environment variable. <code>MaxRAMPercentage</code> seems to me a wrong way. E.g. normally the application works with 1GB heap, so you can start it in a 2GB container with -Xmx1G. If in rare cases the application requires 60GB heap, start it with -Xmx60G and 64GB container limit. Otherwise <code>-XX:MaxRAMPercentage=50</code> will waste a huge amount of RAM."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1645095895,"post_id":71145589,"comment_id":125782317,"body_markdown":"@apangin I see your point, but these spikes in what we want are very costly on our provider, we we only request when needed. and btw `XX:MaxRAMPercentage=50` was just an example, we have it as `XX:MaxRAMPercentage=85/90` usually. I&#39;ll need to think about it more, may be you make sense here. thank you for the follow up","body":"@apangin I see your point, but these spikes in what we want are very costly on our provider, we we only request when needed. and btw <code>XX:MaxRAMPercentage=50</code> was just an example, we have it as <code>XX:MaxRAMPercentage=85&#47;90</code> usually. I&#39;ll need to think about it more, may be you make sense here. thank you for the follow up"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645033937,"creation_date":1645033614,"answer_id":71146801,"question_id":71145589,"body_markdown":"It&#39;s for sure something I do not like, but for images that have a `cgroup v2`, it seems like I will start it with:\r\n\r\n\r\n    -XX:MaxRAM=$(cat /sys/fs/cgroup/memory.max)\r\n\r\nThis way, running:\r\n\r\n\r\n    java -XX:MaxRAMPercentage=50.0\r\n         -XX:InitialRAMPercentage=50.0\r\n         // we don&#39;t use this one, but just to look at he resident memory\r\n         -XX:+AlwaysPreTouch\r\n         -XX:MaxRAM=$(cat /sys/fs/cgroup/memory.max) \r\n         Dummy\r\n\r\nwill show `top -o %MEM` as `1GB`. Not ideal, but works. \r\n\r\n","title":"cgroup v2 and java 8","body":"<p>It's for sure something I do not like, but for images that have a <code>cgroup v2</code>, it seems like I will start it with:</p>\n<pre><code>-XX:MaxRAM=$(cat /sys/fs/cgroup/memory.max)\n</code></pre>\n<p>This way, running:</p>\n<pre><code>java -XX:MaxRAMPercentage=50.0\n     -XX:InitialRAMPercentage=50.0\n     // we don't use this one, but just to look at he resident memory\n     -XX:+AlwaysPreTouch\n     -XX:MaxRAM=$(cat /sys/fs/cgroup/memory.max) \n     Dummy\n</code></pre>\n<p>will show <code>top -o %MEM</code> as <code>1GB</code>. Not ideal, but works.</p>\n"},{"tags":[],"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681227538,"creation_date":1680873523,"answer_id":75958788,"question_id":71145589,"body_markdown":"I was in the same case after upgrading AKS, it appears cgroups v2 awareness has been backported to Java 8u361: https://www.oracle.com/java/technologies/javase/8u361-relnotes.html\r\n\r\nI haven&#39;t tested it yet but it should solve the problem.\r\n\r\n**Update 2023-04-11**:\r\nI have tested various Java 8 JRE images and the only ones that appear to have backported cgroups v2 support are:\r\n\r\n - Oracle JRE 8u361 (tested with custom-built image using https://github.com/oracle/docker-images/tree/main/OracleJava/8)\r\n - IBM Semeru (tested with [ibm-semeru-runtimes:open-8u362-b09-jre-jammy][1])\r\n\r\nIn particular, [Eclipse Temurin][2], [Azul Zulu][3], [Amazon Corretto][4] and [Bellsoft Liberica][5] do not properly recognize cgroups v2.\r\n\r\n\r\n  [1]: https://hub.docker.com/layers/library/ibm-semeru-runtimes/open-8u362-b09-jre-jammy/images/sha256-655e4654a124de7d8747458728ed59fb022fe578f1f34c31f08a6357f073e3e2?context=explore\r\n  [2]: https://hub.docker.com/layers/library/eclipse-temurin/8u362-b09-jre-alpine/images/sha256-3da0b98ae447900b7dd4e88eb6a50c766123f4fdb25d8b8a0de3ddedd86a5296?context=explore\r\n  [3]: https://hub.docker.com/layers/azul/zulu-openjdk-debian/8u362-jre/images/sha256-e181dd50a7c9700a7934aac936ce7312970122cfbb848dca73018c7ec59841e9?context=explore\r\n  [4]: https://hub.docker.com/layers/library/amazoncorretto/8u362-alpine3.17-jre/images/sha256-eea170e219f70e5b8beef464bd38f8a0a5ee1634013a690dad5711682e66b61d?context=explore\r\n  [5]: https://hub.docker.com/layers/bellsoft/liberica-openjdk-debian/8u362-9/images/sha256-483077521b710915623a58fe426fcff329fd797b6a7b72498bc374648af836b6?context=explore","title":"cgroup v2 and java 8","body":"<p>I was in the same case after upgrading AKS, it appears cgroups v2 awareness has been backported to Java 8u361: <a href=\"https://www.oracle.com/java/technologies/javase/8u361-relnotes.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/8u361-relnotes.html</a></p>\n<p>I haven't tested it yet but it should solve the problem.</p>\n<p><strong>Update 2023-04-11</strong>:\nI have tested various Java 8 JRE images and the only ones that appear to have backported cgroups v2 support are:</p>\n<ul>\n<li>Oracle JRE 8u361 (tested with custom-built image using <a href=\"https://github.com/oracle/docker-images/tree/main/OracleJava/8\" rel=\"nofollow noreferrer\">https://github.com/oracle/docker-images/tree/main/OracleJava/8</a>)</li>\n<li>IBM Semeru (tested with <a href=\"https://hub.docker.com/layers/library/ibm-semeru-runtimes/open-8u362-b09-jre-jammy/images/sha256-655e4654a124de7d8747458728ed59fb022fe578f1f34c31f08a6357f073e3e2?context=explore\" rel=\"nofollow noreferrer\">ibm-semeru-runtimes:open-8u362-b09-jre-jammy</a>)</li>\n</ul>\n<p>In particular, <a href=\"https://hub.docker.com/layers/library/eclipse-temurin/8u362-b09-jre-alpine/images/sha256-3da0b98ae447900b7dd4e88eb6a50c766123f4fdb25d8b8a0de3ddedd86a5296?context=explore\" rel=\"nofollow noreferrer\">Eclipse Temurin</a>, <a href=\"https://hub.docker.com/layers/azul/zulu-openjdk-debian/8u362-jre/images/sha256-e181dd50a7c9700a7934aac936ce7312970122cfbb848dca73018c7ec59841e9?context=explore\" rel=\"nofollow noreferrer\">Azul Zulu</a>, <a href=\"https://hub.docker.com/layers/library/amazoncorretto/8u362-alpine3.17-jre/images/sha256-eea170e219f70e5b8beef464bd38f8a0a5ee1634013a690dad5711682e66b61d?context=explore\" rel=\"nofollow noreferrer\">Amazon Corretto</a> and <a href=\"https://hub.docker.com/layers/bellsoft/liberica-openjdk-debian/8u362-9/images/sha256-483077521b710915623a58fe426fcff329fd797b6a7b72498bc374648af836b6?context=explore\" rel=\"nofollow noreferrer\">Bellsoft Liberica</a> do not properly recognize cgroups v2.</p>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71146801,"answer_count":2,"score":1,"last_activity_date":1681227538,"creation_date":1645028796,"question_id":71145589,"body_markdown":"We ran into a problem all of a sudden after switching our base jdk images and an upgrade of k8s, specifically we wanted to use `eclipse-temurin:8u312-b07-jdk`. Here is a very simplified example:\r\n\r\n\r\n    kubectl run jdk --image eclipse-temurin:8u312-b07-jdk --limits &quot;memory=2Gi&quot;\r\n    kubectl exec jdk -it -- /bin/bash\r\n    nano Dummy.java\r\n\r\n\r\nwith content:\r\n\r\n\r\n\r\n    import java.util.concurrent.locks.LockSupport;\r\n    import java.util.concurrent.TimeUnit;\r\n    public class Dummy {\r\n       public static void main(String[] args) throws Exception {\r\n           while(true) {\r\n               LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\r\n           }\r\n       }\r\n    }\r\n\r\ncompile and run it:\r\n\r\n    javac Dummy.java\r\n    java -XX:+UnlockExperimentalVMOptions  -XX:+UseCGroupMemoryLimitForHeap Dummy\r\n\r\n\r\nAnd we get a warning:\r\n\r\n    OpenJDK 64-Bit Server VM warning: Unable to open cgroup memory limit file /sys/fs/cgroup/memory/memory.limit_in_bytes (No such file or directory)\r\n\r\nwell, yes. There is no such file, but there is `cat /sys/fs/cgroup/memory.max` (cgroup v2).\r\n\r\n\r\nDoes that mean that `UseCGroupMemoryLimitForHeap` will have no effect? It surely looks like it. I know it is deprecated and removed in `11` - that&#39;s not the point. \r\n\r\nThank you. \r\n\r\n---\r\n\r\nI did [find this issue](https://bugs.openjdk.java.net/browse/JDK-8170888?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true)\r\nand it looks like I can do:\r\n\r\n    java -XX:+UnlockExperimentalVMOptions -XX:MaxRAM=$(cat /sys/fs/cgroup/memory.max)  Dummy\r\n\r\nbut that is something I do not really like. \r\n","title":"cgroup v2 and java 8","body":"<p>We ran into a problem all of a sudden after switching our base jdk images and an upgrade of k8s, specifically we wanted to use <code>eclipse-temurin:8u312-b07-jdk</code>. Here is a very simplified example:</p>\n<pre><code>kubectl run jdk --image eclipse-temurin:8u312-b07-jdk --limits &quot;memory=2Gi&quot;\nkubectl exec jdk -it -- /bin/bash\nnano Dummy.java\n</code></pre>\n<p>with content:</p>\n<pre><code>import java.util.concurrent.locks.LockSupport;\nimport java.util.concurrent.TimeUnit;\npublic class Dummy {\n   public static void main(String[] args) throws Exception {\n       while(true) {\n           LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\n       }\n   }\n}\n</code></pre>\n<p>compile and run it:</p>\n<pre><code>javac Dummy.java\njava -XX:+UnlockExperimentalVMOptions  -XX:+UseCGroupMemoryLimitForHeap Dummy\n</code></pre>\n<p>And we get a warning:</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: Unable to open cgroup memory limit file /sys/fs/cgroup/memory/memory.limit_in_bytes (No such file or directory)\n</code></pre>\n<p>well, yes. There is no such file, but there is <code>cat /sys/fs/cgroup/memory.max</code> (cgroup v2).</p>\n<p>Does that mean that <code>UseCGroupMemoryLimitForHeap</code> will have no effect? It surely looks like it. I know it is deprecated and removed in <code>11</code> - that's not the point.</p>\n<p>Thank you.</p>\n<hr />\n<p>I did <a href=\"https://bugs.openjdk.java.net/browse/JDK-8170888?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true\" rel=\"nofollow noreferrer\">find this issue</a>\nand it looks like I can do:</p>\n<pre><code>java -XX:+UnlockExperimentalVMOptions -XX:MaxRAM=$(cat /sys/fs/cgroup/memory.max)  Dummy\n</code></pre>\n<p>but that is something I do not really like.</p>\n"},{"tags":["javascript","java","spring"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1681226851,"post_id":75987585,"comment_id":134020781,"body_markdown":"Instead of `https://26.234.184.107:8080/products/post` it should be `&#39;https://26.234.184.107:8080/products/post&#39;`","body":"Instead of <code>https:&#47;&#47;26.234.184.107:8080&#47;products&#47;post</code> it should be <code>&#39;https:&#47;&#47;26.234.184.107:8080&#47;products&#47;post&#39;</code>"},{"owner":{"account_id":23230594,"reputation":11,"user_id":17668244,"display_name":"Alerto"},"score":0,"creation_date":1681227010,"post_id":75987585,"comment_id":134020836,"body_markdown":"It&#39;s there, I copied it crookedly","body":"It&#39;s there, I copied it crookedly"},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1681227429,"post_id":75987585,"comment_id":134020943,"body_markdown":"Are there any errors in the dev tools? What is the status of this request in the network tab?","body":"Are there any errors in the dev tools? What is the status of this request in the network tab?"},{"owner":{"account_id":23230594,"reputation":11,"user_id":17668244,"display_name":"Alerto"},"score":0,"creation_date":1681227904,"post_id":75987585,"comment_id":134021065,"body_markdown":"Access to XMLHttpRequest at &#39;https://26.234.184.107:8080/products/post&#39; from origin &#39;http://localhost:3000/&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.","body":"Access to XMLHttpRequest at &#39;<a href=\"https://26.234.184.107:8080/products/post\" rel=\"nofollow noreferrer\">26.234.184.107:8080/products/post</a>&#39; from origin &#39;<a href=\"http://localhost:3000/\" rel=\"nofollow noreferrer\">localhost:3000</a>&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status."}],"owner":{"account_id":23230594,"reputation":11,"user_id":17668244,"display_name":"Alerto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681227189,"creation_date":1681226573,"question_id":75987585,"body_markdown":"I need to pass json using a post request.\r\njavascript code:\r\n\r\n```\r\nimport axios from &quot;axios&quot;;\r\n\r\n\r\n\r\nexport default class UserService {\r\n\r\n    static async post(){\r\n        const response = await axios.post(&#39;https://26.234.184.107:8080/products/post&#39;, {name: 22})\r\n        console.log(response.data)\r\n        // return response\r\n    }\r\n}\r\n```\r\nand I accept java like this:\r\n\r\n```\r\npackage com.example.controller;\r\n\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class PostController {\r\n\r\n    static HttpHeaders responseHeaders = new HttpHeaders();\r\n\r\n    static {\r\n        responseHeaders.set(&quot;Access-Control-Allow-Credentials&quot;, &quot;false&quot;);\r\n        responseHeaders.set(&quot;Access-Control-Allow-Headers&quot;, &quot;x-total-count, Content-Type, Content-Length, Date&quot;);\r\n        responseHeaders.set(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH&quot;);\r\n        responseHeaders.set(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        responseHeaders.set(&quot;Access-Control-Expose-Headers&quot;, &quot;x-total-count, Content-Type, Content-Length, Date&quot;);\r\n        responseHeaders.set(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n        responseHeaders.set(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n        responseHeaders.set(&quot;X-Content-Type-Options&quot;, &quot;nosniff&quot;);\r\n        responseHeaders.set(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/products/post&quot;)\r\n    public ResponseEntity&lt;String&gt; post(@RequestBody Human human) {\r\n        System.out.println(human.getAge());\r\n        return new ResponseEntity&lt;&gt;(&quot;sd&quot;, responseHeaders, HttpStatus.OK);\r\n        //return new ResponseEntity&lt;&gt;(String.valueOf(new JSONObject(URLDecoder.decode(string, &quot;UTF-8&quot;)).getInt(&quot;name&quot;)), responseHeaders, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried to make a request to the server via postman and everything works for me there.\r\nI tried to copy the code from the postman generator to javascript and nothing happened, it still doesn&#39;t work","title":"post request from json to java spring + javascript","body":"<p>I need to pass json using a post request.\njavascript code:</p>\n<pre><code>import axios from &quot;axios&quot;;\n\n\n\nexport default class UserService {\n\n    static async post(){\n        const response = await axios.post('https://26.234.184.107:8080/products/post', {name: 22})\n        console.log(response.data)\n        // return response\n    }\n}\n</code></pre>\n<p>and I accept java like this:</p>\n<pre><code>package com.example.controller;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class PostController {\n\n    static HttpHeaders responseHeaders = new HttpHeaders();\n\n    static {\n        responseHeaders.set(&quot;Access-Control-Allow-Credentials&quot;, &quot;false&quot;);\n        responseHeaders.set(&quot;Access-Control-Allow-Headers&quot;, &quot;x-total-count, Content-Type, Content-Length, Date&quot;);\n        responseHeaders.set(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH&quot;);\n        responseHeaders.set(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        responseHeaders.set(&quot;Access-Control-Expose-Headers&quot;, &quot;x-total-count, Content-Type, Content-Length, Date&quot;);\n        responseHeaders.set(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\n        responseHeaders.set(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\n        responseHeaders.set(&quot;X-Content-Type-Options&quot;, &quot;nosniff&quot;);\n        responseHeaders.set(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\n    }\n\n\n    @PostMapping(&quot;/products/post&quot;)\n    public ResponseEntity&lt;String&gt; post(@RequestBody Human human) {\n        System.out.println(human.getAge());\n        return new ResponseEntity&lt;&gt;(&quot;sd&quot;, responseHeaders, HttpStatus.OK);\n        //return new ResponseEntity&lt;&gt;(String.valueOf(new JSONObject(URLDecoder.decode(string, &quot;UTF-8&quot;)).getInt(&quot;name&quot;)), responseHeaders, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<p>I tried to make a request to the server via postman and everything works for me there.\nI tried to copy the code from the postman generator to javascript and nothing happened, it still doesn't work</p>\n"},{"tags":["java","rest","jersey","jax-rs","java-9"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1508093341,"creation_date":1508029615,"answer_id":46750774,"question_id":46750501,"body_markdown":"There are quite a few artifacts that you might need to update. To start with you shall check your module&#39;s `mvn dependency:tree` to look out for any source of `asm` that brings in version `&lt; 6.0.x` since that is not compatible with Java9. From the current `pom.xml` and as inferred from your execution logs, you can update \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/asm/asm --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;asm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nto \r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nImportantly, use [Java 9 compatible maven plugins](https://cwiki.apache.org/confluence/display/MAVEN/Java+9+-+Jigsaw) such as - \r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;inherited&gt;true&lt;/inherited&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;9&lt;/source&gt;\r\n            &lt;target&gt;9&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nOn a side note, you might end up still facing some other challenges(I can see conflicting `jaxb` dependencies, even `asm` might be transitive from `jersey`) to resolve which you shall run \r\n\r\n    mvn dependency:analyze\r\n\r\nand make sure that conflicting dependencies are excluded in such cases to make use of their updated version.","title":"What Jersey version do I need to download for JDK 1.9?","body":"<p>There are quite a few artifacts that you might need to update. To start with you shall check your module's <code>mvn dependency:tree</code> to look out for any source of <code>asm</code> that brings in version <code>&lt; 6.0.x</code> since that is not compatible with Java9. From the current <code>pom.xml</code> and as inferred from your execution logs, you can update </p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/asm/asm --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;asm&lt;/groupId&gt;\n    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n    &lt;version&gt;6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p>Importantly, use <a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Java+9+-+Jigsaw\" rel=\"nofollow noreferrer\">Java 9 compatible maven plugins</a> such as - </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;9&lt;/source&gt;\n        &lt;target&gt;9&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<hr>\n\n<p>On a side note, you might end up still facing some other challenges(I can see conflicting <code>jaxb</code> dependencies, even <code>asm</code> might be transitive from <code>jersey</code>) to resolve which you shall run </p>\n\n<pre><code>mvn dependency:analyze\n</code></pre>\n\n<p>and make sure that conflicting dependencies are excluded in such cases to make use of their updated version.</p>\n"},{"tags":[],"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510073706,"creation_date":1510073706,"answer_id":47163399,"question_id":46750501,"body_markdown":"The problem that current Jersey has a shaded asm 5 dependency, which doesn&#39;t work with Java 9 bytecode. Looks like Jersey 1.x is not adopted to Java 9 and it&#39;s unclear if this support is coming at all. As a temporary solution, I made a [branch][1] where I deleted shaded asm, migrated packages in code to use a regular asm dependency and put asm 6.0 in maven dependencies.\r\n\r\nYou can build only jersey-server and jersey-servlet modules from this branch because only these two depend on asm and use these two custom artifacts in your project.\r\n\r\nMy projects work fine with such a replacement, but I can&#39;t guarantee that it&#39;s 100% working solution, I wasn&#39;t able to build the whole distribution without fails and can&#39;t invest time for a full adoption and check right now. On the same time, the main Jersey parts built without issues.\r\n\r\nSo, your final pom would look like:\r\n\r\n    &lt;!--regular jersey dependencies with the last 1.19.4 version--&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n        &lt;version&gt;${custom-jersey-with-asm6.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\r\n         &lt;version&gt;${custom-jersey-with-asm6.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n         &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n         &lt;version&gt;6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n  [1]: https://github.com/Spikhalskiy/jersey-1.x/tree/asm-6.0","title":"What Jersey version do I need to download for JDK 1.9?","body":"<p>The problem that current Jersey has a shaded asm 5 dependency, which doesn't work with Java 9 bytecode. Looks like Jersey 1.x is not adopted to Java 9 and it's unclear if this support is coming at all. As a temporary solution, I made a <a href=\"https://github.com/Spikhalskiy/jersey-1.x/tree/asm-6.0\" rel=\"nofollow noreferrer\">branch</a> where I deleted shaded asm, migrated packages in code to use a regular asm dependency and put asm 6.0 in maven dependencies.</p>\n\n<p>You can build only jersey-server and jersey-servlet modules from this branch because only these two depend on asm and use these two custom artifacts in your project.</p>\n\n<p>My projects work fine with such a replacement, but I can't guarantee that it's 100% working solution, I wasn't able to build the whole distribution without fails and can't invest time for a full adoption and check right now. On the same time, the main Jersey parts built without issues.</p>\n\n<p>So, your final pom would look like:</p>\n\n<pre><code>&lt;!--regular jersey dependencies with the last 1.19.4 version--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;${custom-jersey-with-asm6.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n     &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n     &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\n     &lt;version&gt;${custom-jersey-with-asm6.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n     &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n     &lt;artifactId&gt;asm&lt;/artifactId&gt;\n     &lt;version&gt;6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398326,"reputation":328,"user_id":762950,"display_name":"Mikematic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624351297,"creation_date":1544155975,"answer_id":53663141,"question_id":46750501,"body_markdown":"I was getting this error and in my case it had nothing to do with the version of Jersey. It was due to some elastic-search jars namely (elastic-search, elastic-search-core and log4j.2.1.1) that were multi-release jars. Multi-release jars have a folder named version that has some artifacts inside the META-INF. I deleted that folder and it resolved the issue.","title":"What Jersey version do I need to download for JDK 1.9?","body":"<p>I was getting this error and in my case it had nothing to do with the version of Jersey. It was due to some elastic-search jars namely (elastic-search, elastic-search-core and log4j.2.1.1) that were multi-release jars. Multi-release jars have a folder named version that has some artifacts inside the META-INF. I deleted that folder and it resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":28220747,"reputation":1,"user_id":21571516,"display_name":"Deepak Mandlik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681226922,"creation_date":1681226922,"answer_id":75987649,"question_id":46750501,"body_markdown":"Issue here is jersey 1.x  family max support is upto java 8. \r\n\r\nif you try to run jersey 1.x with java 9 or above version you will get the error bcoz of compatibility.\r\n\r\nreason is Opcodes.V1_8 in classReader class of jersey-server.\r\n\r\n     public ClassReader(final byte[] b, final int off, final int len) {\r\n            this.b = b;\r\n            // checks the class version\r\n            if (readShort(off + 6) &gt; Opcodes.V1_8) {\r\n                throw new IllegalArgumentException();\r\n\r\nSO in this Opcodes.V1_8 represents the constant value for the Java class file version 1.8, which corresponds to Java SE 8. In other words, it&#39;s checking if the class file being read has a class file version greater than Java SE 8, and if so, it throws an IllegalArgumentException. \r\n\r\nSO conclusion is you need jersey 2.x family for above versions","title":"What Jersey version do I need to download for JDK 1.9?","body":"<p>Issue here is jersey 1.x  family max support is upto java 8.</p>\n<p>if you try to run jersey 1.x with java 9 or above version you will get the error bcoz of compatibility.</p>\n<p>reason is Opcodes.V1_8 in classReader class of jersey-server.</p>\n<pre><code> public ClassReader(final byte[] b, final int off, final int len) {\n        this.b = b;\n        // checks the class version\n        if (readShort(off + 6) &gt; Opcodes.V1_8) {\n            throw new IllegalArgumentException();\n</code></pre>\n<p>SO in this Opcodes.V1_8 represents the constant value for the Java class file version 1.8, which corresponds to Java SE 8. In other words, it's checking if the class file being read has a class file version greater than Java SE 8, and if so, it throws an IllegalArgumentException.</p>\n<p>SO conclusion is you need jersey 2.x family for above versions</p>\n"}],"owner":{"account_id":3013682,"reputation":1146,"user_id":2556478,"accept_rate":56,"display_name":"RDM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7753,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1681226922,"creation_date":1508026286,"question_id":46750501,"body_markdown":"I am using jdk 1.9. I am trying to bring up a simple ReST service. Created the project using the maven archetype: `jersey-quickstart-webapp`. Then I went ahead and modified the pom.xml and web.xml. My maven config is as shown below: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;restWebService&lt;/groupId&gt;\r\n        &lt;artifactId&gt;restWebService&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;restWebService&lt;/name&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;restWebService&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;inherited&gt;true&lt;/inherited&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;9&lt;/source&gt;\r\n                        &lt;target&gt;9&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-client --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n                &lt;version&gt;1.19.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-bundle --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\r\n                &lt;version&gt;1.19.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-server --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n                &lt;version&gt;1.19.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.19.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/asm/asm --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0_BETA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20170516&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/javax.xml/jaxb-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n                &lt;version&gt;1.19.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd the web.xml looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- This web.xml file is not required when using Servlet 3.0 container,\r\n         see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n                &lt;param-value&gt;restWebService&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nWhen I try to hit this URL: http://localhost:8080/webapi/myresource - I see the following error:\r\n\r\n    HTTP Status 500  Internal Server Error\r\n    \r\n    Type Exception Report\r\n    \r\n    Message Servlet.init() for servlet [Jersey REST Service] threw exception\r\n    \r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n    \r\n    Exception\r\n    \r\n    javax.servlet.ServletException: Servlet.init() for servlet [Jersey REST Service] threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:475)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:651)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:500)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1376)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:844)\r\n    Root Cause\r\n    \r\n    java.lang.IllegalArgumentException\r\n    \tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n    \tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n    \tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n    \tcom.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n    \tcom.sun.jersey.core.spi.scanning.uri.FileSchemeScanner$1.f(FileSchemeScanner.java:86)\r\n    \tcom.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\r\nWhen I change the build configuration from 1.9 to 1.8\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t&lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n\r\nthe service comes up without any issues and I see the expected result on the browser. \r\n\r\nI am using Intellij, Project SDK - 9, Project Language Level - 9\r\n\r\nWhat jars should I import in order to make it work with 1.9 ? Or do I need to change maven configuration to make it work ?\r\n\r\nEDIT: Dependency Tree\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building restWebService 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [WARNING] The artifact javax.xml:jaxb-api:jar:2.1 has been relocated to javax.xml.bind:jaxb-api:jar:2.1\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ restWebService ---\r\n    [WARNING] The artifact javax.xml:jaxb-api:jar:2.1 has been relocated to javax.xml.bind:jaxb-api:jar:2.1\r\n    [INFO] restWebService:restWebService:war:1.0-SNAPSHOT\r\n    [INFO] +- org.springframework:spring-core:jar:5.0.0.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-jcl:jar:5.0.0.RELEASE:compile\r\n    [INFO] +- com.sun.jersey:jersey-client:jar:1.19.4:compile\r\n    [INFO] +- com.sun.jersey:jersey-bundle:jar:1.19.4:compile\r\n    [INFO] |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n    [INFO] +- com.sun.jersey:jersey-server:jar:1.19.4:compile\r\n    [INFO] +- com.sun.jersey:jersey-core:jar:1.19.4:compile\r\n    [INFO] +- org.ow2.asm:asm:jar:6.0_BETA:compile\r\n    [INFO] +- org.json:json:jar:20170516:compile\r\n    [INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\r\n    [INFO] +- javax.xml.bind:jaxb-api:jar:2.1:compile\r\n    [INFO] |  \\- javax.xml.stream:stax-api:jar:1.0-2:compile\r\n    [INFO] +- javax.activation:activation:jar:1.1.1:compile\r\n    [INFO] +- com.sun.jersey:jersey-json:jar:1.19.4:compile\r\n    [INFO] |  +- org.codehaus.jettison:jettison:jar:1.1:compile\r\n    [INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.2:compile\r\n    [INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.2:compile\r\n    [INFO] |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.9.2:compile\r\n    [INFO] |  \\- org.codehaus.jackson:jackson-xc:jar:1.9.2:compile\r\n    [INFO] \\- com.sun.xml.bind:jaxb-core:jar:2.3.0:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.910 s\r\n    [INFO] Finished at: 2017-10-14T22:05:15-04:00\r\n    [INFO] Final Memory: 13M/44M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n","title":"What Jersey version do I need to download for JDK 1.9?","body":"<p>I am using jdk 1.9. I am trying to bring up a simple ReST service. Created the project using the maven archetype: <code>jersey-quickstart-webapp</code>. Then I went ahead and modified the pom.xml and web.xml. My maven config is as shown below: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;restWebService&lt;/groupId&gt;\n    &lt;artifactId&gt;restWebService&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;restWebService&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;restWebService&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;9&lt;/source&gt;\n                    &lt;target&gt;9&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-bundle --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.jersey/jersey-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/asm/asm --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;version&gt;6.0_BETA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20170516&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And the web.xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!-- This web.xml file is not required when using Servlet 3.0 container,\n     see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n            &lt;param-value&gt;restWebService&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When I try to hit this URL: <a href=\"http://localhost:8080/webapi/myresource\" rel=\"noreferrer\">http://localhost:8080/webapi/myresource</a> - I see the following error:</p>\n\n<pre><code>HTTP Status 500  Internal Server Error\n\nType Exception Report\n\nMessage Servlet.init() for servlet [Jersey REST Service] threw exception\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Servlet.init() for servlet [Jersey REST Service] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:475)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:651)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:500)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1376)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:844)\nRoot Cause\n\njava.lang.IllegalArgumentException\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n    com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n    com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner$1.f(FileSchemeScanner.java:86)\n    com.sun.jersey.core.util.Closing.f(Closing.java:71)\n</code></pre>\n\n<p>When I change the build configuration from 1.9 to 1.8</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>the service comes up without any issues and I see the expected result on the browser. </p>\n\n<p>I am using Intellij, Project SDK - 9, Project Language Level - 9</p>\n\n<p>What jars should I import in order to make it work with 1.9 ? Or do I need to change maven configuration to make it work ?</p>\n\n<p>EDIT: Dependency Tree</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building restWebService 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[WARNING] The artifact javax.xml:jaxb-api:jar:2.1 has been relocated to javax.xml.bind:jaxb-api:jar:2.1\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ restWebService ---\n[WARNING] The artifact javax.xml:jaxb-api:jar:2.1 has been relocated to javax.xml.bind:jaxb-api:jar:2.1\n[INFO] restWebService:restWebService:war:1.0-SNAPSHOT\n[INFO] +- org.springframework:spring-core:jar:5.0.0.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.0.0.RELEASE:compile\n[INFO] +- com.sun.jersey:jersey-client:jar:1.19.4:compile\n[INFO] +- com.sun.jersey:jersey-bundle:jar:1.19.4:compile\n[INFO] |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:compile\n[INFO] +- com.sun.jersey:jersey-server:jar:1.19.4:compile\n[INFO] +- com.sun.jersey:jersey-core:jar:1.19.4:compile\n[INFO] +- org.ow2.asm:asm:jar:6.0_BETA:compile\n[INFO] +- org.json:json:jar:20170516:compile\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.1:compile\n[INFO] |  \\- javax.xml.stream:stax-api:jar:1.0-2:compile\n[INFO] +- javax.activation:activation:jar:1.1.1:compile\n[INFO] +- com.sun.jersey:jersey-json:jar:1.19.4:compile\n[INFO] |  +- org.codehaus.jettison:jettison:jar:1.1:compile\n[INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.2:compile\n[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.2:compile\n[INFO] |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.9.2:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-xc:jar:1.9.2:compile\n[INFO] \\- com.sun.xml.bind:jaxb-core:jar:2.3.0:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.910 s\n[INFO] Finished at: 2017-10-14T22:05:15-04:00\n[INFO] Final Memory: 13M/44M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","android","google-maps","google-cloud-platform","sha"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681247144,"post_id":75987543,"comment_id":134025266,"body_markdown":"Every time you change the app the hash will change and you have to add or update the new hash to the allowed hashes saved at Google.","body":"Every time you change the app the hash will change and you have to add or update the new hash to the allowed hashes saved at Google."}],"owner":{"account_id":28236680,"reputation":19,"user_id":21585033,"display_name":"bofa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681226720,"creation_date":1681226355,"question_id":75987543,"body_markdown":"The SHA256 associated with my project doesn&#39;t match the SHA256 expected by the project.\r\n\r\nThis problem is a little out my league and I&#39;m not sure how to solve it. Here&#39;s my error code:\r\n\r\n\r\n&gt; Unable to update local snapshot for com.google.android.libraries.consentverifier#com.example.hopefullyfinalgeoguessr, may result in stale flags.\r\n&gt; \r\n&gt; java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.example.hopefullyfinalgeoguessr, sha256=[a3c1267456d......], atk=false, ver=230714044.true (go/gsrlt)\r\n\r\nAll I know is that the SHA256 in my keystores doesn&#39;t match this one. I&#39;m trying to use the google street view API if that matters.","title":"SHA256 doesn&#39;t match","body":"<p>The SHA256 associated with my project doesn't match the SHA256 expected by the project.</p>\n<p>This problem is a little out my league and I'm not sure how to solve it. Here's my error code:</p>\n<blockquote>\n<p>Unable to update local snapshot for com.google.android.libraries.consentverifier#com.example.hopefullyfinalgeoguessr, may result in stale flags.</p>\n<p>java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.example.hopefullyfinalgeoguessr, sha256=[a3c1267456d......], atk=false, ver=230714044.true (go/gsrlt)</p>\n</blockquote>\n<p>All I know is that the SHA256 in my keystores doesn't match this one. I'm trying to use the google street view API if that matters.</p>\n"},{"tags":["java","android","url","android-background"],"comments":[{"owner":{"account_id":4831406,"reputation":952,"user_id":3899529,"display_name":"Damien O&#39;Reilly"},"score":0,"creation_date":1444664272,"post_id":33084855,"comment_id":53986347,"body_markdown":"Looks like a certificate issue. Look here for more info: https://developer.android.com/training/articles/security-ssl.html#CommonHostnameProbs","body":"Looks like a certificate issue. Look here for more info: <a href=\"https://developer.android.com/training/articles/security-ssl.html#CommonHostnameProbs\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/&hellip;</a>"},{"owner":{"account_id":4022021,"reputation":227,"user_id":3311983,"accept_rate":75,"display_name":"androidAhmed"},"score":0,"creation_date":1444664907,"post_id":33084855,"comment_id":53986745,"body_markdown":"thanks for reply is it normal work in Postman and didn&#39;t work in android","body":"thanks for reply is it normal work in Postman and didn&#39;t work in android"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1444664929,"post_id":33084855,"comment_id":53986757,"body_markdown":"URLConnection is preferable to HttpClient. Have a look into http://stackoverflow.com/questions/32591295/subsequent-https-post-request-in-java-with-cookies-retained/32592521#32592521","body":"URLConnection is preferable to HttpClient. Have a look into <a href=\"http://stackoverflow.com/questions/32591295/subsequent-https-post-request-in-java-with-cookies-retained/32592521#32592521\" title=\"subsequent https post request in java with cookies retained\">stackoverflow.com/questions/32591295/&hellip;</a>"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1444665434,"post_id":33084855,"comment_id":53987078,"body_markdown":"http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests/32781880#32781880 and https://github.com/loopj/android-async-http/issues/75 prefer HttpURLConnection","body":"<a href=\"http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests/32781880#32781880\" title=\"using java net urlconnection to fire and handle http requests\">stackoverflow.com/questions/2793150/&hellip;</a> and <a href=\"https://github.com/loopj/android-async-http/issues/75\" rel=\"nofollow noreferrer\">github.com/loopj/android-async-http/issues/75</a> prefer HttpURLConnection"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1445330508,"post_id":33084855,"comment_id":54267284,"body_markdown":"Pls take a look at my edited answer.","body":"Pls take a look at my edited answer."}],"answers":[{"tags":[],"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1445330481,"creation_date":1444745151,"answer_id":33104839,"question_id":33084855,"body_markdown":"From your logcat information, I think you should read the following links:\r\n\r\n 1. [HostnameVerifier][1]\r\n&gt; It is to be used during a handshake if the URL&#39;s hostname does not match the peer&#39;s identification hostname. \r\n    \r\n 2. [Common Problems with Hostname Verification][2]\r\n&gt; \r\n&gt; One reason this can happen is due to a server configuration error. The\r\n&gt; server is configured with a certificate that does not have a subject\r\n&gt; or subject alternative name fields that match the server you are\r\n&gt; trying to reach...\r\n\r\nThen, you can refer to my answer to the following question:\r\n\r\nhttps://stackoverflow.com/questions/33067368/okhttp-trusting-certificate\r\n\r\n---\r\n\r\n**EDIT:** Relating to your idea &#39;ignore ssl&#39;, you can try the following (however, it&#39;s said that this is not recommended):\r\n\r\n    public class HttpsTrustManager implements X509TrustManager {\r\n        private static TrustManager[] trustManagers;\r\n        private static final X509Certificate[] _AcceptedIssuers = new X509Certificate[]{};\r\n    \r\n        @Override\r\n        public void checkClientTrusted(\r\n                X509Certificate[] x509Certificates, String s)\r\n                throws java.security.cert.CertificateException {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void checkServerTrusted(\r\n                X509Certificate[] x509Certificates, String s)\r\n                throws java.security.cert.CertificateException {\r\n    \r\n        }\r\n    \r\n        public boolean isClientTrusted(X509Certificate[] chain) {\r\n            return true;\r\n        }\r\n    \r\n        public boolean isServerTrusted(X509Certificate[] chain) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return _AcceptedIssuers;\r\n        }\r\n    \r\n        public static void allowAllSSL() {\r\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n    \r\n                @Override\r\n                public boolean verify(String arg0, SSLSession arg1) {\r\n                    return true;\r\n                }\r\n    \r\n            });\r\n    \r\n            SSLContext context = null;\r\n            if (trustManagers == null) {\r\n                trustManagers = new TrustManager[]{new HttpsTrustManager()};\r\n            }\r\n    \r\n            try {\r\n                context = SSLContext.getInstance(&quot;TLS&quot;);\r\n                context.init(null, trustManagers, new SecureRandom());\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            HttpsURLConnection.setDefaultSSLSocketFactory(context != null ? context.getSocketFactory() : null);\r\n        }\r\n    }\r\n\r\nThen, in your activity, call `HttpsTrustManager.allowAllSSL();`\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/javax/net/ssl/HostnameVerifier.html\r\n  [2]: https://developer.android.com/training/articles/security-ssl.html#CommonHostnameProbs","title":"way to Ignore ssl certificate using HttpsURLConnection","body":"<p>From your logcat information, I think you should read the following links:</p>\n\n<ol>\n<li><p><a href=\"http://developer.android.com/reference/javax/net/ssl/HostnameVerifier.html\" rel=\"noreferrer\">HostnameVerifier</a></p>\n\n<blockquote>\n  <p>It is to be used during a handshake if the URL's hostname does not match the peer's identification hostname. </p>\n</blockquote></li>\n<li><p><a href=\"https://developer.android.com/training/articles/security-ssl.html#CommonHostnameProbs\" rel=\"noreferrer\">Common Problems with Hostname Verification</a></p>\n\n<blockquote>\n  <p>One reason this can happen is due to a server configuration error. The\n  server is configured with a certificate that does not have a subject\n  or subject alternative name fields that match the server you are\n  trying to reach...</p>\n</blockquote></li>\n</ol>\n\n<p>Then, you can refer to my answer to the following question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33067368/okhttp-trusting-certificate\">OkHttp trusting certificate</a></p>\n\n<hr>\n\n<p><strong>EDIT:</strong> Relating to your idea 'ignore ssl', you can try the following (however, it's said that this is not recommended):</p>\n\n<pre><code>public class HttpsTrustManager implements X509TrustManager {\n    private static TrustManager[] trustManagers;\n    private static final X509Certificate[] _AcceptedIssuers = new X509Certificate[]{};\n\n    @Override\n    public void checkClientTrusted(\n            X509Certificate[] x509Certificates, String s)\n            throws java.security.cert.CertificateException {\n\n    }\n\n    @Override\n    public void checkServerTrusted(\n            X509Certificate[] x509Certificates, String s)\n            throws java.security.cert.CertificateException {\n\n    }\n\n    public boolean isClientTrusted(X509Certificate[] chain) {\n        return true;\n    }\n\n    public boolean isServerTrusted(X509Certificate[] chain) {\n        return true;\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return _AcceptedIssuers;\n    }\n\n    public static void allowAllSSL() {\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n\n            @Override\n            public boolean verify(String arg0, SSLSession arg1) {\n                return true;\n            }\n\n        });\n\n        SSLContext context = null;\n        if (trustManagers == null) {\n            trustManagers = new TrustManager[]{new HttpsTrustManager()};\n        }\n\n        try {\n            context = SSLContext.getInstance(\"TLS\");\n            context.init(null, trustManagers, new SecureRandom());\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            e.printStackTrace();\n        }\n\n        HttpsURLConnection.setDefaultSSLSocketFactory(context != null ? context.getSocketFactory() : null);\n    }\n}\n</code></pre>\n\n<p>Then, in your activity, call <code>HttpsTrustManager.allowAllSSL();</code></p>\n"}],"owner":{"account_id":4022021,"reputation":227,"user_id":3311983,"accept_rate":75,"display_name":"androidAhmed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49555,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":33104839,"answer_count":1,"score":15,"last_activity_date":1681226641,"creation_date":1444663800,"question_id":33084855,"body_markdown":"I use two approaches to try to consumes HTTPS URL:\r\n\r\n\r\nThe old deprecated and return response with the right values. \r\n\r\nHere is the code it didn&#39;t need ignore ssl certificate it ignore it by itself or may use other technique:\r\n\r\n    public String newApiPost(String url,String p1,String p2,String p3){\r\n\r\n        HttpClient httpClient = new DefaultHttpClient();\r\n        // replace with your url\r\n        HttpPost httpPost = new HttpPost(url);\r\n\r\n        //Post Data\r\n        List&lt;NameValuePair&gt; nameValuePair = new ArrayList&lt;NameValuePair&gt;();\r\n        nameValuePair.add(new BasicNameValuePair(&quot;cliend_id&quot;,p1));\r\n        nameValuePair.add(new BasicNameValuePair(&quot;client_secret&quot;, p2));\r\n        nameValuePair.add(new BasicNameValuePair(&quot;key&quot;,p3));\r\n\r\n        //Encoding POST data\r\n        try {\r\n            httpPost.setEntity(new UrlEncodedFormEntity(nameValuePair));\r\n        } catch (UnsupportedEncodingException e) {\r\n            // log exception\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //making POST request.\r\n        try {\r\n            HttpResponse response = httpClient.execute(httpPost);\r\n            HttpEntity httpEntity = response.getEntity();\r\n            String   result = EntityUtils.toString(httpEntity,     \r\n            HTTP.UTF_8);\r\n            Log.d(&quot;response&quot;, result);\r\n\r\n            // write response to log\r\n            Log.d(&quot;zzuu&quot;, result.toString());\r\n        } catch (ClientProtocolException e) {\r\n            // Log exception\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // Log exception\r\n            e.printStackTrace();\r\n            Log.d(&quot;dddfg&quot;, e.toString());\r\n        }catch (Exception e){\r\n            Log.d(&quot;dddfg&quot;, e.toString());\r\n        }\r\n\r\n        return &quot;&quot;;\r\n     }\r\n\r\n \r\n\r\nThen I used un-deprecated method HttpsUrlConnections which need ignore ssl certificate I use many way but didn&#39;t work:\r\n\r\n    public void sendNew (String urls,String paramValue1,String paramValue2,String paramValue3){\r\n        URL url = null;\r\n        BufferedReader reader = null;\r\n        StringBuilder stringBuilder;\r\n        String data=&quot;&quot;;\r\n\r\n        try {\r\n            url = new URL(urls);\r\n            HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n\r\n            conn.setReadTimeout(10000);\r\n            conn.setConnectTimeout(15000);\r\n            conn.setRequestMethod(&quot;POST&quot;);\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n            conn.setDoInput(true);\r\n            conn.setDoOutput(true);\r\n            Uri.Builder builder = new Uri.Builder()\r\n                    .appendQueryParameter(&quot;cliend_id&quot;, paramValue1)\r\n                    .appendQueryParameter(&quot;client_secret&quot;, paramValue2)\r\n                    .appendQueryParameter(&quot;apikey&quot;, paramValue3);\r\n            String query = builder.build().getEncodedQuery();\r\n\r\n            OutputStream os = conn.getOutputStream();\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(os, &quot;UTF-8&quot;));\r\n            writer.write(query);\r\n            writer.flush();\r\n            writer.close();\r\n            os.close();\r\n\r\n            conn.connect();\r\n\r\n            reader = new BufferedReader(new InputStreamReader(conn.getErrorStream()));\r\n            stringBuilder = new StringBuilder();\r\n\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                stringBuilder.append(line + &quot;\\n&quot;);\r\n            }\r\n            data= stringBuilder.toString();\r\n            Log.d(&quot;zzuu&quot;, data);\r\n\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        } catch (ProtocolException e) {\r\n            e.printStackTrace();\r\n            Log.d(&quot;dddfg&quot;, e.toString());\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            Log.d(&quot;dddfg&quot;, e.toString());\r\n\r\n        }catch (Exception e){\r\n            Log.d(&quot;dddfg&quot;, e.toString());\r\n\r\n        }\r\n    }\r\n\r\nIt responds with this error: \r\n\r\n    10-12 17:06:06.135  16052-16075/  W/System.err java.io.IOException: Hostname &#39;xxxxxxxx&#39; was not verified\r\n    10-12 17:06:06.139  16052-16075/  W/System.err at libcore.net.http.HttpConnection.verifySecureSocketHostname(HttpConnection.java:223)\r\n    10-12 17:06:06.139  16052-16075/  W/System.err at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:446)\r\n    10-12 17:06:06.139  16052-16075/  W/System.err at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\r\n    10-12 17:06:06.170  16052-16075/  W/System.err at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\r\n    10-12 17:06:06.171  16052-16075/  W/System.err at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:292)\r\n    10-12 17:06:06.175  16052-16075/ W/System.err at libcore.net.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:185)\r\n    10-12 17:06:06.175  16052-16075/  W/System.err at libcore.net.http.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:271)\r\n    10-12 17:06:06.176  16052-16075/  W/System.err at ubicall.sand.ubicall.helper.JSONParser.method(JSONParser.java:422)\r\n    10-12 17:06:06.177  16052-16075/  W/System.err at ubicall.sand.ubicall.activity.SplashActivity$Access.doInBackground(SplashActivity.java:111)\r\n    10-12 17:06:06.177  16052-16075/  W/System.err at ubicall.sand.ubicall.activity.SplashActivity$Access.doInBackground(SplashActivity.java:106)\r\n    10-12 17:06:06.177  16052-16075/  W/System.err at android.os.AsyncTask$2.call(AsyncTask.java:287)\r\n\r\nI didn&#39;t understand when problem exactly it work good in restclient and postman \r\nthe data send in body of url using post method\r\nthen I discover that I need ignore ssl certificate when using HttpsURLConnection but I try many way to ignore but didn&#39;t work\r\n\r\nI use \r\n\r\n    private void trustEveryone() {\r\n        try {\r\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier(){\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            });\r\n            SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            context.init(null, new X509TrustManager[]{new X509TrustManager(){\r\n                public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\r\n                public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\r\n                public X509Certificate[] getAcceptedIssuers() {\r\n                    return new X509Certificate[0];\r\n                }\r\n            }}, new SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(\r\n            context.getSocketFactory());\r\n        } catch (Exception e) { // should never happen\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n","title":"way to Ignore ssl certificate using HttpsURLConnection","body":"<p>I use two approaches to try to consumes HTTPS URL:</p>\n<p>The old deprecated and return response with the right values.</p>\n<p>Here is the code it didn't need ignore ssl certificate it ignore it by itself or may use other technique:</p>\n<pre><code>public String newApiPost(String url,String p1,String p2,String p3){\n\n    HttpClient httpClient = new DefaultHttpClient();\n    // replace with your url\n    HttpPost httpPost = new HttpPost(url);\n\n    //Post Data\n    List&lt;NameValuePair&gt; nameValuePair = new ArrayList&lt;NameValuePair&gt;();\n    nameValuePair.add(new BasicNameValuePair(&quot;cliend_id&quot;,p1));\n    nameValuePair.add(new BasicNameValuePair(&quot;client_secret&quot;, p2));\n    nameValuePair.add(new BasicNameValuePair(&quot;key&quot;,p3));\n\n    //Encoding POST data\n    try {\n        httpPost.setEntity(new UrlEncodedFormEntity(nameValuePair));\n    } catch (UnsupportedEncodingException e) {\n        // log exception\n        e.printStackTrace();\n    }\n\n    //making POST request.\n    try {\n        HttpResponse response = httpClient.execute(httpPost);\n        HttpEntity httpEntity = response.getEntity();\n        String   result = EntityUtils.toString(httpEntity,     \n        HTTP.UTF_8);\n        Log.d(&quot;response&quot;, result);\n\n        // write response to log\n        Log.d(&quot;zzuu&quot;, result.toString());\n    } catch (ClientProtocolException e) {\n        // Log exception\n        e.printStackTrace();\n    } catch (IOException e) {\n        // Log exception\n        e.printStackTrace();\n        Log.d(&quot;dddfg&quot;, e.toString());\n    }catch (Exception e){\n        Log.d(&quot;dddfg&quot;, e.toString());\n    }\n\n    return &quot;&quot;;\n }\n</code></pre>\n<p>Then I used un-deprecated method HttpsUrlConnections which need ignore ssl certificate I use many way but didn't work:</p>\n<pre><code>public void sendNew (String urls,String paramValue1,String paramValue2,String paramValue3){\n    URL url = null;\n    BufferedReader reader = null;\n    StringBuilder stringBuilder;\n    String data=&quot;&quot;;\n\n    try {\n        url = new URL(urls);\n        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n\n        conn.setReadTimeout(10000);\n        conn.setConnectTimeout(15000);\n        conn.setRequestMethod(&quot;POST&quot;);\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n        conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\n        conn.setDoInput(true);\n        conn.setDoOutput(true);\n        Uri.Builder builder = new Uri.Builder()\n                .appendQueryParameter(&quot;cliend_id&quot;, paramValue1)\n                .appendQueryParameter(&quot;client_secret&quot;, paramValue2)\n                .appendQueryParameter(&quot;apikey&quot;, paramValue3);\n        String query = builder.build().getEncodedQuery();\n\n        OutputStream os = conn.getOutputStream();\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(os, &quot;UTF-8&quot;));\n        writer.write(query);\n        writer.flush();\n        writer.close();\n        os.close();\n\n        conn.connect();\n\n        reader = new BufferedReader(new InputStreamReader(conn.getErrorStream()));\n        stringBuilder = new StringBuilder();\n\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            stringBuilder.append(line + &quot;\\n&quot;);\n        }\n        data= stringBuilder.toString();\n        Log.d(&quot;zzuu&quot;, data);\n\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    } catch (ProtocolException e) {\n        e.printStackTrace();\n        Log.d(&quot;dddfg&quot;, e.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        Log.d(&quot;dddfg&quot;, e.toString());\n\n    }catch (Exception e){\n        Log.d(&quot;dddfg&quot;, e.toString());\n\n    }\n}\n</code></pre>\n<p>It responds with this error:</p>\n<pre><code>10-12 17:06:06.135  16052-16075/  W/System.err java.io.IOException: Hostname 'xxxxxxxx' was not verified\n10-12 17:06:06.139  16052-16075/  W/System.err at libcore.net.http.HttpConnection.verifySecureSocketHostname(HttpConnection.java:223)\n10-12 17:06:06.139  16052-16075/  W/System.err at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:446)\n10-12 17:06:06.139  16052-16075/  W/System.err at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\n10-12 17:06:06.170  16052-16075/  W/System.err at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\n10-12 17:06:06.171  16052-16075/  W/System.err at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:292)\n10-12 17:06:06.175  16052-16075/ W/System.err at libcore.net.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:185)\n10-12 17:06:06.175  16052-16075/  W/System.err at libcore.net.http.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:271)\n10-12 17:06:06.176  16052-16075/  W/System.err at ubicall.sand.ubicall.helper.JSONParser.method(JSONParser.java:422)\n10-12 17:06:06.177  16052-16075/  W/System.err at ubicall.sand.ubicall.activity.SplashActivity$Access.doInBackground(SplashActivity.java:111)\n10-12 17:06:06.177  16052-16075/  W/System.err at ubicall.sand.ubicall.activity.SplashActivity$Access.doInBackground(SplashActivity.java:106)\n10-12 17:06:06.177  16052-16075/  W/System.err at android.os.AsyncTask$2.call(AsyncTask.java:287)\n</code></pre>\n<p>I didn't understand when problem exactly it work good in restclient and postman\nthe data send in body of url using post method\nthen I discover that I need ignore ssl certificate when using HttpsURLConnection but I try many way to ignore but didn't work</p>\n<p>I use</p>\n<pre><code>private void trustEveryone() {\n    try {\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier(){\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        });\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        context.init(null, new X509TrustManager[]{new X509TrustManager(){\n            public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\n            public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\n            public X509Certificate[] getAcceptedIssuers() {\n                return new X509Certificate[0];\n            }\n        }}, new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(\n        context.getSocketFactory());\n    } catch (Exception e) { // should never happen\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","css","json","selenium-webdriver","extentreports"],"comments":[{"owner":{"account_id":2439943,"reputation":2585,"user_id":2128755,"display_name":"trylimits"},"score":0,"creation_date":1681203935,"post_id":75984053,"comment_id":134014666,"body_markdown":"The given css is not valid. Try to remove the comma (`,`) in front of the selector `.badge-primary`.","body":"The given css is not valid. Try to remove the comma (<code>,</code>) in front of the selector <code>.badge-primary</code>."}],"owner":{"account_id":28273181,"reputation":1,"user_id":21616058,"display_name":"oussema zahaf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681226300,"creation_date":1681203278,"question_id":75984053,"body_markdown":"how to apply more then one custom css property in extent report ?\r\ni used  json file &gt;&gt;\r\n\r\n    {\r\n      &quot;theme&quot;: &quot;DARK&quot;,\r\n    \r\n      &quot;encoding&quot;: &quot;utf-8&quot;,\r\n    \r\n      &quot;protocol&quot;: &quot;HTTPS&quot;,\r\n    \r\n      &quot;timelineEnabled&quot;: false,\r\n    \r\n      &quot;offlineMode&quot;: true,\r\n    \r\n      &quot;thumbnailForBase64&quot;: false,\r\n    \r\n      &quot;documentTitle&quot;: &quot;Extend_Report_View&quot;,\r\n    \r\n      &quot;reportName&quot;: &quot;Report Views&quot;,\r\n    \r\n      &quot;timeStampFormat&quot;: &quot;MMM dd, yyyy HH:mm:ss a&quot;,\r\n    \r\n      \r\n      &quot;css&quot;:&quot;.side-nav-menu { border-right: 1px solid #cefffb !important} ,.badge-primary {background-color: #8bbfcb}&quot;\r\n    \r\n    }\r\n\r\nafter that I loaded this json :&gt;&gt;   `sparkReporter.loadJSONConfig(new File(&quot;./src/test/resources/config_ExtentReport.json&quot;));`\r\n\r\nin this case just the first property `(.side-nav-menu { border-right: 1px solid #cefffb !important})` is worked !!\r\n\r\nI need to apply many CSS property in extent report","title":"how to apply more then one custom CSS property in extent report?","body":"<p>how to apply more then one custom css property in extent report ?\ni used  json file &gt;&gt;</p>\n<pre><code>{\n  &quot;theme&quot;: &quot;DARK&quot;,\n\n  &quot;encoding&quot;: &quot;utf-8&quot;,\n\n  &quot;protocol&quot;: &quot;HTTPS&quot;,\n\n  &quot;timelineEnabled&quot;: false,\n\n  &quot;offlineMode&quot;: true,\n\n  &quot;thumbnailForBase64&quot;: false,\n\n  &quot;documentTitle&quot;: &quot;Extend_Report_View&quot;,\n\n  &quot;reportName&quot;: &quot;Report Views&quot;,\n\n  &quot;timeStampFormat&quot;: &quot;MMM dd, yyyy HH:mm:ss a&quot;,\n\n  \n  &quot;css&quot;:&quot;.side-nav-menu { border-right: 1px solid #cefffb !important} ,.badge-primary {background-color: #8bbfcb}&quot;\n\n}\n</code></pre>\n<p>after that I loaded this json :&gt;&gt;   <code>sparkReporter.loadJSONConfig(new File(&quot;./src/test/resources/config_ExtentReport.json&quot;));</code></p>\n<p>in this case just the first property <code>(.side-nav-menu { border-right: 1px solid #cefffb !important})</code> is worked !!</p>\n<p>I need to apply many CSS property in extent report</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1547641000,"creation_date":1547641000,"answer_id":54216908,"question_id":54216822,"body_markdown":"The name of your class equals the one in the &lt;code&gt;java.io&lt;/code&gt; package you&#39;re trying to use.  \r\nYou have 2 options:\r\n\r\n1)\r\nRename your class into &lt;code&gt;MyBufferedOutputStream&lt;/code&gt; or something you like more.\r\n\r\n2)\r\nChange line 6 as follows:  \r\n&lt;code&gt;java.io.BufferedOutputStream bout=new java.io.BufferedOutputStream(fout);&lt;/code&gt;\r\n","title":"Not writing to file using BufferedOutputStream","body":"<p>The name of your class equals the one in the <code>java.io</code> package you're trying to use.<br>\nYou have 2 options:</p>\n\n<p>1)\nRename your class into <code>MyBufferedOutputStream</code> or something you like more.</p>\n\n<p>2)\nChange line 6 as follows:<br>\n<code>java.io.BufferedOutputStream bout=new java.io.BufferedOutputStream(fout);</code></p>\n"}],"owner":{"account_id":14695302,"reputation":341,"user_id":10738935,"display_name":"Asad Mehmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":54216908,"answer_count":1,"score":-1,"last_activity_date":1681225677,"creation_date":1547640709,"question_id":54216822,"body_markdown":"Not writing content to file. Why ?\r\n\r\n    package JavaIO;\r\n    import java.io.*;\r\n    public class BufferedOutputStream {\r\n    \tpublic static void main(String args[])throws Exception{    \r\n    \t     FileOutputStream fout=new FileOutputStream(&quot;/home/ebryx/myFile.txt&quot;);    \r\n    \t     BufferedOutputStream bout=new BufferedOutputStream(fout);    \r\n    \t     String s=&quot;I am Writing to file.&quot;;    \r\n    \t     byte b[]=s.getBytes();    \r\n    \t     bout.write(b);    \r\n    \t     bout.flush();    \r\n    \t     bout.close();       \r\n    \t     System.out.println(&quot;success&quot;);    \r\n    \t}    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\ngiving error at line 6 that remove argument from BufferedOutputStream or write constructor for it \r\nand at line 9,10 giving error that method write(b) and flush() are not defined for type BufferedOutputStream\r\n\r\n","title":"Not writing to file using BufferedOutputStream","body":"<p>Not writing content to file. Why ?</p>\n<pre><code>package JavaIO;\nimport java.io.*;\npublic class BufferedOutputStream {\n    public static void main(String args[])throws Exception{    \n         FileOutputStream fout=new FileOutputStream(&quot;/home/ebryx/myFile.txt&quot;);    \n         BufferedOutputStream bout=new BufferedOutputStream(fout);    \n         String s=&quot;I am Writing to file.&quot;;    \n         byte b[]=s.getBytes();    \n         bout.write(b);    \n         bout.flush();    \n         bout.close();       \n         System.out.println(&quot;success&quot;);    \n    }    \n}\n</code></pre>\n<p>giving error at line 6 that remove argument from BufferedOutputStream or write constructor for it\nand at line 9,10 giving error that method write(b) and flush() are not defined for type BufferedOutputStream</p>\n"},{"tags":["java","spring-boot","spring-thymeleaf","spring-validation"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1681226271,"post_id":75987433,"comment_id":134020603,"body_markdown":"I&#39;m not an expert on Thymeleaf but I&#39;m pretty sure it is doing server-side validation, i.e. the form data is first sent to the Spring Boot backend where an interceptor kicks in and does the validation. You could add your validation either in another interceptor or your controller for an easy solution. Real client-side validation would require code to be executed in the client (i.e. the browser). Html 5 provides some field level validation but for anything more complex you&#39;ll very likely need to use JavaScript or any other language supported by the browser.","body":"I&#39;m not an expert on Thymeleaf but I&#39;m pretty sure it is doing server-side validation, i.e. the form data is first sent to the Spring Boot backend where an interceptor kicks in and does the validation. You could add your validation either in another interceptor or your controller for an easy solution. Real client-side validation would require code to be executed in the client (i.e. the browser). Html 5 provides some field level validation but for anything more complex you&#39;ll very likely need to use JavaScript or any other language supported by the browser."}],"owner":{"account_id":20914223,"reputation":3,"user_id":17676869,"display_name":"Stanislav G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681225644,"creation_date":1681225644,"question_id":75987433,"body_markdown":"I&#39;m writing a simple calculator EP, here&#39;s the form that I&#39;m using\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class CalculatorForm {\r\n    private double leftArg;\r\n    private double rightArg;\r\n    private String operation;\r\n\r\n    @AssertTrue(message = &quot;You can&#39;t divide by zero!&quot;)\r\n    private boolean isValid(){\r\n        return !(operation.equals(&quot;/&quot;) &amp;&amp; rightArg == 0);\r\n    }\r\n\r\n\r\n    public double getResult() {\r\n        leftArg = switch (operation) {\r\n            case &quot;+&quot; -&gt; {\r\n                yield leftArg + rightArg;\r\n            }\r\n            case &quot;-&quot; -&gt; {\r\n                yield leftArg - rightArg;\r\n            }\r\n            case &quot;*&quot; -&gt; {\r\n                yield  leftArg * rightArg;\r\n            }\r\n            case &quot;/&quot; -&gt; {\r\n//                Assert.isTrue(rightArg != 0, &quot;Can&#39;t divide by 0!&quot;);\r\n                yield  leftArg / rightArg;\r\n            }\r\n            default -&gt; throw new IllegalStateException(&quot;Unexpected operation: &quot; + operation);\r\n        };\r\n        rightArg = 0;\r\n        return leftArg;\r\n    }\r\n}\r\n\r\n```\r\nand now requesting zero division responds with error webpage but I want to use isValid() inside thymeleaf form so that it won&#39;t even be allowed to proceed with such request, how can I achieve that?\r\n\r\nI&#39;ve tried to follow this [guide](https://stackabuse.com/spring-boot-thymeleaf-form-data-validation-with-bean-validator/) but it looks like it works only for fields while my validation is a method","title":"Client-side validation on 2 variables","body":"<p>I'm writing a simple calculator EP, here's the form that I'm using</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class CalculatorForm {\n    private double leftArg;\n    private double rightArg;\n    private String operation;\n\n    @AssertTrue(message = &quot;You can't divide by zero!&quot;)\n    private boolean isValid(){\n        return !(operation.equals(&quot;/&quot;) &amp;&amp; rightArg == 0);\n    }\n\n\n    public double getResult() {\n        leftArg = switch (operation) {\n            case &quot;+&quot; -&gt; {\n                yield leftArg + rightArg;\n            }\n            case &quot;-&quot; -&gt; {\n                yield leftArg - rightArg;\n            }\n            case &quot;*&quot; -&gt; {\n                yield  leftArg * rightArg;\n            }\n            case &quot;/&quot; -&gt; {\n//                Assert.isTrue(rightArg != 0, &quot;Can't divide by 0!&quot;);\n                yield  leftArg / rightArg;\n            }\n            default -&gt; throw new IllegalStateException(&quot;Unexpected operation: &quot; + operation);\n        };\n        rightArg = 0;\n        return leftArg;\n    }\n}\n\n</code></pre>\n<p>and now requesting zero division responds with error webpage but I want to use isValid() inside thymeleaf form so that it won't even be allowed to proceed with such request, how can I achieve that?</p>\n<p>I've tried to follow this <a href=\"https://stackabuse.com/spring-boot-thymeleaf-form-data-validation-with-bean-validator/\" rel=\"nofollow noreferrer\">guide</a> but it looks like it works only for fields while my validation is a method</p>\n"},{"tags":["java","apache","maven","dependencies","aether"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679393967,"creation_date":1679393967,"answer_id":75799893,"question_id":74200253,"body_markdown":"Well, if you have access to target `pom.xml` you can simply execute `mvn dependency:tree` which would print complete tree of all the dependencies along with their scopes (both explicitly specified and transitive).\r\nThe output looks like this:\r\n```\r\n[INFO] com.tsypanov:spring-boot-benchmark:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.6.3:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.6.3:compile\r\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.15:compile\r\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.3.15:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.6.3:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.6.3:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.10:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.10:compile\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.33:compile\r\n...\r\n```\r\nAlternatively, if you need to parse the output, it&#39;d be easier with `mvn dependency:list` or `mvn dependency:build-classpath`. Pay attention, that this just prints the model and doesn&#39;t tell anything about whether particular dependency is resolved and cached in `.m2`, but you can check this with the output of `mvn dependency:classpath`: just split the output line looking like\r\n```\r\n[INFO] Dependencies classpath:\r\nC:\\Users\\STsypanov\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.3\\spring-boot-starter-2.6.3.jar;C:\\Users\\STsypanov\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.3\\spring-boot-2.6.3.jar;\r\n```\r\nwith `;` and then check whether each file exists:\r\n```java\r\nString[] paths = classpath.split(&quot;;&quot;);\r\nfor (String path : paths) {\r\n  var file = new File(path);\r\n  if (file.exists()) {\r\n    //...\r\n  }\r\n}\r\n```","title":"How can I use Maven Artifact Resolver to list transitive dependencies?","body":"<p>Well, if you have access to target <code>pom.xml</code> you can simply execute <code>mvn dependency:tree</code> which would print complete tree of all the dependencies along with their scopes (both explicitly specified and transitive).\nThe output looks like this:</p>\n<pre><code>[INFO] com.tsypanov:spring-boot-benchmark:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.6.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.6.3:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.15:compile\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.3.15:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.6.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.6.3:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.10:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.10:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.33:compile\n...\n</code></pre>\n<p>Alternatively, if you need to parse the output, it'd be easier with <code>mvn dependency:list</code> or <code>mvn dependency:build-classpath</code>. Pay attention, that this just prints the model and doesn't tell anything about whether particular dependency is resolved and cached in <code>.m2</code>, but you can check this with the output of <code>mvn dependency:classpath</code>: just split the output line looking like</p>\n<pre><code>[INFO] Dependencies classpath:\nC:\\Users\\STsypanov\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.3\\spring-boot-starter-2.6.3.jar;C:\\Users\\STsypanov\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.3\\spring-boot-2.6.3.jar;\n</code></pre>\n<p>with <code>;</code> and then check whether each file exists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] paths = classpath.split(&quot;;&quot;);\nfor (String path : paths) {\n  var file = new File(path);\n  if (file.exists()) {\n    //...\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1681225410,"creation_date":1666732286,"question_id":74200253,"body_markdown":"I am working on an application for my company which needs to resolve dependencies for a maven project. This is a standalone application, not a maven plugin. The only thing I am trying to do at the moment is print the resolved dependencies to confirm that they were found. I am using [Apache Maven Model][1] (`v4.0.0-alpha-2`), [Apache Maven Artifact Resolver][2] (`v1.8.2`), and [Maven Artifact Resolver Implementation][3] (`v1.8.2`) to support my endeavor.\r\n\r\nThe initial setup is really what&#39;s nerfing me. I haven&#39;t had any luck finding update-to-date examples or documentation. This is the code I drafted up:\r\n\r\n\tpublic static void main(String[] args)\r\n\t\t\tthrows LoadException, IOException, XmlPullParserException, DependencyResolutionException {\r\n\t\tMavenXpp3Reader reader = new MavenXpp3Reader();\r\n\t\tModel model = reader.read(new FileReader(new File(&quot;C:\\\\Users\\\\lc70844\\\\eclipse-workspace\\\\test\\\\pom.xml&quot;)));\r\n\r\n\t\tDefaultRepositorySystemSession session = new DefaultRepositorySystemSession();\r\n\t\tDefaultRepositorySystem repositorySystem = new DefaultRepositorySystem();\r\n\r\n\t\tfor (Dependency dependency : model.getDependencies()) {\r\n\t\t\tDependencyRequest request = new DependencyRequest();\r\n\t\t\trequest.setRoot(new DefaultDependencyNode(\r\n\t\t\t\t\tnew org.eclipse.aether.graph.Dependency(toArtifact(dependency), dependency.getScope())));\r\n\t\t\tDependencyResult result = repositorySystem.resolveDependencies(session, request);\r\n\t\t\tresult.getArtifactResults().stream().map(a -&gt; a.getArtifact())\r\n\t\t\t\t\t.map(a -&gt; a.getGroupId() + &quot;:&quot; + a.getArtifactId() + &quot;:&quot; + a.getVersion()).forEach(System.out::println);\r\n\t\t}\r\n\t}\r\nIt is  throwing an exception saying &quot;repository system session&#39;s local repository manager cannot be null.&quot; This is pretty self-explanatory; we all know what I need to do. However, [`DefaultRepositorySystemSession#setLocalRepositoryManager(LocalRepositoryManager)`][4] requires a `LocalRepositoryManager` parameter, which is what I am having trouble figuring out how to setup. The repository I want to use is the the local repo at: `%userprofile%/.m2/repository`.\r\n\r\nI found a few similar questions pertaining to my issue, but they seem to have the wrong context or are using deprecated libraries to achieve their end. I am hoping for a reliable, up-to-date solution.  \r\n\r\nHopefully I am least heading in the right direction. What more do I need to do to get my list of dependencies?\r\n\r\nEDIT\r\n---\r\nMy current approach is to use [Maven Invoker][5] to run `mvn dependency:list`, but this is only temporary and is not a real solution. It takes too long to spin up the Maven process, and parsing the log output to get file paths is not clean approach. I am working to make my application more efficient, and using Maven Invoker is not an efficient method.\r\n\r\n\r\n  [1]: https://maven.apache.org/ref/3.8.6/maven-model/\r\n  [2]: https://maven.apache.org/resolver/index.html\r\n  [3]: https://maven.apache.org/resolver/maven-resolver-impl/\r\n  [4]: https://maven.apache.org/resolver/apidocs/org/eclipse/aether/DefaultRepositorySystemSession.html#setLocalRepositoryManager-org.eclipse.aether.repository.LocalRepositoryManager-\r\n  [5]: https://maven.apache.org/shared/maven-invoker/","title":"How can I use Maven Artifact Resolver to list transitive dependencies?","body":"<p>I am working on an application for my company which needs to resolve dependencies for a maven project. This is a standalone application, not a maven plugin. The only thing I am trying to do at the moment is print the resolved dependencies to confirm that they were found. I am using <a href=\"https://maven.apache.org/ref/3.8.6/maven-model/\" rel=\"nofollow noreferrer\">Apache Maven Model</a> (<code>v4.0.0-alpha-2</code>), <a href=\"https://maven.apache.org/resolver/index.html\" rel=\"nofollow noreferrer\">Apache Maven Artifact Resolver</a> (<code>v1.8.2</code>), and <a href=\"https://maven.apache.org/resolver/maven-resolver-impl/\" rel=\"nofollow noreferrer\">Maven Artifact Resolver Implementation</a> (<code>v1.8.2</code>) to support my endeavor.</p>\n<p>The initial setup is really what's nerfing me. I haven't had any luck finding update-to-date examples or documentation. This is the code I drafted up:</p>\n<pre><code>public static void main(String[] args)\n        throws LoadException, IOException, XmlPullParserException, DependencyResolutionException {\n    MavenXpp3Reader reader = new MavenXpp3Reader();\n    Model model = reader.read(new FileReader(new File(&quot;C:\\\\Users\\\\lc70844\\\\eclipse-workspace\\\\test\\\\pom.xml&quot;)));\n\n    DefaultRepositorySystemSession session = new DefaultRepositorySystemSession();\n    DefaultRepositorySystem repositorySystem = new DefaultRepositorySystem();\n\n    for (Dependency dependency : model.getDependencies()) {\n        DependencyRequest request = new DependencyRequest();\n        request.setRoot(new DefaultDependencyNode(\n                new org.eclipse.aether.graph.Dependency(toArtifact(dependency), dependency.getScope())));\n        DependencyResult result = repositorySystem.resolveDependencies(session, request);\n        result.getArtifactResults().stream().map(a -&gt; a.getArtifact())\n                .map(a -&gt; a.getGroupId() + &quot;:&quot; + a.getArtifactId() + &quot;:&quot; + a.getVersion()).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>It is  throwing an exception saying &quot;repository system session's local repository manager cannot be null.&quot; This is pretty self-explanatory; we all know what I need to do. However, <a href=\"https://maven.apache.org/resolver/apidocs/org/eclipse/aether/DefaultRepositorySystemSession.html#setLocalRepositoryManager-org.eclipse.aether.repository.LocalRepositoryManager-\" rel=\"nofollow noreferrer\"><code>DefaultRepositorySystemSession#setLocalRepositoryManager(LocalRepositoryManager)</code></a> requires a <code>LocalRepositoryManager</code> parameter, which is what I am having trouble figuring out how to setup. The repository I want to use is the the local repo at: <code>%userprofile%/.m2/repository</code>.</p>\n<p>I found a few similar questions pertaining to my issue, but they seem to have the wrong context or are using deprecated libraries to achieve their end. I am hoping for a reliable, up-to-date solution.</p>\n<p>Hopefully I am least heading in the right direction. What more do I need to do to get my list of dependencies?</p>\n<h2>EDIT</h2>\n<p>My current approach is to use <a href=\"https://maven.apache.org/shared/maven-invoker/\" rel=\"nofollow noreferrer\">Maven Invoker</a> to run <code>mvn dependency:list</code>, but this is only temporary and is not a real solution. It takes too long to spin up the Maven process, and parsing the log output to get file paths is not clean approach. I am working to make my application more efficient, and using Maven Invoker is not an efficient method.</p>\n"},{"tags":["java","postgresql","apache-spark"],"owner":{"account_id":7577570,"reputation":37,"user_id":9373056,"display_name":"Saievskiy Dmitriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681225282,"creation_date":1681225282,"question_id":75987377,"body_markdown":"I need to update or delete and insert new one record if it exists in PostgreSQL.\r\nMy table has unique key by few fields. And if new record in dafaFrame has the same value of these fields as record in PostgreSQL I want to delete old one and insert new one.\r\nI didnt found any possible ways to do it by Spark","title":"Spark. Java. PostgreSQL. How can I update record if its key exists","body":"<p>I need to update or delete and insert new one record if it exists in PostgreSQL.\nMy table has unique key by few fields. And if new record in dafaFrame has the same value of these fields as record in PostgreSQL I want to delete old one and insert new one.\nI didnt found any possible ways to do it by Spark</p>\n"},{"tags":["java","javafx","webview","http2","hostname-verifier"],"owner":{"account_id":28276186,"reputation":1,"user_id":21618633,"display_name":"Nicolas H&#228;mmerle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681225160,"creation_date":1681225160,"question_id":75987353,"body_markdown":"As described in [this answer](https://stackoverflow.com/a/73802321), when trying to accept self-signed certificates with the JavaFX WebView, the `HTTP2Loader` ignores method calls like\r\n\r\n- `HttpsURLConnection.setDefaultSSLSocketFactory()`\r\n- `HttpsURLConnection.setDefaultHostnameVerifier()`\r\n\r\nWhile there is a workaround to accept self-signed certificates by setting the default `SSLContext` via `SSLContext.setDefault()` and injecting an all-trusting trust manager (which replaces `HttpsURLConnection.setDefaultSSLSocketFactory()`), I can&#39;t find a way to set a custom HostnameVerifier (i.e. replacing `HttpsURLConnection.setDefaultHostnameVerifier()`). Is there a way to do this, or is the only possible option not to use the `HTTP2Loader`?","title":"JavaFX WebView HTTP2Loader set custom HostnameVerifier","body":"<p>As described in <a href=\"https://stackoverflow.com/a/73802321\">this answer</a>, when trying to accept self-signed certificates with the JavaFX WebView, the <code>HTTP2Loader</code> ignores method calls like</p>\n<ul>\n<li><code>HttpsURLConnection.setDefaultSSLSocketFactory()</code></li>\n<li><code>HttpsURLConnection.setDefaultHostnameVerifier()</code></li>\n</ul>\n<p>While there is a workaround to accept self-signed certificates by setting the default <code>SSLContext</code> via <code>SSLContext.setDefault()</code> and injecting an all-trusting trust manager (which replaces <code>HttpsURLConnection.setDefaultSSLSocketFactory()</code>), I can't find a way to set a custom HostnameVerifier (i.e. replacing <code>HttpsURLConnection.setDefaultHostnameVerifier()</code>). Is there a way to do this, or is the only possible option not to use the <code>HTTP2Loader</code>?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":2183308,"reputation":19305,"user_id":1932311,"display_name":"Yitzhak Khabinsky"},"score":0,"creation_date":1681226173,"post_id":75987299,"comment_id":134020571,"body_markdown":"You can use XSLT for that.","body":"You can use XSLT for that."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681230973,"post_id":75987299,"comment_id":134021800,"body_markdown":"This question is a duplicate of https://stackoverflow.com/questions/3136375/how-to-generate-cdata-block-using-jaxb. The second answer there seems to be what you are looking for.","body":"This question is a duplicate of <a href=\"https://stackoverflow.com/questions/3136375/how-to-generate-cdata-block-using-jaxb\" title=\"how to generate cdata block using jaxb\">stackoverflow.com/questions/3136375/&hellip;</a>. The second answer there seems to be what you are looking for."}],"owner":{"account_id":13014713,"reputation":7,"user_id":9406411,"display_name":"rabin samanta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681224911,"creation_date":1681224911,"question_id":75987299,"body_markdown":"i am trying to add &lt;![CDATA[ tag inside xml.\r\nhow i can do that.\r\n\r\nResult will be like this :-\r\n```\r\n&lt;CERequest&gt;\r\n&lt;inflow format=&quot;1&quot;&gt;\r\n&lt;![CDATA[ \r\n&lt;DOC id=&quot;2229901&quot;&gt;&lt;/DOC&gt;\r\n]]&gt;\r\n&lt;/inflow&gt;\r\n&lt;/CERequest&gt;\r\n```\r\n\r\nMy java Object :-\r\n\r\n**CERequest.java **\r\n```\r\npublic class CERequest {\r\nprivate Inflow inflow;\r\n}\r\n```\r\n\r\n**Inflow.java**\r\n```\r\npublic class Inflow {\t\r\n@XmlAttribute\r\nprivate String format;\r\n}\r\n```\r\n\r\n**Converting java object to xml\r\n**\r\n```\r\nJAXBContext jaxbContext = JAXBContext.newInstance(CERequest .class);\r\nMarshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\nStringWriter sw = new StringWriter();\r\njaxbMarshaller.marshal(cEOutputRequest, sw);\r\nString xmlString = sw.toString();\r\nSystem.out.println(xmlString);\r\n```\r\n\r\n\r\nafter converting how to get cdata","title":"ADD &lt;![CDATA[ tag inside xml using java Object","body":"<p>i am trying to add &lt;![CDATA[ tag inside xml.\nhow i can do that.</p>\n<p>Result will be like this :-</p>\n<pre><code>&lt;CERequest&gt;\n&lt;inflow format=&quot;1&quot;&gt;\n&lt;![CDATA[ \n&lt;DOC id=&quot;2229901&quot;&gt;&lt;/DOC&gt;\n]]&gt;\n&lt;/inflow&gt;\n&lt;/CERequest&gt;\n</code></pre>\n<p>My java Object :-</p>\n<p>**CERequest.java **</p>\n<pre><code>public class CERequest {\nprivate Inflow inflow;\n}\n</code></pre>\n<p><strong>Inflow.java</strong></p>\n<pre><code>public class Inflow {   \n@XmlAttribute\nprivate String format;\n}\n</code></pre>\n<p>**Converting java object to xml\n**</p>\n<pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(CERequest .class);\nMarshaller jaxbMarshaller = jaxbContext.createMarshaller();\nStringWriter sw = new StringWriter();\njaxbMarshaller.marshal(cEOutputRequest, sw);\nString xmlString = sw.toString();\nSystem.out.println(xmlString);\n</code></pre>\n<p>after converting how to get cdata</p>\n"},{"tags":["java","bytecode"],"comments":[{"owner":{"account_id":3005837,"reputation":5552,"user_id":2550406,"accept_rate":88,"display_name":"lucidbrot"},"score":0,"creation_date":1584307112,"post_id":60697735,"comment_id":107390145,"body_markdown":"is [this](https://stackoverflow.com/questions/15720822/how-to-get-names-of-classes-inside-a-jar-file) helpful?","body":"is <a href=\"https://stackoverflow.com/questions/15720822/how-to-get-names-of-classes-inside-a-jar-file\">this</a> helpful?"},{"owner":{"account_id":7406710,"reputation":346,"user_id":5635448,"accept_rate":67,"display_name":"Frank Pentangeli"},"score":0,"creation_date":1584307368,"post_id":60697735,"comment_id":107390206,"body_markdown":"Better describe your question, add more details !","body":"Better describe your question, add more details !"}],"answers":[{"tags":[],"owner":{"account_id":16915050,"reputation":86,"user_id":12233253,"display_name":"Kevin Nguetchouang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584307176,"creation_date":1584307176,"answer_id":60697759,"question_id":60697735,"body_markdown":"You can use an IDE to do what you are looking for (Netbeans IDE or IntelliJ Jetbrains)\r\n\r\nThe process is simple, import the jar file, and check for the definition/declaration of a particular class.","title":"Check if class or method is used in Java","body":"<p>You can use an IDE to do what you are looking for (Netbeans IDE or IntelliJ Jetbrains)</p>\n\n<p>The process is simple, import the jar file, and check for the definition/declaration of a particular class.</p>\n"},{"tags":[],"owner":{"account_id":2483509,"reputation":1261,"user_id":2162470,"display_name":"Leonid Glanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584456417,"creation_date":1584456417,"answer_id":60724719,"question_id":60697735,"body_markdown":"The most used way to identify if a method is used is by building a call graph. If a method is not called, then it can be removed. However, call graphs are not always sound because of the usages of reflection, unsafe, and polymorphism. So if you want to remove a method, you have to be sure that this method is not used by reflection or the other categories of unsoundness.\r\n\r\nIn order to remove classes, you have not only to ensure that the methods are not used but also the fields of the classes. Therefore, you need to identify all methods that might reference a field.\r\n\r\nAll the described analyses you can approach using the tools Soot, WALA, Javassist, or OPAL.","title":"Check if class or method is used in Java","body":"<p>The most used way to identify if a method is used is by building a call graph. If a method is not called, then it can be removed. However, call graphs are not always sound because of the usages of reflection, unsafe, and polymorphism. So if you want to remove a method, you have to be sure that this method is not used by reflection or the other categories of unsoundness.</p>\n\n<p>In order to remove classes, you have not only to ensure that the methods are not used but also the fields of the classes. Therefore, you need to identify all methods that might reference a field.</p>\n\n<p>All the described analyses you can approach using the tools Soot, WALA, Javassist, or OPAL.</p>\n"},{"tags":[],"owner":{"account_id":6611642,"reputation":99,"user_id":8278681,"display_name":"Andr&#233;s Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681224299,"creation_date":1681224299,"answer_id":75987203,"question_id":60697735,"body_markdown":"On eclipse simply:\r\n\r\n 1. Open the class.\r\n 2. Highlight the class name.\r\n 3. Ctrl+Shift+G\r\n\r\nYou should see under the Search tab the amount of references pointing to that class.\r\n\r\nThe same procedure can be followed with any property or method.\r\n\r\n","title":"Check if class or method is used in Java","body":"<p>On eclipse simply:</p>\n<ol>\n<li>Open the class.</li>\n<li>Highlight the class name.</li>\n<li>Ctrl+Shift+G</li>\n</ol>\n<p>You should see under the Search tab the amount of references pointing to that class.</p>\n<p>The same procedure can be followed with any property or method.</p>\n"}],"owner":{"account_id":16101295,"reputation":69,"user_id":11621988,"display_name":"Mk Domain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1681224299,"creation_date":1584307008,"question_id":60697735,"body_markdown":"I want to check if a class or method is used in a jar file to delete the ones that are not used. I don&#39;t know how to approach it.","title":"Check if class or method is used in Java","body":"<p>I want to check if a class or method is used in a jar file to delete the ones that are not used. I don't know how to approach it.</p>\n"},{"tags":["java","spring","unit-testing","dependency-injection","mockito"],"comments":[{"owner":{"account_id":44438,"reputation":1430,"user_id":130468,"accept_rate":44,"display_name":"Sam Jones"},"score":2,"creation_date":1458304592,"post_id":36084559,"comment_id":59813295,"body_markdown":"I know I can just manually instantiate my controller in a setup method, but I&#39;m hoping to find a solution the annotation configuration style. Thanks!","body":"I know I can just manually instantiate my controller in a setup method, but I&#39;m hoping to find a solution the annotation configuration style. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2157242,"reputation":15454,"user_id":1912167,"accept_rate":80,"display_name":"Tom Verelst"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1458318790,"creation_date":1458318446,"answer_id":36089521,"question_id":36084559,"body_markdown":"You cannot do this with Mockito, because, as you mentioned yourself, a `String` is `final` and cannot be mocked.\r\n\r\nThere is a `@Spy` annotation which works on *real* objects, but it has the same limitations as `@Mock`, thus you cannot spy on a `String`.\r\n\r\nThere is no annotation to tell Mockito to just inject that value without doing any mocking or spying. It would be a good feature, though. Perhaps suggest it at the [Mockito Github repository](https://github.com/mockito/mockito/issues).\r\n\r\nYou will have to manually instantiate your controller if you don&#39;t want to change your code.\r\n\r\nThe only way to have a pure annotation based test is to refactor the controller. It can use a custom object that just contains that one property, or perhaps a configuration class with multiple properties.\r\n\r\n    @Component\r\n    public class MyProperty {\r\n        \r\n        @Value(&quot;${my.property}&quot;)\r\n        private String myProperty;\r\n        \r\n        ...\r\n    }\r\n\r\nThis can be injected into the controller.\r\n\r\n    @Autowired\r\n    public AbcController(XyzService xyzService, MyProperty myProperty) { \r\n        ... \r\n    }\r\n\r\nYou can mock and inject this then.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class AbcControllerTest {\r\n\r\n        @Mock\r\n        private XyzService mockXyzService;\r\n\r\n        @Mock\r\n        private MyProperty myProperty;\r\n\r\n        @InjectMocks\r\n        private AbcController controllerUnderTest;\r\n\r\n        @Before\r\n        public void setUp(){\r\n            when(myProperty.get()).thenReturn(&quot;my property value&quot;);\r\n        }\r\n\r\n        /* tests */\r\n    }\r\n\r\nThis is not pretty straight forward, but at least you will be able to have a pure annotation based test with a little bit of stubbing.","title":"Injecting a String property with @InjectMocks","body":"<p>You cannot do this with Mockito, because, as you mentioned yourself, a <code>String</code> is <code>final</code> and cannot be mocked.</p>\n\n<p>There is a <code>@Spy</code> annotation which works on <em>real</em> objects, but it has the same limitations as <code>@Mock</code>, thus you cannot spy on a <code>String</code>.</p>\n\n<p>There is no annotation to tell Mockito to just inject that value without doing any mocking or spying. It would be a good feature, though. Perhaps suggest it at the <a href=\"https://github.com/mockito/mockito/issues\" rel=\"noreferrer\">Mockito Github repository</a>.</p>\n\n<p>You will have to manually instantiate your controller if you don't want to change your code.</p>\n\n<p>The only way to have a pure annotation based test is to refactor the controller. It can use a custom object that just contains that one property, or perhaps a configuration class with multiple properties.</p>\n\n<pre><code>@Component\npublic class MyProperty {\n\n    @Value(\"${my.property}\")\n    private String myProperty;\n\n    ...\n}\n</code></pre>\n\n<p>This can be injected into the controller.</p>\n\n<pre><code>@Autowired\npublic AbcController(XyzService xyzService, MyProperty myProperty) { \n    ... \n}\n</code></pre>\n\n<p>You can mock and inject this then.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AbcControllerTest {\n\n    @Mock\n    private XyzService mockXyzService;\n\n    @Mock\n    private MyProperty myProperty;\n\n    @InjectMocks\n    private AbcController controllerUnderTest;\n\n    @Before\n    public void setUp(){\n        when(myProperty.get()).thenReturn(\"my property value\");\n    }\n\n    /* tests */\n}\n</code></pre>\n\n<p>This is not pretty straight forward, but at least you will be able to have a pure annotation based test with a little bit of stubbing.</p>\n"},{"tags":[],"owner":{"account_id":6465536,"reputation":657,"user_id":5007642,"display_name":"Jacob Beasley"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1487016567,"creation_date":1487016567,"answer_id":42212663,"question_id":36084559,"body_markdown":"You can&#39;t do this with Mockito, but Apache Commons actually has a way to do this using one of its built in utilities. You can put this in a function in JUnit that is run after Mockito injects the rest of the mocks but before your test cases run, like this: \r\n\r\n    @InjectMocks\r\n    MyClass myClass;\r\n    \r\n    @Before\r\n    public void before() throws Exception {\r\n        FieldUtils.writeField(myClass, &quot;fieldName&quot;, fieldValue, true);\r\n    }","title":"Injecting a String property with @InjectMocks","body":"<p>You can't do this with Mockito, but Apache Commons actually has a way to do this using one of its built in utilities. You can put this in a function in JUnit that is run after Mockito injects the rest of the mocks but before your test cases run, like this: </p>\n\n<pre><code>@InjectMocks\nMyClass myClass;\n\n@Before\npublic void before() throws Exception {\n    FieldUtils.writeField(myClass, \"fieldName\", fieldValue, true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555335144,"creation_date":1555335144,"answer_id":55690360,"question_id":36084559,"body_markdown":"\r\nWhat you can use is this :\r\n**org.mockito.internal.util.reflection.Whitebox**\r\n\r\n1. Refactor your &quot;AbcController&quot; class constructor\r\n2. In your Test class &quot;before&quot; method, use Whitebox.setInternalState method to specify whatever string you want\r\n\r\n        @Before\r\n        public void setUp(){\r\n            Whitebox.setInternalState(controllerUnderTest, &quot;myProperty&quot;, &quot;The string that you want&quot;); }","title":"Injecting a String property with @InjectMocks","body":"<p>What you can use is this :\n<strong>org.mockito.internal.util.reflection.Whitebox</strong></p>\n\n<ol>\n<li>Refactor your \"AbcController\" class constructor</li>\n<li><p>In your Test class \"before\" method, use Whitebox.setInternalState method to specify whatever string you want</p>\n\n<pre><code>@Before\npublic void setUp(){\n    Whitebox.setInternalState(controllerUnderTest, \"myProperty\", \"The string that you want\"); }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15950456,"reputation":131,"user_id":11509927,"display_name":"Jan Groot"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1558010294,"creation_date":1558010294,"answer_id":56168764,"question_id":36084559,"body_markdown":"Just don&#39;t use @InjectMocks in that case.\r\n\r\ndo: \r\n```\r\n@Before\r\npublic void setup() {\r\n controllerUnderTest = new AbcController(mockXyzService, &quot;my property value&quot;);\r\n}\r\n```","title":"Injecting a String property with @InjectMocks","body":"<p>Just don't use @InjectMocks in that case.</p>\n\n<p>do: </p>\n\n<pre><code>@Before\npublic void setup() {\n controllerUnderTest = new AbcController(mockXyzService, \"my property value\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1598550786,"creation_date":1561143707,"answer_id":56709087,"question_id":36084559,"body_markdown":"Since you&#39;re using Spring, you can use the `org.springframework.test.util.ReflectionTestUtils` from the `spring-test` module. It neatly wraps setting a field on a object or a static field on a class (along with other utility methods).\r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class AbcControllerTest {\r\n\r\n    @Mock\r\n    private XyzService mockXyzService;\r\n\r\n    @InjectMocks\r\n    private AbcController controllerUnderTest;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        ReflectionTestUtils.setField(controllerUnderTest, &quot;myProperty&quot;, \r\n               &quot;String you want to inject&quot;);\r\n    }\r\n\r\n    /* tests */\r\n}\r\n```","title":"Injecting a String property with @InjectMocks","body":"<p>Since you're using Spring, you can use the <code>org.springframework.test.util.ReflectionTestUtils</code> from the <code>spring-test</code> module. It neatly wraps setting a field on a object or a static field on a class (along with other utility methods).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class AbcControllerTest {\n\n    @Mock\n    private XyzService mockXyzService;\n\n    @InjectMocks\n    private AbcController controllerUnderTest;\n\n    @Before\n    public void setUp() {\n        ReflectionTestUtils.setField(controllerUnderTest, &quot;myProperty&quot;, \n               &quot;String you want to inject&quot;);\n    }\n\n    /* tests */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571132798,"creation_date":1571132798,"answer_id":58391784,"question_id":36084559,"body_markdown":"**Solution is simple**: You should put constructor injection for the object type while for primitive/final dependencies you can simply use setter injection and that&#39;ll be fine for this scenario.\r\n\r\nSo this:\r\n```@Autowired\r\npublic AbcController(XyzService xyzService, @Value(&quot;${my.property}&quot;) String myProperty) {/*...*/}\r\n```\r\n\r\nWould be changed to:\r\n\r\n```\r\n@Autowired\r\npublic AbcController(XyzService xyzService) {/*...*/}\r\n\r\n@Autowired\r\npublic setMyProperty(@Value(&quot;${my.property}&quot;) String myProperty){/*...*/}\r\n```\r\n\r\nAnd the `@Mock` injections in test would be as simple as:\r\n```\r\n@Mock\r\nprivate XyzService xyzService;\r\n\r\n@InjectMocks\r\nprivate AbcController abcController;\r\n\r\n@BeforeMethod\r\npublic void setup(){\r\n    MockitoAnnotations.initMocks(this);\r\n    abcController.setMyProperty(&quot;new property&quot;);\r\n}\r\n```\r\n\r\nAnd that&#39;ll be enough. Going for `Reflections` is not advisable! \r\n\r\nPLEASE AVOID THE USAGE OF REFLECTIONS IN PRODUCTION CODE AS MUCH AS POSSIBLE!!\r\n\r\nFor the solution of `Jan Groot` I must remind you that it will become very nasty since you will have to remove all the `@Mock` and even `@InjectMocks` and would have to initialize and then inject them manually which for 2 dependencies sound easy but for 7 dependencies the code becomes a nightmare (see below).\r\n```\r\nprivate XyzService xyzService;\r\nprivate AbcController abcController;\r\n\r\n@BeforeMethod\r\npublic void setup(){ // NIGHTMARE WHEN MORE DEPENDENCIES ARE MOCKED!\r\n    xyzService = Mockito.mock(XyzService.class);\r\n    abcController = new AbcController(xyzService, &quot;new property&quot;);\r\n}\r\n```\r\n\r\n","title":"Injecting a String property with @InjectMocks","body":"<p><strong>Solution is simple</strong>: You should put constructor injection for the object type while for primitive/final dependencies you can simply use setter injection and that'll be fine for this scenario.</p>\n\n<p>So this:</p>\n\n<pre><code>public AbcController(XyzService xyzService, @Value(\"${my.property}\") String myProperty) {/*...*/}\n</code></pre>\n\n<p>Would be changed to:</p>\n\n<pre><code>@Autowired\npublic AbcController(XyzService xyzService) {/*...*/}\n\n@Autowired\npublic setMyProperty(@Value(\"${my.property}\") String myProperty){/*...*/}\n</code></pre>\n\n<p>And the <code>@Mock</code> injections in test would be as simple as:</p>\n\n<pre><code>@Mock\nprivate XyzService xyzService;\n\n@InjectMocks\nprivate AbcController abcController;\n\n@BeforeMethod\npublic void setup(){\n    MockitoAnnotations.initMocks(this);\n    abcController.setMyProperty(\"new property\");\n}\n</code></pre>\n\n<p>And that'll be enough. Going for <code>Reflections</code> is not advisable! </p>\n\n<p>PLEASE AVOID THE USAGE OF REFLECTIONS IN PRODUCTION CODE AS MUCH AS POSSIBLE!!</p>\n\n<p>For the solution of <code>Jan Groot</code> I must remind you that it will become very nasty since you will have to remove all the <code>@Mock</code> and even <code>@InjectMocks</code> and would have to initialize and then inject them manually which for 2 dependencies sound easy but for 7 dependencies the code becomes a nightmare (see below).</p>\n\n<pre><code>private XyzService xyzService;\nprivate AbcController abcController;\n\n@BeforeMethod\npublic void setup(){ // NIGHTMARE WHEN MORE DEPENDENCIES ARE MOCKED!\n    xyzService = Mockito.mock(XyzService.class);\n    abcController = new AbcController(xyzService, \"new property\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197607,"reputation":1312,"user_id":441786,"accept_rate":40,"display_name":"Jaison Varghese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597057751,"creation_date":1597057751,"answer_id":63338998,"question_id":36084559,"body_markdown":"If you want to have no change in your code then use ReflectionTestUtils.setField method\r\nhttps://stackoverflow.com/questions/23162777/how-do-i-mock-an-autowired-value-field-in-spring-with-mockito","title":"Injecting a String property with @InjectMocks","body":"<p>If you want to have no change in your code then use ReflectionTestUtils.setField method\n<a href=\"https://stackoverflow.com/questions/23162777/how-do-i-mock-an-autowired-value-field-in-spring-with-mockito\">How do I mock an autowired @Value field in Spring with Mockito?</a></p>\n"},{"tags":[],"owner":{"account_id":15674950,"reputation":75,"user_id":11310433,"display_name":"localhost"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681223863,"creation_date":1681223863,"answer_id":75987130,"question_id":36084559,"body_markdown":"**TL;DR**\r\n\r\n```\r\n@Autowired\r\n@InjectMocks\r\nprivate AbcController controllerUnderTest;\r\n```\r\n\r\n**Explanation:**\r\nYou would be amazed to know how simple but yet tricky it was.\r\nTry to use: **@Autowired** and **@InjectMock** annotations together.\r\n\r\nThrough this your actual object will be loaded first and then the object which needs to be spied or mocked will be injected. Your actual object will have the values already filled in through the properties.","title":"Injecting a String property with @InjectMocks","body":"<p><strong>TL;DR</strong></p>\n<pre><code>@Autowired\n@InjectMocks\nprivate AbcController controllerUnderTest;\n</code></pre>\n<p><strong>Explanation:</strong>\nYou would be amazed to know how simple but yet tricky it was.\nTry to use: <strong>@Autowired</strong> and <strong>@InjectMock</strong> annotations together.</p>\n<p>Through this your actual object will be loaded first and then the object which needs to be spied or mocked will be injected. Your actual object will have the values already filled in through the properties.</p>\n"}],"owner":{"account_id":44438,"reputation":1430,"user_id":130468,"accept_rate":44,"display_name":"Sam Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58558,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":36089521,"answer_count":8,"score":72,"last_activity_date":1681223863,"creation_date":1458304525,"question_id":36084559,"body_markdown":"I have a Spring MVC `@Controller` with this constructor:\r\n\r\n    @Autowired\r\n    public AbcController(XyzService xyzService, @Value(&quot;${my.property}&quot;) String myProperty) {/*...*/}\r\n\r\nI want to write a standalone unit test for this Controller:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class AbcControllerTest {\r\n    \r\n        @Mock\r\n        private XyzService mockXyzService;\r\n    \r\n        private String myProperty = &quot;my property value&quot;;\r\n    \r\n        @InjectMocks\r\n        private AbcController controllerUnderTest;\r\n    \r\n        /* tests */\r\n    }\r\n\r\nIs there any way to get `@InjectMocks` to inject my String property? I know I can&#39;t mock a String since it&#39;s immutable, but can I just inject a normal String here?\r\n\r\n`@InjectMocks` injects a null by default in this case. `@Mock` understandably throws an exception if I put it on `myProperty`. Is there another annotation I&#39;ve missed that just means &quot;inject this exact object rather than a Mock of it&quot;?","title":"Injecting a String property with @InjectMocks","body":"<p>I have a Spring MVC <code>@Controller</code> with this constructor:</p>\n\n<pre><code>@Autowired\npublic AbcController(XyzService xyzService, @Value(\"${my.property}\") String myProperty) {/*...*/}\n</code></pre>\n\n<p>I want to write a standalone unit test for this Controller:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AbcControllerTest {\n\n    @Mock\n    private XyzService mockXyzService;\n\n    private String myProperty = \"my property value\";\n\n    @InjectMocks\n    private AbcController controllerUnderTest;\n\n    /* tests */\n}\n</code></pre>\n\n<p>Is there any way to get <code>@InjectMocks</code> to inject my String property? I know I can't mock a String since it's immutable, but can I just inject a normal String here?</p>\n\n<p><code>@InjectMocks</code> injects a null by default in this case. <code>@Mock</code> understandably throws an exception if I put it on <code>myProperty</code>. Is there another annotation I've missed that just means \"inject this exact object rather than a Mock of it\"?</p>\n"},{"tags":["java","cookies","jersey","x-xsrf-token"],"owner":{"account_id":28105867,"reputation":11,"user_id":21474467,"display_name":"andreiiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681223835,"creation_date":1681223835,"question_id":75987124,"body_markdown":"I&#39;m trying to set the HttpOnly flag of xsrf-token cookie to true in my jersey application. \r\nAt the moment I have two cookies, the HttpOnly flag of the jsession id cookie is set to true while the other is set to false.\r\n\r\n\r\nI have this in my web.xml:\r\n\r\n      &lt;session-config&gt;\r\n\t&lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n\t&lt;cookie-config&gt;\r\n\t\t&lt;http-only&gt;true&lt;/http-only&gt;\r\n\t\t&lt;secure&gt;true&lt;/secure&gt;\r\n\t&lt;/cookie-config&gt;\r\n\t&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n  &lt;/session-config&gt;\r\n\r\nBut the xsrf cookie HttpOnly flag is always false. \r\nHow can i change the flag of that cookie?","title":"How to set the HttpOnly flag to true for xsrf-token cookie in jersey?","body":"<p>I'm trying to set the HttpOnly flag of xsrf-token cookie to true in my jersey application.\nAt the moment I have two cookies, the HttpOnly flag of the jsession id cookie is set to true while the other is set to false.</p>\n<p>I have this in my web.xml:</p>\n<pre><code>  &lt;session-config&gt;\n&lt;session-timeout&gt;30&lt;/session-timeout&gt;\n&lt;cookie-config&gt;\n    &lt;http-only&gt;true&lt;/http-only&gt;\n    &lt;secure&gt;true&lt;/secure&gt;\n&lt;/cookie-config&gt;\n&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n</code></pre>\n  \n<p>But the xsrf cookie HttpOnly flag is always false.\nHow can i change the flag of that cookie?</p>\n"},{"tags":["java","syslog-ng"],"owner":{"account_id":28276204,"reputation":1,"user_id":21618647,"display_name":"Ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681223414,"creation_date":1681223414,"question_id":75987063,"body_markdown":"I am new to syslog ng and wanted to know if there is any way to check the combination of  ip, port and protocol configuration for a syslog ng connection?\r\nI know that one can check the ip and port, but wasnt sure how to handle scenarios where the ip and port are correct, but the protocol is incorrect(how it can be verified in Java)\r\n\r\nI have been looking at the configuration of syslog ng(but no luck yet)\r\n\r\n","title":"Syslog ng connectivity issue","body":"<p>I am new to syslog ng and wanted to know if there is any way to check the combination of  ip, port and protocol configuration for a syslog ng connection?\nI know that one can check the ip and port, but wasnt sure how to handle scenarios where the ip and port are correct, but the protocol is incorrect(how it can be verified in Java)</p>\n<p>I have been looking at the configuration of syslog ng(but no luck yet)</p>\n"},{"tags":["java","minecraft-fabric"],"owner":{"account_id":28276133,"reputation":1,"user_id":21618587,"display_name":"Rajala1404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681223163,"creation_date":1681223163,"question_id":75987021,"body_markdown":"I will auto gen Recipes with FabricRecipeProvider in Fabric 1.19.4 but if i run genData it will get me the error:\r\n\r\n```\r\n[main/ERROR] (FabricDataGenHelper) Failed to run data generation\r\n java.lang.RuntimeException: Failed to run data generator from mod (jefs)\r\n\tat net.fabricmc.fabric.impl.datagen.FabricDataGenHelper.runInternal(FabricDataGenHelper.java:134) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\r\n\tat net.fabricmc.fabric.impl.datagen.FabricDataGenHelper.run(FabricDataGenHelper.java:86) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\r\n\tat net.minecraft.server.Main.handler$zzc000$fabric-data-generation-api-v1$main(Main.java:535) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat net.minecraft.server.Main.main(Main.java:120) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462) ~[fabric-loader-0.14.19.jar:?]\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.19.jar:?]\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23) ~[fabric-loader-0.14.19.jar:?]\r\n\tat net.fabricmc.devlaunchinjector.Main.main(Main.java:86) ~[dev-launch-injector-0.2.1+build.8.jar:?]\r\nCaused by: java.lang.IllegalStateException: Duplicate recipe jefs:aluminum_ingot\r\n\tat net.fabricmc.fabric.api.datagen.v1.provider.FabricRecipeProvider.lambda$run$1(FabricRecipeProvider.java:80) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\r\n\tat net.minecraft.data.server.recipe.ShapedRecipeJsonBuilder.offerTo(ShapedRecipeJsonBuilder.java:114) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat net.minecraft.data.server.recipe.RecipeProvider.offerReversibleCompactingRecipes(RecipeProvider.java:332) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat net.minecraft.data.server.recipe.RecipeProvider.offerReversibleCompactingRecipes(RecipeProvider.java:315) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat de.rajala1404.justenoughfoodstuff.data.RecipeGeneratorInit.generate(RecipeGeneratorInit.java:50) ~[main/:?]\r\n\tat net.fabricmc.fabric.api.datagen.v1.provider.FabricRecipeProvider.run(FabricRecipeProvider.java:76) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\r\n\tat net.minecraft.data.DataCache.run(DataCache.java:95) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat net.minecraft.data.DataGenerator.method_46563(DataGenerator.java:49) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n\tat net.minecraft.data.DataGenerator.run(DataGenerator.java:42) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\r\n\tat net.fabricmc.fabric.impl.datagen.FabricDataGenHelper.runInternal(FabricDataGenHelper.java:132) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\r\n\t... 7 more\r\n\r\n&gt; Task :runDatagen FAILED\r\n6 actionable tasks: 5 executed, 1 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:runDatagen&#39;.\r\n&gt; Process &#39;command &#39;D:\\Program Files\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value -1\r\n```\r\nI think its a offerReversibleCompactingRecipes but i do not understand why this happend\r\nTheCode:\r\n\r\n```\r\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.STEEL_INGOT, RecipeCategory.MISC,\r\n                BlockInit.STEEL_BLOCK);\r\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.KNIFE_STEEL_INGOT, RecipeCategory.MISC,\r\n                BlockInit.KNIFE_STEEL_BLOCK);\r\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.ALUMINUM_INGOT, RecipeCategory.MISC,\r\n                BlockInit.ALUMINUM_BLOCK);\r\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.MISC, ItemInit.ALUMINUM_NUGGET, RecipeCategory.MISC,\r\n                ItemInit.ALUMINUM_INGOT);\r\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.BAUXITE, RecipeCategory.MISC,\r\n                BlockInit.BAUXITE_BLOCK);\r\n\r\n```\r\n\r\n\r\n\r\nAfter i run the genData it generated not all files. it stop generating at\r\n\r\n```\r\nofferReversibleCompactingRecipes(exporter, RecipeCategory.MISC, ItemInit.ALUMINUM_NUGGET, RecipeCategory.MISC,\r\n                ItemInit.ALUMINUM_INGOT);\r\n```\r\n","title":"Can&#39;t gen Data with Fabrics FabricRecipeProvider","body":"<p>I will auto gen Recipes with FabricRecipeProvider in Fabric 1.19.4 but if i run genData it will get me the error:</p>\n<pre><code>[main/ERROR] (FabricDataGenHelper) Failed to run data generation\n java.lang.RuntimeException: Failed to run data generator from mod (jefs)\n    at net.fabricmc.fabric.impl.datagen.FabricDataGenHelper.runInternal(FabricDataGenHelper.java:134) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\n    at net.fabricmc.fabric.impl.datagen.FabricDataGenHelper.run(FabricDataGenHelper.java:86) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\n    at net.minecraft.server.Main.handler$zzc000$fabric-data-generation-api-v1$main(Main.java:535) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at net.minecraft.server.Main.main(Main.java:120) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462) ~[fabric-loader-0.14.19.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.19.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23) ~[fabric-loader-0.14.19.jar:?]\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:86) ~[dev-launch-injector-0.2.1+build.8.jar:?]\nCaused by: java.lang.IllegalStateException: Duplicate recipe jefs:aluminum_ingot\n    at net.fabricmc.fabric.api.datagen.v1.provider.FabricRecipeProvider.lambda$run$1(FabricRecipeProvider.java:80) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\n    at net.minecraft.data.server.recipe.ShapedRecipeJsonBuilder.offerTo(ShapedRecipeJsonBuilder.java:114) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at net.minecraft.data.server.recipe.RecipeProvider.offerReversibleCompactingRecipes(RecipeProvider.java:332) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at net.minecraft.data.server.recipe.RecipeProvider.offerReversibleCompactingRecipes(RecipeProvider.java:315) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at de.rajala1404.justenoughfoodstuff.data.RecipeGeneratorInit.generate(RecipeGeneratorInit.java:50) ~[main/:?]\n    at net.fabricmc.fabric.api.datagen.v1.provider.FabricRecipeProvider.run(FabricRecipeProvider.java:76) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\n    at net.minecraft.data.DataCache.run(DataCache.java:95) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at net.minecraft.data.DataGenerator.method_46563(DataGenerator.java:49) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\n    at net.minecraft.data.DataGenerator.run(DataGenerator.java:42) ~[minecraft-merged-project-root-1.19.4-net.fabricmc.yarn.1_19_4.1.19.4+build.2-v2.jar:?]\n    at net.fabricmc.fabric.impl.datagen.FabricDataGenHelper.runInternal(FabricDataGenHelper.java:132) ~[fabric-data-generation-api-v1-11.3.6+5da15ca1f4.jar:?]\n    ... 7 more\n\n&gt; Task :runDatagen FAILED\n6 actionable tasks: 5 executed, 1 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':runDatagen'.\n&gt; Process 'command 'D:\\Program Files\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value -1\n</code></pre>\n<p>I think its a offerReversibleCompactingRecipes but i do not understand why this happend\nTheCode:</p>\n<pre><code>        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.STEEL_INGOT, RecipeCategory.MISC,\n                BlockInit.STEEL_BLOCK);\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.KNIFE_STEEL_INGOT, RecipeCategory.MISC,\n                BlockInit.KNIFE_STEEL_BLOCK);\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.ALUMINUM_INGOT, RecipeCategory.MISC,\n                BlockInit.ALUMINUM_BLOCK);\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.MISC, ItemInit.ALUMINUM_NUGGET, RecipeCategory.MISC,\n                ItemInit.ALUMINUM_INGOT);\n        offerReversibleCompactingRecipes(exporter, RecipeCategory.BUILDING_BLOCKS, ItemInit.BAUXITE, RecipeCategory.MISC,\n                BlockInit.BAUXITE_BLOCK);\n\n</code></pre>\n<p>After i run the genData it generated not all files. it stop generating at</p>\n<pre><code>offerReversibleCompactingRecipes(exporter, RecipeCategory.MISC, ItemInit.ALUMINUM_NUGGET, RecipeCategory.MISC,\n                ItemInit.ALUMINUM_INGOT);\n</code></pre>\n"},{"tags":["java","xml","spring","classpath"],"comments":[{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":1,"creation_date":1304959957,"post_id":5939959,"comment_id":6845953,"body_markdown":"isn&#39;t it usually of this pattern `&quot;src/main/resources/combined2.xml&quot;` ?","body":"isn&#39;t it usually of this pattern <code>&quot;src&#47;main&#47;resources&#47;combined2.xml&quot;</code> ?"},{"owner":{"account_id":7824532,"reputation":5550,"user_id":5916535,"display_name":"Nafeez Quraishi"},"score":0,"creation_date":1613502819,"post_id":5939959,"comment_id":117093066,"body_markdown":"Please see my answer at : https://stackoverflow.com/a/66230703/5916535","body":"Please see my answer at : <a href=\"https://stackoverflow.com/a/66230703/5916535\">stackoverflow.com/a/66230703/5916535</a>"}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1304960055,"creation_date":1304960055,"answer_id":5940018,"question_id":5939959,"body_markdown":"It is trying to load this file from the classpath and cannot find it. Try specifying just `&quot;combined2.xml&quot;` instead of `&quot;src/main/java/resources/combined2.xml&quot;` and make sure that src/main/java/resources is on your classpath.\r\n\r\nBy the way, in Maven, the standard directory for resources is `src/main/resources`, so I suggest you put this file there.","title":"IOException parsing XML document from class path resource","body":"<p>It is trying to load this file from the classpath and cannot find it. Try specifying just <code>\"combined2.xml\"</code> instead of <code>\"src/main/java/resources/combined2.xml\"</code> and make sure that src/main/java/resources is on your classpath.</p>\n\n<p>By the way, in Maven, the standard directory for resources is <code>src/main/resources</code>, so I suggest you put this file there.</p>\n"},{"tags":[],"owner":{"account_id":181247,"reputation":725,"user_id":415109,"accept_rate":0,"display_name":"Anand Devaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421617499,"creation_date":1421617499,"answer_id":28015163,"question_id":5939959,"body_markdown":"Try this\r\n\r\n    appContext = new ClassPathXmlApplicationContext(\r\n                new String[] { &quot;/**/combined2.xml&quot;, &quot;/**/xxx.xml&quot;});","title":"IOException parsing XML document from class path resource","body":"<p>Try this</p>\n\n<pre><code>appContext = new ClassPathXmlApplicationContext(\n            new String[] { \"/**/combined2.xml\", \"/**/xxx.xml\"});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1678438073,"creation_date":1432558953,"answer_id":30439037,"question_id":5939959,"body_markdown":" Maven, has standard directory for resources. Which is `src/main/resources`, so if you keep your file here it will take it.\r\n \r\n**For example**\r\n\r\n     ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;application-context.xml&quot;);\r\n\r\n\r\n\r\nI had the same problem it worked for me\r\n","title":"IOException parsing XML document from class path resource","body":"<p>Maven, has standard directory for resources. Which is <code>src/main/resources</code>, so if you keep your file here it will take it.</p>\n<p><strong>For example</strong></p>\n<pre><code> ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;application-context.xml&quot;);\n</code></pre>\n<p>I had the same problem it worked for me</p>\n"},{"tags":[],"owner":{"account_id":8498997,"reputation":1,"user_id":6372693,"display_name":"Vinod Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554294451,"creation_date":1519456721,"answer_id":48960374,"question_id":5939959,"body_markdown":"You can use the relative path of the xml file.\r\nRelative path: path relative to your package where the XML file is located.\r\n\r\nE.g. \r\nassume\r\n\r\n    package = beanfactory,  \r\n    xml file name = application-context.xml, \r\n\r\nand xml file in under this package.\r\nthen provide the path as &quot;/beanfactory/application-context.xml&quot;\r\n\r\n    ApplicationContext factory=new \r\n    ClassPathXmlApplicationContext(&quot;/beanfactory/application-context.xml&quot;);\r\n\r\nThis works without errors.\r\n\r\n\r\n","title":"IOException parsing XML document from class path resource","body":"<p>You can use the relative path of the xml file.\nRelative path: path relative to your package where the XML file is located.</p>\n\n<p>E.g. \nassume</p>\n\n<pre><code>package = beanfactory,  \nxml file name = application-context.xml, \n</code></pre>\n\n<p>and xml file in under this package.\nthen provide the path as \"/beanfactory/application-context.xml\"</p>\n\n<pre><code>ApplicationContext factory=new \nClassPathXmlApplicationContext(\"/beanfactory/application-context.xml\");\n</code></pre>\n\n<p>This works without errors.</p>\n"},{"tags":[],"owner":{"display_name":"user10934825"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554294309,"creation_date":1554294309,"answer_id":55495156,"question_id":5939959,"body_markdown":"You have to replace your .xml in resources folder, and write: \r\n\r\n     String[] contextPaths = new String[] {&quot;Xxx.xml&quot;};\r\n        new ClassPathXmlApplicationContext(contextPaths);\r\nIf you didn&#39;t any addition configuration, all .html and .xml files Spring searches in resources folder by dafault ","title":"IOException parsing XML document from class path resource","body":"<p>You have to replace your .xml in resources folder, and write: </p>\n\n<pre><code> String[] contextPaths = new String[] {\"Xxx.xml\"};\n    new ClassPathXmlApplicationContext(contextPaths);\n</code></pre>\n\n<p>If you didn't any addition configuration, all .html and .xml files Spring searches in resources folder by dafault </p>\n"},{"tags":[],"owner":{"account_id":16213799,"reputation":1,"user_id":11707055,"display_name":"Abhimanu Rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588064321,"creation_date":1588023410,"answer_id":61468878,"question_id":5939959,"body_markdown":"Move `combined2.xml` to your `resources` folder.\r\n\r\nIf you want to put any other config file like `applicationContext.xml`, make sure you put it in `resources` folder.","title":"IOException parsing XML document from class path resource","body":"<p>Move <code>combined2.xml</code> to your <code>resources</code> folder.</p>\n\n<p>If you want to put any other config file like <code>applicationContext.xml</code>, make sure you put it in <code>resources</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":19815948,"reputation":11,"user_id":14513645,"display_name":"Deepak pal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603658653,"creation_date":1603568464,"answer_id":64517351,"question_id":5939959,"body_markdown":"Keep `.xml` files in the resources folder and use `ClassPathXmlApplicationContext` like this:\r\n\r\n\r\nExample: \r\n\r\n```\r\nClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n```","title":"IOException parsing XML document from class path resource","body":"<p>Keep <code>.xml</code> files in the resources folder and use <code>ClassPathXmlApplicationContext</code> like this:</p>\n<p>Example:</p>\n<pre><code>ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21020267,"reputation":1,"user_id":15446785,"display_name":"Meghraj Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1616378125,"creation_date":1616352187,"answer_id":66736197,"question_id":5939959,"body_markdown":"Put the Config file under Resource folder if you are using Maven. Like below.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Szkd6.png","title":"IOException parsing XML document from class path resource","body":"<p>Put the Config file under Resource folder if you are using Maven. Like below.</p>\n<p><img src=\"https://i.stack.imgur.com/Szkd6.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":24795127,"reputation":1,"user_id":18677899,"display_name":"Dr Subhash Mohandas"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1650024767,"creation_date":1650008048,"answer_id":71881278,"question_id":5939959,"body_markdown":"I got it..\r\ncorrect answer\r\n\r\n```\r\nApplicationContext appContext = new ClassPathXmlApplicationContext(\r\n            new String[] { &quot;/**/applicationContext.xml&quot;, &quot;/**/xxx.xml&quot;});\r\n```","title":"IOException parsing XML document from class path resource","body":"<p>I got it..\ncorrect answer</p>\n<pre><code>ApplicationContext appContext = new ClassPathXmlApplicationContext(\n            new String[] { &quot;/**/applicationContext.xml&quot;, &quot;/**/xxx.xml&quot;});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23937833,"reputation":1,"user_id":17931361,"display_name":"arvindkumarmohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671086852,"creation_date":1671006205,"answer_id":74795358,"question_id":5939959,"body_markdown":"Actually there are multiple solution for it, your choose whichever you want to implement in your project.\r\n\r\n    #1stStep\r\n    1) Move &quot;combined2.xml&quot; file to [src/main/resource]. \r\n    2) Use *ApplicationContext context = new ApplicationContext(parent \r\n       class,args);*\r\n    \r\n*The [parent class] value is actually the main java class file or the current class where you are facing this issue.\r\n    \r\n    #2ndStep\r\n    If you still wanna use your method, then consider following the solution \r\n    below:-\r\n    1) Move &quot;combined2.xml&quot; file to [src/main/java]\r\n    2) Use *ClassPathXmlApplicationContext context = new \r\n       ClassPathXmlApplicationContext(&quot;combined2.xml&quot;);*\r\n\r\nElaboration of #2ndStep:-\r\nYou put the xml file under wrong folder [src/main/java/resources], your &quot;combined.xml&quot; file should be under [src/main/java]. You don&#39;t have to give full directory of the path for an example: &quot;src/main/java/resources/combined2.xml&quot;, just put the name of the [.xml] file you have created. Based on your project, you created &quot;**combined2.xml**&quot;, just pass the name of the file which is &quot;**combined2.xml**&quot;. The exact solution was given below based on your project structure.\r\n\r\nExact Solution:-\r\n\r\n    public RepeatingGrpPoC() {\r\n    ClassPathXmlApplicationContext appContext = new \r\n    ClassPathXmlApplicationContext(&quot;combined2.xml&quot;);\r\n    }\r\n\r\n","title":"IOException parsing XML document from class path resource","body":"<p>Actually there are multiple solution for it, your choose whichever you want to implement in your project.</p>\n<pre><code>#1stStep\n1) Move &quot;combined2.xml&quot; file to [src/main/resource]. \n2) Use *ApplicationContext context = new ApplicationContext(parent \n   class,args);*\n</code></pre>\n<p>*The [parent class] value is actually the main java class file or the current class where you are facing this issue.</p>\n<pre><code>#2ndStep\nIf you still wanna use your method, then consider following the solution \nbelow:-\n1) Move &quot;combined2.xml&quot; file to [src/main/java]\n2) Use *ClassPathXmlApplicationContext context = new \n   ClassPathXmlApplicationContext(&quot;combined2.xml&quot;);*\n</code></pre>\n<p>Elaboration of #2ndStep:-\nYou put the xml file under wrong folder [src/main/java/resources], your &quot;combined.xml&quot; file should be under [src/main/java]. You don't have to give full directory of the path for an example: &quot;src/main/java/resources/combined2.xml&quot;, just put the name of the [.xml] file you have created. Based on your project, you created &quot;<strong>combined2.xml</strong>&quot;, just pass the name of the file which is &quot;<strong>combined2.xml</strong>&quot;. The exact solution was given below based on your project structure.</p>\n<p>Exact Solution:-</p>\n<pre><code>public RepeatingGrpPoC() {\nClassPathXmlApplicationContext appContext = new \nClassPathXmlApplicationContext(&quot;combined2.xml&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681222973,"creation_date":1680337069,"answer_id":75904994,"question_id":5939959,"body_markdown":"**2023/4** \r\n\r\nif the classpath for resources is ok but still annoys, \r\n at a very least this works in Eclipse\r\n\r\n    ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;classpath:combined2.xml&quot;);\r\n\r\n(refer to \r\n[Spring docs-&gt;Core][1] paragraph **ClassPathResource** in \r\n **Resources-&gt; Built-in Resource Implementations**)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html","title":"IOException parsing XML document from class path resource","body":"<p><strong>2023/4</strong></p>\n<p>if the classpath for resources is ok but still annoys,\nat a very least this works in Eclipse</p>\n<pre><code>ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;classpath:combined2.xml&quot;);\n</code></pre>\n<p>(refer to\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\" rel=\"nofollow noreferrer\">Spring docs-&gt;Core</a> paragraph <strong>ClassPathResource</strong> in\n<strong>Resources-&gt; Built-in Resource Implementations</strong>)</p>\n"}],"owner":{"account_id":244883,"reputation":8336,"user_id":518004,"accept_rate":66,"display_name":"Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110665,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":5940018,"answer_count":11,"score":18,"last_activity_date":1681222973,"creation_date":1304959687,"question_id":5939959,"body_markdown":"Ok I&#39;m currently trying `mavenise` a project. However my project fails to find the `xml` file containing the some beans. `combined2.xml`\r\n\r\nI have it defined as:\r\n\r\n        public RepeatingGrpPoC() {\r\n    \tappContext = new ClassPathXmlApplicationContext(\r\n\t\t\t\tnew String[] { &quot;src/main/java/resources/combined2.xml&quot;,});\r\n    \tc = 0;    \r\n    }\r\n\r\nHowever for a reason unknown to me I constantly get the error.\r\n\r\n&gt; Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [src/main/java/resources/combined2.xml]; nested exception is java.io.FileNotFoundException: class path resource [src/main/java/resources/combined2.xml] cannot be opened because it does not exist\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:212)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:126)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:92)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:465)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:395)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93)\r\n\tat metadataPoC.RepeatingGrpPoC.&lt;init&gt;(RepeatingGrpPoC.java:34)\r\n\tat metadataPoC.Main.main(Main.java:22)\r\nCaused by: java.io.FileNotFoundException: class path resource [src/main/java/resources/combined2.xml] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:141)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)\r\n\t... 14 more\r\n\r\n\r\nWhere else would the program be looking for this file since I&#39;ve given it the relative path?\r\n\r\n","title":"IOException parsing XML document from class path resource","body":"<p>Ok I'm currently trying <code>mavenise</code> a project. However my project fails to find the <code>xml</code> file containing the some beans. <code>combined2.xml</code></p>\n\n<p>I have it defined as:</p>\n\n<pre><code>    public RepeatingGrpPoC() {\n    appContext = new ClassPathXmlApplicationContext(\n            new String[] { \"src/main/java/resources/combined2.xml\",});\n    c = 0;    \n}\n</code></pre>\n\n<p>However for a reason unknown to me I constantly get the error.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [src/main/java/resources/combined2.xml]; nested exception is java.io.FileNotFoundException: class path resource [src/main/java/resources/combined2.xml] cannot be opened because it does not exist\n      at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)\n      at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:212)\n      at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:126)\n      at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:92)\n      at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n      at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:465)\n      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:395)\n      at org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:139)\n      at org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:93)\n      at metadataPoC.RepeatingGrpPoC.(RepeatingGrpPoC.java:34)\n      at metadataPoC.Main.main(Main.java:22)\n  Caused by: java.io.FileNotFoundException: class path resource [src/main/java/resources/combined2.xml] cannot be opened because it does not exist\n      at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:141)\n      at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)\n      ... 14 more</p>\n</blockquote>\n\n<p>Where else would the program be looking for this file since I've given it the relative path?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681222724,"creation_date":1681222369,"answer_id":75986900,"question_id":75984452,"body_markdown":"In an attempt to reproduce this behavior, I wrote this test:\r\n\r\n```java\r\npackage org.hibernate;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport org.hibernate.annotations.ColumnDefault;\r\nimport org.hibernate.annotations.Generated;\r\nimport org.hibernate.testing.orm.junit.DomainModel;\r\nimport org.hibernate.testing.orm.junit.SessionFactory;\r\nimport org.hibernate.testing.orm.junit.SessionFactoryScope;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.UUID;\r\n\r\n@SessionFactory\r\n@DomainModel(annotatedClasses = UuidTest.It.class)\r\npublic class UuidTest {\r\n\r\n\t@Test\r\n\tvoid testit(SessionFactoryScope scope) {\r\n\t\tscope.inTransaction( s -&gt; s.persist( new It() ) );\r\n\t\tscope.inTransaction( s -&gt; {\r\n\t\t\tUUID uuid = s.createQuery(&quot;select uuid from It&quot;, UUID.class).getSingleResult();\r\n\t\t\tString string = s.createQuery(&quot;select str(uuid) from It&quot;, String.class).getSingleResult();\r\n\t\t\tAssertions.assertEquals( string, uuid.toString() );\r\n\t\t\tSystem.out.println( string );\r\n\t\t});\r\n\t}\r\n\r\n\t@Entity(name=&quot;It&quot;)\r\n\tpublic static class It {\r\n\t\t@Id @Generated\r\n\t\t@ColumnDefault(&quot;gen_random_uuid()&quot;)\r\n\t\tUUID uuid;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nIt generates the following DDL:\r\n\r\n```sql\r\n    create table It (\r\n        uuid uuid default gen_random_uuid() not null,\r\n        primary key (uuid)\r\n    )\r\n```\r\nwhich I believe is the same as the schema you have.\r\n\r\nIt then inserts a row, letting Postgres generate the UUID:\r\n```sql\r\n    insert \r\n    into It\r\n        default values\r\n    returning uuid\r\n```\r\n\r\nIt finally asserts that the db&#39;s string representation, and Java&#39;s string representation are the same. (Of course I also double-checked `psql` on the commandline.)\r\n\r\nAnd everything here looks perfect to me.\r\n\r\nI&#39;m not sure what&#39;s going on in your case.\r\n\r\n**UPDATE:** My point being that it doesn&#39;t look like a bug in Hibernate. Of course I have no clue what Spring is doing in all of this.","title":"Hibernate 6.1: reading UUID from PostgreSQL","body":"<p>In an attempt to reproduce this behavior, I wrote this test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.hibernate;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport org.hibernate.annotations.ColumnDefault;\nimport org.hibernate.annotations.Generated;\nimport org.hibernate.testing.orm.junit.DomainModel;\nimport org.hibernate.testing.orm.junit.SessionFactory;\nimport org.hibernate.testing.orm.junit.SessionFactoryScope;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.UUID;\n\n@SessionFactory\n@DomainModel(annotatedClasses = UuidTest.It.class)\npublic class UuidTest {\n\n    @Test\n    void testit(SessionFactoryScope scope) {\n        scope.inTransaction( s -&gt; s.persist( new It() ) );\n        scope.inTransaction( s -&gt; {\n            UUID uuid = s.createQuery(&quot;select uuid from It&quot;, UUID.class).getSingleResult();\n            String string = s.createQuery(&quot;select str(uuid) from It&quot;, String.class).getSingleResult();\n            Assertions.assertEquals( string, uuid.toString() );\n            System.out.println( string );\n        });\n    }\n\n    @Entity(name=&quot;It&quot;)\n    public static class It {\n        @Id @Generated\n        @ColumnDefault(&quot;gen_random_uuid()&quot;)\n        UUID uuid;\n    }\n}\n\n</code></pre>\n<p>It generates the following DDL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table It (\n        uuid uuid default gen_random_uuid() not null,\n        primary key (uuid)\n    )\n</code></pre>\n<p>which I believe is the same as the schema you have.</p>\n<p>It then inserts a row, letting Postgres generate the UUID:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    insert \n    into It\n        default values\n    returning uuid\n</code></pre>\n<p>It finally asserts that the db's string representation, and Java's string representation are the same. (Of course I also double-checked <code>psql</code> on the commandline.)</p>\n<p>And everything here looks perfect to me.</p>\n<p>I'm not sure what's going on in your case.</p>\n<p><strong>UPDATE:</strong> My point being that it doesn't look like a bug in Hibernate. Of course I have no clue what Spring is doing in all of this.</p>\n"}],"owner":{"account_id":1237644,"reputation":837,"user_id":1200916,"accept_rate":83,"display_name":"Thomas Wana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681222724,"creation_date":1681206040,"question_id":75984452,"body_markdown":"I am upgrading from Spring Boot 2 to 3, and along with it comes the upgrade from Hibernate 5 to 6.1. \r\n\r\nI have a PostgreSQL table containing a UUID column:\r\n\r\n```\r\n                            Table &quot;public.combination&quot;\r\n           Column           |   Type    | Collation | Nullable |      Default      \r\n----------------------------+-----------+-----------+----------+-------------------\r\n id                         | uuid      |           | not null | gen_random_uuid()\r\n kind                       | kind_type |           | not null | \r\n```\r\n\r\nI have a JPA model with that column:\r\n\r\n```\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;combination&quot;)\r\npublic class Combination\r\n{\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\t@NotNull\r\n\tprivate UUID id;\r\n\r\n    public UUID getId()\r\n\t{\r\n\t\treturn id;\r\n\t}\r\n    ...\r\n```\r\n\r\nOne record in that table:\r\n\r\n```\r\nargas=# select * from combination ;\r\n                  id                  |    kind     \r\n--------------------------------------+---------------\r\n 0f787085-9a45-4512-ae55-f6db24ab8178 | connectivity\r\n(1 rows)\r\n```\r\n\r\nI query from that table using a `CrudRepository` subclass:\r\n\r\n```\r\n@Repository\r\npublic interface CombinationRepository extends CrudRepository&lt;Combination, UUID&gt;\r\n{\r\n\tIterable&lt;Combination&gt; findAllByKind(@NotNull Kind kind);\r\n}\r\n```\r\n\r\nIn Spring Boot 2/Hibernate 5, the UUID returns correctly as `0f787085-9a45-4512-ae55-f6db24ab8178` (`mostSigBits = 1114764626895389970`, `leastSigBits = -5884525917016194696`). \r\n\r\nBut after the upgrade to Spring Boot 3/Hibernate 6, the UUID returns as `30663738-3730-3835-2d39-6134352d3435` (`mostSigBits = 3487535676028631093`, `mostSigBits = 3487535676028631093`) - and I really have no idea why or what to do about it. \r\n\r\nI use the exact same run configuration, just switching Git branches and rebuilding everything.\r\n\r\nI tried already setting `hibernate.type.preferred_uuid_jdbc_type` to either `CHAR` or `BINARY`, but the values returned are the same. PostgreSQL driver version is 42.5.4. \r\n\r\nIs this a Hibernate bug? What else can I do to resolve this?","title":"Hibernate 6.1: reading UUID from PostgreSQL","body":"<p>I am upgrading from Spring Boot 2 to 3, and along with it comes the upgrade from Hibernate 5 to 6.1.</p>\n<p>I have a PostgreSQL table containing a UUID column:</p>\n<pre><code>                            Table &quot;public.combination&quot;\n           Column           |   Type    | Collation | Nullable |      Default      \n----------------------------+-----------+-----------+----------+-------------------\n id                         | uuid      |           | not null | gen_random_uuid()\n kind                       | kind_type |           | not null | \n</code></pre>\n<p>I have a JPA model with that column:</p>\n<pre><code>import java.util.UUID;\n\n@Entity\n@Table(name = &quot;combination&quot;)\npublic class Combination\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    @NotNull\n    private UUID id;\n\n    public UUID getId()\n    {\n        return id;\n    }\n    ...\n</code></pre>\n<p>One record in that table:</p>\n<pre><code>argas=# select * from combination ;\n                  id                  |    kind     \n--------------------------------------+---------------\n 0f787085-9a45-4512-ae55-f6db24ab8178 | connectivity\n(1 rows)\n</code></pre>\n<p>I query from that table using a <code>CrudRepository</code> subclass:</p>\n<pre><code>@Repository\npublic interface CombinationRepository extends CrudRepository&lt;Combination, UUID&gt;\n{\n    Iterable&lt;Combination&gt; findAllByKind(@NotNull Kind kind);\n}\n</code></pre>\n<p>In Spring Boot 2/Hibernate 5, the UUID returns correctly as <code>0f787085-9a45-4512-ae55-f6db24ab8178</code> (<code>mostSigBits = 1114764626895389970</code>, <code>leastSigBits = -5884525917016194696</code>).</p>\n<p>But after the upgrade to Spring Boot 3/Hibernate 6, the UUID returns as <code>30663738-3730-3835-2d39-6134352d3435</code> (<code>mostSigBits = 3487535676028631093</code>, <code>mostSigBits = 3487535676028631093</code>) - and I really have no idea why or what to do about it.</p>\n<p>I use the exact same run configuration, just switching Git branches and rebuilding everything.</p>\n<p>I tried already setting <code>hibernate.type.preferred_uuid_jdbc_type</code> to either <code>CHAR</code> or <code>BINARY</code>, but the values returned are the same. PostgreSQL driver version is 42.5.4.</p>\n<p>Is this a Hibernate bug? What else can I do to resolve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1681218329,"post_id":75986124,"comment_id":134018083,"body_markdown":"your code is showing what you return to something, but not the part printing it. how are you parsing through the `List&lt;String&gt;` which is returned?","body":"your code is showing what you return to something, but not the part printing it. how are you parsing through the <code>List&lt;String&gt;</code> which is returned?"},{"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"score":0,"creation_date":1681218423,"post_id":75986124,"comment_id":134018120,"body_markdown":"`public void printHowToPlay() {\n        System.out.println(readFileContents(&quot;resources/Document.txt&quot;));\n    } `","body":"<code>public void printHowToPlay() {         System.out.println(readFileContents(&quot;resources&#47;Document.txt&quot;&zwnj;&#8203;));     } </code>"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1681219025,"post_id":75986124,"comment_id":134018320,"body_markdown":"If the printing of the strings is not happening as expected, then it is quite pointless to be showing us how you do the reading of the strings. Show us how you do the printing of the strings instead. Duh!","body":"If the printing of the strings is not happening as expected, then it is quite pointless to be showing us how you do the reading of the strings. Show us how you do the printing of the strings instead. Duh!"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1681227291,"post_id":75986124,"comment_id":134020907,"body_markdown":"@Chernosmaga please [edit] your question and add information to it. don&#39;t provide extra info in comments/answers","body":"@Chernosmaga please <a href=\"https://stackoverflow.com/posts/75986124/edit\">edit</a> your question and add information to it. don&#39;t provide extra info in comments/answers"}],"answers":[{"tags":[],"owner":{"account_id":27384377,"reputation":13,"user_id":20888478,"display_name":"Akim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681222665,"creation_date":1681222665,"answer_id":75986945,"question_id":75986124,"body_markdown":"Just showing the result of the print is pointless without showing how you print it. But assuming the result you got, I might say it&#39;s what you get when you print a variable of type `List&lt;E&gt;` with `System.out.println()`, which just prints the list like this: `[element1, element2, element3, ...]`. To get every element on its own line, you have to loop over the list.  \r\nYou can use a standard for-loop:\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        System.out.println(list.get(i));\r\n    }\r\n\r\nOr a for-each loop:\r\n\r\n    list.forEach(v -&gt; System.out.println(v));\r\n\r\nOr a method reference:\r\n\r\n    list.forEach(System.out::println);\r\n\r\nThese options will give you the expected result. Hope that helps.","title":"Reading Files via readFilesContents()","body":"<p>Just showing the result of the print is pointless without showing how you print it. But assuming the result you got, I might say it's what you get when you print a variable of type <code>List&lt;E&gt;</code> with <code>System.out.println()</code>, which just prints the list like this: <code>[element1, element2, element3, ...]</code>. To get every element on its own line, you have to loop over the list.<br />\nYou can use a standard for-loop:</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n    System.out.println(list.get(i));\n}\n</code></pre>\n<p>Or a for-each loop:</p>\n<pre><code>list.forEach(v -&gt; System.out.println(v));\n</code></pre>\n<p>Or a method reference:</p>\n<pre><code>list.forEach(System.out::println);\n</code></pre>\n<p>These options will give you the expected result. Hope that helps.</p>\n"}],"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681280524,"answer_count":1,"score":-1,"last_activity_date":1681222665,"creation_date":1681217491,"question_id":75986124,"body_markdown":"There&#39;s a trivial game I&#39;m trying to make, so I want to read a file (txt format) to post information about the game in a console for a player. I used this method to read file:\r\n```\r\nList&lt;String&gt; readFileContents(String path) { \r\n        try {\r\n            return Files.readAllLines(Path.of(path));\r\n        } catch (IOException e) {\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n```\r\nIt works, but when I choose the option to print? I&#39;ve got something like this: \r\n```\r\n[text, some other text, more text]\r\n```\r\nBut I want it to be printed like this:\r\n```\r\ntext\r\nsome other text\r\nmore text\r\n```\r\nWhat should I do?","title":"Reading Files via readFilesContents()","body":"<p>There's a trivial game I'm trying to make, so I want to read a file (txt format) to post information about the game in a console for a player. I used this method to read file:</p>\n<pre><code>List&lt;String&gt; readFileContents(String path) { \n        try {\n            return Files.readAllLines(Path.of(path));\n        } catch (IOException e) {\n            return Collections.emptyList();\n        }\n    }\n</code></pre>\n<p>It works, but when I choose the option to print? I've got something like this:</p>\n<pre><code>[text, some other text, more text]\n</code></pre>\n<p>But I want it to be printed like this:</p>\n<pre><code>text\nsome other text\nmore text\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","spring","oracle","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1681210874,"post_id":75975600,"comment_id":134016286,"body_markdown":"`Is it possible to prevent the execution from stopping when there is a connection error in db (business logic) ?`: for these cases, failing-fast is better IMO. I would fix the configuration issue rather than preventing the execution from stopping. You can use a custom datasouce by providing a bean of type `BatchConfigurer` and override `getDataSource`, see https://stackoverflow.com/questions/25540502/use-of-multiple-datasources-in-spring-batch.","body":"<code>Is it possible to prevent the execution from stopping when there is a connection error in db (business logic) ?</code>: for these cases, failing-fast is better IMO. I would fix the configuration issue rather than preventing the execution from stopping. You can use a custom datasouce by providing a bean of type <code>BatchConfigurer</code> and override <code>getDataSource</code>, see <a href=\"https://stackoverflow.com/questions/25540502/use-of-multiple-datasources-in-spring-batch\" title=\"use of multiple datasources in spring batch\">stackoverflow.com/questions/25540502/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681125168,"creation_date":1681125168,"answer_id":75976573,"question_id":75975600,"body_markdown":"If application.properties has:\r\n\r\n    spring.datasource.url=\r\n    spring.datasource.driverClassName=\r\n    spring.datasource.username=\r\n    spring.datasource.password=\r\n\r\nSpring Batch first search datasource config on this properties although you have different datasource in your job config:\r\n\r\n        public DataSource batchDataSource() {\r\n            return new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2)\r\n            .addScript(&quot;org/springframework/batch/core/schema-h2.sql&quot;).build();\r\n        }\r\n\r\nIf you have other datasource use other name than spring, like customdb.datasource=\r\n\r\n**Solution:\r\nChange name properties of business datasource.**\r\n\r\n","title":"Why spring batch shows this db connection error?","body":"<p>If application.properties has:</p>\n<pre><code>spring.datasource.url=\nspring.datasource.driverClassName=\nspring.datasource.username=\nspring.datasource.password=\n</code></pre>\n<p>Spring Batch first search datasource config on this properties although you have different datasource in your job config:</p>\n<pre><code>    public DataSource batchDataSource() {\n        return new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2)\n        .addScript(&quot;org/springframework/batch/core/schema-h2.sql&quot;).build();\n    }\n</code></pre>\n<p>If you have other datasource use other name than spring, like customdb.datasource=</p>\n<p><strong>Solution:\nChange name properties of business datasource.</strong></p>\n"},{"tags":[],"owner":{"account_id":16947007,"reputation":1,"user_id":12257506,"display_name":"guimaraesp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681222391,"creation_date":1681222391,"answer_id":75986907,"question_id":75975600,"body_markdown":"Sometimes this error is about using **incompatible versions on JDBC Connector, Database and Spring Boot.**\r\nTry to upgrade your connector dependency inside `pom.xml/build.gradle` to something compatible with you Database Service Instance and SpringBoot too.\r\n\r\nFor example: using `org.springframework.boot:2.7.3`, `mysql:mysql-connector-java:8.0.19` and MySQL service on version `8.0` a code similar to yours will be fine. But downgrading MySQL connector to `mysql:mysql-connector-java:8.0.18` the console shows up the same error that you are facing: &quot;Unable to detect database type&quot;.","title":"Why spring batch shows this db connection error?","body":"<p>Sometimes this error is about using <strong>incompatible versions on JDBC Connector, Database and Spring Boot.</strong>\nTry to upgrade your connector dependency inside <code>pom.xml/build.gradle</code> to something compatible with you Database Service Instance and SpringBoot too.</p>\n<p>For example: using <code>org.springframework.boot:2.7.3</code>, <code>mysql:mysql-connector-java:8.0.19</code> and MySQL service on version <code>8.0</code> a code similar to yours will be fine. But downgrading MySQL connector to <code>mysql:mysql-connector-java:8.0.18</code> the console shows up the same error that you are facing: &quot;Unable to detect database type&quot;.</p>\n"}],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681222391,"creation_date":1681116493,"question_id":75975600,"body_markdown":"I&#180;m using Spring Batch in a project with two data sources, one for Spring Batch tables and other for business logic (oracle).\r\n\r\nTo configure job I have a implementation of BatchConfigurer where I set up data source for spring batch:\r\n\r\n    \tpublic DataSource batchDataSource() {\r\n\t\treturn new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2)\r\n\t\t\t\t.addScript(&quot;org/springframework/batch/core/schema-h2.sql&quot;).build();\r\n\t    }\r\nTo configure oracle db, I&#39;m using application.properties:\r\n\r\n    #Oracle settings\r\n    spring.datasource.url=jdbc:oracle:thin:@ip/domain\r\n    spring.datasource.username=user\r\n    spring.datasource.password=pass\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n\r\nI have the following error when there is **not conexion to oracle db**:\r\n\r\n        org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]: Factory method &#39;batchDataSourceInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n    \tat com.app.app.App.main(App.java:20)\r\n    Caused by: java.lang.IllegalStateException: Unable to detect database type\r\n    \tat org.springframework.util.Assert.state(Assert.java:76)\r\n    \tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.determinePlatform(PlatformPlaceholderDatabaseDriverResolver.java:132)\r\n    \tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.lambda$resolveAll$0(PlatformPlaceholderDatabaseDriverResolver.java:96)\r\n    \tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:121)\r\n    \tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:96)\r\n    \tat org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.resolveSchemaLocations(BatchDataSourceScriptDatabaseInitializer.java:86)\r\n    \tat org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.getSettings(BatchDataSourceScriptDatabaseInitializer.java:73)\r\n    \tat org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.&lt;init&gt;(BatchDataSourceScriptDatabaseInitializer.java:48)\r\n    \tat org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration.batchDataSourceInitializer(BatchAutoConfiguration.java:116)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 21 common frames omitted\r\n\r\n\r\n\r\nWhy I have the error &quot;Failed to instantiate *[org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]:*&quot; if oracle datasource is not used for spring batch ?\r\n\r\nIs it possible to prevent the execution from stopping when there is a connection error in db (business logic) ?","title":"Why spring batch shows this db connection error?","body":"<p>Im using Spring Batch in a project with two data sources, one for Spring Batch tables and other for business logic (oracle).</p>\n<p>To configure job I have a implementation of BatchConfigurer where I set up data source for spring batch:</p>\n<pre><code>    public DataSource batchDataSource() {\n    return new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2)\n            .addScript(&quot;org/springframework/batch/core/schema-h2.sql&quot;).build();\n    }\n</code></pre>\n<p>To configure oracle db, I'm using application.properties:</p>\n<pre><code>#Oracle settings\nspring.datasource.url=jdbc:oracle:thin:@ip/domain\nspring.datasource.username=user\nspring.datasource.password=pass\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n</code></pre>\n<p>I have the following error when there is <strong>not conexion to oracle db</strong>:</p>\n<pre><code>    org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]: Factory method 'batchDataSourceInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.app.app.App.main(App.java:20)\nCaused by: java.lang.IllegalStateException: Unable to detect database type\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.determinePlatform(PlatformPlaceholderDatabaseDriverResolver.java:132)\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.lambda$resolveAll$0(PlatformPlaceholderDatabaseDriverResolver.java:96)\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:121)\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:96)\n    at org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.resolveSchemaLocations(BatchDataSourceScriptDatabaseInitializer.java:86)\n    at org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.getSettings(BatchDataSourceScriptDatabaseInitializer.java:73)\n    at org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.&lt;init&gt;(BatchDataSourceScriptDatabaseInitializer.java:48)\n    at org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration.batchDataSourceInitializer(BatchAutoConfiguration.java:116)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 21 common frames omitted\n</code></pre>\n<p>Why I have the error &quot;Failed to instantiate <em>[org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]:</em>&quot; if oracle datasource is not used for spring batch ?</p>\n<p>Is it possible to prevent the execution from stopping when there is a connection error in db (business logic) ?</p>\n"},{"tags":["java","string","vectorization"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1681222252,"post_id":75986785,"comment_id":134019345,"body_markdown":"Not sure what you mean by &quot;*not all Strings in Java are laid out in memory the same way*&quot;. Strings are just `byte[]` now. They used to be `char[]`. They are laid out the same. The difference is the *encoding*: either 1 byte per char or 2. There are package-private methods to get both [the encoding byte](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L4696) and the raw bytes.","body":"Not sure what you mean by &quot;<i>not all Strings in Java are laid out in memory the same way</i>&quot;. Strings are just <code>byte[]</code> now. They used to be <code>char[]</code>. They are laid out the same. The difference is the <i>encoding</i>: either 1 byte per char or 2. There are package-private methods to get both <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L4696\" rel=\"nofollow noreferrer\">the encoding byte</a> and the raw bytes."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681223001,"post_id":75986785,"comment_id":134019593,"body_markdown":"That distinction is what I mean, sorry.  I do see the package-private access, but I don&#39;t know if there is any public API with which the underlying bytes can be accessed (even read only).","body":"That distinction is what I mean, sorry.  I do see the package-private access, but I don&#39;t know if there is any public API with which the underlying bytes can be accessed (even read only)."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681223536,"post_id":75986785,"comment_id":134019747,"body_markdown":"(An unsafe, Unsafe, or incubator API would suffice.)","body":"(An unsafe, Unsafe, or incubator API would suffice.)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1681223940,"post_id":75986785,"comment_id":134019849,"body_markdown":"I suppose what you&#39;d be looking for is a hypothetical `ByteVector.fromString(...)` (it doesn&#39;t exist), because usually any attempt to get the byte[] from a String (e.g. getBytes) will result in a defensive copy, because all arrays are mutable and there&#39;s no way to prevent modification.","body":"I suppose what you&#39;d be looking for is a hypothetical <code>ByteVector.fromString(...)</code> (it doesn&#39;t exist), because usually any attempt to get the byte[] from a String (e.g. getBytes) will result in a defensive copy, because all arrays are mutable and there&#39;s no way to prevent modification."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681224086,"post_id":75986785,"comment_id":134019895,"body_markdown":"Yes.  ByteVectors, fortunately, are not mutable; a read-only MemorySegment or ByteBuffer would also seem like a safe API to provide.  Neither seem to be available, but perhaps there&#39;s something I&#39;ve overlooked.","body":"Yes.  ByteVectors, fortunately, are not mutable; a read-only MemorySegment or ByteBuffer would also seem like a safe API to provide.  Neither seem to be available, but perhaps there&#39;s something I&#39;ve overlooked."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681224245,"post_id":75986785,"comment_id":134019939,"body_markdown":"Even a getBytes with a (from, to) argument and a Charset (unlike the deprecated version) that works particularly well for ASCII would reduce the copying significantly.","body":"Even a getBytes with a (from, to) argument and a Charset (unlike the deprecated version) that works particularly well for ASCII would reduce the copying significantly."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1681235152,"post_id":75986785,"comment_id":134022761,"body_markdown":"Im not well versed in applications of vectors, but I at least understand that you dont want to copy String contents, so would something like `string.chars().forEach(intVector::add)` be of any use?  [chars()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars()) is a stream, so I assume it does not copy anything.","body":"Im not well versed in applications of vectors, but I at least understand that you dont want to copy String contents, so would something like <code>string.chars().forEach(intVector::add)</code> be of any use?  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">chars()</a> is a stream, so I assume it does not copy anything."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681245186,"post_id":75986785,"comment_id":134024885,"body_markdown":"Unfortunately, no.  Vectorization ideally wants things about memory locality and contiguous memory; Streams and Spliterators are ill-suited to that work.  It wouldn&#39;t be meaningfully better than an explicit charAt loop.  That&#39;s not the worst option, but it would involve a bunch of redundant copying.","body":"Unfortunately, no.  Vectorization ideally wants things about memory locality and contiguous memory; Streams and Spliterators are ill-suited to that work.  It wouldn&#39;t be meaningfully better than an explicit charAt loop.  That&#39;s not the worst option, but it would involve a bunch of redundant copying."}],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681221725,"creation_date":1681221725,"question_id":75986785,"body_markdown":"I am interested in experimenting with vectorization of a number of algorithms on Strings.\r\n\r\nI am familiar with the implementation of compact strings and how not all Strings in Java are laid out in memory the same way, but I nevertheless think there might be some read-only mechanism to efficiently access the underlying representations of Strings.  I don&#39;t see, for example, any VarHandle access to string elements, nor do I see access in the MemorySegment API, nor do I see any functions in ShortVector, which I would expect to handle char operations if they were possible.\r\n\r\nI can, of course, do explicit copying from strings to bytes to jdk.incubator.vector Vectors, but since the goal is investigating the possibilities of performance optimization, that seems unlikely to produce ideal results.\r\n\r\n(It&#39;s quite plausible that there is no copy free answer to my question, since such an algorithm would be sensitive to the implementation of Strings which has notably changed over time and might be difficult to future proof, but there might also be solutions that reduce the amount of copying.)","title":"Can jdk.incubator.vector process String contents in Java 20?","body":"<p>I am interested in experimenting with vectorization of a number of algorithms on Strings.</p>\n<p>I am familiar with the implementation of compact strings and how not all Strings in Java are laid out in memory the same way, but I nevertheless think there might be some read-only mechanism to efficiently access the underlying representations of Strings.  I don't see, for example, any VarHandle access to string elements, nor do I see access in the MemorySegment API, nor do I see any functions in ShortVector, which I would expect to handle char operations if they were possible.</p>\n<p>I can, of course, do explicit copying from strings to bytes to jdk.incubator.vector Vectors, but since the goal is investigating the possibilities of performance optimization, that seems unlikely to produce ideal results.</p>\n<p>(It's quite plausible that there is no copy free answer to my question, since such an algorithm would be sensitive to the implementation of Strings which has notably changed over time and might be difficult to future proof, but there might also be solutions that reduce the amount of copying.)</p>\n"},{"tags":["java","recursion","matrix"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1681072821,"post_id":75971850,"comment_id":133996226,"body_markdown":"The method searchDown will return either null or the value of one cell. But the result of the recursive call is never used. That&#39;s where your addition is missing.","body":"The method searchDown will return either null or the value of one cell. But the result of the recursive call is never used. That&#39;s where your addition is missing."}],"answers":[{"tags":[],"owner":{"account_id":28222135,"reputation":36,"user_id":21572701,"display_name":"Edward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681221673,"creation_date":1681221673,"answer_id":75986777,"question_id":75971850,"body_markdown":"I think you got a problem with the return.\r\n\r\n    static int searchDown(int[][] matrix, int i, int j) {\r\n        if (matrix[i][j] &gt; 0) {\r\n            return matrix[i][j] + searchDown(matrix, i + 1, j);\r\n        }\r\n        return 0;\r\n    }\r\n\r\nbesides... I would suggest you add a checking condition if i or j would be out of bound. \r\n\r\nGet this in your mind. Recursion doesn&#39;t stop until you tell it to. I would get more conditioning statements to prevent the program from behaving in ways you don&#39;t expect it to.","title":"Recursively Sum Matrix Until 0 in Column","body":"<p>I think you got a problem with the return.</p>\n<pre><code>static int searchDown(int[][] matrix, int i, int j) {\n    if (matrix[i][j] &gt; 0) {\n        return matrix[i][j] + searchDown(matrix, i + 1, j);\n    }\n    return 0;\n}\n</code></pre>\n<p>besides... I would suggest you add a checking condition if i or j would be out of bound.</p>\n<p>Get this in your mind. Recursion doesn't stop until you tell it to. I would get more conditioning statements to prevent the program from behaving in ways you don't expect it to.</p>\n"}],"owner":{"account_id":28258596,"reputation":13,"user_id":21603678,"display_name":"Olive Hornby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681221673,"creation_date":1681059949,"question_id":75971850,"body_markdown":"I want to recursively sum a matrix in Java. If the column encounters a 0, only sum the column portion above the zero. I&#39;ve solved using a nested for loop, but I want to solve recursively to better understand recursion.\r\n\r\n\r\n```\r\n    static int solution(int[][] matrix) {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; matrix[0].length; i++) {\r\n            sum += searchDown(matrix, 0, i);\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    static int searchDown(int[][] matrix, int i, int j) {\r\n        if (matrix[i][j] &gt; 0) {\r\n            searchDown(matrix, i + 1, j);\r\n            return matrix[i][j];\r\n        }\r\n        return 0;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        int[][] matrix = new int[][]{\r\n                {0, 1, 1, 2},\r\n                {0, 5, 0, 0},\r\n                {2, 0, 3, 3}\r\n        };\r\n        int sum = solution(matrix);\r\n        System.out.println(sum);\r\n    }\r\n```\r\n\r\n\r\nIt only sums the top row. In the second row, I see 5 being returned in the call stack, but it&#39;s not be added to the sum for sum reason.\r\n\r\n","title":"Recursively Sum Matrix Until 0 in Column","body":"<p>I want to recursively sum a matrix in Java. If the column encounters a 0, only sum the column portion above the zero. I've solved using a nested for loop, but I want to solve recursively to better understand recursion.</p>\n<pre><code>    static int solution(int[][] matrix) {\n        int sum = 0;\n        for (int i = 0; i &lt; matrix[0].length; i++) {\n            sum += searchDown(matrix, 0, i);\n        }\n        return sum;\n    }\n\n    static int searchDown(int[][] matrix, int i, int j) {\n        if (matrix[i][j] &gt; 0) {\n            searchDown(matrix, i + 1, j);\n            return matrix[i][j];\n        }\n        return 0;\n    }\n\n\n    public static void main(String[] args) {\n        int[][] matrix = new int[][]{\n                {0, 1, 1, 2},\n                {0, 5, 0, 0},\n                {2, 0, 3, 3}\n        };\n        int sum = solution(matrix);\n        System.out.println(sum);\n    }\n</code></pre>\n<p>It only sums the top row. In the second row, I see 5 being returned in the call stack, but it's not be added to the sum for sum reason.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1599132629,"post_id":63722675,"comment_id":112682462,"body_markdown":"You can&#39;t put the DLLs into the JAR file. The operating system can&#39;t use them from there. You have to put them into the file system. The difference between `load()` and `loadLibrary()` is fully specified in the Javadoc.","body":"You can&#39;t put the DLLs into the JAR file. The operating system can&#39;t use them from there. You have to put them into the file system. The difference between <code>load()</code> and <code>loadLibrary()</code> is fully specified in the Javadoc."},{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":0,"creation_date":1599132837,"post_id":63722675,"comment_id":112682570,"body_markdown":"Yes, the copyFile method does this job. It copies all the .dll (or .so) to the SO temp folder","body":"Yes, the copyFile method does this job. It copies all the .dll (or .so) to the SO temp folder"},{"owner":{"account_id":4804733,"reputation":2215,"user_id":3880225,"accept_rate":21,"display_name":"cilap"},"score":0,"creation_date":1680241805,"post_id":63722675,"comment_id":133868017,"body_markdown":"Jo&#227;o, how did you solve the issue? Having the same issue right now","body":"Jo&#227;o, how did you solve the issue? Having the same issue right now"},{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":0,"creation_date":1680341187,"post_id":63722675,"comment_id":133884680,"body_markdown":"Hi @cilap, I couldn&#39;t find a solution to pack the DLLs with the jar. What I ended up doing was copying the DLLs to the bin folder together with the application into a docker container.","body":"Hi @cilap, I couldn&#39;t find a solution to pack the DLLs with the jar. What I ended up doing was copying the DLLs to the bin folder together with the application into a docker container."},{"owner":{"account_id":4804733,"reputation":2215,"user_id":3880225,"accept_rate":21,"display_name":"cilap"},"score":0,"creation_date":1680467011,"post_id":63722675,"comment_id":133899485,"body_markdown":"@Jo&#227;oPedroSchmitt was it the java.library.path or a different path?","body":"@Jo&#227;oPedroSchmitt was it the java.library.path or a different path?"},{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":0,"creation_date":1680518661,"post_id":63722675,"comment_id":133906486,"body_markdown":"@cilap, take a look at the answer I posted for my own question. The link might give you a better idea on how I had set it up in the past.","body":"@cilap, take a look at the answer I posted for my own question. The link might give you a better idea on how I had set it up in the past."},{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":0,"creation_date":1681221654,"post_id":63722675,"comment_id":134019171,"body_markdown":"Take a look: https://github.com/schmittjoaopedro/schmittjoaopedro.github.io/blob/gh-pages/assets/other/config_ibex_choco.txt","body":"Take a look: <a href=\"https://github.com/schmittjoaopedro/schmittjoaopedro.github.io/blob/gh-pages/assets/other/config_ibex_choco.txt\" rel=\"nofollow noreferrer\">github.com/schmittjoaopedro/schmittjoaopedro.github.io/blob/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681221637,"creation_date":1599132453,"question_id":63722675,"body_markdown":"I&#39;m using a third party Java library (choco-solver) that depends on another library wrote in C++ (ibex). Also, I have a small project that uses these dependencies, so I need to pack a Jar (myapp.jar) with all these dependencies (choco-solver and ibex). My project will be used by another projects. For now, I&#39;ve bundled all this dependencies in the jar file as in the following example:\r\n\r\n```none\r\nmylib\r\n--+ src\r\n  |--+ main\r\n     |--+ java\r\n     |  |--+ // my code that uses choco-solver+ibex\r\n     |--+ resources\r\n        |--+ platform\r\n           |--+ linux\r\n           |  |--+ // *.so\r\n           |--+ windows\r\n              |--+ // *.dlls\r\n```\r\n\r\nAnd the following code to load these libraries:\r\n\r\n```java\r\npublic static void loadLibraries() {\r\n\tString libPath = createLibFolder();\r\n\tif (libPath != null) {\r\n\t\tif (SystemUtils.IS_OS_WINDOWS) {\r\n\t\t\tloadWindowsDll(libPath, &quot;platform/windows/libgcc_s_dw2-1.dll&quot;);\r\n\t\t\tloadWindowsDll(libPath, &quot;platform/windows/libstdc++-6.dll&quot;);\r\n\t\t\tloadWindowsDll(libPath, &quot;platform/windows/ibex.dll&quot;);\r\n\t\t\tloadWindowsDll(libPath, &quot;platform/windows/ibex-java.dll&quot;);\r\n\t\t} else if (SystemUtils.IS_OS_LINUX) {\r\n\t\t\tloadLinuxSO(libPath, &quot;platform/linux/libibex.so&quot;);\r\n\t\t\tloadLinuxSO(libPath, &quot;platform/linux/libibex-java.so&quot;);\r\n\t\t}\r\n\t}\r\n\tloaded = true;\r\n}\r\n\r\nprivate static void loadWindowsDll(String dllPath, String dllFileName) {\r\n\ttry {\r\n\t\tInputStream in = IbexUtils.class.getClassLoader().getResourceAsStream(dllFileName);\r\n\t\tString dllName = dllFileName.substring(\r\n\t\t\t\tdllFileName.lastIndexOf(&quot;/&quot;) + 1,\r\n\t\t\t\tdllFileName.lastIndexOf(&quot;.&quot;));\r\n\t\tFile temp = Paths.get(dllPath, dllName + &quot;.dll&quot;).toFile();\r\n\t\tcopyFile(in, temp);\r\n\t\tSystem.load(temp.toString());\r\n\t\tSystem.loadLibrary(dllName); // &lt;- Here is the problem\r\n\t} catch (Exception re) {\r\n\t\tre.printStackTrace();\r\n\t\tSystem.exit(1);\r\n\t}\r\n}\r\n```\r\n\r\nIn the source code I highlighted the line that&#39;s causing the problem to me. The external Java library (choco-solver), who uses the C++ library (ibex), load those dependencies using the method:\r\n```java\r\nSystem.loadLibrary(&quot;ibex-java&quot;);\r\n```\r\n\r\nIf I don&#39;t put these jars in the `java.library.path` the `System.loadLibrary` won&#39;t work. One remark is that I don&#39;t want to depend on the configuration of the `java.library.path` because `myapp` is mean to be a maven dependency for other projects. To solve this problem, I would like to pre-load these libraries in myapp.jar. \r\nI tried to use the `System.load` to pre-load the files with the hope that `System.loadLibrary` would re-use this dependencies, it didn&#39;t work.\r\n\r\nMy question are:\r\n* Is possible to pre-load a jar using `System.load` for that `System.loadLibrary` doesn&#39;t depend on checking the `java.library.path` for the dependency?\r\n* There is a better way to pack these external files and configure them without configure the `java.library.path`?","title":"Packing DLLs in Java, difference between &quot;System.load&quot; and &quot;System.loadLibrary&quot;","body":"<p>I'm using a third party Java library (choco-solver) that depends on another library wrote in C++ (ibex). Also, I have a small project that uses these dependencies, so I need to pack a Jar (myapp.jar) with all these dependencies (choco-solver and ibex). My project will be used by another projects. For now, I've bundled all this dependencies in the jar file as in the following example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mylib\n--+ src\n  |--+ main\n     |--+ java\n     |  |--+ // my code that uses choco-solver+ibex\n     |--+ resources\n        |--+ platform\n           |--+ linux\n           |  |--+ // *.so\n           |--+ windows\n              |--+ // *.dlls\n</code></pre>\n<p>And the following code to load these libraries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void loadLibraries() {\n    String libPath = createLibFolder();\n    if (libPath != null) {\n        if (SystemUtils.IS_OS_WINDOWS) {\n            loadWindowsDll(libPath, &quot;platform/windows/libgcc_s_dw2-1.dll&quot;);\n            loadWindowsDll(libPath, &quot;platform/windows/libstdc++-6.dll&quot;);\n            loadWindowsDll(libPath, &quot;platform/windows/ibex.dll&quot;);\n            loadWindowsDll(libPath, &quot;platform/windows/ibex-java.dll&quot;);\n        } else if (SystemUtils.IS_OS_LINUX) {\n            loadLinuxSO(libPath, &quot;platform/linux/libibex.so&quot;);\n            loadLinuxSO(libPath, &quot;platform/linux/libibex-java.so&quot;);\n        }\n    }\n    loaded = true;\n}\n\nprivate static void loadWindowsDll(String dllPath, String dllFileName) {\n    try {\n        InputStream in = IbexUtils.class.getClassLoader().getResourceAsStream(dllFileName);\n        String dllName = dllFileName.substring(\n                dllFileName.lastIndexOf(&quot;/&quot;) + 1,\n                dllFileName.lastIndexOf(&quot;.&quot;));\n        File temp = Paths.get(dllPath, dllName + &quot;.dll&quot;).toFile();\n        copyFile(in, temp);\n        System.load(temp.toString());\n        System.loadLibrary(dllName); // &lt;- Here is the problem\n    } catch (Exception re) {\n        re.printStackTrace();\n        System.exit(1);\n    }\n}\n</code></pre>\n<p>In the source code I highlighted the line that's causing the problem to me. The external Java library (choco-solver), who uses the C++ library (ibex), load those dependencies using the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.loadLibrary(&quot;ibex-java&quot;);\n</code></pre>\n<p>If I don't put these jars in the <code>java.library.path</code> the <code>System.loadLibrary</code> won't work. One remark is that I don't want to depend on the configuration of the <code>java.library.path</code> because <code>myapp</code> is mean to be a maven dependency for other projects. To solve this problem, I would like to pre-load these libraries in myapp.jar.\nI tried to use the <code>System.load</code> to pre-load the files with the hope that <code>System.loadLibrary</code> would re-use this dependencies, it didn't work.</p>\n<p>My question are:</p>\n<ul>\n<li>Is possible to pre-load a jar using <code>System.load</code> for that <code>System.loadLibrary</code> doesn't depend on checking the <code>java.library.path</code> for the dependency?</li>\n<li>There is a better way to pack these external files and configure them without configure the <code>java.library.path</code>?</li>\n</ul>\n"},{"tags":["java","sockets","tcp","udp"],"owner":{"account_id":7745349,"reputation":415,"user_id":5863348,"accept_rate":88,"display_name":"YouHoGeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681221587,"creation_date":1681221587,"question_id":75986762,"body_markdown":"I wrote a code to measure the speed of TCP and UDP.\\\r\nHowever, I have found that UDP is faster than TCP in some cases.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m curious about four things.\r\n1. Why is TCP faster than UDP when the packet size is 400B? (in AWS Ohio region)\r\n2. Why is TCP faster than UDP when the packet size is 4KB? (in all environments)\r\n3. Why is TCP faster than UDP when the packet size is 40KB? (in the local environment)\r\n4. Why are the speeds similar regardless of packet size? (UDP in the AWS Ohio environment)\r\n\r\nBelow is the code I wrote.\r\n* The &#39;currentTimeMillis&#39; value is repeatedly stored in 8Byte units in the packet message. Bit value corruption was detected by checking if the same value is repeated in units of 8 bytes when packets are received.\r\n* The server side sent the same data to the client as soon as it was received. (SendBack)\r\n* The client side created a thread in units of 10 ms and transmitted the packet to the server. (Sender)\r\n\r\n```\r\nimport java.net.*;\r\n\r\npublic class UDPSender { //Send and receive\r\n\r\n    private final DatagramSocket socket;\r\n\r\n    private final String RECEVER_IP;\r\n    private final int PORT;\r\n    private final int SIZE;\r\n    private final int REPEAT;\r\n\r\n    private int COUNT = 0;\r\n    private int WRONG_COUNT = 0;\r\n    private int TIME_SUM = 0;\r\n\r\n    private synchronized void COUNT() { COUNT++; }\r\n    private synchronized void WRONG_COUNT() { WRONG_COUNT++; }\r\n    private synchronized void TIME_SUM(int time) { TIME_SUM += time; }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        if (args.length == 0) args = new String[]{&quot;192.168.1.33&quot;, &quot;53135&quot;, &quot;40000&quot;, &quot;100&quot;};\r\n\r\n        new UDPSender(args[0], Integer.parseInt(args[1]), Integer.parseInt(args[2]), Integer.parseInt(args[3]));\r\n    }\r\n\r\n    public UDPSender(String ip, int port, int size, int repeat) throws Exception {\r\n        this.RECEVER_IP = ip;\r\n        this.PORT = port;\r\n        this.SIZE = size;\r\n        this.REPEAT = repeat;\r\n\r\n        this.socket = new DatagramSocket();\r\n\r\n        for (int i = 1; i &lt;= REPEAT; i++) {\r\n            send(i);\r\n\r\n            Thread.sleep(10);\r\n        }\r\n    }\r\n\r\n    private void send(int id) throws Exception {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                byte[] buffer = createData();\r\n                InetAddress address = InetAddress.getByName(RECEVER_IP);\r\n                DatagramPacket packet = new DatagramPacket(buffer, buffer.length, address, PORT);\r\n\r\n                socket.send(packet);\r\n                System.out.println(id + &quot; messages sent&quot;);\r\n        \r\n                receive(socket);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private void receive(DatagramSocket socket) throws Exception {\r\n        byte[] buffer = new byte[SIZE];\r\n        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n\r\n        socket.receive(packet);\r\n\r\n        long sendTime = validateData(packet.getData());\r\n        long taken = System.currentTimeMillis() - sendTime;\r\n        COUNT();\r\n\r\n        if (sendTime == -1) {\r\n            WRONG_COUNT();\r\n\r\n            return;\r\n        }\r\n\r\n        TIME_SUM((int)taken);\r\n\r\n        System.out.println(COUNT + &quot; messages received (including &quot; + WRONG_COUNT + &quot; wrong message) / Time taken &quot; + taken + &quot;ms (Average &quot; + String.format(&quot;%.3f&quot;, (double)TIME_SUM / COUNT) + &quot;ms)&quot;);\r\n    }\r\n\r\n    private byte[] createData() {\r\n        long currentTime = System.currentTimeMillis();\r\n        byte[] buffer = new byte[SIZE];\r\n\r\n        for (int i = 0; i &lt; SIZE; i += 8) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                buffer[i + j] = (byte) (currentTime &gt;&gt; (56 - (8 * j)));\r\n            }\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n\r\n    private long validateData(byte[] data) {\r\n        long sendTime = -1;\r\n\r\n        for (int i = 0; i &lt; SIZE; i += 8) {\r\n            long time = 0;\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                time |= ((long) data[i + j] &amp; 0xff) &lt;&lt; (56 - (8 * j));\r\n            }\r\n\r\n            if (sendTime != -1 &amp;&amp; time != sendTime) {\r\n                return -1;\r\n            }\r\n\r\n            sendTime = time;\r\n        }\r\n\r\n        return sendTime;\r\n    }\r\n\r\n}\r\n```\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class TCPSender { //Send and receive\r\n\r\n    private final String RECEVER_IP;\r\n    private final int PORT;\r\n    private final int SIZE;\r\n    private final int REPEAT;\r\n\r\n    private int COUNT = 0;\r\n    private int WRONG_COUNT = 0;\r\n    private int TIME_SUM = 0;\r\n\r\n    private synchronized void COUNT() { COUNT++; }\r\n    private synchronized void WRONG_COUNT() { WRONG_COUNT++; }\r\n    private synchronized void TIME_SUM(int time) { TIME_SUM += time; }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        if (args.length == 0) args = new String[]{&quot;192.168.1.33&quot;, &quot;53135&quot;, &quot;40000&quot;, &quot;100&quot;};\r\n    \r\n        new TCPSender(args[0], Integer.parseInt(args[1]), Integer.parseInt(args[2]), Integer.parseInt(args[3]));\r\n    }\r\n\r\n    public TCPSender(String ip, int port, int size, int repeat) throws Exception {\r\n        this.RECEVER_IP = ip;\r\n        this.PORT = port;\r\n        this.SIZE = size;\r\n        this.REPEAT = repeat;\r\n\r\n        for (int i = 1; i &lt;= REPEAT; i++) {\r\n            send(i);\r\n\r\n            Thread.sleep(10);\r\n        }\r\n    }\r\n\r\n    private void send(int id) throws Exception {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                Socket socket = new Socket(RECEVER_IP, PORT);\r\n\r\n                byte[] buffer = createData();\r\n                OutputStream os = socket.getOutputStream();\r\n                os.write(buffer);\r\n                os.flush();\r\n\r\n                System.out.println(id + &quot; messages sent&quot;);\r\n\r\n                receive(socket);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private void receive(Socket socket) throws Exception {\r\n        byte[] buffer = new byte[SIZE];\r\n\r\n        InputStream is = socket.getInputStream();\r\n        int left = SIZE;\r\n        while (left &gt; 0) {\r\n            int read = is.read(buffer, SIZE - left, left);\r\n\r\n            left -= read;\r\n        }\r\n\r\n        long sendTime = validateData(buffer);\r\n        long taken = System.currentTimeMillis() - sendTime;\r\n        COUNT();\r\n\r\n        if (sendTime == -1) {\r\n            WRONG_COUNT();\r\n\r\n            return;\r\n        }\r\n\r\n        TIME_SUM((int)taken);\r\n\r\n        System.out.println(COUNT + &quot; messages received (including &quot; + WRONG_COUNT + &quot; wrong message) / Time taken &quot; + taken + &quot;ms (Average &quot; + String.format(&quot;%.3f&quot;, (double)TIME_SUM / COUNT) + &quot;ms)&quot;);\r\n    }\r\n\r\n    private byte[] createData() {\r\n        long currentTime = System.currentTimeMillis();\r\n        byte[] buffer = new byte[SIZE];\r\n\r\n        for (int i = 0; i &lt; SIZE; i += 8) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                buffer[i + j] = (byte) (currentTime &gt;&gt; (56 - (8 * j)));\r\n            }\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n\r\n    private long validateData(byte[] data) {\r\n        long sendTime = -1;\r\n\r\n        for (int i = 0; i &lt; SIZE; i += 8) {\r\n            long time = 0;\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                time |= ((long) data[i + j] &amp; 0xff) &lt;&lt; (56 - (8 * j));\r\n            }\r\n\r\n            if (sendTime != -1 &amp;&amp; time != sendTime) {\r\n                return -1;\r\n            }\r\n\r\n            sendTime = time;\r\n        }\r\n\r\n        return sendTime;\r\n    }\r\n\r\n}\r\n```\r\n```\r\nimport java.net.*;\r\n\r\nclass UDPSendBack { //Receive and send\r\n\r\n    private final DatagramSocket socket;\r\n    private final int SIZE;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        if (args.length == 0) args = new String[]{&quot;53135&quot;, &quot;40000&quot;};\r\n\r\n        new UDPSendBack(Integer.parseInt(args[0]), Integer.parseInt(args[1]));\r\n    }\r\n\r\n    public UDPSendBack(int port, int size) throws Exception {\r\n        this.SIZE = size;\r\n        this.socket = new DatagramSocket(port);\r\n\r\n        while (true) {\r\n            byte[] buffer = new byte[SIZE];\r\n            DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n            socket.receive(packet);\r\n    \r\n            new Thread(() -&gt; {\r\n                DatagramPacket sendPacket = new DatagramPacket(buffer, buffer.length, packet.getAddress(), packet.getPort());\r\n\r\n                try {\r\n                    socket.send(sendPacket);\r\n        \r\n                    System.out.println(&quot;Received message and send back&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\nclass TCPSendBack { //Receive and send\r\n\r\n    private final ServerSocket serverSocket;\r\n    private final int SIZE;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        if (args.length == 0) args = new String[]{&quot;53135&quot;, &quot;40000&quot;};\r\n\r\n        new TCPSendBack(Integer.parseInt(args[0]), Integer.parseInt(args[1]));\r\n    }\r\n\r\n    public TCPSendBack(int port, int size) throws Exception {\r\n        this.SIZE = size;\r\n        this.serverSocket = new ServerSocket(port);\r\n\r\n        while (true) {\r\n            Socket socket = serverSocket.accept();\r\n    \r\n            new Thread(() -&gt; {\r\n                byte[] data = new byte[SIZE];\r\n                try {\r\n                    InputStream is = socket.getInputStream();\r\n\r\n                    int left = SIZE;\r\n                    while (left &gt; 0) {\r\n                        int read = is.read(data, SIZE - left, left);\r\n\r\n                        left -= read;\r\n                    }\r\n\r\n                    OutputStream os = socket.getOutputStream();\r\n                    os.write(data);\r\n                    os.flush();\r\n\r\n                    System.out.println(&quot;Received message and send back&quot;);\r\n                } catch (IOException e) {\r\n                    return;\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ogvU.png","title":"Why TCP is faster than UDP in my Java code?","body":"<p>I wrote a code to measure the speed of TCP and UDP.<br />\nHowever, I have found that UDP is faster than TCP in some cases.</p>\n<p><a href=\"https://i.stack.imgur.com/1ogvU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ogvU.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm curious about four things.</p>\n<ol>\n<li>Why is TCP faster than UDP when the packet size is 400B? (in AWS Ohio region)</li>\n<li>Why is TCP faster than UDP when the packet size is 4KB? (in all environments)</li>\n<li>Why is TCP faster than UDP when the packet size is 40KB? (in the local environment)</li>\n<li>Why are the speeds similar regardless of packet size? (UDP in the AWS Ohio environment)</li>\n</ol>\n<p>Below is the code I wrote.</p>\n<ul>\n<li>The 'currentTimeMillis' value is repeatedly stored in 8Byte units in the packet message. Bit value corruption was detected by checking if the same value is repeated in units of 8 bytes when packets are received.</li>\n<li>The server side sent the same data to the client as soon as it was received. (SendBack)</li>\n<li>The client side created a thread in units of 10 ms and transmitted the packet to the server. (Sender)</li>\n</ul>\n<pre><code>import java.net.*;\n\npublic class UDPSender { //Send and receive\n\n    private final DatagramSocket socket;\n\n    private final String RECEVER_IP;\n    private final int PORT;\n    private final int SIZE;\n    private final int REPEAT;\n\n    private int COUNT = 0;\n    private int WRONG_COUNT = 0;\n    private int TIME_SUM = 0;\n\n    private synchronized void COUNT() { COUNT++; }\n    private synchronized void WRONG_COUNT() { WRONG_COUNT++; }\n    private synchronized void TIME_SUM(int time) { TIME_SUM += time; }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length == 0) args = new String[]{&quot;192.168.1.33&quot;, &quot;53135&quot;, &quot;40000&quot;, &quot;100&quot;};\n\n        new UDPSender(args[0], Integer.parseInt(args[1]), Integer.parseInt(args[2]), Integer.parseInt(args[3]));\n    }\n\n    public UDPSender(String ip, int port, int size, int repeat) throws Exception {\n        this.RECEVER_IP = ip;\n        this.PORT = port;\n        this.SIZE = size;\n        this.REPEAT = repeat;\n\n        this.socket = new DatagramSocket();\n\n        for (int i = 1; i &lt;= REPEAT; i++) {\n            send(i);\n\n            Thread.sleep(10);\n        }\n    }\n\n    private void send(int id) throws Exception {\n        new Thread(() -&gt; {\n            try {\n                byte[] buffer = createData();\n                InetAddress address = InetAddress.getByName(RECEVER_IP);\n                DatagramPacket packet = new DatagramPacket(buffer, buffer.length, address, PORT);\n\n                socket.send(packet);\n                System.out.println(id + &quot; messages sent&quot;);\n        \n                receive(socket);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n\n    private void receive(DatagramSocket socket) throws Exception {\n        byte[] buffer = new byte[SIZE];\n        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\n\n        socket.receive(packet);\n\n        long sendTime = validateData(packet.getData());\n        long taken = System.currentTimeMillis() - sendTime;\n        COUNT();\n\n        if (sendTime == -1) {\n            WRONG_COUNT();\n\n            return;\n        }\n\n        TIME_SUM((int)taken);\n\n        System.out.println(COUNT + &quot; messages received (including &quot; + WRONG_COUNT + &quot; wrong message) / Time taken &quot; + taken + &quot;ms (Average &quot; + String.format(&quot;%.3f&quot;, (double)TIME_SUM / COUNT) + &quot;ms)&quot;);\n    }\n\n    private byte[] createData() {\n        long currentTime = System.currentTimeMillis();\n        byte[] buffer = new byte[SIZE];\n\n        for (int i = 0; i &lt; SIZE; i += 8) {\n            for (int j = 0; j &lt; 8; j++) {\n                buffer[i + j] = (byte) (currentTime &gt;&gt; (56 - (8 * j)));\n            }\n        }\n\n        return buffer;\n    }\n\n    private long validateData(byte[] data) {\n        long sendTime = -1;\n\n        for (int i = 0; i &lt; SIZE; i += 8) {\n            long time = 0;\n            for (int j = 0; j &lt; 8; j++) {\n                time |= ((long) data[i + j] &amp; 0xff) &lt;&lt; (56 - (8 * j));\n            }\n\n            if (sendTime != -1 &amp;&amp; time != sendTime) {\n                return -1;\n            }\n\n            sendTime = time;\n        }\n\n        return sendTime;\n    }\n\n}\n</code></pre>\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class TCPSender { //Send and receive\n\n    private final String RECEVER_IP;\n    private final int PORT;\n    private final int SIZE;\n    private final int REPEAT;\n\n    private int COUNT = 0;\n    private int WRONG_COUNT = 0;\n    private int TIME_SUM = 0;\n\n    private synchronized void COUNT() { COUNT++; }\n    private synchronized void WRONG_COUNT() { WRONG_COUNT++; }\n    private synchronized void TIME_SUM(int time) { TIME_SUM += time; }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length == 0) args = new String[]{&quot;192.168.1.33&quot;, &quot;53135&quot;, &quot;40000&quot;, &quot;100&quot;};\n    \n        new TCPSender(args[0], Integer.parseInt(args[1]), Integer.parseInt(args[2]), Integer.parseInt(args[3]));\n    }\n\n    public TCPSender(String ip, int port, int size, int repeat) throws Exception {\n        this.RECEVER_IP = ip;\n        this.PORT = port;\n        this.SIZE = size;\n        this.REPEAT = repeat;\n\n        for (int i = 1; i &lt;= REPEAT; i++) {\n            send(i);\n\n            Thread.sleep(10);\n        }\n    }\n\n    private void send(int id) throws Exception {\n        new Thread(() -&gt; {\n            try {\n                Socket socket = new Socket(RECEVER_IP, PORT);\n\n                byte[] buffer = createData();\n                OutputStream os = socket.getOutputStream();\n                os.write(buffer);\n                os.flush();\n\n                System.out.println(id + &quot; messages sent&quot;);\n\n                receive(socket);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n\n    private void receive(Socket socket) throws Exception {\n        byte[] buffer = new byte[SIZE];\n\n        InputStream is = socket.getInputStream();\n        int left = SIZE;\n        while (left &gt; 0) {\n            int read = is.read(buffer, SIZE - left, left);\n\n            left -= read;\n        }\n\n        long sendTime = validateData(buffer);\n        long taken = System.currentTimeMillis() - sendTime;\n        COUNT();\n\n        if (sendTime == -1) {\n            WRONG_COUNT();\n\n            return;\n        }\n\n        TIME_SUM((int)taken);\n\n        System.out.println(COUNT + &quot; messages received (including &quot; + WRONG_COUNT + &quot; wrong message) / Time taken &quot; + taken + &quot;ms (Average &quot; + String.format(&quot;%.3f&quot;, (double)TIME_SUM / COUNT) + &quot;ms)&quot;);\n    }\n\n    private byte[] createData() {\n        long currentTime = System.currentTimeMillis();\n        byte[] buffer = new byte[SIZE];\n\n        for (int i = 0; i &lt; SIZE; i += 8) {\n            for (int j = 0; j &lt; 8; j++) {\n                buffer[i + j] = (byte) (currentTime &gt;&gt; (56 - (8 * j)));\n            }\n        }\n\n        return buffer;\n    }\n\n    private long validateData(byte[] data) {\n        long sendTime = -1;\n\n        for (int i = 0; i &lt; SIZE; i += 8) {\n            long time = 0;\n            for (int j = 0; j &lt; 8; j++) {\n                time |= ((long) data[i + j] &amp; 0xff) &lt;&lt; (56 - (8 * j));\n            }\n\n            if (sendTime != -1 &amp;&amp; time != sendTime) {\n                return -1;\n            }\n\n            sendTime = time;\n        }\n\n        return sendTime;\n    }\n\n}\n</code></pre>\n<pre><code>import java.net.*;\n\nclass UDPSendBack { //Receive and send\n\n    private final DatagramSocket socket;\n    private final int SIZE;\n\n    public static void main(String[] args) throws Exception {\n        if (args.length == 0) args = new String[]{&quot;53135&quot;, &quot;40000&quot;};\n\n        new UDPSendBack(Integer.parseInt(args[0]), Integer.parseInt(args[1]));\n    }\n\n    public UDPSendBack(int port, int size) throws Exception {\n        this.SIZE = size;\n        this.socket = new DatagramSocket(port);\n\n        while (true) {\n            byte[] buffer = new byte[SIZE];\n            DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\n            socket.receive(packet);\n    \n            new Thread(() -&gt; {\n                DatagramPacket sendPacket = new DatagramPacket(buffer, buffer.length, packet.getAddress(), packet.getPort());\n\n                try {\n                    socket.send(sendPacket);\n        \n                    System.out.println(&quot;Received message and send back&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }).start();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>import java.net.*;\nimport java.io.*;\n\nclass TCPSendBack { //Receive and send\n\n    private final ServerSocket serverSocket;\n    private final int SIZE;\n\n    public static void main(String[] args) throws Exception {\n        if (args.length == 0) args = new String[]{&quot;53135&quot;, &quot;40000&quot;};\n\n        new TCPSendBack(Integer.parseInt(args[0]), Integer.parseInt(args[1]));\n    }\n\n    public TCPSendBack(int port, int size) throws Exception {\n        this.SIZE = size;\n        this.serverSocket = new ServerSocket(port);\n\n        while (true) {\n            Socket socket = serverSocket.accept();\n    \n            new Thread(() -&gt; {\n                byte[] data = new byte[SIZE];\n                try {\n                    InputStream is = socket.getInputStream();\n\n                    int left = SIZE;\n                    while (left &gt; 0) {\n                        int read = is.read(data, SIZE - left, left);\n\n                        left -= read;\n                    }\n\n                    OutputStream os = socket.getOutputStream();\n                    os.write(data);\n                    os.flush();\n\n                    System.out.println(&quot;Received message and send back&quot;);\n                } catch (IOException e) {\n                    return;\n                }\n            }).start();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681221265,"creation_date":1681220353,"answer_id":75986565,"question_id":75986463,"body_markdown":"Try this XPATH expression:\r\n````\r\n//input[@id=&#39;mat-input-5&#39;]\r\n````\r\nOr this:\r\n````\r\n//input[@name=&#39;threshold-2&#39;]\r\n````\r\n\r\n1. First check if you can manually inspect the browser and locate the element using above XPATH expression, if yes,\r\n2. Try to apply `waits`. See code below:\r\n````\r\nnew WebDriverWait(driver, Duration.ofSeconds(20)).until(\r\n\t\t\t\tExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@id=&#39;mat-input-5&#39;]&quot;))).click();\r\n````\r\n3. Even after this if you get `Unable to locate element`, then check for the presence of an IFRAME, if there is an iframe, you need to switch the context to IFRAME first\r\nRefer this link if it helps: https://stackoverflow.com/a/75865161/7598774","title":"How to find xpath of a textfield and fill with data?","body":"<p>Try this XPATH expression:</p>\n<pre><code>//input[@id='mat-input-5']\n</code></pre>\n<p>Or this:</p>\n<pre><code>//input[@name='threshold-2']\n</code></pre>\n<ol>\n<li>First check if you can manually inspect the browser and locate the element using above XPATH expression, if yes,</li>\n<li>Try to apply <code>waits</code>. See code below:</li>\n</ol>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(20)).until(\n                ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@id='mat-input-5']&quot;))).click();\n</code></pre>\n<ol start=\"3\">\n<li>Even after this if you get <code>Unable to locate element</code>, then check for the presence of an IFRAME, if there is an iframe, you need to switch the context to IFRAME first\nRefer this link if it helps: <a href=\"https://stackoverflow.com/a/75865161/7598774\">https://stackoverflow.com/a/75865161/7598774</a></li>\n</ol>\n"}],"owner":{"account_id":28275512,"reputation":3,"user_id":21618052,"display_name":"paul04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75986565,"answer_count":1,"score":0,"last_activity_date":1681221265,"creation_date":1681219668,"question_id":75986463,"body_markdown":"im testing an application with seleniun using java,\r\nand trying to find xpath of a textfield.\r\n\r\nAny help, thank you\r\n\r\n\r\n```\r\n&lt;div class=&quot;mat-form-field&quot;&gt;\r\n &lt;input matinput class=&quot;mat-input-element mat-form-field-autofill-monitored&quot; required id=&quot;mat-input-5&quot; name=&quot;threshold-2&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot;&gt;\r\n```\r\n\r\ni tried:\r\n```\r\nxpath = (&quot;//div[@class=&#39;mat-form-field&#39;]&quot;)\r\nxpath = (&quot;//div[@id=&#39;mat-input-5&#39;]&quot;)\r\nxpath = (&quot;//div[@id=&#39;mat-input-element mat-form-field-autofill-monitored&#39;]&quot;)\r\n```\r\n\r\nnone is working for me.\r\nerror received is:\r\nno such element: Unable to located element\r\n\r\n There is also a text label for the textfield which is:\r\n\r\n```\r\n&lt;label class=&#39;mat-form-field-label ng-tn&gt;&#39; id=&#39;mat-form-field-label-100&#39; for=&#39;mat-input-10&#39; aria-owns=&#39;mat-input-20&#39;&gt;\r\n&lt;!----&gt;\r\n&lt;mat-label class=&#39;ng-tns-c87 ng-star-inserted&#39;&gt;Enter value here please&lt;mat-label class/&gt;\r\n```\r\n\r\nSo i tried:\r\n`xpath = &quot;//div[contains(text(), &#39;Enter value here please&#39;]&quot;`\r\n\r\nerror received is:\r\nno such element: Unable to located element","title":"How to find xpath of a textfield and fill with data?","body":"<p>im testing an application with seleniun using java,\nand trying to find xpath of a textfield.</p>\n<p>Any help, thank you</p>\n<pre><code>&lt;div class=&quot;mat-form-field&quot;&gt;\n &lt;input matinput class=&quot;mat-input-element mat-form-field-autofill-monitored&quot; required id=&quot;mat-input-5&quot; name=&quot;threshold-2&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot;&gt;\n</code></pre>\n<p>i tried:</p>\n<pre><code>xpath = (&quot;//div[@class='mat-form-field']&quot;)\nxpath = (&quot;//div[@id='mat-input-5']&quot;)\nxpath = (&quot;//div[@id='mat-input-element mat-form-field-autofill-monitored']&quot;)\n</code></pre>\n<p>none is working for me.\nerror received is:\nno such element: Unable to located element</p>\n<p>There is also a text label for the textfield which is:</p>\n<pre><code>&lt;label class='mat-form-field-label ng-tn&gt;' id='mat-form-field-label-100' for='mat-input-10' aria-owns='mat-input-20'&gt;\n&lt;!----&gt;\n&lt;mat-label class='ng-tns-c87 ng-star-inserted'&gt;Enter value here please&lt;mat-label class/&gt;\n</code></pre>\n<p>So i tried:\n<code>xpath = &quot;//div[contains(text(), 'Enter value here please']&quot;</code></p>\n<p>error received is:\nno such element: Unable to located element</p>\n"},{"tags":["java","spring","spring-webflux","reactive"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1681211612,"post_id":75985205,"comment_id":134016480,"body_markdown":"Read Content-Disposition of each part. If it has a parameter called filename, then ignore, else read it normally.","body":"Read Content-Disposition of each part. If it has a parameter called filename, then ignore, else read it normally."},{"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"score":0,"creation_date":1681215839,"post_id":75985205,"comment_id":134017428,"body_markdown":"Can you write some example? I am afraid that dividing into parts will require Reader, too, that has limited buffer, or am I wrong?","body":"Can you write some example? I am afraid that dividing into parts will require Reader, too, that has limited buffer, or am I wrong?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1681216215,"post_id":75985205,"comment_id":134017512,"body_markdown":"There&#39;s already an answer, please check.","body":"There&#39;s already an answer, please check."},{"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"score":0,"creation_date":1681220653,"post_id":75985205,"comment_id":134018856,"body_markdown":"unfortunately, it doesn&#39;t match my case, because my aim not to keep request body in memory. If I am not mistaken","body":"unfortunately, it doesn&#39;t match my case, because my aim not to keep request body in memory. If I am not mistaken"}],"answers":[{"tags":[],"owner":{"account_id":2571786,"reputation":1434,"user_id":2230325,"display_name":"rMonteiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681220965,"creation_date":1681213201,"answer_id":75985470,"question_id":75985205,"body_markdown":"Yes, you can read only text values from a `multipart/form-data` request in Spring WebFlux without deserializing file content. \r\n\r\nUse the `Flux&lt;DataBuffer&gt;` to process the request parts one by one and extract the text values without fully loading the file content into memory.\r\n\r\nDefine a custom `PartProcessor`:\r\n```\r\npublic class TextPartProcessor implements PartProcessor {\r\n\r\n    private final Map&lt;String, String&gt; textValues;\r\n\r\n    public TextPartProcessor() {\r\n        this.textValues = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; processPart(Part part) {\r\n        if (part instanceof FilePart) {\r\n            // Ignore file parts\r\n            return Mono.empty();\r\n        } else if (part instanceof FormFieldPart) {\r\n            FormFieldPart formFieldPart = (FormFieldPart) part;\r\n            textValues.put(formFieldPart.name(), formFieldPart.value());\r\n        }\r\n        return Mono.empty();\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getTextValues() {\r\n        return textValues;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe controller processes the `ServerWebExchange` to extract the text values:\r\n```\r\n@PostMapping(&quot;/test&quot;)\r\npublic Mono&lt;ResponseEntity&lt;Map&lt;String, String&gt;&gt;&gt; handleRequest(ServerWebExchange exchange) {\r\n    TextPartProcessor textPartProcessor = new TextPartProcessor();\r\n\r\n    return exchange.getMultipartResolver()\r\n            .resolveMultipart(exchange)\r\n            .flatMapMany(multipart -&gt; Flux.fromIterable(multipart.getParts()))\r\n            .concatMap(part -&gt; part.content().concatMap(dataBuffer -&gt; textPartProcessor.processPart(part)))\r\n            .then(Mono.just(ResponseEntity.ok(textPartProcessor.getTextValues())));\r\n}\r\n\r\n```\r\n\r\nThis will process the request parts and store only the text values in the `TextPartProcessor` instance. File parts are ignored, and their content is not deserialized, which should help you avoid exceeding the default buffer capacity.","title":"Selectively read content of body in multipart/form-data request in Spring WebFlux","body":"<p>Yes, you can read only text values from a <code>multipart/form-data</code> request in Spring WebFlux without deserializing file content.</p>\n<p>Use the <code>Flux&lt;DataBuffer&gt;</code> to process the request parts one by one and extract the text values without fully loading the file content into memory.</p>\n<p>Define a custom <code>PartProcessor</code>:</p>\n<pre><code>public class TextPartProcessor implements PartProcessor {\n\n    private final Map&lt;String, String&gt; textValues;\n\n    public TextPartProcessor() {\n        this.textValues = new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public Mono&lt;Void&gt; processPart(Part part) {\n        if (part instanceof FilePart) {\n            // Ignore file parts\n            return Mono.empty();\n        } else if (part instanceof FormFieldPart) {\n            FormFieldPart formFieldPart = (FormFieldPart) part;\n            textValues.put(formFieldPart.name(), formFieldPart.value());\n        }\n        return Mono.empty();\n    }\n\n    public Map&lt;String, String&gt; getTextValues() {\n        return textValues;\n    }\n}\n\n</code></pre>\n<p>The controller processes the <code>ServerWebExchange</code> to extract the text values:</p>\n<pre><code>@PostMapping(&quot;/test&quot;)\npublic Mono&lt;ResponseEntity&lt;Map&lt;String, String&gt;&gt;&gt; handleRequest(ServerWebExchange exchange) {\n    TextPartProcessor textPartProcessor = new TextPartProcessor();\n\n    return exchange.getMultipartResolver()\n            .resolveMultipart(exchange)\n            .flatMapMany(multipart -&gt; Flux.fromIterable(multipart.getParts()))\n            .concatMap(part -&gt; part.content().concatMap(dataBuffer -&gt; textPartProcessor.processPart(part)))\n            .then(Mono.just(ResponseEntity.ok(textPartProcessor.getTextValues())));\n}\n\n</code></pre>\n<p>This will process the request parts and store only the text values in the <code>TextPartProcessor</code> instance. File parts are ignored, and their content is not deserialized, which should help you avoid exceeding the default buffer capacity.</p>\n"}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681220965,"creation_date":1681211460,"question_id":75985205,"body_markdown":"I have request with Content-Type: multipart/form-data, for example\r\n```\r\nPOST http://myUrl/test\r\nHEADERS\r\nContent-Type: multipart/form-data; boundary=xxxx\r\n\r\n--xxxx\r\nContent-Disposition: form-data; name=&quot;image&quot;; filename=&quot;image.jpg&quot;\r\n\r\n&lt;content of file&gt;\r\n--xxxx\r\nContent-Disposition: form-data; name=&quot;text1&quot;\r\n\r\ntext value\r\n...\r\n```\r\n\r\nThere are different types of content sending in request body, but I want to get from this request only text values, and not deserialize file content, because when I read heavy request, I exceed default buffer capacity, and increasing buffer capacity is not an option.\r\n \r\nIs it possible to do?","title":"Selectively read content of body in multipart/form-data request in Spring WebFlux","body":"<p>I have request with Content-Type: multipart/form-data, for example</p>\n<pre><code>POST http://myUrl/test\nHEADERS\nContent-Type: multipart/form-data; boundary=xxxx\n\n--xxxx\nContent-Disposition: form-data; name=&quot;image&quot;; filename=&quot;image.jpg&quot;\n\n&lt;content of file&gt;\n--xxxx\nContent-Disposition: form-data; name=&quot;text1&quot;\n\ntext value\n...\n</code></pre>\n<p>There are different types of content sending in request body, but I want to get from this request only text values, and not deserialize file content, because when I read heavy request, I exceed default buffer capacity, and increasing buffer capacity is not an option.</p>\n<p>Is it possible to do?</p>\n"},{"tags":["java","android","openstreetmap","tile","openweathermap"],"comments":[{"owner":{"account_id":1414758,"reputation":20542,"user_id":1340631,"accept_rate":75,"display_name":"scai"},"score":0,"creation_date":1681220275,"post_id":75986502,"comment_id":134018733,"body_markdown":"Please mention the library / framework this question is about. OpenStreetMap is just raw data but not something you could add tiles to.","body":"Please mention the library / framework this question is about. OpenStreetMap is just raw data but not something you could add tiles to."},{"owner":{"account_id":1414758,"reputation":20542,"user_id":1340631,"accept_rate":75,"display_name":"scai"},"score":0,"creation_date":1681290011,"post_id":75986502,"comment_id":134031150,"body_markdown":"Cross-post: https://help.openstreetmap.org/questions/87099/openweather-api-tiles","body":"Cross-post: <a href=\"https://help.openstreetmap.org/questions/87099/openweather-api-tiles\" rel=\"nofollow noreferrer\" title=\"openweather api tiles\">help.openstreetmap.org/questions/87099/openweather-api-tiles</a>"}],"owner":{"account_id":27917304,"reputation":1,"user_id":21318189,"display_name":"VishaL RaJpuT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681220957,"creation_date":1681219885,"question_id":75986502,"body_markdown":"I&#39;m not able to set openweather api tiles on openstreet map, I don&#39;t want to use google map if any other map available outside google map please suggest.\r\n\r\nI want to load different types of openweather api tiles on my map but I don&#39;t want to use google map.","title":"how to set openweather api tiles to openstreet map in android?","body":"<p>I'm not able to set openweather api tiles on openstreet map, I don't want to use google map if any other map available outside google map please suggest.</p>\n<p>I want to load different types of openweather api tiles on my map but I don't want to use google map.</p>\n"},{"tags":["java","pdfbox","digital-signature","x509certificate","certify"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681289926,"post_id":75986569,"comment_id":134031127,"body_markdown":"The message is correct, though, isn&#39;t it?","body":"The message is correct, though, isn&#39;t it?"}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681220361,"creation_date":1681220361,"question_id":75986569,"body_markdown":"I am adding certifying signature using pdfbox. It is working fine but after adding LTV information, it is showing the message in acrobat that &quot;Changes have been made to this document that are permitted by the certifying party&quot;. I am referring [this link](https://svn.apache.org/repos/asf/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/AddValidationInformation.java) for adding LTV information.\r\n\r\nHow can I resolve this issue?\r\n\r\nFor certifying signature I am setting MDP permission as 2. ","title":"pdfbox - After LTV Certification Signature, PDF shows &quot;Document has been Changed&quot;","body":"<p>I am adding certifying signature using pdfbox. It is working fine but after adding LTV information, it is showing the message in acrobat that &quot;Changes have been made to this document that are permitted by the certifying party&quot;. I am referring <a href=\"https://svn.apache.org/repos/asf/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/AddValidationInformation.java\" rel=\"nofollow noreferrer\">this link</a> for adding LTV information.</p>\n<p>How can I resolve this issue?</p>\n<p>For certifying signature I am setting MDP permission as 2.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681220114,"creation_date":1681220114,"answer_id":75986531,"question_id":75983044,"body_markdown":"You need a circuit breaker that calls pause/close on the consumer instance in that scenario.\r\n\r\nThen some background thread to ping your service, and restart the consumer again.\r\n\r\nKafka doesn&#39;t come with any utilities to do this for you.\r\n\r\nOtherwise, let the consumer fail. Disable auto commits, and data will still remain retained in the topic. However, you&#39;ll still need to pause/close to not get endless exceptions while the consumer is running.\r\n\r\nSidenote: Kafka Connect framework should ideally be used here instead, as it has builtin fault tolerance features ","title":"How to handle unconsumed message in kafka without using the DLQ","body":"<p>You need a circuit breaker that calls pause/close on the consumer instance in that scenario.</p>\n<p>Then some background thread to ping your service, and restart the consumer again.</p>\n<p>Kafka doesn't come with any utilities to do this for you.</p>\n<p>Otherwise, let the consumer fail. Disable auto commits, and data will still remain retained in the topic. However, you'll still need to pause/close to not get endless exceptions while the consumer is running.</p>\n<p>Sidenote: Kafka Connect framework should ideally be used here instead, as it has builtin fault tolerance features</p>\n"}],"owner":{"account_id":28272157,"reputation":15,"user_id":21615169,"display_name":"Aayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75986531,"answer_count":1,"score":0,"last_activity_date":1681220114,"creation_date":1681195209,"question_id":75983044,"body_markdown":"I am producing messages using kafka to the particular topic, and listening the messages using particular consumer. Inside the consumer, calling an external api that is responsible to consumed the messages. \r\n\r\nI want to handle unconsumed messages, if the api is down or fail without stopping and restarting the consumer application. How can i do this ?","title":"How to handle unconsumed message in kafka without using the DLQ","body":"<p>I am producing messages using kafka to the particular topic, and listening the messages using particular consumer. Inside the consumer, calling an external api that is responsible to consumed the messages.</p>\n<p>I want to handle unconsumed messages, if the api is down or fail without stopping and restarting the consumer application. How can i do this ?</p>\n"},{"tags":["java","maven","reflection","java-17","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1681405517,"post_id":75984097,"comment_id":134054836,"body_markdown":"When does the exception happen? When you compile the project, or when you run it? (This makes a big difference.) Also, can you try to get the stack trace?","body":"When does the exception happen? When you compile the project, or when you run it? (This makes a big difference.) Also, can you try to get the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1681219878,"creation_date":1681219878,"answer_id":75986500,"question_id":75984097,"body_markdown":"Although it is generally not recommended, it is possible to make a field accessible by changing memory directly using unsafe reflection.\r\n\r\n    public static void forceAccessible(AccessibleObject ao) {\r\n        try {\r\n            Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            unsafeField.setAccessible(true);\r\n            ((Unsafe) unsafeField.get(null)).putBoolean(ao, 12, true);\r\n        } catch (IllegalAccessException|NoSuchFieldException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis code uses unsafe reflection to change the value of field &quot;override&quot; directly in memory. This field determines whether or not the field is accessible.","title":"How to solve java.lang.reflect.InaccessibleObjectException in a maven spring project?","body":"<p>Although it is generally not recommended, it is possible to make a field accessible by changing memory directly using unsafe reflection.</p>\n<pre><code>public static void forceAccessible(AccessibleObject ao) {\n    try {\n        Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        unsafeField.setAccessible(true);\n        ((Unsafe) unsafeField.get(null)).putBoolean(ao, 12, true);\n    } catch (IllegalAccessException|NoSuchFieldException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This code uses unsafe reflection to change the value of field &quot;override&quot; directly in memory. This field determines whether or not the field is accessible.</p>\n"}],"owner":{"account_id":28273108,"reputation":129,"user_id":21615992,"display_name":"pinacolada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1681219878,"creation_date":1681203556,"question_id":75984097,"body_markdown":"I wanted to update a spring application built with maven from java 8 to java 17 but because of the Java Platform Module System, I got the following exception:\r\n`Unable to make field private byte[] javax.crypto.spec.SecretKeySpec.key accessible: module java.base does not &quot;opens javax.crypto.spec&quot; to unnamed module @234523ab`.\r\n\r\nAs I read in previous posts, I tried to open the package `javax.crypto.spec` to all unnamed modules by adding the following plugin to my `pom.xml` file:\r\n\r\n```\r\n&lt;plugin&gt; \r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;@{argLine}\r\n      --add-opens java.base/javax.crypto.spec=ALL-UNNAMED\r\n    &lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nHowever, I still get the same exception. Does anyone know how to fix this problem within a maven spring application? \r\nAlso, I read that ``--add-opens`` should only be used as a work-around, so does anyone knows a better solution?","title":"How to solve java.lang.reflect.InaccessibleObjectException in a maven spring project?","body":"<p>I wanted to update a spring application built with maven from java 8 to java 17 but because of the Java Platform Module System, I got the following exception:\n<code>Unable to make field private byte[] javax.crypto.spec.SecretKeySpec.key accessible: module java.base does not &quot;opens javax.crypto.spec&quot; to unnamed module @234523ab</code>.</p>\n<p>As I read in previous posts, I tried to open the package <code>javax.crypto.spec</code> to all unnamed modules by adding the following plugin to my <code>pom.xml</code> file:</p>\n<pre><code>&lt;plugin&gt; \n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;@{argLine}\n      --add-opens java.base/javax.crypto.spec=ALL-UNNAMED\n    &lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However, I still get the same exception. Does anyone know how to fix this problem within a maven spring application?\nAlso, I read that <code>--add-opens</code> should only be used as a work-around, so does anyone knows a better solution?</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1637937221,"post_id":70124745,"comment_id":123963058,"body_markdown":"I don&#39;t think such conditions can be expressed using annotations. It&#39;s best to keep `nullable=true` and check for nulls elsewhere.","body":"I don&#39;t think such conditions can be expressed using annotations. It&#39;s best to keep <code>nullable=true</code> and check for nulls elsewhere."},{"owner":{"account_id":14932927,"reputation":117,"user_id":14923814,"display_name":" "},"score":0,"creation_date":1637939972,"post_id":70124745,"comment_id":123964104,"body_markdown":"@Helen thanks you , i think its realy the single good idea","body":"@Helen thanks you , i think its realy the single good idea"}],"owner":{"account_id":14932927,"reputation":117,"user_id":14923814,"display_name":" "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681219813,"creation_date":1637931127,"question_id":70124745,"body_markdown":"here is simple java class\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class Response {\r\n\r\n    @Schema(required = true)\r\n    private Long id;\r\n    \r\n    @Schema(required = true, enumAsRef = true)\r\n    private ChannelType type;\r\n         \r\n    @Schema(required = true, nullable = true)\r\n    private Mailing mailing;\r\n\r\n    // ...\r\n}\r\n```\r\nand what I need to do \r\nif `type == EMAIL` I should do this \r\n\r\n```java\r\n@Schema(required = true)\r\nprivate Mailing mailing;\r\n```\r\n\r\nif type != EMAIL  I should do this \r\n\r\n```java\r\n@Schema(required = true, nullable = true)\r\nprivate Mailing mailing;\r\n```\r\nit means if type is email filed mailing cant be null and in other ways it can null\r\n\r\nis there any way to do it without do java inherit classes ","title":"Modify field annotation based on condition of another","body":"<p>here is simple java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class Response {\n\n    @Schema(required = true)\n    private Long id;\n    \n    @Schema(required = true, enumAsRef = true)\n    private ChannelType type;\n         \n    @Schema(required = true, nullable = true)\n    private Mailing mailing;\n\n    // ...\n}\n</code></pre>\n<p>and what I need to do\nif <code>type == EMAIL</code> I should do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(required = true)\nprivate Mailing mailing;\n</code></pre>\n<p>if type != EMAIL  I should do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(required = true, nullable = true)\nprivate Mailing mailing;\n</code></pre>\n<p>it means if type is email filed mailing cant be null and in other ways it can null</p>\n<p>is there any way to do it without do java inherit classes</p>\n"},{"tags":["java","enums","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":28200485,"reputation":56,"user_id":21554347,"display_name":"VojtechCLV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681219594,"creation_date":1681219594,"answer_id":75986444,"question_id":75986214,"body_markdown":"I tried to replicate your issue as I was working with openapi-generator at the moment, and I encountered the same issue. What resolved it for me was including extra option in the plugin configuration block in my `pom.xml` as follows\r\n\r\n    &lt;configuration&gt;\r\n\t\t\t&lt;additionalProperties&gt;removeEnumValuePrefix=false&lt;/additionalProperties&gt;\r\n    &lt;/configuration&gt;\r\nHope that helps in your case as well, hopefully you don&#39;t need those prefixes actually removed somewhere else. \r\n\r\nI am using version 6.4.0 of the `openapi-generator-maven-plugin`","title":"openapi-generator cuts beginning of enum names in generated class","body":"<p>I tried to replicate your issue as I was working with openapi-generator at the moment, and I encountered the same issue. What resolved it for me was including extra option in the plugin configuration block in my <code>pom.xml</code> as follows</p>\n<pre><code>&lt;configuration&gt;\n        &lt;additionalProperties&gt;removeEnumValuePrefix=false&lt;/additionalProperties&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Hope that helps in your case as well, hopefully you don't need those prefixes actually removed somewhere else.</p>\n<p>I am using version 6.4.0 of the <code>openapi-generator-maven-plugin</code></p>\n"}],"owner":{"account_id":19190339,"reputation":411,"user_id":14020194,"display_name":"fbnrbn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75986444,"answer_count":1,"score":0,"last_activity_date":1681219594,"creation_date":1681218207,"question_id":75986214,"body_markdown":"Openapi-generator cuts beginning of enum names starting with &quot;SB_&quot;. I don&#39;t understand why this happens or how to fix this. \r\n\r\nThis is a part of my openapi.yaml:\r\n\r\n```\r\n...\r\nsb:\r\n  type: string\r\n  enum:\r\n    - SB_150_150\r\n    - SB_300_150\r\n...\r\n```\r\n\r\nThis is the generated class:\r\n\r\n```\r\n  public enum SbEnum {\r\n    ...\r\n    _150_150(&quot;SB_150_150&quot;)\r\n    _300_150(&quot;SB_300_150&quot;)\r\n    ...\r\n  }\r\n```\r\n\r\nWhen I delete the first underscore from the first enum name the rest of enum names is generated correctly. \r\n\r\nHow can I achieve a result like this?\r\n\r\n```\r\n  public enum SbEnum {\r\n    ...\r\n    SB_150_150(&quot;SB_150_150&quot;)\r\n    SB_300_150(&quot;SB_300_150&quot;)\r\n    ...\r\n  }\r\n```","title":"openapi-generator cuts beginning of enum names in generated class","body":"<p>Openapi-generator cuts beginning of enum names starting with &quot;SB_&quot;. I don't understand why this happens or how to fix this.</p>\n<p>This is a part of my openapi.yaml:</p>\n<pre><code>...\nsb:\n  type: string\n  enum:\n    - SB_150_150\n    - SB_300_150\n...\n</code></pre>\n<p>This is the generated class:</p>\n<pre><code>  public enum SbEnum {\n    ...\n    _150_150(&quot;SB_150_150&quot;)\n    _300_150(&quot;SB_300_150&quot;)\n    ...\n  }\n</code></pre>\n<p>When I delete the first underscore from the first enum name the rest of enum names is generated correctly.</p>\n<p>How can I achieve a result like this?</p>\n<pre><code>  public enum SbEnum {\n    ...\n    SB_150_150(&quot;SB_150_150&quot;)\n    SB_300_150(&quot;SB_300_150&quot;)\n    ...\n  }\n</code></pre>\n"},{"tags":["java","eclipse","lucene"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1449504710,"post_id":34138038,"comment_id":56023947,"body_markdown":"Yes, because the class isn&#39;t called `Example.java`, it&#39;s called `Example`. You specify the name of a class, not the name of a file. This is bound to be a duplicate - will see if I can find one...","body":"Yes, because the class isn&#39;t called <code>Example.java</code>, it&#39;s called <code>Example</code>. You specify the name of a class, not the name of a file. This is bound to be a duplicate - will see if I can find one..."}],"answers":[{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449504768,"creation_date":1449504706,"answer_id":34138097,"question_id":34138038,"body_markdown":"This should to the trick - don&#39;t append .java \r\n\r\n    C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example","title":"Error: Could not find or load main class","body":"<p>This should to the trick - don't append .java </p>\n\n<pre><code>C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449562719,"creation_date":1449504719,"answer_id":34138103,"question_id":34138038,"body_markdown":"&gt; C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example.java\r\n\r\nwill not run - take out the .java part and simply run\r\n\r\n    C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example\r\n\r\n\r\nTo make sure you do not have an issue with your `CLASSPATH` variable, do\r\n\r\n    set CLASSPATH=\r\n    java Example\r\n\r\nIf that is the issue, your classpath variable gets corrupted, you can go to the Control Panel, somewhere in the advanced section to update environment variables.","title":"Error: Could not find or load main class","body":"<blockquote>\n  <p>C:\\Users\\User5\\Documents\\eclipse\\test>java Example.java</p>\n</blockquote>\n\n<p>will not run - take out the .java part and simply run</p>\n\n<pre><code>C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example\n</code></pre>\n\n<p>To make sure you do not have an issue with your <code>CLASSPATH</code> variable, do</p>\n\n<pre><code>set CLASSPATH=\njava Example\n</code></pre>\n\n<p>If that is the issue, your classpath variable gets corrupted, you can go to the Control Panel, somewhere in the advanced section to update environment variables.</p>\n"},{"tags":[],"owner":{"account_id":7408954,"reputation":21,"user_id":5636973,"display_name":"JerrittPace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449506218,"creation_date":1449506218,"answer_id":34138592,"question_id":34138038,"body_markdown":"I think I need to make this in a larger post:\r\n\r\nC:\\Users\\User5\\Documents\\java\\test&gt;java Example\r\nError: Could not find or load main class Example\r\n\r\nI just accidentally posted the wrong copy to the original post here, but the file is not running as just a call to the file.  This is not the only file I cannot get running; nothing will run in the cmd prompt, although everthing runs fine in eclipse.\r\n\r\nThank you&#39;all for your help, I really appreciate you!!","title":"Error: Could not find or load main class","body":"<p>I think I need to make this in a larger post:</p>\n\n<p>C:\\Users\\User5\\Documents\\java\\test>java Example\nError: Could not find or load main class Example</p>\n\n<p>I just accidentally posted the wrong copy to the original post here, but the file is not running as just a call to the file.  This is not the only file I cannot get running; nothing will run in the cmd prompt, although everthing runs fine in eclipse.</p>\n\n<p>Thank you'all for your help, I really appreciate you!!</p>\n"},{"tags":[],"owner":{"account_id":9874282,"reputation":1,"user_id":7312662,"display_name":"dikoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592853989,"creation_date":1592853989,"answer_id":62522034,"question_id":34138038,"body_markdown":"I got the same error when I needed to take inputs(arguements) at runtime using terminal/Command prompt and corrected it it by compiling and running the java class as below:\r\n \r\n- javac packageName/Example.java\r\n- java packageName/Example\r\n\r\nNOTE: The reason for this error in my case was that the java class was created inside a package and that required compilation and execution in a different way as above mentioned.","title":"Error: Could not find or load main class","body":"<p>I got the same error when I needed to take inputs(arguements) at runtime using terminal/Command prompt and corrected it it by compiling and running the java class as below:</p>\n<ul>\n<li>javac packageName/Example.java</li>\n<li>java packageName/Example</li>\n</ul>\n<p>NOTE: The reason for this error in my case was that the java class was created inside a package and that required compilation and execution in a different way as above mentioned.</p>\n"},{"tags":[],"owner":{"account_id":16422774,"reputation":344,"user_id":11863582,"display_name":"Zia Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681219366,"creation_date":1681219366,"answer_id":75986404,"question_id":34138038,"body_markdown":"**The reason could be any ... try resolving this.**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xUjdI.png","title":"Error: Could not find or load main class","body":"<p><strong>The reason could be any ... try resolving this.</strong>\n<a href=\"https://i.stack.imgur.com/xUjdI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xUjdI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7408954,"reputation":21,"user_id":5636973,"display_name":"JerrittPace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1681219366,"creation_date":1449504510,"question_id":34138038,"body_markdown":"I am trying to run a java file in the cmd prompt in Windows 7.\r\n\r\nI get the error:\r\n\r\n    Error: Could not find or load main class \r\n\r\nI actually just save a new simple file to check if there were problems with the package inside eclipse; this new file is saved just as: \r\n\r\n    C:\\Users\\User5\\Documents\\eclipse\\test\\Example.java\r\n\r\n    class Example {\r\n    \t// A Java program begins with a call to main().\r\n    \tpublic static void main(String args[]) {\r\n    \tSystem.out.println(&quot;Test.&quot;);\r\n    \t}\r\n    }\r\n\r\nI changed the `classpath` for lucene&#39;s jar&#39;s recently, and I am not really sure if this is the problem.\r\n\r\nThere are many other threads about this issue, such as:\r\n\r\nhttps://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class\r\n\r\nbut, there seem to be other concerns that solved their issues.  \r\n\r\nIn this case, I have saved just a plain file in notepad, and while I can get the file to compile, and it seems to create the class file, it is still spitting this error back.  \r\n\r\nThis is the dir, which seems to show that the class is there:\r\n\r\n    C:\\Users\\User5\\Documents\\eclipse\\test&gt;dir\r\n     Volume in drive C has no label.\r\n     Volume Serial Number is 3E0D-3B82\r\n     Directory of C:\\Users\\User5\\Documents\\eclipse\\test\r\n    \r\n    12/07/2015  10:15 AM    &lt;DIR&gt;          .\r\n    12/07/2015  10:15 AM    &lt;DIR&gt;          ..\r\n    12/07/2015  10:04 AM               301 .classpath\r\n    12/07/2015  10:04 AM               380 .project\r\n    12/07/2015  10:04 AM    &lt;DIR&gt;          .settings\r\n    12/07/2015  10:05 AM    &lt;DIR&gt;          bin\r\n    12/07/2015  10:51 AM               428 Example.class\r\n    12/07/2015  10:15 AM               162 Example.java\r\n    12/07/2015  10:05 AM    &lt;DIR&gt;          src\r\n                   4 File(s)          1,271 bytes\r\n                   5 Dir(s)  10,000,461,824 bytes free\r\n\r\n&lt;/br&gt;\r\n\r\n    C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example.java\r\n    Error: Could not find or load main class Example.java\r\n\r\n\r\n\r\n","title":"Error: Could not find or load main class","body":"<p>I am trying to run a java file in the cmd prompt in Windows 7.</p>\n\n<p>I get the error:</p>\n\n<pre><code>Error: Could not find or load main class \n</code></pre>\n\n<p>I actually just save a new simple file to check if there were problems with the package inside eclipse; this new file is saved just as: </p>\n\n<pre><code>C:\\Users\\User5\\Documents\\eclipse\\test\\Example.java\n\nclass Example {\n    // A Java program begins with a call to main().\n    public static void main(String args[]) {\n    System.out.println(\"Test.\");\n    }\n}\n</code></pre>\n\n<p>I changed the <code>classpath</code> for lucene's jar's recently, and I am not really sure if this is the problem.</p>\n\n<p>There are many other threads about this issue, such as:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class\">Could not find or load main class</a></p>\n\n<p>but, there seem to be other concerns that solved their issues.  </p>\n\n<p>In this case, I have saved just a plain file in notepad, and while I can get the file to compile, and it seems to create the class file, it is still spitting this error back.  </p>\n\n<p>This is the dir, which seems to show that the class is there:</p>\n\n<pre><code>C:\\Users\\User5\\Documents\\eclipse\\test&gt;dir\n Volume in drive C has no label.\n Volume Serial Number is 3E0D-3B82\n Directory of C:\\Users\\User5\\Documents\\eclipse\\test\n\n12/07/2015  10:15 AM    &lt;DIR&gt;          .\n12/07/2015  10:15 AM    &lt;DIR&gt;          ..\n12/07/2015  10:04 AM               301 .classpath\n12/07/2015  10:04 AM               380 .project\n12/07/2015  10:04 AM    &lt;DIR&gt;          .settings\n12/07/2015  10:05 AM    &lt;DIR&gt;          bin\n12/07/2015  10:51 AM               428 Example.class\n12/07/2015  10:15 AM               162 Example.java\n12/07/2015  10:05 AM    &lt;DIR&gt;          src\n               4 File(s)          1,271 bytes\n               5 Dir(s)  10,000,461,824 bytes free\n</code></pre>\n\n<p></p>\n\n<pre><code>C:\\Users\\User5\\Documents\\eclipse\\test&gt;java Example.java\nError: Could not find or load main class Example.java\n</code></pre>\n"},{"tags":["java","maven","microservices","maven-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1681117637,"post_id":75971953,"comment_id":134000739,"body_markdown":"do you have a `.mvn/maven.config` in your project? each item must be in separate line","body":"do you have a <code>.mvn&#47;maven.config</code> in your project? each item must be in separate line"},{"owner":{"account_id":28258313,"reputation":1,"user_id":21603454,"display_name":"Mohit"},"score":0,"creation_date":1681125590,"post_id":75971953,"comment_id":134002033,"body_markdown":"@SlawomirJaranowski yes I have","body":"@SlawomirJaranowski yes I have"}],"owner":{"account_id":28258313,"reputation":1,"user_id":21603454,"display_name":"Mohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681219068,"creation_date":1681061448,"question_id":75971953,"body_markdown":"I am getting this error &quot;**The requested profile &quot;pom.xml&quot; could not be activated because it does not exist.**&quot; every time I tried to run the maven goals like mvn clean install.\r\n\r\n`mvn clean` is working but not `mvn clean install`.\r\n\r\nI also tried with and without removing the pom.xml from active profiles..but it didn&#39;t work.\r\n\r\nAlso, I have three microservice maven sub-modules when I tried to run each of them separately they are also not running stating: &quot;/microservices-parent/product-microservice/java/com/ecommproject/productservice/ProductServiceApplication&quot; does not exist.\r\n\r\nCan anybody please really help?\r\n\r\n**ERROR MESSAGE**\r\n\r\n`[INFO] Scanning for projects... [INFO] ------------------------------------------------------------------------ [INFO] Reactor Build Order: [INFO]  [INFO] microservices-parent                                               [pom] [INFO] product-microservice                                               [jar] [INFO] order-microservice                                                 [jar] [INFO] inventory-microservice                                             [jar] [INFO]  [INFO] -------------------&lt; com.ecomm:microservices-parent &gt;------------------- [INFO] Building microservices-parent 0.0.1-SNAPSHOT                       [1/4] [INFO] --------------------------------[ pom ]--------------------------------- [INFO] ------------------------------------------------------------------------ [INFO] Reactor Summary for microservices-parent 0.0.1-SNAPSHOT: [INFO]  [INFO] microservices-parent ............................... FAILURE [  0.010 s] [INFO] product-microservice ............................... SKIPPED [INFO] order-microservice ................................. SKIPPED [INFO] inventory-microservice ............................. SKIPPED [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO] ------------------------------------------------------------------------ [INFO] Total time:  1.412 s [INFO] Finished at: 2023-04-09T22:15:41+05:30 [INFO] ------------------------------------------------------------------------ [WARNING] The requested profile &quot;pom.xml&quot; could not be activated because it does not exist. [ERROR] Unknown lifecycle phase &quot;mvn&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1] [ERROR]  [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging. [ERROR]  [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException`\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.ecomm&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;microservices-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;microservice-parent&lt;/name&gt;\r\n    \t&lt;description&gt;microservice-parent-project&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;microservice-product&lt;/module&gt;\r\n    \t\t&lt;module&gt;microservice-order&lt;/module&gt;\r\n    \t\t&lt;module&gt;microservice-inventory&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"The requested profile &quot;pom.xml&quot; could not be activated because it does not exist in microservices project","body":"<p>I am getting this error &quot;<strong>The requested profile &quot;pom.xml&quot; could not be activated because it does not exist.</strong>&quot; every time I tried to run the maven goals like mvn clean install.</p>\n<p><code>mvn clean</code> is working but not <code>mvn clean install</code>.</p>\n<p>I also tried with and without removing the pom.xml from active profiles..but it didn't work.</p>\n<p>Also, I have three microservice maven sub-modules when I tried to run each of them separately they are also not running stating: &quot;/microservices-parent/product-microservice/java/com/ecommproject/productservice/ProductServiceApplication&quot; does not exist.</p>\n<p>Can anybody please really help?</p>\n<p><strong>ERROR MESSAGE</strong></p>\n<p><code>[INFO] Scanning for projects... [INFO] ------------------------------------------------------------------------ [INFO] Reactor Build Order: [INFO]  [INFO] microservices-parent                                               [pom] [INFO] product-microservice                                               [jar] [INFO] order-microservice                                                 [jar] [INFO] inventory-microservice                                             [jar] [INFO]  [INFO] -------------------&lt; com.ecomm:microservices-parent &gt;------------------- [INFO] Building microservices-parent 0.0.1-SNAPSHOT                       [1/4] [INFO] --------------------------------[ pom ]--------------------------------- [INFO] ------------------------------------------------------------------------ [INFO] Reactor Summary for microservices-parent 0.0.1-SNAPSHOT: [INFO]  [INFO] microservices-parent ............................... FAILURE [  0.010 s] [INFO] product-microservice ............................... SKIPPED [INFO] order-microservice ................................. SKIPPED [INFO] inventory-microservice ............................. SKIPPED [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO] ------------------------------------------------------------------------ [INFO] Total time:  1.412 s [INFO] Finished at: 2023-04-09T22:15:41+05:30 [INFO] ------------------------------------------------------------------------ [WARNING] The requested profile &quot;pom.xml&quot; could not be activated because it does not exist. [ERROR] Unknown lifecycle phase &quot;mvn&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1] [ERROR]  [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging. [ERROR]  [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException</code></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecomm&lt;/groupId&gt;\n    &lt;artifactId&gt;microservices-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;microservice-parent&lt;/name&gt;\n    &lt;description&gt;microservice-parent-project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;modules&gt;\n        &lt;module&gt;microservice-product&lt;/module&gt;\n        &lt;module&gt;microservice-order&lt;/module&gt;\n        &lt;module&gt;microservice-inventory&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","checker-framework"],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681218863,"creation_date":1681218863,"question_id":75986320,"body_markdown":"Using the Checker Framework and given this getter\r\n```\r\n    private @MonotonicNonNull OffsetDateTime expiration;\r\n\r\n    @Pure\r\n    @SuppressWarnings(&quot;monotonic&quot;)\r\n    public @MonotonicNonNull OffsetDateTime getExpiration() {\r\n        return expiration;\r\n    }\r\n```\r\n\r\nI want to get this to compile without errors\r\n\r\n```\r\n    @RequiresNonNull(&quot;getExpiration()&quot;)\r\n    public long getExpiresIn() {\r\n        return OffsetDateTime.now().until(getExpiration(), ChronoUnit.SECONDS);\r\n    }\r\n```\r\n\r\nBut I get\r\n\r\n&gt; error: [argument] incompatible argument for parameter obj of requireNonNull.  \r\n   found   : @Initialized @MonotonicNonNull OffsetDateTime\r\n\r\nThe weird thing is that the same works when I use the field directly, but I dont like it because it&#39;s not really object-oriented to expose the field in the contract:\r\n\r\n```\r\n    @RequiresNonNull(&quot;expiration&quot;)\r\n    public long getExpiresIn() {\r\n        return OffsetDateTime.now().until(expiration, ChronoUnit.SECONDS);\r\n    }\r\n```\r\n\r\nEven throwing in an explicit assert doesnt work.\r\n\r\n```\r\n    @RequiresNonNull(&quot;getExpiration()&quot;)\r\n    public long getExpiresIn() {\r\n        assert getExpiration() != null : &quot;expiration required&quot;;\r\n        return OffsetDateTime.now().until(getExpiration(), ChronoUnit.SECONDS);\r\n    }\r\n```\r\n\r\nWhat is the best way to annotate the methods?","title":"How to use RequiresNonNull with method","body":"<p>Using the Checker Framework and given this getter</p>\n<pre><code>    private @MonotonicNonNull OffsetDateTime expiration;\n\n    @Pure\n    @SuppressWarnings(&quot;monotonic&quot;)\n    public @MonotonicNonNull OffsetDateTime getExpiration() {\n        return expiration;\n    }\n</code></pre>\n<p>I want to get this to compile without errors</p>\n<pre><code>    @RequiresNonNull(&quot;getExpiration()&quot;)\n    public long getExpiresIn() {\n        return OffsetDateTime.now().until(getExpiration(), ChronoUnit.SECONDS);\n    }\n</code></pre>\n<p>But I get</p>\n<blockquote>\n<p>error: [argument] incompatible argument for parameter obj of requireNonNull.<br />\nfound   : @Initialized @MonotonicNonNull OffsetDateTime</p>\n</blockquote>\n<p>The weird thing is that the same works when I use the field directly, but I dont like it because it's not really object-oriented to expose the field in the contract:</p>\n<pre><code>    @RequiresNonNull(&quot;expiration&quot;)\n    public long getExpiresIn() {\n        return OffsetDateTime.now().until(expiration, ChronoUnit.SECONDS);\n    }\n</code></pre>\n<p>Even throwing in an explicit assert doesnt work.</p>\n<pre><code>    @RequiresNonNull(&quot;getExpiration()&quot;)\n    public long getExpiresIn() {\n        assert getExpiration() != null : &quot;expiration required&quot;;\n        return OffsetDateTime.now().until(getExpiration(), ChronoUnit.SECONDS);\n    }\n</code></pre>\n<p>What is the best way to annotate the methods?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1681205693,"post_id":75984215,"comment_id":134015061,"body_markdown":"Please edit your question and add the code that reads data from the database.","body":"Please edit your question and add the code that reads data from the database."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681214670,"creation_date":1681214670,"answer_id":75985710,"question_id":75984215,"body_markdown":"First of all, stop ignoring errors. At a minimum, you should add inside `onCancelled`:\r\n\r\n    Log.d(TAG, databaseError.getMessage());\r\n\r\nBesides that, the problem in your code lies in the fact that you&#39;re using an incorrect reference to read the data. You say that:\r\n\r\n&gt; Note: the information that&#39;s supposed to be shown to a user is unique to him (UID and key)\r\n\r\nBut you&#39;re creating a reference that points to the `Reminder` node. To solve this, please change the following line of code:\r\n\r\n    database = firebaseDatabase.getReference(&quot;Reminder&quot;);\r\n\r\nInto:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    database = firebaseDatabase.getReference(&quot;Reminder&quot;).child(uid);\r\n    //                                                         &#128070;\r\n\r\nNow, the `database` points exactly to the node that belongs to the authenticated user.","title":"can&#39;t show reminder data in a list view","body":"<p>First of all, stop ignoring errors. At a minimum, you should add inside <code>onCancelled</code>:</p>\n<pre><code>Log.d(TAG, databaseError.getMessage());\n</code></pre>\n<p>Besides that, the problem in your code lies in the fact that you're using an incorrect reference to read the data. You say that:</p>\n<blockquote>\n<p>Note: the information that's supposed to be shown to a user is unique to him (UID and key)</p>\n</blockquote>\n<p>But you're creating a reference that points to the <code>Reminder</code> node. To solve this, please change the following line of code:</p>\n<pre><code>database = firebaseDatabase.getReference(&quot;Reminder&quot;);\n</code></pre>\n<p>Into:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\ndatabase = firebaseDatabase.getReference(&quot;Reminder&quot;).child(uid);\n//                                                         \n</code></pre>\n<p>Now, the <code>database</code> points exactly to the node that belongs to the authenticated user.</p>\n"}],"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75985710,"answer_count":1,"score":0,"last_activity_date":1681218715,"creation_date":1681204307,"question_id":75984215,"body_markdown":"The app struggles to take the information from the Firebase Realtime Database and put it via an adapter to the ListView that is used on the main page(where all the reminders are shown). Note: The information that suppose to be shown to a user is unique to him (UID and key).\r\n\r\n![Realtime database example](https://i.stack.imgur.com/WnzXg.png)\r\n\r\n```\r\npublic class ReminderAdapter extends ArrayAdapter&lt;Reminder&gt; {\r\n    private Context context;\r\n    private int resource;\r\n    private ArrayList&lt;Reminder&gt; remindersList;\r\n\r\n    public ReminderAdapter(Context context, int resource, ArrayList&lt;Reminder&gt; remindersList) {\r\n        super(context, resource, remindersList);\r\n        this.context = context;\r\n        this.resource = resource;\r\n        this.remindersList = remindersList;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(context).inflate(resource, parent, false);\r\n        }\r\n\r\n        TextView reminderTitle = convertView.findViewById(R.id.aTitle);\r\n        TextView reminderdate = convertView.findViewById(R.id.aDate);\r\n        TextView reminderTime = convertView.findViewById(R.id.aTime);\r\n\r\n        Reminder reminder = remindersList.get(position);\r\n\r\n        reminderTitle.setText(reminder.getTitle());\r\n        reminderdate.setText(reminder.getDate());\r\n        reminderTime.setText(reminder.getTime());\r\n\r\n        return convertView;\r\n    }\r\n}\r\n```\r\n```\r\npublic class Reminder {\r\n    String time;\r\n    String title;\r\n    String date;\r\n    String uid;\r\n    String key;\r\n\r\n    public Reminder() {\r\n        // Empty constructor required for Firebase\r\n    }\r\n\r\n    public Reminder(String title, String date, String time, String uid, String key) {\r\n        this.title = title;\r\n        this.date = date;\r\n        this.time = time;\r\n        this.uid = uid;\r\n        this.key = key;\r\n    }\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n       this.uid = uid;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(String time) {\r\n        this.time = time;\r\n    }\r\n}\r\n```\r\n```\r\n\r\npublic class MainPageActivity extends AppCompatActivity {\r\n    FirebaseAuth mauth;\r\n    FirebaseDatabase firebaseDatabase;\r\n    ArrayList&lt;Reminder&gt; Reminderslist;\r\n    ArrayAdapter ReminderAdapter;\r\n    ListView mrlv;\r\n    private DatabaseReference database;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_page);\r\n\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        database = firebaseDatabase.getReference(&quot;Reminder&quot;);\r\n        database.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                Reminderslist.clear();\r\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\r\n                    Reminder reminder = postSnapshot.getValue(Reminder.class);\r\n                    Reminderslist.add(reminder);\r\n                }\r\n                ReminderAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        mrlv = findViewById(R.id.mrv);\r\n        Reminderslist = new ArrayList&lt;Reminder&gt;();\r\n        ReminderAdapter = new ReminderAdapter(getApplicationContext(), 0, 0, Reminderslist);\r\n        mrlv.setAdapter(ReminderAdapter);\r\n        mrlv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                Reminder reminder = Reminderslist.get(position);\r\n                Intent intent = new Intent(MainPageActivity.this, EditActivity.class);\r\n                intent.putExtra(&quot;key&quot;, reminder.key);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_top, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.mmadd) {\r\n            Intent intent = new Intent(this, SaveActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI mostly tried tutorials and ChatGPT however, without luck.","title":"can&#39;t show reminder data in a list view","body":"<p>The app struggles to take the information from the Firebase Realtime Database and put it via an adapter to the ListView that is used on the main page(where all the reminders are shown). Note: The information that suppose to be shown to a user is unique to him (UID and key).</p>\n<p><img src=\"https://i.stack.imgur.com/WnzXg.png\" alt=\"Realtime database example\" /></p>\n<pre><code>public class ReminderAdapter extends ArrayAdapter&lt;Reminder&gt; {\n    private Context context;\n    private int resource;\n    private ArrayList&lt;Reminder&gt; remindersList;\n\n    public ReminderAdapter(Context context, int resource, ArrayList&lt;Reminder&gt; remindersList) {\n        super(context, resource, remindersList);\n        this.context = context;\n        this.resource = resource;\n        this.remindersList = remindersList;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        if (convertView == null) {\n            convertView = LayoutInflater.from(context).inflate(resource, parent, false);\n        }\n\n        TextView reminderTitle = convertView.findViewById(R.id.aTitle);\n        TextView reminderdate = convertView.findViewById(R.id.aDate);\n        TextView reminderTime = convertView.findViewById(R.id.aTime);\n\n        Reminder reminder = remindersList.get(position);\n\n        reminderTitle.setText(reminder.getTitle());\n        reminderdate.setText(reminder.getDate());\n        reminderTime.setText(reminder.getTime());\n\n        return convertView;\n    }\n}\n</code></pre>\n<pre><code>public class Reminder {\n    String time;\n    String title;\n    String date;\n    String uid;\n    String key;\n\n    public Reminder() {\n        // Empty constructor required for Firebase\n    }\n\n    public Reminder(String title, String date, String time, String uid, String key) {\n        this.title = title;\n        this.date = date;\n        this.time = time;\n        this.uid = uid;\n        this.key = key;\n    }\n    public String getUid() {\n        return uid;\n    }\n\n    public void setUid(String uid) {\n       this.uid = uid;\n    }\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getTime() {\n        return time;\n    }\n\n    public void setTime(String time) {\n        this.time = time;\n    }\n}\n</code></pre>\n<pre><code>\npublic class MainPageActivity extends AppCompatActivity {\n    FirebaseAuth mauth;\n    FirebaseDatabase firebaseDatabase;\n    ArrayList&lt;Reminder&gt; Reminderslist;\n    ArrayAdapter ReminderAdapter;\n    ListView mrlv;\n    private DatabaseReference database;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_page);\n\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        database = firebaseDatabase.getReference(&quot;Reminder&quot;);\n        database.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                Reminderslist.clear();\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\n                    Reminder reminder = postSnapshot.getValue(Reminder.class);\n                    Reminderslist.add(reminder);\n                }\n                ReminderAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n\n        mrlv = findViewById(R.id.mrv);\n        Reminderslist = new ArrayList&lt;Reminder&gt;();\n        ReminderAdapter = new ReminderAdapter(getApplicationContext(), 0, 0, Reminderslist);\n        mrlv.setAdapter(ReminderAdapter);\n        mrlv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                Reminder reminder = Reminderslist.get(position);\n                Intent intent = new Intent(MainPageActivity.this, EditActivity.class);\n                intent.putExtra(&quot;key&quot;, reminder.key);\n                startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_top, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.mmadd) {\n            Intent intent = new Intent(this, SaveActivity.class);\n            startActivity(intent);\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n\n</code></pre>\n<p>I mostly tried tutorials and ChatGPT however, without luck.</p>\n"},{"tags":["java","arraylist","fileinputstream","objectinputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681201291,"post_id":75978365,"comment_id":134014037,"body_markdown":"*however I was not able to read all the file.* Meaning? How many objects are in your `List`?","body":"<i>however I was not able to read all the file.</i> Meaning? How many objects are in your <code>List</code>?"}],"owner":{"account_id":22887001,"reputation":1,"user_id":17027730,"display_name":"Johny Ramos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681218711,"creation_date":1681140086,"question_id":75978365,"body_markdown":"I am working on a small project in JAVA to write and read to a file using `FileOutputStream/FileInputStream` and `ObjectOutputStream/ObjectInputStream` and when I tried to read the entire `.txt` file, the code only read the first line of the `.txt` file.\r\n\r\nCould you please let me know what I am doing wrong?\r\n\r\nThank you in advance\r\n\r\n```\r\nimport java.io.Serializable;\r\nimport java.io.FileInputStream;\r\nimport java.io.ObjectInputStream;\r\nimport java.util.ArrayList;\r\n\r\npublic class account_Read implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    account_Info data = new account_Info();\r\n    ArrayList&lt;account_Info&gt; accounts = new ArrayList&lt;&gt;();\r\n\r\n    public void read() {\r\n        try {\r\n            FileInputStream fileIn = new FileInputStream(&quot;bankAccount.txt&quot;);\r\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n\r\n            accounts = (ArrayList&lt;account_Info&gt;) objectIn.readObject();\r\n\r\n            System.err.println(&quot;Open file&quot;);\r\n            objectIn.close();\r\n            fileIn.close();\r\n        } catch (Exception et) {\r\n            et.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void displayAccount(int accountID) {\r\n        read(); // read the file to load the accounts into the ArrayList\r\n\r\n        boolean accountFound = false;\r\n\r\n        for (account_Info account : accounts) {\r\n            if (account.getaccountID() == accountID) {\r\n                int id = account.getaccountID();\r\n                String name = account.getFirstname();\r\n                String last = account.getSurname();\r\n                double balance = account.getBalance();\r\n                double overdraft = account.getOverdraft();\r\n\r\n                System.out.println(&quot;Account Number: &quot; + id);\r\n                System.out.println(&quot;Account Balance: &quot; + balance);\r\n                System.out.println(&quot;Account Overdraft: &quot; + overdraft);\r\n                System.out.println(&quot;Account Holder Name: &quot; + name + &quot; &quot; + last);\r\n                System.out.println(&quot;---------------------------&quot;);\r\n\r\n                accountFound = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!accountFound) {\r\n            System.out.println(&quot;Account not found.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have tried to loop this block code using the while/for loop and even changing the ArrayList to object account_Info accounts, however, I was not able to read all the files.\r\n\r\n```\r\naccounts = (ArrayList&lt;account_Info&gt;) objectIn.readObject();\r\n```","title":"[Java - File]Not able to read the entire .txt using FileInputStream/ObjectInputStream in an ArrayList object account_Info","body":"<p>I am working on a small project in JAVA to write and read to a file using <code>FileOutputStream/FileInputStream</code> and <code>ObjectOutputStream/ObjectInputStream</code> and when I tried to read the entire <code>.txt</code> file, the code only read the first line of the <code>.txt</code> file.</p>\n<p>Could you please let me know what I am doing wrong?</p>\n<p>Thank you in advance</p>\n<pre><code>import java.io.Serializable;\nimport java.io.FileInputStream;\nimport java.io.ObjectInputStream;\nimport java.util.ArrayList;\n\npublic class account_Read implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    account_Info data = new account_Info();\n    ArrayList&lt;account_Info&gt; accounts = new ArrayList&lt;&gt;();\n\n    public void read() {\n        try {\n            FileInputStream fileIn = new FileInputStream(&quot;bankAccount.txt&quot;);\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n\n            accounts = (ArrayList&lt;account_Info&gt;) objectIn.readObject();\n\n            System.err.println(&quot;Open file&quot;);\n            objectIn.close();\n            fileIn.close();\n        } catch (Exception et) {\n            et.printStackTrace();\n        }\n    }\n\n    public void displayAccount(int accountID) {\n        read(); // read the file to load the accounts into the ArrayList\n\n        boolean accountFound = false;\n\n        for (account_Info account : accounts) {\n            if (account.getaccountID() == accountID) {\n                int id = account.getaccountID();\n                String name = account.getFirstname();\n                String last = account.getSurname();\n                double balance = account.getBalance();\n                double overdraft = account.getOverdraft();\n\n                System.out.println(&quot;Account Number: &quot; + id);\n                System.out.println(&quot;Account Balance: &quot; + balance);\n                System.out.println(&quot;Account Overdraft: &quot; + overdraft);\n                System.out.println(&quot;Account Holder Name: &quot; + name + &quot; &quot; + last);\n                System.out.println(&quot;---------------------------&quot;);\n\n                accountFound = true;\n                break;\n            }\n        }\n\n        if (!accountFound) {\n            System.out.println(&quot;Account not found.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I have tried to loop this block code using the while/for loop and even changing the ArrayList to object account_Info accounts, however, I was not able to read all the files.</p>\n<pre><code>accounts = (ArrayList&lt;account_Info&gt;) objectIn.readObject();\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668201804,"creation_date":1668201804,"answer_id":74408262,"question_id":74336416,"body_markdown":"Being defined on the `OrderItem` class, the relation `ingredients` is considered as a composition on the cascading strategy point of view. Therefore, the `CascadeType.ALL` implies the attempt to create the ingredient.\r\nTo avoid this, you can change the direction of this relation reverse the mappedBy information.\r\nBut then again, if you keep a `CascadeType.ALL` on the ingredient side, you will be in trouble if you create an ingredient with an existing `orderItem`. You can win on both sides an use `CascadeType.ALL`.\r\n\r\ncheck https://stackoverflow.com/questions/4935095/jpa-hibernate-many-to-many-cascading\r\n","title":"How to send only a list of IDs in many-to-many spring boot JPA POST request instead of sending the full object&#39;s data","body":"<p>Being defined on the <code>OrderItem</code> class, the relation <code>ingredients</code> is considered as a composition on the cascading strategy point of view. Therefore, the <code>CascadeType.ALL</code> implies the attempt to create the ingredient.\nTo avoid this, you can change the direction of this relation reverse the mappedBy information.\nBut then again, if you keep a <code>CascadeType.ALL</code> on the ingredient side, you will be in trouble if you create an ingredient with an existing <code>orderItem</code>. You can win on both sides an use <code>CascadeType.ALL</code>.</p>\n<p>check <a href=\"https://stackoverflow.com/questions/4935095/jpa-hibernate-many-to-many-cascading\">JPA Hibernate many-to-many cascading</a></p>\n"},{"tags":[],"owner":{"account_id":28275587,"reputation":1,"user_id":21618112,"display_name":"Nandha Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681218679,"creation_date":1681218679,"answer_id":75986287,"question_id":74336416,"body_markdown":"I have 2 DTOs &quot;user&quot; and &quot;role&quot;, both classes has @ManyToMany annotation:\r\n```\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    // Other attributes\r\n    \r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;user_role&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    // Getters and Setters\r\n}\r\n\r\n@Entity\r\npublic class Role {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    // Other attributes\r\n    \r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n    // Getters and Setters\r\n}\r\n```\r\n\r\nAnd I&#39;m looking to add a new UserRole using a POST request using the following @PostMapping controller function:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository; // Assuming UserRepository is a Spring Data JPA repository for User entity\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n// Endpoint to add roles to a user\r\n    @PostMapping(&quot;/{userId}/roles&quot;)\r\n    public ResponseEntity&lt;User&gt; addRolesToUser(@PathVariable Long userId, @RequestBody List&lt;Long&gt; roleIds) {\r\n        Optional&lt;User&gt; user = userRepository.findById(userId);\r\n        if (user.isPresent()) {\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            for (Long roleId : roleIds) {\r\n                Optional&lt;Role&gt; role = roleRepository.findById(roleId);\r\n                if (role.isPresent()) {\r\n                    roles.add(role.get());\r\n                }\r\n            }\r\n            user.get().getRoles().addAll(roles);\r\n            userRepository.save(user.get());\r\n            return ResponseEntity.ok(user.get());\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n    // Endpoint to remove roles from a user\r\n    @DeleteMapping(&quot;/{userId}/roles/{roleId}&quot;)\r\n    public ResponseEntity&lt;User&gt; removeRoleFromUser(@PathVariable Long userId, @PathVariable Long roleId) {\r\n        Optional&lt;User&gt; user = userRepository.findById(userId);\r\n        Optional&lt;Role&gt; role = roleRepository.findById(roleId);\r\n        if (user.isPresent() &amp;&amp; role.isPresent()) {\r\n            user.get().getRoles().remove(role.get());\r\n            userRepository.save(user.get());\r\n            return ResponseEntity.ok(user.get());\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\npostman request\r\n\r\n```\r\nPOST localhost:8080/users/{userId}/roles\r\nIn body raw- json\r\n[1,2,3]\r\n```\r\n\r\nOutput:\r\nRecord insert successfully\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/41Edc.png","title":"How to send only a list of IDs in many-to-many spring boot JPA POST request instead of sending the full object&#39;s data","body":"<p>I have 2 DTOs &quot;user&quot; and &quot;role&quot;, both classes has @ManyToMany annotation:</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    // Other attributes\n    \n    @ManyToMany\n    @JoinTable(\n        name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n    )\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    // Getters and Setters\n}\n\n@Entity\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    // Other attributes\n    \n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n    // Getters and Setters\n}\n</code></pre>\n<p>And I'm looking to add a new UserRole using a POST request using the following @PostMapping controller function:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository; // Assuming UserRepository is a Spring Data JPA repository for User entity\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n// Endpoint to add roles to a user\n    @PostMapping(&quot;/{userId}/roles&quot;)\n    public ResponseEntity&lt;User&gt; addRolesToUser(@PathVariable Long userId, @RequestBody List&lt;Long&gt; roleIds) {\n        Optional&lt;User&gt; user = userRepository.findById(userId);\n        if (user.isPresent()) {\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n            for (Long roleId : roleIds) {\n                Optional&lt;Role&gt; role = roleRepository.findById(roleId);\n                if (role.isPresent()) {\n                    roles.add(role.get());\n                }\n            }\n            user.get().getRoles().addAll(roles);\n            userRepository.save(user.get());\n            return ResponseEntity.ok(user.get());\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n    // Endpoint to remove roles from a user\n    @DeleteMapping(&quot;/{userId}/roles/{roleId}&quot;)\n    public ResponseEntity&lt;User&gt; removeRoleFromUser(@PathVariable Long userId, @PathVariable Long roleId) {\n        Optional&lt;User&gt; user = userRepository.findById(userId);\n        Optional&lt;Role&gt; role = roleRepository.findById(roleId);\n        if (user.isPresent() &amp;&amp; role.isPresent()) {\n            user.get().getRoles().remove(role.get());\n            userRepository.save(user.get());\n            return ResponseEntity.ok(user.get());\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n}\n</code></pre>\n<p>postman request</p>\n<pre><code>POST localhost:8080/users/{userId}/roles\nIn body raw- json\n[1,2,3]\n</code></pre>\n<p>Output:\nRecord insert successfully</p>\n<p><a href=\"https://i.stack.imgur.com/41Edc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":14444030,"reputation":119,"user_id":12390885,"display_name":"Balawi28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681218679,"creation_date":1667742339,"question_id":74336416,"body_markdown":"I have 2 DTOs &quot;OrderItem&quot; and &quot;Ingredient&quot;, both classes has **@ManyToMany** annotation:\r\n\r\n    @Entity\r\n    @Table\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class OrderItem {\r\n    \r\n        private @Id @GeneratedValue @NotNull long id;\r\n    \r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Order order;\r\n    \r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Food food;\r\n    \r\n        private int quantity;\r\n    \r\n        @ManyToMany(cascade=CascadeType.ALL)\r\n        @JoinTable(\r\n                name = &quot;order_item_ingredient&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;order_item_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;ingredient_name&quot;)\r\n        )\r\n        private Set&lt;Ingredient&gt; ingredients = new HashSet&lt;&gt;();\r\n    }\r\n\r\n\r\n---\r\n\r\n\r\n    @Entity\r\n    @Table\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Ingredient {\r\n        private @Id String ingredientName;\r\n        private float basePrice;\r\n        private boolean addable;\r\n        @ManyToMany(mappedBy = &quot;ingredients&quot;,cascade=CascadeType.ALL)\r\n        private Set&lt;Food&gt; foods= new HashSet&lt;&gt;();\r\n    \r\n        @ManyToMany(mappedBy = &quot;ingredients&quot;,cascade=CascadeType.ALL)\r\n        private Set&lt;OrderItem&gt; orderItems= new HashSet&lt;&gt;();\r\n    \r\n        public Ingredient(String ingredientName, float basePrice, boolean addable) {\r\n            this.ingredientName = ingredientName.toLowerCase();\r\n            this.basePrice = basePrice;\r\n            this.addable = addable;\r\n        }\r\n    }\r\n\r\nAnd I&#39;m looking to add a new OrderItem using a POST request using the following @PostMapping controller function:\r\n\r\n    @PostMapping(&quot;{id}/orderItem&quot;)\r\n    public ResponseEntity&lt;OrderItem&gt; createMenuItem(\r\n            @PathVariable(value = &quot;id&quot;) Long orderId,\r\n            @RequestBody OrderItem orderItem) {\r\n    \r\n        Order order = orderService.getOrder(orderId)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;order &#39;&quot; + orderId + &quot;&#39; is not found&quot;));\r\n    \r\n        orderItem.setOrder(order);\r\n        orderItemRepository.save(orderItem);\r\n    \r\n        return new ResponseEntity&lt;&gt;(orderItem, HttpStatus.CREATED);\r\n    }\r\n\r\n\r\nWhen I send a post request to **localhost:8080/1/orderItem** with the following body:\r\n\r\n    {\r\n        &quot;order&quot;:&quot;1&quot;,\r\n        &quot;food&quot;:&quot;burger&quot;,\r\n        &quot;quantity&quot;:&quot;1&quot;\r\n    }\r\n\r\nIt works fine and a new order_item database record is created, but when I send the same request with the following body:\r\n\r\n    {\r\n        &quot;order&quot;:&quot;1&quot;,\r\n        &quot;food&quot;:&quot;burger&quot;,\r\n        &quot;quantity&quot;:&quot;1&quot;,\r\n        &quot;ingredients&quot;: [{&quot;ingredientName&quot;:&quot;leaf&quot;}]\r\n    }\r\n\r\nIt fails and gives the following SQL error: \r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;leaf&#39; for key &#39;ingredient.PRIMARY&#39;\r\n\r\nI know that this record already exists, but how do I tell Spring Boot that I want it to look for an existing Ingredient instead of trying to create a new one?\r\n\r\nI have an ugly solution in my mind, and that is to send the **OrderItem** object alongside a list of strings where each element represents a primary key for **Ingredient** class, then iterate through that list element by element calling the repository to get the **Ingredient** object then manually add it to **OrderItem.ingredients**, but I&#39;m sure that is not the best solution out there.","title":"How to send only a list of IDs in many-to-many spring boot JPA POST request instead of sending the full object&#39;s data","body":"<p>I have 2 DTOs &quot;OrderItem&quot; and &quot;Ingredient&quot;, both classes has <strong>@ManyToMany</strong> annotation:</p>\n<pre><code>@Entity\n@Table\n@NoArgsConstructor\n@Data\npublic class OrderItem {\n\n    private @Id @GeneratedValue @NotNull long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Order order;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Food food;\n\n    private int quantity;\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @JoinTable(\n            name = &quot;order_item_ingredient&quot;,\n            joinColumns = @JoinColumn(name = &quot;order_item_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;ingredient_name&quot;)\n    )\n    private Set&lt;Ingredient&gt; ingredients = new HashSet&lt;&gt;();\n}\n</code></pre>\n<hr />\n<pre><code>@Entity\n@Table\n@Data\n@NoArgsConstructor\npublic class Ingredient {\n    private @Id String ingredientName;\n    private float basePrice;\n    private boolean addable;\n    @ManyToMany(mappedBy = &quot;ingredients&quot;,cascade=CascadeType.ALL)\n    private Set&lt;Food&gt; foods= new HashSet&lt;&gt;();\n\n    @ManyToMany(mappedBy = &quot;ingredients&quot;,cascade=CascadeType.ALL)\n    private Set&lt;OrderItem&gt; orderItems= new HashSet&lt;&gt;();\n\n    public Ingredient(String ingredientName, float basePrice, boolean addable) {\n        this.ingredientName = ingredientName.toLowerCase();\n        this.basePrice = basePrice;\n        this.addable = addable;\n    }\n}\n</code></pre>\n<p>And I'm looking to add a new OrderItem using a POST request using the following @PostMapping controller function:</p>\n<pre><code>@PostMapping(&quot;{id}/orderItem&quot;)\npublic ResponseEntity&lt;OrderItem&gt; createMenuItem(\n        @PathVariable(value = &quot;id&quot;) Long orderId,\n        @RequestBody OrderItem orderItem) {\n\n    Order order = orderService.getOrder(orderId)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;order '&quot; + orderId + &quot;' is not found&quot;));\n\n    orderItem.setOrder(order);\n    orderItemRepository.save(orderItem);\n\n    return new ResponseEntity&lt;&gt;(orderItem, HttpStatus.CREATED);\n}\n</code></pre>\n<p>When I send a post request to <strong>localhost:8080/1/orderItem</strong> with the following body:</p>\n<pre><code>{\n    &quot;order&quot;:&quot;1&quot;,\n    &quot;food&quot;:&quot;burger&quot;,\n    &quot;quantity&quot;:&quot;1&quot;\n}\n</code></pre>\n<p>It works fine and a new order_item database record is created, but when I send the same request with the following body:</p>\n<pre><code>{\n    &quot;order&quot;:&quot;1&quot;,\n    &quot;food&quot;:&quot;burger&quot;,\n    &quot;quantity&quot;:&quot;1&quot;,\n    &quot;ingredients&quot;: [{&quot;ingredientName&quot;:&quot;leaf&quot;}]\n}\n</code></pre>\n<p>It fails and gives the following SQL error:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'leaf' for key 'ingredient.PRIMARY'\n</code></pre>\n<p>I know that this record already exists, but how do I tell Spring Boot that I want it to look for an existing Ingredient instead of trying to create a new one?</p>\n<p>I have an ugly solution in my mind, and that is to send the <strong>OrderItem</strong> object alongside a list of strings where each element represents a primary key for <strong>Ingredient</strong> class, then iterate through that list element by element calling the repository to get the <strong>Ingredient</strong> object then manually add it to <strong>OrderItem.ingredients</strong>, but I'm sure that is not the best solution out there.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":25626927,"reputation":1,"user_id":19397897,"display_name":"cfiguer055"},"score":0,"creation_date":1680667059,"post_id":75935457,"comment_id":133935114,"body_markdown":"I solved it.  My IDE cancelled my src folder from being the root directory","body":"I solved it.  My IDE cancelled my src folder from being the root directory"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680667257,"post_id":75935457,"comment_id":133935132,"body_markdown":"If you are making a spring-boot application, your pom looks nonstandard. Typically a spring-boot application will have the `org.springframework.boot:spring-boot-starter-parent` and in dependency section will have the starter artifacts with out version","body":"If you are making a spring-boot application, your pom looks nonstandard. Typically a spring-boot application will have the <code>org.springframework.boot:spring-boot-starter-parent</code> and in dependency section will have the starter artifacts with out version"}],"answers":[{"tags":[],"owner":{"account_id":28218549,"reputation":29,"user_id":21569670,"display_name":"omprakash K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681218660,"creation_date":1680668833,"answer_id":75935641,"question_id":75935457,"body_markdown":"It looks like your `pom.xml` file is in an unstructured format. \r\n\r\nYou can create Spring Boot project from Spring Boot Initializr.\r\n\r\nYou can visit the below page to create Spring Boot project:\r\n\r\nhttps://start.spring.io/","title":"Cannot get my project class to use Spring Framework","body":"<p>It looks like your <code>pom.xml</code> file is in an unstructured format.</p>\n<p>You can create Spring Boot project from Spring Boot Initializr.</p>\n<p>You can visit the below page to create Spring Boot project:</p>\n<p><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></p>\n"}],"owner":{"account_id":25626927,"reputation":1,"user_id":19397897,"display_name":"cfiguer055"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681218660,"creation_date":1680665873,"question_id":75935457,"body_markdown":"Here is the class I&#39;m trying to import springframework:\r\n\r\n```\r\npackage API;\r\n\r\nimport Class.Flight;\r\n\r\n//import org.springframework.web.bind.annotation.*;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class FlightController {\r\n\r\n    @PostMapping(&quot;/flight&quot;)\r\n    public String addFlight(@RequestBody Flight flight) {\r\n        // Do something with the flight data, such as saving it to a database\r\n        return &quot;Flight information received!&quot;;\r\n    }\r\n}\r\n```\r\nand here is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestone&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;airline-reservation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;!--&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;--&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;17&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;m new at this and have been editing the dependencies like crazy.  Been reading some stuff here on stackoverflow.  I managed to fix the dependencies and maven errors but I cannot figure out what is wrong with my Flight.java class.  It won&#39;t import the springframework and as a result I cannot use RestController, PostMapping, and RequestBody.  I keep getting the error:\r\n\r\n&gt; package org.springframework.web.bind.annotation does not exist\r\n\r\n&gt; package org.springframework.web.bind.annotation does not exist\r\n\r\n&gt; package org.springframework.web.bind.annotation does not exist","title":"Cannot get my project class to use Spring Framework","body":"<p>Here is the class I'm trying to import springframework:</p>\n<pre><code>package API;\n\nimport Class.Flight;\n\n//import org.springframework.web.bind.annotation.*;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class FlightController {\n\n    @PostMapping(&quot;/flight&quot;)\n    public String addFlight(@RequestBody Flight flight) {\n        // Do something with the flight data, such as saving it to a database\n        return &quot;Flight information received!&quot;;\n    }\n}\n</code></pre>\n<p>and here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;airline-reservation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;!--&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;--&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm new at this and have been editing the dependencies like crazy.  Been reading some stuff here on stackoverflow.  I managed to fix the dependencies and maven errors but I cannot figure out what is wrong with my Flight.java class.  It won't import the springframework and as a result I cannot use RestController, PostMapping, and RequestBody.  I keep getting the error:</p>\n<blockquote>\n<p>package org.springframework.web.bind.annotation does not exist</p>\n</blockquote>\n<blockquote>\n<p>package org.springframework.web.bind.annotation does not exist</p>\n</blockquote>\n<blockquote>\n<p>package org.springframework.web.bind.annotation does not exist</p>\n</blockquote>\n"},{"tags":["java","json","spring-mvc","character-encoding"],"comments":[{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1666175074,"post_id":3995559,"comment_id":130871667,"body_markdown":"The suggestion edit queue is full but I would like to replace &quot;Content-Type    application/json&quot; with &quot;Content-Type: application/json&quot; so it&#39;s more clear that we are talking about a valid HTTP header","body":"The suggestion edit queue is full but I would like to replace &quot;Content-Type    application/json&quot; with &quot;Content-Type: application/json&quot; so it&#39;s more clear that we are talking about a valid HTTP header"}],"answers":[{"tags":[],"owner":{"account_id":35891,"reputation":42975,"user_id":101999,"accept_rate":55,"display_name":"Thanatos"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1287780672,"creation_date":1287780672,"answer_id":4000866,"question_id":3995559,"body_markdown":"First, your posted data isn&#39;t valid JSON. This would be:\r\n\r\n    {&quot;value&quot;: &quot;a&#233;riennes&quot;}\r\n\r\nNote the double quotes: They are required.\r\n\r\nThe Content-Type for JSON data [should be][1] `application/json`. The actual JSON data (what we have above) should be encoded using UTF-8, UTF-16, or UTF-32 - I&#39;d recommend using UTF-8.\r\n\r\nYou can use a tool like Wireshark to monitor network traffic and see how the data looks, you should see the bytes `c3 89` for the &#233;. I&#39;ve never worked with Spring, but if it&#39;s doing the JSON encoding, this is probably taken care of properly, for you.\r\n\r\nOnce the JSON reaches the browser, it should good, if it is valid. However, how are you inserting the data from the JSON response into the webpage?\r\n\r\n  [1]: http://www.ietf.org/rfc/rfc4627.txt","title":"JSON character encoding","body":"<p>First, your posted data isn't valid JSON. This would be:</p>\n\n<pre><code>{\"value\": \"ariennes\"}\n</code></pre>\n\n<p>Note the double quotes: They are required.</p>\n\n<p>The Content-Type for JSON data <a href=\"http://www.ietf.org/rfc/rfc4627.txt\" rel=\"noreferrer\">should be</a> <code>application/json</code>. The actual JSON data (what we have above) should be encoded using UTF-8, UTF-16, or UTF-32 - I'd recommend using UTF-8.</p>\n\n<p>You can use a tool like Wireshark to monitor network traffic and see how the data looks, you should see the bytes <code>c3 89</code> for the . I've never worked with Spring, but if it's doing the JSON encoding, this is probably taken care of properly, for you.</p>\n\n<p>Once the JSON reaches the browser, it should good, if it is valid. However, how are you inserting the data from the JSON response into the webpage?</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1287934745,"creation_date":1287934745,"answer_id":4008915,"question_id":3995559,"body_markdown":"The symptoms indicate that the JSON string which was originally in UTF-8 encoding was written to the HTTP response using ISO-8859-1 encoding and the webbrowser was instructed to display it as UTF-8. If it was written using UTF-8 and displayed as ISO-8859-1, then you would have seen `a&#195;&#169;riennes`. If it was written *and* displayed using ISO-8859-1, then you would have seen `a&#239;&#191;&#189;riennes`.\r\n\r\nTo fix the problem of the JSON string incorrectly been written as ISO-8859-1, you need to configure your webapp / Spring to use UTF-8 as HTTP response encoding. *Basically*, it should be doing the following under the covers:\r\n\r\n    response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\r\nDon&#39;t change your content type header. It&#39;s perfectly fine for JSON and it is been displayed as UTF-8.","title":"JSON character encoding","body":"<p>The symptoms indicate that the JSON string which was originally in UTF-8 encoding was written to the HTTP response using ISO-8859-1 encoding and the webbrowser was instructed to display it as UTF-8. If it was written using UTF-8 and displayed as ISO-8859-1, then you would have seen <code>ariennes</code>. If it was written <em>and</em> displayed using ISO-8859-1, then you would have seen <code>ariennes</code>.</p>\n\n<p>To fix the problem of the JSON string incorrectly been written as ISO-8859-1, you need to configure your webapp / Spring to use UTF-8 as HTTP response encoding. <em>Basically</em>, it should be doing the following under the covers:</p>\n\n<pre><code>response.setCharacterEncoding(\"UTF-8\");\n</code></pre>\n\n<p>Don't change your content type header. It's perfectly fine for JSON and it is been displayed as UTF-8.</p>\n"},{"tags":[],"owner":{"account_id":328852,"reputation":69,"user_id":652032,"display_name":"Jorge Carretero"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1299691393,"creation_date":1299691393,"answer_id":5249653,"question_id":3995559,"body_markdown":"That happened to me exactly the same with this:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;application/json&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n\r\nBut this works for me:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;application/json; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n\r\nTry adding\r\n\r\n     ;charset=UTF-8\r\n\r\nto your contentType.","title":"JSON character encoding","body":"<p>That happened to me exactly the same with this:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"application/json\" pageEncoding=\"UTF-8\"%&gt;\n</code></pre>\n\n<p>But this works for me:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"application/json; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;\n</code></pre>\n\n<p>Try adding</p>\n\n<pre><code> ;charset=UTF-8\n</code></pre>\n\n<p>to your contentType.</p>\n"},{"tags":[],"owner":{"account_id":1217283,"reputation":355,"user_id":1184616,"accept_rate":71,"display_name":"ton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381419345,"creation_date":1329442956,"answer_id":9321792,"question_id":3995559,"body_markdown":"    response.setContentType(&quot;application/json;charset=utf-8&quot;);","title":"JSON character encoding","body":"<pre><code>response.setContentType(\"application/json;charset=utf-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1241442,"reputation":1633,"user_id":1203948,"accept_rate":46,"display_name":"Lars Juel Jensen"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1363110450,"creation_date":1363110450,"answer_id":15368407,"question_id":3995559,"body_markdown":"I don&#180;t know if this is relevant anymore, but I fixed it with the @RequestMapping annotation.\r\n\r\n    @RequestMapping(method=RequestMethod.GET, produces={&quot;application/json; charset=UTF-8&quot;})","title":"JSON character encoding","body":"<p>I dont know if this is relevant anymore, but I fixed it with the @RequestMapping annotation.</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.GET, produces={\"application/json; charset=UTF-8\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3040544,"reputation":3031,"user_id":2577705,"accept_rate":86,"display_name":"craned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405449569,"creation_date":1405449569,"answer_id":24765728,"question_id":3995559,"body_markdown":"If you&#39;re using `StringEntity` try [this](https://stackoverflow.com/questions/24762641/posting-foreign-characters-using-json-produces-400/24765275#24765275), using your choice of character encoding. It handles foreign characters as well.","title":"JSON character encoding","body":"<p>If you're using <code>StringEntity</code> try <a href=\"https://stackoverflow.com/questions/24762641/posting-foreign-characters-using-json-produces-400/24765275#24765275\">this</a>, using your choice of character encoding. It handles foreign characters as well.</p>\n"},{"tags":[],"owner":{"account_id":4787455,"reputation":97,"user_id":3867508,"display_name":"AbdulHayee"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1502063748,"creation_date":1417182751,"answer_id":27190148,"question_id":3995559,"body_markdown":"finally I got the solution:\r\n\r\nOnly put this line \r\n\r\n\r\n    @RequestMapping(value = &quot;/YOUR_URL_Name&quot;,method = RequestMethod.POST,produces = &quot;application/json; charset=utf-8&quot;)\r\n\r\n\r\nthis will definitely help.\r\n","title":"JSON character encoding","body":"<p>finally I got the solution:</p>\n\n<p>Only put this line </p>\n\n<pre><code>@RequestMapping(value = \"/YOUR_URL_Name\",method = RequestMethod.POST,produces = \"application/json; charset=utf-8\")\n</code></pre>\n\n<p>this will definitely help.</p>\n"},{"tags":[],"owner":{"account_id":6275262,"reputation":11,"user_id":4878109,"display_name":"Yuri Gavrysh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438682127,"creation_date":1438682127,"answer_id":31806131,"question_id":3995559,"body_markdown":"Also, you can use spring annotation **RequestMapping** above controller class for receveing **application/json;utf-8** in all responses\r\n\r\n    @Controller\r\n    @RequestMapping(produces = {&quot;application/json; charset=UTF-8&quot;,&quot;*/*;charset=UTF-8&quot;})\r\n    public class MyController{\r\n     ...\r\n    }\r\n","title":"JSON character encoding","body":"<p>Also, you can use spring annotation <strong>RequestMapping</strong> above controller class for receveing <strong>application/json;utf-8</strong> in all responses</p>\n\n<pre><code>@Controller\n@RequestMapping(produces = {\"application/json; charset=UTF-8\",\"*/*;charset=UTF-8\"})\npublic class MyController{\n ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4953728,"reputation":841,"user_id":3986952,"accept_rate":46,"display_name":"Erando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446458360,"creation_date":1446458360,"answer_id":33474976,"question_id":3995559,"body_markdown":"If the suggested solutions above didn&#39;t solve your issue (as for me), this could also help:\r\n\r\nMy problem was that I was returning a json string in my response using Springs `@ResponseBody`. If you&#39;re doing this as well this might help.\r\n\r\nAdd the following bean to your dispatcher servlet.\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean\r\n\t\t\t\t\tclass=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n(Found here: http://forum.spring.io/forum/spring-projects/web/74209-responsebody-and-utf-8)","title":"JSON character encoding","body":"<p>If the suggested solutions above didn't solve your issue (as for me), this could also help:</p>\n\n<p>My problem was that I was returning a json string in my response using Springs <code>@ResponseBody</code>. If you're doing this as well this might help.</p>\n\n<p>Add the following bean to your dispatcher servlet.\n</p>\n\n<pre><code>&lt;bean\n    class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;bean\n                class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>(Found here: <a href=\"http://forum.spring.io/forum/spring-projects/web/74209-responsebody-and-utf-8\" rel=\"nofollow\">http://forum.spring.io/forum/spring-projects/web/74209-responsebody-and-utf-8</a>)</p>\n"},{"tags":[],"owner":{"account_id":9317127,"reputation":29,"user_id":6917117,"display_name":"Alexandre Pimentel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1494212018,"creation_date":1484044907,"answer_id":41566858,"question_id":3995559,"body_markdown":"The answers here helped me solve my problem, although it&#39;s not completely related. \r\nI use the javax.ws.rs API and the @Produces and @Consumes annotations and had this same problem - the JSON I was returning in the webservice was not in UTF-8. I solved it with the following annotations on top of my controller functions :\r\n\r\n    @Produces(javax.ws.rs.core.MediaType.APPLICATION_JSON + &quot;; charset=UTF-8&quot;)\r\n\r\nand\r\n\r\n    @Consumes(javax.ws.rs.core.MediaType.APPLICATION_JSON + &quot;; charset=UTF-8&quot;)\r\n\r\nOn every endpoint&#39;s get and post function. I wasn&#39;t setting the charset and this solved it. This is part of jersey so maybe you&#39;ll have to add a maven dependency.","title":"JSON character encoding","body":"<p>The answers here helped me solve my problem, although it's not completely related. \nI use the javax.ws.rs API and the @Produces and @Consumes annotations and had this same problem - the JSON I was returning in the webservice was not in UTF-8. I solved it with the following annotations on top of my controller functions :</p>\n\n<pre><code>@Produces(javax.ws.rs.core.MediaType.APPLICATION_JSON + \"; charset=UTF-8\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Consumes(javax.ws.rs.core.MediaType.APPLICATION_JSON + \"; charset=UTF-8\")\n</code></pre>\n\n<p>On every endpoint's get and post function. I wasn't setting the charset and this solved it. This is part of jersey so maybe you'll have to add a maven dependency.</p>\n"},{"tags":[],"owner":{"account_id":7201532,"reputation":136,"user_id":5498606,"display_name":"Aleksey Slyshkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632295832,"creation_date":1632295832,"answer_id":69279944,"question_id":3995559,"body_markdown":"You should **set** response encoding ***before*** you **write** your answer in the response.\r\n\r\nIt can be **annotation**, **response.setContentEncoding(String s)**, or even **response.setHeader(String s1, String s2)**.\r\n\r\nOnce you start to use response output or writer, defined or guessed encoding will be used to encode characters in the result binary data. That is why you will not have an option to change it afterwards.","title":"JSON character encoding","body":"<p>You should <strong>set</strong> response encoding <em><strong>before</strong></em> you <strong>write</strong> your answer in the response.</p>\n<p>It can be <strong>annotation</strong>, <strong>response.setContentEncoding(String s)</strong>, or even <strong>response.setHeader(String s1, String s2)</strong>.</p>\n<p>Once you start to use response output or writer, defined or guessed encoding will be used to encode characters in the result binary data. That is why you will not have an option to change it afterwards.</p>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227131,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":11,"score":64,"last_activity_date":1681218628,"creation_date":1287740118,"question_id":3995559,"body_markdown":"My Java web application submits an AJAX request that returns JSON such:\r\n\r\n    {&#39;value&#39;: &#39;a&#233;riennes&#39;}\r\n\r\nWhen &#39;a&#233;riennes&#39; is displayed in the webpage, it appears as &#39;ariennes&#39;, so I guess there&#39;s some kind of character encoding problem. The AJAX response headers include\r\n\r\n    Content-Type\tapplication/json\r\n\r\nwhich doesn&#39;t appear to include any charset information. I guess this needs to be changed to something like\r\n\r\n    Content-Type\ttext/html; charset=iso-8859-1      (or charset=utf8)\r\n\r\nThe server-side of the app is Spring MVC, and I guess there must be a way to set the default charset for each response?\r\n\r\n","title":"JSON character encoding","body":"<p>My Java web application submits an AJAX request that returns JSON such:</p>\n\n<pre><code>{'value': 'ariennes'}\n</code></pre>\n\n<p>When 'ariennes' is displayed in the webpage, it appears as 'ariennes', so I guess there's some kind of character encoding problem. The AJAX response headers include</p>\n\n<pre><code>Content-Type    application/json\n</code></pre>\n\n<p>which doesn't appear to include any charset information. I guess this needs to be changed to something like</p>\n\n<pre><code>Content-Type    text/html; charset=iso-8859-1      (or charset=utf8)\n</code></pre>\n\n<p>The server-side of the app is Spring MVC, and I guess there must be a way to set the default charset for each response?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":3,"creation_date":1680775939,"post_id":75948273,"comment_id":133956612,"body_markdown":"What is the problem? Are you asking how to fix the cycles, or what are the cycles? `RoomMapper` uses `LectureMapper` and `LectureMapper` uses `RoomMapper` - clear cycle here, same situation with `CohortMapper`","body":"What is the problem? Are you asking how to fix the cycles, or what are the cycles? <code>RoomMapper</code> uses <code>LectureMapper</code> and <code>LectureMapper</code> uses <code>RoomMapper</code> - clear cycle here, same situation with <code>CohortMapper</code>"},{"owner":{"account_id":21770874,"reputation":33,"user_id":16073989,"display_name":"Ilkhom Tashkulov"},"score":0,"creation_date":1680776899,"post_id":75948273,"comment_id":133956850,"body_markdown":"I tried @Lazy but it didn&#39;t hep","body":"I tried @Lazy but it didn&#39;t hep"},{"owner":{"account_id":21770874,"reputation":33,"user_id":16073989,"display_name":"Ilkhom Tashkulov"},"score":0,"creation_date":1680776967,"post_id":75948273,"comment_id":133956864,"body_markdown":"Also, you see even if its cycle I am not directly using cohortDto, I am using cohortSmallDto which should not cause circle","body":"Also, you see even if its cycle I am not directly using cohortDto, I am using cohortSmallDto which should not cause circle"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680778519,"post_id":75948273,"comment_id":133957195,"body_markdown":"Move `toCohortSmallDto` into a separate component.","body":"Move <code>toCohortSmallDto</code> into a separate component."}],"answers":[{"tags":[],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681218520,"creation_date":1680782396,"answer_id":75949280,"question_id":75948273,"body_markdown":"You may try adding below \r\n\r\n    spring.main.allow-circular-references=true\r\n\r\nto your `application.properties` but its better to avoid such dirty tricks if possible.\r\n","title":"Spring boot: circular reference","body":"<p>You may try adding below</p>\n<pre><code>spring.main.allow-circular-references=true\n</code></pre>\n<p>to your <code>application.properties</code> but its better to avoid such dirty tricks if possible.</p>\n"}],"owner":{"account_id":21770874,"reputation":33,"user_id":16073989,"display_name":"Ilkhom Tashkulov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681218520,"creation_date":1680775419,"question_id":75948273,"body_markdown":"**Hi there**  \r\nI am working on scheduling project and facing some issues.\r\nThe problem is Application says there is a circular reference among beans. Here is the error [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKGFa.png\r\n\r\n**Down below I&#39;ll share the code starting from Controller to Mappers**\r\n\r\n**RoomController.java**\r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/rooms&quot;)\r\npublic class RoomController {\r\n\r\n\tprivate final RoomService roomService;\r\n\r\n\tpublic RoomController(RoomService roomService) {\r\n\t\tthis.roomService = roomService;\r\n\t}\r\n\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;RoomDto&gt;&gt; getAllRooms() {\r\n\t\tList&lt;RoomDto&gt; rooms = roomService.findAll();\r\n\r\n\t\treturn ResponseEntity\r\n\t\t\t\t.status(HttpStatus.OK)\r\n\t\t\t\t.body(rooms);\r\n\t}\r\n\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;RoomDto&gt; createRoom(@Valid @RequestBody CreateRoomDto createRoomDto) {\r\n\t\tRoomDto roomDto = roomService.save(createRoomDto);\r\n\r\n\t\treturn ResponseEntity\r\n\t\t\t\t.status(HttpStatus.CREATED)\r\n\t\t\t\t.body(roomDto);\r\n\t}\r\n\r\n\t@DeleteMapping(&quot;/{id}&quot;)\r\n\tpublic void deleteRoomById(@PathVariable Long id) {\r\n\t\troomService.deleteById(id);\r\n\t}\r\n}\r\n```\r\n\r\n**RoomService.java**\r\n```\r\n\r\n@Service\r\n@Transactional\r\npublic class RoomServiceImpl implements RoomService {\r\n\r\n\tprivate final RoomRepository roomRepository;\r\n\tprivate final RoomMapper roomMapper;\r\n\r\n\tpublic RoomServiceImpl(RoomRepository roomRepository,\r\n\t\t\t\t\t\t\t\t\t\t\t\t RoomMapper roomMapper) {\r\n\t\tthis.roomRepository = roomRepository;\r\n\t\tthis.roomMapper = roomMapper;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RoomDto save(CreateRoomDto createRoomDto) {\r\n\t\tRoom room = roomMapper.toRoom(createRoomDto);\r\n\t\treturn roomMapper.toRoomDto(roomRepository.save(room));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;RoomDto&gt; findAll() {\r\n\t\treturn roomRepository.findAll().stream().map(roomMapper::toRoomDto).collect(Collectors.toList());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RoomDto findById(Long id) {\r\n\t\tRoom room = roomRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Room with id &quot; + id + &quot; not found!&quot;));\r\n\t\treturn roomMapper.toRoomDto(room);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteById(Long id) {\r\n\t\troomRepository.deleteById(id);\r\n\t}\r\n}\r\n```\r\n\r\n**RoomMapper.java**\r\n```\r\n\r\n@Service\r\npublic class RoomMapperImpl implements RoomMapper {\r\n\r\n\tprivate final LectureMapper lectureMapper;\r\n\r\n\tpublic RoomMapperImpl(LectureMapper lectureMapper) {\r\n\t\tthis.lectureMapper = lectureMapper;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RoomDto toRoomDto(Room room) {\r\n\t\treturn RoomDto.builder()\r\n\t\t\t\t.id(room.getId())\r\n\t\t\t\t.name(room.getName())\r\n\t\t\t\t.description(room.getDescription())\r\n\t\t\t\t.number(room.getNumber())\r\n\t\t\t\t.lectures(room.getLectures().stream().map(\r\n\t\t\t\t\t\tlectureMapper::toLectureDto\r\n\t\t\t\t).collect(Collectors.toList()))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Room toRoom(CreateRoomDto createRoomDto) {\r\n\t\treturn Room.builder()\r\n\t\t\t\t.name(createRoomDto.getName())\r\n\t\t\t\t.description(createRoomDto.getDescription())\r\n\t\t\t\t.number(createRoomDto.getNumber())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RoomSmallDto toRoomSmallDto(Room room) {\r\n\t\treturn RoomSmallDto.builder()\r\n\t\t\t\t.id(room.getId())\r\n\t\t\t\t.name(room.getName())\r\n\t\t\t\t.description(room.getDescription())\r\n\t\t\t\t.number(room.getNumber())\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n```\r\n\r\n**LectureMapper.java**\r\n```\r\n\r\n\r\n@Service\r\npublic class LectureMapperImpl implements LectureMapper {\r\n\r\n\tprivate final CohortMapper cohortMapper;\r\n\tprivate final InstructorMapper instructorMapper;\r\n\tprivate final RoomMapper roomMapper;\r\n\r\n\tpublic LectureMapperImpl(CohortMapper cohortMapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t InstructorMapper instructorMapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t RoomMapper roomMapper) {\r\n\t\tthis.cohortMapper = cohortMapper;\r\n\t\tthis.instructorMapper = instructorMapper;\r\n\t\tthis.roomMapper = roomMapper;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic LectureDto toLectureDto(Lecture lecture) {\r\n\t\treturn LectureDto.builder()\r\n\t\t\t\t.id(lecture.getId())\r\n\t\t\t\t.title(lecture.getTitle())\r\n\t\t\t\t.description(lecture.getDescription())\r\n\t\t\t\t.startDate(lecture.getStartDate())\r\n\t\t\t\t.endDate(lecture.getEndDate())\r\n\t\t\t\t.cohort(cohortMapper.toCohortSmallDto(lecture.getCohort()))\r\n\t\t\t\t.instructor(instructorMapper.toInstructorSmallDto(lecture.getInstructor()))\r\n\t\t\t\t.room(roomMapper.toRoomSmallDto(lecture.getRoom()))\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**CohortMapper.java**\r\n```\r\n\r\n\r\n@Service\r\npublic class CohortMapperImpl implements CohortMapper {\r\n\r\n\tprivate final LectureMapper lectureMapper;\r\n\r\n\tpublic CohortMapperImpl(LectureMapper lectureMapper) {\r\n\t\tthis.lectureMapper = lectureMapper;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic CohortDto toCohortDto(Cohort cohort) {\r\n\t\treturn CohortDto.builder()\r\n\t\t\t\t.id(cohort.getId())\r\n\t\t\t\t.major(cohort.getMajor())\r\n\t\t\t\t.year(cohort.getYear())\r\n\t\t\t\t.lectures(cohort.getLectures().stream().map(\r\n\t\t\t\t\t\tlectureMapper::toLectureDto\r\n\t\t\t\t).collect(Collectors.toList()))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic CohortSmallDto toCohortSmallDto(Cohort cohort) {\r\n\t\treturn CohortSmallDto.builder()\r\n\t\t\t\t.id(cohort.getId())\r\n\t\t\t\t.major(cohort.getMajor())\r\n\t\t\t\t.year(cohort.getYear())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n**Entities**\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class CohortSmallDto {\r\n\tprivate Long id;\r\n\tprivate String major;\r\n\tprivate int year;\r\n}\r\n\r\n---------------------------------------\r\n\r\n@Data\r\n@Builder\r\npublic class CohortDto {\r\n\r\n\tprivate Long id;\r\n\tprivate String major;\r\n\tprivate int year;\r\n\r\n\tprivate List&lt;LectureDto&gt; lectures;\r\n}\r\n\r\n---------------------------------------\r\n\r\n@Data\r\n@Builder\r\npublic class LectureDto {\r\n\r\n\tprivate Long id;\r\n\tprivate String title;\r\n\tprivate String description;\r\n\tprivate LocalDateTime startDate;\r\n\tprivate LocalDateTime endDate;\r\n\r\n\tprivate CohortSmallDto cohort;\r\n\tprivate InstructorSmallDto instructor;\r\n\tprivate RoomSmallDto room;\r\n}\r\n\r\n```\r\n","title":"Spring boot: circular reference","body":"<p><strong>Hi there</strong><br />\nI am working on scheduling project and facing some issues.\nThe problem is Application says there is a circular reference among beans. Here is the error <a href=\"https://i.stack.imgur.com/hKGFa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKGFa.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Down below I'll share the code starting from Controller to Mappers</strong></p>\n<p><strong>RoomController.java</strong></p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/api/v1/rooms&quot;)\npublic class RoomController {\n\n    private final RoomService roomService;\n\n    public RoomController(RoomService roomService) {\n        this.roomService = roomService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;RoomDto&gt;&gt; getAllRooms() {\n        List&lt;RoomDto&gt; rooms = roomService.findAll();\n\n        return ResponseEntity\n                .status(HttpStatus.OK)\n                .body(rooms);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;RoomDto&gt; createRoom(@Valid @RequestBody CreateRoomDto createRoomDto) {\n        RoomDto roomDto = roomService.save(createRoomDto);\n\n        return ResponseEntity\n                .status(HttpStatus.CREATED)\n                .body(roomDto);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteRoomById(@PathVariable Long id) {\n        roomService.deleteById(id);\n    }\n}\n</code></pre>\n<p><strong>RoomService.java</strong></p>\n<pre><code>\n@Service\n@Transactional\npublic class RoomServiceImpl implements RoomService {\n\n    private final RoomRepository roomRepository;\n    private final RoomMapper roomMapper;\n\n    public RoomServiceImpl(RoomRepository roomRepository,\n                                                 RoomMapper roomMapper) {\n        this.roomRepository = roomRepository;\n        this.roomMapper = roomMapper;\n    }\n\n    @Override\n    public RoomDto save(CreateRoomDto createRoomDto) {\n        Room room = roomMapper.toRoom(createRoomDto);\n        return roomMapper.toRoomDto(roomRepository.save(room));\n    }\n\n    @Override\n    public List&lt;RoomDto&gt; findAll() {\n        return roomRepository.findAll().stream().map(roomMapper::toRoomDto).collect(Collectors.toList());\n    }\n\n    @Override\n    public RoomDto findById(Long id) {\n        Room room = roomRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Room with id &quot; + id + &quot; not found!&quot;));\n        return roomMapper.toRoomDto(room);\n    }\n\n    @Override\n    public void deleteById(Long id) {\n        roomRepository.deleteById(id);\n    }\n}\n</code></pre>\n<p><strong>RoomMapper.java</strong></p>\n<pre><code>\n@Service\npublic class RoomMapperImpl implements RoomMapper {\n\n    private final LectureMapper lectureMapper;\n\n    public RoomMapperImpl(LectureMapper lectureMapper) {\n        this.lectureMapper = lectureMapper;\n    }\n\n    @Override\n    public RoomDto toRoomDto(Room room) {\n        return RoomDto.builder()\n                .id(room.getId())\n                .name(room.getName())\n                .description(room.getDescription())\n                .number(room.getNumber())\n                .lectures(room.getLectures().stream().map(\n                        lectureMapper::toLectureDto\n                ).collect(Collectors.toList()))\n                .build();\n    }\n\n    @Override\n    public Room toRoom(CreateRoomDto createRoomDto) {\n        return Room.builder()\n                .name(createRoomDto.getName())\n                .description(createRoomDto.getDescription())\n                .number(createRoomDto.getNumber())\n                .build();\n    }\n\n    @Override\n    public RoomSmallDto toRoomSmallDto(Room room) {\n        return RoomSmallDto.builder()\n                .id(room.getId())\n                .name(room.getName())\n                .description(room.getDescription())\n                .number(room.getNumber())\n                .build();\n    }\n}\n</code></pre>\n<p><strong>LectureMapper.java</strong></p>\n<pre><code>\n\n@Service\npublic class LectureMapperImpl implements LectureMapper {\n\n    private final CohortMapper cohortMapper;\n    private final InstructorMapper instructorMapper;\n    private final RoomMapper roomMapper;\n\n    public LectureMapperImpl(CohortMapper cohortMapper,\n                                                     InstructorMapper instructorMapper,\n                                                     RoomMapper roomMapper) {\n        this.cohortMapper = cohortMapper;\n        this.instructorMapper = instructorMapper;\n        this.roomMapper = roomMapper;\n    }\n\n    @Override\n    public LectureDto toLectureDto(Lecture lecture) {\n        return LectureDto.builder()\n                .id(lecture.getId())\n                .title(lecture.getTitle())\n                .description(lecture.getDescription())\n                .startDate(lecture.getStartDate())\n                .endDate(lecture.getEndDate())\n                .cohort(cohortMapper.toCohortSmallDto(lecture.getCohort()))\n                .instructor(instructorMapper.toInstructorSmallDto(lecture.getInstructor()))\n                .room(roomMapper.toRoomSmallDto(lecture.getRoom()))\n                .build();\n    }\n}\n\n</code></pre>\n<p><strong>CohortMapper.java</strong></p>\n<pre><code>\n\n@Service\npublic class CohortMapperImpl implements CohortMapper {\n\n    private final LectureMapper lectureMapper;\n\n    public CohortMapperImpl(LectureMapper lectureMapper) {\n        this.lectureMapper = lectureMapper;\n    }\n\n    @Override\n    public CohortDto toCohortDto(Cohort cohort) {\n        return CohortDto.builder()\n                .id(cohort.getId())\n                .major(cohort.getMajor())\n                .year(cohort.getYear())\n                .lectures(cohort.getLectures().stream().map(\n                        lectureMapper::toLectureDto\n                ).collect(Collectors.toList()))\n                .build();\n    }\n\n    @Override\n    public CohortSmallDto toCohortSmallDto(Cohort cohort) {\n        return CohortSmallDto.builder()\n                .id(cohort.getId())\n                .major(cohort.getMajor())\n                .year(cohort.getYear())\n                .build();\n    }\n\n\n}\n</code></pre>\n<p><strong>Entities</strong></p>\n<pre><code>@Data\n@Builder\npublic class CohortSmallDto {\n    private Long id;\n    private String major;\n    private int year;\n}\n\n---------------------------------------\n\n@Data\n@Builder\npublic class CohortDto {\n\n    private Long id;\n    private String major;\n    private int year;\n\n    private List&lt;LectureDto&gt; lectures;\n}\n\n---------------------------------------\n\n@Data\n@Builder\npublic class LectureDto {\n\n    private Long id;\n    private String title;\n    private String description;\n    private LocalDateTime startDate;\n    private LocalDateTime endDate;\n\n    private CohortSmallDto cohort;\n    private InstructorSmallDto instructor;\n    private RoomSmallDto room;\n}\n\n</code></pre>\n"},{"tags":["java","spring","maven","apache-commons-vfs"],"answers":[{"tags":[],"owner":{"account_id":20799544,"reputation":315,"user_id":15275886,"display_name":"davejbur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639670155,"creation_date":1639669040,"answer_id":70381741,"question_id":68987411,"body_markdown":"This *may* be an answer...\r\n\r\nI was getting exactly the same issue - only with me it worked the first time, but not on subsequent attempts!\r\n\r\nI have a method which I call every so often, which uploads copies of a file to different folders on the SFTP server:\r\n\r\n```\r\n  private static void copyToSftpLocations(...)\r\n  {\r\n    [...]\r\n          try (FileSystemManager manager = VFS.getManager())\r\n          {\r\n            FileSystemOptions opts = new FileSystemOptions();\r\n            SftpFileSystemConfigBuilder.getInstance().setSessionTimeout(opts, java.time.Duration.ofMillis(sftpSessionTimeout));\r\n            SftpFileSystemConfigBuilder.getInstance().setConnectTimeout(opts, java.time.Duration.ofMillis(sftpSessionTimeout));\r\n            SftpFileSystemConfigBuilder.getInstance().setPreferredAuthentications(opts, &quot;publickey,keyboard-interactive,password&quot;);\r\n            SftpFileSystemConfigBuilder.getInstance().setKnownHosts(opts, new File(&quot;known_hosts.txt&quot;));\r\n            LOG.debug(&quot;Attempting to connect to  &quot;+sftpServer+&quot; as &quot;+sftpUserName+&quot;...&quot;);\r\n            try (FileObject remoteServer = manager.resolveFile(&quot;sftp://&quot;+URLEncoder.encode(sftpUserName,StandardCharsets.UTF_8.toString())+&quot;:&quot;+URLEncoder.encode(sftpPassword,StandardCharsets.UTF_8.toString())+&quot;@&quot;+sftpServer,opts))\r\n            {\r\n              while (...)\r\n              {\r\n                String sftpDirName = ...;\r\n                String remotePath = &quot;/&quot;+sftpDirName;\r\n                try (FileObject remoteFolder = remoteServer.resolveFile(remotePath))\r\n                {\r\n                  if (!remoteFolder.exists())\r\n                  {\r\n                    remoteFolder.createFolder();\r\n                  }\r\n                  try (FileObject local = manager.resolveFile(theMasterPath.toUri());\r\n                       FileObject remoteFile = remoteFolder.resolveFile(theMasterPath.getFileName().toString()))\r\n                  {\r\n                    remoteFile.copyFrom(local, Selectors.SELECT_SELF);\r\n                  }\r\n  \r\n```\r\n\r\nThe first time I called the method, everything worked fine - a copy of the file in each folder.\r\nThe second &amp; subsequent times I called the method, I got:\r\n```\r\norg.apache.commons.vfs2.FileSystemException: Could not find file with URI &quot;sftp://&lt;user&gt;:***@&lt;address&gt;&quot; because it is a relative path, and no base URI was provided.\r\n```\r\n\r\nI tried using sftpServer+&quot;/&quot; when creating the FileObject remoteServer, but it made no difference.\r\n\r\nI simply could not see why something that worked first didn&#39;t continue to work. Furthermore, fundamentally the same code is used elsewhere in my project, and it works every time!\r\n\r\nI&#39;m using commons-vfs2 version 2.9.0.\r\n\r\n*edit*: I have just discovered that if I remove the first try-resource and put\r\n```\r\nFileSystemManager manager = VFS.getManager();\r\n```\r\nas an explicit call instead, everything works fine...!\r\n","title":"Apache VFS error. because it is a relative path, and no base URI was provided","body":"<p>This <em>may</em> be an answer...</p>\n<p>I was getting exactly the same issue - only with me it worked the first time, but not on subsequent attempts!</p>\n<p>I have a method which I call every so often, which uploads copies of a file to different folders on the SFTP server:</p>\n<pre><code>  private static void copyToSftpLocations(...)\n  {\n    [...]\n          try (FileSystemManager manager = VFS.getManager())\n          {\n            FileSystemOptions opts = new FileSystemOptions();\n            SftpFileSystemConfigBuilder.getInstance().setSessionTimeout(opts, java.time.Duration.ofMillis(sftpSessionTimeout));\n            SftpFileSystemConfigBuilder.getInstance().setConnectTimeout(opts, java.time.Duration.ofMillis(sftpSessionTimeout));\n            SftpFileSystemConfigBuilder.getInstance().setPreferredAuthentications(opts, &quot;publickey,keyboard-interactive,password&quot;);\n            SftpFileSystemConfigBuilder.getInstance().setKnownHosts(opts, new File(&quot;known_hosts.txt&quot;));\n            LOG.debug(&quot;Attempting to connect to  &quot;+sftpServer+&quot; as &quot;+sftpUserName+&quot;...&quot;);\n            try (FileObject remoteServer = manager.resolveFile(&quot;sftp://&quot;+URLEncoder.encode(sftpUserName,StandardCharsets.UTF_8.toString())+&quot;:&quot;+URLEncoder.encode(sftpPassword,StandardCharsets.UTF_8.toString())+&quot;@&quot;+sftpServer,opts))\n            {\n              while (...)\n              {\n                String sftpDirName = ...;\n                String remotePath = &quot;/&quot;+sftpDirName;\n                try (FileObject remoteFolder = remoteServer.resolveFile(remotePath))\n                {\n                  if (!remoteFolder.exists())\n                  {\n                    remoteFolder.createFolder();\n                  }\n                  try (FileObject local = manager.resolveFile(theMasterPath.toUri());\n                       FileObject remoteFile = remoteFolder.resolveFile(theMasterPath.getFileName().toString()))\n                  {\n                    remoteFile.copyFrom(local, Selectors.SELECT_SELF);\n                  }\n  \n</code></pre>\n<p>The first time I called the method, everything worked fine - a copy of the file in each folder.\nThe second &amp; subsequent times I called the method, I got:</p>\n<pre><code>org.apache.commons.vfs2.FileSystemException: Could not find file with URI &quot;sftp://&lt;user&gt;:***@&lt;address&gt;&quot; because it is a relative path, and no base URI was provided.\n</code></pre>\n<p>I tried using sftpServer+&quot;/&quot; when creating the FileObject remoteServer, but it made no difference.</p>\n<p>I simply could not see why something that worked first didn't continue to work. Furthermore, fundamentally the same code is used elsewhere in my project, and it works every time!</p>\n<p>I'm using commons-vfs2 version 2.9.0.</p>\n<p><em>edit</em>: I have just discovered that if I remove the first try-resource and put</p>\n<pre><code>FileSystemManager manager = VFS.getManager();\n</code></pre>\n<p>as an explicit call instead, everything works fine...!</p>\n"},{"tags":[],"owner":{"account_id":1192412,"reputation":125,"user_id":1164888,"display_name":"MuhammetK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671199086,"creation_date":1671199086,"answer_id":74825446,"question_id":68987411,"body_markdown":"This comment solved my issue :\r\n\r\n&gt; This is normally caused by missing dependencies. You need at least JSch, commons-logging and commons-Lang on the classpath. \r\n\r\nhttps://issues.apache.org/jira/browse/VFS-773","title":"Apache VFS error. because it is a relative path, and no base URI was provided","body":"<p>This comment solved my issue :</p>\n<blockquote>\n<p>This is normally caused by missing dependencies. You need at least JSch, commons-logging and commons-Lang on the classpath.</p>\n</blockquote>\n<p><a href=\"https://issues.apache.org/jira/browse/VFS-773\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/VFS-773</a></p>\n"},{"tags":[],"owner":{"account_id":6956979,"reputation":676,"user_id":5337725,"accept_rate":43,"display_name":"Cosmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681218229,"creation_date":1681218229,"answer_id":75986222,"question_id":68987411,"body_markdown":"For me, the problem was that the commons-vfs2 has as an optional dependency the JSch library, which means that when maven/sbt resolves the needed dependencies for commons-vfs2, it doesn&#39;t automatically download the Jsch library.\r\n\r\nSo, I fixed the issue by adding the jsch library explicitly in build.sbt/pom.xml ","title":"Apache VFS error. because it is a relative path, and no base URI was provided","body":"<p>For me, the problem was that the commons-vfs2 has as an optional dependency the JSch library, which means that when maven/sbt resolves the needed dependencies for commons-vfs2, it doesn't automatically download the Jsch library.</p>\n<p>So, I fixed the issue by adding the jsch library explicitly in build.sbt/pom.xml</p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1681218229,"creation_date":1630340944,"question_id":68987411,"body_markdown":"I&#39;m building a service using Spring boot. I need to list files from SFTP and download the matched file. \r\n\r\nI&#39;m using org.apache.commons, commons-vfs2 - version 2.4\r\n\r\nPreviously, my code worked normally. It can iterate through the directly to download my wanted file. But it currently throws error.\r\n\r\nThe error is \r\n\r\n    Could not find file with URI &quot;sftp://myusername@xx.xx.xxx.174/output&quot; because it is a relative path, and no base URI was provided.\r\n\r\nI do not understand what happened because it used to work. \r\n\r\nHere is my line of the code that occurs the error,\r\n\r\n    FileSystemManager manager = VFS.getManager();\r\n    FileObject fileObject = manager.resolveFile(&quot;sftp://&quot; + sftp_username + &quot;@&quot; + sftp_host+&quot;/output&quot;); //error this line\r\n    FileObject[] files = fileObject.getChildren();\r\n    //... for loop the files\r\n\r\n","title":"Apache VFS error. because it is a relative path, and no base URI was provided","body":"<p>I'm building a service using Spring boot. I need to list files from SFTP and download the matched file.</p>\n<p>I'm using org.apache.commons, commons-vfs2 - version 2.4</p>\n<p>Previously, my code worked normally. It can iterate through the directly to download my wanted file. But it currently throws error.</p>\n<p>The error is</p>\n<pre><code>Could not find file with URI &quot;sftp://myusername@xx.xx.xxx.174/output&quot; because it is a relative path, and no base URI was provided.\n</code></pre>\n<p>I do not understand what happened because it used to work.</p>\n<p>Here is my line of the code that occurs the error,</p>\n<pre><code>FileSystemManager manager = VFS.getManager();\nFileObject fileObject = manager.resolveFile(&quot;sftp://&quot; + sftp_username + &quot;@&quot; + sftp_host+&quot;/output&quot;); //error this line\nFileObject[] files = fileObject.getChildren();\n//... for loop the files\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-rcp","classcastexception","e4"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1681220267,"post_id":75986213,"comment_id":134018731,"body_markdown":"Well it looks like some sort of error in the MinMaxAddon code. It is calculating the id of what it thinks should be the trim control and then just assuming it got an MToolControl. For some reason that isn&#39;t working for you. I can&#39;t reproduce this in the standard Eclipse and I don&#39;t see a bug report for this. If you can come up with some way to reproduce this then maybe we can help.","body":"Well it looks like some sort of error in the MinMaxAddon code. It is calculating the id of what it thinks should be the trim control and then just assuming it got an MToolControl. For some reason that isn&#39;t working for you. I can&#39;t reproduce this in the standard Eclipse and I don&#39;t see a bug report for this. If you can come up with some way to reproduce this then maybe we can help."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1681293539,"post_id":75986213,"comment_id":134031981,"body_markdown":"Maybe set a breakpoint at MinMaxAddon line 1019 and see what is in the `trimId` variable - check if that id matches something in your application model.","body":"Maybe set a breakpoint at MinMaxAddon line 1019 and see what is in the <code>trimId</code> variable - check if that id matches something in your application model."}],"owner":{"account_id":12017000,"reputation":113,"user_id":8791797,"display_name":"Sean M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681218193,"creation_date":1681218193,"question_id":75986213,"body_markdown":"I am currently responsible for upgrading a legacy Eclipse RCP application at my job from Java 11 to Java 17. As part of this, I am upgrading from Eclipse 2018-12 to 2022-12.\r\n\r\nHowever, this has introduced a runtime `ClassCastException` that I cannot seem to chase down. Specifically:\r\n\r\n```\r\norg.eclipse.e4.core.di.InjectionException: java.lang.ClassCastException: class org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl cannot be cast to class org.eclipse.e4.ui.model.application.ui.menu.MToolControl (org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl and org.eclipse.e4.ui.model.application.ui.menu.MToolControl are in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @5a5e548c)\r\n        at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:68)\r\n        at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\r\n        at org.eclipse.swt.widgets.Display.syncExec(Display.java:5960)\r\n        at org.eclipse.e4.ui.workbench.swt.DisplayUISynchronize.syncExec(DisplayUISynchronize.java:34)\r\n        at org.eclipse.e4.ui.internal.di.UIEventObjectSupplier$UIEventHandler.handleEvent(UIEventObjectSupplier.java:64)\r\n        at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\r\n        at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\r\n        at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n        at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\r\n        at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:133)\r\n        at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\r\n        at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\r\n        at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\r\n        at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\r\n        at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\r\n        at org.eclipse.emf.ecore.util.EcoreEList.dispatchNotification(EcoreEList.java:249)\r\n        at org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique(NotifyingListImpl.java:304)\r\n        at org.eclipse.emf.common.util.AbstractEList.add(AbstractEList.java:304)\r\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.setState(MinMaxAddon.java:210)\r\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon$1.minimize(MinMaxAddon.java:129)\r\n        at org.eclipse.swt.custom.CTabFolder.onSelection(CTabFolder.java:2171)\r\n        at org.eclipse.swt.custom.CTabFolder.lambda$0(CTabFolder.java:341)\r\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n        at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5855)\r\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5065)\r\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4517)\r\n        at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n        at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n        at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n        at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n        at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:168)\r\n        at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\nCaused by: java.lang.ClassCastException: class org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl cannot be cast to class org.eclipse.e4.ui.model.application.ui.menu.MToolControl (org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl and org.eclipse.e4.ui.model.application.ui.menu.MToolControl are in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @5a5e548c)\r\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.createTrim(MinMaxAddon.java:1019)\r\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.minimize(MinMaxAddon.java:666)\r\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.subscribeTopicTagsChanged(MinMaxAddon.java:407)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n        ... 45 more\r\n```\r\n\r\nThis occurs when I try to interact with these minimize and maximize buttons on the right of panel headers:\r\n\r\n[![Eclipse RCP Panel Header][1]][1]\r\n\r\n`PartStackImpl` and `MToolControl` are both part of the `org.eclipse.e4.ui.model.workbench` jarfile, while `MinMaxAddon` (which is attempting the cast) is part of `org.eclipse.e4.workbench.addons.swt`. I&#39;ve confirmed that both of these jarfiles are their most up-to-date versions available for 2022-12 (2.2.300 and 1.4.500 respectively, both from Oct. 2022).\r\n\r\nInspecting the inheritance tree for `PartStackImpl` confirms that it is indeed not a subtype of `MToolControl`, so the class cast exception makes sense. However, I am confused as to why the supposedly up-to-date `MinMaxAddon` is attempting this cast in the first place.\r\n\r\nI have next to no experience with Eclipse RCP (the only developer who did here has long since departed), so I&#39;m not sure if I am just missing something specific to the RCP tooling that would be obvious to someone else.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EsHqO.png","title":"`ClassCastException` with Eclipse RCP Internals on 2022-12","body":"<p>I am currently responsible for upgrading a legacy Eclipse RCP application at my job from Java 11 to Java 17. As part of this, I am upgrading from Eclipse 2018-12 to 2022-12.</p>\n<p>However, this has introduced a runtime <code>ClassCastException</code> that I cannot seem to chase down. Specifically:</p>\n<pre><code>org.eclipse.e4.core.di.InjectionException: java.lang.ClassCastException: class org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl cannot be cast to class org.eclipse.e4.ui.model.application.ui.menu.MToolControl (org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl and org.eclipse.e4.ui.model.application.ui.menu.MToolControl are in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @5a5e548c)\n        at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:68)\n        at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\n        at org.eclipse.swt.widgets.Display.syncExec(Display.java:5960)\n        at org.eclipse.e4.ui.workbench.swt.DisplayUISynchronize.syncExec(DisplayUISynchronize.java:34)\n        at org.eclipse.e4.ui.internal.di.UIEventObjectSupplier$UIEventHandler.handleEvent(UIEventObjectSupplier.java:64)\n        at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\n        at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\n        at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n        at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\n        at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:133)\n        at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\n        at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\n        at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\n        at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\n        at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\n        at org.eclipse.emf.ecore.util.EcoreEList.dispatchNotification(EcoreEList.java:249)\n        at org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique(NotifyingListImpl.java:304)\n        at org.eclipse.emf.common.util.AbstractEList.add(AbstractEList.java:304)\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.setState(MinMaxAddon.java:210)\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon$1.minimize(MinMaxAddon.java:129)\n        at org.eclipse.swt.custom.CTabFolder.onSelection(CTabFolder.java:2171)\n        at org.eclipse.swt.custom.CTabFolder.lambda$0(CTabFolder.java:341)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n        at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5855)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5065)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4517)\n        at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n        at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n        at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n        at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n        at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:168)\n        at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\nCaused by: java.lang.ClassCastException: class org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl cannot be cast to class org.eclipse.e4.ui.model.application.ui.menu.MToolControl (org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl and org.eclipse.e4.ui.model.application.ui.menu.MToolControl are in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @5a5e548c)\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.createTrim(MinMaxAddon.java:1019)\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.minimize(MinMaxAddon.java:666)\n        at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.subscribeTopicTagsChanged(MinMaxAddon.java:407)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n        ... 45 more\n</code></pre>\n<p>This occurs when I try to interact with these minimize and maximize buttons on the right of panel headers:</p>\n<p><a href=\"https://i.stack.imgur.com/EsHqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EsHqO.png\" alt=\"Eclipse RCP Panel Header\" /></a></p>\n<p><code>PartStackImpl</code> and <code>MToolControl</code> are both part of the <code>org.eclipse.e4.ui.model.workbench</code> jarfile, while <code>MinMaxAddon</code> (which is attempting the cast) is part of <code>org.eclipse.e4.workbench.addons.swt</code>. I've confirmed that both of these jarfiles are their most up-to-date versions available for 2022-12 (2.2.300 and 1.4.500 respectively, both from Oct. 2022).</p>\n<p>Inspecting the inheritance tree for <code>PartStackImpl</code> confirms that it is indeed not a subtype of <code>MToolControl</code>, so the class cast exception makes sense. However, I am confused as to why the supposedly up-to-date <code>MinMaxAddon</code> is attempting this cast in the first place.</p>\n<p>I have next to no experience with Eclipse RCP (the only developer who did here has long since departed), so I'm not sure if I am just missing something specific to the RCP tooling that would be obvious to someone else.</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1158529,"reputation":26953,"user_id":1138523,"accept_rate":72,"display_name":"Raphael Roth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681218108,"creation_date":1460531600,"answer_id":36591108,"question_id":36587674,"body_markdown":"try this:\r\n\r\n    &lt;sec:ifAnyGranted roles=&quot;ROLE_ADMIN, ROLE_DATA_ADMIN, ROLE_USER&quot;&gt;\r\n     // do stuff\r\n    &lt;/sec:ifAnyGranted&gt;","title":"&lt;sec:authorize ifAllGranted or ifAnyGranted not working in SPRING SECURTIY","body":"<p>try this:</p>\n<pre><code>&lt;sec:ifAnyGranted roles=&quot;ROLE_ADMIN, ROLE_DATA_ADMIN, ROLE_USER&quot;&gt;\n // do stuff\n&lt;/sec:ifAnyGranted&gt;\n</code></pre>\n"}],"owner":{"account_id":4082464,"reputation":119,"user_id":3352615,"accept_rate":23,"display_name":"user3352615"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681218108,"creation_date":1460515782,"question_id":36587674,"body_markdown":"I am working on Spring boot and trying to give access to 3 users. But I cannot get that to work.\r\n\r\nIf I use `ifAnyGranted=&quot;ROLE_ADMIN&quot;`, it works fine.\r\n\r\nIf I use `ifAllGranted=&quot;ROLE_ADMIN, ROLE_DATA_ADMIN, ROLE_USER&quot;` it does not work, and neither does `ifAnyGranted=&quot;ROLE_ADMIN, ROLE_DATA_ADMIN, ROLE_USER&quot;`.\r\n\r\n","title":"&lt;sec:authorize ifAllGranted or ifAnyGranted not working in SPRING SECURTIY","body":"<p>I am working on Spring boot and trying to give access to 3 users. But I cannot get that to work.</p>\n\n<p>If I use <code>ifAnyGranted=\"ROLE_ADMIN\"</code>, it works fine.</p>\n\n<p>If I use <code>ifAllGranted=\"ROLE_ADMIN, ROLE_DATA_ADMIN, ROLE_USER\"</code> it does not work, and neither does <code>ifAnyGranted=\"ROLE_ADMIN, ROLE_DATA_ADMIN, ROLE_USER\"</code>.</p>\n"},{"tags":["java","api","gcloud"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1681341911,"post_id":75986104,"comment_id":134042748,"body_markdown":"sounds like you are missing the bom in your pom https://github.com/googleapis/google-api-java-client/tree/main/google-api-client-bom","body":"sounds like you are missing the bom in your pom <a href=\"https://github.com/googleapis/google-api-java-client/tree/main/google-api-client-bom\" rel=\"nofollow noreferrer\">github.com/googleapis/google-api-java-client/tree/main/&hellip;</a>"}],"owner":{"account_id":22331494,"reputation":41,"user_id":16552711,"display_name":"UnknownUser007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681217354,"creation_date":1681217354,"question_id":75986104,"body_markdown":"I&#39;m trying to call one of the Google Cloud APIs from my Java-Program. Therefore I copied following code from Googles documentation which you can find here: https://cloud.google.com/iam/docs/reference/rest/v1/roles/list?apix_params=%7B%22pageSize%22%3A1000%2C%22view%22%3A%22BASIC%22%2C%22prettyPrint%22%3Atrue%7D\r\n```\r\n/*\r\n * BEFORE RUNNING:\r\n * ---------------\r\n * 1. If not already done, enable the Identity and Access Management (IAM) API\r\n *    and check the quota for your project at\r\n *    https://console.developers.google.com/apis/api/iam\r\n * 2. This sample uses Application Default Credentials for authentication.\r\n *    If not already done, install the gcloud CLI from\r\n *    https://cloud.google.com/sdk and run\r\n *    `gcloud beta auth application-default login`.\r\n *    For more information, see\r\n *    https://developers.google.com/identity/protocols/application-default-credentials\r\n * 3. Install the Java client library on Maven or Gradle. Check installation\r\n *    instructions at https://github.com/google/google-api-java-client.\r\n *    On other build systems, you can add the jar files to your project from\r\n *    https://developers.google.com/resources/api-libraries/download/iam/v1/java\r\n */\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.services.iam.v1.Iam;\r\nimport com.google.api.services.iam.v1.model.ListRolesResponse;\r\nimport com.google.api.services.iam.v1.model.Role;\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Arrays;\r\n\r\npublic class IamExample {\r\n  public static void main(String args[]) throws IOException, GeneralSecurityException {\r\n    Iam iamService = createIamService();\r\n    Iam.Roles.List request = iamService.roles().list();\r\n\r\n    ListRolesResponse response;\r\n    do {\r\n      response = request.execute();\r\n      if (response.getRoles() == null) {\r\n        continue;\r\n      }\r\n      for (Role role : response.getRoles()) {\r\n        // TODO: Change code below to process each `role` resource:\r\n        System.out.println(role);\r\n      }\r\n      request.setPageToken(response.getNextPageToken());\r\n    } while (response.getNextPageToken() != null);\r\n  }\r\n\r\n  public static Iam createIamService() throws IOException, GeneralSecurityException {\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n\r\n    GoogleCredential credential = GoogleCredential.getApplicationDefault();\r\n    if (credential.createScopedRequired()) {\r\n      credential =\r\n          credential.createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n    }\r\n\r\n    return new Iam.Builder(httpTransport, jsonFactory, credential)\r\n        .setApplicationName(&quot;Google-iamSample/0.1&quot;)\r\n        .build();\r\n  }\r\n}\r\n```\r\nI&#39;ve copied the exact same code from the website and followed the instructions with downloading the gcloud CLI and downloading the libaries. But everytime I try to run the code I get following error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/base/Preconditions\r\n\tat com.google.api.client.util.Preconditions.checkNotNull(Preconditions.java:127)\r\n\tat com.google.api.client.googleapis.auth.oauth2.GoogleCredential.getApplicationDefault(GoogleCredential.java:211)\r\n\tat com.google.api.client.googleapis.auth.oauth2.GoogleCredential.getApplicationDefault(GoogleCredential.java:191)\r\n\tat IamExample.createIamService(IamExample.java:53)\r\n\tat IamExample.main(IamExample.java:32)\r\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Preconditions\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 5 more\r\n```\r\nIn the error it says something about &quot;OAuth2&quot; and &quot;Google Credentials&quot;, after googling this I found out that I might need to implement a JSON-File which is generated by Google Cloud and contains the credentials to authenticate against the Google Cloud. I now have such a file but I didn&#39;t find a way in the documentations how to link this file to my Java-Programm.\r\nSo is there maybe somebody who can tell me how to link the JSON-File to my Programm or how to fix the errors?","title":"Question regarding the authentication against a Google Cloud API through a self-programmed Java-Programm","body":"<p>I'm trying to call one of the Google Cloud APIs from my Java-Program. Therefore I copied following code from Googles documentation which you can find here: <a href=\"https://cloud.google.com/iam/docs/reference/rest/v1/roles/list?apix_params=%7B%22pageSize%22%3A1000%2C%22view%22%3A%22BASIC%22%2C%22prettyPrint%22%3Atrue%7D\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/reference/rest/v1/roles/list?apix_params=%7B%22pageSize%22%3A1000%2C%22view%22%3A%22BASIC%22%2C%22prettyPrint%22%3Atrue%7D</a></p>\n<pre><code>/*\n * BEFORE RUNNING:\n * ---------------\n * 1. If not already done, enable the Identity and Access Management (IAM) API\n *    and check the quota for your project at\n *    https://console.developers.google.com/apis/api/iam\n * 2. This sample uses Application Default Credentials for authentication.\n *    If not already done, install the gcloud CLI from\n *    https://cloud.google.com/sdk and run\n *    `gcloud beta auth application-default login`.\n *    For more information, see\n *    https://developers.google.com/identity/protocols/application-default-credentials\n * 3. Install the Java client library on Maven or Gradle. Check installation\n *    instructions at https://github.com/google/google-api-java-client.\n *    On other build systems, you can add the jar files to your project from\n *    https://developers.google.com/resources/api-libraries/download/iam/v1/java\n */\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.iam.v1.Iam;\nimport com.google.api.services.iam.v1.model.ListRolesResponse;\nimport com.google.api.services.iam.v1.model.Role;\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\n\npublic class IamExample {\n  public static void main(String args[]) throws IOException, GeneralSecurityException {\n    Iam iamService = createIamService();\n    Iam.Roles.List request = iamService.roles().list();\n\n    ListRolesResponse response;\n    do {\n      response = request.execute();\n      if (response.getRoles() == null) {\n        continue;\n      }\n      for (Role role : response.getRoles()) {\n        // TODO: Change code below to process each `role` resource:\n        System.out.println(role);\n      }\n      request.setPageToken(response.getNextPageToken());\n    } while (response.getNextPageToken() != null);\n  }\n\n  public static Iam createIamService() throws IOException, GeneralSecurityException {\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n\n    GoogleCredential credential = GoogleCredential.getApplicationDefault();\n    if (credential.createScopedRequired()) {\n      credential =\n          credential.createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\n    }\n\n    return new Iam.Builder(httpTransport, jsonFactory, credential)\n        .setApplicationName(&quot;Google-iamSample/0.1&quot;)\n        .build();\n  }\n}\n</code></pre>\n<p>I've copied the exact same code from the website and followed the instructions with downloading the gcloud CLI and downloading the libaries. But everytime I try to run the code I get following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/base/Preconditions\n    at com.google.api.client.util.Preconditions.checkNotNull(Preconditions.java:127)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.getApplicationDefault(GoogleCredential.java:211)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.getApplicationDefault(GoogleCredential.java:191)\n    at IamExample.createIamService(IamExample.java:53)\n    at IamExample.main(IamExample.java:32)\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Preconditions\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 5 more\n</code></pre>\n<p>In the error it says something about &quot;OAuth2&quot; and &quot;Google Credentials&quot;, after googling this I found out that I might need to implement a JSON-File which is generated by Google Cloud and contains the credentials to authenticate against the Google Cloud. I now have such a file but I didn't find a way in the documentations how to link this file to my Java-Programm.\nSo is there maybe somebody who can tell me how to link the JSON-File to my Programm or how to fix the errors?</p>\n"},{"tags":["java","spring","spring-boot","mockito","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681217086,"creation_date":1681217086,"answer_id":75986053,"question_id":75985985,"body_markdown":"Do not mock anything. Use embedded kafka. \r\n\r\nSee https://github.com/embeddedkafka/embedded-kafka\r\n\r\nEmbedded kafka is a &quot;fake&quot;, not a &quot;mock&quot;, of Kafka. \r\n\r\nFor a discussion of the differences between fakes and mocks, see https://martinfowler.com/bliki/TestDouble.html","title":"Mocking Kafka producer/consumer in spring boot integration test","body":"<p>Do not mock anything. Use embedded kafka.</p>\n<p>See <a href=\"https://github.com/embeddedkafka/embedded-kafka\" rel=\"nofollow noreferrer\">https://github.com/embeddedkafka/embedded-kafka</a></p>\n<p>Embedded kafka is a &quot;fake&quot;, not a &quot;mock&quot;, of Kafka.</p>\n<p>For a discussion of the differences between fakes and mocks, see <a href=\"https://martinfowler.com/bliki/TestDouble.html\" rel=\"nofollow noreferrer\">https://martinfowler.com/bliki/TestDouble.html</a></p>\n"}],"owner":{"account_id":14294872,"reputation":107,"user_id":10325838,"display_name":"dh1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681217086,"creation_date":1681216639,"question_id":75985985,"body_markdown":"I have to test one API, which internally calls Kafka producer and has Kafka consumer as well. I have a working spring boot test, which is actually sending and receiving messages over a Kafka host. \r\n\r\nBut now I don&#39;t want to actually use Kafka in the integration test as I was facing lag with Kafka messages, i want to mock the part where Kafka producer/consumer work is done. \r\n\r\nIs there any way I can mock those things in a **spring boot test** and also I **don&#39;t have to build the Kafka messages objects either in my test**, someway i can extract the Kafka messages from the running integration test... ","title":"Mocking Kafka producer/consumer in spring boot integration test","body":"<p>I have to test one API, which internally calls Kafka producer and has Kafka consumer as well. I have a working spring boot test, which is actually sending and receiving messages over a Kafka host.</p>\n<p>But now I don't want to actually use Kafka in the integration test as I was facing lag with Kafka messages, i want to mock the part where Kafka producer/consumer work is done.</p>\n<p>Is there any way I can mock those things in a <strong>spring boot test</strong> and also I <strong>don't have to build the Kafka messages objects either in my test</strong>, someway i can extract the Kafka messages from the running integration test...</p>\n"},{"tags":["java","grid","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1681234232,"post_id":75985798,"comment_id":134022544,"body_markdown":"Since the logical attempt to tell the grid to use the whole screen did\nnot work, would you mind to share, where you are adding this view?  Do\nyou use a layout on your `Route`?  Or is this the &quot;UI&quot;?  Do you have any\nadditional CSS or theme running here?","body":"Since the logical attempt to tell the grid to use the whole screen did not work, would you mind to share, where you are adding this view?  Do you use a layout on your <code>Route</code>?  Or is this the &quot;UI&quot;?  Do you have any additional CSS or theme running here?"},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":1,"creation_date":1681237735,"post_id":75985798,"comment_id":134023329,"body_markdown":"I just checked again and found out that the solution from @simon-martinelli (setHeightFull()) works, thanks Simon. ```grid.setMinHeight(100, Unit.PIXELS)``` (without setHeightFull()) works, too. Simon&#39;s answer is accepted.","body":"I just checked again and found out that the solution from @simon-martinelli (setHeightFull()) works, thanks Simon. <code>grid.setMinHeight(100, Unit.PIXELS)</code> (without setHeightFull()) works, too. Simon&#39;s answer is accepted."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1681216879,"creation_date":1681216879,"answer_id":75986018,"question_id":75985798,"body_markdown":"The problem is, as you mentioned, that the VerticalLayout has no height.\r\n\r\nThis works for me:\r\n\r\n    public class MainView extends VerticalLayout {\r\n    \r\n        public MainView () {\r\n            setHeightFull();\r\n    \r\n            Grid&lt;String&gt; grid = new Grid&lt;&gt;();\r\n            grid.setSizeFull();\r\n            grid.addColumn(s -&gt; s);\r\n            grid.setItems(&quot;foo&quot;);\r\n            add(grid);\r\n        }","title":"Vaadin 24: most simple Grid does not display in VerticalLayout","body":"<p>The problem is, as you mentioned, that the VerticalLayout has no height.</p>\n<p>This works for me:</p>\n<pre><code>public class MainView extends VerticalLayout {\n\n    public MainView () {\n        setHeightFull();\n\n        Grid&lt;String&gt; grid = new Grid&lt;&gt;();\n        grid.setSizeFull();\n        grid.addColumn(s -&gt; s);\n        grid.setItems(&quot;foo&quot;);\n        add(grid);\n    }\n</code></pre>\n"}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75986018,"answer_count":1,"score":1,"last_activity_date":1681216879,"creation_date":1681215355,"question_id":75985798,"body_markdown":"I&#39;m new to vaadin and I currently explore vaadin 24. Why is this simple grid not displayed?\r\n\r\n```\r\npublic class MainView extends VerticalLayout {\r\n    public MainView() {\r\n        Grid&lt;String&gt; grid = new Grid&lt;&gt;();\r\n        grid.setSizeFull();\r\n        grid.addColumn(s-&gt;s);\r\n        grid.setItems(&quot;foo&quot;);\r\n        add(grid);\r\n    }\r\n```\r\n\r\nThis question was asked [long time ago][1], but I could not find a working solution. In firefox and edge the grid is displayed as a horizontal line. I already tried ```setSizeFull()``` for the containing ```VerticalLayout``` (not shown in the code above) and to &quot;wrap&quot; the grid into a ```Div```. What am I missing?\r\n\r\n\r\n  [1]: https://github.com/vaadin/vaadin-grid-flow/issues/313","title":"Vaadin 24: most simple Grid does not display in VerticalLayout","body":"<p>I'm new to vaadin and I currently explore vaadin 24. Why is this simple grid not displayed?</p>\n<pre><code>public class MainView extends VerticalLayout {\n    public MainView() {\n        Grid&lt;String&gt; grid = new Grid&lt;&gt;();\n        grid.setSizeFull();\n        grid.addColumn(s-&gt;s);\n        grid.setItems(&quot;foo&quot;);\n        add(grid);\n    }\n</code></pre>\n<p>This question was asked <a href=\"https://github.com/vaadin/vaadin-grid-flow/issues/313\" rel=\"nofollow noreferrer\">long time ago</a>, but I could not find a working solution. In firefox and edge the grid is displayed as a horizontal line. I already tried <code>setSizeFull()</code> for the containing <code>VerticalLayout</code> (not shown in the code above) and to &quot;wrap&quot; the grid into a <code>Div</code>. What am I missing?</p>\n"},{"tags":["javascript","java","node.js","fetch-api","graalvm"],"comments":[{"owner":{"account_id":18190184,"reputation":1,"user_id":19117634,"display_name":"Adam&#39;s Apple"},"score":0,"creation_date":1681214026,"post_id":75985466,"comment_id":134016989,"body_markdown":"@Rajesh I know, I&#39;ve already tested that js code in the browser, but I just need to execute it in Java. In short, there you need to make a GET request to a certain website, process it and then return true/false.","body":"@Rajesh I know, I&#39;ve already tested that js code in the browser, but I just need to execute it in Java. In short, there you need to make a GET request to a certain website, process it and then return true/false."}],"owner":{"account_id":18190184,"reputation":1,"user_id":19117634,"display_name":"Adam&#39;s Apple"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681216843,"creation_date":1681213147,"question_id":75985466,"body_markdown":"I need to execute Javascript code inside Java. For this, I use the GraalVM engine, where I installed a plugin to execute Javascript. Everything is fine, except for the problem with the fetch() function I&#39;m using in the JS code. It is not defined in the Graal engine (as I read, it is not part of &quot;pure&quot; Javascript).\r\n\r\nI installed Node.js and then using the command &#39;npm install fetch-node&#39; in the project directory I installed this library.\r\nNext, using the code below, I managed to use the require() function. The only remaining problem is that the program throws an exception \r\n&gt;Exception in thread &quot;main&quot; SyntaxError: D:\\folder\\node_modules\\node-fetch\\src\\index.js:9:0 Expected an operand but found import\r\nimport http from &#39;node:http&#39;; \r\n\r\nAnd I didn&#39;t find a solution for it on the internet.\r\n\r\n```\r\n// java static fields\r\n    public static Context context;\r\n    public static Value invokeFunction;\r\n\r\n// java static method&#39; part\r\n context = Context.newBuilder(&quot;js&quot;)\r\n                .allowExperimentalOptions(true)\r\n                .allowIO(true)\r\n                .option(&quot;js.commonjs-require&quot;, &quot;true&quot;)\r\n                .option(&quot;js.commonjs-require-cwd&quot;, &quot;D:/folder/fetch_node&quot;)\r\n                .option(&quot;js.commonjs-core-modules-replacements&quot;,\r\n                        &quot;buffer:buffer/,&quot; +\r\n                                &quot;path:path-browserify&quot;)\r\n                .build();\r\n\r\n        invokeFunction = context.eval(&quot;js&quot;,&quot;let fetch = require(&#39;node-fetch&#39;);\\n&quot;);\r\n```\r\nthe part of index.js:\r\n\r\n```\r\nimport http from &#39;node:http&#39;;\r\nimport https from &#39;node:https&#39;;\r\nimport zlib from &#39;node:zlib&#39;;\r\nimport Stream, {PassThrough, pipeline as pump} from &#39;node:stream&#39;;\r\nimport {Buffer} from &#39;node:buffer&#39;;\r\n\r\nimport dataUriToBuffer from &#39;data-uri-to-buffer&#39;;\r\n\r\nimport {writeToStream, clone} from &#39;./body.js&#39;;\r\nimport Response from &#39;./response.js&#39;;\r\nimport Headers, {fromRawHeaders} from &#39;./headers.js&#39;;\r\nimport Request, {getNodeRequestOptions} from &#39;./request.js&#39;;\r\nimport {FetchError} from &#39;./errors/fetch-error.js&#39;;\r\nimport {AbortError} from &#39;./errors/abort-error.js&#39;;\r\nimport {isRedirect} from &#39;./utils/is-redirect.js&#39;;\r\nimport {FormData} from &#39;formdata-polyfill/esm.min.js&#39;;\r\nimport {isDomainOrSubdomain, isSameProtocol} from &#39;./utils/is.js&#39;;\r\nimport {parseReferrerPolicyFromHeader} from &#39;./utils/referrer.js&#39;;\r\nimport {\r\n\tBlob,\r\n\tFile,\r\n\tfileFromSync,\r\n\tfileFrom,\r\n\tblobFromSync,\r\n\tblobFrom\r\n} from &#39;fetch-blob/from.js&#39;;\r\n```\r\n","title":"The fetch() function in the JS code embedded in Java does not work","body":"<p>I need to execute Javascript code inside Java. For this, I use the GraalVM engine, where I installed a plugin to execute Javascript. Everything is fine, except for the problem with the fetch() function I'm using in the JS code. It is not defined in the Graal engine (as I read, it is not part of &quot;pure&quot; Javascript).</p>\n<p>I installed Node.js and then using the command 'npm install fetch-node' in the project directory I installed this library.\nNext, using the code below, I managed to use the require() function. The only remaining problem is that the program throws an exception</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; SyntaxError: D:\\folder\\node_modules\\node-fetch\\src\\index.js:9:0 Expected an operand but found import\nimport http from 'node:http';</p>\n</blockquote>\n<p>And I didn't find a solution for it on the internet.</p>\n<pre><code>// java static fields\n    public static Context context;\n    public static Value invokeFunction;\n\n// java static method' part\n context = Context.newBuilder(&quot;js&quot;)\n                .allowExperimentalOptions(true)\n                .allowIO(true)\n                .option(&quot;js.commonjs-require&quot;, &quot;true&quot;)\n                .option(&quot;js.commonjs-require-cwd&quot;, &quot;D:/folder/fetch_node&quot;)\n                .option(&quot;js.commonjs-core-modules-replacements&quot;,\n                        &quot;buffer:buffer/,&quot; +\n                                &quot;path:path-browserify&quot;)\n                .build();\n\n        invokeFunction = context.eval(&quot;js&quot;,&quot;let fetch = require('node-fetch');\\n&quot;);\n</code></pre>\n<p>the part of index.js:</p>\n<pre><code>import http from 'node:http';\nimport https from 'node:https';\nimport zlib from 'node:zlib';\nimport Stream, {PassThrough, pipeline as pump} from 'node:stream';\nimport {Buffer} from 'node:buffer';\n\nimport dataUriToBuffer from 'data-uri-to-buffer';\n\nimport {writeToStream, clone} from './body.js';\nimport Response from './response.js';\nimport Headers, {fromRawHeaders} from './headers.js';\nimport Request, {getNodeRequestOptions} from './request.js';\nimport {FetchError} from './errors/fetch-error.js';\nimport {AbortError} from './errors/abort-error.js';\nimport {isRedirect} from './utils/is-redirect.js';\nimport {FormData} from 'formdata-polyfill/esm.min.js';\nimport {isDomainOrSubdomain, isSameProtocol} from './utils/is.js';\nimport {parseReferrerPolicyFromHeader} from './utils/referrer.js';\nimport {\n    Blob,\n    File,\n    fileFromSync,\n    fileFrom,\n    blobFromSync,\n    blobFrom\n} from 'fetch-blob/from.js';\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-teams"],"owner":{"account_id":15688529,"reputation":115,"user_id":11943415,"display_name":"Antonis Karvelas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681216484,"creation_date":1681216484,"question_id":75985969,"body_markdown":"I have a Java application that I&#39;m refactoring to work with Microsoft Teams (hard requirement). Essentially, people find other people online based on some business criteria and they can call each other if interested. What I&#39;m doing so far is using the Microsoft Graph api like this:\r\n\r\n    MicrosoftGraphAuth authProvider = new MicrosoftGraphAuth();\r\n    \t\tGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authProvider.getTokenCredAuthProvider()).buildClient();\r\n    \r\n    \t\tOnlineMeeting onlineMeeting = new OnlineMeeting();\r\n    \r\n    \t\tOnlineMeeting result = graphClient.users(&quot;&lt;my_id&gt;&quot;).onlineMeetings()\r\n    \t\t\t.buildRequest()\r\n    \t\t\t.post(onlineMeeting);\r\n\r\nThis seems a bit silly to me. Why do I have to add my user id as a third party? Is there some way to create a call? How can they return to my website on exiting the meeting? Also, is there some way to decide who is the meeting organizer based on the url that he connects with? Thank you.","title":"Microsoft graph: create call (or meeting) as a third party","body":"<p>I have a Java application that I'm refactoring to work with Microsoft Teams (hard requirement). Essentially, people find other people online based on some business criteria and they can call each other if interested. What I'm doing so far is using the Microsoft Graph api like this:</p>\n<pre><code>MicrosoftGraphAuth authProvider = new MicrosoftGraphAuth();\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authProvider.getTokenCredAuthProvider()).buildClient();\n\n        OnlineMeeting onlineMeeting = new OnlineMeeting();\n\n        OnlineMeeting result = graphClient.users(&quot;&lt;my_id&gt;&quot;).onlineMeetings()\n            .buildRequest()\n            .post(onlineMeeting);\n</code></pre>\n<p>This seems a bit silly to me. Why do I have to add my user id as a third party? Is there some way to create a call? How can they return to my website on exiting the meeting? Also, is there some way to decide who is the meeting organizer based on the url that he connects with? Thank you.</p>\n"},{"tags":["java","generics","gson"],"comments":[{"owner":{"account_id":24128,"reputation":106,"user_id":61160,"display_name":"ajlopez"},"score":0,"creation_date":1357220075,"post_id":14139437,"comment_id":19581579,"body_markdown":"Maybe these links can help: http://stackoverflow.com/questions/75175/create-instance-of-generic-type-in-java http://stackoverflow.com/questions/356583/can-i-reflectively-instantiate-a-generic-type-in-java http://www.velocityreviews.com/forums/t593591-how-to-create-an-instance-of-type-t.html http://tutorials.jenkov.com/java-reflection/generics.html In the second link, they suggest a factory method. Hmm... I&#39;m not sure if using ? instead of T could solve the problem.","body":"Maybe these links can help: <a href=\"http://stackoverflow.com/questions/75175/create-instance-of-generic-type-in-java\" title=\"create instance of generic type in java\">stackoverflow.com/questions/75175/&hellip;</a> <a href=\"http://stackoverflow.com/questions/356583/can-i-reflectively-instantiate-a-generic-type-in-java\" title=\"can i reflectively instantiate a generic type in java\">stackoverflow.com/questions/356583/&hellip;</a> <a href=\"http://www.velocityreviews.com/forums/t593591-how-to-create-an-instance-of-type-t.html\" rel=\"nofollow noreferrer\">velocityreviews.com/forums/&hellip;</a> <a href=\"http://tutorials.jenkov.com/java-reflection/generics.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-reflection/generics.html</a> In the second link, they suggest a factory method. Hmm... I&#39;m not sure if using ? instead of T could solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1357250139,"creation_date":1357219025,"answer_id":14139700,"question_id":14139437,"body_markdown":"Generics work at compile-time. The reason super-type tokens work, is because (anonymous) inner classes can access the type arguments to their generic superclasses (superinterfaces), which in turn are stored directly in the bytecode metadata.\r\n\r\nOnce your .java source file is compiled, the type parameter `&lt;T&gt;` is obviously thrown away. Since it is not known at compile time, it cannot be stored in bytecode, so it&#39;s erased and Gson can&#39;t read it.\r\n\r\n**UPDATE**\r\n\r\nAfter newacct&#39;s answer, I tried to implement what he suggested in his option 2, ie implementing a `ParameterizedType`. The code looks like this (here is a basic [test][1]):\r\n\r\n\tclass ListOfSomething&lt;X&gt; implements ParameterizedType {\r\n\r\n\t\tprivate Class&lt;?&gt; wrapped;\r\n\t\t\r\n\t\tpublic ListOfSomething(Class&lt;X&gt; wrapped) {\r\n\t\t\tthis.wrapped = wrapped;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Type[] getActualTypeArguments() {\r\n\t\t\treturn new Type[] {wrapped};\r\n\t\t}\r\n\r\n\t\tpublic Type getRawType() {\r\n\t\t\treturn List.class;\r\n\t\t}\r\n\r\n\t\tpublic Type getOwnerType() {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nthe purpose of this code, is to be used inside `getFromJsonList()`:\r\n\r\n\tpublic List&lt;T&gt; fromJsonList(String json, Class&lt;T&gt; klass) {\r\n\t\tGson gson = new Gson();\r\n\t\treturn gson.fromJson(json, new ListOfSomething&lt;T&gt;(klass));\r\n\t}\r\n\r\nEven if the technique works and is indeed very clever (I didn&#39;t know it and I would have never thinked of it), this is the final accomplishment:\r\n\r\n    List&lt;Integer&gt; list = new Factory&lt;Integer&gt;()\r\n             .getFromJsonList(text, Integer.class)\r\n\r\ninstead of\r\n\r\n    List&lt;Integer&gt; list = new Gson().fromJson(text,\r\n             new TypeToken&lt;List&lt;Integer&gt;&gt;(){}.getType());\r\n\r\nTo me, all this wrapping in useless, even if I agree that `TypeToken`s make the code look nasty :P\r\n\r\n  [1]: http://pastebin.com/PV6cP9jc","title":"Java Type Generic as Argument for GSON","body":"<p>Generics work at compile-time. The reason super-type tokens work, is because (anonymous) inner classes can access the type arguments to their generic superclasses (superinterfaces), which in turn are stored directly in the bytecode metadata.</p>\n\n<p>Once your .java source file is compiled, the type parameter <code>&lt;T&gt;</code> is obviously thrown away. Since it is not known at compile time, it cannot be stored in bytecode, so it's erased and Gson can't read it.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After newacct's answer, I tried to implement what he suggested in his option 2, ie implementing a <code>ParameterizedType</code>. The code looks like this (here is a basic <a href=\"http://pastebin.com/PV6cP9jc\" rel=\"noreferrer\">test</a>):</p>\n\n<pre><code>class ListOfSomething&lt;X&gt; implements ParameterizedType {\n\n    private Class&lt;?&gt; wrapped;\n\n    public ListOfSomething(Class&lt;X&gt; wrapped) {\n        this.wrapped = wrapped;\n    }\n\n    public Type[] getActualTypeArguments() {\n        return new Type[] {wrapped};\n    }\n\n    public Type getRawType() {\n        return List.class;\n    }\n\n    public Type getOwnerType() {\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>the purpose of this code, is to be used inside <code>getFromJsonList()</code>:</p>\n\n<pre><code>public List&lt;T&gt; fromJsonList(String json, Class&lt;T&gt; klass) {\n    Gson gson = new Gson();\n    return gson.fromJson(json, new ListOfSomething&lt;T&gt;(klass));\n}\n</code></pre>\n\n<p>Even if the technique works and is indeed very clever (I didn't know it and I would have never thinked of it), this is the final accomplishment:</p>\n\n<pre><code>List&lt;Integer&gt; list = new Factory&lt;Integer&gt;()\n         .getFromJsonList(text, Integer.class)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>List&lt;Integer&gt; list = new Gson().fromJson(text,\n         new TypeToken&lt;List&lt;Integer&gt;&gt;(){}.getType());\n</code></pre>\n\n<p>To me, all this wrapping in useless, even if I agree that <code>TypeToken</code>s make the code look nasty :P</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357242811,"creation_date":1357242811,"answer_id":14146160,"question_id":14139437,"body_markdown":"This has been answered in previous questions. Basically, there are 2 options:\r\n\r\n 1. Pass the `Type` in from the calling site. The calling code will use `TypeToken` or whatever to construct it.\r\n 1. Construct a `Type` corresponding to the parameterized type yourself. This will require you to write a class that implements `ParameterizedType`","title":"Java Type Generic as Argument for GSON","body":"<p>This has been answered in previous questions. Basically, there are 2 options:</p>\n\n<ol>\n<li>Pass the <code>Type</code> in from the calling site. The calling code will use <code>TypeToken</code> or whatever to construct it.</li>\n<li>Construct a <code>Type</code> corresponding to the parameterized type yourself. This will require you to write a class that implements <code>ParameterizedType</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1425283940,"creation_date":1425283940,"answer_id":28805158,"question_id":14139437,"body_markdown":"\tpublic static final &lt;T&gt; List&lt;T&gt; getList(final Class&lt;T[]&gt; clazz, final String json)\r\n\t{\r\n\t\tfinal T[] jsonToObject = new Gson().fromJson(json, clazz);\r\n\r\n\t\treturn Arrays.asList(jsonToObject);\r\n\t}\r\n\r\nExample:\r\n\r\n    getList(MyClass[].class, &quot;[{...}]&quot;);","title":"Java Type Generic as Argument for GSON","body":"<pre><code>public static final &lt;T&gt; List&lt;T&gt; getList(final Class&lt;T[]&gt; clazz, final String json)\n{\n    final T[] jsonToObject = new Gson().fromJson(json, clazz);\n\n    return Arrays.asList(jsonToObject);\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>getList(MyClass[].class, \"[{...}]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1627023,"reputation":2171,"user_id":1502352,"display_name":"Christian Br&#252;ggemann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1426066057,"creation_date":1426066057,"answer_id":28982734,"question_id":14139437,"body_markdown":"I&#39;ve taken [Raffaele&#39;s][1] approach one step further and generified the class, so that it works with every class A&lt;B&gt;, where B is a non-parameterized class. Might be useful for Sets and other Collections.\r\n\r\n        public class GenericOf&lt;X, Y&gt; implements ParameterizedType {\r\n\r\n        private final Class&lt;X&gt; container;\r\n        private final Class&lt;Y&gt; wrapped;\r\n\r\n        public GenericOf(Class&lt;X&gt; container, Class&lt;Y&gt; wrapped) {\r\n            this.container = container;\r\n            this.wrapped = wrapped;\r\n        }\r\n\r\n        public Type[] getActualTypeArguments() {\r\n            return new Type[]{wrapped};\r\n        }\r\n\r\n        public Type getRawType() {\r\n            return container;\r\n        }\r\n\r\n        public Type getOwnerType() {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14139700/1502352","title":"Java Type Generic as Argument for GSON","body":"<p>I've taken <a href=\"https://stackoverflow.com/a/14139700/1502352\">Raffaele's</a> approach one step further and generified the class, so that it works with every class A, where B is a non-parameterized class. Might be useful for Sets and other Collections.</p>\n\n<pre><code>    public class GenericOf&lt;X, Y&gt; implements ParameterizedType {\n\n    private final Class&lt;X&gt; container;\n    private final Class&lt;Y&gt; wrapped;\n\n    public GenericOf(Class&lt;X&gt; container, Class&lt;Y&gt; wrapped) {\n        this.container = container;\n        this.wrapped = wrapped;\n    }\n\n    public Type[] getActualTypeArguments() {\n        return new Type[]{wrapped};\n    }\n\n    public Type getRawType() {\n        return container;\n    }\n\n    public Type getOwnerType() {\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985725,"reputation":14853,"user_id":1004274,"accept_rate":93,"display_name":"oldergod"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1681216129,"creation_date":1496309942,"answer_id":44303941,"question_id":14139437,"body_markdown":"Since `gson 2.8.0`, you can use [`TypeToken#getParametized((Type rawType, Type... typeArguments))`][1] to create the `typeToken`, then `getType()` should do the trick.\r\n\r\nFor example:\r\n\r\n    TypeToken.getParameterized(List.class, myType.class).getType();\r\n\r\n  [1]: https://github.com/google/gson/blob/37ed0fcbd7930df0aad9f5068c608e4465413877/gson/src/main/java/com/google/gson/reflect/TypeToken.java#L341","title":"Java Type Generic as Argument for GSON","body":"<p>Since <code>gson 2.8.0</code>, you can use <a href=\"https://github.com/google/gson/blob/37ed0fcbd7930df0aad9f5068c608e4465413877/gson/src/main/java/com/google/gson/reflect/TypeToken.java#L341\" rel=\"nofollow noreferrer\"><code>TypeToken#getParametized((Type rawType, Type... typeArguments))</code></a> to create the <code>typeToken</code>, then <code>getType()</code> should do the trick.</p>\n<p>For example:</p>\n<pre><code>TypeToken.getParameterized(List.class, myType.class).getType();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497882758,"creation_date":1497882758,"answer_id":44633343,"question_id":14139437,"body_markdown":"Kotlin &quot;ListOfSomething&quot; solution that worked for me:\r\n\r\n    fun &lt;T: Any&gt; getGsonList(json: String, kclass: KClass&lt;T&gt;) : List&lt;T&gt; {\r\n    \r\n        return getGsonInstance().fromJson&lt;List&lt;T&gt;&gt;(json, ListOfSomething&lt;T&gt;(kclass.java))\r\n    }\r\n\r\n    \r\n    internal class ListOfSomething&lt;X&gt;(wrapped: Class&lt;X&gt;) : ParameterizedType {\r\n    \r\n        private val wrapped: Class&lt;*&gt;\r\n    \r\n        init {\r\n            this.wrapped = wrapped\r\n        }\r\n    \r\n        override fun getActualTypeArguments(): Array&lt;Type&gt; {\r\n            return arrayOf&lt;Type&gt;(wrapped)\r\n        }\r\n    \r\n        override fun getRawType(): Type {\r\n            return ArrayList::class.java\r\n        }\r\n    \r\n        override fun getOwnerType(): Type? {\r\n            return null\r\n        }\r\n    }","title":"Java Type Generic as Argument for GSON","body":"<p>Kotlin \"ListOfSomething\" solution that worked for me:</p>\n\n<pre><code>fun &lt;T: Any&gt; getGsonList(json: String, kclass: KClass&lt;T&gt;) : List&lt;T&gt; {\n\n    return getGsonInstance().fromJson&lt;List&lt;T&gt;&gt;(json, ListOfSomething&lt;T&gt;(kclass.java))\n}\n\n\ninternal class ListOfSomething&lt;X&gt;(wrapped: Class&lt;X&gt;) : ParameterizedType {\n\n    private val wrapped: Class&lt;*&gt;\n\n    init {\n        this.wrapped = wrapped\n    }\n\n    override fun getActualTypeArguments(): Array&lt;Type&gt; {\n        return arrayOf&lt;Type&gt;(wrapped)\n    }\n\n    override fun getRawType(): Type {\n        return ArrayList::class.java\n    }\n\n    override fun getOwnerType(): Type? {\n        return null\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514460212,"creation_date":1514460212,"answer_id":48006570,"question_id":14139437,"body_markdown":"If programming in kotlin, we can use `reified type parameter` in inline function\r\n\r\n    class GenericGson {\r\n    \r\n        companion object {\r\n            inline fun &lt;reified T : Any&gt; Gson.fromJsonTokenType(jsonString: String): T {\r\n                val type = object : TypeToken&lt;T&gt;() {}.type\r\n                return this.fromJson(jsonString, type)\r\n            }\r\n    \r\n            inline fun &lt;reified T : Any&gt; Gson.fromJsonType(jsonString: String): T = this.fromJson(jsonString, T::class.java)\r\n    \r\n            inline fun &lt;reified T : Any&gt; fromJsonTokenType(jsonString: String): T = Gson().fromJsonTokenType(jsonString)\r\n    \r\n            inline fun &lt;reified T : Any&gt; fromJsonType(jsonString: String): T = Gson().fromJsonType(jsonString)\r\n        }\r\n    }\r\n\r\nAnd use like below in your code\r\n\r\n    val arrayList = GenericGson.fromJsonTokenType&lt;ArrayList&lt;Person&gt;&gt;(json)","title":"Java Type Generic as Argument for GSON","body":"<p>If programming in kotlin, we can use <code>reified type parameter</code> in inline function</p>\n\n<pre><code>class GenericGson {\n\n    companion object {\n        inline fun &lt;reified T : Any&gt; Gson.fromJsonTokenType(jsonString: String): T {\n            val type = object : TypeToken&lt;T&gt;() {}.type\n            return this.fromJson(jsonString, type)\n        }\n\n        inline fun &lt;reified T : Any&gt; Gson.fromJsonType(jsonString: String): T = this.fromJson(jsonString, T::class.java)\n\n        inline fun &lt;reified T : Any&gt; fromJsonTokenType(jsonString: String): T = Gson().fromJsonTokenType(jsonString)\n\n        inline fun &lt;reified T : Any&gt; fromJsonType(jsonString: String): T = Gson().fromJsonType(jsonString)\n    }\n}\n</code></pre>\n\n<p>And use like below in your code</p>\n\n<pre><code>val arrayList = GenericGson.fromJsonTokenType&lt;ArrayList&lt;Person&gt;&gt;(json)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6769699,"reputation":665,"user_id":5213427,"accept_rate":75,"display_name":"Cristian Cardoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531066734,"creation_date":1531066734,"answer_id":51233910,"question_id":14139437,"body_markdown":"In  kotlin simple use for example:\r\n\r\n\r\n**Get places function**\r\n\r\n`fun getPlaces&lt;T&gt; (jsonString : String, clazz: Class&lt;T&gt;) : T {\r\n    val places : T = Gson().fromJson(jsonString,clazz)\r\n    return places\r\n}`\r\n\r\n\r\n**Then you can use as:**\r\n\r\n    val places = getPlaces(Array&lt;Place&gt;::class.java)\r\n\r\n","title":"Java Type Generic as Argument for GSON","body":"<p>In  kotlin simple use for example:</p>\n\n<p><strong>Get places function</strong></p>\n\n<p><code>fun getPlaces&lt;T&gt; (jsonString : String, clazz: Class&lt;T&gt;) : T {\n    val places : T = Gson().fromJson(jsonString,clazz)\n    return places\n}</code></p>\n\n<p><strong>Then you can use as:</strong></p>\n\n<pre><code>val places = getPlaces(Array&lt;Place&gt;::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1534842080,"creation_date":1534842080,"answer_id":51945146,"question_id":14139437,"body_markdown":"Here is the full code base on great answer from @oldergod \r\n\r\n    public &lt;T&gt; List&lt;T&gt; fromJSonList(String json, Class&lt;T&gt; myType) {\r\n        Gson gson = new Gson();\r\n        Type collectionType = TypeToken.getParameterized(List.class, myType).getType();\r\n        return gson.fromJson(json, collectionType);\r\n    }\r\n\r\nUsing\r\n\r\n    List&lt;MyType&gt; myTypes = parser.fromJSonList(jsonString, MyType.class);\r\n\r\nHope it help\r\n","title":"Java Type Generic as Argument for GSON","body":"<p>Here is the full code base on great answer from @oldergod </p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; fromJSonList(String json, Class&lt;T&gt; myType) {\n    Gson gson = new Gson();\n    Type collectionType = TypeToken.getParameterized(List.class, myType).getType();\n    return gson.fromJson(json, collectionType);\n}\n</code></pre>\n\n<p>Using</p>\n\n<pre><code>List&lt;MyType&gt; myTypes = parser.fromJSonList(jsonString, MyType.class);\n</code></pre>\n\n<p>Hope it help</p>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558371366,"creation_date":1558371366,"answer_id":56225234,"question_id":14139437,"body_markdown":"      public static &lt;T&gt; T getObject(String gsonStr) {\r\n            Gson gson = new GsonBuilder()\r\n                    .setLenient()\r\n                    .create();\r\n            Type collectionType = new TypeToken&lt; T&gt;(){}.getType();\r\n            return gson.fromJson(gsonStr,\r\n                    collectionType);\r\n        }\r\n\r\nWhen use:\r\n\r\n    Class1 class1=  getObject(jsonStr);","title":"Java Type Generic as Argument for GSON","body":"<pre><code>  public static &lt;T&gt; T getObject(String gsonStr) {\n        Gson gson = new GsonBuilder()\n                .setLenient()\n                .create();\n        Type collectionType = new TypeToken&lt; T&gt;(){}.getType();\n        return gson.fromJson(gsonStr,\n                collectionType);\n    }\n</code></pre>\n\n<p>When use:</p>\n\n<pre><code>Class1 class1=  getObject(jsonStr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14715281,"reputation":59,"user_id":10627411,"display_name":"Eric Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570986833,"creation_date":1570986833,"answer_id":58365930,"question_id":14139437,"body_markdown":"This work for everything.\r\ne.g. map which has a key and value generic.\r\n\r\n    CustomType type = new CustomType(Map.class, String.class, Integer.class);\r\n\r\nSo no more TokenType.\r\n\r\n\r\n\r\n    class CustomType implements ParameterizedType {\r\n        private final Class&lt;?&gt; container;\r\n        private final Class&lt;?&gt;[] wrapped;\r\n\r\n        @Contract(pure = true)\r\n        public CustomType(Class&lt;?&gt; container, Class&lt;?&gt;... wrapped) {\r\n            this.container = container;\r\n            this.wrapped = wrapped;\r\n        }\r\n\r\n        @Override\r\n        public Type[] getActualTypeArguments() {\r\n            return this.wrapped;\r\n        }\r\n\r\n        @Override\r\n        public Type getRawType() {\r\n            return this.container;\r\n        }\r\n\r\n        @Override\r\n        public Type getOwnerType() {\r\n            return null;\r\n        }\r\n    }","title":"Java Type Generic as Argument for GSON","body":"<p>This work for everything.\ne.g. map which has a key and value generic.</p>\n\n<pre><code>CustomType type = new CustomType(Map.class, String.class, Integer.class);\n</code></pre>\n\n<p>So no more TokenType.</p>\n\n<pre><code>class CustomType implements ParameterizedType {\n    private final Class&lt;?&gt; container;\n    private final Class&lt;?&gt;[] wrapped;\n\n    @Contract(pure = true)\n    public CustomType(Class&lt;?&gt; container, Class&lt;?&gt;... wrapped) {\n        this.container = container;\n        this.wrapped = wrapped;\n    }\n\n    @Override\n    public Type[] getActualTypeArguments() {\n        return this.wrapped;\n    }\n\n    @Override\n    public Type getRawType() {\n        return this.container;\n    }\n\n    @Override\n    public Type getOwnerType() {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4481030,"reputation":425,"user_id":3645102,"display_name":"goofy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582810903,"creation_date":1582810903,"answer_id":60434608,"question_id":14139437,"body_markdown":"In **Kotlin** you can simply use this function:\r\n\r\n    inline fun &lt;reified T&gt; fromJson(json: String): T {\r\n      return Gson().fromJson(json, object: TypeToken&lt;T&gt;(){}.type)\r\n    }\r\nand use it like\r\n\r\n    val myTypes: List&lt;MyType&gt; = fromJson(jsonString);\r\nIt will parse any object including gereric types as List. Keyword `inline` and `reified` ensures that type will not be erased.\r\n\r\n&gt; For detail info I can recommend this [Medium post][1]\r\n\r\n\r\n  [1]: https://medium.com/@imstudio/android-kotlin-how-to-use-typetoken-generics-with-gson-in-kotlin-e2b17c0ac24c","title":"Java Type Generic as Argument for GSON","body":"<p>In <strong>Kotlin</strong> you can simply use this function:</p>\n\n<pre><code>inline fun &lt;reified T&gt; fromJson(json: String): T {\n  return Gson().fromJson(json, object: TypeToken&lt;T&gt;(){}.type)\n}\n</code></pre>\n\n<p>and use it like</p>\n\n<pre><code>val myTypes: List&lt;MyType&gt; = fromJson(jsonString);\n</code></pre>\n\n<p>It will parse any object including gereric types as List. Keyword <code>inline</code> and <code>reified</code> ensures that type will not be erased.</p>\n\n<blockquote>\n  <p>For detail info I can recommend this <a href=\"https://medium.com/@imstudio/android-kotlin-how-to-use-typetoken-generics-with-gson-in-kotlin-e2b17c0ac24c\" rel=\"noreferrer\">Medium post</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4743511,"reputation":21,"user_id":3835437,"display_name":"tangfuhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592885623,"creation_date":1592885232,"answer_id":62527169,"question_id":14139437,"body_markdown":"```\r\npublic &lt;T&gt; List&lt;T&gt; fromJSonList(String json) {\r\n  Gson gson = new Gson();\r\n  Type collectionType = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\r\n  return gson.fromJson(json, collectionType);\r\n}\r\n\r\n//Just call\r\nList&lt;MyType&gt; myTypes = parser.&lt;MyType&gt;fromJSonList(jsonString);\r\n```","title":"Java Type Generic as Argument for GSON","body":"<pre><code>public &lt;T&gt; List&lt;T&gt; fromJSonList(String json) {\n  Gson gson = new Gson();\n  Type collectionType = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\n  return gson.fromJson(json, collectionType);\n}\n\n//Just call\nList&lt;MyType&gt; myTypes = parser.&lt;MyType&gt;fromJSonList(jsonString);\n</code></pre>\n"}],"owner":{"account_id":47359,"reputation":2770,"user_id":140234,"accept_rate":40,"display_name":"Rodrigo Asensio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52083,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"answer_count":13,"score":65,"last_activity_date":1681216129,"creation_date":1357217933,"question_id":14139437,"body_markdown":"In GSON to get a list of objects you do\r\n\r\n\r\n\r\n    Gson gson = new Gson();\r\n    Type token = new TypeToken&lt;List&lt;MyType&gt;&gt;(){}.getType();\r\n    return gson.fromJson(json, token);\r\n\r\n\t\t\t\r\nIt works great, but I want to go further and have MyType parametrized so I can have a common function to parse list of objects with this code\r\n\r\n\r\n    // the common function \r\n    public &lt;T&gt; List&lt;T&gt; fromJSonList(String json, Class&lt;T&gt; type) {\r\n      Gson gson = new Gson();\r\n      Type collectionType = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\r\n      return gson.fromJson(json, collectionType);\r\n    }\r\n    \r\n    // the call\r\n    List&lt;MyType&gt; myTypes = parser.fromJSonList(jsonString, MyType.class);\r\n\r\nSadly returns an array of StringMaps, not the type. T is being interpreted as another generic type, not my type. Any workaround ?\r\n\r\n","title":"Java Type Generic as Argument for GSON","body":"<p>In GSON to get a list of objects you do</p>\n\n<pre><code>Gson gson = new Gson();\nType token = new TypeToken&lt;List&lt;MyType&gt;&gt;(){}.getType();\nreturn gson.fromJson(json, token);\n</code></pre>\n\n<p>It works great, but I want to go further and have MyType parametrized so I can have a common function to parse list of objects with this code</p>\n\n<pre><code>// the common function \npublic &lt;T&gt; List&lt;T&gt; fromJSonList(String json, Class&lt;T&gt; type) {\n  Gson gson = new Gson();\n  Type collectionType = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\n  return gson.fromJson(json, collectionType);\n}\n\n// the call\nList&lt;MyType&gt; myTypes = parser.fromJSonList(jsonString, MyType.class);\n</code></pre>\n\n<p>Sadly returns an array of StringMaps, not the type. T is being interpreted as another generic type, not my type. Any workaround ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681216764,"post_id":75985881,"comment_id":134017649,"body_markdown":"Is your UI is the same spring application? You access URL http://localhost:8080/ for UI and http://localhost:8080/api/... for API call?","body":"Is your UI is the same spring application? You access URL <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a> for UI and <a href=\"http://localhost:8080/api/\" rel=\"nofollow noreferrer\">localhost:8080/api</a>... for API call?"},{"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"score":0,"creation_date":1681216892,"post_id":75985881,"comment_id":134017677,"body_markdown":"Hi @DhavalGajjar, no my ui is separate angular application localhost:4200 that targets the url of my API","body":"Hi @DhavalGajjar, no my ui is separate angular application localhost:4200 that targets the url of my API"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681217246,"post_id":75985881,"comment_id":134017764,"body_markdown":"Check your angular code. It may have code which checks authentication and if you authenticated then show other pages. Spring Security will protecte endpoint of its own. other/3rd party endoint will not be considered.","body":"Check your angular code. It may have code which checks authentication and if you authenticated then show other pages. Spring Security will protecte endpoint of its own. other/3rd party endoint will not be considered."}],"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681215878,"creation_date":1681215878,"question_id":75985881,"body_markdown":"I am new to using spring security and am working using it to protect access to an endpoint on my API, I am doing a very simple process where its just an in memory user with a role that allows people with the username and password to query the specific endpoint. \r\n\r\nI believe the query process is going to be automated possibly a curl request on a daily schedule or something similar. \r\n\r\nThe API I have also has a front end client with a separate third party login page. I don&#39;t want spring security to interact with any other endpoints in the API so I have done something like \r\n\r\n```(&quot;api/all-other-urls/**&quot;).permitAll()```\r\n\r\nthe issue is, when I run the front end client and try to login to access the other screens of my client I can&#39;t navigate past my login page, in the developer console and in the API terminal it says that I have sent a successful login request, however the username and role is being listed as anonymousUser. \r\nThe endpoint I am trying to secure with spring security will never be interacted with via the client. \r\n\r\nThe login part of the client and api is being handled separate from my api and client I believe it is a form of certificate verification.\r\n\r\nWhat I want to know is there a better way to protect this url and minimize disruption to my front end?\r\n\r\nDoes spring security have functionality that enables it to work with a separate login service?\r\n","title":"Spring Security protecting http endpoint and unintended interaction with third party login page","body":"<p>I am new to using spring security and am working using it to protect access to an endpoint on my API, I am doing a very simple process where its just an in memory user with a role that allows people with the username and password to query the specific endpoint.</p>\n<p>I believe the query process is going to be automated possibly a curl request on a daily schedule or something similar.</p>\n<p>The API I have also has a front end client with a separate third party login page. I don't want spring security to interact with any other endpoints in the API so I have done something like</p>\n<p><code>(&quot;api/all-other-urls/**&quot;).permitAll()</code></p>\n<p>the issue is, when I run the front end client and try to login to access the other screens of my client I can't navigate past my login page, in the developer console and in the API terminal it says that I have sent a successful login request, however the username and role is being listed as anonymousUser.\nThe endpoint I am trying to secure with spring security will never be interacted with via the client.</p>\n<p>The login part of the client and api is being handled separate from my api and client I believe it is a form of certificate verification.</p>\n<p>What I want to know is there a better way to protect this url and minimize disruption to my front end?</p>\n<p>Does spring security have functionality that enables it to work with a separate login service?</p>\n"},{"tags":["java","jenkins","groovy","jenkins-groovy","azure-sdk-for-java"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681215848,"creation_date":1681214810,"answer_id":75985725,"question_id":75976172,"body_markdown":"&gt;org.jenkinsci.plugins.workflow.cps.CpsCompilationErrorsException: startup failed:/var/jenkins_home/jobs/BK-SSLCertCheck/builds/301/libs/1609fa01e7dd59643f39e4905bdbb221ec7fe4ce82a392e19a28a060015ae9c9/vars/job_AzureAKSCluster.groovy: 14: unable to resolve class com.microsoft.azure.management.containerservice.KubernetesClusters\r\n @ line 14, column 1. import com.microsoft.azure.management.containerservice.KubernetesClusters\r\n   \r\n\r\n- This error usually occurs if you don&#39;t have the required dependencies in your application or if the packages you have are not compatible with the Gradle version.\r\n\r\n- Make sure you have all the required dependencies and your Gradle version is compatible with those dependencies.\r\n\r\nI have reproduced your requirement in my environment with all the required dependencies using Azure Java SDK. \r\n\r\n- ***you can refer to my [github](https://github.com/PravallikaKothaveerannagari/Aks_java_manage_kubernetes_cluster/tree/main/azure_gradle_repo_aks) repository for the code.***\r\n\r\nAs you can see in the manage cluster.java class, I have imports related AKS.\r\n\r\n![enter image description here](https://i.stack.imgur.com/Xq9GC.png)\r\n\r\n***Gradle build configuration in Jenkins:***\r\n\r\n![enter image description here](https://i.stack.imgur.com/Cad3f.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/aSEwD.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/g9AT4.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/mVLmC.png)\r\n\r\n**Result:**\r\n\r\nI could successfully Build the project without any issues as shown below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/DpI1R.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/UNuwb.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/TNYb0.png)","title":"jenkins shared library java azure sdk plugin import error in gradle project","body":"<blockquote>\n<p>org.jenkinsci.plugins.workflow.cps.CpsCompilationErrorsException: startup failed:/var/jenkins_home/jobs/BK-SSLCertCheck/builds/301/libs/1609fa01e7dd59643f39e4905bdbb221ec7fe4ce82a392e19a28a060015ae9c9/vars/job_AzureAKSCluster.groovy: 14: unable to resolve class com.microsoft.azure.management.containerservice.KubernetesClusters\n@ line 14, column 1. import com.microsoft.azure.management.containerservice.KubernetesClusters</p>\n</blockquote>\n<ul>\n<li><p>This error usually occurs if you don't have the required dependencies in your application or if the packages you have are not compatible with the Gradle version.</p>\n</li>\n<li><p>Make sure you have all the required dependencies and your Gradle version is compatible with those dependencies.</p>\n</li>\n</ul>\n<p>I have reproduced your requirement in my environment with all the required dependencies using Azure Java SDK.</p>\n<ul>\n<li><em><strong>you can refer to my <a href=\"https://github.com/PravallikaKothaveerannagari/Aks_java_manage_kubernetes_cluster/tree/main/azure_gradle_repo_aks\" rel=\"nofollow noreferrer\">github</a> repository for the code.</strong></em></li>\n</ul>\n<p>As you can see in the manage cluster.java class, I have imports related AKS.</p>\n<p><img src=\"https://i.stack.imgur.com/Xq9GC.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Gradle build configuration in Jenkins:</strong></em></p>\n<p><img src=\"https://i.stack.imgur.com/Cad3f.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/aSEwD.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/g9AT4.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/mVLmC.png\" alt=\"enter image description here\" /></p>\n<p><strong>Result:</strong></p>\n<p>I could successfully Build the project without any issues as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/DpI1R.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/UNuwb.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/TNYb0.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":13849369,"reputation":1,"user_id":9997672,"display_name":"baskar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681215848,"creation_date":1681121460,"question_id":75976172,"body_markdown":"I am new to this Jenkins and Gradle and I am trying to build a Gradle project which is using java azure SDK libraries and getting below error before allotting the build node which means it is throwing the error in the Jenkins server itself (once the git checkout is done)\r\n\r\nI have already added the necessary plugins in the build.gradle and my IntelliJ IDE is showing the function and methods etc.,\r\n\r\n            compile &#39;com.microsoft.azure:azure:1.41.4&#39;\r\n            compile &#39;com.azure:azure-core:1.17.0&#39;\r\n            compile &#39;com.azure:azure-identity:1.8.1&#39;\r\n            compile &#39;com.azure:azure-sdk-bom:1.2.11&#39;\r\n            compile &#39;com.azure:azure-core-http-netty:1.13.1&#39;\r\n            compile &#39;com.azure.resourcemanager:azure-resourcemanager-network:2.25.0&#39;\r\n            compile &#39;com.azure.resourcemanager:azure-resourcemanager:2.25.0&#39;\r\n            compile &#39;com.azure.resourcemanager:azure-resourcemanager-frontdoor:1.0.0-beta.2&#39;\r\n            compile &#39;com.microsoft.azure:azure-mgmt-containerservice:1.41.4&#39;\r\n            compile &#39;com.azure.resourcemanager:azure-resourcemanager-containerservice:2.25.0&#39;\r\n\r\n```\r\norg.jenkinsci.plugins.workflow.cps.CpsCompilationErrorsException: startup failed:\r\n/var/jenkins_home/jobs/BK-SSLCertCheck/builds/301/libs/1609fa01e7dd59643f39e4905bdbb221ec7fe4ce82a392e19a28a060015ae9c9/vars/job_AzureAKSCluster.groovy: 14: unable to resolve class com.microsoft.azure.management.containerservice.KubernetesClusters\r\n @ line 14, column 1.\r\n   import com.microsoft.azure.management.containerservice.KubernetesClusters\r\n   ^\r\n\r\n/var/jenkins_home/jobs/BK-SSLCertCheck/builds/301/libs/1609fa01e7dd59643f39e4905bdbb221ec7fe4ce82a392e19a28a060015ae9c9/vars/job_AzureAKSCluster.groovy: 13: unable to resolve class com.microsoft.azure.management.containerservice.KubernetesCluster\r\n @ line 13, column 1.\r\n   import com.microsoft.azure.management.containerservice.KubernetesCluster\r\n   ^\r\n```\r\n\r\nI tried installing **Azure SDK API Plugin Version118.v43f74dd9ca_dc** but that didn&#39;t help ","title":"jenkins shared library java azure sdk plugin import error in gradle project","body":"<p>I am new to this Jenkins and Gradle and I am trying to build a Gradle project which is using java azure SDK libraries and getting below error before allotting the build node which means it is throwing the error in the Jenkins server itself (once the git checkout is done)</p>\n<p>I have already added the necessary plugins in the build.gradle and my IntelliJ IDE is showing the function and methods etc.,</p>\n<pre><code>        compile 'com.microsoft.azure:azure:1.41.4'\n        compile 'com.azure:azure-core:1.17.0'\n        compile 'com.azure:azure-identity:1.8.1'\n        compile 'com.azure:azure-sdk-bom:1.2.11'\n        compile 'com.azure:azure-core-http-netty:1.13.1'\n        compile 'com.azure.resourcemanager:azure-resourcemanager-network:2.25.0'\n        compile 'com.azure.resourcemanager:azure-resourcemanager:2.25.0'\n        compile 'com.azure.resourcemanager:azure-resourcemanager-frontdoor:1.0.0-beta.2'\n        compile 'com.microsoft.azure:azure-mgmt-containerservice:1.41.4'\n        compile 'com.azure.resourcemanager:azure-resourcemanager-containerservice:2.25.0'\n</code></pre>\n<pre><code>org.jenkinsci.plugins.workflow.cps.CpsCompilationErrorsException: startup failed:\n/var/jenkins_home/jobs/BK-SSLCertCheck/builds/301/libs/1609fa01e7dd59643f39e4905bdbb221ec7fe4ce82a392e19a28a060015ae9c9/vars/job_AzureAKSCluster.groovy: 14: unable to resolve class com.microsoft.azure.management.containerservice.KubernetesClusters\n @ line 14, column 1.\n   import com.microsoft.azure.management.containerservice.KubernetesClusters\n   ^\n\n/var/jenkins_home/jobs/BK-SSLCertCheck/builds/301/libs/1609fa01e7dd59643f39e4905bdbb221ec7fe4ce82a392e19a28a060015ae9c9/vars/job_AzureAKSCluster.groovy: 13: unable to resolve class com.microsoft.azure.management.containerservice.KubernetesCluster\n @ line 13, column 1.\n   import com.microsoft.azure.management.containerservice.KubernetesCluster\n   ^\n</code></pre>\n<p>I tried installing <strong>Azure SDK API Plugin Version118.v43f74dd9ca_dc</strong> but that didn't help</p>\n"},{"tags":["java","elasticsearch","gradle","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681215795,"creation_date":1681215795,"answer_id":75985871,"question_id":75985676,"body_markdown":"`org.elasticsearch.search.aggregations.AbstractAggregationBuilder` was coming from the old Elasticsearch client libraries in version 7.17 and used with the `NativeQueryBuilder` and the Elasticsearch `RestHighLevelClient`.\r\n\r\nFor the new Elasticsearch client used in Spring Data Elasticsearch version 5.0 you will need to use the client classes from the elasticsearch-java client library like `co.elastic.clients.elasticsearch._types.aggregations.Aggregation`.\r\n","title":"org.elasticsearch.search.aggregations.AbstractAggregationBuilder not found during compilation","body":"<p><code>org.elasticsearch.search.aggregations.AbstractAggregationBuilder</code> was coming from the old Elasticsearch client libraries in version 7.17 and used with the <code>NativeQueryBuilder</code> and the Elasticsearch <code>RestHighLevelClient</code>.</p>\n<p>For the new Elasticsearch client used in Spring Data Elasticsearch version 5.0 you will need to use the client classes from the elasticsearch-java client library like <code>co.elastic.clients.elasticsearch._types.aggregations.Aggregation</code>.</p>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75985871,"answer_count":1,"score":2,"last_activity_date":1681215795,"creation_date":1681214477,"question_id":75985676,"body_markdown":"I get this error while compiling a Spring Boot application on 19.0.2 using spring-data-elasticsearch with the recent dependencies.\r\n\r\norg.elasticsearch.search.aggregations.AbstractAggregationBuilder not found during compilation\r\n\r\n    ./gradlew --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 8.0.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2023-03-03 16:41:37 UTC\r\n    Revision:     7d6581558e226a580d91d399f7dfb9e3095c2b1d\r\n    \r\n    Kotlin:       1.8.10\r\n    Groovy:       3.0.13\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          19.0.2 (Private Build 19.0.2+7-Ubuntu-0ubuntu322.04)\r\n    OS:           Linux 5.19.0-38-generic amd64\r\n\r\n    java --version\r\n    openjdk 19.0.2 2023-01-17\r\n    OpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\r\n    OpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing)\r\n\r\n    &gt; Task :compileJava FAILED\r\n    An exception has occurred in the compiler (19.0.2). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\r\n    com.sun.tools.javac.code.Symbol$CompletionFailure: class file for org.elasticsearch.search.aggregations.AbstractAggregationBuilder not found","title":"org.elasticsearch.search.aggregations.AbstractAggregationBuilder not found during compilation","body":"<p>I get this error while compiling a Spring Boot application on 19.0.2 using spring-data-elasticsearch with the recent dependencies.</p>\n<p>org.elasticsearch.search.aggregations.AbstractAggregationBuilder not found during compilation</p>\n<pre><code>./gradlew --version\n\n------------------------------------------------------------\nGradle 8.0.2\n------------------------------------------------------------\n\nBuild time:   2023-03-03 16:41:37 UTC\nRevision:     7d6581558e226a580d91d399f7dfb9e3095c2b1d\n\nKotlin:       1.8.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          19.0.2 (Private Build 19.0.2+7-Ubuntu-0ubuntu322.04)\nOS:           Linux 5.19.0-38-generic amd64\n\njava --version\nopenjdk 19.0.2 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing)\n\n&gt; Task :compileJava FAILED\nAn exception has occurred in the compiler (19.0.2). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\ncom.sun.tools.javac.code.Symbol$CompletionFailure: class file for org.elasticsearch.search.aggregations.AbstractAggregationBuilder not found\n</code></pre>\n"},{"tags":["java","arrays","drools","workbench","businesscentral"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680098024,"creation_date":1680098024,"answer_id":75878178,"question_id":75877846,"body_markdown":"About the requirement:\r\n\r\n&gt; If the client_status is &quot;Active&quot; and we find any product in the cart which is already in the client portfolio then we will fill the attribute &quot;result&quot; with a message.\r\n\r\nThe main idea here could be: one pattern is `client_status == &quot;Active&quot;`, then iterate over the cart entries and check if anyone of those is present in the `client_products`, if that is the case, in the RHS you can set `result`.\r\n\r\n\r\n```\r\nrule R1\r\nwhen\r\n  $c : Client(client_status == &quot;Active&quot;)\r\n  $item: String( $c.client_products.contains(this) ) from $c.cart\r\nthen\r\n  modify ($c) { setResult($item + &quot; from the cart in the &quot; + $c.getClient_products()); }\r\nend\r\n```\r\n\r\nyou&#39;d need to substitute `String()` with the actual domain class for product/item in case.\r\n\r\nIf the above rules matches your requirement, you could re-write it with a decision table.","title":"Drools Business Central - Decision tables with spreadsheets, using arrays at WHEN condition","body":"<p>About the requirement:</p>\n<blockquote>\n<p>If the client_status is &quot;Active&quot; and we find any product in the cart which is already in the client portfolio then we will fill the attribute &quot;result&quot; with a message.</p>\n</blockquote>\n<p>The main idea here could be: one pattern is <code>client_status == &quot;Active&quot;</code>, then iterate over the cart entries and check if anyone of those is present in the <code>client_products</code>, if that is the case, in the RHS you can set <code>result</code>.</p>\n<pre><code>rule R1\nwhen\n  $c : Client(client_status == &quot;Active&quot;)\n  $item: String( $c.client_products.contains(this) ) from $c.cart\nthen\n  modify ($c) { setResult($item + &quot; from the cart in the &quot; + $c.getClient_products()); }\nend\n</code></pre>\n<p>you'd need to substitute <code>String()</code> with the actual domain class for product/item in case.</p>\n<p>If the above rules matches your requirement, you could re-write it with a decision table.</p>\n"},{"tags":[],"owner":{"account_id":6573203,"reputation":13,"user_id":5080365,"display_name":"Jes&#250;s RodRu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681215626,"creation_date":1680262381,"answer_id":75898055,"question_id":75877846,"body_markdown":"I have achieved to make the logic that I was looking for with a drl file:\r\n\r\n    package com.myspace.arraystreatmentconditions;\r\n    import com.myspace.arraystreatmentconditions.Client;\r\n    import java.util.*;\r\n    \r\n    rule R1\r\n    when\r\n      $c: Client( client_status == &quot;Active&quot;, $items: cart)\r\n      $item: String() from $items\r\n      Client( client_products contains $item ) from $c\r\n      \r\n    then\r\n      //modify ($c) { setResult($item + &quot; from the cart in the &quot; + $c.getClient_products());}\r\n      $c.setResult(&quot;Hay elementos duplicados&quot;);\r\n    end\r\n","title":"Drools Business Central - Decision tables with spreadsheets, using arrays at WHEN condition","body":"<p>I have achieved to make the logic that I was looking for with a drl file:</p>\n<pre><code>package com.myspace.arraystreatmentconditions;\nimport com.myspace.arraystreatmentconditions.Client;\nimport java.util.*;\n\nrule R1\nwhen\n  $c: Client( client_status == &quot;Active&quot;, $items: cart)\n  $item: String() from $items\n  Client( client_products contains $item ) from $c\n  \nthen\n  //modify ($c) { setResult($item + &quot; from the cart in the &quot; + $c.getClient_products());}\n  $c.setResult(&quot;Hay elementos duplicados&quot;);\nend\n</code></pre>\n"}],"owner":{"account_id":6573203,"reputation":13,"user_id":5080365,"display_name":"Jes&#250;s RodRu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681215626,"creation_date":1680096107,"question_id":75877846,"body_markdown":"I am new with Drools and I am using Business Central 7.18.0 to implement some rules using the asset Decision Tables (Spreadsheet).\r\n\r\nI have achieve to implement some basic rules with excel and try them with Postman using the REST API but now I need  to implement a more complex validation using (if possible) the arrays which come in the input in the when condition.\r\n\r\nFor example, If I have the next object: \r\n\r\n```\r\npackage com.myspace.arraystreatmentconditions;\r\n\r\n/**\r\n * This class was automatically generated by the data modeler tool.\r\n */\r\n\r\npublic class Client implements java.io.Serializable {\r\n\r\n\tstatic final long serialVersionUID = 1L;\r\n\r\n\tprivate java.util.List&lt;java.lang.String&gt; cart;\r\n\tprivate java.util.List&lt;java.lang.String&gt; client_products;\r\n\tprivate java.lang.String client_status;\r\n\tprivate java.lang.String serviceability;\r\n\tprivate java.lang.String result;\r\n\r\n\tpublic Client() {\r\n\t}\r\n\r\n\tpublic java.util.List&lt;java.lang.String&gt; getCart() {\r\n\t\treturn this.cart;\r\n\t}\r\n\r\n\tpublic void setCart(java.util.List&lt;java.lang.String&gt; cart) {\r\n\t\tthis.cart = cart;\r\n\t}\r\n\r\n\tpublic java.util.List&lt;java.lang.String&gt; getClient_products() {\r\n\t\treturn this.client_products;\r\n\t}\r\n\r\n\tpublic void setClient_products(\r\n\t\t\tjava.util.List&lt;java.lang.String&gt; client_products) {\r\n\t\tthis.client_products = client_products;\r\n\t}\r\n\r\n\tpublic java.lang.String getClient_status() {\r\n\t\treturn this.client_status;\r\n\t}\r\n\r\n\tpublic void setClient_status(java.lang.String client_status) {\r\n\t\tthis.client_status = client_status;\r\n\t}\r\n\r\n\tpublic java.lang.String getServiceability() {\r\n\t\treturn this.serviceability;\r\n\t}\r\n\r\n\tpublic void setServiceability(java.lang.String serviceability) {\r\n\t\tthis.serviceability = serviceability;\r\n\t}\r\n\r\n\tpublic java.lang.String getResult() {\r\n\t\treturn this.result;\r\n\t}\r\n\r\n\tpublic void setResult(java.lang.String result) {\r\n\t\tthis.result = result;\r\n\t}\r\n\r\n\tpublic Client(java.util.List&lt;java.lang.String&gt; cart,\r\n\t\t\tjava.util.List&lt;java.lang.String&gt; client_products,\r\n\t\t\tjava.lang.String client_status, java.lang.String serviceability,\r\n\t\t\tjava.lang.String result) {\r\n\t\tthis.cart = cart;\r\n\t\tthis.client_products = client_products;\r\n\t\tthis.client_status = client_status;\r\n\t\tthis.serviceability = serviceability;\r\n\t\tthis.result = result;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere we have some attributes which are ArrayList. \r\n\r\n- **&quot;cart&quot;** are the the new products that the client is contracting\r\n- **&quot;client_products&quot;** are the products that the client currently has contracted(portfolio)\r\n\r\nI would like to build a rule for Drools in a XLSX file where, in the conditions (not in the action if possible) the rule will check the cart and the actual client products. If the client_status is &quot;Active&quot; and we find any product in the cart which is already in the client portfolio then we will fill the attribute &quot;result&quot; with a message.\r\n\r\nMy principal idea is do it using a decision table but I am  open to hear other solutions. The problem is I can&#39;t find example.","title":"Drools Business Central - Decision tables with spreadsheets, using arrays at WHEN condition","body":"<p>I am new with Drools and I am using Business Central 7.18.0 to implement some rules using the asset Decision Tables (Spreadsheet).</p>\n<p>I have achieve to implement some basic rules with excel and try them with Postman using the REST API but now I need  to implement a more complex validation using (if possible) the arrays which come in the input in the when condition.</p>\n<p>For example, If I have the next object:</p>\n<pre><code>package com.myspace.arraystreatmentconditions;\n\n/**\n * This class was automatically generated by the data modeler tool.\n */\n\npublic class Client implements java.io.Serializable {\n\n    static final long serialVersionUID = 1L;\n\n    private java.util.List&lt;java.lang.String&gt; cart;\n    private java.util.List&lt;java.lang.String&gt; client_products;\n    private java.lang.String client_status;\n    private java.lang.String serviceability;\n    private java.lang.String result;\n\n    public Client() {\n    }\n\n    public java.util.List&lt;java.lang.String&gt; getCart() {\n        return this.cart;\n    }\n\n    public void setCart(java.util.List&lt;java.lang.String&gt; cart) {\n        this.cart = cart;\n    }\n\n    public java.util.List&lt;java.lang.String&gt; getClient_products() {\n        return this.client_products;\n    }\n\n    public void setClient_products(\n            java.util.List&lt;java.lang.String&gt; client_products) {\n        this.client_products = client_products;\n    }\n\n    public java.lang.String getClient_status() {\n        return this.client_status;\n    }\n\n    public void setClient_status(java.lang.String client_status) {\n        this.client_status = client_status;\n    }\n\n    public java.lang.String getServiceability() {\n        return this.serviceability;\n    }\n\n    public void setServiceability(java.lang.String serviceability) {\n        this.serviceability = serviceability;\n    }\n\n    public java.lang.String getResult() {\n        return this.result;\n    }\n\n    public void setResult(java.lang.String result) {\n        this.result = result;\n    }\n\n    public Client(java.util.List&lt;java.lang.String&gt; cart,\n            java.util.List&lt;java.lang.String&gt; client_products,\n            java.lang.String client_status, java.lang.String serviceability,\n            java.lang.String result) {\n        this.cart = cart;\n        this.client_products = client_products;\n        this.client_status = client_status;\n        this.serviceability = serviceability;\n        this.result = result;\n    }\n\n}\n</code></pre>\n<p>Here we have some attributes which are ArrayList.</p>\n<ul>\n<li><strong>&quot;cart&quot;</strong> are the the new products that the client is contracting</li>\n<li><strong>&quot;client_products&quot;</strong> are the products that the client currently has contracted(portfolio)</li>\n</ul>\n<p>I would like to build a rule for Drools in a XLSX file where, in the conditions (not in the action if possible) the rule will check the cart and the actual client products. If the client_status is &quot;Active&quot; and we find any product in the cart which is already in the client portfolio then we will fill the attribute &quot;result&quot; with a message.</p>\n<p>My principal idea is do it using a decision table but I am  open to hear other solutions. The problem is I can't find example.</p>\n"},{"tags":["java","rest","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681215383,"creation_date":1681215383,"answer_id":75985803,"question_id":75985526,"body_markdown":"You need 2 Foo classes and 2 Bar classes as follows::\r\n\r\n\r\n    class FooReq { // used in request\r\n        private String id;\r\n    }\r\n    \r\n    class FooResp extends FooReq { // used in response\r\n        private String name;\r\n    }\r\n\r\n    class BarReq {\r\n        private String id;\r\n        private FooReq foo;\r\n    }\r\n    class BarResp {\r\n        private String id;\r\n        private FooResp foo;\r\n    }\r\n\r\nController method def:\r\n\r\n    public ResponseEntity&lt;BarResp&gt; postBar(@RequestBody BarReq postBody)\r\n\r\n","title":"Hide property in swagger request but show in swagger response","body":"<p>You need 2 Foo classes and 2 Bar classes as follows::</p>\n<pre><code>class FooReq { // used in request\n    private String id;\n}\n\nclass FooResp extends FooReq { // used in response\n    private String name;\n}\n\nclass BarReq {\n    private String id;\n    private FooReq foo;\n}\nclass BarResp {\n    private String id;\n    private FooResp foo;\n}\n</code></pre>\n<p>Controller method def:</p>\n<pre><code>public ResponseEntity&lt;BarResp&gt; postBar(@RequestBody BarReq postBody)\n</code></pre>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75985803,"answer_count":1,"score":1,"last_activity_date":1681215383,"creation_date":1681213499,"question_id":75985526,"body_markdown":"I have one dto class which is used in the other class, lets say it looks like this:\r\n\r\n    class Foo {\r\n    private String id;\r\n    private String name;\r\n    }\r\n\r\n    class Bar {\r\n    private String id;\r\n    private Foo foo;\r\n    }\r\n\r\nBoth foo and bar have their own controllers with POST and GET methods.\r\n\r\nBar POST request looks like this: \r\n\r\n    {&quot;id&quot;:bar1, &quot;foo&quot;: { &quot;id&quot;: &quot;foo1&quot;}}\r\nso the only required field from foo is id, but the response contains all Foo parameters. Also when posting Foo I need to provide each parameter and in response I&#39;m also receiving all params.\r\n\r\nBut now in swagger for POST /bar controller I want to show only required field from Foo - the id. \r\n\r\nIs it possible to hide other params and show only id in POST /bar request swagger without hidding them in Foo&#39;s requests?","title":"Hide property in swagger request but show in swagger response","body":"<p>I have one dto class which is used in the other class, lets say it looks like this:</p>\n<pre><code>class Foo {\nprivate String id;\nprivate String name;\n}\n\nclass Bar {\nprivate String id;\nprivate Foo foo;\n}\n</code></pre>\n<p>Both foo and bar have their own controllers with POST and GET methods.</p>\n<p>Bar POST request looks like this:</p>\n<pre><code>{&quot;id&quot;:bar1, &quot;foo&quot;: { &quot;id&quot;: &quot;foo1&quot;}}\n</code></pre>\n<p>so the only required field from foo is id, but the response contains all Foo parameters. Also when posting Foo I need to provide each parameter and in response I'm also receiving all params.</p>\n<p>But now in swagger for POST /bar controller I want to show only required field from Foo - the id.</p>\n<p>Is it possible to hide other params and show only id in POST /bar request swagger without hidding them in Foo's requests?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681203611,"post_id":75982249,"comment_id":134014593,"body_markdown":"Please share that PDF that you think has two signature locations.","body":"Please share that PDF that you think has two signature locations."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1681204434,"post_id":75982249,"comment_id":134014791,"body_markdown":"no, i mean i want to create like that, is possible ?","body":"no, i mean i want to create like that, is possible ?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681212037,"post_id":75982249,"comment_id":134016578,"body_markdown":"No, there&#39;s only one appearance for a signature. But you could of course create two placeholders (i.e. empty signature fields) and then sign only one of them.","body":"No, there&#39;s only one appearance for a signature. But you could of course create two placeholders (i.e. empty signature fields) and then sign only one of them."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1681289808,"post_id":75982249,"comment_id":134031090,"body_markdown":"Well, you can make PDFBox create a signature with multiple widgets but according to the current PDF spec (ISO 32000-2:2020) such structures are invalid. Validators working according to the (very!) old ISO 32000-1:2008, though, may accept such signatures. And there also are a number of validators that don&#39;t care. The PDFBox example code works according to spec and does not create multi-widget signatures.","body":"Well, you can make PDFBox create a signature with multiple widgets but according to the current PDF spec (ISO 32000-2:2020) such structures are invalid. Validators working according to the (very!) old ISO 32000-1:2008, though, may accept such signatures. And there also are a number of validators that don&#39;t care. The PDFBox example code works according to spec and does not create multi-widget signatures."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681215052,"creation_date":1681215052,"answer_id":75985756,"question_id":75982249,"body_markdown":"Yes that is possible however forbidden starting with PDF Spec 2.0.\r\nIn smaller PDF versions it is possible to have one signature field (what you call &quot;just one in signature panel&quot;) with multiple widgets.\r\n\r\nThere are several threads here on SO describing it in more detail:\r\n[Here][1], [here][2] and [here][3].\r\n\r\nPlease note that the examples are using iText as a PDF library. (So the code using PDFBox looks different and might not be possible out of the box) \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35701597/how-to-show-digital-pdf-signature-in-all-documents-page-using-itext\r\n  [2]: https://stackoverflow.com/questions/47526151/how-to-place-the-same-digital-signatures-to-multiple-places-in-pdf-using-itextsh/47762053#47762053\r\n  [3]: https://stackoverflow.com/questions/49446542/placing-signature-in-multiple-location-on-same-page-while-signing-a-pdf","title":"PDFBox multiple location on single user signature","body":"<p>Yes that is possible however forbidden starting with PDF Spec 2.0.\nIn smaller PDF versions it is possible to have one signature field (what you call &quot;just one in signature panel&quot;) with multiple widgets.</p>\n<p>There are several threads here on SO describing it in more detail:\n<a href=\"https://stackoverflow.com/questions/35701597/how-to-show-digital-pdf-signature-in-all-documents-page-using-itext\">Here</a>, <a href=\"https://stackoverflow.com/questions/47526151/how-to-place-the-same-digital-signatures-to-multiple-places-in-pdf-using-itextsh/47762053#47762053\">here</a> and <a href=\"https://stackoverflow.com/questions/49446542/placing-signature-in-multiple-location-on-same-page-while-signing-a-pdf\">here</a>.</p>\n<p>Please note that the examples are using iText as a PDF library. (So the code using PDFBox looks different and might not be possible out of the box)</p>\n"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75985756,"answer_count":1,"score":0,"last_activity_date":1681215052,"creation_date":1681184814,"question_id":75982249,"body_markdown":"I want to ask, can a single user have multiple location signature but just one in signature panel ? [![img1][1]][1]\r\n\r\nit is possbile ?\r\n\r\n[![img2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rUAGV.png\r\n  [2]: https://i.stack.imgur.com/7UXXU.png","title":"PDFBox multiple location on single user signature","body":"<p>I want to ask, can a single user have multiple location signature but just one in signature panel ? <a href=\"https://i.stack.imgur.com/rUAGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rUAGV.png\" alt=\"img1\" /></a></p>\n<p>it is possbile ?</p>\n<p><a href=\"https://i.stack.imgur.com/7UXXU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7UXXU.png\" alt=\"img2\" /></a></p>\n"},{"tags":["java","mysql","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":13206963,"reputation":369,"user_id":9538400,"display_name":"INVOKE Cloud"},"score":2,"creation_date":1524595647,"post_id":50008728,"comment_id":87034180,"body_markdown":"Did you make sure security groups allow your EC2 instance? https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html","body":"Did you make sure security groups allow your EC2 instance? <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonRDS/latest/UserGuide/&hellip;</a>"},{"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"score":0,"creation_date":1524596528,"post_id":50008728,"comment_id":87034650,"body_markdown":"yes i did make sure","body":"yes i did make sure"},{"owner":{"account_id":1492802,"reputation":501,"user_id":1399495,"accept_rate":71,"display_name":"Adam Lesiak"},"score":0,"creation_date":1524604641,"post_id":50008728,"comment_id":87038245,"body_markdown":"Check the MySQL active connections by typing: &#39;show processlist&#39; on MySQL console. And check the mysql max connection in mysql.ini. Which version of Springboot and MySQL you have?","body":"Check the MySQL active connections by typing: &#39;show processlist&#39; on MySQL console. And check the mysql max connection in mysql.ini. Which version of Springboot and MySQL you have?"},{"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"score":0,"creation_date":1524610687,"post_id":50008728,"comment_id":87040036,"body_markdown":"MySQL 5.6.39 and springboot 1.5.9","body":"MySQL 5.6.39 and springboot 1.5.9"},{"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"score":0,"creation_date":1524611152,"post_id":50008728,"comment_id":87040157,"body_markdown":"how do i login ontop the mysql console?","body":"how do i login ontop the mysql console?"}],"answers":[{"tags":[],"owner":{"account_id":6143565,"reputation":654,"user_id":4790157,"accept_rate":20,"display_name":"iOS-Developer84"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1547044694,"creation_date":1547044694,"answer_id":54112530,"question_id":50008728,"body_markdown":"I have also faced similar problem.\r\nI have to update my mysql extra parameters from `/etc/mysql/mysql.conf.d/mysqld.cnf`\r\n\r\nStop mysql server `sudo systemctl stop mysql.service`\r\n\r\nNeed to update\r\n\r\n `bind-address = 0.0.0.0 // replace 0.0.0.0 with required ip, 0.0.0.0 allows all ip` \r\n\r\nStart mysql server `sudo systemctl start mysql.service`\r\n\r\nalso need to create a user who has access with that ip, add permission in mysql\r\n\r\n    mysql &gt; CREATE USER &#39;user_name&#39;@&#39;%&#39; IDENTIFIED BY &#39;PASSWORD&#39;; // replace % with appropriate IP \r\n    \r\n    mysql &gt; CREATE USER &#39;user_name&#39;@&#39;%&#39; IDENTIFIED BY &#39;PASSWORD&#39;; // replace % with appropriate IP\r\n    \r\n    mysql &gt; GRANT ALL PRIVILEGES ON *.* TO &#39;user_name&#39;@&#39;%&#39; WITH GRANT OPTION; // replace % with appropriate IP\r\n    \r\n    mysql &gt; FLUSH PRIVILEGES;\r\n\r\nHope this will help someone\r\n","title":"AWS RDS connection database error : com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I have also faced similar problem.\nI have to update my mysql extra parameters from <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code></p>\n\n<p>Stop mysql server <code>sudo systemctl stop mysql.service</code></p>\n\n<p>Need to update</p>\n\n<p><code>bind-address = 0.0.0.0 // replace 0.0.0.0 with required ip, 0.0.0.0 allows all ip</code> </p>\n\n<p>Start mysql server <code>sudo systemctl start mysql.service</code></p>\n\n<p>also need to create a user who has access with that ip, add permission in mysql</p>\n\n<pre><code>mysql &gt; CREATE USER 'user_name'@'%' IDENTIFIED BY 'PASSWORD'; // replace % with appropriate IP \n\nmysql &gt; CREATE USER 'user_name'@'%' IDENTIFIED BY 'PASSWORD'; // replace % with appropriate IP\n\nmysql &gt; GRANT ALL PRIVILEGES ON *.* TO 'user_name'@'%' WITH GRANT OPTION; // replace % with appropriate IP\n\nmysql &gt; FLUSH PRIVILEGES;\n</code></pre>\n\n<p>Hope this will help someone</p>\n"},{"tags":[],"owner":{"account_id":16565314,"reputation":11,"user_id":11970076,"display_name":"Greg Sampson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566619422,"creation_date":1566619422,"answer_id":57634993,"question_id":50008728,"body_markdown":"If your DB is an RDS instance, make sure the public IP address of the device accessing the DB is included in the RDS instance&#39;s Security Group. Also make sure the public IP address is included in Inbound channel of the appropriate VPC security group.","title":"AWS RDS connection database error : com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If your DB is an RDS instance, make sure the public IP address of the device accessing the DB is included in the RDS instance's Security Group. Also make sure the public IP address is included in Inbound channel of the appropriate VPC security group.</p>\n"}],"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9968,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1681214680,"creation_date":1524595165,"question_id":50008728,"body_markdown":"I am trying to deploy my springboot application on an AWS linux instance however i keep getting the following error :\r\n\r\n    2018-04-24 18:15:27.777  INFO 24020 --- [ost-startStop-1] \r\n\r\n    o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2018-04-24 18:15:28.771 ERROR 24020 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool: Unable to create initial connections of pool.\r\n    \r\n    com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_161]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\r\n    ... \r\n\r\n    2018-04-24 16:58:57.522  WARN 23780 --- [main] o.s.b.a.orm.jpa.DatabaseLookup : Unable to determine jdbc url from datasource\r\n    \r\n    org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: \r\n    Could not get JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\nThis is how i created my applications.properties file :\r\n\r\n    #database config\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://****-west-1.rds.amazonaws.com:3306/DevManagementDB\r\n    spring.datasource.username=root\r\n    spring.datasource.password=mypassword\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nThe strange part is that i can connect to my RDS database from this springboot application when i am running the application on my local machine. As soon as i try to deploy the application to the linux instance on AWS it fails and i get the above errors.\r\n","title":"AWS RDS connection database error : com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I am trying to deploy my springboot application on an AWS linux instance however i keep getting the following error :</p>\n\n<pre><code>2018-04-24 18:15:27.777  INFO 24020 --- [ost-startStop-1] \n\no.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n2018-04-24 18:15:28.771 ERROR 24020 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool: Unable to create initial connections of pool.\n\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_161]\n\n... \n\n2018-04-24 16:58:57.522  WARN 23780 --- [main] o.s.b.a.orm.jpa.DatabaseLookup : Unable to determine jdbc url from datasource\n\norg.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: \nCould not get JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n</code></pre>\n\n<p>This is how i created my applications.properties file :</p>\n\n<pre><code>#database config\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://****-west-1.rds.amazonaws.com:3306/DevManagementDB\nspring.datasource.username=root\nspring.datasource.password=mypassword\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n\n<p>The strange part is that i can connect to my RDS database from this springboot application when i am running the application on my local machine. As soon as i try to deploy the application to the linux instance on AWS it fails and i get the above errors.</p>\n"},{"tags":["java","api","reddit"],"owner":{"account_id":29241,"reputation":3017,"user_id":78847,"accept_rate":86,"display_name":"PuppyKevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1750,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1681214585,"creation_date":1372362613,"question_id":17352007,"body_markdown":"I&#39;m trying to mess around with a program that will log into a reddit account, and post a comment on a thread. So far, here&#39;s my login code:\r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n\r\n        HttpPost post = new HttpPost(&quot;https://ssl.reddit.com/api/login&quot;);\r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;&gt;(4);\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;user&quot;, &quot;username&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;passwd&quot;, &quot;password&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;rem&quot;, &quot;True&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;api_type&quot;, &quot;json&quot;));\r\n\r\n        try {\r\n            post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n            HttpResponse response = client.execute(post);\r\n\r\n            Header header = response.getFirstHeader(&quot;set-cookie&quot;);\r\n            String cookie = header.getValue();\r\n\r\n            if (cookie.startsWith(&quot;reddit_first&quot;)) {\r\n                System.out.println(&quot;Unable to log in.&quot;);\r\n            } else if (cookie.startsWith(&quot;reddit_session&quot;)) {\r\n                System.out.println(&quot;Logged in successfullly.&quot;);\r\n                \r\n                CookieStore cs = new BasicCookieStore();\r\n                System.out.println(&quot;Cookie: &quot; + header.getValue());\r\n                BasicClientCookie bcookie = new BasicClientCookie(&quot;reddit_session&quot;, header.getValue());\r\n                bcookie.setDomain(&quot;reddit.com&quot;);\r\n                bcookie.setPath(&quot;/&quot;);\r\n                cs.addCookie(bcookie);\r\n                client.setCookieStore(cs);\r\n                redditCookie = header;\r\n            }\r\n\r\n            JSONObject obj = (JSONObject) JSONValue.parse(response.getEntity().getContent());\r\n            JSONObject json = (JSONObject) obj.get(&quot;json&quot;);\r\n            JSONObject data = (JSONObject) json.get(&quot;data&quot;);\r\n            modHash = data.get(&quot;modhash&quot;).toString();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nAnd that does work - it reports that it&#39;s successfully logged in, and it does store a modhash.\r\n\r\nFor posting the comment, I have:\r\n\r\n    post = new HttpPost(&quot;https://ssl.reddit.com/api/comment&quot;);\r\n    post.addHeader(redditCookie);\r\n    nameValuePairs = new ArrayList&lt;&gt;(4);\r\n    nameValuePairs.add(new BasicNameValuePair(&quot;api_type&quot;, &quot;json&quot;));\r\n    nameValuePairs.add(new BasicNameValuePair(&quot;text&quot;, imgurLink + &quot;\\r\\n&quot;));\r\n    nameValuePairs.add(new BasicNameValuePair(&quot;thing_id&quot;, thingId));\r\n    nameValuePairs.add(new BasicNameValuePair(&quot;uh&quot;, modHash));\r\n    \r\n    try {\r\n        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n        response = client.execute(post);\r\n    \r\n        obj = (JSONObject) JSONValue.parse(response.getEntity().getContent());\r\n        System.out.println(obj.toJSONString());\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nAlthough, when I try sending a comment, it tells me that I need to be logged in to do it. I understand that I have to send the reddit_session cookie to post the comment, but I don&#39;t know if I&#39;m doing it correctly.","title":"Trying to post comments to Reddit with Java","body":"<p>I'm trying to mess around with a program that will log into a reddit account, and post a comment on a thread. So far, here's my login code:</p>\n\n<pre><code>DefaultHttpClient client = new DefaultHttpClient();\n\n    HttpPost post = new HttpPost(\"https://ssl.reddit.com/api/login\");\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;&gt;(4);\n    nameValuePairs.add(new BasicNameValuePair(\"user\", \"username\"));\n    nameValuePairs.add(new BasicNameValuePair(\"passwd\", \"password\"));\n    nameValuePairs.add(new BasicNameValuePair(\"rem\", \"True\"));\n    nameValuePairs.add(new BasicNameValuePair(\"api_type\", \"json\"));\n\n    try {\n        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n        HttpResponse response = client.execute(post);\n\n        Header header = response.getFirstHeader(\"set-cookie\");\n        String cookie = header.getValue();\n\n        if (cookie.startsWith(\"reddit_first\")) {\n            System.out.println(\"Unable to log in.\");\n        } else if (cookie.startsWith(\"reddit_session\")) {\n            System.out.println(\"Logged in successfullly.\");\n\n            CookieStore cs = new BasicCookieStore();\n            System.out.println(\"Cookie: \" + header.getValue());\n            BasicClientCookie bcookie = new BasicClientCookie(\"reddit_session\", header.getValue());\n            bcookie.setDomain(\"reddit.com\");\n            bcookie.setPath(\"/\");\n            cs.addCookie(bcookie);\n            client.setCookieStore(cs);\n            redditCookie = header;\n        }\n\n        JSONObject obj = (JSONObject) JSONValue.parse(response.getEntity().getContent());\n        JSONObject json = (JSONObject) obj.get(\"json\");\n        JSONObject data = (JSONObject) json.get(\"data\");\n        modHash = data.get(\"modhash\").toString();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>And that does work - it reports that it's successfully logged in, and it does store a modhash.</p>\n\n<p>For posting the comment, I have:</p>\n\n<pre><code>post = new HttpPost(\"https://ssl.reddit.com/api/comment\");\npost.addHeader(redditCookie);\nnameValuePairs = new ArrayList&lt;&gt;(4);\nnameValuePairs.add(new BasicNameValuePair(\"api_type\", \"json\"));\nnameValuePairs.add(new BasicNameValuePair(\"text\", imgurLink + \"\\r\\n\"));\nnameValuePairs.add(new BasicNameValuePair(\"thing_id\", thingId));\nnameValuePairs.add(new BasicNameValuePair(\"uh\", modHash));\n\ntry {\n    post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n    response = client.execute(post);\n\n    obj = (JSONObject) JSONValue.parse(response.getEntity().getContent());\n    System.out.println(obj.toJSONString());\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Although, when I try sending a comment, it tells me that I need to be logged in to do it. I understand that I have to send the reddit_session cookie to post the comment, but I don't know if I'm doing it correctly.</p>\n"},{"tags":["java","json","jackson","netty"],"owner":{"account_id":21843526,"reputation":35,"user_id":16136741,"display_name":"FlafyKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681214502,"creation_date":1681214502,"question_id":75985682,"body_markdown":"I am trying to make a Jackson parser that will use streaming API and convert JSON into object array. My JSON is very large so the parser takes chunk at a time received from the Netty&#39;s HttpContent object and tries to parse it. The problem is that the chunk usually gets cut off in the middle of a JSON object and parser throws an error: **Unexpected end-of-input in field name** \r\n\r\nThis is what I mean by a cut off JSON:\r\n```\r\n    {\r\n        &quot;region&quot;: 8,\r\n        &quot;requestType&quot;: &quot;PRIORITY&quot;,\r\n        &quot;a\r\n```\r\n\r\nHow can I prevent this from happening?\r\n\r\n**ChannelRead** that sends chunks into parser:\r\n```\r\n @Override\r\n    protected void channelRead0(ChannelHandlerContext ctx, HttpContent httpContent) throws Exception {\r\n        ByteBufInputStream in = new ByteBufInputStream(httpContent.content());\r\n        jsonRead(in, tasks);\r\n    }\r\n```\r\n**The parser:**\r\n```\r\npublic static void jsonRead(InputStream is, List&lt;Task&gt; tasks) throws IOException {\r\n        try (JsonParser parser = new JsonFactory().createParser(is)) {\r\n            while (parser.nextToken() != null) {\r\n                if (parser.getCurrentToken() == JsonToken.START_OBJECT) {\r\n                    Task task = new Task();\r\n                    while (parser.nextToken() != JsonToken.END_OBJECT) {\r\n                        String eventFieldName = parser.getCurrentName();\r\n                        switch (eventFieldName) {\r\n                            case &quot;region&quot; -&gt; {\r\n                                parser.nextToken();\r\n                                task.setRegion(parser.getText());\r\n                            }\r\n                            case &quot;requestType&quot; -&gt; {\r\n                                parser.nextToken();\r\n                                task.setRequestType(parser.getText());\r\n                            }\r\n                            case &quot;atmId&quot; -&gt; {\r\n                                parser.nextToken();\r\n                                task.setAtmId(parser.getText());\r\n                            }\r\n                        }\r\n                    }\r\n                    tasks.add(task);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"Netty&#39;s HttpContent Chunk cuts off json - Unexpected end-of-input in field name","body":"<p>I am trying to make a Jackson parser that will use streaming API and convert JSON into object array. My JSON is very large so the parser takes chunk at a time received from the Netty's HttpContent object and tries to parse it. The problem is that the chunk usually gets cut off in the middle of a JSON object and parser throws an error: <strong>Unexpected end-of-input in field name</strong></p>\n<p>This is what I mean by a cut off JSON:</p>\n<pre><code>    {\n        &quot;region&quot;: 8,\n        &quot;requestType&quot;: &quot;PRIORITY&quot;,\n        &quot;a\n</code></pre>\n<p>How can I prevent this from happening?</p>\n<p><strong>ChannelRead</strong> that sends chunks into parser:</p>\n<pre><code> @Override\n    protected void channelRead0(ChannelHandlerContext ctx, HttpContent httpContent) throws Exception {\n        ByteBufInputStream in = new ByteBufInputStream(httpContent.content());\n        jsonRead(in, tasks);\n    }\n</code></pre>\n<p><strong>The parser:</strong></p>\n<pre><code>public static void jsonRead(InputStream is, List&lt;Task&gt; tasks) throws IOException {\n        try (JsonParser parser = new JsonFactory().createParser(is)) {\n            while (parser.nextToken() != null) {\n                if (parser.getCurrentToken() == JsonToken.START_OBJECT) {\n                    Task task = new Task();\n                    while (parser.nextToken() != JsonToken.END_OBJECT) {\n                        String eventFieldName = parser.getCurrentName();\n                        switch (eventFieldName) {\n                            case &quot;region&quot; -&gt; {\n                                parser.nextToken();\n                                task.setRegion(parser.getText());\n                            }\n                            case &quot;requestType&quot; -&gt; {\n                                parser.nextToken();\n                                task.setRequestType(parser.getText());\n                            }\n                            case &quot;atmId&quot; -&gt; {\n                                parser.nextToken();\n                                task.setAtmId(parser.getText());\n                            }\n                        }\n                    }\n                    tasks.add(task);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","sql-server","azure-web-app-service","mssql-jdbc"],"comments":[{"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"score":0,"creation_date":1680088073,"post_id":75864757,"comment_id":133836737,"body_markdown":"With further investigation, it seems to be an issue between the JDBC driver and the used Token service of Azure WebApp. From version 10.2.3 on they decided to only use the &quot;expires_in&quot; field from the response, but the provided token service from Azure only returns the &quot;expires_on&quot; field.\nIssue is tracked here:\nhttps://github.com/microsoft/mssql-jdbc/issues/2103","body":"With further investigation, it seems to be an issue between the JDBC driver and the used Token service of Azure WebApp. From version 10.2.3 on they decided to only use the &quot;expires_in&quot; field from the response, but the provided token service from Azure only returns the &quot;expires_on&quot; field. Issue is tracked here: <a href=\"https://github.com/microsoft/mssql-jdbc/issues/2103\" rel=\"nofollow noreferrer\">github.com/microsoft/mssql-jdbc/issues/2103</a>"}],"answers":[{"tags":[],"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681214187,"creation_date":1681214187,"answer_id":75985628,"question_id":75864757,"body_markdown":"As mentioned in this github issue (https://github.com/microsoft/mssql-jdbc/issues/2103), it was really a driver version incompatibility (azure-msal, azure-identity). Choosing the correct transitive dependencies solved the issue, at least for JDBC version 12.x.\r\nFixes for versions 10.x + 11.x should be ready soon.","title":"Azure WebApp SystemAssignedIdentiy not working with JDBC driver above 10.1.x, MSI Token failure","body":"<p>As mentioned in this github issue (<a href=\"https://github.com/microsoft/mssql-jdbc/issues/2103\" rel=\"nofollow noreferrer\">https://github.com/microsoft/mssql-jdbc/issues/2103</a>), it was really a driver version incompatibility (azure-msal, azure-identity). Choosing the correct transitive dependencies solved the issue, at least for JDBC version 12.x.\nFixes for versions 10.x + 11.x should be ready soon.</p>\n"}],"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1681214187,"creation_date":1679997304,"question_id":75864757,"body_markdown":"When upgrading our Java WebApp (SpringBoot) to a newer than 10.1 (&gt;= 10.2 or 11.x or 12.x) version of the JDBC connection driver, it is now failing with the following Exception:\r\n\r\n```SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint```\r\n\r\nWith Version 12.2 we get a slightly different Exception:\r\n\r\n```IOException: Server returned HTTP response code: 401 for URL: http://169.254.132.2:8081/msi/token?resource=https%3A%2F%2Fdatabase.windows.net%2F&amp;api-version=2017-09-01```\r\n\r\nWe are using an Azure WebApp with SystemAssigned Identity:\r\n[![Actived System assigned Identity][1]][1]\r\n\r\nThe mentioned user has access to the database (with JDBC driver version 10.1 it works perfect).\r\n\r\nI then tried to reproduce it with a freshly set up web app and with a demo application that contains only this code (with correct server and db names):\r\n```\r\npublic class Application {\r\n  public static void main(String[] args) throws Exception {\r\n    SQLServerDataSource ds = new SQLServerDataSource();\r\n    ds.setServerName(&quot;server-name&quot;);\r\n    ds.setDatabaseName(&quot;database-name&quot;);\r\n    ds.setAuthentication(&quot;ActiveDirectoryMSI&quot;);\r\n\r\n    try (Connection connection = ds.getConnection();\r\n        Statement stmt = connection.createStatement();\r\n        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM exampledata&quot;)) {\r\n      if (rs.next()) {\r\n        System.out.println(&quot;Data can be read: &quot; + rs.getString(1));\r\n      } else {\r\n        System.out.println(&quot;No Data could be fetched...&quot;);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis results in the same exception:\r\n```SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint```\r\n\r\nThen I tried the same using Username/Password authentication (```ds.setAuthentication(&quot;SqlPassword&quot;)```). With that everything works fine. But this is not an option for us.\r\n\r\nReading through the internet, previous posts mentioned that it is an issue with the JDBC driver. But that&#39;s long ago and there would be 3 Major versions affected. So I assume something different is wrong. Any ideas?\r\n\r\n  [1]: https://i.stack.imgur.com/yHI4O.png","title":"Azure WebApp SystemAssignedIdentiy not working with JDBC driver above 10.1.x, MSI Token failure","body":"<p>When upgrading our Java WebApp (SpringBoot) to a newer than 10.1 (&gt;= 10.2 or 11.x or 12.x) version of the JDBC connection driver, it is now failing with the following Exception:</p>\n<p><code>SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint</code></p>\n<p>With Version 12.2 we get a slightly different Exception:</p>\n<p><code>IOException: Server returned HTTP response code: 401 for URL: http://169.254.132.2:8081/msi/token?resource=https%3A%2F%2Fdatabase.windows.net%2F&amp;api-version=2017-09-01</code></p>\n<p>We are using an Azure WebApp with SystemAssigned Identity:\n<a href=\"https://i.stack.imgur.com/yHI4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHI4O.png\" alt=\"Actived System assigned Identity\" /></a></p>\n<p>The mentioned user has access to the database (with JDBC driver version 10.1 it works perfect).</p>\n<p>I then tried to reproduce it with a freshly set up web app and with a demo application that contains only this code (with correct server and db names):</p>\n<pre><code>public class Application {\n  public static void main(String[] args) throws Exception {\n    SQLServerDataSource ds = new SQLServerDataSource();\n    ds.setServerName(&quot;server-name&quot;);\n    ds.setDatabaseName(&quot;database-name&quot;);\n    ds.setAuthentication(&quot;ActiveDirectoryMSI&quot;);\n\n    try (Connection connection = ds.getConnection();\n        Statement stmt = connection.createStatement();\n        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM exampledata&quot;)) {\n      if (rs.next()) {\n        System.out.println(&quot;Data can be read: &quot; + rs.getString(1));\n      } else {\n        System.out.println(&quot;No Data could be fetched...&quot;);\n      }\n    }\n  }\n}\n</code></pre>\n<p>This results in the same exception:\n<code>SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint</code></p>\n<p>Then I tried the same using Username/Password authentication (<code>ds.setAuthentication(&quot;SqlPassword&quot;)</code>). With that everything works fine. But this is not an option for us.</p>\n<p>Reading through the internet, previous posts mentioned that it is an issue with the JDBC driver. But that's long ago and there would be 3 Major versions affected. So I assume something different is wrong. Any ideas?</p>\n"},{"tags":["java","spring-boot","azure","azureservicebus","spring-cloud-stream"],"comments":[{"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"score":0,"creation_date":1662069116,"post_id":73554259,"comment_id":129927501,"body_markdown":"do you want retry option for the pipeline or do you want retry option for the servicebus ??","body":"do you want retry option for the pipeline or do you want retry option for the servicebus ??"},{"owner":{"account_id":148117,"reputation":3294,"user_id":359666,"accept_rate":74,"display_name":"Uros K"},"score":0,"creation_date":1662120596,"post_id":73554259,"comment_id":129938369,"body_markdown":"I wan&#39;t to retry message processing for messages that cause an exception.","body":"I wan&#39;t to retry message processing for messages that cause an exception."}],"answers":[{"tags":[],"owner":{"account_id":22302314,"reputation":83,"user_id":16527394,"display_name":"Yi Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675740141,"creation_date":1675740141,"answer_id":75368662,"question_id":73554259,"body_markdown":"To set the retry policy for Service Bus binder, you need to configure in the binding level, for example,\r\n```yaml\r\nspring:\r\n  cloud:\r\n    stream:\r\n      servicebus:\r\n        bindings:\r\n          onReceive-in-0:\r\n            consumer:\r\n              retry:\r\n                fixed:\r\n                  delay: 100\r\n                  max-retries: 5\r\n                mode: fixed\r\n    \r\n```\r\n","title":"Azure Service Bus retry strategy with Spring Cloud Stream","body":"<p>To set the retry policy for Service Bus binder, you need to configure in the binding level, for example,</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    stream:\n      servicebus:\n        bindings:\n          onReceive-in-0:\n            consumer:\n              retry:\n                fixed:\n                  delay: 100\n                  max-retries: 5\n                mode: fixed\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28273394,"reputation":1,"user_id":21616247,"display_name":"N&#233;risson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681213603,"creation_date":1681213603,"answer_id":75985542,"question_id":73554259,"body_markdown":"You can set the retry strategy at multiple levels.\r\n\r\n    spring:\r\n      cloud:\r\n        azure:\r\n    \t  # At root level\r\n          retry:\r\n            amqp:\r\n              # How long to wait until a timeout\r\n              try-timeout: PT10S\r\n            # Retry backoff mode: exponential / fixed\r\n            mode: exponential\r\n            # Configuration for the &#39;exponential&#39; backoff mode\r\n            exponential:\r\n              # Amount of time to wait between retry attempts\r\n              base-delay: PT0.5S\r\n              # Maximum permissible amount of time between retry attempts\r\n              max-delay: PT2S\r\n              # The maximum number of attempts\r\n              max-retries: 3\r\n          servicebus:\r\n            consumer:\r\n              # At consumer level\r\n              retry:\r\n                mode: Exponential\r\n                exponential:\r\n                  # Amount of time to wait between retry attempts\r\n                  base-delay: 10\r\n                  # Maximum permissible amount of time between retry attempts\r\n                  max-delay: 5000\r\n                  # The maximum number of attempts\r\n                  max-retries: 10\r\n                fixed:\r\n                  # Amount of time to wait between retry attempts\r\n                  delay:\r\n                  # The maximum number of attempts\r\n                  max-retries:\r\n            processor:\r\n              # At processor level\r\n              retry:\r\n                exponential:\r\n                  # Amount of time to wait between retry attempts\r\n                  base-delay: 10\r\n                  # Maximum permissible amount of time between retry attempts\r\n                  max-delay: 5000\r\n                  # The maximum number of attempts\r\n                  max-retries: 10\r\n\r\n","title":"Azure Service Bus retry strategy with Spring Cloud Stream","body":"<p>You can set the retry strategy at multiple levels.</p>\n<pre><code>spring:\n  cloud:\n    azure:\n      # At root level\n      retry:\n        amqp:\n          # How long to wait until a timeout\n          try-timeout: PT10S\n        # Retry backoff mode: exponential / fixed\n        mode: exponential\n        # Configuration for the 'exponential' backoff mode\n        exponential:\n          # Amount of time to wait between retry attempts\n          base-delay: PT0.5S\n          # Maximum permissible amount of time between retry attempts\n          max-delay: PT2S\n          # The maximum number of attempts\n          max-retries: 3\n      servicebus:\n        consumer:\n          # At consumer level\n          retry:\n            mode: Exponential\n            exponential:\n              # Amount of time to wait between retry attempts\n              base-delay: 10\n              # Maximum permissible amount of time between retry attempts\n              max-delay: 5000\n              # The maximum number of attempts\n              max-retries: 10\n            fixed:\n              # Amount of time to wait between retry attempts\n              delay:\n              # The maximum number of attempts\n              max-retries:\n        processor:\n          # At processor level\n          retry:\n            exponential:\n              # Amount of time to wait between retry attempts\n              base-delay: 10\n              # Maximum permissible amount of time between retry attempts\n              max-delay: 5000\n              # The maximum number of attempts\n              max-retries: 10\n</code></pre>\n"}],"owner":{"account_id":148117,"reputation":3294,"user_id":359666,"accept_rate":74,"display_name":"Uros K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681213603,"creation_date":1661940515,"question_id":73554259,"body_markdown":"I am using Spring Cloud Stream with Azure Service Bus. These are my relevant versions and dependencies:\r\n\r\n     &lt;spring-cloud-azure.version&gt;4.3.0&lt;/spring-cloud-azure.version&gt;\r\n     &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-azure-stream-binder-servicebus&lt;/artifactId&gt;\r\n         &lt;version&gt;4.3.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nI want to implement retry policy, where message that causes an exception gets retried multiple times, with some delay between the retries.\r\n\r\nFrom the documentation, I see that there are some configuration settings available, however it seems the settings are not taken into account.\r\n\r\nThe configuration properties: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-cloud-azure-appendix\r\n\r\nMy `application.yml`:\r\n\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          bindings:\r\n            onReceive-in-0:\r\n              destination: subscriber-1-input-queue\r\n    \r\n        azure:\r\n          servicebus:\r\n            consumer:\r\n              retry:\r\n                exponential:\r\n                  base-delay: 100\r\n                  max-delay: 1000\r\n                  max-retries: 5\r\n                fixed:\r\n                  delay: 100\r\n                  max-retries: 5\r\n                mode: exponential\r\n            connection-string: Endpoint=...\r\n\r\nMy consumer:\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class ValuesConsumer {\r\n    \r\n        @Bean\r\n        public Consumer&lt;String&gt; onReceive() {\r\n            return (message) -&gt; {\r\n    \r\n              log.info(&quot;Received the value {} in Consumer&quot;, message);\r\n    \r\n                switch (message) {\r\n                    case &quot;IntegrationException&quot; -&gt; throw new IntegrationException();\r\n                    case &quot;PoisonPillException&quot; -&gt; throw new PoisonPillException();\r\n                    case &quot;ProcessingException&quot; -&gt; throw new ProcessingException();\r\n                    case &quot;ValidationException&quot; -&gt; throw new ValidationException();\r\n                }\r\n    \r\n            };\r\n        }\r\n    }\r\n\r\nWhen I throw the exception, message processing gets retried 10 times without any delays - no retry logic actually happens, just message gets abandoned and then received again from the queue.\r\n\r\nThis is the exception stacktrace, which is repeated 10 times:\r\n\r\n    2022-08-31 11:26:45.819  INFO 10544 --- [oundedElastic-3] com.demoasb.ValuesConsumer        : Received the value IntegrationException in Consumer\r\n    2022-08-31 11:26:45.823 ERROR 10544 --- [oundedElastic-3] .s.i.s.i.ServiceBusInboundChannelAdapter : Error in the operation USER_CALLBACK occurred on entity subscriber-1-input-queue. Error: {}\r\n    \r\n    com.azure.messaging.servicebus.ServiceBusException: Dispatcher has no subscribers for channel &#39;application.errorChannel&#39;.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@75a1e7f9]; nested exception is com.demoasb.exceptions.IntegrationException, failedMessage=GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}], headers={id=d6a9c4de-a566-fb2d-f14f-568a3a2a4e43, timestamp=1661938005821}] for original GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}]\r\n    \tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:346) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:317) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.scheduler.ImmediateScheduler$ImmediateSchedulerWorker.schedule(ImmediateScheduler.java:84) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.trySchedule(FluxPublishOn.java:312) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.onNext(FluxPublishOn.java:237) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat com.azure.messaging.servicebus.FluxAutoComplete$AutoCompleteSubscriber.hookOnNext(FluxAutoComplete.java:94) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat com.azure.messaging.servicebus.FluxAutoComplete$AutoCompleteSubscriber.hookOnNext(FluxAutoComplete.java:55) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat com.azure.messaging.servicebus.FluxAutoLockRenew$LockRenewSubscriber.hookOnNext(FluxAutoLockRenew.java:178) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat com.azure.messaging.servicebus.FluxAutoLockRenew$LockRenewSubscriber.hookOnNext(FluxAutoLockRenew.java:79) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor.drainQueue(ServiceBusReceiveLinkProcessor.java:516) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor.drain(ServiceBusReceiveLinkProcessor.java:475) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor.lambda$onNext$2(ServiceBusReceiveLinkProcessor.java:227) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \tat reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel &#39;application.errorChannel&#39;.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@75a1e7f9]; nested exception is com.demoasb.exceptions.IntegrationException, failedMessage=GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}], headers={id=d6a9c4de-a566-fb2d-f14f-568a3a2a4e43, timestamp=1661938005821}] for original GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}]\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:76) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:457) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:325) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:268) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:232) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.dispatcher.BroadcastingDispatcher.invokeHandler(BroadcastingDispatcher.java:222) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:178) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73) ~[spring-integration-azure-servicebus-4.3.0.jar:4.3.0]\r\n    \tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201) ~[spring-integration-azure-servicebus-4.3.0.jar:4.3.0]\r\n    \tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186) ~[spring-integration-azure-servicebus-4.3.0.jar:4.3.0]\r\n    \tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:343) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\r\n    \t... 28 common frames omitted\r\n    Caused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers\r\n    \tat org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:153) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-5.5.14.jar:5.5.14]\r\n    \t... 55 common frames omitted\r\n    \r\n    2022-08-31 11:26:45.824  WARN 10544 --- [oundedElastic-3] c.a.m.s.ServiceBusProcessorClient        : Error when processing message. Abandoning message.\r\n    Dispatcher has no subscribers for channel &#39;application.errorChannel&#39;.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@75a1e7f9]; nested exception is com.demoasb.exceptions.IntegrationException, failedMessage=GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}], headers={id=d6a9c4de-a566-fb2d-f14f-568a3a2a4e43, timestamp=1661938005821}] for original GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}]\r\n    2022-08-31 11:26:45.952  INFO 10544 --- [oundedElastic-3] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\n\r\nHow to correctly implement the delay strategy? Is anything missing from my configuration?","title":"Azure Service Bus retry strategy with Spring Cloud Stream","body":"<p>I am using Spring Cloud Stream with Azure Service Bus. These are my relevant versions and dependencies:</p>\n<pre><code> &lt;spring-cloud-azure.version&gt;4.3.0&lt;/spring-cloud-azure.version&gt;\n &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n     &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-azure-stream-binder-servicebus&lt;/artifactId&gt;\n     &lt;version&gt;4.3.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>I want to implement retry policy, where message that causes an exception gets retried multiple times, with some delay between the retries.</p>\n<p>From the documentation, I see that there are some configuration settings available, however it seems the settings are not taken into account.</p>\n<p>The configuration properties: <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-cloud-azure-appendix\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-cloud-azure-appendix</a></p>\n<p>My <code>application.yml</code>:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      bindings:\n        onReceive-in-0:\n          destination: subscriber-1-input-queue\n\n    azure:\n      servicebus:\n        consumer:\n          retry:\n            exponential:\n              base-delay: 100\n              max-delay: 1000\n              max-retries: 5\n            fixed:\n              delay: 100\n              max-retries: 5\n            mode: exponential\n        connection-string: Endpoint=...\n</code></pre>\n<p>My consumer:</p>\n<pre><code>@Slf4j\n@Component\npublic class ValuesConsumer {\n\n    @Bean\n    public Consumer&lt;String&gt; onReceive() {\n        return (message) -&gt; {\n\n          log.info(&quot;Received the value {} in Consumer&quot;, message);\n\n            switch (message) {\n                case &quot;IntegrationException&quot; -&gt; throw new IntegrationException();\n                case &quot;PoisonPillException&quot; -&gt; throw new PoisonPillException();\n                case &quot;ProcessingException&quot; -&gt; throw new ProcessingException();\n                case &quot;ValidationException&quot; -&gt; throw new ValidationException();\n            }\n\n        };\n    }\n}\n</code></pre>\n<p>When I throw the exception, message processing gets retried 10 times without any delays - no retry logic actually happens, just message gets abandoned and then received again from the queue.</p>\n<p>This is the exception stacktrace, which is repeated 10 times:</p>\n<pre><code>2022-08-31 11:26:45.819  INFO 10544 --- [oundedElastic-3] com.demoasb.ValuesConsumer        : Received the value IntegrationException in Consumer\n2022-08-31 11:26:45.823 ERROR 10544 --- [oundedElastic-3] .s.i.s.i.ServiceBusInboundChannelAdapter : Error in the operation USER_CALLBACK occurred on entity subscriber-1-input-queue. Error: {}\n\ncom.azure.messaging.servicebus.ServiceBusException: Dispatcher has no subscribers for channel 'application.errorChannel'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@75a1e7f9]; nested exception is com.demoasb.exceptions.IntegrationException, failedMessage=GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}], headers={id=d6a9c4de-a566-fb2d-f14f-568a3a2a4e43, timestamp=1661938005821}] for original GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}]\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:346) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:317) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.scheduler.ImmediateScheduler$ImmediateSchedulerWorker.schedule(ImmediateScheduler.java:84) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.trySchedule(FluxPublishOn.java:312) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.onNext(FluxPublishOn.java:237) ~[reactor-core-3.4.22.jar:3.4.22]\n    at com.azure.messaging.servicebus.FluxAutoComplete$AutoCompleteSubscriber.hookOnNext(FluxAutoComplete.java:94) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at com.azure.messaging.servicebus.FluxAutoComplete$AutoCompleteSubscriber.hookOnNext(FluxAutoComplete.java:55) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160) ~[reactor-core-3.4.22.jar:3.4.22]\n    at com.azure.messaging.servicebus.FluxAutoLockRenew$LockRenewSubscriber.hookOnNext(FluxAutoLockRenew.java:178) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at com.azure.messaging.servicebus.FluxAutoLockRenew$LockRenewSubscriber.hookOnNext(FluxAutoLockRenew.java:79) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.22.jar:3.4.22]\n    at com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor.drainQueue(ServiceBusReceiveLinkProcessor.java:516) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor.drain(ServiceBusReceiveLinkProcessor.java:475) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at com.azure.messaging.servicebus.implementation.ServiceBusReceiveLinkProcessor.lambda$onNext$2(ServiceBusReceiveLinkProcessor.java:227) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    at reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37) ~[reactor-core-3.4.22.jar:3.4.22]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'application.errorChannel'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@75a1e7f9]; nested exception is com.demoasb.exceptions.IntegrationException, failedMessage=GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}], headers={id=d6a9c4de-a566-fb2d-f14f-568a3a2a4e43, timestamp=1661938005821}] for original GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}]\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:76) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:457) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:325) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:268) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:232) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.dispatcher.BroadcastingDispatcher.invokeHandler(BroadcastingDispatcher.java:222) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:178) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.3.22.jar:5.3.22]\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73) ~[spring-integration-azure-servicebus-4.3.0.jar:4.3.0]\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201) ~[spring-integration-azure-servicebus-4.3.0.jar:4.3.0]\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186) ~[spring-integration-azure-servicebus-4.3.0.jar:4.3.0]\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:343) ~[azure-messaging-servicebus-7.9.1.jar:7.9.1]\n    ... 28 common frames omitted\nCaused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers\n    at org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:153) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-5.5.14.jar:5.5.14]\n    ... 55 common frames omitted\n\n2022-08-31 11:26:45.824  WARN 10544 --- [oundedElastic-3] c.a.m.s.ServiceBusProcessorClient        : Error when processing message. Abandoning message.\nDispatcher has no subscribers for channel 'application.errorChannel'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@75a1e7f9]; nested exception is com.demoasb.exceptions.IntegrationException, failedMessage=GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}], headers={id=d6a9c4de-a566-fb2d-f14f-568a3a2a4e43, timestamp=1661938005821}] for original GenericMessage [payload=byte[20], headers={azure_service_bus_expires_at=2022-09-14T09:26:45.740Z, azure_partition_key=415274637, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@6c625687, azure_service_bus_message_id=1981cbaf-68e3-62ec-b28e-9aaf5be48487, azure_service_bus_enqueued_sequence_number=46, azure_service_bus_enqueued_time=2022-08-31T09:26:45.740Z, azure_service_bus_lock_token=54cb3555-6253-4ef6-a858-de894358e56b, azure_service_bus_sequence_number=63, target-protocol=kafka, actionType=EventA, azure_service_bus_time_to_live=PT336H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=a896f227-28d2-c65e-afa3-b8e1e41b99c2, contentType=application/json, azure_service_bus_locked_until=2022-08-31T09:27:15.755Z, timestamp=1661938005819}]\n2022-08-31 11:26:45.952  INFO 10544 --- [oundedElastic-3] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\n</code></pre>\n<p>How to correctly implement the delay strategy? Is anything missing from my configuration?</p>\n"},{"tags":["java","android","kotlin","java-native-interface","jnienv"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681241185,"post_id":75985523,"comment_id":134024090,"body_markdown":"Use `javap -s` to get the internal method signature of your HashMap. It will probably be `Object get(Object)`","body":"Use <code>javap -s</code> to get the internal method signature of your HashMap. It will probably be <code>Object get(Object)</code>"},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":0,"creation_date":1686508133,"post_id":75985523,"comment_id":134804656,"body_markdown":"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo037","body":"<a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo037\" rel=\"nofollow noreferrer\">github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo&zwnj;&#8203;037</a>"}],"owner":{"account_id":19004944,"reputation":29,"user_id":13871887,"display_name":"Edward Snowden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681213480,"creation_date":1681213480,"question_id":75985523,"body_markdown":"So, I have a hashmap declared in kotlin as:\r\n\r\n    var hm = hashMapOf(&quot;in1&quot; to arrayListOf(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;))\r\n\r\nI want the value of &quot;in1&quot; in JNI, for that this is what I&#39;m doing &amp; my app is crashing, can someone help me out?\r\n\r\n    \r\n    class hashMap = env-&gt;GetObjectClass(hm);\r\n    jmethodID getID = env-&gt;GetMethodID(hashMap, &quot;get&quot;, &quot;(Ljava/lang/String;)[Ljava/lang/String;&quot;);\r\n    jobjectArray value = (jobjectArray) env-&gt;CallObjectMethod(hm,getID,(jstring) &quot;in1&quot;);","title":"How to get a list of String stored in a Java HashMap as a value","body":"<p>So, I have a hashmap declared in kotlin as:</p>\n<pre><code>var hm = hashMapOf(&quot;in1&quot; to arrayListOf(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;))\n</code></pre>\n<p>I want the value of &quot;in1&quot; in JNI, for that this is what I'm doing &amp; my app is crashing, can someone help me out?</p>\n<pre><code>class hashMap = env-&gt;GetObjectClass(hm);\njmethodID getID = env-&gt;GetMethodID(hashMap, &quot;get&quot;, &quot;(Ljava/lang/String;)[Ljava/lang/String;&quot;);\njobjectArray value = (jobjectArray) env-&gt;CallObjectMethod(hm,getID,(jstring) &quot;in1&quot;);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9484,"page":508,"page_size":100}
