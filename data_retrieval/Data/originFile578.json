{"items":[{"tags":["java","internet-explorer","selenium","browser-automation"],"answers":[{"comments":[{"owner":{"account_id":4011414,"reputation":366,"user_id":3304664,"accept_rate":73,"display_name":"Wanderer"},"score":4,"creation_date":1405451498,"post_id":24748317,"comment_id":38428934,"body_markdown":"Thanks. For anyone facing the same issue [here](http://pcsupport.about.com/od/registry/ht/open-registry-editor.htm) is the reference link for opening registry settings","body":"Thanks. For anyone facing the same issue <a href=\"http://pcsupport.about.com/od/registry/ht/open-registry-editor.htm\" rel=\"nofollow noreferrer\">here</a> is the reference link for opening registry settings"},{"owner":{"account_id":13242,"reputation":7793,"user_id":26479,"display_name":"kͩeͣmͮpͥ ͩ"},"score":3,"creation_date":1455275900,"post_id":24748317,"comment_id":58428383,"body_markdown":"The link for that configuration is now https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration","body":"The link for that configuration is now <a href=\"https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1455275874,"creation_date":1405385182,"answer_id":24748317,"question_id":24746777,"body_markdown":"First of all, don&#39;t use \r\n\r\n    capabilities.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS,true);\r\n\r\nas you have already set Protected mode settings. For the issue you are seeing, it should be because of the missing registry settings that is added as a prerequisite for running tests in IE11:\r\n\r\nhttps://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>First of all, don't use </p>\n\n<pre><code>capabilities.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS,true);\n</code></pre>\n\n<p>as you have already set Protected mode settings. For the issue you are seeing, it should be because of the missing registry settings that is added as a prerequisite for running tests in IE11:</p>\n\n<p><a href=\"https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration\">https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration</a></p>\n"},{"comments":[{"owner":{"account_id":5604648,"reputation":2043,"user_id":4439693,"accept_rate":70,"display_name":"Isengo"},"score":0,"creation_date":1483475684,"post_id":36031217,"comment_id":70110152,"body_markdown":"Wow that worked. But the input is freaking slow - a letter per minute :-/ Any idea?","body":"Wow that worked. But the input is freaking slow - a letter per minute :-/ Any idea?"},{"owner":{"account_id":8052578,"reputation":1431,"user_id":6070662,"accept_rate":80,"display_name":"Solomon Raja"},"score":1,"creation_date":1483514440,"post_id":36031217,"comment_id":70122275,"body_markdown":"Hope you are using a 64-bit machine and a 64-bit IE driver. Use a 32-bit IE driver instead.","body":"Hope you are using a 64-bit machine and a 64-bit IE driver. Use a 32-bit IE driver instead."},{"owner":{"account_id":5129087,"reputation":151,"user_id":4109960,"accept_rate":21,"display_name":"Nisim Naim"},"score":0,"creation_date":1484662891,"post_id":36031217,"comment_id":70594936,"body_markdown":"I am using 64-bit machine. Added the relevant registry entry and change to 32-bit IE Driver. still getting the exception.","body":"I am using 64-bit machine. Added the relevant registry entry and change to 32-bit IE Driver. still getting the exception."},{"owner":{"account_id":6301799,"reputation":339,"user_id":4896192,"display_name":"saba vahid"},"score":0,"creation_date":1533245133,"post_id":36031217,"comment_id":90288164,"body_markdown":"there is no main in internet explorer","body":"there is no main in internet explorer"},{"owner":{"account_id":8052578,"reputation":1431,"user_id":6070662,"accept_rate":80,"display_name":"Solomon Raja"},"score":0,"creation_date":1533299287,"post_id":36031217,"comment_id":90307804,"body_markdown":"Please ensure you are navigating under HKEY_LOCAL_MACHINE","body":"Please ensure you are navigating under HKEY_LOCAL_MACHINE"}],"tags":[],"owner":{"account_id":8052578,"reputation":1431,"user_id":6070662,"accept_rate":80,"display_name":"Solomon Raja"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1467615800,"creation_date":1458119747,"answer_id":36031217,"question_id":24746777,"body_markdown":"I am using **IE 11 - 64 bit windows machine**. This point worked for me.\r\n\r\nFor IE 11 only, you will need to set a registry entry on the target computer so that the driver can maintain a connection to the instance of Internet Explorer it creates. \r\n\r\n&gt; For 32-bit Windows installations, the key you must examine in the\r\n&gt; registry editor is HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Internet\r\n&gt; Explorer\\Main\\FeatureControl\\FEATURE_BFCACHE.\r\n\r\n\r\n&gt; For 64-bit Windows installations, the key is\r\n&gt; HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Internet\r\n&gt; Explorer\\Main\\FeatureControl\\FEATURE_BFCACHE.\r\n\r\n \r\n\r\n**Please note that the FEATURE_BFCACHE subkey may or may not be present, and should be created if it is not present.** \r\n\r\n**Important:** Inside this key, create a `DWORD` value named `iexplore.exe` with the value of 0.","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>I am using <strong>IE 11 - 64 bit windows machine</strong>. This point worked for me.</p>\n\n<p>For IE 11 only, you will need to set a registry entry on the target computer so that the driver can maintain a connection to the instance of Internet Explorer it creates. </p>\n\n<blockquote>\n  <p>For 32-bit Windows installations, the key you must examine in the\n  registry editor is HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Internet\n  Explorer\\Main\\FeatureControl\\FEATURE_BFCACHE.</p>\n  \n  <p>For 64-bit Windows installations, the key is\n  HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Internet\n  Explorer\\Main\\FeatureControl\\FEATURE_BFCACHE.</p>\n</blockquote>\n\n<p><strong>Please note that the FEATURE_BFCACHE subkey may or may not be present, and should be created if it is not present.</strong> </p>\n\n<p><strong>Important:</strong> Inside this key, create a <code>DWORD</code> value named <code>iexplore.exe</code> with the value of 0.</p>\n"},{"tags":[],"owner":{"account_id":7873423,"reputation":11,"user_id":5949943,"display_name":"Pallavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468234028,"creation_date":1468234028,"answer_id":38305010,"question_id":24746777,"body_markdown":"I found that, if the launched browser is kept on focus, you will get that exception. As soon as you launch the webdriver, open any other window, for example, you can open eclipse as soon as the script launches IE Driver. Script execution starts, and then you can open you IE Driver.. to handle it through scripts, you add the below code:\r\n\r\n        public WebDriver driver, driver1;\r\n        System.setProperty(&quot;webdriver.ie.driver&quot;, System.getProperty(\r\n        \t\t\t\t&quot;webdriver.ie.driver&quot;, &quot;./BrowserDrivers/IEDriverServer.exe&quot;));\r\n        \t\tdriver = new InternetExplorerDriver(cap);\r\n        \t\tthis.driver.manage().deleteAllCookies();\r\n        \t\tthis.driver.manage().timeouts().implicitlyWait(WaitTimeConstants.WAIT_TIME_LONG, TimeUnit.SECONDS);\r\n        \t\t\r\n        \t\tthis.driver.get(&quot;yourApplication.com&quot;);\r\n        \t\tthis.driver.manage().window().maximize();\r\n    \r\n    public WebDriver driver, driver1;\r\n    System.setProperty(&quot;webdriver.ie.driver&quot;, System.getProperty(\r\n    \t\t\t\t&quot;webdriver.ie.driver&quot;, &quot;./BrowserDrivers/IEDriverServer.exe&quot;));\r\n    \t\tdriver1 = new InternetExplorerDriver(cap);\r\n    \t\tthis.driver1.manage().deleteAllCookies();\r\n    \t\t    \t\t\r\n    \t\tthis.driver1.get(&quot;http://www.google.com&quot;);\r\n    \t\tthis.driver1.manage().window().maximize();","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>I found that, if the launched browser is kept on focus, you will get that exception. As soon as you launch the webdriver, open any other window, for example, you can open eclipse as soon as the script launches IE Driver. Script execution starts, and then you can open you IE Driver.. to handle it through scripts, you add the below code:</p>\n\n<pre><code>    public WebDriver driver, driver1;\n    System.setProperty(\"webdriver.ie.driver\", System.getProperty(\n                    \"webdriver.ie.driver\", \"./BrowserDrivers/IEDriverServer.exe\"));\n            driver = new InternetExplorerDriver(cap);\n            this.driver.manage().deleteAllCookies();\n            this.driver.manage().timeouts().implicitlyWait(WaitTimeConstants.WAIT_TIME_LONG, TimeUnit.SECONDS);\n\n            this.driver.get(\"yourApplication.com\");\n            this.driver.manage().window().maximize();\n\npublic WebDriver driver, driver1;\nSystem.setProperty(\"webdriver.ie.driver\", System.getProperty(\n                \"webdriver.ie.driver\", \"./BrowserDrivers/IEDriverServer.exe\"));\n        driver1 = new InternetExplorerDriver(cap);\n        this.driver1.manage().deleteAllCookies();\n\n        this.driver1.get(\"http://www.google.com\");\n        this.driver1.manage().window().maximize();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8992652,"reputation":31,"user_id":6704053,"display_name":"meenal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470906785,"creation_date":1470905695,"answer_id":38891679,"question_id":24746777,"body_markdown":"Below solution also works if from current page you navigate on next page on some action/event and selenium driver doesnt recognise window :-\r\n\r\nFor 64-bit Windows installations, the key is:\r\n\r\n     HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Internet explorer\\Main\\FeatureControl\\FEATURE_BFCACHE\r\n\r\nInside this create a DWORD value named iexplore.exe with the value of 0.\r\n","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>Below solution also works if from current page you navigate on next page on some action/event and selenium driver doesnt recognise window :-</p>\n\n<p>For 64-bit Windows installations, the key is:</p>\n\n<pre><code> HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Internet explorer\\Main\\FeatureControl\\FEATURE_BFCACHE\n</code></pre>\n\n<p>Inside this create a DWORD value named iexplore.exe with the value of 0.</p>\n"},{"tags":[],"owner":{"account_id":1531770,"reputation":4658,"user_id":1428821,"accept_rate":69,"display_name":"Som"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472028680,"creation_date":1472028680,"answer_id":39118638,"question_id":24746777,"body_markdown":"The solution suggested by @David Kemp is **not working for the ie 11 of windows 10 - 64 bit** . I have added  the registry key  `HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Internet explorer\\Main\\FeatureControl\\FEATURE_BFCACHE`  according to the steps mentioned For IE 11 only following https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration but after opening the https certificate page (url https://my-page:9443) it is unable to   execute             `driver.navigate().to(&quot;javascript:document.getElementById(&#39;overridelink&#39;).click()&quot;);` throwing [NoSuchWindowException][1]\r\n\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/NoSuchWindowException.html\r\n\r\n\r\nHowever same **works fine for ie 11 of windows 7-64 bit** and able to execute the scripts . \r\n\r\nThe  work around to make ie 11 work for win 10 is by setting **initialBrowserUrl** capabilities  to  **https://my-page:9443**  like below \r\n\r\n    capabilities.setCapability(&quot;initialBrowserUrl&quot;, &quot;https://my-page:9443&quot;);\r\n\r\n***but I am still confused why for ie11 / windows 10 it&#39;s different ?*** ","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>The solution suggested by @David Kemp is <strong>not working for the ie 11 of windows 10 - 64 bit</strong> . I have added  the registry key  <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Internet explorer\\Main\\FeatureControl\\FEATURE_BFCACHE</code>  according to the steps mentioned For IE 11 only following <a href=\"https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration\" rel=\"noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver#required-configuration</a> but after opening the https certificate page (url <a href=\"https://my-page:9443\" rel=\"noreferrer\">https://my-page:9443</a>) it is unable to   execute             <code>driver.navigate().to(\"javascript:document.getElementById('overridelink').click()\");</code> throwing <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/NoSuchWindowException.html\" rel=\"noreferrer\">NoSuchWindowException</a></p>\n\n<p>However same <strong>works fine for ie 11 of windows 7-64 bit</strong> and able to execute the scripts . </p>\n\n<p>The  work around to make ie 11 work for win 10 is by setting <strong>initialBrowserUrl</strong> capabilities  to  <strong><a href=\"https://my-page:9443\" rel=\"noreferrer\">https://my-page:9443</a></strong>  like below </p>\n\n<pre><code>capabilities.setCapability(\"initialBrowserUrl\", \"https://my-page:9443\");\n</code></pre>\n\n<p><strong><em>but I am still confused why for ie11 / windows 10 it's different ?</em></strong> </p>\n"},{"tags":[],"owner":{"account_id":9603327,"reputation":11,"user_id":7130065,"display_name":"IchimGA"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1478587337,"creation_date":1478587337,"answer_id":40480525,"question_id":24746777,"body_markdown":"Add http://localhost/ to your trusted sites in IE11. This worked for me,after trying everything else without results.","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>Add <a href=\"http://localhost/\" rel=\"nofollow noreferrer\">http://localhost/</a> to your trusted sites in IE11. This worked for me,after trying everything else without results.</p>\n"},{"tags":[],"owner":{"account_id":1556076,"reputation":448,"user_id":1447130,"display_name":"Jeevan Adiga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506520525,"creation_date":1506520525,"answer_id":46449758,"question_id":24746777,"body_markdown":"Added domain of AUT to list of &quot;Trusted Sites&quot; for i.e. in &quot;Internet Options&quot;. Solved the problem.","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>Added domain of AUT to list of \"Trusted Sites\" for i.e. in \"Internet Options\". Solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":10725870,"reputation":159,"user_id":7893406,"display_name":"Ponns"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1508084036,"creation_date":1508084036,"answer_id":46757154,"question_id":24746777,"body_markdown":"IE Options --&gt; Security Tab -&gt; Uncheck &quot;Enable Protected Mode&quot; worked for me. ","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>IE Options --> Security Tab -> Uncheck \"Enable Protected Mode\" worked for me. </p>\n"},{"tags":[],"owner":{"account_id":4381407,"reputation":358,"user_id":3572954,"display_name":"Venkatesh Pothula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570126647,"creation_date":1570126647,"answer_id":58224799,"question_id":24746777,"body_markdown":"Ignore above all... i have tried below line in my desired capabilities for IE driver then its worked .. :) \r\n\r\n\t            ieCapabilities.setCapability(InternetExplorerDriver.INITIAL_BROWSER_URL,false);\r\n","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>Ignore above all... i have tried below line in my desired capabilities for IE driver then its worked .. :) </p>\n\n<pre><code>            ieCapabilities.setCapability(InternetExplorerDriver.INITIAL_BROWSER_URL,false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13989165,"reputation":130,"user_id":10103523,"display_name":"Samarth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589293481,"creation_date":1589293481,"answer_id":61754249,"question_id":24746777,"body_markdown":"You can follow a few options from below:\r\n\r\n1. Use relative paths in the project, later you can choose to get its absolute path.\r\n2. Setting the Protected mode setting for all, to either enabled or disabled.\r\n3. Try understanding what really this exception mean &quot;org.openqa.selenium.NoSuchWindowException: Unable to find element on   closed window (WARNING: The server did not provide any stacktrace information)\r\nCommand duration or timeout: 18 milliseconds&quot;\r\n \r\nThis states that whatever being done by your code (the web driver) is not able to identify the window of IE.\r\n\r\nThe possible causes can be:\r\na. Multiple driver instances are already running which were instantiated by older runs and could not have been terminated by quite().\r\nb. The sometimes when you use close() on a driver it will not terminate the IE Driver, so use quite() after closing inside a finally block.\r\nYes, add some Exception handling to avoid the above issue.\r\n\r\n4. Exception &quot;org.openqa.selenium.NoSuchWindowException&quot; also suggests that web driver instance is not able to get the handle of IE&#39;s window tab. I faced this issue when accidentally, the browser was closed and the code was still trying to locate and do some action on a web element. In this case, the driver throws this exception to tell that there is no IE browser opened at all.\r\n\r\n5. Having a check on the opening of browser can also help, I usually keep some piece of code that gives logs of used Driver object and the port where it is trying to connect and to which browser to.\r\n\r\nFor me, point 4 &amp; 5 worked. but you might wanna just change the web driver&#39;s service i.e. browser. IE is just too slow sometimes to honour the selenium API calls :(","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>You can follow a few options from below:</p>\n\n<ol>\n<li>Use relative paths in the project, later you can choose to get its absolute path.</li>\n<li>Setting the Protected mode setting for all, to either enabled or disabled.</li>\n<li>Try understanding what really this exception mean \"org.openqa.selenium.NoSuchWindowException: Unable to find element on   closed window (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 18 milliseconds\"</li>\n</ol>\n\n<p>This states that whatever being done by your code (the web driver) is not able to identify the window of IE.</p>\n\n<p>The possible causes can be:\na. Multiple driver instances are already running which were instantiated by older runs and could not have been terminated by quite().\nb. The sometimes when you use close() on a driver it will not terminate the IE Driver, so use quite() after closing inside a finally block.\nYes, add some Exception handling to avoid the above issue.</p>\n\n<ol start=\"4\">\n<li><p>Exception \"org.openqa.selenium.NoSuchWindowException\" also suggests that web driver instance is not able to get the handle of IE's window tab. I faced this issue when accidentally, the browser was closed and the code was still trying to locate and do some action on a web element. In this case, the driver throws this exception to tell that there is no IE browser opened at all.</p></li>\n<li><p>Having a check on the opening of browser can also help, I usually keep some piece of code that gives logs of used Driver object and the port where it is trying to connect and to which browser to.</p></li>\n</ol>\n\n<p>For me, point 4 &amp; 5 worked. but you might wanna just change the web driver's service i.e. browser. IE is just too slow sometimes to honour the selenium API calls :(</p>\n"}],"owner":{"account_id":4011414,"reputation":366,"user_id":3304664,"accept_rate":73,"display_name":"Wanderer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63620,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":24748317,"answer_count":10,"score":22,"last_activity_date":1678785982,"creation_date":1405375435,"question_id":24746777,"body_markdown":"I am trying to automate a webpage using selenium in IE11. I have set the protected mode settings to same level and zoom level is 100%. While running the test it opens the website however gives the exception just after. Below is the code used.\r\n\r\n       File file = new File(&quot;C:\\\\Users\\\\Desktop\\\\IEDriverServer.exe&quot;);\r\n       System.setProperty(&quot;webdriver.ie.driver&quot;, file.getAbsolutePath() );       \r\n       DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\r\n       capabilities.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS,\r\n       true); \r\n       WebDriver driver = new InternetExplorerDriver(capabilities);\r\n       driver.get(&quot;http://www.google.com&quot;);\r\nAnd the exception stacktrace\r\n\r\n    Started InternetExplorerDriver server (32-bit)\r\n    2.39.0.0\r\n    Listening on port 38122\r\n    Jul 11, 2014 1:50:02 PM org.apache.http.impl.client.DefaultRequestDirector tryExecute\r\n    INFO: I/O exception (java.net.SocketException) caught when processing request: Software caused        connection abort: recv failed\r\n    Jul 11, 2014 1:50:02 PM org.apache.http.impl.client.DefaultRequestDirector tryExecute\r\n    INFO: Retrying request\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchWindowException: Unable to find element on   closed window (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 18 milliseconds\r\n    Build info: version: &#39;2.39.0&#39;, revision: &#39;ff23eac&#39;, time: &#39;2013-12-16 16:12:12&#39;\r\n     System info: host: &#39;Neeraj&#39;, ip: &#39;10.136.180.161&#39;, os.name: &#39;Windows 7&#39;,  s.arch: &#39;amd64&#39;,      os.version: &#39;6.1&#39;, java.version: &#39;1.7.0_60&#39;  Session ID: ab6edd65-8a66-41fa-be46-56fba7dbdfc9\r\n    Driver info: org.openqa.selenium.ie.InternetExplorerDriver\r\n     Capabilities [{platform=WINDOWS, javascriptEnabled=true, elementScrollBehavior=0,                          ignoreZoomSetting=false,                                  enablePersistentHover=true, ie.ensureCleanSession=false, browserName=internet explorer, enableElementCacheCleanup=true,   unexpectedAlertBehaviour=dismiss, version=11, ie.usePerProcessProxy=false, cssSelectorsEnabled=true,   ignoreProtectedModeSettings=true, requireWindowFocus=false,  handlesAlerts=true, initialBrowserUrl=http://localhost:38122/, ie.forceCreateProcessApi=false, nativeEvents=true, browserAttachTimeout=0, ie.browserCommandLineSwitches=, takesScreenshot=true}]\r\n          at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n          at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n          at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n          at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n          at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:193)\r\n          at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:145)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:554)\r\n     at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:307)\r\n     at org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:348)\r\n     at org.openqa.selenium.By$ById.findElement(By.java:220)\r\n     at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:299)\r\n     at Test1.main(Test1.java:27)\r\n\r\nAny suggestions on how to resolve this.","title":"Selenium - NoSuchWindowException in IE 11","body":"<p>I am trying to automate a webpage using selenium in IE11. I have set the protected mode settings to same level and zoom level is 100%. While running the test it opens the website however gives the exception just after. Below is the code used.</p>\n\n<pre><code>   File file = new File(\"C:\\\\Users\\\\Desktop\\\\IEDriverServer.exe\");\n   System.setProperty(\"webdriver.ie.driver\", file.getAbsolutePath() );       \n   DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\n   capabilities.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS,\n   true); \n   WebDriver driver = new InternetExplorerDriver(capabilities);\n   driver.get(\"http://www.google.com\");\n</code></pre>\n\n<p>And the exception stacktrace</p>\n\n<pre><code>Started InternetExplorerDriver server (32-bit)\n2.39.0.0\nListening on port 38122\nJul 11, 2014 1:50:02 PM org.apache.http.impl.client.DefaultRequestDirector tryExecute\nINFO: I/O exception (java.net.SocketException) caught when processing request: Software caused        connection abort: recv failed\nJul 11, 2014 1:50:02 PM org.apache.http.impl.client.DefaultRequestDirector tryExecute\nINFO: Retrying request\nException in thread \"main\" org.openqa.selenium.NoSuchWindowException: Unable to find element on   closed window (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 18 milliseconds\nBuild info: version: '2.39.0', revision: 'ff23eac', time: '2013-12-16 16:12:12'\n System info: host: 'Neeraj', ip: '10.136.180.161', os.name: 'Windows 7',  s.arch: 'amd64',      os.version: '6.1', java.version: '1.7.0_60'  Session ID: ab6edd65-8a66-41fa-be46-56fba7dbdfc9\nDriver info: org.openqa.selenium.ie.InternetExplorerDriver\n Capabilities [{platform=WINDOWS, javascriptEnabled=true, elementScrollBehavior=0,                          ignoreZoomSetting=false,                                  enablePersistentHover=true, ie.ensureCleanSession=false, browserName=internet explorer, enableElementCacheCleanup=true,   unexpectedAlertBehaviour=dismiss, version=11, ie.usePerProcessProxy=false, cssSelectorsEnabled=true,   ignoreProtectedModeSettings=true, requireWindowFocus=false,  handlesAlerts=true, initialBrowserUrl=http://localhost:38122/, ie.forceCreateProcessApi=false, nativeEvents=true, browserAttachTimeout=0, ie.browserCommandLineSwitches=, takesScreenshot=true}]\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n      at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n      at java.lang.reflect.Constructor.newInstance(Unknown Source)\n      at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:193)\n      at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:145)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:554)\n at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:307)\n at org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:348)\n at org.openqa.selenium.By$ById.findElement(By.java:220)\n at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:299)\n at Test1.main(Test1.java:27)\n</code></pre>\n\n<p>Any suggestions on how to resolve this.</p>\n"},{"tags":["java","spring","spring-boot","mockito"],"answers":[{"comments":[{"owner":{"account_id":19566542,"reputation":13,"user_id":14318558,"display_name":"Chunks"},"score":0,"creation_date":1678784513,"post_id":75730370,"comment_id":133596079,"body_markdown":"I&#39;m still getting the error after adding @SpringContext \nReflectionTestUtils.setField(p, &quot;springContext&quot;, springContext);\nReflectionTestUtils.setField(p, &quot;directory&quot;, mockDirectory());","body":"I&#39;m still getting the error after adding @SpringContext  ReflectionTestUtils.setField(p, &quot;springContext&quot;, springContext); ReflectionTestUtils.setField(p, &quot;directory&quot;, mockDirectory());"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1678787891,"post_id":75730370,"comment_id":133597066,"body_markdown":"can u show error @Chunks","body":"can u show error @Chunks"},{"owner":{"account_id":19566542,"reputation":13,"user_id":14318558,"display_name":"Chunks"},"score":0,"creation_date":1678791286,"post_id":75730370,"comment_id":133598020,"body_markdown":"java.lang.NullPointerException\n\tat c.p.f.config.SpringContextImpl.getBean(SpringContextImpl.java:22)\n\tat c.p.f.i.Person.receive(PollMessageAdvice.java:61)\n\tat c.p.f.i.PersonTest.shouldTest(PersonTest.java:105)","body":"java.lang.NullPointerException \tat c.p.f.config.SpringContextImpl.getBean(SpringContextImpl.jav&zwnj;&#8203;a:22) \tat c.p.f.i.Person.receive(PollMessageAdvice.java:61) \tat c.p.f.i.PersonTest.shouldTest(PersonTest.java:105)"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1678795358,"post_id":75730370,"comment_id":133599052,"body_markdown":"can u add the complete test class code @Chunks","body":"can u add the complete test class code @Chunks"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678780680,"creation_date":1678780680,"answer_id":75730370,"question_id":75729653,"body_markdown":"We can only add stubbing to the mock objects, in other words you have to create mock for `SpringContext` and then add stubbing to it.\r\n\r\n    @Mock\r\n    private A a;\r\n\r\n    @Mock\r\n    private SpringContext springContext;\r\n\r\n      @BeforeEach\r\n      void init() {\r\n      directory = mockDirectory();\r\n      person = (new Person(directory));\r\n\r\n      //then set the mock springContext to person using spring ReflectionTestUtils\r\n      ReflectionTestUtils.setField(classNotify, &quot;springContext&quot;, springContext);\r\n     }\r\n\r\n      void shouldTestMethod() {\r\n      when(context.getBean(A.class)).thenReturn(a);\r\n     }\r\n\r\nWhile working on spring boot i will highly recommend writing integration test cases using [@SpringBootTest][1] annotation and looking into dependency injection using `@Autowire`\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-testing#integration-testing-with-springboottest","title":"Why is Mockito.when Calling real method implementation","body":"<p>We can only add stubbing to the mock objects, in other words you have to create mock for <code>SpringContext</code> and then add stubbing to it.</p>\n<pre><code>@Mock\nprivate A a;\n\n@Mock\nprivate SpringContext springContext;\n\n  @BeforeEach\n  void init() {\n  directory = mockDirectory();\n  person = (new Person(directory));\n\n  //then set the mock springContext to person using spring ReflectionTestUtils\n  ReflectionTestUtils.setField(classNotify, &quot;springContext&quot;, springContext);\n }\n\n  void shouldTestMethod() {\n  when(context.getBean(A.class)).thenReturn(a);\n }\n</code></pre>\n<p>While working on spring boot i will highly recommend writing integration test cases using <a href=\"https://www.baeldung.com/spring-boot-testing#integration-testing-with-springboottest\" rel=\"nofollow noreferrer\">@SpringBootTest</a> annotation and looking into dependency injection using <code>@Autowire</code></p>\n"},{"comments":[{"owner":{"account_id":19566542,"reputation":13,"user_id":14318558,"display_name":"Chunks"},"score":0,"creation_date":1678784527,"post_id":75730428,"comment_id":133596090,"body_markdown":"I&#39;m still getting the error after adding @SpringContext ReflectionTestUtils.setField(p, &quot;springContext&quot;, springContext); ReflectionTestUtils.setField(p, &quot;directory&quot;, mockDirectory());","body":"I&#39;m still getting the error after adding @SpringContext ReflectionTestUtils.setField(p, &quot;springContext&quot;, springContext); ReflectionTestUtils.setField(p, &quot;directory&quot;, mockDirectory());"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678785930,"post_id":75730428,"comment_id":133596514,"body_markdown":"with `@SpringBootTest` at a class level and `@MockBean` you won&#39;t need anything else.  So we will remove the `ReflectionUtils` thing. I am updating the answer now","body":"with <code>@SpringBootTest</code> at a class level and <code>@MockBean</code> you won&#39;t need anything else.  So we will remove the <code>ReflectionUtils</code> thing. I am updating the answer now"},{"owner":{"account_id":19566542,"reputation":13,"user_id":14318558,"display_name":"Chunks"},"score":0,"creation_date":1678786817,"post_id":75730428,"comment_id":133596781,"body_markdown":"It&#39;s not working. notice that Person class is not a Component. it&#39;s more like a DTO so that&#39;s why i am initializing it with new Person (directory)","body":"It&#39;s not working. notice that Person class is not a Component. it&#39;s more like a DTO so that&#39;s why i am initializing it with new Person (directory)"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678790360,"post_id":75730428,"comment_id":133597793,"body_markdown":"you have to keep creatin it manually. unfortunately in your question is not enough code to understand what you&#39;re trying to test.","body":"you have to keep creatin it manually. unfortunately in your question is not enough code to understand what you&#39;re trying to test."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678785852,"creation_date":1678781004,"answer_id":75730428,"question_id":75729653,"body_markdown":"generally, it&#39;s better not to have mocks that return other mocks. In this case, you can use `@SpringBootTest` where you start the Spring context and replace\r\n\r\n    @Mock // we will change this\r\n    private A a;\r\n\r\n    // ReflectionTestUtils.setField(classNotify, &quot;springContext&quot;, springContext); \r\n    // -&gt; and we&#39;ll remove this\r\n    \r\n    void shouldTestMethod() {\r\n       when(context.getBean(A.class)).thenReturn(a); //and remove this\r\n       // then test something ...\r\n    }\r\n\r\nAnd use `@MockBean` instead:\r\n\r\n    @SpringBootTest\r\n    public class MyintegrationTest {\r\n    \r\n        @MockBean\r\n        private A a;\r\n    \r\n        void shouldTestMethod() {\r\n            // test something ...\r\n        }\r\n    }\r\n\r\nread more about this here: https://www.baeldung.com/java-spring-mockito-mock-mockbean#spring-boots-mockbean-annotation","title":"Why is Mockito.when Calling real method implementation","body":"<p>generally, it's better not to have mocks that return other mocks. In this case, you can use <code>@SpringBootTest</code> where you start the Spring context and replace</p>\n<pre><code>@Mock // we will change this\nprivate A a;\n\n// ReflectionTestUtils.setField(classNotify, &quot;springContext&quot;, springContext); \n// -&gt; and we'll remove this\n\nvoid shouldTestMethod() {\n   when(context.getBean(A.class)).thenReturn(a); //and remove this\n   // then test something ...\n}\n</code></pre>\n<p>And use <code>@MockBean</code> instead:</p>\n<pre><code>@SpringBootTest\npublic class MyintegrationTest {\n\n    @MockBean\n    private A a;\n\n    void shouldTestMethod() {\n        // test something ...\n    }\n}\n</code></pre>\n<p>read more about this here: <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean#spring-boots-mockbean-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-spring-mockito-mock-mockbean#spring-boots-mockbean-annotation</a></p>\n"}],"owner":{"account_id":19566542,"reputation":13,"user_id":14318558,"display_name":"Chunks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678785852,"creation_date":1678774662,"question_id":75729653,"body_markdown":"I am trying to mock a method Using Mockito but it seems not to be working\r\n\r\n```\r\nprivate SpringContext springContext;\r\n\r\npublic Person(Directory Directory) {\r\n    this.directory = directory;\r\n    this.springContext = new SpringContextImpl();\r\n}\r\n\r\npublic Message&lt;?&gt; receive(Message&lt;?&gt; result, Object source) {\r\n     A bean = springContext.getBean(A.class);\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class SpringContextImpl implements ApplicationContextAware, SpringContext {\r\n    private  ApplicationContext context;\r\n\r\n     public &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\r\n        return context.getBean(beanClass);\r\n    }\r\n}\r\n```\r\n\r\nI tried to mock **springContext.getBean** but it seems to be calling the real method and throwing a NullPointerException. I do not want it to call the real method.\r\n\r\n```\r\n@Mock\r\nA a;\r\n\r\n@BeforeEach\r\nvoid init() {\r\n    directory = mockDirectory();\r\n    person = (new Person(directory));\r\n}\r\n\r\nvoid shouldTestMethod() {\r\n    when(context.getBean(A.class)).thenReturn(a);\r\n}\r\n```\r\n\r\nI tried using\r\n\r\n```\r\ndoReturn(a).when(context).getBean(A.class);\r\n```\r\n\r\nbut it still did not work. Please can someone help.","title":"Why is Mockito.when Calling real method implementation","body":"<p>I am trying to mock a method Using Mockito but it seems not to be working</p>\n<pre><code>private SpringContext springContext;\n\npublic Person(Directory Directory) {\n    this.directory = directory;\n    this.springContext = new SpringContextImpl();\n}\n\npublic Message&lt;?&gt; receive(Message&lt;?&gt; result, Object source) {\n     A bean = springContext.getBean(A.class);\n}\n</code></pre>\n<pre><code>@Configuration\npublic class SpringContextImpl implements ApplicationContextAware, SpringContext {\n    private  ApplicationContext context;\n\n     public &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\n        return context.getBean(beanClass);\n    }\n}\n</code></pre>\n<p>I tried to mock <strong>springContext.getBean</strong> but it seems to be calling the real method and throwing a NullPointerException. I do not want it to call the real method.</p>\n<pre><code>@Mock\nA a;\n\n@BeforeEach\nvoid init() {\n    directory = mockDirectory();\n    person = (new Person(directory));\n}\n\nvoid shouldTestMethod() {\n    when(context.getBean(A.class)).thenReturn(a);\n}\n</code></pre>\n<p>I tried using</p>\n<pre><code>doReturn(a).when(context).getBean(A.class);\n</code></pre>\n<p>but it still did not work. Please can someone help.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678782883,"post_id":75730591,"comment_id":133595695,"body_markdown":"Based on the error message not `RoleForecasting` entity is affected. The related `Opportunity` entity is missing by id ABC132","body":"Based on the error message not <code>RoleForecasting</code> entity is affected. The related <code>Opportunity</code> entity is missing by id ABC132"}],"answers":[{"comments":[{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1678785868,"post_id":75730743,"comment_id":133596491,"body_markdown":"Opportunity with id ABC132 do present in the Opportunity table and and RoleForecasting table also has correct FK i.e ABC132","body":"Opportunity with id ABC132 do present in the Opportunity table and and RoleForecasting table also has correct FK i.e ABC132"}],"tags":[],"owner":{"account_id":27428723,"reputation":97,"user_id":20925777,"display_name":"Temka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678783093,"creation_date":1678783093,"answer_id":75730743,"question_id":75730591,"body_markdown":"A given identifier cannot be found in the persistence context or database. In your case, it seems that the Opportunity entity with the identifier &quot;ABC132&quot; is not present in the database, but there exists a RoleForecasting entity that has a foreign key relationship with this missing Opportunity entity.\r\n\r\nTo resolve this issue, you can ensure that the Opportunity entity with the identifier &quot;ABC132&quot; exists in the database before fetching the related RoleForecasting entities. You can do this by querying the OpportunityRepository for the Opportunity entity with the given identifier. Or, you can update the RoleForecasting entity to use a nullable foreign key relationship with the Opportunity entity. This will allow the RoleForecasting entity to exist in the database even if the related Opportunity entity is missing. You can update the RoleForecasting entity\r\n\r\n    @ManyToOne\r\n        @JoinColumn(name = &quot;opportunity_id&quot;, nullable = true)\r\n        @JsonIgnore\r\n        private Opportunity opportunity;\r\n\r\nWith this change, the RoleForecasting entity will still have a foreign key relationship with the Opportunity entity if it exists, but it will not throw an EntityNotFoundException if the Opportunity entity is missing.","title":"JPA findAll throws EntityNotFoundException instead of empty list","body":"<p>A given identifier cannot be found in the persistence context or database. In your case, it seems that the Opportunity entity with the identifier &quot;ABC132&quot; is not present in the database, but there exists a RoleForecasting entity that has a foreign key relationship with this missing Opportunity entity.</p>\n<p>To resolve this issue, you can ensure that the Opportunity entity with the identifier &quot;ABC132&quot; exists in the database before fetching the related RoleForecasting entities. You can do this by querying the OpportunityRepository for the Opportunity entity with the given identifier. Or, you can update the RoleForecasting entity to use a nullable foreign key relationship with the Opportunity entity. This will allow the RoleForecasting entity to exist in the database even if the related Opportunity entity is missing. You can update the RoleForecasting entity</p>\n<pre><code>@ManyToOne\n    @JoinColumn(name = &quot;opportunity_id&quot;, nullable = true)\n    @JsonIgnore\n    private Opportunity opportunity;\n</code></pre>\n<p>With this change, the RoleForecasting entity will still have a foreign key relationship with the Opportunity entity if it exists, but it will not throw an EntityNotFoundException if the Opportunity entity is missing.</p>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678785851,"creation_date":1678782126,"question_id":75730591,"body_markdown":"I have a spring boot project which consists of an entity with one to many relationships as below however when I use `roleForecastingRepository.findAll()` method it do return **javax.persistence.EntityNotFoundException: Unable to find com.integrella.zoho.domain.Opportunity with id ABC132** instead of an empty list or list of records of role-forecasting. \r\n\r\n**RoleForecasting.java**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString(exclude = &quot;opportunity&quot;)\r\n    @Entity\r\n    @Table(name = &quot;RoleForecasting&quot;)\r\n    public class RoleForecasting extends AbstractAuditingEntity {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;`Id`&quot;)\r\n      @Schema(example = &quot;1&quot;)\r\n      private Long id;\r\n    \r\n      ...\r\n    \r\n      @ManyToOne\r\n      @JsonIgnore\r\n      private Opportunity opportunity;\r\n    \r\n    }\r\n\r\n**Opportunity.java**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;Opportunity&quot;)\r\n    public class Opportunity extends AbstractAuditingEntity {\r\n    \r\n      @Id\r\n      @Column(name = &quot;`Id`&quot;)\r\n      private String id;\r\n    \r\n      ...\r\n    \r\n      @OneToMany(mappedBy = &quot;opportunity&quot;, cascade = CascadeType.ALL)\r\n      private List&lt;RoleForecasting&gt; roleForecastings;\r\n    \r\n    }\r\n\r\n**RoleForecastingRepository.java**\r\n\r\n    @Repository\r\n    public interface RoleForecastingRepository extends JpaRepository&lt;RoleForecasting, Long&gt; {\r\n    \r\n    }\r\n\r\n**UPDATE:**\r\n\r\nPlease note that Opportunity with id ABC132 do present in the Opportunity table and and RoleForecasting table also has correct FK i.e ABC132","title":"JPA findAll throws EntityNotFoundException instead of empty list","body":"<p>I have a spring boot project which consists of an entity with one to many relationships as below however when I use <code>roleForecastingRepository.findAll()</code> method it do return <strong>javax.persistence.EntityNotFoundException: Unable to find com.integrella.zoho.domain.Opportunity with id ABC132</strong> instead of an empty list or list of records of role-forecasting.</p>\n<p><strong>RoleForecasting.java</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString(exclude = &quot;opportunity&quot;)\n@Entity\n@Table(name = &quot;RoleForecasting&quot;)\npublic class RoleForecasting extends AbstractAuditingEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;`Id`&quot;)\n  @Schema(example = &quot;1&quot;)\n  private Long id;\n\n  ...\n\n  @ManyToOne\n  @JsonIgnore\n  private Opportunity opportunity;\n\n}\n</code></pre>\n<p><strong>Opportunity.java</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;Opportunity&quot;)\npublic class Opportunity extends AbstractAuditingEntity {\n\n  @Id\n  @Column(name = &quot;`Id`&quot;)\n  private String id;\n\n  ...\n\n  @OneToMany(mappedBy = &quot;opportunity&quot;, cascade = CascadeType.ALL)\n  private List&lt;RoleForecasting&gt; roleForecastings;\n\n}\n</code></pre>\n<p><strong>RoleForecastingRepository.java</strong></p>\n<pre><code>@Repository\npublic interface RoleForecastingRepository extends JpaRepository&lt;RoleForecasting, Long&gt; {\n\n}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Please note that Opportunity with id ABC132 do present in the Opportunity table and and RoleForecasting table also has correct FK i.e ABC132</p>\n"},{"tags":["java","spring","spring-boot","entity","spring-annotations"],"answers":[{"comments":[{"owner":{"account_id":15792935,"reputation":97,"user_id":11395664,"display_name":"CDA the Programmer"},"score":0,"creation_date":1608588532,"post_id":65400507,"comment_id":115625352,"body_markdown":"Ahhh yes this is the issue. So removing @Transient annotation does allow for the validation, but it looks like there isn&#39;t a workaround so that the attribute isn&#39;t actually saved to the DB(?)","body":"Ahhh yes this is the issue. So removing @Transient annotation does allow for the validation, but it looks like there isn&#39;t a workaround so that the attribute isn&#39;t actually saved to the DB(?)"},{"owner":{"account_id":15406022,"reputation":199,"user_id":11114155,"display_name":"Dmitriy Mishenyov"},"score":1,"creation_date":1608589763,"post_id":65400507,"comment_id":115625704,"body_markdown":"You can implement your custom annotation for validation and then process customly-annotated items on hibernate prePersist/preUpdate listener","body":"You can implement your custom annotation for validation and then process customly-annotated items on hibernate prePersist/preUpdate listener"},{"owner":{"account_id":15792935,"reputation":97,"user_id":11395664,"display_name":"CDA the Programmer"},"score":0,"creation_date":1608654269,"post_id":65400507,"comment_id":115646116,"body_markdown":"So at this point I&#39;ve defined the PasswordMatch and PasswordMatchValidator classes which you can see in my edits above. Now, my question becomes how to use PrePersist and PreUpdate in the entity in order to get the isValid() method to work, because as of now even though I have PasswordMatch defined on the entity, it is still not working.","body":"So at this point I&#39;ve defined the PasswordMatch and PasswordMatchValidator classes which you can see in my edits above. Now, my question becomes how to use PrePersist and PreUpdate in the entity in order to get the isValid() method to work, because as of now even though I have PasswordMatch defined on the entity, it is still not working."}],"tags":[],"owner":{"account_id":15406022,"reputation":199,"user_id":11114155,"display_name":"Dmitriy Mishenyov"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1608587965,"creation_date":1608587965,"answer_id":65400507,"question_id":65400172,"body_markdown":"It&#39;s seems to be [this bug in open status][1] because of `@Transient` field\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/DATAREST-1005","title":"Validating Password and Confirmed Password Spring Boot","body":"<p>It's seems to be <a href=\"https://jira.spring.io/browse/DATAREST-1005\" rel=\"nofollow noreferrer\">this bug in open status</a> because of <code>@Transient</code> field</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679074513,"post_id":75731198,"comment_id":133661818,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75731198/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26514178,"reputation":1,"user_id":20148955,"display_name":"Pratham Chapla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678785815,"creation_date":1678785815,"answer_id":75731198,"question_id":65400172,"body_markdown":"    @PostMapping(&quot;/change-password&quot;)\r\n\tpublic String changePassword(@RequestParam(&quot;newPassword&quot;) String newPassword,\r\n\t\t\t@RequestParam(&quot;confirmNewPassword&quot;) String confirmNewPassword, Model model, HttpSession session) {\r\n\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Change Password Form&quot;);\r\n\r\n\t\tString email = (String) session.getAttribute(&quot;email&quot;);\r\n\t\tUserEntity userEntity = userRepository.getUserByUserName(email);\r\n\t\tif (newPassword.equals(confirmNewPassword)) {\r\n\t\t\tuserEntity.setPassword(bCryptPasswordEncoder.encode(newPassword));\r\n\t\t\tuserRepository.save(userEntity);\r\n\t\t\treturn &quot;redirect:/signin?change=Password Changed Successfully&quot;;\r\n\t\t} else {\r\n\t\t\tsession.setAttribute(&quot;message&quot;, &quot;Password doesn&#39;t matched !!&quot;);\r\n\t\t\treturn &quot;password_change_form&quot;;\r\n\t\t}\r\n\r\n\t}","title":"Validating Password and Confirmed Password Spring Boot","body":"<pre><code>@PostMapping(&quot;/change-password&quot;)\npublic String changePassword(@RequestParam(&quot;newPassword&quot;) String newPassword,\n        @RequestParam(&quot;confirmNewPassword&quot;) String confirmNewPassword, Model model, HttpSession session) {\n\n    model.addAttribute(&quot;title&quot;, &quot;Change Password Form&quot;);\n\n    String email = (String) session.getAttribute(&quot;email&quot;);\n    UserEntity userEntity = userRepository.getUserByUserName(email);\n    if (newPassword.equals(confirmNewPassword)) {\n        userEntity.setPassword(bCryptPasswordEncoder.encode(newPassword));\n        userRepository.save(userEntity);\n        return &quot;redirect:/signin?change=Password Changed Successfully&quot;;\n    } else {\n        session.setAttribute(&quot;message&quot;, &quot;Password doesn't matched !!&quot;);\n        return &quot;password_change_form&quot;;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15792935,"reputation":97,"user_id":11395664,"display_name":"CDA the Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65400507,"answer_count":2,"score":1,"last_activity_date":1678785815,"creation_date":1608586017,"question_id":65400172,"body_markdown":"I&#39;m currently testing out my spring boot app&#39;s API using Swagger, and when I input mismatching passwords, or even a password with a size outside the bounds (min=5 and max=15) of the size, I am not getting a 404 error code when it is expected. Other errors for other entity variables are getting properly caught, but seemingly nothing for the password. What may I have incorrect for plainPassword and repeatPassword to match in my entity below? Because the @PasswordMatch annotation doesn&#39;t seem to be doing the job I expect it to of comparing plainPassword and repeatPassword.\r\n\r\n```\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Transient;\r\nimport javax.persistence.UniqueConstraint;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\n\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\nimport com.bcore.hw.validation.PasswordMatch;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Data;\r\n\r\n\r\n@Entity\r\n@Table(name=&quot;users&quot;, uniqueConstraints={@UniqueConstraint(columnNames = {&quot;email&quot;})})\r\n@PasswordMatch(message=&quot;{register.repeatPassword.mismatch}&quot;)\r\n@NoArgsConstructor\r\n@Data\r\npublic class SiteUser {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long userId;\r\n\r\n\t@Column(name=&quot;email&quot;, unique=true)\r\n\t@Email(message=&quot;{register.email.invalid}&quot;)\r\n\t@NotBlank(message=&quot;{register.email.invalid}&quot;)\r\n\tprivate String email;\r\n\t\r\n\t@Transient // meaning it will not be saved in DB\r\n\t@Size(min=5, max=15, message=&quot;{register.password.size}&quot;)\r\n\tprivate String plainPassword; //unencrytped\r\n\t\r\n\t@Transient\r\n\tprivate String repeatPassword;\r\n\r\n\t@Column(name=&quot;password&quot;, length=60)\r\n\tprivate String password;\r\n\r\n\t@Column(name=&quot;role&quot;, length=20)\r\n\tprivate String role;\r\n\t\r\n\t@Column(name=&quot;enabled&quot;)\r\n\tprivate Boolean enabled = false;\r\n\t\r\n\tpublic void setPlainPassword(String plainPassword) {\r\n\t\t//System.out.println(&quot;PASSWORD BEFORE &quot; + plainPassword);\r\n\t\tthis.password = new BCryptPasswordEncoder().encode(plainPassword);\r\n\t\t//System.out.println(&quot;HERE IS PASSWORD&quot; + this.password + &quot;PASSWORD LENGTH = &quot; + (this.password).length());\r\n\t\tthis.plainPassword = plainPassword;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUpdated with Custom Validator:\r\n\r\nSo here now I have PasswordMatch.java and PasswordMatchValidator.java, but have a little confusion as to how to set up the @PrePersist and @PreUpdate annotations in the entity:\r\n\r\n```\r\npackage com.bcore.hw.validation;\r\n\r\nimport static java.lang.annotation.ElementType.TYPE;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Documented;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\n\r\n@Target(TYPE)\r\n@Retention(RUNTIME)\r\n@Constraint(validatedBy=PasswordMatchValidator.class)\r\n@Documented\r\npublic @interface PasswordMatch {\r\n\tString message() default &quot;{error.password.mismatch}&quot;;\r\n\t\r\n\tClass&lt;?&gt;[] groups() default {};\r\n\t\r\n\tClass&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n\r\n\r\n\r\npackage com.bcore.hw.validation;\r\n\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\nimport com.bcore.hw.model.SiteUser;\r\n\r\npublic class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, SiteUser&gt;{\r\n\r\n\t@Override\r\n\tpublic void initialize(PasswordMatch p) {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic boolean isValid(SiteUser user, ConstraintValidatorContext c) {\r\n\t\tString plainPassword = user.getPlainPassword();\r\n\t\tString repeatPassword = user.getRepeatPassword();\r\n\t\t\r\n\t\tif(plainPassword == null || !plainPassword.equals(repeatPassword)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nCurrently in the entity, you can see @PasswordMatch before the class definition, but this isn&#39;t working. So, @PrePersist and @PreUpdate are used only for entity method definitions, but what method would I place under them? A call to the isValid() method from the PasswordMatch interface? Not exactly sure what to do in the entity at this point.","title":"Validating Password and Confirmed Password Spring Boot","body":"<p>I'm currently testing out my spring boot app's API using Swagger, and when I input mismatching passwords, or even a password with a size outside the bounds (min=5 and max=15) of the size, I am not getting a 404 error code when it is expected. Other errors for other entity variables are getting properly caught, but seemingly nothing for the password. What may I have incorrect for plainPassword and repeatPassword to match in my entity below? Because the @PasswordMatch annotation doesn't seem to be doing the job I expect it to of comparing plainPassword and repeatPassword.</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\nimport javax.persistence.UniqueConstraint;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport com.bcore.hw.validation.PasswordMatch;\nimport lombok.NoArgsConstructor;\nimport lombok.Data;\n\n\n@Entity\n@Table(name=&quot;users&quot;, uniqueConstraints={@UniqueConstraint(columnNames = {&quot;email&quot;})})\n@PasswordMatch(message=&quot;{register.repeatPassword.mismatch}&quot;)\n@NoArgsConstructor\n@Data\npublic class SiteUser {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long userId;\n\n    @Column(name=&quot;email&quot;, unique=true)\n    @Email(message=&quot;{register.email.invalid}&quot;)\n    @NotBlank(message=&quot;{register.email.invalid}&quot;)\n    private String email;\n    \n    @Transient // meaning it will not be saved in DB\n    @Size(min=5, max=15, message=&quot;{register.password.size}&quot;)\n    private String plainPassword; //unencrytped\n    \n    @Transient\n    private String repeatPassword;\n\n    @Column(name=&quot;password&quot;, length=60)\n    private String password;\n\n    @Column(name=&quot;role&quot;, length=20)\n    private String role;\n    \n    @Column(name=&quot;enabled&quot;)\n    private Boolean enabled = false;\n    \n    public void setPlainPassword(String plainPassword) {\n        //System.out.println(&quot;PASSWORD BEFORE &quot; + plainPassword);\n        this.password = new BCryptPasswordEncoder().encode(plainPassword);\n        //System.out.println(&quot;HERE IS PASSWORD&quot; + this.password + &quot;PASSWORD LENGTH = &quot; + (this.password).length());\n        this.plainPassword = plainPassword;\n    }\n\n}\n</code></pre>\n<p>Updated with Custom Validator:</p>\n<p>So here now I have PasswordMatch.java and PasswordMatchValidator.java, but have a little confusion as to how to set up the @PrePersist and @PreUpdate annotations in the entity:</p>\n<pre><code>package com.bcore.hw.validation;\n\nimport static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target(TYPE)\n@Retention(RUNTIME)\n@Constraint(validatedBy=PasswordMatchValidator.class)\n@Documented\npublic @interface PasswordMatch {\n    String message() default &quot;{error.password.mismatch}&quot;;\n    \n    Class&lt;?&gt;[] groups() default {};\n    \n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\n\n\npackage com.bcore.hw.validation;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\nimport com.bcore.hw.model.SiteUser;\n\npublic class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, SiteUser&gt;{\n\n    @Override\n    public void initialize(PasswordMatch p) {\n        \n    }\n    \n    public boolean isValid(SiteUser user, ConstraintValidatorContext c) {\n        String plainPassword = user.getPlainPassword();\n        String repeatPassword = user.getRepeatPassword();\n        \n        if(plainPassword == null || !plainPassword.equals(repeatPassword)) {\n            return false;\n        }\n        \n        return true;\n    }\n\n}\n</code></pre>\n<p>Currently in the entity, you can see @PasswordMatch before the class definition, but this isn't working. So, @PrePersist and @PreUpdate are used only for entity method definitions, but what method would I place under them? A call to the isValid() method from the PasswordMatch interface? Not exactly sure what to do in the entity at this point.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":11777559,"reputation":1172,"user_id":8627215,"display_name":"James Netherton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678785612,"creation_date":1678785612,"answer_id":75731166,"question_id":75721220,"body_markdown":"One way to do this would be to use the `RuntimeCamelCatalog` to get a JSON description of the component.\r\n\r\n```java\r\nRuntimeCamelCatalog catalog = context.getExtension(ExtendedCamelContext.class).getRuntimeCamelCatalog()\r\nString componentJson = catalog.componentJSonSchema(&quot;kafka&quot;);\r\n```\r\n\r\nThen you can use your preferred JSON parser to inspect the `properties` &amp; `componentProperties` fields.","title":"How get all camel component poperties using java code","body":"<p>One way to do this would be to use the <code>RuntimeCamelCatalog</code> to get a JSON description of the component.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RuntimeCamelCatalog catalog = context.getExtension(ExtendedCamelContext.class).getRuntimeCamelCatalog()\nString componentJson = catalog.componentJSonSchema(&quot;kafka&quot;);\n</code></pre>\n<p>Then you can use your preferred JSON parser to inspect the <code>properties</code> &amp; <code>componentProperties</code> fields.</p>\n"}],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75731166,"answer_count":1,"score":0,"last_activity_date":1678785612,"creation_date":1678706614,"question_id":75721220,"body_markdown":"I am tring to get camel component properties using java code like:\r\n\r\n    Configuration: \r\n    Java: 11\r\n    Apache Camel: 3.18.2\r\n\r\nfor Example: \r\nif pass **Kafka** component in java code, get all the latest properties from Apache camel:\r\n\r\nget all properties of Kafka :\r\n\r\n\r\n**additionalProperties, brokers, clientId, headerFilterStrategy, reconnectBackoffMaxMs, shutdownTimeout, \tallowManualCommit, autoCommitEnable, autoCommitIntervalMs, autoOffsetReset, breakOnFirstError, checkCrcs, \tcommitTimeoutMs, consumerRequestTimeoutMs, consumersCount, fetchMaxBytes, fetchMinBytes, fetchWaitMaxMs, groupId, \tgroupInstanceId, headerDeserializer, heartbeatIntervalMs, keyDeserializer, maxPartitionFetchBytes, \tmaxPollIntervalMs, maxPollRecords, offsetRepository, partitionAssignor, pollOnError, pollTimeoutMs, seekTo, \tsessionTimeoutMs, specificAvroReader, topicIsPattern, valueDeserializer, bridgeErrorHandler, exceptionHandler, \texchangePattern, isolationLevel, kafkaManualCommitFactory, batchWithIndividualHeaders, bufferMemorySize, \tcompressionCodec, connectionMaxIdleMs, deliveryTimeoutMs, enableIdempotence, headerSerializer, key, keySerializer, \tlingerMs, maxBlockMs, maxInFlightRequest, maxRequestSize, metadataMaxAgeMs, metricReporters, metricsSampleWindowMs, \tnoOfMetricsSample, partitioner, partitionKey, producerBatchSize, queueBufferingMaxMessages, receiveBufferBytes, \treconnectBackoffMs, recordMetadata, requestRequiredAcks, requestTimeoutMs, retries, retryBackoffMs, sendBufferBytes, \tvalueSerializer, workerPool, workerPoolCoreSize, workerPoolMaxSize, lazyStartProducer, kafkaClientFactory, \tsynchronous, schemaRegistryURL, interceptorClasses, kerberosBeforeReloginMinTime, kerberosInitCmd, \tkerberosPrincipalToLocalRules, kerberosRenewJitter, kerberosRenewWindowFactor, saslJaasConfig, \tsaslKerberosServiceName, saslMechanism, securityProtocol, sslCipherSuites, sslContextParameters, \tsslEnabledProtocols, sslEndpointAlgorithm, sslKeymanagerAlgorithm, sslKeyPassword, sslKeystoreLocation, \tsslKeystorePassword, sslKeystoreType, sslProtocol, sslProvider, sslTrustmanagerAlgorithm, sslTruststoreLocation, \t\r\nsslTruststorePassword, sslTruststoreType;**\r\n\r\nI have also tried the code but some classes are not found in camel 3.18.2.\r\n```\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.component.kafka.KafkaComponent;\r\nimport org.apache.camel.spi.ComponentConfiguration; // class not found\r\nimport org.apache.camel.spi.Registry;\r\nimport org.apache.camel.impl.DefaultCamelContext;\r\n\r\nimport java.util.Map;\r\n\r\npublic class CamelComponentProperties {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        CamelContext camelContext = new DefaultCamelContext();\r\n        camelContext.start();\r\n        Registry registry = camelContext.getRegistry();\r\n        KafkaComponent kafkaComponent = registry.lookupByNameAndType(&quot;kafka&quot;, KafkaComponent.class);\r\n        ComponentConfiguration componentConfiguration = kafkaComponent.createComponentConfiguration(); // facing error this line\r\n        Map&lt;String, Object&gt; parameters = componentConfiguration.getParameterValues();\r\n        for (String parameterName : parameters.keySet()) {\r\n            System.out.println(parameterName + &quot; = &quot; + parameters.get(parameterName));\r\n        }\r\n        camelContext.stop();\r\n    }\r\n}\r\n```","title":"How get all camel component poperties using java code","body":"<p>I am tring to get camel component properties using java code like:</p>\n<pre><code>Configuration: \nJava: 11\nApache Camel: 3.18.2\n</code></pre>\n<p>for Example:\nif pass <strong>Kafka</strong> component in java code, get all the latest properties from Apache camel:</p>\n<p>get all properties of Kafka :</p>\n<p><strong>additionalProperties, brokers, clientId, headerFilterStrategy, reconnectBackoffMaxMs, shutdownTimeout,    allowManualCommit, autoCommitEnable, autoCommitIntervalMs, autoOffsetReset, breakOnFirstError, checkCrcs,   commitTimeoutMs, consumerRequestTimeoutMs, consumersCount, fetchMaxBytes, fetchMinBytes, fetchWaitMaxMs, groupId,   groupInstanceId, headerDeserializer, heartbeatIntervalMs, keyDeserializer, maxPartitionFetchBytes,  maxPollIntervalMs, maxPollRecords, offsetRepository, partitionAssignor, pollOnError, pollTimeoutMs, seekTo,     sessionTimeoutMs, specificAvroReader, topicIsPattern, valueDeserializer, bridgeErrorHandler, exceptionHandler,  exchangePattern, isolationLevel, kafkaManualCommitFactory, batchWithIndividualHeaders, bufferMemorySize,    compressionCodec, connectionMaxIdleMs, deliveryTimeoutMs, enableIdempotence, headerSerializer, key, keySerializer,  lingerMs, maxBlockMs, maxInFlightRequest, maxRequestSize, metadataMaxAgeMs, metricReporters, metricsSampleWindowMs,     noOfMetricsSample, partitioner, partitionKey, producerBatchSize, queueBufferingMaxMessages, receiveBufferBytes,     reconnectBackoffMs, recordMetadata, requestRequiredAcks, requestTimeoutMs, retries, retryBackoffMs, sendBufferBytes,    valueSerializer, workerPool, workerPoolCoreSize, workerPoolMaxSize, lazyStartProducer, kafkaClientFactory,  synchronous, schemaRegistryURL, interceptorClasses, kerberosBeforeReloginMinTime, kerberosInitCmd,  kerberosPrincipalToLocalRules, kerberosRenewJitter, kerberosRenewWindowFactor, saslJaasConfig,  saslKerberosServiceName, saslMechanism, securityProtocol, sslCipherSuites, sslContextParameters,    sslEnabledProtocols, sslEndpointAlgorithm, sslKeymanagerAlgorithm, sslKeyPassword, sslKeystoreLocation,     sslKeystorePassword, sslKeystoreType, sslProtocol, sslProvider, sslTrustmanagerAlgorithm, sslTruststoreLocation,<br />\nsslTruststorePassword, sslTruststoreType;</strong></p>\n<p>I have also tried the code but some classes are not found in camel 3.18.2.</p>\n<pre><code>import org.apache.camel.CamelContext;\nimport org.apache.camel.component.kafka.KafkaComponent;\nimport org.apache.camel.spi.ComponentConfiguration; // class not found\nimport org.apache.camel.spi.Registry;\nimport org.apache.camel.impl.DefaultCamelContext;\n\nimport java.util.Map;\n\npublic class CamelComponentProperties {\n\n    public static void main(String[] args) throws Exception {\n        CamelContext camelContext = new DefaultCamelContext();\n        camelContext.start();\n        Registry registry = camelContext.getRegistry();\n        KafkaComponent kafkaComponent = registry.lookupByNameAndType(&quot;kafka&quot;, KafkaComponent.class);\n        ComponentConfiguration componentConfiguration = kafkaComponent.createComponentConfiguration(); // facing error this line\n        Map&lt;String, Object&gt; parameters = componentConfiguration.getParameterValues();\n        for (String parameterName : parameters.keySet()) {\n            System.out.println(parameterName + &quot; = &quot; + parameters.get(parameterName));\n        }\n        camelContext.stop();\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl-certificate","micronaut","openjdk-17","micronaut-security"],"answers":[{"tags":[],"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678785176,"creation_date":1678785176,"answer_id":75731095,"question_id":72515791,"body_markdown":"You should be able to configure your custom trust store via micronaut configuration properties. See https://docs.micronaut.io/latest/guide/configurationreference.html#io.micronaut.http.client.ServiceHttpClientConfiguration.ServiceSslClientConfiguration.DefaultTrustStoreConfiguration\r\n\r\ne.g. in application.yaml:\r\n\r\n    micronaut:\r\n      http:\r\n        client:\r\n          ssl:\r\n            trust-store:\r\n              path: file:/trustedcerts/custom-truststore.p12\r\n              password: 123456\r\n              type: PKCS12\r\n\r\nIf you use service-clients you can even configure it for each service seperately.","title":"Truststore system property value not taking into effect with micronaut, openjdk 17 - &#39;Inaccessible trust store&#39;","body":"<p>You should be able to configure your custom trust store via micronaut configuration properties. See <a href=\"https://docs.micronaut.io/latest/guide/configurationreference.html#io.micronaut.http.client.ServiceHttpClientConfiguration.ServiceSslClientConfiguration.DefaultTrustStoreConfiguration\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/configurationreference.html#io.micronaut.http.client.ServiceHttpClientConfiguration.ServiceSslClientConfiguration.DefaultTrustStoreConfiguration</a></p>\n<p>e.g. in application.yaml:</p>\n<pre><code>micronaut:\n  http:\n    client:\n      ssl:\n        trust-store:\n          path: file:/trustedcerts/custom-truststore.p12\n          password: 123456\n          type: PKCS12\n</code></pre>\n<p>If you use service-clients you can even configure it for each service seperately.</p>\n"}],"owner":{"account_id":25484896,"reputation":1,"user_id":19280610,"display_name":"yashashri-tw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678785176,"creation_date":1654508453,"question_id":72515791,"body_markdown":"I want to use custom truststore with open jdk 17 and micronaut.\r\n\r\nI want to access link similar to - https://gitlab.com/api/v4/feature_flags/unleash/42\r\n\r\nI have added certificate belonging to the host to custom truststore. \r\n\r\nI tried to setup custom truststore value using application.yml as well as VM arguments. I am also printing getProperty to ensure the truststore value has been updated when application is up.\r\n\r\nHere are the 2 properties I am setting -\r\n1. javax.net.ssl.trustStore \r\n2. javax.net.ssl.trustStorePassword\r\n\r\nHowever when I try to call the URL, I get error - \r\n`\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n`\r\n\r\nOn enabling ssl debug logs, I see lines like below -\r\n```\r\njavax.net.ssl|DEBUG|17|restartedMain|2022-06-06 09:07:35.247 EST|TrustStoreManager.java:161|Inaccessible trust store: truststore.jks\r\njavax.net.ssl|DEBUG|17|restartedMain|2021-06-06 09:07:35.248 EST|TrustStoreManager.java:112|trustStore is: C:\\Program Files\\Java\\jdk-17.0.2\\lib\\security\\cacerts\r\n```\r\n\r\nAny ideas on how this can be fixed?\r\n\r\n\r\nHow can I override TrustStoreManager path? Why is it saying Inaccessible trust store?\r\n\r\n\r\nNote: I am on citrix VM machine, where I dont have permissions to add certs to default cacerts.","title":"Truststore system property value not taking into effect with micronaut, openjdk 17 - &#39;Inaccessible trust store&#39;","body":"<p>I want to use custom truststore with open jdk 17 and micronaut.</p>\n<p>I want to access link similar to - <a href=\"https://gitlab.com/api/v4/feature_flags/unleash/42\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/feature_flags/unleash/42</a></p>\n<p>I have added certificate belonging to the host to custom truststore.</p>\n<p>I tried to setup custom truststore value using application.yml as well as VM arguments. I am also printing getProperty to ensure the truststore value has been updated when application is up.</p>\n<p>Here are the 2 properties I am setting -</p>\n<ol>\n<li>javax.net.ssl.trustStore</li>\n<li>javax.net.ssl.trustStorePassword</li>\n</ol>\n<p>However when I try to call the URL, I get error -\n<code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n<p>On enabling ssl debug logs, I see lines like below -</p>\n<pre><code>javax.net.ssl|DEBUG|17|restartedMain|2022-06-06 09:07:35.247 EST|TrustStoreManager.java:161|Inaccessible trust store: truststore.jks\njavax.net.ssl|DEBUG|17|restartedMain|2021-06-06 09:07:35.248 EST|TrustStoreManager.java:112|trustStore is: C:\\Program Files\\Java\\jdk-17.0.2\\lib\\security\\cacerts\n</code></pre>\n<p>Any ideas on how this can be fixed?</p>\n<p>How can I override TrustStoreManager path? Why is it saying Inaccessible trust store?</p>\n<p>Note: I am on citrix VM machine, where I dont have permissions to add certs to default cacerts.</p>\n"},{"tags":["java","android","email","android-intent","jakarta-mail"],"comments":[{"owner":{"account_id":1634981,"reputation":7145,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"score":3,"creation_date":1421637918,"post_id":2020088,"comment_id":44422049,"body_markdown":"javax.mail.AuthenticationFailedException when sending email althought the user/password are correct. Any solution?","body":"javax.mail.AuthenticationFailedException when sending email althought the user/password are correct. Any solution?"},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":1,"creation_date":1458905276,"post_id":2020088,"comment_id":60069483,"body_markdown":"Note that as of 1.5.5, JavaMail claims to support Android","body":"Note that as of 1.5.5, JavaMail claims to support Android"},{"owner":{"account_id":9131602,"reputation":399,"user_id":6792992,"accept_rate":53,"display_name":"Stamatis Stiliats"},"score":1,"creation_date":1501152450,"post_id":2020088,"comment_id":77663022,"body_markdown":"Isn&#39;t [SendGrid](https://sendgrid.com/) an option? As far as i know you also have the possibility to get statistics on the emai you send","body":"Isn&#39;t <a href=\"https://sendgrid.com/\" rel=\"nofollow noreferrer\">SendGrid</a> an option? As far as i know you also have the possibility to get statistics on the emai you send"},{"owner":{"account_id":13901311,"reputation":123,"user_id":10036857,"display_name":"Abhishek"},"score":0,"creation_date":1594310036,"post_id":2020088,"comment_id":111087964,"body_markdown":"SendGrid has some serious [issues](https://github.com/sendgrid/java-http-client/issues/2) for android which is not resolved yet.","body":"SendGrid has some serious <a href=\"https://github.com/sendgrid/java-http-client/issues/2\" rel=\"nofollow noreferrer\">issues</a> for android which is not resolved yet."}],"answers":[{"comments":[{"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"score":1,"creation_date":1394480816,"post_id":2027182,"comment_id":33900061,"body_markdown":"Any maven repository for that?","body":"Any maven repository for that?"},{"owner":{"account_id":85065,"reputation":5287,"user_id":237403,"accept_rate":62,"display_name":"Kshitij Aggarwal"},"score":0,"creation_date":1394500687,"post_id":2027182,"comment_id":33908745,"body_markdown":"Sorry but I&#39;m not aware of that","body":"Sorry but I&#39;m not aware of that"},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":6,"creation_date":1428232449,"post_id":2027182,"comment_id":47077741,"body_markdown":"I&#39;ve ported the latest JavaMail and it&#39;s available on Maven Central under `eu.ocathain.com.sun.mail:javax.mail:1.5.2`","body":"I&#39;ve ported the latest JavaMail and it&#39;s available on Maven Central under <code>eu.ocathain.com.sun.mail:javax.mail:1.5.2</code>"}],"tags":[],"owner":{"account_id":85065,"reputation":5287,"user_id":237403,"accept_rate":62,"display_name":"Kshitij Aggarwal"},"comment_count":3,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1262949690,"creation_date":1262949690,"answer_id":2027182,"question_id":2020088,"body_markdown":"You can use JavaMail API to handle your email tasks. JavaMail API is available in JavaEE package and its jar is available for download. Sadly it cannot be used directly in an Android application since it uses AWT components which are completely incompatible  in Android.\r\n\r\nYou can find the Android port for JavaMail at the following location:\r\nhttp://code.google.com/p/javamail-android/\r\n\r\nAdd the jars to your application and use the SMTP method","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>You can use JavaMail API to handle your email tasks. JavaMail API is available in JavaEE package and its jar is available for download. Sadly it cannot be used directly in an Android application since it uses AWT components which are completely incompatible  in Android.</p>\n\n<p>You can find the Android port for JavaMail at the following location:\n<a href=\"http://code.google.com/p/javamail-android/\" rel=\"noreferrer\">http://code.google.com/p/javamail-android/</a></p>\n\n<p>Add the jars to your application and use the SMTP method</p>\n"},{"tags":[],"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1262950332,"creation_date":1262950332,"answer_id":2027234,"question_id":2020088,"body_markdown":"SMTP\r\n---\r\nUsing SMTP is one way to go, and the others have already pointed out ways how to do it. Just note that while doing this, you completely circumvent the built in mail app, and you will have to provide the address of the SMTP server, the user name and password for that server, either statically in your code, or query it from the user.\r\n\r\nHTTP\r\n---\r\nAnother way would involve a simple server side script, like php, that takes some URL parameters and uses them to send a mail. This way, you only need to make an HTTP request from the device (easily possible with the built in libraries) and don&#39;t need to store the SMTP login data on the device. This is one more indirection compared to direct SMTP usage, but because it&#39;s so very easy to make HTTP request and send mails from PHP, it might even be simpler than the direct way.\r\n\r\nMail Application\r\n----\r\nIf the mail shall be send from the users default mail account that he already registered with the phone, you&#39;d have to take some other approach. If you have enough time and experience, you might want to check the source code of the Android Email application to see if it offers some entry point to send a mail without user interaction (I don&#39;t know, but maybe there is one).\r\n\r\nMaybe you even find a way to query the users account details (so you can use them for SMTP), though I highly doubt that this is possible, because it would be a huge security risk and Android is built rather securely.","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<h2>SMTP</h2>\n\n<p>Using SMTP is one way to go, and the others have already pointed out ways how to do it. Just note that while doing this, you completely circumvent the built in mail app, and you will have to provide the address of the SMTP server, the user name and password for that server, either statically in your code, or query it from the user.</p>\n\n<h2>HTTP</h2>\n\n<p>Another way would involve a simple server side script, like php, that takes some URL parameters and uses them to send a mail. This way, you only need to make an HTTP request from the device (easily possible with the built in libraries) and don't need to store the SMTP login data on the device. This is one more indirection compared to direct SMTP usage, but because it's so very easy to make HTTP request and send mails from PHP, it might even be simpler than the direct way.</p>\n\n<h2>Mail Application</h2>\n\n<p>If the mail shall be send from the users default mail account that he already registered with the phone, you'd have to take some other approach. If you have enough time and experience, you might want to check the source code of the Android Email application to see if it offers some entry point to send a mail without user interaction (I don't know, but maybe there is one).</p>\n\n<p>Maybe you even find a way to query the users account details (so you can use them for SMTP), though I highly doubt that this is possible, because it would be a huge security risk and Android is built rather securely.</p>\n"},{"comments":[{"owner":{"account_id":21877,"reputation":36380,"user_id":53501,"accept_rate":59,"display_name":"Rich"},"score":56,"creation_date":1285269026,"post_id":2033124,"comment_id":4005116,"body_markdown":"Your code seems to use hard coded username and password.  Is this currently a security risk (meaning, have the apk&#39;s that get uploaded to the market been decompiled)?","body":"Your code seems to use hard coded username and password.  Is this currently a security risk (meaning, have the apk&#39;s that get uploaded to the market been decompiled)?"},{"owner":{"account_id":263048,"reputation":6088,"user_id":548360,"accept_rate":90,"display_name":"Avi Shukron"},"score":11,"creation_date":1304639372,"post_id":2033124,"comment_id":6797271,"body_markdown":"Working for me!!! do not forget to add to your app manifest the uses-permission INTERNET","body":"Working for me!!! do not forget to add to your app manifest the uses-permission INTERNET"},{"owner":{"account_id":69317,"reputation":1607,"user_id":201751,"accept_rate":67,"display_name":"CITBL"},"score":6,"creation_date":1308418269,"post_id":2033124,"comment_id":7498926,"body_markdown":"You have a problem in GMailSender.sendMail(). The problem is that no errors go outside of sendMail because you have try..catch inside it surrounding all the code. You should remove try..catch from sendMail. Otherwise it&#39;s impossible to detect errors","body":"You have a problem in GMailSender.sendMail(). The problem is that no errors go outside of sendMail because you have try..catch inside it surrounding all the code. You should remove try..catch from sendMail. Otherwise it&#39;s impossible to detect errors"},{"owner":{"account_id":163127,"reputation":6145,"user_id":385051,"accept_rate":76,"display_name":"jfisk"},"score":4,"creation_date":1314731784,"post_id":2033124,"comment_id":8719269,"body_markdown":"is it possible to use this to attach a jpeg?","body":"is it possible to use this to attach a jpeg?"},{"owner":{"account_id":373643,"reputation":3357,"user_id":723421,"accept_rate":86,"display_name":"pumpkee"},"score":20,"creation_date":1316565992,"post_id":2033124,"comment_id":9071833,"body_markdown":"is there anyway to get an email sent without putting  the password into the code? I think users would be startled if i would ask them for their email pw...","body":"is there anyway to get an email sent without putting  the password into the code? I think users would be startled if i would ask them for their email pw..."},{"owner":{"account_id":142343,"reputation":127955,"user_id":379693,"accept_rate":95,"display_name":"Paresh Mayani"},"score":2,"creation_date":1316773533,"post_id":2033124,"comment_id":9118609,"body_markdown":"@Vinayank do you know how can we check whether the mail sent is successful or fail?","body":"@Vinayank do you know how can we check whether the mail sent is successful or fail?"},{"owner":{"account_id":474399,"reputation":6572,"user_id":884054,"accept_rate":90,"display_name":"Noby"},"score":2,"creation_date":1323267488,"post_id":2033124,"comment_id":10396746,"body_markdown":"i am getting this error javax.mail.MessagingException: Unknown SMTP host: smtp.gmail.com;","body":"i am getting this error javax.mail.MessagingException: Unknown SMTP host: smtp.gmail.com;"},{"owner":{"account_id":285117,"reputation":874,"user_id":583601,"accept_rate":67,"display_name":"Justin"},"score":2,"creation_date":1331736113,"post_id":2033124,"comment_id":12333587,"body_markdown":"So we have to ask the user for their password to make this work? That does not lower customer interaction.","body":"So we have to ask the user for their password to make this work? That does not lower customer interaction."},{"owner":{"account_id":294329,"reputation":1534,"user_id":598170,"display_name":"Som"},"score":5,"creation_date":1336028626,"post_id":2033124,"comment_id":13455635,"body_markdown":"I am getting java.lang.NoClassDefFoundError: com.som.mail.GMailSender ???? What could be the reason ? The class is there in my project but this Exception is coming.","body":"I am getting java.lang.NoClassDefFoundError: com.som.mail.GMailSender ???? What could be the reason ? The class is there in my project but this Exception is coming."},{"owner":{"account_id":355342,"reputation":10058,"user_id":694240,"accept_rate":68,"display_name":"M.A.Murali"},"score":7,"creation_date":1336587315,"post_id":2033124,"comment_id":13607658,"body_markdown":"Hi Thanks for the code. but i got java.lang.NoClassDefFoundError on GMailSender sender = new GMailSender(...) on mailsenderactivity. i included all jars and added to build path. i spent some time to resolve it.but i do not get solution. please help me.","body":"Hi Thanks for the code. but i got java.lang.NoClassDefFoundError on GMailSender sender = new GMailSender(...) on mailsenderactivity. i included all jars and added to build path. i spent some time to resolve it.but i do not get solution. please help me."},{"owner":{"account_id":1217369,"reputation":673,"user_id":1184683,"display_name":"swathi"},"score":4,"creation_date":1338873420,"post_id":2033124,"comment_id":14197934,"body_markdown":"Is it possible to send mail without hard coded username and password?","body":"Is it possible to send mail without hard coded username and password?"},{"owner":{"display_name":"user70568"},"score":0,"creation_date":1339401843,"post_id":2033124,"comment_id":14335152,"body_markdown":"For throes wanting to send the email from the user without them having to enter it into the application. you may be interested in http://stackoverflow.com/questions/2112965/how-to-get-the-android-devices-primary-e-mail-address","body":"For throes wanting to send the email from the user without them having to enter it into the application. you may be interested in <a href=\"http://stackoverflow.com/questions/2112965/how-to-get-the-android-devices-primary-e-mail-address\" title=\"how to get the android devices primary e mail address\">stackoverflow.com/questions/2112965/&hellip;</a>"},{"owner":{"account_id":77156,"reputation":1373,"user_id":220410,"accept_rate":53,"display_name":"amit"},"score":0,"creation_date":1341108149,"post_id":2033124,"comment_id":14833749,"body_markdown":"It works, thanks. But I&#39;m getting proguard errors when I export. Anybody have the proguard lines to resolve the erors? &quot;can&#39;t find referenced class javax.security&quot;, etc.","body":"It works, thanks. But I&#39;m getting proguard errors when I export. Anybody have the proguard lines to resolve the erors? &quot;can&#39;t find referenced class javax.security&quot;, etc."},{"owner":{"account_id":50307,"reputation":17321,"user_id":150016,"accept_rate":67,"display_name":"Tom"},"score":60,"creation_date":1341852727,"post_id":2033124,"comment_id":15029682,"body_markdown":"For those complaining/asking about how to get user&#39;s password - that&#39;s not the idea here.  This is meant to be used with your (developer&#39;s) e-mail account.  If you want to rely on user&#39;s e-mail account you should use the e-mail intent, which is widely discussed in other posts.","body":"For those complaining/asking about how to get user&#39;s password - that&#39;s not the idea here.  This is meant to be used with your (developer&#39;s) e-mail account.  If you want to rely on user&#39;s e-mail account you should use the e-mail intent, which is widely discussed in other posts."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1342942037,"post_id":2033124,"comment_id":15351680,"body_markdown":"do you know of a sample code that also shows how to receive email and do something with it on gmail ?","body":"do you know of a sample code that also shows how to receive email and do something with it on gmail ?"},{"owner":{"account_id":1274628,"reputation":5368,"user_id":1230123,"accept_rate":97,"display_name":"Hesham Saeed"},"score":3,"creation_date":1346458304,"post_id":2033124,"comment_id":16378531,"body_markdown":"If someone is afraid of his password, you can put it in resources and use it in code. I decompiled some apps and couldn&#39;t get any xml file content, only java files.","body":"If someone is afraid of his password, you can put it in resources and use it in code. I decompiled some apps and couldn&#39;t get any xml file content, only java files."},{"owner":{"account_id":550510,"reputation":11423,"user_id":1921872,"accept_rate":90,"display_name":"Muhammad Umar"},"score":0,"creation_date":1346474306,"post_id":2033124,"comment_id":16380353,"body_markdown":"@Vinayak.B I am experiencing AuthenticationFailedException at Transport.send(message). I am using simulators right now but My internet works fine. Antivirus is disabled too and i have checked my pass and email too. Any ideas?","body":"@Vinayak.B I am experiencing AuthenticationFailedException at Transport.send(message). I am using simulators right now but My internet works fine. Antivirus is disabled too and i have checked my pass and email too. Any ideas?"},{"owner":{"account_id":254217,"reputation":2935,"user_id":533463,"accept_rate":60,"display_name":"Adithya"},"score":0,"creation_date":1348993166,"post_id":2033124,"comment_id":17079594,"body_markdown":"this works fine using emulator but i am not able to send it using my phone (Galaxy S2). Is there some specific settings i need to do to send it via phone ?","body":"this works fine using emulator but i am not able to send it using my phone (Galaxy S2). Is there some specific settings i need to do to send it via phone ?"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":2,"creation_date":1352127704,"post_id":2033124,"comment_id":18029017,"body_markdown":"Rather than linking directly to the JARs, link to the project page. You need to adhere to the licenses of android-javamail","body":"Rather than linking directly to the JARs, link to the project page. You need to adhere to the licenses of android-javamail"},{"owner":{"account_id":1785297,"reputation":11051,"user_id":1626878,"accept_rate":100,"display_name":"Sahil Mahajan Mj"},"score":2,"creation_date":1352870136,"post_id":2033124,"comment_id":18260653,"body_markdown":"thanx a lot. this code works. Is there any way to send a file through email using this code.!","body":"thanx a lot. this code works. Is there any way to send a file through email using this code.!"},{"owner":{"account_id":1705744,"reputation":8233,"user_id":1564821,"accept_rate":57,"display_name":"Spring Breaker"},"score":0,"creation_date":1353503729,"post_id":2033124,"comment_id":18465743,"body_markdown":"This code seems to be a nice one but it shows error in file import section.\n\nit shows these imports cant be resolved .could you please check it and tell me whats wrong here?","body":"This code seems to be a nice one but it shows error in file import section.  it shows these imports cant be resolved .could you please check it and tell me whats wrong here?"},{"owner":{"account_id":544142,"reputation":1727,"user_id":913488,"accept_rate":61,"display_name":"Mahaveer Muttha"},"score":0,"creation_date":1358840650,"post_id":2033124,"comment_id":20129228,"body_markdown":"@Vinayak.B,  Hello All can anybody tell me how to add image and text to body part of this method?? i want to send one image and some text in body of mail....","body":"@Vinayak.B,  Hello All can anybody tell me how to add image and text to body part of this method?? i want to send one image and some text in body of mail...."},{"owner":{"account_id":1867502,"reputation":2483,"user_id":1690682,"accept_rate":91,"display_name":"User42590"},"score":0,"creation_date":1365075391,"post_id":2033124,"comment_id":22485143,"body_markdown":"is there any way that we only provide user email address and not pass?","body":"is there any way that we only provide user email address and not pass?"},{"owner":{"account_id":2185112,"reputation":163,"user_id":1966266,"accept_rate":25,"display_name":"srinivas"},"score":0,"creation_date":1367567273,"post_id":2033124,"comment_id":23428846,"body_markdown":"JSSEProvider class is licensed is there any problem in future terms.","body":"JSSEProvider class is licensed is there any problem in future terms."},{"owner":{"account_id":1483994,"reputation":2958,"user_id":1392631,"accept_rate":50,"display_name":"Big.Child"},"score":0,"creation_date":1368011449,"post_id":2033124,"comment_id":23576960,"body_markdown":"Can I attach .pdf file ? Please someone tell me.","body":"Can I attach .pdf file ? Please someone tell me."},{"owner":{"account_id":1865218,"reputation":1128,"user_id":1690573,"accept_rate":45,"display_name":"Vaibs"},"score":0,"creation_date":1369986684,"post_id":2033124,"comment_id":24303483,"body_markdown":"@Vinayak.B I am getting Class not fount exception for GMailSender. Did others who got this error fixed it?","body":"@Vinayak.B I am getting Class not fount exception for GMailSender. Did others who got this error fixed it?"},{"owner":{"account_id":1057692,"reputation":2549,"user_id":1060051,"accept_rate":62,"display_name":"cwiggo"},"score":3,"creation_date":1370524042,"post_id":2033124,"comment_id":24497289,"body_markdown":"This line:\n\nSecurity.addProvider(new com.provider.JSSEProvider());\n\nin \n\nGmailSender.java is being highlighted as an error.\n\nDoes anyone know the solution to this line of code?\n\nWhat does it need to point to, my package name?\n\nThanks","body":"This line:  Security.addProvider(new com.provider.JSSEProvider());  in   GmailSender.java is being highlighted as an error.  Does anyone know the solution to this line of code?  What does it need to point to, my package name?  Thanks"},{"owner":{"account_id":1646004,"reputation":391,"user_id":1517555,"accept_rate":54,"display_name":"Rupesh Nerkar"},"score":6,"creation_date":1370937897,"post_id":2033124,"comment_id":24631702,"body_markdown":"this code is work for android 2.3 but not far latest version android 4.0. means mail is not send on android 4.0.3","body":"this code is work for android 2.3 but not far latest version android 4.0. means mail is not send on android 4.0.3"},{"owner":{"account_id":2767646,"reputation":4657,"user_id":2382964,"accept_rate":67,"display_name":"Tushar Pandey"},"score":1,"creation_date":1372935504,"post_id":2033124,"comment_id":25383673,"body_markdown":"thanks vinayak , but now how to find that email is not received at the other end .","body":"thanks vinayak , but now how to find that email is not received at the other end ."},{"owner":{"account_id":1875464,"reputation":5150,"user_id":1696770,"accept_rate":80,"display_name":"Ranjit"},"score":1,"creation_date":1377165194,"post_id":2033124,"comment_id":26985246,"body_markdown":"i use all this things as vinayak gives. Also add all the permissions in my manifest. the problem is when I try to send the mail it takes some time to process but nothings happens. Can anybody helps me here plz..","body":"i use all this things as vinayak gives. Also add all the permissions in my manifest. the problem is when I try to send the mail it takes some time to process but nothings happens. Can anybody helps me here plz.."},{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":4,"creation_date":1378890276,"post_id":2033124,"comment_id":27613312,"body_markdown":"For those having problems with Android 4 follow the tutorial http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android and execute the actual sending from `AsyncTask`.","body":"For those having problems with Android 4 follow the tutorial <a href=\"http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android\" rel=\"nofollow noreferrer\">jondev.net/articles/&hellip;</a> and execute the actual sending from <code>AsyncTask</code>."},{"owner":{"account_id":1886278,"reputation":2689,"user_id":1705420,"accept_rate":25,"display_name":"PankajAndroid"},"score":5,"creation_date":1379651685,"post_id":2033124,"comment_id":27913893,"body_markdown":"it&#39;s not working for me same code i had put with permision. there is no error yet not sending mail","body":"it&#39;s not working for me same code i had put with permision. there is no error yet not sending mail"},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":2,"creation_date":1379716448,"post_id":2033124,"comment_id":27945408,"body_markdown":"Same problem for me as @AndroidDev even using 2.3. Will try other solution.","body":"Same problem for me as @AndroidDev even using 2.3. Will try other solution."},{"owner":{"account_id":1379064,"reputation":747,"user_id":1312462,"accept_rate":36,"display_name":"Karthik"},"score":1,"creation_date":1380804467,"post_id":2033124,"comment_id":28341430,"body_markdown":"@Vinayak.B i have tried with gmail its working fine. And i checked other domains its showing message send and it does not show any error but i m not receiving emails?","body":"@Vinayak.B i have tried with gmail its working fine. And i checked other domains its showing message send and it does not show any error but i m not receiving emails?"},{"owner":{"account_id":1284574,"reputation":12592,"user_id":1237937,"accept_rate":42,"display_name":"Kirit  Vaghela"},"score":0,"creation_date":1381831771,"post_id":2033124,"comment_id":28717363,"body_markdown":"How to set mine type for mail. i.e I want to send email for text/html .","body":"How to set mine type for mail. i.e I want to send email for text/html ."},{"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"score":0,"creation_date":1382101392,"post_id":2033124,"comment_id":28839979,"body_markdown":"@Chris right click on the project - properties - java build path - order and export - and tick all the jars plus private libraries","body":"@Chris right click on the project - properties - java build path - order and export - and tick all the jars plus private libraries"},{"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"score":0,"creation_date":1382101960,"post_id":2033124,"comment_id":28840327,"body_markdown":"thank you so match for ur awesome answer!!!\nand thank u AvrahamShukron for your comment\nguys RupeshNerkar , TusharPandey , RanjitPati , AndroidDev , HenriqueSousa and Karthik   maybe it hapened with u like it happened with me: i created a new project and i forgot to add the permission: \n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\nhope I helped u","body":"thank you so match for ur awesome answer!!! and thank u AvrahamShukron for your comment guys RupeshNerkar , TusharPandey , RanjitPati , AndroidDev , HenriqueSousa and Karthik   maybe it hapened with u like it happened with me: i created a new project and i forgot to add the permission:  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; hope I helped u"},{"owner":{"account_id":2439714,"reputation":9446,"user_id":2128591,"accept_rate":50,"display_name":"Paolo Rovelli"},"score":4,"creation_date":1385983419,"post_id":2033124,"comment_id":30336020,"body_markdown":"Considering how easy it is to reverse engineering an APK package, do you think this is a safe approach? I mean, storing a password in plain text doesn&#39;t sound too good to me...","body":"Considering how easy it is to reverse engineering an APK package, do you think this is a safe approach? I mean, storing a password in plain text doesn&#39;t sound too good to me..."},{"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"score":0,"creation_date":1386340638,"post_id":2033124,"comment_id":30509723,"body_markdown":"This code works on many phones, but it dont on devices version&gt;9 cz \nthere is something like privacy that doesn&#39;t allow the new phones to send email .. so\nI followed this link:\nhttp://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android\n and now its working.. thnx bancer","body":"This code works on many phones, but it dont on devices version&gt;9 cz  there is something like privacy that doesn&#39;t allow the new phones to send email .. so I followed this link: <a href=\"http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android\" rel=\"nofollow noreferrer\">jondev.net/articles/&hellip;</a>  and now its working.. thnx bancer"},{"owner":{"account_id":370463,"reputation":409,"user_id":718419,"accept_rate":74,"display_name":"eawedat"},"score":0,"creation_date":1387540601,"post_id":2033124,"comment_id":31008630,"body_markdown":"@Vinayak.B when run the code the app is freezing &quot;The application gmail (process com.example.gmail) has stopped unexpectedly. Please try again.&quot;  , I do not know what is wrong. When I uncomment try{ }catch { } to see the error , eclipse does not allow me to do that.","body":"@Vinayak.B when run the code the app is freezing &quot;The application gmail (process com.example.gmail) has stopped unexpectedly. Please try again.&quot;  , I do not know what is wrong. When I uncomment try{ }catch { } to see the error , eclipse does not allow me to do that."},{"owner":{"account_id":1694184,"reputation":113,"user_id":1555940,"accept_rate":45,"display_name":"H P"},"score":0,"creation_date":1388272625,"post_id":2033124,"comment_id":31220995,"body_markdown":"This is working for me in test mode but not in production. Any ideas?","body":"This is working for me in test mode but not in production. Any ideas?"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":3,"creation_date":1389269025,"post_id":2033124,"comment_id":31594310,"body_markdown":"@Vinayak B.: The question is: how do you get this information? &quot;username@gmail.com&quot;, &quot;password&quot;","body":"@Vinayak B.: The question is: how do you get this information? &quot;username@gmail.com&quot;, &quot;password&quot;"},{"owner":{"account_id":3811306,"reputation":790,"user_id":3162060,"accept_rate":61,"display_name":"rajshree"},"score":0,"creation_date":1392801179,"post_id":2033124,"comment_id":33121572,"body_markdown":"@Vinayak.B sir i am getting authontication failed execption","body":"@Vinayak.B sir i am getting authontication failed execption"},{"owner":{"account_id":3057704,"reputation":7306,"user_id":2591002,"accept_rate":36,"display_name":"SweetWisher ツ"},"score":0,"creation_date":1398072070,"post_id":2033124,"comment_id":35476354,"body_markdown":"I don&#39;t want static password.. i want dynamic data as the user has signed in to the device...how can I implement this requirement... as username and password can vary from device to device","body":"I don&#39;t want static password.. i want dynamic data as the user has signed in to the device...how can I implement this requirement... as username and password can vary from device to device"},{"owner":{"account_id":1698425,"reputation":22463,"user_id":1559213,"accept_rate":61,"display_name":"Murali Murugesan"},"score":1,"creation_date":1415259098,"post_id":2033124,"comment_id":42127026,"body_markdown":"Could you please add a code/link for `AsyncTask implementation?` We are getting `AsyncFutureTask` exception.","body":"Could you please add a code/link for <code>AsyncTask implementation?</code> We are getting <code>AsyncFutureTask</code> exception."},{"owner":{"account_id":3692369,"reputation":9939,"user_id":3960700,"accept_rate":81,"display_name":"Stephen"},"score":0,"creation_date":1421060973,"post_id":2033124,"comment_id":44200747,"body_markdown":"can you tell me by default how to send an email verification for adding new users?","body":"can you tell me by default how to send an email verification for adding new users?"},{"owner":{"account_id":1634981,"reputation":7145,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"score":1,"creation_date":1421637960,"post_id":2033124,"comment_id":44422065,"body_markdown":"javax.mail.AuthenticationFailedException when sending email althought the user/password are correct. Any solution android 4.4.4?","body":"javax.mail.AuthenticationFailedException when sending email althought the user/password are correct. Any solution android 4.4.4?"},{"owner":{"display_name":"user2424370"},"score":0,"creation_date":1422685815,"post_id":2033124,"comment_id":44857844,"body_markdown":"@VinayakB Is it possible to replace the body string as generated bitmap QR code?","body":"@VinayakB Is it possible to replace the body string as generated bitmap QR code?"},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":0,"creation_date":1423035246,"post_id":2033124,"comment_id":44980904,"body_markdown":"Is there any code if mail not sent successfully then it will be stored as draft.","body":"Is there any code if mail not sent successfully then it will be stored as draft."},{"owner":{"account_id":3629118,"reputation":2463,"user_id":3025852,"accept_rate":56,"display_name":"NoSixties"},"score":1,"creation_date":1424701476,"post_id":2033124,"comment_id":45645115,"body_markdown":"I&#39;m getting the following exception message: No provider for smtp. Any idea what could be causing this? I added the jar files to compile in gradle and I also included them in settings.gradle","body":"I&#39;m getting the following exception message: No provider for smtp. Any idea what could be causing this? I added the jar files to compile in gradle and I also included them in settings.gradle"},{"owner":{"account_id":4340730,"reputation":1485,"user_id":3544007,"accept_rate":57,"display_name":"vijay"},"score":2,"creation_date":1425529531,"post_id":2033124,"comment_id":46003833,"body_markdown":"Hi frdz its not working for me ..Error:: android.os.NetworkOnMainThreadException","body":"Hi frdz its not working for me ..Error:: android.os.NetworkOnMainThreadException"},{"owner":{"account_id":937319,"reputation":590,"user_id":966011,"accept_rate":77,"display_name":"Bamaco"},"score":0,"creation_date":1428172375,"post_id":2033124,"comment_id":47066007,"body_markdown":"Use to work great, now getting javax.mail.MessagingException, Could not connect to SMTP host: smtp.gmail.com, port: 465; stack shows caused by  javax.net.ssl.SSLHandshakeException: com.android.org.bouncycastle.jce.exception.ExtCertPathValidatorException: Could not validate certificate: null","body":"Use to work great, now getting javax.mail.MessagingException, Could not connect to SMTP host: smtp.gmail.com, port: 465; stack shows caused by  javax.net.ssl.SSLHandshakeException: com.android.org.bouncycastle.jce.exception.ExtCertPathValida&zwnj;&#8203;torException: Could not validate certificate: null"},{"owner":{"account_id":1136346,"reputation":16092,"user_id":1121352,"accept_rate":86,"display_name":"gaborous"},"score":5,"creation_date":1439287408,"post_id":2033124,"comment_id":51787745,"body_markdown":"Here is seemingly the [original link for the code of this answer](http://www.ssaurel.com/blog/how-to-send-an-email-with-javamail-api-in-android/), and with additional instructions (ie, you need to [enable less secure apps on your Gmail account](https://www.google.com/settings/security/lesssecureapps)). Another [related tutorial here](http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_(no_Intents)_in_Android).","body":"Here is seemingly the <a href=\"http://www.ssaurel.com/blog/how-to-send-an-email-with-javamail-api-in-android/\" rel=\"nofollow noreferrer\">original link for the code of this answer</a>, and with additional instructions (ie, you need to <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">enable less secure apps on your Gmail account</a>). Another <a href=\"http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_(no_Intents)_in_Android\" rel=\"nofollow noreferrer\">related tutorial here</a>."},{"owner":{"account_id":2440244,"reputation":645,"user_id":2128979,"accept_rate":70,"display_name":"Ashish Tanna"},"score":0,"creation_date":1439845196,"post_id":2033124,"comment_id":52017994,"body_markdown":"Thanks! It worked for me. But there was a problem when I used this code, both outlook and gmail were rejecting the mails. The solution was to set the &quot;from&quot; field : `message.setFrom(new InternetAddress(user));`","body":"Thanks! It worked for me. But there was a problem when I used this code, both outlook and gmail were rejecting the mails. The solution was to set the &quot;from&quot; field : <code>message.setFrom(new InternetAddress(user));</code>"},{"owner":{"account_id":5542244,"reputation":305,"user_id":4398330,"display_name":"Patel Hiren"},"score":0,"creation_date":1442237645,"post_id":2033124,"comment_id":52987365,"body_markdown":"I have try this solution but get the &quot;javax.mail.AuthenticationFailedException&quot; even email and password are correct.","body":"I have try this solution but get the &quot;javax.mail.AuthenticationFailedException&quot; even email and password are correct."},{"owner":{"account_id":2582716,"reputation":824,"user_id":2239037,"accept_rate":14,"display_name":"anshad"},"score":2,"creation_date":1445260267,"post_id":2033124,"comment_id":54234528,"body_markdown":"Just click below link to disable security check https://www.google.com/settings/security/lesssecureapps","body":"Just click below link to disable security check <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">google.com/settings/security/lesssecureapps</a>"},{"owner":{"account_id":6683016,"reputation":3874,"user_id":5155422,"accept_rate":31,"display_name":"Rajesh Satvara"},"score":0,"creation_date":1456549392,"post_id":2033124,"comment_id":59011754,"body_markdown":"Error:Execution failed for task &#39;:MyMailApp:dexDebug&#39;.\n&gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_05\\bin\\java.exe&#39;&#39; finished with non-zero exit value 2\n\nGOT THIS ERROR","body":"Error:Execution failed for task &#39;:MyMailApp:dexDebug&#39;. &gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_05\\bin\\java.exe&#39;&#39; finished with non-zero exit value 2  GOT THIS ERROR"},{"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"score":1,"creation_date":1465379594,"post_id":2033124,"comment_id":62872723,"body_markdown":"how many minutes will it take to send a mail. Because my app run without any exception but there is no mail in both of my recipient mail ids.","body":"how many minutes will it take to send a mail. Because my app run without any exception but there is no mail in both of my recipient mail ids."},{"owner":{"account_id":4426945,"reputation":1289,"user_id":3605161,"accept_rate":87,"display_name":"phil"},"score":3,"creation_date":1472210622,"post_id":2033124,"comment_id":65672597,"body_markdown":"cause the links to the 3 jars are dead here is an update: https://code.google.com/archive/p/javamail-android/downloads","body":"cause the links to the 3 jars are dead here is an update: <a href=\"https://code.google.com/archive/p/javamail-android/downloads\" rel=\"nofollow noreferrer\">code.google.com/archive/p/javamail-android/downloads</a>"},{"owner":{"account_id":125694,"reputation":1251,"user_id":321629,"accept_rate":41,"display_name":"CyberMew"},"score":0,"creation_date":1472444989,"post_id":2033124,"comment_id":65737181,"body_markdown":"How can I customise the receiver name and sender name? It just plainly shows the email addresses only.","body":"How can I customise the receiver name and sender name? It just plainly shows the email addresses only."},{"owner":{"account_id":6194306,"reputation":865,"user_id":4826123,"accept_rate":47,"display_name":"Jude Maranga"},"score":2,"creation_date":1475922654,"post_id":2033124,"comment_id":67145005,"body_markdown":"Hello guys, can you help me? I got no errors but my test recipient email did not get the mail. Anyone who knows the possible reason for this?","body":"Hello guys, can you help me? I got no errors but my test recipient email did not get the mail. Anyone who knows the possible reason for this?"},{"owner":{"account_id":165872,"reputation":12769,"user_id":389649,"display_name":"Cristan"},"score":1,"creation_date":1476199971,"post_id":2033124,"comment_id":67240613,"body_markdown":"Those 3 libraries have the GPL license, which will be an issue with closed source projects.","body":"Those 3 libraries have the GPL license, which will be an issue with closed source projects."},{"owner":{"account_id":6979720,"reputation":5387,"user_id":5353128,"accept_rate":73,"display_name":"Kaushal28"},"score":0,"creation_date":1478684790,"post_id":2033124,"comment_id":68250716,"body_markdown":"For this we need SMTP username and password right? And this is not free :(","body":"For this we need SMTP username and password right? And this is not free :("},{"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"score":0,"creation_date":1491984378,"post_id":2033124,"comment_id":73789185,"body_markdown":"Those who are facing the problem of &quot;error javax.mail.AuthenticationFailedException&quot;,please enable the toggle button from https://myaccount.google.com/u/0/lesssecureapps","body":"Those who are facing the problem of &quot;error javax.mail.AuthenticationFailedException&quot;,please enable the toggle button from <a href=\"https://myaccount.google.com/u/0/lesssecureapps\" rel=\"nofollow noreferrer\">myaccount.google.com/u/0/lesssecureapps</a>"},{"owner":{"account_id":10527739,"reputation":433,"user_id":7758211,"display_name":"Rasool Mohamed"},"score":0,"creation_date":1498676544,"post_id":2033124,"comment_id":76601614,"body_markdown":"Hi **Vinayak Bevinakatti**, This code works perfectly with my Mobile Data **but its not working on my WIFI.** Please assist me. Below are the errors `javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465; nested exception is: java.net.ConnectException: failed to connect to smtp.gmail.com/2404:6800:4003:c00::6d (port 465) after 90000ms: isConnected failed: ENETUNREACH (Network is unreachable) at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.jav‌​a:1391)`","body":"Hi <b>Vinayak Bevinakatti</b>, This code works perfectly with my Mobile Data <b>but its not working on my WIFI.</b> Please assist me. Below are the errors <code>javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465; nested exception is: java.net.ConnectException: failed to connect to smtp.gmail.com&#47;2404:6800:4003:c00::6d (port 465) after 90000ms: isConnected failed: ENETUNREACH (Network is unreachable) at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.jav&zwnj;&#8203;‌​a:1391)</code>"},{"owner":{"account_id":10555768,"reputation":196,"user_id":7777009,"accept_rate":92,"display_name":"Shawnzey"},"score":3,"creation_date":1500845901,"post_id":2033124,"comment_id":77503069,"body_markdown":"is this still working? i tried it but i get no errors but no email either.","body":"is this still working? i tried it but i get no errors but no email either."},{"owner":{"account_id":3607477,"reputation":5831,"user_id":3009341,"accept_rate":73,"display_name":"Umit Kaya"},"score":3,"creation_date":1502292590,"post_id":2033124,"comment_id":78149369,"body_markdown":"This wont work UNLESS you add a new thread: see here http://www.ssaurel.com/blog/how-to-send-an-email-with-javamail-api-in-android/","body":"This wont work UNLESS you add a new thread: see here <a href=\"http://www.ssaurel.com/blog/how-to-send-an-email-with-javamail-api-in-android/\" rel=\"nofollow noreferrer\">ssaurel.com/blog/&hellip;</a>"},{"owner":{"account_id":1772943,"reputation":1723,"user_id":1617366,"display_name":"Mitja Gustin"},"score":0,"creation_date":1507815886,"post_id":2033124,"comment_id":80368800,"body_markdown":"You shuld add recepients one by one in a loop, catching AddressException , otherwise the code fails if usermail is not valid on server.\n\ntry { final InternetAddress address = new InternetAddress(recepient);\n                try {\n                    msg.addRecipient(Message.RecipientType.TO, address);\n                } catch (MessagingException e) {\n                    log.log(Level.WARNING, e.getMessage(), e);\n                }\n            } catch (javax.mail.internet.AddressException ex) {\n                log.log(Level.WARNING, ex.getMessage(),  ex);\n            }","body":"You shuld add recepients one by one in a loop, catching AddressException , otherwise the code fails if usermail is not valid on server.  try { final InternetAddress address = new InternetAddress(recepient);                 try {                     msg.addRecipient(Message.RecipientType.TO, address);                 } catch (MessagingException e) {                     log.log(Level.WARNING, e.getMessage(), e);                 }             } catch (javax.mail.internet.AddressException ex) {                 log.log(Level.WARNING, ex.getMessage(),  ex);             }"},{"owner":{"account_id":2646970,"reputation":2733,"user_id":2293455,"accept_rate":76,"display_name":"mpsbhat"},"score":0,"creation_date":1521259515,"post_id":2033124,"comment_id":85666730,"body_markdown":"Can we use webmail (noreply@example.com) as a sender email?","body":"Can we use webmail (noreply@example.com) as a sender email?"},{"owner":{"account_id":8122653,"reputation":996,"user_id":6118808,"display_name":"Abdulmalek Dery"},"score":0,"creation_date":1536740611,"post_id":2033124,"comment_id":91529074,"body_markdown":"@Vinayak Bevinakatti thank you so much this code worked just fine on preMarshmallow OSs but didn&#39;t work on Marshmallow or above &quot;the Transport.send(message) hang and never return&quot;  do have any idea how could we send email on those systems","body":"@Vinayak Bevinakatti thank you so much this code worked just fine on preMarshmallow OSs but didn&#39;t work on Marshmallow or above &quot;the Transport.send(message) hang and never return&quot;  do have any idea how could we send email on those systems"},{"owner":{"account_id":14313546,"reputation":4667,"user_id":10339036,"display_name":"michasaucer"},"score":0,"creation_date":1548176984,"post_id":2033124,"comment_id":95446510,"body_markdown":"I Copy paste that code and . Code walk all through methods, when it go to `Transport`, i dont have anything on my mailbox. How to find error?","body":"I Copy paste that code and . Code walk all through methods, when it go to <code>Transport</code>, i dont have anything on my mailbox. How to find error?"},{"owner":{"account_id":1948104,"reputation":160,"user_id":1752813,"display_name":"Henri L."},"score":1,"creation_date":1549959785,"post_id":2033124,"comment_id":96082444,"body_markdown":"This code used to work until a couple of days ago (10-feb-2019). Any idea as to why this no longer works? I do not get any error msg, but no email is sent.","body":"This code used to work until a couple of days ago (10-feb-2019). Any idea as to why this no longer works? I do not get any error msg, but no email is sent."},{"owner":{"account_id":1208606,"reputation":446,"user_id":1177596,"accept_rate":67,"display_name":"Thiagarajan Hariharan"},"score":0,"creation_date":1562399784,"post_id":2033124,"comment_id":100368068,"body_markdown":"Session.getDefaultInstance(props, this) crashes the app for me - no exceptions thrown. getDefaultInstance(new Properties(), null) &amp; getInstance(props, this) crash as well. Anyone have this issue?","body":"Session.getDefaultInstance(props, this) crashes the app for me - no exceptions thrown. getDefaultInstance(new Properties(), null) &amp; getInstance(props, this) crash as well. Anyone have this issue?"},{"owner":{"account_id":10129017,"reputation":4246,"user_id":7483211,"display_name":"Cornelius Roemer"},"score":0,"creation_date":1577485646,"post_id":2033124,"comment_id":105185810,"body_markdown":"Super outdated - surely not the best way to do this in 2020.","body":"Super outdated - surely not the best way to do this in 2020."},{"owner":{"account_id":11669363,"reputation":192,"user_id":8545027,"display_name":"Mostafa Amer"},"score":0,"creation_date":1579954243,"post_id":2033124,"comment_id":105943625,"body_markdown":"thank you so much, I want to ask you how to know if recipients email is a real email address? is there a specific exception thrown for this?","body":"thank you so much, I want to ask you how to know if recipients email is a real email address? is there a specific exception thrown for this?"},{"owner":{"account_id":11970579,"reputation":626,"user_id":8793928,"display_name":"Android Geek"},"score":0,"creation_date":1580204464,"post_id":2033124,"comment_id":106011776,"body_markdown":"must use Async task or background service otherwsie it wont work","body":"must use Async task or background service otherwsie it wont work"},{"owner":{"account_id":4521682,"reputation":914,"user_id":3674686,"accept_rate":75,"display_name":"Sevket"},"score":2,"creation_date":1587934973,"post_id":2033124,"comment_id":108699325,"body_markdown":"No exception or error but there is no email inbox or spam","body":"No exception or error but there is no email inbox or spam"},{"owner":{"account_id":4681378,"reputation":2067,"user_id":3789993,"accept_rate":74,"display_name":"AbhayBohra"},"score":0,"creation_date":1596004916,"post_id":2033124,"comment_id":111666002,"body_markdown":"I am getting this error -  More than one file was found with OS independent path &#39;META-INF/mimetypes.default&#39;.","body":"I am getting this error -  More than one file was found with OS independent path &#39;META-INF/mimetypes.default&#39;."},{"owner":{"account_id":4286646,"reputation":559,"user_id":3504181,"accept_rate":93,"display_name":"sanevys"},"score":0,"creation_date":1606831171,"post_id":2033124,"comment_id":115076435,"body_markdown":"@HenriL. most likely your developer email got restricted. You need to tun on again less secure apps in gmail.","body":"@HenriL. most likely your developer email got restricted. You need to tun on again less secure apps in gmail."},{"owner":{"account_id":14436675,"reputation":137,"user_id":10428502,"display_name":"Dids"},"score":0,"creation_date":1612888322,"post_id":2033124,"comment_id":116903731,"body_markdown":"If there&#39;s no error but you&#39;re not getting any email use thread go to this link: http://www.ssaurel.com/blog/how-to-send-an-email-with-javamail-api-in-android/ it should work.","body":"If there&#39;s no error but you&#39;re not getting any email use thread go to this link: <a href=\"http://www.ssaurel.com/blog/how-to-send-an-email-with-javamail-api-in-android/\" rel=\"nofollow noreferrer\">ssaurel.com/blog/&hellip;</a> it should work."},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1623060950,"post_id":2033124,"comment_id":119961768,"body_markdown":"Also, you can include a username and password in the app-level build.gradle file and get it wherever you need. For those complaining/asking about how to get a user&#39;s password.\ninside build.gradle (app level)\n       `buildConfigField &#39;String&#39;, &#39;fromEmail&#39;, &#39;&quot;from@gmail.com&quot;&#39;\n        buildConfigField &#39;String&#39;, &#39;toEmails&#39;, &#39;&quot;to@gmail.com&quot;&#39;\n        buildConfigField &#39;String&#39;, &#39;emailPassword&#39;, &#39;&quot;test@123&quot;&#39;`\nIn activity use it like:\n`BuildConfig.fromEmail, BuildConfig.emailPassword`","body":"Also, you can include a username and password in the app-level build.gradle file and get it wherever you need. For those complaining/asking about how to get a user&#39;s password. inside build.gradle (app level)        <code>buildConfigField &#39;String&#39;, &#39;fromEmail&#39;, &#39;&quot;from@gmail.com&quot;&#39;         buildConfigField &#39;String&#39;, &#39;toEmails&#39;, &#39;&quot;to@gmail.com&quot;&#39;         buildConfigField &#39;String&#39;, &#39;emailPassword&#39;, &#39;&quot;test@123&quot;&#39;</code> In activity use it like: <code>BuildConfig.fromEmail, BuildConfig.emailPassword</code>"},{"owner":{"account_id":9677198,"reputation":552,"user_id":7180288,"display_name":"AlessandroF"},"score":0,"creation_date":1630406193,"post_id":2033124,"comment_id":121941595,"body_markdown":"I am geting &quot;Required type: Provider - Provided: JSSEProvider&quot; on Security.addProvider(new com.example.liberha.JSSEProvider()); in GmailSender.java. Does anyone know how to fix that?","body":"I am geting &quot;Required type: Provider - Provided: JSSEProvider&quot; on Security.addProvider(new com.example.liberha.JSSEProvider()); in GmailSender.java. Does anyone know how to fix that?"},{"owner":{"account_id":7186697,"reputation":1239,"user_id":5488423,"display_name":"Ramesh Bhati"},"score":0,"creation_date":1667892604,"post_id":2033124,"comment_id":131269625,"body_markdown":"c.b.l: smtp exception occured","body":"c.b.l: smtp exception occured"}],"tags":[],"owner":{"account_id":14042,"reputation":40275,"user_id":28557,"accept_rate":78,"display_name":"Vinayak Bevinakatti"},"comment_count":83,"down_vote_count":0,"up_vote_count":789,"is_accepted":true,"score":789,"last_activity_date":1678785015,"creation_date":1263035010,"answer_id":2033124,"question_id":2020088,"body_markdown":"Send e-mail in Android using the JavaMail API using Gmail authentication.\r\n\r\n### Steps to create a sample Project:\r\n\r\n**MailSenderActivity.java:**\r\n\r\n    public class MailSenderActivity extends Activity {\r\n        \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n            final Button send = (Button) this.findViewById(R.id.send);\r\n            send.setOnClickListener(new View.OnClickListener() {\r\n                \r\n                public void onClick(View v) {\r\n                    try {   \r\n                        GMailSender sender = new GMailSender(&quot;username@gmail.com&quot;, &quot;password&quot;);\r\n                        sender.sendMail(&quot;This is Subject&quot;,   \r\n                                &quot;This is Body&quot;,   \r\n                                &quot;user@gmail.com&quot;,   \r\n                                &quot;user@yahoo.com&quot;);   \r\n                    } catch (Exception e) {   \r\n                        Log.e(&quot;SendMail&quot;, e.getMessage(), e);   \r\n                    } \r\n                    \r\n                }\r\n            });\r\n            \r\n        }\r\n    }\r\n\r\n**GMailSender.java:**\r\n\r\n\r\n    public class GMailSender extends javax.mail.Authenticator {   \r\n        private String mailhost = &quot;smtp.gmail.com&quot;;   \r\n        private String user;   \r\n        private String password;   \r\n        private Session session;   \r\n      \r\n        static {   \r\n            Security.addProvider(new com.provider.JSSEProvider());   \r\n        }  \r\n      \r\n        public GMailSender(String user, String password) {   \r\n            this.user = user;   \r\n            this.password = password;   \r\n      \r\n            Properties props = new Properties();   \r\n            props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);   \r\n            props.setProperty(&quot;mail.host&quot;, mailhost);   \r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);   \r\n            props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);   \r\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);   \r\n            props.put(&quot;mail.smtp.socketFactory.class&quot;,   \r\n                    &quot;javax.net.ssl.SSLSocketFactory&quot;);   \r\n            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);   \r\n            props.setProperty(&quot;mail.smtp.quitwait&quot;, &quot;false&quot;);   \r\n      \r\n            session = Session.getDefaultInstance(props, this);   \r\n        }   \r\n      \r\n        protected PasswordAuthentication getPasswordAuthentication() {   \r\n            return new PasswordAuthentication(user, password);   \r\n        }   \r\n      \r\n        public synchronized void sendMail(String subject, String body, String sender, String recipients) throws Exception {   \r\n            try{\r\n            MimeMessage message = new MimeMessage(session);   \r\n            DataHandler handler = new DataHandler(new ByteArrayDataSource(body.getBytes(), &quot;text/plain&quot;));   \r\n            message.setSender(new InternetAddress(sender));   \r\n            message.setSubject(subject);   \r\n            message.setDataHandler(handler);   \r\n            if (recipients.indexOf(&#39;,&#39;) &gt; 0)   \r\n                message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipients));   \r\n            else  \r\n                message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipients));   \r\n            Transport.send(message);   \r\n            }catch(Exception e){\r\n                \r\n            }\r\n        }   \r\n      \r\n        public class ByteArrayDataSource implements DataSource {   \r\n            private byte[] data;   \r\n            private String type;   \r\n      \r\n            public ByteArrayDataSource(byte[] data, String type) {   \r\n                super();   \r\n                this.data = data;   \r\n                this.type = type;   \r\n            }   \r\n      \r\n            public ByteArrayDataSource(byte[] data) {   \r\n                super();   \r\n                this.data = data;   \r\n            }   \r\n      \r\n            public void setType(String type) {   \r\n                this.type = type;   \r\n            }   \r\n      \r\n            public String getContentType() {   \r\n                if (type == null)   \r\n                    return &quot;application/octet-stream&quot;;   \r\n                else  \r\n                    return type;   \r\n            }   \r\n      \r\n            public InputStream getInputStream() throws IOException {   \r\n                return new ByteArrayInputStream(data);   \r\n            }   \r\n      \r\n            public String getName() {   \r\n                return &quot;ByteArrayDataSource&quot;;   \r\n            }   \r\n      \r\n            public OutputStream getOutputStream() throws IOException {   \r\n                throw new IOException(&quot;Not Supported&quot;);   \r\n            }   \r\n        }   \r\n    }  \r\n\r\n\r\n\r\n**JSSEProvider.java:**\r\n\r\n    \r\n    /*\r\n     *  Licensed to the Apache Software Foundation (ASF) under one or more\r\n     *  contributor license agreements.  See the NOTICE file distributed with\r\n     *  this work for additional information regarding copyright ownership.\r\n     *  The ASF licenses this file to You under the Apache License, Version 2.0\r\n     *  (the &quot;License&quot;); you may not use this file except in compliance with\r\n     *  the License.  You may obtain a copy of the License at\r\n     *\r\n     *     http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     *  Unless required by applicable law or agreed to in writing, software\r\n     *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     *  See the License for the specific language governing permissions and\r\n     *  limitations under the License.\r\n     */\r\n    \r\n    /**\r\n     * @author Alexander Y. Kleymenov\r\n     * @version $Revision$\r\n     */\r\n    \r\n    \r\n    import java.security.AccessController;\r\n    import java.security.Provider;\r\n    \r\n    public final class JSSEProvider extends Provider {\r\n    \r\n        public JSSEProvider() {\r\n            super(&quot;HarmonyJSSE&quot;, 1.0, &quot;Harmony JSSE Provider&quot;);\r\n            AccessController.doPrivileged(new java.security.PrivilegedAction&lt;Void&gt;() {\r\n                public Void run() {\r\n                    put(&quot;SSLContext.TLS&quot;,\r\n                            &quot;org.apache.harmony.xnet.provider.jsse.SSLContextImpl&quot;);\r\n                    put(&quot;Alg.Alias.SSLContext.TLSv1&quot;, &quot;TLS&quot;);\r\n                    put(&quot;KeyManagerFactory.X509&quot;,\r\n                            &quot;org.apache.harmony.xnet.provider.jsse.KeyManagerFactoryImpl&quot;);\r\n                    put(&quot;TrustManagerFactory.X509&quot;,\r\n                            &quot;org.apache.harmony.xnet.provider.jsse.TrustManagerFactoryImpl&quot;);\r\n                    return null;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nAdd the following three jars to your Android Project.\r\n\r\n\r\n - [mail.jar][1]\r\n - [activation.jar][2]\r\n - [additional.jar][3]\r\n\r\nCheck [this][4] post if you don&#39;t know how.\r\n\r\nAnd don&#39;t forget to add the following line in your manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\nAdjust your account access settings for less secure apps by visiting this link:\r\n\r\nhttps://www.google.com/settings/security/lesssecureapps.\r\n\r\n---\r\n\r\n**UPD 2023:** Less Secure Apps has been deprecated. To access your account, you will need to enable Two Factor Authentication and use App Password with the settings provided in the image below:\r\n\r\n[![How to create Temporary Password][5]][5]\r\n\r\n---\r\n\r\nRun the project and check your recipient mail account for the mail.\r\n\r\nP.S.: Please keep in mind that performing network operations directly from an Activity in Android is not allowed. Hence, it is highly recommended to use `AsyncTask` or `IntentService` to avoid encountering a network on main thread exception.\r\n\r\nJar files: https://code.google.com/archive/p/javamail-android/\r\n\r\n  [1]: https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/javamail-android/mail.jar\r\n  [2]: https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/javamail-android/activation.jar\r\n  [3]: https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/javamail-android/additionnal.jar\r\n  [4]: https://stackoverflow.com/a/6859020/28557\r\n  [5]: https://i.stack.imgur.com/KxOgvm.png","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Send e-mail in Android using the JavaMail API using Gmail authentication.</p>\n<h3>Steps to create a sample Project:</h3>\n<p><strong>MailSenderActivity.java:</strong></p>\n<pre><code>public class MailSenderActivity extends Activity {\n    \n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        \n        final Button send = (Button) this.findViewById(R.id.send);\n        send.setOnClickListener(new View.OnClickListener() {\n            \n            public void onClick(View v) {\n                try {   \n                    GMailSender sender = new GMailSender(&quot;username@gmail.com&quot;, &quot;password&quot;);\n                    sender.sendMail(&quot;This is Subject&quot;,   \n                            &quot;This is Body&quot;,   \n                            &quot;user@gmail.com&quot;,   \n                            &quot;user@yahoo.com&quot;);   \n                } catch (Exception e) {   \n                    Log.e(&quot;SendMail&quot;, e.getMessage(), e);   \n                } \n                \n            }\n        });\n        \n    }\n}\n</code></pre>\n<p><strong>GMailSender.java:</strong></p>\n<pre><code>public class GMailSender extends javax.mail.Authenticator {   \n    private String mailhost = &quot;smtp.gmail.com&quot;;   \n    private String user;   \n    private String password;   \n    private Session session;   \n  \n    static {   \n        Security.addProvider(new com.provider.JSSEProvider());   \n    }  \n  \n    public GMailSender(String user, String password) {   \n        this.user = user;   \n        this.password = password;   \n  \n        Properties props = new Properties();   \n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);   \n        props.setProperty(&quot;mail.host&quot;, mailhost);   \n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);   \n        props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);   \n        props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);   \n        props.put(&quot;mail.smtp.socketFactory.class&quot;,   \n                &quot;javax.net.ssl.SSLSocketFactory&quot;);   \n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);   \n        props.setProperty(&quot;mail.smtp.quitwait&quot;, &quot;false&quot;);   \n  \n        session = Session.getDefaultInstance(props, this);   \n    }   \n  \n    protected PasswordAuthentication getPasswordAuthentication() {   \n        return new PasswordAuthentication(user, password);   \n    }   \n  \n    public synchronized void sendMail(String subject, String body, String sender, String recipients) throws Exception {   \n        try{\n        MimeMessage message = new MimeMessage(session);   \n        DataHandler handler = new DataHandler(new ByteArrayDataSource(body.getBytes(), &quot;text/plain&quot;));   \n        message.setSender(new InternetAddress(sender));   \n        message.setSubject(subject);   \n        message.setDataHandler(handler);   \n        if (recipients.indexOf(',') &gt; 0)   \n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipients));   \n        else  \n            message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipients));   \n        Transport.send(message);   \n        }catch(Exception e){\n            \n        }\n    }   \n  \n    public class ByteArrayDataSource implements DataSource {   \n        private byte[] data;   \n        private String type;   \n  \n        public ByteArrayDataSource(byte[] data, String type) {   \n            super();   \n            this.data = data;   \n            this.type = type;   \n        }   \n  \n        public ByteArrayDataSource(byte[] data) {   \n            super();   \n            this.data = data;   \n        }   \n  \n        public void setType(String type) {   \n            this.type = type;   \n        }   \n  \n        public String getContentType() {   \n            if (type == null)   \n                return &quot;application/octet-stream&quot;;   \n            else  \n                return type;   \n        }   \n  \n        public InputStream getInputStream() throws IOException {   \n            return new ByteArrayInputStream(data);   \n        }   \n  \n        public String getName() {   \n            return &quot;ByteArrayDataSource&quot;;   \n        }   \n  \n        public OutputStream getOutputStream() throws IOException {   \n            throw new IOException(&quot;Not Supported&quot;);   \n        }   \n    }   \n}  \n</code></pre>\n<p><strong>JSSEProvider.java:</strong></p>\n<pre><code>/*\n *  Licensed to the Apache Software Foundation (ASF) under one or more\n *  contributor license agreements.  See the NOTICE file distributed with\n *  this work for additional information regarding copyright ownership.\n *  The ASF licenses this file to You under the Apache License, Version 2.0\n *  (the &quot;License&quot;); you may not use this file except in compliance with\n *  the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n/**\n * @author Alexander Y. Kleymenov\n * @version $Revision$\n */\n\n\nimport java.security.AccessController;\nimport java.security.Provider;\n\npublic final class JSSEProvider extends Provider {\n\n    public JSSEProvider() {\n        super(&quot;HarmonyJSSE&quot;, 1.0, &quot;Harmony JSSE Provider&quot;);\n        AccessController.doPrivileged(new java.security.PrivilegedAction&lt;Void&gt;() {\n            public Void run() {\n                put(&quot;SSLContext.TLS&quot;,\n                        &quot;org.apache.harmony.xnet.provider.jsse.SSLContextImpl&quot;);\n                put(&quot;Alg.Alias.SSLContext.TLSv1&quot;, &quot;TLS&quot;);\n                put(&quot;KeyManagerFactory.X509&quot;,\n                        &quot;org.apache.harmony.xnet.provider.jsse.KeyManagerFactoryImpl&quot;);\n                put(&quot;TrustManagerFactory.X509&quot;,\n                        &quot;org.apache.harmony.xnet.provider.jsse.TrustManagerFactoryImpl&quot;);\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n<p>Add the following three jars to your Android Project.</p>\n<ul>\n<li><a href=\"https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/javamail-android/mail.jar\" rel=\"nofollow noreferrer\">mail.jar</a></li>\n<li><a href=\"https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/javamail-android/activation.jar\" rel=\"nofollow noreferrer\">activation.jar</a></li>\n<li><a href=\"https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/javamail-android/additionnal.jar\" rel=\"nofollow noreferrer\">additional.jar</a></li>\n</ul>\n<p>Check <a href=\"https://stackoverflow.com/a/6859020/28557\">this</a> post if you don't know how.</p>\n<p>And don't forget to add the following line in your manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Adjust your account access settings for less secure apps by visiting this link:</p>\n<p><a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">https://www.google.com/settings/security/lesssecureapps</a>.</p>\n<hr />\n<p><strong>UPD 2023:</strong> Less Secure Apps has been deprecated. To access your account, you will need to enable Two Factor Authentication and use App Password with the settings provided in the image below:</p>\n<p><a href=\"https://i.stack.imgur.com/KxOgvm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxOgvm.png\" alt=\"How to create Temporary Password\" /></a></p>\n<hr />\n<p>Run the project and check your recipient mail account for the mail.</p>\n<p>P.S.: Please keep in mind that performing network operations directly from an Activity in Android is not allowed. Hence, it is highly recommended to use <code>AsyncTask</code> or <code>IntentService</code> to avoid encountering a network on main thread exception.</p>\n<p>Jar files: <a href=\"https://code.google.com/archive/p/javamail-android/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/javamail-android/</a></p>\n"},{"tags":[],"owner":{"account_id":613659,"reputation":589,"user_id":343075,"display_name":"ManuV"},"comment_count":0,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1274102722,"creation_date":1274102722,"answer_id":2849357,"question_id":2020088,"body_markdown":"&gt; Could not connect to SMTP host:\r\n&gt; smtp.gmail.com, port: 465\r\n\r\nAdd this line in your manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<blockquote>\n  <p>Could not connect to SMTP host:\n  smtp.gmail.com, port: 465</p>\n</blockquote>\n\n<p>Add this line in your manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":84422,"reputation":1500,"user_id":236014,"accept_rate":50,"display_name":"Garbage"},"score":6,"creation_date":1358932333,"post_id":5787716,"comment_id":20167564,"body_markdown":"Add this to GmailSender.java","body":"Add this to GmailSender.java"},{"owner":{"account_id":1440069,"reputation":627,"user_id":1360471,"accept_rate":83,"display_name":"Calvin"},"score":0,"creation_date":1439988641,"post_id":5787716,"comment_id":52086486,"body_markdown":"when i called setcontent it overwrote my body content. am i doing anything wrong. i want to add attachment with other textual body content","body":"when i called setcontent it overwrote my body content. am i doing anything wrong. i want to add attachment with other textual body content"},{"owner":{"display_name":"user6649667"},"score":1,"creation_date":1478696221,"post_id":5787716,"comment_id":68257233,"body_markdown":"for `filename` variable here, you have to specify file path. For example :`String path = Environment.getExternalStorageDirectory().getPath() + &quot;/temp_share.jpg&quot;;`","body":"for <code>filename</code> variable here, you have to specify file path. For example :<code>String path = Environment.getExternalStorageDirectory().getPath() + &quot;&#47;temp_share.jpg&quot;;</code>"},{"owner":{"account_id":3346229,"reputation":285,"user_id":2811343,"accept_rate":100,"display_name":"AndroidManifester"},"score":0,"creation_date":1579464112,"post_id":5787716,"comment_id":105766168,"body_markdown":"This code helps you to add multiple files https://stackoverflow.com/a/3177640/2811343 ;) :)","body":"This code helps you to add multiple files <a href=\"https://stackoverflow.com/a/3177640/2811343\">stackoverflow.com/a/3177640/2811343</a> ;) :)"}],"tags":[],"owner":{"account_id":333976,"reputation":805,"user_id":660111,"accept_rate":100,"display_name":"Krishna"},"comment_count":4,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1307792232,"creation_date":1303806212,"answer_id":5787716,"question_id":2020088,"body_markdown":"Thank you for your valuable information. Code is working fine. I am able to add attachment also by adding following code.\r\n\r\n    private Multipart _multipart; \r\n    _multipart = new MimeMultipart(); \r\n\r\n    public void addAttachment(String filename,String subject) throws Exception { \r\n        BodyPart messageBodyPart = new MimeBodyPart(); \r\n        DataSource source = new FileDataSource(filename); \r\n        messageBodyPart.setDataHandler(new DataHandler(source)); \r\n        messageBodyPart.setFileName(filename); \r\n        _multipart.addBodyPart(messageBodyPart);\r\n        \r\n        BodyPart messageBodyPart2 = new MimeBodyPart(); \r\n        messageBodyPart2.setText(subject); \r\n         \r\n        _multipart.addBodyPart(messageBodyPart2); \r\n    } \r\n\r\n\r\n\r\n    message.setContent(_multipart);\r\n\r\n","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Thank you for your valuable information. Code is working fine. I am able to add attachment also by adding following code.</p>\n\n<pre><code>private Multipart _multipart; \n_multipart = new MimeMultipart(); \n\npublic void addAttachment(String filename,String subject) throws Exception { \n    BodyPart messageBodyPart = new MimeBodyPart(); \n    DataSource source = new FileDataSource(filename); \n    messageBodyPart.setDataHandler(new DataHandler(source)); \n    messageBodyPart.setFileName(filename); \n    _multipart.addBodyPart(messageBodyPart);\n\n    BodyPart messageBodyPart2 = new MimeBodyPart(); \n    messageBodyPart2.setText(subject); \n\n    _multipart.addBodyPart(messageBodyPart2); \n} \n\n\n\nmessage.setContent(_multipart);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1083635,"reputation":19728,"user_id":1079901,"accept_rate":87,"display_name":"0xC0DED00D"},"score":0,"creation_date":1384172089,"post_id":12967162,"comment_id":29616325,"body_markdown":"@KeyLimePiePhotonAndroid Add internet permission to your manifest","body":"@KeyLimePiePhotonAndroid Add internet permission to your manifest"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1395208950,"post_id":12967162,"comment_id":34227603,"body_markdown":"how to use this code if I want to use any other email client such as of my org? Would changing just the host name and port be sufficient?","body":"how to use this code if I want to use any other email client such as of my org? Would changing just the host name and port be sufficient?"},{"owner":{"account_id":1634981,"reputation":7145,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"score":0,"creation_date":1421637780,"post_id":12967162,"comment_id":44422010,"body_markdown":"javax.mail.AuthenticationFailedException any solution for android 4.4.4?","body":"javax.mail.AuthenticationFailedException any solution for android 4.4.4?"},{"owner":{"account_id":4340730,"reputation":1485,"user_id":3544007,"accept_rate":57,"display_name":"vijay"},"score":0,"creation_date":1425535716,"post_id":12967162,"comment_id":46005607,"body_markdown":"javax.mail.AuthenticationFailedException error came what can i do?","body":"javax.mail.AuthenticationFailedException error came what can i do?"},{"owner":{"account_id":1624676,"reputation":349,"user_id":1500478,"display_name":"Razel Soco"},"score":2,"creation_date":1454584399,"post_id":12967162,"comment_id":58115094,"body_markdown":"for javax.mail.AuthenticationFailedException , you need to turn on this setting https://www.google.com/settings/security/lesssecureapps","body":"for javax.mail.AuthenticationFailedException , you need to turn on this setting <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">google.com/settings/security/lesssecureapps</a>"},{"owner":{"account_id":976292,"reputation":2932,"user_id":2048740,"display_name":"jgrocha"},"score":1,"creation_date":1465722509,"post_id":12967162,"comment_id":63012942,"body_markdown":"To solve `Could not send email android.os.NetworkOnMainThreadException at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork` it is necessary to see this solution http://stackoverflow.com/questions/25093546/android-os-networkonmainthreadexception-at-android-os-strictmodeandroidblockgua","body":"To solve <code>Could not send email android.os.NetworkOnMainThreadException at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork</code> it is necessary to see this solution <a href=\"http://stackoverflow.com/questions/25093546/android-os-networkonmainthreadexception-at-android-os-strictmodeandroidblockgua\" title=\"android os networkonmainthreadexception at android os strictmodeandroidblockgua\">stackoverflow.com/questions/25093546/&hellip;</a>"},{"owner":{"account_id":3982588,"reputation":4120,"user_id":3284149,"display_name":"Saveen"},"score":0,"creation_date":1490859111,"post_id":12967162,"comment_id":73302693,"body_markdown":"Is there any way to make it important mail or set higher priority using this way?","body":"Is there any way to make it important mail or set higher priority using this way?"}],"tags":[],"owner":{"account_id":1128246,"reputation":441,"user_id":1114965,"accept_rate":86,"display_name":"droopie"},"comment_count":7,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1350618914,"creation_date":1350618914,"answer_id":12967162,"question_id":2020088,"body_markdown":"here is an alt version that also works for me and has attachments (posted already above but complete version unlike the source link, which people posted they cant get it to work since its missing data)\r\n\r\n    import java.util.Date; \r\n    import java.util.Properties; \r\n    import javax.activation.CommandMap; \r\n    import javax.activation.DataHandler; \r\n    import javax.activation.DataSource; \r\n    import javax.activation.FileDataSource; \r\n    import javax.activation.MailcapCommandMap; \r\n    import javax.mail.BodyPart; \r\n    import javax.mail.Multipart; \r\n    import javax.mail.PasswordAuthentication; \r\n    import javax.mail.Session; \r\n    import javax.mail.Transport; \r\n    import javax.mail.internet.InternetAddress; \r\n    import javax.mail.internet.MimeBodyPart; \r\n    import javax.mail.internet.MimeMessage; \r\n    import javax.mail.internet.MimeMultipart; \r\n     \r\n     \r\n    public class Mail extends javax.mail.Authenticator { \r\n      private String _user; \r\n      private String _pass; \r\n     \r\n      private String[] _to; \r\n      private String _from; \r\n     \r\n      private String _port; \r\n      private String _sport; \r\n     \r\n      private String _host; \r\n     \r\n      private String _subject; \r\n      private String _body; \r\n     \r\n      private boolean _auth; \r\n       \r\n      private boolean _debuggable; \r\n     \r\n      private Multipart _multipart; \r\n     \r\n     \r\n      public Mail() { \r\n        _host = &quot;smtp.gmail.com&quot;; // default smtp server \r\n        _port = &quot;465&quot;; // default smtp port \r\n        _sport = &quot;465&quot;; // default socketfactory port \r\n     \r\n        _user = &quot;&quot;; // username \r\n        _pass = &quot;&quot;; // password \r\n        _from = &quot;&quot;; // email sent from \r\n        _subject = &quot;&quot;; // email subject \r\n        _body = &quot;&quot;; // email body \r\n     \r\n        _debuggable = false; // debug mode on or off - default off \r\n        _auth = true; // smtp authentication - default on \r\n     \r\n        _multipart = new MimeMultipart(); \r\n     \r\n        // There is something wrong with MailCap, javamail can not find a handler for the multipart/mixed part, so this bit needs to be added. \r\n        MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\n        mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \r\n        mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \r\n        mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;); \r\n        mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \r\n        mc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;); \r\n        CommandMap.setDefaultCommandMap(mc); \r\n      } \r\n     \r\n      public Mail(String user, String pass) { \r\n        this(); \r\n     \r\n        _user = user; \r\n        _pass = pass; \r\n      } \r\n     \r\n      public boolean send() throws Exception { \r\n        Properties props = _setProperties(); \r\n     \r\n        if(!_user.equals(&quot;&quot;) &amp;&amp; !_pass.equals(&quot;&quot;) &amp;&amp; _to.length &gt; 0 &amp;&amp; !_from.equals(&quot;&quot;) &amp;&amp; !_subject.equals(&quot;&quot;) &amp;&amp; !_body.equals(&quot;&quot;)) { \r\n          Session session = Session.getInstance(props, this); \r\n     \r\n          MimeMessage msg = new MimeMessage(session); \r\n     \r\n          msg.setFrom(new InternetAddress(_from)); \r\n           \r\n          InternetAddress[] addressTo = new InternetAddress[_to.length]; \r\n          for (int i = 0; i &lt; _to.length; i++) { \r\n            addressTo[i] = new InternetAddress(_to[i]); \r\n          } \r\n            msg.setRecipients(MimeMessage.RecipientType.TO, addressTo); \r\n     \r\n          msg.setSubject(_subject); \r\n          msg.setSentDate(new Date()); \r\n     \r\n          // setup message body \r\n          BodyPart messageBodyPart = new MimeBodyPart(); \r\n          messageBodyPart.setText(_body); \r\n          _multipart.addBodyPart(messageBodyPart); \r\n     \r\n          // Put parts in message \r\n          msg.setContent(_multipart); \r\n     \r\n          // send email \r\n          Transport.send(msg); \r\n     \r\n          return true; \r\n        } else { \r\n          return false; \r\n        } \r\n      } \r\n     \r\n      public void addAttachment(String filename) throws Exception { \r\n        BodyPart messageBodyPart = new MimeBodyPart(); \r\n        DataSource source = new FileDataSource(filename); \r\n        messageBodyPart.setDataHandler(new DataHandler(source)); \r\n        messageBodyPart.setFileName(filename); \r\n     \r\n        _multipart.addBodyPart(messageBodyPart); \r\n      } \r\n     \r\n      @Override \r\n      public PasswordAuthentication getPasswordAuthentication() { \r\n        return new PasswordAuthentication(_user, _pass); \r\n      } \r\n     \r\n      private Properties _setProperties() { \r\n        Properties props = new Properties(); \r\n     \r\n        props.put(&quot;mail.smtp.host&quot;, _host); \r\n     \r\n        if(_debuggable) { \r\n          props.put(&quot;mail.debug&quot;, &quot;true&quot;); \r\n        } \r\n     \r\n        if(_auth) { \r\n          props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;); \r\n        } \r\n     \r\n        props.put(&quot;mail.smtp.port&quot;, _port); \r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, _sport); \r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;); \r\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;); \r\n     \r\n        return props; \r\n      } \r\n     \r\n      // the getters and setters \r\n      public String getBody() { \r\n        return _body; \r\n      } \r\n     \r\n      public void setBody(String _body) { \r\n        this._body = _body; \r\n      }\r\n    \r\n      public void setTo(String[] toArr) {\r\n          // TODO Auto-generated method stub\r\n          this._to=toArr;\r\n      }\r\n    \r\n      public void setFrom(String string) {\r\n          // TODO Auto-generated method stub\r\n          this._from=string;\r\n      }\r\n    \r\n      public void setSubject(String string) {\r\n          // TODO Auto-generated method stub\r\n          this._subject=string;\r\n      }  \r\n     \r\n      // more of the getters and setters ….. \r\n    }\r\n\r\nand to call it in an activity...\r\n\r\n    @Override \r\n    public void onCreate(Bundle icicle) { \r\n      super.onCreate(icicle); \r\n      setContentView(R.layout.main); \r\n     \r\n      Button addImage = (Button) findViewById(R.id.send_email); \r\n      addImage.setOnClickListener(new View.OnClickListener() { \r\n        public void onClick(View view) { \r\n          Mail m = new Mail(&quot;gmailusername@gmail.com&quot;, &quot;password&quot;); \r\n     \r\n          String[] toArr = {&quot;bla@bla.com&quot;, &quot;lala@lala.com&quot;}; \r\n          m.setTo(toArr); \r\n          m.setFrom(&quot;wooo@wooo.com&quot;); \r\n          m.setSubject(&quot;This is an email sent using my Mail JavaMail wrapper from an Android device.&quot;); \r\n          m.setBody(&quot;Email body.&quot;); \r\n     \r\n          try { \r\n            m.addAttachment(&quot;/sdcard/filelocation&quot;); \r\n     \r\n            if(m.send()) { \r\n              Toast.makeText(MailApp.this, &quot;Email was sent successfully.&quot;, Toast.LENGTH_LONG).show(); \r\n            } else { \r\n              Toast.makeText(MailApp.this, &quot;Email was not sent.&quot;, Toast.LENGTH_LONG).show(); \r\n            } \r\n          } catch(Exception e) { \r\n            //Toast.makeText(MailApp.this, &quot;There was a problem sending the email.&quot;, Toast.LENGTH_LONG).show(); \r\n            Log.e(&quot;MailApp&quot;, &quot;Could not send email&quot;, e); \r\n          } \r\n        } \r\n      }); \r\n    } ","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>here is an alt version that also works for me and has attachments (posted already above but complete version unlike the source link, which people posted they cant get it to work since its missing data)</p>\n\n<pre><code>import java.util.Date; \nimport java.util.Properties; \nimport javax.activation.CommandMap; \nimport javax.activation.DataHandler; \nimport javax.activation.DataSource; \nimport javax.activation.FileDataSource; \nimport javax.activation.MailcapCommandMap; \nimport javax.mail.BodyPart; \nimport javax.mail.Multipart; \nimport javax.mail.PasswordAuthentication; \nimport javax.mail.Session; \nimport javax.mail.Transport; \nimport javax.mail.internet.InternetAddress; \nimport javax.mail.internet.MimeBodyPart; \nimport javax.mail.internet.MimeMessage; \nimport javax.mail.internet.MimeMultipart; \n\n\npublic class Mail extends javax.mail.Authenticator { \n  private String _user; \n  private String _pass; \n\n  private String[] _to; \n  private String _from; \n\n  private String _port; \n  private String _sport; \n\n  private String _host; \n\n  private String _subject; \n  private String _body; \n\n  private boolean _auth; \n\n  private boolean _debuggable; \n\n  private Multipart _multipart; \n\n\n  public Mail() { \n    _host = \"smtp.gmail.com\"; // default smtp server \n    _port = \"465\"; // default smtp port \n    _sport = \"465\"; // default socketfactory port \n\n    _user = \"\"; // username \n    _pass = \"\"; // password \n    _from = \"\"; // email sent from \n    _subject = \"\"; // email subject \n    _body = \"\"; // email body \n\n    _debuggable = false; // debug mode on or off - default off \n    _auth = true; // smtp authentication - default on \n\n    _multipart = new MimeMultipart(); \n\n    // There is something wrong with MailCap, javamail can not find a handler for the multipart/mixed part, so this bit needs to be added. \n    MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \n    mc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\"); \n    mc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\"); \n    mc.addMailcap(\"text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain\"); \n    mc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\"); \n    mc.addMailcap(\"message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822\"); \n    CommandMap.setDefaultCommandMap(mc); \n  } \n\n  public Mail(String user, String pass) { \n    this(); \n\n    _user = user; \n    _pass = pass; \n  } \n\n  public boolean send() throws Exception { \n    Properties props = _setProperties(); \n\n    if(!_user.equals(\"\") &amp;&amp; !_pass.equals(\"\") &amp;&amp; _to.length &gt; 0 &amp;&amp; !_from.equals(\"\") &amp;&amp; !_subject.equals(\"\") &amp;&amp; !_body.equals(\"\")) { \n      Session session = Session.getInstance(props, this); \n\n      MimeMessage msg = new MimeMessage(session); \n\n      msg.setFrom(new InternetAddress(_from)); \n\n      InternetAddress[] addressTo = new InternetAddress[_to.length]; \n      for (int i = 0; i &lt; _to.length; i++) { \n        addressTo[i] = new InternetAddress(_to[i]); \n      } \n        msg.setRecipients(MimeMessage.RecipientType.TO, addressTo); \n\n      msg.setSubject(_subject); \n      msg.setSentDate(new Date()); \n\n      // setup message body \n      BodyPart messageBodyPart = new MimeBodyPart(); \n      messageBodyPart.setText(_body); \n      _multipart.addBodyPart(messageBodyPart); \n\n      // Put parts in message \n      msg.setContent(_multipart); \n\n      // send email \n      Transport.send(msg); \n\n      return true; \n    } else { \n      return false; \n    } \n  } \n\n  public void addAttachment(String filename) throws Exception { \n    BodyPart messageBodyPart = new MimeBodyPart(); \n    DataSource source = new FileDataSource(filename); \n    messageBodyPart.setDataHandler(new DataHandler(source)); \n    messageBodyPart.setFileName(filename); \n\n    _multipart.addBodyPart(messageBodyPart); \n  } \n\n  @Override \n  public PasswordAuthentication getPasswordAuthentication() { \n    return new PasswordAuthentication(_user, _pass); \n  } \n\n  private Properties _setProperties() { \n    Properties props = new Properties(); \n\n    props.put(\"mail.smtp.host\", _host); \n\n    if(_debuggable) { \n      props.put(\"mail.debug\", \"true\"); \n    } \n\n    if(_auth) { \n      props.put(\"mail.smtp.auth\", \"true\"); \n    } \n\n    props.put(\"mail.smtp.port\", _port); \n    props.put(\"mail.smtp.socketFactory.port\", _sport); \n    props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\"); \n    props.put(\"mail.smtp.socketFactory.fallback\", \"false\"); \n\n    return props; \n  } \n\n  // the getters and setters \n  public String getBody() { \n    return _body; \n  } \n\n  public void setBody(String _body) { \n    this._body = _body; \n  }\n\n  public void setTo(String[] toArr) {\n      // TODO Auto-generated method stub\n      this._to=toArr;\n  }\n\n  public void setFrom(String string) {\n      // TODO Auto-generated method stub\n      this._from=string;\n  }\n\n  public void setSubject(String string) {\n      // TODO Auto-generated method stub\n      this._subject=string;\n  }  \n\n  // more of the getters and setters ….. \n}\n</code></pre>\n\n<p>and to call it in an activity...</p>\n\n<pre><code>@Override \npublic void onCreate(Bundle icicle) { \n  super.onCreate(icicle); \n  setContentView(R.layout.main); \n\n  Button addImage = (Button) findViewById(R.id.send_email); \n  addImage.setOnClickListener(new View.OnClickListener() { \n    public void onClick(View view) { \n      Mail m = new Mail(\"gmailusername@gmail.com\", \"password\"); \n\n      String[] toArr = {\"bla@bla.com\", \"lala@lala.com\"}; \n      m.setTo(toArr); \n      m.setFrom(\"wooo@wooo.com\"); \n      m.setSubject(\"This is an email sent using my Mail JavaMail wrapper from an Android device.\"); \n      m.setBody(\"Email body.\"); \n\n      try { \n        m.addAttachment(\"/sdcard/filelocation\"); \n\n        if(m.send()) { \n          Toast.makeText(MailApp.this, \"Email was sent successfully.\", Toast.LENGTH_LONG).show(); \n        } else { \n          Toast.makeText(MailApp.this, \"Email was not sent.\", Toast.LENGTH_LONG).show(); \n        } \n      } catch(Exception e) { \n        //Toast.makeText(MailApp.this, \"There was a problem sending the email.\", Toast.LENGTH_LONG).show(); \n        Log.e(\"MailApp\", \"Could not send email\", e); \n      } \n    } \n  }); \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577402,"reputation":13270,"user_id":1463518,"accept_rate":60,"display_name":"Ryan Heitner"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1405400607,"creation_date":1353405826,"answer_id":13470775,"question_id":2020088,"body_markdown":"In order to help those getting a Network On Main Thread Exception with an SDK Target &gt;9. This is using droopie&#39;s code above but will work similarly for any.\r\n\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    \r\n    StrictMode.setThreadPolicy(policy); \r\n    \r\n    android.os.NetworkOnMainThreadException\r\n\r\n\r\nYou can use AsyncTask as below\r\n\r\n    public void onClickMail(View view) {\r\n\t\tnew SendEmailAsyncTask().execute();\r\n\t}\r\n\t\r\n\tclass SendEmailAsyncTask extends AsyncTask &lt;Void, Void, Boolean&gt; {\r\n\t\tMail m = new Mail(&quot;from@gmail.com&quot;, &quot;my password&quot;);\r\n\r\n\t    public SendEmailAsyncTask() {\r\n\t        if (BuildConfig.DEBUG) Log.v(SendEmailAsyncTask.class.getName(), &quot;SendEmailAsyncTask()&quot;);\r\n\t        String[] toArr = { &quot;to mail@gmail.com&quot;};\r\n\t\t\tm.setTo(toArr);\r\n\t\t\tm.setFrom(&quot;from mail@gmail.com&quot;);\r\n\t\t\tm.setSubject(&quot;Email from Android&quot;);\r\n\t\t\tm.setBody(&quot;body.&quot;);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    protected Boolean doInBackground(Void... params) {\r\n\t        if (BuildConfig.DEBUG) Log.v(SendEmailAsyncTask.class.getName(), &quot;doInBackground()&quot;);\r\n\t        try {\r\n\t            m.send();\r\n\t            return true;\r\n\t        } catch (AuthenticationFailedException e) {\r\n\t            Log.e(SendEmailAsyncTask.class.getName(), &quot;Bad account details&quot;);\r\n\t            e.printStackTrace();\r\n\t            return false;\r\n\t        } catch (MessagingException e) {\r\n\t            Log.e(SendEmailAsyncTask.class.getName(), m.getTo(null) + &quot;failed&quot;);\r\n\t            e.printStackTrace();\r\n\t            return false;\r\n\t        } catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t    }\r\n\r\n\r\n","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>In order to help those getting a Network On Main Thread Exception with an SDK Target >9. This is using droopie's code above but will work similarly for any.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n\nStrictMode.setThreadPolicy(policy); \n\nandroid.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>You can use AsyncTask as below</p>\n\n<pre><code>public void onClickMail(View view) {\n    new SendEmailAsyncTask().execute();\n}\n\nclass SendEmailAsyncTask extends AsyncTask &lt;Void, Void, Boolean&gt; {\n    Mail m = new Mail(\"from@gmail.com\", \"my password\");\n\n    public SendEmailAsyncTask() {\n        if (BuildConfig.DEBUG) Log.v(SendEmailAsyncTask.class.getName(), \"SendEmailAsyncTask()\");\n        String[] toArr = { \"to mail@gmail.com\"};\n        m.setTo(toArr);\n        m.setFrom(\"from mail@gmail.com\");\n        m.setSubject(\"Email from Android\");\n        m.setBody(\"body.\");\n    }\n\n    @Override\n    protected Boolean doInBackground(Void... params) {\n        if (BuildConfig.DEBUG) Log.v(SendEmailAsyncTask.class.getName(), \"doInBackground()\");\n        try {\n            m.send();\n            return true;\n        } catch (AuthenticationFailedException e) {\n            Log.e(SendEmailAsyncTask.class.getName(), \"Bad account details\");\n            e.printStackTrace();\n            return false;\n        } catch (MessagingException e) {\n            Log.e(SendEmailAsyncTask.class.getName(), m.getTo(null) + \"failed\");\n            e.printStackTrace();\n            return false;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371526091,"creation_date":1371526091,"answer_id":17160077,"question_id":2020088,"body_markdown":"Did you consider using Apache Commons Net ? Since 3.3, just one jar (and you can depend on it using gradle or maven) and you&#39;re done : http://blog.dahanne.net/2013/06/17/sending-a-mail-in-java-and-android-with-apache-commons-net/","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Did you consider using Apache Commons Net ? Since 3.3, just one jar (and you can depend on it using gradle or maven) and you're done : <a href=\"http://blog.dahanne.net/2013/06/17/sending-a-mail-in-java-and-android-with-apache-commons-net/\" rel=\"nofollow\">http://blog.dahanne.net/2013/06/17/sending-a-mail-in-java-and-android-with-apache-commons-net/</a></p>\n"},{"tags":[],"owner":{"account_id":3702180,"reputation":467,"user_id":3081554,"accept_rate":100,"display_name":"dhiraj kakran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393344940,"creation_date":1393329005,"answer_id":22013343,"question_id":2020088,"body_markdown":"     Add jar files mail.jar,activation.jar,additionnal.jar\r\n     \r\n     String sub=&quot;Thank you for your online registration&quot; ; \r\n     Mail m = new Mail(&quot;emailid&quot;, &quot;password&quot;); \r\n\r\n     String[] toArr = {&quot;ekkatrainfo@gmail.com&quot;,sEmailId};\r\n     m.setFrom(&quot;ekkatrainfo@gmail.com&quot;); \r\n\t\t \t\t\t\t        \r\n         m.setTo(toArr);\r\n         m.setSubject(sub);\r\n        m.setBody(msg);\r\n\t\t \t\t\t\t    \r\n\r\n\t\t \t\t\t      \r\n\t\t \t\t\t     try{\r\n\t\t \t\t\t\t        \r\n\r\n\t\t \t\t\t\t        if(m.send()) { \r\n\t\t \t\t\t\t         \r\n\t\t \t\t\t\t        } else { \r\n\t\t \t\t\t\t          \r\n\t\t \t\t\t\t        } \r\n\t\t \t\t\t\t      } catch(Exception e) { \r\n\t\t \t\t\t\t          \r\n\t\t \t\t\t\t        Log.e(&quot;MailApp&quot;, &quot;Could not send email&quot;, e); \r\n\t\t \t\t\t\t      } \r\n\r\n      package com.example.ekktra;\r\n\r\n       import java.util.Date;\r\n       import java.util.Properties;\r\n\r\n       import javax.activation.CommandMap;\r\n       import javax.activation.DataHandler;\r\n       import javax.activation.DataSource;\r\n       import javax.activation.FileDataSource;\r\n       import javax.activation.MailcapCommandMap;\r\n       import javax.mail.BodyPart;\r\n       import javax.mail.Multipart;\r\n       import javax.mail.PasswordAuthentication;\r\n       import javax.mail.Session;\r\n       import javax.mail.Transport;\r\n       import javax.mail.internet.InternetAddress;\r\n       import javax.mail.internet.MimeBodyPart;\r\n       import javax.mail.internet.MimeMessage;\r\n       import javax.mail.internet.MimeMultipart;\r\n\r\n       public class Mail extends javax.mail.Authenticator { \r\n         private String _user; \r\n         private String _pass; \r\n\r\n         private String[] _to; \r\n  \r\n         private String _from; \r\n\r\n         private String _port; \r\n         private String _sport; \r\n   \r\n         private String _host; \r\n\r\n         private String _subject; \r\n         private String _body; \r\n\r\n         private boolean _auth; \r\n\r\n         private boolean _debuggable; \r\n\r\n         private Multipart _multipart; \r\n  \r\n\r\n       public Mail() { \r\n          _host = &quot;smtp.gmail.com&quot;; // default smtp server \r\n          _port = &quot;465&quot;; // default smtp port \r\n          _sport = &quot;465&quot;; // default socketfactory port \r\n\r\n          _user = &quot;&quot;; // username \r\n          _pass = &quot;&quot;; // password \r\n          _from = &quot;&quot;; // email sent from \r\n          _subject = &quot;&quot;; // email subject \r\n          _body = &quot;&quot;; // email body \r\n\r\n          _debuggable = false; // debug mode on or off - default off \r\n          _auth = true; // smtp authentication - default on \r\n\r\n          _multipart = new MimeMultipart(); \r\n\r\n          // There is something wrong with MailCap, javamail can not find a handler for the        multipart/mixed part, so this bit needs to be added. \r\n          MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\n       mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \r\n       mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \r\n       mc.addMailcap(&quot;text/plain;; x-java-content-  handler=com.sun.mail.handlers.text_plain&quot;); \r\n       mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \r\n       mc.addMailcap(&quot;message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822&quot;); \r\n        CommandMap.setDefaultCommandMap(mc); \r\n       } \r\n\r\n     public Mail(String user, String pass) { \r\n      this(); \r\n\r\n      _user = user; \r\n       _pass = pass; \r\n     } \r\n\r\n    public boolean send() throws Exception { \r\n       Properties props = _setProperties(); \r\n\r\n      if(!_user.equals(&quot;&quot;) &amp;&amp; !_pass.equals(&quot;&quot;) &amp;&amp; _to.length &gt; 0 &amp;&amp; !_from.equals(&quot;&quot;) &amp;&amp;   !_subject.equals(&quot;&quot;) /*&amp;&amp; !_body.equals(&quot;&quot;)*/) { \r\n        Session session = Session.getInstance(props, this); \r\n\r\n        MimeMessage msg = new MimeMessage(session); \r\n  \r\n         msg.setFrom(new InternetAddress(_from)); \r\n\r\n        InternetAddress[] addressTo = new InternetAddress[_to.length]; \r\n         for (int i = 0; i &lt; _to.length; i++) { \r\n          addressTo[i] = new InternetAddress(_to[i]); \r\n        } \r\n          msg.setRecipients(MimeMessage.RecipientType.TO, addressTo); \r\n\r\n        msg.setSubject(_subject); \r\n        msg.setSentDate(new Date()); \r\n\r\n      // setup message body \r\n      BodyPart messageBodyPart = new MimeBodyPart(); \r\n        messageBodyPart.setText(_body); \r\n        _multipart.addBodyPart(messageBodyPart); \r\n\r\n         // Put parts in message \r\n        msg.setContent(_multipart); \r\n\r\n        // send email \r\n        Transport.send(msg); \r\n\r\n        return true; \r\n       } else { \r\n         return false; \r\n       } \r\n      } \r\n\r\n       public void addAttachment(String filename) throws Exception { \r\n        BodyPart messageBodyPart = new MimeBodyPart(); \r\n        DataSource source = new FileDataSource(filename); \r\n          messageBodyPart.setDataHandler(new DataHandler(source)); \r\n        messageBodyPart.setFileName(filename); \r\n\r\n       _multipart.addBodyPart(messageBodyPart); \r\n     } \r\n \r\n      @Override \r\n      public PasswordAuthentication getPasswordAuthentication() { \r\n         return new PasswordAuthentication(_user, _pass); \r\n      } \r\n\r\n       private Properties _setProperties() { \r\n       Properties props = new Properties(); \r\n\r\n        props.put(&quot;mail.smtp.host&quot;, _host); \r\n\r\n      if(_debuggable) { \r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;); \r\n      } \r\n\r\n      if(_auth) { \r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;); \r\n       } \r\n\r\n        props.put(&quot;mail.smtp.port&quot;, _port); \r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, _sport); \r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;); \r\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;); \r\n\r\n        return props; \r\n       } \r\n\r\n       // the getters and setters \r\n      public String getBody() { \r\n       return _body; \r\n     } \r\n\r\n     public void setBody(String _body) { \r\n      this._body = _body; \r\n     }\r\n\r\n      public void setTo(String[] toArr) {\r\n         // TODO Auto-generated method stub\r\n        this._to=toArr;\r\n     }\r\n\r\n    public void setFrom(String string) {\r\n        // TODO Auto-generated method stub\r\n        this._from=string;\r\n    }\r\n\r\n     public void setSubject(String string) {\r\n        // TODO Auto-generated method stub\r\n        this._subject=string;\r\n      }  \r\n  \r\n        \r\n       }","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<pre><code> Add jar files mail.jar,activation.jar,additionnal.jar\n\n String sub=\"Thank you for your online registration\" ; \n Mail m = new Mail(\"emailid\", \"password\"); \n\n String[] toArr = {\"ekkatrainfo@gmail.com\",sEmailId};\n m.setFrom(\"ekkatrainfo@gmail.com\"); \n\n     m.setTo(toArr);\n     m.setSubject(sub);\n    m.setBody(msg);\n\n\n\n                     try{\n\n\n                            if(m.send()) { \n\n                            } else { \n\n                            } \n                          } catch(Exception e) { \n\n                            Log.e(\"MailApp\", \"Could not send email\", e); \n                          } \n\n  package com.example.ekktra;\n\n   import java.util.Date;\n   import java.util.Properties;\n\n   import javax.activation.CommandMap;\n   import javax.activation.DataHandler;\n   import javax.activation.DataSource;\n   import javax.activation.FileDataSource;\n   import javax.activation.MailcapCommandMap;\n   import javax.mail.BodyPart;\n   import javax.mail.Multipart;\n   import javax.mail.PasswordAuthentication;\n   import javax.mail.Session;\n   import javax.mail.Transport;\n   import javax.mail.internet.InternetAddress;\n   import javax.mail.internet.MimeBodyPart;\n   import javax.mail.internet.MimeMessage;\n   import javax.mail.internet.MimeMultipart;\n\n   public class Mail extends javax.mail.Authenticator { \n     private String _user; \n     private String _pass; \n\n     private String[] _to; \n\n     private String _from; \n\n     private String _port; \n     private String _sport; \n\n     private String _host; \n\n     private String _subject; \n     private String _body; \n\n     private boolean _auth; \n\n     private boolean _debuggable; \n\n     private Multipart _multipart; \n\n\n   public Mail() { \n      _host = \"smtp.gmail.com\"; // default smtp server \n      _port = \"465\"; // default smtp port \n      _sport = \"465\"; // default socketfactory port \n\n      _user = \"\"; // username \n      _pass = \"\"; // password \n      _from = \"\"; // email sent from \n      _subject = \"\"; // email subject \n      _body = \"\"; // email body \n\n      _debuggable = false; // debug mode on or off - default off \n      _auth = true; // smtp authentication - default on \n\n      _multipart = new MimeMultipart(); \n\n      // There is something wrong with MailCap, javamail can not find a handler for the        multipart/mixed part, so this bit needs to be added. \n      MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \n   mc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\"); \n   mc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\"); \n   mc.addMailcap(\"text/plain;; x-java-content-  handler=com.sun.mail.handlers.text_plain\"); \n   mc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\"); \n   mc.addMailcap(\"message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822\"); \n    CommandMap.setDefaultCommandMap(mc); \n   } \n\n public Mail(String user, String pass) { \n  this(); \n\n  _user = user; \n   _pass = pass; \n } \n\npublic boolean send() throws Exception { \n   Properties props = _setProperties(); \n\n  if(!_user.equals(\"\") &amp;&amp; !_pass.equals(\"\") &amp;&amp; _to.length &gt; 0 &amp;&amp; !_from.equals(\"\") &amp;&amp;   !_subject.equals(\"\") /*&amp;&amp; !_body.equals(\"\")*/) { \n    Session session = Session.getInstance(props, this); \n\n    MimeMessage msg = new MimeMessage(session); \n\n     msg.setFrom(new InternetAddress(_from)); \n\n    InternetAddress[] addressTo = new InternetAddress[_to.length]; \n     for (int i = 0; i &lt; _to.length; i++) { \n      addressTo[i] = new InternetAddress(_to[i]); \n    } \n      msg.setRecipients(MimeMessage.RecipientType.TO, addressTo); \n\n    msg.setSubject(_subject); \n    msg.setSentDate(new Date()); \n\n  // setup message body \n  BodyPart messageBodyPart = new MimeBodyPart(); \n    messageBodyPart.setText(_body); \n    _multipart.addBodyPart(messageBodyPart); \n\n     // Put parts in message \n    msg.setContent(_multipart); \n\n    // send email \n    Transport.send(msg); \n\n    return true; \n   } else { \n     return false; \n   } \n  } \n\n   public void addAttachment(String filename) throws Exception { \n    BodyPart messageBodyPart = new MimeBodyPart(); \n    DataSource source = new FileDataSource(filename); \n      messageBodyPart.setDataHandler(new DataHandler(source)); \n    messageBodyPart.setFileName(filename); \n\n   _multipart.addBodyPart(messageBodyPart); \n } \n\n  @Override \n  public PasswordAuthentication getPasswordAuthentication() { \n     return new PasswordAuthentication(_user, _pass); \n  } \n\n   private Properties _setProperties() { \n   Properties props = new Properties(); \n\n    props.put(\"mail.smtp.host\", _host); \n\n  if(_debuggable) { \n    props.put(\"mail.debug\", \"true\"); \n  } \n\n  if(_auth) { \n    props.put(\"mail.smtp.auth\", \"true\"); \n   } \n\n    props.put(\"mail.smtp.port\", _port); \n    props.put(\"mail.smtp.socketFactory.port\", _sport); \n    props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\"); \n    props.put(\"mail.smtp.socketFactory.fallback\", \"false\"); \n\n    return props; \n   } \n\n   // the getters and setters \n  public String getBody() { \n   return _body; \n } \n\n public void setBody(String _body) { \n  this._body = _body; \n }\n\n  public void setTo(String[] toArr) {\n     // TODO Auto-generated method stub\n    this._to=toArr;\n }\n\npublic void setFrom(String string) {\n    // TODO Auto-generated method stub\n    this._from=string;\n}\n\n public void setSubject(String string) {\n    // TODO Auto-generated method stub\n    this._subject=string;\n  }  \n\n\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4028109,"reputation":492,"user_id":3315438,"display_name":"Rashid"},"score":0,"creation_date":1399356712,"post_id":23487130,"comment_id":36014748,"body_markdown":"Add the jar files activation.jar , additionnal.jar , javax.mail.jar","body":"Add the jar files activation.jar , additionnal.jar , javax.mail.jar"},{"owner":{"account_id":3111433,"reputation":1063,"user_id":2633085,"accept_rate":50,"display_name":"kodartcha"},"score":1,"creation_date":1399974886,"post_id":23487130,"comment_id":36279273,"body_markdown":"I get the following error when trying your method: 05-13 11:51:50.454: E/AndroidRuntime(4273): android.os.NetworkOnMainThreadException\n05-13 11:51:50.454: E/AndroidRuntime(4273): at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1156). I have internet permissions. Any advice?","body":"I get the following error when trying your method: 05-13 11:51:50.454: E/AndroidRuntime(4273): android.os.NetworkOnMainThreadException 05-13 11:51:50.454: E/AndroidRuntime(4273): at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(Stri&zwnj;&#8203;ctMode.java:1156). I have internet permissions. Any advice?"},{"owner":{"account_id":4028109,"reputation":492,"user_id":3315438,"display_name":"Rashid"},"score":1,"creation_date":1399975005,"post_id":23487130,"comment_id":36279345,"body_markdown":"Try calling the method inside a thread... Its a time consuming process...it cannot run on the main thread...","body":"Try calling the method inside a thread... Its a time consuming process...it cannot run on the main thread..."},{"owner":{"account_id":1670964,"reputation":905,"user_id":1537443,"accept_rate":80,"display_name":"Syamantak Basu"},"score":0,"creation_date":1400741362,"post_id":23487130,"comment_id":36607505,"body_markdown":"Am using exactly this code in my Android Project.The mail is working fine for me. But the attachment part is not working. Am trying to attach a .txt file.But the mail am receiving consists of an unknown type of file that am unable to open. Please help.","body":"Am using exactly this code in my Android Project.The mail is working fine for me. But the attachment part is not working. Am trying to attach a .txt file.But the mail am receiving consists of an unknown type of file that am unable to open. Please help."},{"owner":{"account_id":1670964,"reputation":905,"user_id":1537443,"accept_rate":80,"display_name":"Syamantak Basu"},"score":0,"creation_date":1400742621,"post_id":23487130,"comment_id":36608212,"body_markdown":"@Rashid ofcourse I did that. When I was using Intent previously,my attached file was coming right.","body":"@Rashid ofcourse I did that. When I was using Intent previously,my attached file was coming right."}],"tags":[],"owner":{"account_id":4028109,"reputation":492,"user_id":3315438,"display_name":"Rashid"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1399356657,"creation_date":1399356657,"answer_id":23487130,"question_id":2020088,"body_markdown":"For sending a mail with attachment..\r\n\r\n    public class SendAttachment{\r\n                        public static void main(String [] args){ \r\n                 //to address\r\n                        String to=&quot;abc@abc.com&quot;;//change accordingly\r\n                        //from address\r\n                        final String user=&quot;efg@efg.com&quot;;//change accordingly\r\n                        final String password=&quot;password&quot;;//change accordingly \r\n                         MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\r\n                       mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\r\n                      mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\r\n                      mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\r\n                      mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\r\n                      mc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\r\n                      CommandMap.setDefaultCommandMap(mc); \r\n                      //1) get the session object   \r\n                      Properties properties = System.getProperties();\r\n                      properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;); \r\n                      properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n                        properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n                        properties.put(&quot;mail.smtp.socketFactory.class&quot;,\r\n                                &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n                        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                        properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n    \r\n                      Session session = Session.getDefaultInstance(properties,\r\n                       new javax.mail.Authenticator() {\r\n                       protected PasswordAuthentication getPasswordAuthentication() {\r\n                       return new PasswordAuthentication(user,password);\r\n                       }\r\n                      });\r\n    \r\n                      //2) compose message   \r\n                      try{ \r\n                        MimeMessage message = new MimeMessage(session);\r\n                        message.setFrom(new InternetAddress(user));\r\n                        message.addRecipient(Message.RecipientType.TO,new InternetAddress(to));\r\n                        message.setSubject(&quot;Hii&quot;); \r\n                        //3) create MimeBodyPart object and set your message content    \r\n                        BodyPart messageBodyPart1 = new MimeBodyPart();\r\n                        messageBodyPart1.setText(&quot;How is This&quot;); \r\n                        //4) create new MimeBodyPart object and set DataHandler object to this object    \r\n                        MimeBodyPart messageBodyPart2 = new MimeBodyPart();\r\n                    //Location of file to be attached\r\n                        String filename = Environment.getExternalStorageDirectory().getPath()+&quot;/R2832.zip&quot;;//change accordingly\r\n                        DataSource source = new FileDataSource(filename);\r\n                        messageBodyPart2.setDataHandler(new DataHandler(source));\r\n                        messageBodyPart2.setFileName(&quot;Hello&quot;); \r\n                        //5) create Multipart object and add MimeBodyPart objects to this object    \r\n                        Multipart multipart = new MimeMultipart();\r\n                        multipart.addBodyPart(messageBodyPart1);\r\n                        multipart.addBodyPart(messageBodyPart2); \r\n                        //6) set the multiplart object to the message object\r\n                        message.setContent(multipart ); \r\n                        //7) send message \r\n                        Transport.send(message); \r\n                       System.out.println(&quot;MESSAGE SENT....&quot;);\r\n                       }catch (MessagingException ex) {ex.printStackTrace();}\r\n                      }\r\n                    }","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>For sending a mail with attachment..</p>\n\n<pre><code>public class SendAttachment{\n                    public static void main(String [] args){ \n             //to address\n                    String to=\"abc@abc.com\";//change accordingly\n                    //from address\n                    final String user=\"efg@efg.com\";//change accordingly\n                    final String password=\"password\";//change accordingly \n                     MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\n                   mc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\");\n                  mc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\");\n                  mc.addMailcap(\"text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain\");\n                  mc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\");\n                  mc.addMailcap(\"message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822\");\n                  CommandMap.setDefaultCommandMap(mc); \n                  //1) get the session object   \n                  Properties properties = System.getProperties();\n                  properties.put(\"mail.smtp.port\", \"465\"); \n                  properties.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n                    properties.put(\"mail.smtp.socketFactory.port\", \"465\");\n                    properties.put(\"mail.smtp.socketFactory.class\",\n                            \"javax.net.ssl.SSLSocketFactory\");\n                    properties.put(\"mail.smtp.auth\", \"true\");\n                    properties.put(\"mail.smtp.port\", \"465\");\n\n                  Session session = Session.getDefaultInstance(properties,\n                   new javax.mail.Authenticator() {\n                   protected PasswordAuthentication getPasswordAuthentication() {\n                   return new PasswordAuthentication(user,password);\n                   }\n                  });\n\n                  //2) compose message   \n                  try{ \n                    MimeMessage message = new MimeMessage(session);\n                    message.setFrom(new InternetAddress(user));\n                    message.addRecipient(Message.RecipientType.TO,new InternetAddress(to));\n                    message.setSubject(\"Hii\"); \n                    //3) create MimeBodyPart object and set your message content    \n                    BodyPart messageBodyPart1 = new MimeBodyPart();\n                    messageBodyPart1.setText(\"How is This\"); \n                    //4) create new MimeBodyPart object and set DataHandler object to this object    \n                    MimeBodyPart messageBodyPart2 = new MimeBodyPart();\n                //Location of file to be attached\n                    String filename = Environment.getExternalStorageDirectory().getPath()+\"/R2832.zip\";//change accordingly\n                    DataSource source = new FileDataSource(filename);\n                    messageBodyPart2.setDataHandler(new DataHandler(source));\n                    messageBodyPart2.setFileName(\"Hello\"); \n                    //5) create Multipart object and add MimeBodyPart objects to this object    \n                    Multipart multipart = new MimeMultipart();\n                    multipart.addBodyPart(messageBodyPart1);\n                    multipart.addBodyPart(messageBodyPart2); \n                    //6) set the multiplart object to the message object\n                    message.setContent(multipart ); \n                    //7) send message \n                    Transport.send(message); \n                   System.out.println(\"MESSAGE SENT....\");\n                   }catch (MessagingException ex) {ex.printStackTrace();}\n                  }\n                }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":332459,"reputation":89,"user_id":657778,"display_name":"Paulo Matuki"},"score":2,"creation_date":1415710471,"post_id":24120274,"comment_id":42290111,"body_markdown":"That is a good point. But can you please give an example of alternate email provider that worked with code (only replacing smtp and login details). I&#39;ve tried it with hushmail and email.com but without success. Will keep trying with others.","body":"That is a good point. But can you please give an example of alternate email provider that worked with code (only replacing smtp and login details). I&#39;ve tried it with hushmail and email.com but without success. Will keep trying with others."},{"owner":{"account_id":1815527,"reputation":4094,"user_id":1650683,"accept_rate":76,"display_name":"Wesley"},"score":0,"creation_date":1427189287,"post_id":24120274,"comment_id":46664547,"body_markdown":"@PauloMatuki , @Mark , Hi, have you guys solve the `suspicioud activity` problem?","body":"@PauloMatuki , @Mark , Hi, have you guys solve the <code>suspicioud activity</code> problem?"}],"tags":[],"owner":{"account_id":1887302,"reputation":1370,"user_id":1706269,"accept_rate":64,"display_name":"Mark"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1402316807,"creation_date":1402316807,"answer_id":24120274,"question_id":2020088,"body_markdown":"Word of warning if using &quot;smtp.gmail.com&quot; as the default smtp server. \r\n\r\nGoogle will force you to change your linked email account password frequently due to their over zealous &quot;suspicious activity&quot; polices. In essence it treats repeated smtp requests from different countries within a short time frame as &quot;suspicious activity&quot;. As they assume you (the email account holder) can only be in one country at a time.\r\n\r\nWhen google systems detect &quot;suspicious activity&quot; it will prevent further emails until you change the password. As you will have hard coded the password into the app you have to re-release the app each time this happens, not ideal. This happened 3 times in a week to me, I even stored the password on another server and dynamically fetched the password each time google forced me to change it.\r\n\r\nSo I recommend using one of the many free smtp providers instead of &quot;smtp.gmail.com&quot; to avoid this security problem. Use the same code but change &quot;smtp.gmail.com&quot; to your new smtp forwarding host.","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Word of warning if using \"smtp.gmail.com\" as the default smtp server. </p>\n\n<p>Google will force you to change your linked email account password frequently due to their over zealous \"suspicious activity\" polices. In essence it treats repeated smtp requests from different countries within a short time frame as \"suspicious activity\". As they assume you (the email account holder) can only be in one country at a time.</p>\n\n<p>When google systems detect \"suspicious activity\" it will prevent further emails until you change the password. As you will have hard coded the password into the app you have to re-release the app each time this happens, not ideal. This happened 3 times in a week to me, I even stored the password on another server and dynamically fetched the password each time google forced me to change it.</p>\n\n<p>So I recommend using one of the many free smtp providers instead of \"smtp.gmail.com\" to avoid this security problem. Use the same code but change \"smtp.gmail.com\" to your new smtp forwarding host.</p>\n"},{"tags":[],"owner":{"account_id":4270142,"reputation":9864,"user_id":3492139,"display_name":"ngrashia"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406713050,"creation_date":1406713050,"answer_id":25033439,"question_id":2020088,"body_markdown":"Without user intervention, you can send as follows:\r\n\r\n  1. Send email from client apk. Here mail.jar, activation.jar is required to send java email. If these jars are added, it might increase the APK Size. \r\n\r\n  2. Alternatively, You can use a web-service at the server side code, which will use the same mail.jar and activation.jar to send email. You can call the web-service via asynctask and send email. Refer same link. \r\n\r\n(But, you will need to know the credentials of the mail account)\r\n\r\n\r\n[1]:&lt;http://stackoverflow.com/a/2033124/3492139&gt;","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Without user intervention, you can send as follows:</p>\n\n<ol>\n<li><p>Send email from client apk. Here mail.jar, activation.jar is required to send java email. If these jars are added, it might increase the APK Size. </p></li>\n<li><p>Alternatively, You can use a web-service at the server side code, which will use the same mail.jar and activation.jar to send email. You can call the web-service via asynctask and send email. Refer same link. </p></li>\n</ol>\n\n<p>(But, you will need to know the credentials of the mail account)</p>\n"},{"tags":[],"owner":{"account_id":2748644,"reputation":6153,"user_id":2368492,"display_name":"Zephyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411752040,"creation_date":1411752040,"answer_id":26064996,"question_id":2020088,"body_markdown":"In case that you are demanded to keep the jar library as small as possible, you can include the SMTP/POP3/IMAP function separately to avoid the &quot;too many methods in the dex&quot; problem. \r\n\r\nYou can choose the wanted jar libraries from [the javanet web page][1], for example, mailapi.jar + imap.jar can enable you to access icloud, hotmail mail server in IMAP protocol. (with the help of additional.jar and activation.jar)\r\n\r\n  [1]: https://java.net/projects/javamail/pages/Home","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>In case that you are demanded to keep the jar library as small as possible, you can include the SMTP/POP3/IMAP function separately to avoid the \"too many methods in the dex\" problem. </p>\n\n<p>You can choose the wanted jar libraries from <a href=\"https://java.net/projects/javamail/pages/Home\" rel=\"nofollow\">the javanet web page</a>, for example, mailapi.jar + imap.jar can enable you to access icloud, hotmail mail server in IMAP protocol. (with the help of additional.jar and activation.jar)</p>\n"},{"tags":[],"owner":{"account_id":5325668,"reputation":391,"user_id":4247799,"display_name":"Omkar Gokhale"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423035130,"creation_date":1417440596,"answer_id":27229529,"question_id":2020088,"body_markdown":"Those who are getting `ClassDefNotFoundError` try to move that Three jar files to lib folder of your Project,it worked for me!!","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Those who are getting <code>ClassDefNotFoundError</code> try to move that Three jar files to lib folder of your Project,it worked for me!!</p>\n"},{"tags":[],"owner":{"account_id":3629118,"reputation":2463,"user_id":3025852,"accept_rate":56,"display_name":"NoSixties"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443513173,"creation_date":1424774369,"answer_id":28693560,"question_id":2020088,"body_markdown":"I tried using the code that @Vinayak B submitted. However I&#39;m getting an error saying: No provider for smtp\r\n\r\nI created a new question for this with more information [**HERE**][1]\r\n\r\nI was able to fix it myself after all. I had to use an other [mail.jar][2]\r\nand I had to make sure my &quot;[access for less secure apps][3]&quot; was turned on.\r\n\r\nI hope this helps anyone who has the same problem. With this done, this piece of code works on the google glass too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28693325/sending-email-in-google-glass\r\n  [2]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-eeplat-419426.html#javamail-1.4.7-oth-JPR\r\n  [3]: https://www.google.com/settings/security/lesssecureapps","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>I tried using the code that @Vinayak B submitted. However I'm getting an error saying: No provider for smtp</p>\n\n<p>I created a new question for this with more information <a href=\"https://stackoverflow.com/questions/28693325/sending-email-in-google-glass\"><strong>HERE</strong></a></p>\n\n<p>I was able to fix it myself after all. I had to use an other <a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-eeplat-419426.html#javamail-1.4.7-oth-JPR\" rel=\"nofollow noreferrer\">mail.jar</a>\nand I had to make sure my \"<a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">access for less secure apps</a>\" was turned on.</p>\n\n<p>I hope this helps anyone who has the same problem. With this done, this piece of code works on the google glass too.</p>\n"},{"comments":[{"owner":{"account_id":340420,"reputation":956,"user_id":1898523,"accept_rate":75,"display_name":"wrapperapps"},"score":0,"creation_date":1449037889,"post_id":29456695,"comment_id":55827699,"body_markdown":"that maven/gradle line didn&#39;t work for me.\n\nthe 1.5.4 download from your bitbucket also didn&#39;t work for me. it failed at the same line as regular non-Android javamail does, which is MimeMessage.setText(text).","body":"that maven/gradle line didn&#39;t work for me.  the 1.5.4 download from your bitbucket also didn&#39;t work for me. it failed at the same line as regular non-Android javamail does, which is MimeMessage.setText(text)."},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":0,"creation_date":1453555246,"post_id":29456695,"comment_id":57658400,"body_markdown":"@wrapperapps sorry to hear that. &quot;it works for me!&quot;. Feel free to open an issue on the bitbucket repo","body":"@wrapperapps sorry to hear that. &quot;it works for me!&quot;. Feel free to open an issue on the bitbucket repo"}],"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1480366548,"creation_date":1428232575,"answer_id":29456695,"question_id":2020088,"body_markdown":"Edit: JavaMail 1.5.5 [claims to support Android][1], so you shouldn&#39;t need anything else.\r\n\r\n&lt;strike&gt;\r\nI&#39;ve ported the latest JavaMail (1.5.4) to Android. It&#39;s available in Maven Central, just add the following to `build.gradle`~~\r\n\r\n    compile &#39;eu.ocathain.com.sun.mail:javax.mail:1.5.4&#39;\r\n\r\nYou can then follow the official [tutorial][2].\r\n\r\nSource code is available here: https://bitbucket.org/artbristol/javamail-forked-android\r\n\r\n\r\n&lt;/strike&gt;\r\n\r\n\r\n  [1]: https://java.net/projects/javamail/pages/Android\r\n  [2]: http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/javamail/javamail.html","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Edit: JavaMail 1.5.5 <a href=\"https://java.net/projects/javamail/pages/Android\" rel=\"nofollow noreferrer\">claims to support Android</a>, so you shouldn't need anything else.</p>\n\n<p><strike>\nI've ported the latest JavaMail (1.5.4) to Android. It's available in Maven Central, just add the following to <code>build.gradle</code>~~</p>\n\n<pre><code>compile 'eu.ocathain.com.sun.mail:javax.mail:1.5.4'\n</code></pre>\n\n<p>You can then follow the official <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/javamail/javamail.html\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n\n<p>Source code is available here: <a href=\"https://bitbucket.org/artbristol/javamail-forked-android\" rel=\"nofollow noreferrer\">https://bitbucket.org/artbristol/javamail-forked-android</a></p>\n\n<p></strike></p>\n"},{"tags":[],"owner":{"account_id":4628432,"reputation":2193,"user_id":3751576,"accept_rate":38,"display_name":"Patriotic"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545806080,"creation_date":1444164738,"answer_id":32979523,"question_id":2020088,"body_markdown":"I am unable to run Vinayak B&#39;s code. Finally i solved this issue by following :\r\n\r\n 1.Using this\r\n\r\n 2.Applying AsyncTask.\r\n\r\n 3.Changing security issue of sender gmail account.(Change to &quot;TURN ON&quot;) in [this][2]\r\n\r\n\r\n  [2]: https://www.google.com/settings/security/lesssecureapps","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>I am unable to run Vinayak B's code. Finally i solved this issue by following :</p>\n\n<p>1.Using this</p>\n\n<p>2.Applying AsyncTask.</p>\n\n<p>3.Changing security issue of sender gmail account.(Change to \"TURN ON\") in <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":451752,"reputation":11207,"user_id":847818,"accept_rate":76,"display_name":"Enrichman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466640398,"creation_date":1466640398,"answer_id":37980183,"question_id":2020088,"body_markdown":"All the code provided in the other answers is correct and is working fine, but a bit messy, so I decided to publish a library (still in development though) to use it in a easier way: **[AndroidMail][1]**.\r\n\r\nYou have just to create a MailSender, build a mail and send it (already handled in background with an AsyncTask).\r\n\r\n    MailSender mailSender = new MailSender(email, password);\r\n    \r\n    Mail.MailBuilder builder = new Mail.MailBuilder();\r\n    Mail mail = builder\r\n        .setSender(senderMail)\r\n        .addRecipient(new Recipient(recipient))\r\n        .setText(&quot;Hello&quot;)\r\n        .build();\r\n    \r\n    mailSender.sendMail(mail);\r\n\r\n\r\n\r\nYou can receive a notification for the email sent and it has also the support for different Recipients types (TO, CC and BCC), attachments and html:\r\n\r\n    MailSender mailSender = new MailSender(email, password);\r\n    \r\n    Mail.MailBuilder builder = new Mail.MailBuilder();\r\n    Mail mail = builder\r\n        .setSender(senderMail)\r\n        .addRecipient(new Recipient(recipient))\r\n        .addRecipient(new Recipient(Recipient.TYPE.CC, recipientCC))\r\n        .setText(&quot;Hello&quot;)\r\n        .setHtml(&quot;&lt;h1 style=\\&quot;color:red;\\&quot;&gt;Hello&lt;/h1&gt;&quot;)\r\n        .addAttachment(new Attachment(filePath, fileName))\r\n        .build();\r\n    \r\n    mailSender.sendMail(mail, new MailSender.OnMailSentListener() {\r\n    \r\n        @Override\r\n        public void onSuccess() {\r\n            // mail sent!\r\n        }\r\n    \r\n        @Override\r\n        public void onError(Exception error) {\r\n            // something bad happened :(\r\n        }\r\n    });\r\n\r\n\r\nYou can get it via Gradle or Maven:\r\n\r\n    compile &#39;it.enricocandino:androidmail:1.0.0-SNAPSHOT&#39;\r\n\r\n\r\nPlease let me know if you have any issue with it! :)\r\n\r\n\r\n  [1]: https://github.com/enrichman/androidmail\r\n","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>All the code provided in the other answers is correct and is working fine, but a bit messy, so I decided to publish a library (still in development though) to use it in a easier way: <strong><a href=\"https://github.com/enrichman/androidmail\" rel=\"nofollow\">AndroidMail</a></strong>.</p>\n\n<p>You have just to create a MailSender, build a mail and send it (already handled in background with an AsyncTask).</p>\n\n<pre><code>MailSender mailSender = new MailSender(email, password);\n\nMail.MailBuilder builder = new Mail.MailBuilder();\nMail mail = builder\n    .setSender(senderMail)\n    .addRecipient(new Recipient(recipient))\n    .setText(\"Hello\")\n    .build();\n\nmailSender.sendMail(mail);\n</code></pre>\n\n<p>You can receive a notification for the email sent and it has also the support for different Recipients types (TO, CC and BCC), attachments and html:</p>\n\n<pre><code>MailSender mailSender = new MailSender(email, password);\n\nMail.MailBuilder builder = new Mail.MailBuilder();\nMail mail = builder\n    .setSender(senderMail)\n    .addRecipient(new Recipient(recipient))\n    .addRecipient(new Recipient(Recipient.TYPE.CC, recipientCC))\n    .setText(\"Hello\")\n    .setHtml(\"&lt;h1 style=\\\"color:red;\\\"&gt;Hello&lt;/h1&gt;\")\n    .addAttachment(new Attachment(filePath, fileName))\n    .build();\n\nmailSender.sendMail(mail, new MailSender.OnMailSentListener() {\n\n    @Override\n    public void onSuccess() {\n        // mail sent!\n    }\n\n    @Override\n    public void onError(Exception error) {\n        // something bad happened :(\n    }\n});\n</code></pre>\n\n<p>You can get it via Gradle or Maven:</p>\n\n<pre><code>compile 'it.enricocandino:androidmail:1.0.0-SNAPSHOT'\n</code></pre>\n\n<p>Please let me know if you have any issue with it! :)</p>\n"},{"tags":[],"owner":{"account_id":6555363,"reputation":415,"user_id":5068212,"display_name":"della raharjo"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1478183628,"creation_date":1478014840,"answer_id":40363485,"question_id":2020088,"body_markdown":"To add attachment, don&#39;t forget to add. \r\n\r\n    MailcapCommandMap mc = (MailcapCommandMap) CommandMap\r\n\t\t\t\t.getDefaultCommandMap();\r\n\t\tmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\r\n\t\tmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\r\n\t\tmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\r\n\t\tmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\r\n\t\tmc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\r\n\t\tCommandMap.setDefaultCommandMap(mc);","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>To add attachment, don't forget to add. </p>\n\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap\n            .getDefaultCommandMap();\n    mc.addMailcap(\"text/html;; x-java-content-handler=com.sun.mail.handlers.text_html\");\n    mc.addMailcap(\"text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml\");\n    mc.addMailcap(\"text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain\");\n    mc.addMailcap(\"multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed\");\n    mc.addMailcap(\"message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822\");\n    CommandMap.setDefaultCommandMap(mc);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5954888,"reputation":1706,"user_id":4681874,"accept_rate":95,"display_name":"Erich Garc&#237;a"},"score":0,"creation_date":1524329413,"post_id":44569804,"comment_id":86932301,"body_markdown":"I using it and works perfect. But I made some modifications for use it with different email provider and when send email to Gmail it return me &quot;From&quot; header is missing... How solve it?","body":"I using it and works perfect. But I made some modifications for use it with different email provider and when send email to Gmail it return me &quot;From&quot; header is missing... How solve it?"},{"owner":{"account_id":10739663,"reputation":608,"user_id":10584549,"display_name":"Jawad Malik"},"score":0,"creation_date":1568968937,"post_id":44569804,"comment_id":102452049,"body_markdown":"Hello, i am using this api in my app but it&#39;s not working and always calling onfailcallback","body":"Hello, i am using this api in my app but it&#39;s not working and always calling onfailcallback"}],"tags":[],"owner":{"account_id":7972973,"reputation":2829,"user_id":6017001,"accept_rate":83,"display_name":"S.R"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1516214106,"creation_date":1497535955,"answer_id":44569804,"question_id":2020088,"body_markdown":"&gt; GmailBackground is small library to send an email in background without user interaction :\r\n\r\nUsage:\r\n\r\n        BackgroundMail.newBuilder(this)\r\n                .withUsername(&quot;username@gmail.com&quot;)\r\n                .withPassword(&quot;password12345&quot;)\r\n                .withMailto(&quot;toemail@gmail.com&quot;)\r\n                .withType(BackgroundMail.TYPE_PLAIN)\r\n                .withSubject(&quot;this is the subject&quot;)\r\n                .withBody(&quot;this is the body&quot;)\r\n                .withOnSuccessCallback(new BackgroundMail.OnSuccessCallback() {\r\n                    @Override\r\n                    public void onSuccess() {\r\n                        //do some magic\r\n                    }\r\n                })\r\n                .withOnFailCallback(new BackgroundMail.OnFailCallback() {\r\n                    @Override\r\n                    public void onFail() {\r\n                        //do some magic\r\n                    }\r\n                })\r\n                .send();\r\n\r\n\r\n\r\nConfiguration:\r\n \r\n\r\n    repositories {\r\n        // ...\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n     }\r\n     dependencies {\r\n    \t        compile &#39;com.github.yesidlazaro:GmailBackground:1.2.0&#39;\r\n    \t}\r\n\r\nPermissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nAlso for attachments, you need to set READ_EXTERNAL_STORAGE permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n\r\n\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://github.com/yesidlazaro/GmailBackground\r\n\r\n*(I&#39;ve tested it myself)*","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<blockquote>\n  <p>GmailBackground is small library to send an email in background without user interaction :</p>\n</blockquote>\n\n<p>Usage:</p>\n\n<pre><code>    BackgroundMail.newBuilder(this)\n            .withUsername(\"username@gmail.com\")\n            .withPassword(\"password12345\")\n            .withMailto(\"toemail@gmail.com\")\n            .withType(BackgroundMail.TYPE_PLAIN)\n            .withSubject(\"this is the subject\")\n            .withBody(\"this is the body\")\n            .withOnSuccessCallback(new BackgroundMail.OnSuccessCallback() {\n                @Override\n                public void onSuccess() {\n                    //do some magic\n                }\n            })\n            .withOnFailCallback(new BackgroundMail.OnFailCallback() {\n                @Override\n                public void onFail() {\n                    //do some magic\n                }\n            })\n            .send();\n</code></pre>\n\n<p>Configuration:</p>\n\n<pre><code>repositories {\n    // ...\n    maven { url \"https://jitpack.io\" }\n }\n dependencies {\n            compile 'com.github.yesidlazaro:GmailBackground:1.2.0'\n    }\n</code></pre>\n\n<p>Permissions:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>Also for attachments, you need to set READ_EXTERNAL_STORAGE permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/yesidlazaro/GmailBackground\" rel=\"noreferrer\">Source</a></p>\n\n<p><em>(I've tested it myself)</em></p>\n"},{"tags":[],"owner":{"account_id":8956501,"reputation":1798,"user_id":6680607,"accept_rate":71,"display_name":"Shreshth Kharbanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1647237601,"creation_date":1518925336,"answer_id":48848211,"question_id":2020088,"body_markdown":"I found a shorter alternative for others who need help. The code is:\r\n\r\n    package com.example.mail;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    public class SendMailTLS {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tfinal String username = &quot;username@gmail.com&quot;;\r\n    \t\tfinal String password = &quot;password&quot;;\r\n    \r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \r\n    \t\tSession session = Session.getInstance(props,\r\n    \t\t  new javax.mail.Authenticator() {\r\n    \t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t\t}\r\n    \t\t  });\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tMessage message = new MimeMessage(session);\r\n    \t\t\tmessage.setFrom(new InternetAddress(&quot;from-email@gmail.com&quot;));\r\n    \t\t\tmessage.setRecipients(Message.RecipientType.TO,\r\n    \t\t\t\tInternetAddress.parse(&quot;to-email@gmail.com&quot;));\r\n    \t\t\tmessage.setSubject(&quot;Testing Subject&quot;);\r\n    \t\t\tmessage.setText(&quot;Dear Mail Crawler,&quot;\r\n    \t\t\t\t+ &quot;\\n\\n No spam to my email, please!&quot;);\r\n    \r\n    \t\t\tTransport.send(message);\r\n    \r\n    \t\t\tSystem.out.println(&quot;Done&quot;);\r\n    \r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nSource: [Sending Email via JavaMail API](https://www.mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/)\r\n\r\nHope this Helps! Good Luck!","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>I found a shorter alternative for others who need help. The code is:</p>\n<pre><code>package com.example.mail;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class SendMailTLS {\n\n    public static void main(String[] args) {\n\n        final String username = &quot;username@gmail.com&quot;;\n        final String password = &quot;password&quot;;\n\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\n        Session session = Session.getInstance(props,\n          new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(username, password);\n            }\n          });\n\n        try {\n\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&quot;from-email@gmail.com&quot;));\n            message.setRecipients(Message.RecipientType.TO,\n                InternetAddress.parse(&quot;to-email@gmail.com&quot;));\n            message.setSubject(&quot;Testing Subject&quot;);\n            message.setText(&quot;Dear Mail Crawler,&quot;\n                + &quot;\\n\\n No spam to my email, please!&quot;);\n\n            Transport.send(message);\n\n            System.out.println(&quot;Done&quot;);\n\n        } catch (MessagingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Source: <a href=\"https://www.mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/\" rel=\"nofollow noreferrer\">Sending Email via JavaMail API</a></p>\n<p>Hope this Helps! Good Luck!</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597821372,"creation_date":1580977593,"answer_id":60090559,"question_id":2020088,"body_markdown":"Sending email programmatically with Kotlin.\r\n\r\n- simple email sending, not all the other features (like attachments).\r\n- TLS is always on\r\n- Only 1 gradle email dependency needed also.\r\n\r\nI also found this list of email POP services really helpful:\r\n\r\nhttps://support.office.com/en-gb/article/pop-and-imap-email-settings-for-outlook-8361e398-8af4-4e97-b147-6c6c4ac95353\r\n\r\nHow to use:\r\n\r\n        val auth = EmailService.UserPassAuthenticator(&quot;you@gmail.com&quot;, &quot;yourPassword&quot;)\r\n        val to = listOf(InternetAddress(&quot;to@email.com&quot;))\r\n        val from = InternetAddress(&quot;you@gmail.com&quot;)\r\n        val email = EmailService.Email(auth, to, from, &quot;Test Subject&quot;, &quot;Hello Body World&quot;)\r\n        val emailService = EmailService(&quot;smtp.gmail.com&quot;, 465)\r\n        \r\n        GlobalScope.launch { // or however you do background threads\r\n            emailService.send(email)\r\n        }\r\n\r\nThe code:\r\n\r\n    import java.util.*\r\n    import javax.mail.*\r\n    import javax.mail.internet.InternetAddress\r\n    import javax.mail.internet.MimeBodyPart\r\n    import javax.mail.internet.MimeMessage\r\n    import javax.mail.internet.MimeMultipart\r\n    \r\n    class EmailService(private val server: String, private val port: Int) {\r\n    \r\n        data class Email(\r\n            val auth: Authenticator,\r\n            val toList: List&lt;InternetAddress&gt;,\r\n            val from: Address,\r\n            val subject: String,\r\n            val body: String\r\n        )\r\n    \r\n        class UserPassAuthenticator(private val username: String, private val password: String) : Authenticator() {\r\n            override fun getPasswordAuthentication(): PasswordAuthentication {\r\n                return PasswordAuthentication(username, password)\r\n            }\r\n        }\r\n    \r\n        fun send(email: Email) {\r\n            val props = Properties()\r\n            props[&quot;mail.smtp.auth&quot;] = &quot;true&quot;\r\n            props[&quot;mail.user&quot;] = email.from\r\n            props[&quot;mail.smtp.host&quot;] = server\r\n            props[&quot;mail.smtp.port&quot;] = port\r\n            props[&quot;mail.smtp.starttls.enable&quot;] = &quot;true&quot;\r\n            props[&quot;mail.smtp.ssl.trust&quot;] = server\r\n            props[&quot;mail.mime.charset&quot;] = &quot;UTF-8&quot;\r\n            val msg: Message = MimeMessage(Session.getDefaultInstance(props, email.auth))\r\n            msg.setFrom(email.from)\r\n            msg.sentDate = Calendar.getInstance().time\r\n            msg.setRecipients(Message.RecipientType.TO, email.toList.toTypedArray())\r\n    //      msg.setRecipients(Message.RecipientType.CC, email.ccList.toTypedArray())\r\n    //      msg.setRecipients(Message.RecipientType.BCC, email.bccList.toTypedArray())\r\n            msg.replyTo = arrayOf(email.from)\r\n    \r\n            msg.addHeader(&quot;X-Mailer&quot;, CLIENT_NAME)\r\n            msg.addHeader(&quot;Precedence&quot;, &quot;bulk&quot;)\r\n            msg.subject = email.subject\r\n    \r\n            msg.setContent(MimeMultipart().apply {\r\n                addBodyPart(MimeBodyPart().apply {\r\n                    setText(email.body, &quot;iso-8859-1&quot;)\r\n                    //setContent(email.htmlBody, &quot;text/html; charset=UTF-8&quot;)\r\n                })\r\n            })\r\n            Transport.send(msg)\r\n        }\r\n    \r\n        companion object {\r\n            const val CLIENT_NAME = &quot;Android StackOverflow programmatic email&quot;\r\n        }\r\n    }\r\n\r\nGradle:\r\n\r\n    dependencies {\r\n        implementation &#39;com.sun.mail:android-mail:1.6.4&#39;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.3&quot;\r\n    }\r\n\r\nAndroidManifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Sending email programmatically with Kotlin.</p>\n<ul>\n<li>simple email sending, not all the other features (like attachments).</li>\n<li>TLS is always on</li>\n<li>Only 1 gradle email dependency needed also.</li>\n</ul>\n<p>I also found this list of email POP services really helpful:</p>\n<p><a href=\"https://support.office.com/en-gb/article/pop-and-imap-email-settings-for-outlook-8361e398-8af4-4e97-b147-6c6c4ac95353\" rel=\"nofollow noreferrer\">https://support.office.com/en-gb/article/pop-and-imap-email-settings-for-outlook-8361e398-8af4-4e97-b147-6c6c4ac95353</a></p>\n<p>How to use:</p>\n<pre><code>    val auth = EmailService.UserPassAuthenticator(&quot;you@gmail.com&quot;, &quot;yourPassword&quot;)\n    val to = listOf(InternetAddress(&quot;to@email.com&quot;))\n    val from = InternetAddress(&quot;you@gmail.com&quot;)\n    val email = EmailService.Email(auth, to, from, &quot;Test Subject&quot;, &quot;Hello Body World&quot;)\n    val emailService = EmailService(&quot;smtp.gmail.com&quot;, 465)\n    \n    GlobalScope.launch { // or however you do background threads\n        emailService.send(email)\n    }\n</code></pre>\n<p>The code:</p>\n<pre><code>import java.util.*\nimport javax.mail.*\nimport javax.mail.internet.InternetAddress\nimport javax.mail.internet.MimeBodyPart\nimport javax.mail.internet.MimeMessage\nimport javax.mail.internet.MimeMultipart\n\nclass EmailService(private val server: String, private val port: Int) {\n\n    data class Email(\n        val auth: Authenticator,\n        val toList: List&lt;InternetAddress&gt;,\n        val from: Address,\n        val subject: String,\n        val body: String\n    )\n\n    class UserPassAuthenticator(private val username: String, private val password: String) : Authenticator() {\n        override fun getPasswordAuthentication(): PasswordAuthentication {\n            return PasswordAuthentication(username, password)\n        }\n    }\n\n    fun send(email: Email) {\n        val props = Properties()\n        props[&quot;mail.smtp.auth&quot;] = &quot;true&quot;\n        props[&quot;mail.user&quot;] = email.from\n        props[&quot;mail.smtp.host&quot;] = server\n        props[&quot;mail.smtp.port&quot;] = port\n        props[&quot;mail.smtp.starttls.enable&quot;] = &quot;true&quot;\n        props[&quot;mail.smtp.ssl.trust&quot;] = server\n        props[&quot;mail.mime.charset&quot;] = &quot;UTF-8&quot;\n        val msg: Message = MimeMessage(Session.getDefaultInstance(props, email.auth))\n        msg.setFrom(email.from)\n        msg.sentDate = Calendar.getInstance().time\n        msg.setRecipients(Message.RecipientType.TO, email.toList.toTypedArray())\n//      msg.setRecipients(Message.RecipientType.CC, email.ccList.toTypedArray())\n//      msg.setRecipients(Message.RecipientType.BCC, email.bccList.toTypedArray())\n        msg.replyTo = arrayOf(email.from)\n\n        msg.addHeader(&quot;X-Mailer&quot;, CLIENT_NAME)\n        msg.addHeader(&quot;Precedence&quot;, &quot;bulk&quot;)\n        msg.subject = email.subject\n\n        msg.setContent(MimeMultipart().apply {\n            addBodyPart(MimeBodyPart().apply {\n                setText(email.body, &quot;iso-8859-1&quot;)\n                //setContent(email.htmlBody, &quot;text/html; charset=UTF-8&quot;)\n            })\n        })\n        Transport.send(msg)\n    }\n\n    companion object {\n        const val CLIENT_NAME = &quot;Android StackOverflow programmatic email&quot;\n    }\n}\n</code></pre>\n<p>Gradle:</p>\n<pre><code>dependencies {\n    implementation 'com.sun.mail:android-mail:1.6.4'\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.3&quot;\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2967696,"reputation":455,"user_id":2520509,"display_name":"Nguyen Minh Hien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585792407,"creation_date":1585792407,"answer_id":60983086,"question_id":2020088,"body_markdown":"Here are a lot solutions. However I think we must change the configuration of the GMail to allow accessing from less secure devices. Go to the link below and enable it. It works for me\r\n\r\nhttps://myaccount.google.com/lesssecureapps?pli=1","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>Here are a lot solutions. However I think we must change the configuration of the GMail to allow accessing from less secure devices. Go to the link below and enable it. It works for me</p>\n\n<p><a href=\"https://myaccount.google.com/lesssecureapps?pli=1\" rel=\"nofollow noreferrer\">https://myaccount.google.com/lesssecureapps?pli=1</a></p>\n"},{"tags":[],"owner":{"account_id":17165441,"reputation":4402,"user_id":12423905,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592661841,"creation_date":1592661841,"answer_id":62486837,"question_id":2020088,"body_markdown":"For those who want to use JavaMail with Kotlin in 2020:\r\n\r\nFirst: Add these dependencies to your build.gradle file (official JavaMail Maven Dependencies)\r\n---------------------------------------------------\r\n\r\n&gt; implementation &#39;com.sun.mail:android-mail:1.6.5&#39;\r\n&gt; \r\n&gt; implementation &#39;com.sun.mail:android-activation:1.6.5&#39;\r\n&gt; \r\n\r\n&gt; implementation &quot;org.bouncycastle:bcmail-jdk15on:1.65&quot;\r\n&gt;\r\n&gt; implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.7&quot;\r\n&gt;\r\n&gt; implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.7&quot;\r\n\r\nBouncyCastle is for security reasons.\r\n\r\n## Second: Add these permissions to your AndroidManifest.xml ##\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n\r\n## Third: When using SMTP, create a Config file ##\r\n\r\n    object Config {\r\n        const val EMAIL_FROM = &quot;You_Sender_Email@email.com&quot;\r\n        const val PASS_FROM = &quot;Your_Sender_Password&quot;\r\n\r\n        const val EMAIL_TO = &quot;Your_Destination_Email@email.com&quot;\r\n    }\r\n\r\n## Fourth: Create your Mailer Object ##\r\n\r\n    object Mailer {\r\n\r\n    init {\r\n        Security.addProvider(BouncyCastleProvider())\r\n    }\r\n\r\n    private fun props(): Properties = Properties().also {\r\n            // Smtp server\r\n            it[&quot;mail.smtp.host&quot;] = &quot;smtp.gmail.com&quot;\r\n            // Change when necessary\r\n            it[&quot;mail.smtp.auth&quot;] = &quot;true&quot;\r\n            it[&quot;mail.smtp.port&quot;] = &quot;465&quot;\r\n            // Easy and fast way to enable ssl in JavaMail\r\n            it[&quot;mail.smtp.ssl.enable&quot;] = true\r\n        }\r\n\r\n    // Dont ever use &quot;getDefaultInstance&quot; like other examples do!\r\n    private fun session(emailFrom: String, emailPass: String): Session = Session.getInstance(props(), object : Authenticator() {\r\n        override fun getPasswordAuthentication(): PasswordAuthentication {\r\n            return PasswordAuthentication(emailFrom, emailPass)\r\n        }\r\n    })\r\n\r\n    private fun builtMessage(firstName: String, surName: String): String {\r\n        return &quot;&quot;&quot;\r\n                &lt;b&gt;Name:&lt;/b&gt; $firstName  &lt;br/&gt;\r\n                &lt;b&gt;Surname:&lt;/b&gt; $surName &lt;br/&gt;\r\n            &quot;&quot;&quot;.trimIndent()\r\n    }\r\n\r\n    private fun builtSubject(issue: String, firstName: String, surName: String):String {\r\n        return &quot;&quot;&quot;\r\n                $issue | $firstName, $surName\r\n            &quot;&quot;&quot;.trimIndent()\r\n    }\r\n\r\n    private fun sendMessageTo(emailFrom: String, session: Session, message: String, subject: String) {\r\n        try {\r\n            MimeMessage(session).let { mime -&gt;\r\n                mime.setFrom(InternetAddress(emailFrom))\r\n                // Adding receiver\r\n                mime.addRecipient(Message.RecipientType.TO, InternetAddress(Config.EMAIL_TO))\r\n                // Adding subject\r\n                mime.subject = subject\r\n                // Adding message\r\n                mime.setText(message)\r\n                // Set Content of Message to Html if needed\r\n                mime.setContent(message, &quot;text/html&quot;)\r\n                // send mail\r\n                Transport.send(mime)\r\n            }\r\n\r\n        } catch (e: MessagingException) {\r\n            Log.e(&quot;&quot;,&quot;&quot;) // Or use timber, it really doesn&#39;t matter\r\n        }\r\n    }\r\n\r\n    fun sendMail(firstName: String, surName: String) {\r\n            // Open a session\r\n            val session = session(Config.EMAIL_FROM, Config.PASSWORD_FROM)\r\n\r\n            // Create a message\r\n            val message = builtMessage(firstName, surName)\r\n\r\n            // Create subject\r\n            val subject = builtSubject(firstName, surName)\r\n\r\n            // Send Email\r\n            CoroutineScope(Dispatchers.IO).launch { sendMessageTo(Config.EMAIL_FROM, session, message, subject) }\r\n    }\r\n\r\n## Note ##\r\n\r\n- If you want a more secure way to send your email (and you want a more secure way!), use http as mentioned in the solutions before (I will maybe add it later in this answer)\r\n- You have to properly check, if the users phone has internet access, otherwise the app will crash.\r\n- When using gmail, enable &quot;less secure apps&quot; (this will not work, when you gmail has two factors enabled) https://myaccount.google.com/lesssecureapps?pli=1\r\n- Some credits belong to: https://medium.com/@chetan.garg36/android-send-mails-not-intent-642d2a71d2ee (he used RxJava for his solution)\r\n","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>For those who want to use JavaMail with Kotlin in 2020:</p>\n<h2>First: Add these dependencies to your build.gradle file (official JavaMail Maven Dependencies)</h2>\n<blockquote>\n<p>implementation 'com.sun.mail:android-mail:1.6.5'</p>\n<p>implementation 'com.sun.mail:android-activation:1.6.5'</p>\n</blockquote>\n<blockquote>\n<p>implementation &quot;org.bouncycastle:bcmail-jdk15on:1.65&quot;</p>\n<p>implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.7&quot;</p>\n<p>implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.7&quot;</p>\n</blockquote>\n<p>BouncyCastle is for security reasons.</p>\n<h2>Second: Add these permissions to your AndroidManifest.xml</h2>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<h2>Third: When using SMTP, create a Config file</h2>\n<pre><code>object Config {\n    const val EMAIL_FROM = &quot;You_Sender_Email@email.com&quot;\n    const val PASS_FROM = &quot;Your_Sender_Password&quot;\n\n    const val EMAIL_TO = &quot;Your_Destination_Email@email.com&quot;\n}\n</code></pre>\n<h2>Fourth: Create your Mailer Object</h2>\n<pre><code>object Mailer {\n\ninit {\n    Security.addProvider(BouncyCastleProvider())\n}\n\nprivate fun props(): Properties = Properties().also {\n        // Smtp server\n        it[&quot;mail.smtp.host&quot;] = &quot;smtp.gmail.com&quot;\n        // Change when necessary\n        it[&quot;mail.smtp.auth&quot;] = &quot;true&quot;\n        it[&quot;mail.smtp.port&quot;] = &quot;465&quot;\n        // Easy and fast way to enable ssl in JavaMail\n        it[&quot;mail.smtp.ssl.enable&quot;] = true\n    }\n\n// Dont ever use &quot;getDefaultInstance&quot; like other examples do!\nprivate fun session(emailFrom: String, emailPass: String): Session = Session.getInstance(props(), object : Authenticator() {\n    override fun getPasswordAuthentication(): PasswordAuthentication {\n        return PasswordAuthentication(emailFrom, emailPass)\n    }\n})\n\nprivate fun builtMessage(firstName: String, surName: String): String {\n    return &quot;&quot;&quot;\n            &lt;b&gt;Name:&lt;/b&gt; $firstName  &lt;br/&gt;\n            &lt;b&gt;Surname:&lt;/b&gt; $surName &lt;br/&gt;\n        &quot;&quot;&quot;.trimIndent()\n}\n\nprivate fun builtSubject(issue: String, firstName: String, surName: String):String {\n    return &quot;&quot;&quot;\n            $issue | $firstName, $surName\n        &quot;&quot;&quot;.trimIndent()\n}\n\nprivate fun sendMessageTo(emailFrom: String, session: Session, message: String, subject: String) {\n    try {\n        MimeMessage(session).let { mime -&gt;\n            mime.setFrom(InternetAddress(emailFrom))\n            // Adding receiver\n            mime.addRecipient(Message.RecipientType.TO, InternetAddress(Config.EMAIL_TO))\n            // Adding subject\n            mime.subject = subject\n            // Adding message\n            mime.setText(message)\n            // Set Content of Message to Html if needed\n            mime.setContent(message, &quot;text/html&quot;)\n            // send mail\n            Transport.send(mime)\n        }\n\n    } catch (e: MessagingException) {\n        Log.e(&quot;&quot;,&quot;&quot;) // Or use timber, it really doesn't matter\n    }\n}\n\nfun sendMail(firstName: String, surName: String) {\n        // Open a session\n        val session = session(Config.EMAIL_FROM, Config.PASSWORD_FROM)\n\n        // Create a message\n        val message = builtMessage(firstName, surName)\n\n        // Create subject\n        val subject = builtSubject(firstName, surName)\n\n        // Send Email\n        CoroutineScope(Dispatchers.IO).launch { sendMessageTo(Config.EMAIL_FROM, session, message, subject) }\n}\n</code></pre>\n<h2>Note</h2>\n<ul>\n<li>If you want a more secure way to send your email (and you want a more secure way!), use http as mentioned in the solutions before (I will maybe add it later in this answer)</li>\n<li>You have to properly check, if the users phone has internet access, otherwise the app will crash.</li>\n<li>When using gmail, enable &quot;less secure apps&quot; (this will not work, when you gmail has two factors enabled) <a href=\"https://myaccount.google.com/lesssecureapps?pli=1\" rel=\"nofollow noreferrer\">https://myaccount.google.com/lesssecureapps?pli=1</a></li>\n<li>Some credits belong to: <a href=\"https://medium.com/@chetan.garg36/android-send-mails-not-intent-642d2a71d2ee\" rel=\"nofollow noreferrer\">https://medium.com/@chetan.garg36/android-send-mails-not-intent-642d2a71d2ee</a> (he used RxJava for his solution)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23502304,"reputation":251,"user_id":17552057,"display_name":"Rishita Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643967599,"creation_date":1643967599,"answer_id":70984195,"question_id":2020088,"body_markdown":"    package io.formics.tourguide\r\n    \r\n    import android.annotation.SuppressLint\r\n    import android.content.Intent\r\n    import android.net.Credentials\r\n    import android.net.Uri\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.util.Log\r\n    import android.widget.Toast\r\n    import kotlinx.android.synthetic.main.activity_feedback.*\r\n    import org.jetbrains.annotations.Async\r\n    import java.lang.Exception\r\n    \r\n    import java.util.Properties;\r\n    \r\n    \r\n    import javax.activation.DataHandler;\r\n    import javax.activation.FileDataSource\r\n    import javax.mail.*\r\n    import javax.mail.internet.*\r\n    \r\n    \r\n    class FeedbackActivity : AppCompatActivity()  {\r\n      \r\n        val props = Properties()\r\n    \r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_feedback)\r\n    \r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \r\n            btnSendEmail.setOnClickListener {\r\n                Thread {\r\n                    try {\r\n                        sendEmail()\r\n                        // Your implementation\r\n                    } catch (ex: Exception) {\r\n                        ex.printStackTrace()\r\n                    }\r\n                }.start()\r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        private fun sendEmail() {\r\n    \r\n    \r\n    \r\n            try {\r\n    \r\n                val session = Session.getInstance(props,\r\n                    object : javax.mail.Authenticator() {\r\n                        //Authenticating the password\r\n                        override fun getPasswordAuthentication(): javax.mail.PasswordAuthentication {\r\n                            return PasswordAuthentication(&quot;abc@xyz.com&quot;, &quot;password&quot;)\r\n                        }\r\n                    })\r\n    \r\n                val message = MimeMessage(session);\r\n                message.setFrom(InternetAddress(&quot;abc@xyz.com&quot;));\r\n                message.setRecipients(\r\n                    Message.RecipientType.TO,\r\n                    InternetAddress.parse(editCC.text.toString())\r\n                )\r\n                message.subject = editSubject.text.toString()\r\n                message.setText(\r\n                    &quot;Dear Mail Crawler,&quot;\r\n                            + &quot;\\n\\n No spam to my email, please!&quot;\r\n                );\r\n    \r\n                //val messageBodyPart = MimeBodyPart();\r\n    \r\n                //val multipart = MimeMultipart();\r\n    \r\n                //val file = &quot;path of file to be attached&quot;;\r\n    \r\n    //            val fileName = &quot;attachmentName&quot;\r\n               // val source = FileDataSource(file);\r\n                //messageBodyPart.setDataHandler(DataHandler(source));\r\n                //messageBodyPart.setFileName(fileName);\r\n                //multipart.addBodyPart(messageBodyPart);\r\n    \r\n                //message.setContent(multipart);\r\n    \r\n                Transport.send(message);\r\n                System.out.println(&quot;Done&quot;);\r\n    \r\n    \r\n    \r\n            } catch (e: MessagingException) {\r\n                throw  RuntimeException(e);\r\n            }\r\n    \r\n               }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n     ","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<pre><code>package io.formics.tourguide\n\nimport android.annotation.SuppressLint\nimport android.content.Intent\nimport android.net.Credentials\nimport android.net.Uri\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_feedback.*\nimport org.jetbrains.annotations.Async\nimport java.lang.Exception\n\nimport java.util.Properties;\n\n\nimport javax.activation.DataHandler;\nimport javax.activation.FileDataSource\nimport javax.mail.*\nimport javax.mail.internet.*\n\n\nclass FeedbackActivity : AppCompatActivity()  {\n  \n    val props = Properties()\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_feedback)\n\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\n        btnSendEmail.setOnClickListener {\n            Thread {\n                try {\n                    sendEmail()\n                    // Your implementation\n                } catch (ex: Exception) {\n                    ex.printStackTrace()\n                }\n            }.start()\n\n\n        }\n    }\n\n\n    private fun sendEmail() {\n\n\n\n        try {\n\n            val session = Session.getInstance(props,\n                object : javax.mail.Authenticator() {\n                    //Authenticating the password\n                    override fun getPasswordAuthentication(): javax.mail.PasswordAuthentication {\n                        return PasswordAuthentication(&quot;abc@xyz.com&quot;, &quot;password&quot;)\n                    }\n                })\n\n            val message = MimeMessage(session);\n            message.setFrom(InternetAddress(&quot;abc@xyz.com&quot;));\n            message.setRecipients(\n                Message.RecipientType.TO,\n                InternetAddress.parse(editCC.text.toString())\n            )\n            message.subject = editSubject.text.toString()\n            message.setText(\n                &quot;Dear Mail Crawler,&quot;\n                        + &quot;\\n\\n No spam to my email, please!&quot;\n            );\n\n            //val messageBodyPart = MimeBodyPart();\n\n            //val multipart = MimeMultipart();\n\n            //val file = &quot;path of file to be attached&quot;;\n\n//            val fileName = &quot;attachmentName&quot;\n           // val source = FileDataSource(file);\n            //messageBodyPart.setDataHandler(DataHandler(source));\n            //messageBodyPart.setFileName(fileName);\n            //multipart.addBodyPart(messageBodyPart);\n\n            //message.setContent(multipart);\n\n            Transport.send(message);\n            System.out.println(&quot;Done&quot;);\n\n\n\n        } catch (e: MessagingException) {\n            throw  RuntimeException(e);\n        }\n\n           }\n}\n\n\n\n\n \n</code></pre>\n"}],"owner":{"account_id":14042,"reputation":40275,"user_id":28557,"accept_rate":78,"display_name":"Vinayak Bevinakatti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474305,"favorite_count":0,"down_vote_count":2,"up_vote_count":701,"accepted_answer_id":2033124,"answer_count":25,"score":699,"last_activity_date":1678785015,"creation_date":1262865883,"question_id":2020088,"body_markdown":"I am trying to create a mail sending application in Android. \r\n\r\nIf I use: \r\n\r\n    Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n\r\nThis will launch the built-in Android application; I&#39;m trying to send the mail on button click directly **without** using this application.","title":"Sending Email in Android using JavaMail API without using the default/built-in app","body":"<p>I am trying to create a mail sending application in Android. </p>\n\n<p>If I use: </p>\n\n<pre><code>Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);\n</code></pre>\n\n<p>This will launch the built-in Android application; I'm trying to send the mail on button click directly <strong>without</strong> using this application.</p>\n"},{"tags":["java","xml","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1385056993,"creation_date":1385056993,"answer_id":20128569,"question_id":20125995,"body_markdown":"Please, see this question: [How do you override the null serializer in Jackson 2.0?][1]. For `XmlMapper` it could look like below. Create `NullSerializer`:\r\n\r\n    class NullSerializer extends JsonSerializer&lt;Object&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n    \t\tjgen.writeString(&quot;&quot;);\r\n    \t}\r\n    }\r\n\r\nand simple usage:\r\n\r\n    XmlSerializerProvider provider = new XmlSerializerProvider(new XmlRootNameLookup());\r\n    provider.setNullValueSerializer(new NullSerializer());\r\n    \r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    xmlMapper.setSerializerProvider(provider);\r\n    \r\n    System.out.println(xmlMapper.writeValueAsString(new Entity()));\r\n\r\nAbove program prints:\r\n\r\n    &lt;Entity xmlns=&quot;&quot;&gt;&lt;field&gt;&lt;/field&gt;&lt;/Entity&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/18101506/how-do-you-override-the-null-serializer-in-jackson-2-0","title":"Jackson xml empty element serialization","body":"<p>Please, see this question: <a href=\"https://stackoverflow.com/questions/18101506/how-do-you-override-the-null-serializer-in-jackson-2-0\">How do you override the null serializer in Jackson 2.0?</a>. For <code>XmlMapper</code> it could look like below. Create <code>NullSerializer</code>:</p>\n\n<pre><code>class NullSerializer extends JsonSerializer&lt;Object&gt; {\n\n    @Override\n    public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\n        jgen.writeString(\"\");\n    }\n}\n</code></pre>\n\n<p>and simple usage:</p>\n\n<pre><code>XmlSerializerProvider provider = new XmlSerializerProvider(new XmlRootNameLookup());\nprovider.setNullValueSerializer(new NullSerializer());\n\nXmlMapper xmlMapper = new XmlMapper();\nxmlMapper.setSerializerProvider(provider);\n\nSystem.out.println(xmlMapper.writeValueAsString(new Entity()));\n</code></pre>\n\n<p>Above program prints:</p>\n\n<pre><code>&lt;Entity xmlns=\"\"&gt;&lt;field&gt;&lt;/field&gt;&lt;/Entity&gt;\n</code></pre>\n"}],"owner":{"account_id":132047,"reputation":65,"user_id":332512,"display_name":"William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6148,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20128569,"answer_count":1,"score":3,"last_activity_date":1678784966,"creation_date":1385049991,"question_id":20125995,"body_markdown":"I&#39;m having a hard time with this one. Jackson 2.2 XML serializer seems to serialize empty object fields this way:\r\n\r\n    &lt;field/&gt;\r\nHow can I force it to serialize such empty field like this:\r\n\r\n    &lt;field&gt;&lt;/field&gt;\r\n\r\nThank you very much for your time and answers.\r\n","title":"Jackson xml empty element serialization","body":"<p>I'm having a hard time with this one. Jackson 2.2 XML serializer seems to serialize empty object fields this way:</p>\n\n<pre><code>&lt;field/&gt;\n</code></pre>\n\n<p>How can I force it to serialize such empty field like this:</p>\n\n<pre><code>&lt;field&gt;&lt;/field&gt;\n</code></pre>\n\n<p>Thank you very much for your time and answers.</p>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1678787741,"post_id":75731017,"comment_id":133597021,"body_markdown":"The dependencyManagement section in the BOM should contain the provided dependency without scope, is this correct?","body":"The dependencyManagement section in the BOM should contain the provided dependency without scope, is this correct?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1678791412,"post_id":75731017,"comment_id":133598058,"body_markdown":"The BOM should contain the scopes.","body":"The BOM should contain the scopes."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678784797,"creation_date":1678784797,"answer_id":75731017,"question_id":75730662,"body_markdown":"The problem is that the dependencies you add via the pom dependency are transitive dependencies. The scope `provided` is not transitive.\r\n\r\nYou remove the scope from all the dependencies in the pom dependency. Then you write a BOM (a pom with only dependencyManagement) and import it in your dependencyManagement with scope `import`. This BOM then sets the correct scopes.","title":"Import &lt;scope&gt;provided&lt;/scope&gt; dependencies from maven dependency","body":"<p>The problem is that the dependencies you add via the pom dependency are transitive dependencies. The scope <code>provided</code> is not transitive.</p>\n<p>You remove the scope from all the dependencies in the pom dependency. Then you write a BOM (a pom with only dependencyManagement) and import it in your dependencyManagement with scope <code>import</code>. This BOM then sets the correct scopes.</p>\n"}],"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75731017,"answer_count":1,"score":0,"last_activity_date":1678784797,"creation_date":1678782591,"question_id":75730662,"body_markdown":"I have created a maven package of type `&lt;packaging&gt;pom&lt;/packaging&gt;` which I would include in other maven projects as &#39;base&#39; package providing some dependencies which I need always.\r\n\r\n``` xml\r\n    &lt;project&gt;\r\n        &lt;groupId&gt;com.projectbase.pom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;projectbase-pom&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-bundle-jaxrs&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.18&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;stax2-api&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n```\r\n\r\nThere are also dependencies of scope `&lt;scope&gt;provided&lt;/scope&gt;` where I declare some exclusions etc. In my child project I&#39;m adding this maven package to get all the dependencies I declared in the base package like this:\r\n\r\n``` xml\r\n    ...\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.projectbase.pom&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;projectbase-pom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    ...\r\n```\r\n\r\nThis works fine for all non `&lt;scope&gt;provided&lt;/scope&gt;` depdencies but the `provided` dependencies are not included. When I use my base `pom.xml` as parent in my child project, it works as expected:\r\n``` xml\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.projectbase.pom&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;projectbase-pom&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nThe problem is, that the child pom already has a parent so this is no opportunity. Is there any other way to import the `provided` dependencies in my child pom, too?","title":"Import &lt;scope&gt;provided&lt;/scope&gt; dependencies from maven dependency","body":"<p>I have created a maven package of type <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> which I would include in other maven projects as 'base' package providing some dependencies which I need always.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;project&gt;\n        &lt;groupId&gt;com.projectbase.pom&lt;/groupId&gt;\n        &lt;artifactId&gt;projectbase-pom&lt;/artifactId&gt;\n        &lt;packaging&gt;pom&lt;/packaging&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-bundle-jaxrs&lt;/artifactId&gt;\n                &lt;version&gt;2.7.18&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\n                        &lt;artifactId&gt;stax2-api&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            ...\n        &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>There are also dependencies of scope <code>&lt;scope&gt;provided&lt;/scope&gt;</code> where I declare some exclusions etc. In my child project I'm adding this maven package to get all the dependencies I declared in the base package like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.projectbase.pom&lt;/groupId&gt;\n            &lt;artifactId&gt;projectbase-pom&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    ...\n</code></pre>\n<p>This works fine for all non <code>&lt;scope&gt;provided&lt;/scope&gt;</code> depdencies but the <code>provided</code> dependencies are not included. When I use my base <code>pom.xml</code> as parent in my child project, it works as expected:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;com.projectbase.pom&lt;/groupId&gt;\n        &lt;artifactId&gt;projectbase-pom&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>The problem is, that the child pom already has a parent so this is no opportunity. Is there any other way to import the <code>provided</code> dependencies in my child pom, too?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1907727,"reputation":2093,"user_id":1722245,"accept_rate":25,"display_name":"user1722245"},"score":0,"creation_date":1503821586,"post_id":45902834,"comment_id":78764538,"body_markdown":"open logCat and copy the log please","body":"open logCat and copy the log please"},{"owner":{"account_id":6513349,"reputation":45,"user_id":5039930,"display_name":"Kerry"},"score":0,"creation_date":1503838680,"post_id":45902834,"comment_id":78768799,"body_markdown":"hi. here is it https://pastebin.com/P5PhAEvx","body":"hi. here is it <a href=\"https://pastebin.com/P5PhAEvx\" rel=\"nofollow noreferrer\">pastebin.com/P5PhAEvx</a>"}],"owner":{"account_id":6513349,"reputation":45,"user_id":5039930,"display_name":"Kerry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678784504,"creation_date":1503820535,"question_id":45902834,"body_markdown":"I am learning android and found this extension really helpful in learning.\r\n\r\nI have added an .aar file from project\r\n\r\n [https://github.com/hbb20/CountryCodePickerProject][1]\r\n\r\n from the method i saw on youtube in my sample project, and thankfully did not get any error in complete  process.\r\nBut when I installed my sample app&#39;s apk on phone, it is force closing on all android versions (6.0 and 7.1.1 i have checked). It is giving \r\n\r\n     Application Error - Unfortunately, the App has stopped\r\n\r\n\r\nwhen I click on the picker which is perfectly seen on the screen.\r\n\r\nBut the issue is only country code picker is not coming on screen and application force closes.\r\n\r\nCan you please help me with this.\r\nI would be grateful to you.\r\n\r\nI am assuming there is something issue in gradle. Don&#39;t know whether I am correct.\r\n\r\nHere is the part which I have written in gradle\r\n\r\n\r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &quot;26.0.1&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.test.app&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 26\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:26.+&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        compile &#39;com.android.support:design:26.+&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile project(&#39;:ccp&#39;)\r\n    }\r\n\r\n\r\n  [1]: https://github.com/hbb20/CountryCodePickerProject","title":"Application error after using .aar file in my android studio sample project","body":"<p>I am learning android and found this extension really helpful in learning.</p>\n<p>I have added an .aar file from project</p>\n<p><a href=\"https://github.com/hbb20/CountryCodePickerProject\" rel=\"nofollow noreferrer\">https://github.com/hbb20/CountryCodePickerProject</a></p>\n<p>from the method i saw on youtube in my sample project, and thankfully did not get any error in complete  process.\nBut when I installed my sample app's apk on phone, it is force closing on all android versions (6.0 and 7.1.1 i have checked). It is giving</p>\n<pre><code> Application Error - Unfortunately, the App has stopped\n</code></pre>\n<p>when I click on the picker which is perfectly seen on the screen.</p>\n<p>But the issue is only country code picker is not coming on screen and application force closes.</p>\n<p>Can you please help me with this.\nI would be grateful to you.</p>\n<p>I am assuming there is something issue in gradle. Don't know whether I am correct.</p>\n<p>Here is the part which I have written in gradle</p>\n<pre><code>android {\n    compileSdkVersion 26\n    buildToolsVersion &quot;26.0.1&quot;\n    defaultConfig {\n        applicationId &quot;com.test.app&quot;\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:26.+'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.android.support:design:26.+'\n    testCompile 'junit:junit:4.12'\n    compile project(':ccp')\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","lifecycle"],"answers":[{"comments":[{"owner":{"account_id":5093364,"reputation":568,"user_id":4085647,"accept_rate":83,"display_name":"Rajesh Koshti"},"score":0,"creation_date":1659525717,"post_id":70384221,"comment_id":129314546,"body_markdown":"will it work with java 11 ?","body":"will it work with java 11 ?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1659536338,"post_id":70384221,"comment_id":129318356,"body_markdown":"Yes, Java 8 is a *minimum* requirement. New Java versions are always backwards compatible with all previous features.","body":"Yes, Java 8 is a <i>minimum</i> requirement. New Java versions are always backwards compatible with all previous features."}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1658852593,"creation_date":1639680810,"answer_id":70384221,"question_id":70384129,"body_markdown":"It&#39;s deprecated because they now expect you to use Java 8 and implement the interface DefaultLifecycleObserver. Since Java 8 allows interfaces to have default implementations, they defined DefaultLifecycleObserver with empty implementations of all the methods so you only need to override the ones you use.\r\n\r\nThe old way of marking functions with `@OnLifecycleEvent` was a crutch for pre-Java 8 projects. This was the only way to allow a class to selectively choose which lifecycle events it cared about. The alternative would have been to force those classes to override all the lifecycle interface methods, even if leaving them empty.*\r\n\r\nIn your case, change your class to implement DefaultLifecycleObserver and change your functions to override the applicable functions of DefaultLifecycleObserver. If your project isn&#39;t using Java 8 yet, you need to update your Gradle build files. Put these in the `android` block in your module&#39;s `build.gradle`:\r\n\r\n```lang-groovy\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n```\r\n\r\n___\r\n*Note: Well, they could have used the old Java pattern of providing an interface Adapter class that has open, empty implementations of each interface function. The downside with this approach, though, is that the listener must be solely a listener. But I think that should usually be the case anyway if you care about encapsulation.","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>It's deprecated because they now expect you to use Java 8 and implement the interface DefaultLifecycleObserver. Since Java 8 allows interfaces to have default implementations, they defined DefaultLifecycleObserver with empty implementations of all the methods so you only need to override the ones you use.</p>\n<p>The old way of marking functions with <code>@OnLifecycleEvent</code> was a crutch for pre-Java 8 projects. This was the only way to allow a class to selectively choose which lifecycle events it cared about. The alternative would have been to force those classes to override all the lifecycle interface methods, even if leaving them empty.*</p>\n<p>In your case, change your class to implement DefaultLifecycleObserver and change your functions to override the applicable functions of DefaultLifecycleObserver. If your project isn't using Java 8 yet, you need to update your Gradle build files. Put these in the <code>android</code> block in your module's <code>build.gradle</code>:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n</code></pre>\n<hr />\n<p>*Note: Well, they could have used the old Java pattern of providing an interface Adapter class that has open, empty implementations of each interface function. The downside with this approach, though, is that the listener must be solely a listener. But I think that should usually be the case anyway if you care about encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":3015778,"reputation":480,"user_id":2689806,"display_name":"Raj Kanchan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641204510,"creation_date":1640979337,"answer_id":70545207,"question_id":70384129,"body_markdown":"You can create this function to use `DefaultLifecycleObserver` and call it in `onCreate`() lifecycle callback of an `Activity`\r\n\r\n```kotlin\r\n    private fun addDefaultLifeCycleObserver() {\r\n        val defaultLifecycleObserver = object : DefaultLifecycleObserver {\r\n            override fun onCreate(owner: LifecycleOwner) {\r\n                super.onCreate(owner)\r\n                Log.d(&quot;Main&quot;, &quot;DefaultLifecycleObserver - onCreate&quot;)\r\n            }\r\n        }\r\n        lifecycle.addObserver(defaultLifecycleObserver)\r\n    }\r\n```","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>You can create this function to use <code>DefaultLifecycleObserver</code> and call it in <code>onCreate</code>() lifecycle callback of an <code>Activity</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun addDefaultLifeCycleObserver() {\n        val defaultLifecycleObserver = object : DefaultLifecycleObserver {\n            override fun onCreate(owner: LifecycleOwner) {\n                super.onCreate(owner)\n                Log.d(&quot;Main&quot;, &quot;DefaultLifecycleObserver - onCreate&quot;)\n            }\n        }\n        lifecycle.addObserver(defaultLifecycleObserver)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13120333,"reputation":4131,"user_id":13546426,"display_name":"Shubham Panchal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1642998111,"creation_date":1642998111,"answer_id":70828974,"question_id":70384129,"body_markdown":"In order to keep track of the current `Activity`&#39;s lifecycle, you can use the `LifecycleEventObserver` class.\r\nFirst, create a callback,\r\n\r\n```kotlin\r\nprivate val lifecycleEventObserver = LifecycleEventObserver { source, event -&gt;\r\n    if (event == Lifecycle.Event.ON_RESUME ) {\r\n        Log.e( &quot;APP&quot; , &quot;resumed&quot; )\r\n    }\r\n    else if ( event == Lifecycle.Event.ON_PAUSE ) {\r\n        Log.e( &quot;APP&quot; , &quot;paused&quot; )\r\n    }\r\n}\r\n```\r\nAttach the callback in the `onCreate` method of the `Activity` using `lifecycle.add( Observer )` method,\r\n\r\n```kotlin\r\nlifecycle.addObserver( lifecycleEventObserver )\r\n```","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>In order to keep track of the current <code>Activity</code>'s lifecycle, you can use the <code>LifecycleEventObserver</code> class.\nFirst, create a callback,</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val lifecycleEventObserver = LifecycleEventObserver { source, event -&gt;\n    if (event == Lifecycle.Event.ON_RESUME ) {\n        Log.e( &quot;APP&quot; , &quot;resumed&quot; )\n    }\n    else if ( event == Lifecycle.Event.ON_PAUSE ) {\n        Log.e( &quot;APP&quot; , &quot;paused&quot; )\n    }\n}\n</code></pre>\n<p>Attach the callback in the <code>onCreate</code> method of the <code>Activity</code> using <code>lifecycle.add( Observer )</code> method,</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>lifecycle.addObserver( lifecycleEventObserver )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1174445,"reputation":3883,"user_id":1150795,"display_name":"Piotr Wittchen"},"score":1,"creation_date":1647801838,"post_id":71066222,"comment_id":126457097,"body_markdown":"This is the correct answer to the main question according to the documentation here: https://developer.android.com/topic/libraries/architecture/lifecycle#lco - not the one marked as a correct in this thread.","body":"This is the correct answer to the main question according to the documentation here: <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle#lco\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a> - not the one marked as a correct in this thread."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1658852872,"post_id":71066222,"comment_id":129153050,"body_markdown":"@PiotrWittchen, my answer is short on detail, but the first sentence of the third paragraph is describing what is explained in detail here.","body":"@PiotrWittchen, my answer is short on detail, but the first sentence of the third paragraph is describing what is explained in detail here."}],"tags":[],"owner":{"account_id":11450008,"reputation":1968,"user_id":8392648,"display_name":"S. Gissel"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1660324113,"creation_date":1644500732,"answer_id":71066222,"question_id":70384129,"body_markdown":"Your class must implement DefaultLifecycleObserver like so\r\n\r\n    public class MyFavoriteClass implements DefaultLifecycleObserver\r\n\r\nThen implement the methods needed (Android Studio: ALT + i)\r\n\r\n    @Override\r\n    public void onResume(@NonNull LifecycleOwner owner) {\r\n        methodRunsAtOnResume();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy(@NonNull LifecycleOwner owner) {\r\n        myFavoriteOnDestroyMethod();\r\n    }\r\n\r\nIn your activity or fragment add this to onCreate()\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        MyOtherClass clazz = new MyOtherClass();\r\n        getLifecycle().addObserver(clazz);\r\n    }\r\n\r\nTo implement it more correctly create your own observer class, pass the object you like to observe to it. Nice article about it is https://medium.com/@MinaSamy/android-architecture-components-lifecycle-433ace1ec05d","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>Your class must implement DefaultLifecycleObserver like so</p>\n<pre><code>public class MyFavoriteClass implements DefaultLifecycleObserver\n</code></pre>\n<p>Then implement the methods needed (Android Studio: ALT + i)</p>\n<pre><code>@Override\npublic void onResume(@NonNull LifecycleOwner owner) {\n    methodRunsAtOnResume();\n}\n\n@Override\npublic void onDestroy(@NonNull LifecycleOwner owner) {\n    myFavoriteOnDestroyMethod();\n}\n</code></pre>\n<p>In your activity or fragment add this to onCreate()</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    MyOtherClass clazz = new MyOtherClass();\n    getLifecycle().addObserver(clazz);\n}\n</code></pre>\n<p>To implement it more correctly create your own observer class, pass the object you like to observe to it. Nice article about it is <a href=\"https://medium.com/@MinaSamy/android-architecture-components-lifecycle-433ace1ec05d\" rel=\"noreferrer\">https://medium.com/@MinaSamy/android-architecture-components-lifecycle-433ace1ec05d</a></p>\n"},{"tags":[],"owner":{"account_id":3840744,"reputation":2581,"user_id":3183912,"accept_rate":100,"display_name":"Agna JirKon Rx"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645812364,"creation_date":1645812364,"answer_id":71270014,"question_id":70384129,"body_markdown":"You can simply replace the deprecated `@OnLifecycleEvent` with `DefaultLifecycleObserver` as you can see in the following example:\r\n\r\nOld code:\r\n\r\n    @OnLifecycleEvent(Lifecycle.Event.ON_CREATE)\r\n    fun onCreate() {\r\n        // your code\r\n    }\r\n\r\nNew code:\r\n\r\n    override fun onCreate(owner: LifecycleOwner) {\r\n        super.onCreate(owner)\r\n        // your code\r\n    }\r\n\r\n","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>You can simply replace the deprecated <code>@OnLifecycleEvent</code> with <code>DefaultLifecycleObserver</code> as you can see in the following example:</p>\n<p>Old code:</p>\n<pre><code>@OnLifecycleEvent(Lifecycle.Event.ON_CREATE)\nfun onCreate() {\n    // your code\n}\n</code></pre>\n<p>New code:</p>\n<pre><code>override fun onCreate(owner: LifecycleOwner) {\n    super.onCreate(owner)\n    // your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13535741,"reputation":1832,"user_id":9764941,"display_name":"Ali Azaz Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678783632,"creation_date":1678783632,"answer_id":75730828,"question_id":70384129,"body_markdown":"Firstly, Inherit the class from `LifecycleEventObserver`\r\n\r\nThen in the `init` block or `onCreate` add this line:\r\n\r\n    lifecycle.addObserver(this)\r\n\r\nor if you are working in non-activity/fragment class then add this instead:\r\n\r\n    ProcessLifecycleOwner.get().lifecycle.addObserver(this)\r\n\r\nThen override `onStateChanged` function:\r\n\r\n    override fun onStateChanged(source: LifecycleOwner, event: Lifecycle.Event) {\r\n        when(event){\r\n            Lifecycle.Event.ON_STOP -&gt; TODO()\r\n            Lifecycle.Event.ON_CREATE -&gt; TODO()\r\n            Lifecycle.Event.ON_START -&gt; TODO()\r\n            Lifecycle.Event.ON_RESUME -&gt; TODO()\r\n            Lifecycle.Event.ON_PAUSE -&gt; TODO()\r\n            Lifecycle.Event.ON_DESTROY -&gt; TODO()\r\n            Lifecycle.Event.ON_ANY -&gt; TODO()\r\n        }\r\n    }\r\n\r\nAlso, if you have implemented `androidx-startup` in manifest then change that code to this otherwise `LifecycleEventObserver` won&#39;t call:\r\n\r\n```\r\n&lt;provider\r\n         android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n         android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n         android:exported=&quot;false&quot;\r\n         tools:node=&quot;merge&quot;&gt;\r\n\r\n&lt;!-- If you are using androidx.startup to initialize other components then define it in this block--&gt;\r\n         \r\n&lt;/provider&gt;\r\n\r\n```","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>Firstly, Inherit the class from <code>LifecycleEventObserver</code></p>\n<p>Then in the <code>init</code> block or <code>onCreate</code> add this line:</p>\n<pre><code>lifecycle.addObserver(this)\n</code></pre>\n<p>or if you are working in non-activity/fragment class then add this instead:</p>\n<pre><code>ProcessLifecycleOwner.get().lifecycle.addObserver(this)\n</code></pre>\n<p>Then override <code>onStateChanged</code> function:</p>\n<pre><code>override fun onStateChanged(source: LifecycleOwner, event: Lifecycle.Event) {\n    when(event){\n        Lifecycle.Event.ON_STOP -&gt; TODO()\n        Lifecycle.Event.ON_CREATE -&gt; TODO()\n        Lifecycle.Event.ON_START -&gt; TODO()\n        Lifecycle.Event.ON_RESUME -&gt; TODO()\n        Lifecycle.Event.ON_PAUSE -&gt; TODO()\n        Lifecycle.Event.ON_DESTROY -&gt; TODO()\n        Lifecycle.Event.ON_ANY -&gt; TODO()\n    }\n}\n</code></pre>\n<p>Also, if you have implemented <code>androidx-startup</code> in manifest then change that code to this otherwise <code>LifecycleEventObserver</code> won't call:</p>\n<pre><code>&lt;provider\n         android:name=&quot;androidx.startup.InitializationProvider&quot;\n         android:authorities=&quot;${applicationId}.androidx-startup&quot;\n         android:exported=&quot;false&quot;\n         tools:node=&quot;merge&quot;&gt;\n\n&lt;!-- If you are using androidx.startup to initialize other components then define it in this block--&gt;\n         \n&lt;/provider&gt;\n\n</code></pre>\n"}],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22463,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":70384221,"answer_count":6,"score":43,"last_activity_date":1678783632,"creation_date":1639680276,"question_id":70384129,"body_markdown":"After updating `lifecycle` library to 2.4.0 Android studio marked all Lifecycle events as deprecated.\r\n\r\n    @OnLifecycleEvent(Lifecycle.Event.ON_CREATE)\r\n    fun create() {\r\n        tts = TextToSpeech(context, this)\r\n    }\r\n\r\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\r\n    fun stopTTS() {\r\n        tts?.stop()\r\n    }\r\n\r\nIs there any equivalent replacement such as `DefaultLifecycleObserver` ?","title":"Lifecycle OnLifecycleEvent is deprecated","body":"<p>After updating <code>lifecycle</code> library to 2.4.0 Android studio marked all Lifecycle events as deprecated.</p>\n<pre><code>@OnLifecycleEvent(Lifecycle.Event.ON_CREATE)\nfun create() {\n    tts = TextToSpeech(context, this)\n}\n\n@OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\nfun stopTTS() {\n    tts?.stop()\n}\n</code></pre>\n<p>Is there any equivalent replacement such as <code>DefaultLifecycleObserver</code> ?</p>\n"},{"tags":["java","mysql","sql","datetime"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1678650854,"post_id":75715959,"comment_id":133570591,"body_markdown":"What&#39;s date data type of the table column or query? What&#39;s the data type of the Java object?","body":"What&#39;s date data type of the table column or query? What&#39;s the data type of the Java object?"},{"owner":{"account_id":380784,"reputation":1015,"user_id":735039,"display_name":"Josiah Hudson"},"score":4,"creation_date":1678651853,"post_id":75715959,"comment_id":133570788,"body_markdown":"This might be a dumb question, but how long have you been seeing this issue?  If, for example, the code was working for everyone, and then when you tried it today after 2AM, your issue could be as simple as daylight savings time just starting this morning.","body":"This might be a dumb question, but how long have you been seeing this issue?  If, for example, the code was working for everyone, and then when you tried it today after 2AM, your issue could be as simple as daylight savings time just starting this morning."},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678653637,"post_id":75715959,"comment_id":133571058,"body_markdown":"It&#39;s time to learn about Epoch and timezones, TimeZone.getDefault(); and see which timezone you&#39;re using","body":"It&#39;s time to learn about Epoch and timezones, TimeZone.getDefault(); and see which timezone you&#39;re using"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1678660568,"post_id":75715959,"comment_id":133572104,"body_markdown":"@Karim `TimeZone` was supplanted years ago by `ZoneId`.","body":"@Karim <code>TimeZone</code> was supplanted years ago by <code>ZoneId</code>."},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678698740,"post_id":75715959,"comment_id":133577192,"body_markdown":"@Basil Bourque still doesn&#39;t change the fact you can still get the default value of timezone used in your JVM when you call TimeZone.getDefault()","body":"@Basil Bourque still doesn&#39;t change the fact you can still get the default value of timezone used in your JVM when you call TimeZone.getDefault()"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678698807,"post_id":75715959,"comment_id":133577202,"body_markdown":"from the Doc: Gets the default TimeZone of the Java virtual machine. If the cached default TimeZone is available, its clone is returned. Otherwise, the method takes the following steps to determine the default time zone. Use the user.timezone property value as the default time zone ID if it&#39;s available.\nDetect the platform time zone ID. The source of the platform time zone and ID mapping may vary with implementation.\nUse GMT as the last resort if the given or detected time zone ID is unknown.","body":"from the Doc: Gets the default TimeZone of the Java virtual machine. If the cached default TimeZone is available, its clone is returned. Otherwise, the method takes the following steps to determine the default time zone. Use the user.timezone property value as the default time zone ID if it&#39;s available. Detect the platform time zone ID. The source of the platform time zone and ID mapping may vary with implementation. Use GMT as the last resort if the given or detected time zone ID is unknown."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678702578,"post_id":75715959,"comment_id":133578259,"body_markdown":"@Karim You indeed can. We are many who recommend using the modern way and ignoring the outdated class for the sake of the good habit and because the `TimeZone` class is poorly designed and has some nasty surprises.","body":"@Karim You indeed can. We are many who recommend using the modern way and ignoring the outdated class for the sake of the good habit and because the <code>TimeZone</code> class is poorly designed and has some nasty surprises."},{"owner":{"account_id":17143982,"reputation":1,"user_id":12407326,"display_name":"RiddleJ9879"},"score":0,"creation_date":1678713152,"post_id":75715959,"comment_id":133581361,"body_markdown":"@TheImpaler The datatype in SQL is a timestamp datatype and the Java query converts the timestamp to a LocalDateTime. However, if I System.out.println( [SQL RETURN] ), without converting, the server is sending back the timestamp with the extra hour.","body":"@TheImpaler The datatype in SQL is a timestamp datatype and the Java query converts the timestamp to a LocalDateTime. However, if I System.out.println( [SQL RETURN] ), without converting, the server is sending back the timestamp with the extra hour."},{"owner":{"account_id":17143982,"reputation":1,"user_id":12407326,"display_name":"RiddleJ9879"},"score":2,"creation_date":1678713342,"post_id":75715959,"comment_id":133581415,"body_markdown":"@JosiahHudson Not a dumb question at all. We have been working on this project for 3 - 4 weeks and it has been an issue from day one. I&#39;m sorry I didnt say in the original post but if I turn off the Day Light Saving time the time will be correct but I know that is not viable a permanent solution. However, the tests still fail this morning after DST.","body":"@JosiahHudson Not a dumb question at all. We have been working on this project for 3 - 4 weeks and it has been an issue from day one. I&#39;m sorry I didnt say in the original post but if I turn off the Day Light Saving time the time will be correct but I know that is not viable a permanent solution. However, the tests still fail this morning after DST."},{"owner":{"account_id":17143982,"reputation":1,"user_id":12407326,"display_name":"RiddleJ9879"},"score":1,"creation_date":1678714928,"post_id":75715959,"comment_id":133581936,"body_markdown":"ZoneID.systemDefault() = America/Chicago\nTimeZone.getDefault() = util.calendar.ZoneInfo\n[id=&quot;America/Chicago&quot;, offset=-21600000, dstSavings=3600000, useDaylight=true, transitions=235, lastRule=java.util.SimpleTimeZone[id=America/Chicago, offset=-21600000, dstSavings=3600000, useDaylight=true, startYear=0, startMode=3, startMonth=2, startDay=8, startDayOfWeek=1, startTime=7200000, startTimeMode=0, endMode=3 endMonth=10, endDay=1, endDayOfWeek=1, endTime=7200000, endTimeMode=0 ] ]\n\nAll these settings are identical on all systems and SQL is using America/Chicago.","body":"ZoneID.systemDefault() = America/Chicago TimeZone.getDefault() = util.calendar.ZoneInfo [id=&quot;America/Chicago&quot;, offset=-21600000, dstSavings=3600000, useDaylight=true, transitions=235, lastRule=java.util.SimpleTimeZone[id=America/Chicago, offset=-21600000, dstSavings=3600000, useDaylight=true, startYear=0, startMode=3, startMonth=2, startDay=8, startDayOfWeek=1, startTime=7200000, startTimeMode=0, endMode=3 endMonth=10, endDay=1, endDayOfWeek=1, endTime=7200000, endTimeMode=0 ] ]  All these settings are identical on all systems and SQL is using America/Chicago."}],"owner":{"account_id":17143982,"reputation":1,"user_id":12407326,"display_name":"RiddleJ9879"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678783441,"creation_date":1678650501,"question_id":75715959,"body_markdown":"I&#39;m working on a Java project with few classmates handling SQL database information, for some reason any time my computer makes a timestamp query to the server the time returned always has an hour added to it. This issue is unique to my computer and attempt to correct it, either with magic numbers or programmatically, cause everyone else&#39;s code to break.\r\n\r\nWe have been working on this project for 3 - 4 weeks, and it has been an issue from day one. If I turn off the Daylight Saving time, the time will be correct, but I know that is not viable a permanent solution. The tests still fail this morning after DST.\r\n\r\nSoftware details\r\nJava -version\r\n\topenJDK version &quot;17.0.6&quot; 2023-01-17\r\n\tOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\r\n\tOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode, sharing)\r\n\tjavac 17.0.6\r\n\r\nNetBeans: \tApache NetBeans IDE 15\r\nJava:\t\t17.0.6; OpenJDK 64-Bit Server VM 17.0.6+10-LTS\r\nRuntime:\tOpenJDK Runtime Environment 17.0.6+10-LTS\r\nSystem:\t\tWindows 11 version 10.0 running on amd64; Cp1252; en_US (nb)\r\n\r\nMySQL\t\t\t\r\nClient:\t\tVersion 14.14 Distrib 5.7.40 for Win64(x86_64)\r\nServer:\t\tVersion\t5.7.40\r\nWorkbench:\tVersion 8.0.31 build 22355049 CE (64 bits)\r\nConnector J:\tVersion 8.0.31\r\n\r\nAll of us are in the same time zone and have identical time settings, Central -6:00, set time automatically, and adjust for dst. The MySQL time zone queries return the correct time zone and initially the MySQL @@SESSION.time_zone returned -05:00, in spite of being set to Central Time Zone. Using the administrative options of MySQL Workbench I manually set the time_zone to -06:00, which didn&#39;t help. When I used the command SQL command SET time_zone = &#39;-06:00&#39;; it changed the @@SESSION.time_zone to -06:00 but the outputs results remained the same. TimeZone.getDefault() on all of out systems returns the same results so there was no useful information in there.\r\n\r\nI&#39;m not sure what the cause is or how to fix it. Any help or advice would be greatly appreciated.\r\n\r\n\r\nData, settings, output\r\n\r\n![1](https://i.stack.imgur.com/gJo3f.png)\r\n","title":"SQL Server or Java is adding an extra hour to timestamp queries","body":"<p>I'm working on a Java project with few classmates handling SQL database information, for some reason any time my computer makes a timestamp query to the server the time returned always has an hour added to it. This issue is unique to my computer and attempt to correct it, either with magic numbers or programmatically, cause everyone else's code to break.</p>\n<p>We have been working on this project for 3 - 4 weeks, and it has been an issue from day one. If I turn off the Daylight Saving time, the time will be correct, but I know that is not viable a permanent solution. The tests still fail this morning after DST.</p>\n<p>Software details\nJava -version\nopenJDK version &quot;17.0.6&quot; 2023-01-17\nOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\nOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode, sharing)\njavac 17.0.6</p>\n<p>NetBeans:   Apache NetBeans IDE 15\nJava:       17.0.6; OpenJDK 64-Bit Server VM 17.0.6+10-LTS\nRuntime:    OpenJDK Runtime Environment 17.0.6+10-LTS\nSystem:     Windows 11 version 10.0 running on amd64; Cp1252; en_US (nb)</p>\n<p>MySQL<br />\nClient:     Version 14.14 Distrib 5.7.40 for Win64(x86_64)\nServer:     Version 5.7.40\nWorkbench:  Version 8.0.31 build 22355049 CE (64 bits)\nConnector J:    Version 8.0.31</p>\n<p>All of us are in the same time zone and have identical time settings, Central -6:00, set time automatically, and adjust for dst. The MySQL time zone queries return the correct time zone and initially the MySQL @@SESSION.time_zone returned -05:00, in spite of being set to Central Time Zone. Using the administrative options of MySQL Workbench I manually set the time_zone to -06:00, which didn't help. When I used the command SQL command SET time_zone = '-06:00'; it changed the @@SESSION.time_zone to -06:00 but the outputs results remained the same. TimeZone.getDefault() on all of out systems returns the same results so there was no useful information in there.</p>\n<p>I'm not sure what the cause is or how to fix it. Any help or advice would be greatly appreciated.</p>\n<p>Data, settings, output</p>\n<p><img src=\"https://i.stack.imgur.com/gJo3f.png\" alt=\"1\" /></p>\n"},{"tags":["java","spring","mongodb","testing"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1678784602,"post_id":75730701,"comment_id":133596119,"body_markdown":"Check if you are using correct imports for `@Test` annotation depending on Junit version you want to use.","body":"Check if you are using correct imports for <code>@Test</code> annotation depending on Junit version you want to use."},{"owner":{"account_id":1183778,"reputation":165,"user_id":1158143,"accept_rate":44,"display_name":"T.Dabrowski"},"score":0,"creation_date":1678787699,"post_id":75730701,"comment_id":133597005,"body_markdown":"Check if surefire plugin is using the corrent runner if you&#39;re using Maven.","body":"Check if surefire plugin is using the corrent runner if you&#39;re using Maven."},{"owner":{"account_id":23933182,"reputation":1,"user_id":17927334,"display_name":"Aryana Azadi"},"score":0,"creation_date":1678869026,"post_id":75730701,"comment_id":133614770,"body_markdown":"I checked both. unfortunately, non solved my problem. :(","body":"I checked both. unfortunately, non solved my problem. :("}],"owner":{"account_id":23933182,"reputation":1,"user_id":17927334,"display_name":"Aryana Azadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678782850,"creation_date":1678782850,"question_id":75730701,"body_markdown":"I&#39;m trying to run tests on my project but I get the error: No Tests Were Found.\r\nI&#39;m using Spring Boot with Java 11\r\nMy database is MongoDB\r\nHere is a mongo container class with test annotations:\r\n\r\n```\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n@ContextConfiguration(initializers = MongoContainer.DockerMongoDataSourceInitializer.class)\r\n@Testcontainers\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic abstract class MongoContainer {\r\n    @SpyBean\r\n    protected DeviceDao deviceDao;\r\n    @SpyBean\r\n    protected Datastore datastore;\r\n    @MockBean\r\n    protected Connection connection;\r\n    @MockBean\r\n    protected SentryClient sentryClient;\r\n\r\n    public static final MongoDBContainer mongoDBContainer = new MongoDBContainer(DockerImageName.parse(&quot;mongo:4.4.0&quot;));\r\n\r\n    static {\r\n        mongoDBContainer.start();\r\n    }\r\n    public static class DockerMongoDataSourceInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n\r\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                    applicationContext,\r\n                    String.format(&quot;spring.data.mongodb.uri=mongodb://%s:%s&quot;, mongoDBContainer.getContainerIpAddress(), mongoDBContainer.getMappedPort(27017)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAll the test classes extends MongoContainer and end with Test or Tests.\r\n\r\nHere is a sample:\r\n\r\n\r\n```\r\npublic class DeviceServiceTests extends MongoContainer {\r\n\r\n    @Test\r\n    public void deActivateOldDeviceTest(){\r\n        assertThat(true).isEqualTo(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\nAny Idea what may be the problem? If any more info is needed please let me know. I&#39;ll add to the post.\r\n\r\nExtra Info:\r\nI&#39;m new to Spring and the project and just started working on it.\r\n\r\nI played with pom.xml a lot. I could not solve the problem.\r\nThis topic didn&#39;t help: [This](https://stackoverflow.com/questions/53179735/no-tests-were-found-empty-test-suite-when-running-junit-5-testcase-on-bare-bon)\r\nAlso I searched a lot more but didn&#39;t find anything useful.","title":"No Tests Were Found - Spring - MongoDB","body":"<p>I'm trying to run tests on my project but I get the error: No Tests Were Found.\nI'm using Spring Boot with Java 11\nMy database is MongoDB\nHere is a mongo container class with test annotations:</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ContextConfiguration(initializers = MongoContainer.DockerMongoDataSourceInitializer.class)\n@Testcontainers\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic abstract class MongoContainer {\n    @SpyBean\n    protected DeviceDao deviceDao;\n    @SpyBean\n    protected Datastore datastore;\n    @MockBean\n    protected Connection connection;\n    @MockBean\n    protected SentryClient sentryClient;\n\n    public static final MongoDBContainer mongoDBContainer = new MongoDBContainer(DockerImageName.parse(&quot;mongo:4.4.0&quot;));\n\n    static {\n        mongoDBContainer.start();\n    }\n    public static class DockerMongoDataSourceInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                    applicationContext,\n                    String.format(&quot;spring.data.mongodb.uri=mongodb://%s:%s&quot;, mongoDBContainer.getContainerIpAddress(), mongoDBContainer.getMappedPort(27017)));\n        }\n    }\n}\n</code></pre>\n<p>All the test classes extends MongoContainer and end with Test or Tests.</p>\n<p>Here is a sample:</p>\n<pre><code>public class DeviceServiceTests extends MongoContainer {\n\n    @Test\n    public void deActivateOldDeviceTest(){\n        assertThat(true).isEqualTo(true);\n    }\n}\n</code></pre>\n<p>Any Idea what may be the problem? If any more info is needed please let me know. I'll add to the post.</p>\n<p>Extra Info:\nI'm new to Spring and the project and just started working on it.</p>\n<p>I played with pom.xml a lot. I could not solve the problem.\nThis topic didn't help: <a href=\"https://stackoverflow.com/questions/53179735/no-tests-were-found-empty-test-suite-when-running-junit-5-testcase-on-bare-bon\">This</a>\nAlso I searched a lot more but didn't find anything useful.</p>\n"},{"tags":["java","arabic"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678768900,"post_id":75729128,"comment_id":133593253,"body_markdown":"Brother, I don&#39;t know what&#39;s actually happening for you, but God willing, you might get some ideas [from this question](https://stackoverflow.com/q/73234982)","body":"Brother, I don&#39;t know what&#39;s actually happening for you, but God willing, you might get some ideas <a href=\"https://stackoverflow.com/q/73234982\">from this question</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678769145,"post_id":75729128,"comment_id":133593289,"body_markdown":"If you are presenting UTF-8 in a console, you must be certain that console is set to handle UTF-8.","body":"If you are presenting UTF-8 in a console, you must be certain that console is set to handle UTF-8."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678769194,"post_id":75729128,"comment_id":133593297,"body_markdown":"Edit your Question to give a simple piece of Arabic text as input, and show exactly what you get as output.","body":"Edit your Question to give a simple piece of Arabic text as input, and show exactly what you get as output."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678769432,"post_id":75729128,"comment_id":133593331,"body_markdown":"See Arabic text from Java appear on a console [at Ideone.com](https://ideone.com/DhZg77).","body":"See Arabic text from Java appear on a console <a href=\"https://ideone.com/DhZg77\" rel=\"nofollow noreferrer\">at Ideone.com</a>."},{"owner":{"account_id":26903340,"reputation":1,"user_id":20480122,"display_name":"ABD ALRAHMAN ALASSAF"},"score":0,"creation_date":1678770987,"post_id":75729128,"comment_id":133593515,"body_markdown":"@KarlKnechtel Unfortunately no it did not work","body":"@KarlKnechtel Unfortunately no it did not work"},{"owner":{"account_id":26903340,"reputation":1,"user_id":20480122,"display_name":"ABD ALRAHMAN ALASSAF"},"score":0,"creation_date":1678771216,"post_id":75729128,"comment_id":133593546,"body_markdown":"@BasilBourque it did not work and I am still getting the same question marks as shown in the image I recently upload","body":"@BasilBourque it did not work and I am still getting the same question marks as shown in the image I recently upload"}],"answers":[{"comments":[{"owner":{"account_id":26903340,"reputation":1,"user_id":20480122,"display_name":"ABD ALRAHMAN ALASSAF"},"score":0,"creation_date":1678773108,"post_id":75729363,"comment_id":133593782,"body_markdown":"Can you tell me more about promoting the terminal to set to UTF-8?\nIf you mean tiyping this command in the terminal &#39;chcp 65001&#39;, then I already did it and it&#39;s still not working\nThanks in Advance","body":"Can you tell me more about promoting the terminal to set to UTF-8? If you mean tiyping this command in the terminal &#39;chcp 65001&#39;, then I already did it and it&#39;s still not working Thanks in Advance"}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678782836,"creation_date":1678771609,"answer_id":75729363,"question_id":75729128,"body_markdown":"You require Arabic fonts in your OS.\r\n\r\nAs someone said be sure your prompt or terminal is set to UTF-8\r\n\r\nYou may need to install **into your OS the Arabic &quot;locale&quot;** so it can be set down in the taskbar for use with the prompt or terminal.\r\n\r\n*You should specify compiling your class file in UTF-8 for javac with the -encoding flag , and the source file should be saved in UTF-8.*\r\n\r\nYou may need to consolidate string charset for it&#39;s charset version.\r\nString.format() method.\r\n*Anything manipulating charsets requires wrapping in a java.io.UnsupportedEncodingException including any e.g. new String constructors nominating a charset!*\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\r\n\r\n    try{\r\n    String name1 = String.format(new Locale(&quot;ar&quot;),&quot;%s&quot;,new String(name1.getBytes(&quot;UTF-8&quot;),&quot;UTF-8&quot;));\r\n    catch(java.io.UnsupportedEncodingException charstex){\r\n    charstex.printStackTrace();\r\n    }\r\n\r\n\r\n\r\n**Visual Studio** foreign languages\r\nhttps://code.visualstudio.com/docs/getstarted/locales\r\nToo, with windows, *you can open the prompt as the top window, then right click on the little square with two letters in the taskbar along the bottom of the desktop, it should open a dialog widow with the list of languages for input and output.* If Arabic is there it should be able to be selected. Putting in both a web charset for Arabic and a generic ordinary mainly used charset for Arabic can greatly help too after installing Arabic if it is not there.\r\n\r\n**Info on prompt chcp 65001**\r\nhttps://stackoverflow.com/questions/57131654/using-utf-8-encoding-chcp-65001-in-command-prompt-windows-powershell-window\r\n\r\n**Java supported charset encodings cp1256 windows Arabic. ,. ISO8859-6. Latin/Arabic mixture.**\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\r\n\r\nDid youu see the &quot;%s&quot; argument in format() method? In Linux right clicking on the terminal edge should do a popup specific to the terminal, but if you only have an &quot;en&quot; Operating System you need to put in the international locales from the install disc, and in windows per OS for specific I think professional version is required or you may be able to download that locale, whether it&#39;s free or not I don&#39;t know.\r\n\r\n**Fonts**\r\nYou would need to install some generic Arabic font files too if the OS (Operating System) was only one language e.g. only English.","title":"Displaying Arabic word in java","body":"<p>You require Arabic fonts in your OS.</p>\n<p>As someone said be sure your prompt or terminal is set to UTF-8</p>\n<p>You may need to install <strong>into your OS the Arabic &quot;locale&quot;</strong> so it can be set down in the taskbar for use with the prompt or terminal.</p>\n<p><em>You should specify compiling your class file in UTF-8 for javac with the -encoding flag , and the source file should be saved in UTF-8.</em></p>\n<p>You may need to consolidate string charset for it's charset version.\nString.format() method.\n<em>Anything manipulating charsets requires wrapping in a java.io.UnsupportedEncodingException including any e.g. new String constructors nominating a charset!</em>\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax</a></p>\n<pre><code>try{\nString name1 = String.format(new Locale(&quot;ar&quot;),&quot;%s&quot;,new String(name1.getBytes(&quot;UTF-8&quot;),&quot;UTF-8&quot;));\ncatch(java.io.UnsupportedEncodingException charstex){\ncharstex.printStackTrace();\n}\n</code></pre>\n<p><strong>Visual Studio</strong> foreign languages\n<a href=\"https://code.visualstudio.com/docs/getstarted/locales\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/getstarted/locales</a>\nToo, with windows, <em>you can open the prompt as the top window, then right click on the little square with two letters in the taskbar along the bottom of the desktop, it should open a dialog widow with the list of languages for input and output.</em> If Arabic is there it should be able to be selected. Putting in both a web charset for Arabic and a generic ordinary mainly used charset for Arabic can greatly help too after installing Arabic if it is not there.</p>\n<p><strong>Info on prompt chcp 65001</strong>\n<a href=\"https://stackoverflow.com/questions/57131654/using-utf-8-encoding-chcp-65001-in-command-prompt-windows-powershell-window\">Using UTF-8 Encoding (CHCP 65001) in Command Prompt / Windows Powershell (Windows 10)</a></p>\n<p><strong>Java supported charset encodings cp1256 windows Arabic. ,. ISO8859-6. Latin/Arabic mixture.</strong>\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html</a></p>\n<p>Did youu see the &quot;%s&quot; argument in format() method? In Linux right clicking on the terminal edge should do a popup specific to the terminal, but if you only have an &quot;en&quot; Operating System you need to put in the international locales from the install disc, and in windows per OS for specific I think professional version is required or you may be able to download that locale, whether it's free or not I don't know.</p>\n<p><strong>Fonts</strong>\nYou would need to install some generic Arabic font files too if the OS (Operating System) was only one language e.g. only English.</p>\n"}],"owner":{"account_id":26903340,"reputation":1,"user_id":20480122,"display_name":"ABD ALRAHMAN ALASSAF"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678772403,"answer_count":1,"score":-1,"last_activity_date":1678782836,"creation_date":1678768696,"question_id":75729128,"body_markdown":"I am trying to displaying Arabic words in in my program, but it shows strange symbols, and when I try to read Arabic inputs using `Scanner` the values are saving as question marks `?????????`\r\n\r\nNote: My IDE is VSCode\r\n\r\nI spent 3 hours on searching but non of the previous answers worked with  me here is the code.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass arabicInputs{\r\n    public static void main ( String [] args){\r\n\r\n        String name1 = &quot;بسم الله&quot;;\r\n        System.out.print(name1);\r\n\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        Scanner input = new Scanner(System.in, &quot;UTF-8&quot;);\r\n\r\n        name1 = input.nextLine() ;\r\n\r\n        System.out.println(name1);\r\n    }\r\n}\r\n```\r\n\r\nhere is the output \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdtII.png","title":"Displaying Arabic word in java","body":"<p>I am trying to displaying Arabic words in in my program, but it shows strange symbols, and when I try to read Arabic inputs using <code>Scanner</code> the values are saving as question marks <code>?????????</code></p>\n<p>Note: My IDE is VSCode</p>\n<p>I spent 3 hours on searching but non of the previous answers worked with  me here is the code.</p>\n<pre><code>import java.util.Scanner;\n\nclass arabicInputs{\n    public static void main ( String [] args){\n\n        String name1 = &quot;بسم الله&quot;;\n        System.out.print(name1);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        Scanner input = new Scanner(System.in, &quot;UTF-8&quot;);\n\n        name1 = input.nextLine() ;\n\n        System.out.println(name1);\n    }\n}\n</code></pre>\n<p>here is the output\n<a href=\"https://i.stack.imgur.com/DdtII.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","opensearch"],"answers":[{"comments":[{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1678725817,"post_id":75724324,"comment_id":133585577,"body_markdown":"same error:\n&quot;Unknown aggregation type [geohex_grid]&quot;","body":"same error: &quot;Unknown aggregation type [geohex_grid]&quot;"},{"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"score":0,"creation_date":1678778651,"post_id":75724324,"comment_id":133594687,"body_markdown":"What is your Opensearch version?","body":"What is your Opensearch version?"},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1678778918,"post_id":75724324,"comment_id":133594754,"body_markdown":"that is 2.4.1, but i have tried this with higher version also.","body":"that is 2.4.1, but i have tried this with higher version also."},{"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"score":0,"creation_date":1678779996,"post_id":75724324,"comment_id":133595022,"body_markdown":"Please share the full error with me","body":"Please share the full error with me"},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1678780800,"post_id":75724324,"comment_id":133595202,"body_markdown":"Caused by: org.opensearch.common.xcontent.NamedObjectNotFoundException: [14:26] unknown field [geohex_grid]","body":"Caused by: org.opensearch.common.xcontent.NamedObjectNotFoundException: [14:26] unknown field [geohex_grid]"}],"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678723732,"creation_date":1678723732,"answer_id":75724324,"question_id":75724222,"body_markdown":"In Opensaerch you can use [geohex_grid][1] rather than geohash_grip.\r\n\r\n    GET national_parks/_search\r\n    {\r\n      &quot;aggregations&quot;: {\r\n        &quot;grouped&quot;: {\r\n          &quot;geohex_grid&quot;: {\r\n            &quot;field&quot;: &quot;location&quot;,\r\n            &quot;precision&quot;: 1\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nhttps://opensearch.org/docs/2.4/opensearch/geohexgrid-agg/\r\n\r\n\r\n  [1]: https://opensearch.org/docs/2.4/opensearch/geohexgrid-agg/","title":"Geohash_grid aggregation in opensearch throws error","body":"<p>In Opensaerch you can use <a href=\"https://opensearch.org/docs/2.4/opensearch/geohexgrid-agg/\" rel=\"nofollow noreferrer\">geohex_grid</a> rather than geohash_grip.</p>\n<pre><code>GET national_parks/_search\n{\n  &quot;aggregations&quot;: {\n    &quot;grouped&quot;: {\n      &quot;geohex_grid&quot;: {\n        &quot;field&quot;: &quot;location&quot;,\n        &quot;precision&quot;: 1\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://opensearch.org/docs/2.4/opensearch/geohexgrid-agg/\" rel=\"nofollow noreferrer\">https://opensearch.org/docs/2.4/opensearch/geohexgrid-agg/</a></p>\n"},{"tags":[],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678782658,"creation_date":1678782658,"answer_id":75730670,"question_id":75724222,"body_markdown":"The problem I resolved by downgrading the org.opensearch.client version to &quot;2.2.1&quot;. Thanks to all, who tried to support me somehow.","title":"Geohash_grid aggregation in opensearch throws error","body":"<p>The problem I resolved by downgrading the org.opensearch.client version to &quot;2.2.1&quot;. Thanks to all, who tried to support me somehow.</p>\n"}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678782658,"creation_date":1678723239,"question_id":75724222,"body_markdown":"I&#39;m gettin this error when trying &quot;geohash_grid&quot; aggregation in java opensearch api. Seems opensearch doesn&#39;t have geohash_grid aggregation type, So what can be the analog, if that&#39;s the case?\r\n\r\n    &quot;aggs&quot;: {\r\n    &quot;filter_agg&quot;: {\r\n      &quot;filter&quot;: {\r\n        &quot;geo_bounding_box&quot;: {\r\n          &quot;ignore_unmapped&quot;: true,\r\n          &quot;location&quot;: {\r\n            &quot;top_left&quot;: {\r\n              &quot;lat&quot;: 90,\r\n              &quot;lon&quot;: -180\r\n            },\r\n            &quot;bottom_right&quot;: {\r\n              &quot;lat&quot;: -90,\r\n              &quot;lon&quot;: 180\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;2&quot;: {\r\n          &quot;geohash_grid&quot;: {\r\n            &quot;field&quot;: &quot;location&quot;,\r\n            &quot;precision&quot;: 2\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;3&quot;: {\r\n              &quot;geo_centroid&quot;: {\r\n                &quot;field&quot;: &quot;location&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\nSo when trying this query, I&#39;m getting this error:\r\n\r\n    &quot;Unknown aggregation type [geohash_grid]&quot;\r\n\r\n\r\n","title":"Geohash_grid aggregation in opensearch throws error","body":"<p>I'm gettin this error when trying &quot;geohash_grid&quot; aggregation in java opensearch api. Seems opensearch doesn't have geohash_grid aggregation type, So what can be the analog, if that's the case?</p>\n<pre><code>&quot;aggs&quot;: {\n&quot;filter_agg&quot;: {\n  &quot;filter&quot;: {\n    &quot;geo_bounding_box&quot;: {\n      &quot;ignore_unmapped&quot;: true,\n      &quot;location&quot;: {\n        &quot;top_left&quot;: {\n          &quot;lat&quot;: 90,\n          &quot;lon&quot;: -180\n        },\n        &quot;bottom_right&quot;: {\n          &quot;lat&quot;: -90,\n          &quot;lon&quot;: 180\n        }\n      }\n    }\n  },\n  &quot;aggs&quot;: {\n    &quot;2&quot;: {\n      &quot;geohash_grid&quot;: {\n        &quot;field&quot;: &quot;location&quot;,\n        &quot;precision&quot;: 2\n      },\n      &quot;aggs&quot;: {\n        &quot;3&quot;: {\n          &quot;geo_centroid&quot;: {\n            &quot;field&quot;: &quot;location&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>},</p>\n<p>So when trying this query, I'm getting this error:</p>\n<pre><code>&quot;Unknown aggregation type [geohash_grid]&quot;\n</code></pre>\n"},{"tags":["java","gradle","windows-10","gradlew"],"comments":[{"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"score":3,"creation_date":1665519318,"post_id":73952476,"comment_id":130718846,"body_markdown":"I&#39;m having the same issue. Any solution yet?","body":"I&#39;m having the same issue. Any solution yet?"},{"owner":{"account_id":52932,"reputation":738,"user_id":158257,"display_name":"Master Drools"},"score":0,"creation_date":1672816526,"post_id":73952476,"comment_id":132356044,"body_markdown":"Solution is described here: https://stackoverflow.com/a/61509462/158257","body":"Solution is described here: <a href=\"https://stackoverflow.com/a/61509462/158257\">stackoverflow.com/a/61509462/158257</a>"}],"answers":[{"tags":[],"owner":{"account_id":26760318,"reputation":61,"user_id":20358402,"display_name":"joel mora"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666960978,"creation_date":1666960978,"answer_id":74235604,"question_id":73952476,"body_markdown":"check if jdk 18 is supported in Android. I am using jdk 11 and NDK 21.3","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache when running gradlew.bat file","body":"<p>check if jdk 18 is supported in Android. I am using jdk 11 and NDK 21.3</p>\n"},{"tags":[],"owner":{"account_id":10317284,"reputation":518,"user_id":10130045,"display_name":"Daniel Bentes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667820853,"creation_date":1667820853,"answer_id":74345946,"question_id":73952476,"body_markdown":"my problem was the issue of the environment variable &quot;JAVA_HOME&quot;, I updated to jdk 11, as it was in the latest jdk, after updating it fixed my problem","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache when running gradlew.bat file","body":"<p>my problem was the issue of the environment variable &quot;JAVA_HOME&quot;, I updated to jdk 11, as it was in the latest jdk, after updating it fixed my problem</p>\n"},{"tags":[],"owner":{"account_id":27924777,"reputation":11,"user_id":21324104,"display_name":"samir khanal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678357989,"creation_date":1677826792,"answer_id":75624038,"question_id":73952476,"body_markdown":"Just switched my java version to jdk 8 &amp; worked for my case. **Try Changing your jdk versions and find out which works the best**. In my case, while using FVM(flutter version manager) , after a week I found that using jdk 8 was working for the older project I was working on despite newer java version worked for my newer projects but not for older projects. ","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache when running gradlew.bat file","body":"<p>Just switched my java version to jdk 8 &amp; worked for my case. <strong>Try Changing your jdk versions and find out which works the best</strong>. In my case, while using FVM(flutter version manager) , after a week I found that using jdk 8 was working for the older project I was working on despite newer java version worked for my newer projects but not for older projects.</p>\n"},{"tags":[],"owner":{"account_id":5432270,"reputation":197,"user_id":4322745,"display_name":"Cui Qing"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678782462,"creation_date":1678782462,"answer_id":75730640,"question_id":73952476,"body_markdown":"Maybe has another Java version in your computer.\r\n[Gradle compatible with java reference.][1]\r\nUpgrade gradle version to the supported Java version in your computer.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html#compatibility","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache when running gradlew.bat file","body":"<p>Maybe has another Java version in your computer.\n<a href=\"https://docs.gradle.org/current/userguide/compatibility.html#compatibility\" rel=\"nofollow noreferrer\">Gradle compatible with java reference.</a>\nUpgrade gradle version to the supported Java version in your computer.</p>\n"}],"owner":{"account_id":21731492,"reputation":216,"user_id":16040171,"display_name":"Barry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29727,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1678782462,"creation_date":1664909961,"question_id":73952476,"body_markdown":"I am trying to run a gradlew.bat file via cmd and am running into the error:\r\n\r\n    Could not initialize class org.codehaus.groovy.runtime.InvokerHelper\r\n    &gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]\r\n\r\nI tried following various solutions from this [post][1] to no avail. I tried changing the value in gradle-wrapper.properties from\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-bin.zip\r\n\r\nto \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n\r\nand ran again but was met with:\r\n\r\n    A problem occurred configuring root project &#39;nexus-deploy&#39;.\r\n    &gt; Could not open cp_proj remapped class cache for s5e1jtxdcnwfq13zlj7qke7c\r\n\r\nI then tried removing the scripts + scripts-remapped folders from the gradle cache but that did nothing as well. Finally, I tried running \r\n\r\n    ./gradlew clean\r\n\r\nbut got \r\n\r\n       * What went wrong:\r\n       A problem occurred configuring root project &#39;nexus-deploy&#39;.\r\n       Could not open cp_proj remapped class cache for s5e1jtxdcnwfq13zlj7qke7c\r\n\r\nI&#39;m not sure what is going wrong and don&#39;t know what else to try. I am on java version &quot;1.8.0_341&quot; and Gradle 7.5.1.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61289461/java-lang-noclassdeffounderror-could-not-initialize-class-org-codehaus-groovy-v","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache when running gradlew.bat file","body":"<p>I am trying to run a gradlew.bat file via cmd and am running into the error:</p>\n<pre><code>Could not initialize class org.codehaus.groovy.runtime.InvokerHelper\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]\n</code></pre>\n<p>I tried following various solutions from this <a href=\"https://stackoverflow.com/questions/61289461/java-lang-noclassdeffounderror-could-not-initialize-class-org-codehaus-groovy-v\">post</a> to no avail. I tried changing the value in gradle-wrapper.properties from</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-bin.zip\n</code></pre>\n<p>to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n<p>and ran again but was met with:</p>\n<pre><code>A problem occurred configuring root project 'nexus-deploy'.\n&gt; Could not open cp_proj remapped class cache for s5e1jtxdcnwfq13zlj7qke7c\n</code></pre>\n<p>I then tried removing the scripts + scripts-remapped folders from the gradle cache but that did nothing as well. Finally, I tried running</p>\n<pre><code>./gradlew clean\n</code></pre>\n<p>but got</p>\n<pre><code>   * What went wrong:\n   A problem occurred configuring root project 'nexus-deploy'.\n   Could not open cp_proj remapped class cache for s5e1jtxdcnwfq13zlj7qke7c\n</code></pre>\n<p>I'm not sure what is going wrong and don't know what else to try. I am on java version &quot;1.8.0_341&quot; and Gradle 7.5.1.</p>\n"},{"tags":["java","jar","game-development"],"comments":[{"owner":{"account_id":84127,"reputation":51115,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1678737422,"post_id":75726363,"comment_id":133588588,"body_markdown":"hi, might be of interest https://stackoverflow.com/questions/25162311/a-java-exception-has-occurred-when-opening-jar","body":"hi, might be of interest <a href=\"https://stackoverflow.com/questions/25162311/a-java-exception-has-occurred-when-opening-jar\" title=\"a java exception has occurred when opening jar\">stackoverflow.com/questions/25162311/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678739980,"post_id":75726363,"comment_id":133589234,"body_markdown":"1. Don&#39;t &quot;leave links to code&quot; - no body will follow them; 2. Include the full exception trace and at least the code snippet from which it was generated (the stack trace will provide this information)","body":"1. Don&#39;t &quot;leave links to code&quot; - no body will follow them; 2. Include the full exception trace and at least the code snippet from which it was generated (the stack trace will provide this information)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678742072,"post_id":75726363,"comment_id":133589681,"body_markdown":"Compare the java version used to run it from IntelliJ with java used from command prompt with: java -version. Run it from a command prompt to get more info: java -jar jarname.jar","body":"Compare the java version used to run it from IntelliJ with java used from command prompt with: java -version. Run it from a command prompt to get more info: java -jar jarname.jar"},{"owner":{"account_id":28008728,"reputation":21,"user_id":21391668,"display_name":"VMOrihuela"},"score":0,"creation_date":1678744251,"post_id":75726363,"comment_id":133590090,"body_markdown":"@JohnWilliams the file was compiled on Java Runtime (class file version 63.0) while the version of java I have only recognizes class file versions up to 60.\n\nDo you have any tip on how to compile the file on a lower version? Also, thank you all very much for your answers.","body":"@JohnWilliams the file was compiled on Java Runtime (class file version 63.0) while the version of java I have only recognizes class file versions up to 60.  Do you have any tip on how to compile the file on a lower version? Also, thank you all very much for your answers."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678746727,"post_id":75726363,"comment_id":133590526,"body_markdown":"Try this - https://www.baeldung.com/intellij-change-java-version. You need jdk11. 60 is jdk16 but I’ve never heard of it.","body":"Try this - <a href=\"https://www.baeldung.com/intellij-change-java-version\" rel=\"nofollow noreferrer\">baeldung.com/intellij-change-java-version</a>. You need jdk11. 60 is jdk16 but I’ve never heard of it."},{"owner":{"account_id":28008728,"reputation":21,"user_id":21391668,"display_name":"VMOrihuela"},"score":0,"creation_date":1678747673,"post_id":75726363,"comment_id":133590683,"body_markdown":"Thank you so much. Actually, I was using an incorrect version of java ALL THE TIME. So now I&#39;m correcting all the mistakes with my loader class, which didn&#39;t fully worked and I had to do a lot of stuff to overcome it. Stuff that now isn&#39;t working anymore, so I&#39;m returning it to a previous state.\n\nAgain, thanks @JohnWilliams","body":"Thank you so much. Actually, I was using an incorrect version of java ALL THE TIME. So now I&#39;m correcting all the mistakes with my loader class, which didn&#39;t fully worked and I had to do a lot of stuff to overcome it. Stuff that now isn&#39;t working anymore, so I&#39;m returning it to a previous state.  Again, thanks @JohnWilliams"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678782356,"post_id":75726363,"comment_id":133595567,"body_markdown":"I have generated an answer from the comments. Please accept it. Its useful.","body":"I have generated an answer from the comments. Please accept it. Its useful."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678782317,"creation_date":1678782317,"answer_id":75730613,"question_id":75726363,"body_markdown":"It is very likely that you using different JVM versions - the IntelliJ compiling to a JVM version higher that that being used elsewhere.\r\n\r\nThe mappings between [JVM Versions and JDK versions][2] \r\n\r\nYou can check this by comparing the java version used to run it from IntelliJ with java used from command prompt with: java -version. Run the jar from a command prompt to get more info: java -jar jarname.jar.\r\n\r\nYou then need to reduce the INtelliJ version [like this][1] or increase the other version by installing a newer JRE.\r\n\r\n  [1]: https://baeldung.com/intellij-change-java-version.\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history","title":"Game project working on IDE, not working when I export it to JAR","body":"<p>It is very likely that you using different JVM versions - the IntelliJ compiling to a JVM version higher that that being used elsewhere.</p>\n<p>The mappings between <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">JVM Versions and JDK versions</a></p>\n<p>You can check this by comparing the java version used to run it from IntelliJ with java used from command prompt with: java -version. Run the jar from a command prompt to get more info: java -jar jarname.jar.</p>\n<p>You then need to reduce the INtelliJ version <a href=\"https://baeldung.com/intellij-change-java-version.\" rel=\"nofollow noreferrer\">like this</a> or increase the other version by installing a newer JRE.</p>\n"}],"owner":{"account_id":28008728,"reputation":21,"user_id":21391668,"display_name":"VMOrihuela"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75730613,"answer_count":1,"score":1,"last_activity_date":1678782317,"creation_date":1678737326,"question_id":75726363,"body_markdown":"So this is a really simple question:\r\n\r\nI am developing a game as a mere exercise. Game is almost complete, it&#39;s a really simple one. The point is, when I execute it from IDE (in this case, I&#39;m using intelliJ), it works flawlessly. The problem comes when I try to produce an executable JAR file. The file just throws an error (&quot;A Java Exception has occurred). Also, if I execute that same JAR file from the IDE, it works.\r\n\r\nI&#39;ve been trying to get it to work all the time, but it won&#39;t. I&#39;ll leave access to the code via Github, and if anyone want to try it, I would really appreciate it. Someone told me that it is most probably due to dependencies and external libraries not being included in the final JAR file. I only used one external dependency to produce and read a Json file, in order to keep a savegame for the highscores, but I think it&#39;s included on the final JAR file (at least, it&#39;s physically included, and I added the library before exporting the project).\r\n\r\nThis is the manifest for that dependency: \r\n\r\n    Manifest-Version: 1.0\r\n    Automatic-Module-Name: org.json\r\n    Bnd-LastModified: 1677505062321\r\n    Build-Jdk: 1.8.0_271\r\n    Built-By: stlea\r\n    Bundle-Description: JSON is a light-weight, language independent, data i\r\n     nterchange format.        See http://www.JSON.org/        The files in \r\n     this package implement JSON encoders/decoders in Java.        It also i\r\n     ncludes the capability to convert between JSON and XML, HTTP        hea\r\n     ders, Cookies, and CDL.        This is a reference implementation. Ther\r\n     e is a large number of JSON packages        in Java. Perhaps someday th\r\n     e Java community will standardize on one. Until        then, choose car\r\n     efully.\r\n    Bundle-License: https://github.com/stleary/JSON-java/blob/master/LICENSE\r\n    Bundle-ManifestVersion: 2\r\n    Bundle-Name: JSON in Java\r\n    Bundle-SymbolicName: json\r\n    Bundle-Version: 20230227.0.0\r\n    Created-By: Apache Maven Bundle Plugin\r\n    Export-Package: org.json;version=&quot;20230227.0.0&quot;\r\n    Require-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.6))&quot;\r\n    Tool: Bnd-3.0.0.201509101326\r\n\r\n\r\n\r\nI tried almost everything, but simply, Java doesn&#39;t wanna work.\r\n\r\n**EDIT**\r\n\r\nI was using a non compatible JDK, I solved it by downgrading my project to jdk 11.","title":"Game project working on IDE, not working when I export it to JAR","body":"<p>So this is a really simple question:</p>\n<p>I am developing a game as a mere exercise. Game is almost complete, it's a really simple one. The point is, when I execute it from IDE (in this case, I'm using intelliJ), it works flawlessly. The problem comes when I try to produce an executable JAR file. The file just throws an error (&quot;A Java Exception has occurred). Also, if I execute that same JAR file from the IDE, it works.</p>\n<p>I've been trying to get it to work all the time, but it won't. I'll leave access to the code via Github, and if anyone want to try it, I would really appreciate it. Someone told me that it is most probably due to dependencies and external libraries not being included in the final JAR file. I only used one external dependency to produce and read a Json file, in order to keep a savegame for the highscores, but I think it's included on the final JAR file (at least, it's physically included, and I added the library before exporting the project).</p>\n<p>This is the manifest for that dependency:</p>\n<pre><code>Manifest-Version: 1.0\nAutomatic-Module-Name: org.json\nBnd-LastModified: 1677505062321\nBuild-Jdk: 1.8.0_271\nBuilt-By: stlea\nBundle-Description: JSON is a light-weight, language independent, data i\n nterchange format.        See http://www.JSON.org/        The files in \n this package implement JSON encoders/decoders in Java.        It also i\n ncludes the capability to convert between JSON and XML, HTTP        hea\n ders, Cookies, and CDL.        This is a reference implementation. Ther\n e is a large number of JSON packages        in Java. Perhaps someday th\n e Java community will standardize on one. Until        then, choose car\n efully.\nBundle-License: https://github.com/stleary/JSON-java/blob/master/LICENSE\nBundle-ManifestVersion: 2\nBundle-Name: JSON in Java\nBundle-SymbolicName: json\nBundle-Version: 20230227.0.0\nCreated-By: Apache Maven Bundle Plugin\nExport-Package: org.json;version=&quot;20230227.0.0&quot;\nRequire-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.6))&quot;\nTool: Bnd-3.0.0.201509101326\n</code></pre>\n<p>I tried almost everything, but simply, Java doesn't wanna work.</p>\n<p><strong>EDIT</strong></p>\n<p>I was using a non compatible JDK, I solved it by downgrading my project to jdk 11.</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"comments":[{"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"score":0,"creation_date":1678781664,"post_id":75730454,"comment_id":133595403,"body_markdown":"just for clarify, 5 databases or tables ?","body":"just for clarify, 5 databases or tables ?"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1678781875,"post_id":75730454,"comment_id":133595458,"body_markdown":"Does this solve your problem?\nhttps://www.baeldung.com/spring-data-jpa-multiple-databases","body":"Does this solve your problem? <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-multiple-databases</a>"},{"owner":{"account_id":16909336,"reputation":19,"user_id":12238055,"display_name":"mohammad mehdi khajehzadeh"},"score":0,"creation_date":1678783041,"post_id":75730454,"comment_id":133595733,"body_markdown":"@rioswarawan is no different, I prefer 5 databases.","body":"@rioswarawan is no different, I prefer 5 databases."},{"owner":{"account_id":16909336,"reputation":19,"user_id":12238055,"display_name":"mohammad mehdi khajehzadeh"},"score":0,"creation_date":1678783103,"post_id":75730454,"comment_id":133595749,"body_markdown":"@dimnnv this is used for 2 different data sources and entity.","body":"@dimnnv this is used for 2 different data sources and entity."}],"answers":[{"comments":[{"owner":{"account_id":16909336,"reputation":19,"user_id":12238055,"display_name":"mohammad mehdi khajehzadeh"},"score":1,"creation_date":1678782533,"post_id":75730595,"comment_id":133595611,"body_markdown":"good idea, but I prefer to use entity.","body":"good idea, but I prefer to use entity."}],"tags":[],"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678782180,"creation_date":1678782180,"answer_id":75730595,"question_id":75730454,"body_markdown":"If you don&#39;t want to use Entity, you can query it by yourself using `EntityManagerFactory`.\r\n\r\n```\r\nval result: List&lt;T&gt; = EntityManagerFactory.createEntityManager()\r\n    .createNativeQuery(queryInString)\r\n    .getResultList()\r\n```","title":"Spring Boot - Same repository and same entity for different databases (name difference)","body":"<p>If you don't want to use Entity, you can query it by yourself using <code>EntityManagerFactory</code>.</p>\n<pre><code>val result: List&lt;T&gt; = EntityManagerFactory.createEntityManager()\n    .createNativeQuery(queryInString)\n    .getResultList()\n</code></pre>\n"}],"owner":{"account_id":16909336,"reputation":19,"user_id":12238055,"display_name":"mohammad mehdi khajehzadeh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678905699,"answer_count":1,"score":0,"last_activity_date":1678782180,"creation_date":1678781151,"question_id":75730454,"body_markdown":"I have almost 5 database that have difference name.\r\nfor example -&gt; cat_1 , cat_2 ,...\r\nHow to get data from them? (instead to create seperate entity for each them.)\r\n\r\nI need code sample\r\nor another way.","title":"Spring Boot - Same repository and same entity for different databases (name difference)","body":"<p>I have almost 5 database that have difference name.\nfor example -&gt; cat_1 , cat_2 ,...\nHow to get data from them? (instead to create seperate entity for each them.)</p>\n<p>I need code sample\nor another way.</p>\n"},{"tags":["java","docker","maven"],"owner":{"account_id":27453234,"reputation":13,"user_id":20945108,"display_name":"oscar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678781854,"creation_date":1678781854,"question_id":75730552,"body_markdown":"My Dockerfile code is\r\n```\r\n\r\nFROM maven:3.6.3-openjdk-11-slim AS app\r\nWORKDIR /app/\r\n\r\nCOPY ./common /app/common\r\nCOPY ./elasticsearch /app/elasticsearch\r\nCOPY ./claim /app/app\r\n\r\n\r\nRUN cd /app/common &amp;&amp; mvn clean install\r\nRUN cd /app/elasticsearch &amp;&amp; mvn clean install\r\nRUN cd /app/app &amp;&amp; mvn clean install\r\n\r\nFROM eclipse-temurin:11-alpine\r\n\r\nRUN apk --no-cache add openssl\r\n\r\nWORKDIR /app\r\n\r\nCOPY --from=app /app/app/claim-apis/target/claim-apis.jar .\r\n\r\nCOPY --from=app /app/app/claim-apis/kafkacert.crt $JAVA_HOME/conf/security/\r\nCOPY --from=app /app/app/claim-apis/kafkacert.crt $JAVA_HOME/lib/security/\r\nCOPY --from=app /app/app/claim-apis/kafkakeystore.jks .\r\n\r\nRUN keytool -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias dtc-oauth -file $JAVA_HOME/lib/security/kafkacert.crt\r\n\r\nEXPOSE 8090\r\nCMD [&quot;java&quot;, &quot;-Dlog4j2.formatMsgNoLookups=true&quot;, &quot;-jar&quot;, &quot;/app/claim-apis.jar&quot;]\r\n```\r\n\r\nHere i dont want maven to be redownloaded again and again for each repository. \r\nHow can i do that?!","title":"download maven once in Dockerfile if there are multiple repository","body":"<p>My Dockerfile code is</p>\n<pre><code>\nFROM maven:3.6.3-openjdk-11-slim AS app\nWORKDIR /app/\n\nCOPY ./common /app/common\nCOPY ./elasticsearch /app/elasticsearch\nCOPY ./claim /app/app\n\n\nRUN cd /app/common &amp;&amp; mvn clean install\nRUN cd /app/elasticsearch &amp;&amp; mvn clean install\nRUN cd /app/app &amp;&amp; mvn clean install\n\nFROM eclipse-temurin:11-alpine\n\nRUN apk --no-cache add openssl\n\nWORKDIR /app\n\nCOPY --from=app /app/app/claim-apis/target/claim-apis.jar .\n\nCOPY --from=app /app/app/claim-apis/kafkacert.crt $JAVA_HOME/conf/security/\nCOPY --from=app /app/app/claim-apis/kafkacert.crt $JAVA_HOME/lib/security/\nCOPY --from=app /app/app/claim-apis/kafkakeystore.jks .\n\nRUN keytool -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias dtc-oauth -file $JAVA_HOME/lib/security/kafkacert.crt\n\nEXPOSE 8090\nCMD [&quot;java&quot;, &quot;-Dlog4j2.formatMsgNoLookups=true&quot;, &quot;-jar&quot;, &quot;/app/claim-apis.jar&quot;]\n</code></pre>\n<p>Here i dont want maven to be redownloaded again and again for each repository.\nHow can i do that?!</p>\n"},{"tags":["java","websocket","try-with-resources"],"comments":[{"owner":{"account_id":2150391,"reputation":435,"user_id":1906940,"display_name":"Gleb"},"score":1,"creation_date":1678782469,"post_id":75730539,"comment_id":133595595,"body_markdown":"Does this answer your question? [Do you need to close streams if you close socket in Java?](https://stackoverflow.com/questions/22337010/do-you-need-to-close-streams-if-you-close-socket-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22337010/do-you-need-to-close-streams-if-you-close-socket-in-java\">Do you need to close streams if you close socket in Java?</a>"}],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678782623,"answer_count":0,"score":0,"last_activity_date":1678781795,"creation_date":1678781795,"question_id":75730539,"body_markdown":"Does the OutputStream automatically closed when Socket is closed? Do I need to close it explicitly?\r\n\r\n      public boolean submit(Task dto) {\r\n        try (Socket socket = new Socket(dto.getPrinterIp(),\r\n     Integer.parseInt(dto.getPort()))) {\r\n          OutputStream outputStream = socket.getOutputStream();\r\n          outputStream.write(dto.getZpl().getBytes());\r\n          outputStream.flush();\r\n          log.info(&quot;Print task submitted: id={}&quot;, dto.getId());\r\n          return true;\r\n        } catch (Exception e) {\r\n          handlePrintTaskSubmissionFailure(dto, e);\r\n          return false;\r\n        }\r\n      }","title":"Does the OutputStream automatically closed when Socket is closed?","body":"<p>Does the OutputStream automatically closed when Socket is closed? Do I need to close it explicitly?</p>\n<pre><code>  public boolean submit(Task dto) {\n    try (Socket socket = new Socket(dto.getPrinterIp(),\n Integer.parseInt(dto.getPort()))) {\n      OutputStream outputStream = socket.getOutputStream();\n      outputStream.write(dto.getZpl().getBytes());\n      outputStream.flush();\n      log.info(&quot;Print task submitted: id={}&quot;, dto.getId());\n      return true;\n    } catch (Exception e) {\n      handlePrintTaskSubmissionFailure(dto, e);\n      return false;\n    }\n  }\n</code></pre>\n"},{"tags":["java","swing","jtextfield"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1357367713,"post_id":14169240,"comment_id":19632660,"body_markdown":"1) Consider using a `JSpinner` with `SpinnerNumberNodel` instead. 2) Both `JTextField` &amp; `JSpinner` have better listeners than `MouseListener` available - they are `ActionListener` &amp; `ChangeListener` respectively.","body":"1) Consider using a <code>JSpinner</code> with <code>SpinnerNumberNodel</code> instead. 2) Both <code>JTextField</code> &amp; <code>JSpinner</code> have better listeners than <code>MouseListener</code> available - they are <code>ActionListener</code> &amp; <code>ChangeListener</code> respectively."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1357368932,"post_id":14169240,"comment_id":19632863,"body_markdown":"See also [this answer](http://stackoverflow.com/questions/9344708/jcombobox-to-list-age/9345991#9345991) related to `JSpinner`.  The models make it a versatile and intuitive (for the user) component.","body":"See also <a href=\"http://stackoverflow.com/questions/9344708/jcombobox-to-list-age/9345991#9345991\">this answer</a> related to <code>JSpinner</code>.  The models make it a versatile and intuitive (for the user) component."}],"answers":[{"comments":[{"owner":{"account_id":1651980,"reputation":3225,"user_id":1522381,"display_name":"Mel Nicholson"},"score":3,"creation_date":1357367049,"post_id":14169253,"comment_id":19632552,"body_markdown":"Be sure to handle `NumberFormatException`, which `parseInt()` will throw if the use inputs something non-numeric.","body":"Be sure to handle <code>NumberFormatException</code>, which <code>parseInt()</code> will throw if the use inputs something non-numeric."},{"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"score":0,"creation_date":1357367131,"post_id":14169253,"comment_id":19632569,"body_markdown":"Yes, it is a checked exception so it will force the user to handle it. I have left some space for OP to think over.","body":"Yes, it is a checked exception so it will force the user to handle it. I have left some space for OP to think over."},{"owner":{"account_id":1130033,"reputation":6889,"user_id":1116354,"accept_rate":94,"display_name":"Vinay"},"score":1,"creation_date":1357367300,"post_id":14169253,"comment_id":19632603,"body_markdown":"I think `trim()` would help here as well.","body":"I think <code>trim()</code> would help here as well."}],"tags":[],"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1357366783,"creation_date":1357366783,"answer_id":14169253,"question_id":14169240,"body_markdown":"You need to use `Integer.parseInt(String)`\r\n\r\n    private void jTextField2MouseClicked(java.awt.event.MouseEvent evt) {\r\n            if(evt.getSource()==jTextField2){\r\n                int jml = Integer.parseInt(jTextField3.getText());\r\n                jTextField1.setText(numberToWord(jml));\r\n    \r\n            }\r\n        }","title":"getting integer values from textfield","body":"<p>You need to use <code>Integer.parseInt(String)</code></p>\n\n<pre><code>private void jTextField2MouseClicked(java.awt.event.MouseEvent evt) {\n        if(evt.getSource()==jTextField2){\n            int jml = Integer.parseInt(jTextField3.getText());\n            jTextField1.setText(numberToWord(jml));\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1196026,"reputation":11248,"user_id":1167744,"accept_rate":79,"display_name":"Parth Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357367807,"creation_date":1357367807,"answer_id":14169357,"question_id":14169240,"body_markdown":"As You&#39;re getting values from textfield as `jTextField3.getText();`.\n\nAs it is a **`textField`** it will return you string format as its [format][1] says:\n\n&gt;  **`String getText()`** \n&gt;\n&gt;           Returns the text contained in this TextComponent.\n\nSo, convert your `String` to `Integer` as: \n\n    int jml = Integer.parseInt(jTextField3.getText());\n\ninstead of directly setting\n\n       int jml = jTextField3.getText();\n\n\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/text/JTextComponent.html#getText%28%29","title":"getting integer values from textfield","body":"<p>As You're getting values from textfield as <code>jTextField3.getText();</code>.</p>\n<p>As it is a <strong><code>textField</code></strong> it will return you string format as its <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\" rel=\"nofollow noreferrer\">format</a> says:</p>\n<blockquote>\n<p><strong><code>String getText()</code></strong></p>\n<pre><code>      Returns the text contained in this TextComponent.\n</code></pre>\n</blockquote>\n<p>So, convert your <code>String</code> to <code>Integer</code> as:</p>\n<pre><code>int jml = Integer.parseInt(jTextField3.getText());\n</code></pre>\n<p>instead of directly setting</p>\n<pre><code>   int jml = jTextField3.getText();\n</code></pre>\n"}],"owner":{"account_id":2147134,"reputation":800,"user_id":1904521,"accept_rate":85,"display_name":"Sumeet Gavhale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155269,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14169253,"answer_count":2,"score":7,"last_activity_date":1678781546,"creation_date":1357366715,"question_id":14169240,"body_markdown":"I am trying to get Integer values from my jtextfield but not able to it is showing incompatible datatypes required int found string. Is there some other way of writing my code is as follows and i want to get only integer values\r\n\r\n\r\n    private void jTextField2MouseClicked(java.awt.event.MouseEvent evt) {\r\n            if(evt.getSource()==jTextField2){\r\n                int jml = jTextField3.getText();\r\n                jTextField1.setText(numberToWord(jml));\r\n            \r\n            }\r\n        }\r\n\r\n","title":"getting integer values from textfield","body":"<p>I am trying to get Integer values from my jtextfield but not able to it is showing incompatible datatypes required int found string. Is there some other way of writing my code is as follows and i want to get only integer values</p>\n\n<pre><code>private void jTextField2MouseClicked(java.awt.event.MouseEvent evt) {\n        if(evt.getSource()==jTextField2){\n            int jml = jTextField3.getText();\n            jTextField1.setText(numberToWord(jml));\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","react-native","push-notification"],"answers":[{"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678780901,"creation_date":1678780901,"answer_id":75730413,"question_id":75730257,"body_markdown":"you can try using some other library `BadgeHelper` or else implement the `badge count` feature natively which is using for the notification API from Android but the badge feature is not officially supported by android. you can try using the `BadgeHelper`","title":"How can I change app badge count on Poco and Xiaomi phones such as Poco X3 NFC in Android studio","body":"<p>you can try using some other library <code>BadgeHelper</code> or else implement the <code>badge count</code> feature natively which is using for the notification API from Android but the badge feature is not officially supported by android. you can try using the <code>BadgeHelper</code></p>\n"}],"owner":{"account_id":16734843,"reputation":33,"user_id":12096252,"display_name":"Sandeep Vithanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678780901,"creation_date":1678779977,"question_id":75730257,"body_markdown":"I want to change the default count of the app icon badge on Android devices. I tried it with [ShortcutBadger][1]. It worked for Samsung and Zony XZ2 devices. I tried it with Xiaomi and Poco X3 NFC devices. It wasn&#39;t a success.\r\n\r\n        package com.jkit.smartoffice;\r\n        \r\n        import static io.invertase.firebase.app.ReactNativeFirebaseApp.getApplicationContext;\r\n        import com. Facebook.react.bridge.ReactApplicationContext;\r\n        import com. Facebook.react.bridge.ReactContextBaseJavaModule;\r\n        import com. Facebook.react.bridge.ReactMethod;\r\n        \r\n        import me. lanolin.shortcutbadger.ShortcutBadger;\r\n        \r\n        public class NotificationModule extends ReactContextBaseJavaModule {\r\n        \r\n            public NotificationModule(ReactApplicationContext reactContext) {\r\n                super(reactContext);\r\n            }\r\n        \r\n            @Override\r\n            public String getName() {\r\n                return &quot;Notification&quot;;\r\n            }\r\n        \r\n            @ReactMethod\r\n            public void setBadge(int badge count) {\r\n                try {\r\n                    ShortcutBadger.applicant(getApplicationContext(), badge count);\r\n                } catch (Exception e) {\r\n        \r\n                }\r\n            }\r\n        \r\n            @ReactMethod\r\n            public void removeBadge() {\r\n                try {\r\n                    ShortcutBadger.removeCount(getApplicationContext());\r\n                } catch (Exception e) {\r\n        \r\n                }\r\n            }\r\n        }\r\n\r\nThese are the permissions I have added\r\n\r\n    &lt;uses-permission android:name=&quot;com.android.launcher.permission.BADGE_COUNT_READ&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.launcher.permission.BADGE_COUNT_WRITE&quot; /&gt;\r\n    &lt;!--for Samsung--&gt;\r\n    &lt;uses-permission android:name=&quot;com.sec.android.provider.badge.permission.READ&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.sec.android.provider.badge.permission.WRITE&quot;/&gt;\r\n    &lt;!--for htc--&gt;\r\n    &lt;uses-permission android:name=&quot;com.htc.launcher.permission.READ_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.htc.launcher.permission.UPDATE_SHORTCUT&quot;/&gt;\r\n    &lt;!--for sony--&gt;\r\n    &lt;uses-permission android:name=&quot;com.sonyericsson.home.permission.BROADCAST_BADGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.sonymobile.home.permission.PROVIDER_INSERT_BADGE&quot;/&gt;\r\n    &lt;!--for apex--&gt;\r\n    &lt;uses-permission android:name=&quot;com.anddoes.launcher.permission.UPDATE_COUNT&quot;/&gt;\r\n    &lt;!--for solid--&gt;\r\n    &lt;uses-permission android:name=&quot;com.majeur.launcher.permission.UPDATE_BADGE&quot;/&gt;\r\n    &lt;!--for huawei--&gt;\r\n    &lt;uses-permission android:name=&quot;com.huawei.android.launcher.permission.CHANGE_BADGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.huawei.android.launcher.permission.READ_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.huawei.android.launcher.permission.WRITE_SETTINGS&quot;/&gt;\r\n    &lt;!--for ZUK--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_APP_BADGE&quot;/&gt;\r\n    &lt;!--for OPPO--&gt;\r\n    &lt;uses-permission android:name=&quot;com.oppo.launcher.permission.READ_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.oppo.launcher.permission.WRITE_SETTINGS&quot;/&gt;\r\n\r\n  [1]: https://github.com/leolin310148/ShortcutBadger/blob/master/README.md","title":"How can I change app badge count on Poco and Xiaomi phones such as Poco X3 NFC in Android studio","body":"<p>I want to change the default count of the app icon badge on Android devices. I tried it with <a href=\"https://github.com/leolin310148/ShortcutBadger/blob/master/README.md\" rel=\"nofollow noreferrer\">ShortcutBadger</a>. It worked for Samsung and Zony XZ2 devices. I tried it with Xiaomi and Poco X3 NFC devices. It wasn't a success.</p>\n<pre><code>    package com.jkit.smartoffice;\n    \n    import static io.invertase.firebase.app.ReactNativeFirebaseApp.getApplicationContext;\n    import com. Facebook.react.bridge.ReactApplicationContext;\n    import com. Facebook.react.bridge.ReactContextBaseJavaModule;\n    import com. Facebook.react.bridge.ReactMethod;\n    \n    import me. lanolin.shortcutbadger.ShortcutBadger;\n    \n    public class NotificationModule extends ReactContextBaseJavaModule {\n    \n        public NotificationModule(ReactApplicationContext reactContext) {\n            super(reactContext);\n        }\n    \n        @Override\n        public String getName() {\n            return &quot;Notification&quot;;\n        }\n    \n        @ReactMethod\n        public void setBadge(int badge count) {\n            try {\n                ShortcutBadger.applicant(getApplicationContext(), badge count);\n            } catch (Exception e) {\n    \n            }\n        }\n    \n        @ReactMethod\n        public void removeBadge() {\n            try {\n                ShortcutBadger.removeCount(getApplicationContext());\n            } catch (Exception e) {\n    \n            }\n        }\n    }\n</code></pre>\n<p>These are the permissions I have added</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.android.launcher.permission.BADGE_COUNT_READ&quot; /&gt;\n&lt;uses-permission android:name=&quot;com.android.launcher.permission.BADGE_COUNT_WRITE&quot; /&gt;\n&lt;!--for Samsung--&gt;\n&lt;uses-permission android:name=&quot;com.sec.android.provider.badge.permission.READ&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.sec.android.provider.badge.permission.WRITE&quot;/&gt;\n&lt;!--for htc--&gt;\n&lt;uses-permission android:name=&quot;com.htc.launcher.permission.READ_SETTINGS&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.htc.launcher.permission.UPDATE_SHORTCUT&quot;/&gt;\n&lt;!--for sony--&gt;\n&lt;uses-permission android:name=&quot;com.sonyericsson.home.permission.BROADCAST_BADGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.sonymobile.home.permission.PROVIDER_INSERT_BADGE&quot;/&gt;\n&lt;!--for apex--&gt;\n&lt;uses-permission android:name=&quot;com.anddoes.launcher.permission.UPDATE_COUNT&quot;/&gt;\n&lt;!--for solid--&gt;\n&lt;uses-permission android:name=&quot;com.majeur.launcher.permission.UPDATE_BADGE&quot;/&gt;\n&lt;!--for huawei--&gt;\n&lt;uses-permission android:name=&quot;com.huawei.android.launcher.permission.CHANGE_BADGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.huawei.android.launcher.permission.READ_SETTINGS&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.huawei.android.launcher.permission.WRITE_SETTINGS&quot;/&gt;\n&lt;!--for ZUK--&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_APP_BADGE&quot;/&gt;\n&lt;!--for OPPO--&gt;\n&lt;uses-permission android:name=&quot;com.oppo.launcher.permission.READ_SETTINGS&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.oppo.launcher.permission.WRITE_SETTINGS&quot;/&gt;\n</code></pre>\n"},{"tags":["java","docker","rancher"],"owner":{"account_id":11412316,"reputation":11,"user_id":8366152,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678780831,"creation_date":1678731554,"question_id":75725567,"body_markdown":"Rancher v1.6.30\r\nI&#39;m trying to reduce downtime when deploying new versions and when upgrading service, there is option\r\n[Start before stopping](https://i.stack.imgur.com/mRQOD.png)\r\nWhen I select it and click Upgrade Rancher shows:\r\n\r\nUpgrade Error\r\nValidation failed in API: StartFirst option can&#39;t be used for service with retainIp field set is not a valid option.\r\n\r\nrancher-compose.yml shown in Rancher:\r\n\r\n```\r\nversion: &#39;2&#39;\r\nservices:\r\n  service-name:\r\n    retain_ip: true\r\n    scale: 1\r\n    start_on_create: true\r\n    health_check:\r\n      healthy_threshold: 2\r\n      response_timeout: 2000\r\n      port: 8080\r\n      unhealthy_threshold: 3\r\n      interval: 2000\r\n      strategy: recreate\r\n```\r\n\r\nrancher-compose.yml in IDE:\r\n[rancher-compose.yml](https://i.stack.imgur.com/383m3.png)\r\n\r\nI tried retainIp instead of retain_ip, tried removing it and place in another block, didn&#39;t help.","title":"Rancher container upgrade shows error when &quot;Start before stopping&quot; option selected","body":"<p>Rancher v1.6.30\nI'm trying to reduce downtime when deploying new versions and when upgrading service, there is option\n<a href=\"https://i.stack.imgur.com/mRQOD.png\" rel=\"nofollow noreferrer\">Start before stopping</a>\nWhen I select it and click Upgrade Rancher shows:</p>\n<p>Upgrade Error\nValidation failed in API: StartFirst option can't be used for service with retainIp field set is not a valid option.</p>\n<p>rancher-compose.yml shown in Rancher:</p>\n<pre><code>version: '2'\nservices:\n  service-name:\n    retain_ip: true\n    scale: 1\n    start_on_create: true\n    health_check:\n      healthy_threshold: 2\n      response_timeout: 2000\n      port: 8080\n      unhealthy_threshold: 3\n      interval: 2000\n      strategy: recreate\n</code></pre>\n<p>rancher-compose.yml in IDE:\n<a href=\"https://i.stack.imgur.com/383m3.png\" rel=\"nofollow noreferrer\">rancher-compose.yml</a></p>\n<p>I tried retainIp instead of retain_ip, tried removing it and place in another block, didn't help.</p>\n"},{"tags":["java","postgresql","spring-boot","jdbc","transactions"],"answers":[{"tags":[],"owner":{"account_id":1657072,"reputation":1220,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1664465400,"creation_date":1664465400,"answer_id":73898113,"question_id":73897990,"body_markdown":"Referring [to the docs for][1] `@Transactional`:\r\n\r\n&gt; If no custom rollback rules are configured in this annotation, the transaction will roll back on RuntimeException and Error but not on checked exceptions. \r\n\r\nSince `Exception` is a checked exception, no rollback will be performed by default. You&#39;ll either need to throw something that is a (or extends) `RuntimeException`, or list the exception in the `rollbackFor` annotation attribute:\r\n\r\n```java\r\n@Transactional(rollbackFor = Exception.class)\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html","title":"Spring Boot JDBC @Transactional won&#39;t rollback","body":"<p>Referring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\" rel=\"noreferrer\">to the docs for</a> <code>@Transactional</code>:</p>\n<blockquote>\n<p>If no custom rollback rules are configured in this annotation, the transaction will roll back on RuntimeException and Error but not on checked exceptions.</p>\n</blockquote>\n<p>Since <code>Exception</code> is a checked exception, no rollback will be performed by default. You'll either need to throw something that is a (or extends) <code>RuntimeException</code>, or list the exception in the <code>rollbackFor</code> annotation attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(rollbackFor = Exception.class)\n</code></pre>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73898113,"answer_count":1,"score":2,"last_activity_date":1678780791,"creation_date":1664464832,"question_id":73897990,"body_markdown":"I have implemented a class where i need to insert some data into a database but the insert must rollback if something goes wrong. Once i have performed the insert i throw an exception to test the rollback, but once i check the database, the rows are inserted, which means rollback never happened. \r\n\r\n```\r\nimport org.springframework.transaction.annotation.Transactional;\r\npublic class SomeClass{\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n    \r\n    @Transactional\r\n    public void insertToDb() throws Exception{\r\n        String sql = &quot;INSERT STUFF&quot;\r\n        jdbcTemplate.update(sql);\r\n        throw new Exception();\r\n    }\r\n}\r\n```","title":"Spring Boot JDBC @Transactional won&#39;t rollback","body":"<p>I have implemented a class where i need to insert some data into a database but the insert must rollback if something goes wrong. Once i have performed the insert i throw an exception to test the rollback, but once i check the database, the rows are inserted, which means rollback never happened.</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\npublic class SomeClass{\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    \n    @Transactional\n    public void insertToDb() throws Exception{\n        String sql = &quot;INSERT STUFF&quot;\n        jdbcTemplate.update(sql);\n        throw new Exception();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","configuration"],"answers":[{"comments":[{"owner":{"account_id":5863731,"reputation":807,"user_id":4618492,"accept_rate":56,"display_name":"littleAlien"},"score":0,"creation_date":1678788255,"post_id":75730348,"comment_id":133597158,"body_markdown":"oh, true! it&#39;s for separate fields within class it should be `limiter.settings`, but not for `settings map`, thanks )","body":"oh, true! it&#39;s for separate fields within class it should be <code>limiter.settings</code>, but not for <code>settings map</code>, thanks )"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678780548,"creation_date":1678780548,"answer_id":75730348,"question_id":75727527,"body_markdown":"For the yaml file given in the question it should be:\r\n\r\n    @ConfigurationProperties(prefix = &quot;limiter&quot;).","title":"Spring boot: ConfigurationProperties with map","body":"<p>For the yaml file given in the question it should be:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;limiter&quot;).\n</code></pre>\n"}],"owner":{"account_id":5863731,"reputation":807,"user_id":4618492,"accept_rate":56,"display_name":"littleAlien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75730348,"answer_count":1,"score":0,"last_activity_date":1678780548,"creation_date":1678747048,"question_id":75727527,"body_markdown":"Using spring boot 2.7.7. Can&#39;t get working mapping configuration into `Map&lt;String, Integer&gt;`\r\n\r\nThis is my application.yml\r\n```\r\nlimiter:\r\n  settings:\r\n    a: 1\r\n    b: 2\r\n```\r\nMy class with properties:\r\n```\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;limiter.settings&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\npublic class LimiterSettings {\r\n    private final Map&lt;String, Integer&gt; settings;\r\n}\r\n```\r\nAnd this is how I try to use it:\r\n```\r\n@EnableConfigurationProperties(LimiterSettings.class) // doesn&#39;t affects\r\npublic class LimiterService implements ILimiterService {\r\n    @Autowired\r\n    public LimiterSettings limiterSettings;\r\n```\r\nAs a result have empty map.\r\nWorks fine if use just `int` fields with corresponding names in `LimiterSettings`.\r\nPlease help what&#39;s wrong here?","title":"Spring boot: ConfigurationProperties with map","body":"<p>Using spring boot 2.7.7. Can't get working mapping configuration into <code>Map&lt;String, Integer&gt;</code></p>\n<p>This is my application.yml</p>\n<pre><code>limiter:\n  settings:\n    a: 1\n    b: 2\n</code></pre>\n<p>My class with properties:</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;limiter.settings&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\npublic class LimiterSettings {\n    private final Map&lt;String, Integer&gt; settings;\n}\n</code></pre>\n<p>And this is how I try to use it:</p>\n<pre><code>@EnableConfigurationProperties(LimiterSettings.class) // doesn't affects\npublic class LimiterService implements ILimiterService {\n    @Autowired\n    public LimiterSettings limiterSettings;\n</code></pre>\n<p>As a result have empty map.\nWorks fine if use just <code>int</code> fields with corresponding names in <code>LimiterSettings</code>.\nPlease help what's wrong here?</p>\n"},{"tags":["java","hazelcast","hazelcast-cloud"],"owner":{"account_id":14494870,"reputation":11,"user_id":10469792,"display_name":"gaurav bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678780379,"creation_date":1678770312,"question_id":75729271,"body_markdown":"I have one spring-boot microservice connects to hazelcast using hazelcast, hazelcast-client and hazelcast-spring 3.6 version. I was able to connect on java 8 but as soon as migrated to java 17 with no other code change started getting error:  thread=&quot;hz.client_0_obj-cartmap.cluster-listener&quot; category=&quot;com.hazelcast.client.spi.ClientClusterService&quot;  Unable to get alive cluster connection, try in 8128 ms later, attempt 1 of 1000. Cluser seems good, getting response on http://obj1.cartmp.intqa102.syseng.tmcs:5701/hazelcast/rest/cluster\r\n\r\n  ``` public class CartMappingHazelcastConfig {\r\n    \r\n    private static final Logger log = LoggerFactory.getLogger(CartMappingHazelcastConfig.class);\r\n    \r\n    @Value(&quot;${cart.mapping.cache.local.instanceName}&quot;)\r\n    private String localInstanceName;\r\n    \r\n    @Value(&quot;${cart.mapping.cache.common.groupName}&quot;)\r\n    private String groupName;\r\n    \r\n    @Autowired\r\n    HazelcastConfigProperties hazelcastConfigProperties;\r\n    \r\n    @Bean\r\n    public CartIdBuilderFactory cartIdBuilderFactory() {\r\n        return new CartIdBuilderFactory(this.localInstanceName);\r\n    }\r\n    \r\n    @Bean\r\n    public Serializer cartMappingSerializer() {\r\n        return new CartMappingKryoSerializer();\r\n    }\r\n    \r\n    @Bean\r\n    public Map&lt;String, ClientConfig&gt; hazelCastClientConfigs() {\r\n      Map&lt;String, ClientConfig&gt; clientConfigsMap = new HashMap&lt;&gt;();\r\n    \r\n      hazelcastConfigProperties.getConfigs().stream()\r\n        .forEach(cacheProperties -&gt; {\r\n          clientConfigsMap.put(cacheProperties.getName(), makeClientConfig(cacheProperties));\r\n        });\r\n    \r\n      return clientConfigsMap;\r\n    }\r\n    \r\n    @Bean\r\n    public Map&lt;String, HazelcastInstance&gt; hazelCastInstances() {\r\n        return this.hazelCastClientConfigs().keySet()\r\n                .stream()\r\n                .collect(Collectors.toMap(k-&gt;k, k -&gt; HazelcastClient.newHazelcastClient(hazelCastClientConfigs().get(k))));\r\n    \r\n    }\r\n    \r\n    @Bean\r\n    public Map&lt;String, CacheManager&gt; registeredCacheManagers() {\r\n        return this.hazelCastInstances().keySet()\r\n                .stream()\r\n                .collect(Collectors.toMap(k-&gt;k, k -&gt; new HazelcastCacheManager(this.hazelCastInstances().get(k))));\r\n    \r\n    }\r\n    \r\n    @Bean\r\n    public CartMappingCacheManager cartMappingCacheManager() {\r\n        return new HazelcastCartCacheManager(this.registeredCacheManagers(), this.localInstanceName, CartContentsProvider.COMMERCE_API_PROVIDER_ID, cartIdBuilderFactory());\r\n    }\r\n    \r\n    private ClientConfig makeClientConfig(CacheConfigProperty cacheConfigProperty) {\r\n        ClientConfig config = new ClientConfig();\r\n    \r\n        config.getGroupConfig().setName(&quot;obj-cartmap&quot;).setPassword(cacheConfigProperty.getPassword());\r\n        config.getNetworkConfig()\r\n                .setConnectionAttemptLimit(1000)\r\n                .setSmartRouting(true)\r\n                .setRedoOperation(true)\r\n                .setConnectionTimeout(5000)\r\n                .setConnectionAttemptPeriod(10000);\r\n    \r\n        config.getNetworkConfig().addAddress(&quot;obj1.cartmp.intqa102.syseng.tmcs&quot;);\r\n    \r\n        config.getSerializationConfig()\r\n          .addSerializerConfig(new SerializerConfig()\r\n                                 .setTypeClass(CartMapping.class)\r\n                                 .setImplementation(cartMappingSerializer()));\r\n    \r\n        return config;\r\n    }```\r\n\r\nAny suggestion? \r\n","title":"Hazelcast: Unable to get alive cluster connection","body":"<p>I have one spring-boot microservice connects to hazelcast using hazelcast, hazelcast-client and hazelcast-spring 3.6 version. I was able to connect on java 8 but as soon as migrated to java 17 with no other code change started getting error:  thread=&quot;hz.client_0_obj-cartmap.cluster-listener&quot; category=&quot;com.hazelcast.client.spi.ClientClusterService&quot;  Unable to get alive cluster connection, try in 8128 ms later, attempt 1 of 1000. Cluser seems good, getting response on <a href=\"http://obj1.cartmp.intqa102.syseng.tmcs:5701/hazelcast/rest/cluster\" rel=\"nofollow noreferrer\">http://obj1.cartmp.intqa102.syseng.tmcs:5701/hazelcast/rest/cluster</a></p>\n<pre><code>  \n  private static final Logger log = LoggerFactory.getLogger(CartMappingHazelcastConfig.class);\n  \n  @Value(&quot;${cart.mapping.cache.local.instanceName}&quot;)\n  private String localInstanceName;\n  \n  @Value(&quot;${cart.mapping.cache.common.groupName}&quot;)\n  private String groupName;\n  \n  @Autowired\n  HazelcastConfigProperties hazelcastConfigProperties;\n  \n  @Bean\n  public CartIdBuilderFactory cartIdBuilderFactory() {\n      return new CartIdBuilderFactory(this.localInstanceName);\n  }\n  \n  @Bean\n  public Serializer cartMappingSerializer() {\n      return new CartMappingKryoSerializer();\n  }\n  \n  @Bean\n  public Map&lt;String, ClientConfig&gt; hazelCastClientConfigs() {\n    Map&lt;String, ClientConfig&gt; clientConfigsMap = new HashMap&lt;&gt;();\n  \n    hazelcastConfigProperties.getConfigs().stream()\n      .forEach(cacheProperties -&gt; {\n        clientConfigsMap.put(cacheProperties.getName(), makeClientConfig(cacheProperties));\n      });\n  \n    return clientConfigsMap;\n  }\n  \n  @Bean\n  public Map&lt;String, HazelcastInstance&gt; hazelCastInstances() {\n      return this.hazelCastClientConfigs().keySet()\n              .stream()\n              .collect(Collectors.toMap(k-&gt;k, k -&gt; HazelcastClient.newHazelcastClient(hazelCastClientConfigs().get(k))));\n  \n  }\n  \n  @Bean\n  public Map&lt;String, CacheManager&gt; registeredCacheManagers() {\n      return this.hazelCastInstances().keySet()\n              .stream()\n              .collect(Collectors.toMap(k-&gt;k, k -&gt; new HazelcastCacheManager(this.hazelCastInstances().get(k))));\n  \n  }\n  \n  @Bean\n  public CartMappingCacheManager cartMappingCacheManager() {\n      return new HazelcastCartCacheManager(this.registeredCacheManagers(), this.localInstanceName, CartContentsProvider.COMMERCE_API_PROVIDER_ID, cartIdBuilderFactory());\n  }\n  \n  private ClientConfig makeClientConfig(CacheConfigProperty cacheConfigProperty) {\n      ClientConfig config = new ClientConfig();\n  \n      config.getGroupConfig().setName(&quot;obj-cartmap&quot;).setPassword(cacheConfigProperty.getPassword());\n      config.getNetworkConfig()\n              .setConnectionAttemptLimit(1000)\n              .setSmartRouting(true)\n              .setRedoOperation(true)\n              .setConnectionTimeout(5000)\n              .setConnectionAttemptPeriod(10000);\n  \n      config.getNetworkConfig().addAddress(&quot;obj1.cartmp.intqa102.syseng.tmcs&quot;);\n  \n      config.getSerializationConfig()\n        .addSerializerConfig(new SerializerConfig()\n                               .setTypeClass(CartMapping.class)\n                               .setImplementation(cartMappingSerializer()));\n  \n      return config;\n  }```\n\nAny suggestion? \n</code></pre>\n"},{"tags":["java","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678773796,"creation_date":1678773796,"answer_id":75729566,"question_id":75728250,"body_markdown":"You should change below line, as I can see you are using `longer` dashes instead of `hyphen` i.e. `--`\r\n\r\n***From*** \r\n\r\n    opt.addArguments(&quot;−−lang=es&quot;);\r\n\r\n***To***\r\n\r\n    opt.addArguments(&quot;--lang=es&quot;);\r\n\r\n***OR*** \r\n\r\nyou can use the below way as well.\r\n\r\n    chrome_options.add_argument(&quot;--lang=en-US&quot;)\r\n\r\n","title":"ChromeDriver language is not being set to English","body":"<p>You should change below line, as I can see you are using <code>longer</code> dashes instead of <code>hyphen</code> i.e. <code>--</code></p>\n<p><em><strong>From</strong></em></p>\n<pre><code>opt.addArguments(&quot;−−lang=es&quot;);\n</code></pre>\n<p><em><strong>To</strong></em></p>\n<pre><code>opt.addArguments(&quot;--lang=es&quot;);\n</code></pre>\n<p><em><strong>OR</strong></em></p>\n<p>you can use the below way as well.</p>\n<pre><code>chrome_options.add_argument(&quot;--lang=en-US&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13777112,"reputation":329,"user_id":9943196,"display_name":"Asghar Nazir"},"score":0,"creation_date":1678896294,"post_id":75730274,"comment_id":133622980,"body_markdown":"it changes the language of chrome but not the webpage","body":"it changes the language of chrome but not the webpage"}],"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678780078,"creation_date":1678780078,"answer_id":75730274,"question_id":75728250,"body_markdown":"I think you are doing right , you should need to use correct code for language. I think you want english so juse use \r\n\r\n&gt; `&quot;options.addArguments(&quot;--lang=en&quot;);&quot;`\r\n\r\nCode: \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--lang=en&quot;);\r\n    ChromeDriver driver = new ChromeDriver(options);","title":"ChromeDriver language is not being set to English","body":"<p>I think you are doing right , you should need to use correct code for language. I think you want english so juse use</p>\n<blockquote>\n<p><code>&quot;options.addArguments(&quot;--lang=en&quot;);&quot;</code></p>\n</blockquote>\n<p>Code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--lang=en&quot;);\nChromeDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":13777112,"reputation":329,"user_id":9943196,"display_name":"Asghar Nazir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678780078,"creation_date":1678756200,"question_id":75728250,"body_markdown":"I am trying to set the language of my chrome driver to English, but none of the options are working for me. I am using java-selenium and the driver version is 111. I have tried to set the language using below methods\r\n\r\n    ChromeOptions opt = new ChromeOptions();\r\n    opt.addArguments(&quot;−−lang=es&quot;);\r\n    WebDriver drv = new ChromeDriver(opt);\r\n\r\n below is the other code that I tried \r\n\r\n            WebDriverManager.chromedriver().setup();\r\n            ChromeOptions ops = new ChromeOptions();\r\n    \r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n            prefs.put(&quot;intl.accept_languages&quot;, &quot;en,en_US&quot;);\r\n            ops.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    \r\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            ChromeDriver chromeDriver= new ChromeDriver(ops);\r\n    \r\n            chromeDriver.get(&quot;https://demo.openmrs.org/openmrs/login.htm&quot;);\r\n            Thread.sleep(2000);\r\n            chromeDriver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Enter username&#39;]&quot;)).sendKeys(&quot;admin&quot;);\r\n            chromeDriver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Enter your password&#39;]&quot;)).sendKeys(&quot;Admin123&quot;);\r\n            chromeDriver.findElement(By.xpath(&quot;//font[text()=&#39;Inpatient Ward&#39;]&quot;)).click();\r\n            chromeDriver.findElement(By.xpath(&quot;//input[@value=&#39;Log in&#39;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            String title = chromeDriver.getTitle();\r\n            System.out.println(title);\r\n            chromeDriver.findElement(By.xpath(&quot; //font[contains(text(),&#39;end session&#39;)]&quot;)).click();","title":"ChromeDriver language is not being set to English","body":"<p>I am trying to set the language of my chrome driver to English, but none of the options are working for me. I am using java-selenium and the driver version is 111. I have tried to set the language using below methods</p>\n<pre><code>ChromeOptions opt = new ChromeOptions();\nopt.addArguments(&quot;−−lang=es&quot;);\nWebDriver drv = new ChromeDriver(opt);\n</code></pre>\n<p>below is the other code that I tried</p>\n<pre><code>        WebDriverManager.chromedriver().setup();\n        ChromeOptions ops = new ChromeOptions();\n\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\n        prefs.put(&quot;intl.accept_languages&quot;, &quot;en,en_US&quot;);\n        ops.setExperimentalOption(&quot;prefs&quot;, prefs);\n\n        ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n        ChromeDriver chromeDriver= new ChromeDriver(ops);\n\n        chromeDriver.get(&quot;https://demo.openmrs.org/openmrs/login.htm&quot;);\n        Thread.sleep(2000);\n        chromeDriver.findElement(By.xpath(&quot;//input[@placeholder='Enter username']&quot;)).sendKeys(&quot;admin&quot;);\n        chromeDriver.findElement(By.xpath(&quot;//input[@placeholder='Enter your password']&quot;)).sendKeys(&quot;Admin123&quot;);\n        chromeDriver.findElement(By.xpath(&quot;//font[text()='Inpatient Ward']&quot;)).click();\n        chromeDriver.findElement(By.xpath(&quot;//input[@value='Log in']&quot;)).click();\n        Thread.sleep(2000);\n        String title = chromeDriver.getTitle();\n        System.out.println(title);\n        chromeDriver.findElement(By.xpath(&quot; //font[contains(text(),'end session')]&quot;)).click();\n</code></pre>\n"},{"tags":["java","html","web-scraping","html-table","jsoup"],"comments":[{"owner":{"account_id":1396486,"reputation":4743,"user_id":1326147,"accept_rate":88,"display_name":"Armfoot"},"score":0,"creation_date":1444818274,"post_id":33122588,"comment_id":54058287,"body_markdown":"Where do you want that output? In a javascript variable? Or do you want to send it as a string to the server side? Is that why you placed `java` as a tag? Can you be more specific?","body":"Where do you want that output? In a javascript variable? Or do you want to send it as a string to the server side? Is that why you placed <code>java</code> as a tag? Can you be more specific?"},{"owner":{"account_id":6956393,"reputation":15,"user_id":5337299,"accept_rate":20,"display_name":"Avles"},"score":0,"creation_date":1444818392,"post_id":33122588,"comment_id":54058381,"body_markdown":"yes i am using java here, it is good if i can store it in a string. Sorry for not being specific.","body":"yes i am using java here, it is good if i can store it in a string. Sorry for not being specific."}],"answers":[{"comments":[{"owner":{"account_id":6956393,"reputation":15,"user_id":5337299,"accept_rate":20,"display_name":"Avles"},"score":0,"creation_date":1444818869,"post_id":33122944,"comment_id":54058702,"body_markdown":"but there are more than one td above the given html, how to be specific to the particular td&#39;s given here.","body":"but there are more than one td above the given html, how to be specific to the particular td&#39;s given here."},{"owner":{"account_id":6956393,"reputation":15,"user_id":5337299,"accept_rate":20,"display_name":"Avles"},"score":0,"creation_date":1444819700,"post_id":33122944,"comment_id":54059194,"body_markdown":"ya there are many tables too, but i can crawl upto this table by using table id. But after that i cannot crawl to that td from which i need output.","body":"ya there are many tables too, but i can crawl upto this table by using table id. But after that i cannot crawl to that td from which i need output."},{"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"score":0,"creation_date":1444820070,"post_id":33122944,"comment_id":54059438,"body_markdown":"I have edited the codes to get data from TD&#39;s of the table to which you have ID. If this is not what you are looking for, then can you paste the HTML doc you have?","body":"I have edited the codes to get data from TD&#39;s of the table to which you have ID. If this is not what you are looking for, then can you paste the HTML doc you have?"},{"owner":{"account_id":6956393,"reputation":15,"user_id":5337299,"accept_rate":20,"display_name":"Avles"},"score":0,"creation_date":1444820994,"post_id":33122944,"comment_id":54059961,"body_markdown":"Excellent thanks, i am getting the values. But here i want to store 1 in a string, 2 in another string like that all other values in a seperate string. Please help me on it.","body":"Excellent thanks, i am getting the values. But here i want to store 1 in a string, 2 in another string like that all other values in a seperate string. Please help me on it."},{"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"score":0,"creation_date":1444825277,"post_id":33122944,"comment_id":54062671,"body_markdown":"you can do this by adding them into a list rite? so the list output would be (1,2,3,4,5,6) on iterating the list you will have all the values.","body":"you can do this by adding them into a list rite? so the list output would be (1,2,3,4,5,6) on iterating the list you will have all the values."},{"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"score":0,"creation_date":1444827418,"post_id":33122944,"comment_id":54064136,"body_markdown":"If my answer helped you, please consider upvoting it and accepting it as the correct answer by clicking the check mark ✔ in the middle of the vote arrows, tks","body":"If my answer helped you, please consider upvoting it and accepting it as the correct answer by clicking the check mark ✔ in the middle of the vote arrows, tks"},{"owner":{"account_id":6956393,"reputation":15,"user_id":5337299,"accept_rate":20,"display_name":"Avles"},"score":0,"creation_date":1444828586,"post_id":33122944,"comment_id":54064980,"body_markdown":"Ya sure, but they are saying my reputation should be atleast 15 to upvote. So can you please help me how to gain reputation.","body":"Ya sure, but they are saying my reputation should be atleast 15 to upvote. So can you please help me how to gain reputation."}],"tags":[],"owner":{"account_id":2530058,"reputation":467,"user_id":2198540,"accept_rate":75,"display_name":"NightsWatch"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1444819980,"creation_date":1444818602,"answer_id":33122944,"question_id":33122588,"body_markdown":"You can get the required page by connecting the URL. once you have the document then look for elemnt &#39;td&#39;(check the document by printing it to console if the text is in upper/lower based on that you need to use TD/td). Then get the text.\r\n\r\n    Document document = Jsoup.connect(&quot;http://www.google.com&quot;).get();\r\n\tElement table = document.getElementById(&quot;tableId&quot;);\r\n\tElements tds = table.getElementsByTag(&quot;td&quot;);\r\n\tfor(Element td : tds)\r\n\t{\r\n\t\tSystem.out.println(td.text());\r\n\t}\r\n\r\n","title":"Crawl td values from tr and table in jsoup without using class","body":"<p>You can get the required page by connecting the URL. once you have the document then look for elemnt 'td'(check the document by printing it to console if the text is in upper/lower based on that you need to use TD/td). Then get the text.</p>\n\n<pre><code>Document document = Jsoup.connect(\"http://www.google.com\").get();\nElement table = document.getElementById(\"tableId\");\nElements tds = table.getElementsByTag(\"td\");\nfor(Element td : tds)\n{\n    System.out.println(td.text());\n}\n</code></pre>\n"}],"owner":{"account_id":6956393,"reputation":15,"user_id":5337299,"accept_rate":20,"display_name":"Avles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33122944,"answer_count":1,"score":0,"last_activity_date":1678779954,"creation_date":1444817545,"question_id":33122588,"body_markdown":"  I am trying crawl values from td in a website using jsoup. I am new to jsoup so please tell me how to do it. Also the td or tr has no class or id to get values from so please help me on it. The html is as follows,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table cellpadding=&quot;4&quot; id=&quot;ctl00&quot; style=&quot;color:#333333;width:100%;&quot;&gt; \r\n     &lt;tbody&gt;\r\n      &lt;tr align=&quot;center&quot; style=&quot;color:White;background-color:#990000;&quot;&gt; \r\n       &lt;th scope=&quot;col&quot;&gt;&lt;/th&gt;\r\n       &lt;th scope=&quot;col&quot;&gt;&lt;/th&gt;\r\n       &lt;th scope=&quot;col&quot;&gt;&lt;/th&gt;\r\n       &lt;th scope=&quot;col&quot;&gt;&lt;/th&gt;\r\n       &lt;th scope=&quot;col&quot;&gt;&lt;/th&gt;\r\n       &lt;th scope=&quot;col&quot;&gt;&lt;/th&gt; \r\n      &lt;/tr&gt;\r\n      &lt;tr align=&quot;center&quot; style=&quot;color:#333333;background-color:#F7F6F3;&quot;&gt; \r\n       &lt;td&gt;1&lt;/td&gt;\r\n       &lt;td&gt;2&lt;/td&gt;\r\n       &lt;td&gt;3&lt;/td&gt;\r\n       &lt;td&gt;4&lt;/td&gt;\r\n       &lt;td&gt;5&lt;/td&gt;\r\n       &lt;td&gt;6&lt;/td&gt; \r\n      &lt;/tr&gt;\r\n      \r\n      \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI need the output as\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\nplease help me to get this.","title":"Crawl td values from tr and table in jsoup without using class","body":"<p>I am trying crawl values from td in a website using jsoup. I am new to jsoup so please tell me how to do it. Also the td or tr has no class or id to get values from so please help me on it. The html is as follows,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table cellpadding=\"4\" id=\"ctl00\" style=\"color:#333333;width:100%;\"&gt; \r\n &lt;tbody&gt;\r\n  &lt;tr align=\"center\" style=\"color:White;background-color:#990000;\"&gt; \r\n   &lt;th scope=\"col\"&gt;&lt;/th&gt;\r\n   &lt;th scope=\"col\"&gt;&lt;/th&gt;\r\n   &lt;th scope=\"col\"&gt;&lt;/th&gt;\r\n   &lt;th scope=\"col\"&gt;&lt;/th&gt;\r\n   &lt;th scope=\"col\"&gt;&lt;/th&gt;\r\n   &lt;th scope=\"col\"&gt;&lt;/th&gt; \r\n  &lt;/tr&gt;\r\n  &lt;tr align=\"center\" style=\"color:#333333;background-color:#F7F6F3;\"&gt; \r\n   &lt;td&gt;1&lt;/td&gt;\r\n   &lt;td&gt;2&lt;/td&gt;\r\n   &lt;td&gt;3&lt;/td&gt;\r\n   &lt;td&gt;4&lt;/td&gt;\r\n   &lt;td&gt;5&lt;/td&gt;\r\n   &lt;td&gt;6&lt;/td&gt; \r\n  &lt;/tr&gt;\r\n  \r\n  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need the output as\n1\n2\n3\n4\n5\n6\nplease help me to get this.</p>\n"},{"tags":["java","builder","lombok"],"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1585686187,"post_id":60959114,"comment_id":107848709,"body_markdown":"Have you tried assigning the booleans with default values? It&#39;s worth noting that booleans default value is false. Also, use a boolean not a Boolean so that it can&#39;t support null.","body":"Have you tried assigning the booleans with default values? It&#39;s worth noting that booleans default value is false. Also, use a boolean not a Boolean so that it can&#39;t support null."}],"answers":[{"comments":[{"owner":{"account_id":4814720,"reputation":1477,"user_id":3887145,"display_name":"Ralf Wagner"},"score":0,"creation_date":1585686606,"post_id":60959283,"comment_id":107848907,"body_markdown":"And I was wondering, why this question was still unanswered. Lucky me.","body":"And I was wondering, why this question was still unanswered. Lucky me."}],"tags":[],"owner":{"account_id":4814720,"reputation":1477,"user_id":3887145,"display_name":"Ralf Wagner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585686565,"creation_date":1585686232,"answer_id":60959283,"question_id":60959114,"body_markdown":"When you define `isPurged` and `isSoldOut` as `boolean` instead of as `Boolean` the variables become initialised as `false` by default (as per your constructor).\r\n\r\nIn case you need another initialisation, you can simply define it when declaring the variable, e.g. setting one to true, the other to false:\r\n\r\n    Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    public class AssignedPropertiesDTO {\r\n    \r\n      @JsonProperty(&quot;is_sold_out&quot;)\r\n      private boolean isSoldOut = true;\r\n    \r\n      @JsonProperty(&quot;is_purged&quot;)\r\n      private boolean isPurged = false;\r\n    }\r\n\r\n\r\n","title":"How to use lombok with default constructor","body":"<p>When you define <code>isPurged</code> and <code>isSoldOut</code> as <code>boolean</code> instead of as <code>Boolean</code> the variables become initialised as <code>false</code> by default (as per your constructor).</p>\n\n<p>In case you need another initialisation, you can simply define it when declaring the variable, e.g. setting one to true, the other to false:</p>\n\n<pre><code>Data\n@Builder\n@AllArgsConstructor\npublic class AssignedPropertiesDTO {\n\n  @JsonProperty(\"is_sold_out\")\n  private boolean isSoldOut = true;\n\n  @JsonProperty(\"is_purged\")\n  private boolean isPurged = false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1585723305,"post_id":60959288,"comment_id":107858451,"body_markdown":"@Builder.Default private Boolean isSoldOut = false;\nThis worked for me. Thanks","body":"@Builder.Default private Boolean isSoldOut = false; This worked for me. Thanks"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585686246,"creation_date":1585686246,"answer_id":60959288,"question_id":60959114,"body_markdown":"`@Builder` makes an all-args constructor for you; it does not know about the non-default values required for isSoldOut and isPurged. You can use the `@Builder.Default` feature for this: `@Builder.Default private Boolean isSoldOut = false;` for example.\r\n\r\nAlternatively just make them lowercase b boolean and &#39;false&#39; is now the natural default. If that&#39;s an option at all, it&#39;s by far the best solution here.\r\n\r\nYour final option is to make the all-args constructor yourself.","title":"How to use lombok with default constructor","body":"<p><code>@Builder</code> makes an all-args constructor for you; it does not know about the non-default values required for isSoldOut and isPurged. You can use the <code>@Builder.Default</code> feature for this: <code>@Builder.Default private Boolean isSoldOut = false;</code> for example.</p>\n\n<p>Alternatively just make them lowercase b boolean and 'false' is now the natural default. If that's an option at all, it's by far the best solution here.</p>\n\n<p>Your final option is to make the all-args constructor yourself.</p>\n"},{"comments":[{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1585723353,"post_id":60959289,"comment_id":107858469,"body_markdown":"After adding this, \nI am getting error for setSoldOut(isSoldeOut); to implement setSoldOut method.","body":"After adding this,  I am getting error for setSoldOut(isSoldeOut); to implement setSoldOut method."},{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1585723695,"post_id":60959289,"comment_id":107858620,"body_markdown":"Change sold_out to is_sold_out and variable to match","body":"Change sold_out to is_sold_out and variable to match"}],"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585686246,"creation_date":1585686246,"answer_id":60959289,"question_id":60959114,"body_markdown":"Have you tried assigning the booleans with default values? It&#39;s worth noting that booleans default value is false. Also, use a boolean not a Boolean so that it can&#39;t support null.\r\n\r\nOn an unrelated note you don&#39;t usually give booleans names starting with &#39;is&#39;. That is generally left for the accessor. \r\n\r\n```java\r\n@JsonProperty(&quot;sold_out&quot;)\r\nprivate boolean soldOut;\r\n```","title":"How to use lombok with default constructor","body":"<p>Have you tried assigning the booleans with default values? It's worth noting that booleans default value is false. Also, use a boolean not a Boolean so that it can't support null.</p>\n\n<p>On an unrelated note you don't usually give booleans names starting with 'is'. That is generally left for the accessor. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(\"sold_out\")\nprivate boolean soldOut;\n</code></pre>\n"}],"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60959288,"answer_count":3,"score":1,"last_activity_date":1678779651,"creation_date":1585685676,"question_id":60959114,"body_markdown":"My AssignedPropertiesDTO class is:\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\npublic class AssignedPropertiesDTO {\r\n    @JsonProperty(&quot;hotel_id&quot;)\r\n    private Long hotelId;\r\n\r\n    @JsonProperty(&quot;oyo_id&quot;)\r\n    private String oyoId;\r\n\r\n    @JsonProperty(&quot;drn&quot;)\r\n    private Integer dsrn;\r\n\r\n    @JsonProperty(&quot;is_sold_out&quot;)\r\n    private Boolean isSoldOut;\r\n\r\n    @JsonProperty(&quot;is_purged&quot;)\r\n    private Boolean isPurged;\r\n\r\n    AssignedPropertiesDTO() {\r\n        this.isSoldOut = false;\r\n        this.isPurged = false;\r\n    }\r\n}\r\n```\r\n\r\nI need to set isSoldOut and isPurged to false. That is why i have made default constructor.\r\nBut i am using Builder() for setting class fields and somewhere just setting properties using getter/setter.\r\n\r\n```java\r\nAssignedPropertiesDTO matchingObject = assignedPropertiesDTOS.stream()\r\n    .filter(assignedPropertiesDTO -&gt; assignedPropertiesDTO.getHotelId().equals(Long.valueOf(entry.getKey())))\r\n    .findFirst()\r\n    .orElse(null);\r\n\r\nif (matchingObject == null) {\r\n    assignedPropertiesDTOS.add(AssignedPropertiesDTO\r\n        .builder()\r\n        .hotelId(Long.valueOf(entry.getKey()))\r\n        .dsrn(count)\r\n        .build()\r\n    );\r\n} else {\r\n    matchingObject.setDsrn(count);\r\n}\r\n```\r\n\r\nMy requirement is to set Ispurged/IsSoldOut to either True/False But not NULL.\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;hotel_id&quot;: 45693,\r\n        &quot;oyo_id&quot;: &quot;GOA2161&quot;,\r\n        &quot;drn&quot;: null,\r\n        &quot;is_sold_out&quot;: null,\r\n        &quot;is_purged&quot;: null\r\n    },\r\n    {\r\n        &quot;hotel_id&quot;: 45693,\r\n        &quot;oyo_id&quot;: &quot;GOA2161&quot;,\r\n        &quot;drn&quot;: null,\r\n        &quot;is_sold_out&quot;: true,\r\n        &quot;is_purged&quot;: false\r\n    }\r\n]\r\n```\r\n\r\nPlease guide me how can i do this.\r\n","title":"How to use lombok with default constructor","body":"<p>My AssignedPropertiesDTO class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@AllArgsConstructor\npublic class AssignedPropertiesDTO {\n    @JsonProperty(&quot;hotel_id&quot;)\n    private Long hotelId;\n\n    @JsonProperty(&quot;oyo_id&quot;)\n    private String oyoId;\n\n    @JsonProperty(&quot;drn&quot;)\n    private Integer dsrn;\n\n    @JsonProperty(&quot;is_sold_out&quot;)\n    private Boolean isSoldOut;\n\n    @JsonProperty(&quot;is_purged&quot;)\n    private Boolean isPurged;\n\n    AssignedPropertiesDTO() {\n        this.isSoldOut = false;\n        this.isPurged = false;\n    }\n}\n</code></pre>\n<p>I need to set isSoldOut and isPurged to false. That is why i have made default constructor.\nBut i am using Builder() for setting class fields and somewhere just setting properties using getter/setter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AssignedPropertiesDTO matchingObject = assignedPropertiesDTOS.stream()\n    .filter(assignedPropertiesDTO -&gt; assignedPropertiesDTO.getHotelId().equals(Long.valueOf(entry.getKey())))\n    .findFirst()\n    .orElse(null);\n\nif (matchingObject == null) {\n    assignedPropertiesDTOS.add(AssignedPropertiesDTO\n        .builder()\n        .hotelId(Long.valueOf(entry.getKey()))\n        .dsrn(count)\n        .build()\n    );\n} else {\n    matchingObject.setDsrn(count);\n}\n</code></pre>\n<p>My requirement is to set Ispurged/IsSoldOut to either True/False But not NULL.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;hotel_id&quot;: 45693,\n        &quot;oyo_id&quot;: &quot;GOA2161&quot;,\n        &quot;drn&quot;: null,\n        &quot;is_sold_out&quot;: null,\n        &quot;is_purged&quot;: null\n    },\n    {\n        &quot;hotel_id&quot;: 45693,\n        &quot;oyo_id&quot;: &quot;GOA2161&quot;,\n        &quot;drn&quot;: null,\n        &quot;is_sold_out&quot;: true,\n        &quot;is_purged&quot;: false\n    }\n]\n</code></pre>\n<p>Please guide me how can i do this.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":15536363,"reputation":209,"user_id":11208460,"display_name":"Alex Faster"},"score":1,"creation_date":1574530902,"post_id":59010384,"comment_id":104268813,"body_markdown":"in which line u have NPE?","body":"in which line u have NPE?"},{"owner":{"account_id":16941665,"reputation":129,"user_id":12253380,"display_name":"Kevin"},"score":0,"creation_date":1574533379,"post_id":59010384,"comment_id":104269491,"body_markdown":"the first line says this: at UI.Login.btnLoginActionPerformed(Login.java:99) But it refers to the file where I am calling the method","body":"the first line says this: at UI.Login.btnLoginActionPerformed(Login.java:99) But it refers to the file where I am calling the method"}],"answers":[{"comments":[{"owner":{"account_id":16941665,"reputation":129,"user_id":12253380,"display_name":"Kevin"},"score":0,"creation_date":1574705880,"post_id":59014770,"comment_id":104318566,"body_markdown":"I added the if statement and checked if it is not null but it still throws the exception","body":"I added the if statement and checked if it is not null but it still throws the exception"},{"owner":{"account_id":2449752,"reputation":1188,"user_id":2136313,"accept_rate":75,"display_name":"Jerren Saunders"},"score":0,"creation_date":1574719592,"post_id":59014770,"comment_id":104324055,"body_markdown":"You say &quot;checked if it is not null&quot;... do you mean your code was `if (findIterable !== null) {}` or did you do `if (findIterable) {}`?","body":"You say &quot;checked if it is not null&quot;... do you mean your code was <code>if (findIterable !== null) {}</code> or did you do <code>if (findIterable) {}</code>?"},{"owner":{"account_id":16941665,"reputation":129,"user_id":12253380,"display_name":"Kevin"},"score":0,"creation_date":1574786813,"post_id":59014770,"comment_id":104351000,"body_markdown":"I did `if(findIterable != null)` because when I do `if(findIterable)` it says that it cannot be converted to boolean","body":"I did <code>if(findIterable != null)</code> because when I do <code>if(findIterable)</code> it says that it cannot be converted to boolean"},{"owner":{"account_id":2449752,"reputation":1188,"user_id":2136313,"accept_rate":75,"display_name":"Jerren Saunders"},"score":0,"creation_date":1574819258,"post_id":59014770,"comment_id":104362969,"body_markdown":"Sorry, I missed the &#39;java&#39; tag and was thinking &#39;javascript&#39; which is the driver I&#39;m more familiar with and not the java one.  I still suspect that the find method is the root of the problem, perhaps it has something to do with the query?  I stumbled across this page: http://zetcode.com/java/mongodb/.  About half-way down, there is some examples about forming the query parameter for the find method.  Maybe that will guide you in the right direction.","body":"Sorry, I missed the &#39;java&#39; tag and was thinking &#39;javascript&#39; which is the driver I&#39;m more familiar with and not the java one.  I still suspect that the find method is the root of the problem, perhaps it has something to do with the query?  I stumbled across this page: <a href=\"http://zetcode.com/java/mongodb/\" rel=\"nofollow noreferrer\">zetcode.com/java/mongodb</a>.  About half-way down, there is some examples about forming the query parameter for the find method.  Maybe that will guide you in the right direction."}],"tags":[],"owner":{"account_id":2449752,"reputation":1188,"user_id":2136313,"accept_rate":75,"display_name":"Jerren Saunders"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574571026,"creation_date":1574571026,"answer_id":59014770,"question_id":59010384,"body_markdown":"My guess is that your `collection.find()` call is returning null so when you call `MongoCursor&lt;Document&gt; cursor = findIterable.iterator();`, findIterable is actually null and wouldn&#39;t have the iterator() method.\r\n\r\nTry checking `if (findIterable)` right after your `collection.find()` line of code.","title":"My code is throwing an exception when I try to find a document that does not exist","body":"<p>My guess is that your <code>collection.find()</code> call is returning null so when you call <code>MongoCursor&lt;Document&gt; cursor = findIterable.iterator();</code>, findIterable is actually null and wouldn't have the iterator() method.</p>\n\n<p>Try checking <code>if (findIterable)</code> right after your <code>collection.find()</code> line of code.</p>\n"},{"comments":[{"owner":{"account_id":17945185,"reputation":122,"user_id":13039638,"display_name":"uma mahesh"},"score":0,"creation_date":1675100951,"post_id":75207209,"comment_id":132851715,"body_markdown":"please keep null check on iterator","body":"please keep null check on iterator"}],"tags":[],"owner":{"account_id":17945185,"reputation":122,"user_id":13039638,"display_name":"uma mahesh"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678779399,"creation_date":1674463536,"answer_id":75207209,"question_id":59010384,"body_markdown":"if(findIterable.iterator() != null )\r\n\r\ntry this!!","title":"My code is throwing an exception when I try to find a document that does not exist","body":"<p>if(findIterable.iterator() != null )</p>\n<p>try this!!</p>\n"}],"owner":{"account_id":16941665,"reputation":129,"user_id":12253380,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678779399,"creation_date":1574530624,"question_id":59010384,"body_markdown":"My code throws this exception: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\r\nIt throws it when I enter a username or a password that mongodb can&#39;t find in the database, I tried to debug it in many ways but I can&#39;t find the statement that is throwing the exception.\r\n\r\nThe thing is that I want to display a message to the user when the username or password doesn&#39;t match in the database\r\n\r\n    public class GetEmployee {\r\n\r\n    MongoClient mongoClient = MongoClients.create();\r\n    MongoDatabase db = mongoClient.getDatabase(&quot;MirandasShoes&quot;);\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;Employees&quot;);\r\n\r\n    public Employee getEmployee(String username, String password) {\r\n        FindIterable&lt;Document&gt; findIterable = collection.find(new Document(&quot;Username&quot;, username).append(&quot;Password&quot;, password));\r\n        MongoCursor&lt;Document&gt; cursor = findIterable.iterator();\r\n        Employee e = new Employee();\r\n        if (cursor.hasNext()) {\r\n            Document doc = cursor.next();\r\n            //ArrayList&lt;Object&gt; o = new ArrayList&lt;&gt;(doc.values());\r\n            e.setId(doc.get(&quot;_id&quot;).toString());\r\n            e.setName(doc.get(&quot;Name&quot;).toString());\r\n            e.setAddress(doc.get(&quot;Address&quot;).toString());\r\n            e.setEmail(doc.get(&quot;Email&quot;).toString());\r\n            e.setPhone(doc.get(&quot;Phone&quot;).toString());\r\n            e.setUsername(doc.get(&quot;Username&quot;).toString());\r\n            e.setPassword(doc.get(&quot;Password&quot;).toString());\r\n        }\r\n        return e;//Get the shoes\r\n    }\r\n}","title":"My code is throwing an exception when I try to find a document that does not exist","body":"<p>My code throws this exception: Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException</p>\n\n<p>It throws it when I enter a username or a password that mongodb can't find in the database, I tried to debug it in many ways but I can't find the statement that is throwing the exception.</p>\n\n<p>The thing is that I want to display a message to the user when the username or password doesn't match in the database</p>\n\n<pre><code>public class GetEmployee {\n\nMongoClient mongoClient = MongoClients.create();\nMongoDatabase db = mongoClient.getDatabase(\"MirandasShoes\");\nMongoCollection&lt;Document&gt; collection = db.getCollection(\"Employees\");\n\npublic Employee getEmployee(String username, String password) {\n    FindIterable&lt;Document&gt; findIterable = collection.find(new Document(\"Username\", username).append(\"Password\", password));\n    MongoCursor&lt;Document&gt; cursor = findIterable.iterator();\n    Employee e = new Employee();\n    if (cursor.hasNext()) {\n        Document doc = cursor.next();\n        //ArrayList&lt;Object&gt; o = new ArrayList&lt;&gt;(doc.values());\n        e.setId(doc.get(\"_id\").toString());\n        e.setName(doc.get(\"Name\").toString());\n        e.setAddress(doc.get(\"Address\").toString());\n        e.setEmail(doc.get(\"Email\").toString());\n        e.setPhone(doc.get(\"Phone\").toString());\n        e.setUsername(doc.get(\"Username\").toString());\n        e.setPassword(doc.get(\"Password\").toString());\n    }\n    return e;//Get the shoes\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","jpa","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1371396106,"post_id":17132212,"comment_id":24797043,"body_markdown":"Hi Petri, thank you for that integration test show case. I can see one thing that could complement it, is to have some assertion before and after the update, to ascertain the update actually takes place.\nFor example, an assertEquals on the value of the updated field.","body":"Hi Petri, thank you for that integration test show case. I can see one thing that could complement it, is to have some assertion before and after the update, to ascertain the update actually takes place. For example, an assertEquals on the value of the updated field."},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":4,"creation_date":1371403729,"post_id":17132212,"comment_id":24798945,"body_markdown":"That&#39;s just not the way JPA works. If you trigger a manipulating query the persistence context stays untouched. You can work around this by setting the `clearAutomatically` flag on `@Modifying` to true. This will call `EntityManager.clear()` with all it&#39;s consequences (e.g. remaining, pending changes to other entities being lost etc.). If you then lookup the entity again, you should see the new values.","body":"That&#39;s just not the way JPA works. If you trigger a manipulating query the persistence context stays untouched. You can work around this by setting the <code>clearAutomatically</code> flag on <code>@Modifying</code> to true. This will call <code>EntityManager.clear()</code> with all it&#39;s consequences (e.g. remaining, pending changes to other entities being lost etc.). If you then lookup the entity again, you should see the new values."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1371458401,"post_id":17132212,"comment_id":24812312,"body_markdown":"1- I thought that by default an ORM would make the persistence layer invisible and allow me to think in terms of Java objects only.","body":"1- I thought that by default an ORM would make the persistence layer invisible and allow me to think in terms of Java objects only."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1371458474,"post_id":17132212,"comment_id":24812343,"body_markdown":"2- I can see it it not the case and there is I&#39;m sure some good and valid reason for that.","body":"2- I can see it it not the case and there is I&#39;m sure some good and valid reason for that."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1371458523,"post_id":17132212,"comment_id":24812363,"body_markdown":"3- As you say, using the clearAutomatically attribute has some consequences and from the wording you use I feel these are not ones we really want.","body":"3- As you say, using the clearAutomatically attribute has some consequences and from the wording you use I feel these are not ones we really want."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1371458715,"post_id":17132212,"comment_id":24812450,"body_markdown":"4- I tried using the clearAutomatically attribute as in: @Modifying(clearAutomatically = true) but it has an unexpected side effect that prevents my Maven build: the web.xml file is suddenly required. Without the (clearAutomatically = true) statement, the command: mvn clean install -Pmysql-db -Pjpa is a successful Maven build. But with it it fails with a: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode).","body":"4- I tried using the clearAutomatically attribute as in: @Modifying(clearAutomatically = true) but it has an unexpected side effect that prevents my Maven build: the web.xml file is suddenly required. Without the (clearAutomatically = true) statement, the command: mvn clean install -Pmysql-db -Pjpa is a successful Maven build. But with it it fails with a: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode)."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1371458839,"post_id":17132212,"comment_id":24812514,"body_markdown":"5- Indeed, I have a Java based configuration of the web application, running on the Tomcat 7 plugin, and can deploy and run using the command: mvn clean tomcat7:run -Pmysql-db (Notice the tomcat7). I wonder why the clearAutomatically makes the web.xml file suddenly required.","body":"5- Indeed, I have a Java based configuration of the web application, running on the Tomcat 7 plugin, and can deploy and run using the command: mvn clean tomcat7:run -Pmysql-db (Notice the tomcat7). I wonder why the clearAutomatically makes the web.xml file suddenly required."}],"tags":[],"owner":{"account_id":120869,"reputation":1456,"user_id":313554,"display_name":"pkainulainen"},"comment_count":7,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1371377825,"creation_date":1371377825,"answer_id":17132212,"question_id":17121620,"body_markdown":"I was able to get this to work. I will describe my application and the integration test here.\r\n\r\n**The Example Application**\r\n\r\nThe example application has two classes and one interface that are relevant to this problem:\r\n\r\n 1. The application context configuration class\r\n 2. The entity class\r\n 3. The repository interface\r\n\r\nThese classes and the repository interface are described in the following.\r\n\r\nThe source code of the `PersistenceContext` class looks as follows:\r\n\r\n    import com.jolbox.bonecp.BoneCPDataSource;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;net.petrikainulainen.spring.datajpa.todo.repository&quot;)\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class PersistenceContext {\r\n    \r\n        protected static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\r\n        protected static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\r\n        protected static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\r\n        protected static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\r\n    \r\n        private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_FORMAT_SQL = &quot;hibernate.format_sql&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_NAMING_STRATEGY = &quot;hibernate.ejb.naming_strategy&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n    \r\n        private static final String PROPERTY_PACKAGES_TO_SCAN = &quot;net.petrikainulainen.spring.datajpa.todo.model&quot;;\r\n    \r\n        @Autowired\r\n        private Environment environment;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            BoneCPDataSource dataSource = new BoneCPDataSource();\r\n    \r\n            dataSource.setDriverClass(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\r\n            dataSource.setJdbcUrl(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\r\n            dataSource.setUsername(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\r\n            dataSource.setPassword(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\r\n    \r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean\r\n        public JpaTransactionManager transactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n    \r\n            transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n    \r\n            return transactionManager;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n    \r\n            entityManagerFactoryBean.setDataSource(dataSource());\r\n            entityManagerFactoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            entityManagerFactoryBean.setPackagesToScan(PROPERTY_PACKAGES_TO_SCAN);\r\n    \r\n            Properties jpaProperties = new Properties();\r\n            jpaProperties.put(PROPERTY_NAME_HIBERNATE_DIALECT, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\r\n            jpaProperties.put(PROPERTY_NAME_HIBERNATE_FORMAT_SQL, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_FORMAT_SQL));\r\n            jpaProperties.put(PROPERTY_NAME_HIBERNATE_HBM2DDL_AUTO, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_HBM2DDL_AUTO));\r\n            jpaProperties.put(PROPERTY_NAME_HIBERNATE_NAMING_STRATEGY, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_NAMING_STRATEGY));\r\n            jpaProperties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\r\n    \r\n            entityManagerFactoryBean.setJpaProperties(jpaProperties);\r\n    \r\n            return entityManagerFactoryBean;\r\n        }\r\n    }\r\n\r\nLet&#39;s assume that we have a simple entity called `Todo` which source code looks as follows:\r\n\r\n    @Entity\r\n    @Table(name=&quot;todos&quot;)\r\n    public class Todo {\r\n    \r\n        public static final int MAX_LENGTH_DESCRIPTION = 500;\r\n        public static final int MAX_LENGTH_TITLE = 100;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;description&quot;, nullable = true, length = MAX_LENGTH_DESCRIPTION)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;title&quot;, nullable = false, length = MAX_LENGTH_TITLE)\r\n        private String title;\r\n    \r\n        @Version\r\n        private long version;\r\n    }\r\n\r\nOur repository interface has a single method called `updateTitle()` which updates the title of a todo entry. The source code of the `TodoRepository` interface looks as follows:\r\n\r\n    import net.petrikainulainen.spring.datajpa.todo.model.Todo;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface TodoRepository extends JpaRepository&lt;Todo, Long&gt; {\r\n    \r\n        @Modifying\r\n        @Query(&quot;Update Todo t SET t.title=:title WHERE t.id=:id&quot;)\r\n        public void updateTitle(@Param(&quot;id&quot;) Long id, @Param(&quot;title&quot;) String title);\r\n    }\r\n\r\nThe `updateTitle()` method is not annotated with the `@Transactional` annotation because I think that it is best to use a service layer as a transaction boundary.\r\n\r\n**The Integration Test**\r\n\r\nThe Integration Test uses DbUnit, Spring Test and Spring-Test-DBUnit. It has three components which are relevant to this problem:\r\n\r\n 1. The DbUnit dataset which is used to initialize the database into a known state before the test is executed.\r\n 2. The DbUnit dataset which is used to verify that the title of the entity is updated.\r\n 3. The integration test.\r\n\r\nThese components are described with more details in the following.\r\n\r\nThe name of the DbUnit dataset file which is used to initialize the database to known state is *toDoData.xml* and its content looks as follows:\r\n\r\n    &lt;dataset&gt;\r\n        &lt;todos id=&quot;1&quot; description=&quot;Lorem ipsum&quot; title=&quot;Foo&quot; version=&quot;0&quot;/&gt;\r\n        &lt;todos id=&quot;2&quot; description=&quot;Lorem ipsum&quot; title=&quot;Bar&quot; version=&quot;0&quot;/&gt;\r\n    &lt;/dataset&gt;\r\n\r\nThe name of the DbUnit dataset which is used to verify that the title of the todo entry is updated is called *toDoData-update.xml* and its content looks as follows (for some reason the version of the todo entry was not updated but the title was. Any ideas why?):\r\n\r\n    &lt;dataset&gt;\r\n        &lt;todos id=&quot;1&quot; description=&quot;Lorem ipsum&quot; title=&quot;FooBar&quot; version=&quot;0&quot;/&gt;\r\n        &lt;todos id=&quot;2&quot; description=&quot;Lorem ipsum&quot; title=&quot;Bar&quot; version=&quot;0&quot;/&gt;\r\n    &lt;/dataset&gt;\r\n\r\nThe source code of the actual integration test looks as follows (Remember to annotate the test method with the `@Transactional` annotation):\r\n\r\n    import com.github.springtestdbunit.DbUnitTestExecutionListener;\r\n    import com.github.springtestdbunit.TransactionDbUnitTestExecutionListener;\r\n    import com.github.springtestdbunit.annotation.DatabaseSetup;\r\n    import com.github.springtestdbunit.annotation.ExpectedDatabase;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.test.annotation.Rollback;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.TestExecutionListeners;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.context.support.DependencyInjectionTestExecutionListener;\r\n    import org.springframework.test.context.support.DirtiesContextTestExecutionListener;\r\n    import org.springframework.test.context.transaction.TransactionalTestExecutionListener;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {PersistenceContext.class})\r\n    @TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\r\n            DirtiesContextTestExecutionListener.class,\r\n            TransactionalTestExecutionListener.class,\r\n            DbUnitTestExecutionListener.class })\r\n    @DatabaseSetup(&quot;todoData.xml&quot;)\r\n    public class ITTodoRepositoryTest {\r\n    \r\n        @Autowired\r\n        private TodoRepository repository;\r\n    \r\n        @Test\r\n        @Transactional\r\n        @ExpectedDatabase(&quot;toDoData-update.xml&quot;)\r\n        public void updateTitle_ShouldUpdateTitle() {\r\n            repository.updateTitle(1L, &quot;FooBar&quot;);\r\n        }\r\n    }\r\n\r\nAfter I run the integration test, the test passes and the title of the todo entry is updated. The only problem which I am having is that the version field is not updated. Any ideas why?\r\n\r\nI undestand that this description is a bit vague. If you want to get more information about writing integration tests for Spring Data JPA repositories, you can read [my blog post about it][1].\r\n\r\n\r\n  [1]: http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-integration-testing/","title":"Spring Data JPA Update @Query not updating?","body":"<p>I was able to get this to work. I will describe my application and the integration test here.</p>\n\n<p><strong>The Example Application</strong></p>\n\n<p>The example application has two classes and one interface that are relevant to this problem:</p>\n\n<ol>\n<li>The application context configuration class</li>\n<li>The entity class</li>\n<li>The repository interface</li>\n</ol>\n\n<p>These classes and the repository interface are described in the following.</p>\n\n<p>The source code of the <code>PersistenceContext</code> class looks as follows:</p>\n\n<pre><code>import com.jolbox.bonecp.BoneCPDataSource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = \"net.petrikainulainen.spring.datajpa.todo.repository\")\n@PropertySource(\"classpath:application.properties\")\npublic class PersistenceContext {\n\n    protected static final String PROPERTY_NAME_DATABASE_DRIVER = \"db.driver\";\n    protected static final String PROPERTY_NAME_DATABASE_PASSWORD = \"db.password\";\n    protected static final String PROPERTY_NAME_DATABASE_URL = \"db.url\";\n    protected static final String PROPERTY_NAME_DATABASE_USERNAME = \"db.username\";\n\n    private static final String PROPERTY_NAME_HIBERNATE_DIALECT = \"hibernate.dialect\";\n    private static final String PROPERTY_NAME_HIBERNATE_FORMAT_SQL = \"hibernate.format_sql\";\n    private static final String PROPERTY_NAME_HIBERNATE_HBM2DDL_AUTO = \"hibernate.hbm2ddl.auto\";\n    private static final String PROPERTY_NAME_HIBERNATE_NAMING_STRATEGY = \"hibernate.ejb.naming_strategy\";\n    private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = \"hibernate.show_sql\";\n\n    private static final String PROPERTY_PACKAGES_TO_SCAN = \"net.petrikainulainen.spring.datajpa.todo.model\";\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public DataSource dataSource() {\n        BoneCPDataSource dataSource = new BoneCPDataSource();\n\n        dataSource.setDriverClass(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\n        dataSource.setJdbcUrl(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\n        dataSource.setUsername(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\n        dataSource.setPassword(environment.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\n\n        return dataSource;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n\n        return transactionManager;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n\n        entityManagerFactoryBean.setDataSource(dataSource());\n        entityManagerFactoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        entityManagerFactoryBean.setPackagesToScan(PROPERTY_PACKAGES_TO_SCAN);\n\n        Properties jpaProperties = new Properties();\n        jpaProperties.put(PROPERTY_NAME_HIBERNATE_DIALECT, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\n        jpaProperties.put(PROPERTY_NAME_HIBERNATE_FORMAT_SQL, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_FORMAT_SQL));\n        jpaProperties.put(PROPERTY_NAME_HIBERNATE_HBM2DDL_AUTO, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_HBM2DDL_AUTO));\n        jpaProperties.put(PROPERTY_NAME_HIBERNATE_NAMING_STRATEGY, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_NAMING_STRATEGY));\n        jpaProperties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, environment.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\n\n        entityManagerFactoryBean.setJpaProperties(jpaProperties);\n\n        return entityManagerFactoryBean;\n    }\n}\n</code></pre>\n\n<p>Let's assume that we have a simple entity called <code>Todo</code> which source code looks as follows:</p>\n\n<pre><code>@Entity\n@Table(name=\"todos\")\npublic class Todo {\n\n    public static final int MAX_LENGTH_DESCRIPTION = 500;\n    public static final int MAX_LENGTH_TITLE = 100;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = \"description\", nullable = true, length = MAX_LENGTH_DESCRIPTION)\n    private String description;\n\n    @Column(name = \"title\", nullable = false, length = MAX_LENGTH_TITLE)\n    private String title;\n\n    @Version\n    private long version;\n}\n</code></pre>\n\n<p>Our repository interface has a single method called <code>updateTitle()</code> which updates the title of a todo entry. The source code of the <code>TodoRepository</code> interface looks as follows:</p>\n\n<pre><code>import net.petrikainulainen.spring.datajpa.todo.model.Todo;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport java.util.List;\n\npublic interface TodoRepository extends JpaRepository&lt;Todo, Long&gt; {\n\n    @Modifying\n    @Query(\"Update Todo t SET t.title=:title WHERE t.id=:id\")\n    public void updateTitle(@Param(\"id\") Long id, @Param(\"title\") String title);\n}\n</code></pre>\n\n<p>The <code>updateTitle()</code> method is not annotated with the <code>@Transactional</code> annotation because I think that it is best to use a service layer as a transaction boundary.</p>\n\n<p><strong>The Integration Test</strong></p>\n\n<p>The Integration Test uses DbUnit, Spring Test and Spring-Test-DBUnit. It has three components which are relevant to this problem:</p>\n\n<ol>\n<li>The DbUnit dataset which is used to initialize the database into a known state before the test is executed.</li>\n<li>The DbUnit dataset which is used to verify that the title of the entity is updated.</li>\n<li>The integration test.</li>\n</ol>\n\n<p>These components are described with more details in the following.</p>\n\n<p>The name of the DbUnit dataset file which is used to initialize the database to known state is <em>toDoData.xml</em> and its content looks as follows:</p>\n\n<pre><code>&lt;dataset&gt;\n    &lt;todos id=\"1\" description=\"Lorem ipsum\" title=\"Foo\" version=\"0\"/&gt;\n    &lt;todos id=\"2\" description=\"Lorem ipsum\" title=\"Bar\" version=\"0\"/&gt;\n&lt;/dataset&gt;\n</code></pre>\n\n<p>The name of the DbUnit dataset which is used to verify that the title of the todo entry is updated is called <em>toDoData-update.xml</em> and its content looks as follows (for some reason the version of the todo entry was not updated but the title was. Any ideas why?):</p>\n\n<pre><code>&lt;dataset&gt;\n    &lt;todos id=\"1\" description=\"Lorem ipsum\" title=\"FooBar\" version=\"0\"/&gt;\n    &lt;todos id=\"2\" description=\"Lorem ipsum\" title=\"Bar\" version=\"0\"/&gt;\n&lt;/dataset&gt;\n</code></pre>\n\n<p>The source code of the actual integration test looks as follows (Remember to annotate the test method with the <code>@Transactional</code> annotation):</p>\n\n<pre><code>import com.github.springtestdbunit.DbUnitTestExecutionListener;\nimport com.github.springtestdbunit.TransactionDbUnitTestExecutionListener;\nimport com.github.springtestdbunit.annotation.DatabaseSetup;\nimport com.github.springtestdbunit.annotation.ExpectedDatabase;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.annotation.Rollback;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestExecutionListeners;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.support.DependencyInjectionTestExecutionListener;\nimport org.springframework.test.context.support.DirtiesContextTestExecutionListener;\nimport org.springframework.test.context.transaction.TransactionalTestExecutionListener;\nimport org.springframework.transaction.annotation.Transactional;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {PersistenceContext.class})\n@TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\n        DirtiesContextTestExecutionListener.class,\n        TransactionalTestExecutionListener.class,\n        DbUnitTestExecutionListener.class })\n@DatabaseSetup(\"todoData.xml\")\npublic class ITTodoRepositoryTest {\n\n    @Autowired\n    private TodoRepository repository;\n\n    @Test\n    @Transactional\n    @ExpectedDatabase(\"toDoData-update.xml\")\n    public void updateTitle_ShouldUpdateTitle() {\n        repository.updateTitle(1L, \"FooBar\");\n    }\n}\n</code></pre>\n\n<p>After I run the integration test, the test passes and the title of the todo entry is updated. The only problem which I am having is that the version field is not updated. Any ideas why?</p>\n\n<p>I undestand that this description is a bit vague. If you want to get more information about writing integration tests for Spring Data JPA repositories, you can read <a href=\"http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-integration-testing/\" rel=\"noreferrer\">my blog post about it</a>.</p>\n"},{"tags":[],"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1372459098,"creation_date":1372459098,"answer_id":17374664,"question_id":17121620,"body_markdown":"I finally understood what was going on.\r\n\r\nWhen creating an integration test on a statement saving an object, it is recommended to flush the entity manager so as to avoid any false negative, that is, to avoid a test running fine but whose operation would fail when run in production. Indeed, the test may run fine simply because the first level cache is not flushed and no writing hits the database. To avoid this false negative integration test use an explicit flush in the test body. Note that the production code should never need to use any explicit flush as it is the role of the ORM to decide when to flush.\r\n\r\nWhen creating an integration test on an update statement, it may be necessary to clear the entity manager so as to reload the first level cache. Indeed, an update statement completely bypasses the first level cache and writes directly to the database. The first level cache is then out of sync and reflects the old value of the updated object. To avoid this stale state of the object, use an explicit clear in the test body. Note that the production code should never need to use any explicit clear as it is the role of the ORM to decide when to clear.\r\n\r\nMy test now works just fine.","title":"Spring Data JPA Update @Query not updating?","body":"<p>I finally understood what was going on.</p>\n\n<p>When creating an integration test on a statement saving an object, it is recommended to flush the entity manager so as to avoid any false negative, that is, to avoid a test running fine but whose operation would fail when run in production. Indeed, the test may run fine simply because the first level cache is not flushed and no writing hits the database. To avoid this false negative integration test use an explicit flush in the test body. Note that the production code should never need to use any explicit flush as it is the role of the ORM to decide when to flush.</p>\n\n<p>When creating an integration test on an update statement, it may be necessary to clear the entity manager so as to reload the first level cache. Indeed, an update statement completely bypasses the first level cache and writes directly to the database. The first level cache is then out of sync and reflects the old value of the updated object. To avoid this stale state of the object, use an explicit clear in the test body. Note that the production code should never need to use any explicit clear as it is the role of the ORM to decide when to clear.</p>\n\n<p>My test now works just fine.</p>\n"},{"comments":[{"owner":{"account_id":1849319,"reputation":1716,"user_id":1676219,"display_name":"ciri-cuervo"},"score":9,"creation_date":1446832563,"post_id":20056058,"comment_id":54923498,"body_markdown":"if you don&#39;t want to loose non-flushed changes after a clearAutomatically update, read this approach: [Modifying update query - Refresh persistence context](http://stackoverflow.com/questions/32258857/spring-boot-data-jpa-modifying-update-query-refresh-persistence-context)","body":"if you don&#39;t want to loose non-flushed changes after a clearAutomatically update, read this approach: <a href=\"http://stackoverflow.com/questions/32258857/spring-boot-data-jpa-modifying-update-query-refresh-persistence-context\">Modifying update query - Refresh persistence context</a>"},{"owner":{"account_id":3526451,"reputation":661,"user_id":2947397,"display_name":"Gaurav Tyagi"},"score":7,"creation_date":1545895450,"post_id":20056058,"comment_id":94721677,"body_markdown":"Solution is perfect just a minor update, @Transactional will also be required.","body":"Solution is perfect just a minor update, @Transactional will also be required."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":2,"creation_date":1585899109,"post_id":20056058,"comment_id":107931343,"body_markdown":"The missing flush is not the problem. the problem is the `EntityManager` holds on to the unchanged entities. Clearing it as described in this answer fixes that.","body":"The missing flush is not the problem. the problem is the <code>EntityManager</code> holds on to the unchanged entities. Clearing it as described in this answer fixes that."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":2,"creation_date":1588219048,"post_id":20056058,"comment_id":108817010,"body_markdown":"Why can&#39;t `@Modifying(flushAutomatically = true, clearAutomatically = true)` be used? Won&#39;t that solve both the problems?","body":"Why can&#39;t <code>@Modifying(flushAutomatically = true, clearAutomatically = true)</code> be used? Won&#39;t that solve both the problems?"},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":1,"creation_date":1589379258,"post_id":20056058,"comment_id":109270926,"body_markdown":"The description of this solution doesn&#39;t correspond to the solution itself. &quot;The EntityManager doesn&#39;t **clear persistence context after executing this query** by default&quot;. That is what `clearAutomatically = true` do. It has nothing to do with &quot;flush&quot;.","body":"The description of this solution doesn&#39;t correspond to the solution itself. &quot;The EntityManager doesn&#39;t <b>clear persistence context after executing this query</b> by default&quot;. That is what <code>clearAutomatically = true</code> do. It has nothing to do with &quot;flush&quot;."},{"owner":{"account_id":8082685,"reputation":1042,"user_id":6091258,"display_name":"epol"},"score":0,"creation_date":1616626533,"post_id":20056058,"comment_id":118065672,"body_markdown":"several issues with this solution, see https://stackoverflow.com/questions/66756927/lazyinitializationexception-with-open-in-view-turned-on","body":"several issues with this solution, see <a href=\"https://stackoverflow.com/questions/66756927/lazyinitializationexception-with-open-in-view-turned-on\" title=\"lazyinitializationexception with open in view turned on\">stackoverflow.com/questions/66756927/&hellip;</a>"}],"tags":[],"owner":{"account_id":1549286,"reputation":1601,"user_id":1442063,"display_name":"Nick V"},"comment_count":6,"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1415179662,"creation_date":1384802645,"answer_id":20056058,"question_id":17121620,"body_markdown":"The EntityManager doesn&#39;t flush change automatically by default. You should use the following option with your statement of query:\r\n\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(&quot;update RssFeedEntry feedEntry set feedEntry.read =:isRead where feedEntry.id =:entryId&quot;)\r\n    void markEntryAsRead(@Param(&quot;entryId&quot;) Long rssFeedEntryId, @Param(&quot;isRead&quot;) boolean isRead);\r\n","title":"Spring Data JPA Update @Query not updating?","body":"<p>The EntityManager doesn't flush change automatically by default. You should use the following option with your statement of query:</p>\n\n<pre><code>@Modifying(clearAutomatically = true)\n@Query(\"update RssFeedEntry feedEntry set feedEntry.read =:isRead where feedEntry.id =:entryId\")\nvoid markEntryAsRead(@Param(\"entryId\") Long rssFeedEntryId, @Param(\"isRead\") boolean isRead);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9922942,"reputation":348,"user_id":7345493,"display_name":"Innovationchef"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549347519,"creation_date":1549347519,"answer_id":54528679,"question_id":17121620,"body_markdown":"I struggled with the same problem where I was trying to execute an update query like the same as you did- \r\n\r\n    @Modifying\r\n\t@Transactional\r\n\t@Query(value = &quot;UPDATE SAMPLE_TABLE st SET st.status=:flag WHERE se.referenceNo in :ids&quot;)\r\n\tpublic int updateStatus(@Param(&quot;flag&quot;)String flag, @Param(&quot;ids&quot;)List&lt;String&gt; references);\r\n\r\nThis will work if you have put `@EnableTransactionManagement` annotation on the main class.\r\nSpring 3.1 introduces the `@EnableTransactionManagement` annotation to be used in on `@Configuration` classes and enable transactional support.","title":"Spring Data JPA Update @Query not updating?","body":"<p>I struggled with the same problem where I was trying to execute an update query like the same as you did- </p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(value = \"UPDATE SAMPLE_TABLE st SET st.status=:flag WHERE se.referenceNo in :ids\")\npublic int updateStatus(@Param(\"flag\")String flag, @Param(\"ids\")List&lt;String&gt; references);\n</code></pre>\n\n<p>This will work if you have put <code>@EnableTransactionManagement</code> annotation on the main class.\nSpring 3.1 introduces the <code>@EnableTransactionManagement</code> annotation to be used in on <code>@Configuration</code> classes and enable transactional support.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585906759,"creation_date":1585906759,"answer_id":61008998,"question_id":17121620,"body_markdown":"The underlying problem here is the 1st level cache of JPA.\r\nFrom the JPA spec Version 2.2 section 3.1. emphasise is mine:\r\n\r\n&gt; An EntityManager instance is associated with a persistence context. A persistence context is a set of entity instances in which for any persistent entity identity there is a **unique entity instance**.\r\n\r\nThis is important because JPA tracks changes to that entity in order to flush them to the database.\r\nAs a side effect it also means within a single persistence context an entity gets only loaded once.\r\nThis why reloading the changed entity doesn&#39;t have any effect.\r\n\r\nYou have a couple of options how to handle this:\r\n\r\n1. Evict the entity from the `EntityManager`. \r\n This may be done by calling [`EntityManager.detach`][1], annotating the updating method with `@Modifying(clearAutomatically = true)` which evicts all entities.\r\nMake sure changes to these entities get flushed first or you might end up loosing changes.\r\n\r\n2. Use [`EntityManager.refresh()`][2].\r\n\r\n2. Use a different persistence context to load the entity. \r\n The easiest way to do this is to do it in a separate transaction.\r\n With Spring this can be done by having separate methods annotated with `@Transactional` on beans called from a bean not annotated with `@Transactional`. \r\n Another way is to use a [`TransactionTemplate`][3] which works especially nicely in tests where it makes transaction boundaries very visible.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#detach-java.lang.Object-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#refresh-java.lang.Object-\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html","title":"Spring Data JPA Update @Query not updating?","body":"<p>The underlying problem here is the 1st level cache of JPA.\nFrom the JPA spec Version 2.2 section 3.1. emphasise is mine:</p>\n\n<blockquote>\n  <p>An EntityManager instance is associated with a persistence context. A persistence context is a set of entity instances in which for any persistent entity identity there is a <strong>unique entity instance</strong>.</p>\n</blockquote>\n\n<p>This is important because JPA tracks changes to that entity in order to flush them to the database.\nAs a side effect it also means within a single persistence context an entity gets only loaded once.\nThis why reloading the changed entity doesn't have any effect.</p>\n\n<p>You have a couple of options how to handle this:</p>\n\n<ol>\n<li><p>Evict the entity from the <code>EntityManager</code>. \nThis may be done by calling <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#detach-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>EntityManager.detach</code></a>, annotating the updating method with <code>@Modifying(clearAutomatically = true)</code> which evicts all entities.\nMake sure changes to these entities get flushed first or you might end up loosing changes.</p></li>\n<li><p>Use <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#refresh-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>EntityManager.refresh()</code></a>.</p></li>\n<li><p>Use a different persistence context to load the entity. \nThe easiest way to do this is to do it in a separate transaction.\nWith Spring this can be done by having separate methods annotated with <code>@Transactional</code> on beans called from a bean not annotated with <code>@Transactional</code>. \nAnother way is to use a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"nofollow noreferrer\"><code>TransactionTemplate</code></a> which works especially nicely in tests where it makes transaction boundaries very visible.</p></li>\n</ol>\n"}],"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276803,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":20056058,"answer_count":5,"score":78,"last_activity_date":1678779257,"creation_date":1371284605,"question_id":17121620,"body_markdown":"I have an update query:\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Admin SET firstname = :firstname, lastname = :lastname, login = :login, superAdmin = :superAdmin, preferenceAdmin = :preferenceAdmin, address =  :address, zipCode = :zipCode, city = :city, country = :country, email = :email, profile = :profile, postLoginUrl = :postLoginUrl WHERE id = :id&quot;)\r\n    public void update(@Param(&quot;firstname&quot;) String firstname, @Param(&quot;lastname&quot;) String lastname, @Param(&quot;login&quot;) String login, @Param(&quot;superAdmin&quot;) boolean superAdmin, @Param(&quot;preferenceAdmin&quot;) boolean preferenceAdmin, @Param(&quot;address&quot;) String address, @Param(&quot;zipCode&quot;) String zipCode, @Param(&quot;city&quot;) String city, @Param(&quot;country&quot;) String country, @Param(&quot;email&quot;) String email, @Param(&quot;profile&quot;) String profile, @Param(&quot;postLoginUrl&quot;) String postLoginUrl, @Param(&quot;id&quot;) Long id);\r\n\r\nI&#39;m trying to use it in an integration test:\r\n\r\n    adminRepository.update(&quot;Toto&quot;, &quot;LeHeros&quot;, admin0.getLogin(), admin0.getSuperAdmin(), admin0.getPreferenceAdmin(), admin0.getAddress(), admin0.getZipCode(), admin0.getCity(), admin0.getCountry(), admin0.getEmail(), admin0.getProfile(), admin0.getPostLoginUrl(), admin0.getId());\r\n    Admin loadedAdmin = adminRepository.findOne(admin0.getId());\r\n    assertEquals(&quot;Toto&quot;, loadedAdmin.getFirstname());\r\n    assertEquals(&quot;LeHeros&quot;, loadedAdmin.getLastname());\r\n\r\nBut the fields are not updated and retain their initial values, the test thus failing.\r\n\r\nI tried adding a flush right before the findOne query:\r\n\r\n    adminRepository.flush();\r\n\r\nBut the failed assertion remained identical.\r\n\r\nI can see the update sql statement in the log:\r\n\r\n    update admin set firstname=&#39;Toto&#39;, lastname=&#39;LeHeros&#39;, login=&#39;stephane&#39;, super_admin=0, preference_admin=0,\r\n    address=NULL, zip_code=NULL, city=NULL, country=NULL, email=&#39;stephane@thalasoft.com&#39;, profile=NULL,\r\n    post_login_url=NULL where id=2839\r\n\r\nBut the log shows no sql that could relate to the finder:\r\n\r\n    Admin loadedAdmin = adminRepository.findOne(admin0.getId());\r\n    The finder sql statement is not making its way to the database.\r\n\r\nIs it ignored for some caching reason ?\r\n\r\nIf I then add a call to the findByEmail and findByLogin finders as in:\r\n\r\n    adminRepository.update(&quot;Toto&quot;, &quot;LeHeros&quot;, &quot;qwerty&quot;, admin0.getSuperAdmin(), admin0.getPreferenceAdmin(), admin0.getAddress(), admin0.getZipCode(), admin0.getCity(), admin0.getCountry(), admin0.getEmail(), admin0.getProfile(), admin0.getPostLoginUrl(), admin0.getId());\r\n    Admin loadedAdmin = adminRepository.findOne(admin0.getId());\r\n    Admin myadmin = adminRepository.findByEmail(admin0.getEmail());\r\n    Admin anadmin = adminRepository.findByLogin(&quot;qwerty&quot;);\r\n    assertEquals(&quot;Toto&quot;, anadmin.getFirstname());\r\n    assertEquals(&quot;Toto&quot;, myadmin.getFirstname());\r\n    assertEquals(&quot;Toto&quot;, loadedAdmin.getFirstname());\r\n    assertEquals(&quot;LeHeros&quot;, loadedAdmin.getLastname());\r\n\r\nthen I can see in the log the sql statement being generated:\r\n\r\nBut the assertion:\r\n\r\n    assertEquals(&quot;Toto&quot;, myadmin.getFirstname());\r\n\r\nstill fails even though the trace shows the same domain object was retrieved:\r\n\r\n    TRACE [BasicExtractor] found [1037] as column [id14_]\r\n\r\nOne other thing that puzzles me with this other finder is that it shows a limit 2 clause even though it is supposed to return only one Admin object.\r\n\r\nI thought there would always be a limit 1 when returning one domain object. Is this a wrong assumption on Spring Data ?\r\n\r\nWhen pasting in a MySQL client, the sql statements displayed in the console log, the logic works fine:\r\n\r\n    mysql&gt; insert into admin (version, address, city, country, email, firstname, lastname, login, password, \r\n    -&gt; password_salt, post_login_url, preference_admin, profile, super_admin, zip_code) values (0,\r\n    -&gt; NULL, NULL, NULL, &#39;zemail@thalasoft.com039&#39;, &#39;zfirstname039&#39;, &#39;zlastname039&#39;, &#39;zlogin039&#39;,\r\n    -&gt; &#39;zpassword039&#39;, &#39;&#39;, NULL, 0, NULL, 1, NULL);\r\n    Query OK, 1 row affected (0.07 sec)\r\n    \r\n    mysql&gt; select * from admin;\r\n    +------+---------+---------------+--------------+-----------+--------------+---------------+-------------+------------------+---------+----------+------+---------+-------------------------+---------+----------------+\r\n    | id | version | firstname | lastname | login | password | password_salt | super_admin | preference_admin | address | zip_code | city | country | email | profile | post_login_url |\r\n    +------+---------+---------------+--------------+-----------+--------------+---------------+-------------+------------------+---------+----------+------+---------+-------------------------+---------+----------------+\r\n    | 1807 | 0 | zfirstname039 | zlastname039 | zlogin039 | zpassword039 | | 1 | 0 | NULL | NULL | NULL | NULL | zemail@thalasoft.com039 | NULL | NULL | \r\n    +------+---------+---------------+--------------+-----------+--------------+---------------+-------------+------------------+---------+----------+------+---------+-------------------------+---------+----------------+\r\n    1 row in set (0.00 sec)\r\n    \r\n    mysql&gt; update admin set firstname=&#39;Toto&#39;, lastname=&#39;LeHeros&#39;, login=&#39;qwerty&#39;, super_admin=0, preference_admin=0, address=NULL, zip_code=NULL, city=NULL, country=NULL, email=&#39;stephane@thalasoft.com&#39;, profile=NULL, post_login_url=NULL where id=1807;\r\n    Query OK, 1 row affected (0.07 sec)\r\n    Rows matched: 1 Changed: 1 Warnings: 0\r\n    \r\n    mysql&gt; select * from admin; +------+---------+-----------+----------+--------+--------------+---------------+-------------+------------------+---------+----------+------+---------+------------------------+---------+----------------+\r\n    | id | version | firstname | lastname | login | password | password_salt | super_admin | preference_admin | address | zip_code | city | country | email | profile | post_login_url |\r\n    +------+---------+-----------+----------+--------+--------------+---------------+-------------+------------------+---------+----------+------+---------+------------------------+---------+----------------+\r\n    | 1807 | 0 | Toto | LeHeros | qwerty | zpassword039 | | 0 | 0 | NULL | NULL | NULL | NULL | stephane@thalasoft.com | NULL | NULL | \r\n    +------+---------+-----------+----------+--------+--------------+---------------+-------------+------------------+---------+----------+------+---------+------------------------+---------+----------------+\r\n    1 row in set (0.00 sec)\r\n    \r\n    mysql&gt; select admin0_.id as id14_, admin0_.version as version14_, admin0_.address as address14_, admin0_.city as city14_, admin0_.country as country14_, admin0_.email as email14_, admin0_.firstname as firstname14_, admin0_.lastname as lastname14_, admin0_.login as login14_, admin0_.password as password14_, admin0_.password_salt as password11_14_, admin0_.post_login_url as post12_14_, admin0_.preference_admin as preference13_14_, admin0_.profile as profile14_, admin0_.super_admin as super15_14_, admin0_.zip_code as zip16_14_ from admin admin0_ where admin0_.email=&#39;stephane@thalasoft.com&#39; limit 2;\r\n    +-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\r\n    | id14_ | version14_ | address14_ | city14_ | country14_ | email14_ | firstname14_ | lastname14_ | login14_ | password14_ | password11_14_ | post12_14_ | preference13_14_ | profile14_ | super15_14_ | zip16_14_ |\r\n    +-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\r\n    | 1807 | 0 | NULL | NULL | NULL | stephane@thalasoft.com | Toto | LeHeros | qwerty | zpassword039 | | NULL | 0 | NULL | 0 | NULL | \r\n    +-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\r\n    1 row in set (0.00 sec)\r\n    \r\n    mysql&gt; select admin0_.id as id14_, admin0_.version as version14_, admin0_.address as address14_, admin0_.city as city14_, admin0_.country as country14_, admin0_.email as email14_, admin0_.firstname as firstname14_, admin0_.lastname as lastname14_, admin0_.login as login14_, admin0_.password as password14_, admin0_.password_salt as password11_14_, admin0_.post_login_url as post12_14_, admin0_.preference_admin as preference13_14_, admin0_.profile as profile14_, admin0_.super_admin as super15_14_, admin0_.zip_code as zip16_14_ from admin admin0_ where admin0_.login=&#39;qwerty&#39; limit 2;\r\n    +-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\r\n    | id14_ | version14_ | address14_ | city14_ | country14_ | email14_ | firstname14_ | lastname14_ | login14_ | password14_ | password11_14_ | post12_14_ | preference13_14_ | profile14_ | super15_14_ | zip16_14_ |\r\n    +-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\r\n    | 1807 | 0 | NULL | NULL | NULL | stephane@thalasoft.com | Toto | LeHeros | qwerty | zpassword039 | | NULL | 0 | NULL | 0 | NULL | \r\n    +-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\r\n    1 row in set (0.00 sec)\r\n\r\nSo why is this not reflected at the Java level ?\r\n\r\n\r\n\r\n\r\n","title":"Spring Data JPA Update @Query not updating?","body":"<p>I have an update query:</p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"UPDATE Admin SET firstname = :firstname, lastname = :lastname, login = :login, superAdmin = :superAdmin, preferenceAdmin = :preferenceAdmin, address =  :address, zipCode = :zipCode, city = :city, country = :country, email = :email, profile = :profile, postLoginUrl = :postLoginUrl WHERE id = :id\")\npublic void update(@Param(\"firstname\") String firstname, @Param(\"lastname\") String lastname, @Param(\"login\") String login, @Param(\"superAdmin\") boolean superAdmin, @Param(\"preferenceAdmin\") boolean preferenceAdmin, @Param(\"address\") String address, @Param(\"zipCode\") String zipCode, @Param(\"city\") String city, @Param(\"country\") String country, @Param(\"email\") String email, @Param(\"profile\") String profile, @Param(\"postLoginUrl\") String postLoginUrl, @Param(\"id\") Long id);\n</code></pre>\n\n<p>I'm trying to use it in an integration test:</p>\n\n<pre><code>adminRepository.update(\"Toto\", \"LeHeros\", admin0.getLogin(), admin0.getSuperAdmin(), admin0.getPreferenceAdmin(), admin0.getAddress(), admin0.getZipCode(), admin0.getCity(), admin0.getCountry(), admin0.getEmail(), admin0.getProfile(), admin0.getPostLoginUrl(), admin0.getId());\nAdmin loadedAdmin = adminRepository.findOne(admin0.getId());\nassertEquals(\"Toto\", loadedAdmin.getFirstname());\nassertEquals(\"LeHeros\", loadedAdmin.getLastname());\n</code></pre>\n\n<p>But the fields are not updated and retain their initial values, the test thus failing.</p>\n\n<p>I tried adding a flush right before the findOne query:</p>\n\n<pre><code>adminRepository.flush();\n</code></pre>\n\n<p>But the failed assertion remained identical.</p>\n\n<p>I can see the update sql statement in the log:</p>\n\n<pre><code>update admin set firstname='Toto', lastname='LeHeros', login='stephane', super_admin=0, preference_admin=0,\naddress=NULL, zip_code=NULL, city=NULL, country=NULL, email='stephane@thalasoft.com', profile=NULL,\npost_login_url=NULL where id=2839\n</code></pre>\n\n<p>But the log shows no sql that could relate to the finder:</p>\n\n<pre><code>Admin loadedAdmin = adminRepository.findOne(admin0.getId());\nThe finder sql statement is not making its way to the database.\n</code></pre>\n\n<p>Is it ignored for some caching reason ?</p>\n\n<p>If I then add a call to the findByEmail and findByLogin finders as in:</p>\n\n<pre><code>adminRepository.update(\"Toto\", \"LeHeros\", \"qwerty\", admin0.getSuperAdmin(), admin0.getPreferenceAdmin(), admin0.getAddress(), admin0.getZipCode(), admin0.getCity(), admin0.getCountry(), admin0.getEmail(), admin0.getProfile(), admin0.getPostLoginUrl(), admin0.getId());\nAdmin loadedAdmin = adminRepository.findOne(admin0.getId());\nAdmin myadmin = adminRepository.findByEmail(admin0.getEmail());\nAdmin anadmin = adminRepository.findByLogin(\"qwerty\");\nassertEquals(\"Toto\", anadmin.getFirstname());\nassertEquals(\"Toto\", myadmin.getFirstname());\nassertEquals(\"Toto\", loadedAdmin.getFirstname());\nassertEquals(\"LeHeros\", loadedAdmin.getLastname());\n</code></pre>\n\n<p>then I can see in the log the sql statement being generated:</p>\n\n<p>But the assertion:</p>\n\n<pre><code>assertEquals(\"Toto\", myadmin.getFirstname());\n</code></pre>\n\n<p>still fails even though the trace shows the same domain object was retrieved:</p>\n\n<pre><code>TRACE [BasicExtractor] found [1037] as column [id14_]\n</code></pre>\n\n<p>One other thing that puzzles me with this other finder is that it shows a limit 2 clause even though it is supposed to return only one Admin object.</p>\n\n<p>I thought there would always be a limit 1 when returning one domain object. Is this a wrong assumption on Spring Data ?</p>\n\n<p>When pasting in a MySQL client, the sql statements displayed in the console log, the logic works fine:</p>\n\n<pre><code>mysql&gt; insert into admin (version, address, city, country, email, firstname, lastname, login, password, \n-&gt; password_salt, post_login_url, preference_admin, profile, super_admin, zip_code) values (0,\n-&gt; NULL, NULL, NULL, 'zemail@thalasoft.com039', 'zfirstname039', 'zlastname039', 'zlogin039',\n-&gt; 'zpassword039', '', NULL, 0, NULL, 1, NULL);\nQuery OK, 1 row affected (0.07 sec)\n\nmysql&gt; select * from admin;\n+------+---------+---------------+--------------+-----------+--------------+---------------+-------------+------------------+---------+----------+------+---------+-------------------------+---------+----------------+\n| id | version | firstname | lastname | login | password | password_salt | super_admin | preference_admin | address | zip_code | city | country | email | profile | post_login_url |\n+------+---------+---------------+--------------+-----------+--------------+---------------+-------------+------------------+---------+----------+------+---------+-------------------------+---------+----------------+\n| 1807 | 0 | zfirstname039 | zlastname039 | zlogin039 | zpassword039 | | 1 | 0 | NULL | NULL | NULL | NULL | zemail@thalasoft.com039 | NULL | NULL | \n+------+---------+---------------+--------------+-----------+--------------+---------------+-------------+------------------+---------+----------+------+---------+-------------------------+---------+----------------+\n1 row in set (0.00 sec)\n\nmysql&gt; update admin set firstname='Toto', lastname='LeHeros', login='qwerty', super_admin=0, preference_admin=0, address=NULL, zip_code=NULL, city=NULL, country=NULL, email='stephane@thalasoft.com', profile=NULL, post_login_url=NULL where id=1807;\nQuery OK, 1 row affected (0.07 sec)\nRows matched: 1 Changed: 1 Warnings: 0\n\nmysql&gt; select * from admin; +------+---------+-----------+----------+--------+--------------+---------------+-------------+------------------+---------+----------+------+---------+------------------------+---------+----------------+\n| id | version | firstname | lastname | login | password | password_salt | super_admin | preference_admin | address | zip_code | city | country | email | profile | post_login_url |\n+------+---------+-----------+----------+--------+--------------+---------------+-------------+------------------+---------+----------+------+---------+------------------------+---------+----------------+\n| 1807 | 0 | Toto | LeHeros | qwerty | zpassword039 | | 0 | 0 | NULL | NULL | NULL | NULL | stephane@thalasoft.com | NULL | NULL | \n+------+---------+-----------+----------+--------+--------------+---------------+-------------+------------------+---------+----------+------+---------+------------------------+---------+----------------+\n1 row in set (0.00 sec)\n\nmysql&gt; select admin0_.id as id14_, admin0_.version as version14_, admin0_.address as address14_, admin0_.city as city14_, admin0_.country as country14_, admin0_.email as email14_, admin0_.firstname as firstname14_, admin0_.lastname as lastname14_, admin0_.login as login14_, admin0_.password as password14_, admin0_.password_salt as password11_14_, admin0_.post_login_url as post12_14_, admin0_.preference_admin as preference13_14_, admin0_.profile as profile14_, admin0_.super_admin as super15_14_, admin0_.zip_code as zip16_14_ from admin admin0_ where admin0_.email='stephane@thalasoft.com' limit 2;\n+-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\n| id14_ | version14_ | address14_ | city14_ | country14_ | email14_ | firstname14_ | lastname14_ | login14_ | password14_ | password11_14_ | post12_14_ | preference13_14_ | profile14_ | super15_14_ | zip16_14_ |\n+-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\n| 1807 | 0 | NULL | NULL | NULL | stephane@thalasoft.com | Toto | LeHeros | qwerty | zpassword039 | | NULL | 0 | NULL | 0 | NULL | \n+-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\n1 row in set (0.00 sec)\n\nmysql&gt; select admin0_.id as id14_, admin0_.version as version14_, admin0_.address as address14_, admin0_.city as city14_, admin0_.country as country14_, admin0_.email as email14_, admin0_.firstname as firstname14_, admin0_.lastname as lastname14_, admin0_.login as login14_, admin0_.password as password14_, admin0_.password_salt as password11_14_, admin0_.post_login_url as post12_14_, admin0_.preference_admin as preference13_14_, admin0_.profile as profile14_, admin0_.super_admin as super15_14_, admin0_.zip_code as zip16_14_ from admin admin0_ where admin0_.login='qwerty' limit 2;\n+-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\n| id14_ | version14_ | address14_ | city14_ | country14_ | email14_ | firstname14_ | lastname14_ | login14_ | password14_ | password11_14_ | post12_14_ | preference13_14_ | profile14_ | super15_14_ | zip16_14_ |\n+-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\n| 1807 | 0 | NULL | NULL | NULL | stephane@thalasoft.com | Toto | LeHeros | qwerty | zpassword039 | | NULL | 0 | NULL | 0 | NULL | \n+-------+------------+------------+---------+------------+------------------------+--------------+-------------+----------+--------------+----------------+------------+------------------+------------+-------------+-----------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p>So why is this not reflected at the Java level ?</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":22605763,"reputation":13,"user_id":16786686,"display_name":"Chris Spickermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630396910,"creation_date":1630396910,"answer_id":68994975,"question_id":68983101,"body_markdown":"I got it. \r\n\r\ni selected the wrong project in Firebase and the Sign-In Method was disabled. Shame on me. \r\nBut im happy it&#180;s working now.\r\n\r\n\r\ni used this Toast to show me the error Massage i needed.\r\n```\r\nToast.makeText(RegWindow.this, &quot;Fehler&quot;+ task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n```","title":"Firebase Sing in Page doenst Work Ignoring header X-Firebase-Locale because its value was null","body":"<p>I got it.</p>\n<p>i selected the wrong project in Firebase and the Sign-In Method was disabled. Shame on me.\nBut im happy it´s working now.</p>\n<p>i used this Toast to show me the error Massage i needed.</p>\n<pre><code>Toast.makeText(RegWindow.this, &quot;Fehler&quot;+ task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15562432,"reputation":186,"user_id":11227220,"display_name":"Wasib Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678779240,"creation_date":1678779240,"answer_id":75730173,"question_id":68983101,"body_markdown":"In my case, there was issue in email, i put space in the last of email which i didn&#39;t see, then i resolve this by adding email.trim() method while authenticating user.\r\n\r\n    createUserWithEmailAndPassword(email: email.trim(), password: password);","title":"Firebase Sing in Page doenst Work Ignoring header X-Firebase-Locale because its value was null","body":"<p>In my case, there was issue in email, i put space in the last of email which i didn't see, then i resolve this by adding email.trim() method while authenticating user.</p>\n<pre><code>createUserWithEmailAndPassword(email: email.trim(), password: password);\n</code></pre>\n"}],"owner":{"account_id":22605763,"reputation":13,"user_id":16786686,"display_name":"Chris Spickermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678779240,"creation_date":1630321744,"question_id":68983101,"body_markdown":"I&#39;m trying to make a sign up page with Firebase, but I&#39;m getting the following error: \r\n&quot;Ignoring header X-Firebase-Locale because its value was null&quot;\r\n\r\n 1.I have the issue on my Phone and on the Emulator\r\n\r\n 2.Internet is working Connection via Wlan.\r\n\r\n 3.I checked the gradle and the google-service.Json and all is correct\r\n\r\n 4.Sign in Method: Email/Password is active\r\n\r\n 5.Android Studio is up to date\r\n\r\nI&#39;ve seen this question often but none of the replies work for me. \r\nI think its a small detail that I&#39;m missing.\r\n\r\nThanks for your help.\r\nApfelmann\r\n\r\n\r\n```\r\npackage com.example.taskboard;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.media.MediaCodec;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.regex.Pattern;\r\n\r\npublic class RegWindow extends AppCompatActivity implements View.OnClickListener    {\r\n    TextView RegBack;\r\n    EditText EmailReg, PasswordReg;\r\n    Button ButtonReg;\r\n    FirebaseAuth auth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)  {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_reg_window);\r\n\r\n        TextView back = findViewById(R.id.RegBack);\r\n        back.setOnClickListener(this);\r\n\r\n        Button BReg = findViewById(R.id.ButtonReg);\r\n        BReg.setOnClickListener(this);\r\n        EmailReg = findViewById(R.id.EmailReg);\r\n        PasswordReg = findViewById(R.id.PasswordReg);\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                                        }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch(v.getId())   {\r\n            case R.id.ButtonReg:\r\n                reg();\r\n                break;\r\n\r\n            case R.id.RegBack:\r\n                finish();\r\n                break;\r\n\r\n                            }\r\n\r\n                                }\r\n    public void reg(){\r\n        String Email = EmailReg.getText().toString().trim();\r\n        String Password = PasswordReg.getText().toString().trim();\r\n\r\n        if(Email.isEmpty())         {\r\n            EmailReg.setError(&quot;Bitte Email eingeben&quot;);\r\n            EmailReg.requestFocus();\r\n            return;\r\n                                    }\r\n        if(Password.isEmpty())      {\r\n            PasswordReg.setError(&quot;Bitte ein Password eingeben&quot;);\r\n            PasswordReg.requestFocus();\r\n            return;\r\n                                    }\r\n        if(!Patterns.EMAIL_ADDRESS.matcher(Email).matches()){\r\n            EmailReg.setError(&quot;Keine G&#252;ltige Email eingegeben&quot;);\r\n            EmailReg.requestFocus();\r\n            return;\r\n                                                            }\r\n\r\n        auth.createUserWithEmailAndPassword(Email,Password)\r\n                .addOnCompleteListener(RegWindow.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(task.isSuccessful()){\r\n\r\n                            Toast.makeText(RegWindow.this, &quot;Danke f&#252;r die Regestrierung&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        else{\r\n\r\n\r\n                            Toast.makeText(RegWindow.this, &quot;Authentication failed.&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n\r\n\r\n                     }\r\n                                                                                    }\r\n\r\n```\r\n\r\n","title":"Firebase Sing in Page doenst Work Ignoring header X-Firebase-Locale because its value was null","body":"<p>I'm trying to make a sign up page with Firebase, but I'm getting the following error:\n&quot;Ignoring header X-Firebase-Locale because its value was null&quot;</p>\n<p>1.I have the issue on my Phone and on the Emulator</p>\n<p>2.Internet is working Connection via Wlan.</p>\n<p>3.I checked the gradle and the google-service.Json and all is correct</p>\n<p>4.Sign in Method: Email/Password is active</p>\n<p>5.Android Studio is up to date</p>\n<p>I've seen this question often but none of the replies work for me.\nI think its a small detail that I'm missing.</p>\n<p>Thanks for your help.\nApfelmann</p>\n<pre><code>package com.example.taskboard;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.media.MediaCodec;\nimport android.os.Bundle;\nimport android.util.Patterns;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.util.regex.Pattern;\n\npublic class RegWindow extends AppCompatActivity implements View.OnClickListener    {\n    TextView RegBack;\n    EditText EmailReg, PasswordReg;\n    Button ButtonReg;\n    FirebaseAuth auth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)  {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_reg_window);\n\n        TextView back = findViewById(R.id.RegBack);\n        back.setOnClickListener(this);\n\n        Button BReg = findViewById(R.id.ButtonReg);\n        BReg.setOnClickListener(this);\n        EmailReg = findViewById(R.id.EmailReg);\n        PasswordReg = findViewById(R.id.PasswordReg);\n        auth = FirebaseAuth.getInstance();\n\n\n\n\n\n\n\n\n\n                                                        }\n\n    @Override\n    public void onClick(View v) {\n        switch(v.getId())   {\n            case R.id.ButtonReg:\n                reg();\n                break;\n\n            case R.id.RegBack:\n                finish();\n                break;\n\n                            }\n\n                                }\n    public void reg(){\n        String Email = EmailReg.getText().toString().trim();\n        String Password = PasswordReg.getText().toString().trim();\n\n        if(Email.isEmpty())         {\n            EmailReg.setError(&quot;Bitte Email eingeben&quot;);\n            EmailReg.requestFocus();\n            return;\n                                    }\n        if(Password.isEmpty())      {\n            PasswordReg.setError(&quot;Bitte ein Password eingeben&quot;);\n            PasswordReg.requestFocus();\n            return;\n                                    }\n        if(!Patterns.EMAIL_ADDRESS.matcher(Email).matches()){\n            EmailReg.setError(&quot;Keine Gültige Email eingegeben&quot;);\n            EmailReg.requestFocus();\n            return;\n                                                            }\n\n        auth.createUserWithEmailAndPassword(Email,Password)\n                .addOnCompleteListener(RegWindow.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if(task.isSuccessful()){\n\n                            Toast.makeText(RegWindow.this, &quot;Danke für die Regestrierung&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        else{\n\n\n                            Toast.makeText(RegWindow.this, &quot;Authentication failed.&quot;,Toast.LENGTH_SHORT).show();\n\n                        }\n                    }\n                });\n\n\n\n\n                     }\n                                                                                    }\n\n</code></pre>\n"},{"tags":["java","arrays","string","arraylist","split"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1676381235,"post_id":75448453,"comment_id":133122220,"body_markdown":"When you use a debugger, what is the *first* line that doesn&#39;t do what you expected?","body":"When you use a debugger, what is the <i>first</i> line that doesn&#39;t do what you expected?"},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1676381415,"post_id":75448453,"comment_id":133122280,"body_markdown":"@ScottHunter it doesn&#39;t check at all. It just print &quot;String lng = &quot;&quot;;&quot; this as the longest.","body":"@ScottHunter it doesn&#39;t check at all. It just print &quot;String lng = &quot;&quot;;&quot; this as the longest."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1676381581,"post_id":75448453,"comment_id":133122331,"body_markdown":"Please explain `i&lt;txt.length()`.","body":"Please explain <code>i&lt;txt.length()</code>."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1676464326,"post_id":75448453,"comment_id":133140888,"body_markdown":"If your code doesn&#39;t produce the longest name and doesn&#39;t calculate the average then it is not working. Consider solving this in parts - write separate methods to collect the record data, find the longest name, and find the average birth year.  You do not gain appreciable performance by trying to do everything at once.","body":"If your code doesn&#39;t produce the longest name and doesn&#39;t calculate the average then it is not working. Consider solving this in parts - write separate methods to collect the record data, find the longest name, and find the average birth year.  You do not gain appreciable performance by trying to do everything at once."}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678779130,"creation_date":1678259626,"answer_id":75670229,"question_id":75448453,"body_markdown":"/* Because you don&#39;t save your names to an array and try to get the last input from the scanner which is only empty! to make your program work, you need to initialize an array and save your names to it, after that try to find which name is the longest */\r\n\r\n        \r\n    name = names.get(0);\r\n          for(int i=1; i&lt;names.size(); i++){\r\n           if ( name.length()&lt; names.get(i).length()) {\r\n        name = names.get(i);\r\n         }\r\n                \r\n         }\r\n\r\n    \r\n/* Another way to resolve your issue is by comparing each input directly and saving it to a variable. */\r\n    \r\n     while(true){\r\n     txt = in.nextLine();\r\n     pcs = txt.split(&quot;,&quot;);\r\n        if(name.length()&lt; pcs[0].length()) {\r\n     name=pcs[0];\r\n    }\r\n     if(txt.equals(&quot;&quot;)){\r\n     break;\r\n    }\r\n     sum += Integer.valueOf(pcs[1]);\r\n    count++;\r\n     }\r\n          ","title":"Longest Name in the list and Average birth date of all","body":"<p>/* Because you don't save your names to an array and try to get the last input from the scanner which is only empty! to make your program work, you need to initialize an array and save your names to it, after that try to find which name is the longest */</p>\n<pre><code>name = names.get(0);\n      for(int i=1; i&lt;names.size(); i++){\n       if ( name.length()&lt; names.get(i).length()) {\n    name = names.get(i);\n     }\n            \n     }\n</code></pre>\n<p>/* Another way to resolve your issue is by comparing each input directly and saving it to a variable. */</p>\n<pre><code> while(true){\n txt = in.nextLine();\n pcs = txt.split(&quot;,&quot;);\n    if(name.length()&lt; pcs[0].length()) {\n name=pcs[0];\n}\n if(txt.equals(&quot;&quot;)){\n break;\n}\n sum += Integer.valueOf(pcs[1]);\ncount++;\n }\n      \n</code></pre>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1678779130,"creation_date":1676380874,"question_id":75448453,"body_markdown":"My aim is to calculate the birth date of each person in the list we input as shown below and also output the longest name between them.\r\n\r\nDesired output:\r\n\r\n    sauli,1948\r\n    tarja,1943\r\n    martti,1936\r\n    mauno,1923\r\n    urho,1900\r\n    \r\n    Longest name: martti\r\n    Average of the birth years: 1930.0\r\n\r\n\r\n\r\n\r\nMy Code is working but it doesn&#39;t output the longest name and correct average.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class PersonalDetails {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            \r\n            int sum = 0, count = 0;\r\n            double avg = 0;\r\n            String name;\r\n            String[] pcs;\r\n            String txt;\r\n            \r\n            while(true){\r\n                txt = in.nextLine();\r\n                pcs = txt.split(&quot;,&quot;);\r\n                \r\n                if(txt.equals(&quot;&quot;)){\r\n                    break;\r\n                }\r\n                \r\n                sum += Integer.valueOf(pcs[1]);\r\n                count++;\r\n            }\r\n            \r\n            String lng = &quot;&quot;;\r\n            int low = pcs[0].length();\r\n            for(int i=0; i&lt;txt.length(); i++){\r\n                if(low &lt; pcs[i].length()){\r\n                    lng = pcs[i];\r\n                }\r\n            }\r\n            \r\n            if(count&gt;0){\r\n                avg = (double) sum/count;\r\n            }\r\n            \r\n            System.out.println(&quot;Longest Name: &quot; + lng);\r\n            System.out.println(&quot;Average of the birth years: &quot; + avg);\r\n        }\r\n    }\r\n    `","title":"Longest Name in the list and Average birth date of all","body":"<p>My aim is to calculate the birth date of each person in the list we input as shown below and also output the longest name between them.</p>\n<p>Desired output:</p>\n<pre><code>sauli,1948\ntarja,1943\nmartti,1936\nmauno,1923\nurho,1900\n\nLongest name: martti\nAverage of the birth years: 1930.0\n</code></pre>\n<p>My Code is working but it doesn't output the longest name and correct average.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class PersonalDetails {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        \n        int sum = 0, count = 0;\n        double avg = 0;\n        String name;\n        String[] pcs;\n        String txt;\n        \n        while(true){\n            txt = in.nextLine();\n            pcs = txt.split(&quot;,&quot;);\n            \n            if(txt.equals(&quot;&quot;)){\n                break;\n            }\n            \n            sum += Integer.valueOf(pcs[1]);\n            count++;\n        }\n        \n        String lng = &quot;&quot;;\n        int low = pcs[0].length();\n        for(int i=0; i&lt;txt.length(); i++){\n            if(low &lt; pcs[i].length()){\n                lng = pcs[i];\n            }\n        }\n        \n        if(count&gt;0){\n            avg = (double) sum/count;\n        }\n        \n        System.out.println(&quot;Longest Name: &quot; + lng);\n        System.out.println(&quot;Average of the birth years: &quot; + avg);\n    }\n}\n`\n</code></pre>\n"},{"tags":["java","simulation","orbit","orbital-mechanics","hyperbolic"],"comments":[{"owner":{"account_id":11432352,"reputation":13,"user_id":8380706,"display_name":"Joshua Harvey"},"score":0,"creation_date":1678778690,"post_id":75729981,"comment_id":133594696,"body_markdown":"Also: there&#39;s a related problem in that even if I only do one iteration, H quickly grows to infinity before M reaches about 0.3. It&#39;s not supposed to just grow exponentially, is it?","body":"Also: there&#39;s a related problem in that even if I only do one iteration, H quickly grows to infinity before M reaches about 0.3. It&#39;s not supposed to just grow exponentially, is it?"}],"answers":[{"comments":[{"owner":{"account_id":11432352,"reputation":13,"user_id":8380706,"display_name":"Joshua Harvey"},"score":1,"creation_date":1678779298,"post_id":75730098,"comment_id":133594844,"body_markdown":"Thank you so much! I replaced the solver with this one, and it&#39;s working so much better now. I&#39;m so glad it was that simple.\n```E = M; for(int i = 0; i &lt; KEPLER; i++) {E += ((M - (e * sinh(E)) + E)/((e * cosh(E)) - 1));}```","body":"Thank you so much! I replaced the solver with this one, and it&#39;s working so much better now. I&#39;m so glad it was that simple. <code>E = M; for(int i = 0; i &lt; KEPLER; i++) {E += ((M - (e * sinh(E)) + E)&#47;((e * cosh(E)) - 1));}</code>"}],"tags":[],"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678778554,"creation_date":1678778554,"answer_id":75730098,"question_id":75729981,"body_markdown":"Trying to find a solution of ```X = f(X)``` by just iterating it as an assignment works only if ```d(f)/dX &lt; 1``` ... just use a different numerical method, like for example https://en.wikipedia.org/wiki/Newton%27s_method\r\n","title":"Iterating the hyperbolic version of Kepler&#39;s equation does not converge","body":"<p>Trying to find a solution of <code>X = f(X)</code> by just iterating it as an assignment works only if <code>d(f)/dX &lt; 1</code> ... just use a different numerical method, like for example <a href=\"https://en.wikipedia.org/wiki/Newton%27s_method\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Newton%27s_method</a></p>\n"}],"owner":{"account_id":11432352,"reputation":13,"user_id":8380706,"display_name":"Joshua Harvey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75730098,"answer_count":1,"score":1,"last_activity_date":1678778554,"creation_date":1678777477,"question_id":75729981,"body_markdown":"I&#39;m creating an orbit simulator using Java. I have elliptical orbits working great, and now I&#39;m trying to do hyperbolic orbits. The problem I&#39;m having is that when the ship enters the orbit at periapsis, it moves very slowly at first, and quickly accelerates until it reaches infinite velocity at infinite altitude. Obviously, it should start at its fastest and go to zero, which is the opposite of what it&#39;s doing. The orbit path is rendering properly and the ship is following it, but the problem seems to be that Kepler&#39;s equation is growing exponentially instead of converging on a value of the hyperbolic anomaly, and I don&#39;t know why. I&#39;m following my references precisely, and the equivalent code for e &lt; 1 works perfectly. Here is the function that calculates the ship&#39;s position at time `t`, with `n` being the mean motion.\r\n```\r\nif(e &gt; 1) {\r\n\tM = n * t; //current mean anomaly\r\n\t//iterate Kepler&#39;s equation to converge on a value of the current hyperbolic anomaly\r\n\tfor(int i = 0; i &lt; KEPLER; i++) {H = (e * sinh(H)) - M;}\r\n\tnu = 2 * atan((tanh(H / 2)) * sqrt((e + 1) / (e - 1))); //current true anomaly\r\n\t//position variables\r\n\tr = (a * (1.0 - (e * e))) / (1.0 + (e * cos(nu))); //current orbital radius\r\n\tphi = atan((e * sin(nu)) / (1.0 + (e * cos(nu)))); //current flight angle\r\n\tv = sqrt(GM * ((2.0 / r) - (1.0 / a))); //current orbital velocity\r\n}\r\n```\r\nI&#39;ve quadruple checked every equation, verified the values of the variables, and gone over each step with a fine toothed comb. I *think* the problem is that `H = (e * sinh(H)) - M` is growing exponentially with every iteration instead of converging, but I don&#39;t think that&#39;s what it&#39;s supposed to do. I wrote this simple test program to watch it work, and this is what it gave me.\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) throws java.io.IOException {\r\n\t\tdouble E = 0, H = 0, E0 = 0, H0 = 0;\r\n\t\tint k = 0, k1 = 11;\r\n\t\tdouble M = 0.04;\r\n\t\tdouble e1 = 0.1;\r\n\t\tdouble e2 = 2.0;\r\n\t\twhile(k &lt; k1) {\r\n\t\t\tE = M + (e1 * Math.sin(E));\r\n\t\t\tH = (e2 * Math.sinh(H)) - M;\r\n\t\t\tSystem.out.printf(&quot;k = %d,  E = %.6f,  H = %.6f\\n&quot;, k, E, H);\r\n\t\t\tSystem.out.printf(&quot;       dE = %.6f, dH = %.6f\\n&quot;, E - E0, H - H0);\r\n\t\t\tE0 = E;\r\n\t\t\tH0 = H;\r\n\t\t\tk++;\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nOutput:\r\n\r\n```\r\nk = 0,  E = 0.040000,  H = -0.040000\r\n       dE = 0.040000, dH = -0.040000\r\nk = 1,  E = 0.043999,  H = -0.120021\r\n       dE = 0.003999, dH = -0.080021\r\nk = 2,  E = 0.044398,  H = -0.280619\r\n       dE = 0.000400, dH = -0.160598\r\nk = 3,  E = 0.044438,  H = -0.608634\r\n       dE = 0.000040, dH = -0.328014\r\nk = 4,  E = 0.044442,  H = -1.333825\r\n       dE = 0.000004, dH = -0.725191\r\nk = 5,  E = 0.044443,  H = -3.572066\r\n       dE = 0.000000, dH = -2.238241\r\nk = 6,  E = 0.044443,  H = -35.601966\r\n       dE = 0.000000, dH = -32.029899\r\nk = 7,  E = 0.044443,  H = -2895592024320601.000000\r\n       dE = 0.000000, dH = -2895592024320565.500000\r\nk = 8,  E = 0.044443,  H = -Infinity\r\n       dE = 0.000000, dH = -Infinity\r\nk = 9,  E = 0.044443,  H = -Infinity\r\n       dE = 0.000000, dH = NaN\r\nk = 10,  E = 0.044443,  H = -Infinity\r\n       dE = 0.000000, dH = NaN\r\n```\r\n\r\nI&#39;m trying to teach this to myself, so I&#39;m hoping it&#39;s something obvious like using the wrong equation or skipping a step.","title":"Iterating the hyperbolic version of Kepler&#39;s equation does not converge","body":"<p>I'm creating an orbit simulator using Java. I have elliptical orbits working great, and now I'm trying to do hyperbolic orbits. The problem I'm having is that when the ship enters the orbit at periapsis, it moves very slowly at first, and quickly accelerates until it reaches infinite velocity at infinite altitude. Obviously, it should start at its fastest and go to zero, which is the opposite of what it's doing. The orbit path is rendering properly and the ship is following it, but the problem seems to be that Kepler's equation is growing exponentially instead of converging on a value of the hyperbolic anomaly, and I don't know why. I'm following my references precisely, and the equivalent code for e &lt; 1 works perfectly. Here is the function that calculates the ship's position at time <code>t</code>, with <code>n</code> being the mean motion.</p>\n<pre><code>if(e &gt; 1) {\n    M = n * t; //current mean anomaly\n    //iterate Kepler's equation to converge on a value of the current hyperbolic anomaly\n    for(int i = 0; i &lt; KEPLER; i++) {H = (e * sinh(H)) - M;}\n    nu = 2 * atan((tanh(H / 2)) * sqrt((e + 1) / (e - 1))); //current true anomaly\n    //position variables\n    r = (a * (1.0 - (e * e))) / (1.0 + (e * cos(nu))); //current orbital radius\n    phi = atan((e * sin(nu)) / (1.0 + (e * cos(nu)))); //current flight angle\n    v = sqrt(GM * ((2.0 / r) - (1.0 / a))); //current orbital velocity\n}\n</code></pre>\n<p>I've quadruple checked every equation, verified the values of the variables, and gone over each step with a fine toothed comb. I <em>think</em> the problem is that <code>H = (e * sinh(H)) - M</code> is growing exponentially with every iteration instead of converging, but I don't think that's what it's supposed to do. I wrote this simple test program to watch it work, and this is what it gave me.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws java.io.IOException {\n        double E = 0, H = 0, E0 = 0, H0 = 0;\n        int k = 0, k1 = 11;\n        double M = 0.04;\n        double e1 = 0.1;\n        double e2 = 2.0;\n        while(k &lt; k1) {\n            E = M + (e1 * Math.sin(E));\n            H = (e2 * Math.sinh(H)) - M;\n            System.out.printf(&quot;k = %d,  E = %.6f,  H = %.6f\\n&quot;, k, E, H);\n            System.out.printf(&quot;       dE = %.6f, dH = %.6f\\n&quot;, E - E0, H - H0);\n            E0 = E;\n            H0 = H;\n            k++;\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>k = 0,  E = 0.040000,  H = -0.040000\n       dE = 0.040000, dH = -0.040000\nk = 1,  E = 0.043999,  H = -0.120021\n       dE = 0.003999, dH = -0.080021\nk = 2,  E = 0.044398,  H = -0.280619\n       dE = 0.000400, dH = -0.160598\nk = 3,  E = 0.044438,  H = -0.608634\n       dE = 0.000040, dH = -0.328014\nk = 4,  E = 0.044442,  H = -1.333825\n       dE = 0.000004, dH = -0.725191\nk = 5,  E = 0.044443,  H = -3.572066\n       dE = 0.000000, dH = -2.238241\nk = 6,  E = 0.044443,  H = -35.601966\n       dE = 0.000000, dH = -32.029899\nk = 7,  E = 0.044443,  H = -2895592024320601.000000\n       dE = 0.000000, dH = -2895592024320565.500000\nk = 8,  E = 0.044443,  H = -Infinity\n       dE = 0.000000, dH = -Infinity\nk = 9,  E = 0.044443,  H = -Infinity\n       dE = 0.000000, dH = NaN\nk = 10,  E = 0.044443,  H = -Infinity\n       dE = 0.000000, dH = NaN\n</code></pre>\n<p>I'm trying to teach this to myself, so I'm hoping it's something obvious like using the wrong equation or skipping a step.</p>\n"},{"tags":["java","camunda","camunda-modeler"],"answers":[{"comments":[{"owner":{"account_id":15405545,"reputation":127,"user_id":11113785,"display_name":"hakson"},"score":0,"creation_date":1678789192,"post_id":75730097,"comment_id":133597405,"body_markdown":"I have already debugged but when I debug it, the error strangely does not occur. I will try with Camunda support thanks.","body":"I have already debugged but when I debug it, the error strangely does not occur. I will try with Camunda support thanks."}],"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678778548,"creation_date":1678778548,"answer_id":75730097,"question_id":75723232,"body_markdown":"I agree that the list likely changed during the execution. Suggest you set a breakpoint in `getElementAtIndex(int i, Collection&lt;?&gt; collection)` and check with each iteration what the index and collection looks like.\r\nAs a user of the enterprise edition (-ee) you could also get assistance form Camunda support via https://jira.camunda.com\r\n\r\n\r\n ","title":"Exception while completing parallel multi instance subprocess: java.util.NoSuchElementException","body":"<p>I agree that the list likely changed during the execution. Suggest you set a breakpoint in <code>getElementAtIndex(int i, Collection&lt;?&gt; collection)</code> and check with each iteration what the index and collection looks like.\nAs a user of the enterprise edition (-ee) you could also get assistance form Camunda support via <a href=\"https://jira.camunda.com\" rel=\"nofollow noreferrer\">https://jira.camunda.com</a></p>\n"}],"owner":{"account_id":15405545,"reputation":127,"user_id":11113785,"display_name":"hakson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678778548,"creation_date":1678717804,"question_id":75723232,"body_markdown":"I am using Camunda BPMN Engine version 7.17.6-ee and Camunda Modeler version 4.6.0\r\n\r\nI have a Camunda process which has a parallel multi instance subprocess which has two tasks A and B, where B is a sequential multi instance called activity (T in the figure denotes the transaction Boundaries). When the subprocess is finished, it continues in a loop to get the next open bookings until there are no open bookings left.\r\n\r\n[![Screenshot of the process][1]][1]\r\n\r\nIf I run this process, I encounter the following error in the subprocess (more precisely in the sequential multi instance Task B):\r\n\r\n    ERROR [org.camunda.bpm.engine.context] (pool-15-thread-13) ENGINE-16004 Exception while closing command context: null: java.util.NoSuchElementException\r\n\tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:1000)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.MultiInstanceActivityBehavior.getElementAtIndex(MultiInstanceActivityBehavior.java:129)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.MultiInstanceActivityBehavior.evaluateCollectionVariable(MultiInstanceActivityBehavior.java:93)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.MultiInstanceActivityBehavior.performInstance(MultiInstanceActivityBehavior.java:78)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.SequentialMultiInstanceActivityBehavior.complete(SequentialMultiInstanceActivityBehavior.java:58)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityEnd.execute(PvmAtomicOperationActivityEnd.java:105)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityEnd.execute(PvmAtomicOperationActivityEnd.java:35)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.AtomicOperationInvocation.execute(AtomicOperationInvocation.java:99)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.CommandInvocationContext.invokeNext(CommandInvocationContext.java:131)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.CommandInvocationContext.performNext(CommandInvocationContext.java:111)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.CommandInvocationContext.performOperation(CommandInvocationContext.java:86)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.performOperation(ExecutionEntity.java:623)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.performOperation(ExecutionEntity.java:597)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd$1.callback(PvmAtomicOperationActivityNotifyListenerEnd.java:47)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd$1.callback(PvmAtomicOperationActivityNotifyListenerEnd.java:41)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl.continueExecutionIfNotCanceled(PvmExecutionImpl.java:2078)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl.dispatchDelayedEventsAndPerformOperation(PvmExecutionImpl.java:2027)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd.eventNotificationsCompleted(PvmAtomicOperationActivityNotifyListenerEnd.java:41)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd.eventNotificationsCompleted(PvmAtomicOperationActivityNotifyListenerEnd.java:27)\r\n\tat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.core.operation.AbstractEventAtomicOperation.execute(AbstractEventAtomicOperation.java:66)\r\n    ...\r\n\r\nThe exception occurs in Camunda in this class `MultiInstanceActivityBehavior` and in this method:\r\n\r\n      protected Object getElementAtIndex(int i, Collection&lt;?&gt; collection) {\r\n         Object value = null;\r\n         int index = 0;\r\n         Iterator&lt;?&gt; it = collection.iterator();\r\n         while (index &lt;= i) {\r\n          value = it.next();\r\n          index++;\r\n         }\r\n        return value;\r\n     }\r\n\r\n`it.next()` throws the exception. \r\n\r\nMy suspicion was that the list was being manipulated in parallel by another thread and that&#39;s why there is an exception, but apparently I&#39;m wrong because I tried thread safe collections and had no success. \r\n\r\nCan someone help me and tell me what I am doing wrong or what is wrong with the process? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZt4P.png","title":"Exception while completing parallel multi instance subprocess: java.util.NoSuchElementException","body":"<p>I am using Camunda BPMN Engine version 7.17.6-ee and Camunda Modeler version 4.6.0</p>\n<p>I have a Camunda process which has a parallel multi instance subprocess which has two tasks A and B, where B is a sequential multi instance called activity (T in the figure denotes the transaction Boundaries). When the subprocess is finished, it continues in a loop to get the next open bookings until there are no open bookings left.</p>\n<p><a href=\"https://i.stack.imgur.com/MZt4P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZt4P.png\" alt=\"Screenshot of the process\" /></a></p>\n<p>If I run this process, I encounter the following error in the subprocess (more precisely in the sequential multi instance Task B):</p>\n<pre><code>ERROR [org.camunda.bpm.engine.context] (pool-15-thread-13) ENGINE-16004 Exception while closing command context: null: java.util.NoSuchElementException\nat java.base/java.util.ArrayList$Itr.next(ArrayList.java:1000)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.MultiInstanceActivityBehavior.getElementAtIndex(MultiInstanceActivityBehavior.java:129)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.MultiInstanceActivityBehavior.evaluateCollectionVariable(MultiInstanceActivityBehavior.java:93)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.MultiInstanceActivityBehavior.performInstance(MultiInstanceActivityBehavior.java:78)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.bpmn.behavior.SequentialMultiInstanceActivityBehavior.complete(SequentialMultiInstanceActivityBehavior.java:58)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityEnd.execute(PvmAtomicOperationActivityEnd.java:105)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityEnd.execute(PvmAtomicOperationActivityEnd.java:35)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.AtomicOperationInvocation.execute(AtomicOperationInvocation.java:99)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.CommandInvocationContext.invokeNext(CommandInvocationContext.java:131)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.CommandInvocationContext.performNext(CommandInvocationContext.java:111)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.interceptor.CommandInvocationContext.performOperation(CommandInvocationContext.java:86)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.performOperation(ExecutionEntity.java:623)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity.performOperation(ExecutionEntity.java:597)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd$1.callback(PvmAtomicOperationActivityNotifyListenerEnd.java:47)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd$1.callback(PvmAtomicOperationActivityNotifyListenerEnd.java:41)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl.continueExecutionIfNotCanceled(PvmExecutionImpl.java:2078)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl.dispatchDelayedEventsAndPerformOperation(PvmExecutionImpl.java:2027)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd.eventNotificationsCompleted(PvmAtomicOperationActivityNotifyListenerEnd.java:41)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.pvm.runtime.operation.PvmAtomicOperationActivityNotifyListenerEnd.eventNotificationsCompleted(PvmAtomicOperationActivityNotifyListenerEnd.java:27)\nat org.camunda.bpm.camunda-engine@7.17.0//org.camunda.bpm.engine.impl.core.operation.AbstractEventAtomicOperation.execute(AbstractEventAtomicOperation.java:66)\n...\n</code></pre>\n<p>The exception occurs in Camunda in this class <code>MultiInstanceActivityBehavior</code> and in this method:</p>\n<pre><code>  protected Object getElementAtIndex(int i, Collection&lt;?&gt; collection) {\n     Object value = null;\n     int index = 0;\n     Iterator&lt;?&gt; it = collection.iterator();\n     while (index &lt;= i) {\n      value = it.next();\n      index++;\n     }\n    return value;\n }\n</code></pre>\n<p><code>it.next()</code> throws the exception.</p>\n<p>My suspicion was that the list was being manipulated in parallel by another thread and that's why there is an exception, but apparently I'm wrong because I tried thread safe collections and had no success.</p>\n<p>Can someone help me and tell me what I am doing wrong or what is wrong with the process?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":24077624,"reputation":72,"user_id":18052690,"display_name":"Raboro"},"score":0,"creation_date":1678791228,"post_id":75729941,"comment_id":133598006,"body_markdown":"I think you can&#180;t get a file directly in the body. You need to retrieve and send your file via FormDataMultipart. I don&#180;t know exactly.\nSources:\nhttps://www.programcreek.com/java-api-examples/?api=com.sun.jersey.multipart.FormDataBodyPart,\nhttps://stackoverflow.com/a/35037287/18052690","body":"I think you can&#180;t get a file directly in the body. You need to retrieve and send your file via FormDataMultipart. I don&#180;t know exactly. Sources: <a href=\"https://www.programcreek.com/java-api-examples/?api=com.sun.jersey.multipart.FormDataBodyPart\" rel=\"nofollow noreferrer\">programcreek.com/java-api-examples/&hellip;</a>, <a href=\"https://stackoverflow.com/a/35037287/18052690\">stackoverflow.com/a/35037287/18052690</a>"}],"owner":{"account_id":1180569,"reputation":2313,"user_id":1155578,"accept_rate":79,"display_name":"tajihiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678778419,"creation_date":1678777177,"question_id":75729941,"body_markdown":"I&#39;m trying to retrive attached PDF file with PDFBox in java functions.\r\nThe request is include PDF file form-data, POST method, multipart/form-data.\r\n\r\n```\r\n    @FunctionName(&quot;HttpPdfAttacheCsv&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.FUNCTION) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context) throws IOException {\r\n\r\n            byte[] requestBody = request.getBody().get();\r\n            InputStream is = new ByteArrayInputStream(requestBody);\r\n            PDDocument document = PDDocument.load(is);\r\n\r\n            // Close the PDF document\r\n            document.close();\r\n           }\r\n\r\n```\r\nHowever I don&#39;t know how to get PDF.\r\nWould you tell me how to retrive PDF file.","title":"How to retrive PDF file on azule java function","body":"<p>I'm trying to retrive attached PDF file with PDFBox in java functions.\nThe request is include PDF file form-data, POST method, multipart/form-data.</p>\n<pre><code>    @FunctionName(&quot;HttpPdfAttacheCsv&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.FUNCTION) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) throws IOException {\n\n            byte[] requestBody = request.getBody().get();\n            InputStream is = new ByteArrayInputStream(requestBody);\n            PDDocument document = PDDocument.load(is);\n\n            // Close the PDF document\n            document.close();\n           }\n\n</code></pre>\n<p>However I don't know how to get PDF.\nWould you tell me how to retrive PDF file.</p>\n"},{"tags":["java","lambda","java-8","method-reference","functional-interface"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1492189644,"post_id":43415131,"comment_id":73890761,"body_markdown":"Can you explain what you&#39;re trying to achieve?","body":"Can you explain what you&#39;re trying to achieve?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1492194154,"post_id":43415131,"comment_id":73893084,"body_markdown":"The reason the JDK doesn&#39;t have this built in is because it&#39;s usually simpler just to write the lambda explicitly.","body":"The reason the JDK doesn&#39;t have this built in is because it&#39;s usually simpler just to write the lambda explicitly."},{"owner":{"account_id":981692,"reputation":768,"user_id":1001248,"accept_rate":100,"display_name":"fdelsert"},"score":0,"creation_date":1492197428,"post_id":43415131,"comment_id":73894707,"body_markdown":"@JacobG. I edited my post to describe the context.","body":"@JacobG. I edited my post to describe the context."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1492271364,"post_id":43415131,"comment_id":73914016,"body_markdown":"How about builder pattern ?","body":"How about builder pattern ?"},{"owner":{"account_id":981692,"reputation":768,"user_id":1001248,"accept_rate":100,"display_name":"fdelsert"},"score":0,"creation_date":1492273494,"post_id":43415131,"comment_id":73914658,"body_markdown":"@Antoniossss Do you mean a new fluent class taking, one by one, a predicate or a function ? Checking the types and composing them all ?\nIt seems to be far more ambitious than my need but can be interesting.\nI just want to validate that my compose function is correct and works in all case.","body":"@Antoniossss Do you mean a new fluent class taking, one by one, a predicate or a function ? Checking the types and composing them all ? It seems to be far more ambitious than my need but can be interesting. I just want to validate that my compose function is correct and works in all case."}],"answers":[{"tags":[],"owner":{"account_id":981692,"reputation":768,"user_id":1001248,"accept_rate":100,"display_name":"fdelsert"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1494601275,"creation_date":1494601275,"answer_id":43940866,"question_id":43415131,"body_markdown":"I answer my own questions.\r\n\r\nUse lambda :\r\n\r\n    value -&gt; predicate.test(function.apply(value));\r\n\r\nOr if you really want/have to write a compose function, signature must be something like :\r\n\r\n    public static &lt;E,S&gt; Predicate&lt;E&gt; compose(Function&lt;E,S&gt; function, Predicate&lt;? super S&gt; predicate)","title":"How to suitably compose Predicate and Function in a Java function?","body":"<p>I answer my own questions.</p>\n\n<p>Use lambda :</p>\n\n<pre><code>value -&gt; predicate.test(function.apply(value));\n</code></pre>\n\n<p>Or if you really want/have to write a compose function, signature must be something like :</p>\n\n<pre><code>public static &lt;E,S&gt; Predicate&lt;E&gt; compose(Function&lt;E,S&gt; function, Predicate&lt;? super S&gt; predicate)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2866321,"reputation":135,"user_id":2460583,"display_name":"Mike Reardon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594960583,"creation_date":1594960583,"answer_id":62947189,"question_id":43415131,"body_markdown":"I think the best approach would be use the boolean compose methods `Predicate` provides: `and`, `or`, `not`. e.g.,\r\n\r\n    private Predicate&lt;String&gt; startsWith(String prefix) {\r\n        return s -&gt; s.startsWith(prefix);\r\n    }\r\n\r\n    private Predicate&lt;String&gt; endsWith(String suffix) {\r\n        return s -&gt; s.endsWith(suffix);\r\n    }\r\n\r\n    Stream.of(&quot;Foo&quot;,&quot;Fuz&quot;,&quot;Doo&quot;,&quot;Fo&quot;)\r\n        .filter(startsWith(&quot;F&quot;).and(endsWith(&quot;o&quot;)))\r\n        .forEach(System.out::println);\r\n","title":"How to suitably compose Predicate and Function in a Java function?","body":"<p>I think the best approach would be use the boolean compose methods <code>Predicate</code> provides: <code>and</code>, <code>or</code>, <code>not</code>. e.g.,</p>\n<pre><code>private Predicate&lt;String&gt; startsWith(String prefix) {\n    return s -&gt; s.startsWith(prefix);\n}\n\nprivate Predicate&lt;String&gt; endsWith(String suffix) {\n    return s -&gt; s.endsWith(suffix);\n}\n\nStream.of(&quot;Foo&quot;,&quot;Fuz&quot;,&quot;Doo&quot;,&quot;Fo&quot;)\n    .filter(startsWith(&quot;F&quot;).and(endsWith(&quot;o&quot;)))\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678777722,"creation_date":1678777722,"answer_id":75730005,"question_id":43415131,"body_markdown":"Adding to @fdelsert, here is my implementation of a composition predicate. \r\n\r\nI was in the process of removing guava from a project for some reasons. \r\n\r\nGuava uses its own version of Predicate and Function to create a Composed Predicate which now is obsolete since Java integrated those into standard function library. I wrote a similar class that follows same signature as Guava but uses POJ classes instead.\r\n\r\nMight be useful for future users:\r\n\r\n    public class CompositionPredicate&lt;A, B&gt;\r\n            implements Predicate&lt;A&gt;, Serializable {\r\n    \r\n        private final Predicate&lt;? super B&gt; predicate;\r\n    \r\n        private final Function&lt;A, ? extends B&gt; function;\r\n    \r\n        public CompositionPredicate(Predicate&lt;B&gt; predicate, Function&lt;A, ? extends B&gt; function) {\r\n            Objects.requireNonNull(predicate);\r\n            Objects.requireNonNull(function);\r\n            this.predicate = predicate;\r\n            this.function = function;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (obj instanceof CompositionPredicate&lt;?, ?&gt;) {\r\n                @SuppressWarnings(&quot;PatternVariableCanBeUsed&quot;) CompositionPredicate&lt;?, ?&gt; that = (CompositionPredicate&lt;?, ?&gt;) obj;\r\n                return function.equals(that.function) &amp;&amp; predicate.equals(that.predicate);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return function.hashCode() ^ predicate.hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return predicate + &quot;(&quot; + function + &quot;)&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public boolean test(A a) {\r\n            return predicate.test(function.apply(a));\r\n        }\r\n    }\r\n\r\n","title":"How to suitably compose Predicate and Function in a Java function?","body":"<p>Adding to @fdelsert, here is my implementation of a composition predicate.</p>\n<p>I was in the process of removing guava from a project for some reasons.</p>\n<p>Guava uses its own version of Predicate and Function to create a Composed Predicate which now is obsolete since Java integrated those into standard function library. I wrote a similar class that follows same signature as Guava but uses POJ classes instead.</p>\n<p>Might be useful for future users:</p>\n<pre><code>public class CompositionPredicate&lt;A, B&gt;\n        implements Predicate&lt;A&gt;, Serializable {\n\n    private final Predicate&lt;? super B&gt; predicate;\n\n    private final Function&lt;A, ? extends B&gt; function;\n\n    public CompositionPredicate(Predicate&lt;B&gt; predicate, Function&lt;A, ? extends B&gt; function) {\n        Objects.requireNonNull(predicate);\n        Objects.requireNonNull(function);\n        this.predicate = predicate;\n        this.function = function;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof CompositionPredicate&lt;?, ?&gt;) {\n            @SuppressWarnings(&quot;PatternVariableCanBeUsed&quot;) CompositionPredicate&lt;?, ?&gt; that = (CompositionPredicate&lt;?, ?&gt;) obj;\n            return function.equals(that.function) &amp;&amp; predicate.equals(that.predicate);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return function.hashCode() ^ predicate.hashCode();\n    }\n\n    @Override\n    public String toString() {\n        return predicate + &quot;(&quot; + function + &quot;)&quot;;\n    }\n\n    @Override\n    public boolean test(A a) {\n        return predicate.test(function.apply(a));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":981692,"reputation":768,"user_id":1001248,"accept_rate":100,"display_name":"fdelsert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8339,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":43940866,"answer_count":3,"score":11,"last_activity_date":1678777722,"creation_date":1492185736,"question_id":43415131,"body_markdown":"The purpose is to create a new Predicate usable in a stream filter :\r\n\r\n    myCollectionOfElement\r\n    .stream()\r\n    .filter(\r\n    \tMyStaticHelperClass.compose(MyStaticHelperClass.getSubElement1OfTheElement(),MyStaticHelperClass.getPredicate1OnSubElement1()))\r\n    .sorted(MyStaticHelperClass.getOtherSubElement().reversed())\r\n    .limit(10)\r\n    .collect(Collectors.toList())\r\n\r\n`getSubElement1OfTheElement()` returns `Function&lt;E,S&gt;` (E contains a S property)\r\n`getPredicate1OnSubElement1()` returns `Predicate&lt;S&gt;`\r\n\r\nI use static functions to expose method references and functions.\r\nI do this because the stream is called in a **Velocity template** and this context **doesn&#39;t support lambda syntax and method reference**.\r\n**I don&#39;t want to create a static function for all possible combinaisons, so I really want them to be composable**.\r\n\r\nFor example here, I don&#39;t want to have a static `getPredicate1OnElementThatCheckProperty1OnTheSubElement1()` because I can compose `getSubElement1OfTheElement()` and `getPredicate1OnSubElement1()`.\r\n\r\nSo I need a compose function :\r\n\r\n    // returns a new Predicate constructed by applying Predicate predicate on the result of Function function\r\n    public static &lt;E,S&gt; Predicate&lt;E&gt; compose(Function&lt;E,S&gt; function, Predicate&lt;S&gt; predicate)\r\n\r\n    // most intuitive : lambda\r\n    return value -&gt; predicate.test(function.apply(value));\r\n\r\n    // with method references\r\n    return function.andThen(predicate::test)::apply;\r\n    // predicate.compose is not available because Predicate interface doesn&#39;t extends Function interface\r\n\r\ninspired by https://stackoverflow.com/questions/33300011/is-there-a-convenience-method-to-create-a-predicate-that-tests-if-a-field-equals/33308391#33308391\r\n\r\n    // step by step with variables\r\n    Function &lt;S,Boolean&gt; predicateFunction = predicate::test;\r\n    // a kind of @FunctionalInterface implicit &quot;conversion&quot; ? Predicate -&gt; Function.\r\n    // is that safe ?\r\n    \r\n    Function &lt;E,Boolean&gt; composed = function.andThen(predicateFunction::apply);\r\n    return composed::apply;\r\n\r\n---\r\n\r\nEdit : \r\n\r\nIt&#39;s called a cast context : https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\r\n\r\n    // the implementation of my compose can also be this ugly one-liner :\r\n    return ((Function &lt;S,Boolean&gt;)predicate::test).compose(function)::apply;\r\n\r\nSo, we cannot implement a generic compose function taking any functional interface (in my case Function and Predicate) because the name of the abstract method differs for each interface (test and apply in my case).  \r\nI&#39;m OK with that.\r\n\r\nTo conclude, what I really need is two static functions, one that converts a Predicate to a Function and the opposite. Every Predicate will be used as a Function and the final operation will convert the composed Function to Predicate in order to match with the parameter type of the filter function.\r\n\r\n    public static &lt;S&gt; Function&lt;S,Boolean&gt; predicateToFunction(Predicate&lt;S&gt; predicate){\r\n    \treturn predicate::test;\r\n    }\r\n\tpublic static &lt;S&gt; Predicate&lt;S&gt; functionToPredicate(Function&lt;S,Boolean&gt; function){\r\n\t\treturn function::apply;\r\n\t}\r\n\r\n---\r\n\r\nIs that correct ?  \r\nIf so, is there any interest in releasing the bounds in the function signature ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate- &quot;Stream#filter&quot;","title":"How to suitably compose Predicate and Function in a Java function?","body":"<p>The purpose is to create a new Predicate usable in a stream filter :</p>\n\n<pre><code>myCollectionOfElement\n.stream()\n.filter(\n    MyStaticHelperClass.compose(MyStaticHelperClass.getSubElement1OfTheElement(),MyStaticHelperClass.getPredicate1OnSubElement1()))\n.sorted(MyStaticHelperClass.getOtherSubElement().reversed())\n.limit(10)\n.collect(Collectors.toList())\n</code></pre>\n\n<p><code>getSubElement1OfTheElement()</code> returns <code>Function&lt;E,S&gt;</code> (E contains a S property)\n<code>getPredicate1OnSubElement1()</code> returns <code>Predicate&lt;S&gt;</code></p>\n\n<p>I use static functions to expose method references and functions.\nI do this because the stream is called in a <strong>Velocity template</strong> and this context <strong>doesn't support lambda syntax and method reference</strong>.\n<strong>I don't want to create a static function for all possible combinaisons, so I really want them to be composable</strong>.</p>\n\n<p>For example here, I don't want to have a static <code>getPredicate1OnElementThatCheckProperty1OnTheSubElement1()</code> because I can compose <code>getSubElement1OfTheElement()</code> and <code>getPredicate1OnSubElement1()</code>.</p>\n\n<p>So I need a compose function :</p>\n\n<pre><code>// returns a new Predicate constructed by applying Predicate predicate on the result of Function function\npublic static &lt;E,S&gt; Predicate&lt;E&gt; compose(Function&lt;E,S&gt; function, Predicate&lt;S&gt; predicate)\n\n// most intuitive : lambda\nreturn value -&gt; predicate.test(function.apply(value));\n\n// with method references\nreturn function.andThen(predicate::test)::apply;\n// predicate.compose is not available because Predicate interface doesn't extends Function interface\n</code></pre>\n\n<p>inspired by <a href=\"https://stackoverflow.com/questions/33300011/is-there-a-convenience-method-to-create-a-predicate-that-tests-if-a-field-equals/33308391#33308391\">Is there a convenience method to create a Predicate that tests if a field equals a given value?</a></p>\n\n<pre><code>// step by step with variables\nFunction &lt;S,Boolean&gt; predicateFunction = predicate::test;\n// a kind of @FunctionalInterface implicit \"conversion\" ? Predicate -&gt; Function.\n// is that safe ?\n\nFunction &lt;E,Boolean&gt; composed = function.andThen(predicateFunction::apply);\nreturn composed::apply;\n</code></pre>\n\n<hr>\n\n<p>Edit : </p>\n\n<p>It's called a cast context : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html</a></p>\n\n<pre><code>// the implementation of my compose can also be this ugly one-liner :\nreturn ((Function &lt;S,Boolean&gt;)predicate::test).compose(function)::apply;\n</code></pre>\n\n<p>So, we cannot implement a generic compose function taking any functional interface (in my case Function and Predicate) because the name of the abstract method differs for each interface (test and apply in my case).<br>\nI'm OK with that.</p>\n\n<p>To conclude, what I really need is two static functions, one that converts a Predicate to a Function and the opposite. Every Predicate will be used as a Function and the final operation will convert the composed Function to Predicate in order to match with the parameter type of the filter function.</p>\n\n<pre><code>public static &lt;S&gt; Function&lt;S,Boolean&gt; predicateToFunction(Predicate&lt;S&gt; predicate){\n    return predicate::test;\n}\npublic static &lt;S&gt; Predicate&lt;S&gt; functionToPredicate(Function&lt;S,Boolean&gt; function){\n    return function::apply;\n}\n</code></pre>\n\n<hr>\n\n<p>Is that correct ?<br>\nIf so, is there any interest in releasing the bounds in the function signature ?</p>\n"},{"tags":["java","http","networking","multipartform-data","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678431180,"creation_date":1678431180,"answer_id":75693039,"question_id":75680994,"body_markdown":"  Found solution and answer myself, hope helpful for some newcomers like me.\r\n  Still welcome more elgant solution.\r\n\r\n - Cause of the issue\r\n\r\n   `HttpEntity` created by `MultipartEntityBuilder` is wrapped into `BasicAsyncEntityProducer` as bytes, library sends the bytes as they are, and http post header missing boundary information.\r\n-  Solution\r\n\r\n   Get the `Content-Type` header including the boundery info then update it into request headers.\r\n```java\r\n//get the `Content-Type` header including the boundery info\r\n//value is like:\r\n//Content-Type: multipart/form-data; charset=ISO-8859-1; boundary=fLC0K1nKdSI-Q9vzFpU2WleMTXyWbOBp6\r\nString contentType = reqEntity.getContentType();\r\nfinal SimpleHttpRequest request = SimpleRequestBuilder\r\n//...omit other methods\r\n.setHeader(&quot;Content-Type&quot;, contentType)\r\n```","title":"Apache HttpComponents Async Client Setting Request Body Issue","body":"<p>Found solution and answer myself, hope helpful for some newcomers like me.\nStill welcome more elgant solution.</p>\n<ul>\n<li><p>Cause of the issue</p>\n<p><code>HttpEntity</code> created by <code>MultipartEntityBuilder</code> is wrapped into <code>BasicAsyncEntityProducer</code> as bytes, library sends the bytes as they are, and http post header missing boundary information.</p>\n</li>\n<li><p>Solution</p>\n<p>Get the <code>Content-Type</code> header including the boundery info then update it into request headers.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>//get the `Content-Type` header including the boundery info\n//value is like:\n//Content-Type: multipart/form-data; charset=ISO-8859-1; boundary=fLC0K1nKdSI-Q9vzFpU2WleMTXyWbOBp6\nString contentType = reqEntity.getContentType();\nfinal SimpleHttpRequest request = SimpleRequestBuilder\n//...omit other methods\n.setHeader(&quot;Content-Type&quot;, contentType)\n</code></pre>\n"}],"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75693039,"answer_count":1,"score":0,"last_activity_date":1678777719,"creation_date":1678342377,"question_id":75680994,"body_markdown":"I&#39;m learning examples of latest [apache hc async client](https://hc.apache.org/httpcomponents-client-5.2.x/examples-async.html). The **response streaming feature** is very useful and exactly what I need(such as calculating latency when each chunk arrived, which seems lack in `CloseableHttpClient`). \r\n\r\nBut having trouble **setting the request body**.\r\n\r\nTake the [AsyncClientHttpExchangeStreaming](https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/test/java/org/apache/hc/client5/http/examples/AsyncClientHttpExchangeStreaming.java) as example, I can run this example, but when trying to add some body to request, like following, I find it not work(*httpbin* response is very clear, and `data` or `json` field is empty).\r\n```java\r\n      String bodyString = &quot;{\\&quot;k\\&quot;:\\&quot;v\\&quot;}&quot;;\r\n      final SimpleHttpRequest request = SimpleRequestBuilder\r\n        .post()\r\n        .setHttpHost(target)\r\n        .setPath(&quot;/post&quot;)\r\n        .setBody(bodyString, ContentType.APPLICATION_JSON)\r\n        .build();\r\n```\r\nThen I noticed `client.execute(new BasicRequestProducer(request, null),` and tried to replace `null` with\r\n`new BasicAsyncEntityProducer(bodyString, ContentType.APPLICATION_JSON);`, this time *httpbin* tells me it received the bodyString(is this walkaround correct and why need?).\r\n\r\nWhen I tried posting multi part form, like above walkaround, the server reports errors such as &#39;content-length missing&#39; or &#39;malformed request&#39;:\r\n```java\r\n    final StringBody inputBody = new StringBody(inputJson, ContentType.APPLICATION_JSON);\r\n    final StringBody parametersBody = new StringBody(parametersJson, ContentType.APPLICATION_JSON);\r\n\r\n    final HttpEntity reqEntity = MultipartEntityBuilder.create()\r\n        .addPart(&quot;Input&quot;, inputBody)\r\n        .addPart(&quot;Parameters&quot;, parametersBody)\r\n        .build();\r\n    //above reqEntity can successful request my server in sync client\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    reqEntity.writeTo(baos);\r\n    byte[] bytes = baos.toByteArray();\r\n    BasicAsyncEntityProducer multiPartProducer = new BasicAsyncEntityProducer(\r\n        bytes,\r\n        ContentType.MULTIPART_FORM_DATA\r\n    );\r\n```\r\nI searched a lot and [someone](https://stackoverflow.com/questions/54511766/constructing-a-multipart-request-from-inputstream-with-apache-async-http-client) says the `HttpEntity` created by `MultipartEntityBuilder` cannot be used along with async client. I&#39;m very disappointed and frustrated. Could anyone suggest the correct way in apache hc, or rather other libraries instead?","title":"Apache HttpComponents Async Client Setting Request Body Issue","body":"<p>I'm learning examples of latest <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/examples-async.html\" rel=\"nofollow noreferrer\">apache hc async client</a>. The <strong>response streaming feature</strong> is very useful and exactly what I need(such as calculating latency when each chunk arrived, which seems lack in <code>CloseableHttpClient</code>).</p>\n<p>But having trouble <strong>setting the request body</strong>.</p>\n<p>Take the <a href=\"https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/test/java/org/apache/hc/client5/http/examples/AsyncClientHttpExchangeStreaming.java\" rel=\"nofollow noreferrer\">AsyncClientHttpExchangeStreaming</a> as example, I can run this example, but when trying to add some body to request, like following, I find it not work(<em>httpbin</em> response is very clear, and <code>data</code> or <code>json</code> field is empty).</p>\n<pre class=\"lang-java prettyprint-override\"><code>      String bodyString = &quot;{\\&quot;k\\&quot;:\\&quot;v\\&quot;}&quot;;\n      final SimpleHttpRequest request = SimpleRequestBuilder\n        .post()\n        .setHttpHost(target)\n        .setPath(&quot;/post&quot;)\n        .setBody(bodyString, ContentType.APPLICATION_JSON)\n        .build();\n</code></pre>\n<p>Then I noticed <code>client.execute(new BasicRequestProducer(request, null),</code> and tried to replace <code>null</code> with\n<code>new BasicAsyncEntityProducer(bodyString, ContentType.APPLICATION_JSON);</code>, this time <em>httpbin</em> tells me it received the bodyString(is this walkaround correct and why need?).</p>\n<p>When I tried posting multi part form, like above walkaround, the server reports errors such as 'content-length missing' or 'malformed request':</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final StringBody inputBody = new StringBody(inputJson, ContentType.APPLICATION_JSON);\n    final StringBody parametersBody = new StringBody(parametersJson, ContentType.APPLICATION_JSON);\n\n    final HttpEntity reqEntity = MultipartEntityBuilder.create()\n        .addPart(&quot;Input&quot;, inputBody)\n        .addPart(&quot;Parameters&quot;, parametersBody)\n        .build();\n    //above reqEntity can successful request my server in sync client\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    reqEntity.writeTo(baos);\n    byte[] bytes = baos.toByteArray();\n    BasicAsyncEntityProducer multiPartProducer = new BasicAsyncEntityProducer(\n        bytes,\n        ContentType.MULTIPART_FORM_DATA\n    );\n</code></pre>\n<p>I searched a lot and <a href=\"https://stackoverflow.com/questions/54511766/constructing-a-multipart-request-from-inputstream-with-apache-async-http-client\">someone</a> says the <code>HttpEntity</code> created by <code>MultipartEntityBuilder</code> cannot be used along with async client. I'm very disappointed and frustrated. Could anyone suggest the correct way in apache hc, or rather other libraries instead?</p>\n"},{"tags":["java","sftp","gnupg","openpgp"],"owner":{"account_id":19843315,"reputation":1,"user_id":14535500,"display_name":"Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678777602,"creation_date":1678777602,"question_id":75729995,"body_markdown":"if i user ssh private key to authenticate sftp that is working. but Openpgp private key does not work.\r\n\r\n```\r\nssh private key is here:\r\n JSch jsch = new JSch();\r\n        jsch.addIdentity(&quot;/Users/elijah/Downloads/id_rsa&quot;);   //code 1\r\n        Session jschSession = jsch.getSession(username, remoteHost, 22);\r\n        jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n        java.util.Properties config = new java.util.Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        jschSession.setConfig(config);\r\n        jschSession.connect();\r\n        return (ChannelSftp)jschSession.openChannel(&quot;sftp&quot;);\r\n```\r\n\r\nReplace &quot;code 1&quot; to &quot;xxx/xxx/gpg.asc&quot;, but it does not work.\r\n\r\nI searched at network, Logging in to SFTP using GPG is only possible on the terminal. but there isn&#39;t any java example.\r\n\r\n\r\nI can use OpenPGP to log in to SFTP In Java\r\n","title":"how to use openpgp private key to authenticate sftp in java","body":"<p>if i user ssh private key to authenticate sftp that is working. but Openpgp private key does not work.</p>\n<pre><code>ssh private key is here:\n JSch jsch = new JSch();\n        jsch.addIdentity(&quot;/Users/elijah/Downloads/id_rsa&quot;);   //code 1\n        Session jschSession = jsch.getSession(username, remoteHost, 22);\n        jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\n        java.util.Properties config = new java.util.Properties();\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        jschSession.setConfig(config);\n        jschSession.connect();\n        return (ChannelSftp)jschSession.openChannel(&quot;sftp&quot;);\n</code></pre>\n<p>Replace &quot;code 1&quot; to &quot;xxx/xxx/gpg.asc&quot;, but it does not work.</p>\n<p>I searched at network, Logging in to SFTP using GPG is only possible on the terminal. but there isn't any java example.</p>\n<p>I can use OpenPGP to log in to SFTP In Java</p>\n"},{"tags":["java","object","floating-point","jvm","progress-bar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678696646,"post_id":75719456,"comment_id":133576653,"body_markdown":"You have a missing closing brace somewhere, so it&#39;s hard to say what your code is doing.","body":"You have a missing closing brace somewhere, so it&#39;s hard to say what your code is doing."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678779966,"post_id":75719456,"comment_id":133595016,"body_markdown":"Downvoting because 1) this program does not even compile and 2) the bold assumption about when a program needs thread safety and when not. You have two threads, you are accessing shared variables by both threads, including modifications, so on what basis do you assume that you didn’t need thread safety?","body":"Downvoting because 1) this program does not even compile and 2) the bold assumption about when a program needs thread safety and when not. You have two threads, you are accessing shared variables by both threads, including modifications, so on what basis do you assume that you didn’t need thread safety?"},{"owner":{"account_id":25671247,"reputation":37,"user_id":19435455,"display_name":"Christo Swanepoel"},"score":0,"creation_date":1678806280,"post_id":75719456,"comment_id":133602565,"body_markdown":"I think I accidentally deleted a brace when I copied my code and decided to remove some commented out code. Also, yes, this program is not thread safe. It is fine. If progress it updated in an unsafe way, that&#39;s fine. It&#39;s fine because the main loop checks progress every few milliseconds. So if the lack of thread safety causes a loop to miss the check because the progress was the old one, then that&#39;s fine. It&#39;ll catch it on the next loop. This code is just for a simple terminal progress bar for private use in a small project. It does not need to be perfect, I just want it to work.","body":"I think I accidentally deleted a brace when I copied my code and decided to remove some commented out code. Also, yes, this program is not thread safe. It is fine. If progress it updated in an unsafe way, that&#39;s fine. It&#39;s fine because the main loop checks progress every few milliseconds. So if the lack of thread safety causes a loop to miss the check because the progress was the old one, then that&#39;s fine. It&#39;ll catch it on the next loop. This code is just for a simple terminal progress bar for private use in a small project. It does not need to be perfect, I just want it to work."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678868475,"post_id":75719456,"comment_id":133614609,"body_markdown":"Don’t say you are fine with the consequences of your broken program, when you don’t even know the consequences. It’s not about a missed update that you get in the next iteration. There is no guaranty that you will see an update in the next iteration or ever at all. There’s even the possibility to read a newer value once but get an older value the next time you read the variable. Sounds familiar? Yes, your question is describing the symptoms of a broken multi-threaded program. That’s expected. If you are fine with it, you don’t need to post a question. If not, you have to fix your program.","body":"Don’t say you are fine with the consequences of your broken program, when you don’t even know the consequences. It’s not about a missed update that you get in the next iteration. There is no guaranty that you will see an update in the next iteration or ever at all. There’s even the possibility to read a newer value once but get an older value the next time you read the variable. Sounds familiar? Yes, your question is describing the symptoms of a broken multi-threaded program. That’s expected. If you are fine with it, you don’t need to post a question. If not, you have to fix your program."}],"answers":[{"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1678711744,"post_id":75720348,"comment_id":133580927,"body_markdown":"What did you change? In what way is that code thread safe?","body":"What did you change? In what way is that code thread safe?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1678713374,"post_id":75720348,"comment_id":133581424,"body_markdown":"Well, it isn&#39;t thread safe and why should it be since OP didn&#39;t post here any multi threaded example. Also good luck printing from multiple threads to single threaded console and hope to work fine","body":"Well, it isn&#39;t thread safe and why should it be since OP didn&#39;t post here any multi threaded example. Also good luck printing from multiple threads to single threaded console and hope to work fine"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1678713699,"post_id":75720348,"comment_id":133581536,"body_markdown":"Also you can just create new instance of ProgressBar for each thread then you won&#39;t  need to fear about thread safe untill you will change progressBar values form thread that you didn&#39;t suppose to. Making your pb.step function as synchronized would also solved the issue anyway the problem stated by OP (flickering) wasn&#39;t about multithreading, just poorly done printinh","body":"Also you can just create new instance of ProgressBar for each thread then you won&#39;t  need to fear about thread safe untill you will change progressBar values form thread that you didn&#39;t suppose to. Making your pb.step function as synchronized would also solved the issue anyway the problem stated by OP (flickering) wasn&#39;t about multithreading, just poorly done printinh"},{"owner":{"account_id":25671247,"reputation":37,"user_id":19435455,"display_name":"Christo Swanepoel"},"score":0,"creation_date":1678718214,"post_id":75720348,"comment_id":133583109,"body_markdown":"Thank you so much! This code works. But I don&#39;t understand how. I&#39;ve been looking at the changes you made but I don&#39;t get what you did to make it work correctly. Could you please explain before I mark this as resolved?","body":"Thank you so much! This code works. But I don&#39;t understand how. I&#39;ve been looking at the changes you made but I don&#39;t get what you did to make it work correctly. Could you please explain before I mark this as resolved?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1678777565,"post_id":75720348,"comment_id":133594480,"body_markdown":"@ChristoSwanepoel I edited my post, added what I changed in your code","body":"@ChristoSwanepoel I edited my post, added what I changed in your code"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678779343,"post_id":75720348,"comment_id":133594858,"body_markdown":"@pfurbacher I don’t know what code you are seeing but I see clearly `new Thread(pb).start();`, followed by calls to `pb.step()` from the original thread while the new thread is executing the `run()` method of `pb`. Both threads access `progress`, one is modifying it. Hence, this is a text book example of a multi-threaded program, and a broken one.","body":"@pfurbacher I don’t know what code you are seeing but I see clearly <code>new Thread(pb).start();</code>, followed by calls to <code>pb.step()</code> from the original thread while the new thread is executing the <code>run()</code> method of <code>pb</code>. Both threads access <code>progress</code>, one is modifying it. Hence, this is a text book example of a multi-threaded program, and a broken one."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1678785352,"post_id":75720348,"comment_id":133596345,"body_markdown":"@pfurbacher we all mistakes, but not me in this case ;) your code and the original code are not thread safe and there is no guarantee the `ProgressBar` ever sees any correctly updated `progress` and `running` values.","body":"@pfurbacher we all mistakes, but not me in this case ;) your code and the original code are not thread safe and there is no guarantee the <code>ProgressBar</code> ever sees any correctly updated <code>progress</code> and <code>running</code> values."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":1,"creation_date":1678928690,"post_id":75720348,"comment_id":133630091,"body_markdown":"@luk2302 : you and Holger are right. I have deleted my answer so as to not confuse anyone.","body":"@luk2302 : you and Holger are right. I have deleted my answer so as to not confuse anyone."}],"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":8,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1678777529,"creation_date":1678701642,"answer_id":75720348,"question_id":75719456,"body_markdown":"Here you go, It works for me at least. (tested on macos)\r\n\r\n    package main.java;\r\n\r\n    public class ProgressBar implements Runnable {\r\n    private String message;\r\n    private final float maxProgress;\r\n    private float progress;\r\n    private float lastProgress;\r\n    private boolean running;\r\n    private final int PROGRESS_BAR_LENGTH = 50;\r\n\r\n    public ProgressBar(String message, int maxProgress) {\r\n        this.maxProgress = maxProgress;\r\n        this.message = message;\r\n        progress = 0;\r\n        lastProgress = 0;\r\n        running = true;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        StringBuilder s = new StringBuilder();\r\n\r\n        float progressLevel = 0;\r\n        while (running) {\r\n            // The check for the print happens here\r\n            if (progress &gt; lastProgress) {\r\n                s = new StringBuilder();\r\n                progressLevel = (progress / maxProgress) * \r\n    PROGRESS_BAR_LENGTH;\r\n                s.append(&quot;┃&quot;);\r\n                for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\r\n                    if (i &lt;= progressLevel) s.append(&quot;█&quot;);\r\n                    else s.append(&quot; &quot;);\r\n                }\r\n                s.append(&quot;┃&quot;);\r\n\r\n                System.out.printf(\r\n                        &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\r\n\r\n                // THIS IS THE ONLY PLACE LASTPROGRESS GETS UPDATED\r\n                lastProgress = progress;\r\n            }\r\n\r\n\r\n            s = new StringBuilder();\r\n            progressLevel = (progress / maxProgress) * PROGRESS_BAR_LENGTH;\r\n            s.append(&quot;┃&quot;);\r\n            for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\r\n                if (i &lt;= progressLevel) s.append(&quot;█&quot;);\r\n                else s.append(&quot; &quot;);\r\n            }\r\n            s.append(&quot;┃&quot;);\r\n        }\r\n\r\n\r\n        System.out.printf(\r\n                &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\r\n    }\r\n\r\n    public void step() {\r\n        progress++;\r\n        if (progress &gt;= maxProgress) {\r\n            progress = maxProgress;\r\n            running = false;\r\n        }\r\n    }\r\n\r\n    public void step(float step) {\r\n        progress += step;\r\n        if (progress &gt;= maxProgress) {\r\n            progress = maxProgress;\r\n            running = false;\r\n        }\r\n    }\r\n\r\n    public void setMessage(String newMessage) {\r\n        message = newMessage;\r\n    }\r\n\r\n    public void stepTo(int newProgress) {\r\n        progress = newProgress;\r\n        if (progress &gt; maxProgress) {\r\n            progress = maxProgress;\r\n            running = false;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100);\r\n        new Thread(pb).start();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            pb.step();\r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JNxka.gif\r\n\r\n\r\nEdit.\r\nWhat I changed.\r\n1. I added one closing bracket as code didnt compile before.\r\n2. I moved second printf outside a while loop. With it inside the console was flickering when updating values\r\n3. I moved initialization of string builder and progress level outside a while loop.","title":"Why does a primitive variable change value without being updated? [Java]","body":"<p>Here you go, It works for me at least. (tested on macos)</p>\n<pre><code>package main.java;\n\npublic class ProgressBar implements Runnable {\nprivate String message;\nprivate final float maxProgress;\nprivate float progress;\nprivate float lastProgress;\nprivate boolean running;\nprivate final int PROGRESS_BAR_LENGTH = 50;\n\npublic ProgressBar(String message, int maxProgress) {\n    this.maxProgress = maxProgress;\n    this.message = message;\n    progress = 0;\n    lastProgress = 0;\n    running = true;\n}\n\n@Override\npublic void run() {\n    StringBuilder s = new StringBuilder();\n\n    float progressLevel = 0;\n    while (running) {\n        // The check for the print happens here\n        if (progress &gt; lastProgress) {\n            s = new StringBuilder();\n            progressLevel = (progress / maxProgress) * \nPROGRESS_BAR_LENGTH;\n            s.append(&quot;┃&quot;);\n            for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\n                if (i &lt;= progressLevel) s.append(&quot;█&quot;);\n                else s.append(&quot; &quot;);\n            }\n            s.append(&quot;┃&quot;);\n\n            System.out.printf(\n                    &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\n\n            // THIS IS THE ONLY PLACE LASTPROGRESS GETS UPDATED\n            lastProgress = progress;\n        }\n\n\n        s = new StringBuilder();\n        progressLevel = (progress / maxProgress) * PROGRESS_BAR_LENGTH;\n        s.append(&quot;┃&quot;);\n        for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\n            if (i &lt;= progressLevel) s.append(&quot;█&quot;);\n            else s.append(&quot; &quot;);\n        }\n        s.append(&quot;┃&quot;);\n    }\n\n\n    System.out.printf(\n            &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\n}\n\npublic void step() {\n    progress++;\n    if (progress &gt;= maxProgress) {\n        progress = maxProgress;\n        running = false;\n    }\n}\n\npublic void step(float step) {\n    progress += step;\n    if (progress &gt;= maxProgress) {\n        progress = maxProgress;\n        running = false;\n    }\n}\n\npublic void setMessage(String newMessage) {\n    message = newMessage;\n}\n\npublic void stepTo(int newProgress) {\n    progress = newProgress;\n    if (progress &gt; maxProgress) {\n        progress = maxProgress;\n        running = false;\n    }\n}\n\npublic static void main(String[] args) throws InterruptedException {\n    ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100);\n    new Thread(pb).start();\n\n    for (int i = 0; i &lt; 100; i++) {\n        pb.step();\n        Thread.sleep(1000);\n    }\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JNxka.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JNxka.gif\" alt=\"enter image description here\" /></a></p>\n<p>Edit.\nWhat I changed.</p>\n<ol>\n<li>I added one closing bracket as code didnt compile before.</li>\n<li>I moved second printf outside a while loop. With it inside the console was flickering when updating values</li>\n<li>I moved initialization of string builder and progress level outside a while loop.</li>\n</ol>\n"}],"owner":{"account_id":25671247,"reputation":37,"user_id":19435455,"display_name":"Christo Swanepoel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":75720348,"answer_count":1,"score":-3,"last_activity_date":1678777529,"creation_date":1678695849,"question_id":75719456,"body_markdown":"I created a small class to display a progress bar in the terminal. It is multi-threaded to avoid tampering with the performance of the calling process. I did not want the loop that prints the bar to print it constantly as this causes flickering because the terminal updates do not always line up with the printing, which causes flickering.\r\n\r\nSo here is where the problem comes in: I added a variable called lastProgress. It is initialized to 0 and from there on out only updates after the progress bar is printed. &quot;progress&quot; is the variable that keeps track of the progress of the bar. step() increases progress. Thus if progress increases it will be bigger than lastProgress and the bar will print, then lastProgress will be set equal to progress. This means that the bar won&#39;t be printed again until progress increases (by a call to step()).\r\n\r\nHowever, this code does not do this. It prints the bar ONCE and then never again. A trace of the values of progress and lastProgress shows that every time progress increases, lastProgress also increases. But the only place in the code that changes the value of lastProgress (which is at the end of the run method) is NEVER EXECUTED. A print statement just before it only ever executes once, yet the value keeps changing. How does the value of lastProgress keep updating if the code that updates it is never ran??\r\n\r\nI even decompiled the code with javap to see what the bytecode does. Maybe the first time lastProgress = progress is ran it copies by reference? This is not the case, the bytecode confirmed it. It should not be as primitives are copied by value by default in Java as far as I am aware.\r\n\r\nI am losing my mind. Please help me.\r\n\r\nHere is my code:\r\n\r\n```\r\npackage utils;\r\n\r\npublic class ProgressBar implements Runnable {\r\n  private String message;\r\n  private final float maxProgress;\r\n  private float progress;\r\n  private float lastProgress;\r\n  private boolean running;\r\n  private final int PROGRESS_BAR_LENGTH = 50;\r\n\r\n  public ProgressBar(String message, int maxProgress) {\r\n    this.maxProgress = maxProgress;\r\n    this.message = message;\r\n    progress = 0;\r\n    lastProgress = 0;\r\n    running = true;\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n    StringBuilder s;\r\n\r\n    while (running) {\r\n      // The check for the print happens here\r\n      if (progress &gt; lastProgress) {\r\n        s = new StringBuilder();\r\n        float progressLevel = (progress / maxProgress) * PROGRESS_BAR_LENGTH;\r\n        s.append(&quot;┃&quot;);\r\n        for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\r\n          if (i &lt;= progressLevel) s.append(&quot;█&quot;);\r\n          else s.append(&quot; &quot;);\r\n        }\r\n        s.append(&quot;┃&quot;);\r\n\r\n        System.out.printf(\r\n            &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\r\n\r\n        // THIS IS THE ONLY PLACE LASTPROGRESS GETS UPDATED\r\n        lastProgress = progress;\r\n      }\r\n\r\n    // This print is executed to ensure that the final update is shown\r\n    s = new StringBuilder();\r\n    float progressLevel = (progress / maxProgress) * PROGRESS_BAR_LENGTH;\r\n    s.append(&quot;┃&quot;);\r\n    for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\r\n      if (i &lt;= progressLevel) s.append(&quot;█&quot;);\r\n      else s.append(&quot; &quot;);\r\n    }\r\n    s.append(&quot;┃&quot;);\r\n\r\n    System.out.printf(\r\n        &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\r\n  }\r\n\r\n  public void step() {\r\n    progress++;\r\n    if (progress &gt;= maxProgress) {\r\n      progress = maxProgress;\r\n      running = false;\r\n    }\r\n  }\r\n\r\n  public void step(float step) {\r\n    progress += step;\r\n    if (progress &gt;= maxProgress) {\r\n      progress = maxProgress;\r\n      running = false;\r\n    }\r\n  }\r\n\r\n  public void setMessage(String newMessage) {\r\n    message = newMessage;\r\n  }\r\n\r\n  public void stepTo(int newProgress) {\r\n    progress = newProgress;\r\n    if (progress &gt; maxProgress) {\r\n      progress = maxProgress;\r\n      running = false;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100);\r\n    new Thread(pb).start();\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n      pb.step();\r\n      Thread.sleep(2000);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nIt no work :( I asked my friend and it baffled him too\r\n\r\nEdit: I want to clarify that I misused the term &quot;multi-threaded&quot; as I just intended for the program to run on its own thread to avoid a performance hit on the calling thread. I also do not need thread safety as only one instance of this program will ever be run at a time and it will manage its own state internally.","title":"Why does a primitive variable change value without being updated? [Java]","body":"<p>I created a small class to display a progress bar in the terminal. It is multi-threaded to avoid tampering with the performance of the calling process. I did not want the loop that prints the bar to print it constantly as this causes flickering because the terminal updates do not always line up with the printing, which causes flickering.</p>\n<p>So here is where the problem comes in: I added a variable called lastProgress. It is initialized to 0 and from there on out only updates after the progress bar is printed. &quot;progress&quot; is the variable that keeps track of the progress of the bar. step() increases progress. Thus if progress increases it will be bigger than lastProgress and the bar will print, then lastProgress will be set equal to progress. This means that the bar won't be printed again until progress increases (by a call to step()).</p>\n<p>However, this code does not do this. It prints the bar ONCE and then never again. A trace of the values of progress and lastProgress shows that every time progress increases, lastProgress also increases. But the only place in the code that changes the value of lastProgress (which is at the end of the run method) is NEVER EXECUTED. A print statement just before it only ever executes once, yet the value keeps changing. How does the value of lastProgress keep updating if the code that updates it is never ran??</p>\n<p>I even decompiled the code with javap to see what the bytecode does. Maybe the first time lastProgress = progress is ran it copies by reference? This is not the case, the bytecode confirmed it. It should not be as primitives are copied by value by default in Java as far as I am aware.</p>\n<p>I am losing my mind. Please help me.</p>\n<p>Here is my code:</p>\n<pre><code>package utils;\n\npublic class ProgressBar implements Runnable {\n  private String message;\n  private final float maxProgress;\n  private float progress;\n  private float lastProgress;\n  private boolean running;\n  private final int PROGRESS_BAR_LENGTH = 50;\n\n  public ProgressBar(String message, int maxProgress) {\n    this.maxProgress = maxProgress;\n    this.message = message;\n    progress = 0;\n    lastProgress = 0;\n    running = true;\n  }\n\n  @Override\n  public void run() {\n    StringBuilder s;\n\n    while (running) {\n      // The check for the print happens here\n      if (progress &gt; lastProgress) {\n        s = new StringBuilder();\n        float progressLevel = (progress / maxProgress) * PROGRESS_BAR_LENGTH;\n        s.append(&quot;┃&quot;);\n        for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\n          if (i &lt;= progressLevel) s.append(&quot;█&quot;);\n          else s.append(&quot; &quot;);\n        }\n        s.append(&quot;┃&quot;);\n\n        System.out.printf(\n            &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\n\n        // THIS IS THE ONLY PLACE LASTPROGRESS GETS UPDATED\n        lastProgress = progress;\n      }\n\n    // This print is executed to ensure that the final update is shown\n    s = new StringBuilder();\n    float progressLevel = (progress / maxProgress) * PROGRESS_BAR_LENGTH;\n    s.append(&quot;┃&quot;);\n    for (int i = 1; i &lt;= PROGRESS_BAR_LENGTH; i++) {\n      if (i &lt;= progressLevel) s.append(&quot;█&quot;);\n      else s.append(&quot; &quot;);\n    }\n    s.append(&quot;┃&quot;);\n\n    System.out.printf(\n        &quot;%s:    %s    %.0f%% \\r&quot;, message, s, progressLevel * (100 / PROGRESS_BAR_LENGTH));\n  }\n\n  public void step() {\n    progress++;\n    if (progress &gt;= maxProgress) {\n      progress = maxProgress;\n      running = false;\n    }\n  }\n\n  public void step(float step) {\n    progress += step;\n    if (progress &gt;= maxProgress) {\n      progress = maxProgress;\n      running = false;\n    }\n  }\n\n  public void setMessage(String newMessage) {\n    message = newMessage;\n  }\n\n  public void stepTo(int newProgress) {\n    progress = newProgress;\n    if (progress &gt; maxProgress) {\n      progress = maxProgress;\n      running = false;\n    }\n  }\n\n  public static void main(String[] args) throws InterruptedException {\n    ProgressBar pb = new ProgressBar(&quot;Test&quot;, 100);\n    new Thread(pb).start();\n\n    for (int i = 0; i &lt; 100; i++) {\n      pb.step();\n      Thread.sleep(2000);\n    }\n  }\n}\n\n</code></pre>\n<p>It no work :( I asked my friend and it baffled him too</p>\n<p>Edit: I want to clarify that I misused the term &quot;multi-threaded&quot; as I just intended for the program to run on its own thread to avoid a performance hit on the calling thread. I also do not need thread safety as only one instance of this program will ever be run at a time and it will manage its own state internally.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1678775521,"post_id":75729714,"comment_id":133594098,"body_markdown":"From which folder is your java application/service running from? Maybe you want to give absolute path to credentials file instead.","body":"From which folder is your java application/service running from? Maybe you want to give absolute path to credentials file instead."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1678775986,"post_id":75729714,"comment_id":133594181,"body_markdown":"Please show your folder/package structure of the files in question (esp. for the class `EmailManager` and the file `CREDENTIALS_FILE_PATH`).","body":"Please show your folder/package structure of the files in question (esp. for the class <code>EmailManager</code> and the file <code>CREDENTIALS_FILE_PATH</code>)."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1678777250,"post_id":75729714,"comment_id":133594414,"body_markdown":"Added the required info.","body":"Added the required info."}],"answers":[{"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1678781957,"post_id":75729985,"comment_id":133595479,"body_markdown":"Let me try and see.","body":"Let me try and see."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678777490,"creation_date":1678777490,"answer_id":75729985,"question_id":75729714,"body_markdown":"Try\r\n```Java\r\nInputStream in = new FileInputStream( CREDENTIALS_FILE_PATH );\r\n```\r\ninstead of\r\n```Java\r\nInputStream in = EmailManager.class.getResourceAsStream( CREDENTIALS_FILE_PATH );\r\n```\r\n`getResourceAsStream()` creates an `InputStream` for a *resource* – usually a  file – on the CLASSPATH, not on the regular file system.\r\n\r\nFrom the provided &#39;filename&#39;, I assume that you want to read from the file system, so you have to use `FileInputStream` instead. This is confirmed by the provided screen shot.","title":"FileNotFound Exception in Gmail API","body":"<p>Try</p>\n<pre><code>InputStream in = new FileInputStream( CREDENTIALS_FILE_PATH );\n</code></pre>\n<p>instead of</p>\n<pre><code>InputStream in = EmailManager.class.getResourceAsStream( CREDENTIALS_FILE_PATH );\n</code></pre>\n<p><code>getResourceAsStream()</code> creates an <code>InputStream</code> for a <em>resource</em> – usually a  file – on the CLASSPATH, not on the regular file system.</p>\n<p>From the provided 'filename', I assume that you want to read from the file system, so you have to use <code>FileInputStream</code> instead. This is confirmed by the provided screen shot.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678777490,"creation_date":1678775182,"question_id":75729714,"body_markdown":"I had coded automation testing for sending email but unfortunately the credential json file cannot be located. \r\n\r\nCode: \r\n\r\n    private static final String CREDENTIALS_FILE_PATH = &quot;.//credential//credentials.json&quot;;\r\n    \r\n    \r\n    InputStream in = EmailManager.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n    \t\tif (in == null) {\r\n    \t\t\tthrow new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n    \t\t}\r\n\r\nI put the credentials.json file at the root directory inside credential folder. \r\n\r\nPS: Running from /src/test/java/com/rev/testManager\r\n\r\nThe emailManager located at /src/main/java/com/rev/manager. \r\n\r\n[![Folder structure][1]][1]\r\n\r\n\r\nPlease help me. Thanks. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fJoEc.png","title":"FileNotFound Exception in Gmail API","body":"<p>I had coded automation testing for sending email but unfortunately the credential json file cannot be located.</p>\n<p>Code:</p>\n<pre><code>private static final String CREDENTIALS_FILE_PATH = &quot;.//credential//credentials.json&quot;;\n\n\nInputStream in = EmailManager.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n</code></pre>\n<p>I put the credentials.json file at the root directory inside credential folder.</p>\n<p>PS: Running from /src/test/java/com/rev/testManager</p>\n<p>The emailManager located at /src/main/java/com/rev/manager.</p>\n<p><a href=\"https://i.stack.imgur.com/fJoEc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJoEc.png\" alt=\"Folder structure\" /></a></p>\n<p>Please help me. Thanks.</p>\n"},{"tags":["java","hibernate","tomcat9","dbconnection"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678764281,"post_id":75728368,"comment_id":133592733,"body_markdown":"Just wondering, is the connection pool another instance of a pool per webapp or a site configured global for all webapps? You may be able to solve it by a common global connection pool in the server.xml. Other than that , the SQL table requires row level locking to prevent dirty read, hibernate con pool in server.xml , example of where.   https://www.ibm.com/docs/en/odm/8.10?topic=tomcat-step-1-creating-data-source-connection-pool          The following is a better article on that problem.    https://shekhargulati.com/2020/06/17/how-to-solve-database-deadlock-on-microsoft-sql-server/","body":"Just wondering, is the connection pool another instance of a pool per webapp or a site configured global for all webapps? You may be able to solve it by a common global connection pool in the server.xml. Other than that , the SQL table requires row level locking to prevent dirty read, hibernate con pool in server.xml , example of where.   <a href=\"https://www.ibm.com/docs/en/odm/8.10?topic=tomcat-step-1-creating-data-source-connection-pool\" rel=\"nofollow noreferrer\">ibm.com/docs/en/odm/&hellip;</a>          The following is a better article on that problem.    <a href=\"https://shekhargulati.com/2020/06/17/how-to-solve-database-deadlock-on-microsoft-sql-server/\" rel=\"nofollow noreferrer\">shekhargulati.com/2020/06/17/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678765335,"post_id":75728368,"comment_id":133592841,"body_markdown":"That type of concurrency issue occurs more with the SQL server and tomcat assigned multiple cores. Tomcat has some thread concurrency settings can be put into the server.xml also. But if you call through a servlet, in dopost() or doget() it may be assistance to build &quot;helper class&quot; to instantiate into a synchronized block object locking it also. Helper class is another new class (source in servlet folder pak) not extended with the servlet so call the results from the processing in the helper.","body":"That type of concurrency issue occurs more with the SQL server and tomcat assigned multiple cores. Tomcat has some thread concurrency settings can be put into the server.xml also. But if you call through a servlet, in dopost() or doget() it may be assistance to build &quot;helper class&quot; to instantiate into a synchronized block object locking it also. Helper class is another new class (source in servlet folder pak) not extended with the servlet so call the results from the processing in the helper."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678767432,"post_id":75728368,"comment_id":133593064,"body_markdown":"And if that continued, there is one mad (obscure) one to check, the chipset board and components BUS speeds could be badly matched for their ratings! Usually an ultra cheap featured machine.","body":"And if that continued, there is one mad (obscure) one to check, the chipset board and components BUS speeds could be badly matched for their ratings! Usually an ultra cheap featured machine."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678769662,"post_id":75728368,"comment_id":133593357,"body_markdown":"And check also your servlet uses either SingleThreadModel or has a filter class configured with a synchronized object block to the servlet configured in the web.xml (latter is the up to date method)","body":"And check also your servlet uses either SingleThreadModel or has a filter class configured with a synchronized object block to the servlet configured in the web.xml (latter is the up to date method)"}],"owner":{"account_id":11185189,"reputation":1,"user_id":8207791,"display_name":"Romy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678777325,"creation_date":1678757516,"question_id":75728368,"body_markdown":"I am unable to acquire Connection via windows Service Account in JAVA Spring MVC using Hibernate.\r\nThere&#39;s no error while deploying one application.  I am facing below issue while deploying multiple applications in same tomcat. \r\nTo more on this\r\n1. I am using one tomcat instance.\r\n2. I am using hibernate to create session factory\r\n3. I am use windows service to start the tomcat (Provided DB windows service account to start the service)\r\n4. While deploying one application its working fine\r\n4. While deploying multiple application its giving deadlock issue.\r\n\r\n","title":"DB Connection via windows Service Account in JAVA Spring MVC using Hibernate","body":"<p>I am unable to acquire Connection via windows Service Account in JAVA Spring MVC using Hibernate.\nThere's no error while deploying one application.  I am facing below issue while deploying multiple applications in same tomcat.\nTo more on this</p>\n<ol>\n<li>I am using one tomcat instance.</li>\n<li>I am using hibernate to create session factory</li>\n<li>I am use windows service to start the tomcat (Provided DB windows service account to start the service)</li>\n<li>While deploying one application its working fine</li>\n<li>While deploying multiple application its giving deadlock issue.</li>\n</ol>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1632676795,"post_id":69337210,"comment_id":122551603,"body_markdown":"`UsersXCountry` isn&#39;t a Spring JPA class ?","body":"<code>UsersXCountry</code> isn&#39;t a Spring JPA class ?"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":2,"creation_date":1632678117,"post_id":69337210,"comment_id":122551903,"body_markdown":"You cannot select individual columns directly into a custom object class with a native query. If you want to do so either use an `interface` instead of a `class`, or use `@NamedNativeQuery` along with `@SqlResultSetMapping` to map the result to a custom object class.","body":"You cannot select individual columns directly into a custom object class with a native query. If you want to do so either use an <code>interface</code> instead of a <code>class</code>, or use <code>@NamedNativeQuery</code> along with <code>@SqlResultSetMapping</code> to map the result to a custom object class."}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632677415,"creation_date":1632677085,"answer_id":69337252,"question_id":69337210,"body_markdown":"The names must be identicals beside adding getters, setters to **UsersXCountry**\r\n\r\n    @Query(value = &quot;select count(&#39;1&#39;) as numUsers, country_code as countryCode from t_user group by country_code&quot;,\r\n            nativeQuery = true)\r\n    List&lt;UsersXCountry&gt; usersXCountry();","title":"No converter found capable of converting from type","body":"<p>The names must be identicals beside adding getters, setters to <strong>UsersXCountry</strong></p>\n<pre><code>@Query(value = &quot;select count('1') as numUsers, country_code as countryCode from t_user group by country_code&quot;,\n        nativeQuery = true)\nList&lt;UsersXCountry&gt; usersXCountry();\n</code></pre>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69337252,"answer_count":1,"score":0,"last_activity_date":1678777285,"creation_date":1632676607,"question_id":69337210,"body_markdown":"I have this DTO class:\r\n\r\n    public class UsersXCountry {\r\n    \r\n    \tInteger numUsers;\r\n    \tString countryCode;\r\n    \r\n    }\r\n\r\nIn Repository interface :\r\n\r\n    @Query(value = &quot;select count(&#39;1&#39;), country_code from t_user group by country_code&quot;,nativeQuery = true)\r\n    List&lt;UsersXCountry&gt; usersXCountry();\r\n\r\n\r\n\r\nbut I getting errors in console:\r\n\r\n    No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.losmundo.backend.domain.UsersXCountry]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322)","title":"No converter found capable of converting from type","body":"<p>I have this DTO class:</p>\n<pre><code>public class UsersXCountry {\n\n    Integer numUsers;\n    String countryCode;\n\n}\n</code></pre>\n<p>In Repository interface :</p>\n<pre><code>@Query(value = &quot;select count('1'), country_code from t_user group by country_code&quot;,nativeQuery = true)\nList&lt;UsersXCountry&gt; usersXCountry();\n</code></pre>\n<p>but I getting errors in console:</p>\n<pre><code>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.losmundo.backend.domain.UsersXCountry]\n    at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322)\n</code></pre>\n"},{"tags":["java","maven","jaxws-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1468842259,"post_id":38435221,"comment_id":64277058,"body_markdown":"Generating code into `src/main` is in general a bad idea...cause it will change code which is committed to a version control...","body":"Generating code into <code>src&#47;main</code> is in general a bad idea...cause it will change code which is committed to a version control..."},{"owner":{"account_id":2568357,"reputation":2975,"user_id":2227788,"accept_rate":100,"display_name":"Aamir Khan"},"score":0,"creation_date":1468843846,"post_id":38435221,"comment_id":64278159,"body_markdown":"Noted, thanks. I have changed this now.","body":"Noted, thanks. I have changed this now."},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1646234886,"post_id":38435221,"comment_id":126073569,"body_markdown":"simply by using `-DparameterKey=parameterValue`","body":"simply by using <code>-DparameterKey=parameterValue</code>"},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1646312537,"post_id":38435221,"comment_id":126095142,"body_markdown":"just an extra hint, if the parameters contain special characters, then you can use `-D&quot;parameter_key&quot;=&quot;parameter_value&quot;`","body":"just an extra hint, if the parameters contain special characters, then you can use <code>-D&quot;parameter_key&quot;=&quot;parameter_value&quot;</code>"}],"answers":[{"comments":[{"owner":{"account_id":2568357,"reputation":2975,"user_id":2227788,"accept_rate":100,"display_name":"Aamir Khan"},"score":0,"creation_date":1468844081,"post_id":38435897,"comment_id":64278293,"body_markdown":"Hi Tuanki. Thank you for the extremely comprehensive answer. Just to clarify, any configurations added (using the &lt;configuration&gt; tag) to the POM are not used by the plugin if it&#39;s run directly from the CLI, as opposed to being run in the build process in the phase it&#39;s bound to?","body":"Hi Tuanki. Thank you for the extremely comprehensive answer. Just to clarify, any configurations added (using the &lt;configuration&gt; tag) to the POM are not used by the plugin if it&#39;s run directly from the CLI, as opposed to being run in the build process in the phase it&#39;s bound to?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1468847009,"post_id":38435897,"comment_id":64280430,"body_markdown":"@AamirKhan That&#39;s where plugin execution, with `&lt;execution&gt;`, come into play. When invoked on the command line, you launch a new custom execution so any configuration that is under `&lt;execution&gt;&lt;configuration&gt;` won&#39;t be used. However, configuration added in the global `&lt;configuration&gt;` (not under any `&lt;execution&gt;`) will be used. Note that, on the command line, you can also execute a specific existing execution (instead of creating a new one by default) using the `@` syntax http://stackoverflow.com/questions/3166538/how-to-execute-maven-plugin-execution-directly-from-command-line.","body":"@AamirKhan That&#39;s where plugin execution, with <code>&lt;execution&gt;</code>, come into play. When invoked on the command line, you launch a new custom execution so any configuration that is under <code>&lt;execution&gt;&lt;configuration&gt;</code> won&#39;t be used. However, configuration added in the global <code>&lt;configuration&gt;</code> (not under any <code>&lt;execution&gt;</code>) will be used. Note that, on the command line, you can also execute a specific existing execution (instead of creating a new one by default) using the <code>@</code> syntax <a href=\"http://stackoverflow.com/questions/3166538/how-to-execute-maven-plugin-execution-directly-from-command-line\" title=\"how to execute maven plugin execution directly from command line\">stackoverflow.com/questions/3166538/&hellip;</a>."},{"owner":{"account_id":2568357,"reputation":2975,"user_id":2227788,"accept_rate":100,"display_name":"Aamir Khan"},"score":0,"creation_date":1468847136,"post_id":38435897,"comment_id":64280542,"body_markdown":"Just what I needed. Thanks @Tunaki!","body":"Just what I needed. Thanks @Tunaki!"}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1678777219,"creation_date":1468842306,"answer_id":38435897,"question_id":38435221,"body_markdown":"###WARNING /!\\\r\n\r\nYou are trying to generate sources under the source folder `src/main/java`. Unless there is a _very_ strong reason, [don&#39;t do this](https://stackoverflow.com/questions/22912900/location-of-generated-source-files-for-maven-directory-structure). All generated content should always be placed under the build directory (`target` by default) and not be version-controlled. You can always add the generated sources as source folder using the [`build-helper-maven-plugin:add-source`](http://www.mojohaus.org/build-helper-maven-plugin/add-source-mojo.html), if the plugin does not do it already itself.\r\n\r\n&lt;hr&gt;\r\n\r\nTo be able to set parameters directly on the command line, the plugin needs to define a user property. However, the `org.jvnet.jax-ws-commons:jaxws-maven-plugin` does not define a user property for the [`sourceDestDir`](https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html#sourceDestDir) parameter. This is noticeable because the documentation does not have a &quot;User Property&quot; set.\r\n\r\nYou can also find this [in the source code](https://github.com/javaee/metro-jaxws-commons/blob/master/jaxws-maven-plugin/src/main/java/org/jvnet/jax_ws_commons/jaxws/MainWsImportMojo.java#L64):\r\n&gt;     @Parameter(defaultValue = &quot;${project.build.directory}/generated-sources/wsimport&quot;)\r\n&gt;     private File sourceDestDir;\r\n\r\nThe `@Parameter` annotation, used to declare the parameter of the Maven plugin, does not have a corresponding [`property`](http://maven.apache.org/plugin-tools-archives/plugin-tools-3.4/apidocs/org/apache/maven/plugins/annotations/Parameter.html#property()).\r\n\r\nAs such, you will need to have the following:\r\n\r\n 1. Define a Maven property `jaxws.sourceDestDir` with a value of `${project.basedir}/src/main/java` with\r\n\r\n\t    &lt;properties&gt;\r\n\t\t  &lt;jaxws.sourceDestDir&gt;${project.basedir}/src/main/java&lt;/jaxws.sourceDestDir&gt;\r\n\t    &lt;/properties&gt;\r\n\r\n Preferably, you would have `${project.build.directory}/some/path` instead of `src/main/java`.\r\n\r\n 2. Configure the plugin to use this Maven property:\r\n\r\n        &lt;configuration&gt;\r\n          &lt;sourceDestDir&gt;${jaxws.sourceDestDir}&lt;/sourceDestDir&gt;\r\n        &lt;/configuration&gt;\r\n\r\n 3. If you want to override it, you can now do so directly on the command line with `-Djaxws.sourceDestDir=/my/new/value`. This system property will take precedence over the value of the Maven property.","title":"How to pass parameter to Maven plugin from CLI?","body":"<p>###WARNING /!\\</p>\n<p>You are trying to generate sources under the source folder <code>src/main/java</code>. Unless there is a <em>very</em> strong reason, <a href=\"https://stackoverflow.com/questions/22912900/location-of-generated-source-files-for-maven-directory-structure\">don't do this</a>. All generated content should always be placed under the build directory (<code>target</code> by default) and not be version-controlled. You can always add the generated sources as source folder using the <a href=\"http://www.mojohaus.org/build-helper-maven-plugin/add-source-mojo.html\" rel=\"nofollow noreferrer\"><code>build-helper-maven-plugin:add-source</code></a>, if the plugin does not do it already itself.</p>\n<hr>\n<p>To be able to set parameters directly on the command line, the plugin needs to define a user property. However, the <code>org.jvnet.jax-ws-commons:jaxws-maven-plugin</code> does not define a user property for the <a href=\"https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html#sourceDestDir\" rel=\"nofollow noreferrer\"><code>sourceDestDir</code></a> parameter. This is noticeable because the documentation does not have a &quot;User Property&quot; set.</p>\n<p>You can also find this <a href=\"https://github.com/javaee/metro-jaxws-commons/blob/master/jaxws-maven-plugin/src/main/java/org/jvnet/jax_ws_commons/jaxws/MainWsImportMojo.java#L64\" rel=\"nofollow noreferrer\">in the source code</a>:</p>\n<blockquote>\n<pre><code>@Parameter(defaultValue = &quot;${project.build.directory}/generated-sources/wsimport&quot;)\nprivate File sourceDestDir;\n</code></pre>\n</blockquote>\n<p>The <code>@Parameter</code> annotation, used to declare the parameter of the Maven plugin, does not have a corresponding <a href=\"http://maven.apache.org/plugin-tools-archives/plugin-tools-3.4/apidocs/org/apache/maven/plugins/annotations/Parameter.html#property()\" rel=\"nofollow noreferrer\"><code>property</code></a>.</p>\n<p>As such, you will need to have the following:</p>\n<ol>\n<li><p>Define a Maven property <code>jaxws.sourceDestDir</code> with a value of <code>${project.basedir}/src/main/java</code> with</p>\n<pre><code>&lt;properties&gt;\n  &lt;jaxws.sourceDestDir&gt;${project.basedir}/src/main/java&lt;/jaxws.sourceDestDir&gt;\n&lt;/properties&gt;\n</code></pre>\n</li>\n</ol>\n<p>Preferably, you would have <code>${project.build.directory}/some/path</code> instead of <code>src/main/java</code>.</p>\n<ol start=\"2\">\n<li><p>Configure the plugin to use this Maven property:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;sourceDestDir&gt;${jaxws.sourceDestDir}&lt;/sourceDestDir&gt;\n&lt;/configuration&gt;\n</code></pre>\n</li>\n<li><p>If you want to override it, you can now do so directly on the command line with <code>-Djaxws.sourceDestDir=/my/new/value</code>. This system property will take precedence over the value of the Maven property.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2568357,"reputation":2975,"user_id":2227788,"accept_rate":100,"display_name":"Aamir Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13083,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":38435897,"answer_count":1,"score":7,"last_activity_date":1678777219,"creation_date":1468840268,"question_id":38435221,"body_markdown":"    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-sei&lt;/id&gt;\r\n\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceDestDir&gt;${project.basedir}/src/main/java&lt;/sourceDestDir&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n              &lt;dependencies&gt;...&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nThe above XML snippet is from a POM file in a Java project. In this snippet I&#39;ve defined the jaxws-maven-plugin to use a wsdl file to generate the SEI code and place it in the src/main/java directory. This plugin is bound to the generate-sources phase, and works fine.\r\n\r\nI want to make it so that if I issue the plugin directly, using:\r\n\r\n    mvn jaxws:wsimport\r\n\r\nit should place the files in the above mentioned folder. From the plugins reference site (https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html), I can&#39;t figure out how to pass the parameter (sourceDestDir) as a command line argument. Is there someway I can do this?\r\n","title":"How to pass parameter to Maven plugin from CLI?","body":"<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;id&gt;generate-sei&lt;/id&gt;\n\n                    &lt;configuration&gt;\n                        &lt;sourceDestDir&gt;${project.basedir}/src/main/java&lt;/sourceDestDir&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;dependencies&gt;...&lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The above XML snippet is from a POM file in a Java project. In this snippet I've defined the jaxws-maven-plugin to use a wsdl file to generate the SEI code and place it in the src/main/java directory. This plugin is bound to the generate-sources phase, and works fine.</p>\n\n<p>I want to make it so that if I issue the plugin directly, using:</p>\n\n<pre><code>mvn jaxws:wsimport\n</code></pre>\n\n<p>it should place the files in the above mentioned folder. From the plugins reference site (<a href=\"https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html\" rel=\"noreferrer\">https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html</a>), I can't figure out how to pass the parameter (sourceDestDir) as a command line argument. Is there someway I can do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678709969,"post_id":75721637,"comment_id":133580363,"body_markdown":"Your hand-implemented copy is not using the fastest option. Personally I&#39;d use `FileChannels` like [in this answer](https://stackoverflow.com/a/4004874/40342) and then monitor the positions of either the input or output channel in a separate thread (according to [the doc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/FileChannel.html) accessing them in multiple threads is acceptable, with some obvious restrictions).","body":"Your hand-implemented copy is not using the fastest option. Personally I&#39;d use <code>FileChannels</code> like <a href=\"https://stackoverflow.com/a/4004874/40342\">in this answer</a> and then monitor the positions of either the input or output channel in a separate thread (according to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/FileChannel.html\" rel=\"nofollow noreferrer\">the doc</a> accessing them in multiple threads is acceptable, with some obvious restrictions)."}],"answers":[{"tags":[],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678777188,"creation_date":1678777188,"answer_id":75729944,"question_id":75721637,"body_markdown":"Based on @joachim-sauer tipp I used Filechannel.\r\n\r\n\r\n   \ttry {\r\n\t\t\t// Open input and output file streams\r\n\t\t\tFileInputStream inputFile = new FileInputStream(in);\r\n\t\t\tFileOutputStream outputFile = new FileOutputStream(out);\r\n\r\n\t\t\t// Get the channels for the input and output files\r\n\t\t\tFileChannel inputChannel = inputFile.getChannel();\r\n\t\t\tFileChannel outputChannel = outputFile.getChannel();\r\n\r\n\t\t\t// Create a buffer to hold the data\r\n\t\t\tByteBuffer buffer = ByteBuffer.allocate(1024);\r\n\t\t\t\r\n\t\t\tdouble inputSize = (double) inputChannel.size();\r\n\t\t\t\r\n\t\t\tint counter =0;\r\n\r\n\t\t\t// Read the data from the input file into the buffer\r\n\t\t\twhile (inputChannel.read(buffer) &gt; 0) {\r\n\t\t\t\t// Flip the buffer to prepare for writing\r\n\t\t\t\tbuffer.flip();\r\n\r\n\t\t\t\t// Write the data to the output file\r\n\t\t\t\toutputChannel.write(buffer);\r\n\t\t\t\t\r\n\t\t\t\t// Clear the buffer to prepare for reading more data\r\n\t\t\t\tbuffer.clear();\r\n\t\t\t\tcounter ++;\r\n\t\t\t\tif(counter == 1024) {\r\n\t\t\t\t\tcounter = 0;\r\n\t\t\t\t\tSystem.out.println((double) outputChannel.size() / inputSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Close the channels and streams\r\n\t\t\tinputChannel.close();\r\n\t\t\toutputChannel.close();\r\n\t\t\tinputFile.close();\r\n\t\t\toutputFile.close();\r\n\r\n\t\t\tSystem.out.println(&quot;File copied successfully!&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nThanks\r\n","title":"Copy big files in java while monitoring progress","body":"<p>Based on @joachim-sauer tipp I used Filechannel.</p>\n<pre><code>try {\n        // Open input and output file streams\n        FileInputStream inputFile = new FileInputStream(in);\n        FileOutputStream outputFile = new FileOutputStream(out);\n\n        // Get the channels for the input and output files\n        FileChannel inputChannel = inputFile.getChannel();\n        FileChannel outputChannel = outputFile.getChannel();\n\n        // Create a buffer to hold the data\n        ByteBuffer buffer = ByteBuffer.allocate(1024);\n        \n        double inputSize = (double) inputChannel.size();\n        \n        int counter =0;\n\n        // Read the data from the input file into the buffer\n        while (inputChannel.read(buffer) &gt; 0) {\n            // Flip the buffer to prepare for writing\n            buffer.flip();\n\n            // Write the data to the output file\n            outputChannel.write(buffer);\n            \n            // Clear the buffer to prepare for reading more data\n            buffer.clear();\n            counter ++;\n            if(counter == 1024) {\n                counter = 0;\n                System.out.println((double) outputChannel.size() / inputSize);\n            }\n        }\n\n        // Close the channels and streams\n        inputChannel.close();\n        outputChannel.close();\n        inputFile.close();\n        outputFile.close();\n\n        System.out.println(&quot;File copied successfully!&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Thanks</p>\n"}],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678777188,"creation_date":1678709063,"question_id":75721637,"body_markdown":"What is the best way to monitor the progress of a copying process in Java? Currently, I&#39;m using the following code:\r\n\r\ncurrently I use : \r\n\r\n    Files.copy(new File(source).toPath(), new File(target).toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\r\nI&#39;ve tried running a file size check on a parallel thread, but this sometimes locks the target file and other times shows the full size before the process finishes. Can anyone recommend a more reliable approach?\r\n\r\n\r\n    \tThread one = new Thread() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tSystem.out.println(&quot;Thread start&quot;);\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tFile sourceFile = new File(target);\r\n    //\t\t\t\t\t\tsourceFile.le\r\n    \t\t\t\t\t\tif (sourceFile.exists()) {\r\n    \t\t\t\t\t\t\tlong bytes = Files.size(sourceFile.toPath());\r\n    \t\t\t\t\t\t\tdouble length = sourceFile.length()*1.0;\r\n    //\t\t\t\t\t\t\tSystem.out.println(&quot;Size of &quot; + sourceFile.getName() + &quot;: &quot; + bytes + &quot; bytes&quot;);\r\n    \t\t\t\t\t\t\tSystem.out.println(1.0 * length / sourcebytes);\r\n    //\t\t\t\t\t\t\tif (sourcebytes == bytes) {\r\n    //\t\t\t\t\t\t\t\tSystem.out.println(&quot;Copy Done&quot;);\r\n    //\t\t\t\t\t\t\t\tbreak;\r\n    //\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Source file does not exist&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tThread.sleep(100); // sleep for 1 second\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tone.start();\r\n\r\n\r\nThis method doesnt work because its too slow:\r\n\r\n\r\n    File filein = new File(source);\r\n    \tFile fileout = new File(target);\r\n    \tFileInputStream fin = null;\r\n    \tFileOutputStream fout = null;\r\n    \tlong length = filein.length();\r\n    \tlong counter = 0;\r\n    \tint r = 0;\r\n    \tbyte[] b = new byte[1024];\r\n    \tint lastProgress = -1; // initialize with an impossible value\r\n    \ttry {\r\n    \t\tfin = new FileInputStream(filein);\r\n    \t\tfout = new FileOutputStream(fileout);\r\n    \t\twhile ((r = fin.read(b)) != -1) {\r\n    \t\t\tcounter += r;\r\n    \t\t\tif (counter % 1024 == 0) {\r\n    \t\t\t\tint progress = (int) Math.round((double) counter / length * 100);\r\n    \t\t\t\tif (progress &gt; lastProgress) { // print only if progress has changed\r\n    \t\t\t\t\tSystem.out.println(progress + &quot;%&quot;);\r\n    \t\t\t\t\tlastProgress = progress;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tfout.write(b, 0, r);\r\n    \t\t}\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(&quot;foo&quot;);\r\n    \t}","title":"Copy big files in java while monitoring progress","body":"<p>What is the best way to monitor the progress of a copying process in Java? Currently, I'm using the following code:</p>\n<p>currently I use :</p>\n<pre><code>Files.copy(new File(source).toPath(), new File(target).toPath(), StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n<p>I've tried running a file size check on a parallel thread, but this sometimes locks the target file and other times shows the full size before the process finishes. Can anyone recommend a more reliable approach?</p>\n<pre><code>    Thread one = new Thread() {\n            public void run() {\n                System.out.println(&quot;Thread start&quot;);\n                while (true) {\n                    try {\n                        File sourceFile = new File(target);\n//                      sourceFile.le\n                        if (sourceFile.exists()) {\n                            long bytes = Files.size(sourceFile.toPath());\n                            double length = sourceFile.length()*1.0;\n//                          System.out.println(&quot;Size of &quot; + sourceFile.getName() + &quot;: &quot; + bytes + &quot; bytes&quot;);\n                            System.out.println(1.0 * length / sourcebytes);\n//                          if (sourcebytes == bytes) {\n//                              System.out.println(&quot;Copy Done&quot;);\n//                              break;\n//                          }\n                        } else {\n                            System.out.println(&quot;Source file does not exist&quot;);\n                        }\n                        Thread.sleep(100); // sleep for 1 second\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        };\n\n        one.start();\n</code></pre>\n<p>This method doesnt work because its too slow:</p>\n<pre><code>File filein = new File(source);\n    File fileout = new File(target);\n    FileInputStream fin = null;\n    FileOutputStream fout = null;\n    long length = filein.length();\n    long counter = 0;\n    int r = 0;\n    byte[] b = new byte[1024];\n    int lastProgress = -1; // initialize with an impossible value\n    try {\n        fin = new FileInputStream(filein);\n        fout = new FileOutputStream(fileout);\n        while ((r = fin.read(b)) != -1) {\n            counter += r;\n            if (counter % 1024 == 0) {\n                int progress = (int) Math.round((double) counter / length * 100);\n                if (progress &gt; lastProgress) { // print only if progress has changed\n                    System.out.println(progress + &quot;%&quot;);\n                    lastProgress = progress;\n                }\n            }\n            fout.write(b, 0, r);\n        }\n    } catch (Exception e) {\n        System.out.println(&quot;foo&quot;);\n    }\n</code></pre>\n"},{"tags":["java","desktop-application"],"answers":[{"comments":[{"owner":{"account_id":1064443,"reputation":1462,"user_id":1065366,"accept_rate":56,"display_name":"Markus"},"score":0,"creation_date":1404133022,"post_id":15605819,"comment_id":37910921,"body_markdown":"No idea why you are not upvoted. This seems to be the only way to create shortcuts with java from code.","body":"No idea why you are not upvoted. This seems to be the only way to create shortcuts with java from code."},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":1,"creation_date":1476706408,"post_id":15605819,"comment_id":67444501,"body_markdown":"@Markus : i would have loved a counter of how many people has it helped , would mean a lot more than upvote here :)","body":"@Markus : i would have loved a counter of how many people has it helped , would mean a lot more than upvote here :)"}],"tags":[],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1678777148,"creation_date":1364170835,"answer_id":15605819,"question_id":15605715,"body_markdown":"    package farzi;\r\n\r\n    import net.jimmc.jshortcut.JShellLink;\r\n\r\n    public class Sc {\r\n\t    JShellLink link;\r\n\t    String filePath;\r\n\r\n\t    public Sc() {\r\n\t        try {\r\n                link = new JShellLink();\r\n                filePath = JShellLink.getDirectory(&quot;&quot;)\r\n\t\t\t\t\t+ &quot;C:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe&quot;;\r\n\r\n\t    \t} catch (Exception e) {\r\n\r\n            }\r\n\r\n        }\r\n\r\n    \tpublic void createDesktopShortcut() {\r\n\r\n            try {\r\n                link.setFolder(JShellLink.getDirectory(&quot;desktop&quot;));\r\n                link.setName(&quot;ie&quot;);\r\n                link.setPath(filePath);\r\n                link.save();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        public static void main(String a[]) {\r\n            Sc sc = new Sc();\r\n            sc.createDesktopShortcut();\r\n        }\r\n    }\r\n\r\nyou can get the jar from [here][1]\r\n\r\n\r\n  [1]: https://github.com/jimmc/jshortcut","title":"Create Desktop shortcut","body":"<pre><code>package farzi;\n\nimport net.jimmc.jshortcut.JShellLink;\n\npublic class Sc {\n    JShellLink link;\n    String filePath;\n\n    public Sc() {\n        try {\n            link = new JShellLink();\n            filePath = JShellLink.getDirectory(&quot;&quot;)\n                + &quot;C:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe&quot;;\n\n        } catch (Exception e) {\n\n        }\n\n    }\n\n    public void createDesktopShortcut() {\n\n        try {\n            link.setFolder(JShellLink.getDirectory(&quot;desktop&quot;));\n            link.setName(&quot;ie&quot;);\n            link.setPath(filePath);\n            link.save();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n    }\n\n    public static void main(String a[]) {\n        Sc sc = new Sc();\n        sc.createDesktopShortcut();\n    }\n}\n</code></pre>\n<p>you can get the jar from <a href=\"https://github.com/jimmc/jshortcut\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364171692,"creation_date":1364171692,"answer_id":15605928,"question_id":15605715,"body_markdown":"Java Web Start does this.  You write a regular application with a regular main method, and point to it with a short XML file with a .jnlp extension.  When the user clicks the link to the XML file, Java Web Start will, among other things, create the shortcut, if your XML file contains this:\r\n\r\n    &lt;information&gt;\r\n        &lt;!-- Other elements go here --&gt;\r\n        &lt;shortcut&gt;\r\n            &lt;desktop/&gt;\r\n        &lt;/shortcut&gt;\r\n    &lt;/information&gt;\r\n\r\nMore details are [here](http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/syntax.html).\r\n","title":"Create Desktop shortcut","body":"<p>Java Web Start does this.  You write a regular application with a regular main method, and point to it with a short XML file with a .jnlp extension.  When the user clicks the link to the XML file, Java Web Start will, among other things, create the shortcut, if your XML file contains this:</p>\n\n<pre><code>&lt;information&gt;\n    &lt;!-- Other elements go here --&gt;\n    &lt;shortcut&gt;\n        &lt;desktop/&gt;\n    &lt;/shortcut&gt;\n&lt;/information&gt;\n</code></pre>\n\n<p>More details are <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/syntax.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13192700,"reputation":29,"user_id":9528550,"display_name":"JTechnau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530627343,"creation_date":1530627343,"answer_id":51156862,"question_id":15605715,"body_markdown":"This is a fairly old topic, nevertheless I came across Austin`s brilliant answer and encountered some problems using jshortcut from within NetBeans, but I fear this might also affect Ecclipse.\r\n\r\n1. Adding jshortcut.dll to java.library.path from wihtin NetBeans using properties-&gt;Run-&gt;VM options did not work.\r\n2. Adding this dll by source code like &quot;*System.setProperty(&quot;java.library.path&quot;, yourDllPath)&quot;* does not work either.\r\n3. Instead put jshortcut.dll to that particular folder where you store your jar`s for this project. JShellLink looks at this folder on its own, so you don`t need to add the DLL`s path to any path, which could cause trouble when running on some closed-down machines.\r\n4. Most Important: When downloading your jshortcut.dll- Version, use AMD for all actual Intel machines. Rename the dll to shortcut.dll after downloading. JShellLink only looks for shortcut.dll, it ignores all other names.\r\n\r\nExcert form jShellLink:\r\n/** Provide access to shortcuts (shell links) from Java.\r\n *\r\n * The native library (jshortcut.dll) is loaded when JShellLink is first\r\n * loaded.\r\n * By default, JShellLink first looks for the native library in the PATH,\r\n * using System.loadLibrary.\r\n * If the native library is not found in the PATH,\r\n * JShellLink then looks through each directory in the CLASSPATH\r\n * (as determined by the value of the system property java.class.path).\r\n * If an entry in the CLASSPATH is a jar file,\r\n * then JShellLink looks for the native library\r\n * in the directory containing that jar file.\r\n * The application can override this behavior and force JShellLink to look\r\n * for the native library in a specific directory by setting the system\r\n * property JSHORTCUT_HOME to point to that directory.\r\n * This property must be set before the JShellLink class is loaded.\r\n * This makes it possible to use this library from a self-extracting jar file.\r\n */","title":"Create Desktop shortcut","body":"<p>This is a fairly old topic, nevertheless I came across Austin`s brilliant answer and encountered some problems using jshortcut from within NetBeans, but I fear this might also affect Ecclipse.</p>\n\n<ol>\n<li>Adding jshortcut.dll to java.library.path from wihtin NetBeans using properties->Run->VM options did not work.</li>\n<li>Adding this dll by source code like \"<em>System.setProperty(\"java.library.path\", yourDllPath)\"</em> does not work either.</li>\n<li>Instead put jshortcut.dll to that particular folder where you store your jar<code>s for this project. JShellLink looks at this folder on its own, so you don</code>t need to add the DLL`s path to any path, which could cause trouble when running on some closed-down machines.</li>\n<li>Most Important: When downloading your jshortcut.dll- Version, use AMD for all actual Intel machines. Rename the dll to shortcut.dll after downloading. JShellLink only looks for shortcut.dll, it ignores all other names.</li>\n</ol>\n\n<p>Excert form jShellLink:\n/** Provide access to shortcuts (shell links) from Java.\n *\n * The native library (jshortcut.dll) is loaded when JShellLink is first\n * loaded.\n * By default, JShellLink first looks for the native library in the PATH,\n * using System.loadLibrary.\n * If the native library is not found in the PATH,\n * JShellLink then looks through each directory in the CLASSPATH\n * (as determined by the value of the system property java.class.path).\n * If an entry in the CLASSPATH is a jar file,\n * then JShellLink looks for the native library\n * in the directory containing that jar file.\n * The application can override this behavior and force JShellLink to look\n * for the native library in a specific directory by setting the system\n * property JSHORTCUT_HOME to point to that directory.\n * This property must be set before the JShellLink class is loaded.\n * This makes it possible to use this library from a self-extracting jar file.\n */</p>\n"}],"owner":{"account_id":2470507,"reputation":607,"user_id":2152506,"accept_rate":27,"display_name":"geek_guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8264,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1678777148,"creation_date":1364170042,"question_id":15605715,"body_markdown":"I am working on a java application. \r\n\r\nI want to create desktop shortcut of my application&#39;s Exe file. \r\n\r\nIs is possible to do it from my application itself ? Or user has to do it manually by right clicking ? ","title":"Create Desktop shortcut","body":"<p>I am working on a java application. </p>\n\n<p>I want to create desktop shortcut of my application's Exe file. </p>\n\n<p>Is is possible to do it from my application itself ? Or user has to do it manually by right clicking ? </p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1644149797,"post_id":71006997,"comment_id":125524161,"body_markdown":"are data types equal as well? numeric types can look the same when printing but be different, or they can be boxed/unboxed","body":"are data types equal as well? numeric types can look the same when printing but be different, or they can be boxed/unboxed"},{"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"score":0,"creation_date":1644149994,"post_id":71006997,"comment_id":125524198,"body_markdown":"String params are converted in controller to relevant types.","body":"String params are converted in controller to relevant types."}],"answers":[{"comments":[{"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"score":0,"creation_date":1644151174,"post_id":71007104,"comment_id":125524446,"body_markdown":"Changed to verify(logMessageService).getLogMessages(eq(TRACE_ID), eq(MAPPED_ID), eq(slice), eq(serviceLimit), any(Date.class),\n                any(Date.class));","body":"Changed to verify(logMessageService).getLogMessages(eq(TRACE_ID), eq(MAPPED_ID), eq(slice), eq(serviceLimit), any(Date.class),                 any(Date.class));"},{"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"score":0,"creation_date":1644151721,"post_id":71007104,"comment_id":125524531,"body_markdown":"1644151627801 in test vs 1644151627000 on service call","body":"1644151627801 in test vs 1644151627000 on service call"},{"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"score":0,"creation_date":1644160709,"post_id":71007104,"comment_id":125526736,"body_markdown":"Now i figured it out i passed time without millis so on conversion in controller i have 000 jn the end of Long representation.","body":"Now i figured it out i passed time without millis so on conversion in controller i have 000 jn the end of Long representation."}],"tags":[],"owner":{"account_id":16418146,"reputation":211,"user_id":11860080,"display_name":"Polygorial"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644273484,"creation_date":1644150280,"answer_id":71007104,"question_id":71006997,"body_markdown":"From the test:\r\n\r\n    Date startFrom = new Date();\r\n\r\nThese values are parsed to a String:\r\n\r\n    params.put(&quot;startFrom&quot;, Collections.singletonList(startFrom.toString()));\r\n\r\nBut when verifying it&#39;s not the String representation that&#39;s validated:\r\n\r\n    verify(logMessageService).getLogMessages(..., eq(startFrom), ...);\r\n\r\nI could tell you the problem with this. But as an exercise to learn how Date works I suggest you compare the startFrom.getTime() from the variable created in the test, and the call to logMessageService.getLogMessages(...)\r\n\r\nEdit to add an explanation of the problem\r\n\r\nThe Date is represented as a 64 bit integer internally, down to millisecond. That&#39;s what&#39;s used when the equals-method is called. When the toString method is called it&#39;s converted to a human readable format, and by default loses the millisecond bit. When it&#39;s converted back to a Date in the controller it&#39;s with zeros as the milliseconds. Which is verified against the Date with milliseconds.","title":"Mockito verify &#39;arguments are different&#39;, while they are identical","body":"<p>From the test:</p>\n<pre><code>Date startFrom = new Date();\n</code></pre>\n<p>These values are parsed to a String:</p>\n<pre><code>params.put(&quot;startFrom&quot;, Collections.singletonList(startFrom.toString()));\n</code></pre>\n<p>But when verifying it's not the String representation that's validated:</p>\n<pre><code>verify(logMessageService).getLogMessages(..., eq(startFrom), ...);\n</code></pre>\n<p>I could tell you the problem with this. But as an exercise to learn how Date works I suggest you compare the startFrom.getTime() from the variable created in the test, and the call to logMessageService.getLogMessages(...)</p>\n<p>Edit to add an explanation of the problem</p>\n<p>The Date is represented as a 64 bit integer internally, down to millisecond. That's what's used when the equals-method is called. When the toString method is called it's converted to a human readable format, and by default loses the millisecond bit. When it's converted back to a Date in the controller it's with zeros as the milliseconds. Which is verified against the Date with milliseconds.</p>\n"}],"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71007104,"answer_count":1,"score":1,"last_activity_date":1678777079,"creation_date":1644149439,"question_id":71006997,"body_markdown":"I am testing spring RestController. I use several prams to call controller. The call is successful and i got expected response. But Mockito is not able to verify mock call of service. Why?:\r\n```\r\n...\r\n    private static final String TRACE_ID = &quot;1&quot;;\r\n    private static final String MAPPED_ID = &quot;2&quot;;\r\n...\r\n\r\n\r\n    @Test\r\n    void getLogMessages() throws Exception {\r\n        LogMessageDto dto = easyRandom.nextObject(LogMessageDto.class);\r\n        Integer slice = 0;\r\n        Integer limit = 60;\r\n        Integer serviceLimit = 50;\r\n        Date startFrom = new Date();\r\n        Date startTo = new Date();\r\n        MultiValueMap&lt;String, String &gt; params = new LinkedMultiValueMap&lt;&gt;();\r\n        params.put(&quot;traceId&quot;, Collections.singletonList(TRACE_ID));\r\n        params.put(&quot;mappedId&quot;, Collections.singletonList(MAPPED_ID));\r\n        params.put(&quot;slice&quot;, Collections.singletonList(slice.toString()));\r\n        params.put(&quot;limit&quot;, Collections.singletonList(limit.toString()));\r\n        params.put(&quot;startFrom&quot;, Collections.singletonList(startFrom.toString()));\r\n        params.put(&quot;startTo&quot;, Collections.singletonList(startTo.toString()));\r\n        Mockito.when(logMessageService.getLogMessages(anyString(), anyString(), anyInt(), anyInt(), any(Date.class),\r\n                        any(Date.class)))\r\n                .thenReturn(new PageImpl&lt;&gt;(Collections.singletonList(dto)));\r\n        mockMvc.perform(get(&quot;/feed-logs-service/messages&quot;)\r\n                        .queryParams(params))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.content[0].content&quot;, equalTo(asParsedJson(dto.getContent()))))\r\n                .andExpect(jsonPath(&quot;$.content[0].fields&quot;, equalTo(asParsedJson(dto.getFields()))));\r\n        verify(logMessageService).getLogMessages(eq(TRACE_ID), eq(MAPPED_ID), eq(slice), eq(serviceLimit), eq(startFrom),\r\n                eq(startTo));\r\n        verifyNoMoreInteractions(logMessageService);\r\n    }\r\n```\r\nthe test execution results in:\r\n```\r\nArgument(s) are different! Wanted:\r\nservice.LogMessageService#0 bean.getLogMessages(\r\n    &quot;1&quot;,\r\n    &quot;2&quot;,\r\n    0,\r\n    50,\r\n    Sun Feb 06 14:52:13 MSK 2022,\r\n    Sun Feb 06 14:52:13 MSK 2022\r\n);\r\n-&gt; at controller.LogMessageControllerTest.getLogMessages(LogMessageControllerTest.java:97)\r\nActual invocations have different arguments:\r\nservice.LogMessageService#0 bean.getLogMessages(\r\n    &quot;1&quot;,\r\n    &quot;2&quot;,\r\n    0,\r\n    50,\r\n    Sun Feb 06 14:52:13 MSK 2022,\r\n    Sun Feb 06 14:52:13 MSK 2022\r\n);\r\n```\r\nintellij idea shows additional empty line when i click &#39;Click to see difference&#39; link, is it the reason?, and how to pass trough? Thanks for any suggestions.\r\n\r\nEDIT:\r\ncontroller method:\r\n```\r\n    @GetMapping(&quot;/messages&quot;)\r\n    public Page&lt;LogMessageDto&gt; getLogMessages(@RequestParam String traceId, @RequestParam String mappedId,\r\n            @RequestParam(required = false) Integer slice,\r\n            @RequestParam(required = false, defaultValue = SIZE_LIMIT) Integer limit,\r\n            @RequestParam(required = false) @DateTimeFormat(pattern = &quot;EEE MMM dd HH:mm:ss ZZZ yyyy&quot;) Date startFrom,\r\n            @RequestParam(required = false) @DateTimeFormat(pattern = &quot;EEE MMM dd HH:mm:ss ZZZ yyyy&quot;) Date startTo) {\r\n        limit = checkLimit(limit);\r\n        return logMessageService.getLogMessages(traceId, mappedId, slice, limit, startFrom, startTo);\r\n    }\r\n```","title":"Mockito verify &#39;arguments are different&#39;, while they are identical","body":"<p>I am testing spring RestController. I use several prams to call controller. The call is successful and i got expected response. But Mockito is not able to verify mock call of service. Why?:</p>\n<pre><code>...\n    private static final String TRACE_ID = &quot;1&quot;;\n    private static final String MAPPED_ID = &quot;2&quot;;\n...\n\n\n    @Test\n    void getLogMessages() throws Exception {\n        LogMessageDto dto = easyRandom.nextObject(LogMessageDto.class);\n        Integer slice = 0;\n        Integer limit = 60;\n        Integer serviceLimit = 50;\n        Date startFrom = new Date();\n        Date startTo = new Date();\n        MultiValueMap&lt;String, String &gt; params = new LinkedMultiValueMap&lt;&gt;();\n        params.put(&quot;traceId&quot;, Collections.singletonList(TRACE_ID));\n        params.put(&quot;mappedId&quot;, Collections.singletonList(MAPPED_ID));\n        params.put(&quot;slice&quot;, Collections.singletonList(slice.toString()));\n        params.put(&quot;limit&quot;, Collections.singletonList(limit.toString()));\n        params.put(&quot;startFrom&quot;, Collections.singletonList(startFrom.toString()));\n        params.put(&quot;startTo&quot;, Collections.singletonList(startTo.toString()));\n        Mockito.when(logMessageService.getLogMessages(anyString(), anyString(), anyInt(), anyInt(), any(Date.class),\n                        any(Date.class)))\n                .thenReturn(new PageImpl&lt;&gt;(Collections.singletonList(dto)));\n        mockMvc.perform(get(&quot;/feed-logs-service/messages&quot;)\n                        .queryParams(params))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.content[0].content&quot;, equalTo(asParsedJson(dto.getContent()))))\n                .andExpect(jsonPath(&quot;$.content[0].fields&quot;, equalTo(asParsedJson(dto.getFields()))));\n        verify(logMessageService).getLogMessages(eq(TRACE_ID), eq(MAPPED_ID), eq(slice), eq(serviceLimit), eq(startFrom),\n                eq(startTo));\n        verifyNoMoreInteractions(logMessageService);\n    }\n</code></pre>\n<p>the test execution results in:</p>\n<pre><code>Argument(s) are different! Wanted:\nservice.LogMessageService#0 bean.getLogMessages(\n    &quot;1&quot;,\n    &quot;2&quot;,\n    0,\n    50,\n    Sun Feb 06 14:52:13 MSK 2022,\n    Sun Feb 06 14:52:13 MSK 2022\n);\n-&gt; at controller.LogMessageControllerTest.getLogMessages(LogMessageControllerTest.java:97)\nActual invocations have different arguments:\nservice.LogMessageService#0 bean.getLogMessages(\n    &quot;1&quot;,\n    &quot;2&quot;,\n    0,\n    50,\n    Sun Feb 06 14:52:13 MSK 2022,\n    Sun Feb 06 14:52:13 MSK 2022\n);\n</code></pre>\n<p>intellij idea shows additional empty line when i click 'Click to see difference' link, is it the reason?, and how to pass trough? Thanks for any suggestions.</p>\n<p>EDIT:\ncontroller method:</p>\n<pre><code>    @GetMapping(&quot;/messages&quot;)\n    public Page&lt;LogMessageDto&gt; getLogMessages(@RequestParam String traceId, @RequestParam String mappedId,\n            @RequestParam(required = false) Integer slice,\n            @RequestParam(required = false, defaultValue = SIZE_LIMIT) Integer limit,\n            @RequestParam(required = false) @DateTimeFormat(pattern = &quot;EEE MMM dd HH:mm:ss ZZZ yyyy&quot;) Date startFrom,\n            @RequestParam(required = false) @DateTimeFormat(pattern = &quot;EEE MMM dd HH:mm:ss ZZZ yyyy&quot;) Date startTo) {\n        limit = checkLimit(limit);\n        return logMessageService.getLogMessages(traceId, mappedId, slice, limit, startFrom, startTo);\n    }\n</code></pre>\n"},{"tags":["javascript","java","google-app-engine","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1482180000,"post_id":41220348,"comment_id":69660557,"body_markdown":"There is a Google example which uses the Google Cloud Storage JavaScript client library. It uploads a file to Cloud Storage through JavaScript, so it is not using through AppEngine, but you can call an AppEngine servlet as soon as a file is uploaded to Cloud Storage. Actually I don&#39;t find the example anymore on the internet... but it works very well and I could post it here if you are interested.","body":"There is a Google example which uses the Google Cloud Storage JavaScript client library. It uploads a file to Cloud Storage through JavaScript, so it is not using through AppEngine, but you can call an AppEngine servlet as soon as a file is uploaded to Cloud Storage. Actually I don&#39;t find the example anymore on the internet... but it works very well and I could post it here if you are interested."},{"owner":{"account_id":2731229,"reputation":89,"user_id":2354982,"display_name":"user2354982"},"score":0,"creation_date":1482183450,"post_id":41220348,"comment_id":69662224,"body_markdown":"yes, I am interested","body":"yes, I am interested"},{"owner":{"account_id":6926133,"reputation":1686,"user_id":5317173,"display_name":"Nicholas"},"score":0,"creation_date":1483990751,"post_id":41220348,"comment_id":70316463,"body_markdown":"Have you reviewed the article [Reading and Writing to Cloud Storage](https://cloud.google.com/appengine/docs/java/googlecloudstorageclient/read-write-to-cloud-storage#writing_to_cloud_storage)?  It provides a simple example and link to working [Github servlet file](https://github.com/GoogleCloudPlatform/appengine-gcs-client/blob/master/java/example/src/main/java/com/google/appengine/demos/GcsExampleServlet.java).  I would suggest trying that out first and report and seeking answers on Stack Overflow with specific errors and challenges rather than a general ***How to***.","body":"Have you reviewed the article <a href=\"https://cloud.google.com/appengine/docs/java/googlecloudstorageclient/read-write-to-cloud-storage#writing_to_cloud_storage\" rel=\"nofollow noreferrer\">Reading and Writing to Cloud Storage</a>?  It provides a simple example and link to working <a href=\"https://github.com/GoogleCloudPlatform/appengine-gcs-client/blob/master/java/example/src/main/java/com/google/appengine/demos/GcsExampleServlet.java\" rel=\"nofollow noreferrer\">Github servlet file</a>.  I would suggest trying that out first and report and seeking answers on Stack Overflow with specific errors and challenges rather than a general <b><i>How to</i></b>."}],"answers":[{"comments":[{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1482253777,"post_id":41246461,"comment_id":69695435,"body_markdown":"I&#39;ve found back the example on the web:https://github.com/googlearchive/storage-getting-started-javascript","body":"I&#39;ve found back the example on the web:<a href=\"https://github.com/googlearchive/storage-getting-started-javascript\" rel=\"nofollow noreferrer\">github.com/googlearchive/storage-getting-started-javascr&zwnj;&#8203;ipt</a>"},{"owner":{"account_id":2731229,"reputation":89,"user_id":2354982,"display_name":"user2354982"},"score":0,"creation_date":1482787032,"post_id":41246461,"comment_id":69875294,"body_markdown":"but what about the server side (java) ? I want only upload file to servlet and upload the file from servlet to GCS","body":"but what about the server side (java) ? I want only upload file to servlet and upload the file from servlet to GCS"},{"owner":{"account_id":5359133,"reputation":3581,"user_id":4270992,"display_name":"Nick"},"score":0,"creation_date":1493758558,"post_id":41246461,"comment_id":74537227,"body_markdown":"You need to check the documentation and code samples, as there are many places you can find examples of interacting with cloud storage, from client-side or server-side.","body":"You need to check the documentation and code samples, as there are many places you can find examples of interacting with cloud storage, from client-side or server-side."},{"owner":{"account_id":5359133,"reputation":3581,"user_id":4270992,"display_name":"Nick"},"score":0,"creation_date":1493758590,"post_id":41246461,"comment_id":74537241,"body_markdown":"If you transfer the binary file data to a java servlet via a normal file upload, you can connect to cloud storage from Java and write the file data to Storage.","body":"If you transfer the binary file data to a java servlet via a normal file upload, you can connect to cloud storage from Java and write the file data to Storage."},{"owner":{"account_id":2731229,"reputation":89,"user_id":2354982,"display_name":"user2354982"},"score":0,"creation_date":1495041371,"post_id":41246461,"comment_id":75088700,"body_markdown":"but there is one problem. when I run your code the user need to authorize. what I need to skeep it, and let the user upload images ?","body":"but there is one problem. when I run your code the user need to authorize. what I need to skeep it, and let the user upload images ?"},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1495055486,"post_id":41246461,"comment_id":75096334,"body_markdown":"@user2354982 When you say &quot;when I run your code&quot;, which code are you referring to? The one Nick advised or the one from my answer of Dec 20 &#39;16 at 16:01??","body":"@user2354982 When you say &quot;when I run your code&quot;, which code are you referring to? The one Nick advised or the one from my answer of Dec 20 &#39;16 at 16:01??"},{"owner":{"account_id":2731229,"reputation":89,"user_id":2354982,"display_name":"user2354982"},"score":0,"creation_date":1495390910,"post_id":41246461,"comment_id":75220958,"body_markdown":"the one from Dec 20 &#39;16","body":"the one from Dec 20 &#39;16"},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1496320588,"post_id":41246461,"comment_id":75620597,"body_markdown":"@user2354982 Not sure to understand what problem you have: do you want to authorize the users or you don&#39;t want?? If you want, as I said &quot;you can secure the upload with authentication via google accounts (https://developers.google.com/api-client-library/javascript/start/start-js)&quot;. If you don&#39;t want, just de-activate this part.","body":"@user2354982 Not sure to understand what problem you have: do you want to authorize the users or you don&#39;t want?? If you want, as I said &quot;you can secure the upload with authentication via google accounts (<a href=\"https://developers.google.com/api-client-library/javascript/start/start-js\" rel=\"nofollow noreferrer\">developers.google.com/api-client-library/javascript/start/&hellip;</a>&zwnj;&#8203;)&quot;. If you don&#39;t want, just de-activate this part."},{"owner":{"account_id":2731229,"reputation":89,"user_id":2354982,"display_name":"user2354982"},"score":0,"creation_date":1496593671,"post_id":41246461,"comment_id":75714547,"body_markdown":"whta I need is this: upload image from my website to google cloud storage without the need to authorize. There is a full example how to do it ?","body":"whta I need is this: upload image from my website to google cloud storage without the need to authorize. There is a full example how to do it ?"},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1496598014,"post_id":41246461,"comment_id":75715938,"body_markdown":"My answer does exactly that... Did you try it? Did you study it? Like I told you, you can remove the authentication part from the google example, it is easy. You just have to take the time to &quot;dive into the code&quot;.","body":"My answer does exactly that... Did you try it? Did you study it? Like I told you, you can remove the authentication part from the google example, it is easy. You just have to take the time to &quot;dive into the code&quot;."}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482253619,"creation_date":1482249671,"answer_id":41246461,"question_id":41220348,"body_markdown":"Below is a code example from Google for interacting with the Cloud Storage in Java Script. It does much more than uploading, i.e. you can download, create new bucket, etc. Below I&#39;ve added the function I use to upload which is derived from this example.\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head lang=&quot;en&quot;&gt;\r\n        &lt;meta charset=&#39;utf-8&#39; /&gt;\r\n        &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://apis.google.com/js/client.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            /**\r\n             * The Project ID of your Google Cloud Storage Project.\r\n             */\r\n            var PROJECT = &#39;abcd&#39;;\r\n            /**\r\n             * Enter a client ID for a web application from the Google Developers\r\n             * Console on the &quot;APIs &amp; auth&quot;, &quot;Credentials&quot; page.\r\n             * In your Developers Console project add a JavaScript origin\r\n             * that corresponds to the domain from where you will be running the\r\n             * script. For more info see:\r\n             * https://developers.google.com/console/help/new/#generatingoauth2\r\n             */\r\n            var clientId = &#39;701111116470-55bj2lkjlkkjkljhe97di22gus5hs3.apps.googleusercontent.com&#39;;\r\n            /**\r\n             * Enter the API key from the Google Developers Console, by following these\r\n             * steps:\r\n             * 1) Visit https://cloud.google.com/console and select your project\r\n             * 2) Click on &quot;APIs &amp; auth&quot; in the left column and then click “Credentials”\r\n             * 3) Find section &quot;Public API Access&quot; and use the &quot;API key.&quot; If sample is\r\n             * being run on localhost then delete all &quot;Referers&quot; and save. Setting\r\n             * should display &quot;Any referer allowed.&quot; For more info see:\r\n             * https://developers.google.com/console/help/new/#generatingdevkeys\r\n             */\r\n            var apiKey = &#39;JHJhhguy8786875hghgjbS0nYjcMY&#39;;\r\n            /**\r\n             * To enter one or more authentication scopes, refer to the documentation\r\n             * for the API.\r\n             */\r\n            var scopes = &#39;https://www.googleapis.com/auth/devstorage.full_control&#39;;\r\n            /**\r\n             * Constants for request parameters. Fill these values in with your custom\r\n             * information.\r\n             */\r\n            var API_VERSION = &#39;v1&#39;;\r\n            /**\r\n             * Enter a unique bucket name to create a new bucket. The guidelines for\r\n             * bucket naming can be found here:\r\n             * https://developers.google.com/storage/docs/bucketnaming\r\n             */\r\n            //var BUCKET = &#39;code-sample-bucket-&#39; + Date.now();\r\n            var BUCKET = &#39;testbucket&#39;;\r\n            /**\r\n             * The name of the object inserted via insertObject method.\r\n             */\r\n            var object = &quot;&quot;;\r\n            /**\r\n             * Get this value from the Developers Console. Click on the\r\n             * “Cloud Storage” service in the Left column and then select\r\n             * “Project Dashboard”. Use one of the Google Cloud Storage group IDs\r\n             * listed and combine with the prefix “group-” to get a string\r\n             * like the example below.\r\n             */\r\n            var GROUP =\r\n                    &#39;group-kjhHJKHJKH897897878jgjghg8728f21c3ff22597efbfc63ccdb8f2294d8fd2561cb9&#39;;\r\n            /**\r\n             * Valid values are user-userId, user-email, group-groupId, group-email,\r\n             * allUsers, allAuthenticatedUsers\r\n             */\r\n            var ENTITY = &#39;allUsers&#39;;\r\n            /**\r\n             * Valid values are READER, OWNER\r\n             */\r\n            var ROLE = &#39;READER&#39;;\r\n            /**\r\n             * Valid values are READER, OWNER\r\n             */\r\n            var ROLE_OBJECT = &#39;READER&#39;;\r\n            /**\r\n             * A list of example calls to the Google Cloud Storage JavaScript client\r\n             * library, as well as associated explanations of each call.\r\n             */\r\n            var listApiRequestExplanations = {\r\n                &#39;listBuckets&#39;: &#39;This API call queries the Google Cloud Storage API &#39; +\r\n                &#39;for a list of buckets in your project, and returns the result as &#39; +\r\n                &#39;a list of Google Cloud Storage buckets.&#39;,\r\n                &#39;listObjects&#39;: &#39;This API call queries the Google Cloud Storage API &#39; +\r\n                &#39;for a list of objects in your bucket, and returns the result as &#39; +\r\n                &#39;a list of Google Cloud Storage objects.&#39;,\r\n                &#39;listBucketsAccessControls&#39;: &#39;This API call queries the Google Cloud &#39; +\r\n                &#39;Storage API for the list of access control lists on buckets in your &#39; +\r\n                &#39;project and returns the result as a list of Google Cloud Storage &#39; +\r\n                &#39;Access Control Lists.&#39;,\r\n                &#39;listObjectsAccessControls&#39;: &#39;This API call queries the Google Cloud &#39; +\r\n                &#39;Storage API for the list of access control lists on objects in your &#39; +\r\n                &#39;bucket and returns the result as a list of Google Cloud Storage &#39; +\r\n                &#39;Access Control Lists.&#39;,\r\n                &#39;getBucket&#39;: &#39;This API call queries the Google Cloud Storage API &#39; +\r\n                &#39;for a bucket in your project, and returns the result as a &#39; +\r\n                &#39;Google Cloud Storage bucket.&#39;,\r\n                &#39;getBucketAccessControls&#39;: &#39;This API call queries the Google Cloud &#39; +\r\n                &#39;Storage API for the access control list on a specific bucket &#39; +\r\n                &#39;and returns the result as a Google Cloud Storage Access Control List.&#39;,\r\n                &#39;getObjectAccessControls&#39;: &#39;This API call queries the Google Cloud &#39; +\r\n                &#39;Storage API for the access control list on a specific object &#39; +\r\n                &#39;and returns the result as a Google Cloud Storage Access Control List.&#39;,\r\n                &#39;insertBucket&#39;: &#39;This API call uses the Google Cloud Storage API &#39; +\r\n                &#39;to insert a bucket into your project.&#39;,\r\n                &#39;insertObject&#39;: &#39;This API call uses the Google Cloud Storage API &#39; +\r\n                &#39;to insert an object into your bucket.&#39;,\r\n                &#39;insertBucketAccessControls&#39;: &#39;This API uses the Google Cloud &#39; +\r\n                &#39;Storage API to insert an access control list on a specific bucket &#39; +\r\n                &#39;and returns the result as a Google Cloud Storage Access Control List.&#39;,\r\n                &#39;insertObjectAccessControls&#39;: &#39;This API uses the Google Cloud &#39; +\r\n                &#39;Storage API to insert an access control list on a specific object &#39; +\r\n                &#39;and returns the result as a Google Cloud Storage Access Control List.&#39;,\r\n                &#39;deleteBucket&#39;: &#39;This API uses the Google Cloud Storage API to delete &#39; +\r\n                &#39;an empty bucket and returns an empty response to indicate success.&#39;,\r\n                &#39;deleteObject&#39;: &#39;This API uses the Google Cloud Storage API to delete &#39; +\r\n                &#39;an object and returns an empty response to indicate success.&#39;\r\n            };\r\n            /**\r\n             * Google Cloud Storage API request to retrieve the list of buckets in\r\n             * your Google Cloud Storage project.\r\n             */\r\n            function listBuckets() {\r\n                var request = gapi.client.storage.buckets.list({\r\n                    &#39;project&#39;: PROJECT\r\n                });\r\n                executeRequest(request, &#39;listBuckets&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to retrieve the list of objects in\r\n             * your Google Cloud Storage project.\r\n             */\r\n            function listObjects() {\r\n                var request = gapi.client.storage.objects.list({\r\n                    &#39;bucket&#39;: BUCKET\r\n                });\r\n                executeRequest(request, &#39;listObjects&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to retrieve the access control list on\r\n             * a bucket in your Google Cloud Storage project.\r\n             */\r\n            function listBucketsAccessControls() {\r\n                var request = gapi.client.storage.bucketAccessControls.list({\r\n                    &#39;bucket&#39;: BUCKET\r\n                });\r\n                executeRequest(request, &#39;listBucketsAccessControls&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to retrieve the access control list on\r\n             * an object in your Google Cloud Storage project.\r\n             */\r\n            function listObjectsAccessControls() {\r\n                var request = gapi.client.storage.objectAccessControls.list({\r\n                    &#39;bucket&#39;: BUCKET,\r\n                    &#39;object&#39;: object\r\n                });\r\n                executeRequest(request, &#39;listObjectsAccessControls&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to retrieve a bucket in\r\n             * your Google Cloud Storage project.\r\n             */\r\n            function getBucket() {\r\n                var request = gapi.client.storage.buckets.get({\r\n                    &#39;bucket&#39;: BUCKET\r\n                });\r\n                executeRequest(request, &#39;getBucket&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to retrieve a bucket&#39;s Access Control\r\n             * List in your Google Cloud Storage project.\r\n             */\r\n            function getBucketAccessControls() {\r\n                var request = gapi.client.storage.bucketAccessControls.get({\r\n                    &#39;bucket&#39;: BUCKET,\r\n                    &#39;entity&#39;: GROUP\r\n                });\r\n                executeRequest(request, &#39;getBucketAccessControls&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to retrieve an object&#39;s Access Control\r\n             * List in your Google Cloud Storage project.\r\n             */\r\n            function getObjectAccessControls() {\r\n                var request = gapi.client.storage.objectAccessControls.get({\r\n                    &#39;bucket&#39;: BUCKET,\r\n                    &#39;object&#39;: object,\r\n                    &#39;entity&#39;: GROUP\r\n                });\r\n                executeRequest(request, &#39;getObjectAccessControls&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to insert a bucket into\r\n             * your Google Cloud Storage project.\r\n             */\r\n            function insertBucket() {\r\n                resource = {\r\n                    &#39;name&#39;: BUCKET\r\n                };\r\n                var request = gapi.client.storage.buckets.insert({\r\n                    &#39;project&#39;: PROJECT,\r\n                    &#39;resource&#39;: resource\r\n                });\r\n                executeRequest(request, &#39;insertBucket&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to insert an object into\r\n             * your Google Cloud Storage bucket.\r\n             */\r\n            function insertObject(event) {\r\n                try{\r\n                    var fileData = event.target.files[0];\r\n                }\r\n                catch(e) {\r\n                    //&#39;Insert Object&#39; selected from the API Commands select list\r\n                    //Display insert object button and then exit function\r\n                    filePicker.style.display = &#39;block&#39;;\r\n                    return;\r\n                }\r\n                const boundary = &#39;-------314159265358979323846&#39;;\r\n                const delimiter = &quot;\\r\\n--&quot; + boundary + &quot;\\r\\n&quot;;\r\n                const close_delim = &quot;\\r\\n--&quot; + boundary + &quot;--&quot;;\r\n                var reader = new FileReader();\r\n                reader.readAsBinaryString(fileData);\r\n                reader.onload = function(e) {\r\n                    var contentType = fileData.type || &#39;application/octet-stream&#39;;\r\n                    var metadata = {\r\n                        &#39;name&#39;: fileData.name,\r\n                        &#39;mimeType&#39;: contentType\r\n                    };\r\n                    var base64Data = btoa(reader.result);\r\n                    var multipartRequestBody =\r\n                            delimiter +\r\n                            &#39;Content-Type: application/json\\r\\n\\r\\n&#39; +\r\n                            JSON.stringify(metadata) +\r\n                            delimiter +\r\n                            &#39;Content-Type: &#39; + contentType + &#39;\\r\\n&#39; +\r\n                            &#39;Content-Transfer-Encoding: base64\\r\\n&#39; +\r\n                            &#39;\\r\\n&#39; +\r\n                            base64Data +\r\n                            close_delim;\r\n                    //Note: gapi.client.storage.objects.insert() can only insert\r\n                    //small objects (under 64k) so to support larger file sizes\r\n                    //we&#39;re using the generic HTTP request method gapi.client.request()\r\n                    var request = gapi.client.request({\r\n                        &#39;path&#39;: &#39;/upload/storage/&#39; + API_VERSION + &#39;/b/&#39; + BUCKET + &#39;/o&#39;,\r\n                        &#39;method&#39;: &#39;POST&#39;,\r\n                        &#39;params&#39;: {&#39;uploadType&#39;: &#39;multipart&#39;},\r\n                        &#39;headers&#39;: {\r\n                            &#39;Content-Type&#39;: &#39;multipart/mixed; boundary=&quot;&#39; + boundary + &#39;&quot;&#39;\r\n                        },\r\n                        &#39;body&#39;: multipartRequestBody});\r\n                    //Remove the current API result entry in the main-content div\r\n                    listChildren = document.getElementById(&#39;main-content&#39;).childNodes;\r\n                    if (listChildren.length &gt; 1) {\r\n                        listChildren[1].parentNode.removeChild(listChildren[1]);\r\n                    }\r\n                    try{\r\n                        //Execute the insert object request\r\n                        executeRequest(request, &#39;insertObject&#39;);\r\n                        //Store the name of the inserted object\r\n                        object = fileData.name;\r\n                    }\r\n                    catch(e) {\r\n                        alert(&#39;An error has occurred: &#39; + e.message);\r\n                    }\r\n                }\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to insert an Access Control List into\r\n             * your Google Cloud Storage bucket.\r\n             */\r\n            function insertBucketAccessControls() {\r\n                resource = {\r\n                    &#39;entity&#39;: ENTITY,\r\n                    &#39;role&#39;: ROLE\r\n                };\r\n                var request = gapi.client.storage.bucketAccessControls.insert({\r\n                    &#39;bucket&#39;: BUCKET,\r\n                    &#39;resource&#39;: resource\r\n                });\r\n                executeRequest(request, &#39;insertBucketAccessControls&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to insert an Access Control List into\r\n             * your Google Cloud Storage object.\r\n             */\r\n            function insertObjectAccessControls() {\r\n                resource = {\r\n                    &#39;entity&#39;: ENTITY,\r\n                    &#39;role&#39;: ROLE_OBJECT\r\n                };\r\n                var request = gapi.client.storage.objectAccessControls.insert({\r\n                    &#39;bucket&#39;: BUCKET,\r\n                    &#39;object&#39;: object,\r\n                    &#39;resource&#39;: resource\r\n                });\r\n                executeRequest(request, &#39;insertObjectAccessControls&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to delete a Google Cloud Storage bucket.\r\n             */\r\n            function deleteBucket() {\r\n                var request = gapi.client.storage.buckets.delete({\r\n                    &#39;bucket&#39;: BUCKET\r\n                });\r\n                executeRequest(request, &#39;deleteBucket&#39;);\r\n            }\r\n            /**\r\n             * Google Cloud Storage API request to delete a Google Cloud Storage object.\r\n             */\r\n            function deleteObject() {\r\n                var request = gapi.client.storage.objects.delete({\r\n                    &#39;bucket&#39;: BUCKET,\r\n                    &#39;object&#39;: object\r\n                });\r\n                executeRequest(request, &#39;deleteObject&#39;);\r\n            }\r\n            /**\r\n             * Removes the current API result entry in the main-content div, adds the\r\n             * results of the entry for your function.\r\n             * @param {string} apiRequestName The name of the example API request.\r\n             */\r\n            function updateApiResultEntry(apiRequestName) {\r\n                listChildren = document.getElementById(&#39;main-content&#39;)\r\n                        .childNodes;\r\n                if (listChildren.length &gt; 1) {\r\n                    listChildren[1].parentNode.removeChild(listChildren[1]);\r\n                }\r\n                if (apiRequestName != &#39;null&#39;) {\r\n                    window[apiRequestName].apply(this);\r\n                }\r\n            }\r\n            /**\r\n             * Determines which API request has been selected, and makes a call to add\r\n             * its result entry.\r\n             */\r\n            function runSelectedApiRequest() {\r\n                var curElement = document.getElementById(&#39;api-selection-options&#39;);\r\n                var apiRequestName = curElement.options[curElement.selectedIndex].value;\r\n                updateApiResultEntry(apiRequestName);\r\n            }\r\n            /**\r\n             * Binds event listeners to handle a newly selected API request.\r\n             */\r\n            function addSelectionSwitchingListeners() {\r\n                document.getElementById(&#39;api-selection-options&#39;)\r\n                        .addEventListener(&#39;change&#39;,\r\n                        runSelectedApiRequest, false);\r\n            }\r\n            /**\r\n             * Template for getting JavaScript sample code snippets.\r\n             * @param {string} method The name of the Google Cloud Storage request\r\n             * @param {string} params The parameters passed to method\r\n             */\r\n            function getCodeSnippet(method, params) {\r\n                var objConstruction = &quot;// Declare your parameter object\\n&quot;;\r\n                objConstruction += &quot;var params = {};&quot;;\r\n                objConstruction += &quot;\\n\\n&quot;;\r\n                var param = &quot;// Initialize your parameters \\n&quot;;\r\n                for (i in params) {\r\n                    param += &quot;params[&#39;&quot; + i + &quot;&#39;] = &quot;;\r\n                    param += JSON.stringify(params[i], null, &#39;\\t&#39;);\r\n                    param += &quot;;&quot;;\r\n                    param += &quot;\\n&quot;;\r\n                }\r\n                param += &quot;\\n&quot;;\r\n                var methodCall = &quot;// Make a request to the Google Cloud Storage API \\n&quot;;\r\n                methodCall += &quot;var request = gapi.client.&quot; + method + &quot;(params);&quot;;\r\n                return objConstruction + param + methodCall;\r\n            }\r\n            /**\r\n             * Executes your Google Cloud Storage request object and, subsequently,\r\n             * inserts the response into the page.\r\n             * @param {string} request A Google Cloud Storage request object issued\r\n             *    from the Google Cloud Storage JavaScript client library.\r\n             * @param {string} apiRequestName The name of the example API request.\r\n             */\r\n            function executeRequest(request, apiRequestName) {\r\n                request.execute(function(resp) {\r\n                    console.log(resp);\r\n                    var apiRequestNode = document.createElement(&#39;div&#39;);\r\n                    apiRequestNode.id = apiRequestName;\r\n                    var apiRequestNodeHeader = document.createElement(&#39;h2&#39;);\r\n                    apiRequestNodeHeader.innerHTML = apiRequestName;\r\n                    var apiRequestExplanationNode = document.createElement(&#39;div&#39;);\r\n                    apiRequestExplanationNode.id = apiRequestName + &#39;RequestExplanation&#39;;\r\n                    var apiRequestExplanationNodeHeader = document.createElement(&#39;h3&#39;);\r\n                    apiRequestExplanationNodeHeader.innerHTML = &#39;API Request Explanation&#39;;\r\n                    apiRequestExplanationNode.appendChild(apiRequestExplanationNodeHeader);\r\n                    var apiRequestExplanationEntry = document.createElement(&#39;p&#39;);\r\n                    apiRequestExplanationEntry.innerHTML =\r\n                            listApiRequestExplanations[apiRequestName];\r\n                    apiRequestExplanationNode.appendChild(apiRequestExplanationEntry);\r\n                    apiRequestNode.appendChild(apiRequestNodeHeader);\r\n                    apiRequestNode.appendChild(apiRequestExplanationNode);\r\n                    var apiRequestCodeSnippetNode = document.createElement(&#39;div&#39;);\r\n                    apiRequestCodeSnippetNode.id = apiRequestName + &#39;CodeSnippet&#39;;\r\n                    var apiRequestCodeSnippetHeader = document.createElement(&#39;h3&#39;);\r\n                    apiRequestCodeSnippetHeader.innerHTML = &#39;API Request Code Snippet&#39;;\r\n                    apiRequestCodeSnippetNode.appendChild(apiRequestCodeSnippetHeader);\r\n                    var apiRequestCodeSnippetEntry = document.createElement(&#39;pre&#39;);\r\n                    //If the selected API command is not &#39;insertObject&#39;, pass the request\r\n                    //paramaters to the getCodeSnippet method call as &#39;request.wc.wc.params&#39;\r\n                    //else pass request paramaters as &#39;request.wc.wc&#39;\r\n    \r\n    \r\n    /*                if (apiRequestName != &#39;insertObject&#39;) {\r\n                        apiRequestCodeSnippetEntry.innerHTML =\r\n                                getCodeSnippet(request.wc.wc.method, request.wc.wc.params);\r\n                        //Selected API Command is not &#39;insertObject&#39;\r\n                        //hide insert object button\r\n                        filePicker.style.display = &#39;none&#39;;\r\n                    } else {\r\n                        apiRequestCodeSnippetEntry.innerHTML =\r\n                                getCodeSnippet(request.wc.wc.method, request.wc.wc);\r\n                    }*/\r\n    \r\n    \r\n                    apiRequestCodeSnippetNode.appendChild(apiRequestCodeSnippetEntry);\r\n                    apiRequestNode.appendChild(apiRequestCodeSnippetNode);\r\n                    var apiResponseNode = document.createElement(&#39;div&#39;);\r\n                    apiResponseNode.id = apiRequestName + &#39;Response&#39;;\r\n                    var apiResponseHeader = document.createElement(&#39;h3&#39;);\r\n                    apiResponseHeader.innerHTML = &#39;API Response&#39;;\r\n                    apiResponseNode.appendChild(apiResponseHeader);\r\n                    var apiResponseEntry = document.createElement(&#39;pre&#39;);\r\n                    apiResponseEntry.innerHTML = JSON.stringify(resp, null, &#39; &#39;);\r\n                    apiResponseNode.appendChild(apiResponseEntry);\r\n                    apiRequestNode.appendChild(apiResponseNode);\r\n                    var content = document.getElementById(&#39;main-content&#39;);\r\n                    content.appendChild(apiRequestNode);\r\n                });\r\n            }\r\n            /**\r\n             * Set required API keys and check authentication status.\r\n             */\r\n            function handleClientLoad() {\r\n                gapi.client.setApiKey(apiKey);\r\n                window.setTimeout(checkAuth, 1);\r\n            }\r\n            /**\r\n             * Authorize Google Cloud Storage API.\r\n             */\r\n            function checkAuth() {\r\n                gapi.auth.authorize({\r\n                    client_id: clientId,\r\n                    scope: scopes,\r\n                    immediate: true\r\n                }, handleAuthResult);\r\n            }\r\n            /**\r\n             * Handle authorization.\r\n             */\r\n            function handleAuthResult(authResult) {\r\n                var authorizeButton = document.getElementById(&#39;authorize-button&#39;);\r\n                if (authResult &amp;&amp; !authResult.error) {\r\n                    authorizeButton.style.visibility = &#39;hidden&#39;;\r\n                    initializeApi();\r\n                    filePicker.onchange = insertObject;\r\n                } else {\r\n                    authorizeButton.style.visibility = &#39;&#39;;\r\n                    authorizeButton.onclick = handleAuthClick;\r\n                }\r\n            }\r\n            /**\r\n             * Handle authorization click event.\r\n             */\r\n            function handleAuthClick(event) {\r\n                gapi.auth.authorize({\r\n                    client_id: clientId,\r\n                    scope: scopes,\r\n                    immediate: false\r\n                }, handleAuthResult);\r\n                return false;\r\n            }\r\n            /**\r\n             * Load the Google Cloud Storage API.\r\n             */\r\n            function initializeApi() {\r\n                gapi.client.load(&#39;storage&#39;, API_VERSION);\r\n            }\r\n            /**\r\n             * Driver for sample application.\r\n             */\r\n            $(window)\r\n                    .bind(&#39;load&#39;, function() {\r\n                        addSelectionSwitchingListeners();\r\n                        handleClientLoad();\r\n                    });\r\n        &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;!--Add a button for the user to click to initiate auth sequence --&gt;\r\n    &lt;button id=&quot;authorize-button&quot; style=&quot;visibility: hidden&quot;&gt;Authorize&lt;/button&gt;\r\n    &lt;header&gt;\r\n        &lt;h1&gt;Google Cloud Storage JavaScript Client Library Application&lt;/h1&gt;\r\n    &lt;/header&gt;\r\n    &lt;label id=&quot;api-label&quot;&gt;Try a sample API call!&lt;/label&gt;\r\n    &lt;select id=&quot;api-selection-options&quot;&gt;\r\n        &lt;option value=&quot;null&quot;&gt;\r\n            Please select an example API call from the dropdown menu\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;listBuckets&quot;&gt;\r\n            List Buckets\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;insertBucket&quot;&gt;\r\n            Insert Bucket\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;getBucket&quot;&gt;\r\n            Get Bucket\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;getBucketAccessControls&quot;&gt;\r\n            Get Bucket Access Controls\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;insertBucketAccessControls&quot;&gt;\r\n            Insert Bucket Access Controls\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;listBucketsAccessControls&quot;&gt;\r\n            List Buckets Access Control List\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;insertObject&quot;&gt;\r\n            Insert Object\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;listObjects&quot;&gt;\r\n            List Objects\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;getObjectAccessControls&quot;&gt;\r\n            Get Object Access Controls\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;insertObjectAccessControls&quot;&gt;\r\n            Insert Object Access Controls\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;listObjectsAccessControls&quot;&gt;\r\n            List Objects Access Control List\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;deleteObject&quot;&gt;\r\n            Delete Object\r\n        &lt;/option&gt;\r\n        &lt;option value=&quot;deleteBucket&quot;&gt;\r\n            Delete Bucket\r\n        &lt;/option&gt;\r\n    &lt;/select&gt;\r\n    &lt;br/&gt;\r\n    &lt;input type=&quot;file&quot; id=&quot;filePicker&quot; style=&quot;display: none&quot; /&gt;\r\n    &lt;div id=&quot;main-content&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&gt; Below is the function to upload a file, fully inspired from the example above. Note that it uses the JavaScript client library to interact with Google API (gapi), which means that you can secure the upload with authentication via google accounts (https://developers.google.com/api-client-library/javascript/start/start-js). \r\n\r\n    function uploadFile(fileData, bucket) {\r\n        var boundary = &#39;-------314159265358979323846&#39;;\r\n        var delimiter = &quot;\\r\\n--&quot; + boundary + &quot;\\r\\n&quot;;\r\n        var close_delim = &quot;\\r\\n--&quot; + boundary + &quot;--&quot;;\r\n        var reader = new FileReader();\r\n        reader.readAsBinaryString(fileData);\r\n    \r\n        reader.onload = function (e) {\r\n            var contentType = fileData.type || &#39;application/octet-stream&#39;;\r\n            var metadata = {\r\n                &#39;name&#39;: fileData.name,\r\n                &#39;mimeType&#39;: contentType\r\n            };\r\n            var base64Data = btoa(reader.result);\r\n            var multipartRequestBody =\r\n                    delimiter +\r\n                    &#39;Content-Type: application/json\\r\\n\\r\\n&#39; +\r\n                    JSON.stringify(metadata) +\r\n                    delimiter +\r\n                    &#39;Content-Type: &#39; + contentType + &#39;\\r\\n&#39; +\r\n                    &#39;Content-Transfer-Encoding: base64\\r\\n&#39; +\r\n                    &#39;\\r\\n&#39; +\r\n                    base64Data +\r\n                    close_delim;\r\n    \r\n            var request = gapi.client.request({\r\n                &#39;path&#39;: &#39;/upload/storage/v1/b/&#39; + bucket + &#39;/o&#39;,\r\n                &#39;method&#39;: &#39;POST&#39;,\r\n                &#39;params&#39;: {&#39;uploadType&#39;: &#39;multipart&#39;},\r\n                &#39;headers&#39;: {\r\n                    &#39;Content-Type&#39;: &#39;multipart/mixed; boundary=&quot;&#39; + boundary + &#39;&quot;&#39;\r\n                },\r\n                &#39;body&#39;: multipartRequestBody\r\n            });\r\n    \r\n            try {\r\n                request.execute(function (resp) {\r\n                    if (resp.hasOwnProperty(&quot;error&quot;)) {\r\n                        //Treat Error\r\n                    } else {\r\n                        //Treat Success\r\n                    }\r\n                });\r\n            }\r\n            catch (e) {\r\n                //Treat Error\r\n            }\r\n    \r\n        };\r\n    \r\n    }\r\n\r\n\r\nFinally, you can use the Object Change Notification of Cloud Storage to call a task in App engine. You can pass the bucket and file name and treat the file that was just uploaded via App Engine.  https://cloud.google.com/storage/docs/object-change-notification","title":"Upload file to Google cloud storage from Google App Engine (Java)","body":"<p>Below is a code example from Google for interacting with the Cloud Storage in Java Script. It does much more than uploading, i.e. you can download, create new bucket, etc. Below I've added the function I use to upload which is derived from this example.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head lang=\"en\"&gt;\n    &lt;meta charset='utf-8' /&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://apis.google.com/js/client.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        /**\n         * The Project ID of your Google Cloud Storage Project.\n         */\n        var PROJECT = 'abcd';\n        /**\n         * Enter a client ID for a web application from the Google Developers\n         * Console on the \"APIs &amp; auth\", \"Credentials\" page.\n         * In your Developers Console project add a JavaScript origin\n         * that corresponds to the domain from where you will be running the\n         * script. For more info see:\n         * https://developers.google.com/console/help/new/#generatingoauth2\n         */\n        var clientId = '701111116470-55bj2lkjlkkjkljhe97di22gus5hs3.apps.googleusercontent.com';\n        /**\n         * Enter the API key from the Google Developers Console, by following these\n         * steps:\n         * 1) Visit https://cloud.google.com/console and select your project\n         * 2) Click on \"APIs &amp; auth\" in the left column and then click “Credentials”\n         * 3) Find section \"Public API Access\" and use the \"API key.\" If sample is\n         * being run on localhost then delete all \"Referers\" and save. Setting\n         * should display \"Any referer allowed.\" For more info see:\n         * https://developers.google.com/console/help/new/#generatingdevkeys\n         */\n        var apiKey = 'JHJhhguy8786875hghgjbS0nYjcMY';\n        /**\n         * To enter one or more authentication scopes, refer to the documentation\n         * for the API.\n         */\n        var scopes = 'https://www.googleapis.com/auth/devstorage.full_control';\n        /**\n         * Constants for request parameters. Fill these values in with your custom\n         * information.\n         */\n        var API_VERSION = 'v1';\n        /**\n         * Enter a unique bucket name to create a new bucket. The guidelines for\n         * bucket naming can be found here:\n         * https://developers.google.com/storage/docs/bucketnaming\n         */\n        //var BUCKET = 'code-sample-bucket-' + Date.now();\n        var BUCKET = 'testbucket';\n        /**\n         * The name of the object inserted via insertObject method.\n         */\n        var object = \"\";\n        /**\n         * Get this value from the Developers Console. Click on the\n         * “Cloud Storage” service in the Left column and then select\n         * “Project Dashboard”. Use one of the Google Cloud Storage group IDs\n         * listed and combine with the prefix “group-” to get a string\n         * like the example below.\n         */\n        var GROUP =\n                'group-kjhHJKHJKH897897878jgjghg8728f21c3ff22597efbfc63ccdb8f2294d8fd2561cb9';\n        /**\n         * Valid values are user-userId, user-email, group-groupId, group-email,\n         * allUsers, allAuthenticatedUsers\n         */\n        var ENTITY = 'allUsers';\n        /**\n         * Valid values are READER, OWNER\n         */\n        var ROLE = 'READER';\n        /**\n         * Valid values are READER, OWNER\n         */\n        var ROLE_OBJECT = 'READER';\n        /**\n         * A list of example calls to the Google Cloud Storage JavaScript client\n         * library, as well as associated explanations of each call.\n         */\n        var listApiRequestExplanations = {\n            'listBuckets': 'This API call queries the Google Cloud Storage API ' +\n            'for a list of buckets in your project, and returns the result as ' +\n            'a list of Google Cloud Storage buckets.',\n            'listObjects': 'This API call queries the Google Cloud Storage API ' +\n            'for a list of objects in your bucket, and returns the result as ' +\n            'a list of Google Cloud Storage objects.',\n            'listBucketsAccessControls': 'This API call queries the Google Cloud ' +\n            'Storage API for the list of access control lists on buckets in your ' +\n            'project and returns the result as a list of Google Cloud Storage ' +\n            'Access Control Lists.',\n            'listObjectsAccessControls': 'This API call queries the Google Cloud ' +\n            'Storage API for the list of access control lists on objects in your ' +\n            'bucket and returns the result as a list of Google Cloud Storage ' +\n            'Access Control Lists.',\n            'getBucket': 'This API call queries the Google Cloud Storage API ' +\n            'for a bucket in your project, and returns the result as a ' +\n            'Google Cloud Storage bucket.',\n            'getBucketAccessControls': 'This API call queries the Google Cloud ' +\n            'Storage API for the access control list on a specific bucket ' +\n            'and returns the result as a Google Cloud Storage Access Control List.',\n            'getObjectAccessControls': 'This API call queries the Google Cloud ' +\n            'Storage API for the access control list on a specific object ' +\n            'and returns the result as a Google Cloud Storage Access Control List.',\n            'insertBucket': 'This API call uses the Google Cloud Storage API ' +\n            'to insert a bucket into your project.',\n            'insertObject': 'This API call uses the Google Cloud Storage API ' +\n            'to insert an object into your bucket.',\n            'insertBucketAccessControls': 'This API uses the Google Cloud ' +\n            'Storage API to insert an access control list on a specific bucket ' +\n            'and returns the result as a Google Cloud Storage Access Control List.',\n            'insertObjectAccessControls': 'This API uses the Google Cloud ' +\n            'Storage API to insert an access control list on a specific object ' +\n            'and returns the result as a Google Cloud Storage Access Control List.',\n            'deleteBucket': 'This API uses the Google Cloud Storage API to delete ' +\n            'an empty bucket and returns an empty response to indicate success.',\n            'deleteObject': 'This API uses the Google Cloud Storage API to delete ' +\n            'an object and returns an empty response to indicate success.'\n        };\n        /**\n         * Google Cloud Storage API request to retrieve the list of buckets in\n         * your Google Cloud Storage project.\n         */\n        function listBuckets() {\n            var request = gapi.client.storage.buckets.list({\n                'project': PROJECT\n            });\n            executeRequest(request, 'listBuckets');\n        }\n        /**\n         * Google Cloud Storage API request to retrieve the list of objects in\n         * your Google Cloud Storage project.\n         */\n        function listObjects() {\n            var request = gapi.client.storage.objects.list({\n                'bucket': BUCKET\n            });\n            executeRequest(request, 'listObjects');\n        }\n        /**\n         * Google Cloud Storage API request to retrieve the access control list on\n         * a bucket in your Google Cloud Storage project.\n         */\n        function listBucketsAccessControls() {\n            var request = gapi.client.storage.bucketAccessControls.list({\n                'bucket': BUCKET\n            });\n            executeRequest(request, 'listBucketsAccessControls');\n        }\n        /**\n         * Google Cloud Storage API request to retrieve the access control list on\n         * an object in your Google Cloud Storage project.\n         */\n        function listObjectsAccessControls() {\n            var request = gapi.client.storage.objectAccessControls.list({\n                'bucket': BUCKET,\n                'object': object\n            });\n            executeRequest(request, 'listObjectsAccessControls');\n        }\n        /**\n         * Google Cloud Storage API request to retrieve a bucket in\n         * your Google Cloud Storage project.\n         */\n        function getBucket() {\n            var request = gapi.client.storage.buckets.get({\n                'bucket': BUCKET\n            });\n            executeRequest(request, 'getBucket');\n        }\n        /**\n         * Google Cloud Storage API request to retrieve a bucket's Access Control\n         * List in your Google Cloud Storage project.\n         */\n        function getBucketAccessControls() {\n            var request = gapi.client.storage.bucketAccessControls.get({\n                'bucket': BUCKET,\n                'entity': GROUP\n            });\n            executeRequest(request, 'getBucketAccessControls');\n        }\n        /**\n         * Google Cloud Storage API request to retrieve an object's Access Control\n         * List in your Google Cloud Storage project.\n         */\n        function getObjectAccessControls() {\n            var request = gapi.client.storage.objectAccessControls.get({\n                'bucket': BUCKET,\n                'object': object,\n                'entity': GROUP\n            });\n            executeRequest(request, 'getObjectAccessControls');\n        }\n        /**\n         * Google Cloud Storage API request to insert a bucket into\n         * your Google Cloud Storage project.\n         */\n        function insertBucket() {\n            resource = {\n                'name': BUCKET\n            };\n            var request = gapi.client.storage.buckets.insert({\n                'project': PROJECT,\n                'resource': resource\n            });\n            executeRequest(request, 'insertBucket');\n        }\n        /**\n         * Google Cloud Storage API request to insert an object into\n         * your Google Cloud Storage bucket.\n         */\n        function insertObject(event) {\n            try{\n                var fileData = event.target.files[0];\n            }\n            catch(e) {\n                //'Insert Object' selected from the API Commands select list\n                //Display insert object button and then exit function\n                filePicker.style.display = 'block';\n                return;\n            }\n            const boundary = '-------314159265358979323846';\n            const delimiter = \"\\r\\n--\" + boundary + \"\\r\\n\";\n            const close_delim = \"\\r\\n--\" + boundary + \"--\";\n            var reader = new FileReader();\n            reader.readAsBinaryString(fileData);\n            reader.onload = function(e) {\n                var contentType = fileData.type || 'application/octet-stream';\n                var metadata = {\n                    'name': fileData.name,\n                    'mimeType': contentType\n                };\n                var base64Data = btoa(reader.result);\n                var multipartRequestBody =\n                        delimiter +\n                        'Content-Type: application/json\\r\\n\\r\\n' +\n                        JSON.stringify(metadata) +\n                        delimiter +\n                        'Content-Type: ' + contentType + '\\r\\n' +\n                        'Content-Transfer-Encoding: base64\\r\\n' +\n                        '\\r\\n' +\n                        base64Data +\n                        close_delim;\n                //Note: gapi.client.storage.objects.insert() can only insert\n                //small objects (under 64k) so to support larger file sizes\n                //we're using the generic HTTP request method gapi.client.request()\n                var request = gapi.client.request({\n                    'path': '/upload/storage/' + API_VERSION + '/b/' + BUCKET + '/o',\n                    'method': 'POST',\n                    'params': {'uploadType': 'multipart'},\n                    'headers': {\n                        'Content-Type': 'multipart/mixed; boundary=\"' + boundary + '\"'\n                    },\n                    'body': multipartRequestBody});\n                //Remove the current API result entry in the main-content div\n                listChildren = document.getElementById('main-content').childNodes;\n                if (listChildren.length &gt; 1) {\n                    listChildren[1].parentNode.removeChild(listChildren[1]);\n                }\n                try{\n                    //Execute the insert object request\n                    executeRequest(request, 'insertObject');\n                    //Store the name of the inserted object\n                    object = fileData.name;\n                }\n                catch(e) {\n                    alert('An error has occurred: ' + e.message);\n                }\n            }\n        }\n        /**\n         * Google Cloud Storage API request to insert an Access Control List into\n         * your Google Cloud Storage bucket.\n         */\n        function insertBucketAccessControls() {\n            resource = {\n                'entity': ENTITY,\n                'role': ROLE\n            };\n            var request = gapi.client.storage.bucketAccessControls.insert({\n                'bucket': BUCKET,\n                'resource': resource\n            });\n            executeRequest(request, 'insertBucketAccessControls');\n        }\n        /**\n         * Google Cloud Storage API request to insert an Access Control List into\n         * your Google Cloud Storage object.\n         */\n        function insertObjectAccessControls() {\n            resource = {\n                'entity': ENTITY,\n                'role': ROLE_OBJECT\n            };\n            var request = gapi.client.storage.objectAccessControls.insert({\n                'bucket': BUCKET,\n                'object': object,\n                'resource': resource\n            });\n            executeRequest(request, 'insertObjectAccessControls');\n        }\n        /**\n         * Google Cloud Storage API request to delete a Google Cloud Storage bucket.\n         */\n        function deleteBucket() {\n            var request = gapi.client.storage.buckets.delete({\n                'bucket': BUCKET\n            });\n            executeRequest(request, 'deleteBucket');\n        }\n        /**\n         * Google Cloud Storage API request to delete a Google Cloud Storage object.\n         */\n        function deleteObject() {\n            var request = gapi.client.storage.objects.delete({\n                'bucket': BUCKET,\n                'object': object\n            });\n            executeRequest(request, 'deleteObject');\n        }\n        /**\n         * Removes the current API result entry in the main-content div, adds the\n         * results of the entry for your function.\n         * @param {string} apiRequestName The name of the example API request.\n         */\n        function updateApiResultEntry(apiRequestName) {\n            listChildren = document.getElementById('main-content')\n                    .childNodes;\n            if (listChildren.length &gt; 1) {\n                listChildren[1].parentNode.removeChild(listChildren[1]);\n            }\n            if (apiRequestName != 'null') {\n                window[apiRequestName].apply(this);\n            }\n        }\n        /**\n         * Determines which API request has been selected, and makes a call to add\n         * its result entry.\n         */\n        function runSelectedApiRequest() {\n            var curElement = document.getElementById('api-selection-options');\n            var apiRequestName = curElement.options[curElement.selectedIndex].value;\n            updateApiResultEntry(apiRequestName);\n        }\n        /**\n         * Binds event listeners to handle a newly selected API request.\n         */\n        function addSelectionSwitchingListeners() {\n            document.getElementById('api-selection-options')\n                    .addEventListener('change',\n                    runSelectedApiRequest, false);\n        }\n        /**\n         * Template for getting JavaScript sample code snippets.\n         * @param {string} method The name of the Google Cloud Storage request\n         * @param {string} params The parameters passed to method\n         */\n        function getCodeSnippet(method, params) {\n            var objConstruction = \"// Declare your parameter object\\n\";\n            objConstruction += \"var params = {};\";\n            objConstruction += \"\\n\\n\";\n            var param = \"// Initialize your parameters \\n\";\n            for (i in params) {\n                param += \"params['\" + i + \"'] = \";\n                param += JSON.stringify(params[i], null, '\\t');\n                param += \";\";\n                param += \"\\n\";\n            }\n            param += \"\\n\";\n            var methodCall = \"// Make a request to the Google Cloud Storage API \\n\";\n            methodCall += \"var request = gapi.client.\" + method + \"(params);\";\n            return objConstruction + param + methodCall;\n        }\n        /**\n         * Executes your Google Cloud Storage request object and, subsequently,\n         * inserts the response into the page.\n         * @param {string} request A Google Cloud Storage request object issued\n         *    from the Google Cloud Storage JavaScript client library.\n         * @param {string} apiRequestName The name of the example API request.\n         */\n        function executeRequest(request, apiRequestName) {\n            request.execute(function(resp) {\n                console.log(resp);\n                var apiRequestNode = document.createElement('div');\n                apiRequestNode.id = apiRequestName;\n                var apiRequestNodeHeader = document.createElement('h2');\n                apiRequestNodeHeader.innerHTML = apiRequestName;\n                var apiRequestExplanationNode = document.createElement('div');\n                apiRequestExplanationNode.id = apiRequestName + 'RequestExplanation';\n                var apiRequestExplanationNodeHeader = document.createElement('h3');\n                apiRequestExplanationNodeHeader.innerHTML = 'API Request Explanation';\n                apiRequestExplanationNode.appendChild(apiRequestExplanationNodeHeader);\n                var apiRequestExplanationEntry = document.createElement('p');\n                apiRequestExplanationEntry.innerHTML =\n                        listApiRequestExplanations[apiRequestName];\n                apiRequestExplanationNode.appendChild(apiRequestExplanationEntry);\n                apiRequestNode.appendChild(apiRequestNodeHeader);\n                apiRequestNode.appendChild(apiRequestExplanationNode);\n                var apiRequestCodeSnippetNode = document.createElement('div');\n                apiRequestCodeSnippetNode.id = apiRequestName + 'CodeSnippet';\n                var apiRequestCodeSnippetHeader = document.createElement('h3');\n                apiRequestCodeSnippetHeader.innerHTML = 'API Request Code Snippet';\n                apiRequestCodeSnippetNode.appendChild(apiRequestCodeSnippetHeader);\n                var apiRequestCodeSnippetEntry = document.createElement('pre');\n                //If the selected API command is not 'insertObject', pass the request\n                //paramaters to the getCodeSnippet method call as 'request.wc.wc.params'\n                //else pass request paramaters as 'request.wc.wc'\n\n\n/*                if (apiRequestName != 'insertObject') {\n                    apiRequestCodeSnippetEntry.innerHTML =\n                            getCodeSnippet(request.wc.wc.method, request.wc.wc.params);\n                    //Selected API Command is not 'insertObject'\n                    //hide insert object button\n                    filePicker.style.display = 'none';\n                } else {\n                    apiRequestCodeSnippetEntry.innerHTML =\n                            getCodeSnippet(request.wc.wc.method, request.wc.wc);\n                }*/\n\n\n                apiRequestCodeSnippetNode.appendChild(apiRequestCodeSnippetEntry);\n                apiRequestNode.appendChild(apiRequestCodeSnippetNode);\n                var apiResponseNode = document.createElement('div');\n                apiResponseNode.id = apiRequestName + 'Response';\n                var apiResponseHeader = document.createElement('h3');\n                apiResponseHeader.innerHTML = 'API Response';\n                apiResponseNode.appendChild(apiResponseHeader);\n                var apiResponseEntry = document.createElement('pre');\n                apiResponseEntry.innerHTML = JSON.stringify(resp, null, ' ');\n                apiResponseNode.appendChild(apiResponseEntry);\n                apiRequestNode.appendChild(apiResponseNode);\n                var content = document.getElementById('main-content');\n                content.appendChild(apiRequestNode);\n            });\n        }\n        /**\n         * Set required API keys and check authentication status.\n         */\n        function handleClientLoad() {\n            gapi.client.setApiKey(apiKey);\n            window.setTimeout(checkAuth, 1);\n        }\n        /**\n         * Authorize Google Cloud Storage API.\n         */\n        function checkAuth() {\n            gapi.auth.authorize({\n                client_id: clientId,\n                scope: scopes,\n                immediate: true\n            }, handleAuthResult);\n        }\n        /**\n         * Handle authorization.\n         */\n        function handleAuthResult(authResult) {\n            var authorizeButton = document.getElementById('authorize-button');\n            if (authResult &amp;&amp; !authResult.error) {\n                authorizeButton.style.visibility = 'hidden';\n                initializeApi();\n                filePicker.onchange = insertObject;\n            } else {\n                authorizeButton.style.visibility = '';\n                authorizeButton.onclick = handleAuthClick;\n            }\n        }\n        /**\n         * Handle authorization click event.\n         */\n        function handleAuthClick(event) {\n            gapi.auth.authorize({\n                client_id: clientId,\n                scope: scopes,\n                immediate: false\n            }, handleAuthResult);\n            return false;\n        }\n        /**\n         * Load the Google Cloud Storage API.\n         */\n        function initializeApi() {\n            gapi.client.load('storage', API_VERSION);\n        }\n        /**\n         * Driver for sample application.\n         */\n        $(window)\n                .bind('load', function() {\n                    addSelectionSwitchingListeners();\n                    handleClientLoad();\n                });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;!--Add a button for the user to click to initiate auth sequence --&gt;\n&lt;button id=\"authorize-button\" style=\"visibility: hidden\"&gt;Authorize&lt;/button&gt;\n&lt;header&gt;\n    &lt;h1&gt;Google Cloud Storage JavaScript Client Library Application&lt;/h1&gt;\n&lt;/header&gt;\n&lt;label id=\"api-label\"&gt;Try a sample API call!&lt;/label&gt;\n&lt;select id=\"api-selection-options\"&gt;\n    &lt;option value=\"null\"&gt;\n        Please select an example API call from the dropdown menu\n    &lt;/option&gt;\n    &lt;option value=\"listBuckets\"&gt;\n        List Buckets\n    &lt;/option&gt;\n    &lt;option value=\"insertBucket\"&gt;\n        Insert Bucket\n    &lt;/option&gt;\n    &lt;option value=\"getBucket\"&gt;\n        Get Bucket\n    &lt;/option&gt;\n    &lt;option value=\"getBucketAccessControls\"&gt;\n        Get Bucket Access Controls\n    &lt;/option&gt;\n    &lt;option value=\"insertBucketAccessControls\"&gt;\n        Insert Bucket Access Controls\n    &lt;/option&gt;\n    &lt;option value=\"listBucketsAccessControls\"&gt;\n        List Buckets Access Control List\n    &lt;/option&gt;\n    &lt;option value=\"insertObject\"&gt;\n        Insert Object\n    &lt;/option&gt;\n    &lt;option value=\"listObjects\"&gt;\n        List Objects\n    &lt;/option&gt;\n    &lt;option value=\"getObjectAccessControls\"&gt;\n        Get Object Access Controls\n    &lt;/option&gt;\n    &lt;option value=\"insertObjectAccessControls\"&gt;\n        Insert Object Access Controls\n    &lt;/option&gt;\n    &lt;option value=\"listObjectsAccessControls\"&gt;\n        List Objects Access Control List\n    &lt;/option&gt;\n    &lt;option value=\"deleteObject\"&gt;\n        Delete Object\n    &lt;/option&gt;\n    &lt;option value=\"deleteBucket\"&gt;\n        Delete Bucket\n    &lt;/option&gt;\n&lt;/select&gt;\n&lt;br/&gt;\n&lt;input type=\"file\" id=\"filePicker\" style=\"display: none\" /&gt;\n&lt;div id=\"main-content\"&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<blockquote>\n  <p>Below is the function to upload a file, fully inspired from the example above. Note that it uses the JavaScript client library to interact with Google API (gapi), which means that you can secure the upload with authentication via google accounts (<a href=\"https://developers.google.com/api-client-library/javascript/start/start-js\" rel=\"nofollow noreferrer\">https://developers.google.com/api-client-library/javascript/start/start-js</a>). </p>\n</blockquote>\n\n<pre><code>function uploadFile(fileData, bucket) {\n    var boundary = '-------314159265358979323846';\n    var delimiter = \"\\r\\n--\" + boundary + \"\\r\\n\";\n    var close_delim = \"\\r\\n--\" + boundary + \"--\";\n    var reader = new FileReader();\n    reader.readAsBinaryString(fileData);\n\n    reader.onload = function (e) {\n        var contentType = fileData.type || 'application/octet-stream';\n        var metadata = {\n            'name': fileData.name,\n            'mimeType': contentType\n        };\n        var base64Data = btoa(reader.result);\n        var multipartRequestBody =\n                delimiter +\n                'Content-Type: application/json\\r\\n\\r\\n' +\n                JSON.stringify(metadata) +\n                delimiter +\n                'Content-Type: ' + contentType + '\\r\\n' +\n                'Content-Transfer-Encoding: base64\\r\\n' +\n                '\\r\\n' +\n                base64Data +\n                close_delim;\n\n        var request = gapi.client.request({\n            'path': '/upload/storage/v1/b/' + bucket + '/o',\n            'method': 'POST',\n            'params': {'uploadType': 'multipart'},\n            'headers': {\n                'Content-Type': 'multipart/mixed; boundary=\"' + boundary + '\"'\n            },\n            'body': multipartRequestBody\n        });\n\n        try {\n            request.execute(function (resp) {\n                if (resp.hasOwnProperty(\"error\")) {\n                    //Treat Error\n                } else {\n                    //Treat Success\n                }\n            });\n        }\n        catch (e) {\n            //Treat Error\n        }\n\n    };\n\n}\n</code></pre>\n\n<p>Finally, you can use the Object Change Notification of Cloud Storage to call a task in App engine. You can pass the bucket and file name and treat the file that was just uploaded via App Engine.  <a href=\"https://cloud.google.com/storage/docs/object-change-notification\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/object-change-notification</a></p>\n"}],"owner":{"account_id":2731229,"reputation":89,"user_id":2354982,"display_name":"user2354982"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3551,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678775526,"creation_date":1482142741,"question_id":41220348,"body_markdown":"How can I upload file from servlet in google app engine to google cloud storage? \r\n\r\nWhen I did it, Google cloud storage didn&#39;t know the type of the file, the file I send from an HTML form. What is the correct way to write HTML/JavaScript and servlet to upload a file to cloud storage?\r\n","title":"Upload file to Google cloud storage from Google App Engine (Java)","body":"<p>How can I upload file from servlet in google app engine to google cloud storage? </p>\n\n<p>When I did it, Google cloud storage didn't know the type of the file, the file I send from an HTML form. What is the correct way to write HTML/JavaScript and servlet to upload a file to cloud storage?</p>\n"},{"tags":["java","google-app-engine","google-cloud-platform","google-cloud-storage","access-control"],"answers":[{"comments":[{"owner":{"account_id":3248615,"reputation":4651,"user_id":2739498,"accept_rate":84,"display_name":"bashoogzaad"},"score":0,"creation_date":1479918527,"post_id":40768900,"comment_id":68763162,"body_markdown":"Your are totally right, thank you very much! Did not know the MetaData had the getOptions() method, totally missed that...","body":"Your are totally right, thank you very much! Did not know the MetaData had the getOptions() method, totally missed that..."},{"owner":{"account_id":3248615,"reputation":4651,"user_id":2739498,"accept_rate":84,"display_name":"bashoogzaad"},"score":1,"creation_date":1480003292,"post_id":40768900,"comment_id":68803459,"body_markdown":"Only one question: it seems to return null everytime, while I set the acl during upload. I am using App Engine, and the docs note I should have full control, and therefore I can read the acl. Do you maybe know why it is not returning anything?","body":"Only one question: it seems to return null everytime, while I set the acl during upload. I am using App Engine, and the docs note I should have full control, and therefore I can read the acl. Do you maybe know why it is not returning anything?"}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1479917633,"creation_date":1479916544,"answer_id":40768900,"question_id":40759384,"body_markdown":"Maybe I am also missing something, but isn&#39;t it through the getAcl method of the GcsFileOptions class?\r\n\r\nhttps://cloud.google.com/appengine/docs/java/googlecloudstorageclient/javadoc/com/google/appengine/tools/cloudstorage/GcsFileOptions.html#getAcl--\r\n\r\nYou first get the file metadata through getMetadata() on the gcs service and then get the GcsFileOptions via metadata.getOptions()","title":"Retrieve ACL of specific file with Google Cloud Storage Client Library for Java","body":"<p>Maybe I am also missing something, but isn't it through the getAcl method of the GcsFileOptions class?</p>\n\n<p><a href=\"https://cloud.google.com/appengine/docs/java/googlecloudstorageclient/javadoc/com/google/appengine/tools/cloudstorage/GcsFileOptions.html#getAcl--\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/java/googlecloudstorageclient/javadoc/com/google/appengine/tools/cloudstorage/GcsFileOptions.html#getAcl--</a></p>\n\n<p>You first get the file metadata through getMetadata() on the gcs service and then get the GcsFileOptions via metadata.getOptions()</p>\n"}],"owner":{"account_id":3248615,"reputation":4651,"user_id":2739498,"accept_rate":84,"display_name":"bashoogzaad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40768900,"answer_count":1,"score":1,"last_activity_date":1678775433,"creation_date":1479889885,"question_id":40759384,"body_markdown":"I currently have the following problem:\r\n\r\nI would like to check the access control list of an object in my bucket on Google Cloud Storage from my App Engine App. I know I can set the ACL with the `GcsFileOptions.Builder`, but I want to read it from a specific file before passing it to the user. \r\n\r\nI am not able to find a method with which this is possible. Am I missing something here or is the Google Cloud Storage REST API the only way to do this? (https://cloud.google.com/storage/docs/xml-api/get-object-acls). In that case: can anyone explain why this method is not available in the client library?","title":"Retrieve ACL of specific file with Google Cloud Storage Client Library for Java","body":"<p>I currently have the following problem:</p>\n\n<p>I would like to check the access control list of an object in my bucket on Google Cloud Storage from my App Engine App. I know I can set the ACL with the <code>GcsFileOptions.Builder</code>, but I want to read it from a specific file before passing it to the user. </p>\n\n<p>I am not able to find a method with which this is possible. Am I missing something here or is the Google Cloud Storage REST API the only way to do this? (<a href=\"https://cloud.google.com/storage/docs/xml-api/get-object-acls\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/xml-api/get-object-acls</a>). In that case: can anyone explain why this method is not available in the client library?</p>\n"},{"tags":["java","spring","spring-boot","maven","proxy"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679115492,"post_id":75729710,"comment_id":133667450,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75729710/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20093693,"reputation":11,"user_id":14733631,"display_name":"Amr Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678775136,"creation_date":1678775136,"answer_id":75729710,"question_id":75719182,"body_markdown":"I found this answer and it really helped me but instead using the cert from spring.io use the cert from https://repo.maven.apache.org/maven2 \r\n\r\nAnswer link -&gt; https://stackoverflow.com/a/71770947/14733631","title":"Proxy Setting Issue with Maven update","body":"<p>I found this answer and it really helped me but instead using the cert from spring.io use the cert from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a></p>\n<p>Answer link -&gt; <a href=\"https://stackoverflow.com/a/71770947/14733631\">https://stackoverflow.com/a/71770947/14733631</a></p>\n"}],"owner":{"account_id":20093693,"reputation":11,"user_id":14733631,"display_name":"Amr Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678775136,"creation_date":1678693816,"question_id":75719182,"body_markdown":"I am trying to do a maven update but I am got this messages\r\n\r\nCould not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.0.4 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and &#39;parent.relativePath&#39; points at wrong local POM\r\n\r\nAnd I am setting my proxy in user settings.xml like below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RqMpI.png","title":"Proxy Setting Issue with Maven update","body":"<p>I am trying to do a maven update but I am got this messages</p>\n<p>Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.0.4 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and 'parent.relativePath' points at wrong local POM</p>\n<p>And I am setting my proxy in user settings.xml like below:</p>\n<p><a href=\"https://i.stack.imgur.com/RqMpI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RqMpI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","spring-boot","jaxb"],"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678774737,"creation_date":1678774737,"question_id":75729659,"body_markdown":"I&#39;m using openjdk 13 along with spring boot 2.3.4.RELEASE. Following is the dependency I&#39;ve added for jaxb in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI get an exception when I try to execute the following code\r\n\r\n    JAXB.marshal(myObject, stringWriter)\r\nThe marshalling happens successfully most of the times, but sometimes I get the exception mentioned in the title. Here is the relevant stack trace\r\n\r\n    javax.xml.bind.DataBindingException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n    - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n    \tat javax.xml.bind.JAXB._marshal(JAXB.java:559)\r\n    \tat javax.xml.bind.JAXB.marshal(JAXB.java:441)\r\n\r\nCan someone please help me understand why this happens, and what can be done to resolve it properly?\r\n\r\nThanks a lot.","title":"Getting Intermittent javax.xml.bind.JAXBException in my code","body":"<p>I'm using openjdk 13 along with spring boot 2.3.4.RELEASE. Following is the dependency I've added for jaxb in my pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I get an exception when I try to execute the following code</p>\n<pre><code>JAXB.marshal(myObject, stringWriter)\n</code></pre>\n<p>The marshalling happens successfully most of the times, but sometimes I get the exception mentioned in the title. Here is the relevant stack trace</p>\n<pre><code>javax.xml.bind.DataBindingException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n- with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n    at javax.xml.bind.JAXB._marshal(JAXB.java:559)\n    at javax.xml.bind.JAXB.marshal(JAXB.java:441)\n</code></pre>\n<p>Can someone please help me understand why this happens, and what can be done to resolve it properly?</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","amazon-web-services","ssl"],"comments":[{"owner":{"account_id":7575391,"reputation":32369,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1678773706,"post_id":75728507,"comment_id":133593848,"body_markdown":"If your application is not in AWS, you have another problem of how you access AWS. You&#39;ll need to authenticate to AWS to retrieve your secret, which may require you to store the AWS access keys somewhere, unless you have some kind of identity federation setup. But if you&#39;re able to securely store your AWS keys somewhere, you might as well store your other secrets in that manner as well... It would probably be worth knowing what platform your application _is_ running on, if any.","body":"If your application is not in AWS, you have another problem of how you access AWS. You&#39;ll need to authenticate to AWS to retrieve your secret, which may require you to store the AWS access keys somewhere, unless you have some kind of identity federation setup. But if you&#39;re able to securely store your AWS keys somewhere, you might as well store your other secrets in that manner as well... It would probably be worth knowing what platform your application <i>is</i> running on, if any."},{"owner":{"account_id":5079214,"reputation":1115,"user_id":4075832,"accept_rate":73,"display_name":"CN1002"},"score":0,"creation_date":1678774438,"post_id":75728507,"comment_id":133593934,"body_markdown":"@sytech Yes, I have access to AWS and I am storing the AWS keys in environment variables. The application in deployed on K8 cluster. I want to use AWS to store the certificate and it&#39;s key.","body":"@sytech Yes, I have access to AWS and I am storing the AWS keys in environment variables. The application in deployed on K8 cluster. I want to use AWS to store the certificate and it&#39;s key."}],"answers":[{"tags":[],"owner":{"account_id":1129561,"reputation":3271,"user_id":1115951,"display_name":"Register Sole"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678773104,"creation_date":1678773104,"answer_id":75729493,"question_id":75728507,"body_markdown":"The standard options to store secrets in AWS are Secrets Manager and Parameter Store. Secrets Manager is more costly than Parameter Store, but has the option to auto-rotate the encryption. ","title":"How to store an SSL/TLS certificate and its private key in AWS","body":"<p>The standard options to store secrets in AWS are Secrets Manager and Parameter Store. Secrets Manager is more costly than Parameter Store, but has the option to auto-rotate the encryption.</p>\n"}],"owner":{"account_id":5079214,"reputation":1115,"user_id":4075832,"accept_rate":73,"display_name":"CN1002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678773104,"creation_date":1678759617,"question_id":75728507,"body_markdown":"I have an SSL/TLS certificate and its private key, I need to include this certificate when making http calls to an API. Both my application and the API are not on AWS. \r\n\r\nI do not want to store the certificate or its private key on the application code base. \r\n\r\nHow can I store the certificate and the private key in AWS so that I retrieve them during the startup of my application, then configure my http client with the certificate and then make https calls to the external API?","title":"How to store an SSL/TLS certificate and its private key in AWS","body":"<p>I have an SSL/TLS certificate and its private key, I need to include this certificate when making http calls to an API. Both my application and the API are not on AWS.</p>\n<p>I do not want to store the certificate or its private key on the application code base.</p>\n<p>How can I store the certificate and the private key in AWS so that I retrieve them during the startup of my application, then configure my http client with the certificate and then make https calls to the external API?</p>\n"},{"tags":["java","spring","spring-boot","jdbctemplate","atomikos"],"answers":[{"comments":[{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1678786106,"post_id":75729453,"comment_id":133596576,"body_markdown":"Hi @lamic Zo, Above post is related to JPA but i need to implement it with JDBC Template. Do you have any other reference for that?","body":"Hi @lamic Zo, Above post is related to JPA but i need to implement it with JDBC Template. Do you have any other reference for that?"},{"owner":{"account_id":16198126,"reputation":31,"user_id":11695193,"display_name":"lamic Zo"},"score":0,"creation_date":1678859269,"post_id":75729453,"comment_id":133612911,"body_markdown":"I wonder if this would help https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s06.html;this is about using transaction management in Spring jdbcTemplate; 11.6.2 Using the PlatformTransactionManager is also in the documentation","body":"I wonder if this would help <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s06.html;this\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html&zwnj;&#8203;/&hellip;</a> is about using transaction management in Spring jdbcTemplate; 11.6.2 Using the PlatformTransactionManager is also in the documentation"},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1678859976,"post_id":75729453,"comment_id":133613016,"body_markdown":"Hi @Lamic Zo,above page is not found.","body":"Hi @Lamic Zo,above page is not found."},{"owner":{"account_id":16198126,"reputation":31,"user_id":11695193,"display_name":"lamic Zo"},"score":0,"creation_date":1678860151,"post_id":75729453,"comment_id":133613037,"body_markdown":"try this one https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s06.html","body":"try this one <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s06.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":16198126,"reputation":31,"user_id":11695193,"display_name":"lamic Zo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678772575,"creation_date":1678772575,"answer_id":75729453,"question_id":75729344,"body_markdown":"try PlatformTransactionManager here is the doc https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html .This bloger has the same problem with you https://medium.com/@inzuael/how-to-use-multiple-datasources-with-springboot-exposed-jpa-6bd705bfe994","title":"how to handle transaction management in multi datasource using atomikos?","body":"<p>try PlatformTransactionManager here is the doc <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html</a> .This bloger has the same problem with you <a href=\"https://medium.com/@inzuael/how-to-use-multiple-datasources-with-springboot-exposed-jpa-6bd705bfe994\" rel=\"nofollow noreferrer\">https://medium.com/@inzuael/how-to-use-multiple-datasources-with-springboot-exposed-jpa-6bd705bfe994</a></p>\n"}],"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678772575,"creation_date":1678771380,"question_id":75729344,"body_markdown":"I am having one application with multiple datasource and i am facing one issue where i am calling both datasource in one transaction and i am getting result from first datasource but when i am trying to get result from second datasource i am getting exception so at that time i want to rollback both the datasource result. so how we can do that using atomikos? or we have any other way to do it? I know one way ChainedTransactionManager but it is deprecated so we can&#39;t use it. \r\n\r\nLet me know if you have anyways to handle above situation.\r\n\r\nMy expected result is to find a way to rollback both the datasource result when we get exception in any datasource result.","title":"how to handle transaction management in multi datasource using atomikos?","body":"<p>I am having one application with multiple datasource and i am facing one issue where i am calling both datasource in one transaction and i am getting result from first datasource but when i am trying to get result from second datasource i am getting exception so at that time i want to rollback both the datasource result. so how we can do that using atomikos? or we have any other way to do it? I know one way ChainedTransactionManager but it is deprecated so we can't use it.</p>\n<p>Let me know if you have anyways to handle above situation.</p>\n<p>My expected result is to find a way to rollback both the datasource result when we get exception in any datasource result.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1663265443,"post_id":73735633,"comment_id":130204788,"body_markdown":"Try using NestedScrollView","body":"Try using NestedScrollView"},{"owner":{"account_id":20954492,"reputation":33,"user_id":15395371,"display_name":"DeeKay"},"score":0,"creation_date":1663266191,"post_id":73735633,"comment_id":130205023,"body_markdown":"@AshutoshOjha Thanks, scrolling is working fine. But overScrollMode is different for the recycler view and the whole ScrollView. I mean I want to make cardView and recyclerView as one so while reaching to the upper or lower extreme overScrollMode is working fine.","body":"@AshutoshOjha Thanks, scrolling is working fine. But overScrollMode is different for the recycler view and the whole ScrollView. I mean I want to make cardView and recyclerView as one so while reaching to the upper or lower extreme overScrollMode is working fine."}],"answers":[{"tags":[],"owner":{"account_id":15436122,"reputation":71,"user_id":11136190,"display_name":"Ruchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678771958,"creation_date":1678771958,"answer_id":75729395,"question_id":73735633,"body_markdown":"Also add below line to the recyclerview\r\n\r\n    android:nestedScrollingEnabled=&quot;false&quot;\r\n\r\n","title":"How can I place two components in ScrollView, one being a cardView and other a recyclerView","body":"<p>Also add below line to the recyclerview</p>\n<pre><code>android:nestedScrollingEnabled=&quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":20954492,"reputation":33,"user_id":15395371,"display_name":"DeeKay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678771958,"creation_date":1663265158,"question_id":73735633,"body_markdown":"I am new to android and trying to make a profile section of a social media app. The profile section is a fragment and inside this I wanted to have a CardView to hold user&#39;s information and then a RecyclerView to show user&#39;s posts. I have tried implementing this using a ScrollView and putting insinde the cardView and RecyclerView. I wanted both cardView and RecyclerView to be scroll as one, but currently the cardView is at its place and only elements in recyclerView are scrolling.\r\n\r\n**EDIT**\r\nNestedScrollView kind of worked for me. But I also wanted overScrollMode to work fine while scrolling to the end.\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.profile.ProfileFragment&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            style=&quot;?attr/materialCardViewFilledStyle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;10dp&quot;&gt;\r\n\r\n                    &lt;androidx.cardview.widget.CardView\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        app:cardCornerRadius=&quot;100dp&quot;&gt;\r\n\r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/profileDisplayPicture&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:contentDescription=&quot;@string/user_profile_picture&quot;\r\n                            android:scaleType=&quot;centerCrop&quot; /&gt;\r\n\r\n                    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:layout_margin=&quot;10dp&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/profileName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot; /&gt;\r\n\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/profileCollegeInfo&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Subhead&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;com.google.android.material.divider.MaterialDivider\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;&gt;\r\n\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/profileLinkedinBtn&quot;\r\n                        android:layout_width=&quot;36dp&quot;\r\n                        android:layout_height=&quot;36dp&quot;\r\n                        android:layout_margin=&quot;10dp&quot;\r\n                        android:contentDescription=&quot;@string/linkedin&quot;\r\n                        android:src=&quot;@drawable/ic_linkedin&quot; /&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/profileMailBtn&quot;\r\n                        android:layout_width=&quot;36dp&quot;\r\n                        android:layout_height=&quot;36dp&quot;\r\n                        android:layout_margin=&quot;10dp&quot;\r\n                        android:contentDescription=&quot;@string/mail&quot;\r\n                        android:src=&quot;@drawable/ic_gmail&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/profileRecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```","title":"How can I place two components in ScrollView, one being a cardView and other a recyclerView","body":"<p>I am new to android and trying to make a profile section of a social media app. The profile section is a fragment and inside this I wanted to have a CardView to hold user's information and then a RecyclerView to show user's posts. I have tried implementing this using a ScrollView and putting insinde the cardView and RecyclerView. I wanted both cardView and RecyclerView to be scroll as one, but currently the cardView is at its place and only elements in recyclerView are scrolling.</p>\n<p><strong>EDIT</strong>\nNestedScrollView kind of worked for me. But I also wanted overScrollMode to work fine while scrolling to the end.</p>\n<pre><code>\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.profile.ProfileFragment&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;com.google.android.material.card.MaterialCardView\n            style=&quot;?attr/materialCardViewFilledStyle&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;10dp&quot;&gt;\n\n                    &lt;androidx.cardview.widget.CardView\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        app:cardCornerRadius=&quot;100dp&quot;&gt;\n\n                        &lt;ImageView\n                            android:id=&quot;@+id/profileDisplayPicture&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;match_parent&quot;\n                            android:contentDescription=&quot;@string/user_profile_picture&quot;\n                            android:scaleType=&quot;centerCrop&quot; /&gt;\n\n                    &lt;/androidx.cardview.widget.CardView&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center_vertical&quot;\n                        android:layout_margin=&quot;10dp&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:id=&quot;@+id/profileName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot; /&gt;\n\n                        &lt;TextView\n                            android:id=&quot;@+id/profileCollegeInfo&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Subhead&quot; /&gt;\n                    &lt;/LinearLayout&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;com.google.android.material.divider.MaterialDivider\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_horizontal&quot;&gt;\n\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/profileLinkedinBtn&quot;\n                        android:layout_width=&quot;36dp&quot;\n                        android:layout_height=&quot;36dp&quot;\n                        android:layout_margin=&quot;10dp&quot;\n                        android:contentDescription=&quot;@string/linkedin&quot;\n                        android:src=&quot;@drawable/ic_linkedin&quot; /&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/profileMailBtn&quot;\n                        android:layout_width=&quot;36dp&quot;\n                        android:layout_height=&quot;36dp&quot;\n                        android:layout_margin=&quot;10dp&quot;\n                        android:contentDescription=&quot;@string/mail&quot;\n                        android:src=&quot;@drawable/ic_gmail&quot; /&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/profileRecyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","gateway"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1678750298,"post_id":75721014,"comment_id":133591102,"body_markdown":"Are that hundreds or thousands urls, web assets like css, js, etc ?","body":"Are that hundreds or thousands urls, web assets like css, js, etc ?"},{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1678766539,"post_id":75721014,"comment_id":133592968,"body_markdown":"I have pasted some of the config that shows the ignore urls  will increase to hundreds or thousands urls in the future @JRichardsz","body":"I have pasted some of the config that shows the ignore urls  will increase to hundreds or thousands urls in the future @JRichardsz"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678771737,"creation_date":1678771737,"answer_id":75729376,"question_id":75721014,"body_markdown":"Since you are **centralizing all the requests** of your company **in one gateway**, the only way to add or exclude some urls is **mapping one by one** and then the core should **ask one by one** if the incoming url should be secured or not.\r\n\r\n## Apply jwt on specific routes\r\n\r\nAs example, in case of **Kong Gateway** if you don&#39;t [add explicitly the route](https://medium.com/@far3ns/kong-the-microservice-api-gateway-526c4ca0cfa6), no body could consume the route because don&#39;t have public access enabled\r\n\r\nIn the other way, you can create the Api and then on each API you can decide to add the JWT plugin or not. \r\n\r\nSources: \r\n\r\n- https://groups.google.com/g/konglayer/c/Q18uZGFhLhw/m/Ec9fUEbMBwAJ\r\n- https://stackoverflow.com/questions/48601959/kong-jwt-excluding-endpoints-from-authorization\r\n\r\n&gt; **So you don&#39;t need to add the exclusion one by one.**\r\n\r\nI think you could add only the routes you need using this yaml\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: employeeModule\r\n        uri: http://localhost:8081/\r\n        predicates:\r\n        - Path=/employee/**\r\n      - id: consumerModule\r\n        uri: http://localhost:8082/\r\n        predicates:\r\n        - Path=/consumer/**\r\n```\r\n\r\nSource: https://www.javainuse.com/spring/cloud-gateway\r\n\r\n## Use regex to exclude\r\n\r\nUse regex could speed up the comparation\r\n\r\nYou could try something like the regex or matchers used in spring security:\r\n\r\n- https://stackoverflow.com/a/41381822/3957754\r\n- https://stackoverflow.com/questions/22767205/spring-security-exclude-url-patterns-in-security-annotation-configurartion\r\n- https://stackoverflow.com/questions/57119334/regex-doesnt-match-antmatcher-url-pattern\r\n- https://stackoverflow.com/questions/51578696/regexmatcher-for-url-with-query-parameters-in-spring-security\r\n\r\nSo the code could look like this (not tested):\r\n\r\n```\r\nList&lt;String&gt; excludeRegexList = loginExcludeUrl.getExclude();\r\n\r\nreturn excludeRegexList.stream()\r\n.noneMatch(\r\nregexPattern -&gt; r.getURI().getPath().matches(regexPattern)\r\n);};\r\n```\r\n\r\n## Use a no relation or in-memory db \r\n\r\nInstead to load the list of exclusions , you could use mongodb or redis, so you will be able to handle a lot of exclusions and query them to decide if the incoming url should be protected or not\r\n\r\n## Use another api gateway\r\n\r\nYou could use another gateway only for public or non-protected routes. You could even use a simple nginx because these endpoints should not be protected\r\n\r\n---\r\nI hope one of these options helps you","title":"How to ignore the url with a performance way in spring gateway","body":"<p>Since you are <strong>centralizing all the requests</strong> of your company <strong>in one gateway</strong>, the only way to add or exclude some urls is <strong>mapping one by one</strong> and then the core should <strong>ask one by one</strong> if the incoming url should be secured or not.</p>\n<h2>Apply jwt on specific routes</h2>\n<p>As example, in case of <strong>Kong Gateway</strong> if you don't <a href=\"https://medium.com/@far3ns/kong-the-microservice-api-gateway-526c4ca0cfa6\" rel=\"nofollow noreferrer\">add explicitly the route</a>, no body could consume the route because don't have public access enabled</p>\n<p>In the other way, you can create the Api and then on each API you can decide to add the JWT plugin or not.</p>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://groups.google.com/g/konglayer/c/Q18uZGFhLhw/m/Ec9fUEbMBwAJ\" rel=\"nofollow noreferrer\">https://groups.google.com/g/konglayer/c/Q18uZGFhLhw/m/Ec9fUEbMBwAJ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48601959/kong-jwt-excluding-endpoints-from-authorization\">Kong + JWT Excluding endpoints from authorization</a></li>\n</ul>\n<blockquote>\n<p><strong>So you don't need to add the exclusion one by one.</strong></p>\n</blockquote>\n<p>I think you could add only the routes you need using this yaml</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: employeeModule\n        uri: http://localhost:8081/\n        predicates:\n        - Path=/employee/**\n      - id: consumerModule\n        uri: http://localhost:8082/\n        predicates:\n        - Path=/consumer/**\n</code></pre>\n<p>Source: <a href=\"https://www.javainuse.com/spring/cloud-gateway\" rel=\"nofollow noreferrer\">https://www.javainuse.com/spring/cloud-gateway</a></p>\n<h2>Use regex to exclude</h2>\n<p>Use regex could speed up the comparation</p>\n<p>You could try something like the regex or matchers used in spring security:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/41381822/3957754\">https://stackoverflow.com/a/41381822/3957754</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22767205/spring-security-exclude-url-patterns-in-security-annotation-configurartion\">Spring Security exclude url patterns in security annotation configurartion</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57119334/regex-doesnt-match-antmatcher-url-pattern\">Regex doesn&#39;t match antMatcher URL pattern</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51578696/regexmatcher-for-url-with-query-parameters-in-spring-security\">regexMatcher for URL with query parameters in Spring Security</a></li>\n</ul>\n<p>So the code could look like this (not tested):</p>\n<pre><code>List&lt;String&gt; excludeRegexList = loginExcludeUrl.getExclude();\n\nreturn excludeRegexList.stream()\n.noneMatch(\nregexPattern -&gt; r.getURI().getPath().matches(regexPattern)\n);};\n</code></pre>\n<h2>Use a no relation or in-memory db</h2>\n<p>Instead to load the list of exclusions , you could use mongodb or redis, so you will be able to handle a lot of exclusions and query them to decide if the incoming url should be protected or not</p>\n<h2>Use another api gateway</h2>\n<p>You could use another gateway only for public or non-protected routes. You could even use a simple nginx because these endpoints should not be protected</p>\n<hr />\n<p>I hope one of these options helps you</p>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678771737,"creation_date":1678705407,"question_id":75721014,"body_markdown":"I have define a `JwtAuthenticationGatewayFilter` in spring gateway, now I define a list that store the url need to ignore with token valid like this:\r\n\r\n\r\n\r\n    public static Predicate&lt;ServerHttpRequest&gt; isApiSecured;\r\n    \r\n        @PostConstruct\r\n        public void initExcludePath(){\r\n           isApiSecured = r -&gt; {\r\n                List&lt;String&gt; excludeList = loginExcludeUrl.getExclude();\r\n                return excludeList.stream()\r\n                    .noneMatch(uri -&gt; r.getURI().getPath().equals(uri));};\r\n        }\r\n\r\n\r\n\r\nthe `loginExcludeUrl.getExclude()` will get the ignore urls list(hundreds or thousands). when in the filter using this function to know ignore the url or not:\r\n\r\n\r\n\r\n\r\n\r\n    if (isApiSecured.test(request)) {\r\n         return authImpl(request, exchange, chain);\r\n    }\r\n\r\n\r\n\r\nI am worry about when the ignore list increase, the whole website performance will slow down because every request should apply the list filter. is there any better way to ignore the url? Some of the url config like this:\r\n\r\n\r\n\r\n\r\n    login-check-path:\r\n      exclude: \r\n        - /post/user/reg\r\n        - /login\r\n        - /post/user/login\r\n        - /post/user/plugin/login\r\n        - /post/user/sms\r\n        - /post/auth/access_token/refresh\r\n        - /post/auth/refresh_token/refresh\r\n        - /post/article/newstories\r\n        - /post/article/originalstories\r\n        - /post/article/officialstories\r\n        - /post/article/share\r\n        - /post/article/read\r\n        - /post/article/detail\r\n        - /post/wechat/util/verifyWxToken\r\n        - /post/wechat/login/getQRCodeUrl\r\n        - /post/wechat/login/wxCallBack\r\n        - /post/alipay/login/alipayCallBack\r\n        - /post/alipay/login/getQRCodeUrl\r\n        - /post/alipay/notification/v1/alipaySeverNotification\r\n        - /post/websocket\r\n        - /manage/admin/user/login\r\n        - /dict/user/plugin/login\r\n        - /dict/user/login\r\n        - /dict/auth/access_token/refresh\r\n        - /dict/auth/refresh_token/refresh\r\n        - /fortune/user/login\r\n        - /fortune/user/guest/login\r\n        - /fortune/user/sms\r\n        - /fortune/user/reg/verify\r\n        - /fortune/auth/access-token/refresh\r\n        - /tik/user/login\r\n        - /tik/user/guest/login\r\n        - /tik/user/sms\r\n        - /tik/user/reg/verify\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to ignore the url with a performance way in spring gateway","body":"<p>I have define a <code>JwtAuthenticationGatewayFilter</code> in spring gateway, now I define a list that store the url need to ignore with token valid like this:</p>\n<pre><code>public static Predicate&lt;ServerHttpRequest&gt; isApiSecured;\n\n    @PostConstruct\n    public void initExcludePath(){\n       isApiSecured = r -&gt; {\n            List&lt;String&gt; excludeList = loginExcludeUrl.getExclude();\n            return excludeList.stream()\n                .noneMatch(uri -&gt; r.getURI().getPath().equals(uri));};\n    }\n</code></pre>\n<p>the <code>loginExcludeUrl.getExclude()</code> will get the ignore urls list(hundreds or thousands). when in the filter using this function to know ignore the url or not:</p>\n<pre><code>if (isApiSecured.test(request)) {\n     return authImpl(request, exchange, chain);\n}\n</code></pre>\n<p>I am worry about when the ignore list increase, the whole website performance will slow down because every request should apply the list filter. is there any better way to ignore the url? Some of the url config like this:</p>\n<pre><code>login-check-path:\n  exclude: \n    - /post/user/reg\n    - /login\n    - /post/user/login\n    - /post/user/plugin/login\n    - /post/user/sms\n    - /post/auth/access_token/refresh\n    - /post/auth/refresh_token/refresh\n    - /post/article/newstories\n    - /post/article/originalstories\n    - /post/article/officialstories\n    - /post/article/share\n    - /post/article/read\n    - /post/article/detail\n    - /post/wechat/util/verifyWxToken\n    - /post/wechat/login/getQRCodeUrl\n    - /post/wechat/login/wxCallBack\n    - /post/alipay/login/alipayCallBack\n    - /post/alipay/login/getQRCodeUrl\n    - /post/alipay/notification/v1/alipaySeverNotification\n    - /post/websocket\n    - /manage/admin/user/login\n    - /dict/user/plugin/login\n    - /dict/user/login\n    - /dict/auth/access_token/refresh\n    - /dict/auth/refresh_token/refresh\n    - /fortune/user/login\n    - /fortune/user/guest/login\n    - /fortune/user/sms\n    - /fortune/user/reg/verify\n    - /fortune/auth/access-token/refresh\n    - /tik/user/login\n    - /tik/user/guest/login\n    - /tik/user/sms\n    - /tik/user/reg/verify\n</code></pre>\n"},{"tags":["java","android","mobile"],"answers":[{"tags":[],"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678771104,"creation_date":1678771104,"answer_id":75729327,"question_id":74769579,"body_markdown":"There are multiple ways you can use, I am using firebase automl, If you need to detect specific card like Pakistani Id Card go to auto ml/ vision and provide data set that will create a model can be in tensorflow lite that can be used directly in mobile apps, Or you can get files which can be deployed on server and you can consume rest APIs \r\n[Check this out][1]\r\n\r\n\r\n[this link will guide you how to deploy it on server although this will be deprecated  soon you can get vertex AI link from that page][2]\r\n\r\n\r\nabove info was to detect either its a specific card or not. \r\nNext part is to extract data from provided image \r\nfor this purpose use  ML kit Text Recognization\r\n[MLKit][3]\r\nthis link will guide you how to extract texts from image.\r\n\r\n\r\n  [1]: https://console.firebase.google.com/u/2/project/digidukaan-8af17/ml/automl\r\n  [2]: https://cloud.google.com/vision/automl/docs/containers-gcs-tutorial?_ga=2.78027284.-1214327626.1662035357&amp;amp%3B_gac=1.125661688.1677067924.Cj0KCQiArsefBhCbARIsAP98hXTFdhCR0iTyW8vN-qqSj5UHzHkzY_Gl98kz_rLgUdg7p3x_Z3aVib0aAucmEALw_wcB\r\n  [3]: https://developers.google.com/ml-kit/vision/text-recognition","title":"How I can scan CNIC (ID CARD) in Android studio java","body":"<p>There are multiple ways you can use, I am using firebase automl, If you need to detect specific card like Pakistani Id Card go to auto ml/ vision and provide data set that will create a model can be in tensorflow lite that can be used directly in mobile apps, Or you can get files which can be deployed on server and you can consume rest APIs\n<a href=\"https://console.firebase.google.com/u/2/project/digidukaan-8af17/ml/automl\" rel=\"nofollow noreferrer\">Check this out</a></p>\n<p><a href=\"https://cloud.google.com/vision/automl/docs/containers-gcs-tutorial?_ga=2.78027284.-1214327626.1662035357&amp;amp%3B_gac=1.125661688.1677067924.Cj0KCQiArsefBhCbARIsAP98hXTFdhCR0iTyW8vN-qqSj5UHzHkzY_Gl98kz_rLgUdg7p3x_Z3aVib0aAucmEALw_wcB\" rel=\"nofollow noreferrer\">this link will guide you how to deploy it on server although this will be deprecated  soon you can get vertex AI link from that page</a></p>\n<p>above info was to detect either its a specific card or not.\nNext part is to extract data from provided image\nfor this purpose use  ML kit Text Recognization\n<a href=\"https://developers.google.com/ml-kit/vision/text-recognition\" rel=\"nofollow noreferrer\">MLKit</a>\nthis link will guide you how to extract texts from image.</p>\n"}],"owner":{"account_id":23618897,"reputation":11,"user_id":17652522,"display_name":"Awais Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678771104,"creation_date":1670840256,"question_id":74769579,"body_markdown":"I am building an android app, so I need to scan id card to get name, date of birth, gender, address what should I do? \r\n\r\nAndroid app to scan any identity card and get useful data from id card and need to fill in android app.","title":"How I can scan CNIC (ID CARD) in Android studio java","body":"<p>I am building an android app, so I need to scan id card to get name, date of birth, gender, address what should I do?</p>\n<p>Android app to scan any identity card and get useful data from id card and need to fill in android app.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"score":2,"creation_date":1502135327,"post_id":33438696,"comment_id":78069224,"body_markdown":"how to make this in JPQL (in Query annotation)?","body":"how to make this in JPQL (in Query annotation)?"},{"owner":{"account_id":4547518,"reputation":1684,"user_id":3693606,"accept_rate":50,"display_name":"ArslanAnjum"},"score":0,"creation_date":1503078476,"post_id":33438696,"comment_id":78482635,"body_markdown":"it can be achieved using join. see my answer.","body":"it can be achieved using join. see my answer."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":2,"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1446216391,"creation_date":1446216391,"answer_id":33438696,"question_id":33438483,"body_markdown":"The following method signature will get you want to want:\r\n\r\n    List&lt;Test&gt; findByUsers_UserName(String userName)\r\n\r\nThis is using the [property expression](http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions) feature of Spring Data JPA. The signature `Users_UserName` will be translated to the JPQL `x.users.userName`. Note that this will perform an exact match on the given username.","title":"Spring Data JPA: query ManyToMany","body":"<p>The following method signature will get you want to want:</p>\n\n<pre><code>List&lt;Test&gt; findByUsers_UserName(String userName)\n</code></pre>\n\n<p>This is using the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\">property expression</a> feature of Spring Data JPA. The signature <code>Users_UserName</code> will be translated to the JPQL <code>x.users.userName</code>. Note that this will perform an exact match on the given username.</p>\n"},{"comments":[{"owner":{"account_id":874324,"reputation":105,"user_id":2003379,"display_name":"Kevin Van Dyck"},"score":2,"creation_date":1518963829,"post_id":45762298,"comment_id":84708786,"body_markdown":"But why though?","body":"But why though?"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":1,"creation_date":1537447409,"post_id":45762298,"comment_id":91793706,"body_markdown":"@KevinVanDyck - Because you need to put the condition on the User entity but the many-to-many is not defined as bidirectional so you have to start off from the entity that defines it, ie. Test","body":"@KevinVanDyck - Because you need to put the condition on the User entity but the many-to-many is not defined as bidirectional so you have to start off from the entity that defines it, ie. Test"}],"tags":[],"owner":{"account_id":4547518,"reputation":1684,"user_id":3693606,"accept_rate":50,"display_name":"ArslanAnjum"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1503078400,"creation_date":1503078400,"answer_id":45762298,"question_id":33438483,"body_markdown":"Other answer shows how to achieve desired functionality using function naming technique. We can achieve same functionality using @Query annotation as follows:\r\n\r\n    @Query(&quot;select t from Test t join User u where u.username = :username&quot;)\r\n    List&lt;Test&gt; findAllByUsername(@Param(&quot;username&quot;)String username);","title":"Spring Data JPA: query ManyToMany","body":"<p>Other answer shows how to achieve desired functionality using function naming technique. We can achieve same functionality using @Query annotation as follows:</p>\n\n<pre><code>@Query(\"select t from Test t join User u where u.username = :username\")\nList&lt;Test&gt; findAllByUsername(@Param(\"username\")String username);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4163070,"reputation":873,"user_id":3412696,"display_name":"Rafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1592487681,"creation_date":1592487681,"answer_id":62451368,"question_id":33438483,"body_markdown":"I was using @JoinTable and I got it working with this : \r\n\r\n    @Query(&quot;select t from Test t join t.users u where u.username = :username&quot;)\r\n    List&lt;Test&gt; findAllByUsername(@Param(&quot;username&quot;) String username);\r\n\r\n`t.users u` instead of `User u`","title":"Spring Data JPA: query ManyToMany","body":"<p>I was using @JoinTable and I got it working with this : </p>\n\n<pre><code>@Query(\"select t from Test t join t.users u where u.username = :username\")\nList&lt;Test&gt; findAllByUsername(@Param(\"username\") String username);\n</code></pre>\n\n<p><code>t.users u</code> instead of <code>User u</code></p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678770899,"creation_date":1678770899,"answer_id":75729309,"question_id":33438483,"body_markdown":"You can use without underscore too\r\n\r\n    List&lt;Test&gt; findByUsersUserName(String userName)","title":"Spring Data JPA: query ManyToMany","body":"<p>You can use without underscore too</p>\n<pre><code>List&lt;Test&gt; findByUsersUserName(String userName)\n</code></pre>\n"}],"owner":{"account_id":6845316,"reputation":1598,"user_id":5264317,"accept_rate":87,"display_name":"qwe asd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64245,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":33438696,"answer_count":4,"score":64,"last_activity_date":1678770899,"creation_date":1446215705,"question_id":33438483,"body_markdown":"I have entities `User` and `Test`\r\n\r\n    @Entity\r\n    public class User {\r\n        private Long id;\r\n        private String userName;\r\n    }\r\n    \r\n    @Entity\r\n    public class Test {\r\n        private Long id;\r\n\r\n        @ManyToMany\r\n        private Set&lt;User&gt; users;\r\n    }\r\n\r\nI can get all tests by User entity:\r\n\r\n    public interface TestRepository extends JpaRepository&lt;EventSettings, Long&gt; {\r\n        List&lt;Test&gt; findAllByUsers(User user);\r\n    }\r\n\r\nBut which query can I use for finding all tests by `userName`? ","title":"Spring Data JPA: query ManyToMany","body":"<p>I have entities <code>User</code> and <code>Test</code></p>\n\n<pre><code>@Entity\npublic class User {\n    private Long id;\n    private String userName;\n}\n\n@Entity\npublic class Test {\n    private Long id;\n\n    @ManyToMany\n    private Set&lt;User&gt; users;\n}\n</code></pre>\n\n<p>I can get all tests by User entity:</p>\n\n<pre><code>public interface TestRepository extends JpaRepository&lt;EventSettings, Long&gt; {\n    List&lt;Test&gt; findAllByUsers(User user);\n}\n</code></pre>\n\n<p>But which query can I use for finding all tests by <code>userName</code>? </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1409602148,"post_id":25612363,"comment_id":40011008,"body_markdown":"Are they objects whose scope is limited to the method?","body":"Are they objects whose scope is limited to the method?"},{"owner":{"account_id":1620855,"reputation":41219,"user_id":1497454,"accept_rate":42,"display_name":"omega"},"score":0,"creation_date":1409602171,"post_id":25612363,"comment_id":40011014,"body_markdown":"yes they are limited to the method","body":"yes they are limited to the method"},{"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":4,"creation_date":1409602195,"post_id":25612363,"comment_id":40011024,"body_markdown":"Then no, that accomplishes nothing.","body":"Then no, that accomplishes nothing."},{"owner":{"account_id":1620855,"reputation":41219,"user_id":1497454,"accept_rate":42,"display_name":"omega"},"score":0,"creation_date":1409602242,"post_id":25612363,"comment_id":40011032,"body_markdown":"I thought, if you clear it, then you get back the memory right away instead of waiting for garbage collection. So doesn&#39;t that make it work it?","body":"I thought, if you clear it, then you get back the memory right away instead of waiting for garbage collection. So doesn&#39;t that make it work it?"},{"owner":{"account_id":1951492,"reputation":964,"user_id":1755470,"display_name":"SpongeBobFan"},"score":0,"creation_date":1409603366,"post_id":25612363,"comment_id":40011374,"body_markdown":"@omega, you will wait for garbage collection anyway, you cannot directly free the memory in Java. So your call to clear hashmap, sparsearray etc will do nothing at all, maybe it will increase processor load for a little (for some inconsiderable amount like one method call), but it will not affect the process of freeing a memory","body":"@omega, you will wait for garbage collection anyway, you cannot directly free the memory in Java. So your call to clear hashmap, sparsearray etc will do nothing at all, maybe it will increase processor load for a little (for some inconsiderable amount like one method call), but it will not affect the process of freeing a memory"}],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1409602343,"creation_date":1409602343,"answer_id":25612397,"question_id":25612363,"body_markdown":"&gt; In android, I make use of hashmaps and sparsearrays and sparseintarrays. In functions I use them sometimes are temporary objects. Before the function ends, it is a good practice to clear the map&#39;s data or not?\r\n\r\nNo, that accomplishes nothing.\r\n\r\n&gt; I thought, if you clear it, then you get back the memory right away instead of waiting for garbage collection. So doesn&#39;t that make it work it?\r\n\r\nClearing the collection only gets rid of the references to the items in the collection, so you still have to wait for garbage collection to get the memory back.  \r\n","title":"Is it worth it to clear maps when function ends in android?","body":"<blockquote>\n  <p>In android, I make use of hashmaps and sparsearrays and sparseintarrays. In functions I use them sometimes are temporary objects. Before the function ends, it is a good practice to clear the map's data or not?</p>\n</blockquote>\n\n<p>No, that accomplishes nothing.</p>\n\n<blockquote>\n  <p>I thought, if you clear it, then you get back the memory right away instead of waiting for garbage collection. So doesn't that make it work it?</p>\n</blockquote>\n\n<p>Clearing the collection only gets rid of the references to the items in the collection, so you still have to wait for garbage collection to get the memory back.  </p>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678770843,"creation_date":1409602378,"answer_id":25612406,"question_id":25612363,"body_markdown":"No.\r\n\r\nIt is unnecessary to do so. As the hashmap is local to the function, the hashmap will be collected by the garbage collector and it is of no difference if it is empty or not. The contents of the hashmap will also be collected if it has no other reference. It will not be collected any faster in or out of the map.\r\n\r\nTherefore clearing it simply wastes your time and clutters your code.\r\n\r\nIf however you are worried about memory, it must be some pretty large objects. If it is say a `Bitmap`, you can call `bmp.recycle()` to help garbage collection out.","title":"Is it worth it to clear maps when function ends in android?","body":"<p>No.</p>\n<p>It is unnecessary to do so. As the hashmap is local to the function, the hashmap will be collected by the garbage collector and it is of no difference if it is empty or not. The contents of the hashmap will also be collected if it has no other reference. It will not be collected any faster in or out of the map.</p>\n<p>Therefore clearing it simply wastes your time and clutters your code.</p>\n<p>If however you are worried about memory, it must be some pretty large objects. If it is say a <code>Bitmap</code>, you can call <code>bmp.recycle()</code> to help garbage collection out.</p>\n"}],"owner":{"account_id":1620855,"reputation":41219,"user_id":1497454,"accept_rate":42,"display_name":"omega"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25612397,"answer_count":2,"score":1,"last_activity_date":1678770843,"creation_date":1409602109,"question_id":25612363,"body_markdown":"In android, I make use of hashmaps and sparsearrays and sparseintarrays. In functions I use them sometimes are temporary objects. Before the function ends, it is a good practice to clear the map&#39;s data or not?\r\n\r\nThanks","title":"Is it worth it to clear maps when function ends in android?","body":"<p>In android, I make use of hashmaps and sparsearrays and sparseintarrays. In functions I use them sometimes are temporary objects. Before the function ends, it is a good practice to clear the map's data or not?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"comments":[{"owner":{"account_id":4696301,"reputation":19459,"user_id":4132844,"display_name":"scoa"},"score":7,"creation_date":1439920194,"post_id":32078573,"comment_id":52054768,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes.","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes."},{"owner":{"account_id":2051399,"reputation":7960,"user_id":1830334,"accept_rate":87,"display_name":"jds"},"score":0,"creation_date":1439921218,"post_id":32078573,"comment_id":52055382,"body_markdown":"I agree with @scoa. I was able to resolve my problem using this link and have edited your answer with the working code.","body":"I agree with @scoa. I was able to resolve my problem using this link and have edited your answer with the working code."},{"owner":{"account_id":6796652,"reputation":443,"user_id":5231639,"display_name":"java_bee"},"score":0,"creation_date":1439953753,"post_id":32078573,"comment_id":52067623,"body_markdown":"@scoa thanks for suggestion. I will follow this in future.","body":"@scoa thanks for suggestion. I will follow this in future."},{"owner":{"account_id":2727315,"reputation":318,"user_id":2352005,"accept_rate":12,"display_name":"Worse_Username"},"score":2,"creation_date":1502804722,"post_id":32078573,"comment_id":78346222,"body_markdown":"I don&#39;t get it. What was the root cause?","body":"I don&#39;t get it. What was the root cause?"},{"owner":{"account_id":3665682,"reputation":2091,"user_id":3061686,"accept_rate":80,"display_name":"akki"},"score":0,"creation_date":1624439564,"post_id":32078573,"comment_id":120357147,"body_markdown":"Now the link is invalid &amp; I can&#39;t know the root cause anymore &#128517;","body":"Now the link is invalid &amp; I can&#39;t know the root cause anymore 😅"},{"owner":{"account_id":383218,"reputation":1157,"user_id":738924,"accept_rate":78,"display_name":"theannouncer"},"score":1,"creation_date":1626459476,"post_id":32078573,"comment_id":120908006,"body_markdown":"Archived version: https://web.archive.org/web/20150805043209/http://techidiocy.com/java-lang-illegalargumentexception-wrong-fs-expected-file/","body":"Archived version: <a href=\"https://web.archive.org/web/20150805043209/http://techidiocy.com/java-lang-illegalargumentexception-wrong-fs-expected-file/\" rel=\"nofollow noreferrer\">web.archive.org/web/20150805043209/http://techidiocy.com/&hellip;</a>"},{"owner":{"account_id":383218,"reputation":1157,"user_id":738924,"accept_rate":78,"display_name":"theannouncer"},"score":0,"creation_date":1626459688,"post_id":32078573,"comment_id":120908065,"body_markdown":"From link, for posterity:\n&quot;Your Configuration object is not initialized properly because of that it is trying to find this file in your local file system where it doesn’t exists because file [you are accessing] exists on HDFS.&quot;","body":"From link, for posterity: &quot;Your Configuration object is not initialized properly because of that it is trying to find this file in your local file system where it doesn’t exists because file [you are accessing] exists on HDFS.&quot;"}],"tags":[],"owner":{"account_id":6796652,"reputation":443,"user_id":5231639,"display_name":"java_bee"},"comment_count":7,"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1439922566,"creation_date":1439917619,"answer_id":32078573,"question_id":32078441,"body_markdown":"Try this:\r\n\r\n    Configuration configuration = new Configuration();\r\n    FileSystem fs = FileSystem.get(new URI(&lt;url:port&gt;), configuration);\r\n    Path filePath = new Path(&lt;path/to/file&gt;);\r\n    FSDataInputStream fsDataInputStream = fs.open(filePath);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(fsDataInputStream));\r\n\r\nPlease refer to [http://techidiocy.com/java-lang-illegalargumentexception-wrong-fs-expected-file/][1]\r\n\r\n\r\n  [1]: http://techidiocy.com/java-lang-illegalargumentexception-wrong-fs-expected-file/\r\n\r\nA similar problem is addressed.","title":"&quot;Wrong FS... expected: file:///&quot; when trying to read file from HDFS in Java","body":"<p>Try this:</p>\n\n<pre><code>Configuration configuration = new Configuration();\nFileSystem fs = FileSystem.get(new URI(&lt;url:port&gt;), configuration);\nPath filePath = new Path(&lt;path/to/file&gt;);\nFSDataInputStream fsDataInputStream = fs.open(filePath);\nBufferedReader br = new BufferedReader(new InputStreamReader(fsDataInputStream));\n</code></pre>\n\n<p>Please refer to <a href=\"http://techidiocy.com/java-lang-illegalargumentexception-wrong-fs-expected-file/\" rel=\"noreferrer\">http://techidiocy.com/java-lang-illegalargumentexception-wrong-fs-expected-file/</a></p>\n\n<p>A similar problem is addressed.</p>\n"},{"tags":[],"owner":{"account_id":15721707,"reputation":311,"user_id":11344409,"display_name":"Sandeep Khot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586714170,"creation_date":1586714170,"answer_id":61175821,"question_id":32078441,"body_markdown":"Also below Configuration works!\r\n\r\n```\r\nConfiguration conf = new Configuration();\r\nconf.addResource(new Path(&quot;/usr/hdp/2.6.3.0-235/hadoop/etc/hadoop/core-site.xml&quot;));\r\nFileSystem fs = FileSystem.get(conf);","title":"&quot;Wrong FS... expected: file:///&quot; when trying to read file from HDFS in Java","body":"<p>Also below Configuration works!</p>\n\n<pre><code>Configuration conf = new Configuration();\nconf.addResource(new Path(\"/usr/hdp/2.6.3.0-235/hadoop/etc/hadoop/core-site.xml\"));\nFileSystem fs = FileSystem.get(conf);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678770034,"creation_date":1678770034,"answer_id":75729246,"question_id":32078441,"body_markdown":"I fixed this issue by changing the order of the class path. MapR uses their own libraries and somehow it was picking up the classes from another library.","title":"&quot;Wrong FS... expected: file:///&quot; when trying to read file from HDFS in Java","body":"<p>I fixed this issue by changing the order of the class path. MapR uses their own libraries and somehow it was picking up the classes from another library.</p>\n"}],"owner":{"account_id":2051399,"reputation":7960,"user_id":1830334,"accept_rate":87,"display_name":"jds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29325,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32078573,"answer_count":3,"score":8,"last_activity_date":1678770034,"creation_date":1439917220,"question_id":32078441,"body_markdown":"I am unable to read a file from HDFS using Java:\r\n\r\n\tString hdfsUrl = &quot;hdfs://&lt;ip&gt;:&lt;port&gt;&quot;;\r\n\tConfiguration configuration = new Configuration();\r\n\tconfiguration.set(&quot;fs.defaultFS&quot;, hdfsUrl);\r\n\tFileSystem fs = FileSystem.get(configuration);\r\n\tPath filePath = new Path(hdfsUrl + &quot;/projects/harmonizome/data/achilles/attribute_list_entries.txt.gz&quot;);\r\n\tFSDataInputStream fsDataInputStream = fs.open(filePath);\r\n\r\n    SEVERE: Servlet.service() for servlet [edu.mssm.pharm.maayanlab.Harmonizome.api.DownloadAPI] in context with path [/Harmonizome] threw exception\r\n    java.lang.IllegalArgumentException: Wrong FS: hdfs://146.203.54.165:8020/projects/harmonizome/data/achilles/attribute_list_entries.txt.gz, expected: file:///\r\n    \tat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\r\n    \tat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\r\n    \tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\r\n    \tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\r\n    \tat org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSInputChecker.&lt;init&gt;(ChecksumFileSystem.java:125)\r\n    \tat org.apache.hadoop.fs.ChecksumFileSystem.open(ChecksumFileSystem.java:283)\r\n    \tat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:356)\r\n    \tat edu.mssm.pharm.maayanlab.Harmonizome.api.DownloadAPI.readLines(DownloadAPI.java:37)\r\n    \tat edu.mssm.pharm.maayanlab.Harmonizome.api.DownloadAPI.doGet(DownloadAPI.java:27)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    ...\r\n\r\nI didn&#39;t setup our HDFS, so I don&#39;t know what I don&#39;t know. Any help is appreciated.","title":"&quot;Wrong FS... expected: file:///&quot; when trying to read file from HDFS in Java","body":"<p>I am unable to read a file from HDFS using Java:</p>\n\n<pre><code>String hdfsUrl = \"hdfs://&lt;ip&gt;:&lt;port&gt;\";\nConfiguration configuration = new Configuration();\nconfiguration.set(\"fs.defaultFS\", hdfsUrl);\nFileSystem fs = FileSystem.get(configuration);\nPath filePath = new Path(hdfsUrl + \"/projects/harmonizome/data/achilles/attribute_list_entries.txt.gz\");\nFSDataInputStream fsDataInputStream = fs.open(filePath);\n\nSEVERE: Servlet.service() for servlet [edu.mssm.pharm.maayanlab.Harmonizome.api.DownloadAPI] in context with path [/Harmonizome] threw exception\njava.lang.IllegalArgumentException: Wrong FS: hdfs://146.203.54.165:8020/projects/harmonizome/data/achilles/attribute_list_entries.txt.gz, expected: file:///\n    at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\n    at org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\n    at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\n    at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\n    at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSInputChecker.&lt;init&gt;(ChecksumFileSystem.java:125)\n    at org.apache.hadoop.fs.ChecksumFileSystem.open(ChecksumFileSystem.java:283)\n    at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:356)\n    at edu.mssm.pharm.maayanlab.Harmonizome.api.DownloadAPI.readLines(DownloadAPI.java:37)\n    at edu.mssm.pharm.maayanlab.Harmonizome.api.DownloadAPI.doGet(DownloadAPI.java:27)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n...\n</code></pre>\n\n<p>I didn't setup our HDFS, so I don't know what I don't know. Any help is appreciated.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1678765810,"post_id":75728931,"comment_id":133592891,"body_markdown":"You want to run the `BaseballTester` class, not the `Assign5` class.","body":"You want to run the <code>BaseballTester</code> class, not the <code>Assign5</code> class."},{"owner":{"account_id":28010599,"reputation":1,"user_id":21393207,"display_name":"Aire94"},"score":0,"creation_date":1678767594,"post_id":75728931,"comment_id":133593082,"body_markdown":"So I need to change the public class?","body":"So I need to change the public class?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678768116,"post_id":75728931,"comment_id":133593164,"body_markdown":"Well, `BaseballTester` is already public, so I guess you must have it in a different file.  Run _that_ file, not the one with `Assign5`.  You shouldn&#39;t need to change anything to do that.","body":"Well, <code>BaseballTester</code> is already public, so I guess you must have it in a different file.  Run <i>that</i> file, not the one with <code>Assign5</code>.  You shouldn&#39;t need to change anything to do that."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678769163,"post_id":75728931,"comment_id":133593293,"body_markdown":"Keep in mind you can only have one `public` _top-level_ class per source file.","body":"Keep in mind you can only have one <code>public</code> <i>top-level</i> class per source file."}],"answers":[{"comments":[{"owner":{"account_id":28010599,"reputation":1,"user_id":21393207,"display_name":"Aire94"},"score":0,"creation_date":1678803599,"post_id":75729171,"comment_id":133601637,"body_markdown":"I&#39;m just trying to figure out how to get it to run and meet the needs of my assignment., which is on inheritance. I feel like any time I touch it there are just read lines everywhere.","body":"I&#39;m just trying to figure out how to get it to run and meet the needs of my assignment., which is on inheritance. I feel like any time I touch it there are just read lines everywhere."}],"tags":[],"owner":{"display_name":"user4767693"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678769269,"creation_date":1678769269,"answer_id":75729171,"question_id":75728931,"body_markdown":"Main method is not able to run from the inner class. Put `BaseballTester` class out from `Baseball` class. It&#39;s better to put each class to have its own java file.\r\n\r\n```\r\n// Assign5.java\r\npublic class Assign5 { ... }\r\n\r\n// Baseball.java\r\npublic class Baseball extends Assign5 { ... }\r\n\r\n// BaseballTester.java\r\npublic class BaseballTester {\r\n    public static void main(String[] args) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Java Main method not found","body":"<p>Main method is not able to run from the inner class. Put <code>BaseballTester</code> class out from <code>Baseball</code> class. It's better to put each class to have its own java file.</p>\n<pre><code>// Assign5.java\npublic class Assign5 { ... }\n\n// Baseball.java\npublic class Baseball extends Assign5 { ... }\n\n// BaseballTester.java\npublic class BaseballTester {\n    public static void main(String[] args) {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28010599,"reputation":1,"user_id":21393207,"display_name":"Aire94"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678769269,"creation_date":1678765716,"question_id":75728931,"body_markdown":"I am getting a &quot;Error: Main method not found in class Assign5, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application&quot; message. I dont have any errors on the page and I&#39;m not sure what to do next. \r\n\r\n\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class Assign5 {\r\n\r\n  private String gamePlayed;\r\n  private HashMap &lt; String, Integer &gt; players;\r\n\r\n  public Assign5() {\r\n    gamePlayed = &quot;&quot;;\r\n    players = new HashMap &lt; String, Integer &gt; ();\r\n  }\r\n  \r\n  public Assign5(String game) {\r\n    this();\r\n    setGame(game);\r\n  }\r\n\r\n  public void addName(String name) {\r\n    players.put(name, 0);\r\n  }\r\n\r\n  public String getPlayerName(int playerNumber) {\r\n    int i = 1;\r\n    for (String name: players.keySet()) {\r\n      if (i == playerNumber) {\r\n        return name;\r\n      }\r\n      i++;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public void setGame(String game) {\r\n    gamePlayed = game;\r\n  }\r\n\r\n  public String getGame() {\r\n    return gamePlayed;\r\n  }\r\n\r\n  public int addScore(String playerName, int points) {\r\n    int currentScore = players.get(playerName);\r\n    currentScore += points;\r\n    players.put(playerName, currentScore);\r\n    return currentScore;\r\n  }\r\n\r\n  public int subScore(String playerName, int points) {\r\n    int currentScore = players.get(playerName);\r\n    currentScore -= points;\r\n    players.put(playerName, currentScore);\r\n    return currentScore;\r\n  }\r\n\r\n  public void listAllScores() {\r\n    System.out.println(&quot;Game: &quot; + gamePlayed);\r\n    for (String name: players.keySet()) {\r\n      System.out.println(name + &quot;: &quot; + players.get(name));\r\n    }\r\n  }\r\n\r\n}\r\n//******************* Section 2\r\n\r\n class Baseball extends Assign5 {\r\n  private int fouls;\r\n  private int balls;\r\n  private int strikes;\r\n  private int outs;\r\n\r\n  private double inning;\r\n\r\n  public Baseball() {\r\n    super(); \r\n    fouls = 0;\r\n    balls = 0;\r\n    strikes = 0;\r\n    outs = 0;\r\n    inning = 1.0;\r\n  }\r\n  public Baseball(String homeTeam, String visitingTeam) {\r\n    super();\r\n    setGame(homeTeam + &quot; vs &quot; + visitingTeam);\r\n    addName(homeTeam);\r\n    addName(visitingTeam);\r\n    fouls = 0;\r\n    balls = 0;\r\n    strikes = 0;\r\n    outs = 0;\r\n    inning = 1.0;\r\n  }\r\n  public void advOuts() {\r\n    outs++;\r\n    if (outs == 3) {\r\n      fouls = 0;\r\n      balls = 0;\r\n      strikes = 0;\r\n      outs = 0;\r\n      inning += 0.5;\r\n    }\r\n  }\r\n  public int getOuts() {\r\n    return outs;\r\n  }\r\n  public void advStrikes() {\r\n    strikes++;\r\n    if (strikes == 3) {\r\n      advOuts();\r\n    }\r\n  }\r\n  public int getStrikes() {\r\n    return strikes;\r\n  }\r\n  public void advFouls() {\r\n    fouls++;\r\n    if (strikes &lt; 2) {\r\n      strikes++;\r\n    }\r\n  }\r\n  public int getFouls() {\r\n    return fouls;\r\n  }\r\n\r\n  public void advBalls() {\r\n    balls++;\r\n    if (balls == 4) {\r\n      fouls = 0;\r\n      balls = 0;\r\n      strikes = 0;\r\n    }\r\n  }\r\n\r\n  public int getBalls() {\r\n    return balls;\r\n  }\r\n  \r\n  public double getInning() {\r\n    return inning;\r\n  }\r\n \r\n \r\n// Section 3: Testing Base Class\r\n  {\r\nSystem.out.println(&quot;Assessment 10 - Classes and Inheritance\\n&quot;);\r\nSystem.out.println(&quot;Section 3: Base Class Results After Adding\\n&quot;);\r\n\r\nAssign5 gameOne = new Assign5(&quot;Canasta&quot;);\r\n\r\ngameOne.addName(&quot;Larry&quot;);\r\ngameOne.addName(&quot;Moe&quot;);\r\ngameOne.addName(&quot;Curly&quot;);\r\n\r\nSystem.out.println();\r\n\r\ngameOne.addScore(&quot;Larry&quot;, 20);\r\ngameOne.addScore(&quot;Moe&quot;, 35);\r\ngameOne.addScore(&quot;Curly&quot;, 45);\r\ngameOne.listAllScores();\r\n\r\ngameOne.subScore(&quot;Moe&quot;, 15);\r\ngameOne.subScore(&quot;Curly&quot;, 5);\r\nSystem.out.println(&quot;\\nSection 3: Base Class Results After Subtracting\\n&quot;);\r\ngameOne.listAllScores();\r\n\r\nSystem.out.println(&quot;\\n\\n&quot;);\r\n\r\n }\r\npublic class BaseballTester {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Section 4: Derived Class Results: Baseball scoring\\n&quot;);\r\n    Baseball gameTwo = new Baseball(&quot;Cubs&quot;, &quot;Braves&quot;);\r\n\r\n    gameTwo.addScore(&quot;Cubs&quot;, 2);\r\n    gameTwo.advOuts();\r\n    gameTwo.advOuts();\r\n    gameTwo.advOuts();\r\n    gameTwo.addScore(&quot;Braves&quot;, 3);\r\n    gameTwo.advOuts();\r\n    gameTwo.advStrikes();\r\n    gameTwo.advFouls();\r\n    gameTwo.advFouls();\r\n    gameTwo.advFouls();\r\n    gameTwo.advBalls();\r\n    gameTwo.listAllScores();\r\n   \r\n    \r\n    System.out.println();\r\n    System.out.println(&quot;Current Inning: &quot; + gameTwo.getInning());\r\n    System.out.println(&quot;Current Outs: &quot; + gameTwo.getOuts());\r\n    System.out.println(&quot;Current Strikes: &quot; + gameTwo.getStrikes());\r\n    System.out.println(&quot;Current Fouls: &quot; + gameTwo.getFouls());\r\n    System.out.println(&quot;Current Balls: &quot; + gameTwo.getBalls());\r\n  }\r\n}\r\n}\r\n\r\n```\r\nI know that I need to add a  &quot;public static void main(String[] args)&quot; but I cant figuare out where to put it. I keep getting more errors, also where should I put the closing bracket?","title":"Java Main method not found","body":"<p>I am getting a &quot;Error: Main method not found in class Assign5, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application&quot; message. I dont have any errors on the page and I'm not sure what to do next.</p>\n<pre><code>import java.util.HashMap;\n\npublic class Assign5 {\n\n  private String gamePlayed;\n  private HashMap &lt; String, Integer &gt; players;\n\n  public Assign5() {\n    gamePlayed = &quot;&quot;;\n    players = new HashMap &lt; String, Integer &gt; ();\n  }\n  \n  public Assign5(String game) {\n    this();\n    setGame(game);\n  }\n\n  public void addName(String name) {\n    players.put(name, 0);\n  }\n\n  public String getPlayerName(int playerNumber) {\n    int i = 1;\n    for (String name: players.keySet()) {\n      if (i == playerNumber) {\n        return name;\n      }\n      i++;\n    }\n    return null;\n  }\n\n  public void setGame(String game) {\n    gamePlayed = game;\n  }\n\n  public String getGame() {\n    return gamePlayed;\n  }\n\n  public int addScore(String playerName, int points) {\n    int currentScore = players.get(playerName);\n    currentScore += points;\n    players.put(playerName, currentScore);\n    return currentScore;\n  }\n\n  public int subScore(String playerName, int points) {\n    int currentScore = players.get(playerName);\n    currentScore -= points;\n    players.put(playerName, currentScore);\n    return currentScore;\n  }\n\n  public void listAllScores() {\n    System.out.println(&quot;Game: &quot; + gamePlayed);\n    for (String name: players.keySet()) {\n      System.out.println(name + &quot;: &quot; + players.get(name));\n    }\n  }\n\n}\n//******************* Section 2\n\n class Baseball extends Assign5 {\n  private int fouls;\n  private int balls;\n  private int strikes;\n  private int outs;\n\n  private double inning;\n\n  public Baseball() {\n    super(); \n    fouls = 0;\n    balls = 0;\n    strikes = 0;\n    outs = 0;\n    inning = 1.0;\n  }\n  public Baseball(String homeTeam, String visitingTeam) {\n    super();\n    setGame(homeTeam + &quot; vs &quot; + visitingTeam);\n    addName(homeTeam);\n    addName(visitingTeam);\n    fouls = 0;\n    balls = 0;\n    strikes = 0;\n    outs = 0;\n    inning = 1.0;\n  }\n  public void advOuts() {\n    outs++;\n    if (outs == 3) {\n      fouls = 0;\n      balls = 0;\n      strikes = 0;\n      outs = 0;\n      inning += 0.5;\n    }\n  }\n  public int getOuts() {\n    return outs;\n  }\n  public void advStrikes() {\n    strikes++;\n    if (strikes == 3) {\n      advOuts();\n    }\n  }\n  public int getStrikes() {\n    return strikes;\n  }\n  public void advFouls() {\n    fouls++;\n    if (strikes &lt; 2) {\n      strikes++;\n    }\n  }\n  public int getFouls() {\n    return fouls;\n  }\n\n  public void advBalls() {\n    balls++;\n    if (balls == 4) {\n      fouls = 0;\n      balls = 0;\n      strikes = 0;\n    }\n  }\n\n  public int getBalls() {\n    return balls;\n  }\n  \n  public double getInning() {\n    return inning;\n  }\n \n \n// Section 3: Testing Base Class\n  {\nSystem.out.println(&quot;Assessment 10 - Classes and Inheritance\\n&quot;);\nSystem.out.println(&quot;Section 3: Base Class Results After Adding\\n&quot;);\n\nAssign5 gameOne = new Assign5(&quot;Canasta&quot;);\n\ngameOne.addName(&quot;Larry&quot;);\ngameOne.addName(&quot;Moe&quot;);\ngameOne.addName(&quot;Curly&quot;);\n\nSystem.out.println();\n\ngameOne.addScore(&quot;Larry&quot;, 20);\ngameOne.addScore(&quot;Moe&quot;, 35);\ngameOne.addScore(&quot;Curly&quot;, 45);\ngameOne.listAllScores();\n\ngameOne.subScore(&quot;Moe&quot;, 15);\ngameOne.subScore(&quot;Curly&quot;, 5);\nSystem.out.println(&quot;\\nSection 3: Base Class Results After Subtracting\\n&quot;);\ngameOne.listAllScores();\n\nSystem.out.println(&quot;\\n\\n&quot;);\n\n }\npublic class BaseballTester {\n  public static void main(String[] args) {\n    System.out.println(&quot;Section 4: Derived Class Results: Baseball scoring\\n&quot;);\n    Baseball gameTwo = new Baseball(&quot;Cubs&quot;, &quot;Braves&quot;);\n\n    gameTwo.addScore(&quot;Cubs&quot;, 2);\n    gameTwo.advOuts();\n    gameTwo.advOuts();\n    gameTwo.advOuts();\n    gameTwo.addScore(&quot;Braves&quot;, 3);\n    gameTwo.advOuts();\n    gameTwo.advStrikes();\n    gameTwo.advFouls();\n    gameTwo.advFouls();\n    gameTwo.advFouls();\n    gameTwo.advBalls();\n    gameTwo.listAllScores();\n   \n    \n    System.out.println();\n    System.out.println(&quot;Current Inning: &quot; + gameTwo.getInning());\n    System.out.println(&quot;Current Outs: &quot; + gameTwo.getOuts());\n    System.out.println(&quot;Current Strikes: &quot; + gameTwo.getStrikes());\n    System.out.println(&quot;Current Fouls: &quot; + gameTwo.getFouls());\n    System.out.println(&quot;Current Balls: &quot; + gameTwo.getBalls());\n  }\n}\n}\n\n</code></pre>\n<p>I know that I need to add a  &quot;public static void main(String[] args)&quot; but I cant figuare out where to put it. I keep getting more errors, also where should I put the closing bracket?</p>\n"},{"tags":["java","open-source","olingo","adal4j","nimbus-jose-jwt"],"owner":{"account_id":28011028,"reputation":1,"user_id":21393554,"display_name":"jason7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678769215,"creation_date":1678769215,"question_id":75729169,"body_markdown":"Has anyone ever check Apache Olingo Odata V2 and V4 Client libraries (including dependencies) for FIPS compliance?   \r\nWe are using below libraries in our project - \r\n1. odata-client-api-4.7.1.jar\r\n2. odata-client-core-4.7.1.jar\r\n3. odata-commons-api-4.7.1.jar\r\n4. odata-commons-core-4.7.1.jar\r\n\r\nEarlier we were using Odata4j library - \r\nhttp://odata4j.org/\r\n\r\nThere are also some other libs we are using - \r\n1. jackson databind\r\n2. apache httpclient &amp; httpcore\r\n3. gson\r\n4. nimbus\r\n\r\nSince this is time bound, any help is appreciated. \r\n\r\n\r\n\r\nI did try to search directly on vendor sites but did not find anything concrete. Wanted to confirm before I have to deep dive into code. Does this mean if Java and OS is FIPS complaint, this libraries will automatically be running in FIPS mode? ","title":"Is Apache Olingo Odata v4 client FIPS compliant","body":"<p>Has anyone ever check Apache Olingo Odata V2 and V4 Client libraries (including dependencies) for FIPS compliance?<br />\nWe are using below libraries in our project -</p>\n<ol>\n<li>odata-client-api-4.7.1.jar</li>\n<li>odata-client-core-4.7.1.jar</li>\n<li>odata-commons-api-4.7.1.jar</li>\n<li>odata-commons-core-4.7.1.jar</li>\n</ol>\n<p>Earlier we were using Odata4j library -\n<a href=\"http://odata4j.org/\" rel=\"nofollow noreferrer\">http://odata4j.org/</a></p>\n<p>There are also some other libs we are using -</p>\n<ol>\n<li>jackson databind</li>\n<li>apache httpclient &amp; httpcore</li>\n<li>gson</li>\n<li>nimbus</li>\n</ol>\n<p>Since this is time bound, any help is appreciated.</p>\n<p>I did try to search directly on vendor sites but did not find anything concrete. Wanted to confirm before I have to deep dive into code. Does this mean if Java and OS is FIPS complaint, this libraries will automatically be running in FIPS mode?</p>\n"},{"tags":["java","apache","httpclient"],"answers":[{"comments":[{"owner":{"account_id":174277,"reputation":217,"user_id":403527,"display_name":"Bob"},"score":0,"creation_date":1288081000,"post_id":4018086,"comment_id":4312488,"body_markdown":"Oh that&#39;s not the link. I&#39;ll try to change it back.","body":"Oh that&#39;s not the link. I&#39;ll try to change it back."},{"owner":{"account_id":174277,"reputation":217,"user_id":403527,"display_name":"Bob"},"score":0,"creation_date":1288081016,"post_id":4018086,"comment_id":4312492,"body_markdown":"The site is http://www.amazon.com/gp/offer-listing/0596158068/ref=dp_olp_used?ie=UTF8","body":"The site is <a href=\"http://www.amazon.com/gp/offer-listing/0596158068/ref=dp_olp_used?ie=UTF8\" rel=\"nofollow noreferrer\">amazon.com/gp/offer-listing/0596158068/ref=dp_olp_used?ie=UT&zwnj;&#8203;F8</a>"},{"owner":{"account_id":174277,"reputation":217,"user_id":403527,"display_name":"Bob"},"score":0,"creation_date":1288081642,"post_id":4018086,"comment_id":4312577,"body_markdown":"Ok, for some reason thee site gets changed by the website. There&#39;s nothing I can do about that.","body":"Ok, for some reason thee site gets changed by the website. There&#39;s nothing I can do about that."}],"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288034757,"creation_date":1288034757,"answer_id":4018086,"question_id":4017138,"body_markdown":"Did you test with any other URL?\r\n\r\nThe URL in code that you provided redirects with 302 to http://www.amazon.com/dp/05961580/?tag=stackoverfl08-20, which then returns 404 (not found).\r\n\r\nHttpClient does not handle redirects: http://hc.apache.org/httpclient-3.x/redirects.html\r\n\r\n\r\n\r\n","title":"Apache httpclient returning page before it loads?","body":"<p>Did you test with any other URL?</p>\n\n<p>The URL in code that you provided redirects with 302 to <a href=\"http://www.amazon.com/dp/05961580/?tag=stackoverfl08-20\" rel=\"nofollow noreferrer\">http://www.amazon.com/dp/05961580/?tag=stackoverfl08-20</a>, which then returns 404 (not found).</p>\n\n<p>HttpClient does not handle redirects: <a href=\"http://hc.apache.org/httpclient-3.x/redirects.html\" rel=\"nofollow noreferrer\">http://hc.apache.org/httpclient-3.x/redirects.html</a></p>\n"}],"owner":{"account_id":174277,"reputation":217,"user_id":403527,"display_name":"Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678767092,"creation_date":1288027227,"question_id":4017138,"body_markdown":"I noticed a strange phenomenon when using the apache httpclient libraries and I want to know why it occurs. I created some sample code to demonstrate.\r\nConsider the following code:\r\n \r\n\r\n    //Example URL\r\n     String url = &quot;http://www.amazon.com/gp/offer-listing/05961580/ref=dp_olp_used?ie=UTF8&quot;;\r\n     GetMethod get = new GetMethod(url);\r\n     HttpMethodRetryHandler httpHandler = new DefaultHttpMethodRetryHandler(1, false);\r\n     get.getParams().setParameter(HttpMethodParams.RETRY_HANDLER, httpHandler );\r\n     get.getParams().setCookiePolicy(CookiePolicy.IGNORE_COOKIES);\r\n     HttpConnectionManager connectionManager = new SimpleHttpConnectionManager();\r\n     HttpClient client = new HttpClient( connectionManager );\r\n     client.getParams().setParameter(&quot;http.useragent&quot;, FIREFOX );\r\n     String line;\r\n     StringBuilder stringBuilder = new StringBuilder();\r\n     String toStreamBody = null;\r\n     String toStringBody = null;\r\n     try {\r\n      int statusCode = client.executeMethod(get);\r\n      if( statusCode != HttpStatus.SC_OK ){\r\n       System.err.println(&quot;Internet Status: &quot; + HttpStatus.getStatusText(statusCode) );\r\n       System.err.println(&quot;While getting page: &quot; + url );\r\n      }\r\n     //toString\r\n      toStringBody = get.getResponseBodyAsString();\r\n     //toStream\r\n      InputStreamReader isr = new InputStreamReader(get.getResponseBodyAsStream())\r\n      BufferedReader rd = new BufferedReader(isr);\r\n      while ((line = rd.readLine()) != null) {\r\n      stringBuilder.append(line);\r\n      }\r\n     } catch (java.io.IOException ex) {\r\n      System.out.println( &quot;Failed to get page: &quot; + url);\r\n     } finally {\r\n      get.releaseConnection();\r\n     }       \r\n     toStreamBody = stringBuilder.toString();\r\n\r\nThis code prints nothing:\r\n\r\n     System.out.println(toStringBody); // &quot;&quot;\r\n\r\nThis code prints the web page:\r\n\r\n     System.out.println(toStreamBody); // &quot;Whole Page&quot;\r\n\r\nBut it gets even stranger...\r\nReplace:\r\n \r\n\r\n    get.getResponseBodyAsString();\r\n\r\nWith:\r\n\r\n     get.getResponseBodyAsString(150000);\r\n\r\nNow we get the error:\r\nFailed to get page: `http://www.amazon.com/gp/offer-listing/0596158068/ref=dp_olp_used?ie=UTF8`\r\n\r\nI was unable to find another website besides for amazon that replicates this behavior but I assume there are others. \r\n\r\nI am aware that according to the documentation at `http://hc.apache.org/httpclient-3.x/performance.html` discourages the use of `getResponseBodyAsString()`, it does not say that the page will not load, only that you may be at risk of an out of memory exception. Is it possible that `getResponseBodyAsString()` is returning the page before it loads? Why does this only happen with amazon?\r\n\r\n","title":"Apache httpclient returning page before it loads?","body":"<p>I noticed a strange phenomenon when using the apache httpclient libraries and I want to know why it occurs. I created some sample code to demonstrate.\nConsider the following code:</p>\n\n<pre><code>//Example URL\n String url = \"http://www.amazon.com/gp/offer-listing/05961580/ref=dp_olp_used?ie=UTF8\";\n GetMethod get = new GetMethod(url);\n HttpMethodRetryHandler httpHandler = new DefaultHttpMethodRetryHandler(1, false);\n get.getParams().setParameter(HttpMethodParams.RETRY_HANDLER, httpHandler );\n get.getParams().setCookiePolicy(CookiePolicy.IGNORE_COOKIES);\n HttpConnectionManager connectionManager = new SimpleHttpConnectionManager();\n HttpClient client = new HttpClient( connectionManager );\n client.getParams().setParameter(\"http.useragent\", FIREFOX );\n String line;\n StringBuilder stringBuilder = new StringBuilder();\n String toStreamBody = null;\n String toStringBody = null;\n try {\n  int statusCode = client.executeMethod(get);\n  if( statusCode != HttpStatus.SC_OK ){\n   System.err.println(\"Internet Status: \" + HttpStatus.getStatusText(statusCode) );\n   System.err.println(\"While getting page: \" + url );\n  }\n //toString\n  toStringBody = get.getResponseBodyAsString();\n //toStream\n  InputStreamReader isr = new InputStreamReader(get.getResponseBodyAsStream())\n  BufferedReader rd = new BufferedReader(isr);\n  while ((line = rd.readLine()) != null) {\n  stringBuilder.append(line);\n  }\n } catch (java.io.IOException ex) {\n  System.out.println( \"Failed to get page: \" + url);\n } finally {\n  get.releaseConnection();\n }       \n toStreamBody = stringBuilder.toString();\n</code></pre>\n\n<p>This code prints nothing:</p>\n\n<pre><code> System.out.println(toStringBody); // \"\"\n</code></pre>\n\n<p>This code prints the web page:</p>\n\n<pre><code> System.out.println(toStreamBody); // \"Whole Page\"\n</code></pre>\n\n<p>But it gets even stranger...\nReplace:</p>\n\n<pre><code>get.getResponseBodyAsString();\n</code></pre>\n\n<p>With:</p>\n\n<pre><code> get.getResponseBodyAsString(150000);\n</code></pre>\n\n<p>Now we get the error:\nFailed to get page: <code>http://www.amazon.com/gp/offer-listing/0596158068/ref=dp_olp_used?ie=UTF8</code></p>\n\n<p>I was unable to find another website besides for amazon that replicates this behavior but I assume there are others. </p>\n\n<p>I am aware that according to the documentation at <code>http://hc.apache.org/httpclient-3.x/performance.html</code> discourages the use of <code>getResponseBodyAsString()</code>, it does not say that the page will not load, only that you may be at risk of an out of memory exception. Is it possible that <code>getResponseBodyAsString()</code> is returning the page before it loads? Why does this only happen with amazon?</p>\n"},{"tags":["java","snakeyaml"],"comments":[{"owner":{"account_id":5011487,"reputation":1319,"user_id":4027644,"display_name":"Niveathika"},"score":0,"creation_date":1564757876,"post_id":56187845,"comment_id":101148017,"body_markdown":"Did you find a method for this?","body":"Did you find a method for this?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1564782460,"post_id":56187845,"comment_id":101157358,"body_markdown":"@ Niveathika No, I gave up and changed the file format.","body":"@ Niveathika No, I gave up and changed the file format."},{"owner":{"account_id":5011487,"reputation":1319,"user_id":4027644,"display_name":"Niveathika"},"score":0,"creation_date":1564811487,"post_id":56187845,"comment_id":101160894,"body_markdown":"I did a hack to solve this, I first used yaml.load() to get array list, then for each element yaml dumped it and used loadAs(). Not the best way there is, but it gets the work done.","body":"I did a hack to solve this, I first used yaml.load() to get array list, then for each element yaml dumped it and used loadAs(). Not the best way there is, but it gets the work done."}],"answers":[{"tags":[],"owner":{"account_id":1256882,"reputation":2244,"user_id":1216166,"display_name":"Andreas Berheim Brudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1573658334,"creation_date":1573658334,"answer_id":58840215,"question_id":56187845,"body_markdown":"One way would be to create your own snakeyaml Constructor like this:\r\n\r\n    public class ListConstructor&lt;T&gt; extends Constructor {\r\n      private final Class&lt;T&gt; clazz;\r\n\r\n      public ListConstructor(final Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n      }\r\n\r\n      @Override\r\n      protected Object constructObject(final Node node) {\r\n        if (node instanceof SequenceNode &amp;&amp; isRootNode(node)) {\r\n          ((SequenceNode) node).setListType(clazz);\r\n        }\r\n        return super.constructObject(node);\r\n      }\r\n\r\n      private boolean isRootNode(final Node node) {\r\n        return node.getStartMark().getIndex() == 0;\r\n      }\r\n    }\r\nand then use it when constructing the Yaml:\r\n\r\n    final Yaml yaml = new Yaml(new ListConstructor&lt;&gt;(Stage.class));","title":"How to load a list of custom objects with SnakeYaml","body":"<p>One way would be to create your own snakeyaml Constructor like this:</p>\n\n<pre><code>public class ListConstructor&lt;T&gt; extends Constructor {\n  private final Class&lt;T&gt; clazz;\n\n  public ListConstructor(final Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  @Override\n  protected Object constructObject(final Node node) {\n    if (node instanceof SequenceNode &amp;&amp; isRootNode(node)) {\n      ((SequenceNode) node).setListType(clazz);\n    }\n    return super.constructObject(node);\n  }\n\n  private boolean isRootNode(final Node node) {\n    return node.getStartMark().getIndex() == 0;\n  }\n}\n</code></pre>\n\n<p>and then use it when constructing the Yaml:</p>\n\n<pre><code>final Yaml yaml = new Yaml(new ListConstructor&lt;&gt;(Stage.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678765266,"creation_date":1678765266,"answer_id":75728899,"question_id":56187845,"body_markdown":"If you don&#39;t mind bringing in a dependency on [Jackson][1] and [Jackson Dataformat YAML][2], this can be achieved in a single line of code, using Jackson&#39;s `YAMLMapper` in conjunction with a `TypeReference`:\r\n\r\n    import java.io.InputStream;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import org.junit.jupiter.api.Test;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.dataformat.yaml.YAMLMapper;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    public class StageListTest\r\n    {\r\n        @Test\r\n        public void testLoadStage() throws Exception\r\n        {\r\n            // The YAML input file:\r\n            InputStream yaml = getClass().getClassLoader().getResourceAsStream(&quot;stagelist.yml&quot;);\r\n    \r\n            // The expected result:\r\n            List&lt;Stage&gt; expected = Arrays.asList\r\n            (\r\n                new Stage(&quot;Stage1&quot;, Arrays.asList(&quot;item1&quot;, &quot;item2&quot;)),\r\n                new Stage(&quot;Stage2&quot;, Arrays.asList(&quot;item3&quot;))\r\n            );\r\n    \r\n            // Use Jackson YAMLMapper to load file:\r\n            List&lt;Stage&gt; result = new YAMLMapper().readValue(yaml, new TypeReference&lt;List&lt;Stage&gt;&gt;() {});\r\n    \r\n            // Make sure result is as expected:\r\n            assertEquals(expected, result);\r\n        }\r\n    }\r\n\r\n(on top of getters and setters, `hashCode` and `equals` methods were added to the `Stage` type to support comparison of `Stage` objects)\r\n\r\nThe above solution uses SnakeYAML under the hood, but does not require creation of a custom type constructor.\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml","title":"How to load a list of custom objects with SnakeYaml","body":"<p>If you don't mind bringing in a dependency on <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\" rel=\"nofollow noreferrer\">Jackson</a> and <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml\" rel=\"nofollow noreferrer\">Jackson Dataformat YAML</a>, this can be achieved in a single line of code, using Jackson's <code>YAMLMapper</code> in conjunction with a <code>TypeReference</code>:</p>\n<pre><code>import java.io.InputStream;\nimport java.util.Arrays;\nimport java.util.List;\nimport org.junit.jupiter.api.Test;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.dataformat.yaml.YAMLMapper;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class StageListTest\n{\n    @Test\n    public void testLoadStage() throws Exception\n    {\n        // The YAML input file:\n        InputStream yaml = getClass().getClassLoader().getResourceAsStream(&quot;stagelist.yml&quot;);\n\n        // The expected result:\n        List&lt;Stage&gt; expected = Arrays.asList\n        (\n            new Stage(&quot;Stage1&quot;, Arrays.asList(&quot;item1&quot;, &quot;item2&quot;)),\n            new Stage(&quot;Stage2&quot;, Arrays.asList(&quot;item3&quot;))\n        );\n\n        // Use Jackson YAMLMapper to load file:\n        List&lt;Stage&gt; result = new YAMLMapper().readValue(yaml, new TypeReference&lt;List&lt;Stage&gt;&gt;() {});\n\n        // Make sure result is as expected:\n        assertEquals(expected, result);\n    }\n}\n</code></pre>\n<p>(on top of getters and setters, <code>hashCode</code> and <code>equals</code> methods were added to the <code>Stage</code> type to support comparison of <code>Stage</code> objects)</p>\n<p>The above solution uses SnakeYAML under the hood, but does not require creation of a custom type constructor.</p>\n"}],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3220,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58840215,"answer_count":2,"score":9,"last_activity_date":1678765266,"creation_date":1558101048,"question_id":56187845,"body_markdown":"I&#39;ve been trying to deserialize the following yaml to a `List&lt;Stage&gt;` using SnakeYaml:\r\n\r\n```yaml\r\n- name: Stage1\r\n  items: \r\n    - item1\r\n    - item2\r\n  \r\n- name: Stage2\r\n  items: \r\n    - item3\r\n  \r\n```\r\n\r\n\r\n\r\n```\r\npublic class Stage {\r\n    private String name;\r\n    private List&lt;String&gt; items;\r\n\r\n    public Stage() {\r\n    }\r\n\r\n    public Stage(String name, List&lt;String&gt; items) {\r\n        this.name = name;\r\n        this.items = items;\r\n    }\r\n\r\n    // getters and setters\r\n}\r\n```\r\nThe closest question I found was https://stackoverflow.com/questions/42545091/snakeyaml-deserialise-class-containing-a-list-of-objects.\r\nAfter reading it, I am aware of `Constructor` and `TypeDescriptor` classes, but I am still unable to get it working (I get list of HashMaps, not Stages).\r\n\r\nThe difference with the question in the link above is that my top-level structure is a list, not a custom object.\r\n","title":"How to load a list of custom objects with SnakeYaml","body":"<p>I've been trying to deserialize the following yaml to a <code>List&lt;Stage&gt;</code> using SnakeYaml:</p>\n\n<pre><code>- name: Stage1\n  items: \n    - item1\n    - item2\n\n- name: Stage2\n  items: \n    - item3\n\n</code></pre>\n\n<pre><code>public class Stage {\n    private String name;\n    private List&lt;String&gt; items;\n\n    public Stage() {\n    }\n\n    public Stage(String name, List&lt;String&gt; items) {\n        this.name = name;\n        this.items = items;\n    }\n\n    // getters and setters\n}\n</code></pre>\n\n<p>The closest question I found was <a href=\"https://stackoverflow.com/questions/42545091/snakeyaml-deserialise-class-containing-a-list-of-objects\">SnakeYaml Deserialise Class containing a List of Objects</a>.\nAfter reading it, I am aware of <code>Constructor</code> and <code>TypeDescriptor</code> classes, but I am still unable to get it working (I get list of HashMaps, not Stages).</p>\n\n<p>The difference with the question in the link above is that my top-level structure is a list, not a custom object.</p>\n"},{"tags":["java","methods","intellij-idea","parameters"],"answers":[{"comments":[{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":1,"creation_date":1467644175,"post_id":38187256,"comment_id":63800738,"body_markdown":"I am asking this question just to know whether there&#39;s any IDE shortcut. not in oop perspective. You can see that I have taken a dummy example. :)","body":"I am asking this question just to know whether there&#39;s any IDE shortcut. not in oop perspective. You can see that I have taken a dummy example. :)"},{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":1,"creation_date":1467645143,"post_id":38187256,"comment_id":63801266,"body_markdown":"@AdInfinitum no problem of that :), there are things to be taken from his answer. And I didn&#39;t down vote it either.","body":"@AdInfinitum no problem of that :), there are things to be taken from his answer. And I didn&#39;t down vote it either."},{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1467645650,"post_id":38187256,"comment_id":63801530,"body_markdown":"@Jagermeister at the same time if you are using modern DI framework like Guice, you may have noticed that those kind of situations can happen. And agree with you that it is kinda bad idea in oop perspective.","body":"@Jagermeister at the same time if you are using modern DI framework like Guice, you may have noticed that those kind of situations can happen. And agree with you that it is kinda bad idea in oop perspective."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1467653664,"post_id":38187256,"comment_id":63805144,"body_markdown":"@SupunWijerathne You are welcome; and I am glad that you got the concrete answers you were looking for.","body":"@SupunWijerathne You are welcome; and I am glad that you got the concrete answers you were looking for."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1467643019,"creation_date":1467643019,"answer_id":38187256,"question_id":38187098,"body_markdown":"From a clean code perspective, the answer is simple: don&#39;t do that - the less arguments your methods have, the better!\r\n\r\n**Adding** a third parameter looks like taking a really wrong route to me. \r\n\r\nProbably your favorite idea can change all your client code to use null or some empty string for the new argument ... but again: that &quot;smells&quot; bad too me. \r\n\r\nYou see: your code should be verbose on the one hand, but as &quot;concise&quot; as possible. Meaning: each and any argument on your methods do exist because your code needs them. So, if you are about to add a third argument, that maybe most of the time is null; and only in those places where you want it to &quot;mean&quot; something it is non-null, well, my two cent: don&#39;t do that: as obviously, the two-arg+null method will be doing something else than the three-arg method. If so - keep two separate methods. \r\n\r\nKeep in mind: each argument that you add to your method adds more variety to your testing scope. You really don&#39;t want that. Your methods should be as simple as possible, so they can be tested as easily as possible. ","title":"Is there a way to change method parameter list intellij?","body":"<p>From a clean code perspective, the answer is simple: don't do that - the less arguments your methods have, the better!</p>\n\n<p><strong>Adding</strong> a third parameter looks like taking a really wrong route to me. </p>\n\n<p>Probably your favorite idea can change all your client code to use null or some empty string for the new argument ... but again: that \"smells\" bad too me. </p>\n\n<p>You see: your code should be verbose on the one hand, but as \"concise\" as possible. Meaning: each and any argument on your methods do exist because your code needs them. So, if you are about to add a third argument, that maybe most of the time is null; and only in those places where you want it to \"mean\" something it is non-null, well, my two cent: don't do that: as obviously, the two-arg+null method will be doing something else than the three-arg method. If so - keep two separate methods. </p>\n\n<p>Keep in mind: each argument that you add to your method adds more variety to your testing scope. You really don't want that. Your methods should be as simple as possible, so they can be tested as easily as possible. </p>\n"},{"tags":[],"owner":{"account_id":2771051,"reputation":471,"user_id":2385658,"accept_rate":83,"display_name":"Gregsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467648288,"creation_date":1467643037,"answer_id":38187260,"question_id":38187098,"body_markdown":"You can right click on method name, then `refactor` -&gt; `change signature` (or &lt;kbd&gt;command&lt;/kbd&gt; + &lt;kbd&gt;F6&lt;/kbd&gt; if you are on a mac, &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F6&lt;/kbd&gt; in Windows, Linux).\r\n\r\nA new window should open where you can add and remove new parameters, as well as change the visibility of your method.","title":"Is there a way to change method parameter list intellij?","body":"<p>You can right click on method name, then <code>refactor</code> -> <code>change signature</code> (or <kbd>command</kbd> + <kbd>F6</kbd> if you are on a mac, <kbd>Ctrl</kbd> + <kbd>F6</kbd> in Windows, Linux).</p>\n\n<p>A new window should open where you can add and remove new parameters, as well as change the visibility of your method.</p>\n"},{"tags":[],"owner":{"account_id":8613791,"reputation":3578,"user_id":6451425,"accept_rate":95,"display_name":"Ad Infinitum"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1467669627,"creation_date":1467643053,"answer_id":38187268,"question_id":38187098,"body_markdown":"You can do the followings with intellij. \r\n\r\n With `Refactor` -&gt; `Change Signature` menu, you can:\r\n\r\n- Change the method name, return type and visibility scope.\r\n- Add new parameters and remove the existing ones. Note that you can also add a parameter using a dedicated Extract Parameter refactoring.\r\n- Reorder parameters.\r\n- Change parameter names and types.\r\n- Add and remove exceptions.\r\n- Propagate new parameters and exceptions through the method call hierarchy.\r\n\r\nTo go to `Refactor` -&gt; `Change Signature` menu\r\n\r\nIn the editor, place the cursor within the name of the method whose signature you want to change.\r\nDo one of the following:\r\n\r\n- Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F6&lt;/kbd&gt;.\r\n- Choose Refactor | Change Signature in the main menu.\r\n- Select Refactor | Change Signature from the context menu (right-click).\r\n\r\nFor more, please have a look at [here][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.1/change-method-signature-in-java.html","title":"Is there a way to change method parameter list intellij?","body":"<p>You can do the followings with intellij. </p>\n\n<p>With <code>Refactor</code> -> <code>Change Signature</code> menu, you can:</p>\n\n<ul>\n<li>Change the method name, return type and visibility scope.</li>\n<li>Add new parameters and remove the existing ones. Note that you can also add a parameter using a dedicated Extract Parameter refactoring.</li>\n<li>Reorder parameters.</li>\n<li>Change parameter names and types.</li>\n<li>Add and remove exceptions.</li>\n<li>Propagate new parameters and exceptions through the method call hierarchy.</li>\n</ul>\n\n<p>To go to <code>Refactor</code> -> <code>Change Signature</code> menu</p>\n\n<p>In the editor, place the cursor within the name of the method whose signature you want to change.\nDo one of the following:</p>\n\n<ul>\n<li>Press <kbd>Ctrl</kbd>+<kbd>F6</kbd>.</li>\n<li>Choose Refactor | Change Signature in the main menu.</li>\n<li>Select Refactor | Change Signature from the context menu (right-click).</li>\n</ul>\n\n<p>For more, please have a look at <a href=\"https://www.jetbrains.com/help/idea/2016.1/change-method-signature-in-java.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467845018,"creation_date":1467845018,"answer_id":38234981,"question_id":38187098,"body_markdown":"Just to add the some missing points here.\r\n\r\n - Adding a parameter, changing a parameter type, changing return type of the method will not be much automated with an IDE. \r\n\r\nReason is that IDE cannot guess and create or replace the assignments for the changed parameter or method usage. \r\n\r\n - Adding/changing an exception will also be pretty much semi-automated, because IDE doesn&#39;t know whether try/catch or passing exception with the method usages. You have to manually go through each and do what you want at each place. \r\n\r\n ","title":"Is there a way to change method parameter list intellij?","body":"<p>Just to add the some missing points here.</p>\n\n<ul>\n<li>Adding a parameter, changing a parameter type, changing return type of the method will not be much automated with an IDE. </li>\n</ul>\n\n<p>Reason is that IDE cannot guess and create or replace the assignments for the changed parameter or method usage. </p>\n\n<ul>\n<li>Adding/changing an exception will also be pretty much semi-automated, because IDE doesn't know whether try/catch or passing exception with the method usages. You have to manually go through each and do what you want at each place. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7003676,"reputation":507,"user_id":5368856,"display_name":"Kasthuri Shravankumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678764934,"creation_date":1678764934,"answer_id":75728878,"question_id":38187098,"body_markdown":"You can right-click on the method name, then refactor -&gt; change signature (Ctrl + F6 in Windows).\r\n\r\n","title":"Is there a way to change method parameter list intellij?","body":"<p>You can right-click on the method name, then refactor -&gt; change signature (Ctrl + F6 in Windows).</p>\n"}],"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2708,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38187268,"answer_count":5,"score":5,"last_activity_date":1678764934,"creation_date":1467642545,"question_id":38187098,"body_markdown":"To be generalized, Let&#39;s take an example like this.\r\n\r\nI have a method something like this.\r\n\r\n    public void mymethod(int param1, String param2){\r\n        //do something\r\n    }\r\n\r\nAnd I want to change it into something like this.\r\n\r\n \r\n\r\n    public void mymethod(int param1, String param2, String param3){\r\n        //do something\r\n    }\r\n\r\nIs there a preferred way to do that with intellij without breaking usages?\r\n\r\n","title":"Is there a way to change method parameter list intellij?","body":"<p>To be generalized, Let's take an example like this.</p>\n\n<p>I have a method something like this.</p>\n\n<pre><code>public void mymethod(int param1, String param2){\n    //do something\n}\n</code></pre>\n\n<p>And I want to change it into something like this.</p>\n\n<pre><code>public void mymethod(int param1, String param2, String param3){\n    //do something\n}\n</code></pre>\n\n<p>Is there a preferred way to do that with intellij without breaking usages?</p>\n"},{"tags":["java","mongodb","ssl","insecure-connection"],"comments":[{"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1624390960,"post_id":68065065,"comment_id":120345214,"body_markdown":"That code shows the host:port as `user:27017`, is that correct?","body":"That code shows the host:port as <code>user:27017</code>, is that correct?"}],"answers":[{"tags":[],"owner":{"account_id":14735534,"reputation":25,"user_id":10641682,"display_name":"Myriam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1624968647,"creation_date":1624968647,"answer_id":68178459,"question_id":68065065,"body_markdown":"I had to disable ssl (in java code)","title":"Error when connecting to MongoDB URI even though i can do with compassdb or robot t3 tools","body":"<p>I had to disable ssl (in java code)</p>\n"},{"tags":[],"owner":{"account_id":1183116,"reputation":101,"user_id":1157593,"display_name":"kaung htet naing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678763601,"creation_date":1678763601,"answer_id":75728788,"question_id":68065065,"body_markdown":"for me i remove &quot;replicaSet=rs0&amp;connectTimeoutMS=60000&amp;maxIdleTimeMS=60000&amp;readPreference=primary&amp;&quot; these from my uri connection string","title":"Error when connecting to MongoDB URI even though i can do with compassdb or robot t3 tools","body":"<p>for me i remove &quot;replicaSet=rs0&amp;connectTimeoutMS=60000&amp;maxIdleTimeMS=60000&amp;readPreference=primary&amp;&quot; these from my uri connection string</p>\n"}],"owner":{"account_id":14735534,"reputation":25,"user_id":10641682,"display_name":"Myriam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68178459,"answer_count":2,"score":0,"last_activity_date":1678763601,"creation_date":1624265504,"question_id":68065065,"body_markdown":"When i try to connect to MongoDB i get this error:\r\n\r\n&gt; exception={com.mongodb.MongoSocketException: xxxxxxx}, caused by {java.net.UnknownHostException: xxxxxxx}}]&quot;\r\n\r\nThe java code:\r\n\r\n        MongoClientURI mangoUri = new MongoClientURI(&quot;mongodb://user:pwd@xxxxxxx:27017/?authSource=admin&amp;authMechanism=SCRAM-SHA-1&amp;allowConnectionsWithoutCertificates=true&amp;sslInvalidHostnameAllowed=true&quot;);\r\n        MongoClientOptions options = MongoClientOptions.builder().sslInvalidHostNameAllowed(true).build();\r\n        MongoClient mongoClient = new MongoClient(&quot;user:27017&quot;,options) ;\r\n        mongoDatabase =mongoClient.getDatabase(&quot;test&quot;);\r\n        MongoIterable&lt;String&gt; documents = mongoDatabase.listCollectionNames();\r\n        System.out.println(documents.first());\r\n        MongoCollection&lt;Document&gt; collection = mongoDatabase.getCollection(&quot;event_cidb&quot;);\r\n        Document searchedfields=collection.find(eq(&quot;customer_id&quot;,&quot;4545454545454&quot;)).first();\r\n        System.out.println(searchedfields);\r\n        mongoClient.close();\r\n\r\nHowever in the tool compass mongodb I can connect to it: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sKkS3.png","title":"Error when connecting to MongoDB URI even though i can do with compassdb or robot t3 tools","body":"<p>When i try to connect to MongoDB i get this error:</p>\n<blockquote>\n<p>exception={com.mongodb.MongoSocketException: xxxxxxx}, caused by {java.net.UnknownHostException: xxxxxxx}}]&quot;</p>\n</blockquote>\n<p>The java code:</p>\n<pre><code>    MongoClientURI mangoUri = new MongoClientURI(&quot;mongodb://user:pwd@xxxxxxx:27017/?authSource=admin&amp;authMechanism=SCRAM-SHA-1&amp;allowConnectionsWithoutCertificates=true&amp;sslInvalidHostnameAllowed=true&quot;);\n    MongoClientOptions options = MongoClientOptions.builder().sslInvalidHostNameAllowed(true).build();\n    MongoClient mongoClient = new MongoClient(&quot;user:27017&quot;,options) ;\n    mongoDatabase =mongoClient.getDatabase(&quot;test&quot;);\n    MongoIterable&lt;String&gt; documents = mongoDatabase.listCollectionNames();\n    System.out.println(documents.first());\n    MongoCollection&lt;Document&gt; collection = mongoDatabase.getCollection(&quot;event_cidb&quot;);\n    Document searchedfields=collection.find(eq(&quot;customer_id&quot;,&quot;4545454545454&quot;)).first();\n    System.out.println(searchedfields);\n    mongoClient.close();\n</code></pre>\n<p>However in the tool compass mongodb I can connect to it:</p>\n<p><a href=\"https://i.stack.imgur.com/sKkS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sKkS3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1678736213,"post_id":75725922,"comment_id":133588302,"body_markdown":"https://reflectoring.io/spring-boot-conditionals/ or this https://stackoverflow.com/questions/65738288/how-to-dynamically-autowire-beans-in-spring-with-annotations/65751721#65751721 or this https://www.baeldung.com/spring-qualifier-annotation","body":"<a href=\"https://reflectoring.io/spring-boot-conditionals/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-boot-conditionals</a> or this <a href=\"https://stackoverflow.com/questions/65738288/how-to-dynamically-autowire-beans-in-spring-with-annotations/65751721#65751721\" title=\"how to dynamically autowire beans in spring with annotations\">stackoverflow.com/questions/65738288/&hellip;</a> or this <a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-qualifier-annotation</a>"}],"answers":[{"comments":[{"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"score":0,"creation_date":1678791320,"post_id":75728670,"comment_id":133598031,"body_markdown":"Thanks for the solution, Welsh. I used the annotation the annotation @ConditionalOnProperty(value = &quot;database.type&quot;, havingValue = &quot;value&quot;) on every Service class and i&#39;m able to load a service depending on my value form property file.\n\nThanks.","body":"Thanks for the solution, Welsh. I used the annotation the annotation @ConditionalOnProperty(value = &quot;database.type&quot;, havingValue = &quot;value&quot;) on every Service class and i&#39;m able to load a service depending on my value form property file.  Thanks."}],"tags":[],"owner":{"account_id":943758,"reputation":5238,"user_id":971423,"accept_rate":44,"display_name":"Welsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678761837,"creation_date":1678761837,"answer_id":75728670,"question_id":75725922,"body_markdown":"You should be able to add to the service class something like:\r\n```\r\n@ConditionalOnProperty(\r\n    value=&quot;IPersonService.Implementation&quot;,\r\n    havingValue = &quot;FilePersonService&quot;\r\n)\r\n```\r\nWhich will only load the service class if that property is set correctly.","title":"Springboot Dynamically Autowire a service depending of a value from property file","body":"<p>You should be able to add to the service class something like:</p>\n<pre><code>@ConditionalOnProperty(\n    value=&quot;IPersonService.Implementation&quot;,\n    havingValue = &quot;FilePersonService&quot;\n)\n</code></pre>\n<p>Which will only load the service class if that property is set correctly.</p>\n"}],"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75728670,"answer_count":1,"score":1,"last_activity_date":1678761837,"creation_date":1678734000,"question_id":75725922,"body_markdown":"I have an interface IpersonService with 2 implementation\r\n\r\n    public Interface IPersonService {\r\n\r\n        public List&lt;Person&gt; readPersons();\r\n   \r\n    }\r\n\r\n    @Service\r\n    public class FilePersonService implements IPersonService {\r\n        public List&lt;Person&gt; readPersons(){\r\n          //read from File\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @Service\r\n    public class DbPersonServiceimplements ICaseService{\r\n        @Autowired\r\n        PersonRepository repository\r\n        public List&lt;Person&gt; readPersons(){\r\n           //read from database\r\n           return repository.findAll()\r\n        }\r\n    }\r\n\r\nFrom my controller, i would like to Autowire a ICaseService depending of a value read from application.properties files.\r\n\r\n    @RestController\r\n    public class Personcontroler {\r\n        @Value(&quot;${database.type}&quot;)\r\n\t    String dbType;\r\n        @Autowired\r\n        IpersonService personService;\r\n      \r\n        @GetMapping(&quot;/persons&quot;)\r\n        public List&lt;Person&gt; readAllPersons(){\r\n            //the person service instance depend of the dbType read from application.properties file\r\n            return personService.readPersons()\r\n        }\r\n    }\r\n\r\nso depending on thr config value, i would like to have either a FilePersonService , or a DbPersonService.\r\n\r\nHow can i achive it please?\r\n\r\n\r\nthanks so much\r\n","title":"Springboot Dynamically Autowire a service depending of a value from property file","body":"<p>I have an interface IpersonService with 2 implementation</p>\n<pre><code>public Interface IPersonService {\n\n    public List&lt;Person&gt; readPersons();\n\n}\n\n@Service\npublic class FilePersonService implements IPersonService {\n    public List&lt;Person&gt; readPersons(){\n      //read from File\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Service\npublic class DbPersonServiceimplements ICaseService{\n    @Autowired\n    PersonRepository repository\n    public List&lt;Person&gt; readPersons(){\n       //read from database\n       return repository.findAll()\n    }\n}\n</code></pre>\n<p>From my controller, i would like to Autowire a ICaseService depending of a value read from application.properties files.</p>\n<pre><code>@RestController\npublic class Personcontroler {\n    @Value(&quot;${database.type}&quot;)\n    String dbType;\n    @Autowired\n    IpersonService personService;\n  \n    @GetMapping(&quot;/persons&quot;)\n    public List&lt;Person&gt; readAllPersons(){\n        //the person service instance depend of the dbType read from application.properties file\n        return personService.readPersons()\n    }\n}\n</code></pre>\n<p>so depending on thr config value, i would like to have either a FilePersonService , or a DbPersonService.</p>\n<p>How can i achive it please?</p>\n<p>thanks so much</p>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":25572138,"reputation":11,"user_id":19352321,"display_name":"Alvin Kim"},"score":0,"creation_date":1678762375,"post_id":75728655,"comment_id":133592519,"body_markdown":"I tried that, but it isn&#39;t working. I think that the file isn&#39;t even reading the second serialization because the file has the original then the modified, and every time you create a new reader, you are starting from the very beginning of the file. And, I don&#39;t want to start the writer again because I want both versions to be in one file at the end and starting the writer again would reset the file so that only the modified version is stored.","body":"I tried that, but it isn&#39;t working. I think that the file isn&#39;t even reading the second serialization because the file has the original then the modified, and every time you create a new reader, you are starting from the very beginning of the file. And, I don&#39;t want to start the writer again because I want both versions to be in one file at the end and starting the writer again would reset the file so that only the modified version is stored."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678763283,"post_id":75728655,"comment_id":133592626,"body_markdown":"You are assuming that you can have a reader and a writer both open on the same file, and that the reader will see the data written by the writer cleanly. Given that there may be buffering involved I think this is a dubious assumption.","body":"You are assuming that you can have a reader and a writer both open on the same file, and that the reader will see the data written by the writer cleanly. Given that there may be buffering involved I think this is a dubious assumption."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678763538,"post_id":75728655,"comment_id":133592652,"body_markdown":"But your real problem is that the same object will only be written once: &quot;Multiple references to a single object are encoded using a reference sharing mechanism so that graphs of objects can be restored to the same shape as when the original was written.&quot;","body":"But your real problem is that the same object will only be written once: &quot;Multiple references to a single object are encoded using a reference sharing mechanism so that graphs of objects can be restored to the same shape as when the original was written.&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1678763769,"post_id":75728655,"comment_id":133592673,"body_markdown":"One solution is to call `reset()` before writing each object. See https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#reset() But note that affects all objects.","body":"One solution is to call <code>reset()</code> before writing each object. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#reset()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a> But note that affects all objects."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678764127,"post_id":75728655,"comment_id":133592715,"body_markdown":"But do you want the whole history in the file? Why not just close the files after reading/writing each object -- it isn&#39;t expensive.","body":"But do you want the whole history in the file? Why not just close the files after reading/writing each object -- it isn&#39;t expensive."},{"owner":{"account_id":25572138,"reputation":11,"user_id":19352321,"display_name":"Alvin Kim"},"score":0,"creation_date":1678764671,"post_id":75728655,"comment_id":133592778,"body_markdown":"@tgdavies I was working on a multiplayer game and I wanted to send packets based on the same objects multiple times. In my project, I am not actually writing to a file but the problem still persisted because I am using the same socket and object output stream multiple times. But now, it works because of the reset().","body":"@tgdavies I was working on a multiplayer game and I wanted to send packets based on the same objects multiple times. In my project, I am not actually writing to a file but the problem still persisted because I am using the same socket and object output stream multiple times. But now, it works because of the reset()."}],"owner":{"account_id":25572138,"reputation":11,"user_id":19352321,"display_name":"Alvin Kim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678761584,"creation_date":1678761584,"question_id":75728655,"body_markdown":"I have a program that needs to repeatedly serialize the same object. However, when I serialize the object multiple times and deserialize it, the following deserializations do not show the changes made in the object.\r\n\r\n\r\n```\r\npublic class A implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private int field;\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        final ObjectOutputStream writer = new ObjectOutputStream(new FileOutputStream(&quot;serialized_object.bin&quot;));\r\n        final ObjectInputStream reader = new ObjectInputStream(new FileInputStream(&quot;serialized_object.bin&quot;));\r\n\r\n        final A obj = new A();\r\n\r\n        obj.field = 2;\r\n        writer.writeObject(obj);\r\n\r\n        final A deserialized1 = (A) reader.readObject();\r\n        System.out.println(&quot;first deserialized&#39;s field: &quot; + deserialized1.field);\r\n\r\n        obj.field = 3;\r\n        writer.writeObject(obj);\r\n\r\n        final A deserialized2 = (A) reader.readObject();\r\n        System.out.println(&quot;second deserialized&#39;s field: &quot; + deserialized2.field);\r\n\r\n        writer.close();\r\n        reader.close();\r\n    }\r\n}\r\n```\r\n\r\nI want this to result:\r\nfirst deserialized&#39;s field: 2\r\nsecond deserialized&#39;s field: 3\r\n\r\nActual result:\r\nfirst deserialized&#39;s field: 2\r\nsecond deserialized&#39;s field: 2\r\n\r\nIdeally, I would not have to create another instance and I would not have to output into another file either.","title":"How to serialize a modified object again?","body":"<p>I have a program that needs to repeatedly serialize the same object. However, when I serialize the object multiple times and deserialize it, the following deserializations do not show the changes made in the object.</p>\n<pre><code>public class A implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private int field;\n\n    public static void main(final String[] args) throws Exception {\n        final ObjectOutputStream writer = new ObjectOutputStream(new FileOutputStream(&quot;serialized_object.bin&quot;));\n        final ObjectInputStream reader = new ObjectInputStream(new FileInputStream(&quot;serialized_object.bin&quot;));\n\n        final A obj = new A();\n\n        obj.field = 2;\n        writer.writeObject(obj);\n\n        final A deserialized1 = (A) reader.readObject();\n        System.out.println(&quot;first deserialized's field: &quot; + deserialized1.field);\n\n        obj.field = 3;\n        writer.writeObject(obj);\n\n        final A deserialized2 = (A) reader.readObject();\n        System.out.println(&quot;second deserialized's field: &quot; + deserialized2.field);\n\n        writer.close();\n        reader.close();\n    }\n}\n</code></pre>\n<p>I want this to result:\nfirst deserialized's field: 2\nsecond deserialized's field: 3</p>\n<p>Actual result:\nfirst deserialized's field: 2\nsecond deserialized's field: 2</p>\n<p>Ideally, I would not have to create another instance and I would not have to output into another file either.</p>\n"},{"tags":["java","spring-boot","spring-boot-starter-security"],"answers":[{"comments":[{"owner":{"account_id":13080555,"reputation":121,"user_id":9451262,"display_name":"M&#252;seyib Ələkbər"},"score":0,"creation_date":1678608914,"post_id":75711151,"comment_id":133563886,"body_markdown":"I dealed with the code compatibilities, but the problem is that HttpSecurity class uses javax.xxx package again after switching to spring-cloud bom","body":"I dealed with the code compatibilities, but the problem is that HttpSecurity class uses javax.xxx package again after switching to spring-cloud bom"},{"owner":{"account_id":11040878,"reputation":123,"user_id":8108852,"display_name":"localhost-er"},"score":1,"creation_date":1678760858,"post_id":75711151,"comment_id":133592312,"body_markdown":"You forgot your *spring-security-config* dependency is still in version 5.7.5. I have updated my answer, remove that version number then it should have no javax namespace problem anymore","body":"You forgot your <i>spring-security-config</i> dependency is still in version 5.7.5. I have updated my answer, remove that version number then it should have no javax namespace problem anymore"},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1700174623,"post_id":75711151,"comment_id":136625597,"body_markdown":"spring-security-config was the problem for me, thank you","body":"spring-security-config was the problem for me, thank you"}],"tags":[],"owner":{"account_id":11040878,"reputation":123,"user_id":8108852,"display_name":"localhost-er"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678760712,"creation_date":1678597714,"answer_id":75711151,"question_id":75709111,"body_markdown":"If you intend to use Spring Boot3.x, then you can use the latest spring-cloud bom to manage the dependencies, like the following pom.xml, it will fix the conflict of `javax.xxx` between `jakarta.xxx`.\r\n\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n        &lt;!-- latest spring cloud version which supports spring boot3.x--&gt;\r\n\t\t&lt;version&gt;2022.0.1&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n    &lt;groupId&gt;your-groupId&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;your-artifactId&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- other dependencies go below --&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nbut now you may have to deal with the code compatibility problem of spring-security, since you upgraded spring-security version to spring-security6.x, see [spring-security6.x migration doc](https://docs.spring.io/spring-security/reference/migration/index.html),there are many changes.\r\n\r\n&lt;p&gt; If you don&#39;t want to deal with the spring-security code compatibility problem, then you should downgrade the spring boot back to 2.x.\r\n&lt;/p&gt;\r\n","title":"HttpSecurity and Spring Boot 3.0 incompatibility","body":"<p>If you intend to use Spring Boot3.x, then you can use the latest spring-cloud bom to manage the dependencies, like the following pom.xml, it will fix the conflict of <code>javax.xxx</code> between <code>jakarta.xxx</code>.</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n        &lt;!-- latest spring cloud version which supports spring boot3.x--&gt;\n        &lt;version&gt;2022.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;your-groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;your-artifactId&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- other dependencies go below --&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>but now you may have to deal with the code compatibility problem of spring-security, since you upgraded spring-security version to spring-security6.x, see <a href=\"https://docs.spring.io/spring-security/reference/migration/index.html\" rel=\"nofollow noreferrer\">spring-security6.x migration doc</a>,there are many changes.</p>\n<p> If you don't want to deal with the spring-security code compatibility problem, then you should downgrade the spring boot back to 2.x.\n</p>\n"}],"owner":{"account_id":13080555,"reputation":121,"user_id":9451262,"display_name":"M&#252;seyib Ələkbər"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678760712,"creation_date":1678564207,"question_id":75709111,"body_markdown":"I switched Spring Boot version from 2.5.2 to 3.0.2 and did some refactors. But stuck in this problem. HttpSecurity addFilter() method requires javax.servlet.Filter, but Spring Boot 3.0 uses jakarta. How to solve this? The codes are from a Youtube tutorial, but for Spring Boot 2.5.2\r\n\r\nMaven dependencies:\r\n\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nDue to transitive dependency vulnerability, snakeyaml version changed to 2.0\r\n\r\n\r\n----\r\n\r\nScreenshot added\r\n[![Screenshot added][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SzWx1.png","title":"HttpSecurity and Spring Boot 3.0 incompatibility","body":"<p>I switched Spring Boot version from 2.5.2 to 3.0.2 and did some refactors. But stuck in this problem. HttpSecurity addFilter() method requires javax.servlet.Filter, but Spring Boot 3.0 uses jakarta. How to solve this? The codes are from a Youtube tutorial, but for Spring Boot 2.5.2</p>\n<p>Maven dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Due to transitive dependency vulnerability, snakeyaml version changed to 2.0</p>\n<hr />\n<p>Screenshot added\n<a href=\"https://i.stack.imgur.com/SzWx1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzWx1.png\" alt=\"Screenshot added\" /></a></p>\n"},{"tags":["java","google-app-engine","servlets","guice"],"answers":[{"tags":[],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1423683971,"creation_date":1423683971,"answer_id":28463140,"question_id":28449254,"body_markdown":"The solution is to add: \r\n\r\n        bind(RemoteApiServlet.class).in(Scopes.SINGLETON);\r\n        bind(ServerServlet.class).in(Scopes.SINGLETON);","title":"Guice Singleton Servlet Binding work-around for third-party servelets","body":"<p>The solution is to add: </p>\n\n<pre><code>    bind(RemoteApiServlet.class).in(Scopes.SINGLETON);\n    bind(ServerServlet.class).in(Scopes.SINGLETON);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10409196,"reputation":141,"user_id":7675168,"display_name":"Meh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678760519,"creation_date":1678760519,"answer_id":75728566,"question_id":28449254,"body_markdown":"This can also be resolved by adding `@Singleton` above the class definition like this:\r\n\r\n```\r\n@Singleton\r\npublic class GuiceServletModule extends ServletModule {\r\n```","title":"Guice Singleton Servlet Binding work-around for third-party servelets","body":"<p>This can also be resolved by adding <code>@Singleton</code> above the class definition like this:</p>\n<pre><code>@Singleton\npublic class GuiceServletModule extends ServletModule {\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1496,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28463140,"answer_count":2,"score":9,"last_activity_date":1678760519,"creation_date":1423641552,"question_id":28449254,"body_markdown":"I&#39;m trying to figure out how to Singleton bind a servlet for my code:\r\n\r\n    public class GuiceServletModule extends ServletModule {\r\n        @Override\r\n        protected void configureServlets() {\r\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n            params.put(&quot;org.restlet.application&quot;, &quot;com.mycomp.server.RestletApplication&quot;);\r\n            serve(&quot;/rest/*&quot;).with(org.restlet.ext.servlet.ServerServlet.class, params);\r\n            serve(&quot;/remote_api&quot;).with(com.google.apphosting.utils.remoteapi.RemoteApiServlet.class);\r\n        }\r\n    }\r\n\r\nThe problem here is that both servelets the app needs to serve is a third-party library (Restlet and GAE). \r\n\r\nThe exception thrown is: \r\n\r\n    [INFO] javax.servlet.ServletException: Servlets must be bound as singletons. Key[type=org.restlet.ext.servlet.ServerServlet, annotation=[none]] was not bound in singleton scope.\r\n\r\n\r\nHow can I deal with this when the servlets is a third-party library that can&#39;t be modified at least at this point. Is there a work-around to make this work? ","title":"Guice Singleton Servlet Binding work-around for third-party servelets","body":"<p>I'm trying to figure out how to Singleton bind a servlet for my code:</p>\n\n<pre><code>public class GuiceServletModule extends ServletModule {\n    @Override\n    protected void configureServlets() {\n        Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n        params.put(\"org.restlet.application\", \"com.mycomp.server.RestletApplication\");\n        serve(\"/rest/*\").with(org.restlet.ext.servlet.ServerServlet.class, params);\n        serve(\"/remote_api\").with(com.google.apphosting.utils.remoteapi.RemoteApiServlet.class);\n    }\n}\n</code></pre>\n\n<p>The problem here is that both servelets the app needs to serve is a third-party library (Restlet and GAE). </p>\n\n<p>The exception thrown is: </p>\n\n<pre><code>[INFO] javax.servlet.ServletException: Servlets must be bound as singletons. Key[type=org.restlet.ext.servlet.ServerServlet, annotation=[none]] was not bound in singleton scope.\n</code></pre>\n\n<p>How can I deal with this when the servlets is a third-party library that can't be modified at least at this point. Is there a work-around to make this work? </p>\n"},{"tags":["java","graphics","3d"],"owner":{"account_id":26923171,"reputation":11,"user_id":20496842,"display_name":"ADARSHYODHA314"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678760083,"creation_date":1678760083,"question_id":75728537,"body_markdown":"Hello Friends Recently I made a 3d engine In which I can draw any 3d shapes it just needs the coordinates for example :\r\n```\r\n// this makes a cube in my 3d engine \r\n\r\nint size = 150;\r\ndouble[][] cube = {\r\n    {0, 0, 0}, {size, 0, 0},\r\n    {size, 0, 0}, {size, size, 0},\r\n    {size, size, 0}, {0, size, 0},\r\n    {0, size, 0}, {0, 0, 0},\r\n    {0, 0, size}, {size, 0, size},\r\n    {size, 0, size}, {size, size, size},\r\n    {size, size, size}, {0, size, size},\r\n    {0, size, size}, {0, 0, size},\r\n    {0, 0, 0}, {0, 0, size},\r\n    {size, 0, 0}, {size, 0, size},\r\n    {size, size, 0}, {size, size, size},\r\n    {0, size, 0}, {0, size, size}\r\n};\r\n\r\nMAKE3D(cube, g, new Color(0,0,0), degx, degy, degz);\r\n//degx, y, z means rotation angles by which I can rotate the 3d model. \r\n```\r\n\r\nI am using a for loop for animation \r\n```\r\nfor(double f=1;f!=360;f+=0.05){\r\n       // ROTATION degree(ANGLES)\r\n double degx=f;\r\n  double degy=f;\r\n  double degz=f; \r\n\r\nint size = 150;\r\ndouble[][] cube = {\r\n    {0, 0, 0}, {size, 0, 0},\r\n    {size, 0, 0}, {size, size, 0},\r\n    {size, size, 0}, {0, size, 0},\r\n    {0, size, 0}, {0, 0, 0},\r\n    {0, 0, size}, {size, 0, size},\r\n    {size, 0, size}, {size, size, size},\r\n    {size, size, size}, {0, size, size},\r\n    {0, size, size}, {0, 0, size},\r\n    {0, 0, 0}, {0, 0, size},\r\n    {size, 0, 0}, {size, 0, size},\r\n    {size, size, 0}, {size, size, size},\r\n    {0, size, 0}, {0, size, size}\r\n};\r\n\r\nMAKE3D(cube, g, new Color(0,0,0), degx, degy, degz);\r\nMAKE3D(cube,g,new Color(255,255,255),degx,degy,degz);\r\ng2d.clearRect(0, 0, 4000, 4000);\r\n}\r\n```\r\nIn this code I just put a white line on the lines of cube in every frame to erase the last frame. \r\n\r\nIs there any other method to make the lines of cube transparent at the end of loop. Because using white line to remove last frame became noticeable and affects the color of other 3d model behind it\r\n\r\nNote:- I am using java with its g2d graphics library and I am using g2d.drawLine() method to make lines of cube. \r\n\r\n","title":"Changing the color of already drawn g2d.DrawlLine() to transparent","body":"<p>Hello Friends Recently I made a 3d engine In which I can draw any 3d shapes it just needs the coordinates for example :</p>\n<pre><code>// this makes a cube in my 3d engine \n\nint size = 150;\ndouble[][] cube = {\n    {0, 0, 0}, {size, 0, 0},\n    {size, 0, 0}, {size, size, 0},\n    {size, size, 0}, {0, size, 0},\n    {0, size, 0}, {0, 0, 0},\n    {0, 0, size}, {size, 0, size},\n    {size, 0, size}, {size, size, size},\n    {size, size, size}, {0, size, size},\n    {0, size, size}, {0, 0, size},\n    {0, 0, 0}, {0, 0, size},\n    {size, 0, 0}, {size, 0, size},\n    {size, size, 0}, {size, size, size},\n    {0, size, 0}, {0, size, size}\n};\n\nMAKE3D(cube, g, new Color(0,0,0), degx, degy, degz);\n//degx, y, z means rotation angles by which I can rotate the 3d model. \n</code></pre>\n<p>I am using a for loop for animation</p>\n<pre><code>for(double f=1;f!=360;f+=0.05){\n       // ROTATION degree(ANGLES)\n double degx=f;\n  double degy=f;\n  double degz=f; \n\nint size = 150;\ndouble[][] cube = {\n    {0, 0, 0}, {size, 0, 0},\n    {size, 0, 0}, {size, size, 0},\n    {size, size, 0}, {0, size, 0},\n    {0, size, 0}, {0, 0, 0},\n    {0, 0, size}, {size, 0, size},\n    {size, 0, size}, {size, size, size},\n    {size, size, size}, {0, size, size},\n    {0, size, size}, {0, 0, size},\n    {0, 0, 0}, {0, 0, size},\n    {size, 0, 0}, {size, 0, size},\n    {size, size, 0}, {size, size, size},\n    {0, size, 0}, {0, size, size}\n};\n\nMAKE3D(cube, g, new Color(0,0,0), degx, degy, degz);\nMAKE3D(cube,g,new Color(255,255,255),degx,degy,degz);\ng2d.clearRect(0, 0, 4000, 4000);\n}\n</code></pre>\n<p>In this code I just put a white line on the lines of cube in every frame to erase the last frame.</p>\n<p>Is there any other method to make the lines of cube transparent at the end of loop. Because using white line to remove last frame became noticeable and affects the color of other 3d model behind it</p>\n<p>Note:- I am using java with its g2d graphics library and I am using g2d.drawLine() method to make lines of cube.</p>\n"},{"tags":["java","spring-boot","oauth","imap","spring-integration-dsl"],"owner":{"account_id":3622741,"reputation":672,"user_id":3021083,"accept_rate":62,"display_name":"Anand Tagore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678759593,"creation_date":1678751247,"question_id":75727880,"body_markdown":"We have an application to read outlook mails using IMAP. The connection is working with Oauth2 client credentials flow. The token is valid for one hour, after one hour we are getting error. The code we are using to pull inbound messages is like this\r\n\r\n\r\n```\r\n@Bean\r\n    @InboundChannelAdapter(value = &quot;emailTypeChannel&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;, maxMessagesPerPoll = &quot;1&quot;, errorChannel = &quot;errorChannel&quot;))\r\n    public MailReceivingMessageSource mailMessageSource(MailReceiver mailReceiver) throws IOException {\r\n        return new MailReceivingMessageSource(mailReceiver);\r\n    }\r\n\r\n   @Bean\r\n    public MailReceiver prepareMailReceiver() throws IOException{\r\n        ImapMailReceiver imapMailReceiver = new ImapMailReceiver(new StringBuilder(IMAP)\r\n                .append(userName).append(STRING_COLON + getAuthToken() + STRING_AT + emailServerHost + INBOX)\r\n                .toString());\r\nimapMailReceiver.setShouldMarkMessagesAsRead(true);\r\n        imapMailReceiver.setShouldDeleteMessages(true);\r\n        Properties props = System.getProperties();\r\n\r\n        props.setProperty(MAIL_STORE_PROTOCOL, PROTOCOL_IMAP);\r\n        props.setProperty(MAIL_IMAP_SOCKET_FACTORY_CLASS, JAVAX_NET_SSL_SSLSOCKET_FACTORY);\r\n        props.setProperty(MAIL_IMAP_SOCKET_FACTORY_FALLBACK, FALSE);\r\n        props.setProperty(MAIL_IMAP_HOST, OUTLOOK_OFFICE_365_COM);\r\n        props.setProperty(MAIL_IMAP_PORT, PORT_993);\r\n        props.setProperty(MAIL_IMAP_SSL_ENABLE, TRUE);\r\n        props.setProperty(MAIL_IMAP_STARTTLS_ENABLE, TRUE);\r\n        props.setProperty(MAIL_IMAP_AUTH, TRUE);\r\n        props.setProperty(MAIL_IMAP_AUTH_MECHANISMS, XOAUTH_2);\r\n        props.setProperty(MAIL_IMAP_SASL_ENABLE, TRUE);\r\n        props.setProperty(MAIL_IMAP_SASL_MECHANISMS, XOAUTH_2);\r\n        props.setProperty(MAIL_IMAP_USER, userName);\r\n        props.setProperty(MAIL_DEBUG, TRUE);\r\n        props.setProperty(MAIL_DEBUG_AUTH, TRUE);\r\n        props.setProperty(MAIL_IMAP_AUTH_PLAIN_DISABLE, TRUE);\r\n        props.setProperty(MAIL_IMAP_AUTH_XOAUTH_2_DISABLE, FALSE);\r\n        imapMailReceiver.setJavaMailProperties(props);\r\n        return imapMailReceiver;\r\n    }\r\n\r\n```\r\nIs there anyway to renew the token after 1 hour as the client credential token is valid only for an hour","title":"Spring integration mail with Microsoft Outlook oauth2 client credentials flow token renewal","body":"<p>We have an application to read outlook mails using IMAP. The connection is working with Oauth2 client credentials flow. The token is valid for one hour, after one hour we are getting error. The code we are using to pull inbound messages is like this</p>\n<pre><code>@Bean\n    @InboundChannelAdapter(value = &quot;emailTypeChannel&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;, maxMessagesPerPoll = &quot;1&quot;, errorChannel = &quot;errorChannel&quot;))\n    public MailReceivingMessageSource mailMessageSource(MailReceiver mailReceiver) throws IOException {\n        return new MailReceivingMessageSource(mailReceiver);\n    }\n\n   @Bean\n    public MailReceiver prepareMailReceiver() throws IOException{\n        ImapMailReceiver imapMailReceiver = new ImapMailReceiver(new StringBuilder(IMAP)\n                .append(userName).append(STRING_COLON + getAuthToken() + STRING_AT + emailServerHost + INBOX)\n                .toString());\nimapMailReceiver.setShouldMarkMessagesAsRead(true);\n        imapMailReceiver.setShouldDeleteMessages(true);\n        Properties props = System.getProperties();\n\n        props.setProperty(MAIL_STORE_PROTOCOL, PROTOCOL_IMAP);\n        props.setProperty(MAIL_IMAP_SOCKET_FACTORY_CLASS, JAVAX_NET_SSL_SSLSOCKET_FACTORY);\n        props.setProperty(MAIL_IMAP_SOCKET_FACTORY_FALLBACK, FALSE);\n        props.setProperty(MAIL_IMAP_HOST, OUTLOOK_OFFICE_365_COM);\n        props.setProperty(MAIL_IMAP_PORT, PORT_993);\n        props.setProperty(MAIL_IMAP_SSL_ENABLE, TRUE);\n        props.setProperty(MAIL_IMAP_STARTTLS_ENABLE, TRUE);\n        props.setProperty(MAIL_IMAP_AUTH, TRUE);\n        props.setProperty(MAIL_IMAP_AUTH_MECHANISMS, XOAUTH_2);\n        props.setProperty(MAIL_IMAP_SASL_ENABLE, TRUE);\n        props.setProperty(MAIL_IMAP_SASL_MECHANISMS, XOAUTH_2);\n        props.setProperty(MAIL_IMAP_USER, userName);\n        props.setProperty(MAIL_DEBUG, TRUE);\n        props.setProperty(MAIL_DEBUG_AUTH, TRUE);\n        props.setProperty(MAIL_IMAP_AUTH_PLAIN_DISABLE, TRUE);\n        props.setProperty(MAIL_IMAP_AUTH_XOAUTH_2_DISABLE, FALSE);\n        imapMailReceiver.setJavaMailProperties(props);\n        return imapMailReceiver;\n    }\n\n</code></pre>\n<p>Is there anyway to renew the token after 1 hour as the client credential token is valid only for an hour</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678752631,"creation_date":1678752631,"answer_id":75728009,"question_id":75727868,"body_markdown":"The XPath looks OK to me. Maybe there&#39;s a bug in the XPath implementation. That would depend on which driver you are using, I think. \r\n\r\nIt seems to me, though, that if it did work correctly it would return the `p` elements in reverse order (because it returns elements read from the `preceding-sibling` axis), and I&#39;m thinking it&#39;s unlikely you&#39;d actually want that. \r\n\r\nTo work around the bug, you might try this slightly simpler XPath query:\r\n\r\n```xpath\r\n//div[@class=&#39;my-class&#39;]/p\r\n   [following-sibling::h3[contains(., &#39;Conclusion&#39;)]]\r\n   [preceding-sibling::h3[contains(., &#39;Introduction&#39;)]]\r\n```\r\n\r\nOr if you know the full text of the `h3` elements, then you don&#39;t need `contains`:\r\n```xpath\r\n//div[@class=&#39;my-class&#39;]/p\r\n   [following-sibling::h3=&#39;Conclusion&#39;)]\r\n   [preceding-sibling::h3=&#39;Introduction&#39;)]\r\n```\r\n","title":"Xpath: Extracting text of tags between two different types of tags using selenium","body":"<p>The XPath looks OK to me. Maybe there's a bug in the XPath implementation. That would depend on which driver you are using, I think.</p>\n<p>It seems to me, though, that if it did work correctly it would return the <code>p</code> elements in reverse order (because it returns elements read from the <code>preceding-sibling</code> axis), and I'm thinking it's unlikely you'd actually want that.</p>\n<p>To work around the bug, you might try this slightly simpler XPath query:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//div[@class='my-class']/p\n   [following-sibling::h3[contains(., 'Conclusion')]]\n   [preceding-sibling::h3[contains(., 'Introduction')]]\n</code></pre>\n<p>Or if you know the full text of the <code>h3</code> elements, then you don't need <code>contains</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//div[@class='my-class']/p\n   [following-sibling::h3='Conclusion')]\n   [preceding-sibling::h3='Introduction')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678756626,"creation_date":1678756626,"answer_id":75728291,"question_id":75727868,"body_markdown":"The following XPath works with a XPath 1.0 capable tool like `xmllint`  \r\n`//div[@class=&quot;my-class&quot;]/p[following-sibling::h3[contains(., &quot;Conclusion&quot;)] and preceding-sibling::h3[contains(., &quot;Introduction&quot;)]]`\r\n\r\n    xmllint --html --xpath &#39;//div[@class=&quot;my-class&quot;]/p[following-sibling::h3[contains(., &quot;Conclusion&quot;)] and preceding-sibling::h3[contains(., &quot;Introduction&quot;)]]&#39; tmp.html \r\n\r\nResult\r\n\r\n    &lt;p&gt;This is a paragraph 4&lt;/p&gt;\r\n    &lt;p&gt;This is a paragraph 5&lt;/p&gt;\r\n    &lt;p&gt;This is a paragraph 6&lt;/p&gt;\r\n    &lt;p&gt;This is a paragraph 7&lt;/p&gt;\r\n    &lt;p&gt;This is a paragraph 8&lt;/p&gt;\r\n    &lt;p&gt;This is a paragraph 9&lt;/p&gt;","title":"Xpath: Extracting text of tags between two different types of tags using selenium","body":"<p>The following XPath works with a XPath 1.0 capable tool like <code>xmllint</code><br />\n<code>//div[@class=&quot;my-class&quot;]/p[following-sibling::h3[contains(., &quot;Conclusion&quot;)] and preceding-sibling::h3[contains(., &quot;Introduction&quot;)]]</code></p>\n<pre><code>xmllint --html --xpath '//div[@class=&quot;my-class&quot;]/p[following-sibling::h3[contains(., &quot;Conclusion&quot;)] and preceding-sibling::h3[contains(., &quot;Introduction&quot;)]]' tmp.html \n</code></pre>\n<p>Result</p>\n<pre><code>&lt;p&gt;This is a paragraph 4&lt;/p&gt;\n&lt;p&gt;This is a paragraph 5&lt;/p&gt;\n&lt;p&gt;This is a paragraph 6&lt;/p&gt;\n&lt;p&gt;This is a paragraph 7&lt;/p&gt;\n&lt;p&gt;This is a paragraph 8&lt;/p&gt;\n&lt;p&gt;This is a paragraph 9&lt;/p&gt;\n</code></pre>\n"}],"owner":{"account_id":27557229,"reputation":1,"user_id":21031182,"display_name":"cool_cucumber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678756626,"creation_date":1678751092,"question_id":75727868,"body_markdown":"I&#39;m using Selenium and I&#39;m having a problem selecting tags between two other types of tags.\r\n\r\n```\r\n&lt;div class=&#39;my-class&#39;&gt;\r\n&lt;p&gt;This is a paragraph 1&lt;/p&gt;&lt;p&gt;This is a paragraph 2&lt;/p&gt;&lt;p&gt;This is a paragraph 3&lt;/p&gt;\r\n&lt;h3&gt;Introduction&lt;/h3&gt;\r\n&lt;p&gt;This is a paragraph 4&lt;/p&gt;&lt;p&gt;This is a paragraph 5&lt;/p&gt;&lt;p&gt;This is a paragraph 6&lt;/p&gt;\r\n&lt;p&gt;This is a paragraph 7&lt;/p&gt;&lt;p&gt;This is a paragraph 8&lt;/p&gt;&lt;p&gt;This is a paragraph 9&lt;/p&gt;\r\n&lt;h3&gt;Conclusion&lt;/h3&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nWhat I&#39;m trying to do is to grab only the paragraphs between the &quot;Introduction&quot; and &quot;Conclusion&quot; tags, nothing else before or after.  This is the xpath notation that seems to work perfectly with an online validator but not in Selenium:\r\n\r\n```\r\n//div[@class=&#39;my-class&#39;]/h3[contains(., &#39;Conclusion&#39;)]/preceding-sibling::p[preceding-sibling::h3[contains(., &#39;Introduction&#39;)]]\r\n```\r\n\r\nHere is my Selenium code:\r\n\r\n```\r\nallElementsArray = driver.findElements(By.xpath(path));\r\n```\r\n\r\nI believe the xpath notation works because it works with a validator, but when running with Selenium it returns no matches.  What am I doing wrong?\r\n\r\nTried the xpath in an xpath web tester and it worked, but it does not work in Selenium code.","title":"Xpath: Extracting text of tags between two different types of tags using selenium","body":"<p>I'm using Selenium and I'm having a problem selecting tags between two other types of tags.</p>\n<pre><code>&lt;div class='my-class'&gt;\n&lt;p&gt;This is a paragraph 1&lt;/p&gt;&lt;p&gt;This is a paragraph 2&lt;/p&gt;&lt;p&gt;This is a paragraph 3&lt;/p&gt;\n&lt;h3&gt;Introduction&lt;/h3&gt;\n&lt;p&gt;This is a paragraph 4&lt;/p&gt;&lt;p&gt;This is a paragraph 5&lt;/p&gt;&lt;p&gt;This is a paragraph 6&lt;/p&gt;\n&lt;p&gt;This is a paragraph 7&lt;/p&gt;&lt;p&gt;This is a paragraph 8&lt;/p&gt;&lt;p&gt;This is a paragraph 9&lt;/p&gt;\n&lt;h3&gt;Conclusion&lt;/h3&gt;\n&lt;/div&gt;\n</code></pre>\n<p>What I'm trying to do is to grab only the paragraphs between the &quot;Introduction&quot; and &quot;Conclusion&quot; tags, nothing else before or after.  This is the xpath notation that seems to work perfectly with an online validator but not in Selenium:</p>\n<pre><code>//div[@class='my-class']/h3[contains(., 'Conclusion')]/preceding-sibling::p[preceding-sibling::h3[contains(., 'Introduction')]]\n</code></pre>\n<p>Here is my Selenium code:</p>\n<pre><code>allElementsArray = driver.findElements(By.xpath(path));\n</code></pre>\n<p>I believe the xpath notation works because it works with a validator, but when running with Selenium it returns no matches.  What am I doing wrong?</p>\n<p>Tried the xpath in an xpath web tester and it worked, but it does not work in Selenium code.</p>\n"},{"tags":["java","html-parsing","wikipedia"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678755974,"post_id":75728217,"comment_id":133591731,"body_markdown":"You haven&#39;t asked a question.","body":"You haven&#39;t asked a question."},{"owner":{"account_id":26255506,"reputation":11,"user_id":19927599,"display_name":"Tiffany"},"score":0,"creation_date":1678756150,"post_id":75728217,"comment_id":133591760,"body_markdown":"I added a question","body":"I added a question"}],"owner":{"account_id":26255506,"reputation":11,"user_id":19927599,"display_name":"Tiffany"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678756131,"creation_date":1678755853,"question_id":75728217,"body_markdown":"When inputting for example Linux, it will look for the first instance of /wiki/Geographic_coordinate_system, if it isn&#39;t found, it will look at its direct children to find it. \r\n\r\nMy expected output is \r\n&gt; Searching: Linux - Wikipedia\r\n&gt; Checking children:\r\n&gt; Found in: Bell Labs - Wikipedia\r\n\r\nI&#39;m not printing the second line because I think it is recursively going through the children without going back to main. How do I loop back to main before checking my children so that it goes through my if statement?\r\n```\r\npublic static void main(String args[]) throws Exception {\r\n        String subject = args[0].replace(&quot; &quot;, &quot;_&quot;);\r\n        System.out.println(&quot;Searching: &quot; + subject + &quot; - Wikipedia&quot;);\r\n\r\n        URL url = new URL(&quot;https://en.wikipedia.org/wiki/&quot; + subject);\r\n\r\n        try {\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n            StringBuilder sb = new StringBuilder();\r\n            String input;\r\n            while ((input = in.readLine()) != null) {\r\n                sb.append(input);\r\n            }\r\n            in.close();\r\n\r\n            ParserDelegator parser = new ParserDelegator();\r\n            MyParserCallback callback = new MyParserCallback();\r\n            parser.parse(new StringReader(sb.toString()), callback, true);\r\n\r\n            if (!callback.hasFound()) {\r\n                System.out.println(&quot;Checking children:&quot;);\r\n\r\n                Set&lt;String&gt; visitedLinks = new HashSet&lt;&gt;();\r\n                visitedLinks.add(&quot;/wiki/&quot; + subject);\r\n\r\n                for (String href : callback.visitedLinks) {\r\n                    if (!visitedLinks.contains(href)) {\r\n                        visitedLinks.add(href);\r\n\r\n                        String childUrl = &quot;https://en.wikipedia.org&quot; + href;\r\n                        BufferedReader childIn = new BufferedReader(new InputStreamReader(new URL(childUrl).openStream()));\r\n                        StringBuilder childSb = new StringBuilder();\r\n                        while ((input = childIn.readLine()) != null) {\r\n                            childSb.append(input);\r\n                        }\r\n                        childIn.close();\r\n\r\n                        ParserDelegator childParser = new ParserDelegator();\r\n                        MyParserCallback childCallback = new MyParserCallback();\r\n                        childParser.parse(new StringReader(childSb.toString()), childCallback, true);\r\n\r\n                        if (childCallback.hasFound()) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n```\r\n\r\n","title":"Using ParseDelegator to find the first occurrence of /wiki/Geographic_coordinate_system in input or its children","body":"<p>When inputting for example Linux, it will look for the first instance of /wiki/Geographic_coordinate_system, if it isn't found, it will look at its direct children to find it.</p>\n<p>My expected output is</p>\n<blockquote>\n<p>Searching: Linux - Wikipedia\nChecking children:\nFound in: Bell Labs - Wikipedia</p>\n</blockquote>\n<p>I'm not printing the second line because I think it is recursively going through the children without going back to main. How do I loop back to main before checking my children so that it goes through my if statement?</p>\n<pre><code>public static void main(String args[]) throws Exception {\n        String subject = args[0].replace(&quot; &quot;, &quot;_&quot;);\n        System.out.println(&quot;Searching: &quot; + subject + &quot; - Wikipedia&quot;);\n\n        URL url = new URL(&quot;https://en.wikipedia.org/wiki/&quot; + subject);\n\n        try {\n            BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n            StringBuilder sb = new StringBuilder();\n            String input;\n            while ((input = in.readLine()) != null) {\n                sb.append(input);\n            }\n            in.close();\n\n            ParserDelegator parser = new ParserDelegator();\n            MyParserCallback callback = new MyParserCallback();\n            parser.parse(new StringReader(sb.toString()), callback, true);\n\n            if (!callback.hasFound()) {\n                System.out.println(&quot;Checking children:&quot;);\n\n                Set&lt;String&gt; visitedLinks = new HashSet&lt;&gt;();\n                visitedLinks.add(&quot;/wiki/&quot; + subject);\n\n                for (String href : callback.visitedLinks) {\n                    if (!visitedLinks.contains(href)) {\n                        visitedLinks.add(href);\n\n                        String childUrl = &quot;https://en.wikipedia.org&quot; + href;\n                        BufferedReader childIn = new BufferedReader(new InputStreamReader(new URL(childUrl).openStream()));\n                        StringBuilder childSb = new StringBuilder();\n                        while ((input = childIn.readLine()) != null) {\n                            childSb.append(input);\n                        }\n                        childIn.close();\n\n                        ParserDelegator childParser = new ParserDelegator();\n                        MyParserCallback childCallback = new MyParserCallback();\n                        childParser.parse(new StringReader(childSb.toString()), childCallback, true);\n\n                        if (childCallback.hasFound()) {\n                            return;\n                        }\n                    }\n                }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678756106,"creation_date":1678756106,"answer_id":75728241,"question_id":75728119,"body_markdown":"Make sure that you select\r\n\r\n- Language - Java\r\n\r\n- Project - Maven\r\n   \r\n- Spring Boot - 3.0.4\r\n   \r\n- Project medatadata -&gt; Name -&gt; ***`Test`***\r\n   \r\n- Packaging - Jar\r\n   \r\n- Java - 17\r\n\r\nGenerate\r\n\r\nIn your folder there will be a file since you added value in Name &quot;Test&quot;\r\n\r\ndemo\\src\\main\\java\\com\\example\\demo\\TestApplication.java\r\n\r\nI just tested it, it is working as expected.","title":"Main.java instead of (project name)Application.java","body":"<p>Make sure that you select</p>\n<ul>\n<li><p>Language - Java</p>\n</li>\n<li><p>Project - Maven</p>\n</li>\n<li><p>Spring Boot - 3.0.4</p>\n</li>\n<li><p>Project medatadata -&gt; Name -&gt; <em><strong><code>Test</code></strong></em></p>\n</li>\n<li><p>Packaging - Jar</p>\n</li>\n<li><p>Java - 17</p>\n</li>\n</ul>\n<p>Generate</p>\n<p>In your folder there will be a file since you added value in Name &quot;Test&quot;</p>\n<p>demo\\src\\main\\java\\com\\example\\demo\\TestApplication.java</p>\n<p>I just tested it, it is working as expected.</p>\n"}],"owner":{"account_id":19974550,"reputation":3,"user_id":21392729,"display_name":"master-boot-record"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75728241,"answer_count":1,"score":0,"last_activity_date":1678756106,"creation_date":1678754260,"question_id":75728119,"body_markdown":"I have generated many projects with Spring Initializr and every time I try to import them into intellij I find that no one of them have (project name)Application.java as main, but Main.java instead, as you would have in a normal java project. \r\n\r\nI tried to modify it into a normal Spring Boot main but intellij never recognizes the pertaining imports. None of the Maven lifecycle processes work either, as they only display errors related to the issue at hand. \r\n\r\nWhat could be causing this and what could fix this? Is it something I need to fix on my IDE? ","title":"Main.java instead of (project name)Application.java","body":"<p>I have generated many projects with Spring Initializr and every time I try to import them into intellij I find that no one of them have (project name)Application.java as main, but Main.java instead, as you would have in a normal java project.</p>\n<p>I tried to modify it into a normal Spring Boot main but intellij never recognizes the pertaining imports. None of the Maven lifecycle processes work either, as they only display errors related to the issue at hand.</p>\n<p>What could be causing this and what could fix this? Is it something I need to fix on my IDE?</p>\n"},{"tags":["java","oracle","jsp"],"comments":[{"owner":{"account_id":6963747,"reputation":530,"user_id":5342459,"accept_rate":61,"display_name":"Alberto Acu&#241;a"},"score":0,"creation_date":1482327213,"post_id":41261837,"comment_id":69728660,"body_markdown":"I got the solution, posted just now as &#39;answer&#39;","body":"I got the solution, posted just now as &#39;answer&#39;"}],"answers":[{"comments":[{"owner":{"account_id":6963747,"reputation":530,"user_id":5342459,"accept_rate":61,"display_name":"Alberto Acu&#241;a"},"score":0,"creation_date":1482327221,"post_id":41264022,"comment_id":69728668,"body_markdown":"this is the solution","body":"this is the solution"}],"tags":[],"owner":{"account_id":6963747,"reputation":530,"user_id":5342459,"accept_rate":61,"display_name":"Alberto Acu&#241;a"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1482327183,"creation_date":1482327183,"answer_id":41264022,"question_id":41261837,"body_markdown":"I find the answer. Just modify this 2 values and now works:\r\n\r\n    * field : IMAGE_FILE\r\n    * field Class : oracle.sql.inputStream\r\n\r\n---\r\nAnd new image Properties:\r\n\r\n    *image expresion : $F{IMAGE_FILE}\r\n    *expression class : java.lang.String","title":"How to display in Jasper BLOB Image?","body":"<p>I find the answer. Just modify this 2 values and now works:</p>\n\n<pre><code>* field : IMAGE_FILE\n* field Class : oracle.sql.inputStream\n</code></pre>\n\n<hr>\n\n<p>And new image Properties:</p>\n\n<pre><code>*image expresion : $F{IMAGE_FILE}\n*expression class : java.lang.String\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26070497,"reputation":1,"user_id":19848326,"display_name":"Yordy Sanchez"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678755816,"creation_date":1678755816,"answer_id":75728211,"question_id":41261837,"body_markdown":"Propiedades de fiel:\r\n\r\n* name: IMAGE_FILE\r\n* field Class : java.io.InputStream\r\n\r\nPropiedades de imagen:\r\n\r\n*image expresion : $F{IMAGE_FILE}\r\n*expression class : java.lang.String","title":"How to display in Jasper BLOB Image?","body":"<p>Propiedades de fiel:</p>\n<ul>\n<li>name: IMAGE_FILE</li>\n<li>field Class : java.io.InputStream</li>\n</ul>\n<p>Propiedades de imagen:</p>\n<p>*image expresion : $F{IMAGE_FILE}\n*expression class : java.lang.String</p>\n"}],"owner":{"account_id":6963747,"reputation":530,"user_id":5342459,"accept_rate":61,"display_name":"Alberto Acu&#241;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41264022,"answer_count":2,"score":1,"last_activity_date":1678755816,"creation_date":1482319947,"question_id":41261837,"body_markdown":"I&#39;m trying to add a image to my jasperReport, but it doensnt work, it stops when it calls to:\r\n\r\n    JasperRunManager.runReportToPdf ....\r\n\r\nI have images in Database as type BLOB, and in the &quot;file.jrxml&quot; i have set it as \r\n\r\nfield --&gt; IMAGE_FILE\r\n\r\nFIELDCLASS --&gt; oracle.sql.blob.\r\n\r\n---\r\nAnd Image Properties:\r\n\r\nimage expresion -&gt; $F{IMAGE_FILE}.getBinaryStream()\r\n\r\nexpression class -&gt; java.lang.String\r\n\r\n\r\n----\r\nMessage Error:\r\n\r\n    12:22:24,863 INFO  [STDOUT] 12:22:24,862 ERROR [JRFillSubreport] Fill 1: exception\r\n    net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression : \r\n    Source text : $F{IMAGE_FILE}.getBinaryStream()\r\n    ...\r\n    ...\r\n    Caused by: org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object &#39;oracle.sql.BLOB@5d17f1ea&#39; with class &#39;oracle.sql.BLOB&#39; to class &#39;oracle.sql.BLOB&#39;\r\n\tat     org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToType(DefaultTypeTransformation.java:360)\r\n\tat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.castToType(ScriptBytecodeAdapter.java:599)\r\n    ...\r\n    ...\r\n    12:22:24,863 ERROR [STDERR] net.sf.jasperreports.engine.JRRuntimeException: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression : \r\n\tSource text : $F{IMAGE_FILE}.getBinaryStream()\r\n\r\n\r\n---\r\nSo main errors cant solve ,and cant find reason:\r\n\r\n    12:22:24,868 ERROR [STDERR] Caused by: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression : \r\n\tSource text : $F{IMAGE_FILE}.getBinaryStream()\r\n    12:22:24,869 ERROR [STDERR] Caused by: org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object &#39;oracle.sql.BLOB@5d17f1ea&#39; with class &#39;oracle.sql.BLOB&#39; to class &#39;oracle.sql.BLOB&#39;","title":"How to display in Jasper BLOB Image?","body":"<p>I'm trying to add a image to my jasperReport, but it doensnt work, it stops when it calls to:</p>\n\n<pre><code>JasperRunManager.runReportToPdf ....\n</code></pre>\n\n<p>I have images in Database as type BLOB, and in the \"file.jrxml\" i have set it as </p>\n\n<p>field --> IMAGE_FILE</p>\n\n<p>FIELDCLASS --> oracle.sql.blob.</p>\n\n<hr>\n\n<p>And Image Properties:</p>\n\n<p>image expresion -> $F{IMAGE_FILE}.getBinaryStream()</p>\n\n<p>expression class -> java.lang.String</p>\n\n<hr>\n\n<p>Message Error:</p>\n\n<pre><code>12:22:24,863 INFO  [STDOUT] 12:22:24,862 ERROR [JRFillSubreport] Fill 1: exception\nnet.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression : \nSource text : $F{IMAGE_FILE}.getBinaryStream()\n...\n...\nCaused by: org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object 'oracle.sql.BLOB@5d17f1ea' with class 'oracle.sql.BLOB' to class 'oracle.sql.BLOB'\nat     org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToType(DefaultTypeTransformation.java:360)\nat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.castToType(ScriptBytecodeAdapter.java:599)\n...\n...\n12:22:24,863 ERROR [STDERR] net.sf.jasperreports.engine.JRRuntimeException: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression : \nSource text : $F{IMAGE_FILE}.getBinaryStream()\n</code></pre>\n\n<hr>\n\n<p>So main errors cant solve ,and cant find reason:</p>\n\n<pre><code>12:22:24,868 ERROR [STDERR] Caused by: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression : \nSource text : $F{IMAGE_FILE}.getBinaryStream()\n12:22:24,869 ERROR [STDERR] Caused by: org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object 'oracle.sql.BLOB@5d17f1ea' with class 'oracle.sql.BLOB' to class 'oracle.sql.BLOB'\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":28009396,"reputation":11,"user_id":21392212,"display_name":"LucaHerrero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678746114,"creation_date":1678746114,"answer_id":75727428,"question_id":75727164,"body_markdown":"You can try setting a method as a setter for your value. This method then converts your integer to a string.\r\n    \r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        String json = &quot;{\\&quot;number\\&quot;: 1}&quot;;\r\n        Model model = mapper.readValue(json, Model.class);\r\n        System.out.println(model.getNumber());\r\n    }\r\n\r\n\r\n    public class Model {\r\n      private String number;\r\n\r\n      public void setNumber(@JsonProperty(&quot;number&quot;) Integer number) {\r\n        this.number = Integer.toString(number);\r\n      }\r\n\r\n      public String getNumber() {\r\n        return number;\r\n      }\r\n    }","title":"Jackson 2.14: Serialize all fields cast to Strings","body":"<p>You can try setting a method as a setter for your value. This method then converts your integer to a string.</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n\n    String json = &quot;{\\&quot;number\\&quot;: 1}&quot;;\n    Model model = mapper.readValue(json, Model.class);\n    System.out.println(model.getNumber());\n}\n\n\npublic class Model {\n  private String number;\n\n  public void setNumber(@JsonProperty(&quot;number&quot;) Integer number) {\n    this.number = Integer.toString(number);\n  }\n\n  public String getNumber() {\n    return number;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678754687,"creation_date":1678754687,"answer_id":75728142,"question_id":75727164,"body_markdown":"I found the new convention. It&#39;s now called `JsonWriteFeature.WRITE_NUMBERS_AS_STRING)` and also `.configure()` needs to be put after `JsonMapper.builder()`.\r\n\r\n\t\tObjectMapper mapper = JsonMapper.builder()\r\n\t\t\t\t\t\t\t\t\t\t.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS, true) \r\n\t\t\t\t\t\t\t\t\t\t.build();","title":"Jackson 2.14: Serialize all fields cast to Strings","body":"<p>I found the new convention. It's now called <code>JsonWriteFeature.WRITE_NUMBERS_AS_STRING)</code> and also <code>.configure()</code> needs to be put after <code>JsonMapper.builder()</code>.</p>\n<pre><code>    ObjectMapper mapper = JsonMapper.builder()\n                                    .configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS, true) \n                                    .build();\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75728142,"answer_count":2,"score":0,"last_activity_date":1678754687,"creation_date":1678743936,"question_id":75727164,"body_markdown":"In the latest Jackson 2.14 you can&#39;t use `WRITE_NUMBERS_AS_STRINGS` which is deprecated:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS, true); // DEPRECATED!\r\n\r\nAlso you can&#39;t use `@JsonSerialize(using = ToStringSerializer.class)`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThese were the suggestions offered in [this thread][2]. So how do we now cast fields to Strings in the latest Jackson? Some examples would be appreciated, because I couldn&#39;t find any.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TYeoe.jpg\r\n  [2]: https://stackoverflow.com/questions/16052314/how-can-i-force-jackson-to-write-numbers-as-strings-when-serializing-my-objects","title":"Jackson 2.14: Serialize all fields cast to Strings","body":"<p>In the latest Jackson 2.14 you can't use <code>WRITE_NUMBERS_AS_STRINGS</code> which is deprecated:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS, true); // DEPRECATED!\n</code></pre>\n<p>Also you can't use <code>@JsonSerialize(using = ToStringSerializer.class)</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/TYeoe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYeoe.jpg\" alt=\"enter image description here\" /></a></p>\n<p>These were the suggestions offered in <a href=\"https://stackoverflow.com/questions/16052314/how-can-i-force-jackson-to-write-numbers-as-strings-when-serializing-my-objects\">this thread</a>. So how do we now cast fields to Strings in the latest Jackson? Some examples would be appreciated, because I couldn't find any.</p>\n"},{"tags":["java","java-19"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1678756055,"post_id":75727985,"comment_id":133591744,"body_markdown":"I had to download Java 8 from an archive and run it to confirm. I don&#39;t know what changed, but I have the same issue when running with Java 17.","body":"I had to download Java 8 from an archive and run it to confirm. I don&#39;t know what changed, but I have the same issue when running with Java 17."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1678756542,"post_id":75727985,"comment_id":133591822,"body_markdown":"Yes, this is intentional, starting with JDK9 every release breaks this kind of introspection; when one module does not export a package, it cannot be accessed like this, and no amount of `setAccessible` will let you get around that. `--add-opens` can.","body":"Yes, this is intentional, starting with JDK9 every release breaks this kind of introspection; when one module does not export a package, it cannot be accessed like this, and no amount of <code>setAccessible</code> will let you get around that. <code>--add-opens</code> can."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":6,"creation_date":1678760227,"post_id":75727985,"comment_id":133592242,"body_markdown":"@rzwitserloot it is not modules, it is the [reflection filter](https://github.com/openjdk/jdk/blob/49181b81dd284f65455492183ce5d0ab38b48d52/src/java.base/share/classes/jdk/internal/reflect/Reflection.java#L62). Even `--add-opens` doesn&#39;t help.","body":"@rzwitserloot it is not modules, it is the <a href=\"https://github.com/openjdk/jdk/blob/49181b81dd284f65455492183ce5d0ab38b48d52/src/java.base/share/classes/jdk/internal/reflect/Reflection.java#L62\" rel=\"nofollow noreferrer\">reflection filter</a>. Even <code>--add-opens</code> doesn&#39;t help."}],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678752353,"creation_date":1678752353,"question_id":75727985,"body_markdown":"Recently I upgraded to JDK19 and I am trying to list all the declared fields in the Method class. But it returns nothing.\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.util.Arrays;\r\n    \r\n    public class MethodFieldsDemo {\r\n        public static void main(String... args){\r\n            Arrays.stream(Method.class.getDeclaredFields()).forEach(f-&gt; System.out.println(f.getName()));\r\n        }\r\n    }\r\n\r\nWhen I run the same program using JDK 8, it returns all the fields. \r\n\r\nAm I missing something or is there anything I need to do when workign with JDK 19.\r\n","title":"Method getDeclaredFields returning empty","body":"<p>Recently I upgraded to JDK19 and I am trying to list all the declared fields in the Method class. But it returns nothing.</p>\n<pre><code>import java.lang.reflect.Method;\nimport java.util.Arrays;\n\npublic class MethodFieldsDemo {\n    public static void main(String... args){\n        Arrays.stream(Method.class.getDeclaredFields()).forEach(f-&gt; System.out.println(f.getName()));\n    }\n}\n</code></pre>\n<p>When I run the same program using JDK 8, it returns all the fields.</p>\n<p>Am I missing something or is there anything I need to do when workign with JDK 19.</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":0,"creation_date":1404585979,"post_id":24589495,"comment_id":38094181,"body_markdown":"if you dont know what T is, you can&#39;t convert to it. You can cast, but it can easily fail. Poor design, I say.","body":"if you dont know what T is, you can&#39;t convert to it. You can cast, but it can easily fail. Poor design, I say."},{"owner":{"account_id":1188298,"reputation":13219,"user_id":1267663,"accept_rate":85,"display_name":"Whymarrh"},"score":0,"creation_date":1404585990,"post_id":24589495,"comment_id":38094184,"body_markdown":"What is a &quot;specific type of generic variable&quot;?","body":"What is a &quot;specific type of generic variable&quot;?"},{"owner":{"account_id":3975478,"reputation":7417,"user_id":3283790,"display_name":"Jamie Cockburn"},"score":1,"creation_date":1404586022,"post_id":24589495,"comment_id":38094195,"body_markdown":"This doesn&#39;t make sense, how can it not be a `String` if the argument is of type string.","body":"This doesn&#39;t make sense, how can it not be a <code>String</code> if the argument is of type string."},{"owner":{"account_id":2661132,"reputation":1986,"user_id":2300789,"accept_rate":66,"display_name":"SpeedEX505"},"score":0,"creation_date":1404586024,"post_id":24589495,"comment_id":38094198,"body_markdown":"I mean type of T which i recognize with instanceof","body":"I mean type of T which i recognize with instanceof"},{"owner":{"account_id":9022,"reputation":31287,"user_id":16487,"accept_rate":71,"display_name":"C. Ross"},"score":0,"creation_date":1404586530,"post_id":24589495,"comment_id":38094355,"body_markdown":"@SpeedEX505 Generics buys you nothing in what you have coded.  What are you trying to achieve?","body":"@SpeedEX505 Generics buys you nothing in what you have coded.  What are you trying to achieve?"},{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":0,"creation_date":1404587378,"post_id":24589495,"comment_id":38094622,"body_markdown":"@SpeedEX505 Look now into my answer - there is a working solution using your approach. Not very nice, but works.","body":"@SpeedEX505 Look now into my answer - there is a working solution using your approach. Not very nice, but works."},{"owner":{"account_id":2661132,"reputation":1986,"user_id":2300789,"accept_rate":66,"display_name":"SpeedEX505"},"score":0,"creation_date":1404587702,"post_id":24589495,"comment_id":38094728,"body_markdown":"@MightyPork You are right. This is what I was looking for and its ugly.","body":"@MightyPork You are right. This is what I was looking for and its ugly."},{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":0,"creation_date":1404588341,"post_id":24589495,"comment_id":38094896,"body_markdown":"@SpeedEX505 see also the third solution. It&#39;s some real witchcraft now. Actually, you dont have to pass the class.","body":"@SpeedEX505 see also the third solution. It&#39;s some real witchcraft now. Actually, you dont have to pass the class."},{"owner":{"account_id":2661132,"reputation":1986,"user_id":2300789,"accept_rate":66,"display_name":"SpeedEX505"},"score":0,"creation_date":1404588864,"post_id":24589495,"comment_id":38095013,"body_markdown":"@MightyPork It&#39;s a bit &quot;i have no idea what i&#39;m doing&quot; for me.","body":"@MightyPork It&#39;s a bit &quot;i have no idea what i&#39;m doing&quot; for me."},{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":1,"creation_date":1404588995,"post_id":24589495,"comment_id":38095059,"body_markdown":"@SpeedEX505 I won&#39;t lie, I found it by trial &amp; error. It&#39;s very obscure for me as well. But I don&#39;t mind dirty tricks, as long as they do my bidding xD","body":"@SpeedEX505 I won&#39;t lie, I found it by trial &amp; error. It&#39;s very obscure for me as well. But I don&#39;t mind dirty tricks, as long as they do my bidding xD"}],"answers":[{"comments":[{"owner":{"account_id":2661132,"reputation":1986,"user_id":2300789,"accept_rate":66,"display_name":"SpeedEX505"},"score":0,"creation_date":1404586463,"post_id":24589542,"comment_id":38094328,"body_markdown":"I have this code before but I tried to avoid it. I think I&#39;ll parse string on higher level and then call method setValue(T input) with type T. But thanks.","body":"I have this code before but I tried to avoid it. I think I&#39;ll parse string on higher level and then call method setValue(T input) with type T. But thanks."},{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":0,"creation_date":1404586657,"post_id":24589542,"comment_id":38094404,"body_markdown":"You would have to pass the class of T as argument to constructor of Property. Then you could compare this class against some known types and branch upon it - but it is UGLY. Polumorphism is there to be used, not avoided.","body":"You would have to pass the class of T as argument to constructor of Property. Then you could compare this class against some known types and branch upon it - but it is UGLY. Polumorphism is there to be used, not avoided."},{"owner":{"account_id":7634489,"reputation":2508,"user_id":5788429,"accept_rate":100,"display_name":"Anton"},"score":0,"creation_date":1507293569,"post_id":24589542,"comment_id":80163633,"body_markdown":"Well, there is indeed a use case man. Imagine a simple text configuration file, XML, webservice result (whatever) gives you a &lt;string,string&gt; map and you actually need a single generic method, let&#39;s say `&lt;V&gt; V GetValueByKey(string key)` which gives you appropriate value for appropriate key but of a desired type - instead of the string.","body":"Well, there is indeed a use case man. Imagine a simple text configuration file, XML, webservice result (whatever) gives you a &lt;string,string&gt; map and you actually need a single generic method, let&#39;s say <code>&lt;V&gt; V GetValueByKey(string key)</code> which gives you appropriate value for appropriate key but of a desired type - instead of the string."}],"tags":[],"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1404588544,"creation_date":1404586165,"answer_id":24589542,"question_id":24589495,"body_markdown":"That is not how it works. You can, however, use polymorphism, to achieve a useful result.\r\n\r\n# Solution with polymorphism\r\n\r\nBase generic (and abstract) property\r\n\r\n    public abstract class Property&lt;T&gt; {\r\n    \tT value;\r\n    \tpublic abstract void setValue(String input);\r\n    }\r\n\r\nProperty for Strings\r\n\r\n    public class StringProperty extends Property&lt;String&gt; {\r\n    \t@Override\r\n    \tpublic void setValue(String input) {\r\n    \t\tthis.value = input;\r\n    \t}\r\n    }\r\n\r\nProperty for integers\r\n\r\n    public class IntegerProperty extends Property&lt;Integer&gt; {\r\n    \t@Override\r\n    \tpublic void setValue(String input) {\r\n    \t\tthis.value = Integer.valueOf(input);\r\n    \t}\r\n    }\r\n\r\nNot sure what your actual goal is, but this approach might work.\r\n\r\nNote, that `input instanceof T` will fail, because of type erasure. It&#39;s not gonna work.\r\n\r\n\r\n----\r\n\r\n# Solution with `Class&lt;T&gt;` as argument\r\n\r\nTo elaborate more on your approach, this would work - but it&#39;s UGLY.\r\n\r\nUgly and not very convenient. No idea why you&#39;d want it, tbh.\r\n\r\n    class Property&lt;T&gt; {\r\n    \t\r\n    \tpublic T value;\r\n    \tprivate final Class&lt;T&gt; clazz;\r\n    \t    \t\r\n    \tpublic Property(Class&lt;T&gt; clazz) {\r\n    \t\tsuper();\r\n    \t\tthis.clazz = clazz;\r\n    \t}    \t\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void setValue(String input) {\r\n    \t\tif (clazz.isAssignableFrom(String.class)) {\r\n    \t\t\tvalue = (T) input;\r\n    \t\t} else if (clazz.isAssignableFrom(Integer.class)) {\r\n    \t\t\tvalue = (T) Integer.valueOf(input);\r\n    \t\t} else if (clazz.isAssignableFrom(Boolean.class)) {\r\n    \t\t\tvalue = (T) Boolean.valueOf(input);\r\n    \t\t} else if (clazz.isAssignableFrom(Double.class)) {\r\n    \t\t\tvalue = (T) Double.valueOf(input);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Bad type.&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nUsed like so:\r\n\r\n\tProperty&lt;String&gt; ff = new Property&lt;&gt;(String.class);\r\n\tff.setValue(&quot;sdgf&quot;);\r\n\t\t\r\n\tProperty&lt;Integer&gt; sdg = new Property&lt;&gt;(Integer.class);\r\n\tsdg.setValue(&quot;123&quot;);\r\n\t\t\r\n\tSystem.out.println(ff.value);\r\n\tSystem.out.println(sdg.value);\r\n\r\n---\r\n\r\n# Solution with `Reflection`\r\n\r\nApparently, it&#39;s possible to figure out the parameter used to instantiate property.\r\n\r\nThis little magic formula gives you just that:\r\n\r\n    (Class&lt;?&gt;) getClass().getTypeParameters()[0].getBounds()[0]\r\n\r\nI don&#39;t even know how I managed to find it. Well, here we go:\r\n\r\n    class Property&lt;T&gt; {\r\n    \t\r\n    \tT value;\t\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void setValue(String input)\r\n    \t{\r\n    \t\t// BEHOLD, MAGIC!\r\n    \t\tClass&lt;?&gt; clazz = (Class&lt;?&gt;) getClass().getTypeParameters()[0].getBounds()[0];\r\n    \t\t\r\n    \t\tif (clazz.isAssignableFrom(String.class)) {\r\n    \t\t\tvalue = (T) input;\r\n    \t\t} else if (clazz.isAssignableFrom(Integer.class)) {\r\n    \t\t\tvalue = (T) Integer.valueOf(input);\r\n    \t\t} else if (clazz.isAssignableFrom(Boolean.class)) {\r\n    \t\t\tvalue = (T) Boolean.valueOf(input);\r\n    \t\t} else if (clazz.isAssignableFrom(Double.class)) {\r\n    \t\t\tvalue = (T) Double.valueOf(input); \r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Bad type.&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd don&#39;t look at me, I wouldn&#39;t use that. I have some common sense.","title":"Conversion from string to generic type","body":"<p>That is not how it works. You can, however, use polymorphism, to achieve a useful result.</p>\n\n<h1>Solution with polymorphism</h1>\n\n<p>Base generic (and abstract) property</p>\n\n<pre><code>public abstract class Property&lt;T&gt; {\n    T value;\n    public abstract void setValue(String input);\n}\n</code></pre>\n\n<p>Property for Strings</p>\n\n<pre><code>public class StringProperty extends Property&lt;String&gt; {\n    @Override\n    public void setValue(String input) {\n        this.value = input;\n    }\n}\n</code></pre>\n\n<p>Property for integers</p>\n\n<pre><code>public class IntegerProperty extends Property&lt;Integer&gt; {\n    @Override\n    public void setValue(String input) {\n        this.value = Integer.valueOf(input);\n    }\n}\n</code></pre>\n\n<p>Not sure what your actual goal is, but this approach might work.</p>\n\n<p>Note, that <code>input instanceof T</code> will fail, because of type erasure. It's not gonna work.</p>\n\n<hr>\n\n<h1>Solution with <code>Class&lt;T&gt;</code> as argument</h1>\n\n<p>To elaborate more on your approach, this would work - but it's UGLY.</p>\n\n<p>Ugly and not very convenient. No idea why you'd want it, tbh.</p>\n\n<pre><code>class Property&lt;T&gt; {\n\n    public T value;\n    private final Class&lt;T&gt; clazz;\n\n    public Property(Class&lt;T&gt; clazz) {\n        super();\n        this.clazz = clazz;\n    }       \n\n    @SuppressWarnings(\"unchecked\")\n    public void setValue(String input) {\n        if (clazz.isAssignableFrom(String.class)) {\n            value = (T) input;\n        } else if (clazz.isAssignableFrom(Integer.class)) {\n            value = (T) Integer.valueOf(input);\n        } else if (clazz.isAssignableFrom(Boolean.class)) {\n            value = (T) Boolean.valueOf(input);\n        } else if (clazz.isAssignableFrom(Double.class)) {\n            value = (T) Double.valueOf(input);\n        } else {\n            throw new IllegalArgumentException(\"Bad type.\");\n        }\n    }\n}\n</code></pre>\n\n<p>Used like so:</p>\n\n<pre><code>Property&lt;String&gt; ff = new Property&lt;&gt;(String.class);\nff.setValue(\"sdgf\");\n\nProperty&lt;Integer&gt; sdg = new Property&lt;&gt;(Integer.class);\nsdg.setValue(\"123\");\n\nSystem.out.println(ff.value);\nSystem.out.println(sdg.value);\n</code></pre>\n\n<hr>\n\n<h1>Solution with <code>Reflection</code></h1>\n\n<p>Apparently, it's possible to figure out the parameter used to instantiate property.</p>\n\n<p>This little magic formula gives you just that:</p>\n\n<pre><code>(Class&lt;?&gt;) getClass().getTypeParameters()[0].getBounds()[0]\n</code></pre>\n\n<p>I don't even know how I managed to find it. Well, here we go:</p>\n\n<pre><code>class Property&lt;T&gt; {\n\n    T value;    \n\n    @SuppressWarnings(\"unchecked\")\n    public void setValue(String input)\n    {\n        // BEHOLD, MAGIC!\n        Class&lt;?&gt; clazz = (Class&lt;?&gt;) getClass().getTypeParameters()[0].getBounds()[0];\n\n        if (clazz.isAssignableFrom(String.class)) {\n            value = (T) input;\n        } else if (clazz.isAssignableFrom(Integer.class)) {\n            value = (T) Integer.valueOf(input);\n        } else if (clazz.isAssignableFrom(Boolean.class)) {\n            value = (T) Boolean.valueOf(input);\n        } else if (clazz.isAssignableFrom(Double.class)) {\n            value = (T) Double.valueOf(input); \n        } else {\n            throw new IllegalArgumentException(\"Bad type.\");\n        }\n    }\n}\n</code></pre>\n\n<p>And don't look at me, I wouldn't use that. I have some common sense.</p>\n"},{"tags":[],"owner":{"account_id":14815875,"reputation":69,"user_id":10699933,"display_name":"Денис Бурмистров"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621578858,"creation_date":1621578858,"answer_id":67631888,"question_id":24589495,"body_markdown":"I found a new way by using Spring.\r\n```\r\npublic static &lt;T&gt; T convertJsonToObject(String json, Class&lt;T&gt; valueType) {\r\n    try {\r\n        return json != null ? new ObjectMapper().readValue(json, valueType) : null;\r\n    } catch (Exception e) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n```\r\nprivate static void processValidate(Class&lt;?&gt; valueClass, String value) {\r\n     Object parsedValue = Utils.convertJsonToObject(value, valueClass);\r\n     // logic\r\n}\r\n```","title":"Conversion from string to generic type","body":"<p>I found a new way by using Spring.</p>\n<pre><code>public static &lt;T&gt; T convertJsonToObject(String json, Class&lt;T&gt; valueType) {\n    try {\n        return json != null ? new ObjectMapper().readValue(json, valueType) : null;\n    } catch (Exception e) {\n        return null;\n    }\n}\n</code></pre>\n<pre><code>private static void processValidate(Class&lt;?&gt; valueClass, String value) {\n     Object parsedValue = Utils.convertJsonToObject(value, valueClass);\n     // logic\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10139634,"reputation":26,"user_id":7489821,"display_name":"Guriy Samarin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678751436,"creation_date":1678751436,"answer_id":75727891,"question_id":24589495,"body_markdown":"Another way using reflection is \r\n\r\n```java\r\npublic &lt;T&gt; T setValue(String value, Class&lt;T&gt; valueType) {\r\n\r\n    try {\r\n        return (T) valueType.getDeclaredMethod(&quot;valueOf&quot;, String.class).invoke(null, value);\r\n    } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```","title":"Conversion from string to generic type","body":"<p>Another way using reflection is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T setValue(String value, Class&lt;T&gt; valueType) {\n\n    try {\n        return (T) valueType.getDeclaredMethod(&quot;valueOf&quot;, String.class).invoke(null, value);\n    } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2661132,"reputation":1986,"user_id":2300789,"accept_rate":66,"display_name":"SpeedEX505"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28509,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":24589542,"answer_count":3,"score":7,"last_activity_date":1678751436,"creation_date":1404585819,"question_id":24589495,"body_markdown":"I need to convert string to variable value. I found solution only for C#. I need it in Java.\r\n\r\n    public class Property&lt;T&gt; {\r\n        \r\n        T value;\r\n    \r\n        public void setValue(String input){\r\n            if(value instanceof String){\r\n               value= input; // value is type of T not type of string (compilation error)\r\n                             // incompatible types: String cannot be converted to T\r\n            }\r\n            if(value instanceof int){\r\n               //parse string\r\n            }\r\n            if(value instanceof boolean){\r\n               //parse string\r\n            }\r\n            ...\r\n        }\r\n    }","title":"Conversion from string to generic type","body":"<p>I need to convert string to variable value. I found solution only for C#. I need it in Java.</p>\n\n<pre><code>public class Property&lt;T&gt; {\n\n    T value;\n\n    public void setValue(String input){\n        if(value instanceof String){\n           value= input; // value is type of T not type of string (compilation error)\n                         // incompatible types: String cannot be converted to T\n        }\n        if(value instanceof int){\n           //parse string\n        }\n        if(value instanceof boolean){\n           //parse string\n        }\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","android","amazon-clouddrive"],"comments":[{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":0,"creation_date":1352843742,"post_id":13369390,"comment_id":18254198,"body_markdown":"Looks like they haven&#39;t released one that I can see.  However, did bump into this http://code.google.com/p/pyamazonclouddrive/ but looks like it might not comply with their Ts&amp;Cs.","body":"Looks like they haven&#39;t released one that I can see.  However, did bump into this <a href=\"http://code.google.com/p/pyamazonclouddrive/\" rel=\"nofollow noreferrer\">code.google.com/p/pyamazonclouddrive</a> but looks like it might not comply with their Ts&amp;Cs."},{"owner":{"display_name":"user846969"},"score":0,"creation_date":1378397119,"post_id":13369390,"comment_id":27445493,"body_markdown":"Perhaps you could use Amazon S3, which might be what Amazon is using for cloud drive under the covers anyway.","body":"Perhaps you could use Amazon S3, which might be what Amazon is using for cloud drive under the covers anyway."}],"answers":[{"tags":[],"owner":{"account_id":1622407,"reputation":538,"user_id":1498697,"accept_rate":74,"display_name":"aurelianr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436283526,"creation_date":1436283526,"answer_id":31273210,"question_id":13369390,"body_markdown":"Now exists a SDK :\r\nhttps://developer.amazon.com/public/apis/experience/cloud-drive/content/sdk-android\r\n\r\nMay be this answer will be useful for someone. \r\n\r\n","title":"Amazon cloud drive integration with android","body":"<p>Now exists a SDK :\n<a href=\"https://developer.amazon.com/public/apis/experience/cloud-drive/content/sdk-android\" rel=\"nofollow\">https://developer.amazon.com/public/apis/experience/cloud-drive/content/sdk-android</a></p>\n\n<p>May be this answer will be useful for someone. </p>\n"}],"owner":{"account_id":1295520,"reputation":852,"user_id":1246683,"accept_rate":57,"display_name":"Zeeshan Chaudhry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678751127,"creation_date":1352843200,"question_id":13369390,"body_markdown":"is there SDK or sample code available to integrate [Amazon cloud drive](https://www.amazon.com/ap/signin?_encoding=UTF8&amp;openid.assoc_handle=amzn_clouddrive_us&amp;openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.mode=checkid_setup&amp;openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&amp;openid.pape.max_auth_age=0&amp;openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fclouddrive%2F%3F_encoding%3DUTF8%26action%3Dsign-out%26associationHandle%3Damzn_clouddrive_us%26pageId%3Dclouddrive_authportal_us%26path%3D%252Fclouddrive%252F%26ref_%3Dpd_irl_gw_r%26signIn%3D1%26useAuthPortal%3Dtrue%26useRedirectOnSuccess%3D1&amp;pageId=clouddrive_authportal_us) with Android application.\r\nbasically i am going to develop an application with uses cloud drive for storage.\r\ni have username and password for that storage drive.","title":"Amazon cloud drive integration with android","body":"<p>is there SDK or sample code available to integrate <a href=\"https://www.amazon.com/ap/signin?_encoding=UTF8&amp;openid.assoc_handle=amzn_clouddrive_us&amp;openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.mode=checkid_setup&amp;openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&amp;openid.pape.max_auth_age=0&amp;openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fclouddrive%2F%3F_encoding%3DUTF8%26action%3Dsign-out%26associationHandle%3Damzn_clouddrive_us%26pageId%3Dclouddrive_authportal_us%26path%3D%252Fclouddrive%252F%26ref_%3Dpd_irl_gw_r%26signIn%3D1%26useAuthPortal%3Dtrue%26useRedirectOnSuccess%3D1&amp;pageId=clouddrive_authportal_us\" rel=\"nofollow\">Amazon cloud drive</a> with Android application.\nbasically i am going to develop an application with uses cloud drive for storage.\ni have username and password for that storage drive.</p>\n"},{"tags":["java","jackson"],"owner":{"account_id":28009767,"reputation":1,"user_id":21392507,"display_name":"user21392507"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678750435,"creation_date":1678750435,"question_id":75727822,"body_markdown":"```\r\n@JsonIgnoreProperties(\r\n  value = &quot;objectType&quot;, // ignore manually set objectType, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the objectType to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;objectType&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = ArrayOfBooleansSetting.class, name = &quot;ArrayOfBooleansSetting&quot;),\r\n  @JsonSubTypes.Type(value = ArrayOfIntegersSetting.class, name = &quot;ArrayOfIntegersSetting&quot;),\r\n  @JsonSubTypes.Type(value = ArrayOfObjectsSetting.class, name = &quot;ArrayOfObjectsSetting&quot;),\r\n  @JsonSubTypes.Type(value = ArrayOfStringsSetting.class, name = &quot;ArrayOfStringsSetting&quot;),\r\n  @JsonSubTypes.Type(value = BooleanSetting.class, name = &quot;BooleanSetting&quot;),\r\n  @JsonSubTypes.Type(value = IntegerSetting.class, name = &quot;IntegerSetting&quot;),\r\n  @JsonSubTypes.Type(value = ObjectSetting.class, name = &quot;ObjectSetting&quot;),\r\n  @JsonSubTypes.Type(value = StringSetting.class, name = &quot;StringSetting&quot;)\r\n})\r\n\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-03-13T16:26:20.733-04:00[America/New_York]&quot;)\r\npublic class Setting {\r\n\r\n  @JsonProperty(&quot;objectType&quot;)\r\n  private String objectType;\r\n\r\n  public Setting objectType(String objectType)\r\n  {\r\n    this.objectType = objectType;\r\n    return this;\r\n  }\r\n```\r\n\r\nMy mixin class\r\n```\r\n\r\n@JsonIgnoreProperties(value = {&quot;objectType&quot;}, allowSetters = false, ignoreUnknown = true)\r\npublic abstract class ObjectTypeMixin\r\n{\r\npublic String objectType;\r\n}\r\n\r\n```\r\nMy Test \r\n\r\n```\r\n   @Test\r\n    public void test1()\r\n            throws Exception\r\n    {\r\n        Setting s = new Setting();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.addMixIn(Setting.class, ObjectTypeMixin.class);\r\n        List&lt;Setting&gt; settings = new ArrayList&lt;&gt;();\r\n        settings.add(s);\r\n\r\n        System.out.println(objectMapper.writeValueAsString(s));\r\n        System.out.println(objectMapper.writeValueAsString(settings));\r\n    }\r\n```\r\noutput\r\n```\r\n\r\n{&quot;objectType&quot;:&quot;Setting&quot;}\r\n\\[{}\\]\r\n\r\n```\r\nMy first print statement should also not contain &#39;objectType&#39; property as it ignored, but it printed. Is there bug in jackson. I am trying to use Jackson mixin to ignore the &#39;objectytpe property during serialization and deserialization.&#39; \r\nAny help appreciated.\r\n\r\nI tried different mixin by declaring in different ways...\r\n```\r\n\r\n@JsonIgnoreProperties(value = {&quot;objectType&quot;}, allowSetters = false, ignoreUnknown = true)\r\npublic abstract class ObjectTypeMixin\r\n{\r\npublic String objectType;\r\n}\r\n\r\n```\r\n```\r\n\r\n@JsonIgnoreProperties(value = {&quot;objectType&quot;}, allowSetters = false, ignoreUnknown = true)\r\npublic abstract class ObjectTypeMixin\r\n{\r\npublic String objectType;\r\n}\r\n\r\n```\r\n```","title":"Jackson Mixins not ignoring properties","body":"<pre><code>@JsonIgnoreProperties(\n  value = &quot;objectType&quot;, // ignore manually set objectType, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the objectType to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;objectType&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = ArrayOfBooleansSetting.class, name = &quot;ArrayOfBooleansSetting&quot;),\n  @JsonSubTypes.Type(value = ArrayOfIntegersSetting.class, name = &quot;ArrayOfIntegersSetting&quot;),\n  @JsonSubTypes.Type(value = ArrayOfObjectsSetting.class, name = &quot;ArrayOfObjectsSetting&quot;),\n  @JsonSubTypes.Type(value = ArrayOfStringsSetting.class, name = &quot;ArrayOfStringsSetting&quot;),\n  @JsonSubTypes.Type(value = BooleanSetting.class, name = &quot;BooleanSetting&quot;),\n  @JsonSubTypes.Type(value = IntegerSetting.class, name = &quot;IntegerSetting&quot;),\n  @JsonSubTypes.Type(value = ObjectSetting.class, name = &quot;ObjectSetting&quot;),\n  @JsonSubTypes.Type(value = StringSetting.class, name = &quot;StringSetting&quot;)\n})\n\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-03-13T16:26:20.733-04:00[America/New_York]&quot;)\npublic class Setting {\n\n  @JsonProperty(&quot;objectType&quot;)\n  private String objectType;\n\n  public Setting objectType(String objectType)\n  {\n    this.objectType = objectType;\n    return this;\n  }\n</code></pre>\n<p>My mixin class</p>\n<pre><code>\n@JsonIgnoreProperties(value = {&quot;objectType&quot;}, allowSetters = false, ignoreUnknown = true)\npublic abstract class ObjectTypeMixin\n{\npublic String objectType;\n}\n\n</code></pre>\n<p>My Test</p>\n<pre><code>   @Test\n    public void test1()\n            throws Exception\n    {\n        Setting s = new Setting();\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.addMixIn(Setting.class, ObjectTypeMixin.class);\n        List&lt;Setting&gt; settings = new ArrayList&lt;&gt;();\n        settings.add(s);\n\n        System.out.println(objectMapper.writeValueAsString(s));\n        System.out.println(objectMapper.writeValueAsString(settings));\n    }\n</code></pre>\n<p>output</p>\n<pre><code>\n{&quot;objectType&quot;:&quot;Setting&quot;}\n\\[{}\\]\n\n</code></pre>\n<p>My first print statement should also not contain 'objectType' property as it ignored, but it printed. Is there bug in jackson. I am trying to use Jackson mixin to ignore the 'objectytpe property during serialization and deserialization.'\nAny help appreciated.</p>\n<p>I tried different mixin by declaring in different ways...</p>\n<pre><code>\n@JsonIgnoreProperties(value = {&quot;objectType&quot;}, allowSetters = false, ignoreUnknown = true)\npublic abstract class ObjectTypeMixin\n{\npublic String objectType;\n}\n\n</code></pre>\n<pre><code>\n@JsonIgnoreProperties(value = {&quot;objectType&quot;}, allowSetters = false, ignoreUnknown = true)\npublic abstract class ObjectTypeMixin\n{\npublic String objectType;\n}\n\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","javafx","server","client","port"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678506200,"post_id":75702506,"comment_id":133550646,"body_markdown":"I think the main problem is that `run()` creates a new `ServerSocket` on the same port as the one created by the `startServer()` method. Given the presence of a `startServer()` method, you should remove the creation of the `ServerSocket` in the `run()` method. Additionally, you seem to be using [`#setReuseAddress(boolean)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/ServerSocket.html#setReuseAddress(boolean)) incorrectly. The effects of that method are undefined for an already-bound socket. Create an unbound socket, call that method, then call `bind`.","body":"I think the main problem is that <code>run()</code> creates a new <code>ServerSocket</code> on the same port as the one created by the <code>startServer()</code> method. Given the presence of a <code>startServer()</code> method, you should remove the creation of the <code>ServerSocket</code> in the <code>run()</code> method. Additionally, you seem to be using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/ServerSocket.html#setReuseAddress(boolean)\" rel=\"nofollow noreferrer\"><code>#setReuseAddress(boolean)</code></a> incorrectly. The effects of that method are undefined for an already-bound socket. Create an unbound socket, call that method, then call <code>bind</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678753522,"post_id":75702506,"comment_id":133591456,"body_markdown":"where is the relation to fx?","body":"where is the relation to fx?"}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678506184,"creation_date":1678506184,"answer_id":75702653,"question_id":75702506,"body_markdown":"REUSEADDR is not about &#39;freeing&#39; an address on close, it is about permitting binding to an address that is in use.  The address (port) **will** be &#39;in use&#39; for some after the socket is closed, that&#39;s just how the protocol has to work.\r\n\r\nWhen you initially bind the socket in your &#39;run&#39; method, you create it without REUSEADDR, and that is where your exception comes from.\r\n\r\nI&#39;m not that familiar with the Java server socket (but have experience with sockets in C), but [the documentation](https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html#setReuseAddress-boolean-) says that what you want to do is\r\n\r\nCreate an unbound socket (with the no-arguments constructor)   \r\nSet REUSEADDR  \r\nBind the socket to an interface and port  \r\n\r\nin that order.  Don&#39;t bother with the close-time stuff, but do this every time you create a new ServerSocket.\r\n","title":"java.net.BindException: Address already in use (Bind failed)","body":"<p>REUSEADDR is not about 'freeing' an address on close, it is about permitting binding to an address that is in use.  The address (port) <strong>will</strong> be 'in use' for some after the socket is closed, that's just how the protocol has to work.</p>\n<p>When you initially bind the socket in your 'run' method, you create it without REUSEADDR, and that is where your exception comes from.</p>\n<p>I'm not that familiar with the Java server socket (but have experience with sockets in C), but <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html#setReuseAddress-boolean-\" rel=\"nofollow noreferrer\">the documentation</a> says that what you want to do is</p>\n<p>Create an unbound socket (with the no-arguments constructor)<br />\nSet REUSEADDR<br />\nBind the socket to an interface and port</p>\n<p>in that order.  Don't bother with the close-time stuff, but do this every time you create a new ServerSocket.</p>\n"}],"owner":{"account_id":26934746,"reputation":43,"user_id":20506539,"display_name":"chiara_tummi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75702653,"answer_count":1,"score":1,"last_activity_date":1678750359,"creation_date":1678503296,"question_id":75702506,"body_markdown":"I&#39;m writing an email application in javafx, using MVC architecture.\r\nThe starting method of the server is this.\r\n\r\n```\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            serverSocket = new ServerSocket(PORT);\r\n            controller.logEvent(Protocol.SERVER_STARTED, true, null, null);\r\n            loadAccounts();\r\n            while (isRunning.get()) {\r\n                try {\r\n                    Socket socket = serverSocket.accept();\r\n                    if (isRunning.get()) {\r\n                        connectedClients.add(socket);\r\n                        Thread thread = new Thread(() -&gt; {\r\n                            handleClient(socket);\r\n                            connectedClients.remove(socket);\r\n                        });\r\n                        thread.start();\r\n                    } else {\r\n                        socket.close();\r\n                    }\r\n                } catch (SocketException e) {\r\n                    if (!isRunning.get()) {\r\n                        break;\r\n                    } else {\r\n                        throw e;\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            controller.logEvent(Protocol.SERVER_STARTED, false, null, null);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nWhile instead the one to stop the server is this:\r\n\r\n```\r\n    public void stopServer() {\r\n        isRunning.set(false);\r\n        try {\r\n            if (serverSocket != null) {\r\n                serverSocket.setReuseAddress(true);\r\n                serverSocket.close();\r\n                controller.logEvent(Protocol.SERVER_STOPPED, true, null, null);\r\n                for (Socket socket : connectedClients) {\r\n                    socket.close();\r\n                }\r\n                connectedClients.clear();\r\n            }\r\n        } catch (IOException e) {\r\n            controller.logEvent(Protocol.SERVER_STOPPED, false, null, null);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nMy problem lies in restarting the server. When I try to restart it, it gives me these errors:\r\n\r\n```\r\njava.net.BindException: Address already in use (Bind failed)\r\n\tat java.base/java.net.PlainSocketImpl.socketBind(Native Method)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:452)\r\n\tat java.base/java.net.ServerSocket.bind(ServerSocket.java:395)\r\n\tat java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:257)\r\n\tat java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:149)\r\n\tat MailServer.run(MailServer.java:71)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\nMy method for restarting the server was this:\r\n\r\n```\r\n    public void startServer() {\r\n        try {\r\n            if (serverSocket != null &amp;&amp; !serverSocket.isClosed()) {\r\n                serverSocket.setReuseAddress(true);\r\n                serverSocket.close();\r\n            }\r\n            isRunning.set(true);\r\n            serverSocket = new ServerSocket(PORT);\r\n            Thread thread = new Thread(this);\r\n            thread.start();\r\n            controller.logEvent(Protocol.SERVER_STARTED, true, null, null);\r\n        } catch (IOException e) {\r\n            controller.logEvent(Protocol.SERVER_STARTED, false, null, null);\r\n        }\r\n    }\r\n```\r\n\r\nDo you have any tips to solve my problem? I figured out that the problem is that the port is not freed when the server is stopped, but I have no idea how I can fix it.","title":"java.net.BindException: Address already in use (Bind failed)","body":"<p>I'm writing an email application in javafx, using MVC architecture.\nThe starting method of the server is this.</p>\n<pre><code>    @Override\n    public void run() {\n        try {\n            serverSocket = new ServerSocket(PORT);\n            controller.logEvent(Protocol.SERVER_STARTED, true, null, null);\n            loadAccounts();\n            while (isRunning.get()) {\n                try {\n                    Socket socket = serverSocket.accept();\n                    if (isRunning.get()) {\n                        connectedClients.add(socket);\n                        Thread thread = new Thread(() -&gt; {\n                            handleClient(socket);\n                            connectedClients.remove(socket);\n                        });\n                        thread.start();\n                    } else {\n                        socket.close();\n                    }\n                } catch (SocketException e) {\n                    if (!isRunning.get()) {\n                        break;\n                    } else {\n                        throw e;\n                    }\n                }\n            }\n        } catch (IOException e) {\n            controller.logEvent(Protocol.SERVER_STARTED, false, null, null);\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>While instead the one to stop the server is this:</p>\n<pre><code>    public void stopServer() {\n        isRunning.set(false);\n        try {\n            if (serverSocket != null) {\n                serverSocket.setReuseAddress(true);\n                serverSocket.close();\n                controller.logEvent(Protocol.SERVER_STOPPED, true, null, null);\n                for (Socket socket : connectedClients) {\n                    socket.close();\n                }\n                connectedClients.clear();\n            }\n        } catch (IOException e) {\n            controller.logEvent(Protocol.SERVER_STOPPED, false, null, null);\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>My problem lies in restarting the server. When I try to restart it, it gives me these errors:</p>\n<pre><code>java.net.BindException: Address already in use (Bind failed)\n    at java.base/java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:452)\n    at java.base/java.net.ServerSocket.bind(ServerSocket.java:395)\n    at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:257)\n    at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:149)\n    at MailServer.run(MailServer.java:71)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>My method for restarting the server was this:</p>\n<pre><code>    public void startServer() {\n        try {\n            if (serverSocket != null &amp;&amp; !serverSocket.isClosed()) {\n                serverSocket.setReuseAddress(true);\n                serverSocket.close();\n            }\n            isRunning.set(true);\n            serverSocket = new ServerSocket(PORT);\n            Thread thread = new Thread(this);\n            thread.start();\n            controller.logEvent(Protocol.SERVER_STARTED, true, null, null);\n        } catch (IOException e) {\n            controller.logEvent(Protocol.SERVER_STARTED, false, null, null);\n        }\n    }\n</code></pre>\n<p>Do you have any tips to solve my problem? I figured out that the problem is that the port is not freed when the server is stopped, but I have no idea how I can fix it.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":12267768,"reputation":806,"user_id":8953834,"display_name":"Ayoub Omari"},"score":1,"creation_date":1596554818,"post_id":2026093,"comment_id":111845340,"body_markdown":"JVM is a specification ! Which has different implementations","body":"JVM is a specification ! Which has different implementations"}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1422176369,"post_id":2026101,"comment_id":44641665,"body_markdown":"However, the best place to start leading how Java run is the src.zip and only after you are familiar with most of the key classes there would you move on to the hotspot module.","body":"However, the best place to start leading how Java run is the src.zip and only after you are familiar with most of the key classes there would you move on to the hotspot module."},{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":1,"creation_date":1443599164,"post_id":2026101,"comment_id":53553961,"body_markdown":"@PeterLawrey May I ask you some? After looking at the `src\\share\\native\\java\\lang\\Thread.c` I figured out that the implementation of the native method `interrupt0` is dug in `JVM_interrupt`. Where can I find the source for it? Is that from the hotspot?","body":"@PeterLawrey May I ask you some? After looking at the <code>src\\share\\native\\java\\lang\\Thread.c</code> I figured out that the implementation of the native method <code>interrupt0</code> is dug in <code>JVM_interrupt</code>. Where can I find the source for it? Is that from the hotspot?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":3,"creation_date":1507924335,"post_id":2026101,"comment_id":80421031,"body_markdown":"seems the repository browsing link there doesn&#39;t work. This does: https://github.com/openjdk-mirror/jdk7u-hotspot","body":"seems the repository browsing link there doesn&#39;t work. This does: <a href=\"https://github.com/openjdk-mirror/jdk7u-hotspot\" rel=\"nofollow noreferrer\">github.com/openjdk-mirror/jdk7u-hotspot</a>"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":1,"creation_date":1534399489,"post_id":2026101,"comment_id":90692414,"body_markdown":"Answers should not consist out of a mere link","body":"Answers should not consist out of a mere link"}],"tags":[],"owner":{"account_id":69612,"reputation":15420,"user_id":202431,"accept_rate":98,"display_name":"D.C."},"comment_count":4,"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1422045104,"creation_date":1262935770,"answer_id":2026101,"question_id":2026093,"body_markdown":"Have a look at hotspot JVM here: http://openjdk.java.net/groups/hotspot/","title":"Is JVM open source code?","body":"<p>Have a look at hotspot JVM here: <a href=\"http://openjdk.java.net/groups/hotspot/\" rel=\"noreferrer\">http://openjdk.java.net/groups/hotspot/</a></p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"comment_count":0,"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1678750173,"creation_date":1262939920,"answer_id":2026360,"question_id":2026093,"body_markdown":"It depends entirely on which JVM you use.\r\n\r\nIf you use the OpenJDK JVM, then you can get the source code from [here][1] (or [here][7] from a list of OpenJDK projects, or [here][8] from a list of GitHub mirrors).  \r\nIf you use the Kaffe JVM, you can get the source from [here][2].  \r\nIf you use the Sun JVM version 6 or later, then you can get the source from [here][3].\r\n\r\nIf you use a Sun JVM earlier than 6, then you can often get the source under an academic license. If you use an IBM, Oracle, HP, or other JVM, then the source is not open.\r\n\r\n**Update May 2013**\r\n\r\nThe Version 6 source can still be accessed by the above link, or it can be accessed via [this link][4]. This latter link also includes a handy _genealogy_ table that shows how the Oracle JDK and OpenJDK versions match with each other.\r\n\r\nAdditionally, a more up to date version of the Java 7 source can be found [here][5]. This also includes the fixes for the releases of Java 7 since GA.\r\n\r\nAnd, of no surprise to anyone, the Java 8 sources can be found [here][6].\r\n\r\n\r\n  [1]: http://download.java.net/openjdk/jdk7/\r\n  [2]: http://www.kaffe.org/\r\n  [3]: http://java.sun.com/javase/downloads/index.jsp\r\n  [4]: http://openjdk.java.net/projects/jdk6/\r\n  [5]: http://openjdk.java.net/projects/jdk7u/\r\n  [6]: http://openjdk.java.net/projects/jdk8/\r\n  [7]: https://hg.openjdk.java.net/\r\n  [8]: https://github.com/orgs/openjdk/repositories?q=jdk&amp;type=all&amp;language=&amp;sort=","title":"Is JVM open source code?","body":"<p>It depends entirely on which JVM you use.</p>\n<p>If you use the OpenJDK JVM, then you can get the source code from <a href=\"http://download.java.net/openjdk/jdk7/\" rel=\"nofollow noreferrer\">here</a> (or <a href=\"https://hg.openjdk.java.net/\" rel=\"nofollow noreferrer\">here</a> from a list of OpenJDK projects, or <a href=\"https://github.com/orgs/openjdk/repositories?q=jdk&amp;type=all&amp;language=&amp;sort=\" rel=\"nofollow noreferrer\">here</a> from a list of GitHub mirrors).<br />\nIf you use the Kaffe JVM, you can get the source from <a href=\"http://www.kaffe.org/\" rel=\"nofollow noreferrer\">here</a>.<br />\nIf you use the Sun JVM version 6 or later, then you can get the source from <a href=\"http://java.sun.com/javase/downloads/index.jsp\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>If you use a Sun JVM earlier than 6, then you can often get the source under an academic license. If you use an IBM, Oracle, HP, or other JVM, then the source is not open.</p>\n<p><strong>Update May 2013</strong></p>\n<p>The Version 6 source can still be accessed by the above link, or it can be accessed via <a href=\"http://openjdk.java.net/projects/jdk6/\" rel=\"nofollow noreferrer\">this link</a>. This latter link also includes a handy <em>genealogy</em> table that shows how the Oracle JDK and OpenJDK versions match with each other.</p>\n<p>Additionally, a more up to date version of the Java 7 source can be found <a href=\"http://openjdk.java.net/projects/jdk7u/\" rel=\"nofollow noreferrer\">here</a>. This also includes the fixes for the releases of Java 7 since GA.</p>\n<p>And, of no surprise to anyone, the Java 8 sources can be found <a href=\"http://openjdk.java.net/projects/jdk8/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":1365315,"reputation":4915,"user_id":1301879,"accept_rate":100,"display_name":"Michael Graczyk"},"score":5,"creation_date":1339708485,"post_id":2033468,"comment_id":14441116,"body_markdown":"giri was asking about JVM, not JDK.","body":"giri was asking about JVM, not JDK."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":2,"creation_date":1422045575,"post_id":2033468,"comment_id":44610741,"body_markdown":"Yes he wanted the JVM and not of the JDK source, so you get now a down.","body":"Yes he wanted the JVM and not of the JDK source, so you get now a down."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1422135275,"post_id":2033468,"comment_id":44633738,"body_markdown":"@PeterHorvath 90% of the JVM is in the sources, and 95% of the useful code is in the src.zip.  If you don&#39;t know about the OpenJDK, you should be starting with the sources which are intended for general consumption.","body":"@PeterHorvath 90% of the JVM is in the sources, and 95% of the useful code is in the src.zip.  If you don&#39;t know about the OpenJDK, you should be starting with the sources which are intended for general consumption."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":2,"creation_date":1422136141,"post_id":2033468,"comment_id":44633960,"body_markdown":"I double checked again, only for you. No, the sources of the _JVM_ (the so-named hotspot JVM, the java bytecode interpreter) isn&#39;t in src.zip . In src.zip, is there only the source code of the _JDK_, which is the standard system library collection. You really don&#39;t understand the difference?","body":"I double checked again, only for you. No, the sources of the <i>JVM</i> (the so-named hotspot JVM, the java bytecode interpreter) isn&#39;t in src.zip . In src.zip, is there only the source code of the <i>JDK</i>, which is the standard system library collection. You really don&#39;t understand the difference?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1422137027,"post_id":2033468,"comment_id":44634208,"body_markdown":"@PeterHorvath Ok, try running the JVM without using any of the classes mentioned in the src.zip.  Let me know how useful your definition of JVM is.","body":"@PeterHorvath Ok, try running the JVM without using any of the classes mentioned in the src.zip.  Let me know how useful your definition of JVM is."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":2,"creation_date":1422137167,"post_id":2033468,"comment_id":44634241,"body_markdown":"The OP asked for the source code of the JVM. It is not there, it is in a mercurial repository by the oracle&#39;s public web. Have you ever seen this src.zip? In your life? Ever?","body":"The OP asked for the source code of the JVM. It is not there, it is in a mercurial repository by the oracle&#39;s public web. Have you ever seen this src.zip? In your life? Ever?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1422137503,"post_id":2033468,"comment_id":44634327,"body_markdown":"@PeterHorvath Not sure how to give a sane response to your comment.  I think you know the answer to those questions and have given up trying to justify what you are saying.","body":"@PeterHorvath Not sure how to give a sane response to your comment.  I think you know the answer to those questions and have given up trying to justify what you are saying."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":2,"creation_date":1422137569,"post_id":2033468,"comment_id":44634342,"body_markdown":"I think there is a very simple sane answer: &quot;I am sorry, maybe I really misunderstood this question before 4 years&quot;, and then I answered, &quot;no problem, bro&quot;. I was only upset after finding this question by google, and finding 4 BAD answers in a row, all of them from old, 20k+ SE users.","body":"I think there is a very simple sane answer: &quot;I am sorry, maybe I really misunderstood this question before 4 years&quot;, and then I answered, &quot;no problem, bro&quot;. I was only upset after finding this question by google, and finding 4 BAD answers in a row, all of them from old, 20k+ SE users."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1422174922,"post_id":2033468,"comment_id":44641393,"body_markdown":"@PeterHorvath In the last 4 years I haven&#39;t changed opinion that the first place to look at the code run by the JVM, code it cannot run without is src.zip.  Most likely what you need to know is there esp if you are a user who doesn&#39;t even know OpenJDK source exists.  You could say the hotspot module is the true essential JVM but chances are whatever they are interested in is either a) not there, or b) in C++, c) too difficult for even an advanced Java user to to understand.  You have to consider the context/level of the OP when picking the most appropriate answer IMHO.","body":"@PeterHorvath In the last 4 years I haven&#39;t changed opinion that the first place to look at the code run by the JVM, code it cannot run without is src.zip.  Most likely what you need to know is there esp if you are a user who doesn&#39;t even know OpenJDK source exists.  You could say the hotspot module is the true essential JVM but chances are whatever they are interested in is either a) not there, or b) in C++, c) too difficult for even an advanced Java user to to understand.  You have to consider the context/level of the OP when picking the most appropriate answer IMHO."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1422175112,"post_id":2033468,"comment_id":44641429,"body_markdown":"@PeterHorvath I do appreciate the need to clean up old bad answers, I do this myself from time to time. I have probably edited a several hundred questions and answers and I have more than a few people fix my English ;)","body":"@PeterHorvath I do appreciate the need to clean up old bad answers, I do this myself from time to time. I have probably edited a several hundred questions and answers and I have more than a few people fix my English ;)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1422176300,"post_id":2033468,"comment_id":44641654,"body_markdown":"@PeterHorvath You have convinced me that I needed to clarify why I think srcc.zip is the place to start.","body":"@PeterHorvath You have convinced me that I needed to clarify why I think srcc.zip is the place to start."},{"owner":{"account_id":3408167,"reputation":690,"user_id":2859238,"accept_rate":32,"display_name":"user104309"},"score":0,"creation_date":1510956009,"post_id":2033468,"comment_id":81672638,"body_markdown":"@PeterLawrey I agree that understanding most used Java classes will itself take years and digging into JVM may carry me away from prime objective of development with Java language.But understanding of how the JVM works and how the JVM is built and came into being will give me a broader perspective and will allow me to appreciate the complexity of what is really underneath and enlighten me with various aspects.I will be comfortable if many things are not black box. In the process of understanding JVM, knowledge about OS and CPU arch is also preferred.It is just for intellectual stimulation.","body":"@PeterLawrey I agree that understanding most used Java classes will itself take years and digging into JVM may carry me away from prime objective of development with Java language.But understanding of how the JVM works and how the JVM is built and came into being will give me a broader perspective and will allow me to appreciate the complexity of what is really underneath and enlighten me with various aspects.I will be comfortable if many things are not black box. In the process of understanding JVM, knowledge about OS and CPU arch is also preferred.It is just for intellectual stimulation."},{"owner":{"account_id":3408167,"reputation":690,"user_id":2859238,"accept_rate":32,"display_name":"user104309"},"score":0,"creation_date":1510956795,"post_id":2033468,"comment_id":81672943,"body_markdown":"@PeterLawrey Having explained my curiosity for JVM internals and necessity for mind satisfaction that everyday I know a little bit more of what lies beneath, I request you to provide with some materials where there is pointing learning of this JVM with source code with correct sequence of topics instead of trying to learn by searching for topics in wrong order which will not make sense for beginners and finally give up. As you said, it is going to be too difficult for me as I lost touch with C/C++ and still there is an ocean of Java itself left unexplored.","body":"@PeterLawrey Having explained my curiosity for JVM internals and necessity for mind satisfaction that everyday I know a little bit more of what lies beneath, I request you to provide with some materials where there is pointing learning of this JVM with source code with correct sequence of topics instead of trying to learn by searching for topics in wrong order which will not make sense for beginners and finally give up. As you said, it is going to be too difficult for me as I lost touch with C/C++ and still there is an ocean of Java itself left unexplored."},{"owner":{"account_id":3408167,"reputation":690,"user_id":2859238,"accept_rate":32,"display_name":"user104309"},"score":0,"creation_date":1510960603,"post_id":2033468,"comment_id":81674236,"body_markdown":"@PeterLawrey I have a few articles of Ben Evans of JCP about Hotspot JVM architecture. But it is overwhelming or impossible for me to connect the dots to make a whole picture. I am not able to figure out head/start and tail/end of JVM when reading an aspect of JVM as in at what part/time of the execution, this particular concept of JVM is being used. It will be interesting and satisfying to learn, which portion of source code of JVM understands bytecode, on call of `main()` what all/first thing it does, object map, what it does when it encounters `native` keyword like in `Thread` class.","body":"@PeterLawrey I have a few articles of Ben Evans of JCP about Hotspot JVM architecture. But it is overwhelming or impossible for me to connect the dots to make a whole picture. I am not able to figure out head/start and tail/end of JVM when reading an aspect of JVM as in at what part/time of the execution, this particular concept of JVM is being used. It will be interesting and satisfying to learn, which portion of source code of JVM understands bytecode, on call of <code>main()</code> what all/first thing it does, object map, what it does when it encounters <code>native</code> keyword like in <code>Thread</code> class."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1511131159,"post_id":2033468,"comment_id":81718247,"body_markdown":"@user104309 to see what native methods do you need to find the method in the C code which implement the matching JNI signatures e.g. there will be a java_lang_Thread_yield method or something similar.  Note: methods like this call the OS to do the real work so there isn&#39;t much to see in the JVM itself.","body":"@user104309 to see what native methods do you need to find the method in the C code which implement the matching JNI signatures e.g. there will be a java_lang_Thread_yield method or something similar.  Note: methods like this call the OS to do the real work so there isn&#39;t much to see in the JVM itself."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":15,"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1422176260,"creation_date":1263043205,"answer_id":2033468,"question_id":2026093,"body_markdown":"The core part of the JVM is in the hotspot module of the OpenJDK.  However what you need is more likely to be in src.zip.\r\n\r\nThe hotspot module apart of those classes is\r\n\r\n - mostly in C++\r\n - not always easy to understand.  This has improved over the years and new code tends to be better as they are more aware that the code will have broader consumption.\r\n - often not what you are looking for.\r\n\r\nFor this reason if you want to know how the JVM runs it is best to look at the commonly used classes.  For example, even something as low level as how lambdas really work at runtime is mostly in the src.zip not much is in the JVM.\r\n\r\nMost of the source for the libraries come with the JDK in the src.zip file.  Your IDE will use that automatically.  You are much better off being familiar with the classes in these libraries than playing with the JDK itself.","title":"Is JVM open source code?","body":"<p>The core part of the JVM is in the hotspot module of the OpenJDK.  However what you need is more likely to be in src.zip.</p>\n\n<p>The hotspot module apart of those classes is</p>\n\n<ul>\n<li>mostly in C++</li>\n<li>not always easy to understand.  This has improved over the years and new code tends to be better as they are more aware that the code will have broader consumption.</li>\n<li>often not what you are looking for.</li>\n</ul>\n\n<p>For this reason if you want to know how the JVM runs it is best to look at the commonly used classes.  For example, even something as low level as how lambdas really work at runtime is mostly in the src.zip not much is in the JVM.</p>\n\n<p>Most of the source for the libraries come with the JDK in the src.zip file.  Your IDE will use that automatically.  You are much better off being familiar with the classes in these libraries than playing with the JDK itself.</p>\n"},{"tags":[],"owner":{"account_id":14537807,"reputation":1,"user_id":10500580,"display_name":"FlyingSocks"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1539461881,"creation_date":1539461881,"answer_id":52796945,"question_id":2026093,"body_markdown":"There is no open source jvm even if there were you can&#39;t bypass Oracle&#39;s stupid classpath exception. In short openjdk is still tied to $$ driven scheme that forces you to contend with a comercial vm. No different from Microsoft really, you can work with C# under what ever os they even provide .net libraries free but maintain control over Visual Studio which practically forces the end user to make use of Windows as the chosen environment.","title":"Is JVM open source code?","body":"<p>There is no open source jvm even if there were you can't bypass Oracle's stupid classpath exception. In short openjdk is still tied to $$ driven scheme that forces you to contend with a comercial vm. No different from Microsoft really, you can work with C# under what ever os they even provide .net libraries free but maintain control over Visual Studio which practically forces the end user to make use of Windows as the chosen environment.</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64828,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":2026101,"answer_count":4,"score":83,"last_activity_date":1678750173,"creation_date":1262935704,"question_id":2026093,"body_markdown":"Is JVM open source code? If not, how can I get the code of JVM?","title":"Is JVM open source code?","body":"<p>Is JVM open source code? If not, how can I get the code of JVM?</p>\n"},{"tags":["java","arrays","string","class","object"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1678744083,"post_id":75727157,"comment_id":133590060,"body_markdown":"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"<a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678744986,"post_id":75727157,"comment_id":133590219,"body_markdown":"The format is fixed.  Start by looking at character positions 2 &amp; 5 and check that they are `/` characters, if they are, you can split the String in these and then simply do a `String` to `int` conversation test.  Oh, and `letter == &quot;/&quot;` is not how you compare `String`s, see [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java) for more details - although, I would have just compared the `character`","body":"The format is fixed.  Start by looking at character positions 2 &amp; 5 and check that they are <code>&#47;</code> characters, if they are, you can split the String in these and then simply do a <code>String</code> to <code>int</code> conversation test.  Oh, and <code>letter == &quot;&#47;&quot;</code> is not how you compare <code>String</code>s, see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a> for more details - although, I would have just compared the <code>character</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678745049,"post_id":75727157,"comment_id":133590232,"body_markdown":"You should also start with the assumption that the format is correct and only change  `isADate` (to `false`) when it&#39;s not - never set it back to `true` in the loop.  You should also exit the loop once you&#39;ve proven the format to be incorrect","body":"You should also start with the assumption that the format is correct and only change  <code>isADate</code> (to <code>false</code>) when it&#39;s not - never set it back to <code>true</code> in the loop.  You should also exit the loop once you&#39;ve proven the format to be incorrect"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678782697,"post_id":75727157,"comment_id":133595644,"body_markdown":"@OldProgrammer In this case simpler: `c == &#39;/&#39;` (comparing chars rather than strings). You are correct that the OP’s way (`letter == &quot;/&quot;`) did not work.","body":"@OldProgrammer In this case simpler: <code>c == &#39;&#47;&#39;</code> (comparing chars rather than strings). You are correct that the OP’s way (<code>letter == &quot;&#47;&quot;</code>) did not work."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678749901,"creation_date":1678745352,"answer_id":75727349,"question_id":75727157,"body_markdown":"I just want to point out that this kind of thing is a bad idea, but, since you&#39;re only comparing the &quot;format&quot; against a &quot;fixed format&quot;, I won&#39;t go on a wild rant.\r\n\r\nThe format is fixed.  Start by looking at character positions 2 &amp; 5 and check that they are `/` characters, if they are, you can split the String on these and then simply do a `String` to `int` conversation test.  Oh, and `letter == &quot;/&quot;` is not how you compare `String`s, see [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java) for more details - although, I would have just compared the `character`\r\n\r\nThe core problem (apart from comparing `String`s incorrectly), is you reset the `isADate` to `true` in the loop\r\n\r\nYou should start with the assumption that the format is correct and only change  `isADate` (to `false`) when it&#39;s not - never set it back to `true` in the loop.  You should also exit the loop once you&#39;ve proven the format to be incorrect.\r\n\r\nFor example...\r\n\r\n    boolean isADate = true;\r\n    for (int i = 0; i &lt; dateInsert.length(); i++) {\r\n        char c = dateInsert.charAt(i);\r\n\r\n        if (i == 2 || i == 5) {\r\n            if (c != &#39;/&#39;) {\r\n                isADate = false;\r\n                break;\r\n            }\r\n        } else if (!Character.isDigit(c)) {\r\n            isADate = false;\r\n            break;\r\n        }\r\n    }\r\n","title":"date verify with Java","body":"<p>I just want to point out that this kind of thing is a bad idea, but, since you're only comparing the &quot;format&quot; against a &quot;fixed format&quot;, I won't go on a wild rant.</p>\n<p>The format is fixed.  Start by looking at character positions 2 &amp; 5 and check that they are <code>/</code> characters, if they are, you can split the String on these and then simply do a <code>String</code> to <code>int</code> conversation test.  Oh, and <code>letter == &quot;/&quot;</code> is not how you compare <code>String</code>s, see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a> for more details - although, I would have just compared the <code>character</code></p>\n<p>The core problem (apart from comparing <code>String</code>s incorrectly), is you reset the <code>isADate</code> to <code>true</code> in the loop</p>\n<p>You should start with the assumption that the format is correct and only change  <code>isADate</code> (to <code>false</code>) when it's not - never set it back to <code>true</code> in the loop.  You should also exit the loop once you've proven the format to be incorrect.</p>\n<p>For example...</p>\n<pre><code>boolean isADate = true;\nfor (int i = 0; i &lt; dateInsert.length(); i++) {\n    char c = dateInsert.charAt(i);\n\n    if (i == 2 || i == 5) {\n        if (c != '/') {\n            isADate = false;\n            break;\n        }\n    } else if (!Character.isDigit(c)) {\n        isADate = false;\n        break;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678749976,"post_id":75727768,"comment_id":133591065,"body_markdown":"This would be my preferred method - but I&#39;m assuming (which is bad of me) that this is some kind of &quot;assignment&quot; and the requirement is to validate the format of the date as apposed to validating the date itself","body":"This would be my preferred method - but I&#39;m assuming (which is bad of me) that this is some kind of &quot;assignment&quot; and the requirement is to validate the format of the date as apposed to validating the date itself"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678750149,"post_id":75727768,"comment_id":133591079,"body_markdown":"@MadProgrammer Agreed. Thus my up-vote and mention of your Answer. I added my Answer for posterity, for those folks doing real work rather than schoolwork.","body":"@MadProgrammer Agreed. Thus my up-vote and mention of your Answer. I added my Answer for posterity, for those folks doing real work rather than schoolwork."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678750608,"post_id":75727768,"comment_id":133591141,"body_markdown":"&#128077; Also agreed !","body":"👍 Also agreed !"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678750094,"creation_date":1678749711,"answer_id":75727768,"question_id":75727157,"body_markdown":"The [Answer by MadProgrammer][1] is correct and wise. \r\n\r\n# Parsing with `DateTimeFormatter`\r\n\r\nThe better way to validate dates is to define a [`DateTimeFormatter`][2] with a formatting pattern that matches your expected input.\r\n\r\n    DateTimeFormatter f = DateTimeForatter.ofPattern( &quot;MM/dd/uuuu&quot; ) ;\r\n\r\nAttempt to parse your actual input. Trap for [`DateTimeParseException`][3] indicating the input did not meet your expectations.\r\n\r\n```java\r\ntry {\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n} catch ( DateTimeParseException e ) {\r\n    … handle faulty input\r\n}\r\n```\r\n\r\n# ISO 8601\r\n\r\nThe ultimate solution is to educate the publisher of your data about the benefits of using only standard [ISO 8601][4] formats when exchanging date-time values textually. \r\n\r\nAvoid exchanging data in localized or invented formats. The standard formats are designed to be easy for machines to parse, and easy for humans to read across various cultures. The standard formats are designed to avoid ambiguities.\r\n\r\nThe *java.time* classes in Java 8+ use the standard ISO 8601 formats by default when parsing/generating text.\r\n\r\nThe standard format for a date-only value is YYYY-MM-DD such as `2023-12-03`. Notice the logic of year-month-day: bigger, middle, smallest. And this text when sorted alphabetically is also in chronological order.\r\n\r\n# Jakarta Bean Validation \r\n\r\nYou may find [Jakarta Bean Validation][5] 3.0 useful as a way of validating data inputs. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75727349/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeParseException.html\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://jakarta.ee/specifications/bean-validation/","title":"date verify with Java","body":"<p>The <a href=\"https://stackoverflow.com/a/75727349/642706\">Answer by MadProgrammer</a> is correct and wise.</p>\n<h1>Parsing with <code>DateTimeFormatter</code></h1>\n<p>The better way to validate dates is to define a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> with a formatting pattern that matches your expected input.</p>\n<pre><code>DateTimeFormatter f = DateTimeForatter.ofPattern( &quot;MM/dd/uuuu&quot; ) ;\n</code></pre>\n<p>Attempt to parse your actual input. Trap for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeParseException.html\" rel=\"nofollow noreferrer\"><code>DateTimeParseException</code></a> indicating the input did not meet your expectations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    LocalDate ld = LocalDate.parse( input , f ) ;\n} catch ( DateTimeParseException e ) {\n    … handle faulty input\n}\n</code></pre>\n<h1>ISO 8601</h1>\n<p>The ultimate solution is to educate the publisher of your data about the benefits of using only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats when exchanging date-time values textually.</p>\n<p>Avoid exchanging data in localized or invented formats. The standard formats are designed to be easy for machines to parse, and easy for humans to read across various cultures. The standard formats are designed to avoid ambiguities.</p>\n<p>The <em>java.time</em> classes in Java 8+ use the standard ISO 8601 formats by default when parsing/generating text.</p>\n<p>The standard format for a date-only value is YYYY-MM-DD such as <code>2023-12-03</code>. Notice the logic of year-month-day: bigger, middle, smallest. And this text when sorted alphabetically is also in chronological order.</p>\n<h1>Jakarta Bean Validation</h1>\n<p>You may find <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\">Jakarta Bean Validation</a> 3.0 useful as a way of validating data inputs.</p>\n"}],"owner":{"account_id":25582692,"reputation":1,"user_id":21392146,"display_name":"Ademir J&#250;nior"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678750094,"creation_date":1678743889,"question_id":75727157,"body_markdown":"I&#39;ve created a class to receive an object with a date and verify by a method if the date is writen correctly. The problem is that my code doesn&#39;t work to verify the characters correctly.\r\n\r\nHere I have the objects called at main function:\r\n\r\n\r\n     hoje.constructor(&quot;12/03/2023&quot;); //right date\r\n     amanha.constructor(&quot;0//03/2003&quot;); //wrong date\r\n\r\nAnd here are the method construtor() at Date Class:\r\n\r\n\r\n     public void constructor(String dateInsert){\r\n    \r\n            if (dateInsert.length() != 10){\r\n                this.date = &quot;01/01/0001&quot;;\r\n            } else {\r\n                boolean isADate = true;\r\n                for(int i = 0 ; i &lt; dateInsert.length() ; i++){\r\n                    char c = dateInsert.charAt(i);\r\n                    String letter = &quot;&quot; + c;\r\n                    \r\n                    if(Character.isDigit(c) == false &amp;&amp; letter == &quot;/&quot;){\r\n                        if(i != 2 || i != 5){\r\n                            isADate = false;\r\n                        } else {\r\n                            isADate = true;\r\n                        }\r\n                    } else {\r\n                        isADate = true;\r\n                    }\r\n                }\r\n    \r\n                if(isADate == true){\r\n                    this.data = dateInsert;\r\n                } else {\r\n                    this.data = &quot;01/01/0001&quot;;\r\n                }\r\n            }     \r\n      }\r\n\r\n\r\n","title":"date verify with Java","body":"<p>I've created a class to receive an object with a date and verify by a method if the date is writen correctly. The problem is that my code doesn't work to verify the characters correctly.</p>\n<p>Here I have the objects called at main function:</p>\n<pre><code> hoje.constructor(&quot;12/03/2023&quot;); //right date\n amanha.constructor(&quot;0//03/2003&quot;); //wrong date\n</code></pre>\n<p>And here are the method construtor() at Date Class:</p>\n<pre><code> public void constructor(String dateInsert){\n\n        if (dateInsert.length() != 10){\n            this.date = &quot;01/01/0001&quot;;\n        } else {\n            boolean isADate = true;\n            for(int i = 0 ; i &lt; dateInsert.length() ; i++){\n                char c = dateInsert.charAt(i);\n                String letter = &quot;&quot; + c;\n                \n                if(Character.isDigit(c) == false &amp;&amp; letter == &quot;/&quot;){\n                    if(i != 2 || i != 5){\n                        isADate = false;\n                    } else {\n                        isADate = true;\n                    }\n                } else {\n                    isADate = true;\n                }\n            }\n\n            if(isADate == true){\n                this.data = dateInsert;\n            } else {\n                this.data = &quot;01/01/0001&quot;;\n            }\n        }     \n  }\n</code></pre>\n"},{"tags":["java","android","crash"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1678750001,"post_id":75727782,"comment_id":133591068,"body_markdown":"Use Logcat to [examine the stack trace associated with the crash](https://commonsware.com/Jetpack/pages/chap-debug-001.html). If you need help understanding the stack trace, edit your question to include it!","body":"Use Logcat to <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">examine the stack trace associated with the crash</a>. If you need help understanding the stack trace, edit your question to include it!"}],"owner":{"account_id":15645756,"reputation":13,"user_id":11287945,"display_name":"SarcasticSlav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678749898,"creation_date":1678749898,"question_id":75727782,"body_markdown":"The first time I oppened the app i allowed permision, since then everytime I re-run the app it crahses a few times and then it lets me in. What is the problem? \r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if(requestCode==1){\r\n            if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n                if(ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)==PackageManager.PERMISSION_GRANTED){\r\n                    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,0,500,locationListener);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        LocationManagerlocationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        LocationListener locationListener = new LocationListener()\r\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION},1);\r\n        }else{\r\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,0,500,locationListener);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n","title":"My app keeps crashing when asking for permission","body":"<p>The first time I oppened the app i allowed permision, since then everytime I re-run the app it crahses a few times and then it lets me in. What is the problem?</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if(requestCode==1){\n            if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED){\n                if(ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)==PackageManager.PERMISSION_GRANTED){\n                    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,0,500,locationListener);\n                }\n            }\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        LocationManagerlocationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        LocationListener locationListener = new LocationListener()\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION},1);\n        }else{\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,0,500,locationListener);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":1,"creation_date":1678718359,"post_id":75723310,"comment_id":133583169,"body_markdown":"Can you provide a code example of what you mean?","body":"Can you provide a code example of what you mean?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678718558,"post_id":75723310,"comment_id":133583235,"body_markdown":"Adding variables to a class should not require any other changes.  Removing a variable implies removing the getter and setter, which means removing all references to those getters and setters.  You are using getters and setters, right?","body":"Adding variables to a class should not require any other changes.  Removing a variable implies removing the getter and setter, which means removing all references to those getters and setters.  You are using getters and setters, right?"},{"owner":{"account_id":28006635,"reputation":13,"user_id":21389927,"display_name":"fpeste"},"score":0,"creation_date":1678719016,"post_id":75723310,"comment_id":133583385,"body_markdown":"I&#39;ve updated the post to include code. Thanks","body":"I&#39;ve updated the post to include code. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678719159,"creation_date":1678719159,"answer_id":75723499,"question_id":75723310,"body_markdown":"In your example writing a `Person` somewhere is usually not the responsibility of `Person` itself. There could be a `PersonWriter` which has the `write` functionality/responsibility and if you add a new field to Persons own API has changed and if you want to write the new thing also, you have to change the `PersonWriter`. This would not break the SRP.\r\n\r\nIf you change the interface of a class then you change how it can be interacted with so places that interact with it may also need changing. So all you can do is hide as much implementation details as possible in the classes internals and change the public interface rarely.\r\n\r\nThing with patterns like SRP is you should take them seriously but not overdo them. It&#39;s always finding the right balance to keep your code well structured and easy to read/build on top of.","title":"How to avoid having a change in one class resulting in needing to change multiple other classes?","body":"<p>In your example writing a <code>Person</code> somewhere is usually not the responsibility of <code>Person</code> itself. There could be a <code>PersonWriter</code> which has the <code>write</code> functionality/responsibility and if you add a new field to Persons own API has changed and if you want to write the new thing also, you have to change the <code>PersonWriter</code>. This would not break the SRP.</p>\n<p>If you change the interface of a class then you change how it can be interacted with so places that interact with it may also need changing. So all you can do is hide as much implementation details as possible in the classes internals and change the public interface rarely.</p>\n<p>Thing with patterns like SRP is you should take them seriously but not overdo them. It's always finding the right balance to keep your code well structured and easy to read/build on top of.</p>\n"}],"owner":{"account_id":28006635,"reputation":13,"user_id":21389927,"display_name":"fpeste"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75723499,"answer_count":1,"score":1,"last_activity_date":1678749570,"creation_date":1678718193,"question_id":75723310,"body_markdown":"I&#39;ve been trying to follow the SRP, but I&#39;ve encountered a problem. For example, when I add or remove a variable in a class I have to edit multiple other classes that access the changed class. I understand that this makes sense, but surely there are other ways add variables to a class without having to change many other classes?\r\n\r\nBelow is a simple example with only one class that needs changing, but it illustrates what I mean:\r\n```\r\n\r\nclass Person {\r\n    private String name;\r\n    private int age; //New variable\r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n    public int getAge(){\r\n        return age;\r\n    }\r\n    \r\n    public void setAge(int age){\r\n        this.age = age;\r\n    }\r\n}\r\n\r\nclass PersonDataStorage {\r\n    public void store(Person person){\r\n        write(person.getName());\r\n        //Needing to add line below to multiple classes:\r\n        write(person.getAge());\r\n    }\r\n}\r\n```\r\n\r\nThe only thing I&#39;ve come up with is to do these things in the same class, but that does not follow the SRP, and I&#39;ve noticed that those classes become &quot;God-classes&quot;. Any help is appreciated. ","title":"How to avoid having a change in one class resulting in needing to change multiple other classes?","body":"<p>I've been trying to follow the SRP, but I've encountered a problem. For example, when I add or remove a variable in a class I have to edit multiple other classes that access the changed class. I understand that this makes sense, but surely there are other ways add variables to a class without having to change many other classes?</p>\n<p>Below is a simple example with only one class that needs changing, but it illustrates what I mean:</p>\n<pre><code>\nclass Person {\n    private String name;\n    private int age; //New variable\n    \n    public String getName() {\n        return name;\n    }\n    \n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    public int getAge(){\n        return age;\n    }\n    \n    public void setAge(int age){\n        this.age = age;\n    }\n}\n\nclass PersonDataStorage {\n    public void store(Person person){\n        write(person.getName());\n        //Needing to add line below to multiple classes:\n        write(person.getAge());\n    }\n}\n</code></pre>\n<p>The only thing I've come up with is to do these things in the same class, but that does not follow the SRP, and I've noticed that those classes become &quot;God-classes&quot;. Any help is appreciated.</p>\n"},{"tags":["java","gremlin","tinkerpop"],"comments":[{"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1633637409,"post_id":69472203,"comment_id":122820193,"body_markdown":"I&#39;m curious why you are wanting to inject traversals into the query rather than just parameterize the query itself? Is you example perhaps just a simple case of something more complex you are looking to build?","body":"I&#39;m curious why you are wanting to inject traversals into the query rather than just parameterize the query itself? Is you example perhaps just a simple case of something more complex you are looking to build?"}],"answers":[{"comments":[{"owner":{"account_id":1130068,"reputation":659,"user_id":1116377,"accept_rate":65,"display_name":"user1116377"},"score":0,"creation_date":1633583925,"post_id":69472544,"comment_id":122799292,"body_markdown":"thank you but this is not an answer to the question. need to combine 2 traversals so in your case extract the .bothE(&quot;edgeLabel&quot;) to a different function","body":"thank you but this is not an answer to the question. need to combine 2 traversals so in your case extract the .bothE(&quot;edgeLabel&quot;) to a different function"},{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1633588304,"post_id":69472544,"comment_id":122800410,"body_markdown":"Oh excuse me, then simply put the traversal inside a combinator (`filter`, `and`, `map`, ...). I&#39;ve updated the answer.","body":"Oh excuse me, then simply put the traversal inside a combinator (<code>filter</code>, <code>and</code>, <code>map</code>, ...). I&#39;ve updated the answer."}],"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633588213,"creation_date":1633553686,"answer_id":69472544,"question_id":69472203,"body_markdown":"You can use `and` or `filter` (depending on the specific `Traversal` you are traversing)\r\n\r\n    TinkerGraph g = TinkerGraph.open();\r\n\r\n    /*\r\n             u:A\r\n    &lt;1:A&gt; ---------- &lt;2:B&gt;\r\n      |                |\r\n      | x:B            | v:B\r\n      |                |\r\n    &lt;4:B&gt; ---------- &lt;3:A&gt;\r\n             w:A\r\n    */\r\n\r\n    Vertex v1 = g.addVertex(T.label, &quot;A&quot;, T.id, 1);\r\n    Vertex v2 = g.addVertex(T.label, &quot;B&quot;, T.id, 2);\r\n    Vertex v3 = g.addVertex(T.label, &quot;A&quot;, T.id, 3);\r\n    Vertex v4 = g.addVertex(T.label, &quot;B&quot;, T.id, 4);\r\n\r\n    v1.addEdge(&quot;A&quot;, v2, T.id, &quot;u&quot;);\r\n    v2.addEdge(&quot;B&quot;, v3, T.id, &quot;v&quot;);\r\n    v3.addEdge(&quot;A&quot;, v4, T.id, &quot;w&quot;);\r\n    v4.addEdge(&quot;B&quot;, v1, T.id, &quot;x&quot;);\r\n\r\n    // predefined traversal from somewhere\r\n    Traversal&lt;Vertex, Vertex&gt; vertexFilter = __.hasLabel(&quot;A&quot;);\r\n    Traversal&lt;Vertex, Vertex&gt; edgeFilter = __.hasLabel(&quot;B&quot;);\r\n    Traversal&lt;Vertex, Edge&gt; vertex2edges = __.bothE().filter(edgeFilter);\r\n    Traversal&lt;Edge, Vertex&gt; edge2vertex = __.bothV().filter(vertexFilter);\r\n\r\n    System.out.println(&quot;Get edges matching filter with any vertex matching filter:&quot;);\r\n    g.traversal().E().filter(edgeFilter).and(edge2vertex).toList()\r\n            .forEach(e -&gt; System.out.printf(&quot; - %s%n&quot;, e.id()));\r\n\r\n    System.out.println(&quot;Get vertex matching filter with any edge matching filter:&quot;);\r\n    g.traversal().V().filter(vertexFilter).and(vertex2edges).toList()\r\n            .forEach(v -&gt; System.out.printf(&quot; - %s%n&quot;, v.id()));\r\n\r\nwith output\r\n\r\n    Get edges matching filter with any vertex matching filter:\r\n     - v\r\n     - x\r\n    Get vertex matching filter with any edge matching filter:\r\n     - 1\r\n     - 3","title":"Gremlin merge two traversals","body":"<p>You can use <code>and</code> or <code>filter</code> (depending on the specific <code>Traversal</code> you are traversing)</p>\n<pre><code>TinkerGraph g = TinkerGraph.open();\n\n/*\n         u:A\n&lt;1:A&gt; ---------- &lt;2:B&gt;\n  |                |\n  | x:B            | v:B\n  |                |\n&lt;4:B&gt; ---------- &lt;3:A&gt;\n         w:A\n*/\n\nVertex v1 = g.addVertex(T.label, &quot;A&quot;, T.id, 1);\nVertex v2 = g.addVertex(T.label, &quot;B&quot;, T.id, 2);\nVertex v3 = g.addVertex(T.label, &quot;A&quot;, T.id, 3);\nVertex v4 = g.addVertex(T.label, &quot;B&quot;, T.id, 4);\n\nv1.addEdge(&quot;A&quot;, v2, T.id, &quot;u&quot;);\nv2.addEdge(&quot;B&quot;, v3, T.id, &quot;v&quot;);\nv3.addEdge(&quot;A&quot;, v4, T.id, &quot;w&quot;);\nv4.addEdge(&quot;B&quot;, v1, T.id, &quot;x&quot;);\n\n// predefined traversal from somewhere\nTraversal&lt;Vertex, Vertex&gt; vertexFilter = __.hasLabel(&quot;A&quot;);\nTraversal&lt;Vertex, Vertex&gt; edgeFilter = __.hasLabel(&quot;B&quot;);\nTraversal&lt;Vertex, Edge&gt; vertex2edges = __.bothE().filter(edgeFilter);\nTraversal&lt;Edge, Vertex&gt; edge2vertex = __.bothV().filter(vertexFilter);\n\nSystem.out.println(&quot;Get edges matching filter with any vertex matching filter:&quot;);\ng.traversal().E().filter(edgeFilter).and(edge2vertex).toList()\n        .forEach(e -&gt; System.out.printf(&quot; - %s%n&quot;, e.id()));\n\nSystem.out.println(&quot;Get vertex matching filter with any edge matching filter:&quot;);\ng.traversal().V().filter(vertexFilter).and(vertex2edges).toList()\n        .forEach(v -&gt; System.out.printf(&quot; - %s%n&quot;, v.id()));\n</code></pre>\n<p>with output</p>\n<pre><code>Get edges matching filter with any vertex matching filter:\n - v\n - x\nGet vertex matching filter with any edge matching filter:\n - 1\n - 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2480858,"reputation":11,"user_id":2160372,"display_name":"user2160372"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678635040,"creation_date":1678635040,"answer_id":75714217,"question_id":69472203,"body_markdown":"emm Gremlin dsl is really hard to use in some case..I take hours to find out the solution. \r\n\r\nthe way is to use admin to split a Traversal into steps and add to a another ,here is the code \r\n\r\n```\r\n  //split the input e.g __.inE(&quot;edgeLabel&quot;) into steps;\r\n  List&lt;Step&gt; steps = graphTraversal.asAdmin().getSteps();\r\n  //get the inner admin\r\n  GraphTraversal.Admin admin = graph.traversal().V().asAdmin();\r\n  //append step to admin\r\n  for(Step step : steps) {\r\n    admin =  admin.addStep(step);\r\n  }\r\n  //get the result\r\n  admin.next()\r\n\r\n```","title":"Gremlin merge two traversals","body":"<p>emm Gremlin dsl is really hard to use in some case..I take hours to find out the solution.</p>\n<p>the way is to use admin to split a Traversal into steps and add to a another ,here is the code</p>\n<pre><code>  //split the input e.g __.inE(&quot;edgeLabel&quot;) into steps;\n  List&lt;Step&gt; steps = graphTraversal.asAdmin().getSteps();\n  //get the inner admin\n  GraphTraversal.Admin admin = graph.traversal().V().asAdmin();\n  //append step to admin\n  for(Step step : steps) {\n    admin =  admin.addStep(step);\n  }\n  //get the result\n  admin.next()\n\n</code></pre>\n"}],"owner":{"account_id":1130068,"reputation":659,"user_id":1116377,"accept_rate":65,"display_name":"user1116377"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678749528,"creation_date":1633551393,"question_id":69472203,"body_markdown":"I have 2 traversals: 1 to find vertex by label and another to find edges by label and I&#39;m trying to merge them i.e. get all **edgeLabel** edges for vertices with **vertexlabel** label.\r\n\r\nvertex traversal:\r\n\r\n```\r\ngraph.traversal().V().hasLabel(&quot;vertexLabel&quot;)\r\n```\r\n\r\nedges traversal function (must be a different function):\r\n```\r\nprivate GraphTraversal&lt;Vertex, Edge&gt; getEdges() {\r\n    return __.inE(&quot;edgeLabel&quot;);\r\n}\r\n```\r\n\r\nI tried the following but it didn&#39;t work\r\n```\r\ngraph.traversal().V().hasLabel(&quot;vertexLabel&quot;).and(getEdges())\r\n```\r\n","title":"Gremlin merge two traversals","body":"<p>I have 2 traversals: 1 to find vertex by label and another to find edges by label and I'm trying to merge them i.e. get all <strong>edgeLabel</strong> edges for vertices with <strong>vertexlabel</strong> label.</p>\n<p>vertex traversal:</p>\n<pre><code>graph.traversal().V().hasLabel(&quot;vertexLabel&quot;)\n</code></pre>\n<p>edges traversal function (must be a different function):</p>\n<pre><code>private GraphTraversal&lt;Vertex, Edge&gt; getEdges() {\n    return __.inE(&quot;edgeLabel&quot;);\n}\n</code></pre>\n<p>I tried the following but it didn't work</p>\n<pre><code>graph.traversal().V().hasLabel(&quot;vertexLabel&quot;).and(getEdges())\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1538227939,"post_id":52568836,"comment_id":92074709,"body_markdown":"Not understandable what you want ... what means &quot;outside the class&quot;? why not storing `a` in a class variable and provide a getter method","body":"Not understandable what you want ... what means &quot;outside the class&quot;? why not storing <code>a</code> in a class variable and provide a getter method"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1538228047,"post_id":52568836,"comment_id":92074746,"body_markdown":"Welcome to Stack Overflow! Please have a look around, and read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask) I also recommend Jon Skeet&#39;s [*Writing the Perfect Question*](https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/) or at least his [question checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/). I&#39;m afraid it&#39;s not clear what you want to do here.","body":"Welcome to Stack Overflow! Please have a look around, and read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a> I also recommend Jon Skeet&#39;s <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\"><i>Writing the Perfect Question</i></a> or at least his <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">question checklist</a>. I&#39;m afraid it&#39;s not clear what you want to do here."},{"owner":{"account_id":5370013,"reputation":524,"user_id":4278836,"display_name":"Mukesh Verma"},"score":0,"creation_date":1538230220,"post_id":52568836,"comment_id":92075273,"body_markdown":"Some more code please. We cannot make anything out of your question.","body":"Some more code please. We cannot make anything out of your question."}],"answers":[{"tags":[],"owner":{"account_id":14443992,"reputation":16,"user_id":10433744,"display_name":"Jerry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538231215,"creation_date":1538231215,"answer_id":52569305,"question_id":52568836,"body_markdown":"Declare a variable outside of the method and change that variable inside the method. \r\n\r\n    private String acc; \r\n    \r\n    public void setAcc(String a)\r\n    {\r\n        this.acc = a; \r\n        m_acc.setText(a);\r\n    }\r\n    \r\n    ...\r\n    \r\n    System.out.println(acc); //prints the value of a ","title":"How to get value of function outside in separate value?","body":"<p>Declare a variable outside of the method and change that variable inside the method. </p>\n\n<pre><code>private String acc; \n\npublic void setAcc(String a)\n{\n    this.acc = a; \n    m_acc.setText(a);\n}\n\n...\n\nSystem.out.println(acc); //prints the value of a \n</code></pre>\n"}],"owner":{"account_id":11142754,"reputation":97,"user_id":8178695,"display_name":"My Themes Cafe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":52569305,"answer_count":1,"score":-3,"last_activity_date":1678749096,"creation_date":1538227827,"question_id":52568836,"body_markdown":"```java\r\npublic  void setAcc(String a)\r\n{\r\n  m_acc.setText(a);\r\n}\r\n```\r\n\r\nI want to get the value of variable `a` as a separate variable outside this function. \r\nThe values of `a` are coming from another Controller Class.\r\n","title":"How to get value of function outside in separate value?","body":"<pre class=\"lang-java prettyprint-override\"><code>public  void setAcc(String a)\n{\n  m_acc.setText(a);\n}\n</code></pre>\n<p>I want to get the value of variable <code>a</code> as a separate variable outside this function.\nThe values of <code>a</code> are coming from another Controller Class.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678744804,"post_id":75727159,"comment_id":133590178,"body_markdown":"[jdk.jshell](https://docs.oracle.com/en/java/javase/18/docs/api/jdk.jshell/jdk/jshell/package-summary.html)?","body":"<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/jdk.jshell/jdk/jshell/package-summary.html\" rel=\"nofollow noreferrer\">jdk.jshell</a>?"},{"owner":{"account_id":6882751,"reputation":698,"user_id":5288966,"accept_rate":84,"display_name":"jesric1029"},"score":0,"creation_date":1678745840,"post_id":75727159,"comment_id":133590374,"body_markdown":"I believe you need to use some listener so that your dynamic math formula method will be called when some condition is met based on the listener. There are many options out there, so I suggest looking based on that.","body":"I believe you need to use some listener so that your dynamic math formula method will be called when some condition is met based on the listener. There are many options out there, so I suggest looking based on that."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1678746509,"post_id":75727159,"comment_id":133590492,"body_markdown":"Parsing and interpreting expressions is not simple. This is not the sort of thing that can be answered simply or easily in these types of formats.","body":"Parsing and interpreting expressions is not simple. This is not the sort of thing that can be answered simply or easily in these types of formats."},{"owner":{"account_id":13179729,"reputation":93,"user_id":9519521,"display_name":"Biggy Poopa"},"score":0,"creation_date":1678748637,"post_id":75727159,"comment_id":133590854,"body_markdown":"@sprinter operations (+, -, *, /, %, ^) and there are brackets\nPossible formula:  &quot;((12+3) * (18/6)^4)&quot;","body":"@sprinter operations (+, -, *, /, %, ^) and there are brackets Possible formula:  &quot;((12+3) * (18/6)^4)&quot;"},{"owner":{"account_id":13179729,"reputation":93,"user_id":9519521,"display_name":"Biggy Poopa"},"score":0,"creation_date":1678748803,"post_id":75727159,"comment_id":133590887,"body_markdown":"@teapot418 Can one implement jshell as a singleton and pass the formula to the call method? I am not sure how can one do that.","body":"@teapot418 Can one implement jshell as a singleton and pass the formula to the call method? I am not sure how can one do that."},{"owner":{"account_id":13179729,"reputation":93,"user_id":9519521,"display_name":"Biggy Poopa"},"score":0,"creation_date":1678749235,"post_id":75727159,"comment_id":133590965,"body_markdown":"@jesric1029 thank you for the response. I tried various ways to implement it, unfortunately without a significant result. Therefore I would need some coding help.","body":"@jesric1029 thank you for the response. I tried various ways to implement it, unfortunately without a significant result. Therefore I would need some coding help."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1678775818,"post_id":75727159,"comment_id":133594155,"body_markdown":"@BiggyPoopa you are looking for a simple solution to a complex problem. There really isn&#39;t one. Take a look at the shunting yard algorithm on wikipedia for a limited solution. But the answer given is correct: you ultimately need a parser","body":"@BiggyPoopa you are looking for a simple solution to a complex problem. There really isn&#39;t one. Take a look at the shunting yard algorithm on wikipedia for a limited solution. But the answer given is correct: you ultimately need a parser"}],"answers":[{"comments":[{"owner":{"account_id":13179729,"reputation":93,"user_id":9519521,"display_name":"Biggy Poopa"},"score":0,"creation_date":1678748563,"post_id":75727402,"comment_id":133590837,"body_markdown":"The problem is that I need to take care of various operations (+, -, *, /, %, ^) and there are brackets of course. I wanted to avoid dealing with parsing stuff from scratch, therefore I am looking for a simple solution to execute the formula. \nThis could be a possible formula to execute &quot;((12+3) * (18/6)^4)&quot;.","body":"The problem is that I need to take care of various operations (+, -, *, /, %, ^) and there are brackets of course. I wanted to avoid dealing with parsing stuff from scratch, therefore I am looking for a simple solution to execute the formula.  This could be a possible formula to execute &quot;((12+3) * (18/6)^4)&quot;."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":2,"creation_date":1678748649,"post_id":75727402,"comment_id":133590857,"body_markdown":"I&#39;m afraid in that case there is no way round it, I believe, as you have to have something like operator precedence and deep nesting etc.. But if you can can up with a grammar, which shouldn&#39;t be too hard and I am sure there is one out there already for this sort of problem (and likely also a parser) you might get up and running relatively quickly with ANTLR.","body":"I&#39;m afraid in that case there is no way round it, I believe, as you have to have something like operator precedence and deep nesting etc.. But if you can can up with a grammar, which shouldn&#39;t be too hard and I am sure there is one out there already for this sort of problem (and likely also a parser) you might get up and running relatively quickly with ANTLR."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":1,"creation_date":1678749051,"post_id":75727402,"comment_id":133590926,"body_markdown":"Haven&#39;t had a proper look at this, but found it in a quick google search. Maybe this [Github repo](https://github.com/arothuis/antlr4-calculator) will give you an idea of what you are looking for. The grammar is quite straightforward.","body":"Haven&#39;t had a proper look at this, but found it in a quick google search. Maybe this <a href=\"https://github.com/arothuis/antlr4-calculator\" rel=\"nofollow noreferrer\">Github repo</a> will give you an idea of what you are looking for. The grammar is quite straightforward."},{"owner":{"account_id":13179729,"reputation":93,"user_id":9519521,"display_name":"Biggy Poopa"},"score":0,"creation_date":1678749362,"post_id":75727402,"comment_id":133590991,"body_markdown":"I am familiar with antlr4, but this would be way too complicated to implement for my purposes. I would need to implement an additional service in order to use this kind of parser. Right now, I am looking for a simpler solution.","body":"I am familiar with antlr4, but this would be way too complicated to implement for my purposes. I would need to implement an additional service in order to use this kind of parser. Right now, I am looking for a simpler solution."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1678766871,"post_id":75727402,"comment_id":133593005,"body_markdown":"Check out [this method](https://stackoverflow.com/a/26227947/4725875). It works quite well and is easy to modify to suit your needs if need be.","body":"Check out <a href=\"https://stackoverflow.com/a/26227947/4725875\">this method</a>. It works quite well and is easy to modify to suit your needs if need be."}],"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678745833,"creation_date":1678745833,"answer_id":75727402,"question_id":75727159,"body_markdown":"Well, you&#39;ll have to [parse](https://en.wikipedia.org/wiki/Parsing) the `String`. This may be simple for the kind of forumula you&#39;re presenting in the question but may get a lot more complicated when it comes to nested expressions. In that case you might want to look at [parse trees](https://en.wikipedia.org/wiki/Parse_tree). Typically people use a tool like [ANTLR](https://en.wikipedia.org/wiki/ANTLR) which generates a parser for you if you give it a [grammar](https://en.wikipedia.org/wiki/Formal_grammar). So lots of theoretical computer science stuff you would need to get your head around if you have not done so yet. \r\n\r\nFor your simple example however you could just split at space, then parse the  first and last parts of the `String` as an `int` and then perform an operation based on the operator. This could look something like this:\r\n\r\n```java\r\npublic class Application {\r\n    record ParsedExpression(int op1, int op2, String operator){};\r\n\r\n    public static void main(String[] args) {\r\n        final var sum = &quot;10 + 5&quot;;\r\n        final var difference = &quot;10 - 5&quot;;\r\n\r\n        System.out.println(calculate(parseMathExpression(sum)));\r\n        System.out.println(calculate(parseMathExpression(difference)));\r\n    }\r\n\r\n    public static ParsedExpression parseMathExpression(String input){\r\n        var expressionParts = input.split(&quot; &quot;);\r\n        // you should catch NumberFormatException here!\r\n        // you might also wanna do some validation here like checking the array length before accessing it\r\n        final var x = Integer.parseInt(expressionParts[0]);\r\n        final var y = Integer.parseInt(expressionParts[2]);\r\n        final var operator = expressionParts[1];\r\n        return new ParsedExpression(x, y, operator);\r\n    }\r\n\r\n    public static int calculate(ParsedExpression expression){\r\n        return switch(expression.operator) {\r\n            case &quot;+&quot; -&gt; expression.op1 + expression.op2;\r\n            case &quot;-&quot; -&gt; expression.op1 - expression.op2;\r\n            default -&gt; throw new IllegalArgumentException(&quot;Unknown operator&quot;);\r\n        };\r\n    }\r\n}\r\n```\r\n&gt; This is just a proof of concept. You will definitely need to add some error handling and validation (`NumberFormatException`, Overflows, `ArrayIndexOutOfBoundsException` etc.) here and you might expand on this to use other datatypes like `double` and add other operators like `*` or `/`.","title":"Execute mathematical operation dynamically","body":"<p>Well, you'll have to <a href=\"https://en.wikipedia.org/wiki/Parsing\" rel=\"nofollow noreferrer\">parse</a> the <code>String</code>. This may be simple for the kind of forumula you're presenting in the question but may get a lot more complicated when it comes to nested expressions. In that case you might want to look at <a href=\"https://en.wikipedia.org/wiki/Parse_tree\" rel=\"nofollow noreferrer\">parse trees</a>. Typically people use a tool like <a href=\"https://en.wikipedia.org/wiki/ANTLR\" rel=\"nofollow noreferrer\">ANTLR</a> which generates a parser for you if you give it a <a href=\"https://en.wikipedia.org/wiki/Formal_grammar\" rel=\"nofollow noreferrer\">grammar</a>. So lots of theoretical computer science stuff you would need to get your head around if you have not done so yet.</p>\n<p>For your simple example however you could just split at space, then parse the  first and last parts of the <code>String</code> as an <code>int</code> and then perform an operation based on the operator. This could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    record ParsedExpression(int op1, int op2, String operator){};\n\n    public static void main(String[] args) {\n        final var sum = &quot;10 + 5&quot;;\n        final var difference = &quot;10 - 5&quot;;\n\n        System.out.println(calculate(parseMathExpression(sum)));\n        System.out.println(calculate(parseMathExpression(difference)));\n    }\n\n    public static ParsedExpression parseMathExpression(String input){\n        var expressionParts = input.split(&quot; &quot;);\n        // you should catch NumberFormatException here!\n        // you might also wanna do some validation here like checking the array length before accessing it\n        final var x = Integer.parseInt(expressionParts[0]);\n        final var y = Integer.parseInt(expressionParts[2]);\n        final var operator = expressionParts[1];\n        return new ParsedExpression(x, y, operator);\n    }\n\n    public static int calculate(ParsedExpression expression){\n        return switch(expression.operator) {\n            case &quot;+&quot; -&gt; expression.op1 + expression.op2;\n            case &quot;-&quot; -&gt; expression.op1 - expression.op2;\n            default -&gt; throw new IllegalArgumentException(&quot;Unknown operator&quot;);\n        };\n    }\n}\n</code></pre>\n<blockquote>\n<p>This is just a proof of concept. You will definitely need to add some error handling and validation (<code>NumberFormatException</code>, Overflows, <code>ArrayIndexOutOfBoundsException</code> etc.) here and you might expand on this to use other datatypes like <code>double</code> and add other operators like <code>*</code> or <code>/</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":13179729,"reputation":93,"user_id":9519521,"display_name":"Biggy Poopa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678748909,"creation_date":1678743894,"question_id":75727159,"body_markdown":"I have a string that contains some mathematical formula which I want to execute dynamically and I want to store that value in a string. \r\nE.g.\r\n\r\nString formula = &quot;10 * 9&quot;; \r\n\r\n... (execute somehow)\r\n\r\nString result = &quot;90&quot;; (after successful execution). \r\n\r\nI am using openjdk-18, therefore I cannot use ScriptEngine. \r\n\r\nIs there any other way to do it? \r\n\r\nEdit: \r\npossible operations: +, -, *, /, %, ^, brackets support \r\n\r\ne.g. &quot;((12/4) * (3 - 1) ^3)&quot;","title":"Execute mathematical operation dynamically","body":"<p>I have a string that contains some mathematical formula which I want to execute dynamically and I want to store that value in a string.\nE.g.</p>\n<p>String formula = &quot;10 * 9&quot;;</p>\n<p>... (execute somehow)</p>\n<p>String result = &quot;90&quot;; (after successful execution).</p>\n<p>I am using openjdk-18, therefore I cannot use ScriptEngine.</p>\n<p>Is there any other way to do it?</p>\n<p>Edit:\npossible operations: +, -, *, /, %, ^, brackets support</p>\n<p>e.g. &quot;((12/4) * (3 - 1) ^3)&quot;</p>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678748333,"creation_date":1678748333,"answer_id":75727647,"question_id":75685769,"body_markdown":"That&#39;s normal behavior. There no way to know if the optional field was explicitly set or has default value.","title":"grpc BoolValue false value is equal to default one","body":"<p>That's normal behavior. There no way to know if the optional field was explicitly set or has default value.</p>\n"}],"owner":{"account_id":2003640,"reputation":1582,"user_id":1794089,"accept_rate":71,"display_name":"eraxillan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75727647,"answer_count":1,"score":0,"last_activity_date":1678748333,"creation_date":1678371167,"question_id":75685769,"body_markdown":"I have a field of type `BoolValue` in backend proto-file, and need to set it to true, false or empty on Android client.  \r\nHowever, i can set it only to true, the attempt to create a false `BoolValue` leads to just empty object.  \r\nIs it normal behaviour for grpc-java implementation, and can i changed it somehow?  \r\nThanks\r\n\r\n![proof from Android Studio debugger[1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D98by.png","title":"grpc BoolValue false value is equal to default one","body":"<p>I have a field of type <code>BoolValue</code> in backend proto-file, and need to set it to true, false or empty on Android client.<br />\nHowever, i can set it only to true, the attempt to create a false <code>BoolValue</code> leads to just empty object.<br />\nIs it normal behaviour for grpc-java implementation, and can i changed it somehow?<br />\nThanks</p>\n<p><img src=\"https://i.stack.imgur.com/D98by.png\" alt=\"proof from Android Studio debugger1\" /></p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678740111,"post_id":75726360,"comment_id":133589266,"body_markdown":"Imagine two threads executing the methods at the same time. Think about whether the code does what you want. You can try putting some sleeps in the code (e.g. after the `if`s) and then running from several threads. You&#39;ll see that you do need to synchronize these methods.","body":"Imagine two threads executing the methods at the same time. Think about whether the code does what you want. You can try putting some sleeps in the code (e.g. after the <code>if</code>s) and then running from several threads. You&#39;ll see that you do need to synchronize these methods."}],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678747576,"creation_date":1678737305,"question_id":75726360,"body_markdown":"I came across these two methods and feel it is deal to add synchronization block around them both to avoid a potential null pointer assuming they might be called in different threads. The current code has a single thread making these calls but I feel like over the course of maintaining this code the calls might eventually be made from different threads. Is this recommended to add synchronize blocks or am I being overly cautious?\r\n\r\n    /**\r\n     * Create and schedule a Timer Task that will set the connectionTimerExpired flag to\r\n     * true when the timeout value is reached.\r\n     *\r\n     * @param timeout\r\n     *            The number of milliseconds before setting conenctionTimerExpired to\r\n     *            true.\r\n     */\r\n    private void createAndStartConnectionTimerTask(final long timeout) {\r\n        if (timer != null) {\r\n            TRACE.info(&quot;Connection Timer already started. Ignoring request to start another one.&quot;);\r\n            return;\r\n        }\r\n\r\n        final TimerTask connectionTimerExpiredTask = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                connectionTimerExpired = true;\r\n            }\r\n        };\r\n\r\n        timer = new Timer(&quot;ConnectionTimerExpiredTimer&quot;);\r\n        timer.schedule(connectionTimerExpiredTask, timeout);\r\n    }\r\n\r\n    /**\r\n     * Stop the timer task that sets the conenctionTimerExpired flag to true, if it\r\n     * exists.\r\n     */\r\n    private void stopConnectionTimerTask() {\r\n        if (timer != null) {\r\n            timer.cancel();\r\n            timer.purge();\r\n            timer = null;\r\n        }\r\n    }","title":"Synchronized block around timer objects to avoid null pointer","body":"<p>I came across these two methods and feel it is deal to add synchronization block around them both to avoid a potential null pointer assuming they might be called in different threads. The current code has a single thread making these calls but I feel like over the course of maintaining this code the calls might eventually be made from different threads. Is this recommended to add synchronize blocks or am I being overly cautious?</p>\n<pre><code>/**\n * Create and schedule a Timer Task that will set the connectionTimerExpired flag to\n * true when the timeout value is reached.\n *\n * @param timeout\n *            The number of milliseconds before setting conenctionTimerExpired to\n *            true.\n */\nprivate void createAndStartConnectionTimerTask(final long timeout) {\n    if (timer != null) {\n        TRACE.info(&quot;Connection Timer already started. Ignoring request to start another one.&quot;);\n        return;\n    }\n\n    final TimerTask connectionTimerExpiredTask = new TimerTask() {\n        @Override\n        public void run() {\n            connectionTimerExpired = true;\n        }\n    };\n\n    timer = new Timer(&quot;ConnectionTimerExpiredTimer&quot;);\n    timer.schedule(connectionTimerExpiredTask, timeout);\n}\n\n/**\n * Stop the timer task that sets the conenctionTimerExpired flag to true, if it\n * exists.\n */\nprivate void stopConnectionTimerTask() {\n    if (timer != null) {\n        timer.cancel();\n        timer.purge();\n        timer = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","swagger-ui","quarkus","smallrye"],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678747520,"creation_date":1678747520,"question_id":75727577,"body_markdown":"I&#39;ve added swagger ui according this doc https://quarkus.io/guides/openapi-swaggerui\r\nBut in generated UI I don&#39;t see error responses which are generated by mappers annotated by @ServerExceptionMapper\r\n\r\n    public class ExceptionMappers {\r\n    \r\n        @ServerExceptionMapper\r\n        public Uni&lt;Response&gt; mapException(MyCustomException e) {\r\n            return Uni.createFrom().item(() -&gt; Response.status(Response.Status.CONFLICT)\r\n                    .entity(Map.of(&quot;message&quot;, &quot;my message&quot;))\r\n                    .build());\r\n        }\r\n    }\r\n\r\nIs there any way to make swagger take in account response codes from ExceptionMappers?","title":"Swagger UI in Quarkus doesn&#39;t see mapped custom exceptions","body":"<p>I've added swagger ui according this doc <a href=\"https://quarkus.io/guides/openapi-swaggerui\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/openapi-swaggerui</a>\nBut in generated UI I don't see error responses which are generated by mappers annotated by @ServerExceptionMapper</p>\n<pre><code>public class ExceptionMappers {\n\n    @ServerExceptionMapper\n    public Uni&lt;Response&gt; mapException(MyCustomException e) {\n        return Uni.createFrom().item(() -&gt; Response.status(Response.Status.CONFLICT)\n                .entity(Map.of(&quot;message&quot;, &quot;my message&quot;))\n                .build());\n    }\n}\n</code></pre>\n<p>Is there any way to make swagger take in account response codes from ExceptionMappers?</p>\n"},{"tags":["java","android","android-fragments","fragmentmanager"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1678677682,"post_id":75717732,"comment_id":133574046,"body_markdown":"Why are you using `getChildFragmentManager()` if the view isn&#39;t in that fragment?","body":"Why are you using <code>getChildFragmentManager()</code> if the view isn&#39;t in that fragment?"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1678677998,"post_id":75717732,"comment_id":133574079,"body_markdown":"@ianhanniballake the view is the toolbar button but its same for other views belongs to the fragment, like fab button has same issue if i dont use support fragment manager","body":"@ianhanniballake the view is the toolbar button but its same for other views belongs to the fragment, like fab button has same issue if i dont use support fragment manager"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1678678591,"post_id":75717732,"comment_id":133574129,"body_markdown":"No, &#39;the view&#39; I mean is the view `R.id.Navigation_Main_Layout`. That isn&#39;t in the fragment, so why would the `childFragmentManager` know about it? It only knows about things in the fragment.","body":"No, &#39;the view&#39; I mean is the view <code>R.id.Navigation_Main_Layout</code>. That isn&#39;t in the fragment, so why would the <code>childFragmentManager</code> know about it? It only knows about things in the fragment."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1678685751,"post_id":75717732,"comment_id":133574786,"body_markdown":"@ianhanniballake It&#39;s a layout of activity container, you can check the XML layout i put in question and that layout belong to activites so i guess that&#39;s how fragment replace/add by main activity container","body":"@ianhanniballake It&#39;s a layout of activity container, you can check the XML layout i put in question and that layout belong to activites so i guess that&#39;s how fragment replace/add by main activity container"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1678691254,"post_id":75717732,"comment_id":133575534,"body_markdown":"@ianhanniballake As you can see `getSupportFragmentManager()` working inside viewpage&#39;s fragment transactions but it should work with `getChildFragmentManager`. What&#39;s wrong with my code i don&#39;t get it.  The fragment container in main activity `R.id.Navigation_Main_Layout` should replace with `childFragmentManager `","body":"@ianhanniballake As you can see <code>getSupportFragmentManager()</code> working inside viewpage&#39;s fragment transactions but it should work with <code>getChildFragmentManager</code>. What&#39;s wrong with my code i don&#39;t get it.  The fragment container in main activity <code>R.id.Navigation_Main_Layout</code> should replace with <code>childFragmentManager </code>"}],"answers":[{"comments":[{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1678687308,"post_id":75718029,"comment_id":133574976,"body_markdown":"Thanks for the answer but if you can see in question i already mentioned that `getSupportFragmentManager` is working in my case but as other si post and documentation i should use child fragment manager and why it&#39;s not working in me case","body":"Thanks for the answer but if you can see in question i already mentioned that <code>getSupportFragmentManager</code> is working in my case but as other si post and documentation i should use child fragment manager and why it&#39;s not working in me case"}],"tags":[],"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678681303,"creation_date":1678681303,"answer_id":75718029,"question_id":75717732,"body_markdown":"I don&#39;t know its an issue but you can try it.\r\ninstead of :\r\n**getChildFragmentManager()**\r\n\r\nUse :\r\n**getSupportFragmentManager()**\r\n\r\n\r\nOr you can create the below method and call it when you want by passing the fragment which you want to load.\r\n\r\n     private void callFragment(Fragment fragment){\r\n        FragmentManager manager = getSupportFragmentManager();\r\n        FragmentTransaction transaction = manager.beginTransaction();\r\n        \r\n        transaction.replace(R.id.frameLayout_id, fragment);\r\n        transaction.addToBackStack(null);\r\n        transaction.commit();\r\n    }\r\n\r\nYou can see more about it from [here](https://fluttertpoint.com/navigation-drawer-android-studio-example).","title":"IllegalArgumentException: No view found for id when using getChildFragmentManager() inside viewpager2","body":"<p>I don't know its an issue but you can try it.\ninstead of :\n<strong>getChildFragmentManager()</strong></p>\n<p>Use :\n<strong>getSupportFragmentManager()</strong></p>\n<p>Or you can create the below method and call it when you want by passing the fragment which you want to load.</p>\n<pre><code> private void callFragment(Fragment fragment){\n    FragmentManager manager = getSupportFragmentManager();\n    FragmentTransaction transaction = manager.beginTransaction();\n    \n    transaction.replace(R.id.frameLayout_id, fragment);\n    transaction.addToBackStack(null);\n    transaction.commit();\n}\n</code></pre>\n<p>You can see more about it from <a href=\"https://fluttertpoint.com/navigation-drawer-android-studio-example\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1678792338,"post_id":75727520,"comment_id":133598296,"body_markdown":"This answer is really useful to me and kind of better explanation than the official documentation. And i can see it will help many whoever going to have problems with FM. Thanks you so much.","body":"This answer is really useful to me and kind of better explanation than the official documentation. And i can see it will help many whoever going to have problems with FM. Thanks you so much."}],"tags":[],"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678746891,"creation_date":1678746891,"answer_id":75727520,"question_id":75717732,"body_markdown":"As explained in the [Fragment Manager guide][1], which FragmentManager you should be using depends entirely on where the layout is:\r\n\r\n[![Ownership of each layout in an Activity with nested fragments][2]][2]\r\n\r\nThe important being that a child fragment **must be placed within its parent&#39;s layout** - they are required to be nested within one another, in the same way that the Fragments themselves are nested within one another.\r\n\r\nThis is explained in the other picture from the documentation, which explains the relationship between each Fragment and the FragmentManagers:\r\n\r\n[![Relationship between each level of the hierarchy and the given FragmentManager][3]][3]\r\n\r\nIn your case, you tried `getChildFragmentManager()`, but your `R.id.Navigation_Main_Layout` is not part of the Fragment&#39;s layout, so this crashes.\r\n\r\nThen you tried using `getParentFragmentManager()`, but your `R.id.Navigation_Main_Layout` isn&#39;t in the parent fragment&#39;s layout either (since this is the Fragment 1 that contains your ViewPager).\r\n\r\nYour `R.id.Navigation_Main_Layout` is in your activity&#39;s layout, which means the only valid FragmentManager you can use to put a Fragment in your activity&#39;s layout (but not inside any fragment), is the Activity&#39;s `getSupportFragmentManager()`.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/fragments/fragmentmanager#access\r\n  [2]: https://i.stack.imgur.com/v3OQI.png\r\n  [3]: https://i.stack.imgur.com/wQwp8.png","title":"IllegalArgumentException: No view found for id when using getChildFragmentManager() inside viewpager2","body":"<p>As explained in the <a href=\"https://developer.android.com/guide/fragments/fragmentmanager#access\" rel=\"nofollow noreferrer\">Fragment Manager guide</a>, which FragmentManager you should be using depends entirely on where the layout is:</p>\n<p><a href=\"https://i.stack.imgur.com/v3OQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3OQI.png\" alt=\"Ownership of each layout in an Activity with nested fragments\" /></a></p>\n<p>The important being that a child fragment <strong>must be placed within its parent's layout</strong> - they are required to be nested within one another, in the same way that the Fragments themselves are nested within one another.</p>\n<p>This is explained in the other picture from the documentation, which explains the relationship between each Fragment and the FragmentManagers:</p>\n<p><a href=\"https://i.stack.imgur.com/wQwp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wQwp8.png\" alt=\"Relationship between each level of the hierarchy and the given FragmentManager\" /></a></p>\n<p>In your case, you tried <code>getChildFragmentManager()</code>, but your <code>R.id.Navigation_Main_Layout</code> is not part of the Fragment's layout, so this crashes.</p>\n<p>Then you tried using <code>getParentFragmentManager()</code>, but your <code>R.id.Navigation_Main_Layout</code> isn't in the parent fragment's layout either (since this is the Fragment 1 that contains your ViewPager).</p>\n<p>Your <code>R.id.Navigation_Main_Layout</code> is in your activity's layout, which means the only valid FragmentManager you can use to put a Fragment in your activity's layout (but not inside any fragment), is the Activity's <code>getSupportFragmentManager()</code>.</p>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75727520,"answer_count":2,"score":0,"last_activity_date":1678746891,"creation_date":1678676400,"question_id":75717732,"body_markdown":"My app structure look like this - \r\n\r\n&gt; (Main Activity)-&gt;(Fragment 1)-&gt;(ViewPager-&gt; Fragment A,Fragment B).\r\n\r\nI am getting error when i do fragment transaction inside `Fragment A or B` like this. Note here i am using `getChildFragmentManager()` for fragment transaction.\r\n\r\n    NotificationDetails notificationFragment = NotificationDetails.newInstance(list);\r\n                            FragmentTransaction transaction = getChildFragmentManager().beginTransaction();\r\n                            transaction.setReorderingAllowed(true);\r\n                            transaction.addToBackStack(null);\r\n                            transaction.replace(R.id.Navigation_Main_Layout, notificationFragment, null);\r\n                            transaction.commit();\r\n\r\n&gt;  java.lang.IllegalArgumentException: No view found for id 0x7f0a005b\r\n&gt; (com.example.id/Navigation_Main_Layout) for fragment\r\n&gt; NotificationDetails{eaff8ce} (560448c9-144a-49f8-a4d3-47f491b6a563\r\n&gt; id=0x7f0a005b)\r\n\r\nWhen i call fragment transaction like this. Note here i am using `getSupportFragmentManager()` for fragment transaction.it work perfectly without any issues. \r\n\r\n    NotificationDetails notificationFragment = NotificationDetails.newInstance(list);\r\n                            FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\r\n                            transaction.setReorderingAllowed(true);\r\n                            transaction.addToBackStack(null);\r\n                            transaction.replace(R.id.Navigation_Main_Layout, notificationFragment, null);\r\n                            transaction.commit();\r\n\r\n\r\nThat&#39;s my activity layout. You can see the id exist in layout.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/Navigation_parent&quot;\r\n        &gt;\r\n    \r\n    \r\n    \r\n        &lt;!--The Main Layout For Content--&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;!--Toolbar for actionbar   --&gt;\r\n            &lt;include\r\n                android:id=&quot;@+id/Navigation_Drawer_toolbar&quot;\r\n                layout=&quot;@layout/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/Navigation_Main_Layout&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                 \r\n            &lt;/FrameLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        \r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\nCan anyone tell me why it&#39;s working with `getActivity().getSupportFragmentManager()` and it&#39;s not when using `getChildFragmentManager()`. When i should use getChildFragmentManager() inside viewpager&#39;s  fragment (child fragments). \r\n\r\nI also tried with `getParentFragmentManager()` but getting same error. ","title":"IllegalArgumentException: No view found for id when using getChildFragmentManager() inside viewpager2","body":"<p>My app structure look like this -</p>\n<blockquote>\n<p>(Main Activity)-&gt;(Fragment 1)-&gt;(ViewPager-&gt; Fragment A,Fragment B).</p>\n</blockquote>\n<p>I am getting error when i do fragment transaction inside <code>Fragment A or B</code> like this. Note here i am using <code>getChildFragmentManager()</code> for fragment transaction.</p>\n<pre><code>NotificationDetails notificationFragment = NotificationDetails.newInstance(list);\n                        FragmentTransaction transaction = getChildFragmentManager().beginTransaction();\n                        transaction.setReorderingAllowed(true);\n                        transaction.addToBackStack(null);\n                        transaction.replace(R.id.Navigation_Main_Layout, notificationFragment, null);\n                        transaction.commit();\n</code></pre>\n<blockquote>\n<p>java.lang.IllegalArgumentException: No view found for id 0x7f0a005b\n(com.example.id/Navigation_Main_Layout) for fragment\nNotificationDetails{eaff8ce} (560448c9-144a-49f8-a4d3-47f491b6a563\nid=0x7f0a005b)</p>\n</blockquote>\n<p>When i call fragment transaction like this. Note here i am using <code>getSupportFragmentManager()</code> for fragment transaction.it work perfectly without any issues.</p>\n<pre><code>NotificationDetails notificationFragment = NotificationDetails.newInstance(list);\n                        FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\n                        transaction.setReorderingAllowed(true);\n                        transaction.addToBackStack(null);\n                        transaction.replace(R.id.Navigation_Main_Layout, notificationFragment, null);\n                        transaction.commit();\n</code></pre>\n<p>That's my activity layout. You can see the id exist in layout.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/Navigation_parent&quot;\n    &gt;\n\n\n\n    &lt;!--The Main Layout For Content--&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;!--Toolbar for actionbar   --&gt;\n        &lt;include\n            android:id=&quot;@+id/Navigation_Drawer_toolbar&quot;\n            layout=&quot;@layout/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/Navigation_Main_Layout&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n             \n        &lt;/FrameLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    \n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>Can anyone tell me why it's working with <code>getActivity().getSupportFragmentManager()</code> and it's not when using <code>getChildFragmentManager()</code>. When i should use getChildFragmentManager() inside viewpager's  fragment (child fragments).</p>\n<p>I also tried with <code>getParentFragmentManager()</code> but getting same error.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":5151005,"reputation":7132,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678746461,"creation_date":1678746461,"question_id":75727464,"body_markdown":"I have a backend application that is processing some stuff and generating a PDF from a mustache HTML template. It has the typical main and test package separation and @SpringBootApplication as entry point for the main application. The application only has a server-API for the PDF though.\r\n\r\nNow I want to start a dev-server (never to run anywhere but locally on developer laptops) for web-designing the HTML of the PDF. It should generate an index.html with some dummy data using 2 beans from the main package. If the beans or the input data change, the server would do a hot-reload.\r\n\r\nMy approach was using a second @SpringBootApplication in a separate package in /main, with an own @Controller-Bean. But Spring is throwing a BeanDefinitionStoreException, probably because the new application is still using those 2 Beans that belong to the separate package/project.\r\n\r\nSo how do I go about starting this simple dev-server? Run it from the /test folder, assign shared Beans to two separate projects with some config magic? What do you Spring guys do in this situation?","title":"SpringBoot - clean way to run a dev app/server","body":"<p>I have a backend application that is processing some stuff and generating a PDF from a mustache HTML template. It has the typical main and test package separation and @SpringBootApplication as entry point for the main application. The application only has a server-API for the PDF though.</p>\n<p>Now I want to start a dev-server (never to run anywhere but locally on developer laptops) for web-designing the HTML of the PDF. It should generate an index.html with some dummy data using 2 beans from the main package. If the beans or the input data change, the server would do a hot-reload.</p>\n<p>My approach was using a second @SpringBootApplication in a separate package in /main, with an own @Controller-Bean. But Spring is throwing a BeanDefinitionStoreException, probably because the new application is still using those 2 Beans that belong to the separate package/project.</p>\n<p>So how do I go about starting this simple dev-server? Run it from the /test folder, assign shared Beans to two separate projects with some config magic? What do you Spring guys do in this situation?</p>\n"},{"tags":["java","coldfusion","coldfusion-2018"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":0,"creation_date":1678811650,"post_id":75727415,"comment_id":133604270,"body_markdown":"What methods do you see when you dump variable `filePath`?","body":"What methods do you see when you dump variable <code>filePath</code>?"},{"owner":{"account_id":40711,"reputation":1041,"user_id":118046,"display_name":"Pete Freitag"},"score":1,"creation_date":1679073777,"post_id":75727415,"comment_id":133661633,"body_markdown":"I blogged how to do this last week: https://www.petefreitag.com/item/1002.cfm","body":"I blogged how to do this last week: <a href=\"https://www.petefreitag.com/item/1002.cfm\" rel=\"nofollow noreferrer\">petefreitag.com/item/1002.cfm</a>"}],"owner":{"account_id":1319744,"reputation":121,"user_id":1265803,"accept_rate":100,"display_name":"Moonstone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678745968,"creation_date":1678745968,"question_id":75727415,"body_markdown":"Took some working code from a Java 8 project, and trying to run it in CF 2018.\r\n\r\n```\r\nString fileName = &quot;C:\\test.txt&quot;;\r\nFile file = new File(fileName);\r\n\r\nBasicFileAttributeView attributes = Files.getFileAttributeView(file.toPath(),BasicFileAttributeView.class);\r\n```\r\n\r\nWith CF, so far I have only this working:\r\n```\r\n&lt;cfset variables.file = &quot;c:\\test.txt&quot;&gt;\r\n&lt;cfset filePath = createObject(&quot;java&quot;,&quot;java.io.File&quot;).init(variables.file)&gt;\r\n```\r\n\r\nHow can I create an object for BasicFileAttributeView? It&#39;s abstract.\r\n","title":"Convert Java code to Coldfusion, how to work with abstract objects?","body":"<p>Took some working code from a Java 8 project, and trying to run it in CF 2018.</p>\n<pre><code>String fileName = &quot;C:\\test.txt&quot;;\nFile file = new File(fileName);\n\nBasicFileAttributeView attributes = Files.getFileAttributeView(file.toPath(),BasicFileAttributeView.class);\n</code></pre>\n<p>With CF, so far I have only this working:</p>\n<pre><code>&lt;cfset variables.file = &quot;c:\\test.txt&quot;&gt;\n&lt;cfset filePath = createObject(&quot;java&quot;,&quot;java.io.File&quot;).init(variables.file)&gt;\n</code></pre>\n<p>How can I create an object for BasicFileAttributeView? It's abstract.</p>\n"},{"tags":["java","encapsulation"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1678736472,"post_id":75726179,"comment_id":133588365,"body_markdown":"It&#39;s not clear to me specifically which operation you&#39;re referring to, but the description and terminology you&#39;re using implies that you may have multiple references to the same object and are expecting them to be different object instances?","body":"It&#39;s not clear to me specifically which operation you&#39;re referring to, but the description and terminology you&#39;re using implies that you may have multiple references to the same object and are expecting them to be different object instances?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1678736474,"post_id":75726179,"comment_id":133588367,"body_markdown":"The best thing to do is to avoid using the `Date` and `Calendar` classes.  These have been obsolete for many years now.  It looks to me like the class you want is `LocalDateTime`, from the `java.time` package.  This also has the benefit of being immutable, which makes encapsulation slightly easier.","body":"The best thing to do is to avoid using the <code>Date</code> and <code>Calendar</code> classes.  These have been obsolete for many years now.  It looks to me like the class you want is <code>LocalDateTime</code>, from the <code>java.time</code> package.  This also has the benefit of being immutable, which makes encapsulation slightly easier."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678738558,"post_id":75726380,"comment_id":133588901,"body_markdown":"Since “deprecated” has a specific, technical meaning in Java, I would probably use the word “obsolete” instead.","body":"Since “deprecated” has a specific, technical meaning in Java, I would probably use the word “obsolete” instead."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678745352,"creation_date":1678737481,"answer_id":75726380,"question_id":75726179,"body_markdown":"That &#39;encapsulation&#39; error is referring to a mutability issue.\r\n\r\nWhen you have an object whose value can be modified by calling methods on it (or directly meddling with its fields), then you have the following problem:\r\n\r\nIf you hand your object to code outside of your control, _or_ you received this object from code that is outside of your control, __that object can change at any time completely beyond your control__.\r\n\r\nIn other words, that test you do where you create a `TripPart` object and then _afterwards_ change the time of object referred to by the `dep` variable, and test that this indeed changes the start time of the `TripPart` instance? __That is in fact precisely what should not be happening__.\r\n\r\nThat is an &#39;encapsulation error&#39;.\r\n\r\nImagine that you want your TripPart getup to __guarantee__ that start is always before end. That&#39;s not a crazy thing to desire. It&#39;s convenient: When I receive a `TripPart` object I don&#39;t want to have to bother with even thinking about what &#39;end is in fact _before_ start&#39; even means. In fact, your constructor even takes some pains to cater to this, disregarding any attempt to set an enddate that is _after_ the start date.\r\n\r\n__But this is now a pointless exercise__ - after all, I can simply pass &#39;today&#39; and &#39;tomorrow&#39; to your constructor which is fine, and then change the &#39;tomorrow&#39; entry to actually be yesterday, and this act will not magically re-run your constructor-based check. Now I have a &#39;broken&#39; TripPart object whose start is in fact before end.\r\n\r\nThat&#39;s just a trivial example: If you don&#39;t encapsulate (allow outside code to modify your insides independently), there is _no point at all_ checking any sort of constraint.\r\n\r\n&quot;Encapsulation failure&quot; isn&#39;t a code error in the sense that it means your code is definitely not functional or won&#39;t compile. It&#39;s a __style hint__: You are running some additional software checking tool (generally called a &#39;linter&#39;) that scans your code for things that are _likely_ indicating the code is of bad quality, and is detecting an encapsulation error.\r\n\r\n## Fixing it\r\n\r\n_NB: This general fix is actually a really bad idea here, I strongly advise against it for this situation; pick the second strategy instead!_\r\n\r\n_Generally_, you fix encapsulation errors by making defensive copies: Instead of just storing the `date` and `date2` refs you get in your first constructor straight into fields, make copies instead. Now the caller can mess with the date objects they passed all they want; it won&#39;t affect your code.\r\n\r\nUnfortunately, this defensive copy thing cuts both ways: You can&#39;t hand out your internal, modifiable fields either (and `Date` objects are modifiable). Instead, you _also_ have to make a defensive copy then. That&#39;s a lot of copying. Quite annoying.\r\n\r\n## The better fix\r\n\r\nImmutable data types. These are data types that simply don&#39;t have ways to change them. At best, there are ways to ask them to clone themselves with some modification.\r\n\r\nHere is a trivial example you&#39;re no doubt familiar with - `String` - which is an immutable data type (mostly &lt;sup&gt;1&lt;/sup&gt;).\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  String a = &quot;Hello!&quot;;\r\n  a.toLowerCase();\r\n  System.out.println(a);\r\n}\r\n```\r\n\r\nThis code prints... `Hello!`. __With a capital `H`__. Why? Because `.toLowerCase()` _does not modify the string at all_. It merely makes a modified clone: It makes an entirely new string (`&quot;hello!&quot;`) and returns _that_. That&#39;s because strings cannot be modified. They have no `set` methods nor any other method to modifies its (easily observable) internals.\r\n\r\nHence, there is no need to encapsulate. You can hand any strings that comprise your internal state out like candy or accept an incoming string without making defensive copies of it. Because nobody can change these strings, they can only make new ones, which doesn&#39;t matter to your code.\r\n\r\n## The specific fix for your code: `java.time`\r\n\r\n`java.util.Date` (and `java.util.Calendar`) are __obsolete__. Java-the-core-lib intentionally does not mark core features that are obsolete as &#39;`@Deprecated`&#39; for complicated and possibly faulty reasons, but it is what it is. Nevertheless, these types __should never be used__. Their API is bad (three quarters of all methods in Date are actually `@Deprecated`, which core-libs almost never do, this is only done for methods that are so fundamentally broken they are impossible to fix), their names are lies (a `Date` does not represent a date at all, they represent a moment in time. a `Calendar` instance also does not represent a calendar (it.. also represents a moment in time).\r\n\r\nThe right API to use is `java.time` - specifically, `java.time.Instant`, `java.time.ZonedDateTime`, or `java.time.LocalDateTime`, depending on your needs. (one of the things the new API gets right is the realisation that there are different reckonings of the notion of time that are mutually incompatible. Any date/time API with only one type representing a time is necessarily broken). Fortunately, all these types __are immutable__.\r\n\r\nNo need to worry about encapsulation for those.\r\n\r\nSo that&#39;s what you should do. Ditch Date (and Calendar). Use the various things from the [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package.\r\n\r\n\r\n[1] &#39;immutable&#39; is a nebulous concept. String is generally immutable, but, not quite - for example, it has a &#39;hashcodes are fast&#39; property that can be mutated by invoking `hashCode()` on a string, and can be observed by timing the runtime of `hashCode()`. If your program depends on the time taken by a hashCode() call, you&#39;re... clearly doing something very very crazy, so the fact that strings aren&#39;t quite entirely immutable in this regard, is (or certainly should be to any sane code) irrelevant. Point is, immutable is not a well defined concept if you try to lock it down _exactly_. But for most practical purposes, it&#39;s clear, and for most practical purposes, all strings are immutable.\r\n","title":"How do you fix this privacy leak?","body":"<p>That 'encapsulation' error is referring to a mutability issue.</p>\n<p>When you have an object whose value can be modified by calling methods on it (or directly meddling with its fields), then you have the following problem:</p>\n<p>If you hand your object to code outside of your control, <em>or</em> you received this object from code that is outside of your control, <strong>that object can change at any time completely beyond your control</strong>.</p>\n<p>In other words, that test you do where you create a <code>TripPart</code> object and then <em>afterwards</em> change the time of object referred to by the <code>dep</code> variable, and test that this indeed changes the start time of the <code>TripPart</code> instance? <strong>That is in fact precisely what should not be happening</strong>.</p>\n<p>That is an 'encapsulation error'.</p>\n<p>Imagine that you want your TripPart getup to <strong>guarantee</strong> that start is always before end. That's not a crazy thing to desire. It's convenient: When I receive a <code>TripPart</code> object I don't want to have to bother with even thinking about what 'end is in fact <em>before</em> start' even means. In fact, your constructor even takes some pains to cater to this, disregarding any attempt to set an enddate that is <em>after</em> the start date.</p>\n<p><strong>But this is now a pointless exercise</strong> - after all, I can simply pass 'today' and 'tomorrow' to your constructor which is fine, and then change the 'tomorrow' entry to actually be yesterday, and this act will not magically re-run your constructor-based check. Now I have a 'broken' TripPart object whose start is in fact before end.</p>\n<p>That's just a trivial example: If you don't encapsulate (allow outside code to modify your insides independently), there is <em>no point at all</em> checking any sort of constraint.</p>\n<p>&quot;Encapsulation failure&quot; isn't a code error in the sense that it means your code is definitely not functional or won't compile. It's a <strong>style hint</strong>: You are running some additional software checking tool (generally called a 'linter') that scans your code for things that are <em>likely</em> indicating the code is of bad quality, and is detecting an encapsulation error.</p>\n<h2>Fixing it</h2>\n<p><em>NB: This general fix is actually a really bad idea here, I strongly advise against it for this situation; pick the second strategy instead!</em></p>\n<p><em>Generally</em>, you fix encapsulation errors by making defensive copies: Instead of just storing the <code>date</code> and <code>date2</code> refs you get in your first constructor straight into fields, make copies instead. Now the caller can mess with the date objects they passed all they want; it won't affect your code.</p>\n<p>Unfortunately, this defensive copy thing cuts both ways: You can't hand out your internal, modifiable fields either (and <code>Date</code> objects are modifiable). Instead, you <em>also</em> have to make a defensive copy then. That's a lot of copying. Quite annoying.</p>\n<h2>The better fix</h2>\n<p>Immutable data types. These are data types that simply don't have ways to change them. At best, there are ways to ask them to clone themselves with some modification.</p>\n<p>Here is a trivial example you're no doubt familiar with - <code>String</code> - which is an immutable data type (mostly <sup>1</sup>).</p>\n<pre><code>public static void main(String[] args) {\n  String a = &quot;Hello!&quot;;\n  a.toLowerCase();\n  System.out.println(a);\n}\n</code></pre>\n<p>This code prints... <code>Hello!</code>. <strong>With a capital <code>H</code></strong>. Why? Because <code>.toLowerCase()</code> <em>does not modify the string at all</em>. It merely makes a modified clone: It makes an entirely new string (<code>&quot;hello!&quot;</code>) and returns <em>that</em>. That's because strings cannot be modified. They have no <code>set</code> methods nor any other method to modifies its (easily observable) internals.</p>\n<p>Hence, there is no need to encapsulate. You can hand any strings that comprise your internal state out like candy or accept an incoming string without making defensive copies of it. Because nobody can change these strings, they can only make new ones, which doesn't matter to your code.</p>\n<h2>The specific fix for your code: <code>java.time</code></h2>\n<p><code>java.util.Date</code> (and <code>java.util.Calendar</code>) are <strong>obsolete</strong>. Java-the-core-lib intentionally does not mark core features that are obsolete as '<code>@Deprecated</code>' for complicated and possibly faulty reasons, but it is what it is. Nevertheless, these types <strong>should never be used</strong>. Their API is bad (three quarters of all methods in Date are actually <code>@Deprecated</code>, which core-libs almost never do, this is only done for methods that are so fundamentally broken they are impossible to fix), their names are lies (a <code>Date</code> does not represent a date at all, they represent a moment in time. a <code>Calendar</code> instance also does not represent a calendar (it.. also represents a moment in time).</p>\n<p>The right API to use is <code>java.time</code> - specifically, <code>java.time.Instant</code>, <code>java.time.ZonedDateTime</code>, or <code>java.time.LocalDateTime</code>, depending on your needs. (one of the things the new API gets right is the realisation that there are different reckonings of the notion of time that are mutually incompatible. Any date/time API with only one type representing a time is necessarily broken). Fortunately, all these types <strong>are immutable</strong>.</p>\n<p>No need to worry about encapsulation for those.</p>\n<p>So that's what you should do. Ditch Date (and Calendar). Use the various things from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package.</p>\n<p>[1] 'immutable' is a nebulous concept. String is generally immutable, but, not quite - for example, it has a 'hashcodes are fast' property that can be mutated by invoking <code>hashCode()</code> on a string, and can be observed by timing the runtime of <code>hashCode()</code>. If your program depends on the time taken by a hashCode() call, you're... clearly doing something very very crazy, so the fact that strings aren't quite entirely immutable in this regard, is (or certainly should be to any sane code) irrelevant. Point is, immutable is not a well defined concept if you try to lock it down <em>exactly</em>. But for most practical purposes, it's clear, and for most practical purposes, all strings are immutable.</p>\n"}],"owner":{"account_id":28008464,"reputation":11,"user_id":21391448,"display_name":"Setsuko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678745352,"creation_date":1678735926,"question_id":75726179,"body_markdown":"I am using java for this code.\r\nI created a class that has two private variables. I have a constructor that takes two dates as arguments, a copy constructor, a default constructor and a setter for each variable. It also has a getter method for each variable that I am not including.\r\n\r\n```\r\npublic class TripPart{\r\n\tprivate Date start;\r\n\tprivate Date end;\r\n\r\n\tpublic TripPart (Date date, Date date2){\r\n\t\tif ((date == null &amp;&amp; date2 == null) || date == null || date2 == null) {\r\n\t\t\tstart = date;\r\n\t\t\tend = date2;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tboolean before2 = date.before(date2);\r\n\t\t\tif (before2) {\r\n\t\t\t\tstart = date;\r\n\t\t\t\tend = date2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tstart = date;\r\n\t\t\t\tend = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic TripPart(){\r\n\t\tstart = new Date();\r\n\t\tCalendar newEnd = Calendar.getInstance();\r\n\t\tnewEnd.setTime(start);\r\n\t\tnewEnd.add(Calendar.HOUR_OF_DAY, 1);\r\n\t\tend = newEnd.getTime();\r\n\t}\r\n\r\n\tpublic TripPart (TripPart toCopy){\r\n\t\tthis(toCopy.start,toCopy.end);\r\n\t}\r\n\r\n\tpublic void setStart(Date date) {\r\n\t\tif (end != null) {\r\n\t\t\tif (date.before(end)) {\r\n\t\t\t\tstart = date;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tstart = date;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void setEnd(Date date) {\r\n\t\tif (start != null) {\r\n\t\t\tif (date.after(start)) {\r\n\t\t\t\tthis.end = date;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.end = date;\r\n\t\t}\r\n\t}\r\n```\r\nThe test I am running keeps failing the encapsulation test.\r\n\r\n```\r\npublic class TripPartTest{\r\n\tprivate Date getDate(int year, int month, int day, int hour, int minute) {\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tcal.clear();\r\n\t\tcal.set(year, month, day, hour, minute, 0);\r\n\t\treturn cal.getTime();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testConstructor_startEncapsulation(){\r\n\t\t \r\n\t\tDate argumentstart = getDate(2019,11,28,10,25);\r\n\t\tTripPart c = new TripPart(argumentstart,null);\r\n\r\n\t\targumentstart.setTime(getDate(2020,10,20,14,0).getTime());\r\n\r\n\t\tDate expectedstart = getDate(2019,11,28,10,25);\r\n\r\n\t\tassertEquals(&quot;Changed argument after creation from 2019:11:20:10:25 to 2020:10:20:14:00, expect TripPart start to remain unchanged.&quot;, expectedstart.toString(), c.getStart());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test_setter_and_getter_start_setterEncapsulation(){\r\n\t\t \r\n\t\tDate dep = getDate(2019,11,28,10,20);\r\n\t\tTripPart c = new TripPart(dep, getDate(2019,11,28,11,21));\r\n\r\n\t\tdep.setTime(getDate(2018,11,28,8,0).getTime());\r\n\r\n\t\tDate expectedstart = getDate(2019,11,28,10,20);\r\n\t\tassertEquals(&quot;Changed start time provided as argument to setstart to 2018 from 2019, testing that start in TripPart unchanged&quot;, expectedstart.toString(), c.getStart());\r\n\t}\r\n```\r\n\r\nWhen the argumentStart and dep are changed after the method is called in the test, it changes the the TripPart. I am unsure how to prevent this.\r\n\r\nI have tried the above code, direct assignment and this.start direct assignment.","title":"How do you fix this privacy leak?","body":"<p>I am using java for this code.\nI created a class that has two private variables. I have a constructor that takes two dates as arguments, a copy constructor, a default constructor and a setter for each variable. It also has a getter method for each variable that I am not including.</p>\n<pre><code>public class TripPart{\n    private Date start;\n    private Date end;\n\n    public TripPart (Date date, Date date2){\n        if ((date == null &amp;&amp; date2 == null) || date == null || date2 == null) {\n            start = date;\n            end = date2;\n        }\n        else {\n            boolean before2 = date.before(date2);\n            if (before2) {\n                start = date;\n                end = date2;\n            }\n            else {\n                start = date;\n                end = null;\n            }\n        }\n    }\n\n    public TripPart(){\n        start = new Date();\n        Calendar newEnd = Calendar.getInstance();\n        newEnd.setTime(start);\n        newEnd.add(Calendar.HOUR_OF_DAY, 1);\n        end = newEnd.getTime();\n    }\n\n    public TripPart (TripPart toCopy){\n        this(toCopy.start,toCopy.end);\n    }\n\n    public void setStart(Date date) {\n        if (end != null) {\n            if (date.before(end)) {\n                start = date;\n            }\n            \n        }\n        else {\n            start = date;\n        }\n    }\n\n    public void setEnd(Date date) {\n        if (start != null) {\n            if (date.after(start)) {\n                this.end = date;\n            }\n        }\n        else {\n            this.end = date;\n        }\n    }\n</code></pre>\n<p>The test I am running keeps failing the encapsulation test.</p>\n<pre><code>public class TripPartTest{\n    private Date getDate(int year, int month, int day, int hour, int minute) {\n        Calendar cal = Calendar.getInstance();\n        cal.clear();\n        cal.set(year, month, day, hour, minute, 0);\n        return cal.getTime();\n    }\n\n    @Test\n    public void testConstructor_startEncapsulation(){\n         \n        Date argumentstart = getDate(2019,11,28,10,25);\n        TripPart c = new TripPart(argumentstart,null);\n\n        argumentstart.setTime(getDate(2020,10,20,14,0).getTime());\n\n        Date expectedstart = getDate(2019,11,28,10,25);\n\n        assertEquals(&quot;Changed argument after creation from 2019:11:20:10:25 to 2020:10:20:14:00, expect TripPart start to remain unchanged.&quot;, expectedstart.toString(), c.getStart());\n    }\n\n    @Test\n    public void test_setter_and_getter_start_setterEncapsulation(){\n         \n        Date dep = getDate(2019,11,28,10,20);\n        TripPart c = new TripPart(dep, getDate(2019,11,28,11,21));\n\n        dep.setTime(getDate(2018,11,28,8,0).getTime());\n\n        Date expectedstart = getDate(2019,11,28,10,20);\n        assertEquals(&quot;Changed start time provided as argument to setstart to 2018 from 2019, testing that start in TripPart unchanged&quot;, expectedstart.toString(), c.getStart());\n    }\n</code></pre>\n<p>When the argumentStart and dep are changed after the method is called in the test, it changes the the TripPart. I am unsure how to prevent this.</p>\n<p>I have tried the above code, direct assignment and this.start direct assignment.</p>\n"},{"tags":["java","selenium-webdriver","webdriver","cucumber","bdd"],"answers":[{"tags":[],"owner":{"account_id":6882751,"reputation":698,"user_id":5288966,"accept_rate":84,"display_name":"jesric1029"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678745209,"creation_date":1678745209,"answer_id":75727330,"question_id":75721543,"body_markdown":"The problem is that you use the same variable name for all three methods. The last time you declare the driver variable will be the one that quits. You should name the driver for each browser separately such as &quot;chomreDriver&quot; and then quit all of them. ","title":"Selenium: Browser stays open even though it should close","body":"<p>The problem is that you use the same variable name for all three methods. The last time you declare the driver variable will be the one that quits. You should name the driver for each browser separately such as &quot;chomreDriver&quot; and then quit all of them.</p>\n"}],"owner":{"account_id":28005419,"reputation":1,"user_id":21388914,"display_name":"Joel Hochbein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678745209,"creation_date":1678708484,"question_id":75721543,"body_markdown":"\r\n```\r\npublic class MS848Steps {\r\n    WebDriver driver;\r\n\r\n    @Given(&quot;Website is live and available&quot;)\r\n    public void website_is_live_and_available() {\r\n        System.out.println(&quot;Website is live and available!&quot;);\r\n    }\r\n\r\n    @When(&quot;Website works on Firefox&quot;)\r\n    public void website_works_on_firefox() {\r\n        driver = new FirefoxDriver();\r\n        driver.get(&quot;https://demowebshop.tricentis.com/&quot;);\r\n        System.out.println(&quot;Website works on Firefox!&quot;);\r\n    }\r\n\r\n    @And(&quot;Website works on Chrome&quot;)\r\n    public void website_works_on_chrome() {\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\r\n        driver = new ChromeDriver(options);\r\n        driver.get(&quot;https://demowebshop.tricentis.com/&quot;);\r\n        System.out.println(&quot;Website works on Chrome!&quot;);\r\n    }\r\n\r\n    @And(&quot;Website works on Edge&quot;)\r\n    public void website_works_on_edge() {\r\n        driver = new EdgeDriver();\r\n        driver.get(&quot;https://demowebshop.tricentis.com/&quot;);\r\n        System.out.println(&quot;Website works on Edge!&quot;);\r\n    }\r\n\r\n    @Then(&quot;Website works on every browser&quot;)\r\n    public void website_works_on_every_browser() {\r\n        System.out.println(&quot;Website works on every Browsers!&quot;);\r\n    }\r\n    @After\r\n    public void tearDown() {\r\n        if (driver != null) {\r\n            driver.quit();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf i execute the following Code, the Chrome and Firefox Browser remains open. I also tried to put a driver.close(); and driver.quit(); after each Browser is opened. But nothing helped. Even ChatGBT couldnt help me.","title":"Selenium: Browser stays open even though it should close","body":"<pre><code>public class MS848Steps {\n    WebDriver driver;\n\n    @Given(&quot;Website is live and available&quot;)\n    public void website_is_live_and_available() {\n        System.out.println(&quot;Website is live and available!&quot;);\n    }\n\n    @When(&quot;Website works on Firefox&quot;)\n    public void website_works_on_firefox() {\n        driver = new FirefoxDriver();\n        driver.get(&quot;https://demowebshop.tricentis.com/&quot;);\n        System.out.println(&quot;Website works on Firefox!&quot;);\n    }\n\n    @And(&quot;Website works on Chrome&quot;)\n    public void website_works_on_chrome() {\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n\n        driver = new ChromeDriver(options);\n        driver.get(&quot;https://demowebshop.tricentis.com/&quot;);\n        System.out.println(&quot;Website works on Chrome!&quot;);\n    }\n\n    @And(&quot;Website works on Edge&quot;)\n    public void website_works_on_edge() {\n        driver = new EdgeDriver();\n        driver.get(&quot;https://demowebshop.tricentis.com/&quot;);\n        System.out.println(&quot;Website works on Edge!&quot;);\n    }\n\n    @Then(&quot;Website works on every browser&quot;)\n    public void website_works_on_every_browser() {\n        System.out.println(&quot;Website works on every Browsers!&quot;);\n    }\n    @After\n    public void tearDown() {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n}\n</code></pre>\n<p>If i execute the following Code, the Chrome and Firefox Browser remains open. I also tried to put a driver.close(); and driver.quit(); after each Browser is opened. But nothing helped. Even ChatGBT couldnt help me.</p>\n"},{"tags":["java","java-stream","nested-loops"],"answers":[{"comments":[{"owner":{"account_id":22182716,"reputation":15,"user_id":16426180,"display_name":"OpeJI"},"score":1,"creation_date":1678746221,"post_id":75727295,"comment_id":133590444,"body_markdown":"It&#39;s work! appreciate you!","body":"It&#39;s work! appreciate you!"}],"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678744984,"creation_date":1678744984,"answer_id":75727295,"question_id":75727209,"body_markdown":"I have no idea what the code you are calling does because it&#39;s not in the question but try this:\r\n\r\n    readFromCsvHistoryFromFile().stream()\r\n        .flatMap(s -&gt; fromString().stream()\r\n                 .filter(task -&gt; task.getId().toString().equals(s)))\r\n        .toList();","title":"Convert nested foreach loops into a Stream","body":"<p>I have no idea what the code you are calling does because it's not in the question but try this:</p>\n<pre><code>readFromCsvHistoryFromFile().stream()\n    .flatMap(s -&gt; fromString().stream()\n             .filter(task -&gt; task.getId().toString().equals(s)))\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":22182716,"reputation":15,"user_id":16426180,"display_name":"OpeJI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75727295,"answer_count":1,"score":0,"last_activity_date":1678744984,"creation_date":1678744321,"question_id":75727209,"body_markdown":"I want to refactor nested for loops in the following code with streams:\r\n\r\n\r\n```\r\nprivate List&lt;Task&gt; readHistoryFromFile() {\r\n\r\n        List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n        for (String s : readFromCsvHistoryFromFile()) { // List&lt;String&gt;\r\n            for (Task task : fromString()) { // List&lt;Task&gt;\r\n\r\n                if (task.getId().toString().equals(s)){\r\n                    tasks.add(task);\r\n                }\r\n            }\r\n        }\r\n        return tasks;\r\n    }\r\n```\r\n\r\n\r\nWhat is the best and simplest way to do so","title":"Convert nested foreach loops into a Stream","body":"<p>I want to refactor nested for loops in the following code with streams:</p>\n<pre><code>private List&lt;Task&gt; readHistoryFromFile() {\n\n        List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n\n        for (String s : readFromCsvHistoryFromFile()) { // List&lt;String&gt;\n            for (Task task : fromString()) { // List&lt;Task&gt;\n\n                if (task.getId().toString().equals(s)){\n                    tasks.add(task);\n                }\n            }\n        }\n        return tasks;\n    }\n</code></pre>\n<p>What is the best and simplest way to do so</p>\n"},{"tags":["java","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":3924827,"reputation":907,"user_id":3245747,"accept_rate":75,"display_name":"user3245747"},"score":0,"creation_date":1404895851,"post_id":24641785,"comment_id":38208423,"body_markdown":"I don&#39;t think the problem is from the inbox because when I send the same email from Gmail or yahoo mail to the same receipiant it works fine.","body":"I don&#39;t think the problem is from the inbox because when I send the same email from Gmail or yahoo mail to the same receipiant it works fine."}],"tags":[],"owner":{"account_id":3850426,"reputation":181,"user_id":3190757,"accept_rate":75,"display_name":"schmidt73"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1404854330,"creation_date":1404854330,"answer_id":24641785,"question_id":24641620,"body_markdown":"The problem is in the Return Code 550. This return code usually means that the server was unable to deliver the mail as the inbox it was trying to send to does not exist. I would figure out what causes the error code when using GoDaddy and also try your code with different email providers.\r\n\r\nhttp://www.serversmtp.com/en/error-550","title":"How to send an email from different domains","body":"<p>The problem is in the Return Code 550. This return code usually means that the server was unable to deliver the mail as the inbox it was trying to send to does not exist. I would figure out what causes the error code when using GoDaddy and also try your code with different email providers.</p>\n\n<p><a href=\"http://www.serversmtp.com/en/error-550\" rel=\"nofollow\">http://www.serversmtp.com/en/error-550</a></p>\n"},{"tags":[],"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678744439,"creation_date":1404854565,"answer_id":24641841,"question_id":24641620,"body_markdown":"From [Various SMTP error codes explained](http://support.mailhostbox.com/email-administrators-guide/error-codes) it is one of the following:\r\n\r\n    550 5.7.1 : Helo command rejected: You aren&#39;t localhost.\r\n    550 5.7.1 : Helo command rejected: You aren&#39;t localhost.localdomain.\r\n    550 5.7.1 : Helo command rejected: You are not me\r\n    Our servers do not accept SMTP HELO command as HELO localhost or HELO localhost.localdomain or HELO . We accept HELO from a valid Domain Name or your computer name which is other than your domain name. Please check with your ISP or Mail administrator for this issue.\r\n    \r\n    550 5.7.1 Service unavailable; client [a.b.c.d] blocked using rbl.mailhostbox.com\r\n    rbl.mailhostbox.com is an inhouse RBL zone which we use to protect our services from inbound attacks. If you encounter any of the above messages, you can whitelist the IP using http://whitelist.mailhostbox.com/\r\n    To avoid misuse of this feature, an IP is allowed to be white-listed only a defined number of times. If you face any issues feel free to contact our support helpdesk with the details.","title":"How to send an email from different domains","body":"<p>From <a href=\"http://support.mailhostbox.com/email-administrators-guide/error-codes\" rel=\"nofollow noreferrer\">Various SMTP error codes explained</a> it is one of the following:</p>\n<pre><code>550 5.7.1 : Helo command rejected: You aren't localhost.\n550 5.7.1 : Helo command rejected: You aren't localhost.localdomain.\n550 5.7.1 : Helo command rejected: You are not me\nOur servers do not accept SMTP HELO command as HELO localhost or HELO localhost.localdomain or HELO . We accept HELO from a valid Domain Name or your computer name which is other than your domain name. Please check with your ISP or Mail administrator for this issue.\n\n550 5.7.1 Service unavailable; client [a.b.c.d] blocked using rbl.mailhostbox.com\nrbl.mailhostbox.com is an inhouse RBL zone which we use to protect our services from inbound attacks. If you encounter any of the above messages, you can whitelist the IP using http://whitelist.mailhostbox.com/\nTo avoid misuse of this feature, an IP is allowed to be white-listed only a defined number of times. If you face any issues feel free to contact our support helpdesk with the details.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3924827,"reputation":907,"user_id":3245747,"accept_rate":75,"display_name":"user3245747"},"score":0,"creation_date":1404895923,"post_id":24642312,"comment_id":38208476,"body_markdown":"I do have the users access credentials and the SMTP host and port but it&#39;s not working with the godaddy email.","body":"I do have the users access credentials and the SMTP host and port but it&#39;s not working with the godaddy email."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1404944837,"post_id":24642312,"comment_id":38237649,"body_markdown":"You&#39;re connecting to the user&#39;s mail server (which happens to be godaddy), you&#39;re logging in with the user&#39;s username and password, and all that works, but it fails when you try to send a message with a From header of that user?  Show me; post the [protocol trace](http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug).","body":"You&#39;re connecting to the user&#39;s mail server (which happens to be godaddy), you&#39;re logging in with the user&#39;s username and password, and all that works, but it fails when you try to send a message with a From header of that user?  Show me; post the <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug\" rel=\"nofollow noreferrer\">protocol trace</a>."},{"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"score":0,"creation_date":1678727775,"post_id":24642312,"comment_id":133586166,"body_markdown":"@user3245747, there are payed services like sendgrid, mailchimp, etc. that would allow you to register some email addresses to be able to send `as` them. Other than that, Bill&#39;s answer pretty much covers it. Also nowadays sending is also protected by `SPF` and `dmarc` to protect from the &quot;own mail server&quot; option and send them directly to spam or outright reject them.","body":"@user3245747, there are payed services like sendgrid, mailchimp, etc. that would allow you to register some email addresses to be able to send <code>as</code> them. Other than that, Bill&#39;s answer pretty much covers it. Also nowadays sending is also protected by <code>SPF</code> and <code>dmarc</code> to protect from the &quot;own mail server&quot; option and send them directly to spam or outright reject them."}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404857383,"creation_date":1404857383,"answer_id":24642312,"question_id":24641620,"body_markdown":"Most mail servers are not going to let you send email with any arbitrary From address.  If they did, they would be used for spam, phishing, etc.  You have a few choices...\r\n\r\n 1. Find a service that will let you do this.  Good luck with that!\r\n 2. Run your own mail server.  A lot of work, obviously.\r\n 3. Ask the user for all the login information for their own mail server, and send the message as them through their own mail server.  Users probably won&#39;t like this.\r\n 4. Send the reports as a user associated with your application, not as the end user.","title":"How to send an email from different domains","body":"<p>Most mail servers are not going to let you send email with any arbitrary From address.  If they did, they would be used for spam, phishing, etc.  You have a few choices...</p>\n\n<ol>\n<li>Find a service that will let you do this.  Good luck with that!</li>\n<li>Run your own mail server.  A lot of work, obviously.</li>\n<li>Ask the user for all the login information for their own mail server, and send the message as them through their own mail server.  Users probably won't like this.</li>\n<li>Send the reports as a user associated with your application, not as the end user.</li>\n</ol>\n"}],"owner":{"account_id":3924827,"reputation":907,"user_id":3245747,"accept_rate":75,"display_name":"user3245747"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2067,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1678744439,"creation_date":1404853596,"question_id":24641620,"body_markdown":"I am creating an application in which the user should be able to send some reports via email. I need the user to be able to specify his/her email address and for the program to set the necessary properties. My code works when the user uses a gmail account. This is part of the code:\r\n\r\n    final String password = &quot;password&quot;;\r\n        \t    \t        Properties props = new Properties();\r\n        \t    \t        //gmail\r\n        \t    \t        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        \t    \t        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        \t    \t        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n        \t    \t        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        \t    \t        Session session = Session.getInstance(props,\r\n        \t    \t          new javax.mail.Authenticator() {\r\n        \t    \t            protected PasswordAuthentication getPasswordAuthentication() {\r\n        \t    \t                return new PasswordAuthentication(username, password);\r\n        \t    \t            }\r\n        \t    \t        });\r\n\r\nThe above works. When I try sending from a GoDaddy hosted email I get a problem. I use the following code for the goDaddy email:\r\n\r\n    final String password = &quot;password&quot;;\r\n        \t    \t        Properties props = new Properties();\r\n        \t    \t        //GoDaddy\r\n        \t    \t        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        \t    \t        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        \t    \t        props.put(&quot;mail.smtp.host&quot;, &quot;smtpout.secureserver.net&quot;);\r\n        \t    \t        props.put(&quot;mail.smtp.port&quot;, &quot;80&quot;);\r\n        \t    \t        Session session = Session.getInstance(props,\r\n        \t    \t          new javax.mail.Authenticator() {\r\n        \t    \t            protected PasswordAuthentication getPasswordAuthentication() {\r\n        \t    \t                return new PasswordAuthentication(username, password);\r\n        \t    \t            }\r\n        \t    \t        });\r\n\r\nWhen I try the above and go to the destination email I don&#39;t find anything, but when i check the inbox of the GoDaddy email which is supposed to be the sender email, I find a Mail Delivery System message in the inbox when the following content:\r\n    (Return Code 550] sid: PwwN1o00B0bi6P901 :: 5.7.1 more information. cm5si19503077pac.22 - gsmtp).\r\nCan someone please tell me what the problem is? Thanks.","title":"How to send an email from different domains","body":"<p>I am creating an application in which the user should be able to send some reports via email. I need the user to be able to specify his/her email address and for the program to set the necessary properties. My code works when the user uses a gmail account. This is part of the code:</p>\n\n<pre><code>final String password = \"password\";\n                        Properties props = new Properties();\n                        //gmail\n                        props.put(\"mail.smtp.starttls.enable\", \"true\");\n                        props.put(\"mail.smtp.auth\", \"true\");\n                        props.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n                        props.put(\"mail.smtp.port\", \"587\");\n                        Session session = Session.getInstance(props,\n                          new javax.mail.Authenticator() {\n                            protected PasswordAuthentication getPasswordAuthentication() {\n                                return new PasswordAuthentication(username, password);\n                            }\n                        });\n</code></pre>\n\n<p>The above works. When I try sending from a GoDaddy hosted email I get a problem. I use the following code for the goDaddy email:</p>\n\n<pre><code>final String password = \"password\";\n                        Properties props = new Properties();\n                        //GoDaddy\n                        props.put(\"mail.smtp.starttls.enable\", \"true\");\n                        props.put(\"mail.smtp.auth\", \"true\");\n                        props.put(\"mail.smtp.host\", \"smtpout.secureserver.net\");\n                        props.put(\"mail.smtp.port\", \"80\");\n                        Session session = Session.getInstance(props,\n                          new javax.mail.Authenticator() {\n                            protected PasswordAuthentication getPasswordAuthentication() {\n                                return new PasswordAuthentication(username, password);\n                            }\n                        });\n</code></pre>\n\n<p>When I try the above and go to the destination email I don't find anything, but when i check the inbox of the GoDaddy email which is supposed to be the sender email, I find a Mail Delivery System message in the inbox when the following content:\n    (Return Code 550] sid: PwwN1o00B0bi6P901 :: 5.7.1 more information. cm5si19503077pac.22 - gsmtp).\nCan someone please tell me what the problem is? Thanks.</p>\n"},{"tags":["java","jpa"],"owner":{"account_id":193479,"reputation":273,"user_id":435239,"accept_rate":50,"display_name":"Dark Defender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678744431,"creation_date":1678744431,"question_id":75727222,"body_markdown":"In my application, when I try to get an EntityManager manually, it works just fine:\r\n\r\n    @SpringBootApplication\r\n    public class StudyApplication {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tConfigurableApplicationContext appContext = \r\n    \t\t\t\tSpringApplication.run(StudyApplication.class, args);\r\n    \t\r\n    \t\tEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence&quot;);\r\n    \t\tEntityManager em = entityManagerFactory.createEntityManager();\r\n    \t\tSystem.out.println(&quot;----------- EntityManager for POSTGRE-SQL DB&quot; + em.toString());\r\n    \t}\r\n    \r\n    }\r\n\r\nMy persistence unit is defined in the file &quot;persistence.xml&quot;:\r\n\r\n    &lt;persistence-unit name=&quot;persistence&quot;&gt;\r\n            &lt;description&gt; Hibernate JPA Configuration Example&lt;/description&gt;\r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;12345&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n\r\nBut when I try to inject an Entity Manager with @PersistenceContext annotation, I get the following error:\r\n\r\n    @Repository\r\n    public class StudentJpaRepository implements StudentRepository {\r\n    \r\n    \t@PersistenceContext(unitName = &quot;persistence&quot;)\r\n    \tprivate EntityManager em;\r\n\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nA component required a bean named &#39;persistence&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;persistence&#39; in your configuration.\r\n\r\n**Why does it work manually and fail with @PersistenceContext?**","title":"@PersistenceContext annotation not finding my persistence unit","body":"<p>In my application, when I try to get an EntityManager manually, it works just fine:</p>\n<pre><code>@SpringBootApplication\npublic class StudyApplication {\n    \n    public static void main(String[] args) {\n        \n        ConfigurableApplicationContext appContext = \n                SpringApplication.run(StudyApplication.class, args);\n    \n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence&quot;);\n        EntityManager em = entityManagerFactory.createEntityManager();\n        System.out.println(&quot;----------- EntityManager for POSTGRE-SQL DB&quot; + em.toString());\n    }\n\n}\n</code></pre>\n<p>My persistence unit is defined in the file &quot;persistence.xml&quot;:</p>\n<pre><code>&lt;persistence-unit name=&quot;persistence&quot;&gt;\n        &lt;description&gt; Hibernate JPA Configuration Example&lt;/description&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;12345&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n</code></pre>\n<p>But when I try to inject an Entity Manager with @PersistenceContext annotation, I get the following error:</p>\n<pre><code>@Repository\npublic class StudentJpaRepository implements StudentRepository {\n\n    @PersistenceContext(unitName = &quot;persistence&quot;)\n    private EntityManager em;\n</code></pre>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>A component required a bean named 'persistence' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean named 'persistence' in your configuration.</p>\n<p><strong>Why does it work manually and fail with @PersistenceContext?</strong></p>\n"},{"tags":["java","android","kotlin","mobile"],"comments":[{"owner":{"account_id":281857,"reputation":41669,"user_id":578411,"accept_rate":83,"display_name":"rene"},"score":4,"creation_date":1649868351,"post_id":66621374,"comment_id":126986747,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](//meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":18920400,"reputation":373,"user_id":13804587,"display_name":"amimic11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615701167,"creation_date":1615701167,"answer_id":66621516,"question_id":66621374,"body_markdown":"you can use jetpack library for android called Navigation graph, that handles such issues like passing data between fragments and similar stuff, along with other features u can search \r\n\r\nInitially you need to create a navigation graph, that contains all the fragment with connected graph as per your application logic.\r\n\r\nFor passing data between fragment, you need to create a argument in navigation action and from there you can send/receive your data easily, \r\n\r\nfor more information and detail steps refer the links. \r\n\r\nNavigation graph : https://www.youtube.com/watch?v=DI0NIk-7cz8\r\n\r\nNavigation safe args : https://www.youtube.com/watch?v=vx1-V3HH0IU\r\n\r\n","title":"Trying to send bundle argument","body":"<p>you can use jetpack library for android called Navigation graph, that handles such issues like passing data between fragments and similar stuff, along with other features u can search</p>\n<p>Initially you need to create a navigation graph, that contains all the fragment with connected graph as per your application logic.</p>\n<p>For passing data between fragment, you need to create a argument in navigation action and from there you can send/receive your data easily,</p>\n<p>for more information and detail steps refer the links.</p>\n<p>Navigation graph : <a href=\"https://www.youtube.com/watch?v=DI0NIk-7cz8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=DI0NIk-7cz8</a></p>\n<p>Navigation safe args : <a href=\"https://www.youtube.com/watch?v=vx1-V3HH0IU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vx1-V3HH0IU</a></p>\n"},{"tags":[],"owner":{"account_id":8839517,"reputation":453,"user_id":6602399,"display_name":"The MJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615703017,"creation_date":1615703017,"answer_id":66621693,"question_id":66621374,"body_markdown":"   using Navigation component and that&#39;s what you have to write :\r\n\r\n     val bundle = bundleOf(\r\n                        &quot;title&quot; to &quot;name&quot;)\r\n\r\n                    navController!!.navigate(\r\n                        R.id.action_Fragment1_to_Fragment2,\r\n                        bundle\r\n                    )","title":"Trying to send bundle argument","body":"<p>using Navigation component and that's what you have to write :</p>\n<pre><code> val bundle = bundleOf(\n                    &quot;title&quot; to &quot;name&quot;)\n\n                navController!!.navigate(\n                    R.id.action_Fragment1_to_Fragment2,\n                    bundle\n                )\n</code></pre>\n"}],"owner":{"account_id":20950286,"reputation":43,"user_id":15392124,"display_name":"amajester"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1678743921,"creation_date":1615699588,"question_id":66621374,"body_markdown":"I&#39;m coding in kotlin on Android Studio. Upon the click of a button, I want to be able to pass arguments through a bundle from my current fragment to the next fragment, and at the same time navigate to the next fragment.\r\n","title":"Trying to send bundle argument","body":"<p>I'm coding in kotlin on Android Studio. Upon the click of a button, I want to be able to pass arguments through a bundle from my current fragment to the next fragment, and at the same time navigate to the next fragment.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9647,"page":578,"page_size":100}
