{"items":[{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1652526190,"post_id":72239036,"comment_id":127630507,"body_markdown":"Are you aware that `List.set` method returns the previously existing item (an not the new one)? See also the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#set-int-E-)","body":"Are you aware that <code>List.set</code> method returns the previously existing item (an not the new one)? See also the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#set-int-E-\" rel=\"nofollow noreferrer\">docs</a>"},{"owner":{"account_id":22714313,"reputation":5,"user_id":16879825,"display_name":"Anshul Jyoti"},"score":0,"creation_date":1652526314,"post_id":72239036,"comment_id":127630521,"body_markdown":"Thanks Michail that seemed to be the problem and indeed that was the error.","body":"Thanks Michail that seemed to be the problem and indeed that was the error."}],"answers":[{"tags":[],"owner":{"account_id":22714313,"reputation":5,"user_id":16879825,"display_name":"Anshul Jyoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652526156,"creation_date":1652526156,"answer_id":72239588,"question_id":72239036,"body_markdown":"So the line causing the erroneous output was \r\n`return dp.get(i).set(j,(countPaths(i,j+1,m,n,dp)+countPaths(i+1,j,m,n,dp)));`\r\n\r\nthis line is erroneous because I was returning the element that is to be setted and thus a value of previous copy of array was executed and sent out. (That&#39;s my guess).\r\n\r\nThus I made a change that&#39;ll first calculate the recursive value and then store it.\r\n```else { \r\n\t\t\tint s = countPaths(i,j+1,m,n,dp)+countPaths(i+1,j,m,n,dp);\r\n\t\t\tdp.get(i).set(j,(s)); \r\n\t\t\treturn s;\r\n\t\t}\r\n```\r\nnow the output are desirable","title":"I was trying to solve &quot;Grid unique path&quot; using Dynamic programming in Java","body":"<p>So the line causing the erroneous output was\n<code>return dp.get(i).set(j,(countPaths(i,j+1,m,n,dp)+countPaths(i+1,j,m,n,dp)));</code></p>\n<p>this line is erroneous because I was returning the element that is to be setted and thus a value of previous copy of array was executed and sent out. (That's my guess).</p>\n<p>Thus I made a change that'll first calculate the recursive value and then store it.</p>\n<pre><code>            int s = countPaths(i,j+1,m,n,dp)+countPaths(i+1,j,m,n,dp);\n            dp.get(i).set(j,(s)); \n            return s;\n        }\n</code></pre>\n<p>now the output are desirable</p>\n"}],"owner":{"account_id":22714313,"reputation":5,"user_id":16879825,"display_name":"Anshul Jyoti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652526240,"creation_date":1652521516,"question_id":72239036,"body_markdown":"I am trying to implement a solution for grid unique path using **D.P. approach** while trying to do so, I don&#39;t know why in the middle of execution the value at `(0,1)` location gets negative while I&#39;m giving the addition sign the answer getting stored is `(-2)`.\r\n  Whereas the recursion is giving absolute perfect answer at `DP(0,2)` PLUS `DP(1,1)`, as you can see in the matrix they&#39;re positive values.\r\n  I tried several output lines to debug and find the problem but was unable.\r\n\r\nYou&#39;ll need to focus on `countPaths` as that will be the function that modifies array\r\n\r\nCODE:\r\n```java\r\n    public static void main(String[] args) {\r\n    \tint totalCount = uniquepath(2,3);\r\n    \tSystem.out.println(totalCount);\r\n    }\r\n\r\n\tpublic static int uniquepath(int m, int n) {\r\n\t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; dp =new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(m+1);\r\n\t\t//ArrayList&lt;Integer&gt; mp = new ArrayList&lt;Integer&gt;(Collections.nCopies(n, -1));\r\n\t\tfor(int k = 0; k&lt;m+1; k++) {\t\t\t\t\t\t\r\n\t\t\tdp.add(k, new ArrayList&lt;Integer&gt;(Collections.nCopies(n+1, -1)));\r\n\t\t}\r\n\t\t\tint num = countPaths(0,0,m,n,dp);\r\n\t\t\tSystem.out.println(dp.get(0));\r\n\t\t\tSystem.out.println(dp.get(1));\r\n\t\t\tSystem.out.println(dp.get(2));\r\n\t\t\treturn num;\r\n\t}\r\n\t\r\n\tpublic static int countPaths(int i, int j, int m, int n, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dp) {\r\n\t\t//3 conditions \r\n\t\t//1. if you&#39;re at the end then return 1\r\n\t\t//2. if you&#39;re beyond OR at the boundary then return 0\r\n\t\t//3. if you&#39;re the matrix is having -1 value then store the computed value \r\n\t\t//3a. else you&#39;re to countpaths from right and the left path\r\n\t\tSystem.out.println(i+&quot; &quot;+j);\r\n\t\tSystem.out.println(dp.get(0));\r\n\t\tSystem.out.println(dp.get(1));\r\n\t\tSystem.out.println(dp.get(2));\r\n\t\tSystem.out.println();\r\n\t\tif(i==(m-1)&amp;&amp;j==(n-1)) return 1;\r\n\t\tif(i&gt;=m||j&gt;=n) return 0;\r\n\t\tif(dp.get(i).get(j) != -1) {System.out.println(&quot;upper part executed &quot;); \r\n\t\t\t\t\t\t\t\t\treturn dp.get(i).get(j);}\r\n\t\telse return dp.get(i).set(j,(countPaths(i,j+1,m,n,dp)+countPaths(i+1,j,m,n,dp))); \r\n\t}\r\n```\r\n\r\nOUTPUT:\r\n```\r\n0 0\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n0 1\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n0 2\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n0 3\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n1 2\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n1 1\r\n[-1, -1, 1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n1 2\r\n[-1, -1, 1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n2 1\r\n[-1, -1, 1, -1]\r\n[-1, -1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n1 0\r\n[-1, **-2**, 1, -1]\r\n[-1, 1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n1 1\r\n[-1, -2, 1, -1]\r\n[-1, 1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\nhi \r\n2 0\r\n[-1, -2, 1, -1]\r\n[-1, 1, -1, -1]\r\n[-1, -1, -1, -1]\r\n\r\n[-2, -2, 1, -1]\r\n[1, 1, -1, -1]\r\n[-1, -1, -1, -1]\r\n-1\r\n```","title":"I was trying to solve &quot;Grid unique path&quot; using Dynamic programming in Java","body":"<p>I am trying to implement a solution for grid unique path using <strong>D.P. approach</strong> while trying to do so, I don't know why in the middle of execution the value at <code>(0,1)</code> location gets negative while I'm giving the addition sign the answer getting stored is <code>(-2)</code>.\nWhereas the recursion is giving absolute perfect answer at <code>DP(0,2)</code> PLUS <code>DP(1,1)</code>, as you can see in the matrix they're positive values.\nI tried several output lines to debug and find the problem but was unable.</p>\n<p>You'll need to focus on <code>countPaths</code> as that will be the function that modifies array</p>\n<p>CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        int totalCount = uniquepath(2,3);\n        System.out.println(totalCount);\n    }\n\n    public static int uniquepath(int m, int n) {\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dp =new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(m+1);\n        //ArrayList&lt;Integer&gt; mp = new ArrayList&lt;Integer&gt;(Collections.nCopies(n, -1));\n        for(int k = 0; k&lt;m+1; k++) {                        \n            dp.add(k, new ArrayList&lt;Integer&gt;(Collections.nCopies(n+1, -1)));\n        }\n            int num = countPaths(0,0,m,n,dp);\n            System.out.println(dp.get(0));\n            System.out.println(dp.get(1));\n            System.out.println(dp.get(2));\n            return num;\n    }\n    \n    public static int countPaths(int i, int j, int m, int n, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dp) {\n        //3 conditions \n        //1. if you're at the end then return 1\n        //2. if you're beyond OR at the boundary then return 0\n        //3. if you're the matrix is having -1 value then store the computed value \n        //3a. else you're to countpaths from right and the left path\n        System.out.println(i+&quot; &quot;+j);\n        System.out.println(dp.get(0));\n        System.out.println(dp.get(1));\n        System.out.println(dp.get(2));\n        System.out.println();\n        if(i==(m-1)&amp;&amp;j==(n-1)) return 1;\n        if(i&gt;=m||j&gt;=n) return 0;\n        if(dp.get(i).get(j) != -1) {System.out.println(&quot;upper part executed &quot;); \n                                    return dp.get(i).get(j);}\n        else return dp.get(i).set(j,(countPaths(i,j+1,m,n,dp)+countPaths(i+1,j,m,n,dp))); \n    }\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>0 0\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n0 1\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n0 2\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n0 3\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n1 2\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n1 1\n[-1, -1, 1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n1 2\n[-1, -1, 1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n2 1\n[-1, -1, 1, -1]\n[-1, -1, -1, -1]\n[-1, -1, -1, -1]\n\n1 0\n[-1, **-2**, 1, -1]\n[-1, 1, -1, -1]\n[-1, -1, -1, -1]\n\n1 1\n[-1, -2, 1, -1]\n[-1, 1, -1, -1]\n[-1, -1, -1, -1]\n\nhi \n2 0\n[-1, -2, 1, -1]\n[-1, 1, -1, -1]\n[-1, -1, -1, -1]\n\n[-2, -2, 1, -1]\n[1, 1, -1, -1]\n[-1, -1, -1, -1]\n-1\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","fetch-api"],"answers":[{"tags":[],"owner":{"account_id":28153,"reputation":3983,"user_id":74890,"accept_rate":64,"display_name":"digitalbreed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652526142,"creation_date":1652526142,"answer_id":72239586,"question_id":72239506,"body_markdown":"Provided that this is a local development environment, it&#39;s typically sufficient to enable the [proxying capabilities of the React development server][1] by enhancing your React app `package.json` with this attribute:\r\n\r\n    &quot;proxy&quot;: &quot;http://localhost:8080&quot;\r\n\r\nThen, make your Ajax requests from your React app to `/your/api/path` instead of `http://localhost:8080/your/api/path` and the development webserver will proxy the Ajax requests to the provided address and your browser won&#39;t complain about CORS.\r\n\r\nYou wouldn&#39;t need to configure any specific CORS support in the Spring Boot application.\r\n\r\nLater, when the application is deployed on a webserver, that&#39;s typically no longer an issue because both will be served on the same host and the Ajax requests are then proxied to the backend by a webserver on the host which serves the inbound requests.\r\n\r\n\r\n  [1]: https://create-react-app.dev/docs/proxying-api-requests-in-development/","title":"problem configuring CORSin spring boot and reactjs","body":"<p>Provided that this is a local development environment, it's typically sufficient to enable the <a href=\"https://create-react-app.dev/docs/proxying-api-requests-in-development/\" rel=\"nofollow noreferrer\">proxying capabilities of the React development server</a> by enhancing your React app <code>package.json</code> with this attribute:</p>\n<pre><code>&quot;proxy&quot;: &quot;http://localhost:8080&quot;\n</code></pre>\n<p>Then, make your Ajax requests from your React app to <code>/your/api/path</code> instead of <code>http://localhost:8080/your/api/path</code> and the development webserver will proxy the Ajax requests to the provided address and your browser won't complain about CORS.</p>\n<p>You wouldn't need to configure any specific CORS support in the Spring Boot application.</p>\n<p>Later, when the application is deployed on a webserver, that's typically no longer an issue because both will be served on the same host and the Ajax requests are then proxied to the backend by a webserver on the host which serves the inbound requests.</p>\n"}],"owner":{"account_id":22162096,"reputation":37,"user_id":16408923,"display_name":"AmineBinOthman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652526142,"creation_date":1652525491,"question_id":72239506,"body_markdown":"After reading all the MDN docs on CORS, I am trying to fetch resources at a spring boot server at localhost:8080 from a ReactJS app at localhost:3000, yet i cannot get the desired response. here is the spring boot configuration\r\n\r\n     ...\r\n     @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n    \t  \r\n    \thttp.cors();\r\n    \t\r\n        http.authorizeRequests().antMatchers(\r\n            // &quot;/registration**&quot;,\r\n            &quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/img/**&quot;, &quot;/api/**&quot;, &quot;/webjars/**&quot;).permitAll()\r\n            .antMatchers(&quot;/calendar&quot;, &quot;/calendar-delete&quot;, &quot;/calendar-edit&quot;, &quot;/calendar-addEvent&quot;,\r\n                &quot;/calendar-updateEvent&quot;, &quot;/contacts&quot;, &quot;/contact-edit&quot;, &quot;/jobs/jobs-list&quot;, &quot;/job-new&quot;,\r\n                &quot;/applicants/applicants-list&quot;, &quot;/applicant-new&quot;, &quot;/&quot;, &quot;/index&quot;, &quot;/task-list&quot;, &quot;/task-assign&quot;,\r\n                &quot;/tasks-pending&quot;, &quot;/task-approve&quot;, &quot;/task-deny&quot;, &quot;/profile&quot;, &quot;/upload-avatar&quot;, &quot;/users&quot;,\r\n                &quot;/settings&quot;, &quot;/appsettings&quot;, &quot;/changepassword&quot;, &quot;/messages&quot;, &quot;/message&quot;, &quot;/message-new&quot;,\r\n                &quot;/message-to&quot;, &quot;/h2-console/**&quot;)\r\n            .permitAll().antMatchers(&quot;/admin/**&quot;)\r\n            .hasAuthority(&quot;ROLE_ADMIN&quot;).antMatchers(&quot;/activites/**&quot;)\r\n            .hasAnyAuthority(&quot;ROLE_ADMIN&quot;,&quot;ROLE_COLLABORATEUR&quot;).and().formLogin().loginProcessingUrl(&quot;/api/login&quot;).permitAll()\r\n            .and()\r\n            .formLogin().failureHandler(customAuthenticationFailureHandler())\r\n            .and().formLogin().successHandler(successHandler())\r\n            .and()\r\n            .logout()\r\n            .invalidateHttpSession(true).clearAuthentication(true)\r\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;)\r\n            .permitAll();\r\n        \r\n        http.csrf().disable();\r\n        \r\n      }\r\n\r\n    @Bean\r\n      public CustomSuccessHandler successHandler() {\r\n          return new CustomSuccessHandler();\r\n      }\r\n    ....\r\n     @Bean\r\n      public CorsConfigurationSource corsConfigurationSource() {\r\n    \tCorsConfiguration configuration = new CorsConfiguration();\r\n    \t\r\n    \tconfiguration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\t\r\n    \tconfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n    \tconfiguration.addAllowedHeader(&quot;*&quot;);\r\n    \tconfiguration.setAllowCredentials(false);\r\n    \t\r\n    \tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    \treturn source;\r\n      }\r\n\r\nand here is the controller method responsible for handling the request\r\n\r\n    @GetMapping(&quot;/api/plot&quot;)\r\n    \t@ResponseBody\r\n    \tpublic List&lt;StatisticBesoin&gt; plot(@RequestParam(&quot;date&quot;) int year) {\r\n    \t\treturn this.besoinService.getStatistic(year);\r\n    \t}\r\n\r\nhere is the Reactjs Login component, note that after pressing the login button i receive the desired json response and the set-cookies jssid \r\n\r\n    const Login = (props) =&gt; {\r\n        const navig = useNavigate();\r\n    \r\n        const [userName,setUserName] = useState(&quot;&quot;);\r\n        const [password,setPassword] = useState(&quot;&quot;);\r\n    \r\n        function authenticate(usr,pswrd){\r\n            var data = new URLSearchParams();\r\n            \r\n            data.append(&#39;username&#39;, usr);\r\n            data.append(&#39;password&#39;, pswrd);\r\n            \r\n            fetch(&quot;http://localhost:8080/api/login&quot;,{\r\n                headers:{\r\n                    &quot;Content-type&quot;: &quot;application/x-www-form-urlencoded&quot;,\r\n                },\r\n                method:&quot;post&quot;,\r\n                body:data\r\n            }).then(response =&gt; response.json()).then(usr =&gt; {props.setUser(usr);console.log(usr);navig(&#39;/homme&#39;)});\r\n        }\r\n    \r\n        return(\r\n            &lt;div className=&#39;wrapper&#39;&gt;\r\n                &lt;div className=&#39;login&#39;&gt;\r\n                    &lt;div className=&#39;header&#39;&gt;Login&lt;/div&gt;\r\n                    &lt;div className=&quot;form-control&quot;&gt;&lt;i className=&quot;fa fa-user&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;input onChange={(e)=&gt;setUserName(e.target.value)} name=&quot;userName&quot; id=&quot;userName&quot; type=&quot;text&quot; placeholder=&quot;User name&quot; /&gt;&lt;/div&gt;\r\n                    &lt;div className=&quot;form-control&quot;&gt;&lt;i className=&quot;fa fa-lock&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;input onChange={(e)=&gt;setPassword(e.target.value)} name=&quot;userName&quot; id=&quot;userPassword&quot; type=&quot;password&quot; placeholder=&quot;Password&quot; /&gt;&lt;/div&gt;\r\n                    &lt;div className=&quot;form-control&quot;&gt;&lt;input type=&quot;button&quot; value=&quot;Login&quot; onClick={()=&gt;authenticate(userName,password)}/&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        )\r\n    }\r\n\r\nnext to the Home page where my issue is:\r\n\r\n    const Home = (props) =&gt; {\r\n    \r\n        function plot(){\r\n            fetch(&#39;http://localhost:8080/api/plot&#39;)\r\n            .then(resp =&gt; resp)\r\n            .then(t =&gt; {console.log(t)})}\r\n    \r\n        return(\r\n            &lt;div className=&#39;wrapper&#39;&gt;\r\n                &lt;input type=&quot;button&quot; value=&quot;call&quot; onClick={plot}/&gt;\r\n                {props.usr.toString()}\r\n            &lt;/div&gt;\r\n        )\r\n    } \r\n\r\nthe response after pressing the button isز\r\n \r\n\r\n    body: (...)\r\n    bodyUsed: false\r\n    headers: Headers\r\n    [[Prototype]]: Headers\r\n    ok: true\r\n    redirected: true\r\n    status: 200\r\n    statusText: &quot;OK&quot;\r\n    type: &quot;cors&quot;\r\n    url: &quot;http://localhost:8080/login&quot;\r\n\r\ni tried everything from setting the allowed origins to &quot;*&quot; to setting allow-credentials header in the request to &quot;include&quot; but all in vain. note that **i can see the jssid cookie beign sent with the /plot request** so i guess i have no problem with authentication.\r\ncan someone figure out what is the problem please? i think all the ressource of the quetion are available but i will provide any other if needed?\r\n\r\n","title":"problem configuring CORSin spring boot and reactjs","body":"<p>After reading all the MDN docs on CORS, I am trying to fetch resources at a spring boot server at localhost:8080 from a ReactJS app at localhost:3000, yet i cannot get the desired response. here is the spring boot configuration</p>\n<pre><code> ...\n @Override\n  protected void configure(HttpSecurity http) throws Exception {\n      \n    http.cors();\n    \n    http.authorizeRequests().antMatchers(\n        // &quot;/registration**&quot;,\n        &quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/img/**&quot;, &quot;/api/**&quot;, &quot;/webjars/**&quot;).permitAll()\n        .antMatchers(&quot;/calendar&quot;, &quot;/calendar-delete&quot;, &quot;/calendar-edit&quot;, &quot;/calendar-addEvent&quot;,\n            &quot;/calendar-updateEvent&quot;, &quot;/contacts&quot;, &quot;/contact-edit&quot;, &quot;/jobs/jobs-list&quot;, &quot;/job-new&quot;,\n            &quot;/applicants/applicants-list&quot;, &quot;/applicant-new&quot;, &quot;/&quot;, &quot;/index&quot;, &quot;/task-list&quot;, &quot;/task-assign&quot;,\n            &quot;/tasks-pending&quot;, &quot;/task-approve&quot;, &quot;/task-deny&quot;, &quot;/profile&quot;, &quot;/upload-avatar&quot;, &quot;/users&quot;,\n            &quot;/settings&quot;, &quot;/appsettings&quot;, &quot;/changepassword&quot;, &quot;/messages&quot;, &quot;/message&quot;, &quot;/message-new&quot;,\n            &quot;/message-to&quot;, &quot;/h2-console/**&quot;)\n        .permitAll().antMatchers(&quot;/admin/**&quot;)\n        .hasAuthority(&quot;ROLE_ADMIN&quot;).antMatchers(&quot;/activites/**&quot;)\n        .hasAnyAuthority(&quot;ROLE_ADMIN&quot;,&quot;ROLE_COLLABORATEUR&quot;).and().formLogin().loginProcessingUrl(&quot;/api/login&quot;).permitAll()\n        .and()\n        .formLogin().failureHandler(customAuthenticationFailureHandler())\n        .and().formLogin().successHandler(successHandler())\n        .and()\n        .logout()\n        .invalidateHttpSession(true).clearAuthentication(true)\n        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;)\n        .permitAll();\n    \n    http.csrf().disable();\n    \n  }\n\n@Bean\n  public CustomSuccessHandler successHandler() {\n      return new CustomSuccessHandler();\n  }\n....\n @Bean\n  public CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    \n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));    \n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n    configuration.addAllowedHeader(&quot;*&quot;);\n    configuration.setAllowCredentials(false);\n    \n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n  }\n</code></pre>\n<p>and here is the controller method responsible for handling the request</p>\n<pre><code>@GetMapping(&quot;/api/plot&quot;)\n    @ResponseBody\n    public List&lt;StatisticBesoin&gt; plot(@RequestParam(&quot;date&quot;) int year) {\n        return this.besoinService.getStatistic(year);\n    }\n</code></pre>\n<p>here is the Reactjs Login component, note that after pressing the login button i receive the desired json response and the set-cookies jssid</p>\n<pre><code>const Login = (props) =&gt; {\n    const navig = useNavigate();\n\n    const [userName,setUserName] = useState(&quot;&quot;);\n    const [password,setPassword] = useState(&quot;&quot;);\n\n    function authenticate(usr,pswrd){\n        var data = new URLSearchParams();\n        \n        data.append('username', usr);\n        data.append('password', pswrd);\n        \n        fetch(&quot;http://localhost:8080/api/login&quot;,{\n            headers:{\n                &quot;Content-type&quot;: &quot;application/x-www-form-urlencoded&quot;,\n            },\n            method:&quot;post&quot;,\n            body:data\n        }).then(response =&gt; response.json()).then(usr =&gt; {props.setUser(usr);console.log(usr);navig('/homme')});\n    }\n\n    return(\n        &lt;div className='wrapper'&gt;\n            &lt;div className='login'&gt;\n                &lt;div className='header'&gt;Login&lt;/div&gt;\n                &lt;div className=&quot;form-control&quot;&gt;&lt;i className=&quot;fa fa-user&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;input onChange={(e)=&gt;setUserName(e.target.value)} name=&quot;userName&quot; id=&quot;userName&quot; type=&quot;text&quot; placeholder=&quot;User name&quot; /&gt;&lt;/div&gt;\n                &lt;div className=&quot;form-control&quot;&gt;&lt;i className=&quot;fa fa-lock&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;input onChange={(e)=&gt;setPassword(e.target.value)} name=&quot;userName&quot; id=&quot;userPassword&quot; type=&quot;password&quot; placeholder=&quot;Password&quot; /&gt;&lt;/div&gt;\n                &lt;div className=&quot;form-control&quot;&gt;&lt;input type=&quot;button&quot; value=&quot;Login&quot; onClick={()=&gt;authenticate(userName,password)}/&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n<p>next to the Home page where my issue is:</p>\n<pre><code>const Home = (props) =&gt; {\n\n    function plot(){\n        fetch('http://localhost:8080/api/plot')\n        .then(resp =&gt; resp)\n        .then(t =&gt; {console.log(t)})}\n\n    return(\n        &lt;div className='wrapper'&gt;\n            &lt;input type=&quot;button&quot; value=&quot;call&quot; onClick={plot}/&gt;\n            {props.usr.toString()}\n        &lt;/div&gt;\n    )\n} \n</code></pre>\n<p>the response after pressing the button isز</p>\n<pre><code>body: (...)\nbodyUsed: false\nheaders: Headers\n[[Prototype]]: Headers\nok: true\nredirected: true\nstatus: 200\nstatusText: &quot;OK&quot;\ntype: &quot;cors&quot;\nurl: &quot;http://localhost:8080/login&quot;\n</code></pre>\n<p>i tried everything from setting the allowed origins to &quot;*&quot; to setting allow-credentials header in the request to &quot;include&quot; but all in vain. note that <strong>i can see the jssid cookie beign sent with the /plot request</strong> so i guess i have no problem with authentication.\ncan someone figure out what is the problem please? i think all the ressource of the quetion are available but i will provide any other if needed?</p>\n"},{"tags":["java","sql","spring","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":31629,"reputation":264547,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652524533,"creation_date":1652522940,"answer_id":72239201,"question_id":72239131,"body_markdown":"You can use string_agg function to build a comma separated list of values:\r\n\r\n```\r\nselect name, string_agg(sal::text, &#39;,&#39;)\r\nfrom t\r\ngroup by name\r\n```\r\n\r\nYou might want to consider `json_agg` instead of csv if your application can consume json data.","title":"Distinct and List of other column in postgresql","body":"<p>You can use string_agg function to build a comma separated list of values:</p>\n<pre><code>select name, string_agg(sal::text, ',')\nfrom t\ngroup by name\n</code></pre>\n<p>You might want to consider <code>json_agg</code> instead of csv if your application can consume json data.</p>\n"},{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652524100,"creation_date":1652523542,"answer_id":72239275,"question_id":72239131,"body_markdown":"If I understand your question correctly,  you want to get the result via below SQL statement:\r\n\r\n    SELECT\r\n      name,\r\n      string_agg (sal::varchar(22), &#39;, &#39;) as sals\r\n    FROM\r\n      test\r\n    GROUP BY\r\n      name;\r\n\r\nSince it&#39;s postgresql related SQL,  we can&#39;t or hard to express it via common object query.  You can construct the above SQL via native query mode in your JPA code.\r\n\r\n    @Query(value = &quot;&lt;the above query&gt;&quot;, nativeQuery = true)\r\n    List&lt;Object[]&gt; query();\r\n\r\n","title":"Distinct and List of other column in postgresql","body":"<p>If I understand your question correctly,  you want to get the result via below SQL statement:</p>\n<pre><code>SELECT\n  name,\n  string_agg (sal::varchar(22), ', ') as sals\nFROM\n  test\nGROUP BY\n  name;\n</code></pre>\n<p>Since it's postgresql related SQL,  we can't or hard to express it via common object query.  You can construct the above SQL via native query mode in your JPA code.</p>\n<pre><code>@Query(value = &quot;&lt;the above query&gt;&quot;, nativeQuery = true)\nList&lt;Object[]&gt; query();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652525509,"creation_date":1652524998,"answer_id":72239447,"question_id":72239131,"body_markdown":"If you want to preserve the data type of the `sal` column, you can use `array_agg()` that returns an array of values. Not sure if JPA will let you access that properly though\r\n\r\n    select name, array_agg(sal) as sals\r\n    from the_table\r\n    group by name;\r\n\r\n","title":"Distinct and List of other column in postgresql","body":"<p>If you want to preserve the data type of the <code>sal</code> column, you can use <code>array_agg()</code> that returns an array of values. Not sure if JPA will let you access that properly though</p>\n<pre><code>select name, array_agg(sal) as sals\nfrom the_table\ngroup by name;\n</code></pre>\n"}],"owner":{"account_id":22124145,"reputation":137,"user_id":16376831,"display_name":"Unknown Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652525509,"creation_date":1652522359,"question_id":72239131,"body_markdown":"I am using postgres DB and i have table with two column `name` and `sal` . \r\n\r\n       name       Sal\r\n      Raunak\t 10000\r\n      Raunak\t 5000\r\n      Rahul\t     500\r\n      Raunak\t 300\r\n   \r\nAnd i want \r\n     \r\n    Raunak 10000,5000,300\r\n    Rahul  500\r\n\r\ni am using JPA is there any way to get in JPA data ","title":"Distinct and List of other column in postgresql","body":"<p>I am using postgres DB and i have table with two column <code>name</code> and <code>sal</code> .</p>\n<pre><code>   name       Sal\n  Raunak     10000\n  Raunak     5000\n  Rahul      500\n  Raunak     300\n</code></pre>\n<p>And i want</p>\n<pre><code>Raunak 10000,5000,300\nRahul  500\n</code></pre>\n<p>i am using JPA is there any way to get in JPA data</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1652518339,"post_id":72238640,"comment_id":127629249,"body_markdown":"the error line isn&#39;t in the code so ?","body":"the error line isn&#39;t in the code so ?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652518701,"creation_date":1652518400,"answer_id":72238697,"question_id":72238640,"body_markdown":"The `printTable` method returns a `double` so you may save it in a double, or explicitly cast it\r\n\r\n\r\n    double zeile = Programm.printTable(10.0, 1000.0, 50);\r\n\r\n    int zeile = (int) Programm.printTable(10.0, 1000.0, 50);\r\n\r\n---\r\nThen, your conversion methods don&#39;t need any cast\r\n\r\n    public static double km2meilen(double entfernung) {\r\n        return entfernung / 1.852;\r\n    }\r\n    public static double meilen2km(double entfernung) {\r\n        return entfernung * 1.852;\r\n    }\r\n\r\nAnd your `printTable` doesn&#39;t define `x` where it should, and doesn&#39;t return it where it should, and has useless casting too\r\n\r\n    public static double printTable(double start, double end, double step) {\r\n        System.out.printf(&quot;\\n%10s %10s %10s %10s&quot;, &quot;km&quot;, &quot;Seemeilen&quot;, &quot;Seemeilen&quot;, &quot;km&quot;);\r\n        double y = 0.0;\r\n        double x = 0.0;\r\n        for (; start &lt;= end; start += step) {\r\n            System.out.printf(&quot;\\n%10.2f %10.2f %10.2f %10.2f&quot;, start, km2meilen(start), start, meilen2km(start));\r\n            x = x + 1.0;\r\n        }\r\n        return x;\r\n    }\r\n\r\n\r\n```\r\n        km  Seemeilen  Seemeilen         km\r\n     10,00       5,40      10,00      18,52\r\n     60,00      32,40      60,00     111,12\r\n    110,00      59,40     110,00     203,72\r\n    160,00      86,39     160,00     296,32\r\n    210,00     113,39     210,00     388,92\r\n    260,00     140,39     260,00     481,52\r\n    310,00     167,39     310,00     574,12\r\n    360,00     194,38     360,00     666,72\r\n    410,00     221,38     410,00     759,32\r\n    460,00     248,38     460,00     851,92\r\n    510,00     275,38     510,00     944,52\r\n    560,00     302,38     560,00    1037,12\r\n    610,00     329,37     610,00    1129,72\r\n    660,00     356,37     660,00    1222,32\r\n    710,00     383,37     710,00    1314,92\r\n    760,00     410,37     760,00    1407,52\r\n    810,00     437,37     810,00    1500,12\r\n    860,00     464,36     860,00    1592,72\r\n    910,00     491,36     910,00    1685,32\r\n    960,00     518,36     960,00    1777,92\r\n```","title":"Error: incompatible types: possible lossy conversion from double to in","body":"<p>The <code>printTable</code> method returns a <code>double</code> so you may save it in a double, or explicitly cast it</p>\n<pre><code>double zeile = Programm.printTable(10.0, 1000.0, 50);\n\nint zeile = (int) Programm.printTable(10.0, 1000.0, 50);\n</code></pre>\n<hr />\n<p>Then, your conversion methods don't need any cast</p>\n<pre><code>public static double km2meilen(double entfernung) {\n    return entfernung / 1.852;\n}\npublic static double meilen2km(double entfernung) {\n    return entfernung * 1.852;\n}\n</code></pre>\n<p>And your <code>printTable</code> doesn't define <code>x</code> where it should, and doesn't return it where it should, and has useless casting too</p>\n<pre><code>public static double printTable(double start, double end, double step) {\n    System.out.printf(&quot;\\n%10s %10s %10s %10s&quot;, &quot;km&quot;, &quot;Seemeilen&quot;, &quot;Seemeilen&quot;, &quot;km&quot;);\n    double y = 0.0;\n    double x = 0.0;\n    for (; start &lt;= end; start += step) {\n        System.out.printf(&quot;\\n%10.2f %10.2f %10.2f %10.2f&quot;, start, km2meilen(start), start, meilen2km(start));\n        x = x + 1.0;\n    }\n    return x;\n}\n</code></pre>\n<pre><code>        km  Seemeilen  Seemeilen         km\n     10,00       5,40      10,00      18,52\n     60,00      32,40      60,00     111,12\n    110,00      59,40     110,00     203,72\n    160,00      86,39     160,00     296,32\n    210,00     113,39     210,00     388,92\n    260,00     140,39     260,00     481,52\n    310,00     167,39     310,00     574,12\n    360,00     194,38     360,00     666,72\n    410,00     221,38     410,00     759,32\n    460,00     248,38     460,00     851,92\n    510,00     275,38     510,00     944,52\n    560,00     302,38     560,00    1037,12\n    610,00     329,37     610,00    1129,72\n    660,00     356,37     660,00    1222,32\n    710,00     383,37     710,00    1314,92\n    760,00     410,37     760,00    1407,52\n    810,00     437,37     810,00    1500,12\n    860,00     464,36     860,00    1592,72\n    910,00     491,36     910,00    1685,32\n    960,00     518,36     960,00    1777,92\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652519108,"creation_date":1652518527,"answer_id":72238709,"question_id":72238640,"body_markdown":"Conversion might be issue, you can type case it as mentioned below , moreover, `printTable` is giving compilation error, you might need to put `return ` outside of for loop.\r\n\r\n    int zeile = (int)Programm.printTable(10.0, 1000.0, 50);","title":"Error: incompatible types: possible lossy conversion from double to in","body":"<p>Conversion might be issue, you can type case it as mentioned below , moreover, <code>printTable</code> is giving compilation error, you might need to put <code>return </code> outside of for loop.</p>\n<pre><code>int zeile = (int)Programm.printTable(10.0, 1000.0, 50);\n</code></pre>\n"}],"owner":{"display_name":"user18906827"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652524352,"answer_count":2,"score":0,"last_activity_date":1652525454,"creation_date":1652517913,"question_id":72238640,"body_markdown":"I&#39;m trying to print the start value with the conversion but I&#39;m getting this error: \r\n\r\n```none\r\nerror: incompatible types: possible lossy conversion from double to int\r\n\t\tint zeile = Programm.printTable(10.0, 1000.0, 50);\r\n```\r\n\r\nThis is my code\r\n\r\n```java\r\npublic class miles {\r\n    \r\n    public static double km2meilen(double entfernung) {\r\n        return (entfernung / 1.852);\r\n    }\r\n\r\n    public static double meilen2km(double entfernung) {\r\n        return ((double) entfernung * 1.852);\r\n    }\r\n\r\n    public static double printTable(double start, double end, double step) {\r\n        System.out.printf(&quot;\\n km Seemeilen Seemeilen km&quot;);\r\n        double y = 0.0;\r\n        for (; start &lt;= end; start += end) {\r\n            double x = 0.0;\r\n            System.out.printf(&quot;\\n%10.2f %10.2f %10.2f %10.2f&quot;, (double) start, (double) km2meilen(start), (double) start, (double) meilen2km(start));\r\n            x = x + 1.0;\r\n            return x;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        printTable(0.0, 50.0, 1000.0);\r\n    }\r\n}\r\n```","title":"Error: incompatible types: possible lossy conversion from double to in","body":"<p>I'm trying to print the start value with the conversion but I'm getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: incompatible types: possible lossy conversion from double to int\n        int zeile = Programm.printTable(10.0, 1000.0, 50);\n</code></pre>\n<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class miles {\n    \n    public static double km2meilen(double entfernung) {\n        return (entfernung / 1.852);\n    }\n\n    public static double meilen2km(double entfernung) {\n        return ((double) entfernung * 1.852);\n    }\n\n    public static double printTable(double start, double end, double step) {\n        System.out.printf(&quot;\\n km Seemeilen Seemeilen km&quot;);\n        double y = 0.0;\n        for (; start &lt;= end; start += end) {\n            double x = 0.0;\n            System.out.printf(&quot;\\n%10.2f %10.2f %10.2f %10.2f&quot;, (double) start, (double) km2meilen(start), (double) start, (double) meilen2km(start));\n            x = x + 1.0;\n            return x;\n        }\n    }\n\n    public static void main(String[] args) {\n        printTable(0.0, 50.0, 1000.0);\n    }\n}\n</code></pre>\n"},{"tags":["java","geometry","geometry-surface","drone.io","photogrammetry"],"comments":[{"owner":{"display_name":"user3235832"},"score":0,"creation_date":1467215172,"post_id":38099915,"comment_id":63642397,"body_markdown":"What do you mean the coordinates of the corners? Do you mean in the focal / projection plane of the camera, or the four corners on the ground as in the question? If you mean the latter it&#39;s still possible, but it may be more efficient to user a vector-based approach","body":"What do you mean the coordinates of the corners? Do you mean in the focal / projection plane of the camera, or the four corners on the ground as in the question? If you mean the latter it&#39;s still possible, but it may be more efficient to user a vector-based approach"},{"owner":{"account_id":8727005,"reputation":416,"user_id":6528363,"display_name":"Milan Zelenka"},"score":0,"creation_date":1467216111,"post_id":38099915,"comment_id":63643080,"body_markdown":"Yes I mean the four corners on the ground defining a trapezoid. Are you implying I should be looking for the intersections of four &quot;rays&quot; coming from the camera with the ground?","body":"Yes I mean the four corners on the ground defining a trapezoid. Are you implying I should be looking for the intersections of four &quot;rays&quot; coming from the camera with the ground?"},{"owner":{"display_name":"user3235832"},"score":0,"creation_date":1467216387,"post_id":38099915,"comment_id":63643262,"body_markdown":"yes, you should calculate those and do a standard ray-plane intersection test. if you were to try to do it using trig functions as in the link you gave... well, good luck.","body":"yes, you should calculate those and do a standard ray-plane intersection test. if you were to try to do it using trig functions as in the link you gave... well, good luck."},{"owner":{"display_name":"user3235832"},"score":0,"creation_date":1467224627,"post_id":38099915,"comment_id":63648372,"body_markdown":"just making sure - what are your parameters of rotation? pitch, yaw, roll?","body":"just making sure - what are your parameters of rotation? pitch, yaw, roll?"},{"owner":{"account_id":8727005,"reputation":416,"user_id":6528363,"display_name":"Milan Zelenka"},"score":0,"creation_date":1467237777,"post_id":38099915,"comment_id":63655088,"body_markdown":"Yes but basically I just need pitch and roll.","body":"Yes but basically I just need pitch and roll."}],"answers":[{"tags":[],"owner":{"display_name":"user3235832"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1467240616,"creation_date":1467240616,"answer_id":38111290,"question_id":38099915,"body_markdown":"If you have rotations in all three axes then you can use these matrices - http://planning.cs.uiuc.edu/node102.html - to construct a full (3x3) rotation matrix for your camera.\r\n\r\nAssuming that, when the rotation matrix is an identity (i.e. in the camera&#39;s frame) you have defined the camera&#39;s axes to be:\r\n\r\n- X axis for front\r\n- Y for side (left)\r\n- Z for up\r\n\r\nIn the camera frame, the rays have directions:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCalculate these directions and rotate them using the matrix to get the real-world axes. Use the camera&#39;s real world coordinate as the source.\r\n\r\nTo calculate the points on the ground: https://www.cs.princeton.edu/courses/archive/fall00/cs426/lectures/raycast/sld017.htm\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/t2GaB.gif","title":"Calculating coordinates of an oblique aerial image","body":"<p>If you have rotations in all three axes then you can use these matrices - <a href=\"http://planning.cs.uiuc.edu/node102.html\" rel=\"nofollow noreferrer\">http://planning.cs.uiuc.edu/node102.html</a> - to construct a full (3x3) rotation matrix for your camera.</p>\n\n<p>Assuming that, when the rotation matrix is an identity (i.e. in the camera's frame) you have defined the camera's axes to be:</p>\n\n<ul>\n<li>X axis for front</li>\n<li>Y for side (left)</li>\n<li>Z for up</li>\n</ul>\n\n<p>In the camera frame, the rays have directions:</p>\n\n<p><a href=\"https://i.stack.imgur.com/t2GaB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2GaB.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Calculate these directions and rotate them using the matrix to get the real-world axes. Use the camera's real world coordinate as the source.</p>\n\n<p>To calculate the points on the ground: <a href=\"https://www.cs.princeton.edu/courses/archive/fall00/cs426/lectures/raycast/sld017.htm\" rel=\"nofollow noreferrer\">https://www.cs.princeton.edu/courses/archive/fall00/cs426/lectures/raycast/sld017.htm</a></p>\n"}],"owner":{"account_id":8727005,"reputation":416,"user_id":6528363,"display_name":"Milan Zelenka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3654,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38111290,"answer_count":1,"score":3,"last_activity_date":1652525267,"creation_date":1467204159,"question_id":38099915,"body_markdown":"I am using a GoPro HERO 4 on a drone to capture images that need to be georeferenced. Ideally I need coordinates of the captured image&#39;s corners relative to the drone.\r\n\r\nI have the camera&#39;s:\r\n\r\n 1. Altitude\r\n 2. Horizontal and vertical field of view\r\n 3. Rotation in all 3 axes\r\n\r\nI have found a couple of solutions but I can&#39;t quite translate them for my purposes. The closest one I found is here https://photo.stackexchange.com/questions/56596/how-do-i-calculate-the-ground-footprint-of-an-aerial-camera but I can&#39;t figure out how and if it&#39;s possible for me to use it. Particularly when I have to take both pitch and roll into account.\r\n\r\nThanks for any help I get.\r\n\r\nEdit: I code my software in Java.","title":"Calculating coordinates of an oblique aerial image","body":"<p>I am using a GoPro HERO 4 on a drone to capture images that need to be georeferenced. Ideally I need coordinates of the captured image's corners relative to the drone.</p>\n\n<p>I have the camera's:</p>\n\n<ol>\n<li>Altitude</li>\n<li>Horizontal and vertical field of view</li>\n<li>Rotation in all 3 axes</li>\n</ol>\n\n<p>I have found a couple of solutions but I can't quite translate them for my purposes. The closest one I found is here <a href=\"https://photo.stackexchange.com/questions/56596/how-do-i-calculate-the-ground-footprint-of-an-aerial-camera\">https://photo.stackexchange.com/questions/56596/how-do-i-calculate-the-ground-footprint-of-an-aerial-camera</a> but I can't figure out how and if it's possible for me to use it. Particularly when I have to take both pitch and roll into account.</p>\n\n<p>Thanks for any help I get.</p>\n\n<p>Edit: I code my software in Java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1652499242,"post_id":72237133,"comment_id":127626924,"body_markdown":"[Anonymous Classes - The Java™ Tutorials](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous Classes - The Java™ Tutorials</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1652500195,"post_id":72237133,"comment_id":127627005,"body_markdown":"Oh, and the more modern way to write that would be `Collections.sort(winners, Comparator.comparing(List::size));`","body":"Oh, and the more modern way to write that would be <code>Collections.sort(winners, Comparator.comparing(List::size));</code>"},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652520612,"post_id":72237133,"comment_id":127629586,"body_markdown":"this is not the result the above code expects.  this default behavior will cause the minimum sized List put in the front.","body":"this is not the result the above code expects.  this default behavior will cause the minimum sized List put in the front."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1652525348,"post_id":72237133,"comment_id":127630371,"body_markdown":"@ElliottFrisch `Comparator.comparingInt(List::size)` would be right.","body":"@ElliottFrisch <code>Comparator.comparingInt(List::size)</code> would be right."},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652659875,"post_id":72237133,"comment_id":127652857,"body_markdown":"Did you really test between:\nCollections.sort(winners, new Comparator&lt;List&lt;String&gt;&gt;() {\n    public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\n        return o2.size() - o1.size();\n    }});\nand:\nComparator.comparingInt(List::size)","body":"Did you really test between: Collections.sort(winners, new Comparator&lt;List&lt;String&gt;&gt;() {     public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {         return o2.size() - o1.size();     }}); and: Comparator.comparingInt(List::size)"}],"owner":{"account_id":19110651,"reputation":353,"user_id":13956730,"display_name":"pwasoutside"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652525202,"answer_count":0,"score":0,"last_activity_date":1652525234,"creation_date":1652499063,"question_id":72237133,"body_markdown":"Can someone please explain to me how this code works? Specifically, the `new Comparator` part? It looks like a class definition that&#39;s being immediately instantiated. Thank you.\r\n\r\n```java\r\n// Make a List of all anagram groups above size threshold.\r\nList&lt;List&lt;String&gt;&gt; winners = new ArrayList&lt;List&lt;String&gt;&gt;();\r\nfor (List&lt;String&gt; l : m.values())\r\n    if (l.size() &gt;= minGroupSize)\r\n        winners.add(l);\r\n\r\n// Sort anagram groups according to size\r\nCollections.sort(winners, new Comparator&lt;List&lt;String&gt;&gt;() {\r\n    public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\r\n        return o2.size() - o1.size();\r\n    }});\r\n\r\n// Print anagram groups.\r\nfor (List&lt;String&gt; l : winners)\r\n    System.out.println(l.size() + &quot;: &quot; + l);\r\n\r\n```","title":"Java immediately instantiated class","body":"<p>Can someone please explain to me how this code works? Specifically, the <code>new Comparator</code> part? It looks like a class definition that's being immediately instantiated. Thank you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Make a List of all anagram groups above size threshold.\nList&lt;List&lt;String&gt;&gt; winners = new ArrayList&lt;List&lt;String&gt;&gt;();\nfor (List&lt;String&gt; l : m.values())\n    if (l.size() &gt;= minGroupSize)\n        winners.add(l);\n\n// Sort anagram groups according to size\nCollections.sort(winners, new Comparator&lt;List&lt;String&gt;&gt;() {\n    public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\n        return o2.size() - o1.size();\n    }});\n\n// Print anagram groups.\nfor (List&lt;String&gt; l : winners)\n    System.out.println(l.size() + &quot;: &quot; + l);\n\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":21650728,"reputation":1,"user_id":15971415,"display_name":"questioner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652524880,"creation_date":1652524880,"answer_id":72239433,"question_id":71781366,"body_markdown":"Try this changes:\r\n\r\n 1. remove ```@JoinColumn(name = &quot;author_id&quot;)```from ```Author``` and place in ```Tutorial```: &lt;br&gt;\r\n```java\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;author_id&quot;)\r\n    private Author author;\r\n```\r\n\r\n 2. remove ```@JoinColumn(name = &quot;category_id&quot;)```from ```Category``` and place it in ```Tutorial``` as well: &lt;br&gt;\r\n```java \r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private Author author;\r\n```\r\nTo get more information look here: [Baeldung - Hibernate One to Many][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-one-to-many","title":"JPA created too many fields in table","body":"<p>Try this changes:</p>\n<ol>\n<li>remove <code>@JoinColumn(name = &quot;author_id&quot;)</code>from <code>Author</code> and place in <code>Tutorial</code>: <br></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;author_id&quot;)\n    private Author author;\n</code></pre>\n<ol start=\"2\">\n<li>remove <code>@JoinColumn(name = &quot;category_id&quot;)</code>from <code>Category</code> and place it in <code>Tutorial</code> as well: <br></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;category_id&quot;)\n    private Author author;\n</code></pre>\n<p>To get more information look here: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">Baeldung - Hibernate One to Many</a></p>\n"}],"owner":{"account_id":24843679,"reputation":23,"user_id":18721402,"display_name":"User123qaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652524880,"creation_date":1649330952,"question_id":71781366,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h8R7d.png\r\n\r\n\r\n\r\nI am trying to map some entities to tables in MySQL database using Spring Boot JPA. I have a problem with one of the tables because in that one too many foreign keys are added. I highlighted the columns in the picture. I suppose that the problem might be linked with the fact that the Tutorial table has either One to Many or Many to Many relations with the other 3 tables, but I am not sure\r\n\r\n    @Entity(name = &quot;authors&quot;)\r\n    public class Author {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;author_id&quot;)\r\n    private Long authorId;\r\n\r\n    @Column(name = &quot;first_name&quot;, nullable = false, length = 100)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;, nullable = false, length = 100)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;, length = 320, unique = true)\r\n    private String email;\r\n\r\n    @Column(name = &quot;job_title&quot;, length = 255)\r\n    private String jobTitle;\r\n\r\n    @Lob\r\n    @Type(type = &quot;org.hibernate.type.BinaryType&quot;)\r\n    @Column(name = &quot;profile_picture&quot;)\r\n    private byte[] profilePicture;\r\n\r\n    @Column(name = &quot;about&quot;, length = 2000)\r\n    private String about;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;)\r\n    private List&lt;Tutorial&gt; tutorials;\r\n    }\r\n\r\n--------------------------------------------------------------------------\r\n\r\n    @Entity(name = &quot;categories&quot;)\r\n    public class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;category_id&quot;)\r\n    private Long categoryId;\r\n\r\n    @Column(name = &quot;category_name&quot;, nullable = false, unique = true, length = 100)\r\n    private String categoryName;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private List&lt;Tutorial&gt; tutorials;\r\n    }\r\n\r\n------------------------------------\r\n\r\n    @Entity(name = &quot;tutorials&quot;)\r\n    public class Tutorial {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;tutorial_id&quot;)\r\n    private Long tutorialId;\r\n\r\n    @Column(name = &quot;tutorial_title&quot;, nullable = false, length = 150)\r\n    private String tutorialTitle;\r\n\r\n    @Column(name = &quot;tutorial_description&quot;, nullable = false, length = 2000)\r\n    private String tutorialDescription;\r\n\r\n    @Column(name = &quot;time_to_complete&quot;)\r\n    private Integer timeToComplete;\r\n\r\n    @Column(name = &quot;date_published&quot;)\r\n    private Long datePublished;\r\n\r\n    @Column(name = &quot;last_updated&quot;)\r\n    private Long lastUpdated;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            },\r\n            mappedBy = &quot;tutorials&quot;)\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private Category category;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private Author author;\r\n\r\n\r\n    }\r\n\r\nTutorials is the table where the problems appear as 4 foreign keys are generate instead of two\r\n\r\n\r\n\r\n    @Entity(name = &quot;users&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;first_name&quot;, nullable = false, length = 100)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;, nullable = false, length = 100)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;user_name&quot;, nullable = false, unique = true, length = 100)\r\n    private String userName;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n    @Column(name = &quot;email&quot;, length = 320, unique = true)\r\n    private String email;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            })\r\n    @JoinTable(name = &quot;users_tutorials&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;user_id&quot;)  },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;tutorial_id&quot;) })\r\n    private List&lt;Tutorial&gt; tutorials = new ArrayList&lt;&gt;();\r\n\r\n\r\n    }\r\n\r\n","title":"JPA created too many fields in table","body":"<p><a href=\"https://i.stack.imgur.com/h8R7d.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am trying to map some entities to tables in MySQL database using Spring Boot JPA. I have a problem with one of the tables because in that one too many foreign keys are added. I highlighted the columns in the picture. I suppose that the problem might be linked with the fact that the Tutorial table has either One to Many or Many to Many relations with the other 3 tables, but I am not sure</p>\n<pre><code>@Entity(name = &quot;authors&quot;)\npublic class Author {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;author_id&quot;)\nprivate Long authorId;\n\n@Column(name = &quot;first_name&quot;, nullable = false, length = 100)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;, nullable = false, length = 100)\nprivate String lastName;\n\n@Column(name = &quot;email&quot;, length = 320, unique = true)\nprivate String email;\n\n@Column(name = &quot;job_title&quot;, length = 255)\nprivate String jobTitle;\n\n@Lob\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\n@Column(name = &quot;profile_picture&quot;)\nprivate byte[] profilePicture;\n\n@Column(name = &quot;about&quot;, length = 2000)\nprivate String about;\n\n@OneToMany(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;author_id&quot;)\nprivate List&lt;Tutorial&gt; tutorials;\n}\n</code></pre>\n<hr />\n<pre><code>@Entity(name = &quot;categories&quot;)\npublic class Category {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;category_id&quot;)\nprivate Long categoryId;\n\n@Column(name = &quot;category_name&quot;, nullable = false, unique = true, length = 100)\nprivate String categoryName;\n\n@OneToMany(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;category_id&quot;)\nprivate List&lt;Tutorial&gt; tutorials;\n}\n</code></pre>\n<hr />\n<pre><code>@Entity(name = &quot;tutorials&quot;)\npublic class Tutorial {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;tutorial_id&quot;)\nprivate Long tutorialId;\n\n@Column(name = &quot;tutorial_title&quot;, nullable = false, length = 150)\nprivate String tutorialTitle;\n\n@Column(name = &quot;tutorial_description&quot;, nullable = false, length = 2000)\nprivate String tutorialDescription;\n\n@Column(name = &quot;time_to_complete&quot;)\nprivate Integer timeToComplete;\n\n@Column(name = &quot;date_published&quot;)\nprivate Long datePublished;\n\n@Column(name = &quot;last_updated&quot;)\nprivate Long lastUpdated;\n\n@ManyToMany(fetch = FetchType.LAZY,\n        cascade = {\n                CascadeType.PERSIST,\n                CascadeType.MERGE\n        },\n        mappedBy = &quot;tutorials&quot;)\nprivate List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n@ManyToOne(fetch = FetchType.EAGER)\nprivate Category category;\n\n@ManyToOne(fetch = FetchType.EAGER)\nprivate Author author;\n\n\n}\n</code></pre>\n<p>Tutorials is the table where the problems appear as 4 foreign keys are generate instead of two</p>\n<pre><code>@Entity(name = &quot;users&quot;)\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;user_id&quot;)\nprivate Long userId;\n\n@Column(name = &quot;first_name&quot;, nullable = false, length = 100)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;, nullable = false, length = 100)\nprivate String lastName;\n\n@Column(name = &quot;user_name&quot;, nullable = false, unique = true, length = 100)\nprivate String userName;\n\n@Column(name = &quot;age&quot;)\nprivate Integer age;\n\n@Column(name = &quot;email&quot;, length = 320, unique = true)\nprivate String email;\n\n@ManyToMany(fetch = FetchType.LAZY,\n        cascade = {\n                CascadeType.PERSIST,\n                CascadeType.MERGE\n        })\n@JoinTable(name = &quot;users_tutorials&quot;,\n        joinColumns = { @JoinColumn(name = &quot;user_id&quot;)  },\n        inverseJoinColumns = { @JoinColumn(name = &quot;tutorial_id&quot;) })\nprivate List&lt;Tutorial&gt; tutorials = new ArrayList&lt;&gt;();\n\n\n}\n</code></pre>\n"},{"tags":["java","jackson","jackson-dataformat-yaml"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652524312,"creation_date":1651598361,"answer_id":72103149,"question_id":72096203,"body_markdown":"You are very close to the solution, the problem stands in the fact you are using the wrong [`ObjectReader#withRootName`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectReader.html#withRootName-java.lang.String-) method in your code:\r\n\r\n~~~\r\nTargetObject config =\r\n  new ObjectMapper(new YAMLFactory())\r\n      .readerFor(TargetObject.class)\r\n      .withRootName(&quot;company.product&quot;) //&lt;-- here the error\r\n      .readValue(yamlResource.getInputStream());\r\n~~~\r\n\r\nInstead you have to use the [`ObjectReader#at`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectReader.html#at-com.fasterxml.jackson.core.JsonPointer-) method to select the yaml part you are interested with the appropriate `&quot;/company/product&quot;` path to obtain the expected result:\r\n\r\n~~~\r\nTargetObject config = \r\n  new ObjectMapper(new YAMLFactory())\r\n      .readerFor(TargetObject.class)\r\n      .at(&quot;/company/product&quot;) //&lt;--here the new method\r\n      .readValue(yamlResource.getInputStream());\r\n~~~","title":"Deserializing YAML with root name prefix using Jackson","body":"<p>You are very close to the solution, the problem stands in the fact you are using the wrong <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectReader.html#withRootName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ObjectReader#withRootName</code></a> method in your code:</p>\n<pre><code>TargetObject config =\n  new ObjectMapper(new YAMLFactory())\n      .readerFor(TargetObject.class)\n      .withRootName(&quot;company.product&quot;) //&lt;-- here the error\n      .readValue(yamlResource.getInputStream());\n</code></pre>\n<p>Instead you have to use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectReader.html#at-com.fasterxml.jackson.core.JsonPointer-\" rel=\"nofollow noreferrer\"><code>ObjectReader#at</code></a> method to select the yaml part you are interested with the appropriate <code>&quot;/company/product&quot;</code> path to obtain the expected result:</p>\n<pre><code>TargetObject config = \n  new ObjectMapper(new YAMLFactory())\n      .readerFor(TargetObject.class)\n      .at(&quot;/company/product&quot;) //&lt;--here the new method\n      .readValue(yamlResource.getInputStream());\n</code></pre>\n"}],"owner":{"account_id":2830308,"reputation":847,"user_id":2432030,"accept_rate":33,"display_name":"Rokko_11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72103149,"answer_count":1,"score":1,"last_activity_date":1652524312,"creation_date":1651563828,"question_id":72096203,"body_markdown":"I would like to deserialize a YAML file into a Java object using Jackson and jackson-dataformat-yaml.\r\n\r\nThe YAML is\r\n\r\n    company:\r\n      product:\r\n        settings:\r\n          property: value\r\n\r\nThe target class is\r\n\r\n    @Getter @Setter\r\n    public class TargetObject {\r\n      private Map&lt;String, String&gt; settings;\r\n    }\r\n\r\nThe code for deserializing is\r\n\r\n      TargetObject config =\r\n      new ObjectMapper(new YAMLFactory())\r\n          .readerFor(TargetObject.class)\r\n          .withRootName(&quot;company.product&quot;)\r\n          .readValue(yamlResource.getInputStream());\r\n\r\nI get following exception when executing this code:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name (&#39;company&#39;) does not match expected (&#39;company.product&#39;) for type `a.b.c.TargetObject`\r\n\r\nWithout the second nesting &quot;product&quot; everything works. Is there any possibility to solve this issue without touching the YAML? I&#39;ve read about escaping dots as YAML keys like `&quot;[company.product]&quot;`, but sadly that is not an option in my use case.\r\n\r\nRegards, Rokko","title":"Deserializing YAML with root name prefix using Jackson","body":"<p>I would like to deserialize a YAML file into a Java object using Jackson and jackson-dataformat-yaml.</p>\n<p>The YAML is</p>\n<pre><code>company:\n  product:\n    settings:\n      property: value\n</code></pre>\n<p>The target class is</p>\n<pre><code>@Getter @Setter\npublic class TargetObject {\n  private Map&lt;String, String&gt; settings;\n}\n</code></pre>\n<p>The code for deserializing is</p>\n<pre><code>  TargetObject config =\n  new ObjectMapper(new YAMLFactory())\n      .readerFor(TargetObject.class)\n      .withRootName(&quot;company.product&quot;)\n      .readValue(yamlResource.getInputStream());\n</code></pre>\n<p>I get following exception when executing this code:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name ('company') does not match expected ('company.product') for type `a.b.c.TargetObject`\n</code></pre>\n<p>Without the second nesting &quot;product&quot; everything works. Is there any possibility to solve this issue without touching the YAML? I've read about escaping dots as YAML keys like <code>&quot;[company.product]&quot;</code>, but sadly that is not an option in my use case.</p>\n<p>Regards, Rokko</p>\n"},{"tags":["java","loops","break"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1652305007,"post_id":72207779,"comment_id":127577539,"body_markdown":"Remember not to show [pictures of text](/help/how-to-ask), just put the text in your post with appropriate markup. Also, explain the problem in your post: a link to where the exercise can be found is fine but only _in addition_ to explaining the problem in your post. Think of it this way: if the rest of the internet turns into a 404, your post should still make sense.","body":"Remember not to show <a href=\"/help/how-to-ask\">pictures of text</a>, just put the text in your post with appropriate markup. Also, explain the problem in your post: a link to where the exercise can be found is fine but only <i>in addition</i> to explaining the problem in your post. Think of it this way: if the rest of the internet turns into a 404, your post should still make sense."}],"answers":[{"tags":[],"owner":{"display_name":"user13581830"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652305806,"creation_date":1652305806,"answer_id":72207980,"question_id":72207779,"body_markdown":"i think it breaks out of the inner while loop, but not the outer for loop. So the inner while loop runs multiple times. ","title":"Break statement not taking me outside of loop java","body":"<p>i think it breaks out of the inner while loop, but not the outer for loop. So the inner while loop runs multiple times.</p>\n"},{"tags":[],"owner":{"account_id":11239773,"reputation":117,"user_id":8244520,"display_name":"Jukoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652524041,"creation_date":1652306763,"answer_id":72208096,"question_id":72207779,"body_markdown":"## Problems ##\r\n\r\nNormally a `break;` will always break out of the most recent loop. If you can&#39;t break out of your loop, the problem is your algorithm or your condition.\r\n\r\n## Solutions ##\r\n\r\nFirst, always debug to see if you enter your if statement.\r\n\r\nSecond, use something else as condition of your while loop. You could use a boolean and change its value to break the while condition. Ex:\r\n\r\n    boolean hasFoundDuplicate = false;\r\n    while(!hasFoundDuplicate){\r\n        arr[j-1] = (int)Math.floor(arr[j-1]/2);\r\n        after = arr[j-1];\r\n        operations++;\r\n        if(arr[j] == 0 &amp;&amp; arr[j-1] == 0){\r\n            hasFoundDuplicate = true;\r\n        }\r\n    }\r\n                    ","title":"Break statement not taking me outside of loop java","body":"<h2>Problems</h2>\n<p>Normally a <code>break;</code> will always break out of the most recent loop. If you can't break out of your loop, the problem is your algorithm or your condition.</p>\n<h2>Solutions</h2>\n<p>First, always debug to see if you enter your if statement.</p>\n<p>Second, use something else as condition of your while loop. You could use a boolean and change its value to break the while condition. Ex:</p>\n<pre><code>boolean hasFoundDuplicate = false;\nwhile(!hasFoundDuplicate){\n    arr[j-1] = (int)Math.floor(arr[j-1]/2);\n    after = arr[j-1];\n    operations++;\n    if(arr[j] == 0 &amp;&amp; arr[j-1] == 0){\n        hasFoundDuplicate = true;\n    }\n}\n                \n</code></pre>\n"}],"owner":{"account_id":11629653,"reputation":25,"user_id":8518312,"display_name":"Omar Aboutaleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652524041,"creation_date":1652304518,"question_id":72207779,"body_markdown":"I am solving this problem on code forces.\r\nhttps://codeforces.com/contest/1675/problem/B\r\n    \r\nThe `break` statement I have doesn&#39;t break out of the `while` loop.\r\nWhen I use this input:\r\n\r\n[![input][1]][1]\r\n\r\nIt outputs `-1` one twice in the same case, which shows that the `break` statement isn&#39;t taking me outside the loop?\r\n\r\nWhy is this happening?\r\n```\r\npublic class vanita {\r\n    \r\n    public static void main (String[]args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int cases = in.nextInt();\r\n        for (int i = 0; i &lt; cases; i++) {\r\n            boolean test = true;\r\n            int arrLength = in.nextInt();\r\n            int arr[] = new int[arrLength];\r\n            for (int j = 0; j &lt; arrLength; j++) {\r\n                arr[j] = in.nextInt();\r\n            }\r\n            int operations = 0;\r\n            int after;\r\n            for (int j = arrLength-1; j &gt;= 1 ; j--){\r\n                \r\n                after = arr[j-1];\r\n                \r\n                while (arr[j] &lt;= after) {\r\n                    arr[j-1] = (int)Math.floor(arr[j-1]/2);\r\n                    after = arr[j-1];\r\n                    operations++;\r\n                    if (arr[j] == 0 &amp;&amp; arr[j-1] == 0) {\r\n                        //System.out.println(&quot;current: &quot; + arr[j]);\r\n                        //System.out.println(&quot;after: &quot; + arr[j-1]);\r\n                        //System.out.println(&quot;Case &quot; + i);\r\n                        System.out.println(&quot;-1&quot;);\r\n                        test = false;\r\n                        break;\r\n                        \r\n                    }\r\n                }\r\n            }\r\n            for (int s = 0; s &lt; arrLength; s++) {\r\n                //System.out.print(arr[s] + &quot; &quot;);\r\n            }\r\n            //System.out.println(&quot; &quot;);\r\n            if (test == true) {\r\n                System.out.println(operations);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/hv9EW.png","title":"Break statement not taking me outside of loop java","body":"<p>I am solving this problem on code forces.\n<a href=\"https://codeforces.com/contest/1675/problem/B\" rel=\"nofollow noreferrer\">https://codeforces.com/contest/1675/problem/B</a></p>\n<p>The <code>break</code> statement I have doesn't break out of the <code>while</code> loop.\nWhen I use this input:</p>\n<p><a href=\"https://i.stack.imgur.com/hv9EW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hv9EW.png\" alt=\"input\" /></a></p>\n<p>It outputs <code>-1</code> one twice in the same case, which shows that the <code>break</code> statement isn't taking me outside the loop?</p>\n<p>Why is this happening?</p>\n<pre><code>public class vanita {\n    \n    public static void main (String[]args) {\n        Scanner in = new Scanner(System.in);\n        int cases = in.nextInt();\n        for (int i = 0; i &lt; cases; i++) {\n            boolean test = true;\n            int arrLength = in.nextInt();\n            int arr[] = new int[arrLength];\n            for (int j = 0; j &lt; arrLength; j++) {\n                arr[j] = in.nextInt();\n            }\n            int operations = 0;\n            int after;\n            for (int j = arrLength-1; j &gt;= 1 ; j--){\n                \n                after = arr[j-1];\n                \n                while (arr[j] &lt;= after) {\n                    arr[j-1] = (int)Math.floor(arr[j-1]/2);\n                    after = arr[j-1];\n                    operations++;\n                    if (arr[j] == 0 &amp;&amp; arr[j-1] == 0) {\n                        //System.out.println(&quot;current: &quot; + arr[j]);\n                        //System.out.println(&quot;after: &quot; + arr[j-1]);\n                        //System.out.println(&quot;Case &quot; + i);\n                        System.out.println(&quot;-1&quot;);\n                        test = false;\n                        break;\n                        \n                    }\n                }\n            }\n            for (int s = 0; s &lt; arrLength; s++) {\n                //System.out.print(arr[s] + &quot; &quot;);\n            }\n            //System.out.println(&quot; &quot;);\n            if (test == true) {\n                System.out.println(operations);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","java-8","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1651530045,"post_id":72092936,"comment_id":127382173,"body_markdown":"I doubt it&#39;s possible in one stream.","body":"I doubt it&#39;s possible in one stream."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651530097,"post_id":72092936,"comment_id":127382182,"body_markdown":"Do you have an actual POJO that represents a row form the database table?","body":"Do you have an actual POJO that represents a row form the database table?"},{"owner":{"account_id":8053941,"reputation":157,"user_id":6071651,"accept_rate":83,"display_name":"Khiem"},"score":0,"creation_date":1651530260,"post_id":72092936,"comment_id":127382209,"body_markdown":"@Turing85 i edited the post with a POJO.","body":"@Turing85 i edited the post with a POJO."},{"owner":{"account_id":8053941,"reputation":157,"user_id":6071651,"accept_rate":83,"display_name":"Khiem"},"score":0,"creation_date":1651530291,"post_id":72092936,"comment_id":127382215,"body_markdown":"@shmosel Oh... Maybe in multiple streams then?","body":"@shmosel Oh... Maybe in multiple streams then?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1651530330,"post_id":72092936,"comment_id":127382221,"body_markdown":"It&#39;s much harder to solve this problem with streams than without them.  Your existing implementation is likely better.","body":"It&#39;s much harder to solve this problem with streams than without them.  Your existing implementation is likely better."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651613016,"creation_date":1651531500,"answer_id":72093137,"question_id":72092936,"body_markdown":"One possibility to do what we want is to \r\n- collect all results in some `Collection&lt;ExampleData&gt;`,\r\n- construct a [`TreeSet&lt;ExampleData&gt;` with a suiting `Comparator&lt;? super ExampleData&gt;`][treeSetConstructorApi] such that duplicates wrt. our specification are &quot;equal&quot; (they will be automatically filtered out by the set), and\r\n- add all elements from the `Collection` to the `TreeSet`.\r\n\r\nA stream-based implementation may look like this:\r\n\r\n    final TreeSet&lt;ExampleObject&gt; deduped = objects.stream()\r\n        .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(\r\n            Comparator.comparing(ExampleObject::getName)\r\n                .thenComparing(ExampleObject::getValue))));\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][ideone]\r\n\r\nIf we do not like the stream-based approach, we can also solve this with a &quot;traditional&quot;, imperative approach:\r\n\r\n    final TreeSet&lt;ExampleObject&gt; deduped = new TreeSet&lt;&gt;(\r\n            Comparator.comparing(ExampleObject::getName)\r\n                .thenComparing(ExampleObject::getValue));\r\n    deduped.addAll(objects);\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][idetwo]\r\n\r\n---\r\n\r\nA word on performance:\r\n\r\nThe deduplication does not come &quot;for free&quot;. In the solution provided, we pay for it with execution time. `TreeSet` is an ordered data structure, thus each insert has time complexity `O(log(n))`. It then follows that constructing a set of size `n`  has time complexity `O(n log(n))`.\r\n\r\n[treeSetConstructorApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Comparator)\r\n\r\n[ideone]: https://ideone.com/IE7qOz\r\n\r\n[idetwo]: https://ideone.com/N6d8aM","title":"How to remove Duplicated elements from a List based on Two properties using Java 8 streams?","body":"<p>One possibility to do what we want is to</p>\n<ul>\n<li>collect all results in some <code>Collection&lt;ExampleData&gt;</code>,</li>\n<li>construct a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>TreeSet&lt;ExampleData&gt;</code> with a suiting <code>Comparator&lt;? super ExampleData&gt;</code></a> such that duplicates wrt. our specification are &quot;equal&quot; (they will be automatically filtered out by the set), and</li>\n<li>add all elements from the <code>Collection</code> to the <code>TreeSet</code>.</li>\n</ul>\n<p>A stream-based implementation may look like this:</p>\n<pre><code>final TreeSet&lt;ExampleObject&gt; deduped = objects.stream()\n    .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(\n        Comparator.comparing(ExampleObject::getName)\n            .thenComparing(ExampleObject::getValue))));\n</code></pre>\n<p><a href=\"https://ideone.com/IE7qOz\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>If we do not like the stream-based approach, we can also solve this with a &quot;traditional&quot;, imperative approach:</p>\n<pre><code>final TreeSet&lt;ExampleObject&gt; deduped = new TreeSet&lt;&gt;(\n        Comparator.comparing(ExampleObject::getName)\n            .thenComparing(ExampleObject::getValue));\ndeduped.addAll(objects);\n</code></pre>\n<p><a href=\"https://ideone.com/N6d8aM\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<hr />\n<p>A word on performance:</p>\n<p>The deduplication does not come &quot;for free&quot;. In the solution provided, we pay for it with execution time. <code>TreeSet</code> is an ordered data structure, thus each insert has time complexity <code>O(log(n))</code>. It then follows that constructing a set of size <code>n</code>  has time complexity <code>O(n log(n))</code>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652523962,"creation_date":1652499618,"answer_id":72237173,"question_id":72092936,"body_markdown":"&gt; remove all the duplicate records with the **same name and having value** == `null`. So in this case, it should remove records with ID `3`, `4`, and `7`\r\n\r\nIf I understood your goal correctly, you want to remove only elements having a `value` of `null` if there&#39;s at least one more element that has the same `name`.\r\n\r\nMeanwhile, all elements with *non-null* `value` regarding of their name should not be discarded (*therefore elements with* `id` *of* `2` *and* `6` *in your example should be preserved; and if this assumption is not correct, this behavior of the implementation below can be easily changed*).\r\n\r\nAlso, if there&#39;s only one element in a list with a particular `name` and a value of `null`. This assumption is based on pure logic: such element can not be considered as a duplicate because it&#39;s `name` attribute is unique.\r\n\r\n&lt;h3&gt;Collector description&lt;/h3&gt;\r\n\r\nIn order to achieve this, I&#39;ve written a custom collector that can be vaguely compared with `Collectors.groupingBy`. \r\n\r\nIts purpose is to create a *map* in which *keys* will be generated by the given `keyExtractor` *function*, and *values* will be represented with the `Deque` of elements (*this data type was chosen in order to facilitate the convenient access to the most recently added element*).\r\n\r\nThe process of populating each *deque* (*which basically is used as a Stack data structure*) will be governed with the provided *predicate*.\r\n\r\nSo in short, the overall idea is that all elements having a particular `name` should be placed into a separate *stack* and control the values of elements that are being added onto the *stack*.\r\n\r\nIn order to make the method responsible for creation of the collector to be uniform and reusable, it utilizes generics and expects two parameters mentioned above: a *function* and a *predicate*. \r\n\r\nAn auxiliary map generated by this collector will what the following structure `Map&lt;String,Deque&lt;ExampleObject&gt;&gt;`. After the intermediate map was created, to obtain the final result its values will be combined together and stored in a list.\r\n\r\n&lt;h3&gt;How to create a Collector&lt;/h3&gt;\r\n\r\nTo create a *custom collector*, you can utilize the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)) which expects the following arguments:\r\n\r\n* **Supplier** `Supplier&lt;A&gt;` is meant to provide a *mutable container* which store elements of the stream. In this case, `HashMap` will be used as a container.\r\n* **Accumulator** `BiConsumer&lt;A,T&gt;` defines how to add elements into the *mutable container* provided by the *supplier*. This functionality was extracted into a separate method `tryAdd()` which will create a new `ArrayDeque` if the given key isn&#39;t present in the map. And depending on the state of the *stack* it might discard the provided *element* or (*and*) remove the element from the top of the *stack*.\r\n* **Combiner** `BinaryOperator&lt;A&gt; combiner()` establishes a rule on how to merge two *containers* obtained while executing stream in parallel. Here, combiner rely on the same logic that was described for accumulator.\r\n* **Finisher** `Function&lt;A,R&gt;` is meant to produce the *final result* by transforming the *mutable container*. The *finisher* of this collector dumps all the values of the *intermediate map* into a stream and creates a resulting *list*.\r\n* **Characteristics** allow fine-tuning the collector by providing additional information on how it should function. Here a characteristic `Collector.Characteristics.UNORDERED` is being applied. Which indicates that the order in which partial results of the reduction produced in parallel is not significant, that can improve performance of this collector with parallel streams.\r\n\r\n&lt;h3&gt;Implementation&lt;/h3&gt;\r\n\r\nThe code might look like this:\r\n\r\n    public static &lt;T, U&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; toFilteredList(Function&lt;T, U&gt; keyExtractor,\r\n                                                                 Predicate&lt;T&gt; condition) {\r\n        return Collector.of(\r\n            HashMap::new,\r\n            (Map&lt;U, Deque&lt;T&gt;&gt; map, T next) -&gt; tryAdd(map, next, keyExtractor, condition),\r\n            (left, right) -&gt; merge(left, right, keyExtractor, condition),\r\n            map -&gt; map.values().stream().flatMap(Deque::stream).toList(),\r\n            Collector.Characteristics.UNORDERED);\r\n    }\r\n    \r\n    public static &lt;T, U&gt; void tryAdd(Map&lt;U, Deque&lt;T&gt;&gt; map, T next,\r\n                                     Function&lt;T, U&gt; keyExtractor,\r\n                                     Predicate&lt;T&gt; condition) {\r\n        \r\n        Deque&lt;T&gt; stack = map.computeIfAbsent(keyExtractor.apply(next), k -&gt; new ArrayDeque&lt;&gt;());\r\n        \r\n        if      (!stack.isEmpty() &amp;&amp; condition.test(stack.peek()))  stack.pop();      // stack is not empty and element on the top has a value of null\r\n        else if (stack.isEmpty() || condition.negate().test(next))  stack.push(next); // stack is empty - then any element could be added, or new element has a non-null value\r\n    }\r\n    \r\n    public static &lt;T, U&gt; Map&lt;U, Deque&lt;T&gt;&gt; merge(Map&lt;U, Deque&lt;T&gt;&gt; left, Map&lt;U, Deque&lt;T&gt;&gt; right,\r\n                                                Function&lt;T, U&gt; keyExtractor,\r\n                                                Predicate&lt;T&gt; condition) {\r\n        \r\n        right.forEach((k, v) -&gt; v.forEach(next -&gt; tryAdd(left, next, keyExtractor, condition)));\r\n        \r\n        return left;\r\n    }\r\n\r\n`main()` - demo (*the code of dummy* `ExampleObject` *class is not shown*)\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;ExampleObject&gt; list =\r\n            List.of(new ExampleObject(1, &quot;Real Name&quot;, &quot;Real Value&quot;),\r\n                new ExampleObject(2, &quot;Duplicate Name&quot;, &quot;Real Value&quot;),\r\n                new ExampleObject(3, &quot;Duplicate Name&quot;, null),\r\n                new ExampleObject(4, &quot;Duplicate Name&quot;, null),\r\n                new ExampleObject(5, &quot;Real Name 2&quot;, &quot;Real Value 2&quot;),\r\n                new ExampleObject(6, &quot;Duplicate Name 2&quot;, &quot;Real Value&quot;),\r\n                new ExampleObject(7, &quot;Duplicate Name 2&quot;, null));\r\n    \r\n        List&lt;ExampleObject&gt; result = list.stream()\r\n            .collect(toFilteredList(ExampleObject::getName, // the key of the auxiliary map\r\n                                    exampleObject -&gt; exampleObject.getValue() == null)); // condition to determine an element to discard\r\n    \r\n        result.forEach(System.out::println);\r\n    }\r\n\r\n*Output* (*elements with ID* `3`, `4`, *and* `7` *were discarded as required*)\r\n```\r\nExampleObject{id=6, name=&#39;Duplicate Name 2&#39;, value=&#39;Real Value&#39;}\r\nExampleObject{id=2, name=&#39;Duplicate Name&#39;, value=&#39;Real Value&#39;}\r\nExampleObject{id=5, name=&#39;Real Name 2&#39;, value=&#39;Real Value 2&#39;}\r\nExampleObject{id=1, name=&#39;Real Name&#39;, value=&#39;Real Value&#39;}\r\n```","title":"How to remove Duplicated elements from a List based on Two properties using Java 8 streams?","body":"<blockquote>\n<p>remove all the duplicate records with the <strong>same name and having value</strong> == <code>null</code>. So in this case, it should remove records with ID <code>3</code>, <code>4</code>, and <code>7</code></p>\n</blockquote>\n<p>If I understood your goal correctly, you want to remove only elements having a <code>value</code> of <code>null</code> if there's at least one more element that has the same <code>name</code>.</p>\n<p>Meanwhile, all elements with <em>non-null</em> <code>value</code> regarding of their name should not be discarded (<em>therefore elements with</em> <code>id</code> <em>of</em> <code>2</code> <em>and</em> <code>6</code> <em>in your example should be preserved; and if this assumption is not correct, this behavior of the implementation below can be easily changed</em>).</p>\n<p>Also, if there's only one element in a list with a particular <code>name</code> and a value of <code>null</code>. This assumption is based on pure logic: such element can not be considered as a duplicate because it's <code>name</code> attribute is unique.</p>\n<h3>Collector description</h3>\n<p>In order to achieve this, I've written a custom collector that can be vaguely compared with <code>Collectors.groupingBy</code>.</p>\n<p>Its purpose is to create a <em>map</em> in which <em>keys</em> will be generated by the given <code>keyExtractor</code> <em>function</em>, and <em>values</em> will be represented with the <code>Deque</code> of elements (<em>this data type was chosen in order to facilitate the convenient access to the most recently added element</em>).</p>\n<p>The process of populating each <em>deque</em> (<em>which basically is used as a Stack data structure</em>) will be governed with the provided <em>predicate</em>.</p>\n<p>So in short, the overall idea is that all elements having a particular <code>name</code> should be placed into a separate <em>stack</em> and control the values of elements that are being added onto the <em>stack</em>.</p>\n<p>In order to make the method responsible for creation of the collector to be uniform and reusable, it utilizes generics and expects two parameters mentioned above: a <em>function</em> and a <em>predicate</em>.</p>\n<p>An auxiliary map generated by this collector will what the following structure <code>Map&lt;String,Deque&lt;ExampleObject&gt;&gt;</code>. After the intermediate map was created, to obtain the final result its values will be combined together and stored in a list.</p>\n<h3>How to create a Collector</h3>\n<p>To create a <em>custom collector</em>, you can utilize the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> which expects the following arguments:</p>\n<ul>\n<li><strong>Supplier</strong> <code>Supplier&lt;A&gt;</code> is meant to provide a <em>mutable container</em> which store elements of the stream. In this case, <code>HashMap</code> will be used as a container.</li>\n<li><strong>Accumulator</strong> <code>BiConsumer&lt;A,T&gt;</code> defines how to add elements into the <em>mutable container</em> provided by the <em>supplier</em>. This functionality was extracted into a separate method <code>tryAdd()</code> which will create a new <code>ArrayDeque</code> if the given key isn't present in the map. And depending on the state of the <em>stack</em> it might discard the provided <em>element</em> or (<em>and</em>) remove the element from the top of the <em>stack</em>.</li>\n<li><strong>Combiner</strong> <code>BinaryOperator&lt;A&gt; combiner()</code> establishes a rule on how to merge two <em>containers</em> obtained while executing stream in parallel. Here, combiner rely on the same logic that was described for accumulator.</li>\n<li><strong>Finisher</strong> <code>Function&lt;A,R&gt;</code> is meant to produce the <em>final result</em> by transforming the <em>mutable container</em>. The <em>finisher</em> of this collector dumps all the values of the <em>intermediate map</em> into a stream and creates a resulting <em>list</em>.</li>\n<li><strong>Characteristics</strong> allow fine-tuning the collector by providing additional information on how it should function. Here a characteristic <code>Collector.Characteristics.UNORDERED</code> is being applied. Which indicates that the order in which partial results of the reduction produced in parallel is not significant, that can improve performance of this collector with parallel streams.</li>\n</ul>\n<h3>Implementation</h3>\n<p>The code might look like this:</p>\n<pre><code>public static &lt;T, U&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; toFilteredList(Function&lt;T, U&gt; keyExtractor,\n                                                             Predicate&lt;T&gt; condition) {\n    return Collector.of(\n        HashMap::new,\n        (Map&lt;U, Deque&lt;T&gt;&gt; map, T next) -&gt; tryAdd(map, next, keyExtractor, condition),\n        (left, right) -&gt; merge(left, right, keyExtractor, condition),\n        map -&gt; map.values().stream().flatMap(Deque::stream).toList(),\n        Collector.Characteristics.UNORDERED);\n}\n\npublic static &lt;T, U&gt; void tryAdd(Map&lt;U, Deque&lt;T&gt;&gt; map, T next,\n                                 Function&lt;T, U&gt; keyExtractor,\n                                 Predicate&lt;T&gt; condition) {\n    \n    Deque&lt;T&gt; stack = map.computeIfAbsent(keyExtractor.apply(next), k -&gt; new ArrayDeque&lt;&gt;());\n    \n    if      (!stack.isEmpty() &amp;&amp; condition.test(stack.peek()))  stack.pop();      // stack is not empty and element on the top has a value of null\n    else if (stack.isEmpty() || condition.negate().test(next))  stack.push(next); // stack is empty - then any element could be added, or new element has a non-null value\n}\n\npublic static &lt;T, U&gt; Map&lt;U, Deque&lt;T&gt;&gt; merge(Map&lt;U, Deque&lt;T&gt;&gt; left, Map&lt;U, Deque&lt;T&gt;&gt; right,\n                                            Function&lt;T, U&gt; keyExtractor,\n                                            Predicate&lt;T&gt; condition) {\n    \n    right.forEach((k, v) -&gt; v.forEach(next -&gt; tryAdd(left, next, keyExtractor, condition)));\n    \n    return left;\n}\n</code></pre>\n<p><code>main()</code> - demo (<em>the code of dummy</em> <code>ExampleObject</code> <em>class is not shown</em>)</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;ExampleObject&gt; list =\n        List.of(new ExampleObject(1, &quot;Real Name&quot;, &quot;Real Value&quot;),\n            new ExampleObject(2, &quot;Duplicate Name&quot;, &quot;Real Value&quot;),\n            new ExampleObject(3, &quot;Duplicate Name&quot;, null),\n            new ExampleObject(4, &quot;Duplicate Name&quot;, null),\n            new ExampleObject(5, &quot;Real Name 2&quot;, &quot;Real Value 2&quot;),\n            new ExampleObject(6, &quot;Duplicate Name 2&quot;, &quot;Real Value&quot;),\n            new ExampleObject(7, &quot;Duplicate Name 2&quot;, null));\n\n    List&lt;ExampleObject&gt; result = list.stream()\n        .collect(toFilteredList(ExampleObject::getName, // the key of the auxiliary map\n                                exampleObject -&gt; exampleObject.getValue() == null)); // condition to determine an element to discard\n\n    result.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output</em> (<em>elements with ID</em> <code>3</code>, <code>4</code>, <em>and</em> <code>7</code> <em>were discarded as required</em>)</p>\n<pre><code>ExampleObject{id=6, name='Duplicate Name 2', value='Real Value'}\nExampleObject{id=2, name='Duplicate Name', value='Real Value'}\nExampleObject{id=5, name='Real Name 2', value='Real Value 2'}\nExampleObject{id=1, name='Real Name', value='Real Value'}\n</code></pre>\n"}],"owner":{"account_id":8053941,"reputation":157,"user_id":6071651,"accept_rate":83,"display_name":"Khiem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72093137,"answer_count":2,"score":1,"last_activity_date":1652523962,"creation_date":1651529613,"question_id":72092936,"body_markdown":"I&#39;m trying to figure out how to write a stream in Java 8 that removes duplicate records based on a property and a condition, for example:\r\n\r\n```\r\n+----+------------------+--------------+\r\n| ID |       Name       |    Value     |\r\n+----+------------------+--------------+\r\n|  1 | Real Name        | Real Value   |\r\n|  2 | Duplicate Name   | Real Value   |\r\n|  3 | Duplicate Name   | NULL         |\r\n|  4 | Duplicate Name   | NULL         |\r\n|  5 | Real Name 2      | Real Value 2 |\r\n|  6 | Duplicate Name 2 | Real Value   |\r\n|  7 | Duplicate Name 2 | NULL         |\r\n+----+------------------+--------------+\r\n```\r\n\r\nExample object:\r\n\r\n```\r\nClass ExampleObject {\r\n  int id;\r\n  String name;\r\n  String value;\r\n}\r\n```\r\nIt should remove all the duplicate records with the same name and having `value == null`. \r\n\r\nSo in this case, it should remove records with ID `3`, `4`, and `7`. \r\n\r\nI can solve this by doing a little bit of streams and some `for` loops, but I don&#39;t really like the implementation, knowing it should be possible by having one stream. \r\n\r\nHow can I resolve this issue?","title":"How to remove Duplicated elements from a List based on Two properties using Java 8 streams?","body":"<p>I'm trying to figure out how to write a stream in Java 8 that removes duplicate records based on a property and a condition, for example:</p>\n<pre><code>+----+------------------+--------------+\n| ID |       Name       |    Value     |\n+----+------------------+--------------+\n|  1 | Real Name        | Real Value   |\n|  2 | Duplicate Name   | Real Value   |\n|  3 | Duplicate Name   | NULL         |\n|  4 | Duplicate Name   | NULL         |\n|  5 | Real Name 2      | Real Value 2 |\n|  6 | Duplicate Name 2 | Real Value   |\n|  7 | Duplicate Name 2 | NULL         |\n+----+------------------+--------------+\n</code></pre>\n<p>Example object:</p>\n<pre><code>Class ExampleObject {\n  int id;\n  String name;\n  String value;\n}\n</code></pre>\n<p>It should remove all the duplicate records with the same name and having <code>value == null</code>.</p>\n<p>So in this case, it should remove records with ID <code>3</code>, <code>4</code>, and <code>7</code>.</p>\n<p>I can solve this by doing a little bit of streams and some <code>for</code> loops, but I don't really like the implementation, knowing it should be possible by having one stream.</p>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","sliding-tile-puzzle"],"comments":[{"owner":{"account_id":5113122,"reputation":3584,"user_id":4099159,"accept_rate":72,"display_name":"LuckyLikey"},"score":0,"creation_date":1554121377,"post_id":55454496,"comment_id":97623343,"body_markdown":"maybe contribute some code?","body":"maybe contribute some code?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1652105710,"post_id":55454496,"comment_id":127518994,"body_markdown":"Simply check if both start and end have the same solvabilty (both solvable or both unsolvable means it is solvable).","body":"Simply check if both start and end have the same solvabilty (both solvable or both unsolvable means it is solvable)."}],"answers":[{"tags":[],"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554121698,"creation_date":1554121698,"answer_id":55455143,"question_id":55454496,"body_markdown":"I don&#39;t think different goal have any effect on solvability. \r\n\r\nThe simplest solution I can think of is to map numbers in the custom goal state to the numbers in the standard goal state. E.g: For the first row you treat `11` as if it was `0`, `4`-&gt; `1`, `1`-&gt;`2`, `0`-&gt;`3` and so on.","title":"Is it possible to check if the 15-puzzle is solvable with a different goal state?","body":"<p>I don't think different goal have any effect on solvability. </p>\n\n<p>The simplest solution I can think of is to map numbers in the custom goal state to the numbers in the standard goal state. E.g: For the first row you treat <code>11</code> as if it was <code>0</code>, <code>4</code>-> <code>1</code>, <code>1</code>-><code>2</code>, <code>0</code>-><code>3</code> and so on.</p>\n"},{"tags":[],"owner":{"account_id":4426192,"reputation":789,"user_id":3604617,"display_name":"italankin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652523794,"creation_date":1652105222,"answer_id":72173322,"question_id":55454496,"body_markdown":"The algorithm is the same as for standard puzzle, but you need a little change.\r\n\r\nIn general, the algorithm for reachability from start position `S` to goal position `G` is:\r\n\r\n1. Calculate number of inversions in `G` - `I(G)`\r\n2. Calculate number of inversions in `S` - `I(S)`\r\n3. If:\r\n   * width is **odd** and `I(G)` and `I(S)` have the same parity, `G` is reachable from `S` (in other words, `S` is solvable)\r\n   * width is **even**:\r\n      1. Find the row number where blank is located in `G` - `B(G)`\r\n      2. Find the row number where blank is located in `S` - `B(S)`\r\n      3. If `I(G)`\r\n          * is **even** and `I(S)` and `abs(B(G) - B(S))` have **the same** parity, `G` is reachable from `S`\r\n          * is **odd** and `I(S)` and `abs(B(G) - B(S))` have **different** parity, `G` is reachable from `S`\r\n\r\nIn other cases `G` is unreachable from `S`.\r\n\r\n---\r\n\r\nNow let&#39;s see on your example. Represent a state as a list:\r\n\r\n```java\r\nList&lt;Integer&gt; start = Arrays.asList(\r\n        8, 4, 1, 6, \r\n        11, 2, 3, 10,\r\n        15, 12, 0, 9,\r\n        14, 5, 7, 13);\r\nList&lt;Integer&gt; goal = Arrays.asList(\r\n        11, 4, 1, 0,\r\n        8, 2, 3, 10,\r\n        5, 15, 6, 9,\r\n        12, 14, 7, 13); // in your example there&#39;s a second 9 instead of 14\r\n```\r\n\r\nA function, which will count number of inversions:\r\n\r\n```java\r\nint inversions(List&lt;Integer&gt; numbers) {\r\n    int inversions = 0;\r\n    for (int i = 0; i &lt; numbers.size(); i++) {\r\n        int n = numbers.get(i);\r\n        if (n &lt;= 1) {\r\n            continue;\r\n        }\r\n        for (int j = i + 1; j &lt; numbers.size(); j++) {\r\n            int m = numbers.get(j);\r\n            if (m &gt; 0 &amp;&amp; n &gt; m) {\r\n                inversions++;\r\n            }\r\n        }\r\n    }\r\n    return inversions;\r\n}\r\n```\r\n\r\nFinally, check the solvability:\r\n\r\n```java\r\nboolean isSolvable(List&lt;Integer&gt; start, List&lt;Integer&gt; goal) {\r\n    int inversions = inversions(start);\r\n    int goalInversions = inversions(goal);\r\n    if (width % 2 == 0) {\r\n        int goalZeroRowIndex = goal.indexOf(0) / width;\r\n        int startZeroRowIndex = start.indexOf(0) / width;\r\n        // a little optimization is possible since we&#39;re only interested in parity\r\n        return (goalInversions % 2) == ((inversions + goalZeroRowIndex + startZeroRowIndex) % 2);\r\n    } else {\r\n        // for odd width just compare parity of inversions\r\n        return (inversions % 2) == (goalInversions % 2);\r\n    }\r\n}\r\n```\r\n\r\n_This function will work on both standard and random variations, regardless of 0 position._\r\n\r\nFor a given start and goal positions:\r\n\r\n```\r\nI(G) = 32\r\nI(S) = 36\r\nB(G) = 0\r\nB(S) = 2\r\nabs(B(G) - B(S)) = 2\r\n```\r\n\r\n`I(G)` is even and both `I(S)` and `abs(B(G) - B(S))` have the same parity, so the puzzle is solvable. In fact, it is solvable in 31 moves:\r\n\r\n```\r\n12, 2, 11, 15, 2, 12, 9, 10, 6, 1, 4, 11, 15, 2, 12, 5, 14, 12, 5, 15, 2, 8, 11, 4, 3, 6, 10, 9, 6, 3, 1\r\n```","title":"Is it possible to check if the 15-puzzle is solvable with a different goal state?","body":"<p>The algorithm is the same as for standard puzzle, but you need a little change.</p>\n<p>In general, the algorithm for reachability from start position <code>S</code> to goal position <code>G</code> is:</p>\n<ol>\n<li>Calculate number of inversions in <code>G</code> - <code>I(G)</code></li>\n<li>Calculate number of inversions in <code>S</code> - <code>I(S)</code></li>\n<li>If:\n<ul>\n<li>width is <strong>odd</strong> and <code>I(G)</code> and <code>I(S)</code> have the same parity, <code>G</code> is reachable from <code>S</code> (in other words, <code>S</code> is solvable)</li>\n<li>width is <strong>even</strong>:\n<ol>\n<li>Find the row number where blank is located in <code>G</code> - <code>B(G)</code></li>\n<li>Find the row number where blank is located in <code>S</code> - <code>B(S)</code></li>\n<li>If <code>I(G)</code>\n<ul>\n<li>is <strong>even</strong> and <code>I(S)</code> and <code>abs(B(G) - B(S))</code> have <strong>the same</strong> parity, <code>G</code> is reachable from <code>S</code></li>\n<li>is <strong>odd</strong> and <code>I(S)</code> and <code>abs(B(G) - B(S))</code> have <strong>different</strong> parity, <code>G</code> is reachable from <code>S</code></li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n<p>In other cases <code>G</code> is unreachable from <code>S</code>.</p>\n<hr />\n<p>Now let's see on your example. Represent a state as a list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; start = Arrays.asList(\n        8, 4, 1, 6, \n        11, 2, 3, 10,\n        15, 12, 0, 9,\n        14, 5, 7, 13);\nList&lt;Integer&gt; goal = Arrays.asList(\n        11, 4, 1, 0,\n        8, 2, 3, 10,\n        5, 15, 6, 9,\n        12, 14, 7, 13); // in your example there's a second 9 instead of 14\n</code></pre>\n<p>A function, which will count number of inversions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int inversions(List&lt;Integer&gt; numbers) {\n    int inversions = 0;\n    for (int i = 0; i &lt; numbers.size(); i++) {\n        int n = numbers.get(i);\n        if (n &lt;= 1) {\n            continue;\n        }\n        for (int j = i + 1; j &lt; numbers.size(); j++) {\n            int m = numbers.get(j);\n            if (m &gt; 0 &amp;&amp; n &gt; m) {\n                inversions++;\n            }\n        }\n    }\n    return inversions;\n}\n</code></pre>\n<p>Finally, check the solvability:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isSolvable(List&lt;Integer&gt; start, List&lt;Integer&gt; goal) {\n    int inversions = inversions(start);\n    int goalInversions = inversions(goal);\n    if (width % 2 == 0) {\n        int goalZeroRowIndex = goal.indexOf(0) / width;\n        int startZeroRowIndex = start.indexOf(0) / width;\n        // a little optimization is possible since we're only interested in parity\n        return (goalInversions % 2) == ((inversions + goalZeroRowIndex + startZeroRowIndex) % 2);\n    } else {\n        // for odd width just compare parity of inversions\n        return (inversions % 2) == (goalInversions % 2);\n    }\n}\n</code></pre>\n<p><em>This function will work on both standard and random variations, regardless of 0 position.</em></p>\n<p>For a given start and goal positions:</p>\n<pre><code>I(G) = 32\nI(S) = 36\nB(G) = 0\nB(S) = 2\nabs(B(G) - B(S)) = 2\n</code></pre>\n<p><code>I(G)</code> is even and both <code>I(S)</code> and <code>abs(B(G) - B(S))</code> have the same parity, so the puzzle is solvable. In fact, it is solvable in 31 moves:</p>\n<pre><code>12, 2, 11, 15, 2, 12, 9, 10, 6, 1, 4, 11, 15, 2, 12, 5, 14, 12, 5, 15, 2, 8, 11, 4, 3, 6, 10, 9, 6, 3, 1\n</code></pre>\n"}],"owner":{"account_id":15649794,"reputation":11,"user_id":11291394,"display_name":"Shally"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652523794,"creation_date":1554119587,"question_id":55454496,"body_markdown":"So I have a random 15-puzzle, or any N-puzzle with even width, and I also have a random goal-state. That is, the blank tile and other tiles are also randomly placed.\r\n\r\nI am able to check if the 15 puzzle is solvable with the standard goal state of having the tiles in order and blank in the bottom right,  but randomizing the goal state seems to be more tricky than the standard 8 puzzle.\r\n\r\nExample:\r\n```\r\nStart State\r\n8    4    1   6\r\n11   2    3   10\r\n15   12   0   9\r\n14   5    7   13\r\n\r\nGoal State:\r\n11   4    1   0\r\n8    2    3   10\r\n5    15   6   9\r\n12   9    7   13\r\n```\r\n\r\nThe rules for the standard 15-puzzle solvabilty are:\r\n\r\n&gt;If the width is **odd**, then every solvable state has an even number of inversions.\r\n\r\n&gt;If the width is **even**, then every solvable state has\r\n\r\n&gt;   - An even number of inversions if the blank is on an odd numbered row \r\n   counting from the bottom;\r\n    \r\n&gt;   - An odd number of inversions if the blank is on an even numbered row \r\n   counting from the bottom;\r\n","title":"Is it possible to check if the 15-puzzle is solvable with a different goal state?","body":"<p>So I have a random 15-puzzle, or any N-puzzle with even width, and I also have a random goal-state. That is, the blank tile and other tiles are also randomly placed.</p>\n\n<p>I am able to check if the 15 puzzle is solvable with the standard goal state of having the tiles in order and blank in the bottom right,  but randomizing the goal state seems to be more tricky than the standard 8 puzzle.</p>\n\n<p>Example:</p>\n\n<pre><code>Start State\n8    4    1   6\n11   2    3   10\n15   12   0   9\n14   5    7   13\n\nGoal State:\n11   4    1   0\n8    2    3   10\n5    15   6   9\n12   9    7   13\n</code></pre>\n\n<p>The rules for the standard 15-puzzle solvabilty are:</p>\n\n<blockquote>\n  <p>If the width is <strong>odd</strong>, then every solvable state has an even number of inversions.</p>\n  \n  <p>If the width is <strong>even</strong>, then every solvable state has</p>\n  \n  <ul>\n  <li><p>An even number of inversions if the blank is on an odd numbered row \n  counting from the bottom;</p></li>\n  <li><p>An odd number of inversions if the blank is on an even numbered row \n  counting from the bottom;</p></li>\n  </ul>\n</blockquote>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1652519743,"post_id":72238801,"comment_id":127629444,"body_markdown":"There&#39;s no 2D ArrayList in java. You can have `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;`, that comes close to 2D. But also, what do you mean by `How to initialise its value to 0`? You mean the first element in the ArrayList? Or do you want `ArrayList&lt;ArrayList &gt; x = null;`?","body":"There&#39;s no 2D ArrayList in java. You can have <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code>, that comes close to 2D. But also, what do you mean by <code>How to initialise its value to 0</code>? You mean the first element in the ArrayList? Or do you want <code>ArrayList&lt;ArrayList &gt; x = null;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652520415,"creation_date":1652520415,"answer_id":72238902,"question_id":72238801,"body_markdown":"Not sure what you meant by 2D ArrayList, but you returned type of `List` instead of `ArrayList` with help of below:\r\n\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; a=Arrays.asList(Arrays.asList(0));\r\n\r\n\r\nFor normal `arrays` you can do something :\r\n\r\n    int[][] b=new int[1][2];","title":"How to Initialize 2d ArrayList with 0 in one line","body":"<p>Not sure what you meant by 2D ArrayList, but you returned type of <code>List</code> instead of <code>ArrayList</code> with help of below:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; a=Arrays.asList(Arrays.asList(0));\n</code></pre>\n<p>For normal <code>arrays</code> you can do something :</p>\n<pre><code>int[][] b=new int[1][2];\n</code></pre>\n"}],"owner":{"account_id":18446665,"reputation":1,"user_id":13437776,"display_name":"Shukla JI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652522718,"creation_date":1652519516,"question_id":72238801,"body_markdown":"How to Initialize all the element of 2d Array List in Java with 0 in single line of code without using for lop.\r\n\r\nArrayList of m rows and n columns.\r\n\r\nHow to initialise  value of all the elements to 0 at the time of defining it.","title":"How to Initialize 2d ArrayList with 0 in one line","body":"<p>How to Initialize all the element of 2d Array List in Java with 0 in single line of code without using for lop.</p>\n<p>ArrayList of m rows and n columns.</p>\n<p>How to initialise  value of all the elements to 0 at the time of defining it.</p>\n"},{"tags":["java","scala","json4s"],"comments":[{"owner":{"account_id":81070,"reputation":7901,"user_id":228843,"accept_rate":68,"display_name":"Andriy Plokhotnyuk"},"score":0,"creation_date":1656923411,"post_id":72190860,"comment_id":128680540,"body_markdown":"BEWARE: [json4s is vulnerable under DoS/DoW attacks!](https://github.com/json4s/json4s/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+denial)","body":"BEWARE: <a href=\"https://github.com/json4s/json4s/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+denial\" rel=\"nofollow noreferrer\">json4s is vulnerable under DoS/DoW attacks!</a>"},{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":0,"creation_date":1656956369,"post_id":72190860,"comment_id":128691437,"body_markdown":"BEWARE: @AndriyPlokhotnyuk is constantly promoting his own JSON library.","body":"BEWARE: @AndriyPlokhotnyuk is constantly promoting his own JSON library."},{"owner":{"account_id":81070,"reputation":7901,"user_id":228843,"accept_rate":68,"display_name":"Andriy Plokhotnyuk"},"score":0,"creation_date":1657002231,"post_id":72190860,"comment_id":128699323,"body_markdown":"Tim, if you are using json4s really then I feel sorry for your clients, who are misled by your decisions. Can it be explanation why you are hidden under some nick here?","body":"Tim, if you are using json4s really then I feel sorry for your clients, who are misled by your decisions. Can it be explanation why you are hidden under some nick here?"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652287220,"creation_date":1652287220,"answer_id":72204706,"question_id":72190860,"body_markdown":"Try to add getter method for your `what` property","title":"Json4s not serializing Java classes","body":"<p>Try to add getter method for your <code>what</code> property</p>\n"},{"tags":[],"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652436410,"creation_date":1652436410,"answer_id":72227833,"question_id":72190860,"body_markdown":"Json4s ignores any `JsonProperty` annotation and requires both a constructor parameter and a Scala case-class style getter method for each property of your Java model class. In the example above that would look like:\r\n\r\n\r\n```\r\npublic class Blah {\r\n    private final String what;\r\n\r\n    public String what() {\r\n        return what;\r\n    }\r\n\r\n    public Blah() {\r\n        this(null);\r\n    }\r\n    public Blah(String what) {\r\n        this.what = what;\r\n    }\r\n}\r\n```","title":"Json4s not serializing Java classes","body":"<p>Json4s ignores any <code>JsonProperty</code> annotation and requires both a constructor parameter and a Scala case-class style getter method for each property of your Java model class. In the example above that would look like:</p>\n<pre><code>public class Blah {\n    private final String what;\n\n    public String what() {\n        return what;\n    }\n\n    public Blah() {\n        this(null);\n    }\n    public Blah(String what) {\n        this.what = what;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652522576,"creation_date":1652522576,"answer_id":72239160,"question_id":72190860,"body_markdown":"Json4s is the Json library for Scala. To work with Java objects, it is recommended to directly use Jackson. See this question [here][1]\r\n\r\n&gt; Json4s uses jackson only as a parser, and after parsing, it all works by matching from Json4s AST to Scala objects.\r\n&gt; \r\n&gt; If you want to work with Java collections, you should use Jackson\r\n&gt; directly\r\n\r\nSo, we can get the `mapper` which is an object of Jackson&#39;s `ObjectMapper` and use it normally -\r\n\r\n    import org.json4s.jackson.JsonMethods\r\n\r\n    println(JsonMethods.mapper.writeValueAsString(new Blah(&quot;helloooo!!!!&quot;)))\r\n\r\n  [1]: https://github.com/json4s/json4s/issues/361","title":"Json4s not serializing Java classes","body":"<p>Json4s is the Json library for Scala. To work with Java objects, it is recommended to directly use Jackson. See this question <a href=\"https://github.com/json4s/json4s/issues/361\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>Json4s uses jackson only as a parser, and after parsing, it all works by matching from Json4s AST to Scala objects.</p>\n<p>If you want to work with Java collections, you should use Jackson\ndirectly</p>\n</blockquote>\n<p>So, we can get the <code>mapper</code> which is an object of Jackson's <code>ObjectMapper</code> and use it normally -</p>\n<pre><code>import org.json4s.jackson.JsonMethods\n\nprintln(JsonMethods.mapper.writeValueAsString(new Blah(&quot;helloooo!!!!&quot;)))\n</code></pre>\n"}],"owner":{"account_id":50894,"reputation":1634,"user_id":151915,"accept_rate":84,"display_name":"juan2raid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1652522576,"creation_date":1652204633,"question_id":72190860,"body_markdown":"I have some scala code that needs to be able to serialize/deserialize some Java classes using Json4s.\r\n\r\nI am using `&quot;org.json4s&quot; %% &quot;json4s-ext&quot; % &quot;4.0.5&quot;` and `&quot;org.json4s&quot; %% &quot;json4s-jackson&quot; % &quot;4.0.5&quot;` though I have also tried with the `3.6.7` version.\r\n\r\nModel Code (Java):\r\n````\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class Blah {\r\n    @JsonProperty(&quot;what&quot;)\r\n    public final String what;\r\n\r\n    public Blah() {\r\n        this(null);\r\n    }\r\n    public Blah(String what) {\r\n        this.what = what;\r\n    }\r\n}\r\n````\r\n\r\nSerialization (Scala):\r\n````\r\nimport org.json4s.DefaultFormats\r\nimport org.json4s.jackson.Serialization\r\n\r\nprintln(Serialization.write(new Blah(&quot;helloooo!!!!&quot;))(DefaultFormats))\r\n````\r\n\r\nIt only ever prints out: `{}`. \r\n\r\nI understand I can write a `CustomSerializer` for each Java class but I have a lot of Java classes and would really like to avoid doing that. Any ideas on how to make this work?","title":"Json4s not serializing Java classes","body":"<p>I have some scala code that needs to be able to serialize/deserialize some Java classes using Json4s.</p>\n<p>I am using <code>&quot;org.json4s&quot; %% &quot;json4s-ext&quot; % &quot;4.0.5&quot;</code> and <code>&quot;org.json4s&quot; %% &quot;json4s-jackson&quot; % &quot;4.0.5&quot;</code> though I have also tried with the <code>3.6.7</code> version.</p>\n<p>Model Code (Java):</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class Blah {\n    @JsonProperty(&quot;what&quot;)\n    public final String what;\n\n    public Blah() {\n        this(null);\n    }\n    public Blah(String what) {\n        this.what = what;\n    }\n}\n</code></pre>\n<p>Serialization (Scala):</p>\n<pre><code>import org.json4s.DefaultFormats\nimport org.json4s.jackson.Serialization\n\nprintln(Serialization.write(new Blah(&quot;helloooo!!!!&quot;))(DefaultFormats))\n</code></pre>\n<p>It only ever prints out: <code>{}</code>.</p>\n<p>I understand I can write a <code>CustomSerializer</code> for each Java class but I have a lot of Java classes and would really like to avoid doing that. Any ideas on how to make this work?</p>\n"},{"tags":["javascript","java","discord.js","minecraft"],"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1651909285,"post_id":72149557,"comment_id":127480797,"body_markdown":"At Stack Overflow, we work on the policy that the user must show an attempt before getting assistance. Stack Overflow is not a code writing service. Please refer to [this guide](https://stackoverflow.com/help/how-to-ask) for more help.","body":"At Stack Overflow, we work on the policy that the user must show an attempt before getting assistance. Stack Overflow is not a code writing service. Please refer to <a href=\"https://stackoverflow.com/help/how-to-ask\">this guide</a> for more help."}],"answers":[{"tags":[],"owner":{"account_id":2189797,"reputation":329,"user_id":1937205,"display_name":"Hayden Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651902544,"creation_date":1651902544,"answer_id":72149831,"question_id":72149557,"body_markdown":"Assuming your JS bot is written using a backend framework like NodeJS, There are many ways you could achieve this. The best way being to use WebSockets.\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API ","title":"Is there any way of connecting minecraft javaPlugin to discord javaScript bot?","body":"<p>Assuming your JS bot is written using a backend framework like NodeJS, There are many ways you could achieve this. The best way being to use WebSockets.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API</a></p>\n"},{"tags":[],"owner":{"account_id":25220132,"reputation":21,"user_id":19056719,"display_name":"omar ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652137609,"creation_date":1652137609,"answer_id":72179067,"question_id":72149557,"body_markdown":"**basically the only way i can do this is like that:**\r\n\r\nFirst of all, you have to get a database, and make a command in your js discord bot, for example `!link &lt;code&gt;`, so basically what does that mean, after the player enters the Minecraft server it will automatically kick him and the display the code for link his discord account, and he just has to use the command that I mentioned before to link his account, this is really simple things you can easily make it with HashMap in java.","title":"Is there any way of connecting minecraft javaPlugin to discord javaScript bot?","body":"<p><strong>basically the only way i can do this is like that:</strong></p>\n<p>First of all, you have to get a database, and make a command in your js discord bot, for example <code>!link &lt;code&gt;</code>, so basically what does that mean, after the player enters the Minecraft server it will automatically kick him and the display the code for link his discord account, and he just has to use the command that I mentioned before to link his account, this is really simple things you can easily make it with HashMap in java.</p>\n"}],"owner":{"account_id":25222496,"reputation":9,"user_id":19058761,"display_name":"Fules"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1652522429,"creation_date":1651898504,"question_id":72149557,"body_markdown":"So basiclly, I was making a minecraft plugin, and I want to add function that alows you to log in into serwer in minecraft only if you are on discord. But i dont really know how can i call js from java.","title":"Is there any way of connecting minecraft javaPlugin to discord javaScript bot?","body":"<p>So basiclly, I was making a minecraft plugin, and I want to add function that alows you to log in into serwer in minecraft only if you are on discord. But i dont really know how can i call js from java.</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652521922,"creation_date":1652521922,"answer_id":72239083,"question_id":72238982,"body_markdown":"Mockito expects your tests to be in three stages.\r\n\r\n- You set things up for the test, including stubbing any methods that need to be stubbed (the &quot;arrange&quot; stage).\r\n- You run the actual method that you&#39;re trying to test (the &quot;act&quot; stage).\r\n- You make assertions about the output of the test, possibly including verifying which methods got called on your mocks (the &quot;assert&quot; stage).\r\n\r\nYou need to do these three things, in this sequence, because Mockito tracks whether you&#39;re stubbing, verifying or whatever.  It also has its own internal stack which stores Matchers, for use in stubbing or verification.\r\n\r\nIn your second `verify` call in your example, the call to `anyDouble()` puts the `Matcher` onto the stack.  But this creates an invalid state for the call to `mockObject.toString()`.  \r\n\r\nDon&#39;t do this.  Once you&#39;re ready to run your assertions and verifications, you shouldn&#39;t be making any more calls to stubbed methods.  Keep the &quot;arrange&quot;, &quot;act&quot; and &quot;assert&quot; stages of each test entirely separate from each other.\r\n","title":"Mockito verify still fails on using all Matchers","body":"<p>Mockito expects your tests to be in three stages.</p>\n<ul>\n<li>You set things up for the test, including stubbing any methods that need to be stubbed (the &quot;arrange&quot; stage).</li>\n<li>You run the actual method that you're trying to test (the &quot;act&quot; stage).</li>\n<li>You make assertions about the output of the test, possibly including verifying which methods got called on your mocks (the &quot;assert&quot; stage).</li>\n</ul>\n<p>You need to do these three things, in this sequence, because Mockito tracks whether you're stubbing, verifying or whatever.  It also has its own internal stack which stores Matchers, for use in stubbing or verification.</p>\n<p>In your second <code>verify</code> call in your example, the call to <code>anyDouble()</code> puts the <code>Matcher</code> onto the stack.  But this creates an invalid state for the call to <code>mockObject.toString()</code>.</p>\n<p>Don't do this.  Once you're ready to run your assertions and verifications, you shouldn't be making any more calls to stubbed methods.  Keep the &quot;arrange&quot;, &quot;act&quot; and &quot;assert&quot; stages of each test entirely separate from each other.</p>\n"}],"owner":{"account_id":6748940,"reputation":85,"user_id":5199629,"display_name":"Xinjian Yao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72239083,"answer_count":1,"score":1,"last_activity_date":1652521922,"creation_date":1652521150,"question_id":72238982,"body_markdown":"I am recently writing a JUnit test and I acknowledged that Mockito either needs all Raw values or using all Matchers but I find the following case still fails with all Matchers, error message is:\r\n&gt; Invalid use of argument matchers!\r\n0 matchers expected, 1 recorded:\r\n\r\nI tested a little bit and it looks like something to do with using a stub method as value for the eq() Matcher. See example below:\r\n\r\n**I have a Class A very simple**\r\n```\r\npublic class A {\r\n\r\n    public void testMockitoMatcher(double a, String b){\r\n\r\n    }\r\n}\r\n```\r\n**Here is my test case**\r\n```\r\nimport org.junit.Test;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class SomeUnitTest {\r\n    private A mockA = mock(A.class);\r\n\r\n    @Test\r\n    public void allMatchersDoesntWork() {\r\n        Object mockObject = mock(Object.class);\r\n        String someString = &quot;Just some mocked String value to return&quot;;\r\n        when(mockObject.toString()).thenReturn(someString);\r\n\r\n        mockA.testMockitoMatcher(1312d, mockObject.toString());\r\n\r\n        verify(mockA, times(1)).testMockitoMatcher(anyDouble(), eq(someString));    //&lt;- This works\r\n        verify(mockA, times(1)).testMockitoMatcher(anyDouble(), eq(mockObject.toString()));    //&lt;- This doesn&#39;t by using stub method toString() to return the String value as param to eq()\r\n    }\r\n}\r\n```\r\nI also verified by using debug at 2nd verify statement that mockObject.toString() can still return the stubbed value for me. Also both verify use all Matchers, why mockito still gives me only 1 Matchers recorded instead of 2 at the 2nd verify?\r\n\r\nThanks!\r\n","title":"Mockito verify still fails on using all Matchers","body":"<p>I am recently writing a JUnit test and I acknowledged that Mockito either needs all Raw values or using all Matchers but I find the following case still fails with all Matchers, error message is:</p>\n<blockquote>\n<p>Invalid use of argument matchers!\n0 matchers expected, 1 recorded:</p>\n</blockquote>\n<p>I tested a little bit and it looks like something to do with using a stub method as value for the eq() Matcher. See example below:</p>\n<p><strong>I have a Class A very simple</strong></p>\n<pre><code>public class A {\n\n    public void testMockitoMatcher(double a, String b){\n\n    }\n}\n</code></pre>\n<p><strong>Here is my test case</strong></p>\n<pre><code>import org.junit.Test;\n\nimport static org.mockito.Mockito.*;\n\npublic class SomeUnitTest {\n    private A mockA = mock(A.class);\n\n    @Test\n    public void allMatchersDoesntWork() {\n        Object mockObject = mock(Object.class);\n        String someString = &quot;Just some mocked String value to return&quot;;\n        when(mockObject.toString()).thenReturn(someString);\n\n        mockA.testMockitoMatcher(1312d, mockObject.toString());\n\n        verify(mockA, times(1)).testMockitoMatcher(anyDouble(), eq(someString));    //&lt;- This works\n        verify(mockA, times(1)).testMockitoMatcher(anyDouble(), eq(mockObject.toString()));    //&lt;- This doesn't by using stub method toString() to return the String value as param to eq()\n    }\n}\n</code></pre>\n<p>I also verified by using debug at 2nd verify statement that mockObject.toString() can still return the stubbed value for me. Also both verify use all Matchers, why mockito still gives me only 1 Matchers recorded instead of 2 at the 2nd verify?</p>\n<p>Thanks!</p>\n"},{"tags":["java","sorting","convex-hull","grahams-scan"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652521311,"creation_date":1547399926,"answer_id":54171290,"question_id":54170381,"body_markdown":"Let&#39;s assume that `initial` is the `Point2D` which has the lowest Y coordinate. Also, let&#39;s assume that `List&lt;Point2D&gt; points` is a list with all the other points available, but it does NOT contain the `initial` point. \r\n\r\nIn order to sort the list, we can use `Collections.sort` with the comparator:\r\n\r\n```\r\nCollections.sort(points, (a, b) -&gt; {\r\n    double cotanA = -(a.getX() - initial.getX()) / (a.getY() - initial.getY());\r\n    double cotanB = -(b.getX() - initial.getX()) / (b.getY() - initial.getY());\r\n    if (cotanA - cotanB &lt; 0) {\r\n        return 1;\r\n    }\r\n    return -1;\r\n});\r\n```\r\n\r\nEdit:\r\n\r\nThis solution might encounter a division by zero. One way to overcome this is to use a cross product. See [this answer](https://stackoverflow.com/a/54182976/7661119) from Erfan Alimohammadi.\r\n","title":"Sorting by Polar Angle","body":"<p>Let's assume that <code>initial</code> is the <code>Point2D</code> which has the lowest Y coordinate. Also, let's assume that <code>List&lt;Point2D&gt; points</code> is a list with all the other points available, but it does NOT contain the <code>initial</code> point.</p>\n<p>In order to sort the list, we can use <code>Collections.sort</code> with the comparator:</p>\n<pre><code>Collections.sort(points, (a, b) -&gt; {\n    double cotanA = -(a.getX() - initial.getX()) / (a.getY() - initial.getY());\n    double cotanB = -(b.getX() - initial.getX()) / (b.getY() - initial.getY());\n    if (cotanA - cotanB &lt; 0) {\n        return 1;\n    }\n    return -1;\n});\n</code></pre>\n<p>Edit:</p>\n<p>This solution might encounter a division by zero. One way to overcome this is to use a cross product. See <a href=\"https://stackoverflow.com/a/54182976/7661119\">this answer</a> from Erfan Alimohammadi.</p>\n"},{"tags":[],"owner":{"account_id":3114842,"reputation":480,"user_id":2635857,"display_name":"Erfan Alimohammadi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547474493,"creation_date":1547474493,"answer_id":54182976,"question_id":54170381,"body_markdown":"I modified the last answer to this question.\r\n\r\nDefine a new class for `Point`:\r\n\r\n    class Point {\r\n    \tprivate long x, y;\r\n    \tPoint(long x, long y) {\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \tPoint() {\r\n    \t\tx = 0;\r\n    \t\ty = 0;\r\n    \t}\r\n    \tpublic long getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \tpublic long getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    }\r\n\r\nDefine a new function for calculating the cross product of two vectors:\r\n\r\n    public long cross(long x1, long y1, long x2, long y2) {\r\n    \treturn x1 * y2 - x2 * y1;\r\n    }\r\n\r\nLet&#39;s assume that `initial` is the `Point` which has the lowest Y coordinate. Also, let&#39;s assume that `List&lt;Point&gt; points` is a list with all the other points available, but it does NOT contain the `initial` point.\r\n\r\nIn order to sort the list, we can use `Collections.sort` with the comparator:\r\n\r\n    Collections.sort(points, (a, b) -&gt; {\r\n    \tlong cr = cross(a.getX() - initial.getX(), a.getY() - initial.getY(), b.getX() - initial.getX(), b.getY() - initial.getY());\r\n    \tif (cr &gt; 0)\r\n    \t\treturn 1;\r\n    \telse\r\n    \t\treturn -1;\r\n    });\r\n\r\nIn this solution, we used the cross product to check whether two vectors are positioned clockwise or counter-clockwise.\r\nThis solution has two benefits:\r\n\r\n 1. It&#39;s more precious when our coordinates are integer numbers. When we calculate angles in other solutions, we may have some errors in floating point calculations.\r\n 2. In other solutions we may have &quot;division by zero&quot;, but we don&#39;t have this problem here.","title":"Sorting by Polar Angle","body":"<p>I modified the last answer to this question.</p>\n\n<p>Define a new class for <code>Point</code>:</p>\n\n<pre><code>class Point {\n    private long x, y;\n    Point(long x, long y) {\n        this.x = x;\n        this.y = y;\n    }\n    Point() {\n        x = 0;\n        y = 0;\n    }\n    public long getX() {\n        return x;\n    }\n    public long getY() {\n        return y;\n    }\n}\n</code></pre>\n\n<p>Define a new function for calculating the cross product of two vectors:</p>\n\n<pre><code>public long cross(long x1, long y1, long x2, long y2) {\n    return x1 * y2 - x2 * y1;\n}\n</code></pre>\n\n<p>Let's assume that <code>initial</code> is the <code>Point</code> which has the lowest Y coordinate. Also, let's assume that <code>List&lt;Point&gt; points</code> is a list with all the other points available, but it does NOT contain the <code>initial</code> point.</p>\n\n<p>In order to sort the list, we can use <code>Collections.sort</code> with the comparator:</p>\n\n<pre><code>Collections.sort(points, (a, b) -&gt; {\n    long cr = cross(a.getX() - initial.getX(), a.getY() - initial.getY(), b.getX() - initial.getX(), b.getY() - initial.getY());\n    if (cr &gt; 0)\n        return 1;\n    else\n        return -1;\n});\n</code></pre>\n\n<p>In this solution, we used the cross product to check whether two vectors are positioned clockwise or counter-clockwise.\nThis solution has two benefits:</p>\n\n<ol>\n<li>It's more precious when our coordinates are integer numbers. When we calculate angles in other solutions, we may have some errors in floating point calculations.</li>\n<li>In other solutions we may have \"division by zero\", but we don't have this problem here.</li>\n</ol>\n"}],"owner":{"account_id":14238748,"reputation":55,"user_id":10285792,"display_name":"Pakchoiandbacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4673,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54171290,"answer_count":2,"score":5,"last_activity_date":1652521311,"creation_date":1547393633,"question_id":54170381,"body_markdown":"I&#39;m trying to implement the [Graham’s Scan algorithm][1] for a convex hull in Java, and have trouble sorting the points by polar angle with respect to the point with lowest y-value. \r\n\r\nI have found [this][2] answer and understand how to calculate the polar angle but not how to sort the points. \r\n\r\nI have seen implementations were `Collections.sort()` is being used but none of them seem to work with the Point2D class which I want to use because I want to be able to have doubles as coordinates.\r\n\r\nBasically I want to be able to sort an `ArrayList&lt;Point2D&gt;` by their polar angle to the point with the lowest y-value in the same ArrayList. \r\n\r\nCould someone please help me with this? Thanks. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Graham_scan\r\n  [2]: https://stackoverflow.com/questions/16509100/sorting-points-by-their-polar-angle-in-java","title":"Sorting by Polar Angle","body":"<p>I'm trying to implement the <a href=\"https://en.wikipedia.org/wiki/Graham_scan\" rel=\"noreferrer\">Graham’s Scan algorithm</a> for a convex hull in Java, and have trouble sorting the points by polar angle with respect to the point with lowest y-value. </p>\n\n<p>I have found <a href=\"https://stackoverflow.com/questions/16509100/sorting-points-by-their-polar-angle-in-java\">this</a> answer and understand how to calculate the polar angle but not how to sort the points. </p>\n\n<p>I have seen implementations were <code>Collections.sort()</code> is being used but none of them seem to work with the Point2D class which I want to use because I want to be able to have doubles as coordinates.</p>\n\n<p>Basically I want to be able to sort an <code>ArrayList&lt;Point2D&gt;</code> by their polar angle to the point with the lowest y-value in the same ArrayList. </p>\n\n<p>Could someone please help me with this? Thanks. </p>\n"},{"tags":["java","reactjs","spring-boot","validation"],"comments":[{"owner":{"account_id":971515,"reputation":1711,"user_id":994006,"accept_rate":75,"display_name":"Nice Books"},"score":4,"creation_date":1634405815,"post_id":69595683,"comment_id":123017908,"body_markdown":"Validating in the backend is a **must**, since front-end validation can be bypassed by the user. I think it&#39;s a good idea to validate on both backend &amp; frontend, though it does involved duplication.","body":"Validating in the backend is a <b>must</b>, since front-end validation can be bypassed by the user. I think it&#39;s a good idea to validate on both backend &amp; frontend, though it does involved duplication."}],"owner":{"account_id":17684501,"reputation":33,"user_id":12837662,"display_name":"andrew_savich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652521223,"creation_date":1634388102,"question_id":69595683,"body_markdown":"I develop fullstack web app using for backend: Spring (boot, MVC, Data JPA) and for frontend I&#39;m using ReactJS.\r\nIn during of develop I got some questions about data validation. I&#39;ve tried to do maximum validation on frontend that don&#39;t make excess requests to backend (min/max length of inputs, not empty and some patterns for specific inputs), but there are some validations need to check on backend (existing same login for example), and it&#39;s works perfect.\r\nBut I check data again before putting data to database for exact certainty, using annotations on my POJO class like this:\r\n\r\n    @NotNull\r\n    @Size(min = 5, max = 30)\r\n    @Pattern(regexp = &quot;^[a-z0-9_-]*$&quot;)\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n    \r\nI have duplicate values for validate, the first on the frontend, and the second on the backend. And I don&#39;t sure if it&#39;s good practics, because if I change validation constrains on frontend or backend I would have to manually change on the second part.\r\n\r\nHow to set validation constrains in the one place that use it for backend and frontend?\r\n\r\nThank you and best regards","title":"The best way to validate data of form in the fullstack web app (Spring boot + React JS)","body":"<p>I develop fullstack web app using for backend: Spring (boot, MVC, Data JPA) and for frontend I'm using ReactJS.\nIn during of develop I got some questions about data validation. I've tried to do maximum validation on frontend that don't make excess requests to backend (min/max length of inputs, not empty and some patterns for specific inputs), but there are some validations need to check on backend (existing same login for example), and it's works perfect.\nBut I check data again before putting data to database for exact certainty, using annotations on my POJO class like this:</p>\n<pre><code>@NotNull\n@Size(min = 5, max = 30)\n@Pattern(regexp = &quot;^[a-z0-9_-]*$&quot;)\n@Column(name = &quot;login&quot;)\nprivate String login;\n</code></pre>\n<p>I have duplicate values for validate, the first on the frontend, and the second on the backend. And I don't sure if it's good practics, because if I change validation constrains on frontend or backend I would have to manually change on the second part.</p>\n<p>How to set validation constrains in the one place that use it for backend and frontend?</p>\n<p>Thank you and best regards</p>\n"},{"tags":["java","api","rest","web"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1652504084,"post_id":72236896,"comment_id":127627318,"body_markdown":"Can you please provide some more informartions about the `User` entity and the `UserService`.","body":"Can you please provide some more informartions about the <code>User</code> entity and the <code>UserService</code>."},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1652520183,"post_id":72236896,"comment_id":127629524,"body_markdown":"This can&#39;t be marked at solved in the system here unless you submit your solution as an answer rather than as an edit to the question.  I reverted your edit. Instead please use box below this to answer your own question.  You will need to summarize the process rather than providing a link to the solution.  Without that, your question and answer won&#39;t be useful to others with similar problems in the future if the link stops working.","body":"This can&#39;t be marked at solved in the system here unless you submit your solution as an answer rather than as an edit to the question.  I reverted your edit. Instead please use box below this to answer your own question.  You will need to summarize the process rather than providing a link to the solution.  Without that, your question and answer won&#39;t be useful to others with similar problems in the future if the link stops working."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1652530038,"post_id":72236896,"comment_id":127631139,"body_markdown":"By default, Query uses JPQL language(build query based on entities objects), but It seems you are using native SQL in your query. You need to specify native flag for your query. Example `@Query(value = &quot;Select username from users&quot;, nativeQuery = true)`","body":"By default, Query uses JPQL language(build query based on entities objects), but It seems you are using native SQL in your query. You need to specify native flag for your query. Example <code>@Query(value = &quot;Select username from users&quot;, nativeQuery = true)</code>"}],"owner":{"display_name":"user17545832"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652520286,"creation_date":1652495363,"question_id":72236896,"body_markdown":"what is causing the error -&gt; `Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [Select username from users]`. I am trying to validate users when they try to login and it is my first time creating a web API. Is this error caused because I am not properly querying the database&#39;s data? Or is my overall syntax not correct? \r\n\r\nHere is my UserRepository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        @Query(&quot;Select username from users&quot;)\r\n        User findByUsername(@Param(&quot;username&quot;) String username);\r\n    }\r\n\r\nand here is my LoginController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class LoginController {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @Autowired\r\n        ServletRequest servletRequest;\r\n    \r\n        @Autowired\r\n        ServletResponse response;\r\n    \r\n        @GetMapping(&quot;/signin&quot;)\r\n        public void login(@RequestBody User user) throws IOException {\r\n            User storedUser = userService.getUsername(user.getUsername());\r\n            HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\r\n    \r\n            if (storedUser == null) {\r\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, \r\n                        &quot;The username or password you have entered is invalid.&quot;);\r\n            }\r\n            else if (storedUser.getPassword() == user.getPassword()) {\r\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_ACCEPTED, &quot;valid.&quot;);\r\n            }\r\n        }\r\n    }","title":"Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [Select username from users]","body":"<p>what is causing the error -&gt; <code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [Select username from users]</code>. I am trying to validate users when they try to login and it is my first time creating a web API. Is this error caused because I am not properly querying the database's data? Or is my overall syntax not correct?</p>\n<p>Here is my UserRepository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    @Query(&quot;Select username from users&quot;)\n    User findByUsername(@Param(&quot;username&quot;) String username);\n}\n</code></pre>\n<p>and here is my LoginController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class LoginController {\n\n    @Autowired\n    UserService userService;\n\n    @Autowired\n    ServletRequest servletRequest;\n\n    @Autowired\n    ServletResponse response;\n\n    @GetMapping(&quot;/signin&quot;)\n    public void login(@RequestBody User user) throws IOException {\n        User storedUser = userService.getUsername(user.getUsername());\n        HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\n\n        if (storedUser == null) {\n            ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, \n                    &quot;The username or password you have entered is invalid.&quot;);\n        }\n        else if (storedUser.getPassword() == user.getPassword()) {\n            ((HttpServletResponse) response).sendError(HttpServletResponse.SC_ACCEPTED, &quot;valid.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","this","instance"],"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":3,"creation_date":1652362189,"post_id":72216368,"comment_id":127591645,"body_markdown":"Can you elaborate why you need this in the first place? This seems like a very unusual request as it goes against the principle of encapsulation where as much information as possible is hidden and only what is needed is exposed.","body":"Can you elaborate why you need this in the first place? This seems like a very unusual request as it goes against the principle of encapsulation where as much information as possible is hidden and only what is needed is exposed."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652399343,"post_id":72216368,"comment_id":127603340,"body_markdown":"The reason this is hard to do is because you really, really should not be doing it.  No one should do it.  Class A should function in exactly the same manner for every caller.","body":"The reason this is hard to do is because you really, really should not be doing it.  No one should do it.  Class A should function in exactly the same manner for every caller."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652362087,"creation_date":1652362087,"answer_id":72216494,"question_id":72216368,"body_markdown":"I very much doubt it&#39;s possible, but would be interested to hear otherwise. The reason I doubt it is because it&#39;s not an instance that calls a method, but another method. The calling method can be found easily through the stack trace (e.g. throw &amp; catch an exception and examine its stack trace to find the caller). However, the _instance_ is just a hidden argument to the method, and we have no way of knowing what arguments the calling method was called with. (At least, not to my knowledge.)\r\n\r\nSo, I think passing `this` to the other method is the only way.","title":"Java, get calling instance","body":"<p>I very much doubt it's possible, but would be interested to hear otherwise. The reason I doubt it is because it's not an instance that calls a method, but another method. The calling method can be found easily through the stack trace (e.g. throw &amp; catch an exception and examine its stack trace to find the caller). However, the <em>instance</em> is just a hidden argument to the method, and we have no way of knowing what arguments the calling method was called with. (At least, not to my knowledge.)</p>\n<p>So, I think passing <code>this</code> to the other method is the only way.</p>\n"}],"owner":{"account_id":11762120,"reputation":541,"user_id":9074554,"display_name":"Ma Sch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652519183,"answer_count":1,"score":0,"last_activity_date":1652519170,"creation_date":1652361601,"question_id":72216368,"body_markdown":"Following example\r\n\r\n    public class C{\r\n        A myA;\r\n\r\n        public C(){\r\n            myA = new A();\r\n        }\r\n    }\r\n\r\n    public class A{\r\n        C myOrigin;\r\n\r\n        public A(){\r\n             // How to set myOrigin to the instance \r\n             // which invoke this.\r\n        }\r\n    }\r\n\r\n\r\nIs there any way, to get the instance of class C, which creates the instance of A (inside this instance). With other words: Does an instance of A know the object from where it was initialised. \r\n\r\nI know, I can use *this* as an parameter,\r\n\r\n    public class C{\r\n        A myA;\r\n\r\n        public C(){\r\n            myA = new A(this);\r\n        }\r\n    }\r\n\r\n\r\n    public class A{\r\n        C myOrigin;\r\n\r\n        public A(Object pObject){\r\n             myOrigin = pObject;\r\n        }\r\n    }\r\n\r\nbut I&#39;m searching for a way without any parameter.","title":"Java, get calling instance","body":"<p>Following example</p>\n<pre><code>public class C{\n    A myA;\n\n    public C(){\n        myA = new A();\n    }\n}\n\npublic class A{\n    C myOrigin;\n\n    public A(){\n         // How to set myOrigin to the instance \n         // which invoke this.\n    }\n}\n</code></pre>\n<p>Is there any way, to get the instance of class C, which creates the instance of A (inside this instance). With other words: Does an instance of A know the object from where it was initialised.</p>\n<p>I know, I can use <em>this</em> as an parameter,</p>\n<pre><code>public class C{\n    A myA;\n\n    public C(){\n        myA = new A(this);\n    }\n}\n\n\npublic class A{\n    C myOrigin;\n\n    public A(Object pObject){\n         myOrigin = pObject;\n    }\n}\n</code></pre>\n<p>but I'm searching for a way without any parameter.</p>\n"},{"tags":["java","json","serialization","jackson","annotations"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652518955,"creation_date":1652518955,"answer_id":72238749,"question_id":72234808,"body_markdown":"It&#39;s working as expected. When you add the `JsonTypeInfo` and `JsonSubTypes` annotations to your `Shape` class like you have done below:\r\n\r\n~~~\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\r\n})\r\npublic abstract class Shape {}\r\n~~~\r\n\r\nYou are informing jackson you are expecting to find a property named `type` in every json you want to deserialize to the `Shape` class and in case of absence jackson will raise an error, moreover the `type` property will be serialized with its value. You are also informing jackson that in case the value associated to the `type` property is *circle* the json has to be deserialized as a `Circle` object. \r\n\r\nThis behaviour is particularly useful when you are not aware of which type of object has to be deserialized or serialized like the example below :\r\n\r\n~~~\r\nString json = &quot;{\\&quot;type\\&quot;: \\&quot;circle\\&quot;, \\&quot;r\\&quot;: 25 }&quot;;\r\nObjectMapper om = new ObjectMapper();\r\n//I don&#39;t know json is a circle object but it can be deserialized as a Shape\r\nShape circle = om.readValue(json, Shape.class);\r\nSystem.out.println(circle instanceof Circle); //&lt;-- it prints true\r\n//ok type is present with value circle {&quot;type&quot;:&quot;circle&quot;,&quot;r&quot;:25}\r\nSystem.out.println(mapper.writeValueAsString(circle)); \r\n~~~\r\n\r\nSame approach is used with a `ListOfShapes` wrapper class:\r\n\r\n~~~\r\nString json = &quot;{\\&quot;type\\&quot;: \\&quot;circle\\&quot;, \\&quot;r\\&quot;: 25 }&quot;;\r\nObjectMapper om = new ObjectMapper();\r\nShape circle = om.readValue(json, Shape.class);\r\n//instantiate the wrapper class\r\nListOfShapes listOfShapes = new ListOfShapes();\r\nlistOfShapes.shapes = List.of(circle);\r\njson = mapper.writeValueAsString(listOfShapes);\r\n//it prints {&quot;shapes&quot;:[{&quot;type&quot;:&quot;circle&quot;,&quot;r&quot;:25}]}\r\nSystem.out.println(json);\r\nlistOfShapes = om.readValue(json, ListOfShapes.class);\r\n//ok list inside contains the Circle object\r\nSystem.out.println(listOfShapes);\r\n~~~\r\n\r\n","title":"Jackson serialization/deserialization problems when using @JsonTypeInfo. Can someone explain to me how this is working?","body":"<p>It's working as expected. When you add the <code>JsonTypeInfo</code> and <code>JsonSubTypes</code> annotations to your <code>Shape</code> class like you have done below:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\n})\npublic abstract class Shape {}\n</code></pre>\n<p>You are informing jackson you are expecting to find a property named <code>type</code> in every json you want to deserialize to the <code>Shape</code> class and in case of absence jackson will raise an error, moreover the <code>type</code> property will be serialized with its value. You are also informing jackson that in case the value associated to the <code>type</code> property is <em>circle</em> the json has to be deserialized as a <code>Circle</code> object.</p>\n<p>This behaviour is particularly useful when you are not aware of which type of object has to be deserialized or serialized like the example below :</p>\n<pre><code>String json = &quot;{\\&quot;type\\&quot;: \\&quot;circle\\&quot;, \\&quot;r\\&quot;: 25 }&quot;;\nObjectMapper om = new ObjectMapper();\n//I don't know json is a circle object but it can be deserialized as a Shape\nShape circle = om.readValue(json, Shape.class);\nSystem.out.println(circle instanceof Circle); //&lt;-- it prints true\n//ok type is present with value circle {&quot;type&quot;:&quot;circle&quot;,&quot;r&quot;:25}\nSystem.out.println(mapper.writeValueAsString(circle)); \n</code></pre>\n<p>Same approach is used with a <code>ListOfShapes</code> wrapper class:</p>\n<pre><code>String json = &quot;{\\&quot;type\\&quot;: \\&quot;circle\\&quot;, \\&quot;r\\&quot;: 25 }&quot;;\nObjectMapper om = new ObjectMapper();\nShape circle = om.readValue(json, Shape.class);\n//instantiate the wrapper class\nListOfShapes listOfShapes = new ListOfShapes();\nlistOfShapes.shapes = List.of(circle);\njson = mapper.writeValueAsString(listOfShapes);\n//it prints {&quot;shapes&quot;:[{&quot;type&quot;:&quot;circle&quot;,&quot;r&quot;:25}]}\nSystem.out.println(json);\nlistOfShapes = om.readValue(json, ListOfShapes.class);\n//ok list inside contains the Circle object\nSystem.out.println(listOfShapes);\n</code></pre>\n"}],"owner":{"account_id":21341966,"reputation":81,"user_id":15712331,"display_name":"jgialis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72238749,"answer_count":1,"score":1,"last_activity_date":1652518955,"creation_date":1652471684,"question_id":72234808,"body_markdown":"Say I have these classes\r\n\r\n```\r\npublic abstract class Shape {}\r\n\r\npublic class Circle extends Shape{\r\n    private int r;\r\n    ...\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String [] args) {\r\n         String json = &quot;{\\&quot;r\\&quot;: 25 }&quot;;\r\n         ObjectMapper om = new ObjectMapper();\r\n\r\n         //WORKS FINE\r\n         Circle circle = om.readValue(json, Circle.class); \r\n    }\r\n}\r\n```\r\n\r\n\r\nNow, say I want to add another class that will contain a list of *Shape* objects. I understand that to deserialize this class, I will have to add @JsonTypeInfo.\r\n\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\r\n})\r\npublic abstract class Shape {}\r\n\r\npublic class Circle extends Shape{...}\r\n\r\npublic class ListOfShapes {\r\n    List&lt;Shape&gt; shapes;\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String [] args) {\r\n         String json = &quot;{\\&quot;r\\&quot;: 25 }&quot;;\r\n         ObjectMapper om = new ObjectMapper();\r\n\r\n         //DOES NOT WORK\r\n         Circle circle = om.readValue(json, Circle.class); \r\n    }\r\n}\r\n```\r\n\r\nI am able to successfully serialize the *ListOfShapes* object now using these annotations but I am no longer able to serialize the circle class. I also noticed that the json schema changed a bit when I serialized the class so I now have an extra key (&quot;type&quot;): \r\n```\r\n{\r\n    &quot;type&quot;: &quot;circle&quot;,\r\n    &quot;r&quot;: 5\r\n}\r\n```\r\n\r\nThe work around for me at the moment is to change the json string a bit by adding that new key value pair:\r\n```\r\nString json = &quot;{\\&quot;type\\&quot;: \\&quot;circle\\&quot;, \\&quot;r\\&quot;: 25 }&quot;;\r\n```\r\n\r\n**Can someone explain to me whats going on here?** \r\n**Why am I not able to serialize the circle object any more?**\r\n**Why does the json schema change, by the addition of a new key value pair?**\r\n\r\nThank you for your time.","title":"Jackson serialization/deserialization problems when using @JsonTypeInfo. Can someone explain to me how this is working?","body":"<p>Say I have these classes</p>\n<pre><code>public abstract class Shape {}\n\npublic class Circle extends Shape{\n    private int r;\n    ...\n}\n\npublic class Main {\n    public static void main(String [] args) {\n         String json = &quot;{\\&quot;r\\&quot;: 25 }&quot;;\n         ObjectMapper om = new ObjectMapper();\n\n         //WORKS FINE\n         Circle circle = om.readValue(json, Circle.class); \n    }\n}\n</code></pre>\n<p>Now, say I want to add another class that will contain a list of <em>Shape</em> objects. I understand that to deserialize this class, I will have to add @JsonTypeInfo.</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Circle.class, name = &quot;circle&quot;)\n})\npublic abstract class Shape {}\n\npublic class Circle extends Shape{...}\n\npublic class ListOfShapes {\n    List&lt;Shape&gt; shapes;\n}\n\npublic class Main {\n    public static void main(String [] args) {\n         String json = &quot;{\\&quot;r\\&quot;: 25 }&quot;;\n         ObjectMapper om = new ObjectMapper();\n\n         //DOES NOT WORK\n         Circle circle = om.readValue(json, Circle.class); \n    }\n}\n</code></pre>\n<p>I am able to successfully serialize the <em>ListOfShapes</em> object now using these annotations but I am no longer able to serialize the circle class. I also noticed that the json schema changed a bit when I serialized the class so I now have an extra key (&quot;type&quot;):</p>\n<pre><code>{\n    &quot;type&quot;: &quot;circle&quot;,\n    &quot;r&quot;: 5\n}\n</code></pre>\n<p>The work around for me at the moment is to change the json string a bit by adding that new key value pair:</p>\n<pre><code>String json = &quot;{\\&quot;type\\&quot;: \\&quot;circle\\&quot;, \\&quot;r\\&quot;: 25 }&quot;;\n</code></pre>\n<p><strong>Can someone explain to me whats going on here?</strong>\n<strong>Why am I not able to serialize the circle object any more?</strong>\n<strong>Why does the json schema change, by the addition of a new key value pair?</strong></p>\n<p>Thank you for your time.</p>\n"},{"tags":["java","elasticsearch","terminal"],"comments":[{"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"score":0,"creation_date":1642106078,"post_id":70699417,"comment_id":124990519,"body_markdown":"What user you&#39;re running it under? Who&#39;s current owner and what permissions do `/home/ubuntu/data/stepa/elasticsearch-7.16.2/logs` and `/home/ubuntu/data/stepa/elasticsearch-7.16.2` have?","body":"What user you&#39;re running it under? Who&#39;s current owner and what permissions do <code>&#47;home&#47;ubuntu&#47;data&#47;stepa&#47;elasticsearch-7.16.2&#47;logs</code> and <code>&#47;home&#47;ubuntu&#47;data&#47;stepa&#47;elasticsearch-7.16.2</code> have?"},{"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"score":0,"creation_date":1642162428,"post_id":70699417,"comment_id":125003496,"body_markdown":"whoami: ubuntu,  owner: root,              \n/home/ubuntu/data/stepa/elasticsearch-7.16.2/logs: -rw-r--r--  /home/ubuntu/data/stepa/elasticsearch-7.16.2: drwxr-xr-x","body":"whoami: ubuntu,  owner: root,               /home/ubuntu/data/stepa/elasticsearch-7.16.2/logs: -rw-r--r--  /home/ubuntu/data/stepa/elasticsearch-7.16.2: drwxr-xr-x"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642851752,"post_id":70699417,"comment_id":125185403,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642164278,"creation_date":1642164278,"answer_id":70710762,"question_id":70699417,"body_markdown":"Finally, I found the solution. Log lines mean problems with rights. Current user has to be an owner of directory. In my case owner of `/home/ubuntu/data/stepa/elasticsearch-7.16.2/logs/` was root. I changed it using this command `sudo chown username:group /home/ubuntu/data/stepa/elasticsearch-7.16.2/logs` \r\n(&quot;ubuntu: &quot; in my case because group is default and username is ubuntu)\r\n\r\nThanks to [ilvar][1] for clues.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1215136/ilvar","title":"Can not run Elastic Search on ubuntu (Error opening log file)","body":"<p>Finally, I found the solution. Log lines mean problems with rights. Current user has to be an owner of directory. In my case owner of <code>/home/ubuntu/data/stepa/elasticsearch-7.16.2/logs/</code> was root. I changed it using this command <code>sudo chown username:group /home/ubuntu/data/stepa/elasticsearch-7.16.2/logs</code>\n(&quot;ubuntu: &quot; in my case because group is default and username is ubuntu)</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/1215136/ilvar\">ilvar</a> for clues.</p>\n"}],"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70710762,"answer_count":1,"score":0,"last_activity_date":1652518568,"creation_date":1642089172,"question_id":70699417,"body_markdown":"I have problems with running Elastic Search on my ubuntu 20.04 server (I can do it locally). When I run  `./bin/elasticsearch` in terminal I get lines below\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: starting java failed with [1]\r\noutput:\r\n[0.000s][error][logging] Error opening log file &#39;logs/gc.log&#39;: Permission denied\r\n[0.001s][error][logging] Initialization of output &#39;file=logs/gc.log&#39; using options &#39;filecount=32,filesize=64m&#39; failed.\r\nerror:\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nCould not rename log file &#39;logs/gc.log&#39; to &#39;logs/gc.log.05&#39; (Permission denied).\r\nInvalid -Xlog option &#39;-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m&#39;, see error log for details.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\tat org.elasticsearch.tools.launchers.JvmOption.flagsFinal(JvmOption.java:119)\r\n\tat org.elasticsearch.tools.launchers.JvmOption.findFinalOptions(JvmOption.java:81)\r\n\tat org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:38)\r\n\tat org.elasticsearch.tools.launchers.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:135)\r\n\tat org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:86)\r\n```\r\nWhat I tried: `sudo chmod -R +w /home/ubuntu/data/stepa/elasticsearch-7.16.2/logs/`. It didn&#39;t help.\r\nI didn&#39;t succeed to find answer on elastic search forum. \r\nThank you for any help.\r\n","title":"Can not run Elastic Search on ubuntu (Error opening log file)","body":"<p>I have problems with running Elastic Search on my ubuntu 20.04 server (I can do it locally). When I run  <code>./bin/elasticsearch</code> in terminal I get lines below</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: starting java failed with [1]\noutput:\n[0.000s][error][logging] Error opening log file 'logs/gc.log': Permission denied\n[0.001s][error][logging] Initialization of output 'file=logs/gc.log' using options 'filecount=32,filesize=64m' failed.\nerror:\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\nCould not rename log file 'logs/gc.log' to 'logs/gc.log.05' (Permission denied).\nInvalid -Xlog option '-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m', see error log for details.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n    at org.elasticsearch.tools.launchers.JvmOption.flagsFinal(JvmOption.java:119)\n    at org.elasticsearch.tools.launchers.JvmOption.findFinalOptions(JvmOption.java:81)\n    at org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:38)\n    at org.elasticsearch.tools.launchers.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:135)\n    at org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:86)\n</code></pre>\n<p>What I tried: <code>sudo chmod -R +w /home/ubuntu/data/stepa/elasticsearch-7.16.2/logs/</code>. It didn't help.\nI didn't succeed to find answer on elastic search forum.\nThank you for any help.</p>\n"},{"tags":["java","sql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":25251803,"reputation":88,"user_id":19084192,"display_name":"Kaiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652428984,"creation_date":1652427611,"answer_id":72226013,"question_id":72225584,"body_markdown":"Yes, **?** is a placeholder that is filled with &quot;Fritz%&quot;.\r\n\r\n**%** it&#39;s a wildcard, and it is often used with ```like``` like in this case.  \r\nBasically the query search for every Cat whose name start with &quot;Fritz&quot;.\r\n\r\n**EDIT**  \r\nI didn&#39;t get what was your concern with ```lower(Fritz%)``` at first, but as XtremeBaumer suggested, the query is actually converted to ```lower(&#39;Fritz%&#39;)```","title":"How Hibernate process &#39;?&#39;","body":"<p>Yes, <strong>?</strong> is a placeholder that is filled with &quot;Fritz%&quot;.</p>\n<p><strong>%</strong> it's a wildcard, and it is often used with <code>like</code> like in this case.<br />\nBasically the query search for every Cat whose name start with &quot;Fritz&quot;.</p>\n<p><strong>EDIT</strong><br />\nI didn't get what was your concern with <code>lower(Fritz%)</code> at first, but as XtremeBaumer suggested, the query is actually converted to <code>lower('Fritz%')</code></p>\n"}],"owner":{"account_id":3528225,"reputation":1214,"user_id":2948684,"accept_rate":93,"display_name":"Adam Shakhabov"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652432811,"accepted_answer_id":72226013,"answer_count":1,"score":0,"last_activity_date":1652518057,"creation_date":1652425234,"question_id":72225584,"body_markdown":"I&#39;m new in Hibernate. I can&#39;t understand how Hibernate process **?** in `Restrictions.sqlRestriction()` method. For example, there is a sample from official [guide][1]:\r\n\r\n    List cats = sess.createCriteria(Cat.class)\r\n        .add( Restrictions.sqlRestriction(&quot;lower({alias}.name) like lower(?)&quot;, &quot;Fritz%&quot;, Hibernate.STRING) )\r\n        .list();\r\n\r\nLooks like it is a placeholder. Will Hibernate convert this statement in `...like lower(Fritz%)` SQL request?\r\n\r\nIf yes, then `lower(Fritz%)` doesn&#39;t looks valid, correct?\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.5/reference/en/html/querycriteria.html","title":"How Hibernate process &#39;?&#39;","body":"<p>I'm new in Hibernate. I can't understand how Hibernate process <strong>?</strong> in <code>Restrictions.sqlRestriction()</code> method. For example, there is a sample from official <a href=\"https://docs.jboss.org/hibernate/orm/3.5/reference/en/html/querycriteria.html\" rel=\"nofollow noreferrer\">guide</a>:</p>\n<pre><code>List cats = sess.createCriteria(Cat.class)\n    .add( Restrictions.sqlRestriction(&quot;lower({alias}.name) like lower(?)&quot;, &quot;Fritz%&quot;, Hibernate.STRING) )\n    .list();\n</code></pre>\n<p>Looks like it is a placeholder. Will Hibernate convert this statement in <code>...like lower(Fritz%)</code> SQL request?</p>\n<p>If yes, then <code>lower(Fritz%)</code> doesn't looks valid, correct?</p>\n"},{"tags":["java","regex","kotlin","regex-group"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652517290,"creation_date":1652517290,"answer_id":72238571,"question_id":72238564,"body_markdown":"You can use\r\n```none\r\n\\{(#[a-zA-Z0-9]{6})\\}(.*?)(?=\\{#[a-zA-Z0-9]{6}\\}|$)\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `\\{` - a `{` char\r\n - `(#[a-zA-Z0-9]{6})` - Group 1: a `#` char and six alphanumerics\r\n - `\\}` - a `}` char\r\n - `(.*?)` - Group 2: any zero or more chars other than line break chars as few as possible\r\n - `(?=\\{#[a-zA-Z0-9]{6}\\}|$)` - a position immediately followed with a `{`, `#`, six alphanumerics and a `}` char, or end of string.\r\n\r\n\r\n  [1]: https://regex101.com/r/lVClwM/1","title":"Regular expression to match pattern and text afterwards until that pattern occurs again, then repeat","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\{(#[a-zA-Z0-9]{6})\\}(.*?)(?=\\{#[a-zA-Z0-9]{6}\\}|$)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/lVClwM/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>\\{</code> - a <code>{</code> char</li>\n<li><code>(#[a-zA-Z0-9]{6})</code> - Group 1: a <code>#</code> char and six alphanumerics</li>\n<li><code>\\}</code> - a <code>}</code> char</li>\n<li><code>(.*?)</code> - Group 2: any zero or more chars other than line break chars as few as possible</li>\n<li><code>(?=\\{#[a-zA-Z0-9]{6}\\}|$)</code> - a position immediately followed with a <code>{</code>, <code>#</code>, six alphanumerics and a <code>}</code> char, or end of string.</li>\n</ul>\n"}],"owner":{"account_id":16514996,"reputation":133,"user_id":11932726,"display_name":"H4kt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72238571,"answer_count":1,"score":1,"last_activity_date":1652517290,"creation_date":1652517198,"question_id":72238564,"body_markdown":"I&#39;m trying to write a regex for my Kotlin/JVM program that satisfies:&lt;br /&gt;\r\nGiven this line of text `{#FF00FF}test1{#112233}{placeholder} test2`&lt;br /&gt;\r\nIt should match:&lt;br /&gt;\r\nMatch 1: `#FF00FF` as group 1 and `test1` as group 2&lt;br /&gt;\r\nMatch 2: `#112233` as group 1 and `{placeholder} test2` as group 2\r\n\r\n`#FF00FF` can be any valid 6 character hex color code.\r\n\r\nThe thing I&#39;m struggling with is to match the text after the color pattern until another color pattern comes up.&lt;br /&gt;\r\nCurrent regex I came up with is `\\{(#[a-zA-Z0-9]{6})\\}((?!\\{#[a-zA-Z0-9]{6}\\}).*)`","title":"Regular expression to match pattern and text afterwards until that pattern occurs again, then repeat","body":"<p>I'm trying to write a regex for my Kotlin/JVM program that satisfies:<br />\nGiven this line of text <code>{#FF00FF}test1{#112233}{placeholder} test2</code><br />\nIt should match:<br />\nMatch 1: <code>#FF00FF</code> as group 1 and <code>test1</code> as group 2<br />\nMatch 2: <code>#112233</code> as group 1 and <code>{placeholder} test2</code> as group 2</p>\n<p><code>#FF00FF</code> can be any valid 6 character hex color code.</p>\n<p>The thing I'm struggling with is to match the text after the color pattern until another color pattern comes up.<br />\nCurrent regex I came up with is <code>\\{(#[a-zA-Z0-9]{6})\\}((?!\\{#[a-zA-Z0-9]{6}\\}).*)</code></p>\n"},{"tags":["java","android","react-native","android-intent"],"answers":[{"tags":[],"owner":{"account_id":21834033,"reputation":1,"user_id":16128603,"display_name":"Prx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652434899,"creation_date":1652434899,"answer_id":72227490,"question_id":72203936,"body_markdown":"I put some more info I got and I please ask for some corrections since I am null in Java writting : \r\n\r\nI want to make a native Android module (in java) (as described on RN site : https://reactnative.dev/docs/native-modules-android)\r\nto catch the text (&#39;extra_text&#39;) sent by an intent of another app, named &quot;manuf&quot;.\r\n\r\nThe class &#39;scan_intent.java&#39; I wrote here has many mistakes (with &quot;//error&quot;:\r\n\r\n\r\n    package com.intent_scan;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    \r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n    \r\n    import org.w3c.dom.Text;\r\n    \r\n    public class ScanIntent extends ReactContextBaseJavaModule {\r\n        //constructor\r\n        // normaly : &quot;public class ScanIntent extends BroadcastReceiver&quot; : how to add this ?\r\n        public ScanIntent(ReactApplicationContext reactContext) {\r\n            super(reactContext);\r\n        }\r\n     @Override\r\n    public String getName() {\r\n       return &quot;ScanIntent&quot;;\r\n    }\r\n        //Custom function that we are going to export to JS\r\n        @ReactMethod\r\n        public void onReceive(Context context, Intent intent, String extra_text){\r\n            if  (&quot;manuf.scanservice.data&quot;.equals(intent.getAction()))\r\n            {\r\n            getReactApplicationContext().registerReceiver //error on registerR...\r\n            try {\r\n                Bundle extras = intent.getExtras();\r\n                if (extras != null) {\r\n                    extra_text = extras.getString(&quot;text&quot;); //error : this value will be returned ?\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n    \r\n            }\r\n    \r\n    }}\r\n\r\nthank you  !","title":"Howto getExtras from a local broadcast Intent in react-native","body":"<p>I put some more info I got and I please ask for some corrections since I am null in Java writting :</p>\n<p>I want to make a native Android module (in java) (as described on RN site : <a href=\"https://reactnative.dev/docs/native-modules-android\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android</a>)\nto catch the text ('extra_text') sent by an intent of another app, named &quot;manuf&quot;.</p>\n<p>The class 'scan_intent.java' I wrote here has many mistakes (with &quot;//error&quot;:</p>\n<pre><code>package com.intent_scan;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\nimport org.w3c.dom.Text;\n\npublic class ScanIntent extends ReactContextBaseJavaModule {\n    //constructor\n    // normaly : &quot;public class ScanIntent extends BroadcastReceiver&quot; : how to add this ?\n    public ScanIntent(ReactApplicationContext reactContext) {\n        super(reactContext);\n    }\n @Override\npublic String getName() {\n   return &quot;ScanIntent&quot;;\n}\n    //Custom function that we are going to export to JS\n    @ReactMethod\n    public void onReceive(Context context, Intent intent, String extra_text){\n        if  (&quot;manuf.scanservice.data&quot;.equals(intent.getAction()))\n        {\n        getReactApplicationContext().registerReceiver //error on registerR...\n        try {\n            Bundle extras = intent.getExtras();\n            if (extras != null) {\n                extra_text = extras.getString(&quot;text&quot;); //error : this value will be returned ?\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n\n        }\n\n}}\n</code></pre>\n<p>thank you  !</p>\n"}],"owner":{"account_id":21834033,"reputation":1,"user_id":16128603,"display_name":"Prx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652517041,"creation_date":1652283762,"question_id":72203936,"body_markdown":"in my React-Native opened project, \r\nI want to receive the data (extra text) sent by another local service app named &quot;scanservice&quot; on its intent output (broadcast) on a Action named &quot;scanservice.data&quot; , \r\nand I do not know how to start &amp; write that : someone can help me please?\r\nI have tried without success HeadlessJs, Linking solutions.","title":"Howto getExtras from a local broadcast Intent in react-native","body":"<p>in my React-Native opened project,\nI want to receive the data (extra text) sent by another local service app named &quot;scanservice&quot; on its intent output (broadcast) on a Action named &quot;scanservice.data&quot; ,\nand I do not know how to start &amp; write that : someone can help me please?\nI have tried without success HeadlessJs, Linking solutions.</p>\n"},{"tags":["java","javassist"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1651218651,"post_id":71990918,"comment_id":127316370,"body_markdown":"For me the module compiles and all tests pass both in Maven and when running the test class or a single method from IntelliJ IDEA. Without further information, I cannot say what causes your problem. What did you change in the code?","body":"For me the module compiles and all tests pass both in Maven and when running the test class or a single method from IntelliJ IDEA. Without further information, I cannot say what causes your problem. What did you change in the code?"},{"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"score":0,"creation_date":1652025567,"post_id":71990918,"comment_id":127500766,"body_markdown":"I did not change anything. How did you run the maven test?","body":"I did not change anything. How did you run the maven test?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1652517185,"post_id":71990918,"comment_id":127629099,"body_markdown":"`mvn test`, of course.","body":"<code>mvn test</code>, of course."}],"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652516690,"creation_date":1650822603,"question_id":71990918,"body_markdown":"I am following this tutorial to learn javassist. \r\nhttps://www.baeldung.com/javassist\r\n\r\nI was trying to compile the libraries code from the tutorial below\r\nhttps://github.com/eugenp/tutorials/tree/master/libraries\r\nNOTE the some tutorial folders name javasisst \r\n\r\nI was able to compile the project and generated \r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    ./target/classes/com/baeldung/javasisst/Point.class\r\n\r\n\r\nBut when I ran the unitest in test/java/javassist/JavasisstUnitTest folder\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void givenJavaClass_whenLoadAtByJavassist_thenTraversWholeClass() throws NotFoundException, CannotCompileException, BadBytecode {\r\n\r\nI got this error\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    javassist.NotFoundException: com.baeldung.javasisst.Point\r\n    \r\n    \tat javassist.ClassPool.get(ClassPool.java:452)\r\n    \tat com.baeldung.javassist.JavasisstUnitTest.givenJavaClass_whenLoadAtByJavassist_thenTraversWholeClass(JavasisstUnitTest.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\nI am confused because the `com.baeldung.javasisst.Point` should be the `./target/classes/com/baeldung/javasisst/Point.class`. \r\n\r\nJava newbie here. Any hints would be appreciated!","title":"javassist.NotFoundException: com.baeldung.javasisst.Point","body":"<p>I am following this tutorial to learn javassist.\n<a href=\"https://www.baeldung.com/javassist\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javassist</a></p>\n<p>I was trying to compile the libraries code from the tutorial below\n<a href=\"https://github.com/eugenp/tutorials/tree/master/libraries\" rel=\"nofollow noreferrer\">https://github.com/eugenp/tutorials/tree/master/libraries</a>\nNOTE the some tutorial folders name javasisst</p>\n<p>I was able to compile the project and generated</p>\n<pre class=\"lang-none prettyprint-override\"><code>./target/classes/com/baeldung/javasisst/Point.class\n</code></pre>\n<p>But when I ran the unitest in test/java/javassist/JavasisstUnitTest folder</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void givenJavaClass_whenLoadAtByJavassist_thenTraversWholeClass() throws NotFoundException, CannotCompileException, BadBytecode {\n</code></pre>\n<p>I got this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>javassist.NotFoundException: com.baeldung.javasisst.Point\n\n    at javassist.ClassPool.get(ClassPool.java:452)\n    at com.baeldung.javassist.JavasisstUnitTest.givenJavaClass_whenLoadAtByJavassist_thenTraversWholeClass(JavasisstUnitTest.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>I am confused because the <code>com.baeldung.javasisst.Point</code> should be the <code>./target/classes/com/baeldung/javasisst/Point.class</code>.</p>\n<p>Java newbie here. Any hints would be appreciated!</p>\n"},{"tags":["java","timer"],"comments":[{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1407954488,"post_id":25293459,"comment_id":39419306,"body_markdown":"what is the initial values of i2?","body":"what is the initial values of i2?"},{"owner":{"account_id":1212714,"reputation":5390,"user_id":1180966,"accept_rate":90,"display_name":"Mike B"},"score":0,"creation_date":1407954621,"post_id":25293459,"comment_id":39419389,"body_markdown":"And what happens when you run this code?","body":"And what happens when you run this code?"},{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":0,"creation_date":1407954645,"post_id":25293459,"comment_id":39419412,"body_markdown":"Do you want to cancel just that current task or all tasks being executed by the Timer?","body":"Do you want to cancel just that current task or all tasks being executed by the Timer?"},{"owner":{"account_id":4852443,"reputation":85,"user_id":3914392,"accept_rate":80,"display_name":"Yoav Levavi"},"score":0,"creation_date":1407954711,"post_id":25293459,"comment_id":39419445,"body_markdown":"This is not matter i just want the timer cancel when i2 is equal to 690","body":"This is not matter i just want the timer cancel when i2 is equal to 690"},{"owner":{"account_id":4852443,"reputation":85,"user_id":3914392,"accept_rate":80,"display_name":"Yoav Levavi"},"score":0,"creation_date":1407956523,"post_id":25293459,"comment_id":39420468,"body_markdown":"It&#39;s ok i got what i need thanks for your help :)","body":"It&#39;s ok i got what i need thanks for your help :)"}],"answers":[{"tags":[],"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407954976,"creation_date":1407954510,"answer_id":25293523,"question_id":25293459,"body_markdown":"You have to call [TimerTask.cancel()](http://docs.oracle.com/javase/8/docs/api/java/util/TimerTask.html#cancel--). So just call this.cancel() in the run() method there, instead of on timer (as `this` will refer to the anonymous class instance that the run method belongs to).\r\n\r\n\r\nIf you need to cancel other tasks executed by the timer, Timer.cancel() will stop those as well (what you are currently doing), but does not stop the current executing TimerTask which is why the above cancel on the TimerTask is needed.\r\n\r\n\r\n[To quote from the Javadocs of Timer.cancel()](http://docs.oracle.com/javase/8/docs/api/java/util/Timer.html#cancel--)\r\n\r\n&gt; Does not interfere with a currently executing task (if it exists).\r\n\r\n...\r\n\r\n&gt; Note that calling this method from within the run method of a timer task that was invoked by this timer absolutely guarantees that the ongoing task execution is the last task execution that will ever be performed by this timer.\r\n\r\nSo combining both cancels should do the trick of canceling the entire Timer if that is what you need.","title":"How to cancel the timer on java?","body":"<p>You have to call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/TimerTask.html#cancel--\" rel=\"nofollow\">TimerTask.cancel()</a>. So just call this.cancel() in the run() method there, instead of on timer (as <code>this</code> will refer to the anonymous class instance that the run method belongs to).</p>\n\n<p>If you need to cancel other tasks executed by the timer, Timer.cancel() will stop those as well (what you are currently doing), but does not stop the current executing TimerTask which is why the above cancel on the TimerTask is needed.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Timer.html#cancel--\" rel=\"nofollow\">To quote from the Javadocs of Timer.cancel()</a></p>\n\n<blockquote>\n  <p>Does not interfere with a currently executing task (if it exists).</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Note that calling this method from within the run method of a timer task that was invoked by this timer absolutely guarantees that the ongoing task execution is the last task execution that will ever be performed by this timer.</p>\n</blockquote>\n\n<p>So combining both cancels should do the trick of canceling the entire Timer if that is what you need.</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407954973,"creation_date":1407954663,"answer_id":25293561,"question_id":25293459,"body_markdown":"Try \r\n\r\n    if (i2 == 690) {\r\n    timer.cancel();\r\n    timer.purge(); \r\n    return;\r\n    }\r\n\r\n[Timer#cancel()][1]-Terminates this timer, discarding any currently scheduled tasks.Does not interfere with a currently executing task (if it exists)\r\n\r\n[Timer#purge()][2] - Removes all cancelled tasks from this timer&#39;s task queue.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html#cancel()\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html#purge()","title":"How to cancel the timer on java?","body":"<p>Try </p>\n\n<pre><code>if (i2 == 690) {\ntimer.cancel();\ntimer.purge(); \nreturn;\n}\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html#cancel()\" rel=\"nofollow\">Timer#cancel()</a>-Terminates this timer, discarding any currently scheduled tasks.Does not interfere with a currently executing task (if it exists)</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html#purge()\" rel=\"nofollow\">Timer#purge()</a> - Removes all cancelled tasks from this timer's task queue.</p>\n"},{"tags":[],"owner":{"account_id":23281121,"reputation":67,"user_id":17364557,"display_name":"Muhammed Murat G&#246;ktaş"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652516185,"creation_date":1652516185,"answer_id":72238449,"question_id":25293459,"body_markdown":"You should cancel timerTask, if you want to cancel executing process timerTask.cancel(), but if you cancel all process after executing process timer.cancel();","title":"How to cancel the timer on java?","body":"<p>You should cancel timerTask, if you want to cancel executing process timerTask.cancel(), but if you cancel all process after executing process timer.cancel();</p>\n"}],"owner":{"account_id":4852443,"reputation":85,"user_id":3914392,"accept_rate":80,"display_name":"Yoav Levavi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25293523,"answer_count":3,"score":1,"last_activity_date":1652516185,"creation_date":1407954293,"question_id":25293459,"body_markdown":"How can I Cancel the timer when `i2 == 690`.\r\n\r\nThis is my code:\r\n\r\n    Timer timer = new Timer();\r\n\ttimer = new Timer(false);\r\n\ttimer.schedule(new TimerTask() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tif (i2 == 690) {\r\n\t\t\t\ttimer.cancel();\r\n\t\t\t}\r\n\t\t\ti2--;\r\n\t\t\tSystem.out.println(&quot;Java &quot; + i2);\r\n\t\t}\r\n\t}, 0, 1000);","title":"How to cancel the timer on java?","body":"<p>How can I Cancel the timer when <code>i2 == 690</code>.</p>\n\n<p>This is my code:</p>\n\n<pre><code>Timer timer = new Timer();\ntimer = new Timer(false);\ntimer.schedule(new TimerTask() {\n    @Override\n    public void run() {\n        if (i2 == 690) {\n            timer.cancel();\n        }\n        i2--;\n        System.out.println(\"Java \" + i2);\n    }\n}, 0, 1000);\n</code></pre>\n"},{"tags":["java","gradle","graalvm"],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652479013,"creation_date":1652479013,"answer_id":72235776,"question_id":72235715,"body_markdown":"hey there please try to see if you are required to add compiler for that, if yes then add to your plugins section in build.gradle\r\n```\r\n    id &quot;org.graalvm.plugin.compiler&quot; version &quot;0.1.0-alpha2&quot;\r\n```\r\n\r\nbtw,i run the code you got i have no issue and i can access to them, try to see your repositories as well.\r\ndocs are [here][1]\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/blob/master/sdk/README.md","title":"Graalvm not found within Java application","body":"<p>hey there please try to see if you are required to add compiler for that, if yes then add to your plugins section in build.gradle</p>\n<pre><code>    id &quot;org.graalvm.plugin.compiler&quot; version &quot;0.1.0-alpha2&quot;\n</code></pre>\n<p>btw,i run the code you got i have no issue and i can access to them, try to see your repositories as well.\ndocs are <a href=\"https://github.com/oracle/graal/blob/master/sdk/README.md\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72235776,"answer_count":1,"score":0,"last_activity_date":1652516060,"creation_date":1652478366,"question_id":72235715,"body_markdown":"I have an Apache Tomcat servlet in which I would like to run some _other_ language - for this purpose, I would like to try to get **Graalvm** functionality working within **OpenJDK 17**.\r\n\r\nI added the following dependency to my `build.gradle` file:\r\n\r\n    // https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk\r\n    implementation group: &#39;org.graalvm.sdk&#39;, name: &#39;graal-sdk&#39;, version: &#39;22.1.0&#39;\r\n\r\nThe Gradle file parses and runs without issue, however when I try to access the Graalvm classes in my application (servlet), nothing is found!?\r\n\r\n```java\r\nimport org.graalvm; // is not found\r\n```\r\n\r\nFor a first test, I&#39;d like to get something simple like the following to work:\r\n\r\n```java\r\nimport org.graalvm.polyglot.*;\r\nimport org.graalvm.polyglot.proxy.*;\r\n\r\n...\r\n\r\ntry (Context context = Context.create()) {\r\n    context.eval(&quot;js&quot;, &quot;print(&#39;Hello JavaScript!&#39;);&quot;);\r\n}\r\n```\r\n\r\nBut this fails, as the required class (Context) is not found. I&#39;m sure I&#39;m missing something simple, but what?\r\n\r\n**Update**\r\n\r\nThanks to @Mohammed Fataka suggestion, the Gradle build now runs successfully. My IDE (eclipse) was still showing compile errors, however a &quot;**Refresh Gradle Project**&quot; resolved that issue. (Right-click on the project within the **Package Explorer**, then **Gradle** -&gt; **Refresh Gradle Project**).\r\n\r\nI now have a new problem in that the resultant servlet crashes with the following error message: `IllegalStateException: No language and polyglot implementation was found on the classpath. Make sure the truffle-api.jar is on the classpath.`\r\n\r\nSo I added the following dependency:\r\n\r\n\t// https://mavenlibs.com/maven/dependency/com.oracle/truffle-api\r\n\timplementation group: &#39;com.oracle&#39;, name: &#39;truffle-api&#39;, version: &#39;0.8&#39;  \r\nBut this hasn&#39;t helped, the same error still occurs.\r\n\r\n**Update 2**\r\n\r\nI finally have it working, I needed to use a different dependency:\r\n\r\n\t// https://mvnrepository.com/artifact/org.graalvm.truffle/truffle-api\r\n\timplementation group: &#39;org.graalvm.truffle&#39;, name: &#39;truffle-api&#39;, version: &#39;22.1.0&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/org.graalvm.js/js\r\n\timplementation group: &#39;org.graalvm.js&#39;, name: &#39;js&#39;, version: &#39;22.1.0&#39;\r\n\r\nI hope this helps others...","title":"Graalvm not found within Java application","body":"<p>I have an Apache Tomcat servlet in which I would like to run some <em>other</em> language - for this purpose, I would like to try to get <strong>Graalvm</strong> functionality working within <strong>OpenJDK 17</strong>.</p>\n<p>I added the following dependency to my <code>build.gradle</code> file:</p>\n<pre><code>// https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk\nimplementation group: 'org.graalvm.sdk', name: 'graal-sdk', version: '22.1.0'\n</code></pre>\n<p>The Gradle file parses and runs without issue, however when I try to access the Graalvm classes in my application (servlet), nothing is found!?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.graalvm; // is not found\n</code></pre>\n<p>For a first test, I'd like to get something simple like the following to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.graalvm.polyglot.*;\nimport org.graalvm.polyglot.proxy.*;\n\n...\n\ntry (Context context = Context.create()) {\n    context.eval(&quot;js&quot;, &quot;print('Hello JavaScript!');&quot;);\n}\n</code></pre>\n<p>But this fails, as the required class (Context) is not found. I'm sure I'm missing something simple, but what?</p>\n<p><strong>Update</strong></p>\n<p>Thanks to @Mohammed Fataka suggestion, the Gradle build now runs successfully. My IDE (eclipse) was still showing compile errors, however a &quot;<strong>Refresh Gradle Project</strong>&quot; resolved that issue. (Right-click on the project within the <strong>Package Explorer</strong>, then <strong>Gradle</strong> -&gt; <strong>Refresh Gradle Project</strong>).</p>\n<p>I now have a new problem in that the resultant servlet crashes with the following error message: <code>IllegalStateException: No language and polyglot implementation was found on the classpath. Make sure the truffle-api.jar is on the classpath.</code></p>\n<p>So I added the following dependency:</p>\n<pre><code>// https://mavenlibs.com/maven/dependency/com.oracle/truffle-api\nimplementation group: 'com.oracle', name: 'truffle-api', version: '0.8'  \n</code></pre>\n<p>But this hasn't helped, the same error still occurs.</p>\n<p><strong>Update 2</strong></p>\n<p>I finally have it working, I needed to use a different dependency:</p>\n<pre><code>// https://mvnrepository.com/artifact/org.graalvm.truffle/truffle-api\nimplementation group: 'org.graalvm.truffle', name: 'truffle-api', version: '22.1.0'\n\n// https://mvnrepository.com/artifact/org.graalvm.js/js\nimplementation group: 'org.graalvm.js', name: 'js', version: '22.1.0'\n</code></pre>\n<p>I hope this helps others...</p>\n"},{"tags":["java","rest","timezone","java-time","localdatetime"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652478769,"creation_date":1652478769,"answer_id":72235748,"question_id":72235533,"body_markdown":"Neither. For appointments at a given location (be it for a video call meeting or simply a barber&#39;s appointment), you want __`ZonedDateTime`__.\r\n\r\nStory time!\r\n\r\nLet&#39;s say you&#39;re planning to be in Amsterdam somewhere in summer 2024, and for some strange reason you wanna make sure you look great, so you go a little nuts and decide to make an appointment at a barber&#39;s, for 14:00, May 2nd, 2024 (that&#39;ll be a wednesday), at some specific barbershop in Amsterdam.\r\n\r\nWe could calculate precisely how many seconds need to pass before your barbershop appointment is up: There will be some moment in time, and you can tell anybody on the planet to wait those exact number of seconds and then clap their hands. When they clap their hands? That exact time you have your appointment. It will be _very_ early in the morning in California if someone were to clap in California, of course, but you could do that. That&#39;s the point - you&#39;re talking about a specific moment in time, which means it&#39;ll be a different time of day depending on where on the planet.\r\n\r\nBut, and this is not even hypothetical: The EU has decided a while ago that the EU should stop with the daylight savings time. The EU is busy with a few other things at the moment so enforcement of this directive is still being hashed out, but it&#39;s been decided - so now the debate is about _when_ the EU stops with summer time and which time zone(s) the what used to be known as &#39;central european time&#39;, used by the vast majority of EU countries (it&#39;s a very large timezone), needs to become.\r\n\r\nNotably, the EU has not decided on that, yet. In fact, each country is as of yet free to pick whatever they please. It is therefore quite plausible that e.g. The Netherlands, which is on the western edge of this very large zone, and where your barbershop appointment it, will decide to stick with what is currently &#39;winter time&#39;, because germany is likely to do that and citizens of both countries have grown rather used to it being the same time in both countries. But, sticking with summer time is also quite plausible. We simply don&#39;t know yet.\r\n\r\nOne day, in parliament, a hammer will come down. When that hammer comes down, that is the very moment in time when the dutch timezone definition has officially changed, and let&#39;s say they choose to stick with wintertime, __at that exact moment that hammer comes down, your barber appointment just moved by 1 hour__. It&#39;s still at 14:00, May 2nd, 2024, in Amsterdam - but the number of seconds until your appointment shifts by 3600 seconds the very moment that hammer lands in the dutch parliament in The Hague. Had you stored this moment in time in UTC, it __would now be wrong__. Had you stored this moment in time in terms of seconds left to go, or seconds from UTC epoch midnight newyears 1970, __it would now be wrong__. So don&#39;t store appointments in those ways.\r\n\r\nThat explains the pragmatic difference between Instant+timezone, and ZonedDateTime objects.\r\n\r\nA ZonedDateTime object represents the notion of &#39;I have an appointment, in `Europe/Amsterdam`, at 14:00, on May 2nd, in 2024.\r\n\r\nGiven that that is exactly what it represents, if your tzdata files are updated to reflect that hammer coming down, that&#39;s okay. It&#39;s still 14:00, May 2nd, in 2024. In terms of &#39;how many seconds until the appointment&#39;, the moment in time represented by that object would shift by 1 hour the moment your JVM is updated with the new tz info.\r\n\r\n`Instant` is different. Instant represents an exact moment in time in terms of &#39;how many seconds until that moment&#39;. The act of storing that appointment __as an `Instant`__ would involve calculating the amount of seconds until it happens and then storing _that_. And, as we just determined, __that is incorrect__ and will mean you&#39;re going to miss your appointment. It&#39;s not how an appointment works (which works in terms of a year, month, day, hour, minute, and second, and a possibly implied timezone - no agenda any human uses is based on the idea of &#39;what does your day look like 134823958150154 seconds from now?&#39;) - and you should always use the data type (and store data) in terms of how it works, and not some conversion of it, because if you store conversions, you &#39;encode&#39; your reliance on it into your storage and stuff goes wrong if your conversion no longer works. Which is why storing it as an `Instant` is the mistake here.\r\n\r\nThe story also explains why the only non-stupid way to store timezone info is as something like `Europe/Amsterdam` - because something like &quot;CET&quot; (Central European Time) may not even exist 2 years hence. There is absolutely no guarantee every single last one of the many many countries that are in CET today will pick the same zone when the EU directive grows teeth, whenever that may be. So if you store the appointment as &#39;in the CET zone&#39;, then all you know, come 2024, is that you now have no idea when your barbershop&#39;s appointment actually is. Not all that useful.\r\n\r\n## Coordinating a time to meet, without the context of place\r\n\r\nEvery so often you want to coordinate a time to meet, but not a place to meet - a virtual meeting, for example. Usually these are still &#39;localized&#39; (somebody is deemed the host, they plan the meeting for, say, 17:30 their time, all participants store that `ZonedDateTime` construct, and their agenda systems will tell them when to log in for that meeting at the appropriate time, regardless of where on the planet they are). So I&#39;d just do that.\r\n\r\nBut given that the meeting is virtual, &#39;a timezone is implied&#39; no longer has to neccessarily be true. In which case it is fine to store things as an `Instant` (and a `ZonedDateTime` where the zone is UTC is so close to the concept of `Instant`, there is basically no difference at all), in which case e.g. someone in The Netherlands would see their appointment move by an hour the moment that hammer comes down. Assuming they did it right and indicated to their calendaring tool that the appointment is in the UTC zone.\r\n\r\nIt&#39;s possible you want this instead. But it&#39;s more common to go with the &#39;host zone&#39; route. (there isn&#39;t that much of a difference; the calendaring tool needs to support the concept of saving an appointment __with__ the timezone (and not convert it to the right time in the local zone, as that will break if either the host zone or the target zone decides to make a change to their tz data, which happens all the time - once a calendaring tool supports this, you could choose to use UTC as host zone for such a virtual meeting).\r\n\r\n## DBs\r\n\r\nYou&#39;ve more or less correctly concluded that there are 3 fundamentally different, and therefore __utterly incompatible__ notions of date and time; you cannot convert one to the other without losing something on the way. These are:\r\n\r\n* LocalDate (and LocalTime, and LocalDateTime): If you want to wake up 08:00 and you want that alarm to continue to wake you up at 08:00 locally even if you fly to different zones, this is the thing you want.\r\n* ZonedDateTime: For appointments.\r\n* Instant: To log that something happens or will happen X seconds from now or X seconds in the past; a slam dunk for e.g. timestamps on log messages, and obviously the one to use for space stuff (that solar flare will occur on X - when that hammer comes down in dutch parliament, and a newspaper calculated the solar flare out to an exact date, hour, and minute and printed that earlier, that is now wrong, of course, and they&#39;d have to print a correction. Had they printed an instant, unwieldy as that might be to us humans, they would not have had to do that).\r\n\r\nUnfortunately, most languages (including java&#39;s obsolete `java.util.Date` and `java.util.Calendar` approaches) mess this up and didn&#39;t realize time is just that complicated, and that the above 3 concepts cannot be converted without losing an important nuance.\r\n\r\nAs a consequence, DBs sometimes play fast and loose too. More to the point, JDBC which is usually the &#39;glue&#39; that java apps use to talk to DBs, has an API that involves the types `java.sql.Date` and `java.sql.Timestamp`, and both of those are based on `j.u.Date` (they extend it), and j.u.Date, name notwithstanding, __is equivalent to `Instant`__ - it stores a moment-in-time, does not store a timezone in the first place, and will break if timezones up and change definition on you.\r\n\r\nSo, the actual JDBC calls you have to use to get the right data type in and out is tricky. The theoretical correct answer is LDT and ZDT directly:\r\n\r\n```\r\nResultSet rs = somePreparedStatement.query();\r\n/* WRONG */ {\r\n  Date x = rs.getDate(1);\r\n  ZonedDateTime y = convertToZDT(x);\r\n}\r\n/* RIGHT */ {\r\n  ZonedDateTime y = rs.getObject(1, ZonedDateTime.class);\r\n}\r\n```\r\n\r\nHowever, many JDBC drivers don&#39;t support this. Very painful. Similarly, to replace question marks in prepared statements with dates, the correct move is `ps.setObject(1, someZdtInstance)`, not with a `j.u.Date` instance or even an `java.sql.Date` instance. Whether they support that, oof. You&#39;d have to check - many do not.\r\n\r\nI suggest you check the DB docs about the type(s) for dates they support and how it actually stores them. If it sounds good (that is, it stores an actual year, month, day, hour, minute, second, and full timezone name, all in a single column), use that. If none of the data types support that, do it yourself and make 7 columns.\r\n\r\nAssuming you found a data type that does the job, figure out if `.getObject(x, ZDT.class)` works, and `ps.setObject(x, zdtInstance)`. Let&#39;s hope so. If it does, that&#39;s your answer. If it does not, kludge around to figure out what the workaround is: Write code that converts and check what arrives - after all, if the DB is storing actual y/m/d/h/m/s/zone info, and you give it a j.u.Timestamp object which __does not__ have that info, then the DB is going to have to be converting that back to ymdhmsz info again. Assuming that works out fine, then this workaround is not going to break on you. Even if the appointment is in Amsterdam and that hammer comes down between now and then.\r\n","title":"Java Time &amp; Rest API","body":"<p>Neither. For appointments at a given location (be it for a video call meeting or simply a barber's appointment), you want <strong><code>ZonedDateTime</code></strong>.</p>\n<p>Story time!</p>\n<p>Let's say you're planning to be in Amsterdam somewhere in summer 2024, and for some strange reason you wanna make sure you look great, so you go a little nuts and decide to make an appointment at a barber's, for 14:00, May 2nd, 2024 (that'll be a wednesday), at some specific barbershop in Amsterdam.</p>\n<p>We could calculate precisely how many seconds need to pass before your barbershop appointment is up: There will be some moment in time, and you can tell anybody on the planet to wait those exact number of seconds and then clap their hands. When they clap their hands? That exact time you have your appointment. It will be <em>very</em> early in the morning in California if someone were to clap in California, of course, but you could do that. That's the point - you're talking about a specific moment in time, which means it'll be a different time of day depending on where on the planet.</p>\n<p>But, and this is not even hypothetical: The EU has decided a while ago that the EU should stop with the daylight savings time. The EU is busy with a few other things at the moment so enforcement of this directive is still being hashed out, but it's been decided - so now the debate is about <em>when</em> the EU stops with summer time and which time zone(s) the what used to be known as 'central european time', used by the vast majority of EU countries (it's a very large timezone), needs to become.</p>\n<p>Notably, the EU has not decided on that, yet. In fact, each country is as of yet free to pick whatever they please. It is therefore quite plausible that e.g. The Netherlands, which is on the western edge of this very large zone, and where your barbershop appointment it, will decide to stick with what is currently 'winter time', because germany is likely to do that and citizens of both countries have grown rather used to it being the same time in both countries. But, sticking with summer time is also quite plausible. We simply don't know yet.</p>\n<p>One day, in parliament, a hammer will come down. When that hammer comes down, that is the very moment in time when the dutch timezone definition has officially changed, and let's say they choose to stick with wintertime, <strong>at that exact moment that hammer comes down, your barber appointment just moved by 1 hour</strong>. It's still at 14:00, May 2nd, 2024, in Amsterdam - but the number of seconds until your appointment shifts by 3600 seconds the very moment that hammer lands in the dutch parliament in The Hague. Had you stored this moment in time in UTC, it <strong>would now be wrong</strong>. Had you stored this moment in time in terms of seconds left to go, or seconds from UTC epoch midnight newyears 1970, <strong>it would now be wrong</strong>. So don't store appointments in those ways.</p>\n<p>That explains the pragmatic difference between Instant+timezone, and ZonedDateTime objects.</p>\n<p>A ZonedDateTime object represents the notion of 'I have an appointment, in <code>Europe/Amsterdam</code>, at 14:00, on May 2nd, in 2024.</p>\n<p>Given that that is exactly what it represents, if your tzdata files are updated to reflect that hammer coming down, that's okay. It's still 14:00, May 2nd, in 2024. In terms of 'how many seconds until the appointment', the moment in time represented by that object would shift by 1 hour the moment your JVM is updated with the new tz info.</p>\n<p><code>Instant</code> is different. Instant represents an exact moment in time in terms of 'how many seconds until that moment'. The act of storing that appointment <strong>as an <code>Instant</code></strong> would involve calculating the amount of seconds until it happens and then storing <em>that</em>. And, as we just determined, <strong>that is incorrect</strong> and will mean you're going to miss your appointment. It's not how an appointment works (which works in terms of a year, month, day, hour, minute, and second, and a possibly implied timezone - no agenda any human uses is based on the idea of 'what does your day look like 134823958150154 seconds from now?') - and you should always use the data type (and store data) in terms of how it works, and not some conversion of it, because if you store conversions, you 'encode' your reliance on it into your storage and stuff goes wrong if your conversion no longer works. Which is why storing it as an <code>Instant</code> is the mistake here.</p>\n<p>The story also explains why the only non-stupid way to store timezone info is as something like <code>Europe/Amsterdam</code> - because something like &quot;CET&quot; (Central European Time) may not even exist 2 years hence. There is absolutely no guarantee every single last one of the many many countries that are in CET today will pick the same zone when the EU directive grows teeth, whenever that may be. So if you store the appointment as 'in the CET zone', then all you know, come 2024, is that you now have no idea when your barbershop's appointment actually is. Not all that useful.</p>\n<h2>Coordinating a time to meet, without the context of place</h2>\n<p>Every so often you want to coordinate a time to meet, but not a place to meet - a virtual meeting, for example. Usually these are still 'localized' (somebody is deemed the host, they plan the meeting for, say, 17:30 their time, all participants store that <code>ZonedDateTime</code> construct, and their agenda systems will tell them when to log in for that meeting at the appropriate time, regardless of where on the planet they are). So I'd just do that.</p>\n<p>But given that the meeting is virtual, 'a timezone is implied' no longer has to neccessarily be true. In which case it is fine to store things as an <code>Instant</code> (and a <code>ZonedDateTime</code> where the zone is UTC is so close to the concept of <code>Instant</code>, there is basically no difference at all), in which case e.g. someone in The Netherlands would see their appointment move by an hour the moment that hammer comes down. Assuming they did it right and indicated to their calendaring tool that the appointment is in the UTC zone.</p>\n<p>It's possible you want this instead. But it's more common to go with the 'host zone' route. (there isn't that much of a difference; the calendaring tool needs to support the concept of saving an appointment <strong>with</strong> the timezone (and not convert it to the right time in the local zone, as that will break if either the host zone or the target zone decides to make a change to their tz data, which happens all the time - once a calendaring tool supports this, you could choose to use UTC as host zone for such a virtual meeting).</p>\n<h2>DBs</h2>\n<p>You've more or less correctly concluded that there are 3 fundamentally different, and therefore <strong>utterly incompatible</strong> notions of date and time; you cannot convert one to the other without losing something on the way. These are:</p>\n<ul>\n<li>LocalDate (and LocalTime, and LocalDateTime): If you want to wake up 08:00 and you want that alarm to continue to wake you up at 08:00 locally even if you fly to different zones, this is the thing you want.</li>\n<li>ZonedDateTime: For appointments.</li>\n<li>Instant: To log that something happens or will happen X seconds from now or X seconds in the past; a slam dunk for e.g. timestamps on log messages, and obviously the one to use for space stuff (that solar flare will occur on X - when that hammer comes down in dutch parliament, and a newspaper calculated the solar flare out to an exact date, hour, and minute and printed that earlier, that is now wrong, of course, and they'd have to print a correction. Had they printed an instant, unwieldy as that might be to us humans, they would not have had to do that).</li>\n</ul>\n<p>Unfortunately, most languages (including java's obsolete <code>java.util.Date</code> and <code>java.util.Calendar</code> approaches) mess this up and didn't realize time is just that complicated, and that the above 3 concepts cannot be converted without losing an important nuance.</p>\n<p>As a consequence, DBs sometimes play fast and loose too. More to the point, JDBC which is usually the 'glue' that java apps use to talk to DBs, has an API that involves the types <code>java.sql.Date</code> and <code>java.sql.Timestamp</code>, and both of those are based on <code>j.u.Date</code> (they extend it), and j.u.Date, name notwithstanding, <strong>is equivalent to <code>Instant</code></strong> - it stores a moment-in-time, does not store a timezone in the first place, and will break if timezones up and change definition on you.</p>\n<p>So, the actual JDBC calls you have to use to get the right data type in and out is tricky. The theoretical correct answer is LDT and ZDT directly:</p>\n<pre><code>ResultSet rs = somePreparedStatement.query();\n/* WRONG */ {\n  Date x = rs.getDate(1);\n  ZonedDateTime y = convertToZDT(x);\n}\n/* RIGHT */ {\n  ZonedDateTime y = rs.getObject(1, ZonedDateTime.class);\n}\n</code></pre>\n<p>However, many JDBC drivers don't support this. Very painful. Similarly, to replace question marks in prepared statements with dates, the correct move is <code>ps.setObject(1, someZdtInstance)</code>, not with a <code>j.u.Date</code> instance or even an <code>java.sql.Date</code> instance. Whether they support that, oof. You'd have to check - many do not.</p>\n<p>I suggest you check the DB docs about the type(s) for dates they support and how it actually stores them. If it sounds good (that is, it stores an actual year, month, day, hour, minute, second, and full timezone name, all in a single column), use that. If none of the data types support that, do it yourself and make 7 columns.</p>\n<p>Assuming you found a data type that does the job, figure out if <code>.getObject(x, ZDT.class)</code> works, and <code>ps.setObject(x, zdtInstance)</code>. Let's hope so. If it does, that's your answer. If it does not, kludge around to figure out what the workaround is: Write code that converts and check what arrives - after all, if the DB is storing actual y/m/d/h/m/s/zone info, and you give it a j.u.Timestamp object which <strong>does not</strong> have that info, then the DB is going to have to be converting that back to ymdhmsz info again. Assuming that works out fine, then this workaround is not going to break on you. Even if the appointment is in Amsterdam and that hammer comes down between now and then.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1652515963,"creation_date":1652498621,"answer_id":72237097,"question_id":72235533,"body_markdown":"&gt; store Booking – in the sense of “Online booking” (so participants that are from different countries/time zones needs meet in the same moment on the timeline). I tend to use LocalDateTime, since DB and Backend is set to UTC and since incoming “create booking” json message contains ISO 8601 (with offset) startDateTime &amp; endDateTime fields.\r\n\r\nYou did not really define what you mean by &quot;booking&quot;. \r\n\r\nIf what you meant is to pinpoint a moment, a specific point on the timeline, then `LocalDateTime` is exactly the *wrong* class to use.\r\n\r\nFor example, suppose a missile launching company has offices in Japan, Germany, and Houston Texas US. Staff at all offices want to be in a group conference call during a launch. We would specify the moment of launch with an offset of zero from UTC. For that we use `Instant` class. The `Z` in the string below means an offset of zero, `+00:00`, and is pronounced “Zulu”. \r\n\r\n    Instant launch = Instant.parse( &quot;2022-05-23T05:31:23.000Z&quot; ) ;\r\n\r\nLet&#39;s tell each office their deadline to join the call.\r\n\r\n    ZonedDateTime tokyo = launch.atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) ;\r\n    ZonedDateTime berlin = launch.atZone( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ;\r\n    ZonedDateTime chicago = launch.atZone( ZoneId.of( &quot;America/Chicago&quot; ) ) ;  // Houston time zone is &quot;America/Chicago&quot;.\r\n\r\nWe have four date-time objects, all representing the very same simultaneous moment.\r\n\r\nAs for the current default time zone of your database session and of your backend server, those should be irrelevant to your programming. As a programmer, those are out of your control, and are subject to change. So always specify your desired/expected time zone.\r\n\r\nAs for the rest of your Question, I cannot discern a specific question. So all I can do is comment on your examples.\r\n\r\n\r\n&gt;LocalTime\r\n&gt;\r\n&gt;Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide.\r\n\r\nYes, `LocalTime` is correct for representing a time-of-day for any place in the world. \r\n\r\nLet&#39;s ask if lunch has started at the factory in Delhi India. \r\n\r\n    LocalTime lunchStart = LocalTime.of( 12 , 30 ) ;\r\n    ZoneId zKolkata = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    ZonedDateTime nowKolkata = ZonedDateTime.now( zKolkata ) ;\r\n    boolean isBeforeLunchKolkata = nowKolkata.toLocalTime().isBefore( lunchStart ) ;\r\n\r\nActually, we have a subtle bug there. On some dates in some zones, the time `12:30` may not exist. For example, suppose that time zone on that date has a Daylight Saving Time (DST) cutover, &quot;Springing ahead&quot; one hour at noon to 1 PM. In that case, there would be no 12:30. The time 13:30 would be the &quot;new 12:30&quot;. \r\n\r\nTo fix this bug, let&#39;s adjust from `nowKolkata` to use a different time of day. During this adjustment, *java.time* considers any anomalies such as DST, and handles them.\r\n\r\nNote that this moving to a new time-of-day results in a new fresh separate `ZonedDateTime`. The *java.time* classes use [immutable objects][1]. \r\n\r\n    ZonedDateTime lunchTodayKolkata = nowKolkata.with( lunchStart ) ;\r\n\r\nNow we should rewrite that test for whether lunch has started.\r\n\r\n    boolean isBeforeLunchKolkata = nowKolkata.isBefore( lunchTodayKolkata ) ;\r\n    \r\nLet&#39;s ask how long until lunch starts. `Duration` class represents a span of time not attached to the timeline, on the scale of hours-minutes-seconds.\r\n\r\n    Duration duration = Duration.between( nowKolkata , lunchTodayKolkata ) ;\r\n\r\nWe can use that duration as another way of determining if lunch has started there at that factory. If the duration is negative, we know we passed the start of lunch — meaning we would have to go *back in time* to see lunch start.\r\n\r\n    boolean isAfterLunchKolkata = duration.isNegative() ;\r\n    boolean isBeforeLunchKolkata = ! duration.isNegative() ;\r\n\r\n&gt;`LocalDate`\r\n\r\nThe `LocalDate` class represents a date only, without a time-of-day, and without the context of a time zone or offset-from-UTC. \r\n\r\nBe aware that for any given moment the date varies around the globe by zone. So right now it can be “tomorrow” in Tokyo Japan while simultaneously “yesterday” in Toledo Ohio US. So a `LocalDate` is inherently ambiguous with regard to the timeline.\r\n\r\n&gt;Birthday - if it were crucial to know someone’s age to the very day, then a date-only value is not enough. With only a date, a person appearing to turn 18 years old in Tokyo Japan would still be 17 in Toledo Ohio US.\r\n\r\nIf you want to be precise about someone&#39;s age, you need their time of birth in addition to the date of birth and time zone of birth. Just the date and time zone of their birth place is not enough to narrow down their age to the first moment of their 18th year.\r\n\r\nThe time zone for Toledo Ohio US is `America/New_York`.\r\n\r\n    LocalDate birthDate = LocalDate.of( 2000 , Month.JANUARY , 23 ) ;\r\n    LocalTime birthTime = LocalTime.of( 3 , 30 ) ;\r\n    ZoneId birthZone = ZoneId.of( &quot;America/New_York&quot; ) ;  \r\n    ZonedDateTime birthMoment = ZonedDateTime.of( birthDate , birthTime , birthZone ) ;\r\n\r\nTo determine if the person is 18 years of age precisely, add 18 years to that moment of birth. Then compare to current moment.\r\n\r\n    ZonedDateTime turning18 = birthMoment.plusYears( 18 ) ;\r\n    ZonedDateTime nowInBirthZone = ZonedDateTime.now( birthZone ) ;\r\n    boolean is18 = turning18.isBefore( nowInBirthZone ) ;\r\n    \r\n\r\n&gt;Due date in a contract. If stated as only a date, a stakeholder in Japan will see a task as overdue while another stakeholder in Toledo sees the task as on-time.\r\n\r\nTrue. \r\n\r\nA contract needing moment precision must state a date, a time-of-day, and a time zone.\r\n\r\nLet&#39;s say a contract expires after the 23rd of May next year as seen in Chicago IL US. \r\n\r\nI suggest avoiding the imprecise notion of &quot;midnight&quot;. Focus on the first moment of a day on a certain date in a certain zone. So &quot;after the 23rd&quot; means the first moment of the 24th. \r\n\r\nSome dates in some zones may start a time other than 00:00. Let *java.time* determine the first moment of a day.\r\n\r\n    LocalDate ld = LocalDate.of( 2023 , Month.MAY , 23 ) ;\r\n    ZoneId zChicago = ZoneId.of( &quot;America/Chicago&quot; ) ;\r\n    ZonedDateTime expiration = ld.plusDays( 1 ).atStartOfDay( zChicago ) ;\r\n    boolean isContractInEffect = ZonedDateTime.now( zChicago ).isBefore( expiration ) ; \r\n\r\n\r\n&gt;`LocalDateTime`\r\n&gt;\r\n&gt;Christmas starts at midnight on the 25th of December 2015.\r\n\r\nUse `LocalDateTime` when you mean a date and time as seen in *any* locality. \r\n\r\nChristmas starts at the first moment of the 25th of December in 2015 in every locality. So yes, use `LocalDateTime`. \r\n\r\n    LocalDateTime xmas2015 = LocalDateTime.of( 2015 , Month.DECEMBER , 25 , 0 , 0 , 0 , 0 ) ;\r\n\r\nThat class purposely lacks the context of a time zone or offset-from-UTC. So an object of this class is inherently ambiguous with regard to the timeline. This class cannot represent a moment. \r\n\r\nIn other words, Santa arrives in [Kiribati][2] (the most advanced time zone, at 14 hours ahead of UTC) before arriving in Japan, and arrives still later in India, still later in Europe, and so on. The red sleigh chases each new day dawning successively in zone after zone around the world all night long. \r\n\r\nLet&#39;s determine the moment Christmas started then in Jordan.\r\n\r\n    ZoneId zAmman = ZoneId.of( &quot;Asia/Amman&quot; ) ;\r\n    ZonedDateTime xmasAmman = xmas2015.atZone( zAmman) ;\r\n\r\nAdjust that moment to the time zone for Denver Colorado US.\r\n\r\n    ZoneId zDenver = ZoneId.of( &quot;America/Denver&quot; ) ;\r\n    ZonedDateTime xmasStartingInAmmanAsSeenInDenver = xmasAmman.withZoneSameInstant( zDenver ) ;\r\n\r\nIf you interrogate that `xmasStartingInAmmanAsSeenInDenver` object, you will see that when Christmas was starting in Jordan, the date in Denver was still the 24th, the day before Christmas. Christmas would not reach Colorado for several more hours.\r\n    \r\n&gt;Booking – in the sense of “local” dentist appointment\r\n\r\nAppointments in the future that are intended to stick with their assigned time-of-day without regard to any changes to the time zone&#39;s rules must be tracked as three separate pieces:\r\n\r\n - Date with time-of-day\r\n - Time zone by which to interpret that date &amp; time.\r\n - Duration, for how long the appointment will last.\r\n\r\nLet&#39;s book an appointment for next January 23rd at 3 PM in New Zealand.\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( 2023 , 1 , 23 , 15 , 0 , 0 , 0 ) ;\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    Duration d = Duration.ofHours( 1 ) ;\r\n\r\nEach of those three items must be stored in your database. \r\n\r\n - The first can be stored in a column of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`. Notice the &quot;WITHOUT&quot;, not &quot;WITH&quot;. \r\n - The time zone can be stored as text, by its [standardized name][3] in format of `Continent/Region`. Never use 2-4 letter pseudo-zones such as `IST`, `CST`, etc.\r\n - I would store the duration in standard [ISO 8601][4] format, `PnYnMnDTnHnMnS`. The `P` marks the beginning, which the `T` separates the two portions. So 1 hour is `PT1H`. \r\n\r\nWhen you need to create a schedule, you must determine a moment. To do that, combine your parts.\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n    ZoneId z = ZoneId.of( myResultSet.getString( … ) ) ;\r\n    Duration d = Duration.parse( myResultSet.getString( … ) ) ;\r\n\r\n    ZonedDateTime start = ldt.atZone( z ) ;\r\n    ZonedDateTime end = start.plus( d ) ;\r\n\r\nI and others have explained this multiple times, so search to learn more. The key point is that politicians around the world have shown a penchant for frequently changing the rules of the time zones in their jurisdictions. And they do so with surprisingly little forewarning. So the moment of that 3PM appointment might come an hour earlier that you expect now, or a half-hour later, or who knows what. Expecting your time zones of interest to remain stable is to doom your software to an eventual fail. You may think me paranoid. Let&#39;s check back in some years… when all the customers in your booking app are arriving at the wrong time. \r\n\r\n&gt;Instant\r\n&gt;\r\n&gt;Some critical function must start every day at 1:30am (LocalDateTime &amp; ZonedDateTime are wrong in this case, because e.g. during switching from/to standard time to summer time, function runs twice/not at all).\r\n\r\nNo, incorrect, not `Instant`. If you want to run a task at 1:30 AM daily, you need to use `LocalTime` combined with a `ZoneId`. This is similar in concept to the appointments discussion directly above. \r\n\r\nIf we want the server in a Chicago office to run that task in the wee hours, we would define the date-time and zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Chicago&quot; ) ;\r\n    LocalTime targetTime = LocalTime.of( 1 , 30 ) ;\r\n\r\nTo determine the next run, capture the current moment.\r\n\r\n    ZonedDateTime now = ZonedDateTime.now( z ) ;\r\n\r\nSee if we are before the target time, then calculate time to wait. We use &quot;not after&quot; as a shorter way of saying &quot;if before or equal to&quot;. Think about if the current moment happens to be *exactly* 1:30:00.000000000 AM. \r\n\r\n    if( ! now.toLocalTime().isAfter( targetTime ) ) {  // If before or equal to the target time.\r\n        Duration d = Duration.between( now , now.with( targetTime ) ) ;\r\n        …\r\n    }\r\n\r\nIf the target time has passed for today, add a day. Then calculate time to elapse until the next run.\r\n\r\n```java\r\nelse {  // Else, after target time. Move to next day.\r\n    LocalDate tomorrow = now.toLocalDate().plusDays( 1 ) ;\r\n    ZonedDateTime nextRun = ZonedDateTime.of( tomorrow , targetTime , z ) ;\r\n    Duration d = Duration.between( now , nextRun ) ;\r\n    …\r\n}\r\n```\r\n\r\nThe `ZonedDateTime.of` method automatically adjusts if your specified time-of-day does not exist on that date in that zone.\r\n\r\nIf you are using an executor service to run your task at that same local time, then you cannot use `ScheduledExecutorService` with the methods `scheduleAtFixedRate` or `scheduleWithFixedDelay`. Use the `schedule` method with a single delay. \r\n\r\nPass a reference to that executor service to the constructor of your task, your `Runnable`/`Callable`. Then write your task in such as way that the last thing it does in submit itself to the executor service with a fresh newly-calculated delay. On most days that delay will be 24 hours. But on anomalous days such as Daylight Saving Time (DST) cutover, the delay might be something like 23 hours or 25 hours. So each task run schedules the next task run.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Immutable_object\r\n  [2]: https://en.wikipedia.org/wiki/Kiribati\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601#Durations","title":"Java Time &amp; Rest API","body":"<blockquote>\n<p>store Booking – in the sense of “Online booking” (so participants that are from different countries/time zones needs meet in the same moment on the timeline). I tend to use LocalDateTime, since DB and Backend is set to UTC and since incoming “create booking” json message contains ISO 8601 (with offset) startDateTime &amp; endDateTime fields.</p>\n</blockquote>\n<p>You did not really define what you mean by &quot;booking&quot;.</p>\n<p>If what you meant is to pinpoint a moment, a specific point on the timeline, then <code>LocalDateTime</code> is exactly the <em>wrong</em> class to use.</p>\n<p>For example, suppose a missile launching company has offices in Japan, Germany, and Houston Texas US. Staff at all offices want to be in a group conference call during a launch. We would specify the moment of launch with an offset of zero from UTC. For that we use <code>Instant</code> class. The <code>Z</code> in the string below means an offset of zero, <code>+00:00</code>, and is pronounced “Zulu”.</p>\n<pre><code>Instant launch = Instant.parse( &quot;2022-05-23T05:31:23.000Z&quot; ) ;\n</code></pre>\n<p>Let's tell each office their deadline to join the call.</p>\n<pre><code>ZonedDateTime tokyo = launch.atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) ;\nZonedDateTime berlin = launch.atZone( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ;\nZonedDateTime chicago = launch.atZone( ZoneId.of( &quot;America/Chicago&quot; ) ) ;  // Houston time zone is &quot;America/Chicago&quot;.\n</code></pre>\n<p>We have four date-time objects, all representing the very same simultaneous moment.</p>\n<p>As for the current default time zone of your database session and of your backend server, those should be irrelevant to your programming. As a programmer, those are out of your control, and are subject to change. So always specify your desired/expected time zone.</p>\n<p>As for the rest of your Question, I cannot discern a specific question. So all I can do is comment on your examples.</p>\n<blockquote>\n<p>LocalTime</p>\n<p>Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide.</p>\n</blockquote>\n<p>Yes, <code>LocalTime</code> is correct for representing a time-of-day for any place in the world.</p>\n<p>Let's ask if lunch has started at the factory in Delhi India.</p>\n<pre><code>LocalTime lunchStart = LocalTime.of( 12 , 30 ) ;\nZoneId zKolkata = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nZonedDateTime nowKolkata = ZonedDateTime.now( zKolkata ) ;\nboolean isBeforeLunchKolkata = nowKolkata.toLocalTime().isBefore( lunchStart ) ;\n</code></pre>\n<p>Actually, we have a subtle bug there. On some dates in some zones, the time <code>12:30</code> may not exist. For example, suppose that time zone on that date has a Daylight Saving Time (DST) cutover, &quot;Springing ahead&quot; one hour at noon to 1 PM. In that case, there would be no 12:30. The time 13:30 would be the &quot;new 12:30&quot;.</p>\n<p>To fix this bug, let's adjust from <code>nowKolkata</code> to use a different time of day. During this adjustment, <em>java.time</em> considers any anomalies such as DST, and handles them.</p>\n<p>Note that this moving to a new time-of-day results in a new fresh separate <code>ZonedDateTime</code>. The <em>java.time</em> classes use <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>.</p>\n<pre><code>ZonedDateTime lunchTodayKolkata = nowKolkata.with( lunchStart ) ;\n</code></pre>\n<p>Now we should rewrite that test for whether lunch has started.</p>\n<pre><code>boolean isBeforeLunchKolkata = nowKolkata.isBefore( lunchTodayKolkata ) ;\n</code></pre>\n<p>Let's ask how long until lunch starts. <code>Duration</code> class represents a span of time not attached to the timeline, on the scale of hours-minutes-seconds.</p>\n<pre><code>Duration duration = Duration.between( nowKolkata , lunchTodayKolkata ) ;\n</code></pre>\n<p>We can use that duration as another way of determining if lunch has started there at that factory. If the duration is negative, we know we passed the start of lunch — meaning we would have to go <em>back in time</em> to see lunch start.</p>\n<pre><code>boolean isAfterLunchKolkata = duration.isNegative() ;\nboolean isBeforeLunchKolkata = ! duration.isNegative() ;\n</code></pre>\n<blockquote>\n<p><code>LocalDate</code></p>\n</blockquote>\n<p>The <code>LocalDate</code> class represents a date only, without a time-of-day, and without the context of a time zone or offset-from-UTC.</p>\n<p>Be aware that for any given moment the date varies around the globe by zone. So right now it can be “tomorrow” in Tokyo Japan while simultaneously “yesterday” in Toledo Ohio US. So a <code>LocalDate</code> is inherently ambiguous with regard to the timeline.</p>\n<blockquote>\n<p>Birthday - if it were crucial to know someone’s age to the very day, then a date-only value is not enough. With only a date, a person appearing to turn 18 years old in Tokyo Japan would still be 17 in Toledo Ohio US.</p>\n</blockquote>\n<p>If you want to be precise about someone's age, you need their time of birth in addition to the date of birth and time zone of birth. Just the date and time zone of their birth place is not enough to narrow down their age to the first moment of their 18th year.</p>\n<p>The time zone for Toledo Ohio US is <code>America/New_York</code>.</p>\n<pre><code>LocalDate birthDate = LocalDate.of( 2000 , Month.JANUARY , 23 ) ;\nLocalTime birthTime = LocalTime.of( 3 , 30 ) ;\nZoneId birthZone = ZoneId.of( &quot;America/New_York&quot; ) ;  \nZonedDateTime birthMoment = ZonedDateTime.of( birthDate , birthTime , birthZone ) ;\n</code></pre>\n<p>To determine if the person is 18 years of age precisely, add 18 years to that moment of birth. Then compare to current moment.</p>\n<pre><code>ZonedDateTime turning18 = birthMoment.plusYears( 18 ) ;\nZonedDateTime nowInBirthZone = ZonedDateTime.now( birthZone ) ;\nboolean is18 = turning18.isBefore( nowInBirthZone ) ;\n</code></pre>\n<blockquote>\n<p>Due date in a contract. If stated as only a date, a stakeholder in Japan will see a task as overdue while another stakeholder in Toledo sees the task as on-time.</p>\n</blockquote>\n<p>True.</p>\n<p>A contract needing moment precision must state a date, a time-of-day, and a time zone.</p>\n<p>Let's say a contract expires after the 23rd of May next year as seen in Chicago IL US.</p>\n<p>I suggest avoiding the imprecise notion of &quot;midnight&quot;. Focus on the first moment of a day on a certain date in a certain zone. So &quot;after the 23rd&quot; means the first moment of the 24th.</p>\n<p>Some dates in some zones may start a time other than 00:00. Let <em>java.time</em> determine the first moment of a day.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2023 , Month.MAY , 23 ) ;\nZoneId zChicago = ZoneId.of( &quot;America/Chicago&quot; ) ;\nZonedDateTime expiration = ld.plusDays( 1 ).atStartOfDay( zChicago ) ;\nboolean isContractInEffect = ZonedDateTime.now( zChicago ).isBefore( expiration ) ; \n</code></pre>\n<blockquote>\n<p><code>LocalDateTime</code></p>\n<p>Christmas starts at midnight on the 25th of December 2015.</p>\n</blockquote>\n<p>Use <code>LocalDateTime</code> when you mean a date and time as seen in <em>any</em> locality.</p>\n<p>Christmas starts at the first moment of the 25th of December in 2015 in every locality. So yes, use <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime xmas2015 = LocalDateTime.of( 2015 , Month.DECEMBER , 25 , 0 , 0 , 0 , 0 ) ;\n</code></pre>\n<p>That class purposely lacks the context of a time zone or offset-from-UTC. So an object of this class is inherently ambiguous with regard to the timeline. This class cannot represent a moment.</p>\n<p>In other words, Santa arrives in <a href=\"https://en.wikipedia.org/wiki/Kiribati\" rel=\"nofollow noreferrer\">Kiribati</a> (the most advanced time zone, at 14 hours ahead of UTC) before arriving in Japan, and arrives still later in India, still later in Europe, and so on. The red sleigh chases each new day dawning successively in zone after zone around the world all night long.</p>\n<p>Let's determine the moment Christmas started then in Jordan.</p>\n<pre><code>ZoneId zAmman = ZoneId.of( &quot;Asia/Amman&quot; ) ;\nZonedDateTime xmasAmman = xmas2015.atZone( zAmman) ;\n</code></pre>\n<p>Adjust that moment to the time zone for Denver Colorado US.</p>\n<pre><code>ZoneId zDenver = ZoneId.of( &quot;America/Denver&quot; ) ;\nZonedDateTime xmasStartingInAmmanAsSeenInDenver = xmasAmman.withZoneSameInstant( zDenver ) ;\n</code></pre>\n<p>If you interrogate that <code>xmasStartingInAmmanAsSeenInDenver</code> object, you will see that when Christmas was starting in Jordan, the date in Denver was still the 24th, the day before Christmas. Christmas would not reach Colorado for several more hours.</p>\n<blockquote>\n<p>Booking – in the sense of “local” dentist appointment</p>\n</blockquote>\n<p>Appointments in the future that are intended to stick with their assigned time-of-day without regard to any changes to the time zone's rules must be tracked as three separate pieces:</p>\n<ul>\n<li>Date with time-of-day</li>\n<li>Time zone by which to interpret that date &amp; time.</li>\n<li>Duration, for how long the appointment will last.</li>\n</ul>\n<p>Let's book an appointment for next January 23rd at 3 PM in New Zealand.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.of( 2023 , 1 , 23 , 15 , 0 , 0 , 0 ) ;\nZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\nDuration d = Duration.ofHours( 1 ) ;\n</code></pre>\n<p>Each of those three items must be stored in your database.</p>\n<ul>\n<li>The first can be stored in a column of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>. Notice the &quot;WITHOUT&quot;, not &quot;WITH&quot;.</li>\n<li>The time zone can be stored as text, by its <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">standardized name</a> in format of <code>Continent/Region</code>. Never use 2-4 letter pseudo-zones such as <code>IST</code>, <code>CST</code>, etc.</li>\n<li>I would store the duration in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601</a> format, <code>PnYnMnDTnHnMnS</code>. The <code>P</code> marks the beginning, which the <code>T</code> separates the two portions. So 1 hour is <code>PT1H</code>.</li>\n</ul>\n<p>When you need to create a schedule, you must determine a moment. To do that, combine your parts.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\nZoneId z = ZoneId.of( myResultSet.getString( … ) ) ;\nDuration d = Duration.parse( myResultSet.getString( … ) ) ;\n\nZonedDateTime start = ldt.atZone( z ) ;\nZonedDateTime end = start.plus( d ) ;\n</code></pre>\n<p>I and others have explained this multiple times, so search to learn more. The key point is that politicians around the world have shown a penchant for frequently changing the rules of the time zones in their jurisdictions. And they do so with surprisingly little forewarning. So the moment of that 3PM appointment might come an hour earlier that you expect now, or a half-hour later, or who knows what. Expecting your time zones of interest to remain stable is to doom your software to an eventual fail. You may think me paranoid. Let's check back in some years… when all the customers in your booking app are arriving at the wrong time.</p>\n<blockquote>\n<p>Instant</p>\n<p>Some critical function must start every day at 1:30am (LocalDateTime &amp; ZonedDateTime are wrong in this case, because e.g. during switching from/to standard time to summer time, function runs twice/not at all).</p>\n</blockquote>\n<p>No, incorrect, not <code>Instant</code>. If you want to run a task at 1:30 AM daily, you need to use <code>LocalTime</code> combined with a <code>ZoneId</code>. This is similar in concept to the appointments discussion directly above.</p>\n<p>If we want the server in a Chicago office to run that task in the wee hours, we would define the date-time and zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Chicago&quot; ) ;\nLocalTime targetTime = LocalTime.of( 1 , 30 ) ;\n</code></pre>\n<p>To determine the next run, capture the current moment.</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>See if we are before the target time, then calculate time to wait. We use &quot;not after&quot; as a shorter way of saying &quot;if before or equal to&quot;. Think about if the current moment happens to be <em>exactly</em> 1:30:00.000000000 AM.</p>\n<pre><code>if( ! now.toLocalTime().isAfter( targetTime ) ) {  // If before or equal to the target time.\n    Duration d = Duration.between( now , now.with( targetTime ) ) ;\n    …\n}\n</code></pre>\n<p>If the target time has passed for today, add a day. Then calculate time to elapse until the next run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>else {  // Else, after target time. Move to next day.\n    LocalDate tomorrow = now.toLocalDate().plusDays( 1 ) ;\n    ZonedDateTime nextRun = ZonedDateTime.of( tomorrow , targetTime , z ) ;\n    Duration d = Duration.between( now , nextRun ) ;\n    …\n}\n</code></pre>\n<p>The <code>ZonedDateTime.of</code> method automatically adjusts if your specified time-of-day does not exist on that date in that zone.</p>\n<p>If you are using an executor service to run your task at that same local time, then you cannot use <code>ScheduledExecutorService</code> with the methods <code>scheduleAtFixedRate</code> or <code>scheduleWithFixedDelay</code>. Use the <code>schedule</code> method with a single delay.</p>\n<p>Pass a reference to that executor service to the constructor of your task, your <code>Runnable</code>/<code>Callable</code>. Then write your task in such as way that the last thing it does in submit itself to the executor service with a fresh newly-calculated delay. On most days that delay will be 24 hours. But on anomalous days such as Daylight Saving Time (DST) cutover, the delay might be something like 23 hours or 25 hours. So each task run schedules the next task run.</p>\n"}],"owner":{"account_id":738442,"reputation":868,"user_id":871653,"accept_rate":90,"display_name":"sasynkamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72237097,"answer_count":2,"score":2,"last_activity_date":1652515963,"creation_date":1652476863,"question_id":72235533,"body_markdown":"I’ve red multiple articles and discussions and still I have some uncertainty: I’m not sure if I should use `Instant` or any other type to store Booking – in the sense of “Online booking” (so participants that are from different countries/time zones needs meet in the same moment on the timeline). I tend to use `LocalDateTime`, since DB and Backend is set to UTC and since incoming “create booking” json message contains ISO 8601 (with offset) startDateTime &amp; endDateTime fields.\r\n\r\nLet’s take this setup: 1. Database (UTC, Oracle, MSSQL), Java 11 Backend (UTC, SpringBoot, Spring JDBC template), Angular 13 Frontend.\r\n\r\n**Sources:**\r\n1)\thttps://apiux.com/2013/03/20/5-laws-api-dates-and-times\r\n2)\thttps://medium.com/decisionbrain/dates-time-in-modern-java-4ed9d5848a3e\r\n3)\thttps://stackoverflow.com/questions/32437550/whats-the-difference-between-instant-and-localdatetime\r\n4)\thttps://stackoverflow.com/questions/56424566/java-time-localdate-vs-instant-for-a-business-date\r\n5)\thttps://mattgreencroft.blogspot.com/2014/12/java-8-time-choosing-right-object.html\r\n\r\n**What is clear for now:**\r\n- Use ISO 8601 in REST API\r\n- Accept any time zone\r\n- Store it in UTC\r\n- Return it in UTC\r\n- Don’t use time if you don’t need it\r\n- Use &quot;date-time values as count-from-epoch&quot; as less as possible, since debugging and logging becomes very difficult. Use it just for technical stuff (e.g. ping).\r\n\r\n**Next:**\r\n\r\nAnd e.g. article 2) is telling: *Many applications can be written only using **LocalDate, LocalTime, and Instant**, with the time zone added at the UI layer.*\r\n\r\nAnd the 3) is telling: *So business app developers use **Instant and ZonedDateTime** classes most commonly. Nearly all of your backend, database, business logic, data persistence, data exchange should all be in UTC. But for presentation to users you need to adjust into a time zone expected by the user. This is the purpose of the ZonedDateTime class.*\r\n\r\n**Let’s summarize &amp; verify examples:**\r\n\r\n`LocalTime`\r\n-\tCompany has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide.\r\n\r\n`LocalDate`\r\n\r\n`LocalDate` + time zone (in separate db column)\r\n\r\n-\tBirthday - if it were crucial to know someone’s age to the very day, then a date-only value is not enough. With only a date, a person appearing to turn 18 years old in Tokyo Japan would still be 17 in Toledo Ohio US.\r\n-\tDue date in a contract. If stated as only a date, a stakeholder in Japan will see a task as overdue while another stakeholder in Toledo sees the task as on-time.\r\n\r\n`LocalDateTime`\r\n-\tChristmas starts at midnight on the 25th of December 2015.\r\n-\tBooking – in the sense of “local” dentist appointment\r\n\r\n`Instant`\r\n-\tSome critical function must start every day at 1:30am (LocalDateTime &amp; ZonedDateTime are wrong in this case, because e.g. during switching from/to standard time to summer time, function runs twice/not at all).","title":"Java Time &amp; Rest API","body":"<p>I’ve red multiple articles and discussions and still I have some uncertainty: I’m not sure if I should use <code>Instant</code> or any other type to store Booking – in the sense of “Online booking” (so participants that are from different countries/time zones needs meet in the same moment on the timeline). I tend to use <code>LocalDateTime</code>, since DB and Backend is set to UTC and since incoming “create booking” json message contains ISO 8601 (with offset) startDateTime &amp; endDateTime fields.</p>\n<p>Let’s take this setup: 1. Database (UTC, Oracle, MSSQL), Java 11 Backend (UTC, SpringBoot, Spring JDBC template), Angular 13 Frontend.</p>\n<p><strong>Sources:</strong></p>\n<ol>\n<li><a href=\"https://apiux.com/2013/03/20/5-laws-api-dates-and-times\" rel=\"nofollow noreferrer\">https://apiux.com/2013/03/20/5-laws-api-dates-and-times</a></li>\n<li><a href=\"https://medium.com/decisionbrain/dates-time-in-modern-java-4ed9d5848a3e\" rel=\"nofollow noreferrer\">https://medium.com/decisionbrain/dates-time-in-modern-java-4ed9d5848a3e</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32437550/whats-the-difference-between-instant-and-localdatetime\">What&#39;s the difference between Instant and LocalDateTime?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56424566/java-time-localdate-vs-instant-for-a-business-date\">java.time.LocalDate vs Instant for a &#39;business date&#39;</a></li>\n<li><a href=\"https://mattgreencroft.blogspot.com/2014/12/java-8-time-choosing-right-object.html\" rel=\"nofollow noreferrer\">https://mattgreencroft.blogspot.com/2014/12/java-8-time-choosing-right-object.html</a></li>\n</ol>\n<p><strong>What is clear for now:</strong></p>\n<ul>\n<li>Use ISO 8601 in REST API</li>\n<li>Accept any time zone</li>\n<li>Store it in UTC</li>\n<li>Return it in UTC</li>\n<li>Don’t use time if you don’t need it</li>\n<li>Use &quot;date-time values as count-from-epoch&quot; as less as possible, since debugging and logging becomes very difficult. Use it just for technical stuff (e.g. ping).</li>\n</ul>\n<p><strong>Next:</strong></p>\n<p>And e.g. article 2) is telling: <em>Many applications can be written only using <strong>LocalDate, LocalTime, and Instant</strong>, with the time zone added at the UI layer.</em></p>\n<p>And the 3) is telling: <em>So business app developers use <strong>Instant and ZonedDateTime</strong> classes most commonly. Nearly all of your backend, database, business logic, data persistence, data exchange should all be in UTC. But for presentation to users you need to adjust into a time zone expected by the user. This is the purpose of the ZonedDateTime class.</em></p>\n<p><strong>Let’s summarize &amp; verify examples:</strong></p>\n<p><code>LocalTime</code></p>\n<ul>\n<li>Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide.</li>\n</ul>\n<p><code>LocalDate</code></p>\n<p><code>LocalDate</code> + time zone (in separate db column)</p>\n<ul>\n<li>Birthday - if it were crucial to know someone’s age to the very day, then a date-only value is not enough. With only a date, a person appearing to turn 18 years old in Tokyo Japan would still be 17 in Toledo Ohio US.</li>\n<li>Due date in a contract. If stated as only a date, a stakeholder in Japan will see a task as overdue while another stakeholder in Toledo sees the task as on-time.</li>\n</ul>\n<p><code>LocalDateTime</code></p>\n<ul>\n<li>Christmas starts at midnight on the 25th of December 2015.</li>\n<li>Booking – in the sense of “local” dentist appointment</li>\n</ul>\n<p><code>Instant</code></p>\n<ul>\n<li>Some critical function must start every day at 1:30am (LocalDateTime &amp; ZonedDateTime are wrong in this case, because e.g. during switching from/to standard time to summer time, function runs twice/not at all).</li>\n</ul>\n"},{"tags":["java","xml","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1586724528,"post_id":61177573,"comment_id":108227843,"body_markdown":"You might have configured a newer Java JDK/JRE (where `javax.xml.bind` is missing) in _Window &gt; Preferences: Java &gt; Installed JREs_.","body":"You might have configured a newer Java JDK/JRE (where <code>javax.xml.bind</code> is missing) in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>."},{"owner":{"account_id":18264289,"reputation":73,"user_id":13296404,"display_name":"Galo"},"score":0,"creation_date":1586728291,"post_id":61177573,"comment_id":108229077,"body_markdown":"Thanks, that worked just fine","body":"Thanks, that worked just fine"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1652515827,"creation_date":1586731504,"answer_id":61179185,"question_id":61177573,"body_markdown":"You might have configured a newer Java JDK/JRE (where `javax.xml.bind` is missing) in *Window &gt; Preferences: Java &gt; Installed JREs*.\r\n\r\n**Since Java 11 `javax.xml.bind` is not contained** anymore in the system library and has to be added as a dependency (e.g. [with this one][1]).\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api","title":"javax.xml.bind cannot be resolved","body":"<p>You might have configured a newer Java JDK/JRE (where <code>javax.xml.bind</code> is missing) in <em>Window &gt; Preferences: Java &gt; Installed JREs</em>.</p>\n<p><strong>Since Java 11 <code>javax.xml.bind</code> is not contained</strong> anymore in the system library and has to be added as a dependency (e.g. <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\" rel=\"noreferrer\">with this one</a>).</p>\n"},{"tags":[],"owner":{"account_id":20066239,"reputation":49,"user_id":14711885,"display_name":"Shubhasmita Roy"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1650530824,"creation_date":1650530824,"answer_id":71951475,"question_id":61177573,"body_markdown":"I&#39;m working with Java 17. As mentioned ```javax.xml.bind``` is missing in newer JDKs. \r\n\r\nStep 1: Go to [this link][1] .\r\n\r\nStep 2: Select one of the Versions\r\n\r\nStep 3: Copy the contents of dependency tag under Maven tab.\r\n\r\nStep 4: Add the copied contents in pom.xml file within ```&lt;dependencies&gt; &lt;/dependencies&gt;``` tags\r\n\r\nNow you should be able to see an option to import required libraries.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api","title":"javax.xml.bind cannot be resolved","body":"<p>I'm working with Java 17. As mentioned <code>javax.xml.bind</code> is missing in newer JDKs.</p>\n<p>Step 1: Go to <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\" rel=\"nofollow noreferrer\">this link</a> .</p>\n<p>Step 2: Select one of the Versions</p>\n<p>Step 3: Copy the contents of dependency tag under Maven tab.</p>\n<p>Step 4: Add the copied contents in pom.xml file within <code>&lt;dependencies&gt; &lt;/dependencies&gt;</code> tags</p>\n<p>Now you should be able to see an option to import required libraries.</p>\n"}],"owner":{"account_id":18264289,"reputation":73,"user_id":13296404,"display_name":"Galo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20995,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":61179185,"answer_count":2,"score":7,"last_activity_date":1652515827,"creation_date":1586722697,"question_id":61177573,"body_markdown":"I have a weird problem with an import I&#39;m using in an Eclipse project. I am importing javax.xml.bind but I have an error saying that it cannot be resolved. My project&#39;s compliance is using Java 1.8, my JRE System Library is also 1.8. A friend of mine that is working on the code with me through Github has the same Java configurations in Eclipse but he is not having the same problem as I do. We have tried uninstalling and re installing the JRE for the project and still won&#39;t work. Does anyone know what&#39;s this all about?","title":"javax.xml.bind cannot be resolved","body":"<p>I have a weird problem with an import I'm using in an Eclipse project. I am importing javax.xml.bind but I have an error saying that it cannot be resolved. My project's compliance is using Java 1.8, my JRE System Library is also 1.8. A friend of mine that is working on the code with me through Github has the same Java configurations in Eclipse but he is not having the same problem as I do. We have tried uninstalling and re installing the JRE for the project and still won't work. Does anyone know what's this all about?</p>\n"},{"tags":["java","csv","kotlin","amazon-s3"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":1,"creation_date":1652378033,"post_id":72220023,"comment_id":127597814,"body_markdown":"Unless you need to avoid downloading any extra bytes, there&#39;s generally no need to specify the byte range manually, you can just use something like `csv.reader(io.TextIOWrapper(s3.get_object(...)[&#39;Body&#39;]))` and read x rows from the reader object and let boto3 download data as needed.","body":"Unless you need to avoid downloading any extra bytes, there&#39;s generally no need to specify the byte range manually, you can just use something like <code>csv.reader(io.TextIOWrapper(s3.get_object(...)[&#39;Body&#39;]))</code> and read x rows from the reader object and let boto3 download data as needed."}],"answers":[{"tags":[],"owner":{"account_id":17904044,"reputation":75,"user_id":13007661,"display_name":"Aleix Molla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652380532,"creation_date":1652378020,"answer_id":72220150,"question_id":72220023,"body_markdown":"You can use smart_open like this:\r\n\r\n    from smart_open import open\r\n    \r\n    with open(&#39;s3://bucket/path/file.csv&#39;, &#39;r&#39;) as f:\r\n        csv_reader = csv.DictReader(f, delimiter=&#39;,&#39;)\r\n        data = &#39;&#39;\r\n        for i, row in enumerate(csv_reader):\r\n            data += row +&#39;\\n&#39;\r\n            if i &gt; 100:\r\n                store(data)\r\n\r\n\r\nYou will need to open another file in your localmachine with write permission to store a 100 lines or as many as you like. If you want the 1st lines from multiple files, you can do the same but using the boto3 function for listing the files and send the path/file name to a function using smart_open.\r\n\r\n    s3client = boto3.client(&#39;s3&#39;)\r\n\r\n    listObj = s3client.list_objects_v2(Bucket=bucket, Prefix=prefix)\r\n    for obj in listObj[&#39;Contents&#39;]:\r\n        smart_function(obj[&#39;Key&#39;])\r\n\r\nThe obj[&#39;Key&#39;] contains the path and file name of each file in that Bucket+Path(Prefix)","title":"Is it possible to download the first 100 lines of a big file with millions of lines from S3?","body":"<p>You can use smart_open like this:</p>\n<pre><code>from smart_open import open\n\nwith open('s3://bucket/path/file.csv', 'r') as f:\n    csv_reader = csv.DictReader(f, delimiter=',')\n    data = ''\n    for i, row in enumerate(csv_reader):\n        data += row +'\\n'\n        if i &gt; 100:\n            store(data)\n</code></pre>\n<p>You will need to open another file in your localmachine with write permission to store a 100 lines or as many as you like. If you want the 1st lines from multiple files, you can do the same but using the boto3 function for listing the files and send the path/file name to a function using smart_open.</p>\n<pre><code>s3client = boto3.client('s3')\n\nlistObj = s3client.list_objects_v2(Bucket=bucket, Prefix=prefix)\nfor obj in listObj['Contents']:\n    smart_function(obj['Key'])\n</code></pre>\n<p>The obj['Key'] contains the path and file name of each file in that Bucket+Path(Prefix)</p>\n"},{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652515556,"creation_date":1652515556,"answer_id":72238388,"question_id":72220023,"body_markdown":"**There is no built-in way, [byte-range fetches][1] are the best way forward.** \r\n\r\nAs you&#39;re not sure of the header or line length in each case, downloading 1MB chunks until you have 100 line is a safe &amp; efficient approach. \r\n\r\nMultibyte chars etc. won&#39;t be important as at this level, you&#39;re purely looking to stop reading after 100 `\\n` characters. Depending on the source of your files, however, I would be also conscious of `\\r\\n` and `\\r` as being valid line endings.\r\n\r\nI&#39;ve written the below Java code for getting the *last* `n` bytes, feel free to use it as a starting point for getting the *first* `n` bytes:\r\n\r\n```java\r\npublic String getLastBytesOfObjectAsString(String bucket, String key, long lastBytesCount) {\r\n    try {\r\n        final ObjectMetadata objectMetadata = client.getObjectMetadata(bucket, key);\r\n        final long fileSizeInBytes = objectMetadata.getContentLength();\r\n\r\n        long rangeStart = fileSizeInBytes - lastBytesCount;\r\n        if (rangeStart &lt; 0) {\r\n            rangeStart = 0;\r\n        }\r\n\r\n        final GetObjectRequest getObjectRequest =\r\n                    new GetObjectRequest(bucket, key).withRange(rangeStart);\r\n\r\n        try (S3Object s3Object = client.getObject(getObjectRequest);\r\n             InputStream inputStream = s3Object.getObjectContent()) {\r\n            return new String(inputStream.readAllBytes());\r\n        }\r\n    } catch (Exception ex) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/use-byte-range-fetches.html","title":"Is it possible to download the first 100 lines of a big file with millions of lines from S3?","body":"<p><strong>There is no built-in way, <a href=\"https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/use-byte-range-fetches.html\" rel=\"nofollow noreferrer\">byte-range fetches</a> are the best way forward.</strong></p>\n<p>As you're not sure of the header or line length in each case, downloading 1MB chunks until you have 100 line is a safe &amp; efficient approach.</p>\n<p>Multibyte chars etc. won't be important as at this level, you're purely looking to stop reading after 100 <code>\\n</code> characters. Depending on the source of your files, however, I would be also conscious of <code>\\r\\n</code> and <code>\\r</code> as being valid line endings.</p>\n<p>I've written the below Java code for getting the <em>last</em> <code>n</code> bytes, feel free to use it as a starting point for getting the <em>first</em> <code>n</code> bytes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getLastBytesOfObjectAsString(String bucket, String key, long lastBytesCount) {\n    try {\n        final ObjectMetadata objectMetadata = client.getObjectMetadata(bucket, key);\n        final long fileSizeInBytes = objectMetadata.getContentLength();\n\n        long rangeStart = fileSizeInBytes - lastBytesCount;\n        if (rangeStart &lt; 0) {\n            rangeStart = 0;\n        }\n\n        final GetObjectRequest getObjectRequest =\n                    new GetObjectRequest(bucket, key).withRange(rangeStart);\n\n        try (S3Object s3Object = client.getObject(getObjectRequest);\n             InputStream inputStream = s3Object.getObjectContent()) {\n            return new String(inputStream.readAllBytes());\n        }\n    } catch (Exception ex) {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":223412,"reputation":17026,"user_id":482594,"accept_rate":87,"display_name":"user482594"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72238388,"answer_count":2,"score":0,"last_activity_date":1652515556,"creation_date":1652377356,"question_id":72220023,"body_markdown":"I have multiple 100MB raw files with series of user activities in CSV format. I only want to download the first 100 lines of the files. \r\n\r\nThe problem is that each file may have different CSV header columns, and data values, because they are user activities from multiple subdomains using different activity tracking providers. This means that each line can be 50 characters long or 500 characters long and it is unknown until I read them all.\r\n\r\nS3 supports `getObject` API with `Range` parameter which you can use to download the specific ranges of XX bytes of the file. \r\n\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html#API_GetObject_RequestSyntax\r\n\r\nIf I use this API to parse first 1Mb of files, iterate each byte until I see 100 new lines character `\\n`, would that technically work? Is there something that I have to be careful about this approach? (e.g. multibyte chars?)","title":"Is it possible to download the first 100 lines of a big file with millions of lines from S3?","body":"<p>I have multiple 100MB raw files with series of user activities in CSV format. I only want to download the first 100 lines of the files.</p>\n<p>The problem is that each file may have different CSV header columns, and data values, because they are user activities from multiple subdomains using different activity tracking providers. This means that each line can be 50 characters long or 500 characters long and it is unknown until I read them all.</p>\n<p>S3 supports <code>getObject</code> API with <code>Range</code> parameter which you can use to download the specific ranges of XX bytes of the file.</p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html#API_GetObject_RequestSyntax\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html#API_GetObject_RequestSyntax</a></p>\n<p>If I use this API to parse first 1Mb of files, iterate each byte until I see 100 new lines character <code>\\n</code>, would that technically work? Is there something that I have to be careful about this approach? (e.g. multibyte chars?)</p>\n"},{"tags":["java","arrays","object","arraylist","data-structures"],"comments":[{"owner":{"account_id":7391605,"reputation":1968,"user_id":5624825,"display_name":"DhaRmvEEr siNgh"},"score":0,"creation_date":1511332108,"post_id":47428028,"comment_id":81810635,"body_markdown":"Can you please explain how you are creating new Student object after four parameter as you mentioned in you problem &quot;The student object only holds 4 parameters and after every four, it will store a new student object.&quot;","body":"Can you please explain how you are creating new Student object after four parameter as you mentioned in you problem &quot;The student object only holds 4 parameters and after every four, it will store a new student object.&quot;"},{"owner":{"account_id":12005107,"reputation":475,"user_id":8783684,"display_name":"Dabiuteef"},"score":0,"creation_date":1511332335,"post_id":47428028,"comment_id":81810726,"body_markdown":"Do you mean that the whole `&quot;CyberHacking Tools,CLS,...&quot;` is one of the strings in `listGroup`, or each of the comma-separated string is an element in the list?","body":"Do you mean that the whole <code>&quot;CyberHacking Tools,CLS,...&quot;</code> is one of the strings in <code>listGroup</code>, or each of the comma-separated string is an element in the list?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1511333176,"post_id":47428028,"comment_id":81811098,"body_markdown":"Will there always be a correct number of elements? Can there be like 12 elements, where the last 3 cannot form a student object?","body":"Will there always be a correct number of elements? Can there be like 12 elements, where the last 3 cannot form a student object?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1511333516,"post_id":47428028,"comment_id":81811248,"body_markdown":"What is the `noOfProject` parameter?","body":"What is the <code>noOfProject</code> parameter?"},{"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"score":0,"creation_date":1511428018,"post_id":47428028,"comment_id":81857631,"body_markdown":"@Sweeper I think `2` is the value for parameter `noOfProject` and value for `NoOfStudent` parameter is not present in the input. we need to calculate the number of students by parsing the input string as I&#39;ve shown in the answer section.","body":"@Sweeper I think <code>2</code> is the value for parameter <code>noOfProject</code> and value for <code>NoOfStudent</code> parameter is not present in the input. we need to calculate the number of students by parsing the input string as I&#39;ve shown in the answer section."}],"answers":[{"tags":[],"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652515172,"creation_date":1511334898,"answer_id":47428842,"question_id":47428028,"body_markdown":"I will assume you want to store the project and student objects for later usage. Here&#39;s the approach you can take:\r\n               \r\n    List&lt;Project&gt; personList = new ArrayList&lt;Project&gt;(); //store list of projects\r\n    List&lt;Student&gt; listStudent = new ArrayList&lt;Student&gt;(); //store list of students\r\n\r\n    for (String str : listGroup) \r\n    {\r\n        String arr[] = str.split(&quot;,&quot;);\r\n\r\n        // as student object takes 4 arguments and &quot;noOfStudents&quot; is \r\n        // the number of &quot;Student&quot; objects found in the string\r\n        int noOfStudents = (arr.length / 4)-1;\r\n\r\n        Project p = new Project(Integer.parseInt(arr[3]), arr[0], arr[1], arr[2], noOfStudents);\r\n        personList.add(p);\r\n\r\n        for (int i = 4; i &lt; arr.length-4; i += 4)\r\n        {\r\n            listStudent.add(new Student(arr[i], arr[i+1], arr[i+2], arr[i+3]));\r\n        }\r\n    }\r\n\r\n**Note:** while creating the objects of `Person` and `Student` I&#39;ve passed parameters arbitrarily assuming the sequence of the `string`s will be consistent. Hope you can pass the parameters according to your constructor parameter sequence.","title":"How do I loop through an arrayList to store them as different objects?","body":"<p>I will assume you want to store the project and student objects for later usage. Here's the approach you can take:</p>\n<pre><code>List&lt;Project&gt; personList = new ArrayList&lt;Project&gt;(); //store list of projects\nList&lt;Student&gt; listStudent = new ArrayList&lt;Student&gt;(); //store list of students\n\nfor (String str : listGroup) \n{\n    String arr[] = str.split(&quot;,&quot;);\n\n    // as student object takes 4 arguments and &quot;noOfStudents&quot; is \n    // the number of &quot;Student&quot; objects found in the string\n    int noOfStudents = (arr.length / 4)-1;\n\n    Project p = new Project(Integer.parseInt(arr[3]), arr[0], arr[1], arr[2], noOfStudents);\n    personList.add(p);\n\n    for (int i = 4; i &lt; arr.length-4; i += 4)\n    {\n        listStudent.add(new Student(arr[i], arr[i+1], arr[i+2], arr[i+3]));\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> while creating the objects of <code>Person</code> and <code>Student</code> I've passed parameters arbitrarily assuming the sequence of the <code>string</code>s will be consistent. Hope you can pass the parameters according to your constructor parameter sequence.</p>\n"},{"tags":[],"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511370697,"creation_date":1511368989,"answer_id":47439874,"question_id":47428028,"body_markdown":"First thing, your `Project` constructor seems to have `4` parameters and not `5`. Said that,\r\n\r\n        // considering this as your sample line -\r\n        // String line = &quot;CyberHacking Tools,CLS,Tim Hemmingway,2,P132303,Tyler Johnson,APP,M,P132304,Patty Henderson,APP,F&quot;\r\n\r\n        String[] tuple = line.split(&quot;,&quot;);\r\n\r\n        // Get first 4 tuples for Project. \r\n        // CyberHacking Tools,CLS,Tim Hemmingway,2\r\n        Project project = new Project(tuple[0], tuple[1], tuple[2], tuple[3]);\r\n\r\n        // Iterate over rest of the tuples for Student. \r\n        // P132303,Tyler Johnson,APP,M \r\n        // P132304,Patty Henderson,APP,F\r\n        for (int i = 4; i &lt; tuple.length; i += 4) {\r\n            Student student = new Student(tuple[i], tuple[i + 1], tuple[i + 2], tuple[i + 3]);\r\n            // add the student object to List&lt;Student&gt; here. \r\n        }\r\n    ","title":"How do I loop through an arrayList to store them as different objects?","body":"<p>First thing, your <code>Project</code> constructor seems to have <code>4</code> parameters and not <code>5</code>. Said that,</p>\n\n<pre><code>    // considering this as your sample line -\n    // String line = \"CyberHacking Tools,CLS,Tim Hemmingway,2,P132303,Tyler Johnson,APP,M,P132304,Patty Henderson,APP,F\"\n\n    String[] tuple = line.split(\",\");\n\n    // Get first 4 tuples for Project. \n    // CyberHacking Tools,CLS,Tim Hemmingway,2\n    Project project = new Project(tuple[0], tuple[1], tuple[2], tuple[3]);\n\n    // Iterate over rest of the tuples for Student. \n    // P132303,Tyler Johnson,APP,M \n    // P132304,Patty Henderson,APP,F\n    for (int i = 4; i &lt; tuple.length; i += 4) {\n        Student student = new Student(tuple[i], tuple[i + 1], tuple[i + 2], tuple[i + 3]);\n        // add the student object to List&lt;Student&gt; here. \n    }\n</code></pre>\n"}],"owner":{"account_id":12315440,"reputation":19,"user_id":8985905,"display_name":"JApple"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652515172,"creation_date":1511331523,"question_id":47428028,"body_markdown":"I have an Arraylist of String.\r\n\r\n    private List&lt;String&gt; listGroup = new ArrayList&lt;String&gt;();\r\n\r\nOne elements of listGroup is\r\n`&quot;CyberHacking Tools,CLS,Tim Hemmingway,2,P132303,Tyler Johnson,APP,M,P132304,Patty Henderson,APP,F&quot;`. \r\n\r\nI need to store the first five elements into a project object which has constructor in project class, while looping the rest to store them into Student object with constructors in Student class. The student object only holds 4 parameters and after every four, it will store a new student object. All of these objects will hence be passed into a Student and Project list.\r\n\r\nThe codes for these objects are written below.\r\n\r\nIn the Project class: \r\n\r\n   \r\n\r\n        public Project(int noOfProj, String title, String sch, String superv, int NoOfStudent) {\r\n            this.noOfProj = noOfProj;\r\n            this.title = title;\r\n            this.school = sch;\r\n            this.supervisorName = superv;\r\n            this.noOfStudent = NoOfStudent;\r\n            // this.projIndex = projCode;\r\n        }\r\n      \r\n\r\nThis is the Project object:   \r\n\r\n    Project p = new Project(title, school, supervisorName, noOfStudents);\r\n \r\nI have a project class, student class,FileReader class and JFrame class respectively. What is the best way to go about this?\r\n\r\nThank you. ","title":"How do I loop through an arrayList to store them as different objects?","body":"<p>I have an Arraylist of String.</p>\n\n<pre><code>private List&lt;String&gt; listGroup = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>One elements of listGroup is\n<code>\"CyberHacking Tools,CLS,Tim Hemmingway,2,P132303,Tyler Johnson,APP,M,P132304,Patty Henderson,APP,F\"</code>. </p>\n\n<p>I need to store the first five elements into a project object which has constructor in project class, while looping the rest to store them into Student object with constructors in Student class. The student object only holds 4 parameters and after every four, it will store a new student object. All of these objects will hence be passed into a Student and Project list.</p>\n\n<p>The codes for these objects are written below.</p>\n\n<p>In the Project class: </p>\n\n<pre><code>    public Project(int noOfProj, String title, String sch, String superv, int NoOfStudent) {\n        this.noOfProj = noOfProj;\n        this.title = title;\n        this.school = sch;\n        this.supervisorName = superv;\n        this.noOfStudent = NoOfStudent;\n        // this.projIndex = projCode;\n    }\n</code></pre>\n\n<p>This is the Project object:   </p>\n\n<pre><code>Project p = new Project(title, school, supervisorName, noOfStudents);\n</code></pre>\n\n<p>I have a project class, student class,FileReader class and JFrame class respectively. What is the best way to go about this?</p>\n\n<p>Thank you. </p>\n"},{"tags":["java","eclipse","maven","pom.xml","multi-module"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1652520750,"post_id":72238355,"comment_id":127629608,"body_markdown":"Remove the whole project from Eclipse. Delete the directories `.settings`, `.project`, `.classpath` and import the whole project from scratch.","body":"Remove the whole project from Eclipse. Delete the directories <code>.settings</code>, <code>.project</code>, <code>.classpath</code> and import the whole project from scratch."}],"owner":{"account_id":22092298,"reputation":13,"user_id":16350182,"display_name":"user16350182"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652515097,"creation_date":1652515097,"question_id":72238355,"body_markdown":"I&#39;m working on a new maven multi module project on eclipse. The problem is, the child project is shown as a regular folder and not a maven folder. What&#39;s the problem? I created the parent project with only the pom.xml and pom packaging. the child module was created through cmd with the typical mvn archetype:generate command\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nhere are the pom.xml files\r\n\r\nParent\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n  &lt;groupId&gt;blabla&lt;/groupId&gt;\r\n    \r\n  &lt;artifactId&gt;zuers-klassen&lt;/artifactId&gt;\r\n    \r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  \r\n  &lt;modules&gt;\r\n    &lt;module&gt;zuers-klassen-api&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n&lt;/project&gt; \r\n```\r\n\r\nChild\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;artifactId&gt;zuers-klassen&lt;/artifactId&gt;\r\n    &lt;groupId&gt;blbabla&lt;/groupId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;blabla&lt;/groupId&gt;\r\n  &lt;artifactId&gt;zuers-klassen-api&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;maven-archetype&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;Archetype - zuers-klassen-api&lt;/name&gt;\r\n\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;extensions&gt;\r\n      &lt;extension&gt;\r\n        &lt;groupId&gt;org.apache.maven.archetype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;archetype-packaging&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-archetype-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;properties&gt;\r\n              &lt;https.protocols&gt;${https.protocols}&lt;/https.protocols&gt;\r\n            &lt;/properties&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iqgiq.png","title":"Maven Eclipse - Child module not recognized as maven project","body":"<p>I'm working on a new maven multi module project on eclipse. The problem is, the child project is shown as a regular folder and not a maven folder. What's the problem? I created the parent project with only the pom.xml and pom packaging. the child module was created through cmd with the typical mvn archetype:generate command</p>\n<p><a href=\"https://i.stack.imgur.com/iqgiq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqgiq.png\" alt=\"enter image description here\" /></a></p>\n<p>here are the pom.xml files</p>\n<p>Parent</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n  &lt;groupId&gt;blabla&lt;/groupId&gt;\n    \n  &lt;artifactId&gt;zuers-klassen&lt;/artifactId&gt;\n    \n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    \n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  \n  &lt;modules&gt;\n    &lt;module&gt;zuers-klassen-api&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/project&gt; \n</code></pre>\n<p>Child</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;zuers-klassen&lt;/artifactId&gt;\n    &lt;groupId&gt;blbabla&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;blabla&lt;/groupId&gt;\n  &lt;artifactId&gt;zuers-klassen-api&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;maven-archetype&lt;/packaging&gt;\n\n  &lt;name&gt;Archetype - zuers-klassen-api&lt;/name&gt;\n\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;extensions&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;org.apache.maven.archetype&lt;/groupId&gt;\n        &lt;artifactId&gt;archetype-packaging&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-archetype-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;properties&gt;\n              &lt;https.protocols&gt;${https.protocols}&lt;/https.protocols&gt;\n            &lt;/properties&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":10727167,"reputation":4274,"user_id":7894334,"display_name":"Mathieu Ferre"},"score":4,"creation_date":1512660364,"post_id":47698377,"comment_id":82356596,"body_markdown":"What is the error ?","body":"What is the error ?"},{"owner":{"account_id":6704630,"reputation":716,"user_id":5170064,"accept_rate":89,"display_name":"ItzBenteThePig"},"score":0,"creation_date":1512664148,"post_id":47698377,"comment_id":82359060,"body_markdown":"You&#39;re not closing the if statement `if (args.length == 0 || args.length &lt; 2) {`","body":"You&#39;re not closing the if statement <code>if (args.length == 0 || args.length &lt; 2) {</code>"},{"owner":{"account_id":11995008,"reputation":335,"user_id":8776861,"accept_rate":67,"display_name":"A1trdX"},"score":0,"creation_date":1512664547,"post_id":47698377,"comment_id":82359287,"body_markdown":"Because you first check if args length is **zero**, and then try to get **first** argument (`if args[0].equals....`) in command without args. So I think console prints ArrayOfBoundsException. Because of any exception occured in `onCommand` method you will see message &#39;Internal error ...&#39;","body":"Because you first check if args length is <b>zero</b>, and then try to get <b>first</b> argument (<code>if args[0].equals....</code>) in command without args. So I think console prints ArrayOfBoundsException. Because of any exception occured in <code>onCommand</code> method you will see message &#39;Internal error ...&#39;"},{"owner":{"account_id":8615300,"reputation":13,"user_id":6452380,"display_name":"F. Almalki"},"score":0,"creation_date":1512672471,"post_id":47698377,"comment_id":82363475,"body_markdown":"@ItzBenteThePig I have tried that, didn&#39;t work! Thank you all for offering to help!","body":"@ItzBenteThePig I have tried that, didn&#39;t work! Thank you all for offering to help!"},{"owner":{"account_id":540166,"reputation":15708,"user_id":1663383,"accept_rate":54,"display_name":"Draco18s no longer trusts SE"},"score":1,"creation_date":1512679092,"post_id":47698377,"comment_id":82366881,"body_markdown":"You can simplify `if (args.length == 0 || args.length &lt; 2)` down to `if (args.length &lt; 2)`: if the length is 0, then it definitely is less than 2.","body":"You can simplify <code>if (args.length == 0 || args.length &lt; 2)</code> down to <code>if (args.length &lt; 2)</code>: if the length is 0, then it definitely is less than 2."}],"answers":[{"tags":[],"owner":{"account_id":6704630,"reputation":716,"user_id":5170064,"accept_rate":89,"display_name":"ItzBenteThePig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652515044,"creation_date":1512764783,"answer_id":47721675,"question_id":47698377,"body_markdown":"Spoonfeed incoming:\r\n\r\n    package me.frostgamersa;\r\n    \r\n    import org.bukkit.Material;\r\n    import org.bukkit.command.Command;\r\n    import org.bukkit.command.CommandSender;\r\n    import org.bukkit.entity.Player;\r\n    import org.bukkit.inventory.ItemStack;\r\n    import org.bukkit.plugin.java.JavaPlugin;\r\n    \r\n    public class Main extends JavaPlugin {\r\n    @Override\r\n    public void onEnable() {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onDisable() {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        if (label.equalsIgnoreCase(&quot;akitz&quot;)) {\r\n            Player player = (Player) sender;\r\n    \r\n            if (args.length &lt; 2) {\r\n                player.sendMessage(&quot;&#167;cIncorrect Arguments&quot;);\r\n    \t\t} else {\r\n    \t\t\tif (args[0].equalsIgnoreCase(&quot;legend&quot;)) {\r\n    \t\t\t\tplayer.sendMessage(&quot;&#167;bYou have been Granted &#167;3Legend &#167;bKit!&quot;);\r\n    \t\t\t\tCustomItems.givela(player);\r\n    \t\t\t\tCustomItems.givels(player);\r\n    \t\t\t\tplayer.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (args[0].equalsIgnoreCase(&quot;god&quot;)) {\r\n    \t\t\t\tplayer.sendMessage(&quot;&#167;bYou have been Granted &#167;3God &#167;bKit!&quot;);\r\n    \t\t\t\tCustomItems.givega(player);\r\n    \t\t\t\tCustomItems.givegs(player);\r\n    \t\t\t\tplayer.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\r\n    \t\t\t\treturn true;\r\n    \t\t\t} else {\r\n    \t\t\t\tplayer.sendMessage(&quot;&#167;cIncorrect Arguments!&quot;);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI would also recommend you remove onEnable and onDisable, as those are not required, and since you have nothing in them, it&#39;s just using up space that it doesn&#39;t need to.\r\n\r\nAlso, you should check if the sender is a player before casting it, as that could create errors when console executes a command.","title":"Getting Internal Error in Subcommand Bukkit","body":"<p>Spoonfeed incoming:</p>\n<pre><code>package me.frostgamersa;\n\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class Main extends JavaPlugin {\n@Override\npublic void onEnable() {\n\n}\n\n@Override\npublic void onDisable() {\n\n}\n\n@Override\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n    if (label.equalsIgnoreCase(&quot;akitz&quot;)) {\n        Player player = (Player) sender;\n\n        if (args.length &lt; 2) {\n            player.sendMessage(&quot;§cIncorrect Arguments&quot;);\n        } else {\n            if (args[0].equalsIgnoreCase(&quot;legend&quot;)) {\n                player.sendMessage(&quot;§bYou have been Granted §3Legend §bKit!&quot;);\n                CustomItems.givela(player);\n                CustomItems.givels(player);\n                player.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\n                return true;\n            }\n\n            if (args[0].equalsIgnoreCase(&quot;god&quot;)) {\n                player.sendMessage(&quot;§bYou have been Granted §3God §bKit!&quot;);\n                CustomItems.givega(player);\n                CustomItems.givegs(player);\n                player.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\n                return true;\n            } else {\n                player.sendMessage(&quot;§cIncorrect Arguments!&quot;);\n                return true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I would also recommend you remove onEnable and onDisable, as those are not required, and since you have nothing in them, it's just using up space that it doesn't need to.</p>\n<p>Also, you should check if the sender is a player before casting it, as that could create errors when console executes a command.</p>\n"},{"tags":[],"owner":{"account_id":12418701,"reputation":41,"user_id":9046789,"display_name":"cane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512852966,"creation_date":1512852966,"answer_id":47733108,"question_id":47698377,"body_markdown":"This is how command should look like..\r\n\r\n    \tpublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\t\t\r\n\t\tPlayer p = (Player) sender;\r\n\t\t\r\n\t\tif (cmd.getName().equalsIgnoreCase(&quot;akitz&quot;)) {\r\n\t\t\t\r\n\t\t\tif (args.length != 1) {\r\n\t\t\t\t\r\n\t\t\t\tp.sendMessage(&quot;&#167;cIncorrect argument count!&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (args[0].equalsIgnoreCase(&quot;legend&quot;)) {\r\n\t\t\t\t\t\r\n\t\t\t\tp.sendMessage(&quot;&#167;bYou got a kit &#167;3Legend&quot;);\r\n\t\t\t\tCustomItems.givela(p);\r\n\t\t\t\tCustomItems.givels(p);\r\n\t\t\t\tp.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\r\n\t\t\t\treturn true;\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (args[0].equalsIgnoreCase(&quot;god&quot;)) {\r\n\t\t\t\t\r\n\t\t\t\tp.sendMessage(&quot;&#167;bYou got a kit &#167;3God&quot;);\r\n\t\t\t\tCustomItems.givega(p);\r\n\t\t\t\tCustomItems.givegs(p);\r\n\t\t\t\tp.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\r\n\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!args[0].equalsIgnoreCase(&quot;legend&quot;) | !args[0].equalsIgnoreCase(&quot;god&quot;)) {\r\n\t\t\t\t\r\n\t\t\t\tp.sendMessage(&quot;&#167;cIncorrect argument!&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\r\nAlso, let your class implement CommandExecutor and add to your onEnable method this..\r\n\r\n        public void onEnable() {\r\n    \t\r\n    \t    getCommand(&quot;akitz&quot;).setExecutor(this);\r\n    \t\r\n    }\r\n\r\nwhich will register command, just for sure","title":"Getting Internal Error in Subcommand Bukkit","body":"<p>This is how command should look like..</p>\n\n<pre><code>    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\n    Player p = (Player) sender;\n\n    if (cmd.getName().equalsIgnoreCase(\"akitz\")) {\n\n        if (args.length != 1) {\n\n            p.sendMessage(\"§cIncorrect argument count!\");\n\n        }\n\n        if (args[0].equalsIgnoreCase(\"legend\")) {\n\n            p.sendMessage(\"§bYou got a kit §3Legend\");\n            CustomItems.givela(p);\n            CustomItems.givels(p);\n            p.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\n            return true;\n\n        }\n\n        if (args[0].equalsIgnoreCase(\"god\")) {\n\n            p.sendMessage(\"§bYou got a kit §3God\");\n            CustomItems.givega(p);\n            CustomItems.givegs(p);\n            p.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\n            return true;\n\n        }\n\n        if (!args[0].equalsIgnoreCase(\"legend\") | !args[0].equalsIgnoreCase(\"god\")) {\n\n            p.sendMessage(\"§cIncorrect argument!\");\n\n        }\n\n    }\n\n    return false;\n\n}\n</code></pre>\n\n<p>Also, let your class implement CommandExecutor and add to your onEnable method this..</p>\n\n<pre><code>    public void onEnable() {\n\n        getCommand(\"akitz\").setExecutor(this);\n\n}\n</code></pre>\n\n<p>which will register command, just for sure</p>\n"}],"owner":{"account_id":8615300,"reputation":13,"user_id":6452380,"display_name":"F. Almalki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47733108,"answer_count":2,"score":-1,"last_activity_date":1652515054,"creation_date":1512660304,"question_id":47698377,"body_markdown":"I&#39;ve been facing a problem lately with bukkit coding. When I launch the plugin and just type /akitz   **command label or name** it pops up with an Internal Error but when I type /akitz {subcommand} it works fine! everything here basically works fine but just the /akitz   &lt;-- alone when i type it, an error pops up!   here&#39;s the code:   \r\n\r\n    package me.frostgamersa;\r\n    \r\n    import org.bukkit.Material;\r\n    import org.bukkit.command.Command;\r\n    import org.bukkit.command.CommandSender;\r\n    import org.bukkit.entity.Player;\r\n    import org.bukkit.inventory.ItemStack;\r\n    import org.bukkit.plugin.java.JavaPlugin;\r\n    \r\n    public class Main extends JavaPlugin {\r\n    @Override\r\n    public void onEnable() {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onDisable() {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        if (label.equalsIgnoreCase(&quot;akitz&quot;)) {\r\n            Player player = (Player) sender;\r\n    \r\n            if (args.length == 0 || args.length &lt; 2) {\r\n                player.sendMessage(&quot;&#167;cIncorrect Arguments&quot;);\r\n    \r\n                if (args[0].equalsIgnoreCase(&quot;legend&quot;)) {\r\n                    player.sendMessage(&quot;&#167;bYou have been Granted &#167;3Legend &#167;bKit!&quot;);\r\n                    CustomItems.givela(player);\r\n                    CustomItems.givels(player);\r\n                    player.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\r\n                    return true;\r\n                }\r\n                if (args[0].equalsIgnoreCase(&quot;god&quot;)) {\r\n                    player.sendMessage(&quot;&#167;bYou have been Granted &#167;3God &#167;bKit!&quot;);\r\n                    CustomItems.givega(player);\r\n                    CustomItems.givegs(player);\r\n                    player.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\r\n                    return true;\r\n                } else {\r\n                    player.sendMessage(&quot;&#167;cIncorrect Arguments!&quot;);\r\n                    return true;\r\n                }\r\n            }","title":"Getting Internal Error in Subcommand Bukkit","body":"<p>I've been facing a problem lately with bukkit coding. When I launch the plugin and just type /akitz   <strong>command label or name</strong> it pops up with an Internal Error but when I type /akitz {subcommand} it works fine! everything here basically works fine but just the /akitz   &lt;-- alone when i type it, an error pops up!   here's the code:</p>\n<pre><code>package me.frostgamersa;\n\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class Main extends JavaPlugin {\n@Override\npublic void onEnable() {\n\n}\n\n@Override\npublic void onDisable() {\n\n}\n\n@Override\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n    if (label.equalsIgnoreCase(&quot;akitz&quot;)) {\n        Player player = (Player) sender;\n\n        if (args.length == 0 || args.length &lt; 2) {\n            player.sendMessage(&quot;§cIncorrect Arguments&quot;);\n\n            if (args[0].equalsIgnoreCase(&quot;legend&quot;)) {\n                player.sendMessage(&quot;§bYou have been Granted §3Legend §bKit!&quot;);\n                CustomItems.givela(player);\n                CustomItems.givels(player);\n                player.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\n                return true;\n            }\n            if (args[0].equalsIgnoreCase(&quot;god&quot;)) {\n                player.sendMessage(&quot;§bYou have been Granted §3God §bKit!&quot;);\n                CustomItems.givega(player);\n                CustomItems.givegs(player);\n                player.getInventory().addItem(new ItemStack(Material.GOLDEN_APPLE, 64));\n                return true;\n            } else {\n                player.sendMessage(&quot;§cIncorrect Arguments!&quot;);\n                return true;\n            }\n        }\n</code></pre>\n"},{"tags":["java","recursion","graph","syntax","depth-first-search"],"comments":[{"owner":{"account_id":9293314,"reputation":2267,"user_id":6901081,"display_name":"jsotola"},"score":2,"creation_date":1652514356,"post_id":72238260,"comment_id":127628687,"body_markdown":"`a += b` is synonymous with `a = a + b`","body":"<code>a += b</code> is synonymous with <code>a = a + b</code>"},{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":3,"creation_date":1652514372,"post_id":72238260,"comment_id":127628689,"body_markdown":"They&#39;re only the same in the case where componentSize starts as 1.","body":"They&#39;re only the same in the case where componentSize starts as 1."},{"owner":{"account_id":8451895,"reputation":8971,"user_id":6340496,"display_name":"S3DEV"},"score":0,"creation_date":1652514428,"post_id":72238260,"comment_id":127628701,"body_markdown":"The `+` operator has higher precedence than the `=` operator.  Therefore your statement reads `thing = (1 + thing)`.  Depending on the value of `thing` (if !=1) will yield an ‘unexpected’ result, hence the discrepancy.","body":"The <code>+</code> operator has higher precedence than the <code>=</code> operator.  Therefore your statement reads <code>thing = (1 + thing)</code>.  Depending on the value of <code>thing</code> (if !=1) will yield an ‘unexpected’ result, hence the discrepancy."},{"owner":{"account_id":9293314,"reputation":2267,"user_id":6901081,"display_name":"jsotola"},"score":0,"creation_date":1652514486,"post_id":72238260,"comment_id":127628710,"body_markdown":"`And which one should be used in our case?` ... obviously the one that produces correct results","body":"<code>And which one should be used in our case?</code> ... obviously the one that produces correct results"},{"owner":{"account_id":24069927,"reputation":143,"user_id":18931013,"display_name":"thestarwarsnerd"},"score":0,"creation_date":1652514740,"post_id":72238260,"comment_id":127628744,"body_markdown":"@jsotola Yes thank you for your insightful answer. The right method is always the correct solution ...","body":"@jsotola Yes thank you for your insightful answer. The right method is always the correct solution ..."},{"owner":{"account_id":24069927,"reputation":143,"user_id":18931013,"display_name":"thestarwarsnerd"},"score":1,"creation_date":1652514795,"post_id":72238260,"comment_id":127628754,"body_markdown":"@S3DEV and jonrsharpe Thank you for good explanations!:D","body":"@S3DEV and jonrsharpe Thank you for good explanations!:D"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652516188,"post_id":72238260,"comment_id":127628977,"body_markdown":"just note that `a += b` is not exactly the same as `a = a + b` - the first one includes an implicit cast and `a` is only evaluated once! [JLS 15.26.2. Compound Assignment Operators](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.26.2)","body":"just note that <code>a += b</code> is not exactly the same as <code>a = a + b</code> - the first one includes an implicit cast and <code>a</code> is only evaluated once! <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">JLS 15.26.2. Compound Assignment Operators</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652514755,"creation_date":1652514755,"answer_id":72238313,"question_id":72238260,"body_markdown":"     componentSize += DFS_visit(nextNodeToVisit); \r\n\r\nmeans\r\n\r\n     componentSize = componentSize + DFS_visit(nextNodeToVisit);\r\n\r\nCompare that with\r\n\r\n     componentSize = DFS_visit(nextNodeToVisit) + 1;\r\n\r\nSee the difference?\r\n\r\nIn general  `a &lt;op&gt;= b` means roughly the same as `a = a &lt;op&gt; b` where `&lt;op&gt;` an operator.  (There is also a typecast of the LHS to the type of `a`.)\r\n\r\n-----------------------\r\n\r\n&gt; And which one should be used in our case?\r\n\r\nIt is not clear which is correct.  We would need to see the data structure and more of the algorithm.","title":"Difference between += and = 1+ in Java","body":"<pre><code> componentSize += DFS_visit(nextNodeToVisit); \n</code></pre>\n<p>means</p>\n<pre><code> componentSize = componentSize + DFS_visit(nextNodeToVisit);\n</code></pre>\n<p>Compare that with</p>\n<pre><code> componentSize = DFS_visit(nextNodeToVisit) + 1;\n</code></pre>\n<p>See the difference?</p>\n<p>In general  <code>a &lt;op&gt;= b</code> means roughly the same as <code>a = a &lt;op&gt; b</code> where <code>&lt;op&gt;</code> an operator.  (There is also a typecast of the LHS to the type of <code>a</code>.)</p>\n<hr />\n<blockquote>\n<p>And which one should be used in our case?</p>\n</blockquote>\n<p>It is not clear which is correct.  We would need to see the data structure and more of the algorithm.</p>\n"}],"owner":{"account_id":24069927,"reputation":143,"user_id":18931013,"display_name":"thestarwarsnerd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72238313,"answer_count":1,"score":-1,"last_activity_date":1652515053,"creation_date":1652514168,"question_id":72238260,"body_markdown":"Me and my friend have been working on a problem for school. We are traversing a graph with DFS and are counting the number of nodes in each given component. We get widely different results and have identified where the difference lies. \r\n\r\nWhen going into the next recursion, my friend uses the syntax\r\n\r\n```\r\ncomponentSize += DFS_visit(nextNodeToVisit);\r\n```\r\nwhereas I use \r\n\r\n```\r\ncomponentSize = 1 + DFS_visit(nextNodeToVisit);\r\n```\r\nI originally thought these two were the same, so what is the difference? And which one should be used in our case?\r\n\r\n\r\n\r\n","title":"Difference between += and = 1+ in Java","body":"<p>Me and my friend have been working on a problem for school. We are traversing a graph with DFS and are counting the number of nodes in each given component. We get widely different results and have identified where the difference lies.</p>\n<p>When going into the next recursion, my friend uses the syntax</p>\n<pre><code>componentSize += DFS_visit(nextNodeToVisit);\n</code></pre>\n<p>whereas I use</p>\n<pre><code>componentSize = 1 + DFS_visit(nextNodeToVisit);\n</code></pre>\n<p>I originally thought these two were the same, so what is the difference? And which one should be used in our case?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652533804,"post_id":72238082,"comment_id":127631862,"body_markdown":"*”In Java Swing it is not illegal to use different threads”*.  It would be “illegal” to use them in the way you’re using them here. See the [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/package-summary.html).","body":"<i>”In Java Swing it is not illegal to use different threads”</i>.  It would be “illegal” to use them in the way you’re using them here. See the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652514726,"creation_date":1652514726,"answer_id":72238311,"question_id":72238082,"body_markdown":"You code is conceptually wrong. Platform.runLater executes the given code on the FX application thread but you do not want to put the timer scheduling on that thread. Instead the code that is run by the timer must be wrapped in Plaform.runLater because it sets the label which has to happen on the FX application thread.","title":"How to solve (java.lang.IllegalStateException: Not on FX application thread)?","body":"<p>You code is conceptually wrong. Platform.runLater executes the given code on the FX application thread but you do not want to put the timer scheduling on that thread. Instead the code that is run by the timer must be wrapped in Plaform.runLater because it sets the label which has to happen on the FX application thread.</p>\n"}],"owner":{"account_id":24696739,"reputation":3,"user_id":18588605,"display_name":"Giorgi Chapidze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72238311,"answer_count":1,"score":0,"last_activity_date":1652514726,"creation_date":1652512131,"question_id":72238082,"body_markdown":"I am working on simple Brick Breaker game on JavaFX. Until now everything was working fine but when I tried to add Label which was updating time it showed up this error. I think problem is in Timer class because it executes on different thread so JavaFX main thread yields this exception. But why this happens? In Java Swing it is not illegal to use different threads? Can anyone help me?\r\n\r\nThis is Main Class which creates new task which on each second adds new time to label and sends it to Controller which adds this label to fxml.\r\n\r\n[Time should be shown here][1]\r\n\r\n    protected static Label get Time Label() {\r\n    \ttimeShowLabel.setLayoutX(507.0);\r\n    \ttimeShowLabel.setLayoutY(-2.0);\r\n    \tPlatform.runLater(() -&gt; {\r\n    \t\ttimer.schedule(new TimerTask() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n    \t\t\t\ttimeShowLabel.setText(formatter.format(new Date()));\r\n    \t\t\t}\r\n    \t\t}, 1000, 1000);\r\n    \t});\r\n    \treturn timeShowLabel;\r\n    \r\n    }\r\n[Exception Image][2]\r\n\r\nController class\r\n\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tsetRandomColor();\r\n    \t\tmainLayout.getChildren().add(Main.getTimeLabel());\r\n    \t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h9hkT.png\r\n  [2]: https://i.stack.imgur.com/KYVZ4.png","title":"How to solve (java.lang.IllegalStateException: Not on FX application thread)?","body":"<p>I am working on simple Brick Breaker game on JavaFX. Until now everything was working fine but when I tried to add Label which was updating time it showed up this error. I think problem is in Timer class because it executes on different thread so JavaFX main thread yields this exception. But why this happens? In Java Swing it is not illegal to use different threads? Can anyone help me?</p>\n<p>This is Main Class which creates new task which on each second adds new time to label and sends it to Controller which adds this label to fxml.</p>\n<p><a href=\"https://i.stack.imgur.com/h9hkT.png\" rel=\"nofollow noreferrer\">Time should be shown here</a></p>\n<pre><code>protected static Label get Time Label() {\n    timeShowLabel.setLayoutX(507.0);\n    timeShowLabel.setLayoutY(-2.0);\n    Platform.runLater(() -&gt; {\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                SimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n                timeShowLabel.setText(formatter.format(new Date()));\n            }\n        }, 1000, 1000);\n    });\n    return timeShowLabel;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KYVZ4.png\" rel=\"nofollow noreferrer\">Exception Image</a></p>\n<p>Controller class</p>\n<pre><code>public void initialize(URL arg0, ResourceBundle arg1) {\n        // TODO Auto-generated method stub\n        setRandomColor();\n        mainLayout.getChildren().add(Main.getTimeLabel());\n    }\n</code></pre>\n"},{"tags":["java","arrays","variable-assignment"],"comments":[{"owner":{"account_id":3014446,"reputation":2655,"user_id":2557030,"display_name":"Raul Sauco"},"score":0,"creation_date":1563097779,"post_id":57026112,"comment_id":100582054,"body_markdown":"Please have a look at [ask], answering your question as it is right now would require someone to **do your assignment for you** which is not the purpose of the site. If during the process, you get stuck in some particular point, post another question about it, not forgetting to include a [mcve]. If in doubt about what you can ask about, check [on-topic](https://stackoverflow.com/help/on-topic).","body":"Please have a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, answering your question as it is right now would require someone to <b>do your assignment for you</b> which is not the purpose of the site. If during the process, you get stuck in some particular point, post another question about it, not forgetting to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If in doubt about what you can ask about, check <a href=\"https://stackoverflow.com/help/on-topic\">on-topic</a>."},{"owner":{"account_id":3014446,"reputation":2655,"user_id":2557030,"display_name":"Raul Sauco"},"score":0,"creation_date":1563097904,"post_id":57026112,"comment_id":100582083,"body_markdown":"To calculate vat and charge, you can simply do `totalPlusVat = total * 1.13` `totalPlusCharge = total * 1.1` or, both at the same time (total + 23%) `total = total * 1.23`","body":"To calculate vat and charge, you can simply do <code>totalPlusVat = total * 1.13</code> <code>totalPlusCharge = total * 1.1</code> or, both at the same time (total + 23%) <code>total = total * 1.23</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1563101394,"post_id":57026112,"comment_id":100582844,"body_markdown":"Or perhaps the service charge is charged with VAT too? So `total * 1.10 * 1.13` (which gives the same result as multiplying by 1.243 or adding 24.3 % (not 23 %)).","body":"Or perhaps the service charge is charged with VAT too? So <code>total * 1.10 * 1.13</code> (which gives the same result as multiplying by 1.243 or adding 24.3 % (not 23 %))."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1563116655,"post_id":57026112,"comment_id":100586138,"body_markdown":"I have removed the second part of this problem - try tackling the VAT and service tax first.","body":"I have removed the second part of this problem - try tackling the VAT and service tax first."}],"answers":[{"tags":[],"owner":{"account_id":5949193,"reputation":411,"user_id":4677797,"display_name":"RyanHx"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563229399,"creation_date":1563098342,"answer_id":57026335,"question_id":57026112,"body_markdown":"        boolean cont = true;\r\n        while(cont)\r\n        {\r\n            double total = 0;\r\n            int[] choices = new int[5];\r\n            for(int i = 0; i &lt; 5; i++)\r\n            {\r\n                System.out.printf(&quot;Enter choice %d%n&quot;, i + 1);\r\n                choices[i] = input.nextInt();\r\n            }\r\n            for(int choice : choices)\r\n            {\r\n                System.out.printf(&quot;%s | %.2f%n&quot;, FoodItem[choice], Price[choice]);\r\n                total += Price[choice];\r\n            }\r\n            total = total * 1.23;\r\n            System.out.println(&quot;Your total is: &quot; + total);\r\n            String ask = &quot;&quot;;\r\n            while(!ask.equalsIgnoreCase(&quot;yes&quot;) &amp;&amp; !ask.equalsIgnoreCase(&quot;no&quot;))\r\n            {\r\n                System.out.println(&quot;Continue? (yes/no)&quot;);\r\n                ask = input.next();\r\n            }\r\n            cont = ask.equalsIgnoreCase(&quot;yes&quot;);\r\n        }\r\n\r\nNote if a user enters anything other than a number *or* enters a choice that isn&#39;t present in your `Price` array it&#39;ll crash your program. It&#39;s best to implement validation.","title":"I want to add 10% service tax and 13% vat but I am unable to do","body":"<pre><code>    boolean cont = true;\n    while(cont)\n    {\n        double total = 0;\n        int[] choices = new int[5];\n        for(int i = 0; i &lt; 5; i++)\n        {\n            System.out.printf(\"Enter choice %d%n\", i + 1);\n            choices[i] = input.nextInt();\n        }\n        for(int choice : choices)\n        {\n            System.out.printf(\"%s | %.2f%n\", FoodItem[choice], Price[choice]);\n            total += Price[choice];\n        }\n        total = total * 1.23;\n        System.out.println(\"Your total is: \" + total);\n        String ask = \"\";\n        while(!ask.equalsIgnoreCase(\"yes\") &amp;&amp; !ask.equalsIgnoreCase(\"no\"))\n        {\n            System.out.println(\"Continue? (yes/no)\");\n            ask = input.next();\n        }\n        cont = ask.equalsIgnoreCase(\"yes\");\n    }\n</code></pre>\n\n<p>Note if a user enters anything other than a number <em>or</em> enters a choice that isn't present in your <code>Price</code> array it'll crash your program. It's best to implement validation.</p>\n"}],"owner":{"account_id":16309202,"reputation":1,"user_id":11778342,"display_name":"bikas poudel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1652512455,"creation_date":1563096247,"question_id":57026112,"body_markdown":"Here is my homework:\r\n\r\n&gt; You are required to create an MVP (Minimal Viable Product) to take customer orders for a local ethnic food restaurant in Kathmandu. The restaurant offers 10 different types of food dishes, taken from the local ethnic food culture. The restaurant operates with limited dishes and limited staff. You are required to create a prototype of order taking system to ease the working process within the restaurant. Your program should have the following functionalities: \r\n\r\n&gt; - The program should display the menu at the start (with 10 dishes)\r\n&gt; - Each customer will make an order based on the menu shown. For each order, the system should calculate the total bill. \r\n&gt; - For each bill, after adding the sum total of the prices of the dishes, the sum total would be subject to 10% service Tax and 13% VAT. \r\n&gt; - For every new instance where a customer (new or repeating) makes an order, a new bill is generated. \r\n&gt; - Altering a confirmed order would not be a necessary feature for the MVP phase of the system. \r\n&gt; - Your MVP should be able to manage order and billing of 5 customers at once. \r\n&gt; - The menu prices and the dishes in them could be initially hardwired into your MVP for test purposes (in a file or an array)\r\n\r\nMy code:\r\n\r\n    public class Array { //class name\r\n    \r\n        public static void main(String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n            int choice;\r\n            double total = 0;\r\n            double tax = 0.10;\r\n    \r\n            //Array for storing prices\r\n            double[] Price = new double[10];\r\n            Price[0] = 120;\r\n            Price[1] = 80;\r\n            Price[2] = 40;\r\n            Price[3] = 100;\r\n            Price[4] = 50;\r\n            Price[5] = 60;\r\n            Price[6] = 90;\r\n            Price[7] = 45;\r\n            Price[8] = 70;\r\n            Price[9] = 60;\r\n    \r\n            //Menu item array\r\n            String[] FoodItem = new String[10];\r\n            FoodItem[0] = &quot;Momo&quot;;\r\n            FoodItem[1] = &quot;Chawmin&quot;;\r\n            FoodItem[2] = &quot;Sausages&quot;;\r\n            FoodItem[3] = &quot;Pizza&quot;;\r\n            FoodItem[4] = &quot;Burger&quot;;\r\n            FoodItem[5] = &quot;Buff Sekuwa&quot;;\r\n            FoodItem[6] = &quot;Chicken Sekuwa&quot;;\r\n            FoodItem[7] = &quot;Alu Paratha&quot;;\r\n            FoodItem[8] = &quot;Chicken Chilly&quot;;\r\n            FoodItem[9] = &quot;Fry Rice&quot;;\r\n    \r\n            //Welcome user and gather their menu selection\r\n            System.out.println(&quot;Welcome to PurpleHaze ! Please enjoy!&quot;);\r\n            // System.out.printf(&quot;The average pricing for our drinks is: %.2f \\n&quot;, + cafeAvg( cafePrice));\r\n            System.out.println(&quot;Please enter a menu selection:\\n&quot; +\r\n                &quot;0. Momo -- 120\\n&quot; +\r\n                &quot;1. Chawmin -- 80\\n&quot; +\r\n                &quot;2. Sausages -- 40\\n&quot; +\r\n                &quot;3. Pizza -- 100\\n&quot; +\r\n                &quot;4. Burger -- 50\\n&quot; +\r\n                &quot;5. Buff Sekuwa -- 60\\n&quot; +\r\n                &quot;6. Chicken Sekuwa -- 90\\n&quot; +\r\n                &quot;7. Alu Paratha -- 45\\n&quot; +\r\n                &quot;8. Chicken Chilly -- 70\\n&quot; +\r\n                &quot;9. Fry Rice -- 60&quot;);\r\n    \r\n            choice = input.nextInt();\r\n    \r\n            //Add up the total\r\n    \r\n            total = Price[choice] + tax;\r\n            System.out.println(&quot;Your total is: &quot; + total + tax);\r\n        }\r\n    \r\n    }\r\n        \r\nI want to add 13% VAT and 10% charge.\r\n","title":"I want to add 10% service tax and 13% vat but I am unable to do","body":"<p>Here is my homework:</p>\n\n<blockquote>\n  <p>You are required to create an MVP (Minimal Viable Product) to take customer orders for a local ethnic food restaurant in Kathmandu. The restaurant offers 10 different types of food dishes, taken from the local ethnic food culture. The restaurant operates with limited dishes and limited staff. You are required to create a prototype of order taking system to ease the working process within the restaurant. Your program should have the following functionalities: </p>\n  \n  <ul>\n  <li>The program should display the menu at the start (with 10 dishes)</li>\n  <li>Each customer will make an order based on the menu shown. For each order, the system should calculate the total bill. </li>\n  <li>For each bill, after adding the sum total of the prices of the dishes, the sum total would be subject to 10% service Tax and 13% VAT. </li>\n  <li>For every new instance where a customer (new or repeating) makes an order, a new bill is generated. </li>\n  <li>Altering a confirmed order would not be a necessary feature for the MVP phase of the system. </li>\n  <li>Your MVP should be able to manage order and billing of 5 customers at once. </li>\n  <li>The menu prices and the dishes in them could be initially hardwired into your MVP for test purposes (in a file or an array)</li>\n  </ul>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>public class Array { //class name\n\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n        int choice;\n        double total = 0;\n        double tax = 0.10;\n\n        //Array for storing prices\n        double[] Price = new double[10];\n        Price[0] = 120;\n        Price[1] = 80;\n        Price[2] = 40;\n        Price[3] = 100;\n        Price[4] = 50;\n        Price[5] = 60;\n        Price[6] = 90;\n        Price[7] = 45;\n        Price[8] = 70;\n        Price[9] = 60;\n\n        //Menu item array\n        String[] FoodItem = new String[10];\n        FoodItem[0] = \"Momo\";\n        FoodItem[1] = \"Chawmin\";\n        FoodItem[2] = \"Sausages\";\n        FoodItem[3] = \"Pizza\";\n        FoodItem[4] = \"Burger\";\n        FoodItem[5] = \"Buff Sekuwa\";\n        FoodItem[6] = \"Chicken Sekuwa\";\n        FoodItem[7] = \"Alu Paratha\";\n        FoodItem[8] = \"Chicken Chilly\";\n        FoodItem[9] = \"Fry Rice\";\n\n        //Welcome user and gather their menu selection\n        System.out.println(\"Welcome to PurpleHaze ! Please enjoy!\");\n        // System.out.printf(\"The average pricing for our drinks is: %.2f \\n\", + cafeAvg( cafePrice));\n        System.out.println(\"Please enter a menu selection:\\n\" +\n            \"0. Momo -- 120\\n\" +\n            \"1. Chawmin -- 80\\n\" +\n            \"2. Sausages -- 40\\n\" +\n            \"3. Pizza -- 100\\n\" +\n            \"4. Burger -- 50\\n\" +\n            \"5. Buff Sekuwa -- 60\\n\" +\n            \"6. Chicken Sekuwa -- 90\\n\" +\n            \"7. Alu Paratha -- 45\\n\" +\n            \"8. Chicken Chilly -- 70\\n\" +\n            \"9. Fry Rice -- 60\");\n\n        choice = input.nextInt();\n\n        //Add up the total\n\n        total = Price[choice] + tax;\n        System.out.println(\"Your total is: \" + total + tax);\n    }\n\n}\n</code></pre>\n\n<p>I want to add 13% VAT and 10% charge.</p>\n"},{"tags":["java","json","servlets","tomcat10"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652077580,"post_id":72156611,"comment_id":127509195,"body_markdown":"A POST request body consists of name-value pairs, and they are available via `getRequestParameter()`, not as the body. They are also decoded for you.","body":"A POST request body consists of name-value pairs, and they are available via <code>getRequestParameter()</code>, not as the body. They are also decoded for you."},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1652080084,"post_id":72156611,"comment_id":127509848,"body_markdown":"Hi @user207421, are you really sure about that? In postman I sent the &quot;json&quot; as &quot;raw&quot; (application/json) there is no option for providing a name/value pair for the body. Headers have name/value pairs. At any rate, I&#39;ll check/debug the parameters to see if I can find the payload/body.","body":"Hi @user207421, are you really sure about that? In postman I sent the &quot;json&quot; as &quot;raw&quot; (application/json) there is no option for providing a name/value pair for the body. Headers have name/value pairs. At any rate, I&#39;ll check/debug the parameters to see if I can find the payload/body."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652081268,"post_id":72156611,"comment_id":127510226,"body_markdown":"Well you shouldn&#39;t have sent it that way, because you can&#39;t retrieve it that way, You should have sent it as a named parameter of the POST request.","body":"Well you shouldn&#39;t have sent it that way, because you can&#39;t retrieve it that way, You should have sent it as a named parameter of the POST request."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1652144913,"post_id":72156611,"comment_id":127529883,"body_markdown":"You should have no problem retrieving the data this way, but the content length of -1 indicates to me that you&#39;re not actually sending a body. Perhaps try with `curl` rather than Postman? (@EJP - the only time `HttpServletRequest` should try to process the body as form data is if (1) you specify content type as `application/x-www-form-urlencoded`, and (2) the servlet code requests parameter values).","body":"You should have no problem retrieving the data this way, but the content length of -1 indicates to me that you&#39;re not actually sending a body. Perhaps try with <code>curl</code> rather than Postman? (@EJP - the only time <code>HttpServletRequest</code> should try to process the body as form data is if (1) you specify content type as <code>application&#47;x-www-form-urlencoded</code>, and (2) the servlet code requests parameter values)."}],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652512415,"creation_date":1651960521,"question_id":72156611,"body_markdown":"I&#39;m trying to create a little test servlet (Tomcat 10) to accept simple &quot;POST&quot; messages, however no matter what I&#39;ve tried the servlet never seems to get the body (json).\r\n\r\nI&#39;m using Postman to send the messages (http).\r\n\r\nI&#39;ve tried `getReader()` and `getInputStream()` and both keep returning _nothing_. I&#39;ve read that this can happen when the buffer has already been read, but I&#39;m not reading it twice (not that I am aware of).\r\n\r\nHere are some _debug_ values:\r\n\r\n`getContentLength()` =&gt; `-1`\r\n\r\n`getContentType()` =&gt; `application/json`\r\n\r\n`getReader().ready()` =&gt; `false`.\r\n\r\nSo, either no body was recieved or it was already read - but where? I&#39;ve been using Postman for other API&#39;s without issue, so I don&#39;t believe I&#39;ve done something wrong there, what else can I try within the servlet?\r\n\r\nDoes anyone have any suggestions of what I could try to get this working?\r\n\r\n**Update**\r\n\r\nThank you @parsifal, I tested the servlet using PowerShell&#39;s `Invoke-WebRequest` and it worked perfectly, so I took another look at all my Postman settings, tested several things and then finally found my error. The Header parameter `Content-Length` wasn&#39;t selected - I had incorrectly assumed that it would be automatically sent, but it wasn&#39;t.","title":"HttpServletRequest unable to get body of request","body":"<p>I'm trying to create a little test servlet (Tomcat 10) to accept simple &quot;POST&quot; messages, however no matter what I've tried the servlet never seems to get the body (json).</p>\n<p>I'm using Postman to send the messages (http).</p>\n<p>I've tried <code>getReader()</code> and <code>getInputStream()</code> and both keep returning <em>nothing</em>. I've read that this can happen when the buffer has already been read, but I'm not reading it twice (not that I am aware of).</p>\n<p>Here are some <em>debug</em> values:</p>\n<p><code>getContentLength()</code> =&gt; <code>-1</code></p>\n<p><code>getContentType()</code> =&gt; <code>application/json</code></p>\n<p><code>getReader().ready()</code> =&gt; <code>false</code>.</p>\n<p>So, either no body was recieved or it was already read - but where? I've been using Postman for other API's without issue, so I don't believe I've done something wrong there, what else can I try within the servlet?</p>\n<p>Does anyone have any suggestions of what I could try to get this working?</p>\n<p><strong>Update</strong></p>\n<p>Thank you @parsifal, I tested the servlet using PowerShell's <code>Invoke-WebRequest</code> and it worked perfectly, so I took another look at all my Postman settings, tested several things and then finally found my error. The Header parameter <code>Content-Length</code> wasn't selected - I had incorrectly assumed that it would be automatically sent, but it wasn't.</p>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652512061,"creation_date":1652512061,"answer_id":72238071,"question_id":72217599,"body_markdown":"In such a case, you can override the `onEnd()` method of `AnnotationVisitor`. When invoked, you know that all values are processed and you can invoke `super.onValue()` from there before delegating to `super.onEnd()`. If you know the replacements beforehand, you can also simply leave the `onValue` method empty to drop all existing values and then repopulate the array in the end.","title":"How to use AsmVisitorWrapper to visit an array inside an annotation and merge its content with another array","body":"<p>In such a case, you can override the <code>onEnd()</code> method of <code>AnnotationVisitor</code>. When invoked, you know that all values are processed and you can invoke <code>super.onValue()</code> from there before delegating to <code>super.onEnd()</code>. If you know the replacements beforehand, you can also simply leave the <code>onValue</code> method empty to drop all existing values and then repopulate the array in the end.</p>\n"}],"owner":{"account_id":2450159,"reputation":155,"user_id":2136656,"accept_rate":89,"display_name":"jplatasv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652512061,"creation_date":1652366283,"question_id":72217599,"body_markdown":"(repository with an example of what I&#39;m trying to do is [here][1])\r\n\r\nIt&#39;s my first time using ByteBuddy and I&#39;ve found myself struggling to merge the contents of two `@RequestMapping` annotations.\r\nSomething like this:\r\n\r\n```\r\n@Validated\r\n@RequestMapping(\r\n        path = &quot;/somePrefix&quot;,\r\n        produces = {&quot;application/text&quot;, &quot;application/xml&quot;},\r\n        consumes = {&quot;application/text&quot;, &quot;application/xml&quot;},\r\n        params = {&quot;exampleParam1&quot;, &quot;exampleParam2&quot;},\r\n        headers = {&quot;key=val&quot;, &quot;nokey=val&quot;}\r\n)\r\npublic interface ExampleInterface {\r\n\r\n    @RequestMapping(value = {&quot;/someEndpoint&quot;}, method = {RequestMethod.POST}, produces = {&quot;application/json&quot;}, consumes = {&quot;application/json&quot;})\r\n    ResponseEntity&lt;String&gt; someEndpointMethod(String value);\r\n\r\n}\r\n```\r\n\r\nAnd pretending to having this:\r\n\r\n```\r\npublic interface ExampleInterface {\r\n\r\n    @RequestMapping(\r\n        value = {&quot;/somePrefix/someEndpoint&quot;},\r\n        method = {RequestMethod.POST},\r\n        produces = {&quot;application/text&quot;, ,application/xml&quot;,&quot;application/json&quot;},\r\n        consumes = {&quot;application/text&quot;, &quot;application/xml&quot;,&quot;application/json&quot;},\r\n        params = {&quot;exampleParam1&quot;, &quot;exampleParam2&quot;},\r\n        headers = {&quot;key=val&quot;, &quot;nokey=val&quot;}\r\n    )\r\n    ResponseEntity&lt;String&gt; someEndpointMethod(String value);\r\n\r\n}\r\n```\r\n\r\nI&#39;ve seen that editing the values can be done replacing the value when the method annotation object is visited, for example:\r\n\r\n```\r\n[...]\r\n\r\n@Override\r\npublic AnnotationVisitor visitAnnotation(String descriptor, boolean visible) {\r\n\r\n\tif (Type.getDescriptor(RequestMapping.class).equals(descriptor)) {\r\n\r\n\t\treturn new AnnotationVisitor(Opcodes.ASM9, super.visitAnnotation(descriptor, visible)) {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic AnnotationVisitor visitArray(String name) {\r\n\r\n\t\t\t\tif (&quot;produces&quot;.equals(name)) {\r\n\r\n\t\t\t\t\treturn new AnnotationVisitor(Opcodes.ASM9, super.visitArray(name)) {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void visit(String name, Object value) {\r\n\r\n\t\t\t\t\t\t\t// I&#39;d like to receive an array as value, so I can provide one with all values merged\r\n\r\n\t\t\t\t\t\t\tboolean tryToMerge = false;\r\n\r\n\t\t\t\t\t\t\tif (tryToMerge) {\r\n\r\n\t\t\t\t\t\t\t\t//I cannot return array with everything\r\n\t\t\t\t\t\t\t\tObject[] newValue = new Object[]{value};\r\n\t\t\t\t\t\t\t\tvalue = Arrays.copyOf(newValue, newValue.length + originalAnnotation.produces().length);\r\n\t\t\t\t\t\t\t\tSystem.arraycopy(originalAnnotation.produces(), 0, value, newValue.length, originalAnnotation.produces().length);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t//I can only replace a single value\r\n\t\t\t\t\t\t\t\tvalue = originalAnnotation.produces()[0];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// How to set an array in produces?\r\n\r\n\t\t\t\t\t\t\tsuper.visit(name, value);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn super.visitArray(name);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t} else {\r\n\r\n\t\treturn super.visitAnnotation(descriptor, visible);\r\n\r\n\t}\r\n\r\n}\r\n\r\n[...]\r\n```  \r\n\r\nHowever, I&#39;m receiving the array values one per one via `visit()` and I cannot just return an array with the two values I want to merge (`[&quot;application/text&quot;, &quot;application/xml&quot;]`) because it&#39;s expecting an `String` object. I can substitute the value that I&#39;m receiving but I cannot add more.\r\n\r\nBesides that, the `headers` and `params` arrays are not being visited, which seems logical because no values are on those arrays. However, I&#39;m not sure how I should visit those fields in the `@RequestMapping` on the method so I can insert the values picked from the class one.\r\n\r\nWhat I am missing here?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://github.com/jplatasv/bytebuddy-and-annotations","title":"How to use AsmVisitorWrapper to visit an array inside an annotation and merge its content with another array","body":"<p>(repository with an example of what I'm trying to do is <a href=\"https://github.com/jplatasv/bytebuddy-and-annotations\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>It's my first time using ByteBuddy and I've found myself struggling to merge the contents of two <code>@RequestMapping</code> annotations.\nSomething like this:</p>\n<pre><code>@Validated\n@RequestMapping(\n        path = &quot;/somePrefix&quot;,\n        produces = {&quot;application/text&quot;, &quot;application/xml&quot;},\n        consumes = {&quot;application/text&quot;, &quot;application/xml&quot;},\n        params = {&quot;exampleParam1&quot;, &quot;exampleParam2&quot;},\n        headers = {&quot;key=val&quot;, &quot;nokey=val&quot;}\n)\npublic interface ExampleInterface {\n\n    @RequestMapping(value = {&quot;/someEndpoint&quot;}, method = {RequestMethod.POST}, produces = {&quot;application/json&quot;}, consumes = {&quot;application/json&quot;})\n    ResponseEntity&lt;String&gt; someEndpointMethod(String value);\n\n}\n</code></pre>\n<p>And pretending to having this:</p>\n<pre><code>public interface ExampleInterface {\n\n    @RequestMapping(\n        value = {&quot;/somePrefix/someEndpoint&quot;},\n        method = {RequestMethod.POST},\n        produces = {&quot;application/text&quot;, ,application/xml&quot;,&quot;application/json&quot;},\n        consumes = {&quot;application/text&quot;, &quot;application/xml&quot;,&quot;application/json&quot;},\n        params = {&quot;exampleParam1&quot;, &quot;exampleParam2&quot;},\n        headers = {&quot;key=val&quot;, &quot;nokey=val&quot;}\n    )\n    ResponseEntity&lt;String&gt; someEndpointMethod(String value);\n\n}\n</code></pre>\n<p>I've seen that editing the values can be done replacing the value when the method annotation object is visited, for example:</p>\n<pre><code>[...]\n\n@Override\npublic AnnotationVisitor visitAnnotation(String descriptor, boolean visible) {\n\n    if (Type.getDescriptor(RequestMapping.class).equals(descriptor)) {\n\n        return new AnnotationVisitor(Opcodes.ASM9, super.visitAnnotation(descriptor, visible)) {\n\n            @Override\n            public AnnotationVisitor visitArray(String name) {\n\n                if (&quot;produces&quot;.equals(name)) {\n\n                    return new AnnotationVisitor(Opcodes.ASM9, super.visitArray(name)) {\n                        @Override\n                        public void visit(String name, Object value) {\n\n                            // I'd like to receive an array as value, so I can provide one with all values merged\n\n                            boolean tryToMerge = false;\n\n                            if (tryToMerge) {\n\n                                //I cannot return array with everything\n                                Object[] newValue = new Object[]{value};\n                                value = Arrays.copyOf(newValue, newValue.length + originalAnnotation.produces().length);\n                                System.arraycopy(originalAnnotation.produces(), 0, value, newValue.length, originalAnnotation.produces().length);\n\n                            } else {\n\n                                //I can only replace a single value\n                                value = originalAnnotation.produces()[0];\n\n                            }\n\n                            // How to set an array in produces?\n\n                            super.visit(name, value);\n\n                        }\n                    };\n                } else {\n\n                    return super.visitArray(name);\n\n                }\n            }\n        };\n\n    } else {\n\n        return super.visitAnnotation(descriptor, visible);\n\n    }\n\n}\n\n[...]\n</code></pre>\n<p>However, I'm receiving the array values one per one via <code>visit()</code> and I cannot just return an array with the two values I want to merge (<code>[&quot;application/text&quot;, &quot;application/xml&quot;]</code>) because it's expecting an <code>String</code> object. I can substitute the value that I'm receiving but I cannot add more.</p>\n<p>Besides that, the <code>headers</code> and <code>params</code> arrays are not being visited, which seems logical because no values are on those arrays. However, I'm not sure how I should visit those fields in the <code>@RequestMapping</code> on the method so I can insert the values picked from the class one.</p>\n<p>What I am missing here?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","reflection","instrumentation","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652511882,"creation_date":1652511882,"answer_id":72238059,"question_id":72221758,"body_markdown":"To debug issues, it is always a good idea to register an `AgentBuilder.Listener` with your agent. The instrumentation API in the JVM suppresses all exceptions that are thrown during an instrumentation and the listener allows you to catch those exceptions and to print them for example.\r\n\r\nFor such &quot;around&quot; instrumentation, I generally recommend using `Advice` as it does not make assumptions on class loader hierarchies which you need to address explicitly when using delegation.","title":"ByteBuddy Agent to print method elapsed time","body":"<p>To debug issues, it is always a good idea to register an <code>AgentBuilder.Listener</code> with your agent. The instrumentation API in the JVM suppresses all exceptions that are thrown during an instrumentation and the listener allows you to catch those exceptions and to print them for example.</p>\n<p>For such &quot;around&quot; instrumentation, I generally recommend using <code>Advice</code> as it does not make assumptions on class loader hierarchies which you need to address explicitly when using delegation.</p>\n"}],"owner":{"account_id":2586262,"reputation":333,"user_id":2241906,"display_name":"RDV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72238059,"answer_count":1,"score":1,"last_activity_date":1652511882,"creation_date":1652387501,"question_id":72221758,"body_markdown":"I&#39;m trying to measure the time for certains method of some specific classes.  I&#39;m using ByteBuddy and I created the following interceptor class:\r\n\r\n```\r\npublic class TimingInterceptor {\r\n    @RuntimeType\r\n    public static Object intercept(@Origin Method method,\r\n                                   @SuperCall Callable&lt;?&gt; callable) {\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            return callable.call();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            System.out.println(method + &quot; took &quot; + (System.currentTimeMillis() - start));\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd this is the Java Agent Class I&#39;m using:\r\n\r\n```\r\npublic class TimerAgent {\r\n    public static void premain(String arguments,\r\n                               Instrumentation instrumentation) {\r\n\r\n        new AgentBuilder.Default()\r\n                .type(ElementMatchers.nameStartsWith(&quot;BP&quot;)) // This is because I used the prefix BP to name methods I need to measure\r\n                .transform((builder, type, classLoader, module) -&gt;\r\n                        builder.method(ElementMatchers.any())\r\n                                .intercept(MethodDelegation.to(TimingInterceptor.class))\r\n                ).installOn(instrumentation);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI ran a test application including methods named with &quot;BP&quot; as prefix, and the message in the class TimingInterceptor indicating the method duration is not shown.\r\n\r\nSome ideas guys?\r\n\r\nExample **full code**:\r\n - Agent: https://github.com/rauldevilla/byte-buddy-agent\r\n - Test application: https://github.com/rauldevilla/byte-buddy-lab\r\n","title":"ByteBuddy Agent to print method elapsed time","body":"<p>I'm trying to measure the time for certains method of some specific classes.  I'm using ByteBuddy and I created the following interceptor class:</p>\n<pre><code>public class TimingInterceptor {\n    @RuntimeType\n    public static Object intercept(@Origin Method method,\n                                   @SuperCall Callable&lt;?&gt; callable) {\n        long start = System.currentTimeMillis();\n        try {\n            return callable.call();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            System.out.println(method + &quot; took &quot; + (System.currentTimeMillis() - start));\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>And this is the Java Agent Class I'm using:</p>\n<pre><code>public class TimerAgent {\n    public static void premain(String arguments,\n                               Instrumentation instrumentation) {\n\n        new AgentBuilder.Default()\n                .type(ElementMatchers.nameStartsWith(&quot;BP&quot;)) // This is because I used the prefix BP to name methods I need to measure\n                .transform((builder, type, classLoader, module) -&gt;\n                        builder.method(ElementMatchers.any())\n                                .intercept(MethodDelegation.to(TimingInterceptor.class))\n                ).installOn(instrumentation);\n    }\n}\n\n</code></pre>\n<p>I ran a test application including methods named with &quot;BP&quot; as prefix, and the message in the class TimingInterceptor indicating the method duration is not shown.</p>\n<p>Some ideas guys?</p>\n<p>Example <strong>full code</strong>:</p>\n<ul>\n<li>Agent: <a href=\"https://github.com/rauldevilla/byte-buddy-agent\" rel=\"nofollow noreferrer\">https://github.com/rauldevilla/byte-buddy-agent</a></li>\n<li>Test application: <a href=\"https://github.com/rauldevilla/byte-buddy-lab\" rel=\"nofollow noreferrer\">https://github.com/rauldevilla/byte-buddy-lab</a></li>\n</ul>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":25275409,"reputation":1,"user_id":19104135,"display_name":"Cayman98"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652511392,"creation_date":1652511392,"answer_id":72238000,"question_id":72237863,"body_markdown":"In letterCombinations(int[] digits) method, the param is int[], but in backtrack(String digits, ...), the param is String, maybe you can change then to String.\r\nJust like this\r\n```Java\r\n    public static void main(String[] args) {\r\n        String digits = &quot;23&quot;;\r\n        // int n = number.length;\r\n\r\n        // Function call\r\n        List&lt;String&gt; strings = letterCombinations(digits);\r\n        for (String string : strings) {\r\n            System.out.println(string);\r\n        }\r\n    }\r\n\r\n    private static List&lt;String&gt; letterCombinations(String digits) {\r\n        List&lt;String&gt; ans = new ArrayList&lt;&gt;();\r\n        if(digits.length()==0)\r\n            return ans;\r\n\r\n        HashMap&lt;Character, String&gt; hm = new HashMap&lt;&gt;();\r\n        hm.put(&#39;2&#39;, &quot;abc&quot;);\r\n        hm.put(&#39;3&#39;, &quot;def&quot;);\r\n        hm.put(&#39;4&#39;, &quot;ghi&quot;);\r\n        hm.put(&#39;5&#39;, &quot;jkl&quot;);\r\n        hm.put(&#39;6&#39;, &quot;mno&quot;);\r\n        hm.put(&#39;7&#39;, &quot;pqrs&quot;);\r\n        hm.put(&#39;8&#39;, &quot;tuv&quot;);\r\n        hm.put(&#39;9&#39;, &quot;wxyz&quot;);\r\n\r\n        //backtrack(digits, 0, hm, new StringBuilder(), ans);\r\n        backtrack(digits,0,hm,new StringBuilder(),ans);\r\n        return ans;\r\n    }\r\n\r\n    private static void backtrack(String digits, int i, HashMap&lt;Character, String&gt; hm, StringBuilder sb, List&lt;String&gt; ans){\r\n        if(i == digits.length()){\r\n            ans.add(sb.toString());\r\n            return;\r\n        }\r\n        String curr =  hm.get(digits.charAt(i));\r\n        for(int k =0; k &lt;curr.length(); k++){\r\n            sb.append(curr.charAt(k));\r\n            backtrack(digits, i+1, hm,  sb, ans);\r\n            sb.deleteCharAt(sb.length() -1);\r\n        }\r\n    }\r\n```","title":"How to solve this leetcode problem of phone number pattern","body":"<p>In letterCombinations(int[] digits) method, the param is int[], but in backtrack(String digits, ...), the param is String, maybe you can change then to String.\nJust like this</p>\n<pre><code>    public static void main(String[] args) {\n        String digits = &quot;23&quot;;\n        // int n = number.length;\n\n        // Function call\n        List&lt;String&gt; strings = letterCombinations(digits);\n        for (String string : strings) {\n            System.out.println(string);\n        }\n    }\n\n    private static List&lt;String&gt; letterCombinations(String digits) {\n        List&lt;String&gt; ans = new ArrayList&lt;&gt;();\n        if(digits.length()==0)\n            return ans;\n\n        HashMap&lt;Character, String&gt; hm = new HashMap&lt;&gt;();\n        hm.put('2', &quot;abc&quot;);\n        hm.put('3', &quot;def&quot;);\n        hm.put('4', &quot;ghi&quot;);\n        hm.put('5', &quot;jkl&quot;);\n        hm.put('6', &quot;mno&quot;);\n        hm.put('7', &quot;pqrs&quot;);\n        hm.put('8', &quot;tuv&quot;);\n        hm.put('9', &quot;wxyz&quot;);\n\n        //backtrack(digits, 0, hm, new StringBuilder(), ans);\n        backtrack(digits,0,hm,new StringBuilder(),ans);\n        return ans;\n    }\n\n    private static void backtrack(String digits, int i, HashMap&lt;Character, String&gt; hm, StringBuilder sb, List&lt;String&gt; ans){\n        if(i == digits.length()){\n            ans.add(sb.toString());\n            return;\n        }\n        String curr =  hm.get(digits.charAt(i));\n        for(int k =0; k &lt;curr.length(); k++){\n            sb.append(curr.charAt(k));\n            backtrack(digits, i+1, hm,  sb, ans);\n            sb.deleteCharAt(sb.length() -1);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20686094,"reputation":11,"user_id":15188462,"display_name":"Apratim Dutta Choudhury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652511392,"creation_date":1652509747,"question_id":72237863,"body_markdown":"    package Code;\r\n    import java.util.*;\r\n    \r\n    public class PhoneNumber {\r\n        public static void main(String[] args) {\r\n            int[] digits = { 2, 3 };\r\n            // int n = number.length;\r\n    \r\n            // Function call\r\n            letterCombinations(digits);\r\n        }\r\n    \r\n        private static List&lt;String&gt; letterCombinations(int[] digits) {\r\n            List&lt;String&gt; ans = new ArrayList&lt;&gt;();\r\n            if(digits.length==0)\r\n                return ans;\r\n    \r\n            HashMap&lt;Character, String&gt; hm = new HashMap&lt;&gt;();\r\n            hm.put(&#39;2&#39;, &quot;abc&quot;);\r\n            hm.put(&#39;3&#39;, &quot;def&quot;);\r\n            hm.put(&#39;4&#39;, &quot;ghi&quot;);\r\n            hm.put(&#39;5&#39;, &quot;jkl&quot;);\r\n            hm.put(&#39;6&#39;, &quot;mno&quot;);\r\n            hm.put(&#39;7&#39;, &quot;pqrs&quot;);\r\n            hm.put(&#39;8&#39;, &quot;tuv&quot;);\r\n            hm.put(&#39;9&#39;, &quot;wxyz&quot;);\r\n    \r\n            //backtrack(digits, 0, hm, new StringBuilder(), ans);\r\n            backtrack(digits,0,hm,new StringBuilder(),ans);\r\n            return ans;\r\n        }\r\n    \r\n        private static void backtrack(String digits, int i, HashMap&lt;Character, String&gt; hm, StringBuilder sb, List&lt;String&gt; ans){\r\n            if(i == digits.length()){\r\n                ans.add(sb.toString());\r\n                return;\r\n            }\r\n            String curr =  hm.get(digits.charAt(i));\r\n            for(int k =0; k &lt;curr.length(); k++){\r\n                sb.append(curr.charAt(k));\r\n                backtrack(digits, i+1, hm,  sb, ans);\r\n                sb.deleteCharAt(sb.length() -1);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\nI have added the code but in backtrack(digits,0,hm,new StringBuilder(),ans) this line digits I am getting a red error. Can anyone please help me. It seems some int nad string mismatch but I am not sure what change should I do in the code.java\r\n\r\n\r\n","title":"How to solve this leetcode problem of phone number pattern","body":"<pre><code>package Code;\nimport java.util.*;\n\npublic class PhoneNumber {\n    public static void main(String[] args) {\n        int[] digits = { 2, 3 };\n        // int n = number.length;\n\n        // Function call\n        letterCombinations(digits);\n    }\n\n    private static List&lt;String&gt; letterCombinations(int[] digits) {\n        List&lt;String&gt; ans = new ArrayList&lt;&gt;();\n        if(digits.length==0)\n            return ans;\n\n        HashMap&lt;Character, String&gt; hm = new HashMap&lt;&gt;();\n        hm.put('2', &quot;abc&quot;);\n        hm.put('3', &quot;def&quot;);\n        hm.put('4', &quot;ghi&quot;);\n        hm.put('5', &quot;jkl&quot;);\n        hm.put('6', &quot;mno&quot;);\n        hm.put('7', &quot;pqrs&quot;);\n        hm.put('8', &quot;tuv&quot;);\n        hm.put('9', &quot;wxyz&quot;);\n\n        //backtrack(digits, 0, hm, new StringBuilder(), ans);\n        backtrack(digits,0,hm,new StringBuilder(),ans);\n        return ans;\n    }\n\n    private static void backtrack(String digits, int i, HashMap&lt;Character, String&gt; hm, StringBuilder sb, List&lt;String&gt; ans){\n        if(i == digits.length()){\n            ans.add(sb.toString());\n            return;\n        }\n        String curr =  hm.get(digits.charAt(i));\n        for(int k =0; k &lt;curr.length(); k++){\n            sb.append(curr.charAt(k));\n            backtrack(digits, i+1, hm,  sb, ans);\n            sb.deleteCharAt(sb.length() -1);\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>I have added the code but in backtrack(digits,0,hm,new StringBuilder(),ans) this line digits I am getting a red error. Can anyone please help me. It seems some int nad string mismatch but I am not sure what change should I do in the code.java</p>\n"},{"tags":["java","io","filewriter"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1377963213,"post_id":18549704,"comment_id":27286694,"body_markdown":"`writer.write(&quot;\\n&quot;);`","body":"<code>writer.write(&quot;\\n&quot;);</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1377963216,"post_id":18549704,"comment_id":27286695,"body_markdown":"`but it doesn&#39;t seem to work` can you post results you get?","body":"<code>but it doesn&#39;t seem to work</code> can you post results you get?"},{"owner":{"account_id":3161374,"reputation":848,"user_id":2672406,"accept_rate":70,"display_name":"log_0"},"score":2,"creation_date":1377963504,"post_id":18549704,"comment_id":27286781,"body_markdown":"If I try the &quot;\\n&quot; method, there&#39;s nothing... just 1254 (12 for sizeX, 54 for sizeY)...","body":"If I try the &quot;\\n&quot; method, there&#39;s nothing... just 1254 (12 for sizeX, 54 for sizeY)..."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":8,"creation_date":1377963612,"post_id":18549704,"comment_id":27286811,"body_markdown":"@lukulus could you try `writer.write(&quot;\\r\\n&quot;);` or better `writer.write(System.lineSeparator())`?","body":"@lukulus could you try <code>writer.write(&quot;\\r\\n&quot;);</code> or better <code>writer.write(System.lineSeparator())</code>?"},{"owner":{"display_name":"user3956566"},"score":1,"creation_date":1553425053,"post_id":18549704,"comment_id":97372291,"body_markdown":"Do not edit the question to [invalidate existing answers](https://meta.stackoverflow.com/a/290704/3956566).","body":"Do not edit the question to <a href=\"https://meta.stackoverflow.com/a/290704/3956566\">invalidate existing answers</a>."}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377963219,"creation_date":1377963219,"answer_id":18549756,"question_id":18549704,"body_markdown":"Try:\r\n\r\n    String.format(&quot;%n&quot;);\r\n\r\nSee [this question][1] for more details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/207947/java-how-do-i-get-a-platform-independent-new-line-character","title":"Create a new line in Java&#39;s FileWriter","body":"<p>Try:</p>\n\n<pre><code>String.format(\"%n\");\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/207947/java-how-do-i-get-a-platform-independent-new-line-character\">this question</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1377963396,"creation_date":1377963396,"answer_id":18549779,"question_id":18549704,"body_markdown":"Try wrapping your `FileWriter` in a `BufferedWriter`:\r\n\r\n    BufferedWriter bw = new BufferedWriter(writer);\r\n    bw.newLine();\r\n\r\nJavadocs for BufferedWriter [here][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/BufferedWriter.html","title":"Create a new line in Java&#39;s FileWriter","body":"<p>Try wrapping your <code>FileWriter</code> in a <code>BufferedWriter</code>:</p>\n\n<pre><code>BufferedWriter bw = new BufferedWriter(writer);\nbw.newLine();\n</code></pre>\n\n<p>Javadocs for BufferedWriter <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedWriter.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1474623826,"creation_date":1377963422,"answer_id":18549788,"question_id":18549704,"body_markdown":"If you want to get *new line* characters used in current OS like `\\r\\n` for Windows, you can get them by \r\n\r\n - `System.getProperty(&quot;line.separator&quot;);`\r\n - since Java7 `System.lineSeparator()`\r\n - or as mentioned by Stewart generate them via `String.format(&quot;%n&quot;);`\r\n\r\n---\r\n\r\nYou can also use `PrintStream` and its `println` method which will add OS dependent line separator at the end of your string automatically\r\n\r\n\tPrintStream fileStream = new PrintStream(new File(&quot;file.txt&quot;));\r\n\tfileStream.println(&quot;your data&quot;);\r\n\t//         ^^^^^^^ will add OS line separator after data \r\n\r\n(BTW `System.out` is also instance of PrintStream).","title":"Create a new line in Java&#39;s FileWriter","body":"<p>If you want to get <em>new line</em> characters used in current OS like <code>\\r\\n</code> for Windows, you can get them by </p>\n\n<ul>\n<li><code>System.getProperty(\"line.separator\");</code></li>\n<li>since Java7 <code>System.lineSeparator()</code></li>\n<li>or as mentioned by Stewart generate them via <code>String.format(\"%n\");</code></li>\n</ul>\n\n<hr>\n\n<p>You can also use <code>PrintStream</code> and its <code>println</code> method which will add OS dependent line separator at the end of your string automatically</p>\n\n<pre><code>PrintStream fileStream = new PrintStream(new File(\"file.txt\"));\nfileStream.println(\"your data\");\n//         ^^^^^^^ will add OS line separator after data \n</code></pre>\n\n<p>(BTW <code>System.out</code> is also instance of PrintStream).</p>\n"},{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1377963447,"creation_date":1377963447,"answer_id":18549794,"question_id":18549704,"body_markdown":"Try `System.getProperty( &quot;line.separator&quot; )`\r\n\r\n\r\n       writer.write(System.getProperty( &quot;line.separator&quot; ));","title":"Create a new line in Java&#39;s FileWriter","body":"<p>Try <code>System.getProperty( \"line.separator\" )</code></p>\n\n<pre><code>   writer.write(System.getProperty( \"line.separator\" ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2914719,"reputation":2069,"user_id":2498192,"accept_rate":75,"display_name":"blackbird014"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377964437,"creation_date":1377964437,"answer_id":18549932,"question_id":18549704,"body_markdown":"I would tackle the problem like this:  \r\n\r\n        BufferedWriter output;\r\n        output = new BufferedWriter(new FileWriter(&quot;file.txt&quot;, true));\r\n        String sizeX = jTextField1.getText();\r\n        String sizeY = jTextField2.getText();\r\n        output.append(sizeX);\r\n        output.append(sizeY);\r\n        output.newLine();\r\n        output.close();\r\n\r\nThe true in the FileWriter constructor allows to append.  \r\nThe method newLine() is provided by BufferedWriter  \r\nCould be ok as solution?","title":"Create a new line in Java&#39;s FileWriter","body":"<p>I would tackle the problem like this:  </p>\n\n<pre><code>    BufferedWriter output;\n    output = new BufferedWriter(new FileWriter(\"file.txt\", true));\n    String sizeX = jTextField1.getText();\n    String sizeY = jTextField2.getText();\n    output.append(sizeX);\n    output.append(sizeY);\n    output.newLine();\n    output.close();\n</code></pre>\n\n<p>The true in the FileWriter constructor allows to append.<br>\nThe method newLine() is provided by BufferedWriter<br>\nCould be ok as solution?</p>\n"},{"tags":[],"owner":{"account_id":2899504,"reputation":775,"user_id":2486561,"accept_rate":60,"display_name":"Lee Fogg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464982658,"creation_date":1377966198,"answer_id":18550213,"question_id":18549704,"body_markdown":"If you mean use the same code but add a new line so that when you add something to the file it will be on a new line. You can simply use BufferedWriter&#39;s `newLine()`.&lt;br&gt;\r\nHere I have Improved you code also: NumberFormatException was unnecessary as nothing was being cast to a number data type, saving variables to use once also was.\r\n\r\n    try {\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;file.txt&quot;));\r\n            writer.write(jTextField1.getText());\r\n            writer.write(jTextField2.getText());\r\n            writer.newLine();\r\n            writer.flush();\r\n            writer.close();\r\n    } catch (IOException ex) {\r\n        System.out.println(&quot;File could not be created&quot;);\r\n    }","title":"Create a new line in Java&#39;s FileWriter","body":"<p>If you mean use the same code but add a new line so that when you add something to the file it will be on a new line. You can simply use BufferedWriter's <code>newLine()</code>.<br>\nHere I have Improved you code also: NumberFormatException was unnecessary as nothing was being cast to a number data type, saving variables to use once also was.</p>\n\n<pre><code>try {\n    BufferedWriter writer = new BufferedWriter(new FileWriter(\"file.txt\"));\n        writer.write(jTextField1.getText());\n        writer.write(jTextField2.getText());\n        writer.newLine();\n        writer.flush();\n        writer.close();\n} catch (IOException ex) {\n    System.out.println(\"File could not be created\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5684762,"reputation":77,"user_id":4494680,"display_name":"Roushan Kumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422274684,"creation_date":1422274684,"answer_id":28149983,"question_id":18549704,"body_markdown":"Here &quot;\\n&quot; is also working fine. But the problem here lies in the text editor(probably notepad). Try to see the output with Wordpad.","title":"Create a new line in Java&#39;s FileWriter","body":"<p>Here \"\\n\" is also working fine. But the problem here lies in the text editor(probably notepad). Try to see the output with Wordpad.</p>\n"},{"tags":[],"owner":{"account_id":8528531,"reputation":516,"user_id":6393165,"display_name":"Nick Bell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473438344,"creation_date":1472425497,"answer_id":39196572,"question_id":18549704,"body_markdown":"Since 1.8, I thought this might be an additional solution worth adding to the responses:\r\n\r\n&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;Path java.nio.file.Files.write(Path path, Iterable&lt;? extends CharSequence&gt; lines, OpenOption... options) throws IOException&lt;/em&gt;&lt;/blockquote&gt;&lt;/p&gt;\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(jTextField1.getText());\r\n    sb.append(jTextField2.getText());\r\n    sb.append(System.lineSeparator());\r\n    Files.write(Paths.get(&quot;file.txt&quot;), sb.toString().getBytes());\r\n\r\nIf appending to the same file, perhaps use an Append flag with Files.write()\r\n\r\n    Files.write(Paths.get(&quot;file.txt&quot;), sb.toString().getBytes(), StandardOpenOption.APPEND);\r\n\r\n","title":"Create a new line in Java&#39;s FileWriter","body":"<p>Since 1.8, I thought this might be an additional solution worth adding to the responses:</p>\n\n<p><blockquote><p><em>Path java.nio.file.Files.write(Path path, Iterable lines, OpenOption... options) throws IOException</em></blockquote></p></p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(jTextField1.getText());\nsb.append(jTextField2.getText());\nsb.append(System.lineSeparator());\nFiles.write(Paths.get(\"file.txt\"), sb.toString().getBytes());\n</code></pre>\n\n<p>If appending to the same file, perhaps use an Append flag with Files.write()</p>\n\n<pre><code>Files.write(Paths.get(\"file.txt\"), sb.toString().getBytes(), StandardOpenOption.APPEND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614107454,"creation_date":1614107454,"answer_id":66339568,"question_id":18549704,"body_markdown":"One can use [`PrintWriter`](https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html) to wrap the `FileWriter`, as it has many additional useful methods.\r\n\r\n```\r\ntry(PrintWriter pw = new PrintWriter(new FileWriter(new File(&quot;file.txt&quot;), false))){\r\n   pw.println();//new line\r\n   pw.print(&quot;text&quot;);//print without new line\r\n   pw.println(10);//print with new line\r\n   pw.printf(&quot;%2.f&quot;, 0.567);//print double to 2 decimal places (without new line)\r\n}\r\n```","title":"Create a new line in Java&#39;s FileWriter","body":"<p>One can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html\" rel=\"nofollow noreferrer\"><code>PrintWriter</code></a> to wrap the <code>FileWriter</code>, as it has many additional useful methods.</p>\n<pre><code>try(PrintWriter pw = new PrintWriter(new FileWriter(new File(&quot;file.txt&quot;), false))){\n   pw.println();//new line\n   pw.print(&quot;text&quot;);//print without new line\n   pw.println(10);//print with new line\n   pw.printf(&quot;%2.f&quot;, 0.567);//print double to 2 decimal places (without new line)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4613640,"reputation":1,"user_id":3740934,"display_name":"Pankaj Chouhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652511237,"creation_date":1652511237,"answer_id":72237985,"question_id":18549704,"body_markdown":"using simple `\\n` to break line in write file and normal output in java ","title":"Create a new line in Java&#39;s FileWriter","body":"<p>using simple <code>\\n</code> to break line in write file and normal output in java</p>\n"}],"owner":{"account_id":3161374,"reputation":848,"user_id":2672406,"accept_rate":70,"display_name":"log_0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230072,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":18549788,"answer_count":10,"score":51,"last_activity_date":1652511237,"creation_date":1377962938,"question_id":18549704,"body_markdown":"I have coded the following `FileWriter`:\r\n\r\n    try {\r\n        FileWriter writer = new FileWriter(new File(&quot;file.txt&quot;), false);\r\n\r\n        String sizeX = jTextField1.getText();\r\n        String sizeY = jTextField2.getText();\r\n        writer.write(sizeX);\r\n        writer.write(sizeY);\r\n\r\n        writer.flush();\r\n        writer.close();\r\n    } catch (IOException ex) {}\r\n\r\nNow I want to insert a new line, just like you would do it with `\\n` normally, but it doesn&#39;t seem to work.\r\n\r\nWhat can be done to solve this?\r\n\r\nThank you.","title":"Create a new line in Java&#39;s FileWriter","body":"<p>I have coded the following <code>FileWriter</code>:</p>\n\n<pre><code>try {\n    FileWriter writer = new FileWriter(new File(\"file.txt\"), false);\n\n    String sizeX = jTextField1.getText();\n    String sizeY = jTextField2.getText();\n    writer.write(sizeX);\n    writer.write(sizeY);\n\n    writer.flush();\n    writer.close();\n} catch (IOException ex) {}\n</code></pre>\n\n<p>Now I want to insert a new line, just like you would do it with <code>\\n</code> normally, but it doesn't seem to work.</p>\n\n<p>What can be done to solve this?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":1,"creation_date":1652511048,"post_id":72237960,"comment_id":127628199,"body_markdown":"You should try yourself and share code with us!","body":"You should try yourself and share code with us!"}],"answers":[{"tags":[],"owner":{"account_id":22156046,"reputation":139,"user_id":16403786,"display_name":"RANJAN KUMAR SINGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652511209,"creation_date":1652511209,"answer_id":72237983,"question_id":72237960,"body_markdown":"Hey you can use `$ne` operator in mongoDB\r\nfor reference look here : https://www.educative.io/edpresso/what-is-the-ne-operator-in-mongodb","title":"How to return all types except a certain type in MongoDB?","body":"<p>Hey you can use <code>$ne</code> operator in mongoDB\nfor reference look here : <a href=\"https://www.educative.io/edpresso/what-is-the-ne-operator-in-mongodb\" rel=\"nofollow noreferrer\">https://www.educative.io/edpresso/what-is-the-ne-operator-in-mongodb</a></p>\n"}],"owner":{"account_id":21725344,"reputation":17,"user_id":16034861,"display_name":"Anam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652511209,"creation_date":1652510802,"question_id":72237960,"body_markdown":"Let&#39;s say that there is a column called colours and it can have values red, blue, and green. I want to retrieve all rows except the ones where the colour is green. How to do this in MongoDB?","title":"How to return all types except a certain type in MongoDB?","body":"<p>Let's say that there is a column called colours and it can have values red, blue, and green. I want to retrieve all rows except the ones where the colour is green. How to do this in MongoDB?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":2,"creation_date":1652507292,"post_id":72237656,"comment_id":127627697,"body_markdown":"Are you sure that you have the correct `Context` class imported in `ImageAdapter`? Should be `import android.content.Context;`.","body":"Are you sure that you have the correct <code>Context</code> class imported in <code>ImageAdapter</code>? Should be <code>import android.content.Context;</code>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652516797,"post_id":72237656,"comment_id":127629049,"body_markdown":"Did Mike&#39;s comment solve your problem?","body":"Did Mike&#39;s comment solve your problem?"},{"owner":{"account_id":25287438,"reputation":1,"user_id":19114126,"display_name":"Harsh Saharan"},"score":0,"creation_date":1652558843,"post_id":72237656,"comment_id":127636900,"body_markdown":"Yes! it was the wrong import. Thank you guys.","body":"Yes! it was the wrong import. Thank you guys."}],"answers":[{"tags":[],"owner":{"account_id":15980042,"reputation":274,"user_id":11531910,"display_name":"Mahdi Iranmanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652508426,"creation_date":1652508426,"answer_id":72237759,"question_id":72237656,"body_markdown":"As I know you don&#39;t need to use `getActivity()` or `ImageActivity.this`, if you want to get the context of your activity use `this`.","title":"error: incompatible types: ImageActivity cannot be converted to Context","body":"<p>As I know you don't need to use <code>getActivity()</code> or <code>ImageActivity.this</code>, if you want to get the context of your activity use <code>this</code>.</p>\n"}],"owner":{"account_id":25287438,"reputation":1,"user_id":19114126,"display_name":"Harsh Saharan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652508426,"creation_date":1652507031,"question_id":72237656,"body_markdown":"I&#39;m getting this incompatible type error for my code. The error shows in ImageActivity class. \r\n\r\nThe error is in line: `imageAdapter = new ImageAdapter(ImageActivity.this, uploads);`\r\nIt says `ImageActivity.this` can&#39;t convert to Context type and I&#39;m not sure why. \r\n\r\nI did some research and I found that I could use `getActivity()` instead of `ImageActivity.this` I tried it but it didn&#39;t work either. \r\n\r\nI attached the code files below, please help, thank you.\r\n\r\nImageActivity code: \r\n\r\n    \r\n    public class ImageActivity extends AppCompatActivity implements ImageAdapter.OnItemClickListner {\r\n        private RecyclerView recyclerView;\r\n        private ImageAdapter imageAdapter;\r\n        private DatabaseReference dataBaseRef;\r\n        private FirebaseStorage storage;\r\n        private ValueEventListener DBListener;\r\n        private List&lt;Upload&gt; uploads;\r\n        private ProgressBar progressCircle;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.image_activity);\r\n            progressCircle.findViewById(R.id.progressbar_circle);\r\n            recyclerView.findViewById(R.id.recycler);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            uploads = new ArrayList&lt;&gt;();\r\n            imageAdapter = new ImageAdapter(ImageActivity.this, uploads);\r\n            recyclerView.setAdapter(imageAdapter);\r\n            imageAdapter.setOnItemClickListener(ImageActivity.this);\r\n    \r\n            \r\nImageAdapter code: \r\n\r\n    \r\n    public class ImageAdapter extends RecyclerView.Adapter&lt;ImageAdapter.ViewHolder&gt; {\r\n            private Context context;\r\n            private List&lt;Upload&gt; uploadList;\r\n            private OnItemClickListner listner;\r\n        \r\n            public ImageAdapter(Context context, List&lt;Upload&gt; uploadList) {\r\n                this.context = context;\r\n                this.uploadList = uploadList;\r\n            }\r\n        \r\n            @NonNull\r\n            @Override\r\n            public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.images, parent, false );\r\n                return new ViewHolder(v);\r\n            }\r\n    \r\n    @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            Upload uploadCurrent = uploadList.get(position);\r\n            Picasso.get().load(uploadCurrent.getImageUrl()).placeholder(R.mipmap.ic_launcher)\r\n                    .fit().centerInside().into(holder.imageView);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return uploadList.size();\r\n        }\r\n        }\r\n           ","title":"error: incompatible types: ImageActivity cannot be converted to Context","body":"<p>I'm getting this incompatible type error for my code. The error shows in ImageActivity class.</p>\n<p>The error is in line: <code>imageAdapter = new ImageAdapter(ImageActivity.this, uploads);</code>\nIt says <code>ImageActivity.this</code> can't convert to Context type and I'm not sure why.</p>\n<p>I did some research and I found that I could use <code>getActivity()</code> instead of <code>ImageActivity.this</code> I tried it but it didn't work either.</p>\n<p>I attached the code files below, please help, thank you.</p>\n<p>ImageActivity code:</p>\n<pre><code>public class ImageActivity extends AppCompatActivity implements ImageAdapter.OnItemClickListner {\n    private RecyclerView recyclerView;\n    private ImageAdapter imageAdapter;\n    private DatabaseReference dataBaseRef;\n    private FirebaseStorage storage;\n    private ValueEventListener DBListener;\n    private List&lt;Upload&gt; uploads;\n    private ProgressBar progressCircle;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.image_activity);\n        progressCircle.findViewById(R.id.progressbar_circle);\n        recyclerView.findViewById(R.id.recycler);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        uploads = new ArrayList&lt;&gt;();\n        imageAdapter = new ImageAdapter(ImageActivity.this, uploads);\n        recyclerView.setAdapter(imageAdapter);\n        imageAdapter.setOnItemClickListener(ImageActivity.this);\n\n        \n</code></pre>\n<p>ImageAdapter code:</p>\n<pre><code>public class ImageAdapter extends RecyclerView.Adapter&lt;ImageAdapter.ViewHolder&gt; {\n        private Context context;\n        private List&lt;Upload&gt; uploadList;\n        private OnItemClickListner listner;\n    \n        public ImageAdapter(Context context, List&lt;Upload&gt; uploadList) {\n            this.context = context;\n            this.uploadList = uploadList;\n        }\n    \n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.images, parent, false );\n            return new ViewHolder(v);\n        }\n\n@Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        Upload uploadCurrent = uploadList.get(position);\n        Picasso.get().load(uploadCurrent.getImageUrl()).placeholder(R.mipmap.ic_launcher)\n                .fit().centerInside().into(holder.imageView);\n    }\n\n    @Override\n    public int getItemCount() {\n        return uploadList.size();\n    }\n    }\n       \n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652503479,"post_id":72237323,"comment_id":127627263,"body_markdown":"[How to put a JButton inside a JTextField (Java)?](https://stackoverflow.com/questions/3671461/how-to-put-a-jbutton-inside-a-jtextfield-java) and you should look at [Component Border](https://tips4java.wordpress.com/2009/09/27/component-border/)","body":"<a href=\"https://stackoverflow.com/questions/3671461/how-to-put-a-jbutton-inside-a-jtextfield-java\">How to put a JButton inside a JTextField (Java)?</a> and you should look at <a href=\"https://tips4java.wordpress.com/2009/09/27/component-border/\" rel=\"nofollow noreferrer\">Component Border</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652506600,"creation_date":1652506600,"answer_id":72237620,"question_id":72237323,"body_markdown":"You can implement this several ways. In the below code, I create a [JPanel][1] which contains a [JPasswordField][2] and a [JLabel][3] which displays an &quot;eye&quot; icon. I remove the [border][4] from the `JPasswordField`. (Note that, by default, a `JLabel` does not have a border.) And I add a border to the `JPanel` that makes it look like a single, text field. I got that idea from the accepted answer to [How to put a JButton inside a JTextField (Java)][5]. Finally, I add a [MouseListener][6] to the `JLabel`. When the mouse pointer is inside the `JLabel`, the text in the `JPasswordField` is readable and when the mouse pointer is not inside the `JLabel`, the text in the `JPasswordField` is displayed as a string of asterisk characters, i.e. `*`.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.net.URL;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.Icon;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JPasswordField;\r\nimport javax.swing.border.BevelBorder;\r\n\r\npublic class PassWord extends MouseAdapter {\r\n    private JFrame frame;\r\n    private JPasswordField  passwordField;\r\n\r\n    public void mouseEntered(MouseEvent event) {\r\n        passwordField.setEchoChar(&#39;\\u0000&#39;);\r\n    }\r\n\r\n    public void mouseExited(MouseEvent event) {\r\n        passwordField.setEchoChar(&#39;*&#39;);\r\n    }\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createEye(), BorderLayout.PAGE_START);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createEye() {\r\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEADING, 0, 0));\r\n        panel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n        passwordField = new JPasswordField(15);\r\n        passwordField.setBorder(null);\r\n        panel.add(passwordField);\r\n        URL location = getClass().getResource(&quot;eye_show_password.png&quot;);\r\n        Icon ico = new ImageIcon(location);\r\n        JLabel label = new JLabel(ico);\r\n        label.setOpaque(true);\r\n        label.setBackground(passwordField.getBackground());\r\n        label.addMouseListener(this);\r\n        panel.add(label);\r\n        JPanel container = new JPanel();\r\n        container.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n        container.add(panel);\r\n        return container;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        EventQueue.invokeLater(() -&gt; new PassWord().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPanel.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/passwordfield.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/label.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\r\n  [5]: https://stackoverflow.com/questions/3671461/how-to-put-a-jbutton-inside-a-jtextfield-java\r\n  [6]: https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html","title":"How to add eye symbol in JPasswordField?","body":"<p>You can implement this several ways. In the below code, I create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\">JPanel</a> which contains a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/passwordfield.html\" rel=\"nofollow noreferrer\">JPasswordField</a> and a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/label.html\" rel=\"nofollow noreferrer\">JLabel</a> which displays an &quot;eye&quot; icon. I remove the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">border</a> from the <code>JPasswordField</code>. (Note that, by default, a <code>JLabel</code> does not have a border.) And I add a border to the <code>JPanel</code> that makes it look like a single, text field. I got that idea from the accepted answer to <a href=\"https://stackoverflow.com/questions/3671461/how-to-put-a-jbutton-inside-a-jtextfield-java\">How to put a JButton inside a JTextField (Java)</a>. Finally, I add a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html\" rel=\"nofollow noreferrer\">MouseListener</a> to the <code>JLabel</code>. When the mouse pointer is inside the <code>JLabel</code>, the text in the <code>JPasswordField</code> is readable and when the mouse pointer is not inside the <code>JLabel</code>, the text in the <code>JPasswordField</code> is displayed as a string of asterisk characters, i.e. <code>*</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.net.URL;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.border.BevelBorder;\n\npublic class PassWord extends MouseAdapter {\n    private JFrame frame;\n    private JPasswordField  passwordField;\n\n    public void mouseEntered(MouseEvent event) {\n        passwordField.setEchoChar('\\u0000');\n    }\n\n    public void mouseExited(MouseEvent event) {\n        passwordField.setEchoChar('*');\n    }\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createEye(), BorderLayout.PAGE_START);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createEye() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEADING, 0, 0));\n        panel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n        passwordField = new JPasswordField(15);\n        passwordField.setBorder(null);\n        panel.add(passwordField);\n        URL location = getClass().getResource(&quot;eye_show_password.png&quot;);\n        Icon ico = new ImageIcon(location);\n        JLabel label = new JLabel(ico);\n        label.setOpaque(true);\n        label.setBackground(passwordField.getBackground());\n        label.addMouseListener(this);\n        panel.add(label);\n        JPanel container = new JPanel();\n        container.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        container.add(panel);\n        return container;\n    }\n\n    public static void main(String args[]) {\n        EventQueue.invokeLater(() -&gt; new PassWord().buildAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72237620,"answer_count":1,"score":0,"last_activity_date":1652506600,"creation_date":1652502042,"question_id":72237323,"body_markdown":"How can I add an eye symbol in my java application using java swing?\r\n","title":"How to add eye symbol in JPasswordField?","body":"<p>How can I add an eye symbol in my java application using java swing?</p>\n"},{"tags":["java","android","android-fragments","swiperefreshlayout"],"answers":[{"tags":[],"owner":{"account_id":6788376,"reputation":681,"user_id":5226279,"accept_rate":86,"display_name":"shuabing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652246247,"creation_date":1652235324,"answer_id":72194686,"question_id":72192011,"body_markdown":"if you call `binding.swipeLayout.isRefreshing = true` &lt;br&gt;\r\nin SwipeRefreshLayout source code, `mNotify` boolean value is **false**\r\nso cannot do anything in `setOnRefreshListener`\r\n\r\n    public void onAnimationEnd(Animation animation) {\r\n            if (mRefreshing) {\r\n                // Make sure the progress view is fully visible\r\n                mProgress.setAlpha(MAX_ALPHA);\r\n                mProgress.start();\r\n                if (mNotify) {\r\n                    if (mListener != null) {\r\n                        mListener.onRefresh();\r\n                    }\r\n                }\r\n                mCurrentTargetOffsetTop = mCircleView.getTop();\r\n            } else {\r\n                reset();\r\n            }\r\n        }\r\n\r\nthis is why `setOnRefreshListener` not invoke\r\nif you want manual invoke it do like this by reflect set  `mNotify` boolean value is **true**\r\n\r\n    val swipeClass = SwipeRefreshLayout::class.java\r\n    val method = swipeClass.getDeclaredMethod(&quot;setRefreshing&quot;, Boolean::class.java, Boolean::class.java)\r\n    method.isAccessible = true\r\n    method.invoke(binding.swipeLayout, true, true)\r\n\r\n","title":"Swipe to refresh data using SwipeRefreshLayout in fragment?","body":"<p>if you call <code>binding.swipeLayout.isRefreshing = true</code> <br>\nin SwipeRefreshLayout source code, <code>mNotify</code> boolean value is <strong>false</strong>\nso cannot do anything in <code>setOnRefreshListener</code></p>\n<pre><code>public void onAnimationEnd(Animation animation) {\n        if (mRefreshing) {\n            // Make sure the progress view is fully visible\n            mProgress.setAlpha(MAX_ALPHA);\n            mProgress.start();\n            if (mNotify) {\n                if (mListener != null) {\n                    mListener.onRefresh();\n                }\n            }\n            mCurrentTargetOffsetTop = mCircleView.getTop();\n        } else {\n            reset();\n        }\n    }\n</code></pre>\n<p>this is why <code>setOnRefreshListener</code> not invoke\nif you want manual invoke it do like this by reflect set  <code>mNotify</code> boolean value is <strong>true</strong></p>\n<pre><code>val swipeClass = SwipeRefreshLayout::class.java\nval method = swipeClass.getDeclaredMethod(&quot;setRefreshing&quot;, Boolean::class.java, Boolean::class.java)\nmethod.isAccessible = true\nmethod.invoke(binding.swipeLayout, true, true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8279927,"reputation":146,"user_id":6224943,"display_name":"Kanzariya Hardik "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652241746,"creation_date":1652241746,"answer_id":72195272,"question_id":72192011,"body_markdown":"You need to call this method in onResume() state \r\n\r\n  \r\n\r\n  \r\n\r\n      public void getData() {\r\n                interfaces.getPosts().enqueue(new Callback&lt;List&lt;VideoModels&gt;&gt;() {\r\n                    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                    @Override\r\n                    public void onResponse(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Response&lt;List&lt;VideoModels&gt;&gt; response) {\r\n                        list.clear();\r\n                        if (response.isSuccessful()) {\r\n                            assert response.body() != null;\r\n                            list.addAll(response.body());\r\n                            adapter.notifyDataSetChanged();\r\n                            binding.swipeToRefresh.setRefreshing(false);\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Throwable t) {\r\n                        Toast.makeText(getContext(), &quot;Check you Internet&quot;, Toast.LENGTH_SHORT).show();\r\n                        binding.swipeToRefresh.setRefreshing(false);\r\n                    }\r\n                });\r\n            }","title":"Swipe to refresh data using SwipeRefreshLayout in fragment?","body":"<p>You need to call this method in onResume() state</p>\n<pre><code>  public void getData() {\n            interfaces.getPosts().enqueue(new Callback&lt;List&lt;VideoModels&gt;&gt;() {\n                @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n                @Override\n                public void onResponse(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Response&lt;List&lt;VideoModels&gt;&gt; response) {\n                    list.clear();\n                    if (response.isSuccessful()) {\n                        assert response.body() != null;\n                        list.addAll(response.body());\n                        adapter.notifyDataSetChanged();\n                        binding.swipeToRefresh.setRefreshing(false);\n                    }\n                }\n\n                @Override\n                public void onFailure(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Throwable t) {\n                    Toast.makeText(getContext(), &quot;Check you Internet&quot;, Toast.LENGTH_SHORT).show();\n                    binding.swipeToRefresh.setRefreshing(false);\n                }\n            });\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652506565,"creation_date":1652506565,"answer_id":72237619,"question_id":72192011,"body_markdown":"After finding the solution for 1 day. Finally, I found my solution.\r\n\r\nTo use `SwipeRefreshLayout` work in `Fragment` and want to refresh your data `Onswipe`. use the below code and modify it as your requirement.\r\n\r\nThis is a `fragment`.\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        // swiping on starting of an app.\r\n        binding.swipeToRefresh.setRefreshing(true);\r\n        getData();\r\n        binding.swipeToRefresh.setRefreshing(false);\r\n\r\n        // when user swipe\r\n        binding.swipeToRefresh.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onRefresh() {\r\n                getData();\r\n            }\r\n        });\r\n        return binding.getRoot();\r\n    }\r\n    public void getData(){\r\n        // you have to put all of your onCreate code here to work properly. most of time it throws an error. So, make sure you added code properly.\r\n        ArrayList&lt;VideoModels&gt; list = new ArrayList&lt;&gt;();\r\n        MyAdapter adapter = new MyAdapter(list,getContext());\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(),2);\r\n        binding.myRecyclerView.setAdapter(adapter);\r\n        binding.myRecyclerView.setLayoutManager(gridLayoutManager);\r\n        binding.swipeToRefresh.setRefreshing(true);\r\n        interfaces = RetrofitInstance.getRetrofit().create(APIInterfaces.class);\r\n        interfaces.getPosts().enqueue(new Callback&lt;List&lt;VideoModels&gt;&gt;() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Response&lt;List&lt;VideoModels&gt;&gt; response) {\r\n                list.clear();\r\n                if (response.isSuccessful()) {\r\n                    assert response.body() != null;\r\n                    list.addAll(response.body());\r\n                    adapter.notifyDataSetChanged();\r\n                    binding.swipeToRefresh.setRefreshing(false);\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Throwable t) {\r\n                Toast.makeText(getContext(), &quot;Check you Internet&quot;, Toast.LENGTH_SHORT).show();\r\n                binding.swipeToRefresh.setRefreshing(false);\r\n            }\r\n        });\r\n    }\r\n```","title":"Swipe to refresh data using SwipeRefreshLayout in fragment?","body":"<p>After finding the solution for 1 day. Finally, I found my solution.</p>\n<p>To use <code>SwipeRefreshLayout</code> work in <code>Fragment</code> and want to refresh your data <code>Onswipe</code>. use the below code and modify it as your requirement.</p>\n<p>This is a <code>fragment</code>.</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        // swiping on starting of an app.\n        binding.swipeToRefresh.setRefreshing(true);\n        getData();\n        binding.swipeToRefresh.setRefreshing(false);\n\n        // when user swipe\n        binding.swipeToRefresh.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onRefresh() {\n                getData();\n            }\n        });\n        return binding.getRoot();\n    }\n    public void getData(){\n        // you have to put all of your onCreate code here to work properly. most of time it throws an error. So, make sure you added code properly.\n        ArrayList&lt;VideoModels&gt; list = new ArrayList&lt;&gt;();\n        MyAdapter adapter = new MyAdapter(list,getContext());\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(),2);\n        binding.myRecyclerView.setAdapter(adapter);\n        binding.myRecyclerView.setLayoutManager(gridLayoutManager);\n        binding.swipeToRefresh.setRefreshing(true);\n        interfaces = RetrofitInstance.getRetrofit().create(APIInterfaces.class);\n        interfaces.getPosts().enqueue(new Callback&lt;List&lt;VideoModels&gt;&gt;() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onResponse(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Response&lt;List&lt;VideoModels&gt;&gt; response) {\n                list.clear();\n                if (response.isSuccessful()) {\n                    assert response.body() != null;\n                    list.addAll(response.body());\n                    adapter.notifyDataSetChanged();\n                    binding.swipeToRefresh.setRefreshing(false);\n                }\n            }\n            @Override\n            public void onFailure(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Throwable t) {\n                Toast.makeText(getContext(), &quot;Check you Internet&quot;, Toast.LENGTH_SHORT).show();\n                binding.swipeToRefresh.setRefreshing(false);\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72237619,"answer_count":3,"score":1,"last_activity_date":1652506565,"creation_date":1652210930,"question_id":72192011,"body_markdown":"I want my layout to be refreshed when the app starts and the data should show in and when the user swipes the data should be updated and show new data if new data is available on the server.\r\n\r\nThe actual problem is that the data is not loading when the app is started. Rather it is happening only on swiping. How can I achieve that on opening the app the data is loaded first and then the data is updated on swiping?\r\n\r\n```\r\npublic class FirstFragment extends Fragment {\r\n    FragmentFirstBinding binding;\r\n    APIInterfaces interfaces;\r\n    ArrayList&lt;VideoModels&gt; list = new ArrayList&lt;&gt;();\r\n    @Override\r\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        MyAdapter adapter = new MyAdapter(list,getContext());\r\n        binding.myRecyclerView.setAdapter(adapter);\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(),2);\r\n        binding.myRecyclerView.setLayoutManager(gridLayoutManager);\r\n        interfaces = RetrofitInstance.getRetrofit().create(APIInterfaces.class);\r\n        binding.swipeToRefresh.setRefreshing(true);\r\n        binding.swipeToRefresh.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                interfaces.getPosts().enqueue(new Callback&lt;List&lt;VideoModels&gt;&gt;() {\r\n                    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                    @Override\r\n                    public void onResponse(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Response&lt;List&lt;VideoModels&gt;&gt; response) {\r\n                        list.clear();\r\n                        if (response.isSuccessful()) {\r\n                            assert response.body() != null;\r\n                            list.addAll(response.body());\r\n                            adapter.notifyDataSetChanged();\r\n                            binding.swipeToRefresh.setRefreshing(false);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Throwable t) {\r\n                        Toast.makeText(getContext(), &quot;Check you Internet&quot;, Toast.LENGTH_SHORT).show();\r\n                        binding.swipeToRefresh.setRefreshing(false);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        binding.swipeToRefresh.setRefreshing(false);\r\n\r\n        return binding.getRoot();\r\n    }\r\n}\r\n```\r\n**EDIT-1: Added complete code.**\r\n\r\nYour answer will helpful for me.","title":"Swipe to refresh data using SwipeRefreshLayout in fragment?","body":"<p>I want my layout to be refreshed when the app starts and the data should show in and when the user swipes the data should be updated and show new data if new data is available on the server.</p>\n<p>The actual problem is that the data is not loading when the app is started. Rather it is happening only on swiping. How can I achieve that on opening the app the data is loaded first and then the data is updated on swiping?</p>\n<pre><code>public class FirstFragment extends Fragment {\n    FragmentFirstBinding binding;\n    APIInterfaces interfaces;\n    ArrayList&lt;VideoModels&gt; list = new ArrayList&lt;&gt;();\n    @Override\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        MyAdapter adapter = new MyAdapter(list,getContext());\n        binding.myRecyclerView.setAdapter(adapter);\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(),2);\n        binding.myRecyclerView.setLayoutManager(gridLayoutManager);\n        interfaces = RetrofitInstance.getRetrofit().create(APIInterfaces.class);\n        binding.swipeToRefresh.setRefreshing(true);\n        binding.swipeToRefresh.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                interfaces.getPosts().enqueue(new Callback&lt;List&lt;VideoModels&gt;&gt;() {\n                    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n                    @Override\n                    public void onResponse(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Response&lt;List&lt;VideoModels&gt;&gt; response) {\n                        list.clear();\n                        if (response.isSuccessful()) {\n                            assert response.body() != null;\n                            list.addAll(response.body());\n                            adapter.notifyDataSetChanged();\n                            binding.swipeToRefresh.setRefreshing(false);\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(@NonNull Call&lt;List&lt;VideoModels&gt;&gt; call, @NonNull Throwable t) {\n                        Toast.makeText(getContext(), &quot;Check you Internet&quot;, Toast.LENGTH_SHORT).show();\n                        binding.swipeToRefresh.setRefreshing(false);\n                    }\n                });\n            }\n        });\n        binding.swipeToRefresh.setRefreshing(false);\n\n        return binding.getRoot();\n    }\n}\n</code></pre>\n<p><strong>EDIT-1: Added complete code.</strong></p>\n<p>Your answer will helpful for me.</p>\n"},{"tags":["java","mysql","database","backend"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1652505190,"post_id":72237468,"comment_id":127627444,"body_markdown":"Not an issue - that’s what transactions are for.","body":"Not an issue - that’s what transactions are for."},{"owner":{"account_id":13971581,"reputation":139,"user_id":10408834,"display_name":"Arun Singhal"},"score":0,"creation_date":1652505242,"post_id":72237468,"comment_id":127627449,"body_markdown":"Can you please elaborate?","body":"Can you please elaborate?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1652505438,"post_id":72237468,"comment_id":127627476,"body_markdown":"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_isolation_level","body":"<a href=\"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_isolation_level\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/&hellip;</a>"},{"owner":{"account_id":13971581,"reputation":139,"user_id":10408834,"display_name":"Arun Singhal"},"score":0,"creation_date":1652530062,"post_id":72237468,"comment_id":127631144,"body_markdown":"Still not clear to me","body":"Still not clear to me"},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":1,"creation_date":1652545931,"post_id":72237468,"comment_id":127634459,"body_markdown":"When using repeatable-read isolation level, subsequent reads in a given transaction are guaranteed to view data in the same state, as though a snapshot had been taken  of the database. This does not block concurrent updates to the data, but queries in that repeatable-read transaction will not see any updates to the data until the transaction finishes.","body":"When using repeatable-read isolation level, subsequent reads in a given transaction are guaranteed to view data in the same state, as though a snapshot had been taken  of the database. This does not block concurrent updates to the data, but queries in that repeatable-read transaction will not see any updates to the data until the transaction finishes."},{"owner":{"account_id":13971581,"reputation":139,"user_id":10408834,"display_name":"Arun Singhal"},"score":0,"creation_date":1652589422,"post_id":72237468,"comment_id":127640164,"body_markdown":"Thanks for the detailed explanation. \nSo it means that the repeatable read does not take locks on the rows..right? It just maintains a snapshot for query","body":"Thanks for the detailed explanation.  So it means that the repeatable read does not take locks on the rows..right? It just maintains a snapshot for query"}],"owner":{"account_id":13971581,"reputation":139,"user_id":10408834,"display_name":"Arun Singhal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652506066,"creation_date":1652504484,"question_id":72237468,"body_markdown":"Below is the schema of my table A.\r\n```\r\nCREATE TABLE A (\r\n      NAME VARCHAR(255),\r\n      CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n      UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n      PRIMARY KEY(NAME)\r\n);\r\nCREATE INDEX I1 ON A (UPDATED_AT,CREATED_AT);\r\n```\r\nNow we have around 50M records in this table. I can&#39;t fetch all the data at once as it would cause memory issues in the backend.\r\nI was thinking to use OFFSET+LIMIT combination to fetch the data in chunks but the problem is that the data is updating after every 5 minutes which can alter the position of the record in the table as we have the index on UPDATED_AT. \r\n\r\nWe can&#39;t afford to read the record twice.\r\nIs there any other way to read a large amount of data in chunks with frequent data updates.","title":"MySQL - Fetch millions of data in chunk with constantly changing data","body":"<p>Below is the schema of my table A.</p>\n<pre><code>CREATE TABLE A (\n      NAME VARCHAR(255),\n      CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,\n      UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,\n      PRIMARY KEY(NAME)\n);\nCREATE INDEX I1 ON A (UPDATED_AT,CREATED_AT);\n</code></pre>\n<p>Now we have around 50M records in this table. I can't fetch all the data at once as it would cause memory issues in the backend.\nI was thinking to use OFFSET+LIMIT combination to fetch the data in chunks but the problem is that the data is updating after every 5 minutes which can alter the position of the record in the table as we have the index on UPDATED_AT.</p>\n<p>We can't afford to read the record twice.\nIs there any other way to read a large amount of data in chunks with frequent data updates.</p>\n"},{"tags":["java","algorithm","data-structures","nested","hashmap"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652473978,"creation_date":1652471407,"answer_id":72234767,"question_id":72234600,"body_markdown":"You can use Java 8 method [`computeIfAbsent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)). It expects a *key*, a *function* that will be triggered and will generate a value if the given key is not present in the map.\r\n\r\nNote that this method will return a value that is currently associated with the given key, i.e. a previously existing inner *map*, or a *map* generated as a result of the method execution.\r\n\r\n```\r\nMap&lt;String, Map&lt;String, Integer&gt;&gt; nestedMap = new HashMap&lt;&gt;();\r\n\r\nnestedMap.computeIfAbsent(outerKey,k -&gt; new HashMap&lt;&gt;())\r\n    .put(innerKey, someValue);\r\n```\r\n\r\n*Also note:*\r\n* It&#39;s not possible to use primitives like `int` as a generic type parameters. Generic parameter should be an object (*for more information,* [*see*](https://docs.oracle.com/javase/tutorial/java/generics/types.html))","title":"How to insert records into a Nested HashMap?","body":"<p>You can use Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>computeIfAbsent()</code></a>. It expects a <em>key</em>, a <em>function</em> that will be triggered and will generate a value if the given key is not present in the map.</p>\n<p>Note that this method will return a value that is currently associated with the given key, i.e. a previously existing inner <em>map</em>, or a <em>map</em> generated as a result of the method execution.</p>\n<pre><code>Map&lt;String, Map&lt;String, Integer&gt;&gt; nestedMap = new HashMap&lt;&gt;();\n\nnestedMap.computeIfAbsent(outerKey,k -&gt; new HashMap&lt;&gt;())\n    .put(innerKey, someValue);\n</code></pre>\n<p><em>Also note:</em></p>\n<ul>\n<li>It's not possible to use primitives like <code>int</code> as a generic type parameters. Generic parameter should be an object (<em>for more information,</em> <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\"><em>see</em></a>)</li>\n</ul>\n"}],"owner":{"account_id":19236458,"reputation":45,"user_id":14057316,"display_name":"miikey722"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652505251,"creation_date":1652470351,"question_id":72234600,"body_markdown":"I want to create a nested `HashMap` of: \r\n```\r\nvar myHashMap = new HashMap&lt;String, HashMap&lt;String, int&gt;&gt;();\r\n```\r\nAnd I want to insert records into the inner `HashMap`, I find myself needing to instantiate the inner `HashMap` if the key doesn&#39;t exist: \r\n\r\n```\r\nvar myHashMap = new HashMap&lt;String, HashMap&lt;String, int&gt;&gt;();\r\nvar outerStringValue = &quot;ABC&quot;;\r\nvar innerStringValue = &quot;XYZ&quot;;\r\nvar innerInt = 45;\r\n\r\nif (!myHashMap.containsKey(outerStringValue) {\r\n    var innerHashMap = new HashMap&lt;String, int&gt;();\r\n    innerHashMap.put(innerStringValue, innerInt);\r\n    myHashMap.put(outerStringValue, innerHashMap);\r\n} else {\r\n    myHashMap.get(outerStringValue).put(innerStringValue, innerInt);\r\n}\r\n```\r\n\r\nIs there a better way to do this without instantiating a new `innerHashMap` for each unique `myHashMap` (the outer `HashMap`) key?","title":"How to insert records into a Nested HashMap?","body":"<p>I want to create a nested <code>HashMap</code> of:</p>\n<pre><code>var myHashMap = new HashMap&lt;String, HashMap&lt;String, int&gt;&gt;();\n</code></pre>\n<p>And I want to insert records into the inner <code>HashMap</code>, I find myself needing to instantiate the inner <code>HashMap</code> if the key doesn't exist:</p>\n<pre><code>var myHashMap = new HashMap&lt;String, HashMap&lt;String, int&gt;&gt;();\nvar outerStringValue = &quot;ABC&quot;;\nvar innerStringValue = &quot;XYZ&quot;;\nvar innerInt = 45;\n\nif (!myHashMap.containsKey(outerStringValue) {\n    var innerHashMap = new HashMap&lt;String, int&gt;();\n    innerHashMap.put(innerStringValue, innerInt);\n    myHashMap.put(outerStringValue, innerHashMap);\n} else {\n    myHashMap.get(outerStringValue).put(innerStringValue, innerInt);\n}\n</code></pre>\n<p>Is there a better way to do this without instantiating a new <code>innerHashMap</code> for each unique <code>myHashMap</code> (the outer <code>HashMap</code>) key?</p>\n"},{"tags":["java","database","hibernate"],"answers":[{"tags":[],"owner":{"account_id":22019476,"reputation":41,"user_id":16288509,"display_name":"Pirooz Azar Abad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652505041,"creation_date":1652505041,"answer_id":72237506,"question_id":72227917,"body_markdown":"You can use @Column for every fields and set unique=true .\r\n\r\nexample : \r\n\r\n    @Column (name &quot;projectname&quot;,nullable = false, unique = true )\r\n    private String projectname;\r\n","title":"Manage unique fields insertion with hibernate","body":"<p>You can use @Column for every fields and set unique=true .</p>\n<p>example :</p>\n<pre><code>@Column (name &quot;projectname&quot;,nullable = false, unique = true )\nprivate String projectname;\n</code></pre>\n"}],"owner":{"account_id":25084906,"reputation":11,"user_id":18937236,"display_name":"&#198;vangelist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652505041,"creation_date":1652436893,"question_id":72227917,"body_markdown":"I&#39;m working on a JAVA project and need to insert an entity in my DB using Hibernate but the fields need to be inserted only once.\r\n\r\nI have this ProjectEntity class that I need to insert to my database : \r\n\r\n```\r\n@Entity\r\n@Setter\r\n@Getter\r\npublic class ProjectEntity extends PanacheEntity {\r\n    private String projectname;\r\n    private String projectkey;\r\n}\r\n```\r\nMy projectentity table looks like this : \r\n\r\n```\r\nCREATE TABLE projectentity\r\n(\r\n    id BIGINT NOT NULL\r\n            CONSTRAINT project_pkey\r\n            PRIMARY KEY,\r\n    projectname TEXT,\r\n    projectkey TEXT,\r\n);\r\n```\r\nI tried to put the fields in the table as unique but obviously it is not enought as I get an error when I&#39;m trying to insert the same fields and it blocks the execution of my program.\r\n\r\nI want to know how can I manage the insertion of the project entity once when a new project is specified and then not do it again if the project already exists in my database.","title":"Manage unique fields insertion with hibernate","body":"<p>I'm working on a JAVA project and need to insert an entity in my DB using Hibernate but the fields need to be inserted only once.</p>\n<p>I have this ProjectEntity class that I need to insert to my database :</p>\n<pre><code>@Entity\n@Setter\n@Getter\npublic class ProjectEntity extends PanacheEntity {\n    private String projectname;\n    private String projectkey;\n}\n</code></pre>\n<p>My projectentity table looks like this :</p>\n<pre><code>CREATE TABLE projectentity\n(\n    id BIGINT NOT NULL\n            CONSTRAINT project_pkey\n            PRIMARY KEY,\n    projectname TEXT,\n    projectkey TEXT,\n);\n</code></pre>\n<p>I tried to put the fields in the table as unique but obviously it is not enought as I get an error when I'm trying to insert the same fields and it blocks the execution of my program.</p>\n<p>I want to know how can I manage the insertion of the project entity once when a new project is specified and then not do it again if the project already exists in my database.</p>\n"},{"tags":["java","gson","java-17"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":3,"creation_date":1652417183,"post_id":72221632,"comment_id":127605744,"body_markdown":"Did you consider implementing a type adapter for `java.time.LocalDate`?","body":"Did you consider implementing a type adapter for <code>java.time.LocalDate</code>?"}],"owner":{"account_id":23547236,"reputation":59,"user_id":17590476,"display_name":"Udectron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652504114,"creation_date":1652386637,"question_id":72221632,"body_markdown":"I&#39;m trying to Update my Gson version to 2.9.0 and disableJdkUnsafe,\r\nCan I get help with below error. This is from a broken test when I updated my GsonBuilder.\r\nThe test coverage of my project is 60%. How can I identify potential breaks due to disableJdkUnsafe and how can I resolve these issues ?\r\n\r\ncom.google.gson.JsonIOException: Unable to create instance of class java.time.LocalDate; usage of JDK Unsafe is disabled. Registering an InstanceCreator or a TypeAdapter for this type, adding a no-args constructor, or enabling usage of JDK Unsafe may fix this problem.","title":"Java 17 | Need Help to update to Gson 2.9.0 and disableJdkUnsafe","body":"<p>I'm trying to Update my Gson version to 2.9.0 and disableJdkUnsafe,\nCan I get help with below error. This is from a broken test when I updated my GsonBuilder.\nThe test coverage of my project is 60%. How can I identify potential breaks due to disableJdkUnsafe and how can I resolve these issues ?</p>\n<p>com.google.gson.JsonIOException: Unable to create instance of class java.time.LocalDate; usage of JDK Unsafe is disabled. Registering an InstanceCreator or a TypeAdapter for this type, adding a no-args constructor, or enabling usage of JDK Unsafe may fix this problem.</p>\n"},{"tags":["java","android-studio","android-progressbar"],"comments":[{"owner":{"account_id":14809612,"reputation":1470,"user_id":10695663,"display_name":"MehranB"},"score":0,"creation_date":1652418976,"post_id":72220071,"comment_id":127606030,"body_markdown":"Can you share the whole xml file that contains the progress bar?","body":"Can you share the whole xml file that contains the progress bar?"},{"owner":{"account_id":23882973,"reputation":1,"user_id":17883451,"display_name":"Anonymous"},"score":0,"creation_date":1652431895,"post_id":72220071,"comment_id":127609572,"body_markdown":"Sure. I have edited the question","body":"Sure. I have edited the question"}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652418539,"creation_date":1652418539,"answer_id":72224703,"question_id":72220071,"body_markdown":"use \r\n```\r\nandroid:visibility=&quot;gone&quot;\r\n```\r\ninstead of \r\n```\r\nandroid:visibility=&quot;invisible&quot;\r\n```\r\nin your `progressBar` XML code","title":"I have an issue with ProgressBar Widget","body":"<p>use</p>\n<pre><code>android:visibility=&quot;gone&quot;\n</code></pre>\n<p>instead of</p>\n<pre><code>android:visibility=&quot;invisible&quot;\n</code></pre>\n<p>in your <code>progressBar</code> XML code</p>\n"},{"tags":[],"owner":{"account_id":14809612,"reputation":1470,"user_id":10695663,"display_name":"MehranB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652503558,"creation_date":1652450161,"answer_id":72230757,"question_id":72220071,"body_markdown":"Try this:\r\n```\r\n&lt;ProgressBar\r\n    android:id=&quot;@+id/progressBar&quot;\r\n    style=&quot;?android:attr/progressBarStyle&quot;\r\n    android:layout_width=&quot;80dp&quot;\r\n    android:layout_height=&quot;80dp&quot;    \r\n    android:elevation=&quot;8dp&quot;\r\n    android:indeterminateTint=&quot;@color/textColor&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    android:visibility=&quot;invisible&quot;/&gt;\r\n```\r\n\r\nEdit:\r\n=====\r\nI believe the reason is that after the send button is pressed, everything is done fast and `RegisterActivity` is immediately run so you don&#39;t see the progress bar.\r\n\r\nto provide a better experience for the user, launch the `RegisterActivity` after a delay. This way, the loading is shown, then before you show the &quot;message sent&quot; Toast message, make the progress bar `INVISIBLE` and then next activity will be loaded after a 1.5 second delay like so:\r\n```\r\nprogressBar.setVisibility(View.INVISIBLE);\r\ntoastLayout(); \r\ndialog.dismiss();\r\n\r\nnew Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\r\n    Intent intent = new Intent(Temp_InformedConsent_Activity.this, RegisterActivity.class);\r\n    finish();\r\n    startActivity(intent);\r\n}, 1500);\r\n```\r\n","title":"I have an issue with ProgressBar Widget","body":"<p>Try this:</p>\n<pre><code>&lt;ProgressBar\n    android:id=&quot;@+id/progressBar&quot;\n    style=&quot;?android:attr/progressBarStyle&quot;\n    android:layout_width=&quot;80dp&quot;\n    android:layout_height=&quot;80dp&quot;    \n    android:elevation=&quot;8dp&quot;\n    android:indeterminateTint=&quot;@color/textColor&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:visibility=&quot;invisible&quot;/&gt;\n</code></pre>\n<h1>Edit:</h1>\n<p>I believe the reason is that after the send button is pressed, everything is done fast and <code>RegisterActivity</code> is immediately run so you don't see the progress bar.</p>\n<p>to provide a better experience for the user, launch the <code>RegisterActivity</code> after a delay. This way, the loading is shown, then before you show the &quot;message sent&quot; Toast message, make the progress bar <code>INVISIBLE</code> and then next activity will be loaded after a 1.5 second delay like so:</p>\n<pre><code>progressBar.setVisibility(View.INVISIBLE);\ntoastLayout(); \ndialog.dismiss();\n\nnew Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\n    Intent intent = new Intent(Temp_InformedConsent_Activity.this, RegisterActivity.class);\n    finish();\n    startActivity(intent);\n}, 1500);\n</code></pre>\n"}],"owner":{"account_id":23882973,"reputation":1,"user_id":17883451,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652503558,"creation_date":1652377597,"question_id":72220071,"body_markdown":"Basically I have a ConsentForm Activity that the user scrolls through and give their consent. Upon pressing the consent Btn (Yes) a dialog where they have to enter their email pops up. When they enter a valid email and press the send button the progressbar should load until the next activity opens. For some reason the progress bar never appears.\r\n\r\nHere is the Consent Activity:\r\n\r\n    package com.example.sport_screen.Consent_Activities;\r\n    \r\n    import android.app.Dialog;\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.graphics.Typeface;\r\n    import android.graphics.drawable.ColorDrawable;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.StrictMode;\r\n    import android.text.SpannableString;\r\n    import android.text.Spanned;\r\n    import android.text.style.ForegroundColorSpan;\r\n    import android.text.style.StyleSpan;\r\n    import android.text.style.UnderlineSpan;\r\n    import android.view.Gravity;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.example.sport_screen.Database.DBHelper;\r\n    import com.example.sport_screen.For_Admin.AdminActivity;\r\n    import com.example.sport_screen.LoginActivity;\r\n    import com.example.sport_screen.R;\r\n    import com.example.sport_screen.RegisterActivity;\r\n    import com.example.sport_screen.Utils;\r\n    import com.example.sport_screen.WelcomeActivity;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    import soup.neumorphism.NeumorphCardView;\r\n    \r\n    public class Temp_InformedConsent_Activity extends AppCompatActivity {\r\n    \r\n        NeumorphCardView denyBtn, consentBtn;\r\n        TextView par1, par2, par3, par4, par6, sendBtn;\r\n        Dialog dialog;\r\n        EditText enterEmail, messageEmail;\r\n        String valid_email, msg;\r\n        ProgressBar progressBar;\r\n        private long backPressedTime;\r\n        private Toast backToast;\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n    \r\n            if (backPressedTime + 2000 &gt; System.currentTimeMillis()) {\r\n                backToast.cancel();\r\n                Intent intent = new Intent(Temp_InformedConsent_Activity.this, WelcomeActivity.class);\r\n                finish();\r\n                startActivity(intent);\r\n            } else {\r\n                msg = &quot;Press back again to logout&quot;;\r\n                backToast = toastLayout();\r\n                backToast.show();\r\n            }\r\n    \r\n            backPressedTime = System.currentTimeMillis();\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_temp_informed_consent);\r\n            DBHelper database = new DBHelper(this);\r\n            Utils.blackIconStatusBar(Temp_InformedConsent_Activity.this, R.color.light_Background);\r\n    \r\n            dialog = new Dialog(this);\r\n    \r\n            par1 = (TextView) findViewById(R.id.par1);\r\n            par2 = (TextView) findViewById(R.id.par2);\r\n            par3 = (TextView) findViewById(R.id.par3);\r\n            par4 = (TextView) findViewById(R.id.par4);\r\n            par6 = (TextView) findViewById(R.id.par6);\r\n    \r\n            consentBtn = (NeumorphCardView) findViewById(R.id.consentBtn);\r\n            denyBtn = (NeumorphCardView) findViewById(R.id.denyBtn);\r\n    \r\n            String p1 = &quot;Consent\\nTo voluntarily engage on an acceptable plan of personal fitness training. Follow the exact instructions regarding exercise, stress management and other health and fitness regarded programs. I have informed the trainer of any medication prescribed to me. I will allow a personal fitness trainer to periodically monitor performance and measure pulse, blood pressure etc. Allow physical touching and body positioning as required by the performed exercises.&quot;;\r\n            String p2 = &quot;Risks (I have be informed of possible..)\\nAbnormal blood pressure, fainting, dizziness, disorders of heart rhythm; and very rare cases: heart attack, stroke or even death. furthermore possible bodily injury, to muscles, ligaments, tendons and joints of the body.\\nI fully understand the risks but knowing them it is my desire to participate.&quot;;\r\n            String p3 = &quot;Benefits\\nUnderstand that if I closely follow the program instructions, that I will likely improve my exercise capacity and fitness level after a period of 3-6 months.&quot;;\r\n            String p4 = &quot;Confidentiality\\nAny obtained information will be treated in confidentiality, not revealed to any person. Any unidentifiable information might be used for research purposes. Any information obtained will be used by the program staff to evaluate my exercise status or needs.&quot;;\r\n            String p6 = &quot;By pressing YES, you agree to download the FULL version of Informed Consent Form, Sign It and provide it to the administration for verification later on.&quot;;\r\n    \r\n            SpannableString s1 = new SpannableString(p1);\r\n            SpannableString s2 = new SpannableString(p2);\r\n            SpannableString s3 = new SpannableString(p3);\r\n            SpannableString s4 = new SpannableString(p4);\r\n            SpannableString s6 = new SpannableString(p6);\r\n    \r\n            ForegroundColorSpan fcsRed = new ForegroundColorSpan(Color.RED);\r\n            ForegroundColorSpan fcsBlack = new ForegroundColorSpan(Color.BLACK);\r\n            UnderlineSpan underlineSpan = new UnderlineSpan();\r\n            StyleSpan boldSpan = new StyleSpan(Typeface.BOLD);\r\n            StyleSpan boldSpan2 = new StyleSpan(Typeface.BOLD);\r\n    \r\n            s1.setSpan(boldSpan, 0, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s1.setSpan(fcsBlack, 0, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s2.setSpan(boldSpan, 0, 5, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s2.setSpan(fcsBlack, 0, 40, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s3.setSpan(boldSpan, 0, 8, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s3.setSpan(fcsBlack, 0, 8, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s4.setSpan(boldSpan, 0, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s4.setSpan(fcsBlack, 0, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s6.setSpan(fcsRed, 0, 153, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s6.setSpan(boldSpan, 11, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s6.setSpan(boldSpan2, 81, 89, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            s6.setSpan(underlineSpan, 29, 55, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    \r\n            par1.setText(s1);\r\n            par2.setText(s2);\r\n            par3.setText(s3);\r\n            par4.setText(s4);\r\n            par6.setText(s6);\r\n    \r\n            consentBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dialog.setContentView(R.layout.privacy_cons_dialog);\r\n                    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n    \r\n                    progressBar = dialog.findViewById(R.id.progressBar);\r\n                    sendBtn = dialog.findViewById(R.id.btnSend);\r\n                    enterEmail = dialog.findViewById(R.id.emailPrivacyCons);\r\n                    messageEmail = dialog.findViewById(R.id.messagePrivacyCons);\r\n    \r\n                    sendBtn.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            \r\n                            if (enterEmail.getText().toString().isEmpty() || isEmailValid(enterEmail.getText().toString()) == false)\r\n                            {\r\n                                enterEmail.setError(&quot;Please enter a valid Email&quot;);\r\n                                enterEmail.requestFocus();\r\n                                valid_email = null;\r\n                            }\r\n                            else\r\n                            {\r\n                                progressBar.setVisibility(View.VISIBLE);\r\n                                final String usernameNoReply = &quot;noreply.sportscreen@gmail.com&quot;;\r\n                                final String usernameSportScreen = &quot;sportscreen.app@gmail.com&quot;;\r\n                                final String password = &quot;SportScreenApp123&quot;;\r\n    \r\n                                messageEmail.setText(&quot;Hello,\\n\\nClick the following link to Download the Full Version of Informed Consent form.\\n\\nhttps://www.exerciseismedicine.org/assets/page_documents/EIM%20informed%20consent.pdf&quot; +\r\n                                        &quot;\\n\\nPlease read this Informed Consent form carefully, and sign it freely and voluntary. &quot; +\r\n                                        &quot;\\nIf you give your consent, please provide the form (filled) printed to the Administration and via email for verification.&quot; +\r\n                                        &quot;\\n\\nTo send via email, please reply/send to this email.\\nSportScreen.&quot;);\r\n                                String messageToSend = messageEmail.getText().toString();\r\n                                Properties props = new Properties();\r\n                                props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                                props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n                                props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n                                props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n                                Session session = Session.getInstance(props,\r\n                                        new javax.mail.Authenticator(){\r\n                                            @Override\r\n                                            protected PasswordAuthentication getPasswordAuthentication() {\r\n                                                return new PasswordAuthentication(usernameSportScreen, password);\r\n                                            }\r\n                                        });\r\n                                try {\r\n                                    Message message = new MimeMessage(session);\r\n                                    message.setFrom(new InternetAddress(usernameSportScreen));\r\n                                    message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(enterEmail.getText().toString()));\r\n                                    message.setSubject(&quot;Informed Consent PDF File Link&quot;);\r\n                                    message.setText(messageToSend);\r\n                                    Transport.send(message);\r\n                                    msg =&quot;Email Send Successfully!&quot;;\r\n    \r\n                                    toastLayout();\r\n    \r\n                                    dialog.dismiss();\r\n    \r\n                                    Intent intent = new Intent(Temp_InformedConsent_Activity.this, RegisterActivity.class);\r\n                                    finish();\r\n                                    startActivity(intent);\r\n    \r\n                                }catch (MessagingException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                    StrictMode.setThreadPolicy(policy);\r\n                    dialog.show();\r\n    \r\n                    //String cons = &quot;YES&quot;;\r\n                    //database.insertToTempInformed(&quot;&quot;, cons);\r\n    \r\n                }\r\n            });\r\n    \r\n            denyBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    dialog.setContentView(R.layout.temp_dialog_layout);\r\n                    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n                    dialog.show();\r\n    \r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            finish();\r\n                        }\r\n                    }, 4000);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        boolean isEmailValid(CharSequence email) {\r\n            return android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n        }\r\n    \r\n        private Toast toastLayout()\r\n        {\r\n            Toast toast = Toast.makeText(Temp_InformedConsent_Activity.this, msg, Toast.LENGTH_SHORT);\r\n            View view = toast.getView();\r\n            view.setBackgroundResource(R.drawable.toast);\r\n            view.getBackground().setAlpha(180);\r\n            TextView text = (TextView) view.findViewById(android.R.id.message);\r\n    \r\n            text.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n            toast.setGravity(Gravity.BOTTOM,0,0);\r\n            toast.setMargin(0, 0.04f);\r\n            toast.show();\r\n            return toast;\r\n        }\r\n    \r\n    }\r\n\r\nAnd here is the xml file with the progressBar:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;350dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_gravity=&quot;center&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@color/light_Background&quot;&gt;\r\n    \r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/titleEmail&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;Get Link to PDF File&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;28sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageEmail&quot;\r\n                    android:layout_width=&quot;350dp&quot;\r\n                    android:layout_height=&quot;100dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/titleEmail&quot;\r\n                    app:srcCompat=&quot;@drawable/email_pdf&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView3&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;24dp&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:layout_marginEnd=&quot;24dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;Please enter your email&quot;\r\n                    android:textSize=&quot;21sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/imageEmail&quot; /&gt;\r\n    \r\n                &lt;soup.neumorphism.NeumorphCardView\r\n                    android:id=&quot;@+id/emailCardView&quot;\r\n                    style=&quot;@style/Widget.Neumorph.CardView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;70dp&quot;\r\n                    android:layout_marginLeft=&quot;15dp&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:layout_marginRight=&quot;15dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/textView3&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot;\r\n                    app:neumorph_shapeType=&quot;pressed&quot;&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/emailPrivacyCons&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_marginLeft=&quot;15dp&quot;\r\n                    android:layout_marginRight=&quot;15dp&quot;\r\n                    android:hint=&quot;Email&quot;\r\n                    android:inputType=&quot;textEmailAddress&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;/&gt;\r\n    \r\n                &lt;/soup.neumorphism.NeumorphCardView&gt;\r\n    \r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/messagePrivacyCons&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:gravity=&quot;start|top&quot;\r\n                    android:inputType=&quot;textMultiLine&quot;\r\n                    android:text=&quot;Hello,\\n\\nClick the following link to Download the Privacy Notice form.\\n\\n https://www.keepandshare.com/doc9/27716/privacy-notice-pdf-80k?da=y \\n\\nDo Not Reply to this Email.\\nSportScreen.&quot;\r\n                    android:visibility=&quot;invisible&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/emailCardView&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;@+id/textView3&quot;\r\n                    tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n    \r\n                &lt;soup.neumorphism.NeumorphCardView\r\n                    android:id=&quot;@+id/sendEmailBtnCardView&quot;\r\n                    style=&quot;@style/Widget.Neumorph.CardView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;70dp&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:layout_marginLeft=&quot;15dp&quot;\r\n                    android:layout_marginRight=&quot;15dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/textView3&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot;\r\n                    app:neumorph_backgroundColor=&quot;@color/textColor&quot;\r\n                    app:neumorph_shapeType=&quot;flat&quot;&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/btnSend&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:fontFamily=&quot;sans-serif-medium&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        android:text=&quot;SEND EMAIL&quot;\r\n                        android:textColor=&quot;#FFFFFF&quot;\r\n                        android:textSize=&quot;17sp&quot; /&gt;\r\n    \r\n                &lt;/soup.neumorphism.NeumorphCardView&gt;\r\n    \r\n                &lt;ProgressBar\r\n                    android:id=&quot;@+id/progressBar&quot;\r\n                    style=&quot;?android:attr/progressBarStyle&quot;\r\n                    android:layout_width=&quot;80dp&quot;\r\n                    android:layout_height=&quot;80dp&quot;\r\n                    android:layout_marginStart=&quot;136dp&quot;\r\n                    android:layout_marginTop=&quot;172dp&quot;\r\n                    android:indeterminateTint=&quot;@color/textColor&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    android:visibility=&quot;invisible&quot;/&gt;\r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n","title":"I have an issue with ProgressBar Widget","body":"<p>Basically I have a ConsentForm Activity that the user scrolls through and give their consent. Upon pressing the consent Btn (Yes) a dialog where they have to enter their email pops up. When they enter a valid email and press the send button the progressbar should load until the next activity opens. For some reason the progress bar never appears.</p>\n<p>Here is the Consent Activity:</p>\n<pre><code>package com.example.sport_screen.Consent_Activities;\n\nimport android.app.Dialog;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.graphics.Typeface;\nimport android.graphics.drawable.ColorDrawable;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.StrictMode;\nimport android.text.SpannableString;\nimport android.text.Spanned;\nimport android.text.style.ForegroundColorSpan;\nimport android.text.style.StyleSpan;\nimport android.text.style.UnderlineSpan;\nimport android.view.Gravity;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.sport_screen.Database.DBHelper;\nimport com.example.sport_screen.For_Admin.AdminActivity;\nimport com.example.sport_screen.LoginActivity;\nimport com.example.sport_screen.R;\nimport com.example.sport_screen.RegisterActivity;\nimport com.example.sport_screen.Utils;\nimport com.example.sport_screen.WelcomeActivity;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\nimport soup.neumorphism.NeumorphCardView;\n\npublic class Temp_InformedConsent_Activity extends AppCompatActivity {\n\n    NeumorphCardView denyBtn, consentBtn;\n    TextView par1, par2, par3, par4, par6, sendBtn;\n    Dialog dialog;\n    EditText enterEmail, messageEmail;\n    String valid_email, msg;\n    ProgressBar progressBar;\n    private long backPressedTime;\n    private Toast backToast;\n\n    @Override\n    public void onBackPressed() {\n\n        if (backPressedTime + 2000 &gt; System.currentTimeMillis()) {\n            backToast.cancel();\n            Intent intent = new Intent(Temp_InformedConsent_Activity.this, WelcomeActivity.class);\n            finish();\n            startActivity(intent);\n        } else {\n            msg = &quot;Press back again to logout&quot;;\n            backToast = toastLayout();\n            backToast.show();\n        }\n\n        backPressedTime = System.currentTimeMillis();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_temp_informed_consent);\n        DBHelper database = new DBHelper(this);\n        Utils.blackIconStatusBar(Temp_InformedConsent_Activity.this, R.color.light_Background);\n\n        dialog = new Dialog(this);\n\n        par1 = (TextView) findViewById(R.id.par1);\n        par2 = (TextView) findViewById(R.id.par2);\n        par3 = (TextView) findViewById(R.id.par3);\n        par4 = (TextView) findViewById(R.id.par4);\n        par6 = (TextView) findViewById(R.id.par6);\n\n        consentBtn = (NeumorphCardView) findViewById(R.id.consentBtn);\n        denyBtn = (NeumorphCardView) findViewById(R.id.denyBtn);\n\n        String p1 = &quot;Consent\\nTo voluntarily engage on an acceptable plan of personal fitness training. Follow the exact instructions regarding exercise, stress management and other health and fitness regarded programs. I have informed the trainer of any medication prescribed to me. I will allow a personal fitness trainer to periodically monitor performance and measure pulse, blood pressure etc. Allow physical touching and body positioning as required by the performed exercises.&quot;;\n        String p2 = &quot;Risks (I have be informed of possible..)\\nAbnormal blood pressure, fainting, dizziness, disorders of heart rhythm; and very rare cases: heart attack, stroke or even death. furthermore possible bodily injury, to muscles, ligaments, tendons and joints of the body.\\nI fully understand the risks but knowing them it is my desire to participate.&quot;;\n        String p3 = &quot;Benefits\\nUnderstand that if I closely follow the program instructions, that I will likely improve my exercise capacity and fitness level after a period of 3-6 months.&quot;;\n        String p4 = &quot;Confidentiality\\nAny obtained information will be treated in confidentiality, not revealed to any person. Any unidentifiable information might be used for research purposes. Any information obtained will be used by the program staff to evaluate my exercise status or needs.&quot;;\n        String p6 = &quot;By pressing YES, you agree to download the FULL version of Informed Consent Form, Sign It and provide it to the administration for verification later on.&quot;;\n\n        SpannableString s1 = new SpannableString(p1);\n        SpannableString s2 = new SpannableString(p2);\n        SpannableString s3 = new SpannableString(p3);\n        SpannableString s4 = new SpannableString(p4);\n        SpannableString s6 = new SpannableString(p6);\n\n        ForegroundColorSpan fcsRed = new ForegroundColorSpan(Color.RED);\n        ForegroundColorSpan fcsBlack = new ForegroundColorSpan(Color.BLACK);\n        UnderlineSpan underlineSpan = new UnderlineSpan();\n        StyleSpan boldSpan = new StyleSpan(Typeface.BOLD);\n        StyleSpan boldSpan2 = new StyleSpan(Typeface.BOLD);\n\n        s1.setSpan(boldSpan, 0, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s1.setSpan(fcsBlack, 0, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s2.setSpan(boldSpan, 0, 5, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s2.setSpan(fcsBlack, 0, 40, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s3.setSpan(boldSpan, 0, 8, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s3.setSpan(fcsBlack, 0, 8, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s4.setSpan(boldSpan, 0, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s4.setSpan(fcsBlack, 0, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s6.setSpan(fcsRed, 0, 153, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s6.setSpan(boldSpan, 11, 15, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s6.setSpan(boldSpan2, 81, 89, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        s6.setSpan(underlineSpan, 29, 55, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n\n        par1.setText(s1);\n        par2.setText(s2);\n        par3.setText(s3);\n        par4.setText(s4);\n        par6.setText(s6);\n\n        consentBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialog.setContentView(R.layout.privacy_cons_dialog);\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n                progressBar = dialog.findViewById(R.id.progressBar);\n                sendBtn = dialog.findViewById(R.id.btnSend);\n                enterEmail = dialog.findViewById(R.id.emailPrivacyCons);\n                messageEmail = dialog.findViewById(R.id.messagePrivacyCons);\n\n                sendBtn.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        \n                        if (enterEmail.getText().toString().isEmpty() || isEmailValid(enterEmail.getText().toString()) == false)\n                        {\n                            enterEmail.setError(&quot;Please enter a valid Email&quot;);\n                            enterEmail.requestFocus();\n                            valid_email = null;\n                        }\n                        else\n                        {\n                            progressBar.setVisibility(View.VISIBLE);\n                            final String usernameNoReply = &quot;noreply.sportscreen@gmail.com&quot;;\n                            final String usernameSportScreen = &quot;sportscreen.app@gmail.com&quot;;\n                            final String password = &quot;SportScreenApp123&quot;;\n\n                            messageEmail.setText(&quot;Hello,\\n\\nClick the following link to Download the Full Version of Informed Consent form.\\n\\nhttps://www.exerciseismedicine.org/assets/page_documents/EIM%20informed%20consent.pdf&quot; +\n                                    &quot;\\n\\nPlease read this Informed Consent form carefully, and sign it freely and voluntary. &quot; +\n                                    &quot;\\nIf you give your consent, please provide the form (filled) printed to the Administration and via email for verification.&quot; +\n                                    &quot;\\n\\nTo send via email, please reply/send to this email.\\nSportScreen.&quot;);\n                            String messageToSend = messageEmail.getText().toString();\n                            Properties props = new Properties();\n                            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n                            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n                            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n                            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n                            Session session = Session.getInstance(props,\n                                    new javax.mail.Authenticator(){\n                                        @Override\n                                        protected PasswordAuthentication getPasswordAuthentication() {\n                                            return new PasswordAuthentication(usernameSportScreen, password);\n                                        }\n                                    });\n                            try {\n                                Message message = new MimeMessage(session);\n                                message.setFrom(new InternetAddress(usernameSportScreen));\n                                message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(enterEmail.getText().toString()));\n                                message.setSubject(&quot;Informed Consent PDF File Link&quot;);\n                                message.setText(messageToSend);\n                                Transport.send(message);\n                                msg =&quot;Email Send Successfully!&quot;;\n\n                                toastLayout();\n\n                                dialog.dismiss();\n\n                                Intent intent = new Intent(Temp_InformedConsent_Activity.this, RegisterActivity.class);\n                                finish();\n                                startActivity(intent);\n\n                            }catch (MessagingException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    }\n                });\n                StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n                StrictMode.setThreadPolicy(policy);\n                dialog.show();\n\n                //String cons = &quot;YES&quot;;\n                //database.insertToTempInformed(&quot;&quot;, cons);\n\n            }\n        });\n\n        denyBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                dialog.setContentView(R.layout.temp_dialog_layout);\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n                dialog.show();\n\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        finish();\n                    }\n                }, 4000);\n\n            }\n        });\n    }\n\n\n\n    boolean isEmailValid(CharSequence email) {\n        return android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches();\n    }\n\n    private Toast toastLayout()\n    {\n        Toast toast = Toast.makeText(Temp_InformedConsent_Activity.this, msg, Toast.LENGTH_SHORT);\n        View view = toast.getView();\n        view.setBackgroundResource(R.drawable.toast);\n        view.getBackground().setAlpha(180);\n        TextView text = (TextView) view.findViewById(android.R.id.message);\n\n        text.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));\n        toast.setGravity(Gravity.BOTTOM,0,0);\n        toast.setMargin(0, 0.04f);\n        toast.show();\n        return toast;\n    }\n\n}\n</code></pre>\n<p>And here is the xml file with the progressBar:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;350dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_gravity=&quot;center&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:cardCornerRadius=&quot;20dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/light_Background&quot;&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/titleEmail&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;Get Link to PDF File&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;28sp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageEmail&quot;\n                android:layout_width=&quot;350dp&quot;\n                android:layout_height=&quot;100dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/titleEmail&quot;\n                app:srcCompat=&quot;@drawable/email_pdf&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView3&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;24dp&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:layout_marginEnd=&quot;24dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;Please enter your email&quot;\n                android:textSize=&quot;21sp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/imageEmail&quot; /&gt;\n\n            &lt;soup.neumorphism.NeumorphCardView\n                android:id=&quot;@+id/emailCardView&quot;\n                style=&quot;@style/Widget.Neumorph.CardView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;70dp&quot;\n                android:layout_marginLeft=&quot;15dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:layout_marginRight=&quot;15dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView3&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot;\n                app:neumorph_shapeType=&quot;pressed&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/emailPrivacyCons&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginLeft=&quot;15dp&quot;\n                android:layout_marginRight=&quot;15dp&quot;\n                android:hint=&quot;Email&quot;\n                android:inputType=&quot;textEmailAddress&quot;\n                android:background=&quot;@android:color/transparent&quot;/&gt;\n\n            &lt;/soup.neumorphism.NeumorphCardView&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/messagePrivacyCons&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:ems=&quot;10&quot;\n                android:gravity=&quot;start|top&quot;\n                android:inputType=&quot;textMultiLine&quot;\n                android:text=&quot;Hello,\\n\\nClick the following link to Download the Privacy Notice form.\\n\\n https://www.keepandshare.com/doc9/27716/privacy-notice-pdf-80k?da=y \\n\\nDo Not Reply to this Email.\\nSportScreen.&quot;\n                android:visibility=&quot;invisible&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/emailCardView&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/textView3&quot;\n                tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n            &lt;soup.neumorphism.NeumorphCardView\n                android:id=&quot;@+id/sendEmailBtnCardView&quot;\n                style=&quot;@style/Widget.Neumorph.CardView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;70dp&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:layout_marginLeft=&quot;15dp&quot;\n                android:layout_marginRight=&quot;15dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView3&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot;\n                app:neumorph_backgroundColor=&quot;@color/textColor&quot;\n                app:neumorph_shapeType=&quot;flat&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/btnSend&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:fontFamily=&quot;sans-serif-medium&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;SEND EMAIL&quot;\n                    android:textColor=&quot;#FFFFFF&quot;\n                    android:textSize=&quot;17sp&quot; /&gt;\n\n            &lt;/soup.neumorphism.NeumorphCardView&gt;\n\n            &lt;ProgressBar\n                android:id=&quot;@+id/progressBar&quot;\n                style=&quot;?android:attr/progressBarStyle&quot;\n                android:layout_width=&quot;80dp&quot;\n                android:layout_height=&quot;80dp&quot;\n                android:layout_marginStart=&quot;136dp&quot;\n                android:layout_marginTop=&quot;172dp&quot;\n                android:indeterminateTint=&quot;@color/textColor&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                android:visibility=&quot;invisible&quot;/&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","mysql","sql","spring-boot","jpa"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1652452953,"post_id":72231321,"comment_id":127617229,"body_markdown":"```where (column1, column2) IN ( (value11, value21), (value12, value22) )```","body":"<code>where (column1, column2) IN ( (value11, value21), (value12, value22) )</code>"}],"answers":[{"tags":[],"owner":{"account_id":8272775,"reputation":22390,"user_id":6219979,"display_name":"Serg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652453021,"creation_date":1652453021,"answer_id":72231419,"question_id":72231321,"body_markdown":" One way is using OR\r\n\r\n    select * \r\n    from table \r\n    where column1 = aa and column2 = 34 and column3 = df\r\n       or column1 = bb and column2 = 55 and column3 = fg\r\n       or ..","title":"How to write a query using multiple &#39;IN&#39; or any other keywords in SQL so that the condition being applied will be based upon the order defined","body":"<p>One way is using OR</p>\n<pre><code>select * \nfrom table \nwhere column1 = aa and column2 = 34 and column3 = df\n   or column1 = bb and column2 = 55 and column3 = fg\n   or ..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25283374,"reputation":27,"user_id":19110855,"display_name":"fCremer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652503279,"creation_date":1652453168,"answer_id":72231457,"question_id":72231321,"body_markdown":"You can fetch the first condition with IN (xx,xx,xx) to match and then use the operator AND\r\n\r\n    SELECT * FROM DB\r\n    WHERE column1 IN (aa, bb, cc) AND column2 = &quot;aa&quot; AND column3 = &quot;bb&quot; -- and so on","title":"How to write a query using multiple &#39;IN&#39; or any other keywords in SQL so that the condition being applied will be based upon the order defined","body":"<p>You can fetch the first condition with IN (xx,xx,xx) to match and then use the operator AND</p>\n<pre><code>SELECT * FROM DB\nWHERE column1 IN (aa, bb, cc) AND column2 = &quot;aa&quot; AND column3 = &quot;bb&quot; -- and so on\n</code></pre>\n"}],"owner":{"account_id":20177757,"reputation":43,"user_id":14798990,"display_name":"Ashish Bisht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652503279,"creation_date":1652452650,"question_id":72231321,"body_markdown":"I want to fetch records from the database as :\r\n```\r\nselect * from table where column1 IN (aa, bb , cc...) and column2 IN (34, 55, 66...) and column3 IN(df, fg, hh...);\r\n```\r\nso if I use this query it will fetch record for me based upon the combinations, for example it will give me a record where column1= aa, column2= 55, and column3 = hh. so this combination I don&#39;t want.\r\n\r\nI want the combinations to be as:\r\ncolumn1 =aa , column2 =34, column3=df.\r\n\r\nonly first data in IN statements to be matched, similarly second data of each In statements to be checked and so on. I don&#39;t need other combinations where in IN statement column1 first data is matched with column2 second data and fetch be the records. Or any other operator to use.\r\n\r\nMy main purpose is to use this Sql for JPA in java so that i can pass arrayList to respective IN statements and get the data as:\r\n```\r\nList&lt;Object&gt; tableList = findByColumn1InAndColumn2InAndColumn3In(arrayList1, arrayList2, arrayList3);\r\n```\r\nAny suggestions would be helpful. Thanks.","title":"How to write a query using multiple &#39;IN&#39; or any other keywords in SQL so that the condition being applied will be based upon the order defined","body":"<p>I want to fetch records from the database as :</p>\n<pre><code>select * from table where column1 IN (aa, bb , cc...) and column2 IN (34, 55, 66...) and column3 IN(df, fg, hh...);\n</code></pre>\n<p>so if I use this query it will fetch record for me based upon the combinations, for example it will give me a record where column1= aa, column2= 55, and column3 = hh. so this combination I don't want.</p>\n<p>I want the combinations to be as:\ncolumn1 =aa , column2 =34, column3=df.</p>\n<p>only first data in IN statements to be matched, similarly second data of each In statements to be checked and so on. I don't need other combinations where in IN statement column1 first data is matched with column2 second data and fetch be the records. Or any other operator to use.</p>\n<p>My main purpose is to use this Sql for JPA in java so that i can pass arrayList to respective IN statements and get the data as:</p>\n<pre><code>List&lt;Object&gt; tableList = findByColumn1InAndColumn2InAndColumn3In(arrayList1, arrayList2, arrayList3);\n</code></pre>\n<p>Any suggestions would be helpful. Thanks.</p>\n"},{"tags":["java","junit","junit4","junit5","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652502828,"creation_date":1652502828,"answer_id":72237373,"question_id":72236823,"body_markdown":"You would want to use Mocking to properly test this. \r\n\r\nFirst thing I&#39;d say is that you might want to look at instantiating your DAO outside of your method as it&#39;s not very testable right now. \r\n\r\nAfter that you&#39;d want to mock your UserDAOImpl and pass that into your class constructor where login method is. \r\n\r\nWith mockito you&#39;d need to mock your DAO and specify the object to return when a particular method is called\r\n```\r\nUserDAOImpl dao = Mockito.mock(UserDAOImpl.class);\r\nMockito.when(dao.findUser(&quot;testValueHere&quot;)).thenReturn(mockedUserObjectHere)\r\n```\r\n\r\nThis gives you a good starting spot but you&#39;d need to dig through mockito samples to understand and perhaps the docs https://site.mockito.org/","title":"How To Test Login Method In JUnit?","body":"<p>You would want to use Mocking to properly test this.</p>\n<p>First thing I'd say is that you might want to look at instantiating your DAO outside of your method as it's not very testable right now.</p>\n<p>After that you'd want to mock your UserDAOImpl and pass that into your class constructor where login method is.</p>\n<p>With mockito you'd need to mock your DAO and specify the object to return when a particular method is called</p>\n<pre><code>UserDAOImpl dao = Mockito.mock(UserDAOImpl.class);\nMockito.when(dao.findUser(&quot;testValueHere&quot;)).thenReturn(mockedUserObjectHere)\n</code></pre>\n<p>This gives you a good starting spot but you'd need to dig through mockito samples to understand and perhaps the docs <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">https://site.mockito.org/</a></p>\n"}],"owner":{"account_id":24702155,"reputation":37,"user_id":18593365,"display_name":"Sycan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652502828,"creation_date":1652494126,"question_id":72236823,"body_markdown":"I have been using white box testing with JUnit to test some methods that I have in my DAO Implementation class. I am trying to test the login functionality, which is defined in the Service Implementation class. This is how the method looks like.\r\n\r\n```@Override\r\n    public Message login(String userName, String password) {\r\n        String result;\r\n        String state;\r\n        UserDAO dao = new UserDAOImpl();\r\n        User user = null;\r\n        try {\r\n            user = dao.findUser(userName);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (user != null){\r\n            if (!password.equals(user.getPassword())){\r\n                state = WRONG;\r\n                result = Constant.Item.PASSWORD + Constant.Operation.IS + Constant.State.WRONG;\r\n            }else{\r\n                state = SUCCESS;\r\n                result = Constant.Item.USER + Constant.Operation.LOGIN + SUCCESS;\r\n            }\r\n        }else {\r\n            state = NOT_EXIST;\r\n            result = Constant.Item.USER + Constant.Operation.IS + Constant.State.NOT_EXIST;\r\n        }\r\n        Message message = new Message();\r\n        message.setState(state);\r\n        message.setDetail(result);\r\n        message.setData(user);\r\n        return message;\r\n    }\r\n```\r\n`\r\nHow can I test this method in JUnit? ","title":"How To Test Login Method In JUnit?","body":"<p>I have been using white box testing with JUnit to test some methods that I have in my DAO Implementation class. I am trying to test the login functionality, which is defined in the Service Implementation class. This is how the method looks like.</p>\n<pre><code>    public Message login(String userName, String password) {\n        String result;\n        String state;\n        UserDAO dao = new UserDAOImpl();\n        User user = null;\n        try {\n            user = dao.findUser(userName);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (user != null){\n            if (!password.equals(user.getPassword())){\n                state = WRONG;\n                result = Constant.Item.PASSWORD + Constant.Operation.IS + Constant.State.WRONG;\n            }else{\n                state = SUCCESS;\n                result = Constant.Item.USER + Constant.Operation.LOGIN + SUCCESS;\n            }\n        }else {\n            state = NOT_EXIST;\n            result = Constant.Item.USER + Constant.Operation.IS + Constant.State.NOT_EXIST;\n        }\n        Message message = new Message();\n        message.setState(state);\n        message.setDetail(result);\n        message.setData(user);\n        return message;\n    }\n</code></pre>\n<p>`\nHow can I test this method in JUnit?</p>\n"},{"tags":["java","spring","spring-boot","opensearch"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652500933,"creation_date":1652500933,"answer_id":72237262,"question_id":72235677,"body_markdown":"You&#39;re probably using a REST client version that is above 7.10.2 (version at which Opensearch made the fork). \r\n\r\nIf you downgrade your client to 7.10.2 or use the appropriate [Opensearch REST client](https://opensearch.org/docs/latest/clients/java-rest-high-level/), it will work again.","title":"ElasticsearchException invalid missing tagline - Opensearch","body":"<p>You're probably using a REST client version that is above 7.10.2 (version at which Opensearch made the fork).</p>\n<p>If you downgrade your client to 7.10.2 or use the appropriate <a href=\"https://opensearch.org/docs/latest/clients/java-rest-high-level/\" rel=\"nofollow noreferrer\">Opensearch REST client</a>, it will work again.</p>\n"}],"owner":{"account_id":1727868,"reputation":187,"user_id":1582142,"display_name":"thevoyager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72237262,"answer_count":1,"score":0,"last_activity_date":1652500933,"creation_date":1652478093,"question_id":72235677,"body_markdown":"Currently trying to start my app but unable because of this exception being thrown when starting app \r\n\r\n    Caused by: org.springframework.data.elasticsearch.UncategorizedElasticsearchException: Invalid or missing tagline [The OpenSearch Project: https://opensearch.org/]; nested exception is ElasticsearchException[Invalid or missing tagline [The OpenSearch Project: https://opensearch.org/]]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:72)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:427)\r\n\r\nThe dependencies used are:\r\n\r\n - Spring Boot 2.6.6\r\n - Spring Data Elasticsearch 4.3.3\r\n - Rest High Level client 7.5.12 (comes from Spring Data Elasticsearch)\r\n - Java11 &amp; Maven\r\n\r\ncode:\r\n\r\n    public interface MyRepo extends ElasticsearchRepository&lt;Document, String&gt; {\r\n\r\nconfig:\r\n    \r\n    @EnableElasticsearchRepositories(basePackages = &quot;repo.package&quot;)//where interface above is\r\n     ...\r\n    @Bean\r\n    public ClientConfiguration clientConfig() {\r\n        return ClientConfiguration.builder()\r\n                .connectedTo(elasticsearchUrl)\r\n                .usingSsl()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public RestHighLevelClient elasticsearchClient(ClientConfig clientConfiguration) {\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n    \r\n    @Bean\r\n    public ElasticsearchOperations elasticsearchTemplate(RestHighLevelClient restHighLevelClient) {\r\n        return new ElasticsearchRestTemplate(restHighLevelClient);\r\n    }\r\n\r\n\r\nI noticed there&#39;s a similar question but already trying to downgrade Spring Data Elasticsearch/Rest High Level client to almost every possible version and it didn&#39;t work for me (as suggested)\r\n\r\nAccording to Spring documentation here below, those versions should be the right ones for Spring Boot 2.6 .\r\nhttps://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions\r\n\r\nI&#39;m kinda lost here, anything else to try and fix?\r\nThanks","title":"ElasticsearchException invalid missing tagline - Opensearch","body":"<p>Currently trying to start my app but unable because of this exception being thrown when starting app</p>\n<pre><code>Caused by: org.springframework.data.elasticsearch.UncategorizedElasticsearchException: Invalid or missing tagline [The OpenSearch Project: https://opensearch.org/]; nested exception is ElasticsearchException[Invalid or missing tagline [The OpenSearch Project: https://opensearch.org/]]\nat org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:72)\nat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:427)\n</code></pre>\n<p>The dependencies used are:</p>\n<ul>\n<li>Spring Boot 2.6.6</li>\n<li>Spring Data Elasticsearch 4.3.3</li>\n<li>Rest High Level client 7.5.12 (comes from Spring Data Elasticsearch)</li>\n<li>Java11 &amp; Maven</li>\n</ul>\n<p>code:</p>\n<pre><code>public interface MyRepo extends ElasticsearchRepository&lt;Document, String&gt; {\n</code></pre>\n<p>config:</p>\n<pre><code>@EnableElasticsearchRepositories(basePackages = &quot;repo.package&quot;)//where interface above is\n ...\n@Bean\npublic ClientConfiguration clientConfig() {\n    return ClientConfiguration.builder()\n            .connectedTo(elasticsearchUrl)\n            .usingSsl()\n            .build();\n}\n\n@Bean\npublic RestHighLevelClient elasticsearchClient(ClientConfig clientConfiguration) {\n    return RestClients.create(clientConfiguration).rest();\n}\n\n@Bean\npublic ElasticsearchOperations elasticsearchTemplate(RestHighLevelClient restHighLevelClient) {\n    return new ElasticsearchRestTemplate(restHighLevelClient);\n}\n</code></pre>\n<p>I noticed there's a similar question but already trying to downgrade Spring Data Elasticsearch/Rest High Level client to almost every possible version and it didn't work for me (as suggested)</p>\n<p>According to Spring documentation here below, those versions should be the right ones for Spring Boot 2.6 .\n<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions</a></p>\n<p>I'm kinda lost here, anything else to try and fix?\nThanks</p>\n"},{"tags":["java","vaadin","vaadin-grid","vaadin23"],"comments":[{"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"score":0,"creation_date":1652483106,"post_id":72235594,"comment_id":127625379,"body_markdown":"Are you sure `item` is null? Maybe it&#39;s `event.getValue()`?","body":"Are you sure <code>item</code> is null? Maybe it&#39;s <code>event.getValue()</code>?"},{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":0,"creation_date":1652973844,"post_id":72235594,"comment_id":127742679,"body_markdown":"f.y.i. you can avoid having to remove unncessessary columns by initializing the grid like this `new Grid&lt;&gt;(Honey.class, false)`","body":"f.y.i. you can avoid having to remove unncessessary columns by initializing the grid like this <code>new Grid&lt;&gt;(Honey.class, false)</code>"},{"owner":{"account_id":21128826,"reputation":1,"user_id":15533632,"display_name":"M&#225;rton Szab&#243;"},"score":0,"creation_date":1653157798,"post_id":72235594,"comment_id":127784803,"body_markdown":"Thank you for the Grid initialization tip! Actually the problem was a Hibernate lazy initialization problem. The honeys List was not filled from the DB properly. I solved it, and my code works just fine.","body":"Thank you for the Grid initialization tip! Actually the problem was a Hibernate lazy initialization problem. The honeys List was not filled from the DB properly. I solved it, and my code works just fine."}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652480515,"creation_date":1652480515,"answer_id":72235911,"question_id":72235594,"body_markdown":"check docs [here][1] to see components and usage of them, the reason of NPE that you get is item might not be initialised, what you are trying to do now is assign some property that you don&#39;t have any value of it in ```item```  to ```new NumberField(...)``` \r\n\r\nthe lambda expression will already assign ```new NumberField(...)``` to ``&#236;tem`` at the end \r\n\r\n  [1]: https://vaadin.com/docs/latest/ds/components","title":"How to initialize an entity which is represented by a Vaadin Grid&#39;s row?","body":"<p>check docs <a href=\"https://vaadin.com/docs/latest/ds/components\" rel=\"nofollow noreferrer\">here</a> to see components and usage of them, the reason of NPE that you get is item might not be initialised, what you are trying to do now is assign some property that you don't have any value of it in <code>item</code>  to <code>new NumberField(...)</code></p>\n<p>the lambda expression will already assign <code>new NumberField(...)</code> to <code>ìtem</code> at the end</p>\n"}],"owner":{"account_id":21128826,"reputation":1,"user_id":15533632,"display_name":"M&#225;rton Szab&#243;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652500057,"creation_date":1652477327,"question_id":72235594,"body_markdown":"I use `Vaadin` framework v23 for my project.\r\n\r\nA wanted to add a component column to one of my Grids, a number field. My Grid&#39;s rows are representing an entity from the database my program connected to.\r\nI ask for an input from the user, and I want to write that input back to the DB.\r\nI found this solution at several sites:\r\n\r\n\r\n    private Grid&lt;Honey&gt; initHoneyGrid() {\r\n        Grid&lt;Honey&gt; honeyGrid = new Grid&lt;&gt;(Honey.class);\r\n\r\n        honeyGrid.setItems(honeys);\r\n        honeyGrid.removeColumnByKey(&quot;id&quot;);\r\n        honeyGrid.removeColumnByKey(&quot;quantityPacked&quot;);\r\n        honeyGrid.removeColumnByKey(&quot;flatCost&quot;);\r\n        honeyGrid.removeColumnByKey(&quot;sellingPrice&quot;);\r\n        honeyGrid.setColumns(&quot;kindOfHoney&quot;, &quot;weight&quot;, &quot;quantityBack&quot;);\r\n\r\n        honeyGrid.addComponentColumn(item -&gt; new NumberField(&quot;Set the quantity you brought back&#39;&quot;, event -&gt; {\r\n            item.setQuantityBack(event.getValue().intValue());\r\n            honeyService.updateHoney(item);\r\n            honeyGrid.getDataProvider().refreshAll();\r\n        }));\r\n\r\n        return honeyGrid;\r\n    }\r\n\r\n\r\nHowever, the variable &quot;item&quot; throws NullPointerException. The &quot;honeys&quot; variable is an ArrayList, which is filled from the DB directly. I use Spring Boot JPA to access the database. How can I avoid it?","title":"How to initialize an entity which is represented by a Vaadin Grid&#39;s row?","body":"<p>I use <code>Vaadin</code> framework v23 for my project.</p>\n<p>A wanted to add a component column to one of my Grids, a number field. My Grid's rows are representing an entity from the database my program connected to.\nI ask for an input from the user, and I want to write that input back to the DB.\nI found this solution at several sites:</p>\n<pre><code>private Grid&lt;Honey&gt; initHoneyGrid() {\n    Grid&lt;Honey&gt; honeyGrid = new Grid&lt;&gt;(Honey.class);\n\n    honeyGrid.setItems(honeys);\n    honeyGrid.removeColumnByKey(&quot;id&quot;);\n    honeyGrid.removeColumnByKey(&quot;quantityPacked&quot;);\n    honeyGrid.removeColumnByKey(&quot;flatCost&quot;);\n    honeyGrid.removeColumnByKey(&quot;sellingPrice&quot;);\n    honeyGrid.setColumns(&quot;kindOfHoney&quot;, &quot;weight&quot;, &quot;quantityBack&quot;);\n\n    honeyGrid.addComponentColumn(item -&gt; new NumberField(&quot;Set the quantity you brought back'&quot;, event -&gt; {\n        item.setQuantityBack(event.getValue().intValue());\n        honeyService.updateHoney(item);\n        honeyGrid.getDataProvider().refreshAll();\n    }));\n\n    return honeyGrid;\n}\n</code></pre>\n<p>However, the variable &quot;item&quot; throws NullPointerException. The &quot;honeys&quot; variable is an ArrayList, which is filled from the DB directly. I use Spring Boot JPA to access the database. How can I avoid it?</p>\n"},{"tags":["java","class","methods","service"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1452020448,"post_id":34619221,"comment_id":56983973,"body_markdown":"&quot;Service class&quot; is not a universally known OO or Java concept. That means whatever the author of your book has decided it means in the context of his book. Regarding the order of fields and methods, that&#39;s up to you, but the conventional order is generally fields, constructors, methods.","body":"&quot;Service class&quot; is not a universally known OO or Java concept. That means whatever the author of your book has decided it means in the context of his book. Regarding the order of fields and methods, that&#39;s up to you, but the conventional order is generally fields, constructors, methods."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":1,"creation_date":1452020494,"post_id":34619221,"comment_id":56984007,"body_markdown":"I&#39;m agree with @JBNizet, and I think this question is too broad","body":"I&#39;m agree with @JBNizet, and I think this question is too broad"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1452022310,"post_id":34619221,"comment_id":56985073,"body_markdown":"you might try reading [service layer and controller who takes care of what](http://stackoverflow.com/a/3885783/217324).","body":"you might try reading <a href=\"http://stackoverflow.com/a/3885783/217324\">service layer and controller who takes care of what</a>."}],"answers":[{"tags":[],"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1452020610,"creation_date":1452020610,"answer_id":34619360,"question_id":34619221,"body_markdown":"There is no hard definition for what you&#39;re asking about, only &#39;general practices&#39; that people adhere to more or less, depending on the circumstance.\r\n\r\nTypically, a &#39;service&#39; class handles requests from a user of some sort, encapsulating business logic and persistence away from the action being taken.\r\n\r\nFor instance, a user wants to buy an item. The service class exposes some method `buy(Item item)`. The service class was instantiated with some notion of who is taking the action. It does all the &#39;heavy lifting&#39; of marking that the item is bought, of calling the class that handles the money transfer, of calling the class responsible for placing a &#39;receipt&#39; in the user&#39;s data, etc. \r\n\r\nWhat it does *not* do is any of these things directly. It does not write to the database, but defers to the `User`, `Item`, `Inventory` and `Receipt` classes as needed, who all know how to persist their own information. (Or it talks to a database service that does this.) A &#39;service&#39; class really glues together a lot of lower-level functionality.\r\n\r\nThe reason you do this in a service class is for code base structure. For instance, if you have an `Item` object, it might be modified by a sale, by an administrator reducing the price, by an employee marking it as missing, etc. You could put all these methods into one class, but then where do you go when you want to update the checkout process? It becomes painful. Instead, you have different services: `PurchaseService`, `InventoryManagementService`, etc. The particular services are dependent on your use-case, and where it makes sense to logically divide things up: for instance, it can be by action category (&#39;Purchase&#39;) or it could be by user type (&#39;CustomerService&#39;, &#39;OwnerService&#39;, &#39;EmployeeService&#39;, etc.) in order to make things like handling different permissions easier.\r\n\r\nFurther, there is no reason for the service class to care about the particulars of how or where the data is ultimately stored. It should be &#39;agnostic&#39; to details about the database, or files, or what have you. It&#39;s really only manipulating the specific classes that actually have that responsibility. Remember: each class should really only have a single domain of responsibility. If a class talks to the database, it should not be doing &#39;business logic&#39; of also calculating, for example, the tax owed on a purchase.\r\n\r\nNote that the Java **language** in no way enforces any of these practices. They are just things that people do in order to provide additional structure and make their life easier. The compiler does not care.\r\n\r\nWhat you mean by &#39;template&#39; is unclear, but the template you lay out is really a template for *any* class, and thus isn&#39;t constrained to this context.","title":"A Few Questions About Service Classes","body":"<p>There is no hard definition for what you're asking about, only 'general practices' that people adhere to more or less, depending on the circumstance.</p>\n\n<p>Typically, a 'service' class handles requests from a user of some sort, encapsulating business logic and persistence away from the action being taken.</p>\n\n<p>For instance, a user wants to buy an item. The service class exposes some method <code>buy(Item item)</code>. The service class was instantiated with some notion of who is taking the action. It does all the 'heavy lifting' of marking that the item is bought, of calling the class that handles the money transfer, of calling the class responsible for placing a 'receipt' in the user's data, etc. </p>\n\n<p>What it does <em>not</em> do is any of these things directly. It does not write to the database, but defers to the <code>User</code>, <code>Item</code>, <code>Inventory</code> and <code>Receipt</code> classes as needed, who all know how to persist their own information. (Or it talks to a database service that does this.) A 'service' class really glues together a lot of lower-level functionality.</p>\n\n<p>The reason you do this in a service class is for code base structure. For instance, if you have an <code>Item</code> object, it might be modified by a sale, by an administrator reducing the price, by an employee marking it as missing, etc. You could put all these methods into one class, but then where do you go when you want to update the checkout process? It becomes painful. Instead, you have different services: <code>PurchaseService</code>, <code>InventoryManagementService</code>, etc. The particular services are dependent on your use-case, and where it makes sense to logically divide things up: for instance, it can be by action category ('Purchase') or it could be by user type ('CustomerService', 'OwnerService', 'EmployeeService', etc.) in order to make things like handling different permissions easier.</p>\n\n<p>Further, there is no reason for the service class to care about the particulars of how or where the data is ultimately stored. It should be 'agnostic' to details about the database, or files, or what have you. It's really only manipulating the specific classes that actually have that responsibility. Remember: each class should really only have a single domain of responsibility. If a class talks to the database, it should not be doing 'business logic' of also calculating, for example, the tax owed on a purchase.</p>\n\n<p>Note that the Java <strong>language</strong> in no way enforces any of these practices. They are just things that people do in order to provide additional structure and make their life easier. The compiler does not care.</p>\n\n<p>What you mean by 'template' is unclear, but the template you lay out is really a template for <em>any</em> class, and thus isn't constrained to this context.</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452020787,"creation_date":1452020787,"answer_id":34619395,"question_id":34619221,"body_markdown":"A service class can be thought of as a way of a client to interact with some functionality in the application. The is typically public, with some business meaning. For example, a Employee class might have properties such as employeeId, firstName, lastName, address which should be declared as private. And then there should be accessor methods for those known as setters and getters. Now there should be an overriden hashcode and equals method to find equality between objects. There may or may not be any business rule in the service classes , depending on the design pattern you plan to use. One should also override the toString method in this object.\r\nHelpers are advised to be written in separate helper classes. \r\nA simple example could be a MVC pattern where you can think of Models as the service classes and Controller as the helper classes (though they are not exactly same). \r\nFor more information about the topics you can refer to the following links :\r\n\r\n 1. [getters and setters][1]\r\n 2. [Equals and HashCode][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html\r\n  [2]: http://crunchify.com/how-to-override-equals-and-hashcode-method-in-java/","title":"A Few Questions About Service Classes","body":"<p>A service class can be thought of as a way of a client to interact with some functionality in the application. The is typically public, with some business meaning. For example, a Employee class might have properties such as employeeId, firstName, lastName, address which should be declared as private. And then there should be accessor methods for those known as setters and getters. Now there should be an overriden hashcode and equals method to find equality between objects. There may or may not be any business rule in the service classes , depending on the design pattern you plan to use. One should also override the toString method in this object.\nHelpers are advised to be written in separate helper classes. \nA simple example could be a MVC pattern where you can think of Models as the service classes and Controller as the helper classes (though they are not exactly same). \nFor more information about the topics you can refer to the following links :</p>\n\n<ol>\n<li><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html\" rel=\"nofollow\">getters and setters</a></li>\n<li><a href=\"http://crunchify.com/how-to-override-equals-and-hashcode-method-in-java/\" rel=\"nofollow\">Equals and HashCode</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1452022772,"creation_date":1452021135,"answer_id":34619493,"question_id":34619221,"body_markdown":"It used to be a popular practice to place behaviour methods not inside classes holding data, but in separate classes called services (sometimes also called managers or handlers). \r\n\r\nThe biggest problem with this approach is that it leads to procedural (not object-oriented) design as your domain classes are just bags with getters and setters and all the logic of your application is inside service classes. More about the [Anemic Domain Model anti-pattern][1].\r\n\r\nPlease note that does not mean, you should not have service classes in your application at all. When they should be used is described in the provided link.\r\n\r\n  [1]: http://www.martinfowler.com/bliki/AnemicDomainModel.html","title":"A Few Questions About Service Classes","body":"<p>It used to be a popular practice to place behaviour methods not inside classes holding data, but in separate classes called services (sometimes also called managers or handlers). </p>\n\n<p>The biggest problem with this approach is that it leads to procedural (not object-oriented) design as your domain classes are just bags with getters and setters and all the logic of your application is inside service classes. More about the <a href=\"http://www.martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"noreferrer\">Anemic Domain Model anti-pattern</a>.</p>\n\n<p>Please note that does not mean, you should not have service classes in your application at all. When they should be used is described in the provided link.</p>\n"},{"tags":[],"owner":{"account_id":14676286,"reputation":59,"user_id":10599223,"display_name":"J T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652499972,"creation_date":1652499972,"answer_id":72237198,"question_id":34619221,"body_markdown":"I know this is an old post, but I hope this helps you or others who come across it.\r\n\r\n&gt; 1. What is the definition of a service class? The book I am learning from does not define them and I have had trouble finding a definition online.\r\n\r\nEveryone&#39;s definition is either very specific or very general. I take the general definition of, &quot;a service class separates your business logic from other classes that you want to be reusable throughout an app&quot;. \r\n\r\n&gt; 2. Why would we want to use a separate service class when all the methods can be written in one class?\r\n\r\nUsing the below as an example. Say you&#39;re building a GUI. You&#39;ll have,\r\n\r\n 1. View class - creates your visuals for your gui.\r\n 2. Controller class - contains the methods and functions for interacting with the view. (passing objects to the view from the DAO and vice versa, but ideally the DAO should be replaced by a service class).\r\n 3. DAO class - handles the actual CRUD operations in a database (ideally light weight and little if any business logic).\r\n\r\nSuppose your app needs to return a record. Your controller calls the Dao, gets the record and sends it to the view. Simple, until you need to do more with the record as part of a process, like getUser(), isUserActive(), sendAccountDisabledEmail(), updateUser(), removeUserAssignedProjects()... \r\n\r\nWhere would you put that code? \r\n\r\nYou wouldn&#39;t put it in the view, because of separation of concerns, other classes couldn&#39;t use the methods, readability and just plain tight coupling making changes harder. You can put it in the controller, but other classes wouldn&#39;t be able to reference those functions, and again, readability and tight coupling. You could put it in your Dao, and it would allow other classes to make use of the Dao and those operations, but now anytime you need to change something internal to the Dao, you risk breaking the Dao, you will have a big class that may be too hard to read and what would you do if you want to reference another Dao? At this point the Dao is doing too much.\r\n\r\nIdeally, you would create a &quot;service&quot; class that handles all business logic for a group of operations. The benefit is you now have a place to call other classes (DAO&#39;s including other service classes) and have them interact with each other. Chances are you would refactor anyway to using &quot;service&quot; classes as your app grows and becomes harder to refactor without breaking other classes.\r\n\r\nI&#39;m not saying everything needs a service or has to use a service, because sometimes you can just call the DAO directly for simple things, but it&#39;s just a lot easier to manage your app if you have a consistent class hierarchy with a service layer from the start (aka don&#39;t put business logic in your DAO or reference other DAO&#39;s in your DAO).\r\n\r\n&gt; Should all service classes follow the structure of:\r\n&gt; \r\n&gt; Instance variables.\r\n&gt; \r\n&gt; Default and non-default constructors\r\n&gt; \r\n&gt; Accessor and mutator methods\r\n&gt; \r\n&gt; toString method\r\n&gt; \r\n&gt; Equals method\r\n&gt; \r\n&gt; Other help methods as required\r\n&gt; \r\n&gt; Or can service classes serve as something other than as a template for\r\n&gt; objects?\r\n\r\nThis is very broad and it really depends on what your trying to do. Services can be instantiated for an operation and discarded, or manage states through it&#39;s own methods or others classes. The key being, as long as your class is &quot;orchestrating&quot; and not actually playing any tunes, then I&#39;d feel comfortable accepting it as a service class.","title":"A Few Questions About Service Classes","body":"<p>I know this is an old post, but I hope this helps you or others who come across it.</p>\n<blockquote>\n<ol>\n<li>What is the definition of a service class? The book I am learning from does not define them and I have had trouble finding a definition online.</li>\n</ol>\n</blockquote>\n<p>Everyone's definition is either very specific or very general. I take the general definition of, &quot;a service class separates your business logic from other classes that you want to be reusable throughout an app&quot;.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Why would we want to use a separate service class when all the methods can be written in one class?</li>\n</ol>\n</blockquote>\n<p>Using the below as an example. Say you're building a GUI. You'll have,</p>\n<ol>\n<li>View class - creates your visuals for your gui.</li>\n<li>Controller class - contains the methods and functions for interacting with the view. (passing objects to the view from the DAO and vice versa, but ideally the DAO should be replaced by a service class).</li>\n<li>DAO class - handles the actual CRUD operations in a database (ideally light weight and little if any business logic).</li>\n</ol>\n<p>Suppose your app needs to return a record. Your controller calls the Dao, gets the record and sends it to the view. Simple, until you need to do more with the record as part of a process, like getUser(), isUserActive(), sendAccountDisabledEmail(), updateUser(), removeUserAssignedProjects()...</p>\n<p>Where would you put that code?</p>\n<p>You wouldn't put it in the view, because of separation of concerns, other classes couldn't use the methods, readability and just plain tight coupling making changes harder. You can put it in the controller, but other classes wouldn't be able to reference those functions, and again, readability and tight coupling. You could put it in your Dao, and it would allow other classes to make use of the Dao and those operations, but now anytime you need to change something internal to the Dao, you risk breaking the Dao, you will have a big class that may be too hard to read and what would you do if you want to reference another Dao? At this point the Dao is doing too much.</p>\n<p>Ideally, you would create a &quot;service&quot; class that handles all business logic for a group of operations. The benefit is you now have a place to call other classes (DAO's including other service classes) and have them interact with each other. Chances are you would refactor anyway to using &quot;service&quot; classes as your app grows and becomes harder to refactor without breaking other classes.</p>\n<p>I'm not saying everything needs a service or has to use a service, because sometimes you can just call the DAO directly for simple things, but it's just a lot easier to manage your app if you have a consistent class hierarchy with a service layer from the start (aka don't put business logic in your DAO or reference other DAO's in your DAO).</p>\n<blockquote>\n<p>Should all service classes follow the structure of:</p>\n<p>Instance variables.</p>\n<p>Default and non-default constructors</p>\n<p>Accessor and mutator methods</p>\n<p>toString method</p>\n<p>Equals method</p>\n<p>Other help methods as required</p>\n<p>Or can service classes serve as something other than as a template for\nobjects?</p>\n</blockquote>\n<p>This is very broad and it really depends on what your trying to do. Services can be instantiated for an operation and discarded, or manage states through it's own methods or others classes. The key being, as long as your class is &quot;orchestrating&quot; and not actually playing any tunes, then I'd feel comfortable accepting it as a service class.</p>\n"}],"owner":{"account_id":7323068,"reputation":574,"user_id":5578417,"accept_rate":59,"display_name":"Zampan&#242;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15325,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34619360,"answer_count":4,"score":6,"last_activity_date":1652499972,"creation_date":1452020066,"question_id":34619221,"body_markdown":"I have been learning to use service classes as templates for creating and modifying the values of an object.\n\nMy questions are as follows:\n\n1. What is the definition of a service class? The book I am learning from does not define them and I have had trouble finding a definition online. \n\n2. Why would we want to use a separate service class when all the methods can be written in one class?\n\n3. Should all service classes follow the structure of:\n\n&gt;Instance variables.\n&gt;\n&gt;Default and non-default constructors\n&gt;\n&gt;Accessor and mutator methods\n&gt;\n&gt;toString method\n&gt;\n&gt;Equals method\n&gt;\n&gt;Other help methods as required\n\nOr can service classes serve as something other than as a template for objects?","title":"A Few Questions About Service Classes","body":"<p>I have been learning to use service classes as templates for creating and modifying the values of an object.</p>\n<p>My questions are as follows:</p>\n<ol>\n<li><p>What is the definition of a service class? The book I am learning from does not define them and I have had trouble finding a definition online.</p>\n</li>\n<li><p>Why would we want to use a separate service class when all the methods can be written in one class?</p>\n</li>\n<li><p>Should all service classes follow the structure of:</p>\n</li>\n</ol>\n<blockquote>\n<p>Instance variables.</p>\n<p>Default and non-default constructors</p>\n<p>Accessor and mutator methods</p>\n<p>toString method</p>\n<p>Equals method</p>\n<p>Other help methods as required</p>\n</blockquote>\n<p>Or can service classes serve as something other than as a template for objects?</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":436332,"reputation":189,"user_id":823434,"accept_rate":80,"display_name":"Vic"},"score":7,"creation_date":1315815008,"post_id":7384908,"comment_id":8916990,"body_markdown":"You get an IndexOutOfBoundsException because the list is empty and you cannot access a list position that doesn&#39;t exist...","body":"You get an IndexOutOfBoundsException because the list is empty and you cannot access a list position that doesn&#39;t exist..."},{"owner":{"account_id":281986,"reputation":6892,"user_id":578615,"accept_rate":100,"display_name":"J. Maes"},"score":1,"creation_date":1315815412,"post_id":7384908,"comment_id":8917085,"body_markdown":"Is there a way to create that position without filling the list with null objects? To me it seems like it&#39;s a really weird solution.","body":"Is there a way to create that position without filling the list with null objects? To me it seems like it&#39;s a really weird solution."},{"owner":{"account_id":436332,"reputation":189,"user_id":823434,"accept_rate":80,"display_name":"Vic"},"score":1,"creation_date":1315815639,"post_id":7384908,"comment_id":8917142,"body_markdown":"I don&#39;t think so... If you need to add the objects in a random order, you would have to look for another way of doing it.. For example with a typical array: &#39;Object[]&#39; and then you shouldn&#39;t have to fill it, just initialize","body":"I don&#39;t think so... If you need to add the objects in a random order, you would have to look for another way of doing it.. For example with a typical array: &#39;Object[]&#39; and then you shouldn&#39;t have to fill it, just initialize"},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1315816059,"post_id":7384908,"comment_id":8917238,"body_markdown":"@Maethortje it is not really a weird problem. Look up sparse lists, http://reference.wolfram.com/mathematica/tutorial/SparseArrays-ManipulatingLists.html seems a good article. In Java though, a Map with index as key might be the easiest approach.","body":"@Maethortje it is not really a weird problem. Look up sparse lists, <a href=\"http://reference.wolfram.com/mathematica/tutorial/SparseArrays-ManipulatingLists.html\" rel=\"nofollow noreferrer\">reference.wolfram.com/mathematica/tutorial/&hellip;</a> seems a good article. In Java though, a Map with index as key might be the easiest approach."},{"owner":{"account_id":1463758,"reputation":106,"user_id":1377285,"accept_rate":60,"display_name":"dsfdf"},"score":0,"creation_date":1359089053,"post_id":7384908,"comment_id":20236835,"body_markdown":"@Vic Even when i declare an arraylist with a size? you still can&#39;t access the index? I just got this kinda error also outofbounds, so the reason is the same? thanks","body":"@Vic Even when i declare an arraylist with a size? you still can&#39;t access the index? I just got this kinda error also outofbounds, so the reason is the same? thanks"},{"owner":{"account_id":436332,"reputation":189,"user_id":823434,"accept_rate":80,"display_name":"Vic"},"score":2,"creation_date":1359966974,"post_id":7384908,"comment_id":20528132,"body_markdown":"@Pan Even if you declare the size.. It just does not initialize the list, but declare how many space you want to reserve in memory.. As I see it, a list is an array of elements which also has a pointer to the next element. If you try to add an element into the third position when you have the second empty (or null) you have no pointer to help you know it is the third element..: 1-&gt;2-&gt;3 is OK, but 1-&gt;*-&gt;3 here you have a problem...","body":"@Pan Even if you declare the size.. It just does not initialize the list, but declare how many space you want to reserve in memory.. As I see it, a list is an array of elements which also has a pointer to the next element. If you try to add an element into the third position when you have the second empty (or null) you have no pointer to help you know it is the third element..: 1-&gt;2-&gt;3 is OK, but 1-&gt;*-&gt;3 here you have a problem..."}],"answers":[{"tags":[],"owner":{"account_id":426815,"reputation":8635,"user_id":808244,"accept_rate":90,"display_name":"superM"},"down_vote_count":2,"up_vote_count":236,"is_accepted":true,"score":234,"last_activity_date":1315815343,"creation_date":1315814947,"answer_id":7384948,"question_id":7384908,"body_markdown":"You can do it like this:\r\n\r\n    list.add(1, object1)\r\n    list.add(2, object3)\r\n    list.add(2, object2)\r\nAfter you add object2 to position 2, it will move object3 to position 3.\r\n\r\nIf you want object3 to be at position3 all the time I&#39;d suggest you use a HashMap with position as key and object as a value.","title":"Add object to ArrayList at specified index","body":"<p>You can do it like this:</p>\n\n<pre><code>list.add(1, object1)\nlist.add(2, object3)\nlist.add(2, object2)\n</code></pre>\n\n<p>After you add object2 to position 2, it will move object3 to position 3.</p>\n\n<p>If you want object3 to be at position3 all the time I'd suggest you use a HashMap with position as key and object as a value.</p>\n"},{"tags":[],"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1484585859,"creation_date":1315814951,"answer_id":7384949,"question_id":7384908,"body_markdown":"If that&#39;s the case then why don&#39;t you consider using a regular Array, initialize the capacity and put objects at the index you want.\r\n\r\n    Object[] list = new Object[10];\r\n    \r\n    list[0] = object1;\r\n    list[2] = object3;\r\n    list[1] = object2;\r\n","title":"Add object to ArrayList at specified index","body":"<p>If that's the case then why don't you consider using a regular Array, initialize the capacity and put objects at the index you want.</p>\n\n<pre><code>Object[] list = new Object[10];\n\nlist[0] = object1;\nlist[2] = object3;\nlist[1] = object2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1315815173,"creation_date":1315815173,"answer_id":7384984,"question_id":7384908,"body_markdown":"I draw your attention to the [`ArrayList.add` documentation][1], which says it throws    `IndexOutOfBoundsException` - if the index is out of range (`index &lt; 0 || index &gt; size()`)\r\n\r\nCheck the `size()` of your list before you call `list.add(1, object1)`\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#add%28int,%20E%29","title":"Add object to ArrayList at specified index","body":"<p>I draw your attention to the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#add%28int,%20E%29\"><code>ArrayList.add</code> documentation</a>, which says it throws    <code>IndexOutOfBoundsException</code> - if the index is out of range (<code>index &lt; 0 || index &gt; size()</code>)</p>\n\n<p>Check the <code>size()</code> of your list before you call <code>list.add(1, object1)</code></p>\n"},{"tags":[],"owner":{"account_id":210487,"reputation":2030,"user_id":462123,"accept_rate":90,"display_name":"Sankalp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315815195,"creation_date":1315815195,"answer_id":7384990,"question_id":7384908,"body_markdown":"    @Maethortje \r\n    \r\n    The problem here is java creates an empty list when you called new ArrayList and \r\nwhile trying to add an element at specified position you got IndexOutOfBound ,\r\nso the list should have some elements at their position.\r\n\r\nPlease try following\r\n\r\n    \r\n    /*\r\n      Add an element to specified index of Java ArrayList Example\r\n      This Java Example shows how to add an element at specified index of java\r\n      ArrayList object using add method.\r\n    */\r\n     \r\n    import java.util.ArrayList;\r\n     \r\n    public class AddElementToSpecifiedIndexArrayListExample {\r\n     \r\n      public static void main(String[] args) {\r\n        //create an ArrayList object\r\n        ArrayList arrayList = new ArrayList();\r\n     \r\n        //Add elements to Arraylist\r\n        arrayList.add(&quot;1&quot;);\r\n        arrayList.add(&quot;2&quot;);\r\n        arrayList.add(&quot;3&quot;);\r\n     \r\n        /*\r\n          To add an element at the specified index of ArrayList use\r\n          void add(int index, Object obj) method.\r\n          This method inserts the specified element at the specified index in the\r\n          ArrayList.  \r\n        */\r\n        arrayList.add(1,&quot;INSERTED ELEMENT&quot;);\r\n     \r\n        /*\r\n          Please note that add method DOES NOT overwrites the element previously\r\n          at the specified index in the list. It shifts the elements to right side\r\n          and increasing the list size by 1.\r\n        */\r\n     \r\n        System.out.println(&quot;ArrayList contains...&quot;);\r\n        //display elements of ArrayList\r\n        for(int index=0; index &lt; arrayList.size(); index++)\r\n          System.out.println(arrayList.get(index));\r\n     \r\n      }\r\n    }\r\n     \r\n    /*\r\n    Output would be\r\n    ArrayList contains...\r\n    1\r\n    INSERTED ELEMENT\r\n    2\r\n    3\r\n    \r\n    */","title":"Add object to ArrayList at specified index","body":"<pre><code>@Maethortje \n\nThe problem here is java creates an empty list when you called new ArrayList and \n</code></pre>\n\n<p>while trying to add an element at specified position you got IndexOutOfBound ,\nso the list should have some elements at their position.</p>\n\n<p>Please try following</p>\n\n<pre><code>/*\n  Add an element to specified index of Java ArrayList Example\n  This Java Example shows how to add an element at specified index of java\n  ArrayList object using add method.\n*/\n\nimport java.util.ArrayList;\n\npublic class AddElementToSpecifiedIndexArrayListExample {\n\n  public static void main(String[] args) {\n    //create an ArrayList object\n    ArrayList arrayList = new ArrayList();\n\n    //Add elements to Arraylist\n    arrayList.add(\"1\");\n    arrayList.add(\"2\");\n    arrayList.add(\"3\");\n\n    /*\n      To add an element at the specified index of ArrayList use\n      void add(int index, Object obj) method.\n      This method inserts the specified element at the specified index in the\n      ArrayList.  \n    */\n    arrayList.add(1,\"INSERTED ELEMENT\");\n\n    /*\n      Please note that add method DOES NOT overwrites the element previously\n      at the specified index in the list. It shifts the elements to right side\n      and increasing the list size by 1.\n    */\n\n    System.out.println(\"ArrayList contains...\");\n    //display elements of ArrayList\n    for(int index=0; index &lt; arrayList.size(); index++)\n      System.out.println(arrayList.get(index));\n\n  }\n}\n\n/*\nOutput would be\nArrayList contains...\n1\nINSERTED ELEMENT\n2\n3\n\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":537921,"reputation":3524,"user_id":906184,"accept_rate":100,"display_name":"Ashkan Aryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315816625,"creation_date":1315816625,"answer_id":7385204,"question_id":7384908,"body_markdown":"I think the solution from medopal is what you are looking for.\r\n\r\nBut just another alternative solution is to use a HashMap&lt;Integer, Object&gt; and use the key (Integer) to store positions. \r\n\r\nThis way you won&#39;t need to populate it with nulls etc initially, just stick the position and the object in the map as you go along. You can write a couple of lines at the end to convert it to a List if you need it that way.","title":"Add object to ArrayList at specified index","body":"<p>I think the solution from medopal is what you are looking for.</p>\n\n<p>But just another alternative solution is to use a HashMap and use the key (Integer) to store positions. </p>\n\n<p>This way you won't need to populate it with nulls etc initially, just stick the position and the object in the map as you go along. You can write a couple of lines at the end to convert it to a List if you need it that way.</p>\n"},{"tags":[],"owner":{"account_id":4260447,"reputation":371,"user_id":3484940,"display_name":"user3484940"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1420426436,"creation_date":1396353886,"answer_id":22785344,"question_id":7384908,"body_markdown":"You can use Array of objects and convert it to ArrayList-\r\n\r\n\t\t\r\n    Object[] array= new Object[10];\r\n\tarray[0]=&quot;1&quot;;\r\n\tarray[3]= &quot;3&quot;;\r\n\tarray[2]=&quot;2&quot;;\r\n\tarray[7]=&quot;7&quot;;\r\n\t\t\r\n\tList&lt;Object&gt; list= Arrays.asList(array);\r\n\t\t\r\nArrayList will be- [1, null, 2, 3, null, null, null, 7, null, null]","title":"Add object to ArrayList at specified index","body":"<p>You can use Array of objects and convert it to ArrayList-</p>\n\n<pre><code>Object[] array= new Object[10];\narray[0]=\"1\";\narray[3]= \"3\";\narray[2]=\"2\";\narray[7]=\"7\";\n\nList&lt;Object&gt; list= Arrays.asList(array);\n</code></pre>\n\n<p>ArrayList will be- [1, null, 2, 3, null, null, null, 7, null, null]</p>\n"},{"tags":[],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1462909623,"creation_date":1406031042,"answer_id":24887047,"question_id":7384908,"body_markdown":"You could also override ArrayList to insert nulls between your size and the element you want to add.  \r\n\r\n    import java.util.ArrayList;\r\n\r\n\r\n    public class ArrayListAnySize&lt;E&gt; extends ArrayList&lt;E&gt;{\r\n    \t@Override\r\n    \tpublic void add(int index, E element){\r\n    \t\tif(index &gt;= 0 &amp;&amp; index &lt;= size()){\r\n    \t\t\tsuper.add(index, element);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tint insertNulls = index - size();\r\n    \t\tfor(int i = 0; i &lt; insertNulls; i++){\r\n    \t\t\tsuper.add(null);\r\n    \t\t}\r\n    \t\tsuper.add(element);\r\n    \t}\r\n    }\r\n\r\nThen you can add at any point in the ArrayList.  For example, this main method:\r\n\r\n    public static void main(String[] args){\r\n    \tArrayListAnySize&lt;String&gt; a = new ArrayListAnySize&lt;&gt;();\r\n    \ta.add(&quot;zero&quot;);\r\n    \ta.add(&quot;one&quot;);\r\n    \ta.add(&quot;two&quot;);\r\n    \ta.add(5,&quot;five&quot;);\r\n    \tfor(int i = 0; i &lt; a.size(); i++){\r\n    \t\tSystem.out.println(i+&quot;: &quot;+a.get(i));\r\n    \t}\r\n    }\t\r\n\r\nyields this result from the console:\r\n\r\n0: zero\r\n\r\n1: one\r\n\r\n2: two\r\n\r\n3: null\r\n\r\n4: null\r\n\r\n5: five","title":"Add object to ArrayList at specified index","body":"<p>You could also override ArrayList to insert nulls between your size and the element you want to add.  </p>\n\n<pre><code>import java.util.ArrayList;\n\n\npublic class ArrayListAnySize&lt;E&gt; extends ArrayList&lt;E&gt;{\n    @Override\n    public void add(int index, E element){\n        if(index &gt;= 0 &amp;&amp; index &lt;= size()){\n            super.add(index, element);\n            return;\n        }\n        int insertNulls = index - size();\n        for(int i = 0; i &lt; insertNulls; i++){\n            super.add(null);\n        }\n        super.add(element);\n    }\n}\n</code></pre>\n\n<p>Then you can add at any point in the ArrayList.  For example, this main method:</p>\n\n<pre><code>public static void main(String[] args){\n    ArrayListAnySize&lt;String&gt; a = new ArrayListAnySize&lt;&gt;();\n    a.add(\"zero\");\n    a.add(\"one\");\n    a.add(\"two\");\n    a.add(5,\"five\");\n    for(int i = 0; i &lt; a.size(); i++){\n        System.out.println(i+\": \"+a.get(i));\n    }\n}   \n</code></pre>\n\n<p>yields this result from the console:</p>\n\n<p>0: zero</p>\n\n<p>1: one</p>\n\n<p>2: two</p>\n\n<p>3: null</p>\n\n<p>4: null</p>\n\n<p>5: five</p>\n"},{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452642982,"creation_date":1452642982,"answer_id":34756034,"question_id":7384908,"body_markdown":"How about this little `while` loop as a solution?\r\n\r\n    private ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\n    private void addObject(int i, Object object) {\r\n        while(list.size() &lt; i) {\r\n            list.add(list.size(), null);\r\n        }\r\n        list.add(i, object);\r\n    }\r\n    ....\r\n\r\n    addObject(1, object1)\r\n    addObject(3, object3)\r\n    addObject(2, object2)\r\n","title":"Add object to ArrayList at specified index","body":"<p>How about this little <code>while</code> loop as a solution?</p>\n\n<pre><code>private ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n\nprivate void addObject(int i, Object object) {\n    while(list.size() &lt; i) {\n        list.add(list.size(), null);\n    }\n    list.add(i, object);\n}\n....\n\naddObject(1, object1)\naddObject(3, object3)\naddObject(2, object2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7952596,"reputation":21,"user_id":6002997,"display_name":"Darius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456928962,"creation_date":1456841848,"answer_id":35725309,"question_id":7384908,"body_markdown":"This is a possible solution:\r\n\r\n    list.add(list.size(), new Object());\r\n","title":"Add object to ArrayList at specified index","body":"<p>This is a possible solution:</p>\n\n<pre><code>list.add(list.size(), new Object());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6348776,"reputation":261,"user_id":4928503,"display_name":"Miika Pakarinen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462101311,"creation_date":1462101311,"answer_id":36966011,"question_id":7384908,"body_markdown":"You need to populate the empty indexes with nulls.\r\n\r\n    while (arraylist.size() &lt; position)\r\n    {\r\n         arraylist.add(null);\r\n    }\r\n\r\n    arraylist.add(position, object);","title":"Add object to ArrayList at specified index","body":"<p>You need to populate the empty indexes with nulls.</p>\n\n<pre><code>while (arraylist.size() &lt; position)\n{\n     arraylist.add(null);\n}\n\narraylist.add(position, object);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":928328,"reputation":2383,"user_id":958651,"display_name":"AllDayAmazing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470789160,"creation_date":1470789160,"answer_id":38862476,"question_id":7384908,"body_markdown":"If you are using the Android flavor of Java, might I suggest using a [SparseArray][1]. It&#39;s a more memory efficient mapping of integers to objects and easier to iterate over than a Map\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/util/SparseArray.html","title":"Add object to ArrayList at specified index","body":"<p>If you are using the Android flavor of Java, might I suggest using a <a href=\"https://developer.android.com/reference/android/util/SparseArray.html\" rel=\"nofollow\">SparseArray</a>. It's a more memory efficient mapping of integers to objects and easier to iterate over than a Map</p>\n"},{"tags":[],"owner":{"account_id":5994862,"reputation":2354,"user_id":4709831,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485865809,"creation_date":1485865809,"answer_id":41957654,"question_id":7384908,"body_markdown":"Bit late but hopefully can still be useful to someone.\r\n\r\n2 steps to adding items to a specific position in an `ArrayList`\r\n\r\n 1. `add` null items to a specific index in an `ArrayList`\r\n 2. Then `set` the positions as and when required.\r\n\r\n            list = new ArrayList();//Initialise the ArrayList\r\n        for (Integer i = 0; i &lt; mItems.size(); i++) {\r\n            list.add(i, null); //&quot;Add&quot; all positions to null\r\n        }\r\n           // &quot;Set&quot; Items\r\n            list.set(position, SomeObject);\r\n\r\nThis way you don&#39;t have redundant items in the `ArrayList` i.e. if you were to add items such as, \r\n            \r\n    list = new ArrayList(mItems.size());    \r\n    list.add(position, SomeObject);\r\n\r\nThis would **not** overwrite existing items in the position merely, shifting existing ones to the right by one - so you have an ArrayList with twice as many indicies.\r\n\r\n\r\n\r\n","title":"Add object to ArrayList at specified index","body":"<p>Bit late but hopefully can still be useful to someone.</p>\n\n<p>2 steps to adding items to a specific position in an <code>ArrayList</code></p>\n\n<ol>\n<li><code>add</code> null items to a specific index in an <code>ArrayList</code></li>\n<li><p>Then <code>set</code> the positions as and when required.</p>\n\n<pre><code>    list = new ArrayList();//Initialise the ArrayList\nfor (Integer i = 0; i &lt; mItems.size(); i++) {\n    list.add(i, null); //\"Add\" all positions to null\n}\n   // \"Set\" Items\n    list.set(position, SomeObject);\n</code></pre></li>\n</ol>\n\n<p>This way you don't have redundant items in the <code>ArrayList</code> i.e. if you were to add items such as, </p>\n\n<pre><code>list = new ArrayList(mItems.size());    \nlist.add(position, SomeObject);\n</code></pre>\n\n<p>This would <strong>not</strong> overwrite existing items in the position merely, shifting existing ones to the right by one - so you have an ArrayList with twice as many indicies.</p>\n"},{"tags":[],"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500814998,"creation_date":1500814998,"answer_id":45265389,"question_id":7384908,"body_markdown":"You should set instead of add to replace existing value at index.\r\n\r\n    list.add(1, object1)\r\n    list.add(2, object3)\r\n    list.set(2, object2)\r\n\r\nList will contain  [object1,object2]","title":"Add object to ArrayList at specified index","body":"<p>You should set instead of add to replace existing value at index.</p>\n\n<pre><code>list.add(1, object1)\nlist.add(2, object3)\nlist.set(2, object2)\n</code></pre>\n\n<p>List will contain  [object1,object2]</p>\n"},{"tags":[],"owner":{"account_id":7532056,"reputation":1811,"user_id":5719810,"display_name":"Shamsul Arefin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537677157,"creation_date":1529820138,"answer_id":51007348,"question_id":7384908,"body_markdown":"Suppose you want to add an item at a position, then the list size must be more than the position.\r\n\r\n\r\n`add(2, item)`: this syntax means, move the old item at position 2 to next index and add the item at 2nd position.\r\n\r\nIf there is no item in 2nd position, then this will not work, It&#39;ll throw an exception.\r\n\r\nThat means if you want to **add** something in `position 2,` \r\n\r\nyour **list size** must be at least `(2 + 1) =3,` so the items are available at `0,1,2 Position.`\r\n\r\nin that way it is ensured that the position 2 is accessed safely and there would be no exception.","title":"Add object to ArrayList at specified index","body":"<p>Suppose you want to add an item at a position, then the list size must be more than the position.</p>\n\n<p><code>add(2, item)</code>: this syntax means, move the old item at position 2 to next index and add the item at 2nd position.</p>\n\n<p>If there is no item in 2nd position, then this will not work, It'll throw an exception.</p>\n\n<p>That means if you want to <strong>add</strong> something in <code>position 2,</code> </p>\n\n<p>your <strong>list size</strong> must be at least <code>(2 + 1) =3,</code> so the items are available at <code>0,1,2 Position.</code></p>\n\n<p>in that way it is ensured that the position 2 is accessed safely and there would be no exception.</p>\n"}],"owner":{"account_id":281986,"reputation":6892,"user_id":578615,"accept_rate":100,"display_name":"J. Maes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402123,"favorite_count":0,"down_vote_count":0,"up_vote_count":160,"accepted_answer_id":7384948,"answer_count":14,"score":160,"last_activity_date":1652499845,"creation_date":1315814690,"question_id":7384908,"body_markdown":"I think it&#39;s a fairly simple question, but I can&#39;t figure out how to do this properly.\r\n\r\nI&#39;ve got an empty arraylist:\r\n\r\n    ArrayList&lt;object&gt; list = new ArrayList&lt;object&gt;();\r\n\r\nI&#39;ve got some objects In which I want to add object and each object has to be at a certain position. It is necessary however that they can be added in each possible order. When I try this, it doesn&#39;t work and I get an `IndexOutOfBoundsException`:\r\n\r\n    list.add(1, object1)\r\n    list.add(3, object3)\r\n    list.add(2, object2)\r\n\r\nWhat I have tried is filling the `ArrayList` with `null` and then doing the above. It works, but I think it&#39;s a horrible solution. Is there another way to do this?","title":"Add object to ArrayList at specified index","body":"<p>I think it's a fairly simple question, but I can't figure out how to do this properly.</p>\n<p>I've got an empty arraylist:</p>\n<pre><code>ArrayList&lt;object&gt; list = new ArrayList&lt;object&gt;();\n</code></pre>\n<p>I've got some objects In which I want to add object and each object has to be at a certain position. It is necessary however that they can be added in each possible order. When I try this, it doesn't work and I get an <code>IndexOutOfBoundsException</code>:</p>\n<pre><code>list.add(1, object1)\nlist.add(3, object3)\nlist.add(2, object2)\n</code></pre>\n<p>What I have tried is filling the <code>ArrayList</code> with <code>null</code> and then doing the above. It works, but I think it's a horrible solution. Is there another way to do this?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652464439,"creation_date":1652330750,"answer_id":72210229,"question_id":72207396,"body_markdown":"There are several ways to achieve it:\r\n\r\n1. **Expose metrics**\r\n\r\nIt&#39;s not exactly what you asked, but metrics would be a preferred way to collect such information. Reactor exposes multiple metrics that could help to investigate performance issues. You could use `metrics()` operator in conjunction with `name()` &amp; `tag()` to emit metrics. For more details, see [Exposing Reactor metrics](https://projectreactor.io/docs/core/release/reference/#metrics) \r\n\r\n```\r\nevents()\r\n    .flatMap(rec -&gt;\r\n            processEvent(rec)\r\n              .name(&quot;process&quot;) \r\n              .metrics() \r\n    )\r\n```\r\n\r\nYou could also enable scheduler metrics `Schedulers.enableMetrics();`\r\n\r\nThis project has a good example of monitoring based on Prometheus and Grafana [Reactor monitoring demo](https://github.com/reactor/reactor-monitoring-demo).\r\n\r\n2. **Use context to measure execution time**\r\n\r\nThe idea is to save start time in the context and then calculate execution time when complete event is emitted.\r\n\r\n```\r\nevents()\r\n    .flatMap(rec -&gt;\r\n            processEvent(rec)\r\n                 .transform(this::reportExecutionTime)\r\n    );\r\n``` \r\n\r\nwhere `reportExecutionTime` is implemented like the following\r\n\r\n```\r\nprivate &lt;T&gt; Mono&lt;T&gt; reportExecutionTime(Mono&lt;T&gt; mono) {\r\n    String taskStartMsKey = &quot;task.start&quot;;\r\n\r\n    return Mono.deferContextual(ctx -&gt; mono\r\n                    .doOnSuccess(__ -&gt; {\r\n                        var executionTime = currentTimeMillis() - ctx.&lt;Long&gt;get(taskStartMsKey);\r\n                        log.info(&quot;execution time: {}&quot;, executionTime);\r\n                    })\r\n            )\r\n            .contextWrite(ctx -&gt; ctx.put(taskStartMsKey, currentTimeMillis()));\r\n}\r\n```\r\n\r\nHere is a full test example \r\n\r\n```\r\n@Test\r\nvoid reportExecutionTimeTest() {\r\n    var stream = events()\r\n            .flatMap(rec -&gt;\r\n                    processEvent(rec)\r\n                            .transform(this::reportExecutionTime)\r\n            );\r\n\r\n    StepVerifier.create(stream)\r\n            .expectNextCount(100)\r\n            .verifyComplete();\r\n}\r\n\r\nprivate &lt;T&gt; Mono&lt;T&gt; reportExecutionTime(Mono&lt;T&gt; mono) {\r\n    String taskStartMsKey = &quot;task.start&quot;;\r\n\r\n    return Mono.deferContextual(ctx -&gt; mono\r\n                    .doOnSuccess(__ -&gt; {\r\n                        var executionTime = currentTimeMillis() - ctx.&lt;Long&gt;get(taskStartMsKey);\r\n                        log.info(&quot;execution time: {}&quot;, executionTime);\r\n                    })\r\n            )\r\n            .contextWrite(ctx -&gt; ctx.put(taskStartMsKey, currentTimeMillis()));\r\n}\r\n\r\nprivate Flux&lt;Integer&gt; events() {\r\n    return Flux.range(1, 100);\r\n}\r\n\r\nprivate Mono&lt;Integer&gt; processEvent(int i) {\r\n    return Mono.delay(Duration.ofMillis(i + 100))\r\n            .thenReturn(i);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Measure execution time in Project Reactor","body":"<p>There are several ways to achieve it:</p>\n<ol>\n<li><strong>Expose metrics</strong></li>\n</ol>\n<p>It's not exactly what you asked, but metrics would be a preferred way to collect such information. Reactor exposes multiple metrics that could help to investigate performance issues. You could use <code>metrics()</code> operator in conjunction with <code>name()</code> &amp; <code>tag()</code> to emit metrics. For more details, see <a href=\"https://projectreactor.io/docs/core/release/reference/#metrics\" rel=\"nofollow noreferrer\">Exposing Reactor metrics</a></p>\n<pre><code>events()\n    .flatMap(rec -&gt;\n            processEvent(rec)\n              .name(&quot;process&quot;) \n              .metrics() \n    )\n</code></pre>\n<p>You could also enable scheduler metrics <code>Schedulers.enableMetrics();</code></p>\n<p>This project has a good example of monitoring based on Prometheus and Grafana <a href=\"https://github.com/reactor/reactor-monitoring-demo\" rel=\"nofollow noreferrer\">Reactor monitoring demo</a>.</p>\n<ol start=\"2\">\n<li><strong>Use context to measure execution time</strong></li>\n</ol>\n<p>The idea is to save start time in the context and then calculate execution time when complete event is emitted.</p>\n<pre><code>events()\n    .flatMap(rec -&gt;\n            processEvent(rec)\n                 .transform(this::reportExecutionTime)\n    );\n</code></pre>\n<p>where <code>reportExecutionTime</code> is implemented like the following</p>\n<pre><code>private &lt;T&gt; Mono&lt;T&gt; reportExecutionTime(Mono&lt;T&gt; mono) {\n    String taskStartMsKey = &quot;task.start&quot;;\n\n    return Mono.deferContextual(ctx -&gt; mono\n                    .doOnSuccess(__ -&gt; {\n                        var executionTime = currentTimeMillis() - ctx.&lt;Long&gt;get(taskStartMsKey);\n                        log.info(&quot;execution time: {}&quot;, executionTime);\n                    })\n            )\n            .contextWrite(ctx -&gt; ctx.put(taskStartMsKey, currentTimeMillis()));\n}\n</code></pre>\n<p>Here is a full test example</p>\n<pre><code>@Test\nvoid reportExecutionTimeTest() {\n    var stream = events()\n            .flatMap(rec -&gt;\n                    processEvent(rec)\n                            .transform(this::reportExecutionTime)\n            );\n\n    StepVerifier.create(stream)\n            .expectNextCount(100)\n            .verifyComplete();\n}\n\nprivate &lt;T&gt; Mono&lt;T&gt; reportExecutionTime(Mono&lt;T&gt; mono) {\n    String taskStartMsKey = &quot;task.start&quot;;\n\n    return Mono.deferContextual(ctx -&gt; mono\n                    .doOnSuccess(__ -&gt; {\n                        var executionTime = currentTimeMillis() - ctx.&lt;Long&gt;get(taskStartMsKey);\n                        log.info(&quot;execution time: {}&quot;, executionTime);\n                    })\n            )\n            .contextWrite(ctx -&gt; ctx.put(taskStartMsKey, currentTimeMillis()));\n}\n\nprivate Flux&lt;Integer&gt; events() {\n    return Flux.range(1, 100);\n}\n\nprivate Mono&lt;Integer&gt; processEvent(int i) {\n    return Mono.delay(Duration.ofMillis(i + 100))\n            .thenReturn(i);\n}\n\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1827,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72210229,"answer_count":1,"score":1,"last_activity_date":1652499777,"creation_date":1652301839,"question_id":72207396,"body_markdown":"I&#39;m trying to load test one of my projects and I think somewhere in my changes I may have introduced some point where the performance is getting impacted. \r\n\r\nIs there a way to measure **execution time** and **log** in case it exceeds the threshold?  \r\n  \r\n```\r\nflux\r\n  .&lt;doOnSomethingIsTakingTooLong&gt;(signal -&gt; \r\n       log.error(&quot;SLOW PROCESSING {}&quot;, signal), Duration.ofSeconds(2)\r\n```","title":"Measure execution time in Project Reactor","body":"<p>I'm trying to load test one of my projects and I think somewhere in my changes I may have introduced some point where the performance is getting impacted.</p>\n<p>Is there a way to measure <strong>execution time</strong> and <strong>log</strong> in case it exceeds the threshold?</p>\n<pre><code>flux\n  .&lt;doOnSomethingIsTakingTooLong&gt;(signal -&gt; \n       log.error(&quot;SLOW PROCESSING {}&quot;, signal), Duration.ofSeconds(2)\n</code></pre>\n"},{"tags":["java","spring","microservices","spring-cloud","hystrix"],"comments":[{"owner":{"account_id":5072657,"reputation":3280,"user_id":4071001,"display_name":"lcnicolau"},"score":0,"creation_date":1550547999,"post_id":46283367,"comment_id":96298336,"body_markdown":"Possible duplicate of [What is advantage of circuit breaker design pattern in API architecture?](https://stackoverflow.com/questions/52343763/what-is-advantage-of-circuit-breaker-design-pattern-in-api-architecture)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/52343763/what-is-advantage-of-circuit-breaker-design-pattern-in-api-architecture\">What is advantage of circuit breaker design pattern in API architecture?</a>"},{"owner":{"account_id":3799812,"reputation":1135,"user_id":3153769,"accept_rate":67,"display_name":"Artur Skrzydło"},"score":0,"creation_date":1550557626,"post_id":46283367,"comment_id":96300854,"body_markdown":"@Nicolau I don&#39;t know if you notice, but I asked my question one year earlier than the one you point as possible duplicate","body":"@Nicolau I don&#39;t know if you notice, but I asked my question one year earlier than the one you point as possible duplicate"},{"owner":{"account_id":5072657,"reputation":3280,"user_id":4071001,"display_name":"lcnicolau"},"score":0,"creation_date":1550621971,"post_id":46283367,"comment_id":96333484,"body_markdown":"I flagged it this way because, in my humble opinion, others can find those answers a little clearer. Just think in the community, linking the questions only enriches the knowledge that comes from their answers.","body":"I flagged it this way because, in my humble opinion, others can find those answers a little clearer. Just think in the community, linking the questions only enriches the knowledge that comes from their answers."}],"answers":[{"tags":[],"owner":{"account_id":5435548,"reputation":984,"user_id":4325141,"accept_rate":83,"display_name":"Andr&#233;s Soto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652499710,"creation_date":1505765372,"answer_id":46287428,"question_id":46283367,"body_markdown":"I think you are saying that we could just implement the entire circuit breaker logic? And you are correct. But why is better use something already proven as Hystrix? I would say: \r\n\r\n 1. Circuit Break logic already bullet proof. \r\n 2. Metrics out of the box, such as this [dashboard][1]\r\n 3. Defines a pattern to deal with cascade failures of your interconnected services. Meaning, if one service goes down, you already had though on what to do to keep serving request on your very own service.\r\n 4. It helps developers to change its way of thinking when writing code against external dependencies *-design for failure-*, simple by making them think on what if it fails? Regularly, developers don&#39;t do that. You assume that it will work. \r\n\r\nI think there&#39;s no magic definition under hystrix. It is a simple problem that developers don&#39;t usually think about it. \r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi__circuit_breaker_hystrix_dashboard.html#:~:text=One%20of%20the%20main%20benefits,breaker%20in%20an%20efficient%20manner.","title":"What are Hystrix benefits over normal exception handling?","body":"<p>I think you are saying that we could just implement the entire circuit breaker logic? And you are correct. But why is better use something already proven as Hystrix? I would say:</p>\n<ol>\n<li>Circuit Break logic already bullet proof.</li>\n<li>Metrics out of the box, such as this <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__circuit_breaker_hystrix_dashboard.html#:%7E:text=One%20of%20the%20main%20benefits,breaker%20in%20an%20efficient%20manner.\" rel=\"nofollow noreferrer\">dashboard</a></li>\n<li>Defines a pattern to deal with cascade failures of your interconnected services. Meaning, if one service goes down, you already had though on what to do to keep serving request on your very own service.</li>\n<li>It helps developers to change its way of thinking when writing code against external dependencies <em>-design for failure-</em>, simple by making them think on what if it fails? Regularly, developers don't do that. You assume that it will work.</li>\n</ol>\n<p>I think there's no magic definition under hystrix. It is a simple problem that developers don't usually think about it.</p>\n"},{"tags":[],"owner":{"account_id":1403129,"reputation":4459,"user_id":1331539,"accept_rate":94,"display_name":"jmhostalet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505832247,"creation_date":1505829633,"answer_id":46302494,"question_id":46283367,"body_markdown":"The main difference is that Hystrix opens the circuit (it is an analogy to electrical circuits) when it detects an error and does not invoke downstream services until some time has elapsed. This behaviour prevents an avalanche of errors in cascading. It is similar to a smart traffic light that turns red and doesn&#39;t let you pass because it knows that you are going to have an accident a little later. After a configurable time, the circuit is closed again.\r\nYou can see &#39;Circuit opened / closed&#39; at Hystrix dashboard:\r\n \r\n[![enter image description here][1]][1]\r\n\r\nIt is also well explained by Chris Richardson at [pattern - circuit breaker][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zjZis.png\r\n  [2]: http://microservices.io/patterns/reliability/circuit-breaker.html","title":"What are Hystrix benefits over normal exception handling?","body":"<p>The main difference is that Hystrix opens the circuit (it is an analogy to electrical circuits) when it detects an error and does not invoke downstream services until some time has elapsed. This behaviour prevents an avalanche of errors in cascading. It is similar to a smart traffic light that turns red and doesn't let you pass because it knows that you are going to have an accident a little later. After a configurable time, the circuit is closed again.\nYou can see 'Circuit opened / closed' at Hystrix dashboard:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zjZis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zjZis.png\" alt=\"enter image description here\"></a></p>\n\n<p>It is also well explained by Chris Richardson at <a href=\"http://microservices.io/patterns/reliability/circuit-breaker.html\" rel=\"nofollow noreferrer\">pattern - circuit breaker</a></p>\n"},{"tags":[],"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505833221,"creation_date":1505833221,"answer_id":46303808,"question_id":46283367,"body_markdown":"Hysterix is used to stop cascading failures, I&#39;ll give you an example to explain what I mean:\r\nLets pretend you have 3 components: 1) Frontend, 2) Backend A and 3) Backend B.  \r\nFrontend talks to Backend A and Backend A asks backend B to do some sort of lookup.\r\nThe Frontend receives 50k requests per second, which means 50k requests are going to Backend A and another 50k requests going to Backend B.  If Backend B Becomes unhealthy, that is 50k sockets you&#39;re holding open between Backend B to Backend A, and another 50k sockets open between Backend A and the Frontend. What will end up happening is all the servers involved in the transaction will all start to hang because all the sockets are being held open. The sockets will fill up really fast, at 50k a second, with a 20 second timeout, thats 1 million open sockets between each server! the result of Backend B timing out will mean requests to Backend A will timeout which will mean requests to the Frontend will also time out.\r\nHysterix (or the idea of circuit breaking) is pretty much introducing a switch where when a server becomes unhealthy, it will have some sort of way to deal with the errors such as stopping all future requests and just give a predefined response instantly, resulting in the sockets closing straight away and no cascading failures occuring. This results in increased resilience and better fault tolerance.","title":"What are Hystrix benefits over normal exception handling?","body":"<p>Hysterix is used to stop cascading failures, I'll give you an example to explain what I mean:\nLets pretend you have 3 components: 1) Frontend, 2) Backend A and 3) Backend B.<br>\nFrontend talks to Backend A and Backend A asks backend B to do some sort of lookup.\nThe Frontend receives 50k requests per second, which means 50k requests are going to Backend A and another 50k requests going to Backend B.  If Backend B Becomes unhealthy, that is 50k sockets you're holding open between Backend B to Backend A, and another 50k sockets open between Backend A and the Frontend. What will end up happening is all the servers involved in the transaction will all start to hang because all the sockets are being held open. The sockets will fill up really fast, at 50k a second, with a 20 second timeout, thats 1 million open sockets between each server! the result of Backend B timing out will mean requests to Backend A will timeout which will mean requests to the Frontend will also time out.\nHysterix (or the idea of circuit breaking) is pretty much introducing a switch where when a server becomes unhealthy, it will have some sort of way to deal with the errors such as stopping all future requests and just give a predefined response instantly, resulting in the sockets closing straight away and no cascading failures occuring. This results in increased resilience and better fault tolerance.</p>\n"},{"tags":[],"owner":{"account_id":11541191,"reputation":593,"user_id":8456816,"display_name":"Sunil Singhal"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1505959990,"creation_date":1505959990,"answer_id":46334349,"question_id":46283367,"body_markdown":"As you said, it can be simply wrapped under `try-catch` block then why choose Hystrix or some other library?\r\nWhat i experienced:\r\n\r\n - Already `test proven` library.\r\n - Ability to `skip original intended calls and fallback`. Note that if you wrap it under try-catch, there will be still be an attempt to connect and send command which will eventually timeout due to degraded dependency. Knowing this information prior to call will enable to skip the calls for sometime (as per configuration) and you can save those resources\r\n - Provides circuit breaking using `Sliding Time Window` as well\r\n - `Metrics and Dashboarding` provided Out of the Box which can help you peek into your system and dependent connection \r\n - Implements `BulkHead` by using different `Thread Pools`\r\n - Lower maintenance cost\r\n - Health check ability. It provides a health check class which plugins with Health monitoring APIs ","title":"What are Hystrix benefits over normal exception handling?","body":"<p>As you said, it can be simply wrapped under <code>try-catch</code> block then why choose Hystrix or some other library?\nWhat i experienced:</p>\n\n<ul>\n<li>Already <code>test proven</code> library.</li>\n<li>Ability to <code>skip original intended calls and fallback</code>. Note that if you wrap it under try-catch, there will be still be an attempt to connect and send command which will eventually timeout due to degraded dependency. Knowing this information prior to call will enable to skip the calls for sometime (as per configuration) and you can save those resources</li>\n<li>Provides circuit breaking using <code>Sliding Time Window</code> as well</li>\n<li><code>Metrics and Dashboarding</code> provided Out of the Box which can help you peek into your system and dependent connection </li>\n<li>Implements <code>BulkHead</code> by using different <code>Thread Pools</code></li>\n<li>Lower maintenance cost</li>\n<li>Health check ability. It provides a health check class which plugins with Health monitoring APIs </li>\n</ul>\n"}],"owner":{"account_id":3799812,"reputation":1135,"user_id":3153769,"accept_rate":67,"display_name":"Artur Skrzydło"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7278,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46334349,"answer_count":4,"score":9,"last_activity_date":1652499710,"creation_date":1505749513,"question_id":46283367,"body_markdown":"I&#39;m really new to Hystrix topic and concept of resilient services, I was going through some course and this question came into my mind.\r\n\r\nIn Hystrix I need to define fallback method for a graceful degradation, this method is then called when circuit is broken. But I can imagine to just wrap code with `try` and `catch` and when particular exceptions appear (for timeout for instance) call fallback method in `catch` clause. When called service is up then normal code would be called.\r\n\r\nOf course, with Hystrix I can additionally monitor this, but what else it gives me?. I&#39;m pretty sure that I don&#39;t understand whole concept.","title":"What are Hystrix benefits over normal exception handling?","body":"<p>I'm really new to Hystrix topic and concept of resilient services, I was going through some course and this question came into my mind.</p>\n\n<p>In Hystrix I need to define fallback method for a graceful degradation, this method is then called when circuit is broken. But I can imagine to just wrap code with <code>try</code> and <code>catch</code> and when particular exceptions appear (for timeout for instance) call fallback method in <code>catch</code> clause. When called service is up then normal code would be called.</p>\n\n<p>Of course, with Hystrix I can additionally monitor this, but what else it gives me?. I'm pretty sure that I don't understand whole concept.</p>\n"},{"tags":["java","swing","jtable","renderer","tablecellrenderer"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1652479114,"post_id":72235419,"comment_id":127624765,"body_markdown":"Post your [mre] demonstrating the problem. We should be able to copy/paste/compile/test the code.","body":"Post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile/test the code."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652483938,"post_id":72235419,"comment_id":127625469,"body_markdown":"Assuming you want the icon on the far right, I would use two labels laid out on a single container","body":"Assuming you want the icon on the far right, I would use two labels laid out on a single container"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1652484237,"post_id":72235419,"comment_id":127625507,"body_markdown":"Is `int width = getWidth();` **actually** providing more than **0**?","body":"Is <code>int width = getWidth();</code> <b>actually</b> providing more than <b>0</b>?"},{"owner":{"account_id":25256027,"reputation":21,"user_id":19087744,"display_name":"B Programmer"},"score":0,"creation_date":1652493735,"post_id":72235419,"comment_id":127626434,"body_markdown":"@camickr I am sorry, you&#39;re right, I will update it as soon as possible!","body":"@camickr I am sorry, you&#39;re right, I will update it as soon as possible!"},{"owner":{"account_id":25256027,"reputation":21,"user_id":19087744,"display_name":"B Programmer"},"score":0,"creation_date":1652494032,"post_id":72235419,"comment_id":127626456,"body_markdown":"@MadProgrammer I think you&#39;re idea is very easy and nice, I tried to do it, but seems that java.awt.Container or swing JPanel can not be rendered as a Table Cell Renderer, maybe is a mistake by my side, but I can return the container containing 2 JLabels without any exception and the cell is empty. you can see my edited question :)","body":"@MadProgrammer I think you&#39;re idea is very easy and nice, I tried to do it, but seems that java.awt.Container or swing JPanel can not be rendered as a Table Cell Renderer, maybe is a mistake by my side, but I can return the container containing 2 JLabels without any exception and the cell is empty. you can see my edited question :)"},{"owner":{"account_id":25256027,"reputation":21,"user_id":19087744,"display_name":"B Programmer"},"score":0,"creation_date":1652494074,"post_id":72235419,"comment_id":127626463,"body_markdown":"@DevilsHnd yes, it is more than 0. I also tried using the width of the column but nothing changes...","body":"@DevilsHnd yes, it is more than 0. I also tried using the width of the column but nothing changes..."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652494152,"post_id":72235419,"comment_id":127626472,"body_markdown":"@BProgrammer They can, but `DefaultTableCellRenderer` is based on a `JLabel`, so you&#39;d need to roll your own, starting with `TableCellRenderer`","body":"@BProgrammer They can, but <code>DefaultTableCellRenderer</code> is based on a <code>JLabel</code>, so you&#39;d need to roll your own, starting with <code>TableCellRenderer</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1652497868,"post_id":72235419,"comment_id":127626778,"body_markdown":"The code you posted is still NOT an [mre]. For help in the future post an MRE with every question. An example MRE is included with the answer below.","body":"The code you posted is still NOT an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For help in the future post an MRE with every question. An example MRE is included with the answer below."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652498772,"creation_date":1652497702,"answer_id":72237036,"question_id":72235419,"body_markdown":"Had this old code lying around demonstrating the concept of using a panel as a renderer. The first 3 characters will be displayed on the left and the remainder on the right:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    \r\n    public class TableRendererPanel\r\n    {\r\n    \tstatic class MultiLabelRenderer implements TableCellRenderer\r\n    \t{\r\n    \t\tprivate JPanel panel;\r\n    \t\tprivate JLabel red;\r\n    \t\tprivate JLabel blue;\r\n    \r\n    \tpublic MultiLabelRenderer()\r\n    \t{\r\n    \t\tred = new JLabel();\r\n    \t\tred.setForeground(Color.RED);\r\n    \t\tblue = new JLabel();\r\n    \t\tblue.setForeground(Color.BLUE);\r\n    \r\n    \t\tpanel = new JPanel();\r\n    \t    panel.setLayout( new BoxLayout(panel, BoxLayout.X_AXIS) );\r\n    \t\tpanel.add(red);\r\n    \t\tpanel.add(Box.createHorizontalGlue());\r\n    \t\tpanel.add(blue);\r\n    \t}\r\n    \r\n    \tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, final int row, final int column)\r\n    \t{\r\n    \t\tpanel.setBackground( isSelected ? table.getSelectionBackground() : table.getBackground() );\r\n    \r\n    \t\tif (value == null || value.toString().isEmpty())\r\n    \t\t{\r\n    \t\t\tred.setText(&quot; &quot;);\r\n    \t\t\tblue.setText(&quot; &quot;);\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \r\n    \t\t//  Set the text for the two labels\r\n    \r\n    \t\tString text = value.toString();\r\n    \t\tred.setText( text.substring(0, 3) );\r\n       \t\tblue.setText( text.substring(3) );\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    }\r\n    \r\n    public static void createAndShowGUI()\r\n\r\n    \t{\r\n     \t\tJTable table = new JTable(5, 3);\r\n   \t\t  table.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n    \t\ttable.getColumnModel().getColumn(0).setCellRenderer( new MultiLabelRenderer());\r\n    \t\tJScrollPane scrollPane = new JScrollPane( table );\r\n    \r\n    \t\ttable.setValueAt(&quot;abcde&quot;, 0, 0);\r\n    \t\ttable.setValueAt(&quot;123456789&quot;, 1, 0);\r\n    \r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n    \t\tframe.add( scrollPane );\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo( null );\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Cannot align in a cell the text on the left and Icon on the right","body":"<p>Had this old code lying around demonstrating the concept of using a panel as a renderer. The first 3 characters will be displayed on the left and the remainder on the right:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class TableRendererPanel\n{\n    static class MultiLabelRenderer implements TableCellRenderer\n    {\n        private JPanel panel;\n        private JLabel red;\n        private JLabel blue;\n\n    public MultiLabelRenderer()\n    {\n        red = new JLabel();\n        red.setForeground(Color.RED);\n        blue = new JLabel();\n        blue.setForeground(Color.BLUE);\n\n        panel = new JPanel();\n        panel.setLayout( new BoxLayout(panel, BoxLayout.X_AXIS) );\n        panel.add(red);\n        panel.add(Box.createHorizontalGlue());\n        panel.add(blue);\n    }\n\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, final int row, final int column)\n    {\n        panel.setBackground( isSelected ? table.getSelectionBackground() : table.getBackground() );\n\n        if (value == null || value.toString().isEmpty())\n        {\n            red.setText(&quot; &quot;);\n            blue.setText(&quot; &quot;);\n            return panel;\n        }\n\n        //  Set the text for the two labels\n\n        String text = value.toString();\n        red.setText( text.substring(0, 3) );\n        blue.setText( text.substring(3) );\n\n        return panel;\n    }\n}\n\npublic static void createAndShowGUI()\n\n    {\n        JTable table = new JTable(5, 3);\n      table.setPreferredScrollableViewportSize(table.getPreferredSize());\n        table.getColumnModel().getColumn(0).setCellRenderer( new MultiLabelRenderer());\n        JScrollPane scrollPane = new JScrollPane( table );\n\n        table.setValueAt(&quot;abcde&quot;, 0, 0);\n        table.setValueAt(&quot;123456789&quot;, 1, 0);\n\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        frame.add( scrollPane );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25256027,"reputation":21,"user_id":19087744,"display_name":"B Programmer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72237036,"answer_count":1,"score":-1,"last_activity_date":1652498772,"creation_date":1652475926,"question_id":72235419,"body_markdown":"I am trying to achieve a very simple thing, I tried different options but none seems to work.\r\nI have a simple JTable, in a column I use JLabel in order to show the text and the icon.\r\nI just want to have the text to be on the left of the cell and the Icon to the right.\r\n\r\nif I use this snippet:\r\n\r\n    label.setHorizontalTextPosition(SwingConstants.LEFT);\r\n\tlabel.setHorizontalAlignment(SwingConstants.RIGHT);\r\n\r\nI just get the icon on the right as I want, but the text is immediately on the left of the icon.\r\nSo I am setting the icon and text gap.\r\n\r\nI am setting it like this:\r\n\r\n    int width = getWidth();\r\n\tlabel.setSize(width, getHeight());\r\n\tAffineTransform affinetransform = new AffineTransform();     \r\n\tFontRenderContext frc = new FontRenderContext(affinetransform,true,true);     \r\n\tint textwidth = (int)(label.getFont().getStringBounds(label.getText(), frc).getWidth());\r\n\t\r\n\tlabel.setIconTextGap(width - textwidth - label.getIcon().getIconWidth());\r\n\r\nDebugging it, it seems to do what is supposed to do, but I got this result:\r\n\r\n[![Text with unnecessary ellipses on the left...][1]][1]\r\n\r\n\r\nI tried to add a bit of tolerance (subtracting textwidth 2 times) this is the result:\r\n\r\n[![Icon showing but in an expected wrong position but text still have unnecessary ellipses][2]][2]\r\n\r\nBy the way, the text is shown if I reduce the gap again, but of course, I do not get things aligned as I want.\r\n\r\nWhat I simply would like to achieve is a renderer similar to the editor component which is a combo box as you can see below:\r\n\r\n[![As you can see this what I want to achieve in terms of alignment][3]][3]\r\n\r\n\r\n\r\n\r\nThis is not a priority task for me but I would really like to understand how to manage this.\r\n\r\n\r\nEDIT:\r\n\r\nI also tried to use a Container (also a JPanel) in order to add 2 JLabels and manage the text and the icon better as suggested by @MadProgrammer, but using the code below the cell is empty, only the background is visible\r\n\r\n    public java.awt.Component getTreeTableCellRendererComponent(TreeTable treeTable, Object value, boolean selected, boolean hasFocus, int row, int column) {\r\n        Container container = new Container();\r\n        JLabel label = new JLabel();\r\n        JLabel icon = new JLabel();\r\n        label.setText(&quot;XXX&quot;);\r\n\t    icon.setIcon(myIcon);\r\n        if (row % 2 == 0) {\r\n\t        container.setBackground(new java.awt.Color(220, 245, 230));\r\n\t    }\r\n\t    else {\r\n\t\t    container.setBackground(new java.awt.Color(240, 255, 240));\r\n\t    }\r\n\r\n\t    label.repaint();\r\n\t    icon.repaint();\r\n\t\t\t\t\t\r\n\t    container.add(label, BorderLayout.WEST);\r\n\t    container.add(icon, BorderLayout.CENTER);\t\t\t\t\t\t\r\n\t    container.revalidate();\r\n\t    container.doLayout();\r\n        container.setVisible(true);\t\t\r\n\t    container.repaint();\r\n\t\t\t\t\t\r\n\t    return container;\r\n\t}\r\n\t\t\t\t\t\r\nthe code above runs without throwing exceptions..\r\n\r\n  [1]: https://i.stack.imgur.com/iuaS0.png\r\n  [2]: https://i.stack.imgur.com/3B8ym.png\r\n  [3]: https://i.stack.imgur.com/15tW9.png\r\n","title":"Cannot align in a cell the text on the left and Icon on the right","body":"<p>I am trying to achieve a very simple thing, I tried different options but none seems to work.\nI have a simple JTable, in a column I use JLabel in order to show the text and the icon.\nI just want to have the text to be on the left of the cell and the Icon to the right.</p>\n<p>if I use this snippet:</p>\n<pre><code>label.setHorizontalTextPosition(SwingConstants.LEFT);\nlabel.setHorizontalAlignment(SwingConstants.RIGHT);\n</code></pre>\n<p>I just get the icon on the right as I want, but the text is immediately on the left of the icon.\nSo I am setting the icon and text gap.</p>\n<p>I am setting it like this:</p>\n<pre><code>int width = getWidth();\nlabel.setSize(width, getHeight());\nAffineTransform affinetransform = new AffineTransform();     \nFontRenderContext frc = new FontRenderContext(affinetransform,true,true);     \nint textwidth = (int)(label.getFont().getStringBounds(label.getText(), frc).getWidth());\n\nlabel.setIconTextGap(width - textwidth - label.getIcon().getIconWidth());\n</code></pre>\n<p>Debugging it, it seems to do what is supposed to do, but I got this result:</p>\n<p><a href=\"https://i.stack.imgur.com/iuaS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuaS0.png\" alt=\"Text with unnecessary ellipses on the left...\" /></a></p>\n<p>I tried to add a bit of tolerance (subtracting textwidth 2 times) this is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/3B8ym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3B8ym.png\" alt=\"Icon showing but in an expected wrong position but text still have unnecessary ellipses\" /></a></p>\n<p>By the way, the text is shown if I reduce the gap again, but of course, I do not get things aligned as I want.</p>\n<p>What I simply would like to achieve is a renderer similar to the editor component which is a combo box as you can see below:</p>\n<p><a href=\"https://i.stack.imgur.com/15tW9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/15tW9.png\" alt=\"As you can see this what I want to achieve in terms of alignment\" /></a></p>\n<p>This is not a priority task for me but I would really like to understand how to manage this.</p>\n<p>EDIT:</p>\n<p>I also tried to use a Container (also a JPanel) in order to add 2 JLabels and manage the text and the icon better as suggested by @MadProgrammer, but using the code below the cell is empty, only the background is visible</p>\n<pre><code>public java.awt.Component getTreeTableCellRendererComponent(TreeTable treeTable, Object value, boolean selected, boolean hasFocus, int row, int column) {\n    Container container = new Container();\n    JLabel label = new JLabel();\n    JLabel icon = new JLabel();\n    label.setText(&quot;XXX&quot;);\n    icon.setIcon(myIcon);\n    if (row % 2 == 0) {\n        container.setBackground(new java.awt.Color(220, 245, 230));\n    }\n    else {\n        container.setBackground(new java.awt.Color(240, 255, 240));\n    }\n\n    label.repaint();\n    icon.repaint();\n                \n    container.add(label, BorderLayout.WEST);\n    container.add(icon, BorderLayout.CENTER);                       \n    container.revalidate();\n    container.doLayout();\n    container.setVisible(true);     \n    container.repaint();\n                \n    return container;\n}\n                \n</code></pre>\n<p>the code above runs without throwing exceptions..</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652498163,"creation_date":1652498163,"answer_id":72237064,"question_id":72235587,"body_markdown":"You have a few issues with:-\r\n\r\n    @Query(&quot;select * from salary order by id asc&quot;)\r\n    LiveData&lt;List&lt;salary&gt;&gt; selectSal(salary...sal)\r\n\r\nThe query is saying SELECT every row. It is not saying SELECT some rows according to a parameter. Whilst the function is saying to utilise the passed parameter. Room doesn&#39;t know what to do with salary...sal nor would it be able to handle it as it does not equate to something that it can place into the query (a column&#39;s value or a list of column values).\r\n\r\nSo you need to define/use a query that will SELECT certain rows and typically this would be via a WHERE clause.\r\n\r\nYou appear to want to select a subset of Salaries based upon a list of salary objects. However, a salary, as per the message, is NOT suitable for a query parameter.\r\n\r\nI suspect that you want something like:-\r\n\r\n    @Query(&quot;select * from salary WHERE id IN(:salary_id_list) order by id asc&quot;)\r\n    LiveData&lt;List&lt;Salary&gt;&gt; selectSal(long[] salary_id_list);\r\n\r\nSo the query is saying SELECT only those rows WHERE the salary&#39;s **id** is in the provided list. The provided list would be something like 10,20,30 (i.e. the id of the respective salaries).\r\n\r\n**Working Demo**\r\n\r\nThe **Salary** class @Entity based upon what can be extracted from the code you have provided *(so will very likely NOT match your **salary** class)* :-\r\n\r\n    @Entity\r\n    class Salary {\r\n        @PrimaryKey\r\n        Long id=null;\r\n        Date time;\r\n        double amount;\r\n        long idCar;\r\n    \r\n        /* ADDED for the DEMO*/\r\n        public static long[] getSalaryIdList(Salary...salaries) {\r\n            long[] rv = new long[salaries.length];\r\n            int i = 0;\r\n            for (Salary s: salaries) {\r\n                rv[i++] = s.id;\r\n            }\r\n            return rv;\r\n        }\r\n    }\r\n\r\n- Note the added method to extract an array (long[]) of id&#39;s from the passed Salaries.\r\n\r\n**SalaryDao**\r\n\r\n    @Dao\r\n    public interface SalaryDao\r\n    {\r\n     @Insert\r\n     long insertSal(Salary sal); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED\r\n     @Update\r\n     void updateSal(Salary sal);\r\n     @Delete\r\n     void deleteSal(Salary sal);\r\n    \r\n    \r\n     /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\r\n     @Query(&quot;select * from salary WHERE id IN(:salary_id_list) order by id asc&quot;)\r\n     List&lt;Salary&gt; selectSal(long[] salary_id_list);\r\n    \r\n     @Query(&quot;select * from salary where time&gt;=:from and time&lt;=:to order by time &quot;)\r\n     List&lt;Salary&gt; selectByDate(Date from, Date to);\r\n    \r\n     @Query(&quot;select * from salary where idCar=:id order by time asc &quot;)\r\n     List&lt;Salary&gt; selectByDate(Long id);\r\n     @Query(&quot;select sum(amount) from salary where idCar=:id order by time asc &quot;)\r\n     double getSum(long id);\r\n    \r\n    }\r\n\r\n- Note that for brevity/convenience LiveData has not bee used\r\n\r\nThe **DateConverter** class (assumed converter Date to/from long) :-\r\n\r\n    public class DateConverter {\r\n    \r\n       @TypeConverter\r\n       public long fromDateToLong(Date date) {\r\n          return date.getTime();\r\n       }\r\n    \r\n       @TypeConverter\r\n       public Date fromLongToDate(long date) {\r\n          return new Date(date);\r\n       }\r\n    }\r\n\r\n- Note @TypeConverters annotation moved to @Database for full scope.\r\n\r\nAn @Database annotated class, to cater for the demo:-\r\n\r\n    @TypeConverters({DateConverter.class})\r\n    @Database(entities = {Salary.class}, version = 1, exportSchema = false)\r\n    abstract class TheDatabase extends RoomDatabase {\r\n       abstract SalaryDao getSalaryDao();\r\n    \r\n       private static TheDatabase instance = null;\r\n       static TheDatabase getInstance(Context context) {\r\n          if (instance == null) {\r\n             instance = Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\r\n                     .allowMainThreadQueries()\r\n                     .build();\r\n          }\r\n          return instance;\r\n       }\r\n    }\r\n\r\n- note allowMainThreadQueries used for brevity/convenience\r\n\r\nFinally putting it all together into a demo that adds 5 Salaries and the uses the **`selectSal`** dao method to retrieve a subset of the 5 Salaries (1st,3rd and 5th):-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TheDatabase db;\r\n        SalaryDao dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = TheDatabase.getInstance(this);\r\n            dao = db.getSalaryDao();\r\n    \r\n            Salary s1 = new Salary();\r\n            s1.amount = 100;\r\n            s1.idCar = 10;\r\n            s1.time = new Date();\r\n            s1.id = dao.insertSal(s1);\r\n    \r\n            Salary s2 = new Salary();\r\n            s2.amount = 200;\r\n            s2.idCar = 20;\r\n            s2.time = new Date();\r\n            s2.id = dao.insertSal(s2);\r\n    \r\n            Salary s3 = new Salary();\r\n            s3.amount = 300;\r\n            s3.idCar = 30;\r\n            s3.time = new Date();\r\n            s3.id = dao.insertSal(s3);\r\n    \r\n            Salary s4 = new Salary();\r\n            s4.amount = 400;\r\n            s4.idCar = 40;\r\n            s4.time = new Date();\r\n            s4.id = dao.insertSal(s4);\r\n    \r\n            Salary s5 = new Salary();\r\n            s5.amount = 500;\r\n            s5.idCar = 50;\r\n            s5.time = new Date();\r\n            s5.id = dao.insertSal(s5);\r\n    \r\n            for(Salary s: dao.selectSal(Salary.getSalaryIdList(s1,s3,s5))) {\r\n                Log.d(&quot;DBINFO&quot;,&quot;Salary ID is &quot; + s.id + &quot; Amount is $&quot; + s.amount + &quot; IdCar is &quot; + s.idCar + &quot; Time is &quot; + s.time);\r\n            }\r\n        }\r\n    }\r\n\r\n- Note this is intended to just run the once (although will subsequently run but additional rows will be added each time).\r\n\r\nThe resultant **output** (for the first run) written to the log :-\r\n\r\n    2022-05-14 12:55:41.015 D/DBINFO: Salary ID is 1 Amount is $100.0 IdCar is 10 Time is Sat May 14 12:55:40 GMT+10:00 2022\r\n    2022-05-14 12:55:41.015 D/DBINFO: Salary ID is 3 Amount is $300.0 IdCar is 30 Time is Sat May 14 12:55:40 GMT+10:00 2022\r\n    2022-05-14 12:55:41.015 D/DBINFO: Salary ID is 5 Amount is $500.0 IdCar is 50 Time is Sat May 14 12:55:40 GMT+10:00 2022\r\n\r\n- i.e. 1st, 3rd and 5th have been retrieved.\r\n\r\nThe database via AppInspection :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mtBYP.png","title":"Query method parameters should either be a type that can be converted into a database column or a List","body":"<p>You have a few issues with:-</p>\n<pre><code>@Query(&quot;select * from salary order by id asc&quot;)\nLiveData&lt;List&lt;salary&gt;&gt; selectSal(salary...sal)\n</code></pre>\n<p>The query is saying SELECT every row. It is not saying SELECT some rows according to a parameter. Whilst the function is saying to utilise the passed parameter. Room doesn't know what to do with salary...sal nor would it be able to handle it as it does not equate to something that it can place into the query (a column's value or a list of column values).</p>\n<p>So you need to define/use a query that will SELECT certain rows and typically this would be via a WHERE clause.</p>\n<p>You appear to want to select a subset of Salaries based upon a list of salary objects. However, a salary, as per the message, is NOT suitable for a query parameter.</p>\n<p>I suspect that you want something like:-</p>\n<pre><code>@Query(&quot;select * from salary WHERE id IN(:salary_id_list) order by id asc&quot;)\nLiveData&lt;List&lt;Salary&gt;&gt; selectSal(long[] salary_id_list);\n</code></pre>\n<p>So the query is saying SELECT only those rows WHERE the salary's <strong>id</strong> is in the provided list. The provided list would be something like 10,20,30 (i.e. the id of the respective salaries).</p>\n<p><strong>Working Demo</strong></p>\n<p>The <strong>Salary</strong> class @Entity based upon what can be extracted from the code you have provided <em>(so will very likely NOT match your <strong>salary</strong> class)</em> :-</p>\n<pre><code>@Entity\nclass Salary {\n    @PrimaryKey\n    Long id=null;\n    Date time;\n    double amount;\n    long idCar;\n\n    /* ADDED for the DEMO*/\n    public static long[] getSalaryIdList(Salary...salaries) {\n        long[] rv = new long[salaries.length];\n        int i = 0;\n        for (Salary s: salaries) {\n            rv[i++] = s.id;\n        }\n        return rv;\n    }\n}\n</code></pre>\n<ul>\n<li>Note the added method to extract an array (long[]) of id's from the passed Salaries.</li>\n</ul>\n<p><strong>SalaryDao</strong></p>\n<pre><code>@Dao\npublic interface SalaryDao\n{\n @Insert\n long insertSal(Salary sal); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED\n @Update\n void updateSal(Salary sal);\n @Delete\n void deleteSal(Salary sal);\n\n\n /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\n @Query(&quot;select * from salary WHERE id IN(:salary_id_list) order by id asc&quot;)\n List&lt;Salary&gt; selectSal(long[] salary_id_list);\n\n @Query(&quot;select * from salary where time&gt;=:from and time&lt;=:to order by time &quot;)\n List&lt;Salary&gt; selectByDate(Date from, Date to);\n\n @Query(&quot;select * from salary where idCar=:id order by time asc &quot;)\n List&lt;Salary&gt; selectByDate(Long id);\n @Query(&quot;select sum(amount) from salary where idCar=:id order by time asc &quot;)\n double getSum(long id);\n\n}\n</code></pre>\n<ul>\n<li>Note that for brevity/convenience LiveData has not bee used</li>\n</ul>\n<p>The <strong>DateConverter</strong> class (assumed converter Date to/from long) :-</p>\n<pre><code>public class DateConverter {\n\n   @TypeConverter\n   public long fromDateToLong(Date date) {\n      return date.getTime();\n   }\n\n   @TypeConverter\n   public Date fromLongToDate(long date) {\n      return new Date(date);\n   }\n}\n</code></pre>\n<ul>\n<li>Note @TypeConverters annotation moved to @Database for full scope.</li>\n</ul>\n<p>An @Database annotated class, to cater for the demo:-</p>\n<pre><code>@TypeConverters({DateConverter.class})\n@Database(entities = {Salary.class}, version = 1, exportSchema = false)\nabstract class TheDatabase extends RoomDatabase {\n   abstract SalaryDao getSalaryDao();\n\n   private static TheDatabase instance = null;\n   static TheDatabase getInstance(Context context) {\n      if (instance == null) {\n         instance = Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\n                 .allowMainThreadQueries()\n                 .build();\n      }\n      return instance;\n   }\n}\n</code></pre>\n<ul>\n<li>note allowMainThreadQueries used for brevity/convenience</li>\n</ul>\n<p>Finally putting it all together into a demo that adds 5 Salaries and the uses the <strong><code>selectSal</code></strong> dao method to retrieve a subset of the 5 Salaries (1st,3rd and 5th):-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TheDatabase db;\n    SalaryDao dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = TheDatabase.getInstance(this);\n        dao = db.getSalaryDao();\n\n        Salary s1 = new Salary();\n        s1.amount = 100;\n        s1.idCar = 10;\n        s1.time = new Date();\n        s1.id = dao.insertSal(s1);\n\n        Salary s2 = new Salary();\n        s2.amount = 200;\n        s2.idCar = 20;\n        s2.time = new Date();\n        s2.id = dao.insertSal(s2);\n\n        Salary s3 = new Salary();\n        s3.amount = 300;\n        s3.idCar = 30;\n        s3.time = new Date();\n        s3.id = dao.insertSal(s3);\n\n        Salary s4 = new Salary();\n        s4.amount = 400;\n        s4.idCar = 40;\n        s4.time = new Date();\n        s4.id = dao.insertSal(s4);\n\n        Salary s5 = new Salary();\n        s5.amount = 500;\n        s5.idCar = 50;\n        s5.time = new Date();\n        s5.id = dao.insertSal(s5);\n\n        for(Salary s: dao.selectSal(Salary.getSalaryIdList(s1,s3,s5))) {\n            Log.d(&quot;DBINFO&quot;,&quot;Salary ID is &quot; + s.id + &quot; Amount is $&quot; + s.amount + &quot; IdCar is &quot; + s.idCar + &quot; Time is &quot; + s.time);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Note this is intended to just run the once (although will subsequently run but additional rows will be added each time).</li>\n</ul>\n<p>The resultant <strong>output</strong> (for the first run) written to the log :-</p>\n<pre><code>2022-05-14 12:55:41.015 D/DBINFO: Salary ID is 1 Amount is $100.0 IdCar is 10 Time is Sat May 14 12:55:40 GMT+10:00 2022\n2022-05-14 12:55:41.015 D/DBINFO: Salary ID is 3 Amount is $300.0 IdCar is 30 Time is Sat May 14 12:55:40 GMT+10:00 2022\n2022-05-14 12:55:41.015 D/DBINFO: Salary ID is 5 Amount is $500.0 IdCar is 50 Time is Sat May 14 12:55:40 GMT+10:00 2022\n</code></pre>\n<ul>\n<li>i.e. 1st, 3rd and 5th have been retrieved.</li>\n</ul>\n<p>The database via AppInspection :-</p>\n<p><a href=\"https://i.stack.imgur.com/mtBYP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mtBYP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24940171,"reputation":11,"user_id":18806180,"display_name":"Zwali courses  Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652498163,"creation_date":1652477260,"question_id":72235587,"body_markdown":"    package com.example.hand.data;\r\n    import androidx.lifecycle.LiveData;\r\n    import androidx.room.Dao;\r\n    import androidx.room.Delete;\r\n    import androidx.room.Insert;\r\n    import androidx.room.Query;\r\n    import androidx.room.TypeConverters;\r\n    import androidx.room.Update;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    @Dao\r\n    @TypeConverters(dateConverter.class)\r\n    public interface salaryDao\r\n    {\r\n        @Insert\r\n        void insertSal(salary sal);\r\n        @Update\r\n        void updateSal(salary sal);\r\n        @Delete\r\n        void deleteSal(salary sal);\r\n    \r\n    \r\n        @Query(&quot;select * from salary order by id asc&quot;)\r\n        LiveData&lt;List&lt;salary&gt;&gt; selectSal(salary...sal);\r\n        @Query(&quot;select * from salary where time&gt;=:from and time&lt;=:to order by time &quot;)\r\n        LiveData&lt;List&lt;salary&gt;&gt; selectByDate(Date from,Date to);\r\n        @Query(&quot;select * from salary where idCar=:id order by time asc &quot;)\r\n        LiveData&lt;List&lt;salary&gt;&gt; selectByDate(Long id);\r\n        @Query(&quot;select sum(amount) from salary where idCar=:id order by time asc &quot;)\r\n        double getSum(long id);\r\n    \r\n    }\r\nthe error\r\n\r\nC:\\Users\\MCD\\AndroidStudioProjects\\Hand\\app\\src\\main\\java\\com\\example\\hand\\data\\salaryDao.java:30: error: Query method parameters should either be a type that can be converted into a database column or a List / Array that contains such type. You can consider adding a Type Adapter for this.\r\n    LiveData&lt;List&lt;salary&gt;&gt; selectSal(salary...sal);\r\n\r\n","title":"Query method parameters should either be a type that can be converted into a database column or a List","body":"<pre><code>package com.example.hand.data;\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Dao;\nimport androidx.room.Delete;\nimport androidx.room.Insert;\nimport androidx.room.Query;\nimport androidx.room.TypeConverters;\nimport androidx.room.Update;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\n@Dao\n@TypeConverters(dateConverter.class)\npublic interface salaryDao\n{\n    @Insert\n    void insertSal(salary sal);\n    @Update\n    void updateSal(salary sal);\n    @Delete\n    void deleteSal(salary sal);\n\n\n    @Query(&quot;select * from salary order by id asc&quot;)\n    LiveData&lt;List&lt;salary&gt;&gt; selectSal(salary...sal);\n    @Query(&quot;select * from salary where time&gt;=:from and time&lt;=:to order by time &quot;)\n    LiveData&lt;List&lt;salary&gt;&gt; selectByDate(Date from,Date to);\n    @Query(&quot;select * from salary where idCar=:id order by time asc &quot;)\n    LiveData&lt;List&lt;salary&gt;&gt; selectByDate(Long id);\n    @Query(&quot;select sum(amount) from salary where idCar=:id order by time asc &quot;)\n    double getSum(long id);\n\n}\n</code></pre>\n<p>the error</p>\n<p>C:\\Users\\MCD\\AndroidStudioProjects\\Hand\\app\\src\\main\\java\\com\\example\\hand\\data\\salaryDao.java:30: error: Query method parameters should either be a type that can be converted into a database column or a List / Array that contains such type. You can consider adding a Type Adapter for this.\nLiveData&lt;List&gt; selectSal(salary...sal);</p>\n"},{"tags":["java","multithreading","reentrantlock"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1652485437,"post_id":72236295,"comment_id":127625662,"body_markdown":"`await()` releases the lock until it gets the signal.","body":"<code>await()</code> releases the lock until it gets the signal."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652489817,"post_id":72236295,"comment_id":127626099,"body_markdown":"The idea is: If a thread wants to push to a full stack and obtains the lock, then what is it supposed to do? It needs to wait until the stack is no longer full. That condition can only occur when another thread comes along and pops an element from the stack. But that means the &quot;pop thread&quot; needs to acquire the lock, so the thread waiting to push an element needs to release the lock while waiting for the stack to no longer be full. It does that by calling `await()`. Then the &quot;pop thread&quot; signals that condition, waking up the waiting &quot;push thread&quot; so that it can continue doing what it was doing.","body":"The idea is: If a thread wants to push to a full stack and obtains the lock, then what is it supposed to do? It needs to wait until the stack is no longer full. That condition can only occur when another thread comes along and pops an element from the stack. But that means the &quot;pop thread&quot; needs to acquire the lock, so the thread waiting to push an element needs to release the lock while waiting for the stack to no longer be full. It does that by calling <code>await()</code>. Then the &quot;pop thread&quot; signals that condition, waking up the waiting &quot;push thread&quot; so that it can continue doing what it was doing."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652489841,"post_id":72236295,"comment_id":127626103,"body_markdown":"And the same in the opposite direction (when a thread tries to pop an element but the stack is empty). Note when a thread wakes up from `await()` it has reacquired the lock.","body":"And the same in the opposite direction (when a thread tries to pop an element but the stack is empty). Note when a thread wakes up from <code>await()</code> it has reacquired the lock."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1652537705,"post_id":72236295,"comment_id":127632714,"body_markdown":"TLDR: Use a lock to control access to shared data. Use a condition variable to let one thread notify another about a change in shared data.","body":"TLDR: Use a lock to control access to shared data. Use a condition variable to let one thread notify another about a change in shared data."}],"answers":[{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652496818,"creation_date":1652496818,"answer_id":72236974,"question_id":72236295,"body_markdown":"The point is the Condition, not the Lock.  \r\n\r\nIt is often the case that a program needs to wait until either &quot;something happens&quot; or &quot;something is in a particular state&quot;.  The Condition represents what you&#39;re waiting for.\r\n\r\nIn order to program such a thing safely, some sort of locking is needed. If you&#39;re waiting for something to be in a particular state, you really want it to remain in that state while you do whatever you had in mind when you decided to wait for it. That&#39;s where the Lock comes in.\r\n\r\nIn your example, you want to wait until the stack is not full, and when you discover that the stack is not full, you want it to stay not-full (that is, prevent some other thread from pushing on to the stack) while you push something on that stack.\r\n\r\n","title":"What is the use of Condition along with Lock in Java","body":"<p>The point is the Condition, not the Lock.</p>\n<p>It is often the case that a program needs to wait until either &quot;something happens&quot; or &quot;something is in a particular state&quot;.  The Condition represents what you're waiting for.</p>\n<p>In order to program such a thing safely, some sort of locking is needed. If you're waiting for something to be in a particular state, you really want it to remain in that state while you do whatever you had in mind when you decided to wait for it. That's where the Lock comes in.</p>\n<p>In your example, you want to wait until the stack is not full, and when you discover that the stack is not full, you want it to stay not-full (that is, prevent some other thread from pushing on to the stack) while you push something on that stack.</p>\n"}],"owner":{"account_id":176485,"reputation":2275,"user_id":407210,"accept_rate":62,"display_name":"figaro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652496818,"creation_date":1652485182,"question_id":72236295,"body_markdown":"I am trying to understand what is the use of doing `condition.await()` if I am already doing `lock.lock()`\r\nIf I understood locks correctly, once I do `lock.lock()` it will not proceed any further if some other thread has a lock. \r\n\r\nSo, in this case if `pushToStack()` has acquired a lock by doing `lock.lock()` then what is the use of checking for `stackEmptyCondition.await()` in the `popFromStack()` method? Because anyway, the code will stop at the lock.lock() line in the `popFromStack()` method. What am I missing/wrong?\r\n\r\n```\r\npublic class ReentrantLockWithCondition {\r\n\r\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n    int CAPACITY = 5;\r\n\r\n    ReentrantLock lock = new ReentrantLock();\r\n    Condition stackEmptyCondition = lock.newCondition();\r\n    Condition stackFullCondition = lock.newCondition();\r\n\r\n    public void pushToStack(String item){\r\n        try {\r\n            lock.lock();\r\n            while(stack.size() == CAPACITY) {\r\n                stackFullCondition.await();\r\n            }\r\n            stack.push(item);\r\n            stackEmptyCondition.signalAll();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    public String popFromStack() {\r\n        try {\r\n            lock.lock(); // we are blocked here to acquire a lock\r\n            while(stack.size() == 0) {\r\n                stackEmptyCondition.await(); // then why do we need to check this again?\r\n            }\r\n            return stack.pop();\r\n        } finally {\r\n            stackFullCondition.signalAll();\r\n            lock.unlock();\r\n        }\r\n    }\r\n}\r\n```","title":"What is the use of Condition along with Lock in Java","body":"<p>I am trying to understand what is the use of doing <code>condition.await()</code> if I am already doing <code>lock.lock()</code>\nIf I understood locks correctly, once I do <code>lock.lock()</code> it will not proceed any further if some other thread has a lock.</p>\n<p>So, in this case if <code>pushToStack()</code> has acquired a lock by doing <code>lock.lock()</code> then what is the use of checking for <code>stackEmptyCondition.await()</code> in the <code>popFromStack()</code> method? Because anyway, the code will stop at the lock.lock() line in the <code>popFromStack()</code> method. What am I missing/wrong?</p>\n<pre><code>public class ReentrantLockWithCondition {\n\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n    int CAPACITY = 5;\n\n    ReentrantLock lock = new ReentrantLock();\n    Condition stackEmptyCondition = lock.newCondition();\n    Condition stackFullCondition = lock.newCondition();\n\n    public void pushToStack(String item){\n        try {\n            lock.lock();\n            while(stack.size() == CAPACITY) {\n                stackFullCondition.await();\n            }\n            stack.push(item);\n            stackEmptyCondition.signalAll();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public String popFromStack() {\n        try {\n            lock.lock(); // we are blocked here to acquire a lock\n            while(stack.size() == 0) {\n                stackEmptyCondition.await(); // then why do we need to check this again?\n            }\n            return stack.pop();\n        } finally {\n            stackFullCondition.signalAll();\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","media-player","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652496204,"creation_date":1652443289,"answer_id":72229277,"question_id":72227684,"body_markdown":"You should override `onDestroy` method and call `stop` there. \r\n\r\n\r\n```java\r\n@Override\r\npublic void onDestroy() {\r\n    player.stop();\r\n}\r\n```","title":"Android Studio media player doesnt play when the app is closed","body":"<p>You should override <code>onDestroy</code> method and call <code>stop</code> there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onDestroy() {\n    player.stop();\n}\n</code></pre>\n"}],"owner":{"account_id":8517498,"reputation":9,"user_id":6385494,"display_name":"Eugene Jefferson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652496204,"creation_date":1652435728,"question_id":72227684,"body_markdown":"I made an Android app that should play a sound when event is received, it works when app is in focus, but when the app is closed/collapsed sound doesnt play, only standard notification.\r\nHow to start a sound/music that is placed inside the app when app with the foreground service?\r\n\r\nMain activity:\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Intent alarmServiceIntent;\r\n    private ServiceConnection sConn;\r\n    private boolean bound;\r\n    private boolean alarm = false;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Init();\r\n    }\r\n\r\n    private void Init() {\r\n        alarmServiceIntent = new Intent(this, AlarmService.class);\r\n        sConn = new ServiceConnection() {\r\n            public void onServiceConnected(ComponentName name, IBinder binder) {\r\n                bound = true;\r\n            }\r\n            public void onServiceDisconnected(ComponentName name) {\r\n                bound = false;\r\n            }\r\n        };\r\n        ContextCompat.startForegroundService(this, alarmServiceIntent);\r\n    }\r\n    private void playAlarm() {\r\n        bindService(alarmServiceIntent, sConn, BIND_AUTO_CREATE);\r\n    }\r\n   \r\n    public void stopAlarm(View v) {\r\n        if (sConn != null ) {\r\n            unbindService(sConn);\r\n        }\r\n        if(alarmServiceIntent != null) {\r\n            stopService(alarmServiceIntent);\r\n        }\r\n    }\r\n   //here is the method to receive event and call playAlarm\r\n}\r\n```\r\n\r\nAlarm service:\r\n\r\n```java\r\npublic class AlarmService extends Service{\r\n    private final String CHANNEL_ID = &quot;ID&quot;;\r\n    private final String CHANNEL_NAME = &quot;NAME&quot;;\r\n    private IBinder mBinder = new MyBinder();\r\n    private MediaPlayer player;\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        play();\r\n        return mBinder;\r\n    }\r\n\r\n    @Override\r\n    public boolean onUnbind(Intent intent) {\r\n        onStop();\r\n        return super.onUnbind(intent);\r\n    }\r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        player = MediaPlayer.create(this,R.raw.alarm);\r\n        player.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);\r\n        super.onCreate();\r\n    }\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = null;\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n            pendingIntent = PendingIntent.getActivity\r\n                    (this, 0, notificationIntent, PendingIntent.FLAG_MUTABLE);\r\n        }\r\n        else\r\n        {\r\n            pendingIntent = PendingIntent.getActivity\r\n                    (this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\r\n        }\r\n\r\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setContentTitle(&quot;TITLE&quot;)\r\n                .setSmallIcon(R.mipmap.icon)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n        NotificationManager  mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel( CHANNEL_ID, CHANNEL_NAME, NotificationManager.IMPORTANCE_DEFAULT);\r\n            mNotificationManager.createNotificationChannel(channel);\r\n            new NotificationCompat.Builder(this, CHANNEL_ID);\r\n        }\r\n        startForeground(619, notification);\r\n\r\n        return START_REDELIVER_INTENT;\r\n    }\r\n\r\n\r\n    public void play() {\r\n        if(player == null) {\r\n            player = MediaPlayer.create(this,R.raw.alarm);\r\n            player.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);\r\n\r\n        }\r\n        Log.v(&quot;ALARM&quot;, &quot;play: 12345&quot;);\r\n        player.setAudioAttributes(\r\n                new AudioAttributes.Builder()\r\n                        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                        .setUsage(AudioAttributes.USAGE_ALARM)\r\n                        .build()\r\n        );\r\n        player.setVolume(2,2);\r\n        AudioManager audioManager = (AudioManager)getSystemService(Context.AUDIO_SERVICE);\r\n        // audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC), 0);\r\n        player.setLooping(true);\r\n        player.start();\r\n\r\n    }\r\n    class MyBinder extends Binder {\r\n        AlarmService getService(){\r\n            return AlarmService.this;\r\n        }\r\n    }\r\n}\r\n```","title":"Android Studio media player doesnt play when the app is closed","body":"<p>I made an Android app that should play a sound when event is received, it works when app is in focus, but when the app is closed/collapsed sound doesnt play, only standard notification.\nHow to start a sound/music that is placed inside the app when app with the foreground service?</p>\n<p>Main activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    private Intent alarmServiceIntent;\n    private ServiceConnection sConn;\n    private boolean bound;\n    private boolean alarm = false;\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Init();\n    }\n\n    private void Init() {\n        alarmServiceIntent = new Intent(this, AlarmService.class);\n        sConn = new ServiceConnection() {\n            public void onServiceConnected(ComponentName name, IBinder binder) {\n                bound = true;\n            }\n            public void onServiceDisconnected(ComponentName name) {\n                bound = false;\n            }\n        };\n        ContextCompat.startForegroundService(this, alarmServiceIntent);\n    }\n    private void playAlarm() {\n        bindService(alarmServiceIntent, sConn, BIND_AUTO_CREATE);\n    }\n   \n    public void stopAlarm(View v) {\n        if (sConn != null ) {\n            unbindService(sConn);\n        }\n        if(alarmServiceIntent != null) {\n            stopService(alarmServiceIntent);\n        }\n    }\n   //here is the method to receive event and call playAlarm\n}\n</code></pre>\n<p>Alarm service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AlarmService extends Service{\n    private final String CHANNEL_ID = &quot;ID&quot;;\n    private final String CHANNEL_NAME = &quot;NAME&quot;;\n    private IBinder mBinder = new MyBinder();\n    private MediaPlayer player;\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        play();\n        return mBinder;\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        onStop();\n        return super.onUnbind(intent);\n    }\n    \n    @Override\n    public void onCreate() {\n        player = MediaPlayer.create(this,R.raw.alarm);\n        player.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);\n        super.onCreate();\n    }\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = null;\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n            pendingIntent = PendingIntent.getActivity\n                    (this, 0, notificationIntent, PendingIntent.FLAG_MUTABLE);\n        }\n        else\n        {\n            pendingIntent = PendingIntent.getActivity\n                    (this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\n        }\n\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(&quot;TITLE&quot;)\n                .setSmallIcon(R.mipmap.icon)\n                .setContentIntent(pendingIntent)\n                .build();\n        NotificationManager  mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel( CHANNEL_ID, CHANNEL_NAME, NotificationManager.IMPORTANCE_DEFAULT);\n            mNotificationManager.createNotificationChannel(channel);\n            new NotificationCompat.Builder(this, CHANNEL_ID);\n        }\n        startForeground(619, notification);\n\n        return START_REDELIVER_INTENT;\n    }\n\n\n    public void play() {\n        if(player == null) {\n            player = MediaPlayer.create(this,R.raw.alarm);\n            player.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);\n\n        }\n        Log.v(&quot;ALARM&quot;, &quot;play: 12345&quot;);\n        player.setAudioAttributes(\n                new AudioAttributes.Builder()\n                        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                        .setUsage(AudioAttributes.USAGE_ALARM)\n                        .build()\n        );\n        player.setVolume(2,2);\n        AudioManager audioManager = (AudioManager)getSystemService(Context.AUDIO_SERVICE);\n        // audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC), 0);\n        player.setLooping(true);\n        player.start();\n\n    }\n    class MyBinder extends Binder {\n        AlarmService getService(){\n            return AlarmService.this;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1305044,"reputation":8301,"user_id":1254208,"display_name":"GregHNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652496200,"creation_date":1652496200,"answer_id":72236941,"question_id":72236544,"body_markdown":"\r\nWell, it goes to `p2Game` because you tell it to several times. \r\n\r\nIn `player()` you call `p1Game` then you call `p2Game` that&#39;s cool, that&#39;d work.  When `p1Game` finishes, it goes back to `player`, and the next line is `p2Game` which is probably what you want.\r\n\r\nBUT, you call `p2Game` a number of times within `p1Game` which is probably what&#39;s causing the problem.  The two times in `p1Game` that you call `p2Game` are probably unnecessary.  \r\n\r\nWhat happens right now, is player 1 guesses the correct word.  You say &quot;Nicely done!&quot; then call `p2Game`. Player 2 has a go, when that finishes, control goes back into `p1Game` carries on, it rolls out of `p1Game` eventually finishes, goes back to `player` and `p2Game` gets another call. \r\n\r\nSo, ditch those calls to `p2Game` inside the `p1Game` method.\r\n\r\n\r\nIn terms of organising your code better.  Yes, there are a couple of things:\r\n* avoid repeating code.  `p1Game` and `p2Game` look almost identical. If you find yourself writing code like that, you should think about a different way to go.  There&#39;s a programming principle called &quot;DRY - Don&#39;t Repeat Yourself&quot;\r\n* avoid `static` when you&#39;re using an object oriented language like Java.  Might as well be writing BASIC in 1986.\r\n\r\n\r\nNormally the `main` method is the only `static` method.  \r\n\r\n    public static void main() \r\n    {\r\n       WordleApplication wa = new WordleApplication();\r\n       wa.player();\r\n    }\r\n\r\n\r\nYou&#39;d take `static` off your `player` method. \r\n\r\n\r\n\r\nChange your `p1Game` method so it accepts a `Player` object as a parameter:\r\n\r\n\r\n\r\n    public static void OneGame(Player p) {\r\n        System.out.println(&quot;Alright &quot; + p.getName() + &quot; you&#39;re up!&quot;);\r\n        while (!guess.equals(word) &amp;&amp; g &gt; 0) {\r\n            System.out.println(&quot;\\nGuesses Left: &quot; + g);\r\n    ...\r\n   \r\n\r\nSee how it uses the parameter for the name in the &quot;you&#39;re up&quot; line? extend that through out the method.\r\n\r\nSo then, at the bottom of the `player` method, \r\ninstead of\r\n\r\n    p1Game()\r\n    p2Game()\r\n\r\nyou can instead do\r\n\r\n    OneGame (p1);\r\n    OneGame (p2);\r\n\r\nAnd that means you can delete `p2Game` entirely. And that&#39;s good because less code is better code. \r\n\r\n\r\nThe static variables are also bad form.  They&#39;re basically &quot;Global Variables&quot; in your app, and it&#39;s really hard to keep track of global variables once your app gets a lot bigger.   It&#39;s better to minimise who can modify the variable.  One example is `g`.  This is only need inside the game method.  So if you move it to the start of the `OneGame` method and set it to 6, you&#39;ll be good.  As it is, it *looks* like both players get 6 guesses between them.  If player 1 takes 5 guesses, Player 2 is only going to get 1 guess.\r\n\r\n\r\nSo \r\n* move the variables that _could_ be inside the &#39;game&#39; method in there.  That&#39;s `guess` and `g` and probably `word` unless you *do* want both players guessing the same word?\r\n* move the variables that belong to the player into the player object.  So instead of the `p1Name` variable refer to `getName()` method of the `p` parameter.  Instead of `p1Score` use `setScore` and `getScore`\r\n\r\n\r\n\r\nIt looks like you&#39;ve put a chunk of effort into this.  I think with a bit more it&#39;ll all just fall into place.\r\n\r\nGood luck. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does my program keep going to the player() method after p1Game() is finished?","body":"<p>Well, it goes to <code>p2Game</code> because you tell it to several times.</p>\n<p>In <code>player()</code> you call <code>p1Game</code> then you call <code>p2Game</code> that's cool, that'd work.  When <code>p1Game</code> finishes, it goes back to <code>player</code>, and the next line is <code>p2Game</code> which is probably what you want.</p>\n<p>BUT, you call <code>p2Game</code> a number of times within <code>p1Game</code> which is probably what's causing the problem.  The two times in <code>p1Game</code> that you call <code>p2Game</code> are probably unnecessary.</p>\n<p>What happens right now, is player 1 guesses the correct word.  You say &quot;Nicely done!&quot; then call <code>p2Game</code>. Player 2 has a go, when that finishes, control goes back into <code>p1Game</code> carries on, it rolls out of <code>p1Game</code> eventually finishes, goes back to <code>player</code> and <code>p2Game</code> gets another call.</p>\n<p>So, ditch those calls to <code>p2Game</code> inside the <code>p1Game</code> method.</p>\n<p>In terms of organising your code better.  Yes, there are a couple of things:</p>\n<ul>\n<li>avoid repeating code.  <code>p1Game</code> and <code>p2Game</code> look almost identical. If you find yourself writing code like that, you should think about a different way to go.  There's a programming principle called &quot;DRY - Don't Repeat Yourself&quot;</li>\n<li>avoid <code>static</code> when you're using an object oriented language like Java.  Might as well be writing BASIC in 1986.</li>\n</ul>\n<p>Normally the <code>main</code> method is the only <code>static</code> method.</p>\n<pre><code>public static void main() \n{\n   WordleApplication wa = new WordleApplication();\n   wa.player();\n}\n</code></pre>\n<p>You'd take <code>static</code> off your <code>player</code> method.</p>\n<p>Change your <code>p1Game</code> method so it accepts a <code>Player</code> object as a parameter:</p>\n<pre><code>public static void OneGame(Player p) {\n    System.out.println(&quot;Alright &quot; + p.getName() + &quot; you're up!&quot;);\n    while (!guess.equals(word) &amp;&amp; g &gt; 0) {\n        System.out.println(&quot;\\nGuesses Left: &quot; + g);\n...\n</code></pre>\n<p>See how it uses the parameter for the name in the &quot;you're up&quot; line? extend that through out the method.</p>\n<p>So then, at the bottom of the <code>player</code> method,\ninstead of</p>\n<pre><code>p1Game()\np2Game()\n</code></pre>\n<p>you can instead do</p>\n<pre><code>OneGame (p1);\nOneGame (p2);\n</code></pre>\n<p>And that means you can delete <code>p2Game</code> entirely. And that's good because less code is better code.</p>\n<p>The static variables are also bad form.  They're basically &quot;Global Variables&quot; in your app, and it's really hard to keep track of global variables once your app gets a lot bigger.   It's better to minimise who can modify the variable.  One example is <code>g</code>.  This is only need inside the game method.  So if you move it to the start of the <code>OneGame</code> method and set it to 6, you'll be good.  As it is, it <em>looks</em> like both players get 6 guesses between them.  If player 1 takes 5 guesses, Player 2 is only going to get 1 guess.</p>\n<p>So</p>\n<ul>\n<li>move the variables that <em>could</em> be inside the 'game' method in there.  That's <code>guess</code> and <code>g</code> and probably <code>word</code> unless you <em>do</em> want both players guessing the same word?</li>\n<li>move the variables that belong to the player into the player object.  So instead of the <code>p1Name</code> variable refer to <code>getName()</code> method of the <code>p</code> parameter.  Instead of <code>p1Score</code> use <code>setScore</code> and <code>getScore</code></li>\n</ul>\n<p>It looks like you've put a chunk of effort into this.  I think with a bit more it'll all just fall into place.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":25286545,"reputation":1,"user_id":19113408,"display_name":"Justin White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652496200,"creation_date":1652488869,"question_id":72236544,"body_markdown":"Is there any way I&#39;m able to format my code better too? I&#39;m pretty new to programming and want to learn the best optimal way for this program to work. For example: If the word isn&#39;t contained in my Words.java then tell the user that the word they&#39;re trying to enter doesn&#39;t exist.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class WordleApplication\r\n{\r\n    static String word = Words.words[(int)(Math.random() * Words.words.length)];\r\n    static Scanner s = new Scanner(System.in);\r\n    static String guess = &quot;&quot;;\r\n    static int g = 6;\r\n    static String p1Name = &quot;&quot;;\r\n    static String p2Name = &quot;&quot;;\r\n    static int p1Score = 0;\r\n    static int p2Score = 0;\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        Rules.rules();\r\n        \r\n        // System.out.println(&quot;Please enter your name Player 1&quot;);\r\n        // Player p1 = new Player(s.nextLine(), 0);\r\n        // System.out.println(p1.getName());\r\n    }\r\n    \r\n    public static void player(){\r\n        System.out.println(&quot;Player 1 Enter your name: &quot;);\r\n        Player p1 = new Player(s.nextLine(), p1Score);\r\n        p1Name = p1.getName();\r\n        \r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;Player 2 Enter your name: &quot;);\r\n        Player p2 = new Player(s.nextLine(), p2Score);\r\n        p2Name = p2.getName();\r\n        \r\n        p1Game();\r\n        p2Game();\r\n    }\r\n    \r\n    \r\n    public static void p1Game() {\r\n        System.out.println(&quot;Alright &quot; + p1Name + &quot; you&#39;re up!&quot;);\r\n        while (!guess.equals(word) &amp;&amp; g &gt; 0) {\r\n            System.out.println(&quot;\\nGuesses Left: &quot; + g);\r\n            guess = s.nextLine().toLowerCase();\r\n            if (guess.length() != 5) {\r\n                System.out.println(&quot;Must be 5 characters&quot;);\r\n                continue;\r\n            }\r\n            for (int i = 0; i &lt; word.length(); i++) {\r\n                boolean didBreak = false;\r\n                for (int j = 0; j &lt; word.length(); j++) {\r\n                    if (guess.charAt(i) == word.charAt(i)) {\r\n                        System.out.print(&quot;Y&quot;);\r\n                        didBreak = true;\r\n                        break;\r\n                    }\r\n                    if (guess.charAt(i) == word.charAt(j)) {\r\n                        System.out.print(&quot;C&quot;);\r\n                        didBreak = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!didBreak) {\r\n                    System.out.print(&quot;X&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;\\n&quot; + word); //test\r\n            g--;\r\n            if(guess.equals(word)){\r\n                p1Score += 10;\r\n                System.out.println(&quot;Nicely done! You have &quot; + p1Score + &quot; points!&quot;);\r\n                p2Game();\r\n            }\r\n            if(g == 0){\r\n                System.out.println(&quot;\\nThe word was: &quot; + word);\r\n                p2Game();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void p2Game() {\r\n        System.out.println(&quot;Alright &quot; + p2Name + &quot; you&#39;re up!&quot;);\r\n        while (!guess.equals(word) &amp;&amp; g &gt; 0) {\r\n            System.out.println(&quot;\\nGuesses Left: &quot; + g);\r\n            guess = s.nextLine().toLowerCase();\r\n            if (guess.length() != 5) {\r\n                System.out.println(&quot;Must be 5 characters&quot;);\r\n                continue;\r\n            }\r\n            for (int i = 0; i &lt; word.length(); i++) {\r\n                boolean didBreak = false;\r\n                for (int j = 0; j &lt; word.length(); j++) {\r\n                    if (guess.charAt(i) == word.charAt(i)) {\r\n                        System.out.print(&quot;Y&quot;);\r\n                        didBreak = true;\r\n                        break;\r\n                    }\r\n                    if (guess.charAt(i) == word.charAt(j)) {\r\n                        System.out.print(&quot;C&quot;);\r\n                        didBreak = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!didBreak) {\r\n                    System.out.print(&quot;X&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;\\n&quot; + word); //test\r\n            g--;\r\n            if(guess.equals(word)){\r\n                System.out.println(&quot;Nicely done!&quot;);\r\n                p2Score += 10;\r\n            }\r\n            if(g == 0){\r\n                System.out.println(&quot;\\nThe word was: &quot; + word);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void results(){\r\n        System.out.println(&quot;test&quot;);\r\n    }\r\n    \r\n}\r\n```\r\nJust the rules to describe what to the user.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Rules {\r\n    public static void rules() {\r\n        \r\n        Scanner s = new Scanner(System.in);\r\n        String enterkey;\r\n        \r\n        System.out.println(&quot;Welcome to Wordle!&quot;);\r\n        System.out.println(&quot;Each player will be given 6 tries to guess a 5 letter word.&quot;);\r\n        System.out.println(&quot;If you can&#39;t guess the word in 6 tries. GAME OVER :(&quot;);\r\n        System.out.println(&quot;Do you have what it takes to guess the word?&quot;);\r\n        System.out.println(&quot;Go ahead and press y when you&#39;re ready!&quot;);\r\n        \r\n        while(true){\r\n            enterkey = s.nextLine();\r\n            if(!enterkey.equals(&quot;y&quot;)){\r\n                System.out.println(&quot;Please press y to continue...&quot;);\r\n                continue;\r\n            }\r\n            if(enterkey.equals(&quot;y&quot;)){\r\n                WordleApplication.player();\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n```\r\npublic class Player {\r\n    \r\n    protected String name;\r\n    protected int score;\r\n    \r\n    public Player(String name, int score) {\r\n        this.name = name;\r\n        this.score = 10;\r\n    }\r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n    \r\n    public int getScore() {\r\n        return score;\r\n    }\r\n    \r\n    public void setScore(int score) {\r\n        this.score = score;\r\n    }\r\n    \r\n    public String toString() {\r\n        return name + &quot;: &quot; + score;\r\n    }\r\n    \r\n}\r\n```\r\n```\r\npublic class Words {\r\n    public static String[] words = {\r\n        &quot;abuse&quot;,\r\n        &quot;adult&quot;,\r\n        &quot;agent&quot;,\r\n        &quot;anger&quot;,\r\n        &quot;apple&quot;,\r\n        &quot;award&quot;,\r\n        &quot;basis&quot;,\r\n        &quot;beach&quot;,\r\n        &quot;birth&quot;,\r\n        &quot;block&quot;,\r\n        &quot;blood&quot;,\r\n        &quot;board&quot;,\r\n        &quot;brain&quot;,\r\n        &quot;bread&quot;,\r\n        &quot;break&quot;,\r\n        &quot;brown&quot;,\r\n        &quot;buyer&quot;,\r\n        &quot;cause&quot;,\r\n        &quot;chain&quot;,\r\n        &quot;chair&quot;,\r\n        &quot;chest&quot;,\r\n        &quot;chief&quot;,\r\n        &quot;child&quot;,\r\n        &quot;china&quot;,\r\n        &quot;claim&quot;,\r\n        &quot;class&quot;,\r\n        &quot;clock&quot;,\r\n        &quot;coach&quot;,\r\n        &quot;coast&quot;,\r\n        &quot;court&quot;,\r\n        &quot;cover&quot;,\r\n        &quot;cream&quot;,\r\n        &quot;crime&quot;,\r\n        &quot;cross&quot;,\r\n        &quot;crowd&quot;,\r\n        &quot;crown&quot;,\r\n        &quot;cycle&quot;,\r\n        &quot;dance&quot;,\r\n        &quot;death&quot;,\r\n        &quot;depth&quot;,\r\n        &quot;doubt&quot;,\r\n        &quot;draft&quot;,\r\n        &quot;drama&quot;,\r\n        &quot;dream&quot;,\r\n        &quot;dress&quot;,\r\n        &quot;drink&quot;,\r\n        &quot;drive&quot;,\r\n        &quot;earth&quot;,\r\n        &quot;enemy&quot;,\r\n        &quot;entry&quot;,\r\n        &quot;error&quot;,\r\n        &quot;event&quot;,\r\n        &quot;faith&quot;,\r\n        &quot;fault&quot;,\r\n        &quot;field&quot;,\r\n        &quot;fight&quot;,\r\n        &quot;final&quot;,\r\n        &quot;floor&quot;,\r\n        &quot;focus&quot;,\r\n        &quot;force&quot;,\r\n        &quot;frame&quot;,\r\n        &quot;frank&quot;,\r\n        &quot;front&quot;,\r\n        &quot;fruit&quot;,\r\n        &quot;glass&quot;,\r\n        &quot;grant&quot;,\r\n        &quot;grass&quot;,\r\n        &quot;green&quot;,\r\n        &quot;group&quot;,\r\n        &quot;guide&quot;,\r\n        &quot;heart&quot;,\r\n        &quot;henry&quot;,\r\n        &quot;horse&quot;,\r\n        &quot;hotel&quot;,\r\n        &quot;house&quot;,\r\n        &quot;image&quot;,\r\n        &quot;index&quot;,\r\n        &quot;input&quot;,\r\n        &quot;issue&quot;,\r\n        &quot;japan&quot;,\r\n        &quot;jones&quot;,\r\n        &quot;judge&quot;,\r\n        &quot;knife&quot;,\r\n        &quot;laura&quot;,\r\n        &quot;layer&quot;,\r\n        &quot;level&quot;,\r\n        &quot;lewis&quot;,\r\n        &quot;light&quot;,\r\n        &quot;limit&quot;,\r\n        &quot;lunch&quot;,\r\n        &quot;major&quot;,\r\n        &quot;march&quot;,\r\n        &quot;match&quot;,\r\n        &quot;metal&quot;,\r\n        &quot;model&quot;,\r\n        &quot;money&quot;,\r\n        &quot;month&quot;,\r\n        &quot;motor&quot;,\r\n        &quot;mouth&quot;,\r\n        &quot;music&quot;,\r\n        &quot;night&quot;,\r\n        &quot;noise&quot;,\r\n        &quot;north&quot;,\r\n        &quot;novel&quot;,\r\n        &quot;nurse&quot;,\r\n        &quot;offer&quot;,\r\n        &quot;order&quot;,\r\n        &quot;other&quot;,\r\n        &quot;owner&quot;,\r\n        &quot;panel&quot;,\r\n        &quot;paper&quot;,\r\n        &quot;party&quot;,\r\n        &quot;peace&quot;,\r\n        &quot;peter&quot;,\r\n        &quot;phase&quot;,\r\n        &quot;phone&quot;,\r\n        &quot;piece&quot;,\r\n        &quot;pilot&quot;,\r\n        &quot;pitch&quot;,\r\n        &quot;place&quot;,\r\n        &quot;plane&quot;,\r\n        &quot;plant&quot;,\r\n        &quot;plate&quot;,\r\n        &quot;point&quot;,\r\n        &quot;pound&quot;,\r\n        &quot;power&quot;,\r\n        &quot;press&quot;,\r\n        &quot;price&quot;,\r\n        &quot;pride&quot;,\r\n        &quot;prize&quot;,\r\n        &quot;proof&quot;,\r\n        &quot;queen&quot;,\r\n        &quot;radio&quot;,\r\n        &quot;range&quot;,\r\n        &quot;ratio&quot;,\r\n        &quot;reply&quot;,\r\n        &quot;right&quot;,\r\n        &quot;river&quot;,\r\n        &quot;round&quot;,\r\n        &quot;route&quot;,\r\n        &quot;rugby&quot;,\r\n        &quot;scale&quot;,\r\n        &quot;scene&quot;,\r\n        &quot;scope&quot;,\r\n        &quot;score&quot;,\r\n        &quot;sense&quot;,\r\n        &quot;shape&quot;,\r\n        &quot;share&quot;,\r\n        &quot;sheep&quot;,\r\n        &quot;sheet&quot;,\r\n        &quot;shift&quot;,\r\n        &quot;shirt&quot;,\r\n        &quot;shock&quot;,\r\n        &quot;sight&quot;,\r\n        &quot;simon&quot;,\r\n        &quot;skill&quot;,\r\n        &quot;sleep&quot;,\r\n        &quot;smile&quot;,\r\n        &quot;smith&quot;,\r\n        &quot;smoke&quot;,\r\n        &quot;sound&quot;,\r\n        &quot;south&quot;,\r\n        &quot;space&quot;,\r\n        &quot;speed&quot;,\r\n        &quot;spite&quot;,\r\n        &quot;sport&quot;,\r\n        &quot;squad&quot;,\r\n        &quot;staff&quot;,\r\n        &quot;stage&quot;,\r\n        &quot;start&quot;,\r\n        &quot;state&quot;,\r\n        &quot;steam&quot;,\r\n        &quot;steel&quot;,\r\n        &quot;stock&quot;,\r\n        &quot;stone&quot;,\r\n        &quot;store&quot;,\r\n        &quot;study&quot;,\r\n        &quot;stuff&quot;,\r\n        &quot;style&quot;,\r\n        &quot;sugar&quot;,\r\n        &quot;table&quot;,\r\n        &quot;taste&quot;,\r\n        &quot;terry&quot;,\r\n        &quot;theme&quot;,\r\n        &quot;thing&quot;,\r\n        &quot;title&quot;,\r\n        &quot;total&quot;,\r\n        &quot;touch&quot;,\r\n        &quot;tower&quot;,\r\n        &quot;track&quot;,\r\n        &quot;trade&quot;,\r\n        &quot;train&quot;,\r\n        &quot;trend&quot;,\r\n        &quot;trial&quot;,\r\n        &quot;trust&quot;,\r\n        &quot;truth&quot;,\r\n        &quot;uncle&quot;,\r\n        &quot;union&quot;,\r\n        &quot;unity&quot;,\r\n        &quot;value&quot;,\r\n        &quot;video&quot;,\r\n        &quot;visit&quot;,\r\n        &quot;voice&quot;,\r\n        &quot;waste&quot;,\r\n        &quot;watch&quot;,\r\n        &quot;water&quot;,\r\n        &quot;while&quot;,\r\n        &quot;white&quot;,\r\n        &quot;whole&quot;,\r\n        &quot;woman&quot;,\r\n        &quot;world&quot;,\r\n        &quot;youth&quot;,\r\n        &quot;alcon&quot;,\r\n        &quot;aught&quot;,\r\n        &quot;hella&quot;,\r\n        &quot;one’s&quot;,\r\n        &quot;ought&quot;,\r\n        &quot;thame&quot;,\r\n        &quot;there&quot;,\r\n        &quot;thine&quot;,\r\n        &quot;thine&quot;,\r\n        &quot;where&quot;,\r\n        &quot;which&quot;,\r\n        &quot;whose&quot;,\r\n        &quot;whoso&quot;,\r\n        &quot;yours&quot;,\r\n        &quot;yours&quot;,\r\n        &quot;admit&quot;,\r\n        &quot;adopt&quot;,\r\n        &quot;agree&quot;,\r\n        &quot;allow&quot;,\r\n        &quot;alter&quot;,\r\n        &quot;apply&quot;,\r\n        &quot;argue&quot;,\r\n        &quot;arise&quot;,\r\n        &quot;avoid&quot;,\r\n        &quot;begin&quot;,\r\n        &quot;blame&quot;,\r\n        &quot;break&quot;,\r\n        &quot;bring&quot;,\r\n        &quot;build&quot;,\r\n        &quot;burst&quot;,\r\n        &quot;carry&quot;,\r\n        &quot;catch&quot;,\r\n        &quot;cause&quot;,\r\n        &quot;check&quot;,\r\n        &quot;claim&quot;,\r\n        &quot;clean&quot;,\r\n        &quot;clear&quot;,\r\n        &quot;climb&quot;,\r\n        &quot;close&quot;,\r\n        &quot;count&quot;,\r\n        &quot;cover&quot;,\r\n        &quot;cross&quot;,\r\n        &quot;dance&quot;,\r\n        &quot;doubt&quot;,\r\n        &quot;drink&quot;,\r\n        &quot;drive&quot;,\r\n        &quot;enjoy&quot;,\r\n        &quot;enter&quot;,\r\n        &quot;exist&quot;,\r\n        &quot;fight&quot;,\r\n        &quot;focus&quot;,\r\n        &quot;force&quot;,\r\n        &quot;guess&quot;,\r\n        &quot;imply&quot;,\r\n        &quot;issue&quot;,\r\n        &quot;judge&quot;,\r\n        &quot;laugh&quot;,\r\n        &quot;learn&quot;,\r\n        &quot;leave&quot;,\r\n        &quot;let’s&quot;,\r\n        &quot;limit&quot;,\r\n        &quot;marry&quot;,\r\n        &quot;match&quot;,\r\n        &quot;occur&quot;,\r\n        &quot;offer&quot;,\r\n        &quot;order&quot;,\r\n        &quot;phone&quot;,\r\n        &quot;place&quot;,\r\n        &quot;point&quot;,\r\n        &quot;press&quot;,\r\n        &quot;prove&quot;,\r\n        &quot;raise&quot;,\r\n        &quot;reach&quot;,\r\n        &quot;refer&quot;,\r\n        &quot;relax&quot;,\r\n        &quot;serve&quot;,\r\n        &quot;shall&quot;,\r\n        &quot;share&quot;,\r\n        &quot;shift&quot;,\r\n        &quot;shoot&quot;,\r\n        &quot;sleep&quot;,\r\n        &quot;solve&quot;,\r\n        &quot;sound&quot;,\r\n        &quot;speak&quot;,\r\n        &quot;spend&quot;,\r\n        &quot;split&quot;,\r\n        &quot;stand&quot;,\r\n        &quot;start&quot;,\r\n        &quot;state&quot;,\r\n        &quot;stick&quot;,\r\n        &quot;study&quot;,\r\n        &quot;teach&quot;,\r\n        &quot;thank&quot;,\r\n        &quot;think&quot;,\r\n        &quot;throw&quot;,\r\n        &quot;touch&quot;,\r\n        &quot;train&quot;,\r\n        &quot;treat&quot;,\r\n        &quot;trust&quot;,\r\n        &quot;visit&quot;,\r\n        &quot;voice&quot;,\r\n        &quot;waste&quot;,\r\n        &quot;watch&quot;,\r\n        &quot;worry&quot;,\r\n        &quot;would&quot;,\r\n        &quot;write&quot;,\r\n        &quot;above&quot;,\r\n        &quot;acute&quot;,\r\n        &quot;alive&quot;,\r\n        &quot;alone&quot;,\r\n        &quot;angry&quot;,\r\n        &quot;aware&quot;,\r\n        &quot;awful&quot;,\r\n        &quot;basic&quot;,\r\n        &quot;black&quot;,\r\n        &quot;blind&quot;,\r\n        &quot;brave&quot;,\r\n        &quot;brief&quot;,\r\n        &quot;broad&quot;,\r\n        &quot;brown&quot;,\r\n        &quot;cheap&quot;,\r\n        &quot;chief&quot;,\r\n        &quot;civil&quot;,\r\n        &quot;clean&quot;,\r\n        &quot;clear&quot;,\r\n        &quot;close&quot;,\r\n        &quot;crazy&quot;,\r\n        &quot;daily&quot;,\r\n        &quot;dirty&quot;,\r\n        &quot;early&quot;,\r\n        &quot;empty&quot;,\r\n        &quot;equal&quot;,\r\n        &quot;exact&quot;,\r\n        &quot;extra&quot;,\r\n        &quot;faint&quot;,\r\n        &quot;false&quot;,\r\n        &quot;fifth&quot;,\r\n        &quot;final&quot;,\r\n        &quot;first&quot;,\r\n        &quot;fresh&quot;,\r\n        &quot;front&quot;,\r\n        &quot;funny&quot;,\r\n        &quot;giant&quot;,\r\n        &quot;grand&quot;,\r\n        &quot;great&quot;,\r\n        &quot;green&quot;,\r\n        &quot;gross&quot;,\r\n        &quot;happy&quot;,\r\n        &quot;harsh&quot;,\r\n        &quot;heavy&quot;,\r\n        &quot;human&quot;,\r\n        &quot;ideal&quot;,\r\n        &quot;inner&quot;,\r\n        &quot;joint&quot;,\r\n        &quot;large&quot;,\r\n        &quot;legal&quot;,\r\n        &quot;level&quot;,\r\n        &quot;light&quot;,\r\n        &quot;local&quot;,\r\n        &quot;loose&quot;,\r\n        &quot;lucky&quot;,\r\n        &quot;magic&quot;,\r\n        &quot;major&quot;,\r\n        &quot;minor&quot;,\r\n        &quot;moral&quot;,\r\n        &quot;naked&quot;,\r\n        &quot;nasty&quot;,\r\n        &quot;naval&quot;,\r\n        &quot;other&quot;,\r\n        &quot;outer&quot;,\r\n        &quot;plain&quot;,\r\n        &quot;prime&quot;,\r\n        &quot;prior&quot;,\r\n        &quot;proud&quot;,\r\n        &quot;quick&quot;,\r\n        &quot;quiet&quot;,\r\n        &quot;rapid&quot;,\r\n        &quot;ready&quot;,\r\n        &quot;right&quot;,\r\n        &quot;roman&quot;,\r\n        &quot;rough&quot;,\r\n        &quot;round&quot;,\r\n        &quot;royal&quot;,\r\n        &quot;rural&quot;,\r\n        &quot;sharp&quot;,\r\n        &quot;sheer&quot;,\r\n        &quot;short&quot;,\r\n        &quot;silly&quot;,\r\n        &quot;sixth&quot;,\r\n        &quot;small&quot;,\r\n        &quot;smart&quot;,\r\n        &quot;solid&quot;,\r\n        &quot;sorry&quot;,\r\n        &quot;spare&quot;,\r\n        &quot;steep&quot;,\r\n        &quot;still&quot;,\r\n        &quot;super&quot;,\r\n        &quot;sweet&quot;,\r\n        &quot;thick&quot;,\r\n        &quot;third&quot;,\r\n        &quot;tight&quot;,\r\n        &quot;total&quot;,\r\n        &quot;tough&quot;,\r\n        &quot;upper&quot;,\r\n        &quot;upset&quot;,\r\n        &quot;urban&quot;,\r\n        &quot;usual&quot;,\r\n        &quot;vague&quot;,\r\n        &quot;valid&quot;,\r\n        &quot;vital&quot;,\r\n        &quot;white&quot;,\r\n        &quot;whole&quot;,\r\n        &quot;wrong&quot;,\r\n        &quot;young&quot;,\r\n        &quot;afore&quot;,\r\n        &quot;after&quot;,\r\n        &quot;bothe&quot;,\r\n        &quot;other&quot;,\r\n        &quot;since&quot;,\r\n        &quot;slash&quot;,\r\n        &quot;until&quot;,\r\n        &quot;where&quot;,\r\n        &quot;while&quot;,\r\n        &quot;aback&quot;,\r\n        &quot;abaft&quot;,\r\n        &quot;aboon&quot;,\r\n        &quot;about&quot;,\r\n        &quot;above&quot;,\r\n        &quot;accel&quot;,\r\n        &quot;adown&quot;,\r\n        &quot;afoot&quot;,\r\n        &quot;afore&quot;,\r\n        &quot;afoul&quot;,\r\n        &quot;after&quot;,\r\n        &quot;again&quot;,\r\n        &quot;agape&quot;,\r\n        &quot;agogo&quot;,\r\n        &quot;agone&quot;,\r\n        &quot;ahead&quot;,\r\n        &quot;ahull&quot;,\r\n        &quot;alife&quot;,\r\n        &quot;alike&quot;,\r\n        &quot;aline&quot;,\r\n        &quot;aloft&quot;,\r\n        &quot;alone&quot;,\r\n        &quot;along&quot;,\r\n        &quot;aloof&quot;,\r\n        &quot;aloud&quot;,\r\n        &quot;amiss&quot;,\r\n        &quot;amply&quot;,\r\n        &quot;amuck&quot;,\r\n        &quot;apace&quot;,\r\n        &quot;apart&quot;,\r\n        &quot;aptly&quot;,\r\n        &quot;arear&quot;,\r\n        &quot;aside&quot;,\r\n        &quot;askew&quot;,\r\n        &quot;awful&quot;,\r\n        &quot;badly&quot;,\r\n        &quot;bally&quot;,\r\n        &quot;below&quot;,\r\n        &quot;canny&quot;,\r\n        &quot;cheap&quot;,\r\n        &quot;clean&quot;,\r\n        &quot;clear&quot;,\r\n        &quot;coyly&quot;,\r\n        &quot;daily&quot;,\r\n        &quot;dimly&quot;,\r\n        &quot;dirty&quot;,\r\n        &quot;ditto&quot;,\r\n        &quot;drily&quot;,\r\n        &quot;dryly&quot;,\r\n        &quot;dully&quot;,\r\n        &quot;early&quot;,\r\n        &quot;extra&quot;,\r\n        &quot;false&quot;,\r\n        &quot;fatly&quot;,\r\n        &quot;feyly&quot;,\r\n        &quot;first&quot;,\r\n        &quot;fitly&quot;,\r\n        &quot;forte&quot;,\r\n        &quot;forth&quot;,\r\n        &quot;fresh&quot;,\r\n        &quot;fully&quot;,\r\n        &quot;funny&quot;,\r\n        &quot;gaily&quot;,\r\n        &quot;gayly&quot;,\r\n        &quot;godly&quot;,\r\n        &quot;great&quot;,\r\n        &quot;haply&quot;,\r\n        &quot;heavy&quot;,\r\n        &quot;hella&quot;,\r\n        &quot;hence&quot;,\r\n        &quot;hotly&quot;,\r\n        &quot;icily&quot;,\r\n        &quot;infra&quot;,\r\n        &quot;intl.&quot;,\r\n        &quot;jildi&quot;,\r\n        &quot;jolly&quot;,\r\n        &quot;laxly&quot;,\r\n        &quot;lento&quot;,\r\n        &quot;light&quot;,\r\n        &quot;lowly&quot;,\r\n        &quot;madly&quot;,\r\n        &quot;maybe&quot;,\r\n        &quot;never&quot;,\r\n        &quot;newly&quot;,\r\n        &quot;nobly&quot;,\r\n        &quot;oddly&quot;,\r\n        &quot;often&quot;,\r\n        &quot;other&quot;,\r\n        &quot;ought&quot;,\r\n        &quot;party&quot;,\r\n        &quot;piano&quot;,\r\n        &quot;plain&quot;,\r\n        &quot;plonk&quot;,\r\n        &quot;plumb&quot;,\r\n        &quot;prior&quot;,\r\n        &quot;queer&quot;,\r\n        &quot;quick&quot;,\r\n        &quot;quite&quot;,\r\n        &quot;ramen&quot;,\r\n        &quot;rapid&quot;,\r\n        &quot;redly&quot;,\r\n        &quot;right&quot;,\r\n        &quot;rough&quot;,\r\n        &quot;round&quot;,\r\n        &quot;sadly&quot;,\r\n        &quot;secus&quot;,\r\n        &quot;selly&quot;,\r\n        &quot;sharp&quot;,\r\n        &quot;sheer&quot;,\r\n        &quot;shily&quot;,\r\n        &quot;short&quot;,\r\n        &quot;shyly&quot;,\r\n        &quot;silly&quot;,\r\n        &quot;since&quot;,\r\n        &quot;sleek&quot;,\r\n        &quot;slyly&quot;,\r\n        &quot;small&quot;,\r\n        &quot;so-so&quot;,\r\n        &quot;sound&quot;,\r\n        &quot;spang&quot;,\r\n        &quot;srsly&quot;,\r\n        &quot;stark&quot;,\r\n        &quot;still&quot;,\r\n        &quot;stone&quot;,\r\n        &quot;stour&quot;,\r\n        &quot;super&quot;,\r\n        &quot;tally&quot;,\r\n        &quot;tanto&quot;,\r\n        &quot;there&quot;,\r\n        &quot;thick&quot;,\r\n        &quot;tight&quot;,\r\n        &quot;today&quot;,\r\n        &quot;tomoz&quot;,\r\n        &quot;truly&quot;,\r\n        &quot;twice&quot;,\r\n        &quot;under&quot;,\r\n        &quot;utter&quot;,\r\n        &quot;verry&quot;,\r\n        &quot;wanly&quot;,\r\n        &quot;wetly&quot;,\r\n        &quot;where&quot;,\r\n        &quot;wrong&quot;,\r\n        &quot;wryly&quot;,\r\n        &quot;abaft&quot;,\r\n        &quot;aboon&quot;,\r\n        &quot;about&quot;,\r\n        &quot;above&quot;,\r\n        &quot;adown&quot;,\r\n        &quot;afore&quot;,\r\n        &quot;after&quot;,\r\n        &quot;along&quot;,\r\n        &quot;aloof&quot;,\r\n        &quot;among&quot;,\r\n        &quot;below&quot;,\r\n        &quot;circa&quot;,\r\n        &quot;cross&quot;,\r\n        &quot;furth&quot;,\r\n        &quot;minus&quot;,\r\n        &quot;neath&quot;,\r\n        &quot;round&quot;,\r\n        &quot;since&quot;,\r\n        &quot;spite&quot;,\r\n        &quot;under&quot;,\r\n        &quot;until&quot;,\r\n        &quot;aargh&quot;,\r\n        &quot;adieu&quot;,\r\n        &quot;adios&quot;,\r\n        &quot;alack&quot;,\r\n        &quot;aloha&quot;,\r\n        &quot;avast&quot;,\r\n        &quot;bakaw&quot;,\r\n        &quot;basta&quot;,\r\n        &quot;begad&quot;,\r\n        &quot;bless&quot;,\r\n        &quot;blige&quot;,\r\n        &quot;brava&quot;,\r\n        &quot;bravo&quot;,\r\n        &quot;bring&quot;,\r\n        &quot;chook&quot;,\r\n        &quot;damme&quot;,\r\n        &quot;dildo&quot;,\r\n        &quot;ditto&quot;,\r\n        &quot;frick&quot;,\r\n        &quot;fudge&quot;,\r\n        &quot;golly&quot;,\r\n        &quot;gratz&quot;,\r\n        &quot;hallo&quot;,\r\n        &quot;hasta&quot;,\r\n        &quot;havoc&quot;,\r\n        &quot;hella&quot;,\r\n        &quot;hello&quot;,\r\n        &quot;howay&quot;,\r\n        &quot;howdy&quot;,\r\n        &quot;hullo&quot;,\r\n        &quot;huzza&quot;,\r\n        &quot;jesus&quot;,\r\n        &quot;kapow&quot;,\r\n        &quot;loose&quot;,\r\n        &quot;lordy&quot;,\r\n        &quot;marry&quot;,\r\n        &quot;mercy&quot;,\r\n        &quot;night&quot;,\r\n        &quot;plonk&quot;,\r\n        &quot;psych&quot;,\r\n        &quot;quite&quot;,\r\n        &quot;salve&quot;,\r\n        &quot;skoal&quot;,\r\n        &quot;sniff&quot;,\r\n        &quot;sooey&quot;,\r\n        &quot;there&quot;,\r\n        &quot;thiam&quot;,\r\n        &quot;thwap&quot;,\r\n        &quot;tough&quot;,\r\n        &quot;twirp&quot;,\r\n        &quot;viola&quot;,\r\n        &quot;vivat&quot;,\r\n        &quot;wacko&quot;,\r\n        &quot;wahey&quot;,\r\n        &quot;whist&quot;,\r\n        &quot;wilma&quot;,\r\n        &quot;wirra&quot;,\r\n        &quot;woops&quot;,\r\n        &quot;wowie&quot;,\r\n        &quot;yecch&quot;,\r\n        &quot;yeeha&quot;,\r\n        &quot;yeesh&quot;,\r\n        &quot;yowch&quot;,\r\n        &quot;zowie&quot;\r\n    };\r\n}\r\n```","title":"Why does my program keep going to the player() method after p1Game() is finished?","body":"<p>Is there any way I'm able to format my code better too? I'm pretty new to programming and want to learn the best optimal way for this program to work. For example: If the word isn't contained in my Words.java then tell the user that the word they're trying to enter doesn't exist.</p>\n<pre><code>import java.util.Scanner;\n\npublic class WordleApplication\n{\n    static String word = Words.words[(int)(Math.random() * Words.words.length)];\n    static Scanner s = new Scanner(System.in);\n    static String guess = &quot;&quot;;\n    static int g = 6;\n    static String p1Name = &quot;&quot;;\n    static String p2Name = &quot;&quot;;\n    static int p1Score = 0;\n    static int p2Score = 0;\n    \n    public static void main(String[] args)\n    {\n        Rules.rules();\n        \n        // System.out.println(&quot;Please enter your name Player 1&quot;);\n        // Player p1 = new Player(s.nextLine(), 0);\n        // System.out.println(p1.getName());\n    }\n    \n    public static void player(){\n        System.out.println(&quot;Player 1 Enter your name: &quot;);\n        Player p1 = new Player(s.nextLine(), p1Score);\n        p1Name = p1.getName();\n        \n        System.out.println();\n        \n        System.out.println(&quot;Player 2 Enter your name: &quot;);\n        Player p2 = new Player(s.nextLine(), p2Score);\n        p2Name = p2.getName();\n        \n        p1Game();\n        p2Game();\n    }\n    \n    \n    public static void p1Game() {\n        System.out.println(&quot;Alright &quot; + p1Name + &quot; you're up!&quot;);\n        while (!guess.equals(word) &amp;&amp; g &gt; 0) {\n            System.out.println(&quot;\\nGuesses Left: &quot; + g);\n            guess = s.nextLine().toLowerCase();\n            if (guess.length() != 5) {\n                System.out.println(&quot;Must be 5 characters&quot;);\n                continue;\n            }\n            for (int i = 0; i &lt; word.length(); i++) {\n                boolean didBreak = false;\n                for (int j = 0; j &lt; word.length(); j++) {\n                    if (guess.charAt(i) == word.charAt(i)) {\n                        System.out.print(&quot;Y&quot;);\n                        didBreak = true;\n                        break;\n                    }\n                    if (guess.charAt(i) == word.charAt(j)) {\n                        System.out.print(&quot;C&quot;);\n                        didBreak = true;\n                        break;\n                    }\n                }\n                if (!didBreak) {\n                    System.out.print(&quot;X&quot;);\n                }\n            }\n            System.out.println(&quot;\\n&quot; + word); //test\n            g--;\n            if(guess.equals(word)){\n                p1Score += 10;\n                System.out.println(&quot;Nicely done! You have &quot; + p1Score + &quot; points!&quot;);\n                p2Game();\n            }\n            if(g == 0){\n                System.out.println(&quot;\\nThe word was: &quot; + word);\n                p2Game();\n            }\n        }\n    }\n    \n    public static void p2Game() {\n        System.out.println(&quot;Alright &quot; + p2Name + &quot; you're up!&quot;);\n        while (!guess.equals(word) &amp;&amp; g &gt; 0) {\n            System.out.println(&quot;\\nGuesses Left: &quot; + g);\n            guess = s.nextLine().toLowerCase();\n            if (guess.length() != 5) {\n                System.out.println(&quot;Must be 5 characters&quot;);\n                continue;\n            }\n            for (int i = 0; i &lt; word.length(); i++) {\n                boolean didBreak = false;\n                for (int j = 0; j &lt; word.length(); j++) {\n                    if (guess.charAt(i) == word.charAt(i)) {\n                        System.out.print(&quot;Y&quot;);\n                        didBreak = true;\n                        break;\n                    }\n                    if (guess.charAt(i) == word.charAt(j)) {\n                        System.out.print(&quot;C&quot;);\n                        didBreak = true;\n                        break;\n                    }\n                }\n                if (!didBreak) {\n                    System.out.print(&quot;X&quot;);\n                }\n            }\n            System.out.println(&quot;\\n&quot; + word); //test\n            g--;\n            if(guess.equals(word)){\n                System.out.println(&quot;Nicely done!&quot;);\n                p2Score += 10;\n            }\n            if(g == 0){\n                System.out.println(&quot;\\nThe word was: &quot; + word);\n            }\n        }\n    }\n    \n    public static void results(){\n        System.out.println(&quot;test&quot;);\n    }\n    \n}\n</code></pre>\n<p>Just the rules to describe what to the user.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Rules {\n    public static void rules() {\n        \n        Scanner s = new Scanner(System.in);\n        String enterkey;\n        \n        System.out.println(&quot;Welcome to Wordle!&quot;);\n        System.out.println(&quot;Each player will be given 6 tries to guess a 5 letter word.&quot;);\n        System.out.println(&quot;If you can't guess the word in 6 tries. GAME OVER :(&quot;);\n        System.out.println(&quot;Do you have what it takes to guess the word?&quot;);\n        System.out.println(&quot;Go ahead and press y when you're ready!&quot;);\n        \n        while(true){\n            enterkey = s.nextLine();\n            if(!enterkey.equals(&quot;y&quot;)){\n                System.out.println(&quot;Please press y to continue...&quot;);\n                continue;\n            }\n            if(enterkey.equals(&quot;y&quot;)){\n                WordleApplication.player();\n            }\n        }\n        \n    }\n}\n</code></pre>\n<pre><code>public class Player {\n    \n    protected String name;\n    protected int score;\n    \n    public Player(String name, int score) {\n        this.name = name;\n        this.score = 10;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public int getScore() {\n        return score;\n    }\n    \n    public void setScore(int score) {\n        this.score = score;\n    }\n    \n    public String toString() {\n        return name + &quot;: &quot; + score;\n    }\n    \n}\n</code></pre>\n<pre><code>public class Words {\n    public static String[] words = {\n        &quot;abuse&quot;,\n        &quot;adult&quot;,\n        &quot;agent&quot;,\n        &quot;anger&quot;,\n        &quot;apple&quot;,\n        &quot;award&quot;,\n        &quot;basis&quot;,\n        &quot;beach&quot;,\n        &quot;birth&quot;,\n        &quot;block&quot;,\n        &quot;blood&quot;,\n        &quot;board&quot;,\n        &quot;brain&quot;,\n        &quot;bread&quot;,\n        &quot;break&quot;,\n        &quot;brown&quot;,\n        &quot;buyer&quot;,\n        &quot;cause&quot;,\n        &quot;chain&quot;,\n        &quot;chair&quot;,\n        &quot;chest&quot;,\n        &quot;chief&quot;,\n        &quot;child&quot;,\n        &quot;china&quot;,\n        &quot;claim&quot;,\n        &quot;class&quot;,\n        &quot;clock&quot;,\n        &quot;coach&quot;,\n        &quot;coast&quot;,\n        &quot;court&quot;,\n        &quot;cover&quot;,\n        &quot;cream&quot;,\n        &quot;crime&quot;,\n        &quot;cross&quot;,\n        &quot;crowd&quot;,\n        &quot;crown&quot;,\n        &quot;cycle&quot;,\n        &quot;dance&quot;,\n        &quot;death&quot;,\n        &quot;depth&quot;,\n        &quot;doubt&quot;,\n        &quot;draft&quot;,\n        &quot;drama&quot;,\n        &quot;dream&quot;,\n        &quot;dress&quot;,\n        &quot;drink&quot;,\n        &quot;drive&quot;,\n        &quot;earth&quot;,\n        &quot;enemy&quot;,\n        &quot;entry&quot;,\n        &quot;error&quot;,\n        &quot;event&quot;,\n        &quot;faith&quot;,\n        &quot;fault&quot;,\n        &quot;field&quot;,\n        &quot;fight&quot;,\n        &quot;final&quot;,\n        &quot;floor&quot;,\n        &quot;focus&quot;,\n        &quot;force&quot;,\n        &quot;frame&quot;,\n        &quot;frank&quot;,\n        &quot;front&quot;,\n        &quot;fruit&quot;,\n        &quot;glass&quot;,\n        &quot;grant&quot;,\n        &quot;grass&quot;,\n        &quot;green&quot;,\n        &quot;group&quot;,\n        &quot;guide&quot;,\n        &quot;heart&quot;,\n        &quot;henry&quot;,\n        &quot;horse&quot;,\n        &quot;hotel&quot;,\n        &quot;house&quot;,\n        &quot;image&quot;,\n        &quot;index&quot;,\n        &quot;input&quot;,\n        &quot;issue&quot;,\n        &quot;japan&quot;,\n        &quot;jones&quot;,\n        &quot;judge&quot;,\n        &quot;knife&quot;,\n        &quot;laura&quot;,\n        &quot;layer&quot;,\n        &quot;level&quot;,\n        &quot;lewis&quot;,\n        &quot;light&quot;,\n        &quot;limit&quot;,\n        &quot;lunch&quot;,\n        &quot;major&quot;,\n        &quot;march&quot;,\n        &quot;match&quot;,\n        &quot;metal&quot;,\n        &quot;model&quot;,\n        &quot;money&quot;,\n        &quot;month&quot;,\n        &quot;motor&quot;,\n        &quot;mouth&quot;,\n        &quot;music&quot;,\n        &quot;night&quot;,\n        &quot;noise&quot;,\n        &quot;north&quot;,\n        &quot;novel&quot;,\n        &quot;nurse&quot;,\n        &quot;offer&quot;,\n        &quot;order&quot;,\n        &quot;other&quot;,\n        &quot;owner&quot;,\n        &quot;panel&quot;,\n        &quot;paper&quot;,\n        &quot;party&quot;,\n        &quot;peace&quot;,\n        &quot;peter&quot;,\n        &quot;phase&quot;,\n        &quot;phone&quot;,\n        &quot;piece&quot;,\n        &quot;pilot&quot;,\n        &quot;pitch&quot;,\n        &quot;place&quot;,\n        &quot;plane&quot;,\n        &quot;plant&quot;,\n        &quot;plate&quot;,\n        &quot;point&quot;,\n        &quot;pound&quot;,\n        &quot;power&quot;,\n        &quot;press&quot;,\n        &quot;price&quot;,\n        &quot;pride&quot;,\n        &quot;prize&quot;,\n        &quot;proof&quot;,\n        &quot;queen&quot;,\n        &quot;radio&quot;,\n        &quot;range&quot;,\n        &quot;ratio&quot;,\n        &quot;reply&quot;,\n        &quot;right&quot;,\n        &quot;river&quot;,\n        &quot;round&quot;,\n        &quot;route&quot;,\n        &quot;rugby&quot;,\n        &quot;scale&quot;,\n        &quot;scene&quot;,\n        &quot;scope&quot;,\n        &quot;score&quot;,\n        &quot;sense&quot;,\n        &quot;shape&quot;,\n        &quot;share&quot;,\n        &quot;sheep&quot;,\n        &quot;sheet&quot;,\n        &quot;shift&quot;,\n        &quot;shirt&quot;,\n        &quot;shock&quot;,\n        &quot;sight&quot;,\n        &quot;simon&quot;,\n        &quot;skill&quot;,\n        &quot;sleep&quot;,\n        &quot;smile&quot;,\n        &quot;smith&quot;,\n        &quot;smoke&quot;,\n        &quot;sound&quot;,\n        &quot;south&quot;,\n        &quot;space&quot;,\n        &quot;speed&quot;,\n        &quot;spite&quot;,\n        &quot;sport&quot;,\n        &quot;squad&quot;,\n        &quot;staff&quot;,\n        &quot;stage&quot;,\n        &quot;start&quot;,\n        &quot;state&quot;,\n        &quot;steam&quot;,\n        &quot;steel&quot;,\n        &quot;stock&quot;,\n        &quot;stone&quot;,\n        &quot;store&quot;,\n        &quot;study&quot;,\n        &quot;stuff&quot;,\n        &quot;style&quot;,\n        &quot;sugar&quot;,\n        &quot;table&quot;,\n        &quot;taste&quot;,\n        &quot;terry&quot;,\n        &quot;theme&quot;,\n        &quot;thing&quot;,\n        &quot;title&quot;,\n        &quot;total&quot;,\n        &quot;touch&quot;,\n        &quot;tower&quot;,\n        &quot;track&quot;,\n        &quot;trade&quot;,\n        &quot;train&quot;,\n        &quot;trend&quot;,\n        &quot;trial&quot;,\n        &quot;trust&quot;,\n        &quot;truth&quot;,\n        &quot;uncle&quot;,\n        &quot;union&quot;,\n        &quot;unity&quot;,\n        &quot;value&quot;,\n        &quot;video&quot;,\n        &quot;visit&quot;,\n        &quot;voice&quot;,\n        &quot;waste&quot;,\n        &quot;watch&quot;,\n        &quot;water&quot;,\n        &quot;while&quot;,\n        &quot;white&quot;,\n        &quot;whole&quot;,\n        &quot;woman&quot;,\n        &quot;world&quot;,\n        &quot;youth&quot;,\n        &quot;alcon&quot;,\n        &quot;aught&quot;,\n        &quot;hella&quot;,\n        &quot;one’s&quot;,\n        &quot;ought&quot;,\n        &quot;thame&quot;,\n        &quot;there&quot;,\n        &quot;thine&quot;,\n        &quot;thine&quot;,\n        &quot;where&quot;,\n        &quot;which&quot;,\n        &quot;whose&quot;,\n        &quot;whoso&quot;,\n        &quot;yours&quot;,\n        &quot;yours&quot;,\n        &quot;admit&quot;,\n        &quot;adopt&quot;,\n        &quot;agree&quot;,\n        &quot;allow&quot;,\n        &quot;alter&quot;,\n        &quot;apply&quot;,\n        &quot;argue&quot;,\n        &quot;arise&quot;,\n        &quot;avoid&quot;,\n        &quot;begin&quot;,\n        &quot;blame&quot;,\n        &quot;break&quot;,\n        &quot;bring&quot;,\n        &quot;build&quot;,\n        &quot;burst&quot;,\n        &quot;carry&quot;,\n        &quot;catch&quot;,\n        &quot;cause&quot;,\n        &quot;check&quot;,\n        &quot;claim&quot;,\n        &quot;clean&quot;,\n        &quot;clear&quot;,\n        &quot;climb&quot;,\n        &quot;close&quot;,\n        &quot;count&quot;,\n        &quot;cover&quot;,\n        &quot;cross&quot;,\n        &quot;dance&quot;,\n        &quot;doubt&quot;,\n        &quot;drink&quot;,\n        &quot;drive&quot;,\n        &quot;enjoy&quot;,\n        &quot;enter&quot;,\n        &quot;exist&quot;,\n        &quot;fight&quot;,\n        &quot;focus&quot;,\n        &quot;force&quot;,\n        &quot;guess&quot;,\n        &quot;imply&quot;,\n        &quot;issue&quot;,\n        &quot;judge&quot;,\n        &quot;laugh&quot;,\n        &quot;learn&quot;,\n        &quot;leave&quot;,\n        &quot;let’s&quot;,\n        &quot;limit&quot;,\n        &quot;marry&quot;,\n        &quot;match&quot;,\n        &quot;occur&quot;,\n        &quot;offer&quot;,\n        &quot;order&quot;,\n        &quot;phone&quot;,\n        &quot;place&quot;,\n        &quot;point&quot;,\n        &quot;press&quot;,\n        &quot;prove&quot;,\n        &quot;raise&quot;,\n        &quot;reach&quot;,\n        &quot;refer&quot;,\n        &quot;relax&quot;,\n        &quot;serve&quot;,\n        &quot;shall&quot;,\n        &quot;share&quot;,\n        &quot;shift&quot;,\n        &quot;shoot&quot;,\n        &quot;sleep&quot;,\n        &quot;solve&quot;,\n        &quot;sound&quot;,\n        &quot;speak&quot;,\n        &quot;spend&quot;,\n        &quot;split&quot;,\n        &quot;stand&quot;,\n        &quot;start&quot;,\n        &quot;state&quot;,\n        &quot;stick&quot;,\n        &quot;study&quot;,\n        &quot;teach&quot;,\n        &quot;thank&quot;,\n        &quot;think&quot;,\n        &quot;throw&quot;,\n        &quot;touch&quot;,\n        &quot;train&quot;,\n        &quot;treat&quot;,\n        &quot;trust&quot;,\n        &quot;visit&quot;,\n        &quot;voice&quot;,\n        &quot;waste&quot;,\n        &quot;watch&quot;,\n        &quot;worry&quot;,\n        &quot;would&quot;,\n        &quot;write&quot;,\n        &quot;above&quot;,\n        &quot;acute&quot;,\n        &quot;alive&quot;,\n        &quot;alone&quot;,\n        &quot;angry&quot;,\n        &quot;aware&quot;,\n        &quot;awful&quot;,\n        &quot;basic&quot;,\n        &quot;black&quot;,\n        &quot;blind&quot;,\n        &quot;brave&quot;,\n        &quot;brief&quot;,\n        &quot;broad&quot;,\n        &quot;brown&quot;,\n        &quot;cheap&quot;,\n        &quot;chief&quot;,\n        &quot;civil&quot;,\n        &quot;clean&quot;,\n        &quot;clear&quot;,\n        &quot;close&quot;,\n        &quot;crazy&quot;,\n        &quot;daily&quot;,\n        &quot;dirty&quot;,\n        &quot;early&quot;,\n        &quot;empty&quot;,\n        &quot;equal&quot;,\n        &quot;exact&quot;,\n        &quot;extra&quot;,\n        &quot;faint&quot;,\n        &quot;false&quot;,\n        &quot;fifth&quot;,\n        &quot;final&quot;,\n        &quot;first&quot;,\n        &quot;fresh&quot;,\n        &quot;front&quot;,\n        &quot;funny&quot;,\n        &quot;giant&quot;,\n        &quot;grand&quot;,\n        &quot;great&quot;,\n        &quot;green&quot;,\n        &quot;gross&quot;,\n        &quot;happy&quot;,\n        &quot;harsh&quot;,\n        &quot;heavy&quot;,\n        &quot;human&quot;,\n        &quot;ideal&quot;,\n        &quot;inner&quot;,\n        &quot;joint&quot;,\n        &quot;large&quot;,\n        &quot;legal&quot;,\n        &quot;level&quot;,\n        &quot;light&quot;,\n        &quot;local&quot;,\n        &quot;loose&quot;,\n        &quot;lucky&quot;,\n        &quot;magic&quot;,\n        &quot;major&quot;,\n        &quot;minor&quot;,\n        &quot;moral&quot;,\n        &quot;naked&quot;,\n        &quot;nasty&quot;,\n        &quot;naval&quot;,\n        &quot;other&quot;,\n        &quot;outer&quot;,\n        &quot;plain&quot;,\n        &quot;prime&quot;,\n        &quot;prior&quot;,\n        &quot;proud&quot;,\n        &quot;quick&quot;,\n        &quot;quiet&quot;,\n        &quot;rapid&quot;,\n        &quot;ready&quot;,\n        &quot;right&quot;,\n        &quot;roman&quot;,\n        &quot;rough&quot;,\n        &quot;round&quot;,\n        &quot;royal&quot;,\n        &quot;rural&quot;,\n        &quot;sharp&quot;,\n        &quot;sheer&quot;,\n        &quot;short&quot;,\n        &quot;silly&quot;,\n        &quot;sixth&quot;,\n        &quot;small&quot;,\n        &quot;smart&quot;,\n        &quot;solid&quot;,\n        &quot;sorry&quot;,\n        &quot;spare&quot;,\n        &quot;steep&quot;,\n        &quot;still&quot;,\n        &quot;super&quot;,\n        &quot;sweet&quot;,\n        &quot;thick&quot;,\n        &quot;third&quot;,\n        &quot;tight&quot;,\n        &quot;total&quot;,\n        &quot;tough&quot;,\n        &quot;upper&quot;,\n        &quot;upset&quot;,\n        &quot;urban&quot;,\n        &quot;usual&quot;,\n        &quot;vague&quot;,\n        &quot;valid&quot;,\n        &quot;vital&quot;,\n        &quot;white&quot;,\n        &quot;whole&quot;,\n        &quot;wrong&quot;,\n        &quot;young&quot;,\n        &quot;afore&quot;,\n        &quot;after&quot;,\n        &quot;bothe&quot;,\n        &quot;other&quot;,\n        &quot;since&quot;,\n        &quot;slash&quot;,\n        &quot;until&quot;,\n        &quot;where&quot;,\n        &quot;while&quot;,\n        &quot;aback&quot;,\n        &quot;abaft&quot;,\n        &quot;aboon&quot;,\n        &quot;about&quot;,\n        &quot;above&quot;,\n        &quot;accel&quot;,\n        &quot;adown&quot;,\n        &quot;afoot&quot;,\n        &quot;afore&quot;,\n        &quot;afoul&quot;,\n        &quot;after&quot;,\n        &quot;again&quot;,\n        &quot;agape&quot;,\n        &quot;agogo&quot;,\n        &quot;agone&quot;,\n        &quot;ahead&quot;,\n        &quot;ahull&quot;,\n        &quot;alife&quot;,\n        &quot;alike&quot;,\n        &quot;aline&quot;,\n        &quot;aloft&quot;,\n        &quot;alone&quot;,\n        &quot;along&quot;,\n        &quot;aloof&quot;,\n        &quot;aloud&quot;,\n        &quot;amiss&quot;,\n        &quot;amply&quot;,\n        &quot;amuck&quot;,\n        &quot;apace&quot;,\n        &quot;apart&quot;,\n        &quot;aptly&quot;,\n        &quot;arear&quot;,\n        &quot;aside&quot;,\n        &quot;askew&quot;,\n        &quot;awful&quot;,\n        &quot;badly&quot;,\n        &quot;bally&quot;,\n        &quot;below&quot;,\n        &quot;canny&quot;,\n        &quot;cheap&quot;,\n        &quot;clean&quot;,\n        &quot;clear&quot;,\n        &quot;coyly&quot;,\n        &quot;daily&quot;,\n        &quot;dimly&quot;,\n        &quot;dirty&quot;,\n        &quot;ditto&quot;,\n        &quot;drily&quot;,\n        &quot;dryly&quot;,\n        &quot;dully&quot;,\n        &quot;early&quot;,\n        &quot;extra&quot;,\n        &quot;false&quot;,\n        &quot;fatly&quot;,\n        &quot;feyly&quot;,\n        &quot;first&quot;,\n        &quot;fitly&quot;,\n        &quot;forte&quot;,\n        &quot;forth&quot;,\n        &quot;fresh&quot;,\n        &quot;fully&quot;,\n        &quot;funny&quot;,\n        &quot;gaily&quot;,\n        &quot;gayly&quot;,\n        &quot;godly&quot;,\n        &quot;great&quot;,\n        &quot;haply&quot;,\n        &quot;heavy&quot;,\n        &quot;hella&quot;,\n        &quot;hence&quot;,\n        &quot;hotly&quot;,\n        &quot;icily&quot;,\n        &quot;infra&quot;,\n        &quot;intl.&quot;,\n        &quot;jildi&quot;,\n        &quot;jolly&quot;,\n        &quot;laxly&quot;,\n        &quot;lento&quot;,\n        &quot;light&quot;,\n        &quot;lowly&quot;,\n        &quot;madly&quot;,\n        &quot;maybe&quot;,\n        &quot;never&quot;,\n        &quot;newly&quot;,\n        &quot;nobly&quot;,\n        &quot;oddly&quot;,\n        &quot;often&quot;,\n        &quot;other&quot;,\n        &quot;ought&quot;,\n        &quot;party&quot;,\n        &quot;piano&quot;,\n        &quot;plain&quot;,\n        &quot;plonk&quot;,\n        &quot;plumb&quot;,\n        &quot;prior&quot;,\n        &quot;queer&quot;,\n        &quot;quick&quot;,\n        &quot;quite&quot;,\n        &quot;ramen&quot;,\n        &quot;rapid&quot;,\n        &quot;redly&quot;,\n        &quot;right&quot;,\n        &quot;rough&quot;,\n        &quot;round&quot;,\n        &quot;sadly&quot;,\n        &quot;secus&quot;,\n        &quot;selly&quot;,\n        &quot;sharp&quot;,\n        &quot;sheer&quot;,\n        &quot;shily&quot;,\n        &quot;short&quot;,\n        &quot;shyly&quot;,\n        &quot;silly&quot;,\n        &quot;since&quot;,\n        &quot;sleek&quot;,\n        &quot;slyly&quot;,\n        &quot;small&quot;,\n        &quot;so-so&quot;,\n        &quot;sound&quot;,\n        &quot;spang&quot;,\n        &quot;srsly&quot;,\n        &quot;stark&quot;,\n        &quot;still&quot;,\n        &quot;stone&quot;,\n        &quot;stour&quot;,\n        &quot;super&quot;,\n        &quot;tally&quot;,\n        &quot;tanto&quot;,\n        &quot;there&quot;,\n        &quot;thick&quot;,\n        &quot;tight&quot;,\n        &quot;today&quot;,\n        &quot;tomoz&quot;,\n        &quot;truly&quot;,\n        &quot;twice&quot;,\n        &quot;under&quot;,\n        &quot;utter&quot;,\n        &quot;verry&quot;,\n        &quot;wanly&quot;,\n        &quot;wetly&quot;,\n        &quot;where&quot;,\n        &quot;wrong&quot;,\n        &quot;wryly&quot;,\n        &quot;abaft&quot;,\n        &quot;aboon&quot;,\n        &quot;about&quot;,\n        &quot;above&quot;,\n        &quot;adown&quot;,\n        &quot;afore&quot;,\n        &quot;after&quot;,\n        &quot;along&quot;,\n        &quot;aloof&quot;,\n        &quot;among&quot;,\n        &quot;below&quot;,\n        &quot;circa&quot;,\n        &quot;cross&quot;,\n        &quot;furth&quot;,\n        &quot;minus&quot;,\n        &quot;neath&quot;,\n        &quot;round&quot;,\n        &quot;since&quot;,\n        &quot;spite&quot;,\n        &quot;under&quot;,\n        &quot;until&quot;,\n        &quot;aargh&quot;,\n        &quot;adieu&quot;,\n        &quot;adios&quot;,\n        &quot;alack&quot;,\n        &quot;aloha&quot;,\n        &quot;avast&quot;,\n        &quot;bakaw&quot;,\n        &quot;basta&quot;,\n        &quot;begad&quot;,\n        &quot;bless&quot;,\n        &quot;blige&quot;,\n        &quot;brava&quot;,\n        &quot;bravo&quot;,\n        &quot;bring&quot;,\n        &quot;chook&quot;,\n        &quot;damme&quot;,\n        &quot;dildo&quot;,\n        &quot;ditto&quot;,\n        &quot;frick&quot;,\n        &quot;fudge&quot;,\n        &quot;golly&quot;,\n        &quot;gratz&quot;,\n        &quot;hallo&quot;,\n        &quot;hasta&quot;,\n        &quot;havoc&quot;,\n        &quot;hella&quot;,\n        &quot;hello&quot;,\n        &quot;howay&quot;,\n        &quot;howdy&quot;,\n        &quot;hullo&quot;,\n        &quot;huzza&quot;,\n        &quot;jesus&quot;,\n        &quot;kapow&quot;,\n        &quot;loose&quot;,\n        &quot;lordy&quot;,\n        &quot;marry&quot;,\n        &quot;mercy&quot;,\n        &quot;night&quot;,\n        &quot;plonk&quot;,\n        &quot;psych&quot;,\n        &quot;quite&quot;,\n        &quot;salve&quot;,\n        &quot;skoal&quot;,\n        &quot;sniff&quot;,\n        &quot;sooey&quot;,\n        &quot;there&quot;,\n        &quot;thiam&quot;,\n        &quot;thwap&quot;,\n        &quot;tough&quot;,\n        &quot;twirp&quot;,\n        &quot;viola&quot;,\n        &quot;vivat&quot;,\n        &quot;wacko&quot;,\n        &quot;wahey&quot;,\n        &quot;whist&quot;,\n        &quot;wilma&quot;,\n        &quot;wirra&quot;,\n        &quot;woops&quot;,\n        &quot;wowie&quot;,\n        &quot;yecch&quot;,\n        &quot;yeeha&quot;,\n        &quot;yeesh&quot;,\n        &quot;yowch&quot;,\n        &quot;zowie&quot;\n    };\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":25286857,"reputation":11,"user_id":19113656,"display_name":"John Pineda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652495578,"creation_date":1652495554,"answer_id":72236905,"question_id":40260307,"body_markdown":"What I&#39;ve done is to manually add all the jar files into the **External Libraries**.\r\n1. Go to **File** &gt; **Project Structure**\r\n2. In the left window pane, choose **Modules** under *Project Settings*\r\n3. Click on the **Dependencies** tab\r\n4. Click on the **+** sign and select **1 JARs or Directories**\r\n5. Navigate to the folders containing the jar files (include third-party dependecies also) and click **OK**\r\n\r\nSee [My IntelliJ screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9ASQ.png","title":"Add AWS SDK to IntelliJ project without Maven or Gradle","body":"<p>What I've done is to manually add all the jar files into the <strong>External Libraries</strong>.</p>\n<ol>\n<li>Go to <strong>File</strong> &gt; <strong>Project Structure</strong></li>\n<li>In the left window pane, choose <strong>Modules</strong> under <em>Project Settings</em></li>\n<li>Click on the <strong>Dependencies</strong> tab</li>\n<li>Click on the <strong>+</strong> sign and select <strong>1 JARs or Directories</strong></li>\n<li>Navigate to the folders containing the jar files (include third-party dependecies also) and click <strong>OK</strong></li>\n</ol>\n<p>See <a href=\"https://i.stack.imgur.com/i9ASQ.png\" rel=\"nofollow noreferrer\">My IntelliJ screenshot</a></p>\n"}],"owner":{"account_id":5715070,"reputation":279,"user_id":5855968,"accept_rate":57,"display_name":"Stu Ratcliffe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652495578,"creation_date":1477478987,"question_id":40260307,"body_markdown":"I&#39;ll start this off by saying that I&#39;m not a Java dev, I work in a .NET software house, but somehow we have ended up needing to modify some legacy java code.\r\n\r\nSo I have a project which I&#39;ve opened up with IntelliJ IDEA Ultimate 2016.2. As far as I can tell this doesn&#39;t use Maven or Gradle or any other dependency management tool, and as I have no idea what I&#39;m doing with Java projects I&#39;m not going to start trying to understand that now.\r\n\r\nI&#39;m trying to add the Amazon AWS SDK to my project so I can upload some files to an S3 bucket. I&#39;ve downloaded the SDK from the AWS site, and extracted the jar files into the lib folder of my project root. I&#39;ve tried numerous ways of adding these as dependencies, right click the jar files and add as library, go into settings, modules, dependencies, click the plus and add the jars etc. When I build the project it builds fine, and intellisense if picking up the classes and methods when writing the code to utilise the SDK. \r\n\r\nHowever, as soon as I run the app, I get a &quot;java.lang.NoClassDefFound&quot; for the com/amazonaws/AmazonServiceException package as the containing class is instantiated.\r\n\r\nThis could well be something to do with the &quot;CLASSPATH&quot; that I hear so much about (but don&#39;t fully understand), but my understanding was that IntelliJ handled this when adding the jars as a dependency. I&#39;ve also tried adding all the jars from the &quot;third-party&quot; directory from the downloaded AWS zip file, and adding those as dependencies as well, but it still doesn&#39;t want to work.\r\n\r\nIncidentally, I&#39;m adding the jars to the lib folder so they are included in source control.\r\n\r\nAny suggestions on how to use the AWS SDK without using Maven or Gradle?\r\n\r\nCheers","title":"Add AWS SDK to IntelliJ project without Maven or Gradle","body":"<p>I'll start this off by saying that I'm not a Java dev, I work in a .NET software house, but somehow we have ended up needing to modify some legacy java code.</p>\n\n<p>So I have a project which I've opened up with IntelliJ IDEA Ultimate 2016.2. As far as I can tell this doesn't use Maven or Gradle or any other dependency management tool, and as I have no idea what I'm doing with Java projects I'm not going to start trying to understand that now.</p>\n\n<p>I'm trying to add the Amazon AWS SDK to my project so I can upload some files to an S3 bucket. I've downloaded the SDK from the AWS site, and extracted the jar files into the lib folder of my project root. I've tried numerous ways of adding these as dependencies, right click the jar files and add as library, go into settings, modules, dependencies, click the plus and add the jars etc. When I build the project it builds fine, and intellisense if picking up the classes and methods when writing the code to utilise the SDK. </p>\n\n<p>However, as soon as I run the app, I get a \"java.lang.NoClassDefFound\" for the com/amazonaws/AmazonServiceException package as the containing class is instantiated.</p>\n\n<p>This could well be something to do with the \"CLASSPATH\" that I hear so much about (but don't fully understand), but my understanding was that IntelliJ handled this when adding the jars as a dependency. I've also tried adding all the jars from the \"third-party\" directory from the downloaded AWS zip file, and adding those as dependencies as well, but it still doesn't want to work.</p>\n\n<p>Incidentally, I'm adding the jars to the lib folder so they are included in source control.</p>\n\n<p>Any suggestions on how to use the AWS SDK without using Maven or Gradle?</p>\n\n<p>Cheers</p>\n"},{"tags":["java","android","kotlin","operating-system"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1652478941,"post_id":72235706,"comment_id":127624727,"body_markdown":"There is no &quot;system call&quot; that is unique to downloading files.","body":"There is no &quot;system call&quot; that is unique to downloading files."},{"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"score":0,"creation_date":1652479944,"post_id":72235706,"comment_id":127624924,"body_markdown":"@CommonsWare Is there any way to attach a piece of code which automatically modifies the metadata of any file being downloaded?","body":"@CommonsWare Is there any way to attach a piece of code which automatically modifies the metadata of any file being downloaded?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1652488097,"post_id":72235706,"comment_id":127625936,"body_markdown":"The OS doesn&#39;t know a file was downloaded-  downloading isn&#39;t done by the OS.  The OS sees network data being sent, and then a file being saved.  It doesn&#39;t know the two are related.  I&#39;m also curious what metadata you want changed, because the Linux filesystem really doesn&#39;t have much.  Just timestamps and owner/group owner.","body":"The OS doesn&#39;t know a file was downloaded-  downloading isn&#39;t done by the OS.  The OS sees network data being sent, and then a file being saved.  It doesn&#39;t know the two are related.  I&#39;m also curious what metadata you want changed, because the Linux filesystem really doesn&#39;t have much.  Just timestamps and owner/group owner."},{"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"score":0,"creation_date":1652494119,"post_id":72235706,"comment_id":127626468,"body_markdown":"@GabeSechan I would like to remove all the metadata for any file (whether that is the owner/group owner or the timestamp).","body":"@GabeSechan I would like to remove all the metadata for any file (whether that is the owner/group owner or the timestamp)."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1652494635,"post_id":72235706,"comment_id":127626507,"body_markdown":"Not possible.  Those are required fields for linux to work.  All files have an mtime, ctime, atime, and an owner account/group.  In android, the owning account/group will be the app that saves, since the security system has one userid per app.  They have no relationship to where the file came from or when it was made on the server, just to when it was saved to disk locally","body":"Not possible.  Those are required fields for linux to work.  All files have an mtime, ctime, atime, and an owner account/group.  In android, the owning account/group will be the app that saves, since the security system has one userid per app.  They have no relationship to where the file came from or when it was made on the server, just to when it was saved to disk locally"},{"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"score":0,"creation_date":1652494779,"post_id":72235706,"comment_id":127626515,"body_markdown":"@GabeSechan Do you know what types of files I can remove metadata from as well as what metadata I can remove from those types of files?","body":"@GabeSechan Do you know what types of files I can remove metadata from as well as what metadata I can remove from those types of files?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1652499754,"post_id":72235706,"comment_id":127626963,"body_markdown":"Linux (and thus Android) don&#39;t really store metadata.  Just creation time, access time, and modified time (and its possible those may not be accurate, depending on filesystem).  And the user/group that owns the file.  None of those may be removed.  Any other metadata isn&#39;t handled by the OS, its part of the file.  To change that, you&#39;d need to know the file format and edit the file.","body":"Linux (and thus Android) don&#39;t really store metadata.  Just creation time, access time, and modified time (and its possible those may not be accurate, depending on filesystem).  And the user/group that owns the file.  None of those may be removed.  Any other metadata isn&#39;t handled by the OS, its part of the file.  To change that, you&#39;d need to know the file format and edit the file."}],"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652494709,"creation_date":1652478264,"question_id":72235706,"body_markdown":"Is there a way to attach a piece of custom code to the Android OS which automatically deletes all the metadata of any new file(s) saved or downloaded (e.x. owner, last updated by, creation date, etc.)?","title":"Android: Automatically modify metadata of any new file(s) saved or downloaded","body":"<p>Is there a way to attach a piece of custom code to the Android OS which automatically deletes all the metadata of any new file(s) saved or downloaded (e.x. owner, last updated by, creation date, etc.)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":2,"creation_date":1372616396,"post_id":17393436,"comment_id":25252481,"body_markdown":"What is that `;` after the `for` loop?","body":"What is that <code>;</code> after the <code>for</code> loop?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1372616529,"post_id":17393436,"comment_id":25252519,"body_markdown":"Welcome to Stack Overflow! Debugging is a critical skill for all programmers. I strongly suggest that you learn how to use your IDEs built-in debugger. You can also add more System.out.println() statements to your code in order to see what is happening.","body":"Welcome to Stack Overflow! Debugging is a critical skill for all programmers. I strongly suggest that you learn how to use your IDEs built-in debugger. You can also add more System.out.println() statements to your code in order to see what is happening."}],"answers":[{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1372616814,"creation_date":1372616359,"answer_id":17393443,"question_id":17393436,"body_markdown":"You have added an extra semicolon after for loop here\r\n\r\n    for(int index = position-1; index &gt;= 0; index--);\r\n                                                    ^\r\n\r\nAlso you are always accessing the `postion-i`. You should access the `index`\r\n\r\n    System.out.println(p1.charAt(position-1));\r\n                                 ^^^^^^^^^^^\r\n                                    here\r\n\r\nYou can use this\r\n\r\n    int position = phraseLength;\r\n    for(int index = position-1; index &gt;= 0; index--)\r\n        System.out.print(p1.charAt(index));\r\n\r\nor this\r\n\r\n    String output = &quot;&quot;;\r\n    int position = phraseLength;\r\n    for(int index = position-1; index &gt;= 0; index--)\r\n        output+=p1.charAt(index);\r\n    System.out.println(output);\r\n","title":"How do you reverse a string character by character in java?","body":"<p>You have added an extra semicolon after for loop here</p>\n\n<pre><code>for(int index = position-1; index &gt;= 0; index--);\n                                                ^\n</code></pre>\n\n<p>Also you are always accessing the <code>postion-i</code>. You should access the <code>index</code></p>\n\n<pre><code>System.out.println(p1.charAt(position-1));\n                             ^^^^^^^^^^^\n                                here\n</code></pre>\n\n<p>You can use this</p>\n\n<pre><code>int position = phraseLength;\nfor(int index = position-1; index &gt;= 0; index--)\n    System.out.print(p1.charAt(index));\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>String output = \"\";\nint position = phraseLength;\nfor(int index = position-1; index &gt;= 0; index--)\n    output+=p1.charAt(index);\nSystem.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1318321,"reputation":2534,"user_id":1264705,"accept_rate":76,"display_name":"PVR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372617322,"creation_date":1372616564,"answer_id":17393469,"question_id":17393436,"body_markdown":"I guess by mistake you have added the `semicolon` after for loop. Practically this will not give any `compile time error`. But the content of the loop will be executed only once. So remove the semicolon and get it done !!\r\n","title":"How do you reverse a string character by character in java?","body":"<p>I guess by mistake you have added the <code>semicolon</code> after for loop. Practically this will not give any <code>compile time error</code>. But the content of the loop will be executed only once. So remove the semicolon and get it done !!</p>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1372616585,"creation_date":1372616585,"answer_id":17393475,"question_id":17393436,"body_markdown":"        StringBuffer sb=new StringBuffer(&quot;Bank of America&quot;);\r\n        System.out.println(sb.reverse());\r\n\r\n\r\nIf you want to do it your way. use\r\n\r\n        int position = phraseLength;\r\n        for(int index = position-1; index &gt;= 0; index--)\r\n            System.out.println(p1.charAt(index));\r\n","title":"How do you reverse a string character by character in java?","body":"<pre><code>    StringBuffer sb=new StringBuffer(\"Bank of America\");\n    System.out.println(sb.reverse());\n</code></pre>\n\n<p>If you want to do it your way. use</p>\n\n<pre><code>    int position = phraseLength;\n    for(int index = position-1; index &gt;= 0; index--)\n        System.out.println(p1.charAt(index));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":932593,"reputation":3291,"user_id":962146,"accept_rate":58,"display_name":"Android Noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372616922,"creation_date":1372616922,"answer_id":17393530,"question_id":17393436,"body_markdown":"    public String reverse(String str) {   \r\n     char [] buffer = str.toCharArray();\r\n\r\n     for (int i = 0, j = buffer.length - 1; i &lt; j; i++, j--) {\r\n      char temp = buffer[i];\r\n      buffer[i] = buffer[j];\r\n      buffer[j] = temp;\r\n     }\r\n\r\n     return new String(buffer);\r\n    }\r\n\r\n","title":"How do you reverse a string character by character in java?","body":"<pre><code>public String reverse(String str) {   \n char [] buffer = str.toCharArray();\n\n for (int i = 0, j = buffer.length - 1; i &lt; j; i++, j--) {\n  char temp = buffer[i];\n  buffer[i] = buffer[j];\n  buffer[j] = temp;\n }\n\n return new String(buffer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2988974,"reputation":1,"user_id":2537006,"display_name":"AndrewLove8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372617621,"creation_date":1372617214,"answer_id":17393576,"question_id":17393436,"body_markdown":"    StringBuffer stringBuffer=new StringBuffer(&quot;Bank of America&quot;);\r\n    System.out.println(stringBuffer.reverse());    ","title":"How do you reverse a string character by character in java?","body":"<pre><code>StringBuffer stringBuffer=new StringBuffer(\"Bank of America\");\nSystem.out.println(stringBuffer.reverse());    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25286561,"reputation":1,"user_id":19113421,"display_name":"Levi Richards"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652494116,"creation_date":1652494116,"answer_id":72236822,"question_id":17393436,"body_markdown":"Declare a string.\r\nTake out the length of that string.\r\nLoop through the characters of the string.\r\nAdd the characters in reverse order in the new string.\r\nString str = &quot;hello&quot;;\r\n\r\nString reverse = &quot;&quot;;\r\n\r\nint length = str.length();\r\n\r\nfor (int i = 0; i &lt; length; i++) {\r\n\r\n     reverse = str.charAt(i) + reverse;\r\n\r\n}\r\n\r\nSystem.out.println(reverse);\r\n\r\n","title":"How do you reverse a string character by character in java?","body":"<p>Declare a string.\nTake out the length of that string.\nLoop through the characters of the string.\nAdd the characters in reverse order in the new string.\nString str = &quot;hello&quot;;</p>\n<p>String reverse = &quot;&quot;;</p>\n<p>int length = str.length();</p>\n<p>for (int i = 0; i &lt; length; i++) {</p>\n<pre><code> reverse = str.charAt(i) + reverse;\n</code></pre>\n<p>}</p>\n<p>System.out.println(reverse);</p>\n"}],"owner":{"account_id":2984258,"reputation":67,"user_id":2533533,"accept_rate":100,"display_name":"Ryan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":17393443,"answer_count":6,"score":0,"last_activity_date":1652494116,"creation_date":1372616300,"question_id":17393436,"body_markdown":"Let&#39;s say I have a string with the phrase &quot;Bank of America&quot;. I want to reverse it so the output results in &quot;aciremA fo knaB&quot;\r\n\r\nThis is the code I have been trying to use but the output is only the last letter of the last word, which would be &quot;a&quot;\r\n\r\n    int position = phraseLength;\r\n    for(int index = position-1; index &gt;= 0; index--);\r\n    System.out.println(p1.charAt(position-1));\r\n\r\nI am not sure what is wrong here so any help would be appericated. ","title":"How do you reverse a string character by character in java?","body":"<p>Let's say I have a string with the phrase \"Bank of America\". I want to reverse it so the output results in \"aciremA fo knaB\"</p>\n\n<p>This is the code I have been trying to use but the output is only the last letter of the last word, which would be \"a\"</p>\n\n<pre><code>int position = phraseLength;\nfor(int index = position-1; index &gt;= 0; index--);\nSystem.out.println(p1.charAt(position-1));\n</code></pre>\n\n<p>I am not sure what is wrong here so any help would be appericated. </p>\n"},{"tags":["java","string","pdf","pdfbox"],"comments":[{"owner":{"account_id":19557722,"reputation":29,"user_id":14311628,"display_name":"Meriem"},"score":0,"creation_date":1650330490,"post_id":71918450,"comment_id":127084202,"body_markdown":"The pdf I have is static but does that mean that its coordinates do not change from computer to another or is it always the same no matter where I run my code?","body":"The pdf I have is static but does that mean that its coordinates do not change from computer to another or is it always the same no matter where I run my code?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1650331121,"post_id":71918450,"comment_id":127084295,"body_markdown":"Unfortunately I suspect that you will need to use a combination of co-ordinates and the stripper method you have above, or one of the methods shown here: https://stackoverflow.com/a/17395274/1270000 A better solution would be to get the PDF generated with a dash &quot;-&quot; for empty values, otherwise you could use an image recognition library to work out where the columns are and generate the co-ordinates on the fly. If all the pages have tables in the same location then it&#39;s a non issue.","body":"Unfortunately I suspect that you will need to use a combination of co-ordinates and the stripper method you have above, or one of the methods shown here: <a href=\"https://stackoverflow.com/a/17395274/1270000\">stackoverflow.com/a/17395274/1270000</a> A better solution would be to get the PDF generated with a dash &quot;-&quot; for empty values, otherwise you could use an image recognition library to work out where the columns are and generate the co-ordinates on the fly. If all the pages have tables in the same location then it&#39;s a non issue."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1650364479,"post_id":71918450,"comment_id":127092147,"body_markdown":"The proof-of-concept in [this answer](https://stackoverflow.com/a/45842515/1729265) contains a `LayoutTextStripper` which extends the PDFBox text stripper class to work similar as `pdftotext -layout`; beware, though, that answer still is based on PDFBox 1.8.x, so some adaptions may be necessary. A similar approach is the `PDFLayoutTextStripper` by JonathanLink, see [here](https://github.com/JonathanLink/PDFLayoutTextStripper).","body":"The proof-of-concept in <a href=\"https://stackoverflow.com/a/45842515/1729265\">this answer</a> contains a <code>LayoutTextStripper</code> which extends the PDFBox text stripper class to work similar as <code>pdftotext -layout</code>; beware, though, that answer still is based on PDFBox 1.8.x, so some adaptions may be necessary. A similar approach is the <code>PDFLayoutTextStripper</code> by JonathanLink, see <a href=\"https://github.com/JonathanLink/PDFLayoutTextStripper\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1653327895,"post_id":71918450,"comment_id":127820258,"body_markdown":"@Meriem Did/Do the provided links help or do you still need some aid?","body":"@Meriem Did/Do the provided links help or do you still need some aid?"}],"owner":{"account_id":19557722,"reputation":29,"user_id":14311628,"display_name":"Meriem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652493911,"creation_date":1650328916,"question_id":71918450,"body_markdown":"I am using Java PDFBOX to read a pdf\r\n\r\nIt is a very long pdf with more than 40 pages, and I need to extract more than 100 elements on each page, doing it manually using coordinates would take me forever.\r\n\r\nIs there a way to get the pdf page text in rows with each empty space filled with some null value?\r\n\r\nWhen I parse this table for example:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/58pHO.png\r\n\r\nusing the code:\r\n\r\n                PDFTextStripper stripper = new PDFTextStripper();\r\n                stripper.setSortByPosition(true);\r\n\r\n                stripper.setStartPage(30);\r\n                stripper.setEndPage(30);\r\n                LOG.info(&quot;page 30 \\n{}&quot;, stripper.getText(document));\r\n\r\n\r\n\r\nI get this:\r\n\r\n    016         1 300 \r\n    030        17 994        41 629        15 712 \r\n    042           676           676 \r\n\r\nThe problem is that I can&#39;t tell if there are just one or two values which are which !!","title":"How can I fill empty space with null in a pdf? using pdfbox","body":"<p>I am using Java PDFBOX to read a pdf</p>\n<p>It is a very long pdf with more than 40 pages, and I need to extract more than 100 elements on each page, doing it manually using coordinates would take me forever.</p>\n<p>Is there a way to get the pdf page text in rows with each empty space filled with some null value?</p>\n<p>When I parse this table for example:\n<a href=\"https://i.stack.imgur.com/58pHO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/58pHO.png\" alt=\"enter image description here\" /></a></p>\n<p>using the code:</p>\n<pre><code>            PDFTextStripper stripper = new PDFTextStripper();\n            stripper.setSortByPosition(true);\n\n            stripper.setStartPage(30);\n            stripper.setEndPage(30);\n            LOG.info(&quot;page 30 \\n{}&quot;, stripper.getText(document));\n</code></pre>\n<p>I get this:</p>\n<pre><code>016         1 300 \n030        17 994        41 629        15 712 \n042           676           676 \n</code></pre>\n<p>The problem is that I can't tell if there are just one or two values which are which !!</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":457298,"reputation":1976,"user_id":856522,"display_name":"kgdesouz"},"score":1,"creation_date":1372986395,"post_id":17479777,"comment_id":25403146,"body_markdown":"What&#39;s the contents of your TNSNAMES.ORA? ` java.net.UnknownHostException: ssdb0255n21-oravip: Name or service not known` would imply that it is not correctly setup. Also, try using `tnsping ssdb0255n21-oravip` and see if you can connect.","body":"What&#39;s the contents of your TNSNAMES.ORA? ` java.net.UnknownHostException: ssdb0255n21-oravip: Name or service not known` would imply that it is not correctly setup. Also, try using <code>tnsping ssdb0255n21-oravip</code> and see if you can connect."},{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1372987925,"post_id":17479777,"comment_id":25403408,"body_markdown":"Thanks for the reply. I&#39;ve updated my answer with these details. I&#39;ve removed our company details so if there is any inconsistencies it&#39;s most likely a typo on my behalf. I don&#39;t have a tnsping command on my box.","body":"Thanks for the reply. I&#39;ve updated my answer with these details. I&#39;ve removed our company details so if there is any inconsistencies it&#39;s most likely a typo on my behalf. I don&#39;t have a tnsping command on my box."},{"owner":{"account_id":457298,"reputation":1976,"user_id":856522,"display_name":"kgdesouz"},"score":0,"creation_date":1372988036,"post_id":17479777,"comment_id":25403434,"body_markdown":"Your TNSNAMES.ORA is not setup correctly. The service name is `ORA11` and you&#39;re trying to connect to ssdb0255n21-oravip. Note, you probably have tnsping in your oracle\\bin folder. Note, I have had a similar problem in the past and sometimes its because you have too many interfaces available. Disable one of the interfaces.","body":"Your TNSNAMES.ORA is not setup correctly. The service name is <code>ORA11</code> and you&#39;re trying to connect to ssdb0255n21-oravip. Note, you probably have tnsping in your oracle\\bin folder. Note, I have had a similar problem in the past and sometimes its because you have too many interfaces available. Disable one of the interfaces."},{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1372989019,"post_id":17479777,"comment_id":25403569,"body_markdown":"So what should I put in tnsnames.ora? I&#39;ve searched the entire machine and don&#39;t have tnsping anywhere for some reason. I&#39;ve just got sqlplus and genezi in the bin folder.","body":"So what should I put in tnsnames.ora? I&#39;ve searched the entire machine and don&#39;t have tnsping anywhere for some reason. I&#39;ve just got sqlplus and genezi in the bin folder."},{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1372989055,"post_id":17479777,"comment_id":25403577,"body_markdown":"Forgot to mention I tried disabling every network adapter except for the Ethernet one and still no joy.","body":"Forgot to mention I tried disabling every network adapter except for the Ethernet one and still no joy."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1372989813,"post_id":17479777,"comment_id":25403708,"body_markdown":"the thin client does not use the tnsnames.ora file, no?","body":"the thin client does not use the tnsnames.ora file, no?"},{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1372996084,"post_id":17479777,"comment_id":25404837,"body_markdown":"@OldProgrammer my understanding is that no addition config files are required as everything is specified in the connection.","body":"@OldProgrammer my understanding is that no addition config files are required as everything is specified in the connection."},{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1372996587,"post_id":17479777,"comment_id":25404930,"body_markdown":"I&#39;ve found I can connect exactly 50% of the time with SQL Plus also so it&#39;s not related to my code at least. I think it is a network fault so I have raised a ticket at work. I suspect there is a load balancer with an even number of possible hosts and I can only connect to half of them.","body":"I&#39;ve found I can connect exactly 50% of the time with SQL Plus also so it&#39;s not related to my code at least. I think it is a network fault so I have raised a ticket at work. I suspect there is a load balancer with an even number of possible hosts and I can only connect to half of them."},{"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"score":0,"creation_date":1372996736,"post_id":17479777,"comment_id":25404954,"body_markdown":"@kgdesouz I think tnsping must be a windows utility","body":"@kgdesouz I think tnsping must be a windows utility"},{"owner":{"account_id":2236584,"reputation":576,"user_id":1972803,"display_name":"Badaro"},"score":0,"creation_date":1372996919,"post_id":17479777,"comment_id":25404977,"body_markdown":"Maybe you are trying to connect to an Oracle RAC. In this case the url connection is a little bit different.","body":"Maybe you are trying to connect to an Oracle RAC. In this case the url connection is a little bit different."}],"answers":[{"tags":[],"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373001203,"creation_date":1373001203,"answer_id":17481506,"question_id":17479777,"body_markdown":"I hate to answer my own questions but it turned out not to be an issue with Oracle. It was an issue with DNS resolve failing. I put the ssdb0255n21-oravip host into the /etc/hosts file and the problem immediately went away. I suspect a load balancer somewhere is directing 50% of DNS lookups to a DNS server that is returning an error. We have a very complicated network here :-)","title":"Connection to Oracle from Java unreliable","body":"<p>I hate to answer my own questions but it turned out not to be an issue with Oracle. It was an issue with DNS resolve failing. I put the ssdb0255n21-oravip host into the /etc/hosts file and the problem immediately went away. I suspect a load balancer somewhere is directing 50% of DNS lookups to a DNS server that is returning an error. We have a very complicated network here :-)</p>\n"}],"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652493780,"creation_date":1372986134,"question_id":17479777,"body_markdown":"I&#39;m new to Java and trying to setup a connection to an Oracle database from a redhat Linux machine. I&#39;ve got the connection working and can execute a simple sql script but the connection only works approx. 1 in 3 times. The error it gives and the code is below. It is quite possible this is an issue with our network but I would like to have a bit more knowledge before I raise a support case. Does anyone know why the error says &quot;Name or service not known&quot; for ssdb0255n21-oravip when &quot;someserver&quot; is what is specified in the connection?\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection\r\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:673)\r\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:715)\r\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:385)\r\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:30)\r\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:564)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:187)\r\n        at OracleTest.main(OracleTest.java:19)\r\n    Caused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\r\n        at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:445)\r\n        at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:464)\r\n        at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:594)\r\n        at oracle.net.ns.NSProtocolStream.negotiateConnection(NSProtocolStream.java:214)\r\n        at oracle.net.ns.NSProtocol.connect(NSProtocol.java:263)\r\n        at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1360)\r\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:486)\r\n        ... 7 more\r\n    Caused by: java.net.UnknownHostException: ssdb0255n21-oravip: Name or service not known\r\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n        at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:894)\r\n        at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1286)\r\n        at java.net.InetAddress.getAllByName0(InetAddress.java:1239)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1155)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1091)\r\n        at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:117)\r\n        at oracle.net.nt.ConnOption.connect(ConnOption.java:133)\r\n        at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:411)\r\n        ... 13 more\r\n\r\nThe code I am using is this\r\n\r\n    import java.sql.*;\r\n    import java.util.Properties;\r\n\r\n    public class OracleTest\r\n    {\r\n      public static void main(String[] args) throws SQLException\r\n      {\r\n        String url = &quot;jdbc:oracle:thin:@ldaps://someserver:3131/ODBF2_BLOOD_P_S_B_001,cn=OracleContext,dc=in,dc=companyname,dc=com,dc=au&quot;;\r\n\r\n        //properties for creating connection to Oracle database\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;user&quot;, &quot;xxx&quot;);\r\n        props.setProperty(&quot;password&quot;, &quot;xxxx&quot;);\r\n\r\n        //creating connection to Oracle database using JDBC\r\n        System.out.println(DriverManager.getLoginTimeout());\r\n        Connection conn = DriverManager.getConnection(url,props);\r\n\r\n        String sql =&quot;select sysdate as current_day from dual&quot;;\r\n\r\n        //creating PreparedStatement object to execute query\r\n        PreparedStatement preStatement = conn.prepareStatement(sql);\r\n\r\n        ResultSet result = preStatement.executeQuery();\r\n\r\n        while(result.next())\r\n        {\r\n          System.out.println(&quot;Current Date from Oracle : &quot; +         result.getString(&quot;current_day&quot;));\r\n        }\r\n        System.out.println(&quot;done&quot;);\r\n\r\n      }\r\n    }\r\n\r\nI have ORACLE_HOME set to /usr/lib/oracle/10.2.0.5/client64/ and have created ldap.ora and sqlnet.ora files in /usr/lib/oracle/10.2.0.5/client64/network/admin. Contents of these are:\r\n\r\nsqlnet.ora\r\n\r\n    NAMES.DIRECTORY_PATH = (LDAP,TNSNAMES)\r\n\r\nldap.ora\r\n\r\n    DIRECTORY_SERVERS = (OID.GLB.IN.companyname.COM.AU::3131)\r\n    DEFAULT_ADMIN_CONTEXT = &quot;dc=in,dc=companyname,dc=com,dc=au&quot;\r\n    DIRECTORY_SERVER_TYPE = OID\r\n\r\nIt appears to have created tnsnames.ora itself\r\n\r\n    ORA11 =\r\n     (DESCRIPTION =\r\n       (ADDRESS_LIST =\r\n         (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))\r\n       )\r\n     (CONNECT_DATA =\r\n       (SERVICE_NAME = ORA11)\r\n     )\r\n    )\r\n\r\n","title":"Connection to Oracle from Java unreliable","body":"<p>I'm new to Java and trying to setup a connection to an Oracle database from a redhat Linux machine. I've got the connection working and can execute a simple sql script but the connection only works approx. 1 in 3 times. The error it gives and the code is below. It is quite possible this is an issue with our network but I would like to have a bit more knowledge before I raise a support case. Does anyone know why the error says \"Name or service not known\" for ssdb0255n21-oravip when \"someserver\" is what is specified in the connection?</p>\n\n<pre><code>Exception in thread \"main\" java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:673)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:715)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:385)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:30)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:564)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:187)\n    at OracleTest.main(OracleTest.java:19)\nCaused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:445)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:464)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:594)\n    at oracle.net.ns.NSProtocolStream.negotiateConnection(NSProtocolStream.java:214)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:263)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1360)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:486)\n    ... 7 more\nCaused by: java.net.UnknownHostException: ssdb0255n21-oravip: Name or service not known\n    at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:894)\n    at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1286)\n    at java.net.InetAddress.getAllByName0(InetAddress.java:1239)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1155)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1091)\n    at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:117)\n    at oracle.net.nt.ConnOption.connect(ConnOption.java:133)\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:411)\n    ... 13 more\n</code></pre>\n\n<p>The code I am using is this</p>\n\n<pre><code>import java.sql.*;\nimport java.util.Properties;\n\npublic class OracleTest\n{\n  public static void main(String[] args) throws SQLException\n  {\n    String url = \"jdbc:oracle:thin:@ldaps://someserver:3131/ODBF2_BLOOD_P_S_B_001,cn=OracleContext,dc=in,dc=companyname,dc=com,dc=au\";\n\n    //properties for creating connection to Oracle database\n    Properties props = new Properties();\n    props.setProperty(\"user\", \"xxx\");\n    props.setProperty(\"password\", \"xxxx\");\n\n    //creating connection to Oracle database using JDBC\n    System.out.println(DriverManager.getLoginTimeout());\n    Connection conn = DriverManager.getConnection(url,props);\n\n    String sql =\"select sysdate as current_day from dual\";\n\n    //creating PreparedStatement object to execute query\n    PreparedStatement preStatement = conn.prepareStatement(sql);\n\n    ResultSet result = preStatement.executeQuery();\n\n    while(result.next())\n    {\n      System.out.println(\"Current Date from Oracle : \" +         result.getString(\"current_day\"));\n    }\n    System.out.println(\"done\");\n\n  }\n}\n</code></pre>\n\n<p>I have ORACLE_HOME set to /usr/lib/oracle/10.2.0.5/client64/ and have created ldap.ora and sqlnet.ora files in /usr/lib/oracle/10.2.0.5/client64/network/admin. Contents of these are:</p>\n\n<p>sqlnet.ora</p>\n\n<pre><code>NAMES.DIRECTORY_PATH = (LDAP,TNSNAMES)\n</code></pre>\n\n<p>ldap.ora</p>\n\n<pre><code>DIRECTORY_SERVERS = (OID.GLB.IN.companyname.COM.AU::3131)\nDEFAULT_ADMIN_CONTEXT = \"dc=in,dc=companyname,dc=com,dc=au\"\nDIRECTORY_SERVER_TYPE = OID\n</code></pre>\n\n<p>It appears to have created tnsnames.ora itself</p>\n\n<pre><code>ORA11 =\n (DESCRIPTION =\n   (ADDRESS_LIST =\n     (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))\n   )\n (CONNECT_DATA =\n   (SERVICE_NAME = ORA11)\n )\n)\n</code></pre>\n"},{"tags":["python","java","pdf","tabula"],"owner":{"account_id":24901667,"reputation":21,"user_id":18772277,"display_name":"Kirsten Van Lienden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652493656,"creation_date":1649683688,"question_id":71828708,"body_markdown":"I am using tabula to read tables from a pdf. The documents I&#39;m extracting data from are really large, so I&#39;m using a for-loop to run through the different pages:\r\n\r\n    for i in range(45, endofdoc):\r\n          df = read_pdf(&#39;D:\\\\XXXXX.pdf&#39;, pages = i, pandas_options={&#39;header&#39;: None}, java_options =    &quot;-Xmx512m&quot;):\r\n\r\nThis has worked for many of the files. For the file I&#39;m currently working on, it worked until page 195. On this page it gives an error I will paste below. Interestingly enough, the next page works again. I checked the PDF, the format of this page is not different than any of the other ones. What could be going wrong? And more importantly, how can I fix it? Thanks in advance!\r\n\r\n    File &quot;C:\\Users\\Kirsten\\anaconda3\\lib\\subprocess.py&quot;, line 528, in run\r\n        raise CalledProcessError(retcode, process.args,\r\n    \r\n    CalledProcessError: Command &#39;[&#39;java&#39;, &#39;-Xmx512m&#39;, &#39;-Dfile.encoding=UTF8&#39;, &#39;-jar&#39;, &#39;C:\\\\Users\\\\Kirsten\\\\anaconda3\\\\lib\\\\site-packages\\\\tabula\\\\tabula-1.0.5-jar-with-dependencies.jar&#39;, &#39;--pages&#39;, &#39;195&#39;, &#39;--guess&#39;, &#39;--format&#39;, &#39;JSON&#39;, &#39;D:\\\\XXXXX.pdf&#39;]&#39; returned non-zero exit status 1.\r\n\r\nMy versions:\r\n\r\n    Python version:\r\n        3.9.7 (default, Sep 16 2021, 16:59:28) [MSC v.1916 64 bit (AMD64)]\r\n    Java version:\r\n        java version &quot;1.8.0_181&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_181-b13)\r\n    Java HotSpot(TM) Client VM (build 25.181-b13, mixed mode, sharing)\r\n    tabula-py version: 2.3.0\r\n    platform: Windows-10-10.0.19044-SP0\r\n\r\n","title":"Tabula read pdf - CalledProcessError","body":"<p>I am using tabula to read tables from a pdf. The documents I'm extracting data from are really large, so I'm using a for-loop to run through the different pages:</p>\n<pre><code>for i in range(45, endofdoc):\n      df = read_pdf('D:\\\\XXXXX.pdf', pages = i, pandas_options={'header': None}, java_options =    &quot;-Xmx512m&quot;):\n</code></pre>\n<p>This has worked for many of the files. For the file I'm currently working on, it worked until page 195. On this page it gives an error I will paste below. Interestingly enough, the next page works again. I checked the PDF, the format of this page is not different than any of the other ones. What could be going wrong? And more importantly, how can I fix it? Thanks in advance!</p>\n<pre><code>File &quot;C:\\Users\\Kirsten\\anaconda3\\lib\\subprocess.py&quot;, line 528, in run\n    raise CalledProcessError(retcode, process.args,\n\nCalledProcessError: Command '['java', '-Xmx512m', '-Dfile.encoding=UTF8', '-jar', 'C:\\\\Users\\\\Kirsten\\\\anaconda3\\\\lib\\\\site-packages\\\\tabula\\\\tabula-1.0.5-jar-with-dependencies.jar', '--pages', '195', '--guess', '--format', 'JSON', 'D:\\\\XXXXX.pdf']' returned non-zero exit status 1.\n</code></pre>\n<p>My versions:</p>\n<pre><code>Python version:\n    3.9.7 (default, Sep 16 2021, 16:59:28) [MSC v.1916 64 bit (AMD64)]\nJava version:\n    java version &quot;1.8.0_181&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_181-b13)\nJava HotSpot(TM) Client VM (build 25.181-b13, mixed mode, sharing)\ntabula-py version: 2.3.0\nplatform: Windows-10-10.0.19044-SP0\n</code></pre>\n"},{"tags":["java","pdf","pdfbox","data-extraction","boxable"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1641415506,"post_id":70598614,"comment_id":124802149,"body_markdown":"*&quot;Is it even possible to extract the data with whitespaces?&quot;* - most likely there are no white spaces in those empty cells. Have you tried Ctrl-A?","body":"<i>&quot;Is it even possible to extract the data with whitespaces?&quot;</i> - most likely there are no white spaces in those empty cells. Have you tried Ctrl-A?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1641525622,"post_id":70598614,"comment_id":124832508,"body_markdown":"make sure you&#39;re using the latest PDFBox version. Traprange uses 2.0.6 but we&#39;re at 2.0.25. The exception happens in the initialization of the stripper.","body":"make sure you&#39;re using the latest PDFBox version. Traprange uses 2.0.6 but we&#39;re at 2.0.25. The exception happens in the initialization of the stripper."},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1641558671,"post_id":70598614,"comment_id":124841083,"body_markdown":"but 2.0.6 doesnt exist on the PDFBox site? Only 2.0.25 and Alpha 3.0","body":"but 2.0.6 doesnt exist on the PDFBox site? Only 2.0.25 and Alpha 3.0"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1641558946,"post_id":70598614,"comment_id":124841184,"body_markdown":"If you&#39;re building with maven then it exists. You need to override the version or fork the project and modify its pom.xml","body":"If you&#39;re building with maven then it exists. You need to override the version or fork the project and modify its pom.xml"},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1641559260,"post_id":70598614,"comment_id":124841301,"body_markdown":"the pom of traprange uses pdfbox 1.8.9, changing it to newer version breaks the code :/","body":"the pom of traprange uses pdfbox 1.8.9, changing it to newer version breaks the code :/"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1641559363,"post_id":70598614,"comment_id":124841349,"body_markdown":"This one https://github.com/thoqbk/traprange/blob/master/pom.xml shows 2.0.6 .","body":"This one <a href=\"https://github.com/thoqbk/traprange/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/thoqbk/traprange/blob/master/pom.xml</a> shows 2.0.6 ."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1641560052,"post_id":70598614,"comment_id":124841601,"body_markdown":"I looked at an older 1.8 version. This might be related to a java version number that has a single component, e.g. &quot;17&quot; instead of &quot;17.0.1&quot;, enter &quot;java -version&quot;.","body":"I looked at an older 1.8 version. This might be related to a java version number that has a single component, e.g. &quot;17&quot; instead of &quot;17.0.1&quot;, enter &quot;java -version&quot;."},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1641560199,"post_id":70598614,"comment_id":124841644,"body_markdown":"got it to work, however traprange cant seem to differentiate my 1st and 2nd column, and puts them together :/ – \n\nso i got &quot;12/1&quot; instead of 1, 2/1","body":"got it to work, however traprange cant seem to differentiate my 1st and 2nd column, and puts them together :/ –   so i got &quot;12/1&quot; instead of 1, 2/1"},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1641560715,"post_id":70598614,"comment_id":124841849,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/240826/discussion-between-dahlin-and-tilman-hausherr).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/240826/discussion-between-dahlin-and-tilman-hausherr\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641446355,"creation_date":1641446355,"answer_id":70602811,"question_id":70598614,"body_markdown":"The solution needs custom algorithm to complete the task. Please check [this solution][1] for custom PDFTableStripper. \r\n\r\nAnother great solution has been implemented by [Tho][2] which could be found at [traprage][3]. It can extract the null data of a particular cell.\r\n\r\n\r\n  [1]: https://gist.github.com/beldaz/8ed6e7473bd228fcee8d4a3e4525be11\r\n  [2]: https://stackoverflow.com/users/875775/tho\r\n  [3]: https://github.com/thoqbk/traprange","title":"Extracting exact table data from PDF","body":"<p>The solution needs custom algorithm to complete the task. Please check <a href=\"https://gist.github.com/beldaz/8ed6e7473bd228fcee8d4a3e4525be11\" rel=\"nofollow noreferrer\">this solution</a> for custom PDFTableStripper.</p>\n<p>Another great solution has been implemented by <a href=\"https://stackoverflow.com/users/875775/tho\">Tho</a> which could be found at <a href=\"https://github.com/thoqbk/traprange\" rel=\"nofollow noreferrer\">traprage</a>. It can extract the null data of a particular cell.</p>\n"},{"tags":[],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641654816,"creation_date":1641654816,"answer_id":70633669,"question_id":70598614,"body_markdown":"I came up with my own solution.\r\n\r\nSince I have a 2D ArrayList, I each have a list containing  a row of the table.\r\n\r\nNow I save the position of the non empty cells (only one is not empty per row at any time).\r\n\r\nI save it in a meta data field of the PDF and load this field to get the positions back.","title":"Extracting exact table data from PDF","body":"<p>I came up with my own solution.</p>\n<p>Since I have a 2D ArrayList, I each have a list containing  a row of the table.</p>\n<p>Now I save the position of the non empty cells (only one is not empty per row at any time).</p>\n<p>I save it in a meta data field of the PDF and load this field to get the positions back.</p>\n"}],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70633669,"answer_count":2,"score":0,"last_activity_date":1652493399,"creation_date":1641411018,"question_id":70598614,"body_markdown":"I am trying to extract each row of my table from a pdf file I created before.\r\n\r\nThe problem  I have, is that empty cells, which I thought would be saved as &#39;null&#39;, are ignored, and not even read as space characters.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![extracted from PDF][2]][2]\r\n\r\n\r\nI extract the content from my PDF via this method:\r\n\r\n    \tpublic final ArrayList&lt;String&gt; extractLines(final File pdf) throws IOException {\r\n\t\ttry (PDDocument doc = PDDocument.load(pdf)) {\r\n\t\t\tPDFTextStripper strip = new PDFTextStripper();\r\n\t\t\tString txt = strip.getText(doc);\r\n\t\t\tString[] arr = txt.split(&quot;\\n&quot;);\r\n\t\t\tfinal ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;(Arrays.asList(arr));\r\n\t\t\treturn lines;\r\n\t\t}\r\n\t}\r\n\r\nIs it even possible to extract the data with whitespaces?\r\n\r\nIf so, with PDFBox? Or a different method?\r\n\r\nEDIT:\r\n\r\nCannot get traprange to work, simple test:\r\n\r\n    File e = new File(&quot;C:/Users/Test/Downloads/a.pdf&quot;);\r\n\r\n\t\tList&lt;Table&gt; t = new PDFTableExtractor().setSource(e).extract();\r\n\t\tSystem.out.println(t.get(0).toString());\r\n\r\nOnly gives me:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nCould it have to do with the form of my table?\r\n\r\nMy table:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NzFTX.png\r\n  [2]: https://i.stack.imgur.com/3iJiX.png\r\n  [3]: https://i.stack.imgur.com/UYWqP.png\r\n  [4]: https://i.stack.imgur.com/6it0u.png","title":"Extracting exact table data from PDF","body":"<p>I am trying to extract each row of my table from a pdf file I created before.</p>\n<p>The problem  I have, is that empty cells, which I thought would be saved as 'null', are ignored, and not even read as space characters.</p>\n<p><a href=\"https://i.stack.imgur.com/NzFTX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzFTX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3iJiX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3iJiX.png\" alt=\"extracted from PDF\" /></a></p>\n<p>I extract the content from my PDF via this method:</p>\n<pre><code>    public final ArrayList&lt;String&gt; extractLines(final File pdf) throws IOException {\n    try (PDDocument doc = PDDocument.load(pdf)) {\n        PDFTextStripper strip = new PDFTextStripper();\n        String txt = strip.getText(doc);\n        String[] arr = txt.split(&quot;\\n&quot;);\n        final ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;(Arrays.asList(arr));\n        return lines;\n    }\n}\n</code></pre>\n<p>Is it even possible to extract the data with whitespaces?</p>\n<p>If so, with PDFBox? Or a different method?</p>\n<p>EDIT:</p>\n<p>Cannot get traprange to work, simple test:</p>\n<pre><code>File e = new File(&quot;C:/Users/Test/Downloads/a.pdf&quot;);\n\n    List&lt;Table&gt; t = new PDFTableExtractor().setSource(e).extract();\n    System.out.println(t.get(0).toString());\n</code></pre>\n<p>Only gives me:</p>\n<p><a href=\"https://i.stack.imgur.com/UYWqP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYWqP.png\" alt=\"enter image description here\" /></a></p>\n<p>Could it have to do with the form of my table?</p>\n<p>My table:</p>\n<p><a href=\"https://i.stack.imgur.com/6it0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6it0u.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","pdf"],"answers":[{"tags":[],"owner":{"account_id":5435252,"reputation":10653,"user_id":4324922,"display_name":"Vel Genov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1471968367,"creation_date":1471968367,"answer_id":39106010,"question_id":39076634,"body_markdown":"Extracting data from a PDF file is fairly simple. There are multiple libraries out there that do it correctly. Extracting data, and preserving its layout, on the other hand (the workflow the OP describes) is a very difficult process. The reason behind it is simple - most* PDF files, don&#39;t really have any elements that define structure. When a PDF file, for example, displays a table, it&#39;s very easy for humans to see it, and understand this is indeed a table with some data in it. However, in the PDF file itself, this is a collection of vector lines, and some text runs in between. The PDF itself, or the PDF viewer, are not aware that this is a table. Therefore when this data is converted to HTML, we don&#39;t know that we need to draw a table, but instead see this as vector art. This is just one example of why this is difficult. There are many others that can be used to illustrate this point.\r\n\r\nOn the other hand, such a thing exists as [&quot;Tagged PDF&quot;][1] (section 10.7). It&#39;s a PDF where structure elements are actually defined, and extraction is fairly easy. However tagged PDF files are not as common as we would like, and in most cases you won&#39;t be guaranteed to work with one.\r\n\r\nThere are some tools on the market that use sophisticated logic to infer the structure of an untagged document. Some of them do a better job than others at this. I&#39;ve worked with Adobe Acrobat, which does a decent job at creating an HTML file. There is also an offering from Datalogics (I work for Datalogics) called PDF Alchemist which converts PDF to HTML. Both of them are commercial solutions. \r\n\r\nIf you are looking for a free solution, PDFBox does a good job at extracting content from a PDF document. However, it doesn&#39;t have the ability to create an HTML file, and this is something that will have to be implemented outside of the library. I&#39;m not aware of any free PDF to HTML solutions that do a good enough job, and I would be willing to recommend.\r\n\r\n\r\n  [1]: http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/pdf/pdfs/pdf_reference_1-7.pdf","title":"Extract PDF file in java and render as HTML","body":"<p>Extracting data from a PDF file is fairly simple. There are multiple libraries out there that do it correctly. Extracting data, and preserving its layout, on the other hand (the workflow the OP describes) is a very difficult process. The reason behind it is simple - most* PDF files, don't really have any elements that define structure. When a PDF file, for example, displays a table, it's very easy for humans to see it, and understand this is indeed a table with some data in it. However, in the PDF file itself, this is a collection of vector lines, and some text runs in between. The PDF itself, or the PDF viewer, are not aware that this is a table. Therefore when this data is converted to HTML, we don't know that we need to draw a table, but instead see this as vector art. This is just one example of why this is difficult. There are many others that can be used to illustrate this point.</p>\n\n<p>On the other hand, such a thing exists as <a href=\"http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/pdf/pdfs/pdf_reference_1-7.pdf\" rel=\"nofollow\">\"Tagged PDF\"</a> (section 10.7). It's a PDF where structure elements are actually defined, and extraction is fairly easy. However tagged PDF files are not as common as we would like, and in most cases you won't be guaranteed to work with one.</p>\n\n<p>There are some tools on the market that use sophisticated logic to infer the structure of an untagged document. Some of them do a better job than others at this. I've worked with Adobe Acrobat, which does a decent job at creating an HTML file. There is also an offering from Datalogics (I work for Datalogics) called PDF Alchemist which converts PDF to HTML. Both of them are commercial solutions. </p>\n\n<p>If you are looking for a free solution, PDFBox does a good job at extracting content from a PDF document. However, it doesn't have the ability to create an HTML file, and this is something that will have to be implemented outside of the library. I'm not aware of any free PDF to HTML solutions that do a good enough job, and I would be willing to recommend.</p>\n"}],"owner":{"account_id":4580766,"reputation":112,"user_id":3717835,"accept_rate":67,"display_name":"Arunkumar S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39106010,"answer_count":1,"score":1,"last_activity_date":1652492739,"creation_date":1471860263,"question_id":39076634,"body_markdown":"\r\n\r\nHow to extract PDF file content in java completely as Text and render as HTML?\r\n\r\nNot like extracting just text separately or just images separately, requirement is to display contents of PDF file (as like original file-means including images and tables right at place where it was in original file) as HTML content.\r\n\r\nSome how same like the sample in the answer here [Convert Word to HTML][1] with Apache POI which extracts contents of MS Doc file into HTML using Apache POI.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7868713/convert-word-to-html-with-apache-poi/7901139#7901139","title":"Extract PDF file in java and render as HTML","body":"<p>How to extract PDF file content in java completely as Text and render as HTML?</p>\n\n<p>Not like extracting just text separately or just images separately, requirement is to display contents of PDF file (as like original file-means including images and tables right at place where it was in original file) as HTML content.</p>\n\n<p>Some how same like the sample in the answer here <a href=\"https://stackoverflow.com/questions/7868713/convert-word-to-html-with-apache-poi/7901139#7901139\">Convert Word to HTML</a> with Apache POI which extracts contents of MS Doc file into HTML using Apache POI.</p>\n"},{"tags":["python","java","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":12818161,"reputation":371,"user_id":9274122,"display_name":"Luis Estrada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652492725,"creation_date":1652492725,"answer_id":72236746,"question_id":72060033,"body_markdown":"You also need set:\r\n\r\n    SPARK_HOME=&quot;YOUR SPARK PATH&quot;\r\n\r\nAlso consider:\r\n\r\n    LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$JAVA_HOME/lib\r\n    PATH=$PATH:$JAVA_HOME/bin:$SPARK_HOME/sbin:$SPARK_HOME/bin\r\n\r\n","title":"I am trying to start a Spark Session in Jupyter Notebook and get the following error","body":"<p>You also need set:</p>\n<pre><code>SPARK_HOME=&quot;YOUR SPARK PATH&quot;\n</code></pre>\n<p>Also consider:</p>\n<pre><code>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$JAVA_HOME/lib\nPATH=$PATH:$JAVA_HOME/bin:$SPARK_HOME/sbin:$SPARK_HOME/bin\n</code></pre>\n"}],"owner":{"account_id":12819066,"reputation":1,"user_id":9274696,"display_name":"IshN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652492725,"creation_date":1651244898,"question_id":72060033,"body_markdown":"This is my first time using PySpark. \r\nI am using a Mac and I am trying to start up a session within Jupiter Notebook using the code below:\r\n\r\n```\r\nimport pyspark\r\nfrom pyspark.sql import SparkSession\r\nspark=SparkSession.builder.appName(&#39;test&#39;).getOrCreate()\r\n```\r\n\r\nThe error message I get is:\r\n```\r\nPy4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\r\n: java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils$\r\n\tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\r\n\tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\r\n\tat org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\r\n\tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\r\n\tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\r\n\tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\r\n\tat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:238)\r\n\tat py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\r\n\tat py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x15fef0a0) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x15fef0a0 [in thread &quot;Thread-2&quot;]\r\n\tat org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\r\n\tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\r\n\t... 19 more\r\n\r\n```\r\n\r\n\r\nI have installed Java and set ```JAVA_HOME``` using this tutorial: https://www.youtube.com/watch?v=_gdpclEE-kA\r\n\r\nCan someone please help?","title":"I am trying to start a Spark Session in Jupyter Notebook and get the following error","body":"<p>This is my first time using PySpark.\nI am using a Mac and I am trying to start up a session within Jupiter Notebook using the code below:</p>\n<pre><code>import pyspark\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('test').getOrCreate()\n</code></pre>\n<p>The error message I get is:</p>\n<pre><code>Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\n: java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils$\n    at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\n    at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\n    at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\n    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\n    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\n    at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\n    at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:238)\n    at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\n    at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x15fef0a0) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x15fef0a0 [in thread &quot;Thread-2&quot;]\n    at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\n    at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\n    ... 19 more\n\n</code></pre>\n<p>I have installed Java and set <code>JAVA_HOME</code> using this tutorial: <a href=\"https://www.youtube.com/watch?v=_gdpclEE-kA\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=_gdpclEE-kA</a></p>\n<p>Can someone please help?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":16582406,"reputation":107,"user_id":11982681,"display_name":"geoidiot"},"score":0,"creation_date":1652647868,"post_id":72236582,"comment_id":127651077,"body_markdown":"Maybe this question helps you: https://stackoverflow.com/questions/56468539/getexternalstoragepublicdirectory-deprecated-in-android-q","body":"Maybe this question helps you: <a href=\"https://stackoverflow.com/questions/56468539/getexternalstoragepublicdirectory-deprecated-in-android-q\" title=\"getexternalstoragepublicdirectory deprecated in android q\">stackoverflow.com/questions/56468539/&hellip;</a>"}],"owner":{"account_id":21051638,"reputation":45,"user_id":18215077,"display_name":"Kelison Bessa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652490903,"creation_date":1652489628,"question_id":72236582,"body_markdown":"note: when I say root, I mean the folder where the download, documents, music, android folders are located, etc…\r\n\r\n    Environment.getExternalStoragePublicDirectory\r\n\r\nGuys, I&#39;m new to the android ecosystem, I&#39;m not a professional programmer, but I come from PHP,\r\ni&#39;m learning kotlin on the internet, and i started making an app, a download manager to be more specific, this app downloads the file in 8 parts i have other problems but i&#39;m currently stuck in the directory,\r\nFor example my app goes from api 21 to 31, I was testing on api 29 in this version of the system the method\r\n\r\n    File(Environment.getExternalStoragePublicDirectory(&quot;/my folder&quot;).toString())\r\n\r\nworks both to create directories and files, in api 29 I already get the information that it is deprecated.\r\nThe problem starts from api 30 where this method no longer works.\r\nAnd I&#39;m not understanding the documentation because it seems that the methods change in api 30 to 31, it has a permission “android.permission.MANAGE_EXTERNAL_STORAGE”, but the play store only accepts it if the app really needs it from what I understand, and I don&#39;t I understand if it is valid for api 29 or 30 and no longer works on 31.\r\n\r\nI assume I&#39;m not a high-performing intelligent person, but from what I&#39;ve noticed Google changes the codes a lot and in a short time.\r\n\r\nSo far the only directory that everything works without problems is the private folder that the system creates for the application, but this folder is a little hidden because it is in the folder Android/data/nameApp/files/ I would like to save it as in the previous apis where I created a folder \r\n\r\n    File(Environment.getExternalStoragePublicDirectory(&quot;/my folder&quot;).toString())\r\n\r\nand inside that folder I created other subfolders like document, compress, program, audio, video, other and saved the files in their respective folder.\r\n\r\nHow can I do this from api 30+, I don&#39;t want to have permission to access all android folders just all folders inside the folder I create in the root directory, another reason I don&#39;t want to use the app&#39;s private folders is that if it is uninstalled all files downloaded inside them will be deleted automatically.\r\n\r\nWhat approach do you recommend for this situation?\r\n\r\nAnother problem I found is that from api 30 onwards the File class became very slow. As I download the file in parts I was using the **RandomAccessFile(File(pathFile), &quot;rw&quot;)** class to write the 8 parts simultaneously with:\r\n\r\n    withContext(Dispatchers.Main) {\r\n        for (part in parts){\r\n            launch(Dispatchers.IO) {\r\n                 startDownload(.....)\r\n             }\r\n        }\r\n    }\r\n\r\nWhere parts contains all the information of the parts to perform the download, but as File was slow I noticed that the download speed decreased a lot compared to previous apis and apparently **RandomAccessFile** only accepts the File class. Does anyone have an idea to work around this other problem?\r\n\r\nI thank the help of all.","title":"How to create a folder and save files in root directory from api 30 android?","body":"<p>note: when I say root, I mean the folder where the download, documents, music, android folders are located, etc…</p>\n<pre><code>Environment.getExternalStoragePublicDirectory\n</code></pre>\n<p>Guys, I'm new to the android ecosystem, I'm not a professional programmer, but I come from PHP,\ni'm learning kotlin on the internet, and i started making an app, a download manager to be more specific, this app downloads the file in 8 parts i have other problems but i'm currently stuck in the directory,\nFor example my app goes from api 21 to 31, I was testing on api 29 in this version of the system the method</p>\n<pre><code>File(Environment.getExternalStoragePublicDirectory(&quot;/my folder&quot;).toString())\n</code></pre>\n<p>works both to create directories and files, in api 29 I already get the information that it is deprecated.\nThe problem starts from api 30 where this method no longer works.\nAnd I'm not understanding the documentation because it seems that the methods change in api 30 to 31, it has a permission “android.permission.MANAGE_EXTERNAL_STORAGE”, but the play store only accepts it if the app really needs it from what I understand, and I don't I understand if it is valid for api 29 or 30 and no longer works on 31.</p>\n<p>I assume I'm not a high-performing intelligent person, but from what I've noticed Google changes the codes a lot and in a short time.</p>\n<p>So far the only directory that everything works without problems is the private folder that the system creates for the application, but this folder is a little hidden because it is in the folder Android/data/nameApp/files/ I would like to save it as in the previous apis where I created a folder</p>\n<pre><code>File(Environment.getExternalStoragePublicDirectory(&quot;/my folder&quot;).toString())\n</code></pre>\n<p>and inside that folder I created other subfolders like document, compress, program, audio, video, other and saved the files in their respective folder.</p>\n<p>How can I do this from api 30+, I don't want to have permission to access all android folders just all folders inside the folder I create in the root directory, another reason I don't want to use the app's private folders is that if it is uninstalled all files downloaded inside them will be deleted automatically.</p>\n<p>What approach do you recommend for this situation?</p>\n<p>Another problem I found is that from api 30 onwards the File class became very slow. As I download the file in parts I was using the <strong>RandomAccessFile(File(pathFile), &quot;rw&quot;)</strong> class to write the 8 parts simultaneously with:</p>\n<pre><code>withContext(Dispatchers.Main) {\n    for (part in parts){\n        launch(Dispatchers.IO) {\n             startDownload(.....)\n         }\n    }\n}\n</code></pre>\n<p>Where parts contains all the information of the parts to perform the download, but as File was slow I noticed that the download speed decreased a lot compared to previous apis and apparently <strong>RandomAccessFile</strong> only accepts the File class. Does anyone have an idea to work around this other problem?</p>\n<p>I thank the help of all.</p>\n"},{"tags":["java","maven","tomcat","vaadin-flow","vaadin23"],"comments":[{"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"score":0,"creation_date":1650534455,"post_id":71935524,"comment_id":127142720,"body_markdown":"Try adding the `flow-server-production-mode` dependency to your production profile as shown here: https://vaadin.com/docs/latest/tools/mpr/configuration/production-mode","body":"Try adding the <code>flow-server-production-mode</code> dependency to your production profile as shown here: <a href=\"https://vaadin.com/docs/latest/tools/mpr/configuration/production-mode\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/tools/mpr/configuration/production-mo&zwnj;&#8203;de</a>"},{"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"score":0,"creation_date":1650610550,"post_id":71935524,"comment_id":127163733,"body_markdown":"I will give it a try, but its not mentioned any where in the current vaadin production mode documentation. I can only  find a reference for v10 and MPR","body":"I will give it a try, but its not mentioned any where in the current vaadin production mode documentation. I can only  find a reference for v10 and MPR"},{"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"score":0,"creation_date":1650611281,"post_id":71935524,"comment_id":127163965,"body_markdown":"@p12t I tried it and it didn&#39;t make a difference. Any other ideas?","body":"@p12t I tried it and it didn&#39;t make a difference. Any other ideas?"},{"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"score":1,"creation_date":1650613840,"post_id":71935524,"comment_id":127164799,"body_markdown":"You could look at Vaadin&#39;s [project templates](https://vaadin.com/hello-world-starters) and compare them to your project. So far I can&#39;t see anything obviously wrong or missing.","body":"You could look at Vaadin&#39;s <a href=\"https://vaadin.com/hello-world-starters\" rel=\"nofollow noreferrer\">project templates</a> and compare them to your project. So far I can&#39;t see anything obviously wrong or missing."}],"answers":[{"tags":[],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652490669,"creation_date":1652490669,"answer_id":72236635,"question_id":71935524,"body_markdown":"I eventually solved this problem thanks to a good idea from @Frettman.\r\n\r\nThe core problem was actually my vaadin servlet which we configure via annotations.\r\n\r\n```java\r\n\r\n@WebServlet(urlPatterns =\r\n{ &quot;/*&quot; }, name = &quot;OnePub&quot;, asyncSupported = true, loadOnStartup = 1, initParams =\r\n{\r\n\t\t@WebInitParam(name = &quot;org.atmosphere.cpr.AtmosphereInterceptor&quot;, value = &quot;dev.onepub.servlets.AtmosphereFilter&quot;),\r\n\t\t@WebInitParam(name = &quot;closeIdleSessions&quot;, value = &quot;true&quot;),\r\n\r\n\t\t/// changed this when we release.\r\n\t\t@WebInitParam(name = &quot;productionMode&quot;, value = &quot;false&quot;)\r\n\r\n})\r\n```\r\n\r\nThe problem line was the \r\n```java\r\n@WebInitParam(name = &quot;productionMode&quot;, value = &quot;false&quot;)\r\n```\r\nchanging the value to &#39;true&#39; resolved the issue.\r\n```java\r\n@WebInitParam(name = &quot;productionMode&quot;, value = &quot;true&quot;)\r\n```\r\n\r\nI did also make one other change which MAY have contributed to the fix.\r\n\r\nMy pom file production profile section contained a dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n```\r\nI&#39;m not certain how this entered the pom but I change the profile section to:\r\n```xml\r\n&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;!-- Production mode is activated using -Pproduction --&gt;\r\n\t\t\t&lt;id&gt;production&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;flow-server-production-mode&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;build-frontend&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n```\r\n\r\n\r\n","title":"vaadin 23 reporting debug mode when built for production","body":"<p>I eventually solved this problem thanks to a good idea from @Frettman.</p>\n<p>The core problem was actually my vaadin servlet which we configure via annotations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@WebServlet(urlPatterns =\n{ &quot;/*&quot; }, name = &quot;OnePub&quot;, asyncSupported = true, loadOnStartup = 1, initParams =\n{\n        @WebInitParam(name = &quot;org.atmosphere.cpr.AtmosphereInterceptor&quot;, value = &quot;dev.onepub.servlets.AtmosphereFilter&quot;),\n        @WebInitParam(name = &quot;closeIdleSessions&quot;, value = &quot;true&quot;),\n\n        /// changed this when we release.\n        @WebInitParam(name = &quot;productionMode&quot;, value = &quot;false&quot;)\n\n})\n</code></pre>\n<p>The problem line was the</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebInitParam(name = &quot;productionMode&quot;, value = &quot;false&quot;)\n</code></pre>\n<p>changing the value to 'true' resolved the issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebInitParam(name = &quot;productionMode&quot;, value = &quot;true&quot;)\n</code></pre>\n<p>I did also make one other change which MAY have contributed to the fix.</p>\n<p>My pom file production profile section contained a dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n</code></pre>\n<p>I'm not certain how this entered the pom but I change the profile section to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;flow-server-production-mode&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72236635,"answer_count":1,"score":0,"last_activity_date":1652490669,"creation_date":1650438585,"question_id":71935524,"body_markdown":"I&#39;ve built my vaadin 23 app in production mode via:\r\n\r\n```bash\r\nmvn clean package -Pproduction -DskipTests -U\r\n```\r\n\r\nMy pom.xml contains the necessary profile:\r\n\r\n```xml\r\n&lt;!-- vaadin profiles --&gt;\r\n\t&lt;!-- https://vaadin.com/docs/latest/flow/production/production-build --&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;production&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\r\n\t\t\t&lt;!-- configuration depending on environment --&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;build-frontend&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;productionMode&gt;true&lt;/productionMode&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t\t&lt;!-- .. more configuration .. --&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n```\r\n\r\nI&#39;m building a war file for tomcat 9 using java 17.\r\n\r\nThe war contains WEB-INF/classes/META-INF/VAADIN/config/flow-build-info.json\r\n```json\r\n{\r\n  &quot;productionMode&quot;: true,\r\n  &quot;useDeprecatedV14Bootstrapping&quot;: false,\r\n  &quot;eagerServerLoad&quot;: false,\r\n  &quot;chunks&quot;: {\r\n    &quot;fallback&quot;: {\r\n      &quot;jsModules&quot;: [\r\n        &quot;@vaadin/select/src/vaadin-select.js&quot;,\r\n        &quot;./selectConnector.js&quot;,\r\n        &quot;@polymer/paper-ripple/paper-ripple.js&quot;,\r\n        &quot;./custom-media-query.js&quot;,\r\n        &quot;./com/github/appreciated/card/clickable-card.js&quot;,\r\n        &quot;./com/github/appreciated/card/stateful-card.js&quot;,\r\n        &quot;./grid-layout/grid-layout.js&quot;,\r\n        &quot;./font-awesome-iron-iconset/far.js&quot;,\r\n        &quot;./font-awesome-iron-iconset/fab.js&quot;,\r\n        &quot;./element-media-query.js&quot;,\r\n        &quot;@vaadin/charts/src/vaadin-chart.js&quot;,\r\n        &quot;@vaadin/grid-pro/src/vaadin-grid-pro.js&quot;,\r\n        &quot;@vaadin/grid-pro/src/vaadin-grid-pro-edit-column.js&quot;,\r\n        &quot;./gridProConnector.js&quot;,\r\n        &quot;@vaadin/board/vaadin-board-row.js&quot;,\r\n        &quot;@vaadin/avatar-group/src/vaadin-avatar-group.js&quot;,\r\n        &quot;@vaadin/crud/src/vaadin-crud.js&quot;,\r\n        &quot;@vaadin/crud/src/vaadin-crud-edit-column.js&quot;,\r\n        &quot;@vaadin/message-input/src/vaadin-message-input.js&quot;,\r\n        &quot;@vaadin/login/src/vaadin-login-form.js&quot;,\r\n        &quot;./messageListConnector.js&quot;,\r\n        &quot;@vaadin/message-list/src/vaadin-message-list.js&quot;,\r\n        &quot;@vaadin/virtual-list/vaadin-virtual-list.js&quot;,\r\n        &quot;./virtualListConnector.js&quot;,\r\n        &quot;@polymer/iron-list/iron-list.js&quot;,\r\n        &quot;./ironListConnector.js&quot;,\r\n        &quot;./ironListStyles.js&quot;,\r\n        &quot;@vaadin/upload/src/vaadin-upload-file.js&quot;,\r\n        &quot;@vaadin/login/src/vaadin-login-overlay.js&quot;,\r\n        &quot;@vaadin/board/vaadin-board.js&quot;,\r\n        &quot;./vaadin-big-decimal-field.js&quot;,\r\n        &quot;@vaadin/app-layout/src/vaadin-drawer-toggle.js&quot;,\r\n        &quot;@vaadin/confirm-dialog/src/vaadin-confirm-dialog.js&quot;,\r\n        &quot;@vaadin/app-layout/src/vaadin-app-layout.js&quot;\r\n      ],\r\n      &quot;cssImports&quot;: [\r\n        {\r\n          &quot;value&quot;: &quot;./styles/grid-layout.css&quot;\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;enableDevServer&quot;: false\r\n}\r\n```\r\n\r\nWEB-INF/classes/META-INF/VAADIN/config/stats.json contains:\r\n```json\r\n{\r\n &quot;assetsByChunkName&quot;: {\r\n  &quot;bundle&quot;: &quot;VAADIN/build/vaadin-bundle-7f98e7fa04576858b6f8.cache.js&quot;\r\n }\r\n}\r\n```\r\n\r\nThe only problem I can see with this is that it has included modules that I&#39;m not using but I don&#39;t believe that has any bearing on the current problem.\r\n\r\nWhen I deploy the war, tomcat it is reporting:\r\n\r\n```\r\n(AtmosphereFramework.java:1087) - Atmosphere Framework 2.7.3.slf4jvaadin4 started.\r\n(AtmosphereFramework.java:2626) - Installed AtmosphereInterceptor  Track Message Size Interceptor using | with priority BEFORE_DEFAULT \r\n(DefaultDeploymentConfiguration.java:155) - Following issues were discovered with deployment configuration:\r\nWARNING: Vaadin is running in DEBUG MODE with debug features enabled, but with a prebuild frontend bundle (production ready).\r\nWhen deploying application for production, disable debug features by enabling production mode!\r\nSee more from https://vaadin.com/docs/latest/flow/production/overview\r\n[main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [14,764] ms\r\norg.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[main] org.apache.catalina.startup.Catalina.start Server startup in [14985] milliseconds\r\n\r\n```\r\n\r\notherwise the system is working as expected.\r\n\r\nI&#39;ve followed this trouble shooting guide and everything appears to be correct:\r\nhttps://vaadin.com/docs/latest/flow/production/troubleshooting","title":"vaadin 23 reporting debug mode when built for production","body":"<p>I've built my vaadin 23 app in production mode via:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean package -Pproduction -DskipTests -U\n</code></pre>\n<p>My pom.xml contains the necessary profile:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- vaadin profiles --&gt;\n    &lt;!-- https://vaadin.com/docs/latest/flow/production/production-build --&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\n            &lt;/properties&gt;\n\n            &lt;!-- configuration depending on environment --&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n\n                        &lt;configuration&gt;\n                            &lt;productionMode&gt;true&lt;/productionMode&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;!-- .. more configuration .. --&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>I'm building a war file for tomcat 9 using java 17.</p>\n<p>The war contains WEB-INF/classes/META-INF/VAADIN/config/flow-build-info.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;productionMode&quot;: true,\n  &quot;useDeprecatedV14Bootstrapping&quot;: false,\n  &quot;eagerServerLoad&quot;: false,\n  &quot;chunks&quot;: {\n    &quot;fallback&quot;: {\n      &quot;jsModules&quot;: [\n        &quot;@vaadin/select/src/vaadin-select.js&quot;,\n        &quot;./selectConnector.js&quot;,\n        &quot;@polymer/paper-ripple/paper-ripple.js&quot;,\n        &quot;./custom-media-query.js&quot;,\n        &quot;./com/github/appreciated/card/clickable-card.js&quot;,\n        &quot;./com/github/appreciated/card/stateful-card.js&quot;,\n        &quot;./grid-layout/grid-layout.js&quot;,\n        &quot;./font-awesome-iron-iconset/far.js&quot;,\n        &quot;./font-awesome-iron-iconset/fab.js&quot;,\n        &quot;./element-media-query.js&quot;,\n        &quot;@vaadin/charts/src/vaadin-chart.js&quot;,\n        &quot;@vaadin/grid-pro/src/vaadin-grid-pro.js&quot;,\n        &quot;@vaadin/grid-pro/src/vaadin-grid-pro-edit-column.js&quot;,\n        &quot;./gridProConnector.js&quot;,\n        &quot;@vaadin/board/vaadin-board-row.js&quot;,\n        &quot;@vaadin/avatar-group/src/vaadin-avatar-group.js&quot;,\n        &quot;@vaadin/crud/src/vaadin-crud.js&quot;,\n        &quot;@vaadin/crud/src/vaadin-crud-edit-column.js&quot;,\n        &quot;@vaadin/message-input/src/vaadin-message-input.js&quot;,\n        &quot;@vaadin/login/src/vaadin-login-form.js&quot;,\n        &quot;./messageListConnector.js&quot;,\n        &quot;@vaadin/message-list/src/vaadin-message-list.js&quot;,\n        &quot;@vaadin/virtual-list/vaadin-virtual-list.js&quot;,\n        &quot;./virtualListConnector.js&quot;,\n        &quot;@polymer/iron-list/iron-list.js&quot;,\n        &quot;./ironListConnector.js&quot;,\n        &quot;./ironListStyles.js&quot;,\n        &quot;@vaadin/upload/src/vaadin-upload-file.js&quot;,\n        &quot;@vaadin/login/src/vaadin-login-overlay.js&quot;,\n        &quot;@vaadin/board/vaadin-board.js&quot;,\n        &quot;./vaadin-big-decimal-field.js&quot;,\n        &quot;@vaadin/app-layout/src/vaadin-drawer-toggle.js&quot;,\n        &quot;@vaadin/confirm-dialog/src/vaadin-confirm-dialog.js&quot;,\n        &quot;@vaadin/app-layout/src/vaadin-app-layout.js&quot;\n      ],\n      &quot;cssImports&quot;: [\n        {\n          &quot;value&quot;: &quot;./styles/grid-layout.css&quot;\n        }\n      ]\n    }\n  },\n  &quot;enableDevServer&quot;: false\n}\n</code></pre>\n<p>WEB-INF/classes/META-INF/VAADIN/config/stats.json contains:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;assetsByChunkName&quot;: {\n  &quot;bundle&quot;: &quot;VAADIN/build/vaadin-bundle-7f98e7fa04576858b6f8.cache.js&quot;\n }\n}\n</code></pre>\n<p>The only problem I can see with this is that it has included modules that I'm not using but I don't believe that has any bearing on the current problem.</p>\n<p>When I deploy the war, tomcat it is reporting:</p>\n<pre><code>(AtmosphereFramework.java:1087) - Atmosphere Framework 2.7.3.slf4jvaadin4 started.\n(AtmosphereFramework.java:2626) - Installed AtmosphereInterceptor  Track Message Size Interceptor using | with priority BEFORE_DEFAULT \n(DefaultDeploymentConfiguration.java:155) - Following issues were discovered with deployment configuration:\nWARNING: Vaadin is running in DEBUG MODE with debug features enabled, but with a prebuild frontend bundle (production ready).\nWhen deploying application for production, disable debug features by enabling production mode!\nSee more from https://vaadin.com/docs/latest/flow/production/overview\n[main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [14,764] ms\norg.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n[main] org.apache.catalina.startup.Catalina.start Server startup in [14985] milliseconds\n\n</code></pre>\n<p>otherwise the system is working as expected.</p>\n<p>I've followed this trouble shooting guide and everything appears to be correct:\n<a href=\"https://vaadin.com/docs/latest/flow/production/troubleshooting\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/flow/production/troubleshooting</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652490478,"creation_date":1652489252,"answer_id":72236561,"question_id":72235976,"body_markdown":"Additional to the field-specific(`Single Parameter Constraint`) you can implement constraint for the whole method(`Cross-Parameter Constraint`). This will provide ability to pass all parameters of certain method to validator.\r\n&lt;br&gt;**Annotation definition:**\r\n&lt;br&gt;Annotation used two validators and can be applied to the Method or Type.\r\n```java\r\n@Constraint(validatedBy = {ValidRequestMethodValidator.class, ValidRequestTypeValidator.class})\r\n@Target({ ElementType.METHOD, ElementType.TYPE })\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ValidRequest {\r\n    String message() default &quot;Request is invalid!&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n    ConstraintTarget validationAppliesTo() default ConstraintTarget.IMPLICIT;\r\n}\r\n```\r\n**Constraint Validator which will handle single parameter:**\r\n```java\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\npublic class ValidRequestTypeValidator implements ConstraintValidator&lt;ValidRequest, EventRequest&gt; {\r\n    @Override\r\n    public boolean isValid(EventRequest request, ConstraintValidatorContext constraintValidatorContext) {\r\n       // logic here\r\n        return false;\r\n    }\r\n}\r\n```\r\n**Constraint Validator which will handle all parameters of specific method:**\r\n```java\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\nimport javax.validation.constraintvalidation.SupportedValidationTarget;\r\nimport javax.validation.constraintvalidation.ValidationTarget;\r\n\r\n@SupportedValidationTarget(ValidationTarget.PARAMETERS)\r\npublic class ValidRequestMethodValidator implements ConstraintValidator&lt;ValidRequest, Object[]&gt; {\r\n    @Override\r\n    public boolean isValid(Object[] objects, ConstraintValidatorContext constraintValidatorContext) {\r\n        Long entityId = null;\r\n        EventRequest eventRequest = null;\r\n\r\n        if (objects[0] instanceof Long) {\r\n            entityId = (Long) objects[0];\r\n        }\r\n        if (objects[0] instanceof EventRequest) {\r\n            eventRequest = (EventRequest) objects[0];\r\n        }\r\n        if (objects[1] instanceof EventRequest) {\r\n            eventRequest = (EventRequest) objects[1];\r\n        }\r\n        //logic here\r\n        return false;\r\n    }\r\n}\r\n```\r\n**Please note,** we have to annotate the beans, which shall be validated, with `@org.springframework.validation.annotation.Validated` annotation to get method validators to work automatically.\r\n\r\n**Example of usage:**\r\n1. Mixed usage, `@ValidRequest` annotation defined on method and single parameter level.\r\n```java\r\n@ValidRequest\r\npublic class EventRequest {\r\n    public String value;\r\n}\r\n\r\n@RestController\r\n@Validated\r\npublic class Controller {\r\n\r\n    Response create(@Valid EventRequest request) {\r\n     return new Response();\r\n    }\r\n\r\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\r\n    Response update(Long entityId, EventRequest request) {\r\n        return new Response();\r\n    }\r\n}\r\n```\r\nFor `create` method `ValidRequestTypeValidator` will be executed.\r\n&lt;br&gt;For `update` method `ValidRequestMethodValidator ` will be executed.\r\n\r\n&lt;br&gt;2. Define annotation only for methods\r\n```java\r\n@RestController\r\n@Validated\r\npublic class Controller {\r\n\r\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\r\n    Response create(EventRequest request) {\r\n     return new Response();\r\n    }\r\n\r\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\r\n    Response update(Long entityId, EventRequest request) {\r\n        return new Response();\r\n    }\r\n}\r\n```\r\nFor `create` method `ValidRequestMethodValidator ` will be executed with one element objects array\r\n&lt;br&gt;For `update` method `ValidRequestMethodValidator ` will be executed with two elements objects array\r\n\r\n&lt;br&gt;3. Define annotation for a single parameter and method at the same time\r\n```java\r\n@ValidRequest\r\npublic class EventRequest {\r\n    public String value;\r\n}\r\n\r\n@RestController\r\n@Validated\r\npublic class Controller {\r\n\r\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\r\n    Response update(Long entityId, @Valid EventRequest request) {\r\n        return new Response();\r\n    }\r\n}\r\n```\r\nFirst will be executed single parameter validator `ValidRequestTypeValidator`.\r\n&lt;br&gt;If it will passed validation then second method validator `ValidRequestMethodValidator` will be executed.\r\n\r\nProbably only one method-level validation will be sufficient to handle your issue. I described all variants, just for information maybe will be useful.","title":"Pass custom parameter to ConstraintValidator","body":"<p>Additional to the field-specific(<code>Single Parameter Constraint</code>) you can implement constraint for the whole method(<code>Cross-Parameter Constraint</code>). This will provide ability to pass all parameters of certain method to validator.\n<br><strong>Annotation definition:</strong>\n<br>Annotation used two validators and can be applied to the Method or Type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = {ValidRequestMethodValidator.class, ValidRequestTypeValidator.class})\n@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidRequest {\n    String message() default &quot;Request is invalid!&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    ConstraintTarget validationAppliesTo() default ConstraintTarget.IMPLICIT;\n}\n</code></pre>\n<p><strong>Constraint Validator which will handle single parameter:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class ValidRequestTypeValidator implements ConstraintValidator&lt;ValidRequest, EventRequest&gt; {\n    @Override\n    public boolean isValid(EventRequest request, ConstraintValidatorContext constraintValidatorContext) {\n       // logic here\n        return false;\n    }\n}\n</code></pre>\n<p><strong>Constraint Validator which will handle all parameters of specific method:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport javax.validation.constraintvalidation.SupportedValidationTarget;\nimport javax.validation.constraintvalidation.ValidationTarget;\n\n@SupportedValidationTarget(ValidationTarget.PARAMETERS)\npublic class ValidRequestMethodValidator implements ConstraintValidator&lt;ValidRequest, Object[]&gt; {\n    @Override\n    public boolean isValid(Object[] objects, ConstraintValidatorContext constraintValidatorContext) {\n        Long entityId = null;\n        EventRequest eventRequest = null;\n\n        if (objects[0] instanceof Long) {\n            entityId = (Long) objects[0];\n        }\n        if (objects[0] instanceof EventRequest) {\n            eventRequest = (EventRequest) objects[0];\n        }\n        if (objects[1] instanceof EventRequest) {\n            eventRequest = (EventRequest) objects[1];\n        }\n        //logic here\n        return false;\n    }\n}\n</code></pre>\n<p><strong>Please note,</strong> we have to annotate the beans, which shall be validated, with <code>@org.springframework.validation.annotation.Validated</code> annotation to get method validators to work automatically.</p>\n<p><strong>Example of usage:</strong></p>\n<ol>\n<li>Mixed usage, <code>@ValidRequest</code> annotation defined on method and single parameter level.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@ValidRequest\npublic class EventRequest {\n    public String value;\n}\n\n@RestController\n@Validated\npublic class Controller {\n\n    Response create(@Valid EventRequest request) {\n     return new Response();\n    }\n\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\n    Response update(Long entityId, EventRequest request) {\n        return new Response();\n    }\n}\n</code></pre>\n<p>For <code>create</code> method <code>ValidRequestTypeValidator</code> will be executed.\n<br>For <code>update</code> method <code>ValidRequestMethodValidator </code> will be executed.</p>\n<p><br>2. Define annotation only for methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Validated\npublic class Controller {\n\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\n    Response create(EventRequest request) {\n     return new Response();\n    }\n\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\n    Response update(Long entityId, EventRequest request) {\n        return new Response();\n    }\n}\n</code></pre>\n<p>For <code>create</code> method <code>ValidRequestMethodValidator </code> will be executed with one element objects array\n<br>For <code>update</code> method <code>ValidRequestMethodValidator </code> will be executed with two elements objects array</p>\n<p><br>3. Define annotation for a single parameter and method at the same time</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ValidRequest\npublic class EventRequest {\n    public String value;\n}\n\n@RestController\n@Validated\npublic class Controller {\n\n    @ValidRequest(validationAppliesTo = ConstraintTarget.PARAMETERS)\n    Response update(Long entityId, @Valid EventRequest request) {\n        return new Response();\n    }\n}\n</code></pre>\n<p>First will be executed single parameter validator <code>ValidRequestTypeValidator</code>.\n<br>If it will passed validation then second method validator <code>ValidRequestMethodValidator</code> will be executed.</p>\n<p>Probably only one method-level validation will be sufficient to handle your issue. I described all variants, just for information maybe will be useful.</p>\n"}],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72236561,"answer_count":1,"score":1,"last_activity_date":1652490478,"creation_date":1652481213,"question_id":72235976,"body_markdown":"I&#39;m working on this springboot application where I need to do some validations on values passed from http call and I&#39;m using class level validation [as explained here][1].\r\n\r\nI&#39;m using somethink like this:\r\n\r\n    @ValidRequest\r\n    public class EventRequest {\r\n        String date;\r\n    }\r\n\r\n    Response create(@Valid EventRequest request) {\r\n         ..\r\n    }\r\n    Response update(Long entityId, @Valid EventRequest request) {\r\n         ...\r\n    }\r\n\r\n    public class ValidRequestValidator \r\n      implements ConstraintValidator&lt;ValidRequest, EventRequest&gt; {\r\n\r\nIn the class ValidRequestValidator, where I implement the ConstraintValidator interface, I need to check if there is another Event entity in the database that meet some conditions on field date. When I want to create a new entity is simple, I perform a query, but when I need to update I need to exclude the entity I&#39;m currently trying to update.\r\n\r\nIs there a way to pass entityId parameter to @ValidRequest custom validator?\r\nI know a way is to add the field entityId to the class EventRequest, but I would like to maintain this separation because entityId is coming from a query parameter.\r\n\r\nThank for your help!\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-validator","title":"Pass custom parameter to ConstraintValidator","body":"<p>I'm working on this springboot application where I need to do some validations on values passed from http call and I'm using class level validation <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">as explained here</a>.</p>\n<p>I'm using somethink like this:</p>\n<pre><code>@ValidRequest\npublic class EventRequest {\n    String date;\n}\n\nResponse create(@Valid EventRequest request) {\n     ..\n}\nResponse update(Long entityId, @Valid EventRequest request) {\n     ...\n}\n\npublic class ValidRequestValidator \n  implements ConstraintValidator&lt;ValidRequest, EventRequest&gt; {\n</code></pre>\n<p>In the class ValidRequestValidator, where I implement the ConstraintValidator interface, I need to check if there is another Event entity in the database that meet some conditions on field date. When I want to create a new entity is simple, I perform a query, but when I need to update I need to exclude the entity I'm currently trying to update.</p>\n<p>Is there a way to pass entityId parameter to @ValidRequest custom validator?\nI know a way is to add the field entityId to the class EventRequest, but I would like to maintain this separation because entityId is coming from a query parameter.</p>\n<p>Thank for your help!</p>\n"},{"tags":["java","adobe","aem"],"answers":[{"tags":[],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652452402,"creation_date":1652452402,"answer_id":72231267,"question_id":72230588,"body_markdown":"Because i am a dumb-dumb. The publisher publishes content and makes it available to the web (or the localhost in my case). For any of the non-admin pages to work some content needs to be published first.\r\n\r\nTo verify that the publisher server is running http://localhost:4503/crx/packmgr/index.jsp if you see CRX, everything is working as expected and you need to write some content in the author and let it replicate to the publisher (if you have that enabled) or directly deploy to the publisher instance.","title":"AEM 6.5 publisher not starting","body":"<p>Because i am a dumb-dumb. The publisher publishes content and makes it available to the web (or the localhost in my case). For any of the non-admin pages to work some content needs to be published first.</p>\n<p>To verify that the publisher server is running http://localhost:4503/crx/packmgr/index.jsp if you see CRX, everything is working as expected and you need to write some content in the author and let it replicate to the publisher (if you have that enabled) or directly deploy to the publisher instance.</p>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72231267,"answer_count":1,"score":0,"last_activity_date":1652489598,"creation_date":1652449465,"question_id":72230588,"body_markdown":"I have followed the steps listed out [here][1] for setting up my local AEM instances. The author is running just fine. the publisher instance is not, going to `http://localhost:4503` redirects me to `http://localhost:4503/content.html` and i get this error:\r\n```\r\nNot Found\r\n\r\nCannot serve request to /content.html in org.apache.sling.servlets.get.DefaultGetServlet\r\n```\r\nI read somewhere that this is expected because `/content.html` does not exist on the publisher instance and that i should instead go to `http://localhost:4503/aem/start.html` which gives me this error:\r\n```\r\nResource at &#39;/libs/granite/ui/content/shell/start.html&#39; not found: No resource found\r\n\r\nCannot serve request to /aem/start.html in BundledScriptServlet (/libs/sling/servlet/errorhandler/404.jsp)\r\n```\r\nI am at a loss, any help would be great.\r\n\r\nAdditional info:\r\n\r\n`license.properties`\r\n\r\nI do not have my license.properties file as of yet and my understanding is that AEM should start the publish instance (just like the author instance) just fine with out it, but will be required after startup.\r\n\r\n`java -version`\r\n```\r\njava version &quot;11.0.12&quot; 2021-07-20 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.12+8-LTS-237)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.12+8-LTS-237, mixed mode)\r\n```\r\n`stdout.log`\r\n```Loading quickstart properties: default\r\nLoading quickstart properties: instance\r\nQuickstart startup at Fri May 13 09:19:01 EDT 2022\r\nUpgradeUtil.handleInstallAndUpgrade has mode INSTALL\r\n13.05.2022 09:19:03.609 *INFO * [main] Setting sling.home=/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart (command line)\r\n13.05.2022 09:19:03.610 *INFO * [main] Starting Apache Sling in /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart\r\n13.05.2022 09:19:03.612 *INFO * [main] Sling  Extension Lib Home : /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/launchpad/ext\r\n13.05.2022 09:19:03.612 *INFO * [main] Checking launcher JAR in folder /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/launchpad\r\n13.05.2022 09:19:03.621 *INFO * [main] Installing new launcher: jar:file:/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/app/cq-quickstart-cloudready-2022.4.7138.20220427T075748Z-220401-standalone-quickstart.jar!/resources/org.apache.sling.launchpad.base.jar, 7.0.3.2_7_6 (org.apache.sling.launchpad.base.jar.1652447943621)\r\n13.05.2022 09:19:03.622 *INFO * [main] Loading launcher class org.apache.sling.launchpad.base.app.MainDelegate from org.apache.sling.launchpad.base.jar.1652447943621\r\n13.05.2022 09:19:03.622 *INFO * [main] External Libs Home (ext) is null or does not exists.\r\n13.05.2022 09:19:03.628 *INFO * [main] Setting sling.properties=conf/sling.properties\r\n13.05.2022 09:19:03.628 *INFO * [main] Setting sling.home=/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart\r\n13.05.2022 09:19:03.628 *INFO * [main] Setting sling.launchpad=/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/launchpad\r\n13.05.2022 09:19:03.628 *INFO * [main] Setting org.osgi.service.http.port=4503\r\n13.05.2022 09:19:03.628 *INFO * [main] Starting launcher ...\r\n13.05.2022 09:19:03.633 *INFO * [main] HTTP server port: 4503\r\n13.05.2022 09:19:06.911 *INFO * [main] Startup completed\r\n13.05.2022 09:19:10.711 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.discovery.api [44]\r\n13.05.2022 09:19:10.712 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.provisioning.model [45]\r\n13.05.2022 09:19:10.712 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.startup [46]\r\n13.05.2022 09:19:10.713 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.cq.cq-deserialization-firewall [47]\r\n13.05.2022 09:19:10.713 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.eventadmin [48]\r\n13.05.2022 09:19:10.713 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.api [49]\r\n13.05.2022 09:19:10.714 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.metatype [50]\r\n13.05.2022 09:19:10.714 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.commons.osgi [51]\r\n13.05.2022 09:19:10.714 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.feature.extension.unpack [52]\r\n13.05.2022 09:19:10.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.hc.api [53]\r\n13.05.2022 09:19:10.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.installer.factory.feature [54]\r\n13.05.2022 09:19:10.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.localsdk [55]\r\n13.05.2022 09:19:10.716 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.toggle.api [56]\r\n13.05.2022 09:19:10.716 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.commons.commons-fileupload [57]\r\n13.05.2022 09:19:10.716 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.commons.lang3 [58]\r\n13.05.2022 09:19:10.717 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.commons.commons-text [59]\r\n13.05.2022 09:19:10.717 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.httpcomponents.httpclient [60]\r\n13.05.2022 09:19:10.717 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.httpcomponents.httpcore [61]\r\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle joda-time [62]\r\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.bundles.json [63]\r\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle io.dropwizard.metrics.core [64]\r\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.core [65]\r\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.generalchecks [66]\r\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.webconsoleplugin [67]\r\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.jetty [68]\r\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.servlet-api [69]\r\n13.05.2022 09:19:10.720 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.sslfilter [70]\r\n13.05.2022 09:19:10.720 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.whiteboard [71]\r\n13.05.2022 09:19:10.720 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.inventory [72]\r\n13.05.2022 09:19:11.233 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~audit.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-audit.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~audit.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=audit.log], digest=a3ada85f0018f8dae4834b9cf6878803)\r\n13.05.2022 09:19:11.235 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~auditlog.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-auditlog.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~auditlog.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=auditlog.log], digest=35753f20f663b89728bd15b1b8f0a925)\r\n13.05.2022 09:19:11.237 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~history.config from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-history.config.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~history.config, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=history.config], digest=169a1f3c2e45eae02025509d08cc629a)\r\n13.05.2022 09:19:11.238 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~queryrecorder.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-queryrecorder.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~queryrecorder.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=queryrecorder.log], digest=54ec47e919200b523465d13a2bc8a982)\r\n13.05.2022 09:19:11.242 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~access.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-access.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~access.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=access.log], digest=580bd81a4d62beca378a0e5ed41d7b7d)\r\n13.05.2022 09:19:11.243 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~audit.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-audit.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~audit.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=audit.log], digest=da2ebb57ffa4ed13e7023806b165f72e)\r\n13.05.2022 09:19:11.246 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~request.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-request.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~request.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=request.log], digest=f7685e57bdbf60782630e948fcd65115)\r\n13.05.2022 09:19:11.248 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~upgrade.config from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-upgrade.config.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~upgrade.config, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=upgrade.config], digest=c71ceefe46ecd22a944fc2d54310e218)\r\n13.05.2022 09:19:11.253 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter.config, entity=config:org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.pid=org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter], digest=d55edd738928ed22b1cb9f40d67f96f)\r\n13.05.2022 09:19:11.258 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.mime.internal.MimeTypeServiceImpl from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.mime.internal.MimeTypeServiceImpl.config, entity=config:org.apache.sling.commons.mime.internal.MimeTypeServiceImpl, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.pid=org.apache.sling.commons.mime.internal.MimeTypeServiceImpl], digest=8afcd55289d2858aa659f69ae1e065fc)\r\n13.05.2022 09:19:11.261 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.scheduler.impl.QuartzScheduler from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.scheduler.impl.QuartzScheduler.config, entity=config:org.apache.sling.commons.scheduler.impl.QuartzScheduler, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.pid=org.apache.sling.commons.scheduler.impl.QuartzScheduler], digest=9ec865134ac64898d78e241f92fa3d25)\r\n13.05.2022 09:19:11.264 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-asset-processing from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.threads.impl.DefaultThreadPool.factory-cq-asset-processing.config, entity=config:org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-asset-processing, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.threads.impl.DefaultThreadPool.factory, service.pid=cq-asset-processing], digest=f16c63b052586e3bb720d4fbad6b51f3)\r\n13.05.2022 09:19:11.266 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-polling-importer from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.threads.impl.DefaultThreadPool.factory-cq-polling-importer.config, entity=config:org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-polling-importer, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.threads.impl.DefaultThreadPool.factory, service.pid=cq-polling-importer], digest=bcc53ef50ac7a75afebd015afe94d402)\r\nESAPI: WARNING: System property [org.owasp.esapi.opsteam] is not set\r\nESAPI: WARNING: System property [org.owasp.esapi.devteam] is not set\r\nESAPI: Attempting to load ESAPI.properties via file I/O.\r\nESAPI: Attempting to load ESAPI.properties as resource file via file I/O.\r\nESAPI: Not found in &#39;org.owasp.esapi.resources&#39; directory or file not readable: /Users/&lt;user&gt;/aem-sdk/publish/ESAPI.properties\r\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi/ESAPI.properties\r\nESAPI: Not found in &#39;user.home&#39; (/Users/&lt;user&gt;) directory: /Users/&lt;user&gt;/esapi/ESAPI.properties\r\nESAPI: Loading ESAPI.properties via file I/O failed. Exception was: java.io.FileNotFoundException\r\nESAPI: Attempting to load ESAPI.properties via the classpath.\r\nESAPI: SUCCESSFULLY LOADED ESAPI.properties via the CLASSPATH from &#39;/ (root)&#39; using class loader for DefaultSecurityConfiguration class!\r\nESAPI: SecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\r\nESAPI: Attempting to load validation.properties via file I/O.\r\nESAPI: Attempting to load validation.properties as resource file via file I/O.\r\nESAPI: Not found in &#39;org.owasp.esapi.resources&#39; directory or file not readable: /Users/&lt;user&gt;/aem-sdk/publish/validation.properties\r\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi/validation.properties\r\nESAPI: Not found in &#39;user.home&#39; (/Users/&lt;user&gt;) directory: /Users/&lt;user&gt;/esapi/validation.properties\r\nESAPI: Loading validation.properties via file I/O failed.\r\nESAPI: Attempting to load validation.properties via the classpath.\r\nESAPI: SUCCESSFULLY LOADED validation.properties via the CLASSPATH from &#39;/ (root)&#39; using class loader for DefaultSecurityConfiguration class!\r\n```\r\n`stderr.log`\r\n```\r\nLow-memory action set to fork\r\nUsing 64bit VM settings, min.heap=1024MB, min permgen=256MB, default fork arguments=[-Xmx1024m, -XX:MaxPermSize=256m]\r\nThe JVM reports a heap size of 4096 MB, meets our expectation of 1024 MB +/- 20\r\nSetting properties from filename &#39;/Users/&lt;user&gt;/aem-sdk/publish/aem-publish-p4503.jar&#39;\r\nOption &#39;-quickstart.server.port&#39; set to &#39;4503&#39; from filename aem-publish-p4503.jar\r\nOption &#39;-r&#39; set to &#39;publish&#39; from filename aem-publish-p4503.jar\r\nSetting &#39;sling.run.modes&#39; to &#39;publish&#39; from filename.\r\nVerbose option not active, closing stdin and redirecting stdout and stderr\r\nRedirecting stdout to /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/logs/stdout.log\r\nRedirecting stderr to /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/logs/stderr.log\r\nResourceProvider paths=[/gui, /gui/default]\r\nMay 13, 2022 9:19:11 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl pruneCoveredCaps\r\nINFO: Removing candidate [org.apache.aries.transaction.manager [43](R 43.0)] osgi.wiring.package; {bundle-symbolic-name=org.apache.aries.transaction.manager, bundle-version=1.2.0, version=1.1.0, osgi.wiring.package=javax.transaction.xa} which is in region null as more specific candidate(s) are available in regions [org.apache.felix.framework [0](R 0)] osgi.wiring.package; {bundle-symbolic-name=[Ljava.lang.String;@1d1febc0, bundle-version=7.0.3, version=1.1.0, osgi.wiring.package=javax.transaction.xa} region null\r\nMay 13, 2022 9:19:11 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nINFO: API-Regions removed candidates [org.apache.aries.transaction.manager [43](R 43.0)] osgi.wiring.package; {bundle-symbolic-name=org.apache.aries.transaction.manager, bundle-version=1.2.0, version=1.1.0, osgi.wiring.package=javax.transaction.xa}[Regions: [], Feature: null] for requirement [org.apache.aries.transaction.manager [43](R 43.0)] osgi.wiring.package; (&amp;(osgi.wiring.package=javax.transaction.xa)(version&gt;=1.1.0)(!(version&gt;=2.0.0))) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.11.0, osgi.wiring.package=com.drew.imaging.riff}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=com.drew.imaging.riff) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.11.0, osgi.wiring.package=com.drew.imaging.webp}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=com.drew.imaging.webp) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=3.0.0, osgi.wiring.package=org.apache.poi.ooxml.extractor}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.poi.ooxml.extractor) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=3.0.0, osgi.wiring.package=org.apache.poi.ooxml.util}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.poi.ooxml.util) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:19:25 AM org.apache.tika.config.InitializableProblemHandler$3 handleInitializableProblem\r\nWARNING: org.xerial&#39;s sqlite-jdbc is not loaded.\r\nPlease provide the jar on your classpath to parse sqlite files.\r\nSee tika-parsers/pom.xml for the correct version.\r\nMay 13, 2022 9:20:44 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.0.6, osgi.wiring.package=org.apache.xmlbeans.impl.xpath.saxon}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [com.day.cq.dam.cq-dam-word [372](R 372.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.xmlbeans.impl.xpath.saxon) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:cq-assets-model_quickstart:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:20:44 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\r\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.0.6, osgi.wiring.package=org.apache.xmlbeans.impl.xquery.saxon}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [com.day.cq.dam.cq-dam-word [372](R 372.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.xmlbeans.impl.xquery.saxon) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:cq-assets-model_quickstart:2022.4.7138.20220427T075748Z-220401]\r\nMay 13, 2022 9:20:49 AM it.tidalwave.imageio.util.Logger info\r\nINFO: Installing RAWProcessor...\r\nMay 13, 2022 9:20:49 AM it.tidalwave.imageio.util.Logger info\r\nINFO: Installed RAWProcessor\r\nRAWProcessor succesfully installed\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\nOpening browser using cmd=open http://localhost:4503/\r\nInstallation time:167 seconds\r\nhttp://localhost:4503/\r\nQuickstart started\r\n```\r\n\r\n  [1]: https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/local-development-environment-set-up/aem-runtime.html?lang=en#","title":"AEM 6.5 publisher not starting","body":"<p>I have followed the steps listed out <a href=\"https://experienceleague.adobe.com/docs/experience-manager-learn/cloud-service/local-development-environment-set-up/aem-runtime.html?lang=en#\" rel=\"nofollow noreferrer\">here</a> for setting up my local AEM instances. The author is running just fine. the publisher instance is not, going to <code>http://localhost:4503</code> redirects me to <code>http://localhost:4503/content.html</code> and i get this error:</p>\n<pre><code>Not Found\n\nCannot serve request to /content.html in org.apache.sling.servlets.get.DefaultGetServlet\n</code></pre>\n<p>I read somewhere that this is expected because <code>/content.html</code> does not exist on the publisher instance and that i should instead go to <code>http://localhost:4503/aem/start.html</code> which gives me this error:</p>\n<pre><code>Resource at '/libs/granite/ui/content/shell/start.html' not found: No resource found\n\nCannot serve request to /aem/start.html in BundledScriptServlet (/libs/sling/servlet/errorhandler/404.jsp)\n</code></pre>\n<p>I am at a loss, any help would be great.</p>\n<p>Additional info:</p>\n<p><code>license.properties</code></p>\n<p>I do not have my license.properties file as of yet and my understanding is that AEM should start the publish instance (just like the author instance) just fine with out it, but will be required after startup.</p>\n<p><code>java -version</code></p>\n<pre><code>java version &quot;11.0.12&quot; 2021-07-20 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.12+8-LTS-237)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.12+8-LTS-237, mixed mode)\n</code></pre>\n<p><code>stdout.log</code></p>\n<pre><code>Loading quickstart properties: instance\nQuickstart startup at Fri May 13 09:19:01 EDT 2022\nUpgradeUtil.handleInstallAndUpgrade has mode INSTALL\n13.05.2022 09:19:03.609 *INFO * [main] Setting sling.home=/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart (command line)\n13.05.2022 09:19:03.610 *INFO * [main] Starting Apache Sling in /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart\n13.05.2022 09:19:03.612 *INFO * [main] Sling  Extension Lib Home : /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/launchpad/ext\n13.05.2022 09:19:03.612 *INFO * [main] Checking launcher JAR in folder /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/launchpad\n13.05.2022 09:19:03.621 *INFO * [main] Installing new launcher: jar:file:/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/app/cq-quickstart-cloudready-2022.4.7138.20220427T075748Z-220401-standalone-quickstart.jar!/resources/org.apache.sling.launchpad.base.jar, 7.0.3.2_7_6 (org.apache.sling.launchpad.base.jar.1652447943621)\n13.05.2022 09:19:03.622 *INFO * [main] Loading launcher class org.apache.sling.launchpad.base.app.MainDelegate from org.apache.sling.launchpad.base.jar.1652447943621\n13.05.2022 09:19:03.622 *INFO * [main] External Libs Home (ext) is null or does not exists.\n13.05.2022 09:19:03.628 *INFO * [main] Setting sling.properties=conf/sling.properties\n13.05.2022 09:19:03.628 *INFO * [main] Setting sling.home=/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart\n13.05.2022 09:19:03.628 *INFO * [main] Setting sling.launchpad=/Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/launchpad\n13.05.2022 09:19:03.628 *INFO * [main] Setting org.osgi.service.http.port=4503\n13.05.2022 09:19:03.628 *INFO * [main] Starting launcher ...\n13.05.2022 09:19:03.633 *INFO * [main] HTTP server port: 4503\n13.05.2022 09:19:06.911 *INFO * [main] Startup completed\n13.05.2022 09:19:10.711 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.discovery.api [44]\n13.05.2022 09:19:10.712 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.provisioning.model [45]\n13.05.2022 09:19:10.712 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.startup [46]\n13.05.2022 09:19:10.713 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.cq.cq-deserialization-firewall [47]\n13.05.2022 09:19:10.713 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.eventadmin [48]\n13.05.2022 09:19:10.713 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.api [49]\n13.05.2022 09:19:10.714 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.metatype [50]\n13.05.2022 09:19:10.714 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.commons.osgi [51]\n13.05.2022 09:19:10.714 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.feature.extension.unpack [52]\n13.05.2022 09:19:10.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.hc.api [53]\n13.05.2022 09:19:10.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.sling.installer.factory.feature [54]\n13.05.2022 09:19:10.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.localsdk [55]\n13.05.2022 09:19:10.716 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.toggle.api [56]\n13.05.2022 09:19:10.716 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.commons.commons-fileupload [57]\n13.05.2022 09:19:10.716 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.commons.lang3 [58]\n13.05.2022 09:19:10.717 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.commons.commons-text [59]\n13.05.2022 09:19:10.717 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.httpcomponents.httpclient [60]\n13.05.2022 09:19:10.717 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.httpcomponents.httpcore [61]\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle joda-time [62]\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle com.adobe.granite.bundles.json [63]\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle io.dropwizard.metrics.core [64]\n13.05.2022 09:19:10.718 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.core [65]\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.generalchecks [66]\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.healthcheck.webconsoleplugin [67]\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.jetty [68]\n13.05.2022 09:19:10.719 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.servlet-api [69]\n13.05.2022 09:19:10.720 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.sslfilter [70]\n13.05.2022 09:19:10.720 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.http.whiteboard [71]\n13.05.2022 09:19:10.720 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.inventory [72]\n13.05.2022 09:19:11.233 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~audit.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-audit.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~audit.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=audit.log], digest=a3ada85f0018f8dae4834b9cf6878803)\n13.05.2022 09:19:11.235 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~auditlog.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-auditlog.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~auditlog.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=auditlog.log], digest=35753f20f663b89728bd15b1b8f0a925)\n13.05.2022 09:19:11.237 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~history.config from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-history.config.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~history.config, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=history.config], digest=169a1f3c2e45eae02025509d08cc629a)\n13.05.2022 09:19:11.238 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config~queryrecorder.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.config-queryrecorder.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config~queryrecorder.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=queryrecorder.log], digest=54ec47e919200b523465d13a2bc8a982)\n13.05.2022 09:19:11.242 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~access.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-access.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~access.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=access.log], digest=580bd81a4d62beca378a0e5ed41d7b7d)\n13.05.2022 09:19:11.243 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~audit.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-audit.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~audit.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=audit.log], digest=da2ebb57ffa4ed13e7023806b165f72e)\n13.05.2022 09:19:11.246 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~request.log from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-request.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~request.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=request.log], digest=f7685e57bdbf60782630e948fcd65115)\n13.05.2022 09:19:11.248 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.writer~upgrade.config from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.log.LogManager.factory.writer-upgrade.config.config, entity=config:org.apache.sling.commons.log.LogManager.factory.writer~upgrade.config, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.writer, service.pid=upgrade.config], digest=c71ceefe46ecd22a944fc2d54310e218)\n13.05.2022 09:19:11.253 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter.config, entity=config:org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.pid=org.apache.sling.commons.metrics.rrd4j.impl.CodahaleMetricsReporter], digest=d55edd738928ed22b1cb9f40d67f96f)\n13.05.2022 09:19:11.258 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.mime.internal.MimeTypeServiceImpl from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.mime.internal.MimeTypeServiceImpl.config, entity=config:org.apache.sling.commons.mime.internal.MimeTypeServiceImpl, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.pid=org.apache.sling.commons.mime.internal.MimeTypeServiceImpl], digest=8afcd55289d2858aa659f69ae1e065fc)\n13.05.2022 09:19:11.261 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.scheduler.impl.QuartzScheduler from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.scheduler.impl.QuartzScheduler.config, entity=config:org.apache.sling.commons.scheduler.impl.QuartzScheduler, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.pid=org.apache.sling.commons.scheduler.impl.QuartzScheduler], digest=9ec865134ac64898d78e241f92fa3d25)\n13.05.2022 09:19:11.264 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-asset-processing from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.threads.impl.DefaultThreadPool.factory-cq-asset-processing.config, entity=config:org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-asset-processing, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.threads.impl.DefaultThreadPool.factory, service.pid=cq-asset-processing], digest=f16c63b052586e3bb720d4fbad6b51f3)\n13.05.2022 09:19:11.266 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-polling-importer from resource TaskResource(url=launchpad:resources/config/org.apache.sling.commons.threads.impl.DefaultThreadPool.factory-cq-polling-importer.config, entity=config:org.apache.sling.commons.threads.impl.DefaultThreadPool.factory~cq-polling-importer, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:21:50:, service.factoryPid=org.apache.sling.commons.threads.impl.DefaultThreadPool.factory, service.pid=cq-polling-importer], digest=bcc53ef50ac7a75afebd015afe94d402)\nESAPI: WARNING: System property [org.owasp.esapi.opsteam] is not set\nESAPI: WARNING: System property [org.owasp.esapi.devteam] is not set\nESAPI: Attempting to load ESAPI.properties via file I/O.\nESAPI: Attempting to load ESAPI.properties as resource file via file I/O.\nESAPI: Not found in 'org.owasp.esapi.resources' directory or file not readable: /Users/&lt;user&gt;/aem-sdk/publish/ESAPI.properties\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi/ESAPI.properties\nESAPI: Not found in 'user.home' (/Users/&lt;user&gt;) directory: /Users/&lt;user&gt;/esapi/ESAPI.properties\nESAPI: Loading ESAPI.properties via file I/O failed. Exception was: java.io.FileNotFoundException\nESAPI: Attempting to load ESAPI.properties via the classpath.\nESAPI: SUCCESSFULLY LOADED ESAPI.properties via the CLASSPATH from '/ (root)' using class loader for DefaultSecurityConfiguration class!\nESAPI: SecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\nESAPI: Attempting to load validation.properties via file I/O.\nESAPI: Attempting to load validation.properties as resource file via file I/O.\nESAPI: Not found in 'org.owasp.esapi.resources' directory or file not readable: /Users/&lt;user&gt;/aem-sdk/publish/validation.properties\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi/validation.properties\nESAPI: Not found in 'user.home' (/Users/&lt;user&gt;) directory: /Users/&lt;user&gt;/esapi/validation.properties\nESAPI: Loading validation.properties via file I/O failed.\nESAPI: Attempting to load validation.properties via the classpath.\nESAPI: SUCCESSFULLY LOADED validation.properties via the CLASSPATH from '/ (root)' using class loader for DefaultSecurityConfiguration class!\n</code></pre>\n<p><code>stderr.log</code></p>\n<pre><code>Low-memory action set to fork\nUsing 64bit VM settings, min.heap=1024MB, min permgen=256MB, default fork arguments=[-Xmx1024m, -XX:MaxPermSize=256m]\nThe JVM reports a heap size of 4096 MB, meets our expectation of 1024 MB +/- 20\nSetting properties from filename '/Users/&lt;user&gt;/aem-sdk/publish/aem-publish-p4503.jar'\nOption '-quickstart.server.port' set to '4503' from filename aem-publish-p4503.jar\nOption '-r' set to 'publish' from filename aem-publish-p4503.jar\nSetting 'sling.run.modes' to 'publish' from filename.\nVerbose option not active, closing stdin and redirecting stdout and stderr\nRedirecting stdout to /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/logs/stdout.log\nRedirecting stderr to /Users/&lt;user&gt;/aem-sdk/publish/crx-quickstart/logs/stderr.log\nResourceProvider paths=[/gui, /gui/default]\nMay 13, 2022 9:19:11 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl pruneCoveredCaps\nINFO: Removing candidate [org.apache.aries.transaction.manager [43](R 43.0)] osgi.wiring.package; {bundle-symbolic-name=org.apache.aries.transaction.manager, bundle-version=1.2.0, version=1.1.0, osgi.wiring.package=javax.transaction.xa} which is in region null as more specific candidate(s) are available in regions [org.apache.felix.framework [0](R 0)] osgi.wiring.package; {bundle-symbolic-name=[Ljava.lang.String;@1d1febc0, bundle-version=7.0.3, version=1.1.0, osgi.wiring.package=javax.transaction.xa} region null\nMay 13, 2022 9:19:11 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nINFO: API-Regions removed candidates [org.apache.aries.transaction.manager [43](R 43.0)] osgi.wiring.package; {bundle-symbolic-name=org.apache.aries.transaction.manager, bundle-version=1.2.0, version=1.1.0, osgi.wiring.package=javax.transaction.xa}[Regions: [], Feature: null] for requirement [org.apache.aries.transaction.manager [43](R 43.0)] osgi.wiring.package; (&amp;(osgi.wiring.package=javax.transaction.xa)(version&gt;=1.1.0)(!(version&gt;=2.0.0))) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.11.0, osgi.wiring.package=com.drew.imaging.riff}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=com.drew.imaging.riff) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.11.0, osgi.wiring.package=com.drew.imaging.webp}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=com.drew.imaging.webp) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=3.0.0, osgi.wiring.package=org.apache.poi.ooxml.extractor}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.poi.ooxml.extractor) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:19:25 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=3.0.0, osgi.wiring.package=org.apache.poi.ooxml.util}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [org.apache.tika.parsers [115](R 115.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.poi.ooxml.util) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:base-granite:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:19:25 AM org.apache.tika.config.InitializableProblemHandler$3 handleInitializableProblem\nWARNING: org.xerial's sqlite-jdbc is not loaded.\nPlease provide the jar on your classpath to parse sqlite files.\nSee tika-parsers/pom.xml for the correct version.\nMay 13, 2022 9:20:44 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.0.6, osgi.wiring.package=org.apache.xmlbeans.impl.xpath.saxon}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [com.day.cq.dam.cq-dam-word [372](R 372.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.xmlbeans.impl.xpath.saxon) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:cq-assets-model_quickstart:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:20:44 AM org.apache.sling.feature.apiregions.impl.ResolverHookImpl filterMatches\nWARNING: API-Regions removed candidates [com.adobe.granite.poi [101](R 101.0)] osgi.wiring.package; {bundle-symbolic-name=com.adobe.granite.poi, bundle-version=2.0.42, version=2.0.6, osgi.wiring.package=org.apache.xmlbeans.impl.xquery.saxon}[Regions: [], Feature: com.day.cq:cq-quickstart:slingosgifeature:base:2022.4.7138.20220427T075748Z-220401] for requirement [com.day.cq.dam.cq-dam-word [372](R 372.0)] osgi.wiring.package; (osgi.wiring.package=org.apache.xmlbeans.impl.xquery.saxon) as the requirement is in the following regions: [com.adobe.aem.deprecated, global, com.adobe.aem.internal] and in feature: [com.day.cq:cq-quickstart:slingosgifeature:cq-assets-model_quickstart:2022.4.7138.20220427T075748Z-220401]\nMay 13, 2022 9:20:49 AM it.tidalwave.imageio.util.Logger info\nINFO: Installing RAWProcessor...\nMay 13, 2022 9:20:49 AM it.tidalwave.imageio.util.Logger info\nINFO: Installed RAWProcessor\nRAWProcessor succesfully installed\nWarning: Nashorn engine is planned to be removed from a future JDK release\nWarning: Nashorn engine is planned to be removed from a future JDK release\nWarning: Nashorn engine is planned to be removed from a future JDK release\nWarning: Nashorn engine is planned to be removed from a future JDK release\nWarning: Nashorn engine is planned to be removed from a future JDK release\nOpening browser using cmd=open http://localhost:4503/\nInstallation time:167 seconds\nhttp://localhost:4503/\nQuickstart started\n</code></pre>\n"},{"tags":["java","sqlite","db-browser-sqlite"],"answers":[{"tags":[],"owner":{"account_id":29935,"reputation":7158,"user_id":81255,"display_name":"Alex Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652488582,"creation_date":1652488582,"answer_id":72236525,"question_id":72236401,"body_markdown":"You are closing the first connection (c) - but not the second connection (c2).\r\n\r\nIs there a reason you&#39;re creating two connections? Why not simply create both statements on the first connection, then close the first connection (c) after the second statement?  Then you could avoid the second connection entirely (and the fact that you&#39;re not closing it is likely to be the cause of your error)","title":"SQLITE_BUSY The database file is locked","body":"<p>You are closing the first connection (c) - but not the second connection (c2).</p>\n<p>Is there a reason you're creating two connections? Why not simply create both statements on the first connection, then close the first connection (c) after the second statement?  Then you could avoid the second connection entirely (and the fact that you're not closing it is likely to be the cause of your error)</p>\n"}],"owner":{"account_id":25286454,"reputation":33,"user_id":19113338,"display_name":"huardy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72236525,"answer_count":1,"score":0,"last_activity_date":1652488582,"creation_date":1652486682,"question_id":72236401,"body_markdown":"I&#39;m getting the error `[SQLITE_BUSY]  The database file is locked (database is locked)`, even though I close my connection and the statements. Not sure what else to try.   \r\n\r\n     public void getTeams() throws SQLException {\r\n        Connection c = DriverManager.getConnection(&quot;jdbc:sqlite:leagueDatabase.db&quot;);\r\n        Statement teamStmt = c.createStatement();\r\n        ResultSet teamData = teamStmt.executeQuery(&quot;SELECT * FROM TEAMS&quot;);\r\n\r\n        while (teamData.next()) {\r\n            teams.add(new Team(teamData.getString(&quot;city&quot;), teamData.getString(&quot;name&quot;)));\r\n        }\r\n        teamData.close();\r\n        teamStmt.close();\r\n        c.close();\r\n\r\n        Connection c2 = DriverManager.getConnection(&quot;jdbc:sqlite:leagueDatabase.db&quot;);\r\n        Statement teamStatsStmt = c2.createStatement();\r\n        ResultSet teamStatsData = teamStatsStmt.executeQuery(&quot;SELECT * FROM TEAM_STATS&quot;);\r\n\r\n        for (int i = 0; i &lt; teams.size(); i++) {\r\n            for (int j = 0; j &lt; players.size(); j++) {\r\n                if (players.get(j).getTeam().equalsIgnoreCase(teams.get(i).getName()))\r\n                    teams.get(i).addPlayer(players.get(j));\r\n            }\r\n            teams.get(i).setStats(new TeamStats(teamStatsData.getInt(&quot;wins&quot;), teamStatsData.getInt(&quot;losses&quot;), (int) Math.round(teams.get(i).calcTeamRating()), SEASON, teams.get(i).getName()));\r\n        }\r\n    }","title":"SQLITE_BUSY The database file is locked","body":"<p>I'm getting the error <code>[SQLITE_BUSY]  The database file is locked (database is locked)</code>, even though I close my connection and the statements. Not sure what else to try.</p>\n<pre><code> public void getTeams() throws SQLException {\n    Connection c = DriverManager.getConnection(&quot;jdbc:sqlite:leagueDatabase.db&quot;);\n    Statement teamStmt = c.createStatement();\n    ResultSet teamData = teamStmt.executeQuery(&quot;SELECT * FROM TEAMS&quot;);\n\n    while (teamData.next()) {\n        teams.add(new Team(teamData.getString(&quot;city&quot;), teamData.getString(&quot;name&quot;)));\n    }\n    teamData.close();\n    teamStmt.close();\n    c.close();\n\n    Connection c2 = DriverManager.getConnection(&quot;jdbc:sqlite:leagueDatabase.db&quot;);\n    Statement teamStatsStmt = c2.createStatement();\n    ResultSet teamStatsData = teamStatsStmt.executeQuery(&quot;SELECT * FROM TEAM_STATS&quot;);\n\n    for (int i = 0; i &lt; teams.size(); i++) {\n        for (int j = 0; j &lt; players.size(); j++) {\n            if (players.get(j).getTeam().equalsIgnoreCase(teams.get(i).getName()))\n                teams.get(i).addPlayer(players.get(j));\n        }\n        teams.get(i).setStats(new TeamStats(teamStatsData.getInt(&quot;wins&quot;), teamStatsData.getInt(&quot;losses&quot;), (int) Math.round(teams.get(i).calcTeamRating()), SEASON, teams.get(i).getName()));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-mvc","zk"],"comments":[{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1419271278,"post_id":27607961,"comment_id":43638110,"body_markdown":"Similar - http://stackoverflow.com/questions/13642947/java-lang-nosuchmethoderror-org-springframework-beans-factory-xml-xmlreadercont. Do you have same jar with different versions?","body":"Similar - <a href=\"http://stackoverflow.com/questions/13642947/java-lang-nosuchmethoderror-org-springframework-beans-factory-xml-xmlreadercont\" title=\"java lang nosuchmethoderror org springframework beans factory xml xmlreadercont\">stackoverflow.com/questions/13642947/&hellip;</a>. Do you have same jar with different versions?"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1419271747,"post_id":27607961,"comment_id":43638362,"body_markdown":"No, I tried removing the zkoss dependency but its no help, no I don&#39;t think so I have explicity mentioned 2 different versions. Would the presence of another version in .m2 directory count??","body":"No, I tried removing the zkoss dependency but its no help, no I don&#39;t think so I have explicity mentioned 2 different versions. Would the presence of another version in .m2 directory count??"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1419272169,"post_id":27607961,"comment_id":43638608,"body_markdown":"I also deleted the folders under .m2 and tried building and deploying, still the same error.","body":"I also deleted the folders under .m2 and tried building and deploying, still the same error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1419275471,"post_id":27607961,"comment_id":43640112,"body_markdown":"One thing I notice is that you are using Spring 4.1.2 and an old version of Spring Data JPA which could lead to including different spring versions. Also make sure that the zk spring integration supports Spring 4.1. Do a `mvn dependency:tree` to see which dependencies are actually used.","body":"One thing I notice is that you are using Spring 4.1.2 and an old version of Spring Data JPA which could lead to including different spring versions. Also make sure that the zk spring integration supports Spring 4.1. Do a <code>mvn dependency:tree</code> to see which dependencies are actually used."}],"answers":[{"tags":[],"owner":{"account_id":5520172,"reputation":19,"user_id":4383428,"display_name":"Bogumil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1419278148,"creation_date":1419278148,"answer_id":27609536,"question_id":27607961,"body_markdown":"If this error is thrown at server during starting/deploying web application, then \r\n\r\n1. Find jar which contains mentioned class in your project org.springframework.beans.factory.xml.XmlReaderContext\r\n\r\n2. Try find the same jar at the server in common lib folder.\r\n\r\n3. Set the same version of jar or put provided scope in pom.xml file\r\n\r\n","title":"NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment; With zkoss","body":"<p>If this error is thrown at server during starting/deploying web application, then </p>\n\n<ol>\n<li><p>Find jar which contains mentioned class in your project org.springframework.beans.factory.xml.XmlReaderContext</p></li>\n<li><p>Try find the same jar at the server in common lib folder.</p></li>\n<li><p>Set the same version of jar or put provided scope in pom.xml file</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1254954,"reputation":627,"user_id":1214625,"accept_rate":78,"display_name":"qgadrian"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1450896012,"creation_date":1431880724,"answer_id":30289355,"question_id":27607961,"body_markdown":"I had the same problem as you. Two hours finding was going wrong... After found your question and saw that probably it&#39;s a dependency problem.\r\n\r\nIt is, I solved this issue just adding spring beans dependency\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n      &lt;/dependency&gt;","title":"NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment; With zkoss","body":"<p>I had the same problem as you. Two hours finding was going wrong... After found your question and saw that probably it's a dependency problem.</p>\n\n<p>It is, I solved this issue just adding spring beans dependency</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8980048,"reputation":3007,"user_id":6695569,"display_name":"Stephane L"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470744544,"creation_date":1470744544,"answer_id":38850312,"question_id":27607961,"body_markdown":"This was for me a dependency compatibility problem between the spring jars and spring data.\r\n\r\nThe versions before the error (no errors) :\r\n\r\n    &lt;spring.version&gt;4.1.0.RELEASE&lt;/spring.version&gt;\r\n    &lt;springdata.version&gt;1.6.1.RELEASE&lt;/springdata.version&gt; \r\n\r\nAfter updating spring data to 1.10.2.RELEASE the error appends, resolved by upgrading spring version to 4.3.2.RELEASE :\r\n\t\t\r\n    &lt;spring.version&gt;4.3.2.RELEASE&lt;/spring.version&gt;\r\n    &lt;springdata.version&gt;1.10.2.RELEASE&lt;/springdata.version&gt;\r\n\r\nTo ensure you use the correct spring version you can skip the maven declaration of the spring dependencies and keep only the spring data dependency.\r\nOr you can check in the maven repository which spring version is used by your spring data version and update consequentely.\r\n","title":"NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment; With zkoss","body":"<p>This was for me a dependency compatibility problem between the spring jars and spring data.</p>\n\n<p>The versions before the error (no errors) :</p>\n\n<pre><code>&lt;spring.version&gt;4.1.0.RELEASE&lt;/spring.version&gt;\n&lt;springdata.version&gt;1.6.1.RELEASE&lt;/springdata.version&gt; \n</code></pre>\n\n<p>After updating spring data to 1.10.2.RELEASE the error appends, resolved by upgrading spring version to 4.3.2.RELEASE :</p>\n\n<pre><code>&lt;spring.version&gt;4.3.2.RELEASE&lt;/spring.version&gt;\n&lt;springdata.version&gt;1.10.2.RELEASE&lt;/springdata.version&gt;\n</code></pre>\n\n<p>To ensure you use the correct spring version you can skip the maven declaration of the spring dependencies and keep only the spring data dependency.\nOr you can check in the maven repository which spring version is used by your spring data version and update consequentely.</p>\n"},{"tags":[],"owner":{"account_id":4496522,"reputation":563,"user_id":3656203,"display_name":"GSK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489051942,"creation_date":1489051942,"answer_id":42691569,"question_id":27607961,"body_markdown":"    if using spring 3.17 \r\n    use \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment; With zkoss","body":"<pre><code>if using spring 3.17 \nuse \n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n&lt;version&gt;1.6.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13243083,"reputation":31,"user_id":9562980,"display_name":"Sahi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652488102,"creation_date":1523006387,"answer_id":49689437,"question_id":27607961,"body_markdown":"This error is pretty clear,\r\nThe class \r\n\r\n    org.springframework.beans.factory.xml.XmlReaderContext\r\n\r\ndoes not contain the method getEnvironment (java method notation)\r\n\r\n    .getEnvironment()Lorg/springframework/core/env/Environment\r\nIf you look at the **Spring bean** library that is included in you application, and run a javap -l on the class, you will probably notice that this method **really** does not exist...\r\n\r\n    **javap.exe c:\\XmlReaderContext.class** -l\r\n    Compiled from &quot;XmlReaderContext.java&quot;\r\n    public class org.springframework.beans.factory.xml.XmlReaderContext extends org.springframework.beans.factory.parsing.ReaderContext {\r\n      public org.springframework.beans.factory.xml.XmlReaderContext(org.springframework.core.io.Resource, org.springframework.beans.factory.parsing.ProblemReporter, org.springframework.beans.factory.par\r\n    aderEventListener, org.springframework.beans.factory.parsing.SourceExtractor, org.springframework.beans.factory.xml.XmlBeanDefinitionReader, org.springframework.beans.factory.xml.NamespaceHandlerRes\r\n    \r\n      public final org.springframework.beans.factory.xml.XmlBeanDefinitionReader getReader();\r\n      public final org.springframework.beans.factory.support.BeanDefinitionRegistry getRegistry();\r\n      public final org.springframework.core.io.ResourceLoader getResourceLoader();\r\n      public final java.lang.ClassLoader getBeanClassLoader();\r\n      public final org.springframework.beans.factory.xml.NamespaceHandlerResolver getNamespaceHandlerResolver();\r\n      public java.lang.String generateBeanName(org.springframework.beans.factory.config.BeanDefinition);\r\n      public java.lang.String registerWithGeneratedName(org.springframework.beans.factory.config.BeanDefinition);\r\n      public org.w3c.dom.Document readDocumentFromString(java.lang.String);\r\n    }\r\n\r\nJust upgrade to a later version that contains the method for this **Spring bean** dependency &gt; 4.3.2\r\n\r\nRegards","title":"NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment; With zkoss","body":"<p>This error is pretty clear,\nThe class</p>\n<pre><code>org.springframework.beans.factory.xml.XmlReaderContext\n</code></pre>\n<p>does not contain the method getEnvironment (java method notation)</p>\n<pre><code>.getEnvironment()Lorg/springframework/core/env/Environment\n</code></pre>\n<p>If you look at the <strong>Spring bean</strong> library that is included in you application, and run a javap -l on the class, you will probably notice that this method <strong>really</strong> does not exist...</p>\n<pre><code>**javap.exe c:\\XmlReaderContext.class** -l\nCompiled from &quot;XmlReaderContext.java&quot;\npublic class org.springframework.beans.factory.xml.XmlReaderContext extends org.springframework.beans.factory.parsing.ReaderContext {\n  public org.springframework.beans.factory.xml.XmlReaderContext(org.springframework.core.io.Resource, org.springframework.beans.factory.parsing.ProblemReporter, org.springframework.beans.factory.par\naderEventListener, org.springframework.beans.factory.parsing.SourceExtractor, org.springframework.beans.factory.xml.XmlBeanDefinitionReader, org.springframework.beans.factory.xml.NamespaceHandlerRes\n\n  public final org.springframework.beans.factory.xml.XmlBeanDefinitionReader getReader();\n  public final org.springframework.beans.factory.support.BeanDefinitionRegistry getRegistry();\n  public final org.springframework.core.io.ResourceLoader getResourceLoader();\n  public final java.lang.ClassLoader getBeanClassLoader();\n  public final org.springframework.beans.factory.xml.NamespaceHandlerResolver getNamespaceHandlerResolver();\n  public java.lang.String generateBeanName(org.springframework.beans.factory.config.BeanDefinition);\n  public java.lang.String registerWithGeneratedName(org.springframework.beans.factory.config.BeanDefinition);\n  public org.w3c.dom.Document readDocumentFromString(java.lang.String);\n}\n</code></pre>\n<p>Just upgrade to a later version that contains the method for this <strong>Spring bean</strong> dependency &gt; 4.3.2</p>\n<p>Regards</p>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43110,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1652488102,"creation_date":1419270975,"question_id":27607961,"body_markdown":"I am facing following error, \r\n\r\n    java.lang.NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment;\r\n    \tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:81)\r\n    \tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1423)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1413)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:184)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(DefaultBeanDefinitionDocumentReader.java:239)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseDefaultElement(DefaultBeanDefinitionDocumentReader.java:196)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:181)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:663)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:629)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:677)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:548)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:489)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5198)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5481)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nI know from google search that its related to dependency issue. So here is my pom.xml\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;artifactId&gt;TempApp&lt;/artifactId&gt;\r\n    \t&lt;groupId&gt;com.zbc.tempapp&lt;/groupId&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;TempApp&lt;/name&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;ZK CE&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;ZK CE Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://mavensync.zkoss.org/maven2&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jpa.version&gt;1.0.1.Final&lt;/jpa.version&gt;\r\n    \t\t&lt;hibernate.version&gt;4.3.6.Final&lt;/hibernate.version&gt;\r\n    \t\t&lt;hibernate.commons.annotation.version&gt;4.0.4.Final&lt;/hibernate.commons.annotation.version&gt;\r\n    \t\t&lt;hibernate.validator.version&gt;5.1.2.Final&lt;/hibernate.validator.version&gt;\r\n    \t\t&lt;springVersion&gt;4.1.2.RELEASE&lt;/springVersion&gt;\r\n    \t\t&lt;log4j2Version&gt;2.0&lt;/log4j2Version&gt;\r\n    \t\t&lt;springDataJpaVersion&gt;1.4.3.RELEASE&lt;/springDataJpaVersion&gt;\r\n    \t\t&lt;apacheCommonsLangVersion&gt;3.2.1&lt;/apacheCommonsLangVersion&gt;\r\n    \t\t&lt;apacheCommonsCollection&gt;4.0&lt;/apacheCommonsCollection&gt;\r\n    \t\t&lt;apacheCommonsEmail&gt;1.3.2&lt;/apacheCommonsEmail&gt;\r\n    \t\t&lt;quartzVersion&gt;2.2.1&lt;/quartzVersion&gt;\r\n    \t\t&lt;zkVersion&gt;7.0.3&lt;/zkVersion&gt;\r\n    \t\t&lt;zkSpringVersion&gt;3.1.1&lt;/zkSpringVersion&gt;\r\n    \t\t&lt;junit.version&gt;4.11&lt;/junit.version&gt;\r\n    \t\t&lt;plugin.maven.war&gt;2.4&lt;/plugin.maven.war&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;plugin.maven.compiler&gt;3.0&lt;/plugin.maven.compiler&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- asyn logger log4j 2 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${log4j2Version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${log4j2Version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;!-- hibernate/jpa related --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jpa.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.commons.annotation.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.validator.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springDataJpaVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JUnit --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;!-- quartz schedular --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${quartzVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Zkoss Dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zkplus&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${zkVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zhtml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${zkVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zkbind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${zkVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zul&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${zkVersion}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zkspring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \t&lt;!-- \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zkspring-webflow&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;zkspring-security&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;!-- Apache commons --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-email&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${apacheCommonsEmail}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${apacheCommonsLangVersion}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${apacheCommonsCollection}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${plugin.maven.war}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true\r\n    \t\t\t\t\t\t\t\t&lt;/addDefaultImplementationEntries&gt;\r\n    \t\t\t\t\t\t\t\t&lt;addDefaultSpecificationEntries&gt;true\r\n    \t\t\t\t\t\t\t\t&lt;/addDefaultSpecificationEntries&gt;\r\n    \t\t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t\t\t\t\t&lt;Implementation-Build&gt;${BUILD_TAG}&lt;/Implementation-Build&gt;\r\n    \t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${plugin.maven.compiler}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n    \t\t\t\t\t\t&lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n    \t\t\t\t\t\t&lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n    \t\t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n    \t\t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n    \t\t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t\t\t\t\t&lt;optimize&gt;true&lt;/optimize&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.12.4&lt;/version&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;!-- make it false to execute test cases --&gt;\r\n    \t\t\t\t\t\t\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- make it false to execute test cases --&gt;\r\n    \t\t\t\t\t\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n    \t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n    \t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t\t\t\t&lt;optimize&gt;true&lt;/optimize&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThank you.\r\n\r\n","title":"NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment; With zkoss","body":"<p>I am facing following error, </p>\n\n<pre><code>java.lang.NoSuchMethodError: org.springframework.beans.factory.xml.XmlReaderContext.getEnvironment()Lorg/springframework/core/env/Environment;\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:81)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1423)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1413)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:184)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(DefaultBeanDefinitionDocumentReader.java:239)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseDefaultElement(DefaultBeanDefinitionDocumentReader.java:196)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:181)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:663)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:629)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:677)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:548)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:489)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5198)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5481)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I know from google search that its related to dependency issue. So here is my pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;TempApp&lt;/artifactId&gt;\n    &lt;groupId&gt;com.zbc.tempapp&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;TempApp&lt;/name&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;ZK CE&lt;/id&gt;\n            &lt;name&gt;ZK CE Repository&lt;/name&gt;\n            &lt;url&gt;http://mavensync.zkoss.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;properties&gt;\n        &lt;jpa.version&gt;1.0.1.Final&lt;/jpa.version&gt;\n        &lt;hibernate.version&gt;4.3.6.Final&lt;/hibernate.version&gt;\n        &lt;hibernate.commons.annotation.version&gt;4.0.4.Final&lt;/hibernate.commons.annotation.version&gt;\n        &lt;hibernate.validator.version&gt;5.1.2.Final&lt;/hibernate.validator.version&gt;\n        &lt;springVersion&gt;4.1.2.RELEASE&lt;/springVersion&gt;\n        &lt;log4j2Version&gt;2.0&lt;/log4j2Version&gt;\n        &lt;springDataJpaVersion&gt;1.4.3.RELEASE&lt;/springDataJpaVersion&gt;\n        &lt;apacheCommonsLangVersion&gt;3.2.1&lt;/apacheCommonsLangVersion&gt;\n        &lt;apacheCommonsCollection&gt;4.0&lt;/apacheCommonsCollection&gt;\n        &lt;apacheCommonsEmail&gt;1.3.2&lt;/apacheCommonsEmail&gt;\n        &lt;quartzVersion&gt;2.2.1&lt;/quartzVersion&gt;\n        &lt;zkVersion&gt;7.0.3&lt;/zkVersion&gt;\n        &lt;zkSpringVersion&gt;3.1.1&lt;/zkSpringVersion&gt;\n        &lt;junit.version&gt;4.11&lt;/junit.version&gt;\n        &lt;plugin.maven.war&gt;2.4&lt;/plugin.maven.war&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;plugin.maven.compiler&gt;3.0&lt;/plugin.maven.compiler&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- asyn logger log4j 2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j2Version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j2Version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- hibernate/jpa related --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;${jpa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.commons.annotation.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.validator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${springDataJpaVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${springVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${springVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${springVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${springVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JUnit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- quartz schedular --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;${quartzVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Zkoss Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zkplus&lt;/artifactId&gt;\n            &lt;version&gt;${zkVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zhtml&lt;/artifactId&gt;\n            &lt;version&gt;${zkVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zkbind&lt;/artifactId&gt;\n            &lt;version&gt;${zkVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zul&lt;/artifactId&gt;\n            &lt;version&gt;${zkVersion}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zkspring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt; --&gt;\n\n    &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zkspring-webflow&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.zkoss.zk&lt;/groupId&gt;\n            &lt;artifactId&gt;zkspring-security&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n\n        &lt;!-- Apache commons --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-email&lt;/artifactId&gt;\n            &lt;version&gt;${apacheCommonsEmail}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${apacheCommonsLangVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${apacheCommonsCollection}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${plugin.maven.war}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;addDefaultImplementationEntries&gt;true\n                                &lt;/addDefaultImplementationEntries&gt;\n                                &lt;addDefaultSpecificationEntries&gt;true\n                                &lt;/addDefaultSpecificationEntries&gt;\n                            &lt;/manifest&gt;\n                            &lt;manifestEntries&gt;\n                                &lt;Implementation-Build&gt;${BUILD_TAG}&lt;/Implementation-Build&gt;\n                            &lt;/manifestEntries&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${plugin.maven.compiler}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                        &lt;debug&gt;true&lt;/debug&gt;\n                        &lt;optimize&gt;true&lt;/optimize&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.12.4&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;configuration&gt;\n                                &lt;!-- make it false to execute test cases --&gt;\n                                &lt;skipTests&gt;true&lt;/skipTests&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- make it false to execute test cases --&gt;\n                            &lt;skipTests&gt;true&lt;/skipTests&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                    &lt;debug&gt;true&lt;/debug&gt;\n                    &lt;optimize&gt;true&lt;/optimize&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652483386,"creation_date":1652483386,"answer_id":72236156,"question_id":72236143,"body_markdown":"`WorkManager` is not a suitable tool for what you wish to do. You will need to use a foreground service and your own in-process timing engine (e.g., `ScheduledExecutorService`). That will not work for very long before Doze mode and other power-saving measures take effect, but hopefully your games are only an hour or so long.","title":"Ways to work around the Android workManager 15 minute minimum interval?","body":"<p><code>WorkManager</code> is not a suitable tool for what you wish to do. You will need to use a foreground service and your own in-process timing engine (e.g., <code>ScheduledExecutorService</code>). That will not work for very long before Doze mode and other power-saving measures take effect, but hopefully your games are only an hour or so long.</p>\n"},{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652484705,"creation_date":1652484705,"answer_id":72236256,"question_id":72236143,"body_markdown":"Hej theBiscuit,\r\n\r\ninstead of using `WorkManager`, you could set up an `AlarmManager` to wake up the app and check for attacks.\r\n\r\nIf you want to do it while the app is running, a CountDownTimer could help for short periods of time.\r\n","title":"Ways to work around the Android workManager 15 minute minimum interval?","body":"<p>Hej theBiscuit,</p>\n<p>instead of using <code>WorkManager</code>, you could set up an <code>AlarmManager</code> to wake up the app and check for attacks.</p>\n<p>If you want to do it while the app is running, a CountDownTimer could help for short periods of time.</p>\n"}],"owner":{"display_name":"user19113197"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652484705,"creation_date":1652483170,"question_id":72236143,"body_markdown":"The game I am working on is a missile-oriented GPS-based combat game on Android. The app checks every 15 minutes to see if the user is under attack by any other players, and if so, sends them a notification that they are under attack. Currently, because of the minimum 15 minute interval, the app sends these notifications either too late or not at all. What I need to do is alter this so that somehow, some way, the app checks the &quot;under attack&quot; status of the user more often than 15 minutes. Every minute or every 30 seconds would be ideal. \r\n\r\nhere is the doWork() method which starts the notification check: \r\n\r\n```public Result doWork()\r\n    {\r\n        if(!MainActivity.GetRunning())\r\n        {\r\n            Utilities.DebugLog(context, &quot;AlertService&quot;, &quot;Main activity not running. Firing notification service handler.&quot;);\r\n            NotificationServiceHandler handler = new NotificationServiceHandler(context);\r\n            handler.Start();\r\n        }\r\n\r\n        return Result.SUCCESS;\r\n    }\r\n\r\n\r\n","title":"Ways to work around the Android workManager 15 minute minimum interval?","body":"<p>The game I am working on is a missile-oriented GPS-based combat game on Android. The app checks every 15 minutes to see if the user is under attack by any other players, and if so, sends them a notification that they are under attack. Currently, because of the minimum 15 minute interval, the app sends these notifications either too late or not at all. What I need to do is alter this so that somehow, some way, the app checks the &quot;under attack&quot; status of the user more often than 15 minutes. Every minute or every 30 seconds would be ideal.</p>\n<p>here is the doWork() method which starts the notification check:</p>\n<pre><code>    {\n        if(!MainActivity.GetRunning())\n        {\n            Utilities.DebugLog(context, &quot;AlertService&quot;, &quot;Main activity not running. Firing notification service handler.&quot;);\n            NotificationServiceHandler handler = new NotificationServiceHandler(context);\n            handler.Start();\n        }\n\n        return Result.SUCCESS;\n    }\n\n\n</code></pre>\n"},{"tags":["java","maven","jaxb"],"comments":[{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1493199269,"post_id":43630262,"comment_id":74308813,"body_markdown":"Maybe `javax.xml.bind:jaxb-api` is included somehow else? As a dependency of your project or of another dependency?","body":"Maybe <code>javax.xml.bind:jaxb-api</code> is included somehow else? As a dependency of your project or of another dependency?"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1493201506,"post_id":43630262,"comment_id":74310394,"body_markdown":"I updated the question to address your comment.","body":"I updated the question to address your comment."},{"owner":{"account_id":1497,"reputation":10898,"user_id":1996,"accept_rate":78,"display_name":"Boris Terzic"},"score":0,"creation_date":1493211674,"post_id":43630262,"comment_id":74317954,"body_markdown":"Maybe better answer the question yourself: excluding a plugin&#39;s direct dependency does not seem possible with current Maven versions.","body":"Maybe better answer the question yourself: excluding a plugin&#39;s direct dependency does not seem possible with current Maven versions."},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1493237824,"post_id":43630262,"comment_id":74335835,"body_markdown":"Up until now there hasn&#39;t been any reason to do this, but this seems like a valid one. Most clean solution I can think of is allowing to override the scope with &quot;none&quot; for plugin dependencies.","body":"Up until now there hasn&#39;t been any reason to do this, but this seems like a valid one. Most clean solution I can think of is allowing to override the scope with &quot;none&quot; for plugin dependencies."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1493275293,"post_id":43630262,"comment_id":74348428,"body_markdown":"@RobertScholte Would you consider turning your comment into an answer, preferably with a link to where the docs explain this (if they do, I didn&#39;t see it) or maybe even an issue addressed at remedying the situation?","body":"@RobertScholte Would you consider turning your comment into an answer, preferably with a link to where the docs explain this (if they do, I didn&#39;t see it) or maybe even an issue addressed at remedying the situation?"}],"answers":[{"tags":[],"owner":{"account_id":7012821,"reputation":15,"user_id":5375072,"display_name":"Israel Romero"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1652484623,"creation_date":1493199386,"answer_id":43630369,"question_id":43630262,"body_markdown":"Check your dependency list with dependency:tree and solve whichever lib is introducing that lib dependency, then exclude it. Maybe your dependency couldn&#39;t be a direct one.\r\n\r\nJust follow your dependency hierarchy ","title":"How to exclude a direct dependency of a Maven Plugin","body":"<p>Check your dependency list with dependency:tree and solve whichever lib is introducing that lib dependency, then exclude it. Maybe your dependency couldn't be a direct one.</p>\n<p>Just follow your dependency hierarchy</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493210406,"creation_date":1493210406,"answer_id":43634512,"question_id":43630262,"body_markdown":"I had a similar situation with `maven-linkcheck-plugin` in the end I did a more brute force approach to remove the `doxia-linkcheck` dependency and make it use [my fork](https://github.com/trajano/maven-doxia-tools) by forking `maven-linkcheck-plugin` and creating [my own](https://github.com/trajano/maven-plugins/tree/trajano-linkcheck) with the proper dependencies.","title":"How to exclude a direct dependency of a Maven Plugin","body":"<p>I had a similar situation with <code>maven-linkcheck-plugin</code> in the end I did a more brute force approach to remove the <code>doxia-linkcheck</code> dependency and make it use <a href=\"https://github.com/trajano/maven-doxia-tools\" rel=\"nofollow noreferrer\">my fork</a> by forking <code>maven-linkcheck-plugin</code> and creating <a href=\"https://github.com/trajano/maven-plugins/tree/trajano-linkcheck\" rel=\"nofollow noreferrer\">my own</a> with the proper dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1493280574,"creation_date":1493280574,"answer_id":43652129,"question_id":43630262,"body_markdown":"Up until now there hasn&#39;t been any reason to do this, but this seems like a valid one. Most clean solution I can think of is allowing to override the scope with &quot;none&quot; for plugin dependencies.\r\n\r\nI&#39;ve created [MNG-6222][1] for it, not sure if we&#39;ll fix this for a Maven3, but it makes sense to do it at least for the next major.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MNG-6222","title":"How to exclude a direct dependency of a Maven Plugin","body":"<p>Up until now there hasn't been any reason to do this, but this seems like a valid one. Most clean solution I can think of is allowing to override the scope with \"none\" for plugin dependencies.</p>\n\n<p>I've created <a href=\"https://issues.apache.org/jira/browse/MNG-6222\" rel=\"noreferrer\">MNG-6222</a> for it, not sure if we'll fix this for a Maven3, but it makes sense to do it at least for the next major.</p>\n"}],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11949,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":43652129,"answer_count":3,"score":24,"last_activity_date":1652484623,"creation_date":1493199118,"question_id":43630262,"body_markdown":"I want to exclude a direct dependency of a Maven plugin and the approach described in [this answer](https://stackoverflow.com/q/6028534/2525313) does not work (as indicated by [this comment](https://stackoverflow.com/questions/6028534/how-to-exclude-dependency-in-a-maven-plugin#comment72835581_7405917)).\r\n\r\nAs a particular example:\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t\t\t&lt;!-- more config --&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nI still see `javax.xml.bind:jaxb-api` in the list of dependencies (with `mvn ... -X`). What am I doing wrong?\r\n\r\n(In case someone has an idea for how to replace the dependency on that artifact with the JDK 9 equivalent for that API [as seems to happen on Java 8, where &quot;JAXB API os loaded from the [jar:...jre/lib/rt.jar]&quot;], I&#39;m happy to open a new issue for that.)\r\n\r\n## Update\r\n\r\nRunning out of ideas and this being an experiment anyways, I excluded the dependency by editing the plugin&#39;s `pom.xml` in my local repository. Now `mvn ... -X` shows that there is also an indirect dependency (in this case by `org.jvnet.jaxb2.maven2:maven-jaxb22-plugin`) that I can successfully exclude with the mechanism above. Just using both excludes, from `maven-jaxb2-plugin` and `maven-jaxb22-plugin`, does not do the trick. This indicates that exclusion works in general but apparently not on a plugin&#39;s direct dependency.\r\n\r\n(By the way, this indeed lead to &quot;Java JAXB API is loaded from the [jrt:/java.xml.bind]&quot;, which was my goal.)","title":"How to exclude a direct dependency of a Maven Plugin","body":"<p>I want to exclude a direct dependency of a Maven plugin and the approach described in <a href=\"https://stackoverflow.com/q/6028534/2525313\">this answer</a> does not work (as indicated by <a href=\"https://stackoverflow.com/questions/6028534/how-to-exclude-dependency-in-a-maven-plugin#comment72835581_7405917\">this comment</a>).</p>\n\n<p>As a particular example:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.13.2&lt;/version&gt;\n            &lt;!-- more config --&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.13.2&lt;/version&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I still see <code>javax.xml.bind:jaxb-api</code> in the list of dependencies (with <code>mvn ... -X</code>). What am I doing wrong?</p>\n\n<p>(In case someone has an idea for how to replace the dependency on that artifact with the JDK 9 equivalent for that API [as seems to happen on Java 8, where \"JAXB API os loaded from the [jar:...jre/lib/rt.jar]\"], I'm happy to open a new issue for that.)</p>\n\n<h2>Update</h2>\n\n<p>Running out of ideas and this being an experiment anyways, I excluded the dependency by editing the plugin's <code>pom.xml</code> in my local repository. Now <code>mvn ... -X</code> shows that there is also an indirect dependency (in this case by <code>org.jvnet.jaxb2.maven2:maven-jaxb22-plugin</code>) that I can successfully exclude with the mechanism above. Just using both excludes, from <code>maven-jaxb2-plugin</code> and <code>maven-jaxb22-plugin</code>, does not do the trick. This indicates that exclusion works in general but apparently not on a plugin's direct dependency.</p>\n\n<p>(By the way, this indeed lead to \"Java JAXB API is loaded from the [jrt:/java.xml.bind]\", which was my goal.)</p>\n"},{"tags":["java","miglayout","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1228838485,"creation_date":1228838485,"answer_id":353262,"question_id":352781,"body_markdown":"Bombe is right... and wrong. I find this whitepaper tends to show off all great features of MiGLayout, entering in nitty gritty details that we would rarely, if ever, use... The paper hesitates between being a tutorial and a reference.\r\n\r\nNow, the provided demo applications (at [MiG Layout main page](http://www.migcalendar.com/miglayout/ &quot;MiG Layout Java Layout Manager for Swing and SWT&quot;) and [MiG Java Components page](http://www.migcomponents.com/ &quot;MiG Java Components&quot;)) are very well made: you can see the components and how they move/are resized, and you can take a look at the source code used to do this layout, which is a precious source of concrete implementation. Precious because I haven&#39;t found many open source projects actually using this layout (perhaps I just wasn&#39;t searching properly).","title":"How to use MigLayout?","body":"<p>Bombe is right... and wrong. I find this whitepaper tends to show off all great features of MiGLayout, entering in nitty gritty details that we would rarely, if ever, use... The paper hesitates between being a tutorial and a reference.</p>\n\n<p>Now, the provided demo applications (at <a href=\"http://www.migcalendar.com/miglayout/\" rel=\"noreferrer\" title=\"MiG Layout Java Layout Manager for Swing and SWT\">MiG Layout main page</a> and <a href=\"http://www.migcomponents.com/\" rel=\"noreferrer\" title=\"MiG Java Components\">MiG Java Components page</a>) are very well made: you can see the components and how they move/are resized, and you can take a look at the source code used to do this layout, which is a precious source of concrete implementation. Precious because I haven't found many open source projects actually using this layout (perhaps I just wasn't searching properly).</p>\n"},{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1228859329,"creation_date":1228859329,"answer_id":354351,"question_id":352781,"body_markdown":"The people at MigLayout have setup a great demo that lets you learn how to configure the miglayout through experimentation.    \r\n\r\nGo to http://www.miglayout.com/ and select [Swing Demo][1].  You can then see sample uses of the layout and more importantly, you can right-click on any component (textfield, label, etc.) and change the layout constraints.   This is an excellent interactive tool to learn about the layout and how it will work with resizing, etc.\r\n\r\n\r\n  [1]: http://www.migcalendar.com/miglayout/swingdemoapp.jnlp","title":"How to use MigLayout?","body":"<p>The people at MigLayout have setup a great demo that lets you learn how to configure the miglayout through experimentation.    </p>\n\n<p>Go to <a href=\"http://www.miglayout.com/\" rel=\"noreferrer\">http://www.miglayout.com/</a> and select <a href=\"http://www.migcalendar.com/miglayout/swingdemoapp.jnlp\" rel=\"noreferrer\">Swing Demo</a>.  You can then see sample uses of the layout and more importantly, you can right-click on any component (textfield, label, etc.) and change the layout constraints.   This is an excellent interactive tool to learn about the layout and how it will work with resizing, etc.</p>\n"},{"tags":[],"owner":{"account_id":141533,"reputation":2497,"user_id":348637,"accept_rate":100,"display_name":"Abhinav Upadhyay"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1563166065,"creation_date":1281502849,"answer_id":3455412,"question_id":352781,"body_markdown":"Maybe its too late. But I found [this helpful article on MigLayout][1]: (the original link seems to be offline now, so the only way to access it is archive.org) \r\n\r\nThe valid link, if the first one&#39;s broken, is [here][2].  \r\nAnd now there is a [website][3] available.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20130403112247/http://jnb.ociweb.com/jnb/jnbMay2009.html\r\n  [2]: http://jnb.ociweb.com/jnb/jnbMay2009.html\r\n  [3]: https://objectcomputing.com/resources/publications/sett/may-2009-miglayout-the-one-java-layout-manager-that-does-it-all","title":"How to use MigLayout?","body":"<p>Maybe its too late. But I found <a href=\"https://web.archive.org/web/20130403112247/http://jnb.ociweb.com/jnb/jnbMay2009.html\" rel=\"nofollow noreferrer\">this helpful article on MigLayout</a>: (the original link seems to be offline now, so the only way to access it is archive.org) </p>\n\n<p>The valid link, if the first one's broken, is <a href=\"http://jnb.ociweb.com/jnb/jnbMay2009.html\" rel=\"nofollow noreferrer\">here</a>.<br>\nAnd now there is a <a href=\"https://objectcomputing.com/resources/publications/sett/may-2009-miglayout-the-one-java-layout-manager-that-does-it-all\" rel=\"nofollow noreferrer\">website</a> available.</p>\n"},{"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342485438,"creation_date":1342485438,"answer_id":11514566,"question_id":352781,"body_markdown":"[WindowBuilder][1] suports MigLayout, if you want to jump in right away, and look up the docs as needed.\r\n\r\nHowever, the docs and demos from the [website][2] are simple enough that it doesn&#39;t take much time to read through them.\r\n\r\n\r\n  [1]: https://developers.google.com/java-dev-tools/wbpro/\r\n  [2]: http://www.miglayout.com/","title":"How to use MigLayout?","body":"<p><a href=\"https://developers.google.com/java-dev-tools/wbpro/\" rel=\"nofollow\">WindowBuilder</a> suports MigLayout, if you want to jump in right away, and look up the docs as needed.</p>\n\n<p>However, the docs and demos from the <a href=\"http://www.miglayout.com/\" rel=\"nofollow\">website</a> are simple enough that it doesn't take much time to read through them.</p>\n"},{"tags":[],"owner":{"account_id":3536361,"reputation":681,"user_id":3023513,"accept_rate":29,"display_name":"KathyA."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395326953,"creation_date":1395326953,"answer_id":22536610,"question_id":352781,"body_markdown":"Another help for those coming here now...\r\n\r\nI find the [Quick Start][1] for MigLayout to be a good place to start, especially when I haven&#39;t used it for a while and need to get back up to speed.\r\n\r\n\r\n  [1]: http://www.miglayout.com/QuickStart.pdf","title":"How to use MigLayout?","body":"<p>Another help for those coming here now...</p>\n\n<p>I find the <a href=\"http://www.miglayout.com/QuickStart.pdf\" rel=\"nofollow\">Quick Start</a> for MigLayout to be a good place to start, especially when I haven't used it for a while and need to get back up to speed.</p>\n"}],"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35056,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"closed_date":1429543680,"answer_count":5,"score":31,"last_activity_date":1652483371,"creation_date":1228831003,"question_id":352781,"body_markdown":"I read some information about Java layout managers and the recommendation was [MigLayout][1].\r\nMy problem is, that I didn&#39;t found any tutorial or easy step-by-step documentation.\r\n\r\nSo I want to know how this all works, but I don&#39;t know how.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.miglayout.com/","title":"How to use MigLayout?","body":"<p>I read some information about Java layout managers and the recommendation was <a href=\"http://www.miglayout.com/\" rel=\"nofollow noreferrer\">MigLayout</a>.\nMy problem is, that I didn't found any tutorial or easy step-by-step documentation.</p>\n<p>So I want to know how this all works, but I don't know how.</p>\n"},{"tags":["java","maven","java-8","macos-monterey"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1652479996,"post_id":72235813,"comment_id":127624937,"body_markdown":"this seems like a warning and not like an error. What are you trying to do? Is there code necessary for explaining? Please provide a [minimal, complete and verifiable example](https://stackoverflow.com/help/mcve).","body":"this seems like a warning and not like an error. What are you trying to do? Is there code necessary for explaining? Please provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a>."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1652480485,"post_id":72235813,"comment_id":127625019,"body_markdown":"Refer to this [Github issue](https://github.com/cl-plus-ssl/cl-plus-ssl/issues/114) and please say if it answers your question.","body":"Refer to this <a href=\"https://github.com/cl-plus-ssl/cl-plus-ssl/issues/114\" rel=\"nofollow noreferrer\">Github issue</a> and please say if it answers your question."},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1652482424,"post_id":72235813,"comment_id":127625284,"body_markdown":"@dan1st it is a warning but when I run the tests in IntelliJ, it&#39;s stopping them from running","body":"@dan1st it is a warning but when I run the tests in IntelliJ, it&#39;s stopping them from running"},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1652482788,"post_id":72235813,"comment_id":127625334,"body_markdown":"@JettoMart&#237;nez Thank you, i followed the steps here https://github.com/cl-plus-ssl/cl-plus-ssl/issues/114#issuecomment-988295059 That solved the issue!","body":"@JettoMart&#237;nez Thank you, i followed the steps here <a href=\"https://github.com/cl-plus-ssl/cl-plus-ssl/issues/114#issuecomment-988295059\" rel=\"nofollow noreferrer\">github.com/cl-plus-ssl/cl-plus-ssl/issues/&hellip;</a> That solved the issue!"},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1652483006,"post_id":72235813,"comment_id":127625363,"body_markdown":"Here&#39;s another related link here https://issueantenna.com/repo/juxt/site but the difference is it didn&#39;t link both libcrypto and libssl to /usr/local/lib/","body":"Here&#39;s another related link here <a href=\"https://issueantenna.com/repo/juxt/site\" rel=\"nofollow noreferrer\">issueantenna.com/repo/juxt/site</a> but the difference is it didn&#39;t link both libcrypto and libssl to /usr/local/lib/"}],"answers":[{"tags":[],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652483213,"creation_date":1652483213,"answer_id":72236149,"question_id":72235813,"body_markdown":"The following solved the issue for me:\r\n\r\n1. Install the latest version of openssl\r\n```\r\nbrew install openssl\r\n```\r\n\r\n2. Make `libcrypto.dylib` and `libssl.dylib` visible when you execute java\r\n\r\n```\r\nln -s /usr/local/Cellar/openssl@3/3.0.3/lib/libcrypto.dylib /usr/local/lib/libcrypto.dylib\r\n\r\nln -s /usr/local/Cellar/openssl@3/3.0.3/lib/libssl.dylib /usr/local/lib/libssl.dylib\r\n```","title":"openjdk@8 java is loading libcrypto in an unsafe way in macOS Monterey","body":"<p>The following solved the issue for me:</p>\n<ol>\n<li>Install the latest version of openssl</li>\n</ol>\n<pre><code>brew install openssl\n</code></pre>\n<ol start=\"2\">\n<li>Make <code>libcrypto.dylib</code> and <code>libssl.dylib</code> visible when you execute java</li>\n</ol>\n<pre><code>ln -s /usr/local/Cellar/openssl@3/3.0.3/lib/libcrypto.dylib /usr/local/lib/libcrypto.dylib\n\nln -s /usr/local/Cellar/openssl@3/3.0.3/lib/libssl.dylib /usr/local/lib/libssl.dylib\n</code></pre>\n"}],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652483213,"creation_date":1652479518,"question_id":72235813,"body_markdown":"I&#39;m getting this error when running some mvn test on my Java application in macOS Monterey \r\n```\r\nWARNING: /usr/local/Cellar/openjdk@8/1.8.0+322/libexec/openjdk.jdk/Contents/Home/bin/java is loading libcrypto in an unsafe way\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\nAny ideas how to resolve?","title":"openjdk@8 java is loading libcrypto in an unsafe way in macOS Monterey","body":"<p>I'm getting this error when running some mvn test on my Java application in macOS Monterey</p>\n<pre><code>WARNING: /usr/local/Cellar/openjdk@8/1.8.0+322/libexec/openjdk.jdk/Contents/Home/bin/java is loading libcrypto in an unsafe way\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>Any ideas how to resolve?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652483207,"creation_date":1652472260,"question_id":72234893,"body_markdown":"Since SecureRandom is slow, I was wondering how to make it so that I have a Flux that I can request the next random number, but it is prepopulated by say 100 items initially and is periodically replenished if is is less than 100 and obtains one dynamically if one is not available.\r\n\r\nSomething like\r\n\r\n```\r\nprivate Flux&lt;byte[]&gt; tokenFlux;\r\n@PostConstruct\r\npublic void initFlux(){\r\n  tokenFlux = Flux.&lt;byte[]&gt;generate(s-&gt; {\r\n    final byte[] bytes = new byte[32];\r\n    secureRandom.nextBytes(bytes);\r\n    s.next(bytes);\r\n  })\r\n  // some magic here\r\n  .cache()\r\n  // maybe more magic here\r\n  ;\r\n}\r\n\r\n...\r\n\r\npublic foo() {\r\n\r\n  tokenFlux.next()`\r\n\r\n}\r\n```","title":"How do I create a hot flux that will provide data and replenish itself as needed","body":"<p>Since SecureRandom is slow, I was wondering how to make it so that I have a Flux that I can request the next random number, but it is prepopulated by say 100 items initially and is periodically replenished if is is less than 100 and obtains one dynamically if one is not available.</p>\n<p>Something like</p>\n<pre><code>private Flux&lt;byte[]&gt; tokenFlux;\n@PostConstruct\npublic void initFlux(){\n  tokenFlux = Flux.&lt;byte[]&gt;generate(s-&gt; {\n    final byte[] bytes = new byte[32];\n    secureRandom.nextBytes(bytes);\n    s.next(bytes);\n  })\n  // some magic here\n  .cache()\n  // maybe more magic here\n  ;\n}\n\n...\n\npublic foo() {\n\n  tokenFlux.next()`\n\n}\n</code></pre>\n"},{"tags":["java","firebase","gradle","react-native"],"comments":[{"owner":{"account_id":1383767,"reputation":9491,"user_id":1316229,"accept_rate":62,"display_name":"twiz"},"score":0,"creation_date":1631384120,"post_id":68182183,"comment_id":122209393,"body_markdown":"I had the same error, but in different NPM module. I fixed by deleting `./android/app/build` and rebuilding.","body":"I had the same error, but in different NPM module. I fixed by deleting <code>.&#47;android&#47;app&#47;build</code> and rebuilding."},{"owner":{"account_id":18374403,"reputation":109,"user_id":13383812,"display_name":"TJ D&#39;Alessandro"},"score":0,"creation_date":1639686437,"post_id":68182183,"comment_id":124419415,"body_markdown":"I have the same issue, only on android any help would be AMAZING","body":"I have the same issue, only on android any help would be AMAZING"}],"answers":[{"tags":[],"owner":{"account_id":20612648,"reputation":36,"user_id":15131473,"display_name":"Nabarun Adhikary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652483146,"creation_date":1652432289,"answer_id":72226945,"question_id":68182183,"body_markdown":"*Add* after =&gt; `import com.facebook.react.ReactApplication;`\r\n```\r\nimport io.invertase.firebase.messaging.ReactNativeFirebaseMessagingPackage; \r\n```\r\n*Remove*:\r\n```\r\npackages.add(new ReactNativeFirebaseMessagingPackage());\r\n```","title":"React native issue firebase messaging","body":"<p><em>Add</em> after =&gt; <code>import com.facebook.react.ReactApplication;</code></p>\n<pre><code>import io.invertase.firebase.messaging.ReactNativeFirebaseMessagingPackage; \n</code></pre>\n<p><em>Remove</em>:</p>\n<pre><code>packages.add(new ReactNativeFirebaseMessagingPackage());\n</code></pre>\n"}],"owner":{"account_id":21774742,"reputation":23,"user_id":16077348,"display_name":"Rhys Woolcott"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72226945,"answer_count":1,"score":2,"last_activity_date":1652483146,"creation_date":1624982541,"question_id":68182183,"body_markdown":"I am trying to install the react native firebase messaging module to my project so I can remotely send notifications.\r\n\r\nWhen I built my app `yarn android`/`react-native build-android` I got an error in which I have been trying to fix for the last 3 hours.\r\n\r\nbuild.gradle:\r\n```gradle\r\napply plugin: &quot;com.android.application&quot;\r\napply plugin: &#39;com.google.gms.google-services&#39;  // Google Services plugin\r\n...\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    //noinspection GradleDynamicVersion\r\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\r\n    implementation project(path: &quot;:@react-native-firebase_app&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_messaging&quot;)\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n      exclude group:&#39;com.facebook.fbjni&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n    }\r\n\r\n    if (enableHermes) {\r\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n}\r\n```\r\n\r\nsettings.gradle:\r\n```\r\nrootProject.name = &#39;NerdeeMobile&#39;\r\napply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\ninclude &#39;:app&#39;\r\n\r\ninclude &#39;:@react-native-firebase_app&#39;\r\nproject(&#39;:@react-native-firebase_app&#39;).projectDir = new File(rootProject.projectDir, &#39;./../node_modules/@react-native-firebase/app/android&#39;)\r\n\r\ninclude &#39;:@react-native-firebase_messaging&#39;\r\nproject(&#39;:@react-native-firebase_messaging&#39;).projectDir = new File(rootProject.projectDir, &#39;./../node_modules/@react-native-firebase/messaging/android&#39;)\r\n```\r\n\r\nMainApplication.java:\r\n```java\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport com.facebook.react.PackageList;\r\nimport com.facebook.react.ReactApplication;\r\nimport com.facebook.react.ReactInstanceManager;\r\nimport com.facebook.react.ReactNativeHost;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.ReactActivity;\r\nimport com.facebook.soloader.SoLoader;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.util.List;\r\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage;\r\nimport io.invertase.firebase.messaging.ReactNativeFirebaseMessagingPackage;\r\n...\r\n@Override\r\n        protected List&lt;ReactPackage&gt; getPackages() {\r\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n          // Packages that cannot be autolinked yet can be added manually here, for example:\r\n          // packages.add(new MyReactNativePackage());\r\n          packages.add(new ReactNativeFirebaseMessagingPackage());\r\n          // return packages;\r\n          return packages;\r\n        }\r\n```\r\n\r\nError/Output:\r\n```bash\r\n245 actionable tasks: 2 executed, 243 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeLibDexDebug&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform classes.jar (project :@react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\r\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\r\n   &gt; Failed to transform classes.jar (project :react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\r\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 7s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeLibDexDebug&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform classes.jar (project :@react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\r\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\r\n   &gt; Failed to transform classes.jar (project :react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\r\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 7s\r\n\r\n    at makeError (C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\execa\\index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:94:5)\r\n    at async Command.handleAction (C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-community\\cli\\build\\index.js:186:9)\r\n```\r\n\r\nAny help is greatly appreciated.","title":"React native issue firebase messaging","body":"<p>I am trying to install the react native firebase messaging module to my project so I can remotely send notifications.</p>\n<p>When I built my app <code>yarn android</code>/<code>react-native build-android</code> I got an error in which I have been trying to fix for the last 3 hours.</p>\n<p>build.gradle:</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\napply plugin: 'com.google.gms.google-services'  // Google Services plugin\n...\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    //noinspection GradleDynamicVersion\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\n\n    implementation platform('com.google.firebase:firebase-bom:28.1.0')\n    implementation 'com.google.firebase:firebase-analytics'\n\n    implementation project(path: &quot;:@react-native-firebase_app&quot;)\n    implementation project(path: &quot;:@react-native-firebase_messaging&quot;)\n\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n      exclude group:'com.facebook.fbjni'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n    }\n\n    if (enableHermes) {\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n</code></pre>\n<p>settings.gradle:</p>\n<pre><code>rootProject.name = 'NerdeeMobile'\napply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\ninclude ':app'\n\ninclude ':@react-native-firebase_app'\nproject(':@react-native-firebase_app').projectDir = new File(rootProject.projectDir, './../node_modules/@react-native-firebase/app/android')\n\ninclude ':@react-native-firebase_messaging'\nproject(':@react-native-firebase_messaging').projectDir = new File(rootProject.projectDir, './../node_modules/@react-native-firebase/messaging/android')\n</code></pre>\n<p>MainApplication.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Application;\nimport android.content.Context;\nimport com.facebook.react.PackageList;\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactInstanceManager;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.ReactActivity;\nimport com.facebook.soloader.SoLoader;\nimport java.lang.reflect.InvocationTargetException;\nimport java.util.List;\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage;\nimport io.invertase.firebase.messaging.ReactNativeFirebaseMessagingPackage;\n...\n@Override\n        protected List&lt;ReactPackage&gt; getPackages() {\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n          // Packages that cannot be autolinked yet can be added manually here, for example:\n          // packages.add(new MyReactNativePackage());\n          packages.add(new ReactNativeFirebaseMessagingPackage());\n          // return packages;\n          return packages;\n        }\n</code></pre>\n<p>Error/Output:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>245 actionable tasks: 2 executed, 243 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeLibDexDebug'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform classes.jar (project :@react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\n   &gt; Failed to transform classes.jar (project :react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 7s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeLibDexDebug'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform classes.jar (project :@react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\n   &gt; Failed to transform classes.jar (project :react-native-firebase_app) to match attributes {artifactType=android-dex, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.api.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-incremental-transform=false, dexing-is-debuggable=true, dexing-min-sdk=21, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar.\n         &gt; Unable to read jar file C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-firebase\\app\\android\\build\\intermediates\\runtime_library_classes_jar\\debug\\classes.jar\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 7s\n\n    at makeError (C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\execa\\index.js:174:9)\n    at C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:94:5)\n    at async Command.handleAction (C:\\xampp\\htdocs\\Projects\\nerdee\\NerdeeMobile\\node_modules\\@react-native-community\\cli\\build\\index.js:186:9)\n</code></pre>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","spring","wiremock","spring-cloud-contract"],"owner":{"account_id":5080418,"reputation":1,"user_id":4076703,"display_name":"Renan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652482124,"creation_date":1652482124,"question_id":72236062,"body_markdown":"Im working in a project using Spring Cloud Contract and Wiremock to create integration tests. Everything was fine until we need to add multiple responses to the same request in Wiremock. Reading some docs, i think Scenarios from Wiremock is the way to go.... but since we are using the &#39;new&#39; `@AutoConfigureWiremock` annotation, i can&#39;t figure out how to work with wiremock scenarios...\r\n\r\nDoesnt matter what i do, wiremock always fallback to the &#39;Started&#39; Scenario everytime. I can&#39;t use my &#39;Expired&#39; Scenario....\r\n\r\n\r\nMy BaseClassCOnfiguration\r\n``` @RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\r\n@AutoConfigureWireMock\r\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.LOCAL)\r\n@Import(value = TestConfigClass.class)\r\n@ContextConfiguration(initializers = {Properties.class})\r\n@AutoConfigureMockMvc(addFilters = true)\r\npublic abstract class SpringCloudContractBase {\r\n```\r\n\r\nMy WireMockClassRule\r\n```\r\n    @ClassRule\r\n    public static WireMockClassRule wiremock =\r\n        new WireMockClassRule(options()\r\n            .dynamicPort()\r\n            .extensions(new ResponseTemplateTransformer(true)));\r\n```\r\n\r\nMy mapping scenarios\r\n``` {\r\n  &quot;mappings&quot;: [\r\n    {\r\n      &quot;priority&quot;: 1,\r\n      &quot;scenarioName&quot;: &quot;att&quot;,\r\n      &quot;requiredScenarioState&quot;: &quot;Started&quot;,\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;urlPath&quot;: &quot;/v1/authtoken/exchange&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;headers&quot;: {\r\n          &quot;Content-Type&quot;: &quot;application/json&quot;\r\n        },\r\n        &quot;status&quot;: 200,\r\n        &quot;bodyFileName&quot;: &quot;{{request.pathSegments.[1]}}/{{request.pathSegments.[2]}}/index.json&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;priority&quot;: 2,\r\n      &quot;scenarioName&quot;: &quot;att&quot;,\r\n      &quot;requiredScenarioState&quot;: &quot;Expired&quot;,\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;urlPath&quot;: &quot;/v1/authtoken/exchange&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 403\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nAnd finally my test\r\n```\r\n@Test\r\n  public void test__stub__return403() {\r\n    // THIS DOES NOT WORK ! Will pick the first scenario under my mappings instead.....\r\n    wiremock.stubFor(get(anyUrl()).inScenario(&quot;att&quot;).whenScenarioStateIs(&quot;Expired&quot;));\r\n    Auth auth = service.exchange(&quot;token&quot;);\r\n  }\r\n```\r\n\r\nHow can i achieve this ?\r\nThank you !","title":"Spring Cloud Contract with Wiremock - how to choose Scenario manually?","body":"<p>Im working in a project using Spring Cloud Contract and Wiremock to create integration tests. Everything was fine until we need to add multiple responses to the same request in Wiremock. Reading some docs, i think Scenarios from Wiremock is the way to go.... but since we are using the 'new' <code>@AutoConfigureWiremock</code> annotation, i can't figure out how to work with wiremock scenarios...</p>\n<p>Doesnt matter what i do, wiremock always fallback to the 'Started' Scenario everytime. I can't use my 'Expired' Scenario....</p>\n<p>My BaseClassCOnfiguration</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\n@AutoConfigureWireMock\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.LOCAL)\n@Import(value = TestConfigClass.class)\n@ContextConfiguration(initializers = {Properties.class})\n@AutoConfigureMockMvc(addFilters = true)\npublic abstract class SpringCloudContractBase {\n</code></pre>\n<p>My WireMockClassRule</p>\n<pre><code>    @ClassRule\n    public static WireMockClassRule wiremock =\n        new WireMockClassRule(options()\n            .dynamicPort()\n            .extensions(new ResponseTemplateTransformer(true)));\n</code></pre>\n<p>My mapping scenarios</p>\n<pre><code>  &quot;mappings&quot;: [\n    {\n      &quot;priority&quot;: 1,\n      &quot;scenarioName&quot;: &quot;att&quot;,\n      &quot;requiredScenarioState&quot;: &quot;Started&quot;,\n      &quot;request&quot;: {\n        &quot;method&quot;: &quot;GET&quot;,\n        &quot;urlPath&quot;: &quot;/v1/authtoken/exchange&quot;\n      },\n      &quot;response&quot;: {\n        &quot;headers&quot;: {\n          &quot;Content-Type&quot;: &quot;application/json&quot;\n        },\n        &quot;status&quot;: 200,\n        &quot;bodyFileName&quot;: &quot;{{request.pathSegments.[1]}}/{{request.pathSegments.[2]}}/index.json&quot;\n      }\n    },\n    {\n      &quot;priority&quot;: 2,\n      &quot;scenarioName&quot;: &quot;att&quot;,\n      &quot;requiredScenarioState&quot;: &quot;Expired&quot;,\n      &quot;request&quot;: {\n        &quot;method&quot;: &quot;GET&quot;,\n        &quot;urlPath&quot;: &quot;/v1/authtoken/exchange&quot;\n      },\n      &quot;response&quot;: {\n        &quot;status&quot;: 403\n      }\n    }\n  ]\n}\n</code></pre>\n<p>And finally my test</p>\n<pre><code>@Test\n  public void test__stub__return403() {\n    // THIS DOES NOT WORK ! Will pick the first scenario under my mappings instead.....\n    wiremock.stubFor(get(anyUrl()).inScenario(&quot;att&quot;).whenScenarioStateIs(&quot;Expired&quot;));\n    Auth auth = service.exchange(&quot;token&quot;);\n  }\n</code></pre>\n<p>How can i achieve this ?\nThank you !</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"owner":{"account_id":2730377,"reputation":1843,"user_id":2354302,"accept_rate":65,"display_name":"user2354302"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1652481363,"creation_date":1644333750,"question_id":71036400,"body_markdown":" 1. **Spring cache + Spring redis**: Spring provides a caching abstraction package `spring-boot-starter-cache` which basically provides method level annotations to cache data with `@Cacheable`, `@Cacheput` and other annotations. I feel there are limitations to this: Caching a collection of POJO against a  property (for example: `Person.getId()` as the key from `List&lt;Person&gt;` as a return type). And the other limitation is searching. How do I query and search data in the cache provider? \r\n\r\n 2. **Spring redis**: Then there is `spring-boot-starter-data-redis` which basically contains: `spring-data-redis` and `lettuce`. Just using this package without a combination of Spring&#39;s Cache means that there has to be some kind of IoC introduced to switch between Database communication and Cache provider. But ofc, directly using redis has advantages in the sense of having better control is storage/retrieval/search/evict. \r\n\r\nWhich one to choose? \r\n\r\nIf #1 is chosen, how to gain more control over the caching mechanism (inserting collection/search)? \r\n\r\nIf #2 is chosen, should the IoC be provided on the service layer like: `API -&gt; DB-Service/Cache-Service -&gt; Repo`. Or a new layer, like: `API -&gt; Optional-Cache-Service -&gt; DB-Service -&gt; Repo`","title":"Spring cache and Spring data redis","body":"<ol>\n<li><p><strong>Spring cache + Spring redis</strong>: Spring provides a caching abstraction package <code>spring-boot-starter-cache</code> which basically provides method level annotations to cache data with <code>@Cacheable</code>, <code>@Cacheput</code> and other annotations. I feel there are limitations to this: Caching a collection of POJO against a  property (for example: <code>Person.getId()</code> as the key from <code>List&lt;Person&gt;</code> as a return type). And the other limitation is searching. How do I query and search data in the cache provider?</p>\n</li>\n<li><p><strong>Spring redis</strong>: Then there is <code>spring-boot-starter-data-redis</code> which basically contains: <code>spring-data-redis</code> and <code>lettuce</code>. Just using this package without a combination of Spring's Cache means that there has to be some kind of IoC introduced to switch between Database communication and Cache provider. But ofc, directly using redis has advantages in the sense of having better control is storage/retrieval/search/evict.</p>\n</li>\n</ol>\n<p>Which one to choose?</p>\n<p>If #1 is chosen, how to gain more control over the caching mechanism (inserting collection/search)?</p>\n<p>If #2 is chosen, should the IoC be provided on the service layer like: <code>API -&gt; DB-Service/Cache-Service -&gt; Repo</code>. Or a new layer, like: <code>API -&gt; Optional-Cache-Service -&gt; DB-Service -&gt; Repo</code></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652480813,"post_id":72235867,"comment_id":127625067,"body_markdown":"All I see when I run the code is a completely black panel. Note, you can&#39;t make the panel and the frame the same size. The frame contains the titlebar and borders. So the proper way to do custom painting is to override the get preferred size of DrawPane to return your desired size. Then when you create the frame you add your DrawPane to the frame and then invoke pack() on the frame before making it visible. Now all components can be sized correctly.","body":"All I see when I run the code is a completely black panel. Note, you can&#39;t make the panel and the frame the same size. The frame contains the titlebar and borders. So the proper way to do custom painting is to override the get preferred size of DrawPane to return your desired size. Then when you create the frame you add your DrawPane to the frame and then invoke pack() on the frame before making it visible. Now all components can be sized correctly."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652480835,"post_id":72235867,"comment_id":127625073,"body_markdown":"unable to reproduce the problem... are you eventually using Windows, and scaled display? (Settings - System - Display - Scale and Layout)","body":"unable to reproduce the problem... are you eventually using Windows, and scaled display? (Settings - System - Display - Scale and Layout)"},{"owner":{"account_id":24523221,"reputation":1,"user_id":18435972,"display_name":"InboardApollo20"},"score":0,"creation_date":1652481072,"post_id":72235867,"comment_id":127625104,"body_markdown":"I am using windows to run the program, though I&#39;m not sure if the display is considered scaleable. If you mean that the window can be expanded or contracted, then it can, however it does not impact the grid. I am using Eclipse as an IDE, if that could affect things.","body":"I am using windows to run the program, though I&#39;m not sure if the display is considered scaleable. If you mean that the window can be expanded or contracted, then it can, however it does not impact the grid. I am using Eclipse as an IDE, if that could affect things."},{"owner":{"account_id":24523221,"reputation":1,"user_id":18435972,"display_name":"InboardApollo20"},"score":0,"creation_date":1652481150,"post_id":72235867,"comment_id":127625115,"body_markdown":"I retract that, it seems I was scaled in by 125% and that changing to 100% has removed the problem.","body":"I retract that, it seems I was scaled in by 125% and that changing to 100% has removed the problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652481186,"post_id":72235867,"comment_id":127625120,"body_markdown":"It means you have a high resolution screen and your screen display is likely set to 125% or 150%. You can remove the scaling for your application (instead of changing it for all applications on your desktop). Check out: https://stackoverflow.com/questions/65742162/how-to-fix-the-blurry-image-when-i-run-my-java-swing-project/65742492#65742492. Or, you might try using fillRect(...) instead of drawRect(...). Can&#39;t remember if this will fix the scaling.","body":"It means you have a high resolution screen and your screen display is likely set to 125% or 150%. You can remove the scaling for your application (instead of changing it for all applications on your desktop). Check out: <a href=\"https://stackoverflow.com/questions/65742162/how-to-fix-the-blurry-image-when-i-run-my-java-swing-project/65742492#65742492\" title=\"how to fix the blurry image when i run my java swing project\">stackoverflow.com/questions/65742162/&hellip;</a>. Or, you might try using fillRect(...) instead of drawRect(...). Can&#39;t remember if this will fix the scaling."}],"owner":{"account_id":24523221,"reputation":1,"user_id":18435972,"display_name":"InboardApollo20"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652481269,"creation_date":1652480039,"question_id":72235867,"body_markdown":"A program I am writing, upon running, generates a mandelbrot set mostly correct, however it additionally generates a grid of blank space. I have not found a solution that does not sacrifice image quality.\r\n\r\nTwo nested loops is used to loop through every pixel on the JPanel, and run functionParser.Parse(...) recursively to calculate whether a given pixel is a part of the Mandelbrot set. Since the grid is generated without respect to the size of the window while the set is generated, I do not believe there is a problem with the parser, rather that there is either a problem with the Graphics class or with the loop.\r\n\r\nA simplified example is below, which is intended to fill the window black, but exhibits the same grid behavior.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    import Fractal.FractalPanel.DrawPane;\r\n    \r\n    public class Dysfunctional extends JFrame{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tint r;\r\n    \tJFrame frame;\r\n    \tDrawPane d;\r\n    \tpublic Dysfunctional() {\r\n    \t\tsetSize(200,200);\r\n    \t\tthis.setVisible(true);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\td=new DrawPane();\r\n    \t\tsetContentPane(d);\r\n    \t}\r\n    \tclass DrawPane extends JPanel{\r\n    \t\tint dimenX;\r\n    \t\tint dimenY;\r\n    \t\tpublic DrawPane() {\r\n    \t\t\tthis.setVisible(true);\r\n    \t\t\tSystem.out.println(&quot;Pane generated&quot;);\r\n    \t\t\tDimension dim = getSize();\r\n    \t\t\tdimenX=(int)dim.getWidth();\r\n    \t\t\tdimenY=(int)dim.getHeight();\r\n    \t\t\tSystem.out.println(&quot;Painting...&quot;);\r\n    \t\t}\r\n    \t\tpublic void paintComponent(Graphics g) {\r\n    \t\t\tSystem.out.println(&quot;Generating...&quot;);\r\n    \t\t\tDimension dim = getSize();\r\n    \t\t\tdimenX=(int)dim.getWidth();\r\n    \t\t\tdimenY=(int)dim.getHeight();\r\n    \t\t\tfor(int xVal=0;xVal&lt;dimenX;xVal++) {\r\n    \t\t\t\tfor(int yVal=0;yVal&lt;dimenY;yVal++) {\r\n    \t\t\t\t\tif(true) {\r\n    \t\t\t\t\t\tg.drawRect(xVal,yVal,0,0);\r\n    \t\t\t\t\t\t//System.out.println(&quot;drawing&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Dysfunctional();\r\n    \t}\r\n    }\r\n[Output of contracted code, with unintended grid][1]\r\n\r\n\r\n[Output of full code, Mandelbrot set with grid][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CKPpM.png\r\n  [2]: https://i.stack.imgur.com/BQMjQ.png","title":"Swing library creating unwanted grid when trying to use for loops to run function on every pixel","body":"<p>A program I am writing, upon running, generates a mandelbrot set mostly correct, however it additionally generates a grid of blank space. I have not found a solution that does not sacrifice image quality.</p>\n<p>Two nested loops is used to loop through every pixel on the JPanel, and run functionParser.Parse(...) recursively to calculate whether a given pixel is a part of the Mandelbrot set. Since the grid is generated without respect to the size of the window while the set is generated, I do not believe there is a problem with the parser, rather that there is either a problem with the Graphics class or with the loop.</p>\n<p>A simplified example is below, which is intended to fill the window black, but exhibits the same grid behavior.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport Fractal.FractalPanel.DrawPane;\n\npublic class Dysfunctional extends JFrame{\n    private static final long serialVersionUID = 1L;\n    int r;\n    JFrame frame;\n    DrawPane d;\n    public Dysfunctional() {\n        setSize(200,200);\n        this.setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        d=new DrawPane();\n        setContentPane(d);\n    }\n    class DrawPane extends JPanel{\n        int dimenX;\n        int dimenY;\n        public DrawPane() {\n            this.setVisible(true);\n            System.out.println(&quot;Pane generated&quot;);\n            Dimension dim = getSize();\n            dimenX=(int)dim.getWidth();\n            dimenY=(int)dim.getHeight();\n            System.out.println(&quot;Painting...&quot;);\n        }\n        public void paintComponent(Graphics g) {\n            System.out.println(&quot;Generating...&quot;);\n            Dimension dim = getSize();\n            dimenX=(int)dim.getWidth();\n            dimenY=(int)dim.getHeight();\n            for(int xVal=0;xVal&lt;dimenX;xVal++) {\n                for(int yVal=0;yVal&lt;dimenY;yVal++) {\n                    if(true) {\n                        g.drawRect(xVal,yVal,0,0);\n                        //System.out.println(&quot;drawing&quot;);\n                    }\n                }\n            }\n            System.out.println(&quot;Done!&quot;);\n            \n        }\n    }\n    public static void main(String[] args) {\n        new Dysfunctional();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CKPpM.png\" rel=\"nofollow noreferrer\">Output of contracted code, with unintended grid</a></p>\n<p><a href=\"https://i.stack.imgur.com/BQMjQ.png\" rel=\"nofollow noreferrer\">Output of full code, Mandelbrot set with grid</a></p>\n"},{"tags":["java","sorting","spring-boot"],"comments":[{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1483635188,"post_id":41490340,"comment_id":70186461,"body_markdown":"Maybe you will need to use the Predicate object to customize your search","body":"Maybe you will need to use the Predicate object to customize your search"},{"owner":{"account_id":4932,"reputation":874,"user_id":7659,"accept_rate":78,"display_name":"Aaron"},"score":0,"creation_date":1483635229,"post_id":41490340,"comment_id":70186495,"body_markdown":"You should update your post with the code that generates your sort parameters.","body":"You should update your post with the code that generates your sort parameters."},{"owner":{"account_id":9817460,"reputation":23,"user_id":7273506,"display_name":"Andrew Ip"},"score":0,"creation_date":1483647078,"post_id":41490340,"comment_id":70193672,"body_markdown":"@Aaron I&#39;ve added a snippet of code. But the sort parameters are automatically populated via Pageable from a REST call.","body":"@Aaron I&#39;ve added a snippet of code. But the sort parameters are automatically populated via Pageable from a REST call."},{"owner":{"account_id":6228139,"reputation":2854,"user_id":4845750,"accept_rate":100,"display_name":"Martin"},"score":0,"creation_date":1484235174,"post_id":41490340,"comment_id":70435407,"body_markdown":"I have the same issue so I took the liberty to comment on http://stackoverflow.com/questions/30059312","body":"I have the same issue so I took the liberty to comment on <a href=\"http://stackoverflow.com/questions/30059312\">stackoverflow.com/questions/30059312</a>"},{"owner":{"account_id":9817460,"reputation":23,"user_id":7273506,"display_name":"Andrew Ip"},"score":0,"creation_date":1484337578,"post_id":41490340,"comment_id":70484876,"body_markdown":"@Martin Alright, thanks. I&#39;ll follow that thread as well.","body":"@Martin Alright, thanks. I&#39;ll follow that thread as well."}],"answers":[{"tags":[],"owner":{"account_id":122719,"reputation":170,"user_id":316705,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1484393072,"creation_date":1484393072,"answer_id":41649416,"question_id":41490340,"body_markdown":"The answer is (sadly) that you have to handle it yourself with a resolver - at least until https://jira.spring.io/browse/DATACMNS-658 has been resolved, as per the answer to the post https://stackoverflow.com/questions/30059312.\r\n\r\nIt&#39;s relatively straightforward to get your own `ArgumentResolver` to be called, parse the URL and update the Sort object.  The challenge for me was to make sure that my paging control always used the correct URL, and I had to do quite a lot of URL manipulation that I didn&#39;t think I should have to - though I am a novice at Spring so possibly I didn&#39;t do it too well.\r\n\r\nI am happy to provide my implementation to give you a headstart, but don&#39;t have anywhere I can upload the files that would stay there for any length of time.  I&#39;d hate to put a link here (e.g. to a dropbox) that would not be there in 12 months time when someone reads this post again.\r\n\r\nHappy to provide by PM and for someone else to post them publicly if they have the means.","title":"How to set IgnoreCase on sort parameters from an http request in Spring Boot 1.4","body":"<p>The answer is (sadly) that you have to handle it yourself with a resolver - at least until <a href=\"https://jira.spring.io/browse/DATACMNS-658\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATACMNS-658</a> has been resolved, as per the answer to the post <a href=\"https://stackoverflow.com/questions/30059312\">Spring MVC: how to get case-insensitive ordering from Pageable</a>.</p>\n\n<p>It's relatively straightforward to get your own <code>ArgumentResolver</code> to be called, parse the URL and update the Sort object.  The challenge for me was to make sure that my paging control always used the correct URL, and I had to do quite a lot of URL manipulation that I didn't think I should have to - though I am a novice at Spring so possibly I didn't do it too well.</p>\n\n<p>I am happy to provide my implementation to give you a headstart, but don't have anywhere I can upload the files that would stay there for any length of time.  I'd hate to put a link here (e.g. to a dropbox) that would not be there in 12 months time when someone reads this post again.</p>\n\n<p>Happy to provide by PM and for someone else to post them publicly if they have the means.</p>\n"},{"tags":[],"owner":{"account_id":9149082,"reputation":105,"user_id":6804245,"display_name":"Khalid Ibrahim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652481247,"creation_date":1652481247,"answer_id":72235982,"question_id":41490340,"body_markdown":"In case someone is still looking for an answer, you can now send the parameters as follows:\r\n\r\n    ?sort=FIELD,(asc|desc),ignorecase\r\n\r\nRef: https://github.com/spring-projects/spring-data-commons/commit/54d9f016198198e268b5fe3647985b0a2d7b5dca","title":"How to set IgnoreCase on sort parameters from an http request in Spring Boot 1.4","body":"<p>In case someone is still looking for an answer, you can now send the parameters as follows:</p>\n<pre><code>?sort=FIELD,(asc|desc),ignorecase\n</code></pre>\n<p>Ref: <a href=\"https://github.com/spring-projects/spring-data-commons/commit/54d9f016198198e268b5fe3647985b0a2d7b5dca\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/commit/54d9f016198198e268b5fe3647985b0a2d7b5dca</a></p>\n"}],"owner":{"account_id":9817460,"reputation":23,"user_id":7273506,"display_name":"Andrew Ip"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41649416,"answer_count":2,"score":2,"last_activity_date":1652481247,"creation_date":1483634818,"question_id":41490340,"body_markdown":"I have a Spring Boot backend running and accepting HTTP requests.\r\n\r\nExample: http://www.myserver.com/devices/\r\n\r\nI&#39;m using Pageable to handle the requests and automatic Pagination and Sorting, so I&#39;m able to use requests like: http://www.myserver.com/devices?sort=name,desc\r\n\r\nThere is an issue however, that the sort if case sensitive, and thus the desired sorting result (case insensitive sorting) is not obtained.\r\n\r\nI know Pageable Sort accepts two arguments for the sort attribute i.e. sort=name,desc but when inspecting the debugger I can see that the pageable&#39;s sort orders objects contain an ignoreCase attribute. \r\n\r\nHere is a snippet of code for the method that&#39;s being called via REST:\r\n\r\n\r\n    public class DeviceController {\r\n    \r\n        @Autowired\r\n        DeviceViewRepository deviceViewRepository;\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public Page&lt;DeviceView&gt; getAllDevices(@PageableDefault(page = 0, size = 10, sort= &quot;id&quot;) Pageable pageable) {\r\n            try {\r\n                return deviceViewRepository.findAll(pageable);\r\n            } catch (Exception e){\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\nIs there any way to set that automatically/manually via the request url, PageableDefault, or any other method?\r\n\r\nPlease keep in mind that the sort parameters are dynamic and the method in question is using the findAll() method of the Spring Data Repository.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nI&#39;ve found a similar issue here: https://stackoverflow.com/questions/30059312/spring-mvc-how-to-get-case-insensitive-ordering-from-pageable\r\n\r\nThis is essentially what I&#39;m aiming for. I cannot comment there to ask how it was done or for tips, so if anyone knows how to implement that solution, I&#39;d really appreciate a nudge in the right direction.\r\n\r\n","title":"How to set IgnoreCase on sort parameters from an http request in Spring Boot 1.4","body":"<p>I have a Spring Boot backend running and accepting HTTP requests.</p>\n\n<p>Example: <a href=\"http://www.myserver.com/devices/\" rel=\"nofollow noreferrer\">http://www.myserver.com/devices/</a></p>\n\n<p>I'm using Pageable to handle the requests and automatic Pagination and Sorting, so I'm able to use requests like: <a href=\"http://www.myserver.com/devices?sort=name,desc\" rel=\"nofollow noreferrer\">http://www.myserver.com/devices?sort=name,desc</a></p>\n\n<p>There is an issue however, that the sort if case sensitive, and thus the desired sorting result (case insensitive sorting) is not obtained.</p>\n\n<p>I know Pageable Sort accepts two arguments for the sort attribute i.e. sort=name,desc but when inspecting the debugger I can see that the pageable's sort orders objects contain an ignoreCase attribute. </p>\n\n<p>Here is a snippet of code for the method that's being called via REST:</p>\n\n<pre><code>public class DeviceController {\n\n    @Autowired\n    DeviceViewRepository deviceViewRepository;\n\n    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Page&lt;DeviceView&gt; getAllDevices(@PageableDefault(page = 0, size = 10, sort= \"id\") Pageable pageable) {\n        try {\n            return deviceViewRepository.findAll(pageable);\n        } catch (Exception e){\n            throw e;\n        }\n    }\n}\n</code></pre>\n\n<p>Is there any way to set that automatically/manually via the request url, PageableDefault, or any other method?</p>\n\n<p>Please keep in mind that the sort parameters are dynamic and the method in question is using the findAll() method of the Spring Data Repository.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I've found a similar issue here: <a href=\"https://stackoverflow.com/questions/30059312/spring-mvc-how-to-get-case-insensitive-ordering-from-pageable\">Spring MVC: how to get case-insensitive ordering from Pageable</a></p>\n\n<p>This is essentially what I'm aiming for. I cannot comment there to ask how it was done or for tips, so if anyone knows how to implement that solution, I'd really appreciate a nudge in the right direction.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14104763,"reputation":21,"user_id":10189145,"display_name":"Metehan"},"score":0,"creation_date":1652569367,"post_id":72235891,"comment_id":127638424,"body_markdown":"Thanks for @DanielKnauf &#39;s suggestion. Problem pushed me to change listview to recyclerview and i learned lots of thing. But the problem is not because of listview. It is because of i forgot to put notifyDataSetChanged(); after doing change","body":"Thanks for @DanielKnauf &#39;s suggestion. Problem pushed me to change listview to recyclerview and i learned lots of thing. But the problem is not because of listview. It is because of i forgot to put notifyDataSetChanged(); after doing change"}],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652480853,"creation_date":1652480853,"answer_id":72235939,"question_id":72235891,"body_markdown":"Hej Metehan,\r\n\r\nyour use case sounds perfect for a [RecyclerView][1] with a [ListAdapter][2]. You just submit a new list of products to the adapter and it will handle the updating and notifying for you. \r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/layout/recyclerview\r\n  [2]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter","title":"How to update listview in Fragment with custom adapter","body":"<p>Hej Metehan,</p>\n<p>your use case sounds perfect for a <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">RecyclerView</a> with a <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\" rel=\"nofollow noreferrer\">ListAdapter</a>. You just submit a new list of products to the adapter and it will handle the updating and notifying for you.</p>\n"}],"owner":{"account_id":14104763,"reputation":21,"user_id":10189145,"display_name":"Metehan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652480853,"creation_date":1652480373,"question_id":72235891,"body_markdown":"I am giving product id with barcode scanner. I can add product to listView but when i try to increase or decrease amount of the product. It doesn&#39;t update UI. I used Toast message to see weather list is updated, it updates list but doesn&#39;t update UI\r\n\r\nI have tried to use runOnUiThread() but i couldn&#39;t find any solution. How to update UI can you please help me\r\n\r\n[custom_lisView_row][1]\r\n\r\n\r\nBaseActivity which keeps MainFragment on it\r\n```\r\npublic class BaseActivity extends AppCompatActivity {\r\n\r\n    public static final String MAIN_FRAGMENT = &quot;mainFragment&quot;;\r\n    public static final String PRODUCTS = &quot;products&quot;;\r\n\r\n    FragmentManager fragmentManager;\r\n\r\n    Dialog dialog ;\r\n\r\n    public static ArrayList&lt;MyProduct&gt;  myProductList = new ArrayList&lt;&gt;();\r\n    public static MyTablet myTablet = new MyTablet();\r\n\r\n    Activity mActivity;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_base);\r\n\r\n        //Initialize fragment manager\r\n        fragmentManager = getSupportFragmentManager();\r\n  \r\n        fragmentManager.beginTransaction().replace(R.id.fl_BaseActivity, new MainFragment()).commit();\r\n\r\n        //Create database\r\n        mDatabase = FirebaseDatabase.getInstance().getReference();\r\n\r\n        dialog = new Dialog(this);\r\n\r\n        //Runs when i enter product id\r\n        initScanner();\r\n    }\r\n\r\n    public void updateMyProductList(MyProduct myProduct){\r\n\r\n        for(int i= 0 ; i&lt; myProductList.size() ; i++ ){\r\n\r\n            MyProduct temp = myProductList.get(i);\r\n\r\n            if (temp.getId().equals(myProduct.getId())) {\r\n                temp.setAmount(temp.getAmount() + myProduct.getAmount());\r\n                myProductList.set(i, temp);\r\n                return;\r\n            }\r\n        }\r\n        myProductList.add(myProduct);\r\n        updateMainFragment();\r\n    }\r\n\r\n    private void initScanner() {\r\n      \r\n      mDatabase.child(PRODUCTS).child(finalData).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n          @Override\r\n          public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\r\n              MyProduct myProduct = task.getResult().getValue(MyProduct.class);\r\n              myProduct.setAmount(1);\r\n              dialog.setContentView(R.layout.custom_product_dialog);\r\n              dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n              dialog.setCancelable(false);\r\n\r\n              \r\n              TextView tv_addBasket_product_dialog = dialog.findViewById(R.id.tv_addBasket_product_dialog);\r\n            \r\n\r\n              tv_addBasket_product_dialog.setOnClickListener(new View.OnClickListener() {\r\n                  @Override\r\n                  public void onClick(View view) {\r\n                      updateMyProductList(myProduct);\r\n                      dialog.dismiss();\r\n                  }\r\n              });\r\n\r\n              dialog.show();\r\n          }\r\n      };\r\n    }\r\n    public void updateMainFragment() {\r\n        if (isExist(MAIN_FRAGMENT)) {\r\n            Fragment fragment = findFragment(MAIN_FRAGMENT);\r\n\r\n            ((MainFragment) fragment).updateMyList();\r\n        }\r\n\r\n    }\r\n\r\n    //Add fragments to BaseActivity\r\n    public void addFragments(Fragment fragment, String tag) {\r\n\r\n        fragmentManager.beginTransaction().add(R.id.fl_BaseActivity, fragment, tag).commit();\r\n    }\r\n    //Replace fragments to BaseActivity\r\n    public void replaceFragments(Fragment fragment, String tag) {\r\n\r\n        fragmentManager.beginTransaction().replace(R.id.fl_BaseActivity, fragment, tag).commit();\r\n    }\r\n\r\n    //Remove fragment from BaseActivity\r\n    public void removeFragment(String tag) {\r\n\r\n        Fragment fragmentB = fragmentManager.findFragmentByTag(tag);\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        if (fragmentB != null) {\r\n            fragmentTransaction.remove(fragmentB);\r\n            fragmentTransaction.commit();\r\n        }\r\n    }\r\n\r\n    // finds fragment and returns it\r\n    // It may return null first check fragment is exist. use isExist() method\r\n    public Fragment findFragment(String tag) {\r\n        Fragment fragment = fragmentManager.findFragmentByTag(tag);\r\n        return fragment;\r\n    }\r\n\r\n    //Check fragment exist in BaseActivity\r\n    public boolean isExist(String tag) {\r\n        Fragment fragmentB = fragmentManager.findFragmentByTag(tag);\r\n        if (fragmentB != null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nMainFragment\r\n```\r\npublic class MainFragment extends Fragment {\r\n    \r\n    ListView lv_MainFragment;\r\n\r\n    public MyProductListAdapter myListAdapter;\r\n    public static ArrayList&lt;MyProduct&gt;  myProductList;\r\n\r\n    Activity mActivity;\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n\r\n        mActivity = getActivity();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        myProductList = BaseActivity.myProductList;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_main, container, false);\r\n\r\n        lv_MainFragment = view.findViewById(R.id.lv_MainFragment);\r\n\r\n        myListAdapter = new MyProductListAdapter(mActivity.getApplicationContext(), R.layout.custom_product_list_row, myProductList);\r\n        lv_MainFragment.setAdapter(myListAdapter);\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    public void updateMyList() {\r\n\r\n        myProductList = BaseActivity.myProductList;\r\n        myListAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMyProductListAdapter\r\n```\r\npublic class MyProductListAdapter extends ArrayAdapter&lt;MyProduct&gt; {\r\n\r\n\r\n    private Context mContext;\r\n    private ArrayList&lt;MyProduct&gt; list;\r\n\r\n  \r\n    AppCompatButton acb_DecreaseAmount_productListRow, acb_IncreaseAmount_productListRow;\r\n\r\n\r\n    public MyProductListAdapter(Context context, int resource, ArrayList&lt;MyProduct&gt; objects) {\r\n        super(context, resource, objects);\r\n\r\n        this.mContext = context;\r\n        this.list = objects;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        View view = convertView;\r\n\r\n        if (view == null) {\r\n\r\n            LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            view = inflater.inflate(R.layout.custom_product_list_row, parent, false);\r\n\r\n        \r\n            tv_ProductAmount_productListRow = view.findViewById(R.id.tv_ProductAmount_productListRow);\r\n        \r\n            acb_DecreaseAmount_productListRow = view.findViewById(R.id.acb_DecreaseAmount_productListRow);\r\n            acb_IncreaseAmount_productListRow = view.findViewById(R.id.acb_IncreaseAmount_productListRow);\r\n\r\n            tv_ProductAmount_productListRow.setText(String.valueOf(list.get(position).getAmount()));\r\n\r\n            acb_IncreaseAmount_productListRow.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    double productPrice = list.get(position).getPrice();\r\n                    int productAmount = list.get(position).getAmount();\r\n                    productAmount++;\r\n\r\n                    list.get(position).setAmount(productAmount);\r\n\r\n                    Toast.makeText(mContext, String.valueOf(productAmount), Toast.LENGTH_SHORT).show();\r\n\r\n                    tv_ProductAmount_productListRow.setText(String.valueOf(list.get(position).getAmount()));\r\n                }\r\n            });\r\n\r\n            acb_DecreaseAmount_productListRow.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    int productAmount = list.get(position).getAmount();\r\n\r\n                    if (productAmount &gt; 1) {\r\n                        double productPrice = list.get(position).getPrice();\r\n\r\n                        productAmount--;\r\n\r\n                        list.get(position).setAmount(productAmount);\r\n\r\n                        Toast.makeText(mContext, String.valueOf(productAmount), Toast.LENGTH_SHORT).show();\r\n\r\n                        tv_ProductAmount_productListRow.setText(String.valueOf(list.get(position).getAmount()));      \r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kqKas.png","title":"How to update listview in Fragment with custom adapter","body":"<p>I am giving product id with barcode scanner. I can add product to listView but when i try to increase or decrease amount of the product. It doesn't update UI. I used Toast message to see weather list is updated, it updates list but doesn't update UI</p>\n<p>I have tried to use runOnUiThread() but i couldn't find any solution. How to update UI can you please help me</p>\n<p><a href=\"https://i.stack.imgur.com/kqKas.png\" rel=\"nofollow noreferrer\">custom_lisView_row</a></p>\n<p>BaseActivity which keeps MainFragment on it</p>\n<pre><code>public class BaseActivity extends AppCompatActivity {\n\n    public static final String MAIN_FRAGMENT = &quot;mainFragment&quot;;\n    public static final String PRODUCTS = &quot;products&quot;;\n\n    FragmentManager fragmentManager;\n\n    Dialog dialog ;\n\n    public static ArrayList&lt;MyProduct&gt;  myProductList = new ArrayList&lt;&gt;();\n    public static MyTablet myTablet = new MyTablet();\n\n    Activity mActivity;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_base);\n\n        //Initialize fragment manager\n        fragmentManager = getSupportFragmentManager();\n  \n        fragmentManager.beginTransaction().replace(R.id.fl_BaseActivity, new MainFragment()).commit();\n\n        //Create database\n        mDatabase = FirebaseDatabase.getInstance().getReference();\n\n        dialog = new Dialog(this);\n\n        //Runs when i enter product id\n        initScanner();\n    }\n\n    public void updateMyProductList(MyProduct myProduct){\n\n        for(int i= 0 ; i&lt; myProductList.size() ; i++ ){\n\n            MyProduct temp = myProductList.get(i);\n\n            if (temp.getId().equals(myProduct.getId())) {\n                temp.setAmount(temp.getAmount() + myProduct.getAmount());\n                myProductList.set(i, temp);\n                return;\n            }\n        }\n        myProductList.add(myProduct);\n        updateMainFragment();\n    }\n\n    private void initScanner() {\n      \n      mDatabase.child(PRODUCTS).child(finalData).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n          @Override\n          public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n\n              MyProduct myProduct = task.getResult().getValue(MyProduct.class);\n              myProduct.setAmount(1);\n              dialog.setContentView(R.layout.custom_product_dialog);\n              dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n              dialog.setCancelable(false);\n\n              \n              TextView tv_addBasket_product_dialog = dialog.findViewById(R.id.tv_addBasket_product_dialog);\n            \n\n              tv_addBasket_product_dialog.setOnClickListener(new View.OnClickListener() {\n                  @Override\n                  public void onClick(View view) {\n                      updateMyProductList(myProduct);\n                      dialog.dismiss();\n                  }\n              });\n\n              dialog.show();\n          }\n      };\n    }\n    public void updateMainFragment() {\n        if (isExist(MAIN_FRAGMENT)) {\n            Fragment fragment = findFragment(MAIN_FRAGMENT);\n\n            ((MainFragment) fragment).updateMyList();\n        }\n\n    }\n\n    //Add fragments to BaseActivity\n    public void addFragments(Fragment fragment, String tag) {\n\n        fragmentManager.beginTransaction().add(R.id.fl_BaseActivity, fragment, tag).commit();\n    }\n    //Replace fragments to BaseActivity\n    public void replaceFragments(Fragment fragment, String tag) {\n\n        fragmentManager.beginTransaction().replace(R.id.fl_BaseActivity, fragment, tag).commit();\n    }\n\n    //Remove fragment from BaseActivity\n    public void removeFragment(String tag) {\n\n        Fragment fragmentB = fragmentManager.findFragmentByTag(tag);\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        if (fragmentB != null) {\n            fragmentTransaction.remove(fragmentB);\n            fragmentTransaction.commit();\n        }\n    }\n\n    // finds fragment and returns it\n    // It may return null first check fragment is exist. use isExist() method\n    public Fragment findFragment(String tag) {\n        Fragment fragment = fragmentManager.findFragmentByTag(tag);\n        return fragment;\n    }\n\n    //Check fragment exist in BaseActivity\n    public boolean isExist(String tag) {\n        Fragment fragmentB = fragmentManager.findFragmentByTag(tag);\n        if (fragmentB != null) {\n            return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>MainFragment</p>\n<pre><code>public class MainFragment extends Fragment {\n    \n    ListView lv_MainFragment;\n\n    public MyProductListAdapter myListAdapter;\n    public static ArrayList&lt;MyProduct&gt;  myProductList;\n\n    Activity mActivity;\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n\n        mActivity = getActivity();\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        myProductList = BaseActivity.myProductList;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_main, container, false);\n\n        lv_MainFragment = view.findViewById(R.id.lv_MainFragment);\n\n        myListAdapter = new MyProductListAdapter(mActivity.getApplicationContext(), R.layout.custom_product_list_row, myProductList);\n        lv_MainFragment.setAdapter(myListAdapter);\n\n\n        return view;\n    }\n\n    public void updateMyList() {\n\n        myProductList = BaseActivity.myProductList;\n        myListAdapter.notifyDataSetChanged();\n\n    }\n\n}\n\n</code></pre>\n<p>MyProductListAdapter</p>\n<pre><code>public class MyProductListAdapter extends ArrayAdapter&lt;MyProduct&gt; {\n\n\n    private Context mContext;\n    private ArrayList&lt;MyProduct&gt; list;\n\n  \n    AppCompatButton acb_DecreaseAmount_productListRow, acb_IncreaseAmount_productListRow;\n\n\n    public MyProductListAdapter(Context context, int resource, ArrayList&lt;MyProduct&gt; objects) {\n        super(context, resource, objects);\n\n        this.mContext = context;\n        this.list = objects;\n    }\n\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        View view = convertView;\n\n        if (view == null) {\n\n            LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            view = inflater.inflate(R.layout.custom_product_list_row, parent, false);\n\n        \n            tv_ProductAmount_productListRow = view.findViewById(R.id.tv_ProductAmount_productListRow);\n        \n            acb_DecreaseAmount_productListRow = view.findViewById(R.id.acb_DecreaseAmount_productListRow);\n            acb_IncreaseAmount_productListRow = view.findViewById(R.id.acb_IncreaseAmount_productListRow);\n\n            tv_ProductAmount_productListRow.setText(String.valueOf(list.get(position).getAmount()));\n\n            acb_IncreaseAmount_productListRow.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    double productPrice = list.get(position).getPrice();\n                    int productAmount = list.get(position).getAmount();\n                    productAmount++;\n\n                    list.get(position).setAmount(productAmount);\n\n                    Toast.makeText(mContext, String.valueOf(productAmount), Toast.LENGTH_SHORT).show();\n\n                    tv_ProductAmount_productListRow.setText(String.valueOf(list.get(position).getAmount()));\n                }\n            });\n\n            acb_DecreaseAmount_productListRow.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    int productAmount = list.get(position).getAmount();\n\n                    if (productAmount &gt; 1) {\n                        double productPrice = list.get(position).getPrice();\n\n                        productAmount--;\n\n                        list.get(position).setAmount(productAmount);\n\n                        Toast.makeText(mContext, String.valueOf(productAmount), Toast.LENGTH_SHORT).show();\n\n                        tv_ProductAmount_productListRow.setText(String.valueOf(list.get(position).getAmount()));      \n                    }\n                }\n            });\n\n        }\n\n        return view;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","json","java-8","java-stream","jsonparser"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652480420,"creation_date":1648659035,"answer_id":71681160,"question_id":71678218,"body_markdown":"&gt; I have JSON Object which has a **dynamic key** inside the object I need a\r\n&gt; specific key **value**\r\n\r\nThe recursive method listed below is capable of fetching the *value* mapped to the provided *key* from a ***nested*** JSON-object.\r\n\r\nThe method return an optional result. \r\n\r\nIf provided `JsonElement` is not a `JsonObject` an *empty optional* will be returned. \r\n\r\nOtherwise, if the given JSON-object contains the *given key* the corresponding *value* wrapped by an optional will be returned. Or if it&#39;s not the case the entry set obtained from an object will be processed with stream. And for every JSON-object in the stream method `getValue()` will be called recursively.\r\n\r\nIf the given key is present in one of the nested objects, the first encountered non-empty optional will be returned. Or empty optional if the key was not found.\r\n\r\n    private static Optional&lt;JsonElement&gt; getValue(String key, JsonElement jsonElement) {\r\n        if (!jsonElement.isJsonObject()) {\r\n            return Optional.empty();\r\n        }\r\n\r\n        JsonObject source = jsonElement.getAsJsonObject();\r\n\r\n        return source.has(key) ? Optional.of(source.get(key)) :\r\n                source.entrySet().stream()\r\n                        .map(Map.Entry::getValue)\r\n                        .filter(JsonElement::isJsonObject)\r\n                        .map(element -&gt; getValue(key, element))\r\n                        .filter(Optional::isPresent)\r\n                        .findFirst()\r\n                        .orElse(Optional.empty());\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        String json2 =\r\n                &quot;&quot;&quot;\r\n                          {\r\n                          &quot;refundStatusDetails&quot;: {\r\n                            &quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23&quot;: {\r\n                              &quot;refundTransactionId&quot;: &quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23&quot;,\r\n                              &quot;requestId&quot;: &quot;refund-request-id-1&quot;,\r\n                              &quot;refundState&quot;: &quot;REFUND_COMPLETED&quot;,\r\n                              &quot;amount&quot;: {\r\n                                &quot;currency&quot;: &quot;INR&quot;,\r\n                                &quot;value&quot;: &quot;10.00&quot;\r\n                              },\r\n                              &quot;refundRequestedTime&quot;: &quot;1513788119505&quot;\r\n                            }\r\n                          }\r\n                        }&quot;&quot;&quot;;\r\n\r\n        JsonElement element = JsonParser.parseString(json2);\r\n        System.out.println(getValue(&quot;refundState&quot;, element));\r\n        System.out.println(getValue(&quot;value&quot;, element));\r\n    }\r\n\r\n**Output**\r\n```\r\nOptional[&quot;REFUND_COMPLETED&quot;]\r\nOptional[&quot;10.00&quot;]\r\n```\r\n*Note:* \r\n* If you are using **Java 17** you can utilize text blocks by plasing the text between the triple quotation marks `&quot;&quot;&quot; JSON &quot;&quot;&quot;`.\r\n* Constructor of the `JsonParser` is *deprecated*. Instead of instantiating this class, we have to use its *static methods*.","title":"How to find the tag Value in the dynamic JSON-Object with Java 8","body":"<blockquote>\n<p>I have JSON Object which has a <strong>dynamic key</strong> inside the object I need a\nspecific key <strong>value</strong></p>\n</blockquote>\n<p>The recursive method listed below is capable of fetching the <em>value</em> mapped to the provided <em>key</em> from a <em><strong>nested</strong></em> JSON-object.</p>\n<p>The method return an optional result.</p>\n<p>If provided <code>JsonElement</code> is not a <code>JsonObject</code> an <em>empty optional</em> will be returned.</p>\n<p>Otherwise, if the given JSON-object contains the <em>given key</em> the corresponding <em>value</em> wrapped by an optional will be returned. Or if it's not the case the entry set obtained from an object will be processed with stream. And for every JSON-object in the stream method <code>getValue()</code> will be called recursively.</p>\n<p>If the given key is present in one of the nested objects, the first encountered non-empty optional will be returned. Or empty optional if the key was not found.</p>\n<pre><code>private static Optional&lt;JsonElement&gt; getValue(String key, JsonElement jsonElement) {\n    if (!jsonElement.isJsonObject()) {\n        return Optional.empty();\n    }\n\n    JsonObject source = jsonElement.getAsJsonObject();\n\n    return source.has(key) ? Optional.of(source.get(key)) :\n            source.entrySet().stream()\n                    .map(Map.Entry::getValue)\n                    .filter(JsonElement::isJsonObject)\n                    .map(element -&gt; getValue(key, element))\n                    .filter(Optional::isPresent)\n                    .findFirst()\n                    .orElse(Optional.empty());\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    String json2 =\n            &quot;&quot;&quot;\n                      {\n                      &quot;refundStatusDetails&quot;: {\n                        &quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23&quot;: {\n                          &quot;refundTransactionId&quot;: &quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23&quot;,\n                          &quot;requestId&quot;: &quot;refund-request-id-1&quot;,\n                          &quot;refundState&quot;: &quot;REFUND_COMPLETED&quot;,\n                          &quot;amount&quot;: {\n                            &quot;currency&quot;: &quot;INR&quot;,\n                            &quot;value&quot;: &quot;10.00&quot;\n                          },\n                          &quot;refundRequestedTime&quot;: &quot;1513788119505&quot;\n                        }\n                      }\n                    }&quot;&quot;&quot;;\n\n    JsonElement element = JsonParser.parseString(json2);\n    System.out.println(getValue(&quot;refundState&quot;, element));\n    System.out.println(getValue(&quot;value&quot;, element));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Optional[&quot;REFUND_COMPLETED&quot;]\nOptional[&quot;10.00&quot;]\n</code></pre>\n<p><em>Note:</em></p>\n<ul>\n<li>If you are using <strong>Java 17</strong> you can utilize text blocks by plasing the text between the triple quotation marks <code>&quot;&quot;&quot; JSON &quot;&quot;&quot;</code>.</li>\n<li>Constructor of the <code>JsonParser</code> is <em>deprecated</em>. Instead of instantiating this class, we have to use its <em>static methods</em>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648805228,"creation_date":1648805228,"answer_id":71704703,"question_id":71678218,"body_markdown":"If you are interested to access any field in a JSON object structure then you can use a method like the following one that I used to access the fields that I needed from an JSON Array structure using &quot;package org.json;&quot;\r\n\r\n    public static final String COLLECTION_OBJECT = &quot;collectionObject&quot;;\r\n    public static final String FIELD = &quot;field&quot;;\r\n    \r\n    private ArrayList&lt;Object&gt; getSearchFilterCriteriaAsString() {\r\n    \r\n    \tString jsonString = &quot;{&quot; +\r\n    \t\t\t\t\t\t\t&quot;\\n\\&quot;collectionObject\\&quot;: &quot; +\r\n    \t\t\t\t\t\t\t\t&quot;[\\n&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;{&quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot;\\n\\&quot;field\\&quot;: \\&quot;productId\\&quot;,&quot; +\r\n    \t\t\t\t\t\t\t\t\t \t&quot;\\n\\&quot;value\\&quot;: \\&quot;3\\&quot;,&quot; +\r\n    \t\t\t\t\t\t\t\t\t \t&quot;\\n\\&quot;operator\\&quot;: \\&quot;EQUALS\\&quot;\\n&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;},\\n&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;{&quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot;\\n\\&quot;field\\&quot;: \\&quot;productPrice\\&quot;,&quot; +\r\n    \t\t\t\t\t\t\t\t\t \t&quot;\\n\\&quot;value\\&quot;: \\&quot;15\\&quot;,&quot; +\r\n    \t\t\t\t\t\t\t\t\t \t&quot;\\n\\&quot;operator\\&quot;: \\&quot;MORE_THAN\\&quot;\\n&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;},\\n&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;{&quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot;\\n\\&quot;field\\&quot;: \\&quot;productQuantity\\&quot;,&quot; +\r\n    \t\t\t\t\t\t\t\t\t \t&quot;\\n\\&quot;value\\&quot;: \\&quot;25\\&quot;,&quot; +\r\n    \t\t\t\t\t\t\t\t\t \t&quot;\\n\\&quot;operator\\&quot;: \\&quot;LESS_THAN\\&quot;\\n&quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;}\\n&quot; +\r\n    \t\t\t\t\t\t\t\t&quot;]\\n&quot; +\r\n    \t\t\t\t\t\t\t&quot;}&quot;;\r\n    \t\t\t\t\t\t\t\r\n    \t\tJSONObject jsonObject = new JSONObject(jsonString);\r\n    \r\n    \t\tJSONArray jsonArray = jsonObject.getJSONArray(COLLECTION_OBJECT);\r\n    \r\n    \t\tArrayList&lt;Object&gt; filteredObjectsList = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tif (jsonArray != null) {\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \r\n    \t\t\t\tJSONObject filteredObj = (JSONObject) jsonArray.get(i);\r\n    \r\n    \t\t\t\tfilteredObjectsList.add(filteredObj.getString(FIELD));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn filteredObjectsList;\r\n    \t}\r\n\r\n\r\nAs long as you know your key values you can parse any JSON as deep you want, without to care about how big it is, how many attributes it has.","title":"How to find the tag Value in the dynamic JSON-Object with Java 8","body":"<p>If you are interested to access any field in a JSON object structure then you can use a method like the following one that I used to access the fields that I needed from an JSON Array structure using &quot;package org.json;&quot;</p>\n<pre><code>public static final String COLLECTION_OBJECT = &quot;collectionObject&quot;;\npublic static final String FIELD = &quot;field&quot;;\n\nprivate ArrayList&lt;Object&gt; getSearchFilterCriteriaAsString() {\n\n    String jsonString = &quot;{&quot; +\n                            &quot;\\n\\&quot;collectionObject\\&quot;: &quot; +\n                                &quot;[\\n&quot; +\n                                    &quot;{&quot; +\n                                        &quot;\\n\\&quot;field\\&quot;: \\&quot;productId\\&quot;,&quot; +\n                                        &quot;\\n\\&quot;value\\&quot;: \\&quot;3\\&quot;,&quot; +\n                                        &quot;\\n\\&quot;operator\\&quot;: \\&quot;EQUALS\\&quot;\\n&quot; +\n                                    &quot;},\\n&quot; +\n                                    &quot;{&quot; +\n                                        &quot;\\n\\&quot;field\\&quot;: \\&quot;productPrice\\&quot;,&quot; +\n                                        &quot;\\n\\&quot;value\\&quot;: \\&quot;15\\&quot;,&quot; +\n                                        &quot;\\n\\&quot;operator\\&quot;: \\&quot;MORE_THAN\\&quot;\\n&quot; +\n                                    &quot;},\\n&quot; +\n                                    &quot;{&quot; +\n                                        &quot;\\n\\&quot;field\\&quot;: \\&quot;productQuantity\\&quot;,&quot; +\n                                        &quot;\\n\\&quot;value\\&quot;: \\&quot;25\\&quot;,&quot; +\n                                        &quot;\\n\\&quot;operator\\&quot;: \\&quot;LESS_THAN\\&quot;\\n&quot; +\n                                    &quot;}\\n&quot; +\n                                &quot;]\\n&quot; +\n                            &quot;}&quot;;\n                            \n        JSONObject jsonObject = new JSONObject(jsonString);\n\n        JSONArray jsonArray = jsonObject.getJSONArray(COLLECTION_OBJECT);\n\n        ArrayList&lt;Object&gt; filteredObjectsList = new ArrayList&lt;&gt;();\n\n        if (jsonArray != null) {\n\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\n\n                JSONObject filteredObj = (JSONObject) jsonArray.get(i);\n\n                filteredObjectsList.add(filteredObj.getString(FIELD));\n            }\n            \n        }\n        \n        return filteredObjectsList;\n    }\n</code></pre>\n<p>As long as you know your key values you can parse any JSON as deep you want, without to care about how big it is, how many attributes it has.</p>\n"}],"owner":{"account_id":8213879,"reputation":13,"user_id":6180983,"display_name":"jsp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652480420,"creation_date":1648647174,"question_id":71678218,"body_markdown":"I have *JSON-object* which has a *dynamic key* inside it. I need to get a specific *value* mapped to this dynamic Key.\r\n\r\n***For example:*** value `&quot;10.00&quot;` will be returned for the key `&quot;value&quot;` and value `REFUND_COMPLETED` will be obtained as a result for the key `&quot;refundState&quot;`\r\n\r\n***Code:***\r\n\r\n    public static void main(String[] args) {\r\n            String json2 = &quot;{\\n&quot;\r\n            \t\t+ &quot;    \\&quot;refundStatusDetails\\&quot;: {\\n&quot;\r\n            \t\t+ &quot;        \\&quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23\\&quot;: {\\n&quot;\r\n            \t\t+ &quot;            \\&quot;refundTransactionId\\&quot;: \\&quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23\\&quot;,\\n&quot;\r\n            \t\t+ &quot;            \\&quot;requestId\\&quot;: \\&quot;refund-request-id-1\\&quot;,\\n&quot;\r\n            \t\t+ &quot;            \\&quot;refundState\\&quot;: \\&quot;REFUND_COMPLETED\\&quot;,\\n&quot;\r\n            \t\t+ &quot;            \\&quot;amount\\&quot;: {\\n&quot;\r\n            \t\t+ &quot;                \\&quot;currency\\&quot;: \\&quot;INR\\&quot;,\\n&quot;\r\n            \t\t+ &quot;                \\&quot;value\\&quot;: \\&quot;10.00\\&quot;\\n&quot;\r\n            \t\t+ &quot;            },\\n&quot;\r\n            \t\t+ &quot;            \\&quot;refundRequestedTime\\&quot;: 1513788119505,\\n&quot;\r\n            \t\t+ &quot;}&quot;;\r\n    \r\n            System.out.println(&quot;JSON: &quot; + json2);\r\n            JsonParser p = new JsonParser();\r\n            Map&lt;String,String&gt; res =check(&quot;refundState&quot;, p.parse(json2));\r\n            System.out.println(&quot;JSON: &quot; + res.get(&quot;refundState&quot;));\r\n    \t}\r\n    \r\n    \tprivate static Map&lt;String,String&gt; check(String key, JsonElement jsonElement) {\r\n    \t\tMap&lt;String,String&gt; res = new HashMap&lt;&gt;();\r\n    \t\tif (jsonElement.isJsonObject()) {\r\n    \t\t\tSet&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement.getAsJsonObject().entrySet();\r\n    \t\t\tentrySet.stream().forEach((x) -&gt;{\r\n    \t\t\t\tif (x.getKey().equals(key)) {\r\n    \t\t\t\t\tres.put(x.getKey(),x.getValue().toString());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t\t\r\n    \t}\r\n","title":"How to find the tag Value in the dynamic JSON-Object with Java 8","body":"<p>I have <em>JSON-object</em> which has a <em>dynamic key</em> inside it. I need to get a specific <em>value</em> mapped to this dynamic Key.</p>\n<p><em><strong>For example:</strong></em> value <code>&quot;10.00&quot;</code> will be returned for the key <code>&quot;value&quot;</code> and value <code>REFUND_COMPLETED</code> will be obtained as a result for the key <code>&quot;refundState&quot;</code></p>\n<p><em><strong>Code:</strong></em></p>\n<pre><code>public static void main(String[] args) {\n        String json2 = &quot;{\\n&quot;\n                + &quot;    \\&quot;refundStatusDetails\\&quot;: {\\n&quot;\n                + &quot;        \\&quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23\\&quot;: {\\n&quot;\n                + &quot;            \\&quot;refundTransactionId\\&quot;: \\&quot;txn_f2a7802c-ef84-43c3-8615-5f706b995c23\\&quot;,\\n&quot;\n                + &quot;            \\&quot;requestId\\&quot;: \\&quot;refund-request-id-1\\&quot;,\\n&quot;\n                + &quot;            \\&quot;refundState\\&quot;: \\&quot;REFUND_COMPLETED\\&quot;,\\n&quot;\n                + &quot;            \\&quot;amount\\&quot;: {\\n&quot;\n                + &quot;                \\&quot;currency\\&quot;: \\&quot;INR\\&quot;,\\n&quot;\n                + &quot;                \\&quot;value\\&quot;: \\&quot;10.00\\&quot;\\n&quot;\n                + &quot;            },\\n&quot;\n                + &quot;            \\&quot;refundRequestedTime\\&quot;: 1513788119505,\\n&quot;\n                + &quot;}&quot;;\n\n        System.out.println(&quot;JSON: &quot; + json2);\n        JsonParser p = new JsonParser();\n        Map&lt;String,String&gt; res =check(&quot;refundState&quot;, p.parse(json2));\n        System.out.println(&quot;JSON: &quot; + res.get(&quot;refundState&quot;));\n    }\n\n    private static Map&lt;String,String&gt; check(String key, JsonElement jsonElement) {\n        Map&lt;String,String&gt; res = new HashMap&lt;&gt;();\n        if (jsonElement.isJsonObject()) {\n            Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement.getAsJsonObject().entrySet();\n            entrySet.stream().forEach((x) -&gt;{\n                if (x.getKey().equals(key)) {\n                    res.put(x.getKey(),x.getValue().toString());\n                }\n            });\n        }\n        return res;\n        \n    }\n</code></pre>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1652448806,"post_id":72230374,"comment_id":127615579,"body_markdown":"Generate a random number x between 0 and 50, then compute (2 \\* x + 1) * 5.","body":"Generate a random number x between 0 and 50, then compute (2 * x + 1) * 5."},{"owner":{"account_id":3253408,"reputation":1419,"user_id":2743131,"accept_rate":67,"display_name":"Algamest"},"score":0,"creation_date":1652727193,"post_id":72230374,"comment_id":127671187,"body_markdown":"Please include any code you have already tried.","body":"Please include any code you have already tried."}],"answers":[{"tags":[],"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652479715,"creation_date":1652448852,"answer_id":72230431,"question_id":72230374,"body_markdown":"See https://stackoverflow.com/questions/5271598/java-generate-random-number-between-two-given-values\r\n\r\nGenerate a random number between 0(included) and 50(excluded), multiply it by 10 and add 5.\r\n\r\n    import java.util.Random;\r\n    public class RandomFive {\r\n        static Random rand = new Random();\r\n        public static int randomFive() {\r\n            return rand.nextInt(50) * 10 + 5;\r\n        }\r\n        public static int randomFiveFun() {\r\n            int randomFive = 0;\r\n            while ((randomFive = rand.nextInt(500)) % 10 != 5);        \r\n            return randomFive;\r\n        }\r\n        public static int randomFivePresidentJamesKPolck() {\r\n            return (rand.nextInt(50) * 2 + 1 ) * 5;\r\n        }        \r\n        public static void main(String[] args) {\r\n            System.out.printf(&quot;Normal: %3d\\n&quot;, randomFive());\r\n            System.out.printf(&quot;Fun:    %3d\\n&quot;, randomFiveFun());\r\n            System.out.printf(&quot;PJKP:   %3d\\n&quot;, randomFivePresidentJamesKPolck());\r\n        }\r\n    }\r\n\r\nAs @Lino pointed out, it is a good practice to use `new Random()` only once during your application&#39;s lifetime or to use `ThreadLocalRandom`. Additionally, please consider https://stackoverflow.com/a/3532136/18980756.","title":"Generating a random number that ends with a certain digit in Java","body":"<p>See <a href=\"https://stackoverflow.com/questions/5271598/java-generate-random-number-between-two-given-values\">Java Generate Random Number Between Two Given Values</a></p>\n<p>Generate a random number between 0(included) and 50(excluded), multiply it by 10 and add 5.</p>\n<pre><code>import java.util.Random;\npublic class RandomFive {\n    static Random rand = new Random();\n    public static int randomFive() {\n        return rand.nextInt(50) * 10 + 5;\n    }\n    public static int randomFiveFun() {\n        int randomFive = 0;\n        while ((randomFive = rand.nextInt(500)) % 10 != 5);        \n        return randomFive;\n    }\n    public static int randomFivePresidentJamesKPolck() {\n        return (rand.nextInt(50) * 2 + 1 ) * 5;\n    }        \n    public static void main(String[] args) {\n        System.out.printf(&quot;Normal: %3d\\n&quot;, randomFive());\n        System.out.printf(&quot;Fun:    %3d\\n&quot;, randomFiveFun());\n        System.out.printf(&quot;PJKP:   %3d\\n&quot;, randomFivePresidentJamesKPolck());\n    }\n}\n</code></pre>\n<p>As @Lino pointed out, it is a good practice to use <code>new Random()</code> only once during your application's lifetime or to use <code>ThreadLocalRandom</code>. Additionally, please consider <a href=\"https://stackoverflow.com/a/3532136/18980756\">https://stackoverflow.com/a/3532136/18980756</a>.</p>\n"}],"owner":{"display_name":"user17629968"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652479715,"creation_date":1652448601,"question_id":72230374,"body_markdown":"How does one generate a random number between 0 and 500 that ENDS WITH 5 in Java? I&#39;m fairly new to programming.","title":"Generating a random number that ends with a certain digit in Java","body":"<p>How does one generate a random number between 0 and 500 that ENDS WITH 5 in Java? I'm fairly new to programming.</p>\n"},{"tags":["java","spring","spring-mvc","upgrade","spring-bean"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651174319,"post_id":72049131,"comment_id":127307665,"body_markdown":"`AbstractMethodError` is almost _always_ caused by a mismatch between a library version in your build environment vs your deployment environment.  The message is telling you that your code invoked a method that was concrete in your build environment but in the runtime environment it&#39;s now abstract.","body":"<code>AbstractMethodError</code> is almost <i>always</i> caused by a mismatch between a library version in your build environment vs your deployment environment.  The message is telling you that your code invoked a method that was concrete in your build environment but in the runtime environment it&#39;s now abstract."},{"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"score":0,"creation_date":1651261353,"post_id":72049131,"comment_id":127330832,"body_markdown":"@JimGarrison I understood that it&#39;s caused by the mismatch in the library version. SInce both the build &amp; deployment is happening in my local, can you please provide me the steps or any approach to troubleshoot here .Thanks in advance.","body":"@JimGarrison I understood that it&#39;s caused by the mismatch in the library version. SInce both the build &amp; deployment is happening in my local, can you please provide me the steps or any approach to troubleshoot here .Thanks in advance."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651270351,"post_id":72049131,"comment_id":127332841,"body_markdown":"Can&#39;t say without more detail on how your build and deployment environments are set up.  There&#39;s clearly a mismatch but only you can fully describe how each is configured.","body":"Can&#39;t say without more detail on how your build and deployment environments are set up.  There&#39;s clearly a mismatch but only you can fully describe how each is configured."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651745181,"post_id":72049131,"comment_id":127437966,"body_markdown":"This error is more likely caused by a mismatch between Spring libraries.","body":"This error is more likely caused by a mismatch between Spring libraries."},{"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"score":0,"creation_date":1652375816,"post_id":72049131,"comment_id":127597059,"body_markdown":"@JimGarrison I&#39;ve updated the post with the screenshot of spring libraries used in my application. Can you please check and suggest which spring jar may be causing this issue?","body":"@JimGarrison I&#39;ve updated the post with the screenshot of spring libraries used in my application. Can you please check and suggest which spring jar may be causing this issue?"},{"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"score":0,"creation_date":1652375890,"post_id":72049131,"comment_id":127597094,"body_markdown":"@MarkRotteveel Could you please check and suggest the cause behind the mismatch between Spring libraries. I&#39;ve updated the post with the screenshot of the Spring libraries used in my application.","body":"@MarkRotteveel Could you please check and suggest the cause behind the mismatch between Spring libraries. I&#39;ve updated the post with the screenshot of the Spring libraries used in my application."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652423976,"post_id":72049131,"comment_id":127607078,"body_markdown":"It is probably the case, because I see for example spring-context 5.2.20.RELEASE, spring-context-support 5.2.9.RELEASE, spring-webflux 5.0.1.RELEASE, spring-jdbc 5.1.2.RELEASE and spring-oxm 5.2.9.RELEASE. Those versions should be the same (5.2.20.RELEASE). I highly recommend you learn about Maven BOM and use the Spring Framework BOM to define the version of Spring Framework libraries (and use the BOM of other Spring projects to do the same for them).","body":"It is probably the case, because I see for example spring-context 5.2.20.RELEASE, spring-context-support 5.2.9.RELEASE, spring-webflux 5.0.1.RELEASE, spring-jdbc 5.1.2.RELEASE and spring-oxm 5.2.9.RELEASE. Those versions should be the same (5.2.20.RELEASE). I highly recommend you learn about Maven BOM and use the Spring Framework BOM to define the version of Spring Framework libraries (and use the BOM of other Spring projects to do the same for them)."}],"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651174354,"answer_count":0,"score":0,"last_activity_date":1652479179,"creation_date":1651173617,"question_id":72049131,"body_markdown":"As part of the recent Spring RCE vulnerability, I have upgraded the Spring framework from 5.1.2.Release to 5.2.20.Release for my Spring MVC application which is running on Java 8. Build was successful after upgrading to 5.2.20.Release version, but I am getting below runtime exception. \r\n\r\nI understood that AbstractMethodError is caused by the mismatch in the library version. Since both the build &amp; deployment is happening in my local, can you please provide me the steps or any approach to troubleshooting here? \r\n\r\nScreenshot of spring libraries used in my application\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```none\r\n28-Apr-2022 09:29:10.003 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [dispatcher] in web application [] threw load() exception\r\n org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageSource&#39; defined in com.demo.project.config.MvcConfig: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;metaDataSourceAdvisor&#39;: Cannot resolve reference to bean &#39;methodSecurityMetadataSource&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration&#39;: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:511)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\r\n\tat org.springframework.context.support.AbstractApplicationContext.initMessageSource(AbstractApplicationContext.java:733)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:539)\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:986)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4978)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5290)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:813)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;metaDataSourceAdvisor&#39;: Cannot resolve reference to bean &#39;methodSecurityMetadataSource&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration&#39;: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:692)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1361)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1208)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\r\n\tat org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)\r\n\tat org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)\r\n\tat org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:252)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1145)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1118)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:505)\r\n\t... 23 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration&#39;: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:511)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\r\n\t... 43 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1425)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\r\n\tat org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)\r\n\tat org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)\r\n\tat org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:252)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1145)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1118)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:505)\r\n\t... 59 more\r\nCaused by: java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\r\n\tat org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration.setConfigurers(AbstractTransactionManagementConfiguration.java:76)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:725)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\t... 85 more\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vKv7m.jpg","title":"Spring MVC application getting runtime exception after Spring framework upgrade to 5.2.20.Release","body":"<p>As part of the recent Spring RCE vulnerability, I have upgraded the Spring framework from 5.1.2.Release to 5.2.20.Release for my Spring MVC application which is running on Java 8. Build was successful after upgrading to 5.2.20.Release version, but I am getting below runtime exception.</p>\n<p>I understood that AbstractMethodError is caused by the mismatch in the library version. Since both the build &amp; deployment is happening in my local, can you please provide me the steps or any approach to troubleshooting here?</p>\n<p>Screenshot of spring libraries used in my application</p>\n<p><a href=\"https://i.stack.imgur.com/vKv7m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKv7m.jpg\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-none prettyprint-override\"><code>28-Apr-2022 09:29:10.003 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [dispatcher] in web application [] threw load() exception\n org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageSource' defined in com.demo.project.config.MvcConfig: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:511)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\n    at org.springframework.context.support.AbstractApplicationContext.initMessageSource(AbstractApplicationContext.java:733)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:539)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:986)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4978)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5290)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:813)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:692)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1361)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1208)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\n    at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)\n    at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)\n    at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)\n    at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:252)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1145)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1118)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:505)\n    ... 23 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:511)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n    ... 43 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1425)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$73.0000000018AE4290.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\n    at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)\n    at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)\n    at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)\n    at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:252)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1145)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1118)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:505)\n    ... 59 more\nCaused by: java.lang.AbstractMethodError: org/springframework/transaction/annotation/TransactionManagementConfigurer.annotationDrivenTransactionManager()Lorg/springframework/transaction/TransactionManager;\n    at org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration.setConfigurers(AbstractTransactionManagementConfiguration.java:76)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:725)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    ... 85 more\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652478903,"creation_date":1652476739,"answer_id":72235520,"question_id":72233018,"body_markdown":"This implementation is acceptable only for the small dataset because data is read by one batch query, and stored whole result list in memory. Also, it is not thread-safe.\r\n&lt;br&gt;In the case of loading large volumes:\r\n- on the environment with limited memory can lead to out of memory\r\n- can lead to performance problems. We will wait until thousands of records will be loaded from DB by one call\r\n\r\n&lt;br&gt;**Solution 1, [org.springframework.batch.item.database.JpaCursorItemReader][1]**\r\n&lt;br&gt;A similar implementation is defined out of the box in Spring Batch: `JpaCursorItemReader`\r\n&lt;br&gt;The main difference is that this implementation is working only with specific JPQL query instead of repository and use JPA’s [Query.getResultStream()][2] method to get query results.\r\n&lt;br&gt;Implementation of `JpaCursorItemReader`:\r\n```java\r\n\tprotected void doOpen() throws Exception {\r\n        ...\r\n\t\tQuery query = createQuery();\r\n\t\tif (this.parameterValues != null) {\r\n\t\t\tthis.parameterValues.forEach(query::setParameter);\r\n\t\t}\r\n\t\tthis.iterator = query.getResultStream().iterator();\r\n\t}\r\n```\r\nHibernate, for example, introduced the `Query.getResultStream()` method in version 5.2.\r\nIt uses Hibernate’s `ScrollableResult` implementation to move through the result set and to fetch the records in batches. That prevents you from loading all records of the result set at once and allows you to process them more efficiently.\r\n&lt;br&gt;Example of creation:\r\n```java\r\n\tprotected ItemReader&lt;Foo&gt; getItemReader() throws Exception {\r\n\t\tLocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n    \tString jpqlQuery = &quot;from Foo&quot;;\r\n\t\tJpaCursorItemReader&lt;Foo&gt; itemReader = new JpaCursorItemReader&lt;&gt;();\r\n\t\titemReader.setQueryString(jpqlQuery);\r\n\t\titemReader.setEntityManagerFactory(factoryBean.getObject());\r\n\t\titemReader.afterPropertiesSet();\r\n\t\titemReader.setSaveState(true);\r\n\t\treturn itemReader;\r\n\t}\r\n```\r\n**Solution 2, [org.springframework.batch.item.database.JpaPagingItemReader][3]**\r\n&lt;br&gt;It is more flexible solution for JPQL query than `JpaCursorItemReader`. ItemReader loads and stores data by pages and it is thread-safe.\r\n&lt;br&gt;According to documentation:\r\n&gt; ItemReader for reading database records built on top of JPA.\r\n&gt; \r\n&gt; It executes the JPQL setQueryString(String) to retrieve requested\r\n&gt; data. The query is executed using paged requests of a size specified\r\n&gt; in AbstractPagingItemReader.setPageSize(int). Additional pages are\r\n&gt; requested when needed as\r\n&gt; AbstractItemCountingItemStreamItemReader.read() method is called,\r\n&gt; returning an object corresponding to current position.\r\n&gt; \r\n&gt; The performance of the paging depends on the JPA implementation and\r\n&gt; its use of database specific features to limit the number of returned\r\n&gt; rows.\r\n&gt; \r\n&gt; Setting a fairly large page size and using a commit interval that\r\n&gt; matches the page size should provide better performance.\r\n&gt; \r\n&gt; In order to reduce the memory usage for large results the persistence\r\n&gt; context is flushed and cleared after each page is read. This causes\r\n&gt; any entities read to be detached. If you make changes to the entities\r\n&gt; and want the changes persisted then you must explicitly merge the\r\n&gt; entities.\r\n&gt; \r\n&gt; The implementation is thread-safe in between calls\r\n\r\n**Solution 3, [org.springframework.batch.item.data.RepositoryItemReader][4]**\r\n&lt;br&gt;It is a more efficient solution. It works with the repository, loads and stores data in chunks and it is thread-safe.\r\n&lt;br&gt;According to documentation:\r\n&gt; A ItemReader that reads records utilizing a\r\n&gt; PagingAndSortingRepository.\r\n&gt; \r\n&gt; Performance of the reader is dependent on the repository\r\n&gt; implementation, however setting a reasonably large page size and\r\n&gt; matching that to the commit interval should yield better performance.\r\n&gt; \r\n&gt; The reader must be configured with a PagingAndSortingRepository, a\r\n&gt; Sort, and a pageSize greater than 0.\r\n&gt; \r\n&gt; This implementation is thread-safe between calls to\r\n&gt; AbstractItemCountingItemStreamItemReader.open(ExecutionContext), but\r\n&gt; remember to use saveState=false if used in a multi-threaded client (no\r\n&gt; restart available).\r\n\r\nExample of creation:\r\n```java\r\nPagingAndSortingRepository&lt;Foo, Long&gt; repository = FooRepository&lt;&gt;();\r\nRepositoryItemReader&lt;Foo&gt; reader = new RepositoryItemReader&lt;&gt;();\r\nreader.setRepository(repository ); //The PagingAndSortingRepository implementation used to read input from.\r\nreader.setMethodName(&quot;findByName&quot;); //Specifies what method on the repository to call.\r\nreader.setArguments(arguments); // Arguments to be passed to the data providing method.\r\n```\r\nCreation via builder:\r\n```java\r\nPagingAndSortingRepository&lt;Foo, Long&gt; repository = new FooRepository&lt;&gt;();\r\nnew RepositoryItemReaderBuilder&lt;&gt;().repository(repository)\r\n                                   .methodName(&quot;findByName&quot;)\r\n                                   .arguments(new ArrayList&lt;&gt;())\r\n                                   .build()\r\n```\r\nMore examples of usage: [RepositoryItemReaderTests][5] and [RepositoryItemReaderIntegrationTests][6]\r\n\r\n**Summarise:**\r\n&lt;br&gt;Your implementation is good only for simple use cases.\r\n&lt;br&gt;I recommend to use out of box solutions.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/database/JpaCursorItemReader.html\r\n  [2]: https://github.com/javaee/jpa-spec/blob/master/javax.persistence-api/src/main/java/javax/persistence/Query.java#L86\r\n  [3]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/database/JpaPagingItemReader.html\r\n  [4]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/data/RepositoryItemReader.html\r\n  [5]: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/data/RepositoryItemReaderTests.java\r\n  [6]: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/database/RepositoryItemReaderIntegrationTests.java","title":"Jpa reader Spring Batch","body":"<p>This implementation is acceptable only for the small dataset because data is read by one batch query, and stored whole result list in memory. Also, it is not thread-safe.\n<br>In the case of loading large volumes:</p>\n<ul>\n<li>on the environment with limited memory can lead to out of memory</li>\n<li>can lead to performance problems. We will wait until thousands of records will be loaded from DB by one call</li>\n</ul>\n<p><br><strong>Solution 1, <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/database/JpaCursorItemReader.html\" rel=\"nofollow noreferrer\">org.springframework.batch.item.database.JpaCursorItemReader</a></strong>\n<br>A similar implementation is defined out of the box in Spring Batch: <code>JpaCursorItemReader</code>\n<br>The main difference is that this implementation is working only with specific JPQL query instead of repository and use JPA’s <a href=\"https://github.com/javaee/jpa-spec/blob/master/javax.persistence-api/src/main/java/javax/persistence/Query.java#L86\" rel=\"nofollow noreferrer\">Query.getResultStream()</a> method to get query results.\n<br>Implementation of <code>JpaCursorItemReader</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected void doOpen() throws Exception {\n        ...\n        Query query = createQuery();\n        if (this.parameterValues != null) {\n            this.parameterValues.forEach(query::setParameter);\n        }\n        this.iterator = query.getResultStream().iterator();\n    }\n</code></pre>\n<p>Hibernate, for example, introduced the <code>Query.getResultStream()</code> method in version 5.2.\nIt uses Hibernate’s <code>ScrollableResult</code> implementation to move through the result set and to fetch the records in batches. That prevents you from loading all records of the result set at once and allows you to process them more efficiently.\n<br>Example of creation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected ItemReader&lt;Foo&gt; getItemReader() throws Exception {\n        LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n        String jpqlQuery = &quot;from Foo&quot;;\n        JpaCursorItemReader&lt;Foo&gt; itemReader = new JpaCursorItemReader&lt;&gt;();\n        itemReader.setQueryString(jpqlQuery);\n        itemReader.setEntityManagerFactory(factoryBean.getObject());\n        itemReader.afterPropertiesSet();\n        itemReader.setSaveState(true);\n        return itemReader;\n    }\n</code></pre>\n<p><strong>Solution 2, <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/database/JpaPagingItemReader.html\" rel=\"nofollow noreferrer\">org.springframework.batch.item.database.JpaPagingItemReader</a></strong>\n<br>It is more flexible solution for JPQL query than <code>JpaCursorItemReader</code>. ItemReader loads and stores data by pages and it is thread-safe.\n<br>According to documentation:</p>\n<blockquote>\n<p>ItemReader for reading database records built on top of JPA.</p>\n<p>It executes the JPQL setQueryString(String) to retrieve requested\ndata. The query is executed using paged requests of a size specified\nin AbstractPagingItemReader.setPageSize(int). Additional pages are\nrequested when needed as\nAbstractItemCountingItemStreamItemReader.read() method is called,\nreturning an object corresponding to current position.</p>\n<p>The performance of the paging depends on the JPA implementation and\nits use of database specific features to limit the number of returned\nrows.</p>\n<p>Setting a fairly large page size and using a commit interval that\nmatches the page size should provide better performance.</p>\n<p>In order to reduce the memory usage for large results the persistence\ncontext is flushed and cleared after each page is read. This causes\nany entities read to be detached. If you make changes to the entities\nand want the changes persisted then you must explicitly merge the\nentities.</p>\n<p>The implementation is thread-safe in between calls</p>\n</blockquote>\n<p><strong>Solution 3, <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/data/RepositoryItemReader.html\" rel=\"nofollow noreferrer\">org.springframework.batch.item.data.RepositoryItemReader</a></strong>\n<br>It is a more efficient solution. It works with the repository, loads and stores data in chunks and it is thread-safe.\n<br>According to documentation:</p>\n<blockquote>\n<p>A ItemReader that reads records utilizing a\nPagingAndSortingRepository.</p>\n<p>Performance of the reader is dependent on the repository\nimplementation, however setting a reasonably large page size and\nmatching that to the commit interval should yield better performance.</p>\n<p>The reader must be configured with a PagingAndSortingRepository, a\nSort, and a pageSize greater than 0.</p>\n<p>This implementation is thread-safe between calls to\nAbstractItemCountingItemStreamItemReader.open(ExecutionContext), but\nremember to use saveState=false if used in a multi-threaded client (no\nrestart available).</p>\n</blockquote>\n<p>Example of creation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PagingAndSortingRepository&lt;Foo, Long&gt; repository = FooRepository&lt;&gt;();\nRepositoryItemReader&lt;Foo&gt; reader = new RepositoryItemReader&lt;&gt;();\nreader.setRepository(repository ); //The PagingAndSortingRepository implementation used to read input from.\nreader.setMethodName(&quot;findByName&quot;); //Specifies what method on the repository to call.\nreader.setArguments(arguments); // Arguments to be passed to the data providing method.\n</code></pre>\n<p>Creation via builder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PagingAndSortingRepository&lt;Foo, Long&gt; repository = new FooRepository&lt;&gt;();\nnew RepositoryItemReaderBuilder&lt;&gt;().repository(repository)\n                                   .methodName(&quot;findByName&quot;)\n                                   .arguments(new ArrayList&lt;&gt;())\n                                   .build()\n</code></pre>\n<p>More examples of usage: <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/data/RepositoryItemReaderTests.java\" rel=\"nofollow noreferrer\">RepositoryItemReaderTests</a> and <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/database/RepositoryItemReaderIntegrationTests.java\" rel=\"nofollow noreferrer\">RepositoryItemReaderIntegrationTests</a></p>\n<p><strong>Summarise:</strong>\n<br>Your implementation is good only for simple use cases.\n<br>I recommend to use out of box solutions.</p>\n"}],"owner":{"account_id":24003378,"reputation":13,"user_id":17987925,"display_name":"Claudio Anticoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7020,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72235520,"answer_count":1,"score":0,"last_activity_date":1652478903,"creation_date":1652460892,"question_id":72233018,"body_markdown":"I would like to know, if this way is recommended to implement the reader spring batch with jpa or is it better to look for another solution and if this way is not recommended where can I look for information on a better option\r\n\r\n    public class CreditCardItemReader implements ItemReader&lt;CreditCard&gt; {\r\n\r\n    @Autowired\r\n    private CreditCardRepository respository;\r\n\r\n    private Iterator&lt;CreditCard&gt; usersIterator;\r\n\r\n    @BeforeStep\r\n    public void before(StepExecution stepExecution) {\r\n        usersIterator = respository.someQuery().iterator();\r\n    }\r\n\r\n    @Override\r\n    public CreditCard read() {\r\n        if (usersIterator != null &amp;&amp; usersIterator.hasNext()) {\r\n            return usersIterator.next();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n      }","title":"Jpa reader Spring Batch","body":"<p>I would like to know, if this way is recommended to implement the reader spring batch with jpa or is it better to look for another solution and if this way is not recommended where can I look for information on a better option</p>\n<pre><code>public class CreditCardItemReader implements ItemReader&lt;CreditCard&gt; {\n\n@Autowired\nprivate CreditCardRepository respository;\n\nprivate Iterator&lt;CreditCard&gt; usersIterator;\n\n@BeforeStep\npublic void before(StepExecution stepExecution) {\n    usersIterator = respository.someQuery().iterator();\n}\n\n@Override\npublic CreditCard read() {\n    if (usersIterator != null &amp;&amp; usersIterator.hasNext()) {\n        return usersIterator.next();\n    } else {\n        return null;\n    }\n}\n  }\n</code></pre>\n"},{"tags":["java","json","spring","api"],"comments":[{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1652119612,"post_id":72174958,"comment_id":127524234,"body_markdown":"Try Refer 1 - https://www.technicalkeeda.com/spring-tutorials/spring-mvc-file-upload-restful-web-service-example\n\nRefer 2 - https://howtodoinjava.com/spring-rest/multipart-upload-download-example/","body":"Try Refer 1 - <a href=\"https://www.technicalkeeda.com/spring-tutorials/spring-mvc-file-upload-restful-web-service-example\" rel=\"nofollow noreferrer\">technicalkeeda.com/spring-tutorials/&hellip;</a>  Refer 2 - <a href=\"https://howtodoinjava.com/spring-rest/multipart-upload-download-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-rest/multipart-upload-download-exam&zwnj;&#8203;ple</a>"}],"answers":[{"tags":[],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652174518,"creation_date":1652174518,"answer_id":72183750,"question_id":72174958,"body_markdown":"Have you tried to modify the key name on your request?\r\nIn your code, you named &#39;file&#39; to your MultipartFile, but in postman you named &#39;type&#39; for your key text.\r\nTry to name &#39;file&#39; instead of &#39;type&#39;","title":"How to send jsonfile in api Request","body":"<p>Have you tried to modify the key name on your request?\nIn your code, you named 'file' to your MultipartFile, but in postman you named 'type' for your key text.\nTry to name 'file' instead of 'type'</p>\n"},{"tags":[],"owner":{"account_id":3181898,"reputation":66,"user_id":2688406,"accept_rate":44,"display_name":"vicky9988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652478267,"creation_date":1652478267,"answer_id":72235707,"question_id":72174958,"body_markdown":"Would like to add my answer in case anyone who also faces a similar issue can use it.\r\nTestController\r\n\r\n```\r\n@RestController\r\npublic class TestController {\r\n    \r\n    @PostMapping(&quot;/uploadJsonFile&quot;)    \r\n    public ResponseEntity&lt;String&gt; uplaodFile(@RequestParam(&quot;file&quot;) final MultipartFile file){\r\n        \r\n        System.out.println(&quot;Original File Name :- &quot;+file.getOriginalFilename());\r\n        System.out.println(&quot;File type :- &quot;+file.getName());\r\n        System.out.println(&quot;File Size :- &quot;+file.getSize()); \r\n        System.out.println(&quot;Content Type :- &quot;+file.getContentType());\r\n        //Validation file is empty\r\n        if(file.isEmpty()) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;File is Empty Insert Data&quot;); \r\n        }\r\n        \r\n        if(!file.getContentType().equals(&quot;application/json&quot;)) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;only json file content&quot;); \r\n        }\r\n        return ResponseEntity.ok(&quot;Upload File Sucessfully&quot;); \r\n    }\r\n}\r\n```\r\n\r\nPostman request\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gGWz4.png","title":"How to send jsonfile in api Request","body":"<p>Would like to add my answer in case anyone who also faces a similar issue can use it.\nTestController</p>\n<pre><code>@RestController\npublic class TestController {\n    \n    @PostMapping(&quot;/uploadJsonFile&quot;)    \n    public ResponseEntity&lt;String&gt; uplaodFile(@RequestParam(&quot;file&quot;) final MultipartFile file){\n        \n        System.out.println(&quot;Original File Name :- &quot;+file.getOriginalFilename());\n        System.out.println(&quot;File type :- &quot;+file.getName());\n        System.out.println(&quot;File Size :- &quot;+file.getSize()); \n        System.out.println(&quot;Content Type :- &quot;+file.getContentType());\n        //Validation file is empty\n        if(file.isEmpty()) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;File is Empty Insert Data&quot;); \n        }\n        \n        if(!file.getContentType().equals(&quot;application/json&quot;)) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;only json file content&quot;); \n        }\n        return ResponseEntity.ok(&quot;Upload File Sucessfully&quot;); \n    }\n}\n</code></pre>\n<p>Postman request</p>\n<p><a href=\"https://i.stack.imgur.com/gGWz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gGWz4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3181898,"reputation":66,"user_id":2688406,"accept_rate":44,"display_name":"vicky9988"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72235707,"answer_count":2,"score":0,"last_activity_date":1652478267,"creation_date":1652112185,"question_id":72174958,"body_markdown":"I am facing an issue while sending the json file in request for RestController, Please check the details below\r\n\r\nI have a json file , let say test.json\r\n```\r\n{\r\n    &quot;PolicyNumber&quot;: &quot;123&quot;,\r\n    &quot;Type&quot;: &quot;Test&quot;,\r\n    &quot;Tenture&quot;: &quot;10&quot;,\r\n    &quot;SDate&quot;: &quot;10-July-2016&quot;,\r\n    &quot;HName&quot;: &quot;Test User&quot;,\r\n    &quot;Age&quot;: &quot;10&quot;\r\n}\r\n ```\r\n\r\nI want to send the test.json file postman \r\n[![enter image description here][1]][1]\r\n\r\n**TestController**\r\n\r\n```\r\n@RestController\r\npublic class TestController {\r\n\t\r\n\t@PostMapping(value=&quot;/uploadJsonFile&quot;, consumes= {MediaType.MULTIPART_FORM_DATA_VALUE},\r\n\t\t     produces = {MediaType.APPLICATION_JSON_VALUE} )\r\n\t\r\n\tpublic ResponseEntity&lt;String&gt; uplaodFile(@RequestPart MultipartFile file){\r\n\t\t\r\n\t\tSystem.out.println(&quot;Original File Name :- &quot;+file.getOriginalFilename());\r\n\t\tSystem.out.println(&quot;File type :- &quot;+file.getName());\r\n\t\tSystem.out.println(&quot;File Size :- &quot;+file.getSize()); \r\n\t\tSystem.out.println(&quot;Content Type :- &quot;+file.getContentType());\r\n\t\t//Validation file is empty\r\n\t\tif(file.isEmpty()) {\r\n\t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;File is Empty Insert Data&quot;); \r\n\t\t}\r\n\t\t\r\n\t\tif(!file.getContentType().equals(&quot;application/json&quot;)) {\r\n\t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;only json file content&quot;); \r\n\t\t}\r\n\t\treturn ResponseEntity.ok(&quot;Upload File Sucessfully&quot;); \r\n\t}\r\n}\r\n```\r\nI have tried couple of ways like below\r\nIn method, if I used `@RequestBody` ,file is comes as null and when I used `@ResponseBody` or `@RequestPart` postman giving `400 bad request`  error message\r\n\r\nI also tried to used `@Controller` and `@RequestMapping(value=&quot;/uploadJsonFile&quot;, method= RequestMethod.POST` but no luck\r\n\r\n\r\n**Pom.xml file** \r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java-version&gt;1.8&lt;/java-version&gt;\r\n\t\t&lt;spring.version&gt;4.3.26.RELEASE&lt;/spring.version&gt;\r\n\t\t&lt;hibernate.version&gt;5.1.0.Final&lt;/hibernate.version&gt;\r\n\t\t&lt;springsecurity.version&gt;4.2.15.RELEASE&lt;/springsecurity.version&gt;\r\n\t\t&lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\r\n\t\t&lt;jcl.slf4j.version&gt;1.7.30&lt;/jcl.slf4j.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\n\r\n**Web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;\r\n\txmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_5.xsd&quot;&gt;\r\n\t&lt;display-name&gt;TestWebApp&lt;/display-name&gt;\r\n  \t&lt;welcome-file-list&gt;\r\n  \t\t&lt;welcome-file&gt;/WEB-INF/index.jsp&lt;/welcome-file&gt;\r\n  \t&lt;/welcome-file-list&gt;\r\n  \t\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\t\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**Spring-servlet.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\txmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    http://www.springframework.org/schema/beans/spring-beans-4.2.xsd\r\n    http://www.springframework.org/schema/context \r\n    http://www.springframework.org/schema/context/spring-context-4.2.xsd\r\n    http://www.springframework.org/schema/tx \r\n    http://www.springframework.org/schema/tx/spring-tx-4.2.xsd\r\n    http://www.springframework.org/schema/mvc \r\n    http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd\r\n    http://www.springframework.org/schema/security \r\n    http://www.springframework.org/schema/security/spring-security-4.2.xsd\r\n    http://www.springframework.org/schema/aop\r\n    http://www.springframework.org/schema/aop/spring-aop-4.2.xsd&quot;&gt;\r\n\r\n\t&lt;mvc:annotation-driven /&gt;\r\n\t&lt;context:component-scan\r\n\t\tbase-package=&quot;com.test.api&quot; /&gt;\r\n\t&lt;context:annotation-config /&gt;\r\n \r\n\t&lt;context:property-placeholder\r\n\t\tlocation=&quot;classpath:application.properties&quot; /&gt;\r\n\r\n\t&lt;mvc:resources mapping=&quot;/resources/**&quot;\r\n\t\tlocation=&quot;/resources/&quot; /&gt;\r\n\t\t\r\n &lt;mvc:annotation-driven validator=&quot;validator&quot;/&gt;\t\r\n \r\n\t\t&lt;bean id=&quot;messageSource&quot;\r\n\t\tclass=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;classpath:message&quot; /&gt;\r\n\t\t&lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t \r\n\t&lt;bean id=&quot;validator&quot; class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;validationMessageSource&quot; ref=&quot;messageSource&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot; /&gt;\r\n\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t    &lt;aop:aspectj-autoproxy/&gt;\r\n&lt;/beans&gt;\r\n\r\n```\r\n\r\nNote:- I have a very big json file, so can not send it as json data, need to send the json file only\r\n\r\n\r\nReally Appriciate any help here\r\n\r\n  [1]: https://i.stack.imgur.com/aEW6Q.png","title":"How to send jsonfile in api Request","body":"<p>I am facing an issue while sending the json file in request for RestController, Please check the details below</p>\n<p>I have a json file , let say test.json</p>\n<pre><code>{\n    &quot;PolicyNumber&quot;: &quot;123&quot;,\n    &quot;Type&quot;: &quot;Test&quot;,\n    &quot;Tenture&quot;: &quot;10&quot;,\n    &quot;SDate&quot;: &quot;10-July-2016&quot;,\n    &quot;HName&quot;: &quot;Test User&quot;,\n    &quot;Age&quot;: &quot;10&quot;\n}\n</code></pre>\n<p>I want to send the test.json file postman\n<a href=\"https://i.stack.imgur.com/aEW6Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEW6Q.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>TestController</strong></p>\n<pre><code>@RestController\npublic class TestController {\n    \n    @PostMapping(value=&quot;/uploadJsonFile&quot;, consumes= {MediaType.MULTIPART_FORM_DATA_VALUE},\n             produces = {MediaType.APPLICATION_JSON_VALUE} )\n    \n    public ResponseEntity&lt;String&gt; uplaodFile(@RequestPart MultipartFile file){\n        \n        System.out.println(&quot;Original File Name :- &quot;+file.getOriginalFilename());\n        System.out.println(&quot;File type :- &quot;+file.getName());\n        System.out.println(&quot;File Size :- &quot;+file.getSize()); \n        System.out.println(&quot;Content Type :- &quot;+file.getContentType());\n        //Validation file is empty\n        if(file.isEmpty()) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;File is Empty Insert Data&quot;); \n        }\n        \n        if(!file.getContentType().equals(&quot;application/json&quot;)) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;only json file content&quot;); \n        }\n        return ResponseEntity.ok(&quot;Upload File Sucessfully&quot;); \n    }\n}\n</code></pre>\n<p>I have tried couple of ways like below\nIn method, if I used <code>@RequestBody</code> ,file is comes as null and when I used <code>@ResponseBody</code> or <code>@RequestPart</code> postman giving <code>400 bad request</code>  error message</p>\n<p>I also tried to used <code>@Controller</code> and <code>@RequestMapping(value=&quot;/uploadJsonFile&quot;, method= RequestMethod.POST</code> but no luck</p>\n<p><strong>Pom.xml file</strong></p>\n<pre><code>&lt;properties&gt;\n        &lt;java-version&gt;1.8&lt;/java-version&gt;\n        &lt;spring.version&gt;4.3.26.RELEASE&lt;/spring.version&gt;\n        &lt;hibernate.version&gt;5.1.0.Final&lt;/hibernate.version&gt;\n        &lt;springsecurity.version&gt;4.2.15.RELEASE&lt;/springsecurity.version&gt;\n        &lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\n        &lt;jcl.slf4j.version&gt;1.7.30&lt;/jcl.slf4j.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p><strong>Web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;\n    xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_5.xsd&quot;&gt;\n    &lt;display-name&gt;TestWebApp&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/WEB-INF/index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    \n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n&lt;/web-app&gt;\n</code></pre>\n<p><strong>Spring-servlet.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n    xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-4.2.xsd\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-4.2.xsd\n    http://www.springframework.org/schema/tx \n    http://www.springframework.org/schema/tx/spring-tx-4.2.xsd\n    http://www.springframework.org/schema/mvc \n    http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd\n    http://www.springframework.org/schema/security \n    http://www.springframework.org/schema/security/spring-security-4.2.xsd\n    http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop-4.2.xsd&quot;&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan\n        base-package=&quot;com.test.api&quot; /&gt;\n    &lt;context:annotation-config /&gt;\n \n    &lt;context:property-placeholder\n        location=&quot;classpath:application.properties&quot; /&gt;\n\n    &lt;mvc:resources mapping=&quot;/resources/**&quot;\n        location=&quot;/resources/&quot; /&gt;\n        \n &lt;mvc:annotation-driven validator=&quot;validator&quot;/&gt; \n \n        &lt;bean id=&quot;messageSource&quot;\n        class=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\n        &lt;property name=&quot;basename&quot; value=&quot;classpath:message&quot; /&gt;\n        &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot; /&gt;\n    &lt;/bean&gt;\n    \n     \n    &lt;bean id=&quot;validator&quot; class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;\n        &lt;property name=&quot;validationMessageSource&quot; ref=&quot;messageSource&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean\n        class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot; /&gt;\n\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n        &lt;aop:aspectj-autoproxy/&gt;\n&lt;/beans&gt;\n\n</code></pre>\n<p>Note:- I have a very big json file, so can not send it as json data, need to send the json file only</p>\n<p>Really Appriciate any help here</p>\n"},{"tags":["java","mysql","spring","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583725842,"creation_date":1583725842,"answer_id":60594521,"question_id":60593326,"body_markdown":"You might need to add proxy in **settings.xml** as shown below\r\n\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;optional&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;https&lt;/protocol&gt;\r\n            &lt;username&gt;abc&lt;/&lt;/username&gt;\r\n            &lt;password&gt;abc123&lt;/password&gt;\r\n            &lt;host&gt;webproxy.company.com&lt;/host&gt;\r\n            &lt;port&gt;8081&lt;/port&gt;\r\n            &lt;!-- &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; --&gt;\r\n        &lt;/proxy&gt;\r\n    &lt;/proxies&gt;","title":"Why does the setup of a simple project with Maven and Hibernate fail?","body":"<p>You might need to add proxy in <strong>settings.xml</strong> as shown below</p>\n\n<pre><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;optional&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;https&lt;/protocol&gt;\n        &lt;username&gt;abc&lt;/&lt;/username&gt;\n        &lt;password&gt;abc123&lt;/password&gt;\n        &lt;host&gt;webproxy.company.com&lt;/host&gt;\n        &lt;port&gt;8081&lt;/port&gt;\n        &lt;!-- &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; --&gt;\n    &lt;/proxy&gt;\n&lt;/proxies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652477746,"creation_date":1583917129,"answer_id":60632355,"question_id":60593326,"body_markdown":"[Starting 15 January 2020][1], the Maven Central repository doesn&#39;t support insecure communication over plain HTTP. You have to adjust your local configuration.\n\nWith this in mind, we find an important detail in the error message:\n\n&gt; Return code is: 501, ReasonPhrase:**HTTPS Required**.\n\nAs we can see in the output, you are still using plain, un-encrypted connections to query/retrieve artefacts from Maven Central:\n\n&gt; Downloading: **http**://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar\n&gt;\n&gt; ...\n\nMake sure that your local *settings.xml* contains only entries with http**s** for the Maven central repositories in it. Consequently, the entry `http://repo.maven.apache.org/maven2/` must be changed into `https://repo.maven.apache.org/maven2/`.\n\nA minimal working configuration reads as follows:\n\n    &lt;profile&gt;\n        &lt;id&gt;maven-https&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt; \n    &lt;/profile&gt;\n\nHope it helps.\n\n\n  [1]: https://support.sonatype.com/hc/en-us/articles/360041287334","title":"Why does the setup of a simple project with Maven and Hibernate fail?","body":"<p><a href=\"https://support.sonatype.com/hc/en-us/articles/360041287334\" rel=\"nofollow noreferrer\">Starting 15 January 2020</a>, the Maven Central repository doesn't support insecure communication over plain HTTP. You have to adjust your local configuration.</p>\n<p>With this in mind, we find an important detail in the error message:</p>\n<blockquote>\n<p>Return code is: 501, ReasonPhrase:<strong>HTTPS Required</strong>.</p>\n</blockquote>\n<p>As we can see in the output, you are still using plain, un-encrypted connections to query/retrieve artefacts from Maven Central:</p>\n<blockquote>\n<p>Downloading: <strong>http</strong>://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar</p>\n<p>...</p>\n</blockquote>\n<p>Make sure that your local <em>settings.xml</em> contains only entries with http<strong>s</strong> for the Maven central repositories in it. Consequently, the entry <code>http://repo.maven.apache.org/maven2/</code> must be changed into <code>https://repo.maven.apache.org/maven2/</code>.</p>\n<p>A minimal working configuration reads as follows:</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;maven-https&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt; \n&lt;/profile&gt;\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":17126787,"reputation":27,"user_id":12393806,"display_name":"Dorian Gray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60632355,"answer_count":2,"score":0,"last_activity_date":1652477746,"creation_date":1583713227,"question_id":60593326,"body_markdown":"It is a simple project that consists of making a MySQL query and displaying it. I use NetBeans. The hibernate.xml and client.xml file were created by NetBeans (Hibernate Configuration Wizard and Hibernate Mapping Wizard). I really have no idea what the problem is.\r\n1) POM file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;alsoMaven&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.10.Final&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n2) Main Class:\r\n\r\n    public static void main(String[] args) {\r\n        StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\r\n                .configure() // obtiene los valores de hibernate.cfg.xml\r\n                .build();\r\n        try {\r\n            SessionFactory sessionFactory = new MetadataSources(registry)\r\n                    .buildMetadata().buildSessionFactory();\r\n            Session session = sessionFactory.openSession();\r\n            session.beginTransaction();\r\n            Cliente c = (Cliente) session.load(Cliente.class, 1);\r\n            System.out.println(c);\r\n            session.getTransaction().commit();\r\n            session.close();\r\n            sessionFactory.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n3) Exception:\r\n\r\n    ------------------------------------------------------------------------\r\n    Building alsoMaven 1.0-SNAPSHOT\r\n    ------------------------------------------------------------------------\r\n    Downloading: http://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar\r\n    Downloading: http://repo.maven.apache.org/maven2/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar\r\n    Downloading: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar\r\n    Downloading: http://repo.maven.apache.org/maven2/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar\r\n    \r\n    \r\n    \r\n    \r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time: 3.184s\r\n    Finished at: Sun Mar 08 21:10:54 GMT-03:00 2020\r\n    Final Memory: 6M/16M\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal on project alsoMaven: Could not resolve dependencies for project com.mycompany:alsoMaven:jar:1.0-SNAPSHOT: The following artifacts could not be resolved: org.jboss.logging:jboss-logging:jar:3.3.2.Final, org.javassist:javassist:jar:3.24.0-GA, org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final, org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final: Could not transfer artifact org.jboss.logging:jboss-logging:jar:3.3.2.Final from/to central (http://repo.maven.apache.org/maven2): Failed to transfer file: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar. Return code is: 501 , ReasonPhrase:HTTPS Required. -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n\r\nThx!","title":"Why does the setup of a simple project with Maven and Hibernate fail?","body":"<p>It is a simple project that consists of making a MySQL query and displaying it. I use NetBeans. The hibernate.xml and client.xml file were created by NetBeans (Hibernate Configuration Wizard and Hibernate Mapping Wizard). I really have no idea what the problem is.\n1) POM file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;alsoMaven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.10.Final&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>2) Main Class:</p>\n\n<pre><code>public static void main(String[] args) {\n    StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\n            .configure() // obtiene los valores de hibernate.cfg.xml\n            .build();\n    try {\n        SessionFactory sessionFactory = new MetadataSources(registry)\n                .buildMetadata().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        Cliente c = (Cliente) session.load(Cliente.class, 1);\n        System.out.println(c);\n        session.getTransaction().commit();\n        session.close();\n        sessionFactory.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>3) Exception:</p>\n\n<pre><code>------------------------------------------------------------------------\nBuilding alsoMaven 1.0-SNAPSHOT\n------------------------------------------------------------------------\nDownloading: http://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar\nDownloading: http://repo.maven.apache.org/maven2/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar\nDownloading: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar\nDownloading: http://repo.maven.apache.org/maven2/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar\n\n\n\n\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 3.184s\nFinished at: Sun Mar 08 21:10:54 GMT-03:00 2020\nFinal Memory: 6M/16M\n------------------------------------------------------------------------\nFailed to execute goal on project alsoMaven: Could not resolve dependencies for project com.mycompany:alsoMaven:jar:1.0-SNAPSHOT: The following artifacts could not be resolved: org.jboss.logging:jboss-logging:jar:3.3.2.Final, org.javassist:javassist:jar:3.24.0-GA, org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final, org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final: Could not transfer artifact org.jboss.logging:jboss-logging:jar:3.3.2.Final from/to central (http://repo.maven.apache.org/maven2): Failed to transfer file: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar. Return code is: 501 , ReasonPhrase:HTTPS Required. -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n\n<p>Thx!</p>\n"},{"tags":["java","spring-boot","jdbc","spring-batch","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652477551,"creation_date":1652477551,"answer_id":72235621,"question_id":72232321,"body_markdown":"The values to use in creating a `DataSource` are actually part of another class `DataSourceProperties`\r\nwhich you can also use to create a `DataSource`.\r\n\r\nFollowing is a snippet from [TaskDbConfig](https://github.com/fwi/db2rest/blob/master/src/test/java/com/github/fwi/db2rest/TaskDbConfig.java) (this class also contains information if you need more functions).\r\n\r\n```java\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;data1.datasource&quot;)\r\n\tpublic DataSourceProperties data1DataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\t\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;data1.datasource.hikari&quot;)\r\n\tpublic HikariDataSource data1DataSource() {\r\n\t\r\n\t\t// Different types are documented at\r\n\t\t// https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceBuilder.html\r\n\t\t\r\n\t\treturn data1DataSourceProperties().initializeDataSourceBuilder()\r\n\t\t\t.type(HikariDataSource.class).build();\r\n\t}\r\n```\r\n\r\n`application.yml`\r\n\r\n```yaml\r\ndata1.datasource.platform: h2\r\ndata1.datasource.url: &#39;jdbc:h2:mem:test&#39;\r\n\r\n# Hikari config properties: https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby\r\ndata1.datasource.hikari.minimumIdle: 1\r\ndata1.datasource.hikari.maximumPoolSize: 4\r\n```\r\n","title":"Spring Boot/Spring Batch: Using and configuring two DataSource via app properties","body":"<p>The values to use in creating a <code>DataSource</code> are actually part of another class <code>DataSourceProperties</code>\nwhich you can also use to create a <code>DataSource</code>.</p>\n<p>Following is a snippet from <a href=\"https://github.com/fwi/db2rest/blob/master/src/test/java/com/github/fwi/db2rest/TaskDbConfig.java\" rel=\"nofollow noreferrer\">TaskDbConfig</a> (this class also contains information if you need more functions).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport com.zaxxer.hikari.HikariDataSource;\n\n    @Bean\n    @ConfigurationProperties(&quot;data1.datasource&quot;)\n    public DataSourceProperties data1DataSourceProperties() {\n        return new DataSourceProperties();\n    }\n        \n    @Bean\n    @ConfigurationProperties(&quot;data1.datasource.hikari&quot;)\n    public HikariDataSource data1DataSource() {\n    \n        // Different types are documented at\n        // https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceBuilder.html\n        \n        return data1DataSourceProperties().initializeDataSourceBuilder()\n            .type(HikariDataSource.class).build();\n    }\n</code></pre>\n<p><code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>data1.datasource.platform: h2\ndata1.datasource.url: 'jdbc:h2:mem:test'\n\n# Hikari config properties: https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby\ndata1.datasource.hikari.minimumIdle: 1\ndata1.datasource.hikari.maximumPoolSize: 4\n</code></pre>\n"}],"owner":{"account_id":8597472,"reputation":101,"user_id":19111207,"display_name":"TeaCup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652477551,"creation_date":1652457248,"question_id":72232321,"body_markdown":"I&#39;m working with Spring Boot/Spring Batch, and need to provide two jdbc Data Sources.\r\n\r\nI can&#39;t find a way to automatically load the config parameters from my `application.properties`.\r\n\r\n\r\n```java\r\n//BatchConfiguration which uses both Data Sources:\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n\r\n  @Bean\r\n  public JdbcBatchItemWriter&lt;Customer&gt; writer(@Qualifier(&quot;dataSourceOne&quot;) DataSource dataSource) {\r\n    return new JdbcBatchItemWriterBuilder&lt;Customer&gt;()\r\n            .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\r\n            .sql(&quot;...&quot;))\r\n            .dataSource(dataSource)\r\n            .build();\r\n  }\r\n@Bean\r\n  public JdbcCursorItemReader&lt;Customer&gt; reader(@Qualifier(&quot;dataSourceTwo&quot;) DataSource dataSource) {\r\n    return new JdbcCursorItemReaderBuilder&lt;Customer&gt;()\r\n            .dataSource(dataSource)\r\n            .name(&quot;myItemReader&quot;)\r\n            .sql(&quot;...&quot;)\r\n            .rowMapper(new CustomerRowMapper())\r\n            .build();\r\n  }\r\n```\r\n\r\nAbove code works with the following Configuration, which has the DataSource provided directly:\r\n\r\n```java\r\n//WORKING SOLUTION\r\n@Configuration(proxyBeanMethods = false)\r\npublic class DataSourcesConfiguration {\r\n\r\n  @Bean(&quot;dataSourceOne&quot;)\r\n  @Primary\r\n  public DataSource dataSource() {\r\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    dataSourceBuilder.url(&quot;jdbc:h2:mem:AAA-h2&quot;);\r\n    dataSourceBuilder.username(&quot;AAA&quot;);\r\n    dataSourceBuilder.password(&quot;AAA&quot;);\r\n    dataSourceBuilder.driverClassName(&quot;org.h2.Driver&quot;);\r\n    return dataSourceBuilder.build();\r\n  }\r\n\r\n  @Bean(&quot;dataSourceTwo&quot;)\r\n  public DataSource dataSourceTwo() {\r\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    dataSourceBuilder.url(&quot;jdbc:oracle:thin:@AAA&quot;);\r\n    dataSourceBuilder.username(&quot;AAA&quot;);\r\n    dataSourceBuilder.password(&quot;AAA&quot;);\r\n    dataSourceBuilder.driverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n    return dataSourceBuilder.build();\r\n  }\r\n}\r\n```\r\n\r\nNow if I try to create the DataSource from my application properties via annotation `@ConfigurationProperties`, it will not work:\r\n\r\n```java\r\n//NOT WORKING\r\n@Configuration(proxyBeanMethods = false)\r\npublic class DataSourcesConfiguration {\r\n  @Bean(&quot;dataSourceOne&quot;)\r\n  @Primary\r\n  @ConfigurationProperties(prefix=&quot;data1.datasource&quot;)\r\n  public DataSource dataSource() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n\r\n  @Bean(&quot;dataSourceTwo&quot;)\r\n  @ConfigurationProperties(prefix=&quot;data2.datasource&quot;)\r\n  public DataSource dataSourceTwo() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n}\r\n```\r\n\r\napplication.properties:\r\n```java\r\ndata1.datasource.url=jdbc:h2:mem:AAA-h2\r\ndata1.datasource.username=AAA\r\ndata1.datasource.password=AAA\r\ndata1.datasource.driverClassName=org.h2.Driver\r\n\r\ndata2.datasource.url=jdbc:oracle:thin:@AAA\r\ndata2.datasource.username=AAA\r\ndata2.datasource.password=AAA\r\ndata2.datasource.driverClassName=oracle.jdbc.driver.OracleDriver\r\n```\r\n\r\nI receive the error `Unable to detect database type` in the non working version.\r\n\r\nHow can I correctly configure and provide a DataSource through my properties in `application.properties`?","title":"Spring Boot/Spring Batch: Using and configuring two DataSource via app properties","body":"<p>I'm working with Spring Boot/Spring Batch, and need to provide two jdbc Data Sources.</p>\n<p>I can't find a way to automatically load the config parameters from my <code>application.properties</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//BatchConfiguration which uses both Data Sources:\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n  @Bean\n  public JdbcBatchItemWriter&lt;Customer&gt; writer(@Qualifier(&quot;dataSourceOne&quot;) DataSource dataSource) {\n    return new JdbcBatchItemWriterBuilder&lt;Customer&gt;()\n            .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n            .sql(&quot;...&quot;))\n            .dataSource(dataSource)\n            .build();\n  }\n@Bean\n  public JdbcCursorItemReader&lt;Customer&gt; reader(@Qualifier(&quot;dataSourceTwo&quot;) DataSource dataSource) {\n    return new JdbcCursorItemReaderBuilder&lt;Customer&gt;()\n            .dataSource(dataSource)\n            .name(&quot;myItemReader&quot;)\n            .sql(&quot;...&quot;)\n            .rowMapper(new CustomerRowMapper())\n            .build();\n  }\n</code></pre>\n<p>Above code works with the following Configuration, which has the DataSource provided directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//WORKING SOLUTION\n@Configuration(proxyBeanMethods = false)\npublic class DataSourcesConfiguration {\n\n  @Bean(&quot;dataSourceOne&quot;)\n  @Primary\n  public DataSource dataSource() {\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n    dataSourceBuilder.url(&quot;jdbc:h2:mem:AAA-h2&quot;);\n    dataSourceBuilder.username(&quot;AAA&quot;);\n    dataSourceBuilder.password(&quot;AAA&quot;);\n    dataSourceBuilder.driverClassName(&quot;org.h2.Driver&quot;);\n    return dataSourceBuilder.build();\n  }\n\n  @Bean(&quot;dataSourceTwo&quot;)\n  public DataSource dataSourceTwo() {\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n    dataSourceBuilder.url(&quot;jdbc:oracle:thin:@AAA&quot;);\n    dataSourceBuilder.username(&quot;AAA&quot;);\n    dataSourceBuilder.password(&quot;AAA&quot;);\n    dataSourceBuilder.driverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n    return dataSourceBuilder.build();\n  }\n}\n</code></pre>\n<p>Now if I try to create the DataSource from my application properties via annotation <code>@ConfigurationProperties</code>, it will not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//NOT WORKING\n@Configuration(proxyBeanMethods = false)\npublic class DataSourcesConfiguration {\n  @Bean(&quot;dataSourceOne&quot;)\n  @Primary\n  @ConfigurationProperties(prefix=&quot;data1.datasource&quot;)\n  public DataSource dataSource() {\n    return DataSourceBuilder.create().build();\n  }\n\n  @Bean(&quot;dataSourceTwo&quot;)\n  @ConfigurationProperties(prefix=&quot;data2.datasource&quot;)\n  public DataSource dataSourceTwo() {\n    return DataSourceBuilder.create().build();\n  }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>data1.datasource.url=jdbc:h2:mem:AAA-h2\ndata1.datasource.username=AAA\ndata1.datasource.password=AAA\ndata1.datasource.driverClassName=org.h2.Driver\n\ndata2.datasource.url=jdbc:oracle:thin:@AAA\ndata2.datasource.username=AAA\ndata2.datasource.password=AAA\ndata2.datasource.driverClassName=oracle.jdbc.driver.OracleDriver\n</code></pre>\n<p>I receive the error <code>Unable to detect database type</code> in the non working version.</p>\n<p>How can I correctly configure and provide a DataSource through my properties in <code>application.properties</code>?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","spring-starter"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576220988,"post_id":59316463,"comment_id":104836108,"body_markdown":"Can you please start your app with `--debug` and share the condition evaluation report that it produces?","body":"Can you please start your app with <code>--debug</code> and share the condition evaluation report that it produces?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576221093,"post_id":59316463,"comment_id":104836142,"body_markdown":"Also, I can see OpenJPA in the logs, but no sign of it in your dependencies. Where is it coming from?","body":"Also, I can see OpenJPA in the logs, but no sign of it in your dependencies. Where is it coming from?"},{"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"score":0,"creation_date":1576227230,"post_id":59316463,"comment_id":104838561,"body_markdown":"it is coming form a library project","body":"it is coming form a library project"},{"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"score":0,"creation_date":1576227407,"post_id":59316463,"comment_id":104838659,"body_markdown":"--debug showing the same lo details","body":"--debug showing the same lo details"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576231034,"post_id":59316463,"comment_id":104840384,"body_markdown":"That doesn&#39;t sound right. `--debug` should cause quite a big change in the output. How did you set it?","body":"That doesn&#39;t sound right. <code>--debug</code> should cause quite a big change in the output. How did you set it?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576231106,"post_id":59316463,"comment_id":104840417,"body_markdown":"You haven&#39;t shown the library project in your pom. It&#39;s very hard to diagnose a problem without the complete picture. Can you please provide a [minimal, complete, and verifiable example](/help/mcve)?","body":"You haven&#39;t shown the library project in your pom. It&#39;s very hard to diagnose a problem without the complete picture. Can you please provide a <a href=\"/help/mcve\">minimal, complete, and verifiable example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":22333780,"reputation":51,"user_id":16563183,"display_name":"PxlCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652477095,"creation_date":1652477095,"answer_id":72235570,"question_id":59316463,"body_markdown":"This can be caused by the interfaces not being on the same level as the main class with the @SpringBootApplication annotation.\r\n\r\n**Here is an example.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/3BMHP.png\r\n\r\n**Notice that all sub-packages are on the same level as the @SpringBootApplication.**","title":"Spring boot 2.2.1- Unable to start embed tomcat(no errors in log)","body":"<p>This can be caused by the interfaces not being on the same level as the main class with the @SpringBootApplication annotation.</p>\n<p><strong>Here is an example.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3BMHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BMHP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Notice that all sub-packages are on the same level as the @SpringBootApplication.</strong></p>\n"}],"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652477095,"creation_date":1576213961,"question_id":59316463,"body_markdown":"Am working on a `Spring Boot` application having version `2.2.1RELEASE`.Application structure ,i have moved configuration into config folder as external configuration.Project structure should be like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen i run my application its showing following log\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.1.RELEASE)\r\n    \r\n    2019-12-12 20:34:41.631  INFO 375592 --- [           main] c.g.h.x.app.services.api.erviceMain  : Starting ServiceMain v1.0 on host-4 with PID 375592 (D:\\Service\\target\\Service-10.jar started by Administrator in D:\\Service\\target)\r\n    2019-12-12 20:34:41.636  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : The following profiles are active: Service\r\n    2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n    2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.\r\n    408  SybaseUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, whi\r\n    ch might increase class load times significantly.\r\n    296  SybaseUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name &#39;SybaseUnit&#39;, root URL [file:/D:/Service/targetService-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not\r\n     be available.\r\n    312  SybaseUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: &quot;A default ValidatorFactory could not be created.&quot;\r\n    2019-12-12 20:34:50.108  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;SybaseUnit&#39;\r\n    0  MssqlUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, which\r\n    might increase class load times significantly.\r\n    0  MssqlUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name &#39;MssqlUnit&#39;, root URL [file:/D:/Service/target/Service-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be\r\n    available.\r\n    0  MssqlUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: &quot;A default ValidatorFactory could not be created.&quot;\r\n    2019-12-12 20:34:50.140  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;MssqlUnit&#39;\r\n    log4j:WARN No appenders could be found for logger (com..manager.data).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    2019-12-12 20:34:53.284  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;TaskExecutor&#39;\r\n    2019-12-12 20:34:53.328  INFO 375592 --- [           main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version is: 1.4\r\n    2019-12-12 20:34:53.335  INFO 375592 --- [           main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [DSTU3]\r\n    2019-12-12 20:34:54.946  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\r\n    2019-12-12 20:34:55.343  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;asyncExecutor&#39;\r\n    2019-12-12 20:34:57.647  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : Started ServiceMain in 19.208 seconds (JVM running for 21.409)\r\n\r\n`Pom.xml` file having added following dependencies\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n              &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;!-- &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt; --&gt;\r\n              &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n              &lt;scope&gt;test&lt;/scope&gt;\r\n              &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&gt; I have tried following possible solutions.\r\n\r\n - update and clean my projects.\r\n - delete `.m2` repository\r\nand also refer following stack links. \r\n\r\n1.[Spring boot application not starting embedded tomcat][2]\r\n\r\n\r\n2.[Spring boot deployed on tomcat won&#39;t start][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CaDev.png\r\n  [2]: https://stackoverflow.com/questions/46617885/spring-boot-application-not-starting-embedded-tomcat\r\n  [3]: https://stackoverflow.com/questions/37919593/spring-boot-deployed-on-tomcat-wont-start\r\n\r\nDidn&#39;t get any solution yet.\r\n\r\nNote:-\r\nhave noticed two line in my log\r\n\r\n    2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n    2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.","title":"Spring boot 2.2.1- Unable to start embed tomcat(no errors in log)","body":"<p>Am working on a <code>Spring Boot</code> application having version <code>2.2.1RELEASE</code>.Application structure ,i have moved configuration into config folder as external configuration.Project structure should be like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/CaDev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CaDev.png\" alt=\"enter image description here\"></a></p>\n\n<p>When i run my application its showing following log</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.1.RELEASE)\n\n2019-12-12 20:34:41.631  INFO 375592 --- [           main] c.g.h.x.app.services.api.erviceMain  : Starting ServiceMain v1.0 on host-4 with PID 375592 (D:\\Service\\target\\Service-10.jar started by Administrator in D:\\Service\\target)\n2019-12-12 20:34:41.636  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : The following profiles are active: Service\n2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.\n408  SybaseUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, whi\nch might increase class load times significantly.\n296  SybaseUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name 'SybaseUnit', root URL [file:/D:/Service/targetService-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not\n be available.\n312  SybaseUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: \"A default ValidatorFactory could not be created.\"\n2019-12-12 20:34:50.108  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'SybaseUnit'\n0  MssqlUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, which\nmight increase class load times significantly.\n0  MssqlUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name 'MssqlUnit', root URL [file:/D:/Service/target/Service-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be\navailable.\n0  MssqlUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: \"A default ValidatorFactory could not be created.\"\n2019-12-12 20:34:50.140  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'MssqlUnit'\nlog4j:WARN No appenders could be found for logger (com..manager.data).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n2019-12-12 20:34:53.284  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'TaskExecutor'\n2019-12-12 20:34:53.328  INFO 375592 --- [           main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version is: 1.4\n2019-12-12 20:34:53.335  INFO 375592 --- [           main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [DSTU3]\n2019-12-12 20:34:54.946  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\n2019-12-12 20:34:55.343  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'asyncExecutor'\n2019-12-12 20:34:57.647  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : Started ServiceMain in 19.208 seconds (JVM running for 21.409)\n</code></pre>\n\n<p><code>Pom.xml</code> file having added following dependencies</p>\n\n<pre><code> &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n          &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                      &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n                      &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n                      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;!-- &lt;exclusion&gt;\n                      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt; --&gt;\n          &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n          &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>I have tried following possible solutions.</p>\n</blockquote>\n\n<ul>\n<li>update and clean my projects.</li>\n<li>delete <code>.m2</code> repository\nand also refer following stack links. </li>\n</ul>\n\n<p>1.<a href=\"https://stackoverflow.com/questions/46617885/spring-boot-application-not-starting-embedded-tomcat\">Spring boot application not starting embedded tomcat</a></p>\n\n<p>2.<a href=\"https://stackoverflow.com/questions/37919593/spring-boot-deployed-on-tomcat-wont-start\">Spring boot deployed on tomcat won't start</a></p>\n\n<p>Didn't get any solution yet.</p>\n\n<p>Note:-\nhave noticed two line in my log</p>\n\n<pre><code>2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1597431161,"post_id":63418536,"comment_id":112140789,"body_markdown":"You can use [Quartz](http://www.quartz-scheduler.org/) for this.","body":"You can use <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> for this."},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1597431838,"post_id":63418536,"comment_id":112141077,"body_markdown":"We already explored the idea if using quartz and constraints led us to choose simple, quick and dirty. Do you have an idea that can be done within this method?","body":"We already explored the idea if using quartz and constraints led us to choose simple, quick and dirty. Do you have an idea that can be done within this method?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1597432509,"post_id":63418536,"comment_id":112141355,"body_markdown":"What version of postgres are you running on? And are the person-ids selecte to receive a notification in its own table? Or can they be placed in a separate table? And are you willing to execute native queries?","body":"What version of postgres are you running on? And are the person-ids selecte to receive a notification in its own table? Or can they be placed in a separate table? And are you willing to execute native queries?"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652476913,"creation_date":1597433526,"answer_id":63419029,"question_id":63418536,"body_markdown":"[Quartz][QuartzHome] would be my mostly database-agnostic solution for the task at hand, but was ruled out, so we are not going to discuss it.\r\n\r\nThe solution we are going to explore instead makes the following assumptions:\r\n\r\n- Postgres `&gt;= 9.5` is used (because we are going to use [`SKIP LOCKED`, which was introduced in Postgresl 9.5][PostgresSkipLocked]).\r\n- It is okay to run a native query.\r\n\r\nUnder this conditions, we can retrieve batches of notifications from multiple instances of the application running through the following query:\r\n\r\n    SELECT * FROM expo_push_token FOR UPDATE SKIP LOCKED LIMIT 100;\r\n\r\nThis will retrieve and lock up to `100` entries from the table `expo_push_token`. If two instances of the application execute this query simultaneously, the received results will be disjoint. `100` is just some sample value. We may want to fine-tune this value for our use case. The locks stay active until the current transaction ends.\r\n\r\nAfter an instance has fetched a batch of notifications, it has to also delete the entries it locked from the table or otherwise mark that this entry has been processed (if we go down this route, we have to modify the query above to filter-out already processed entires) and **close the current transaction** to release the locks. Each instance of the application would then repeat this query until the query returns zero entries.\r\n\r\nThere is also an alternative approach: an instance first fetches a batch size of notifications to send, keeps the transaction to the database open (thus continues holding the lock on the database), sends out its notification and then deletes/updates the entries and closes the transactions.\r\n\r\nThe two solutions have different strengths/weaknesses:\r\n\r\n- the first solutions keeps the transaction short. But if the application crashes in the middle of sending out notificatiosn, the part of its batch that was not send out is lost in this run.\r\n- the second solution keeps the transaction open, for possibly a long time. If it crashes in the middle fo sending out notifications, all entries will be unlocked and its batch would be re-processed, possibly resulting in some notifications being sent out twice.\r\n\r\n---\r\n\r\nFor this solution to work, we also need some kind of job that fills table `expo_push_token` with the data we need. This job should run beforehand, i.e. its execution should not overlap with the notification sending process.\r\n\r\n[QuartzHome]: http://www.quartz-scheduler.org/\r\n[PostgresSkipLocked]: https://www.cybertec-postgresql.com/en/skip-locked-one-of-my-favorite-9-5-features/","title":"How to scale more than 1 instance and deal with scheduled task in spring?","body":"<p><a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> would be my mostly database-agnostic solution for the task at hand, but was ruled out, so we are not going to discuss it.</p>\n<p>The solution we are going to explore instead makes the following assumptions:</p>\n<ul>\n<li>Postgres <code>&gt;= 9.5</code> is used (because we are going to use <a href=\"https://www.cybertec-postgresql.com/en/skip-locked-one-of-my-favorite-9-5-features/\" rel=\"nofollow noreferrer\"><code>SKIP LOCKED</code>, which was introduced in Postgresl 9.5</a>).</li>\n<li>It is okay to run a native query.</li>\n</ul>\n<p>Under this conditions, we can retrieve batches of notifications from multiple instances of the application running through the following query:</p>\n<pre><code>SELECT * FROM expo_push_token FOR UPDATE SKIP LOCKED LIMIT 100;\n</code></pre>\n<p>This will retrieve and lock up to <code>100</code> entries from the table <code>expo_push_token</code>. If two instances of the application execute this query simultaneously, the received results will be disjoint. <code>100</code> is just some sample value. We may want to fine-tune this value for our use case. The locks stay active until the current transaction ends.</p>\n<p>After an instance has fetched a batch of notifications, it has to also delete the entries it locked from the table or otherwise mark that this entry has been processed (if we go down this route, we have to modify the query above to filter-out already processed entires) and <strong>close the current transaction</strong> to release the locks. Each instance of the application would then repeat this query until the query returns zero entries.</p>\n<p>There is also an alternative approach: an instance first fetches a batch size of notifications to send, keeps the transaction to the database open (thus continues holding the lock on the database), sends out its notification and then deletes/updates the entries and closes the transactions.</p>\n<p>The two solutions have different strengths/weaknesses:</p>\n<ul>\n<li>the first solutions keeps the transaction short. But if the application crashes in the middle of sending out notificatiosn, the part of its batch that was not send out is lost in this run.</li>\n<li>the second solution keeps the transaction open, for possibly a long time. If it crashes in the middle fo sending out notifications, all entries will be unlocked and its batch would be re-processed, possibly resulting in some notifications being sent out twice.</li>\n</ul>\n<hr />\n<p>For this solution to work, we also need some kind of job that fills table <code>expo_push_token</code> with the data we need. This job should run beforehand, i.e. its execution should not overlap with the notification sending process.</p>\n"}],"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63419029,"answer_count":1,"score":1,"last_activity_date":1652476913,"creation_date":1597431089,"question_id":63418536,"body_markdown":"I am having a push notifications being send to android and ios application through spring boot every day at 8am Europe/Paris.\r\n\r\nIf I run multiple instances, the notifications will send multiple times. I am thinking to send every day notifications send on the database, and check them but I am worried it still run multiple times, this is what I am doing:\r\n\r\n```java\r\n@Component\r\npublic class ScheduledTasks {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\r\n    @Autowired\r\n    private ExpoPushTokenRepository expoPushTokenRepository;\r\n\r\n    @Autowired\r\n    private ExpoPushNotificationService expoPushNotificationService;\r\n\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n\r\n    // TODO: if instances &gt; 1, this will run multiple times, save to database the notifications send and prevent multiple sending.\r\n    @Scheduled(cron = &quot;${cron.promotions.notification}&quot;, zone = &quot;Europe/Paris&quot;)\r\n    public void sendNewPromotionsNotification() {\r\n        List&lt;ExpoPushToken&gt; expoPushTokenList = expoPushTokenRepository.findAll();\r\n        ArrayList&lt;NotifyRequest&gt; notifyRequestList = new ArrayList&lt;&gt;();\r\n        for (ExpoPushToken expoPushToken : expoPushTokenList) {\r\n            NotifyRequest notifyRequest = new NotifyRequest(\r\n                    expoPushToken.getToken(),\r\n                    &quot;This is a test title&quot;,\r\n                    &quot;This is a test subtitle&quot;,\r\n                    &quot;This is a test body&quot;\r\n            );\r\n            notifyRequestList.add(notifyRequest);\r\n        }\r\n\r\n        expoPushNotificationService.sendPushNotificationToList(notifyRequestList);\r\n        log.info(&quot;{} Send push notification to &quot; + expoPushTokenList.size() + &quot; userse&quot;, dateFormat.format(new Date()));\r\n    }\r\n}\r\n```\r\n\r\nDoes anybody have an idea on how I can prevent that safely?\r\n","title":"How to scale more than 1 instance and deal with scheduled task in spring?","body":"<p>I am having a push notifications being send to android and ios application through spring boot every day at 8am Europe/Paris.</p>\n<p>If I run multiple instances, the notifications will send multiple times. I am thinking to send every day notifications send on the database, and check them but I am worried it still run multiple times, this is what I am doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ScheduledTasks {\n\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n\n    @Autowired\n    private ExpoPushTokenRepository expoPushTokenRepository;\n\n    @Autowired\n    private ExpoPushNotificationService expoPushNotificationService;\n\n    @Autowired\n    private MessageSource messageSource;\n\n    // TODO: if instances &gt; 1, this will run multiple times, save to database the notifications send and prevent multiple sending.\n    @Scheduled(cron = &quot;${cron.promotions.notification}&quot;, zone = &quot;Europe/Paris&quot;)\n    public void sendNewPromotionsNotification() {\n        List&lt;ExpoPushToken&gt; expoPushTokenList = expoPushTokenRepository.findAll();\n        ArrayList&lt;NotifyRequest&gt; notifyRequestList = new ArrayList&lt;&gt;();\n        for (ExpoPushToken expoPushToken : expoPushTokenList) {\n            NotifyRequest notifyRequest = new NotifyRequest(\n                    expoPushToken.getToken(),\n                    &quot;This is a test title&quot;,\n                    &quot;This is a test subtitle&quot;,\n                    &quot;This is a test body&quot;\n            );\n            notifyRequestList.add(notifyRequest);\n        }\n\n        expoPushNotificationService.sendPushNotificationToList(notifyRequestList);\n        log.info(&quot;{} Send push notification to &quot; + expoPushTokenList.size() + &quot; userse&quot;, dateFormat.format(new Date()));\n    }\n}\n</code></pre>\n<p>Does anybody have an idea on how I can prevent that safely?</p>\n"},{"tags":["java","postgresql","maven","heroku","jdbc"],"comments":[{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1460933081,"post_id":36683006,"comment_id":60955683,"body_markdown":"To clarify, when you add the `Class.forName` call, does the DB connection work?","body":"To clarify, when you add the <code>Class.forName</code> call, does the DB connection work?"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460933231,"post_id":36683006,"comment_id":60955715,"body_markdown":"locally, `forName()` catches the IntelliJ&#39;s jdbc driver and the connection works. On Heroku, `forName()` triggers the `ClassNotFoundException`","body":"locally, <code>forName()</code> catches the IntelliJ&#39;s jdbc driver and the connection works. On Heroku, <code>forName()</code> triggers the <code>ClassNotFoundException</code>"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1460933308,"post_id":36683006,"comment_id":60955735,"body_markdown":"Can you check if the postgres jar file is in your Heroku slug by running `heroku run ls target/dependency/`?","body":"Can you check if the postgres jar file is in your Heroku slug by running <code>heroku run ls target&#47;dependency&#47;</code>?"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460933507,"post_id":36683006,"comment_id":60955772,"body_markdown":"I get `ls: cannot access target/dependency/: No such file or directory`","body":"I get <code>ls: cannot access target&#47;dependency&#47;: No such file or directory</code>"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":1,"creation_date":1460933596,"post_id":36683006,"comment_id":60955795,"body_markdown":"That would suggest your JAR files are not being vendored (i.e. copied into the target directory during the build). Are you deploying with `git push` or `mvn heroku:deploy`?","body":"That would suggest your JAR files are not being vendored (i.e. copied into the target directory during the build). Are you deploying with <code>git push</code> or <code>mvn heroku:deploy</code>?"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460933707,"post_id":36683006,"comment_id":60955826,"body_markdown":"I am pushing to heroku using IntelliJ, therefore - using the git client, `git push`. I can try `mvn heroku:deploy`","body":"I am pushing to heroku using IntelliJ, therefore - using the git client, <code>git push</code>. I can try <code>mvn heroku:deploy</code>"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460934066,"post_id":36683006,"comment_id":60955887,"body_markdown":"It worked! Thanks a ton, @codefinger, for solving the mystery that lasted a couple of days!","body":"It worked! Thanks a ton, @codefinger, for solving the mystery that lasted a couple of days!"}],"answers":[{"tags":[],"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1542688487,"creation_date":1460934582,"answer_id":36683215,"question_id":36683006,"body_markdown":"Sometimes, convenience (like using IntelliJ&#39;s git integration to push to Heroku like I did) leads to unwanted problems.  \r\n\r\nI used `git push` to update my app on Heroku. Everything was fine, except the required libraries didn&#39;t fall into place.  \r\nTried `mvn heroku:deploy`, tested, everything works! Thanks [codefinger][1] for the suggestion.  \r\n\r\nIf anyone asks, here&#39;s how you do it if never done before:  \r\n1) Add the [Heroku Maven Plugin](https://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin) to your `pom.xml`:  \r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.0.6&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n2) Execute maven goal `heroku:deploy`.  \r\nThat&#39;s it\r\n\r\n  [1]: https://stackoverflow.com/users/63308/codefinger &quot;codefinger&quot;","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>Sometimes, convenience (like using IntelliJ's git integration to push to Heroku like I did) leads to unwanted problems.  </p>\n\n<p>I used <code>git push</code> to update my app on Heroku. Everything was fine, except the required libraries didn't fall into place.<br>\nTried <code>mvn heroku:deploy</code>, tested, everything works! Thanks <a href=\"https://stackoverflow.com/users/63308/codefinger\" title=\"codefinger\">codefinger</a> for the suggestion.  </p>\n\n<p>If anyone asks, here's how you do it if never done before:<br>\n1) Add the <a href=\"https://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin\" rel=\"nofollow noreferrer\">Heroku Maven Plugin</a> to your <code>pom.xml</code>:  </p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>2) Execute maven goal <code>heroku:deploy</code>.<br>\nThat's it</p>\n"},{"tags":[],"owner":{"account_id":7802176,"reputation":11,"user_id":6673916,"display_name":"markamaze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561689521,"creation_date":1561689521,"answer_id":56800302,"question_id":36683006,"body_markdown":"I had the same problem with connection working from local system, but not when deployed. Was the same issue, not having dependencies accessible, but for a build using a JAR, I just needed to make sure that I used a JAR that was self contained with all dependencies.","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>I had the same problem with connection working from local system, but not when deployed. Was the same issue, not having dependencies accessible, but for a build using a JAR, I just needed to make sure that I used a JAR that was self contained with all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":3813867,"reputation":306,"user_id":5854629,"display_name":"Akzok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640572780,"creation_date":1640572780,"answer_id":70491259,"question_id":36683006,"body_markdown":"There is a more direct solution than switching to `heroku-maven-plugin`: you can mark the postgresql dependency as having `runtime` scope:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.3.1&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThe default scope is `compile`, which results in Maven leaving it out since it&#39;s not referenced in the code.\r\n\r\nI&#39;ve added this answer because I ran into the same issue but had a lot of trouble with the `heroku-maven-plugin` approach (my project has multiple modules and that complicates things).  Adopting the plugin probably has other benefits, but configuring the dependency&#39;s scope was a much simpler fix in my case.","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>There is a more direct solution than switching to <code>heroku-maven-plugin</code>: you can mark the postgresql dependency as having <code>runtime</code> scope:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.3.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The default scope is <code>compile</code>, which results in Maven leaving it out since it's not referenced in the code.</p>\n<p>I've added this answer because I ran into the same issue but had a lot of trouble with the <code>heroku-maven-plugin</code> approach (my project has multiple modules and that complicates things).  Adopting the plugin probably has other benefits, but configuring the dependency's scope was a much simpler fix in my case.</p>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652476518,"creation_date":1652476518,"answer_id":72235494,"question_id":36683006,"body_markdown":"Quoting Heroku Help:\r\n\r\n&gt; This means you have parsed the DATABASE_URL wrong. You need to change\r\n&gt; postgres to postgresql in the connection string (JDBC does not support\r\n&gt; the &quot;postgres&quot; shorthand), or use the JDBC_DATABASE_URL config\r\n&gt; variable instead.\r\n\r\n[Also, make sure the dependency is runtime only][1].\r\n\r\n[source][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70491259/819651\r\n  [2]: https://help.heroku.com/51QYCRMZ/why-is-there-no-suitable-driver-found-for-jdbc-postgres","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>Quoting Heroku Help:</p>\n<blockquote>\n<p>This means you have parsed the DATABASE_URL wrong. You need to change\npostgres to postgresql in the connection string (JDBC does not support\nthe &quot;postgres&quot; shorthand), or use the JDBC_DATABASE_URL config\nvariable instead.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/70491259/819651\">Also, make sure the dependency is runtime only</a>.</p>\n<p><a href=\"https://help.heroku.com/51QYCRMZ/why-is-there-no-suitable-driver-found-for-jdbc-postgres\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1923,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36683215,"answer_count":4,"score":4,"last_activity_date":1652476518,"creation_date":1460932748,"question_id":36683006,"body_markdown":"Writing a pure Java server app for Heroku using Maven.\r\nConnecting to Heroku&#39;s Postgres database.  \r\nEverything works when running **locally**, using IntelliJ&#39;s config for running Java apps, specifying Heroku&#39;s DB URL as an environment variable. The app works, and I can connect to the DB.  \r\n*Note: I found out that IntelliJ somehow automatically uses its own Postgres driver, the one that I specified in pom.xml gets ignored, obviously*  \r\nHowever, when I **deploy** the app, i get the following error in my Heroku log as soon as I connect to the DB:  \r\n`java.lang.ClassNotFoundException: org.postgresql.Driver`  \r\n\r\nI followed the Heroku tutorial, but when I saw that there is no connection, I put  \r\n\r\n    Class.forName(&quot;org.postgresql.Driver&quot;);\r\nbefore \r\n\r\n    String dbUrl = System.getenv(&quot;JDBC_DATABASE_URL&quot;);\r\n    return DriverManager.getConnection(dbUrl);\r\njust to make sure the driver gets found. If I remove `Class.forName()...` check, I get the `no suitable driver found for` *[my db url]* error.  \r\nConcerning the last error, I tried both **JDBC_DATABASE_URL** and **DATABASE_URL** env vars, and even constructing the DB URL &quot;by hand&quot;, with `sslmode=require` etc, but still no luck.  \r\nMy pom.xml has *modelVersion, groupId, artifactId, version* and *name* specified, as well as:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.1208&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\nMy Procfile, that Heroku uses to launch the app, looks like this:\r\n\r\n    web: java $JAVA_OPTS -cp target/classes:&quot;target/dependency/*&quot; Main --port $PORT\r\nWhen I deploy the app, I get no errors, build is successful.  \r\n\r\nWhat can be the cause of the driver not loading? Am I forgetting something in pom.xml, or Procfile, or something else?","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>Writing a pure Java server app for Heroku using Maven.\nConnecting to Heroku's Postgres database.<br>\nEverything works when running <strong>locally</strong>, using IntelliJ's config for running Java apps, specifying Heroku's DB URL as an environment variable. The app works, and I can connect to the DB.<br>\n<em>Note: I found out that IntelliJ somehow automatically uses its own Postgres driver, the one that I specified in pom.xml gets ignored, obviously</em><br>\nHowever, when I <strong>deploy</strong> the app, i get the following error in my Heroku log as soon as I connect to the DB:<br>\n<code>java.lang.ClassNotFoundException: org.postgresql.Driver</code>  </p>\n\n<p>I followed the Heroku tutorial, but when I saw that there is no connection, I put  </p>\n\n<pre><code>Class.forName(\"org.postgresql.Driver\");\n</code></pre>\n\n<p>before </p>\n\n<pre><code>String dbUrl = System.getenv(\"JDBC_DATABASE_URL\");\nreturn DriverManager.getConnection(dbUrl);\n</code></pre>\n\n<p>just to make sure the driver gets found. If I remove <code>Class.forName()...</code> check, I get the <code>no suitable driver found for</code> <em>[my db url]</em> error.<br>\nConcerning the last error, I tried both <strong>JDBC_DATABASE_URL</strong> and <strong>DATABASE_URL</strong> env vars, and even constructing the DB URL \"by hand\", with <code>sslmode=require</code> etc, but still no luck.<br>\nMy pom.xml has <em>modelVersion, groupId, artifactId, version</em> and <em>name</em> specified, as well as:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.4.1208&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My Procfile, that Heroku uses to launch the app, looks like this:</p>\n\n<pre><code>web: java $JAVA_OPTS -cp target/classes:\"target/dependency/*\" Main --port $PORT\n</code></pre>\n\n<p>When I deploy the app, I get no errors, build is successful.  </p>\n\n<p>What can be the cause of the driver not loading? Am I forgetting something in pom.xml, or Procfile, or something else?</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":13095640,"reputation":264,"user_id":9461648,"display_name":"kokodyn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652476110,"creation_date":1652476110,"answer_id":72235451,"question_id":72223333,"body_markdown":"Consider using ```cache``` on monoStudent\r\n\r\n```\r\nMono&lt;Student&gt; cachedMonoStudent = studentRepository.save(student).cache();\r\n```\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\r\n","title":"Converting a mono object into two different mono object and the root mono is executing two times","body":"<p>Consider using <code>cache</code> on monoStudent</p>\n<pre><code>Mono&lt;Student&gt; cachedMonoStudent = studentRepository.save(student).cache();\n</code></pre>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--</a></p>\n"}],"owner":{"account_id":5064466,"reputation":21,"user_id":4064899,"display_name":"Sumit Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652476110,"creation_date":1652401785,"question_id":72223333,"body_markdown":"Suppose I have create a Student entity and storing it into database using reactive.\r\n\r\n      Student student{\r\n        id;\r\n        name;\r\n        institutionId; \r\n        courseId;\r\n    }\r\n\r\nI am storing this student entity using a reactive repository and in response finding a Mono&lt;Student&gt;. Now we are getting two mono String instituteName and courseName using instituteId and courseId reactively. \r\n\r\n    Mono&lt;Student&gt; monoStudent = studentRepository.save(student);\r\n\r\n    Mono&lt;String&gt; institutionName = monoStudent.flatMap(student -&gt; \r\n                                institutionRepository.findById(student.getInstitutionId))\r\n                  .map(institution -&gt; institution.getName());\r\n\r\n    Mono&lt;String&gt; courseName = monoStudent.flatMap(student -&gt; \r\n                       courseRepository.findById(student.getCourseId))\r\n                  .map(course -&gt; course.getName());\r\n\r\nWe are using monoStudent into two different chain to get institutionName and courseName, as a result studentRepository.save(student) is executing two times. How I could creating two different object without executing studentRepository.save(student) two times?\r\n","title":"Converting a mono object into two different mono object and the root mono is executing two times","body":"<p>Suppose I have create a Student entity and storing it into database using reactive.</p>\n<pre><code>  Student student{\n    id;\n    name;\n    institutionId; \n    courseId;\n}\n</code></pre>\n<p>I am storing this student entity using a reactive repository and in response finding a Mono. Now we are getting two mono String instituteName and courseName using instituteId and courseId reactively.</p>\n<pre><code>Mono&lt;Student&gt; monoStudent = studentRepository.save(student);\n\nMono&lt;String&gt; institutionName = monoStudent.flatMap(student -&gt; \n                            institutionRepository.findById(student.getInstitutionId))\n              .map(institution -&gt; institution.getName());\n\nMono&lt;String&gt; courseName = monoStudent.flatMap(student -&gt; \n                   courseRepository.findById(student.getCourseId))\n              .map(course -&gt; course.getName());\n</code></pre>\n<p>We are using monoStudent into two different chain to get institutionName and courseName, as a result studentRepository.save(student) is executing two times. How I could creating two different object without executing studentRepository.save(student) two times?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8643,"page":1349,"page_size":100}
