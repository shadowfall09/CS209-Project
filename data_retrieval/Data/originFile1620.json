{"items":[{"tags":["java","swing","printing","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1618914163,"post_id":67173468,"comment_id":118741301,"body_markdown":"I suspect that by specifying the DocFlavor as an image, you&#39;re &quot;forcing&quot; the printer attribute of the page size.   I&#39;ve always used startUp2, so I&#39;m not familiar with the code in startUp.","body":"I suspect that by specifying the DocFlavor as an image, you&#39;re &quot;forcing&quot; the printer attribute of the page size.   I&#39;ve always used startUp2, so I&#39;m not familiar with the code in startUp."},{"owner":{"account_id":2146649,"reputation":492,"user_id":2300791,"display_name":"user114676"},"score":0,"creation_date":1643987559,"post_id":67173468,"comment_id":125494337,"body_markdown":"I have this problem as well, and found this bug that is probably related:\nhttps://bugs.openjdk.java.net/browse/JDK-8246742","body":"I have this problem as well, and found this bug that is probably related: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8246742\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8246742</a>"}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643987559,"creation_date":1618899491,"question_id":67173468,"body_markdown":"The code below shows the standard AWT/Swing printing dialog. All works fine, but in the dialog clicking on the button &quot;Properties&quot; calls no printer properties dialog.\r\n\r\n\timport java.awt.GraphicsConfiguration;\r\n\timport java.awt.GraphicsEnvironment;\r\n\timport java.awt.print.PrinterJob;\r\n\timport java.util.Locale;\r\n\r\n\timport javax.print.DocFlavor;\r\n\timport javax.print.DocFlavor.SERVICE_FORMATTED;\r\n\timport javax.print.PrintService;\r\n\timport javax.print.PrintServiceLookup;\r\n\timport javax.print.ServiceUI;\r\n\timport javax.print.attribute.HashPrintRequestAttributeSet;\r\n\timport javax.print.attribute.PrintRequestAttributeSet;\r\n\timport javax.swing.SwingUtilities;\r\n\r\n\tpublic class PrintTryout {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLocale.setDefault(Locale.ENGLISH);\r\n\t\t\tSwingUtilities.invokeLater(new PrintTryout()::startUp);\r\n\t\t}\r\n\r\n\t\tprivate void startUp() {\r\n\t\t\tPrintService[] services = PrintServiceLookup.lookupPrintServices(\r\n\t\t\t\t\tDocFlavor.INPUT_STREAM.JPEG, null);\r\n\t\t\tPrintRequestAttributeSet attributes = new HashPrintRequestAttributeSet();\r\n\t\t\tif (services.length &gt; 0) {\r\n\t\t\t\tGraphicsConfiguration gc = GraphicsEnvironment.getLocalGraphicsEnvironment()\r\n\t\t\t\t\t\t.getDefaultScreenDevice().getDefaultConfiguration();\r\n\t\t\t\tServiceUI.printDialog(gc, 50, 50,\r\n\t\t\t\t\t\tservices, services[0],\r\n\t\t\t\t\t\tSERVICE_FORMATTED.PAGEABLE,\r\n\t\t\t\t\t\tattributes);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void startUp2() {\r\n\t\t\tPrinterJob pj = PrinterJob.getPrinterJob();\r\n\t\t\tpj.printDialog();\r\n\t\t}\r\n\t}\r\n\r\nIf I change the invoked method to `startUp2`, I get another printing dialog, that also has the &quot;Properties&quot; button. And this button works correct: I get printer setup dialog. Is it a Java Bug or do I something wrong? Or probably it works correct for somebody (I got this bug from a customer)?\r\n","title":"Swing: Properties button in the standard printing dialog has no effect (Java 8)","body":"<p>The code below shows the standard AWT/Swing printing dialog. All works fine, but in the dialog clicking on the button &quot;Properties&quot; calls no printer properties dialog.</p>\n<pre><code>import java.awt.GraphicsConfiguration;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.print.PrinterJob;\nimport java.util.Locale;\n\nimport javax.print.DocFlavor;\nimport javax.print.DocFlavor.SERVICE_FORMATTED;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.ServiceUI;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.swing.SwingUtilities;\n\npublic class PrintTryout {\n\n    public static void main(String[] args) {\n        Locale.setDefault(Locale.ENGLISH);\n        SwingUtilities.invokeLater(new PrintTryout()::startUp);\n    }\n\n    private void startUp() {\n        PrintService[] services = PrintServiceLookup.lookupPrintServices(\n                DocFlavor.INPUT_STREAM.JPEG, null);\n        PrintRequestAttributeSet attributes = new HashPrintRequestAttributeSet();\n        if (services.length &gt; 0) {\n            GraphicsConfiguration gc = GraphicsEnvironment.getLocalGraphicsEnvironment()\n                    .getDefaultScreenDevice().getDefaultConfiguration();\n            ServiceUI.printDialog(gc, 50, 50,\n                    services, services[0],\n                    SERVICE_FORMATTED.PAGEABLE,\n                    attributes);\n        }\n    }\n\n    private void startUp2() {\n        PrinterJob pj = PrinterJob.getPrinterJob();\n        pj.printDialog();\n    }\n}\n</code></pre>\n<p>If I change the invoked method to <code>startUp2</code>, I get another printing dialog, that also has the &quot;Properties&quot; button. And this button works correct: I get printer setup dialog. Is it a Java Bug or do I something wrong? Or probably it works correct for somebody (I got this bug from a customer)?</p>\n"},{"tags":["java","scala","hadoop","hdfs","export-to-csv"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643987424,"post_id":70984924,"comment_id":125492410,"body_markdown":"Sure, it&#39;s possible. For example, parallelize the data with Spark then write it. What have you tried so far?","body":"Sure, it&#39;s possible. For example, parallelize the data with Spark then write it. What have you tried so far?"},{"owner":{"account_id":23346013,"reputation":11,"user_id":17420303,"display_name":"Anish Aravindan"},"score":0,"creation_date":1644061777,"post_id":70984924,"comment_id":125508527,"body_markdown":"Thank you for your response @OneCricketeer . I&#39;m trying it to do without spark. I think I got the solution. Once the results are verified, I will be posting it","body":"Thank you for your response @OneCricketeer . I&#39;m trying it to do without spark. I think I got the solution. Once the results are verified, I will be posting it"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644069751,"post_id":70984924,"comment_id":125510147,"body_markdown":"Sure, you can write to a file locally, then use Filesystem class from Hadoop to upload. That&#39;s really all Spark is doing (although you can&#39;t control the file name, and it  splits the data into partitions)","body":"Sure, you can write to a file locally, then use Filesystem class from Hadoop to upload. That&#39;s really all Spark is doing (although you can&#39;t control the file name, and it  splits the data into partitions)"}],"owner":{"account_id":23346013,"reputation":11,"user_id":17420303,"display_name":"Anish Aravindan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643987434,"creation_date":1643970844,"question_id":70984924,"body_markdown":"I am having a listBuffer with some records. I need to write it into HDFS in CSV format.","title":"Is there any way to write a listBuffer to HDFS in CSV format using Scala/Java?","body":"<p>I am having a listBuffer with some records. I need to write it into HDFS in CSV format.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643987317,"creation_date":1643984759,"answer_id":70987962,"question_id":70987705,"body_markdown":"The **semicolon** at the end of your `if` statements means that the `if` statement is COMPLETE. The lines immediately following your `if` statements are then stand-alone, they do not &quot;belong&quot; to the `if` statements...which is why they always run.\r\n\r\nChange:\r\n\r\n    if (findWinner.equals(&quot;draw&quot;));\r\n    System.out.println(&quot;This game is a draw&quot;);\r\n\r\nTo:\r\n\r\n    if (findWinner.equals(&quot;draw&quot;))\r\n        System.out.println(&quot;This game is a draw&quot;);\r\n\r\nOr even better:\r\n\r\n    if (findWinner.equals(&quot;draw&quot;)) {\r\n        System.out.println(&quot;This game is a draw&quot;);\r\n    }\r\n\r\n&gt; Any advice on how i can get my initial choice to be saved so I don&#39;t\r\n&gt; have to keep typing it in ?\r\n\r\nIn `findWinner()`, you&#39;re calling `userChoice()` and `computerChoirce()` AGAIN. At that point, the values are already in the parameters that were passed in, so you don&#39;t need those. Comment them out or remove them:\r\n\r\n    public String findWinner(String yourChoice, String computerChoice) \r\n    {\r\n        // You don&#39;t need these two lines:\r\n        //yourChoice = userChoice();\r\n        //computerChoice = computerChoice(); \r\n\r\n        // ... other existing code ...\r\n    }\r\n\r\nThen, in `playRound()`, you are calling both `printPrompt()` and `userChoice()`, which each have their own input mechanism:\r\n\r\n    printPrompt();\r\n    String computerChoice=computerChoice();\r\n    String userChoice=userChoice();\r\n    System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\r\n\r\nI&#39;d get rid of `printPrompt()` and just do:\r\n\r\n    // printPrompt();\r\n    String computerChoice=computerChoice();\r\n    System.out.print(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \r\n    String userChoice=userChoice();\r\n    System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\r\n    \r\nYou have some broken logic in `findWinner()`. This does not do what you think it does:\r\n\r\n    if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \r\n    {\r\n        computerScore++;\r\n        Winner = (&quot;computer&quot;);\r\n    }\r\n\r\nI think what you were trying to do is make the computer win if the user did not type in &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;? If so, change your `if` statements to `else if` statements and add a final `else` block:\r\n\r\n    public String findWinner(String yourChoice, String computerChoice) \r\n    {\r\n        String Winner = &quot;&quot;;\r\n\r\n        if (yourChoice.equals(computerChoice))\r\n        {\r\n            Winner = &quot;draw&quot;;\r\n        }\r\n        else if (yourChoice.equals(&quot;rock&quot;)) \r\n        {\r\n            if (computerChoice.equals(&quot;paper&quot;)) \r\n            {\r\n                computerScore++;\r\n                Winner = &quot;computer&quot;;\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;scissors&quot;))\r\n            {\r\n                yourScore++;\r\n                Winner = &quot;you&quot;;\r\n\r\n            }\r\n        }\r\n        else if (yourChoice.equals(&quot;paper&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;scissors&quot;))\r\n            {\r\n                computerScore++;\r\n                Winner = &quot;computer&quot;;\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;rock&quot;)) \r\n            {\r\n                yourScore++;\r\n                Winner = &quot;you&quot;;\r\n\r\n            }\r\n        }\r\n        else if (yourChoice.equals(&quot;scissors&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;rock&quot;))\r\n            {\r\n                computerScore ++;\r\n                Winner = &quot;computer&quot;;\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;paper&quot;))\r\n            {\r\n                yourScore++;\r\n                Winner = &quot;you&quot;;\r\n\r\n            }\r\n        }\r\n        else // user did not type &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;!\r\n        {\r\n            computerScore++;\r\n            Winner = (&quot;computer&quot;);\r\n\r\n        }\r\n\r\n        return Winner;\r\n    }\r\n\r\nLastly, MAJOR bug, you SWAPPED the order of your parameters when you called `findWinner()`.\r\n\r\nChange:\r\n\r\n    String findWinner = findWinner(computerChoice, userChoice);\r\n\r\nTo:\r\n\r\n    String findWinner = findWinner(userChoice, computerChoice);\r\n\r\nHope that helps!","title":"Having to resubmit user choice over and over","body":"<p>The <strong>semicolon</strong> at the end of your <code>if</code> statements means that the <code>if</code> statement is COMPLETE. The lines immediately following your <code>if</code> statements are then stand-alone, they do not &quot;belong&quot; to the <code>if</code> statements...which is why they always run.</p>\n<p>Change:</p>\n<pre><code>if (findWinner.equals(&quot;draw&quot;));\nSystem.out.println(&quot;This game is a draw&quot;);\n</code></pre>\n<p>To:</p>\n<pre><code>if (findWinner.equals(&quot;draw&quot;))\n    System.out.println(&quot;This game is a draw&quot;);\n</code></pre>\n<p>Or even better:</p>\n<pre><code>if (findWinner.equals(&quot;draw&quot;)) {\n    System.out.println(&quot;This game is a draw&quot;);\n}\n</code></pre>\n<blockquote>\n<p>Any advice on how i can get my initial choice to be saved so I don't\nhave to keep typing it in ?</p>\n</blockquote>\n<p>In <code>findWinner()</code>, you're calling <code>userChoice()</code> and <code>computerChoirce()</code> AGAIN. At that point, the values are already in the parameters that were passed in, so you don't need those. Comment them out or remove them:</p>\n<pre><code>public String findWinner(String yourChoice, String computerChoice) \n{\n    // You don't need these two lines:\n    //yourChoice = userChoice();\n    //computerChoice = computerChoice(); \n\n    // ... other existing code ...\n}\n</code></pre>\n<p>Then, in <code>playRound()</code>, you are calling both <code>printPrompt()</code> and <code>userChoice()</code>, which each have their own input mechanism:</p>\n<pre><code>printPrompt();\nString computerChoice=computerChoice();\nString userChoice=userChoice();\nSystem.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\n</code></pre>\n<p>I'd get rid of <code>printPrompt()</code> and just do:</p>\n<pre><code>// printPrompt();\nString computerChoice=computerChoice();\nSystem.out.print(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \nString userChoice=userChoice();\nSystem.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\n</code></pre>\n<p>You have some broken logic in <code>findWinner()</code>. This does not do what you think it does:</p>\n<pre><code>if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \n{\n    computerScore++;\n    Winner = (&quot;computer&quot;);\n}\n</code></pre>\n<p>I think what you were trying to do is make the computer win if the user did not type in &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;? If so, change your <code>if</code> statements to <code>else if</code> statements and add a final <code>else</code> block:</p>\n<pre><code>public String findWinner(String yourChoice, String computerChoice) \n{\n    String Winner = &quot;&quot;;\n\n    if (yourChoice.equals(computerChoice))\n    {\n        Winner = &quot;draw&quot;;\n    }\n    else if (yourChoice.equals(&quot;rock&quot;)) \n    {\n        if (computerChoice.equals(&quot;paper&quot;)) \n        {\n            computerScore++;\n            Winner = &quot;computer&quot;;\n\n        }\n        else if (computerChoice.equals(&quot;scissors&quot;))\n        {\n            yourScore++;\n            Winner = &quot;you&quot;;\n\n        }\n    }\n    else if (yourChoice.equals(&quot;paper&quot;))\n    {\n        if (computerChoice.equals(&quot;scissors&quot;))\n        {\n            computerScore++;\n            Winner = &quot;computer&quot;;\n\n        }\n        else if (computerChoice.equals(&quot;rock&quot;)) \n        {\n            yourScore++;\n            Winner = &quot;you&quot;;\n\n        }\n    }\n    else if (yourChoice.equals(&quot;scissors&quot;))\n    {\n        if (computerChoice.equals(&quot;rock&quot;))\n        {\n            computerScore ++;\n            Winner = &quot;computer&quot;;\n\n        }\n        else if (computerChoice.equals(&quot;paper&quot;))\n        {\n            yourScore++;\n            Winner = &quot;you&quot;;\n\n        }\n    }\n    else // user did not type &quot;rock&quot;, &quot;paper&quot;, or &quot;scissors&quot;!\n    {\n        computerScore++;\n        Winner = (&quot;computer&quot;);\n\n    }\n\n    return Winner;\n}\n</code></pre>\n<p>Lastly, MAJOR bug, you SWAPPED the order of your parameters when you called <code>findWinner()</code>.</p>\n<p>Change:</p>\n<pre><code>String findWinner = findWinner(computerChoice, userChoice);\n</code></pre>\n<p>To:</p>\n<pre><code>String findWinner = findWinner(userChoice, computerChoice);\n</code></pre>\n<p>Hope that helps!</p>\n"}],"owner":{"display_name":"user10812253"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70987962,"answer_count":1,"score":0,"last_activity_date":1643987317,"creation_date":1643983651,"question_id":70987705,"body_markdown":"Hey guys having some trouble with a multi part question. I&#39;m trying to get a game of rock paper scissors done, when i try to test the code using the playRound method I have to input my choice over and over again and then it just prints out draw, you are the winner and the computer is the winner over and over, can anyone tell me where im going wrong ?\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n/**\r\n * A class that will play a game of rock paper scissors.\r\n *\r\n * @author (your name)\r\n * @version (a version number or a date)\r\n */\r\n\r\npublic class RockPaperScissors\r\n{\r\n    private Scanner reader;\r\n    private int yourScore;\r\n    private int computerScore;\r\n    private Random ran = new Random();\r\n\r\n    public RockPaperScissors()\r\n    {\r\n        reader = new Scanner(System.in);\r\n        yourScore = 0;\r\n        computerScore=0;\r\n        Random ran = new Random(); \r\n    }\r\n\r\n    public void printPrompt()\r\n    {\r\n        System.out.println(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \r\n        String userChoice = userChoice();\r\n        System.out.println();\r\n        System.out.println();\r\n        System.out.println(&quot;Enter your choice, paper, rock or scissors  &gt;&quot;+ userChoice);\r\n    }\r\n\r\n    public final String userChoice()\r\n    {\r\n        String userChoice= reader.next();\r\n        return userChoice;\r\n    }\r\n\r\n    public String computerChoice()\r\n    {\r\n        String compMove = (&quot;&quot;);\r\n        int cpuChoice = ran.nextInt(3);\r\n        switch(cpuChoice)\r\n        {\r\n            case 0:\r\n            {\r\n                compMove = (&quot;rock&quot;);\r\n                break;\r\n            }\r\n            case 1:\r\n            {\r\n                compMove = (&quot;paper&quot;);\r\n                break;\r\n            }\r\n            case 2:\r\n            {\r\n                compMove = (&quot;scissors&quot;);\r\n                break;\r\n            }\r\n\r\n        }\r\n        return (compMove);\r\n    }\r\n\r\n    public String findWinner(String yourChoice, String computerChoice) \r\n    {\r\n        yourChoice = userChoice();\r\n        computerChoice = computerChoice();\r\n        String Winner= null;\r\n\r\n        if (yourChoice.equals(computerChoice))\r\n        {\r\n            Winner = (&quot;draw&quot;);\r\n        }\r\n        if (yourChoice.equals(&quot;rock&quot;)) \r\n        {\r\n            if (computerChoice.equals(&quot;paper&quot;)) \r\n            {\r\n                computerScore++;\r\n                Winner = (&quot;computer&quot;);\r\n\r\n            }\r\n            else if (computerChoice == &quot;scissors&quot;)\r\n            {\r\n                yourScore++;\r\n                Winner = (&quot;you&quot;);\r\n\r\n            }\r\n        }\r\n        if (yourChoice.equals(&quot;paper&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;scissors&quot;))\r\n            {\r\n                computerScore++;\r\n                Winner = (&quot;computer&quot;);\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;rock&quot;)) \r\n            {\r\n                yourScore++;\r\n                Winner = (&quot;you&quot;);\r\n\r\n            }\r\n        }\r\n        if (yourChoice.equals(&quot;scissors&quot;))\r\n        {\r\n            if (computerChoice.equals(&quot;rock&quot;))\r\n            {\r\n                computerScore ++;\r\n                Winner = (&quot;computer&quot;);\r\n\r\n            }\r\n            else if (computerChoice.equals(&quot;paper&quot;))\r\n            {\r\n                yourScore++;\r\n                Winner = (&quot;you&quot;);\r\n\r\n            }\r\n        }\r\n        if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \r\n        {\r\n            computerScore++;\r\n            Winner = (&quot;computer&quot;);\r\n\r\n        }\r\n\r\n        return Winner;\r\n    }\r\n\r\n    public void playRound()\r\n    {\r\n        printPrompt();\r\n        String computerChoice=computerChoice();\r\n        String userChoice=userChoice();\r\n        System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\r\n        String findWinner = findWinner(computerChoice,userChoice);\r\n        \r\n        {\r\n            if (findWinner.equals(&quot;draw&quot;));\r\n            System.out.println(&quot;This game is a draw&quot;);\r\n            if (findWinner.equals(&quot;you&quot;));\r\n            System.out.println(&quot;You are the winner&quot;);\r\n            if (findWinner.equals(&quot;computer&quot;));\r\n            System.out.println(&quot;The computer is the winner&quot;);\r\n        }\r\n        System.out.println(&quot;You have &quot; + yourScore + &quot;and the computer has &quot;+ computerScore);\r\n    }\r\n}\r\n```","title":"Having to resubmit user choice over and over","body":"<p>Hey guys having some trouble with a multi part question. I'm trying to get a game of rock paper scissors done, when i try to test the code using the playRound method I have to input my choice over and over again and then it just prints out draw, you are the winner and the computer is the winner over and over, can anyone tell me where im going wrong ?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n/**\n * A class that will play a game of rock paper scissors.\n *\n * @author (your name)\n * @version (a version number or a date)\n */\n\npublic class RockPaperScissors\n{\n    private Scanner reader;\n    private int yourScore;\n    private int computerScore;\n    private Random ran = new Random();\n\n    public RockPaperScissors()\n    {\n        reader = new Scanner(System.in);\n        yourScore = 0;\n        computerScore=0;\n        Random ran = new Random(); \n    }\n\n    public void printPrompt()\n    {\n        System.out.println(&quot;Enter your choice, paper, rock or scissors &gt;&quot;); \n        String userChoice = userChoice();\n        System.out.println();\n        System.out.println();\n        System.out.println(&quot;Enter your choice, paper, rock or scissors  &gt;&quot;+ userChoice);\n    }\n\n    public final String userChoice()\n    {\n        String userChoice= reader.next();\n        return userChoice;\n    }\n\n    public String computerChoice()\n    {\n        String compMove = (&quot;&quot;);\n        int cpuChoice = ran.nextInt(3);\n        switch(cpuChoice)\n        {\n            case 0:\n            {\n                compMove = (&quot;rock&quot;);\n                break;\n            }\n            case 1:\n            {\n                compMove = (&quot;paper&quot;);\n                break;\n            }\n            case 2:\n            {\n                compMove = (&quot;scissors&quot;);\n                break;\n            }\n\n        }\n        return (compMove);\n    }\n\n    public String findWinner(String yourChoice, String computerChoice) \n    {\n        yourChoice = userChoice();\n        computerChoice = computerChoice();\n        String Winner= null;\n\n        if (yourChoice.equals(computerChoice))\n        {\n            Winner = (&quot;draw&quot;);\n        }\n        if (yourChoice.equals(&quot;rock&quot;)) \n        {\n            if (computerChoice.equals(&quot;paper&quot;)) \n            {\n                computerScore++;\n                Winner = (&quot;computer&quot;);\n\n            }\n            else if (computerChoice == &quot;scissors&quot;)\n            {\n                yourScore++;\n                Winner = (&quot;you&quot;);\n\n            }\n        }\n        if (yourChoice.equals(&quot;paper&quot;))\n        {\n            if (computerChoice.equals(&quot;scissors&quot;))\n            {\n                computerScore++;\n                Winner = (&quot;computer&quot;);\n\n            }\n            else if (computerChoice.equals(&quot;rock&quot;)) \n            {\n                yourScore++;\n                Winner = (&quot;you&quot;);\n\n            }\n        }\n        if (yourChoice.equals(&quot;scissors&quot;))\n        {\n            if (computerChoice.equals(&quot;rock&quot;))\n            {\n                computerScore ++;\n                Winner = (&quot;computer&quot;);\n\n            }\n            else if (computerChoice.equals(&quot;paper&quot;))\n            {\n                yourScore++;\n                Winner = (&quot;you&quot;);\n\n            }\n        }\n        if (!yourChoice.equals(&quot;rock||paper||scissors&quot;)) \n        {\n            computerScore++;\n            Winner = (&quot;computer&quot;);\n\n        }\n\n        return Winner;\n    }\n\n    public void playRound()\n    {\n        printPrompt();\n        String computerChoice=computerChoice();\n        String userChoice=userChoice();\n        System.out.println(&quot;You have chosen &quot; + userChoice + &quot; and the computer has chosen &quot; + computerChoice);\n        String findWinner = findWinner(computerChoice,userChoice);\n        \n        {\n            if (findWinner.equals(&quot;draw&quot;));\n            System.out.println(&quot;This game is a draw&quot;);\n            if (findWinner.equals(&quot;you&quot;));\n            System.out.println(&quot;You are the winner&quot;);\n            if (findWinner.equals(&quot;computer&quot;));\n            System.out.println(&quot;The computer is the winner&quot;);\n        }\n        System.out.println(&quot;You have &quot; + yourScore + &quot;and the computer has &quot;+ computerScore);\n    }\n}\n</code></pre>\n"},{"tags":["java","set","treemap"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643985735,"post_id":70988062,"comment_id":125491639,"body_markdown":"We ould use some clarification on the problem.  What does your source map look like?  What is your expected output?","body":"We ould use some clarification on the problem.  What does your source map look like?  What is your expected output?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1643986938,"post_id":70988062,"comment_id":125492197,"body_markdown":"Your `Map` can only contain one entry per key. You cannot have multiple numbers per name, that is a limitation of your input `Map`.","body":"Your <code>Map</code> can only contain one entry per key. You cannot have multiple numbers per name, that is a limitation of your input <code>Map</code>."}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643987144,"creation_date":1643987144,"answer_id":70988572,"question_id":70988062,"body_markdown":"Basically you want to invert `key` and `value` of your `phoneBook` map. Since one `name` can have multiple `number`s according to your example the output structure should be `Map&lt;String, List&lt;String&gt;&gt;`. With this name oriented phone book you can easily create your contact collection. E.g.\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = new HashMap&lt;&gt;();\r\n    phoneBook.forEach((k, v) -&gt; {\r\n        List&lt;String&gt; numbers = phoneBookByName.computeIfAbsent(k, s -&gt; new ArrayList&lt;&gt;());\r\n        numbers.add(v);\r\n    });\r\n    TreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\r\n    phoneBookByName.forEach((k, v) -&gt; contacts.add(k + &quot; - &quot; + String.join(&quot;, &quot;, v)));\r\n    return contacts;\r\n\r\nor using streams\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = phoneBook.entrySet().stream()\r\n        .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\r\n    return phoneBookByName.entrySet().stream()\r\n        .map(entry -&gt; entry.getKey() + &quot; - &quot; + String.join(&quot;, &quot;, entry.getValue()))\r\n        .collect(Collectors.toCollection(TreeSet::new));","title":"If I have two keys with equal value, how do I return a Set&lt;String&gt; kinda (value + &quot; - &quot; + key &quot;, &quot; + key)?","body":"<p>Basically you want to invert <code>key</code> and <code>value</code> of your <code>phoneBook</code> map. Since one <code>name</code> can have multiple <code>number</code>s according to your example the output structure should be <code>Map&lt;String, List&lt;String&gt;&gt;</code>. With this name oriented phone book you can easily create your contact collection. E.g.</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = new HashMap&lt;&gt;();\nphoneBook.forEach((k, v) -&gt; {\n    List&lt;String&gt; numbers = phoneBookByName.computeIfAbsent(k, s -&gt; new ArrayList&lt;&gt;());\n    numbers.add(v);\n});\nTreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\nphoneBookByName.forEach((k, v) -&gt; contacts.add(k + &quot; - &quot; + String.join(&quot;, &quot;, v)));\nreturn contacts;\n</code></pre>\n<p>or using streams</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; phoneBookByName = phoneBook.entrySet().stream()\n    .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\nreturn phoneBookByName.entrySet().stream()\n    .map(entry -&gt; entry.getKey() + &quot; - &quot; + String.join(&quot;, &quot;, entry.getValue()))\n    .collect(Collectors.toCollection(TreeSet::new));\n</code></pre>\n"}],"owner":{"account_id":23908796,"reputation":1,"user_id":18120160,"display_name":"sobaku gray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643987144,"creation_date":1643985130,"question_id":70988062,"body_markdown":"This code works only when I have a pair like name(value) + number(key), but I&#39;m stuck with situation like - name + number, number. It returns name + number1, name + number2   \r\n\r\n\r\n```\r\n public Set&lt;String&gt; getAllContacts() {\r\n        TreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\r\n        if (phoneBook.isEmpty()) {\r\n            return new TreeSet&lt;&gt;();\r\n        } else {\r\n            for (Map.Entry&lt;String, String&gt; entry : phoneBook.entrySet()) {\r\n                contacts.add(entry.getValue() + &quot; - &quot; + entry.getKey());\r\n            }\r\n        }\r\n        return contacts;\r\n    }\r\n```\r\n","title":"If I have two keys with equal value, how do I return a Set&lt;String&gt; kinda (value + &quot; - &quot; + key &quot;, &quot; + key)?","body":"<p>This code works only when I have a pair like name(value) + number(key), but I'm stuck with situation like - name + number, number. It returns name + number1, name + number2</p>\n<pre><code> public Set&lt;String&gt; getAllContacts() {\n        TreeSet&lt;String&gt; contacts = new TreeSet&lt;&gt;();\n        if (phoneBook.isEmpty()) {\n            return new TreeSet&lt;&gt;();\n        } else {\n            for (Map.Entry&lt;String, String&gt; entry : phoneBook.entrySet()) {\n                contacts.add(entry.getValue() + &quot; - &quot; + entry.getKey());\n            }\n        }\n        return contacts;\n    }\n</code></pre>\n"},{"tags":["java","selenium","pageobjects"],"comments":[{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":0,"creation_date":1643984950,"post_id":70987444,"comment_id":125491252,"body_markdown":"Can you add the implementation of the `PageFactory.initElements()` and the `getProductList()` method? The answer might be hidden there. It may be initialization issue.","body":"Can you add the implementation of the <code>PageFactory.initElements()</code> and the <code>getProductList()</code> method? The answer might be hidden there. It may be initialization issue."},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1643985827,"post_id":70987444,"comment_id":125491677,"body_markdown":"I edited main post","body":"I edited main post"},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1643998603,"post_id":70987444,"comment_id":125497049,"body_markdown":"@Aethernite let me add that getProductList(); and Webelements elems are 3 different items (correct), but when they are added to productInCart = new Product(elem);         productList.add(productInCart); &lt;- then it refers to the first one :(","body":"@Aethernite let me add that getProductList(); and Webelements elems are 3 different items (correct), but when they are added to productInCart = new Product(elem);         productList.add(productInCart); &lt;- then it refers to the first one :("}],"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643987071,"creation_date":1643982470,"question_id":70987444,"body_markdown":"EDITED:\r\nI need is to get list of 3 objects on a page and make actions on them.\r\nE.g. I have a Shop and some 3 items added to cart (Apple, Pear, Cucumber). I want to traverse through each item BUT also to click on some button on item[i]\r\n\r\nI got very confused and don&#39;t know why it returns a list of 3 elements, but when I `getListOfProducts().get(1).getName` or `(2)` it will always return attributes for the first one (Apple).\r\n\r\n\r\n    My Cart page:\r\n    \r\n        public class CartPage extends BasePage {\r\n        \r\n        public static Product productInCart;\r\n\r\n        @FindBy(css = &quot;div[class*=&#39;locatorName&#39;]&quot;) //same for 3 tiles\r\n        public List&lt;WebElement&gt; productList;\r\n    \r\n        public List&lt;WebElement&gt; getProductList() {\r\n            return productList;\r\n        }\r\n        \r\n            public CartPage(){\r\n                PageFactory.initElements(driver, this);\r\n            }\r\n        \r\n        public List&lt;Product&gt; getListOfProducts() {\r\n                List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\r\n                List&lt;WebElement&gt; list1 = getProductList();\r\n                for (WebElement elem : list1) {\r\n                    productInCart = new Product(elem);\r\n                    productList.add(productInCart);\r\n                }\r\n                return productList;\r\n            }\r\n        }\r\n\r\n//it returns 3 elements, but all with attributes of the first element\r\n\r\n    public class Product extends BasePage {\r\n        private WebElement elem;\r\n    \r\n    public Product(WebElement product) {\r\n            this.elem = product;\r\n            PageFactory.initElements(driver, this);\r\n        }\r\n    \r\n    //some Webelements etc\r\n    }\r\n\r\n\r\n    \r\n    public class BasePage {\r\n        public WebDriver driver;\r\n        public Wait wait;\r\n    \r\n        public BasePage(){\r\n            this.driver = Config.driver; //normal FF driver\r\n            this.wait = new Wait(this.driver);\r\n            PageFactory.initElements(driver, this);\r\n        }\r\n\r\n","title":"Get List of Elements in Page as Objects - returns always attributes of the first object","body":"<p>EDITED:\nI need is to get list of 3 objects on a page and make actions on them.\nE.g. I have a Shop and some 3 items added to cart (Apple, Pear, Cucumber). I want to traverse through each item BUT also to click on some button on item[i]</p>\n<p>I got very confused and don't know why it returns a list of 3 elements, but when I <code>getListOfProducts().get(1).getName</code> or <code>(2)</code> it will always return attributes for the first one (Apple).</p>\n<pre><code>My Cart page:\n\n    public class CartPage extends BasePage {\n    \n    public static Product productInCart;\n\n    @FindBy(css = &quot;div[class*='locatorName']&quot;) //same for 3 tiles\n    public List&lt;WebElement&gt; productList;\n\n    public List&lt;WebElement&gt; getProductList() {\n        return productList;\n    }\n    \n        public CartPage(){\n            PageFactory.initElements(driver, this);\n        }\n    \n    public List&lt;Product&gt; getListOfProducts() {\n            List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\n            List&lt;WebElement&gt; list1 = getProductList();\n            for (WebElement elem : list1) {\n                productInCart = new Product(elem);\n                productList.add(productInCart);\n            }\n            return productList;\n        }\n    }\n</code></pre>\n<p>//it returns 3 elements, but all with attributes of the first element</p>\n<pre><code>public class Product extends BasePage {\n    private WebElement elem;\n\npublic Product(WebElement product) {\n        this.elem = product;\n        PageFactory.initElements(driver, this);\n    }\n\n//some Webelements etc\n}\n\n\n\npublic class BasePage {\n    public WebDriver driver;\n    public Wait wait;\n\n    public BasePage(){\n        this.driver = Config.driver; //normal FF driver\n        this.wait = new Wait(this.driver);\n        PageFactory.initElements(driver, this);\n    }\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":2167335,"reputation":2113,"user_id":1920161,"accept_rate":76,"display_name":"Nikola"},"score":0,"creation_date":1484248778,"post_id":41621189,"comment_id":70443757,"body_markdown":"Maybe you should provide the `MainActivity` and show the line where this error occurs? I do not see a reason the current shown code to throw such error","body":"Maybe you should provide the <code>MainActivity</code> and show the line where this error occurs? I do not see a reason the current shown code to throw such error"},{"owner":{"account_id":4386158,"reputation":45,"user_id":3576248,"accept_rate":80,"display_name":"user3576248"},"score":0,"creation_date":1484248934,"post_id":41621189,"comment_id":70443855,"body_markdown":"the line when this error occurs is  when i try to cast the linearlayout:  btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);","body":"the line when this error occurs is  when i try to cast the linearlayout:  btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);"},{"owner":{"account_id":3705567,"reputation":6096,"user_id":3084205,"accept_rate":62,"display_name":"Stanislav Bondar"},"score":0,"creation_date":1484249086,"post_id":41621189,"comment_id":70443945,"body_markdown":"are you initialize views inside any method or just in class?","body":"are you initialize views inside any method or just in class?"}],"answers":[{"tags":[],"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1484251700,"creation_date":1484251700,"answer_id":41622041,"question_id":41621189,"body_markdown":"&gt; the strange is that the error only show when i run in tablets, in regular phone its normal\r\n\r\nDo you have any additional `layout-` folders declared in `/res`? My guess would be that you have another layout file sharing the same name in a size-specific folder (e.g. in `layout-xlarge`) which has `android:id=&quot;@+id/btCatalogo&quot;` assigned to an `AppCompatButton` rather than a `LinearLayout`.\r\n\r\nSee also - [Supporting Multiple Screens](https://developer.android.com/guide/practices/screens_support.html)","title":"android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout","body":"<blockquote>\n  <p>the strange is that the error only show when i run in tablets, in regular phone its normal</p>\n</blockquote>\n\n<p>Do you have any additional <code>layout-</code> folders declared in <code>/res</code>? My guess would be that you have another layout file sharing the same name in a size-specific folder (e.g. in <code>layout-xlarge</code>) which has <code>android:id=\"@+id/btCatalogo\"</code> assigned to an <code>AppCompatButton</code> rather than a <code>LinearLayout</code>.</p>\n\n<p>See also - <a href=\"https://developer.android.com/guide/practices/screens_support.html\" rel=\"nofollow noreferrer\">Supporting Multiple Screens</a></p>\n"}],"owner":{"account_id":4386158,"reputation":45,"user_id":3576248,"accept_rate":80,"display_name":"user3576248"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41622041,"answer_count":1,"score":-1,"last_activity_date":1643986923,"creation_date":1484248640,"question_id":41621189,"body_markdown":"I&#39;m developing an app and I had some errors. When I run on the tablet it gives this error, but when I go to mobile it works perfectly. I already tried to clean and rebuild and tried to reboot the computer but I&#39;m still having errors. \r\n\r\nSee the code below:\r\n\r\n    private LinearLayout btSobre, btCatalogo, btDistribuidores, btCadastro;\r\n    \r\n        btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);\r\n        btDistribuidores = (LinearLayout) findViewById(R.id.btDistribuidores);\r\n        btSobre = (LinearLayout) findViewById(R.id.btSobre);\r\n        btCadastro = (LinearLayout) findViewById(R.id.btCadastro);\r\n\r\n      btCadastro.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                chamarCadastro();\r\n            }\r\n        });\r\n\r\n        btSobre.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent chamada = new Intent(v.getContext(), SobreActivity.class);\r\n                startActivity(chamada);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        btCatalogo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent chamarCatalogo = new Intent(v.getContext(), CatalogoActivity.class);\r\n                chamarCatalogo.putExtra(&quot;conexao&quot;, conexao);\r\n                startActivity(chamarCatalogo);\r\n\r\n\r\n            }\r\n        });\r\n\r\n        btDistribuidores.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent chamarDistribuidores = new Intent(v.getContext(), DistribuidorActivity.class); //antigo porem na terceira entrega\r\n\r\n                startActivity(chamarDistribuidores);\r\n\r\n            }\r\n        });\r\n\r\nXML\r\n\r\n    &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/quadrado_curto&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:id=&quot;@+id/btCatalogo&quot;&gt;\r\n\r\nAnd the others `linearlayout` is the same, the error that show me is \r\n \r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{....MainActivity}: java.lang.ClassCastException: android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout\r\n\r\nThe strange thing is that the error only shows when I run in tablets, and on a regular phone it&#39;s normal. \r\n\r\n\r\n\r\n","title":"android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout","body":"<p>I'm developing an app and I had some errors. When I run on the tablet it gives this error, but when I go to mobile it works perfectly. I already tried to clean and rebuild and tried to reboot the computer but I'm still having errors.</p>\n<p>See the code below:</p>\n<pre><code>private LinearLayout btSobre, btCatalogo, btDistribuidores, btCadastro;\n\n    btCatalogo = (LinearLayout) findViewById(R.id.btCatalogo);\n    btDistribuidores = (LinearLayout) findViewById(R.id.btDistribuidores);\n    btSobre = (LinearLayout) findViewById(R.id.btSobre);\n    btCadastro = (LinearLayout) findViewById(R.id.btCadastro);\n\n  btCadastro.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            chamarCadastro();\n        }\n    });\n\n    btSobre.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent chamada = new Intent(v.getContext(), SobreActivity.class);\n            startActivity(chamada);\n\n        }\n    });\n\n\n    btCatalogo.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent chamarCatalogo = new Intent(v.getContext(), CatalogoActivity.class);\n            chamarCatalogo.putExtra(&quot;conexao&quot;, conexao);\n            startActivity(chamarCatalogo);\n\n\n        }\n    });\n\n    btDistribuidores.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent chamarDistribuidores = new Intent(v.getContext(), DistribuidorActivity.class); //antigo porem na terceira entrega\n\n            startActivity(chamarDistribuidores);\n\n        }\n    });\n</code></pre>\n<p>XML</p>\n<pre><code>&lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/quadrado_curto&quot;\n            android:orientation=&quot;vertical&quot;\n            android:clickable=&quot;true&quot;\n            android:id=&quot;@+id/btCatalogo&quot;&gt;\n</code></pre>\n<p>And the others <code>linearlayout</code> is the same, the error that show me is</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{....MainActivity}: java.lang.ClassCastException: android.support.v7.widget.AppCompatButton cannot be cast to android.widget.LinearLayout\n</code></pre>\n<p>The strange thing is that the error only shows when I run in tablets, and on a regular phone it's normal.</p>\n"},{"tags":["java","javafx","tablecolumn"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1643987456,"post_id":29512142,"comment_id":125492426,"body_markdown":"same problem as an older question: https://stackoverflow.com/questions/20798634/restore-oldvalue-in-tableview-after-editing-the-cell-javafx (closed as duplicate of this)","body":"same problem as an older question: <a href=\"https://stackoverflow.com/questions/20798634/restore-oldvalue-in-tableview-after-editing-the-cell-javafx\" title=\"restore oldvalue in tableview after editing the cell javafx\">stackoverflow.com/questions/20798634/&hellip;</a> (closed as duplicate of this)"}],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428500385,"creation_date":1428491872,"answer_id":29513121,"question_id":29512142,"body_markdown":"Try to use\r\n\r\n    TableColumn.CellEditEvent.getOldValue()\r\n\r\nFor example:\r\n\r\n            try {\r\n                someObject.rename(((StateDefinition) event.getTableView().getItems()\r\n                   .get(event.getTablePosition().getRow())).getState(), \r\n                       event.getNewValue());\r\n\r\n            } catch (MYException ex) {\r\n                MyNotificationCollector.addNotification(&quot;Failed renaming: &quot; \r\n                    + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\r\n\r\n                // popup error message code here\r\n                // Revert the cell&#39;s text to the previous value here...\r\n\r\n               someObject.rename(((StateDefinition) event.getTableView().getItems()\r\n                    .get(event.getTablePosition().getRow())).getState(),\r\n                       event.getOldValue());\r\n\r\n                // workaround for refreshing rendered view\r\n                event.getTableView().getColumns().get(0).setVisible(false);\r\n                event.getTableView().getColumns().get(0).setVisible(true);\r\n            }\r\n\r\nThe last 2 lines are oldy workarounds for refreshing tableview rendered values.\r\n\r\n**EDIT:**\r\n\r\nIf the backed data model (item fields of tableview) is not changed when the exception is thrown then just update tableview rendering in catch block with:\r\n\r\n    } catch (MYException ex) {\r\n                MyNotificationCollector.addNotification(&quot;Failed renaming: &quot; \r\n                    + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\r\n\r\n                // workaround for refreshing rendered view\r\n                event.getTableView().getColumns().get(0).setVisible(false);\r\n                event.getTableView().getColumns().get(0).setVisible(true);\r\n            }","title":"How do I restore a previous value in JavaFX TableColumn&#39;s onEditCommit?","body":"<p>Try to use</p>\n\n<pre><code>TableColumn.CellEditEvent.getOldValue()\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>        try {\n            someObject.rename(((StateDefinition) event.getTableView().getItems()\n               .get(event.getTablePosition().getRow())).getState(), \n                   event.getNewValue());\n\n        } catch (MYException ex) {\n            MyNotificationCollector.addNotification(\"Failed renaming: \" \n                + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\n\n            // popup error message code here\n            // Revert the cell's text to the previous value here...\n\n           someObject.rename(((StateDefinition) event.getTableView().getItems()\n                .get(event.getTablePosition().getRow())).getState(),\n                   event.getOldValue());\n\n            // workaround for refreshing rendered view\n            event.getTableView().getColumns().get(0).setVisible(false);\n            event.getTableView().getColumns().get(0).setVisible(true);\n        }\n</code></pre>\n\n<p>The last 2 lines are oldy workarounds for refreshing tableview rendered values.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>If the backed data model (item fields of tableview) is not changed when the exception is thrown then just update tableview rendering in catch block with:</p>\n\n<pre><code>} catch (MYException ex) {\n            MyNotificationCollector.addNotification(\"Failed renaming: \" \n                + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\n\n            // workaround for refreshing rendered view\n            event.getTableView().getColumns().get(0).setVisible(false);\n            event.getTableView().getColumns().get(0).setVisible(true);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643986366,"creation_date":1643986366,"answer_id":70988375,"question_id":29512142,"body_markdown":"It&#39;s a [bug in TableCell][1] (actually, all cells - though not noticeable for all types due to different reasons): happens if a custom commit handler rejects the edited value (or changes it in any way before writing it back to the data). The technical reason is calling updateItem with the newValue\r\n\r\n    @Override \r\n    public void commitEdit(T newValue) {\r\n        // ... cell book-keeping\r\n        // ... fire editCommitEvent to allow handler to save value\r\n        // update the item within this cell, so that it represents the new value\r\n        updateItem(newValue, false); // &lt;-- assumes that the handler saves the new value as-is\r\n\r\nUntil the issue is fixed (soon, hopefully ;) we can work around it by overriding the method, let it call super and then force a complete update:\r\n\r\n    @Override\r\n    public void commitEdit(T newValue) {\r\n        super.commitEdit(newValue);\r\n        updateIndex(getIndex());\r\n    }\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8187314","title":"How do I restore a previous value in JavaFX TableColumn&#39;s onEditCommit?","body":"<p>It's a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8187314\" rel=\"nofollow noreferrer\">bug in TableCell</a> (actually, all cells - though not noticeable for all types due to different reasons): happens if a custom commit handler rejects the edited value (or changes it in any way before writing it back to the data). The technical reason is calling updateItem with the newValue</p>\n<pre><code>@Override \npublic void commitEdit(T newValue) {\n    // ... cell book-keeping\n    // ... fire editCommitEvent to allow handler to save value\n    // update the item within this cell, so that it represents the new value\n    updateItem(newValue, false); // &lt;-- assumes that the handler saves the new value as-is\n</code></pre>\n<p>Until the issue is fixed (soon, hopefully ;) we can work around it by overriding the method, let it call super and then force a complete update:</p>\n<pre><code>@Override\npublic void commitEdit(T newValue) {\n    super.commitEdit(newValue);\n    updateIndex(getIndex());\n}\n</code></pre>\n"}],"owner":{"account_id":4285387,"reputation":143,"user_id":3503372,"accept_rate":30,"display_name":"Oren Sarid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1643986366,"creation_date":1428488936,"question_id":29512142,"body_markdown":"I have a table written in JavaFX, that the user has the option to edit one of its columns. When an editing of a cell takes place, I try to rename some internal object based on the new text. If that renaming fails, I issue a notification + popup an error dialog, and then I&#39;d like to restore the original text into that field. For some reason, this gets me into an infinite loop of error popups.\r\n\r\nThe code I currently have from the original writer is as follows:\r\n\r\n    mNameColumn.setOnEditCommit(\r\n        new EventHandler&lt;TableColumn.CellEditEvent&lt;StateDefinition, String&gt;&gt;() {\r\n            @Override\r\n            public void handle(TableColumn.CellEditEvent&lt;StateDefinition, String&gt; event) {\r\n                try {\r\n                    someObject.rename(((StateDefinition) event.getTableView().getItems().get(event.getTablePosition().getRow())).getState(), event.getNewValue());\r\n                } catch (MYException ex) {\r\n                    MyNotificationCollector.addNotification(&quot;Failed renaming: &quot; + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\r\n\t\t\t\t\t//popup error message code here\r\n                    // Need to revert the cell&#39;s text to the previous value here...\r\n                }\r\n            }\r\n        });\r\n\r\nAny idea on what I do wrong? How do I restore the old value without invoking the cell edit commit event again?\r\n\r\nThanks,\r\nOren","title":"How do I restore a previous value in JavaFX TableColumn&#39;s onEditCommit?","body":"<p>I have a table written in JavaFX, that the user has the option to edit one of its columns. When an editing of a cell takes place, I try to rename some internal object based on the new text. If that renaming fails, I issue a notification + popup an error dialog, and then I'd like to restore the original text into that field. For some reason, this gets me into an infinite loop of error popups.</p>\n\n<p>The code I currently have from the original writer is as follows:</p>\n\n<pre><code>mNameColumn.setOnEditCommit(\n    new EventHandler&lt;TableColumn.CellEditEvent&lt;StateDefinition, String&gt;&gt;() {\n        @Override\n        public void handle(TableColumn.CellEditEvent&lt;StateDefinition, String&gt; event) {\n            try {\n                someObject.rename(((StateDefinition) event.getTableView().getItems().get(event.getTablePosition().getRow())).getState(), event.getNewValue());\n            } catch (MYException ex) {\n                MyNotificationCollector.addNotification(\"Failed renaming: \" + ex.getLocalizedMessage(), NotificationType.SYSTEM_WARNING);\n                //popup error message code here\n                // Need to revert the cell's text to the previous value here...\n            }\n        }\n    });\n</code></pre>\n\n<p>Any idea on what I do wrong? How do I restore the old value without invoking the cell edit commit event again?</p>\n\n<p>Thanks,\nOren</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643984979,"post_id":70987731,"comment_id":125491269,"body_markdown":"What do you need to do?","body":"What do you need to do?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1643986812,"post_id":70987731,"comment_id":125492144,"body_markdown":"The scan for log4j - is it scanning jar files on the disk or is it trying to scan it&#39;s own classpath? The latter sounds a bit odd.","body":"The scan for log4j - is it scanning jar files on the disk or is it trying to scan it&#39;s own classpath? The latter sounds a bit odd."},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1644145293,"post_id":70987731,"comment_id":125523289,"body_markdown":"From the own classpath I want to get the jar location","body":"From the own classpath I want to get the jar location"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643984941,"creation_date":1643984941,"answer_id":70988010,"question_id":70987731,"body_markdown":"A jar is just a ZIP file. So once you know how to access the &#39;running&#39; jar, open it using [ZipFile][1] and scan it for the entry you like. Once you have the entry you also know the path inside the ZIP.\r\n\r\nIf by &#39;running jar&#39; you mean something on the classpath you could use any classes&#39; getClassLoader().getResource() method but in this case you&#39;d have to know the path to the contained jar upfront.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipFile.html","title":"Is there a way to get the relative path from a jar of a jar?","body":"<p>A jar is just a ZIP file. So once you know how to access the 'running' jar, open it using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipFile.html\" rel=\"nofollow noreferrer\">ZipFile</a> and scan it for the entry you like. Once you have the entry you also know the path inside the ZIP.</p>\n<p>If by 'running jar' you mean something on the classpath you could use any classes' getClassLoader().getResource() method but in this case you'd have to know the path to the contained jar upfront.</p>\n"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643985786,"creation_date":1643983774,"question_id":70987731,"body_markdown":"I have a requirement where I want to find the path of a jar that is inside the running jar. Let&#39;s say there is a jar called example-1.0.0.jar inside a running jar called main-1.0.0.jar. I want to know the path of that jar that is present inside the running jar.\r\n\r\n**Edit 1:**\r\nFor example, the jar is a dependency in the project. For example, let&#39;s say I have a log4j dependency in my project and I want to know the path of the log4j jar from a class. How can I get the path?","title":"Is there a way to get the relative path from a jar of a jar?","body":"<p>I have a requirement where I want to find the path of a jar that is inside the running jar. Let's say there is a jar called example-1.0.0.jar inside a running jar called main-1.0.0.jar. I want to know the path of that jar that is present inside the running jar.</p>\n<p><strong>Edit 1:</strong>\nFor example, the jar is a dependency in the project. For example, let's say I have a log4j dependency in my project and I want to know the path of the log4j jar from a class. How can I get the path?</p>\n"},{"tags":["java","spring-boot","jakarta-mail"],"comments":[{"owner":{"account_id":3330644,"reputation":91,"user_id":2799677,"accept_rate":25,"display_name":"Giver"},"score":1,"creation_date":1528974145,"post_id":50855828,"comment_id":88714378,"body_markdown":"Please look at it https://stackoverflow.com/questions/2996514/inline-images-in-email-using-javamail","body":"Please look at it <a href=\"https://stackoverflow.com/questions/2996514/inline-images-in-email-using-javamail\" title=\"inline images in email using javamail\">stackoverflow.com/questions/2996514/&hellip;</a>"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1528974316,"post_id":50855828,"comment_id":88714464,"body_markdown":"When you use cid while setting the images in email content it uses the attached images. Upload image in the server and use complete URL to image.","body":"When you use cid while setting the images in email content it uses the attached images. Upload image in the server and use complete URL to image."},{"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"score":0,"creation_date":1528981100,"post_id":50855828,"comment_id":88718776,"body_markdown":"But in the gmail app, it is displaying properly","body":"But in the gmail app, it is displaying properly"},{"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"score":0,"creation_date":1528984986,"post_id":50855828,"comment_id":88721303,"body_markdown":"@mallikarjun after changing the code to `mimeMessageHelper.setText(&quot;&lt;img src=&quot;+imageUrl+ &quot;/&gt;&quot;,true);` No image is coming!!","body":"@mallikarjun after changing the code to <code>mimeMessageHelper.setText(&quot;&lt;img src=&quot;+imageUrl+ &quot;&#47;&gt;&quot;,true);</code> No image is coming!!"}],"answers":[{"tags":[],"owner":{"account_id":21438885,"reputation":9,"user_id":15793838,"display_name":"Rahul Vijaykar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643985582,"creation_date":1643985582,"answer_id":70988188,"question_id":50855828,"body_markdown":"Hi you have to warp your Html content in a String and you use bellow code \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \t\r\n    \t\tMimeMessage message = (MimeMessage) getNewMessageInstance();//sender.createMimeMessage();\r\n    \t\tMimeMessageHelper helper = new MimeMessageHelper(message,true);\r\n    \t\ttry {\r\n    \t\t\tif (emailContent == null || emailContent.length() == 0) {\r\n    \t\t\t\tmessage.setContent(multipart);\r\n    \t\t\t} else {\r\n    \t\t\t\tmessage.setContent(emailContent, &quot;text/html; charset=utf-8&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.info(&quot;Exception while setting message content &quot;,e);\r\n    \t\t}\r\n    \t\t\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to send html email using JavaMailSender","body":"<p>Hi you have to warp your Html content in a String and you use bellow code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    \n        MimeMessage message = (MimeMessage) getNewMessageInstance();//sender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message,true);\n        try {\n            if (emailContent == null || emailContent.length() == 0) {\n                message.setContent(multipart);\n            } else {\n                message.setContent(emailContent, \"text/html; charset=utf-8\");\n            }\n        } catch (Exception e) {\n            log.info(\"Exception while setting message content \",e);\n        }\n        </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643985582,"creation_date":1528973717,"question_id":50855828,"body_markdown":"I am trying to send html as email from `JavaMailSender`. The `html` has an `&lt;img&gt;` tag. \r\n\r\n    MimeMessage mimeMessage = mailSender.createMimeMessage();\r\n    MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(mimeMessage,true);\r\n    mimeMessageHelper.setTo(&quot;preetham.kv@highpeaksw.com&quot;);\r\n    mimeMessageHelper.setText(&quot;&lt;img src=cid:netLogo\\&quot; /&gt;&quot;,true);\r\n    ClassPathResource netLogoImg = new ClassPathResource(&quot;sample.png&quot;);\r\n    mimeMessageHelper.addInline(&quot;netLogo&quot;,netLogoImg);\r\n    mailSender.send(mimeMessage);\r\n\r\nBut when the email is sent, the image is going as an attachment rather than the image of the email content. How to send html&#39;s with image and link from `spring-boot`?","title":"Unable to send html email using JavaMailSender","body":"<p>I am trying to send html as email from <code>JavaMailSender</code>. The <code>html</code> has an <code>&lt;img&gt;</code> tag. </p>\n\n<pre><code>MimeMessage mimeMessage = mailSender.createMimeMessage();\nMimeMessageHelper mimeMessageHelper = new MimeMessageHelper(mimeMessage,true);\nmimeMessageHelper.setTo(\"preetham.kv@highpeaksw.com\");\nmimeMessageHelper.setText(\"&lt;img src=cid:netLogo\\\" /&gt;\",true);\nClassPathResource netLogoImg = new ClassPathResource(\"sample.png\");\nmimeMessageHelper.addInline(\"netLogo\",netLogoImg);\nmailSender.send(mimeMessage);\n</code></pre>\n\n<p>But when the email is sent, the image is going as an attachment rather than the image of the email content. How to send html's with image and link from <code>spring-boot</code>?</p>\n"},{"tags":["java","io","inputstream","datainputstream"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643916528,"post_id":70975267,"comment_id":125473235,"body_markdown":"Are you saying that the stream source always sends *N* bytes, even though the image data may only take up a fraction of that?","body":"Are you saying that the stream source always sends <i>N</i> bytes, even though the image data may only take up a fraction of that?"},{"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"score":0,"creation_date":1643931320,"post_id":70975267,"comment_id":125477719,"body_markdown":"Yeah, more or less. It is a binary file that contains images, and right before each image i have the length of the image ; but the last bytes of the chunk that is supposed to be the image are just ... Useless bytes, I don&#39;t know why they are there, but the image reading function doesn&#39;t read them and I need to skip them to resume reading useful data","body":"Yeah, more or less. It is a binary file that contains images, and right before each image i have the length of the image ; but the last bytes of the chunk that is supposed to be the image are just ... Useless bytes, I don&#39;t know why they are there, but the image reading function doesn&#39;t read them and I need to skip them to resume reading useful data"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643931865,"post_id":70975267,"comment_id":125477834,"body_markdown":"You could pass an [ImageInputStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)) to ImageIO.read.  ImageInputStream has a `getStreamPosition()` method in addition to most of the standard InputStream methods and DataInput methods.  Just make sure you do all your reading through it, and not the underlying InputStream, as mixing reads from both will lead to strange behavior.","body":"You could pass an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageInputStream</a> to ImageIO.read.  ImageInputStream has a <code>getStreamPosition()</code> method in addition to most of the standard InputStream methods and DataInput methods.  Just make sure you do all your reading through it, and not the underlying InputStream, as mixing reads from both will lead to strange behavior."},{"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"score":0,"creation_date":1643934936,"post_id":70975267,"comment_id":125478402,"body_markdown":"hmm, this looks like what i need indeed. I am tempted to actually just replace my DataInputSteam with an ImageInputStream since it also has the DataInput methods, but since ImageInputStream is just an interface, i don&#39;t really know which class to use exactly. i&#39;ll try to look into that.","body":"hmm, this looks like what i need indeed. I am tempted to actually just replace my DataInputSteam with an ImageInputStream since it also has the DataInput methods, but since ImageInputStream is just an interface, i don&#39;t really know which class to use exactly. i&#39;ll try to look into that."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643935631,"post_id":70975267,"comment_id":125478525,"body_markdown":"Thats why I linked to a method for creating an ImageInputStream.  You dont need to care that its an interface.  Whats important is that youll have an object, of some type internal to ImageIO, which implements ImageInputStream.","body":"Thats why I linked to a method for creating an ImageInputStream.  You dont need to care that its an interface.  Whats important is that youll have an object, of some type internal to ImageIO, which implements ImageInputStream."},{"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"score":0,"creation_date":1643969945,"post_id":70975267,"comment_id":125485692,"body_markdown":"Oh yeah, so indeed i could entirely remplace my DataInputStream with a ImageInputStream (with soem refactoring since i am currently subclassing DIS)\nHowever i just ran into another problem : ImageIO.read(IIS) actually closes the stream.","body":"Oh yeah, so indeed i could entirely remplace my DataInputStream with a ImageInputStream (with soem refactoring since i am currently subclassing DIS) However i just ran into another problem : ImageIO.read(IIS) actually closes the stream."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643908055,"creation_date":1643907708,"answer_id":70975361,"question_id":70975267,"body_markdown":"All the buffered read methods return the actual number of bytes read.\r\n\r\nQuoting [documentation for InputStream#read(byte[] b)][1]:\r\n\r\n&gt; **Returns:**\r\nthe total number of bytes read into the buffer, or -1 if there is no more data because the end of the stream has been reached.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)","title":"Java : know how much bytes were read by ImageIO.read() (and maybe other similar methods)","body":"<p>All the buffered read methods return the actual number of bytes read.</p>\n<p>Quoting <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">documentation for InputStream#read(byte[] b)</a>:</p>\n<blockquote>\n<p><strong>Returns:</strong>\nthe total number of bytes read into the buffer, or -1 if there is no more data because the end of the stream has been reached.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643985468,"creation_date":1643985468,"answer_id":70988164,"question_id":70975267,"body_markdown":"[ImageInputStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)) can do what you want.  It implements [DataInput](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html) and it has most of the methods of InputStream.  And it has `getStreamPosition`, `seek` and `skipBytes` methods.\r\n\r\nHowever, as you correctly point out, `ImageIO.read(ImageInputStream)` would close the stream, preventing you from reading more than one image.\r\n\r\nThe solution is to avoid using ImageIO.read, and instead obtain an ImageReader explicitly, using [ImageIO.getImageReaders](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)).  Then you can invoke an ImageReaders [read](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageReader.html#read(int)) method, which does not close the stream.\r\n\r\nHeres how I implemented it:\r\n\r\n    public void readImages(InputStream source,\r\n                           Consumer&lt;? super BufferedImage&gt; imageHandler)\r\n    throws IOException {\r\n        // Every image is at a byte index which is a multiple of this number.\r\n        int boundary = 5000;\r\n\r\n        try (ImageInputStream stream = ImageIO.createImageInputStream(source)) {\r\n            while (true) {\r\n                long pos = stream.getStreamPosition();\r\n\r\n                Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(stream);\r\n                if (!readers.hasNext()) {\r\n                    break;\r\n                }\r\n\r\n                ImageReader reader = readers.next();\r\n                reader.setInput(stream);\r\n                BufferedImage image = reader.read(0);\r\n\r\n                imageHandler.accept(image);\r\n\r\n                pos = stream.getStreamPosition();\r\n                long bytesToSkip = boundary - (pos % boundary);\r\n                if (bytesToSkip &lt; boundary) {\r\n                    stream.skipBytes(bytesToSkip);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd heres how I tested it:\r\n\r\n    try (InputStream source = new BufferedInputStream(\r\n            Files.newInputStream(Path.of(filename)))) {\r\n\r\n        reader.readImages(source, img -&gt; EventQueue.invokeLater(() -&gt; {\r\n            JOptionPane.showMessageDialog(null, new ImageIcon(img));\r\n        }));\r\n    }\r\n","title":"Java : know how much bytes were read by ImageIO.read() (and maybe other similar methods)","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageInputStream(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageInputStream</a> can do what you want.  It implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html\" rel=\"nofollow noreferrer\">DataInput</a> and it has most of the methods of InputStream.  And it has <code>getStreamPosition</code>, <code>seek</code> and <code>skipBytes</code> methods.</p>\n<p>However, as you correctly point out, <code>ImageIO.read(ImageInputStream)</code> would close the stream, preventing you from reading more than one image.</p>\n<p>The solution is to avoid using ImageIO.read, and instead obtain an ImageReader explicitly, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageIO.getImageReaders</a>.  Then you can invoke an ImageReaders <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageReader.html#read(int)\" rel=\"nofollow noreferrer\">read</a> method, which does not close the stream.</p>\n<p>Heres how I implemented it:</p>\n<pre><code>public void readImages(InputStream source,\n                       Consumer&lt;? super BufferedImage&gt; imageHandler)\nthrows IOException {\n    // Every image is at a byte index which is a multiple of this number.\n    int boundary = 5000;\n\n    try (ImageInputStream stream = ImageIO.createImageInputStream(source)) {\n        while (true) {\n            long pos = stream.getStreamPosition();\n\n            Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(stream);\n            if (!readers.hasNext()) {\n                break;\n            }\n\n            ImageReader reader = readers.next();\n            reader.setInput(stream);\n            BufferedImage image = reader.read(0);\n\n            imageHandler.accept(image);\n\n            pos = stream.getStreamPosition();\n            long bytesToSkip = boundary - (pos % boundary);\n            if (bytesToSkip &lt; boundary) {\n                stream.skipBytes(bytesToSkip);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And heres how I tested it:</p>\n<pre><code>try (InputStream source = new BufferedInputStream(\n        Files.newInputStream(Path.of(filename)))) {\n\n    reader.readImages(source, img -&gt; EventQueue.invokeLater(() -&gt; {\n        JOptionPane.showMessageDialog(null, new ImageIcon(img));\n    }));\n}\n</code></pre>\n"}],"owner":{"account_id":15338522,"reputation":33,"user_id":11066168,"display_name":"TwilCynder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70988164,"answer_count":2,"score":-2,"last_activity_date":1643985468,"creation_date":1643907352,"question_id":70975267,"body_markdown":"i am making a java program that reads data from a binary stream (using a DataInputStream).  \r\n\r\nSometimes during this process i need to read a data chunk, however the method (which i cannot modify) that reads it will stop before reaching the end of the chunk (it is the normal behavior, apparently it just doesn&#39;t need the last bytes, but i can&#39;t do anything about the fact that they are there). This is not a problem in itself because i know exactly how long the chunk is, i.e. i know how many bytes there are in the chunk so i can skip bytes (with the `skipBytes(int)` method) until the end of the chunk ; **the problem is** : i don&#39;t actually know how many bytes the method actually read (or left), so i don&#39;t know how many bytes i need to skip to reach the end of the chunk.  \r\nIs there any way to :\r\n- know how many bytes were read in a stream since a certain point in time ?\r\n- know how many bytes were read in a stream since it was  ?\r\n- any other way i could know how many bytes my data-chunk-reading method just read (since it won&#39;t directly tell me) ?\r\n\r\n[Just in case, i made a small diagram][1]\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/veF3c.png","title":"Java : know how much bytes were read by ImageIO.read() (and maybe other similar methods)","body":"<p>i am making a java program that reads data from a binary stream (using a DataInputStream).</p>\n<p>Sometimes during this process i need to read a data chunk, however the method (which i cannot modify) that reads it will stop before reaching the end of the chunk (it is the normal behavior, apparently it just doesn't need the last bytes, but i can't do anything about the fact that they are there). This is not a problem in itself because i know exactly how long the chunk is, i.e. i know how many bytes there are in the chunk so i can skip bytes (with the <code>skipBytes(int)</code> method) until the end of the chunk ; <strong>the problem is</strong> : i don't actually know how many bytes the method actually read (or left), so i don't know how many bytes i need to skip to reach the end of the chunk.<br />\nIs there any way to :</p>\n<ul>\n<li>know how many bytes were read in a stream since a certain point in time ?</li>\n<li>know how many bytes were read in a stream since it was  ?</li>\n<li>any other way i could know how many bytes my data-chunk-reading method just read (since it won't directly tell me) ?</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/veF3c.png\" rel=\"nofollow noreferrer\">Just in case, i made a small diagram</a></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-mvc","jsp","tomcat"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643985281,"creation_date":1643985281,"answer_id":70988107,"question_id":70987559,"body_markdown":"HTTP does not allow to specify an encoding for the requested path. Thus in the past servers used OS settings which were actually confusing especially for applications used world-wide.\r\n\r\nTherefore the standard established to always encode requests as UTF-8, and even then there is the URLEncoding which would prevent UTF-8 problems by %-escaping any special characters.\r\n\r\nIn a nutshell, ensure your requests are properly encoded. Previous versions of Tomcat may not have errored on this. The requests are coming from the client, not the server itself.","title":"Invalid character found in the request target Tomcat 9","body":"<p>HTTP does not allow to specify an encoding for the requested path. Thus in the past servers used OS settings which were actually confusing especially for applications used world-wide.</p>\n<p>Therefore the standard established to always encode requests as UTF-8, and even then there is the URLEncoding which would prevent UTF-8 problems by %-escaping any special characters.</p>\n<p>In a nutshell, ensure your requests are properly encoded. Previous versions of Tomcat may not have errored on this. The requests are coming from the client, not the server itself.</p>\n"}],"owner":{"account_id":12078361,"reputation":43,"user_id":8831026,"display_name":"Raulitus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70988107,"answer_count":1,"score":1,"last_activity_date":1643985281,"creation_date":1643983045,"question_id":70987559,"body_markdown":"In the migration of a project that works correctly under Tomcat 7 to Tomcat 9 I am receiving the error Invalid character found in the request target when passing words with accents in the request.\r\n\r\nThe server.xml file was modified by introducing in the connector `URIEncoding=&quot;UTF-8`&quot; and the clause `relaxedQueryChars= &#225;&#193;&#233;&#201;&#237;&#205;&#243;&#211;&#250;&#218;` was also introduced, but I still receive the same error. I can&#39;t touch the actual code of the project.\r\n\r\nlog traces show this: `java.lang.IllegalArgumentException: Invalid character found in the request target [/sahab/lupaDem.do?filtro=LupaDem&amp;param1=1&amp;param2=29527&amp;param3=OBSERVACI0xd3N%20ANTIRR0xc1BICA`","title":"Invalid character found in the request target Tomcat 9","body":"<p>In the migration of a project that works correctly under Tomcat 7 to Tomcat 9 I am receiving the error Invalid character found in the request target when passing words with accents in the request.</p>\n<p>The server.xml file was modified by introducing in the connector <code>URIEncoding=&quot;UTF-8</code>&quot; and the clause <code>relaxedQueryChars= </code> was also introduced, but I still receive the same error. I can't touch the actual code of the project.</p>\n<p>log traces show this: <code>java.lang.IllegalArgumentException: Invalid character found in the request target [/sahab/lupaDem.do?filtro=LupaDem&amp;param1=1&amp;param2=29527&amp;param3=OBSERVACI0xd3N%20ANTIRR0xc1BICA</code></p>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1555258269,"creation_date":1555258269,"answer_id":55677368,"question_id":55676934,"body_markdown":"&gt;  But what kind of implicit intent is being created here?\r\n\r\nUm... an `ACTION_VIEW` `Intent`, to view the requested URL.\r\n\r\n&gt; can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?\r\n\r\nActivities are registered in the manifest. The OS basically has a database of all registered activities and their `&lt;intent-filter&gt;` details, and it uses that database to find candidates for any given implicit `Intent`.\r\n\r\n&gt;  Does it simply choose the default or ask the user to choose what app it wants to run in on?\r\n\r\nThat depends on a variety of factors, including:\r\n\r\n- Whether the user chose a default handler for that sort of `Intent` (e.g., chose a default Web browser)\r\n\r\n- Whether you wrap the `Intent` using `Intent.createChooser()` to force a chooser\r\n\r\n- Whether an app has registered an app link for the URL\r\n\r\n&gt; If the intent has already been linked to a class to start, why bother with intent.resolveActivity(getPackageManager()) at all?\r\n\r\nBecause there may be zero activities to handle the `Intent`. Even for something as common as a Web browser, the specific user might not have access to a browser app (secondary user profiles, etc.). If you try starting an activity, and there is no match, you get an `ActivityNotFoundException`, so this check is trying to avoid such an exception.\r\n\r\n&gt; but would I be sort-of correct in saying that Intent.ACTION_VIEW runs intent.resolveActivity(getPackageManager()) or another function that does similar and somehow incorporates the class it returns into my intent?\r\n\r\nNot really. It would be more correct to say that `resolveActivity()` queries the database that I mentioned to see what would handle the `Intent`, if anything.\r\n\r\n&gt; what is inside the package manager class?\r\n\r\nA little bit of Java code. It is mostly an IPC gateway to a core OS process, serving to query the database of installed apps, their capabilities, etc.\r\n","title":"What exactly is intent.resolveActivity(getPackageManager()) doing?","body":"<blockquote>\n  <p>But what kind of implicit intent is being created here?</p>\n</blockquote>\n\n<p>Um... an <code>ACTION_VIEW</code> <code>Intent</code>, to view the requested URL.</p>\n\n<blockquote>\n  <p>can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?</p>\n</blockquote>\n\n<p>Activities are registered in the manifest. The OS basically has a database of all registered activities and their <code>&lt;intent-filter&gt;</code> details, and it uses that database to find candidates for any given implicit <code>Intent</code>.</p>\n\n<blockquote>\n  <p>Does it simply choose the default or ask the user to choose what app it wants to run in on?</p>\n</blockquote>\n\n<p>That depends on a variety of factors, including:</p>\n\n<ul>\n<li><p>Whether the user chose a default handler for that sort of <code>Intent</code> (e.g., chose a default Web browser)</p></li>\n<li><p>Whether you wrap the <code>Intent</code> using <code>Intent.createChooser()</code> to force a chooser</p></li>\n<li><p>Whether an app has registered an app link for the URL</p></li>\n</ul>\n\n<blockquote>\n  <p>If the intent has already been linked to a class to start, why bother with intent.resolveActivity(getPackageManager()) at all?</p>\n</blockquote>\n\n<p>Because there may be zero activities to handle the <code>Intent</code>. Even for something as common as a Web browser, the specific user might not have access to a browser app (secondary user profiles, etc.). If you try starting an activity, and there is no match, you get an <code>ActivityNotFoundException</code>, so this check is trying to avoid such an exception.</p>\n\n<blockquote>\n  <p>but would I be sort-of correct in saying that Intent.ACTION_VIEW runs intent.resolveActivity(getPackageManager()) or another function that does similar and somehow incorporates the class it returns into my intent?</p>\n</blockquote>\n\n<p>Not really. It would be more correct to say that <code>resolveActivity()</code> queries the database that I mentioned to see what would handle the <code>Intent</code>, if anything.</p>\n\n<blockquote>\n  <p>what is inside the package manager class?</p>\n</blockquote>\n\n<p>A little bit of Java code. It is mostly an IPC gateway to a core OS process, serving to query the database of installed apps, their capabilities, etc.</p>\n"},{"tags":[],"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643984973,"creation_date":1643984973,"answer_id":70988018,"question_id":55676934,"body_markdown":"By the way this method can return null on Android 11 and higher caused by new restrictions addedd : https://developer.android.com/about/versions/11/privacy/package-visibility\r\nSo to resolve this issue we must add a queries under manifest : \r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;data android:scheme=&quot;https&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\nDon&#39;t forget to update the gradle plugin in case the queries items is not found :\r\n\r\n    classpath(&quot;com.android.tools.build:gradle:3.5.4&quot;)\r\n\r\n\r\n","title":"What exactly is intent.resolveActivity(getPackageManager()) doing?","body":"<p>By the way this method can return null on Android 11 and higher caused by new restrictions addedd : <a href=\"https://developer.android.com/about/versions/11/privacy/package-visibility\" rel=\"noreferrer\">https://developer.android.com/about/versions/11/privacy/package-visibility</a>\nSo to resolve this issue we must add a queries under manifest :</p>\n<pre><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data android:scheme=&quot;https&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>Don't forget to update the gradle plugin in case the queries items is not found :</p>\n<pre><code>classpath(&quot;com.android.tools.build:gradle:3.5.4&quot;)\n</code></pre>\n"}],"owner":{"account_id":13465829,"reputation":424,"user_id":9721336,"display_name":"koifish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20003,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":55677368,"answer_count":2,"score":18,"last_activity_date":1643984973,"creation_date":1555255545,"question_id":55676934,"body_markdown":"I&#39;m going through the [the Android Developer Tutorials][1] and I encountered a line of code that I do not understand.\r\n\r\nThis is the line of code (found on 4th page of the Android Developer tutorials.)\r\n\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\r\n        if (intent.resolveActivity(getPackageManager()) != null) {\r\n            startActivity(intent);\r\n        }\r\n\r\nI have a couple of questions.\r\n\r\n1) `Intent.ACTION_VIEW ` [documentation][2] says that it simply displays data to the user. I understand that the app it chooses will depend on the type of data to be displayed. For instance, in this case, the webpage is being parsed as a uri data type. But what kind of implicit intent is being created here? In the backend, can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?\r\n\r\n2) What happens if it finds multiple classes that can handle this? Does it simply choose the default or ask the user to choose what app it wants to run in on? When I ran the code on my phone, it simply started the Samsung Internet App by default.\r\n\r\n3) This is actually my main question. If the intent has already been linked to a class to start, why bother with `intent.resolveActivity(getPackageManager())`  at all? Its [documentation][3] specifies how it handles the class if a class is returned. So alright, a class is returned. But also this class that it returns is not &#39;incorporated&#39; in my `intent` at any line of my code, which makes me think that `Intent.ACTION_VIEW` has somehow already handled it for me. \r\n\r\nThis is going to a leap, but would I be sort-of correct in saying that `Intent.ACTION_VIEW` runs `intent.resolveActivity(getPackageManager())` or another function that does similar and somehow incorporates the class it returns into my intent?\r\n\r\n4) Also, out of curiosity, what is inside the [package manager class][4]? I read [here][5] that it is like a directory of application data. Would I be correct in saying that? What kind of data does it keep about the application and how can I go about accessing them. The documentation doesn&#39;t seem to help much.\r\n\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/android-training-activity-with-implicit-intent/index.html?index=..%2F..android-training#0\r\n  [2]: https://developer.android.com/reference/android/content/Intent.html#ACTION_VIEW\r\n  [3]: https://developer.android.com/reference/android/content/Intent.html#resolveActivity(android.content.pm.PackageManager)\r\n  [4]: https://developer.android.com/reference/android/content/pm/PackageManager.html\r\n  [5]: https://stackoverflow.com/questions/44620981/android-intents-resolveactivity-and-package-manager","title":"What exactly is intent.resolveActivity(getPackageManager()) doing?","body":"<p>I'm going through the <a href=\"https://codelabs.developers.google.com/codelabs/android-training-activity-with-implicit-intent/index.html?index=..%2F..android-training#0\" rel=\"noreferrer\">the Android Developer Tutorials</a> and I encountered a line of code that I do not understand.</p>\n\n<p>This is the line of code (found on 4th page of the Android Developer tutorials.)</p>\n\n<pre><code>    Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\n    if (intent.resolveActivity(getPackageManager()) != null) {\n        startActivity(intent);\n    }\n</code></pre>\n\n<p>I have a couple of questions.</p>\n\n<p>1) <code>Intent.ACTION_VIEW</code> <a href=\"https://developer.android.com/reference/android/content/Intent.html#ACTION_VIEW\" rel=\"noreferrer\">documentation</a> says that it simply displays data to the user. I understand that the app it chooses will depend on the type of data to be displayed. For instance, in this case, the webpage is being parsed as a uri data type. But what kind of implicit intent is being created here? In the backend, can I think of Android as going through all the classes in my phone and seeing which one has the intent filter that can possibly handle the data and creating the intent structure to start this class that it found?</p>\n\n<p>2) What happens if it finds multiple classes that can handle this? Does it simply choose the default or ask the user to choose what app it wants to run in on? When I ran the code on my phone, it simply started the Samsung Internet App by default.</p>\n\n<p>3) This is actually my main question. If the intent has already been linked to a class to start, why bother with <code>intent.resolveActivity(getPackageManager())</code>  at all? Its <a href=\"https://developer.android.com/reference/android/content/Intent.html#resolveActivity(android.content.pm.PackageManager)\" rel=\"noreferrer\">documentation</a> specifies how it handles the class if a class is returned. So alright, a class is returned. But also this class that it returns is not 'incorporated' in my <code>intent</code> at any line of my code, which makes me think that <code>Intent.ACTION_VIEW</code> has somehow already handled it for me. </p>\n\n<p>This is going to a leap, but would I be sort-of correct in saying that <code>Intent.ACTION_VIEW</code> runs <code>intent.resolveActivity(getPackageManager())</code> or another function that does similar and somehow incorporates the class it returns into my intent?</p>\n\n<p>4) Also, out of curiosity, what is inside the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager.html\" rel=\"noreferrer\">package manager class</a>? I read <a href=\"https://stackoverflow.com/questions/44620981/android-intents-resolveactivity-and-package-manager\">here</a> that it is like a directory of application data. Would I be correct in saying that? What kind of data does it keep about the application and how can I go about accessing them. The documentation doesn't seem to help much.</p>\n"},{"tags":["java","rest","jaxb","jersey","spring-jersey"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1643980210,"post_id":70986658,"comment_id":125489309,"body_markdown":"....Where is your InputParameters pojo?  There should be a class that defines properties for your JSON for example..","body":"....Where is your InputParameters pojo?  There should be a class that defines properties for your JSON for example.."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643980232,"post_id":70986658,"comment_id":125489314,"body_markdown":"Does your InputParameters pojo have a default constructor","body":"Does your InputParameters pojo have a default constructor"},{"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"score":0,"creation_date":1643984770,"post_id":70986658,"comment_id":125491164,"body_markdown":"No they don&#39;t because it&#39;s generated classes. Even I&#39;ve added a default constructor manually to the generated code but no luck. updated the earlier post with pojo","body":"No they don&#39;t because it&#39;s generated classes. Even I&#39;ve added a default constructor manually to the generated code but no luck. updated the earlier post with pojo"}],"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643984899,"creation_date":1643978983,"question_id":70986658,"body_markdown":"I&#39;ve generated java sources from wadl file through wadl2java maven plugin and wanted to create REST Services through Springboot jersey. It reaches the service but getting below Excetiption : \r\n\r\n    `Can not construct instance of javax.xml.bind.JAXBElement: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?) at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@198d51da; line: 5, column: 33] \r\n\r\nMy Service endpoint is something like this:\r\n\r\n    @Path(&quot;getdetails/&quot;)\r\n    public class GetdetailsResource {\r\n    \t\r\n        @POST\r\n        @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        public Response GETDETAILS(InputParameters parameters) {\r\n        \t&#39;&#39;&#39;&#39;&#39;\r\n        \tSystem.out.println(parameters);\r\n    ....\r\n            return null;\r\n        }\r\n    \r\n    }\r\nREST calls throws exception while Unmarshalling into creating InputParameters which has JAXBElement&lt;XXXX&gt; jaxbElement;\r\n\r\nSomehow the JaxbElement never gets instantiated even with the ObjectMapper as mentioned [here][1]\r\n\r\n\r\n  [1]: https://automationrhapsody.com/unmarshalconvert-json-data-jaxbelement-object/\r\n\r\nInputParameters class is like below:\r\n\r\n    XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;carray&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;InputParameters&quot;)\r\n    public class InputParameters {\r\n    \tpublic InputParameters() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n        @XmlElementRef(name = &quot;P_CONTRACT_ARRAY&quot;, namespace = &quot;http://xmlns.oracle.com/apps/getdetails/&quot;, type = JAXBElement.class, required = false)\r\n        protected JAXBElement&lt;APPAXX&gt; carray;\r\n    \r\n    \r\n        public JAXBElement&lt;APPAXX&gt; getcarray() {\r\n            return carray;\r\n        }\r\n    \r\n        public void setcarray(JAXBElement&lt;APPAXX&gt; value) {\r\n            this.carray = value;\r\n        }\r\n    \r\n    }","title":"How to unmarshall json to JAXBElement","body":"<p>I've generated java sources from wadl file through wadl2java maven plugin and wanted to create REST Services through Springboot jersey. It reaches the service but getting below Excetiption :</p>\n<pre><code>`Can not construct instance of javax.xml.bind.JAXBElement: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?) at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@198d51da; line: 5, column: 33] \n</code></pre>\n<p>My Service endpoint is something like this:</p>\n<pre><code>@Path(&quot;getdetails/&quot;)\npublic class GetdetailsResource {\n    \n    @POST\n    @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\n    public Response GETDETAILS(InputParameters parameters) {\n        '''''\n        System.out.println(parameters);\n....\n        return null;\n    }\n\n}\n</code></pre>\n<p>REST calls throws exception while Unmarshalling into creating InputParameters which has JAXBElement jaxbElement;</p>\n<p>Somehow the JaxbElement never gets instantiated even with the ObjectMapper as mentioned <a href=\"https://automationrhapsody.com/unmarshalconvert-json-data-jaxbelement-object/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>InputParameters class is like below:</p>\n<pre><code>XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;carray&quot;\n})\n@XmlRootElement(name = &quot;InputParameters&quot;)\npublic class InputParameters {\n    public InputParameters() {\n        // TODO Auto-generated constructor stub\n        System.out.println();\n    }\n\n    @XmlElementRef(name = &quot;P_CONTRACT_ARRAY&quot;, namespace = &quot;http://xmlns.oracle.com/apps/getdetails/&quot;, type = JAXBElement.class, required = false)\n    protected JAXBElement&lt;APPAXX&gt; carray;\n\n\n    public JAXBElement&lt;APPAXX&gt; getcarray() {\n        return carray;\n    }\n\n    public void setcarray(JAXBElement&lt;APPAXX&gt; value) {\n        this.carray = value;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jpa","schema","eclipselink","pojo"],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643959617,"creation_date":1643959617,"answer_id":70982770,"question_id":70978629,"body_markdown":"Well, it&#39;s interesting question. I don&#39;t know any tool that can do it automatically but I can imagine how to do it.\r\n\r\nSo, you write a test.\r\n\r\nIn the test you retrieve all fields from your model Java POJOs with reflection to an array, it&#39;s something like\r\n\r\n    Field[] allFields = YourJavaPOJO.class.getDeclaredFields();\r\n\r\nThen you retrieve all columns names from database to another array.\r\nTo do it you select one row from your table to a ResultSet and extract columns names from the ResultSet.\r\n\r\n    public String comparePojoWithDb() {\r\n        return jdbcTemplate.query(&quot;SELECT * FROM the_table fetch first 1 row only&quot;,  new comparePojoWithDbExtractor());\r\n      }\r\n      private static final class comparePojoWithDbExtractor implements ResultSetExtractor&lt;String&gt; {\r\n        @Override\r\n        public String extractData(ResultSet resultSet) throws SQLException {\r\n          return convertResultSetToColumnNamesArray(resultSet);\r\n        }\r\n      }\r\n    public static String convertResultSetToColumnNamesArray(ResultSet resultSet) throws SQLException {\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            while (resultSet.next()) {\r\n              for (int i = 0; i &lt; resultSet.getMetaData().getColumnCount(); i++) {\r\n               list.add(resultSet.getMetaData().getColumnLabel(i + 1));\r\n              }\r\n            }\r\n            return list;\r\n          }\r\n\r\n(!!! I skipped obvious convertions List &lt;-&gt; String[] &lt;--&gt; String &lt;--&gt; array)\r\n\r\nThe column&#39;s names can also be extracted in JPA with reflection from baseEntity.getClass().getFields() \r\n\r\nSo you got two arrays and you need to compare them.\r\n\r\nThe table can be empty, names of columns can differ in POJO because of columns annotations but all that generally can be done.","title":"How do I verify the schemas in Java POJOs and the DB match?","body":"<p>Well, it's interesting question. I don't know any tool that can do it automatically but I can imagine how to do it.</p>\n<p>So, you write a test.</p>\n<p>In the test you retrieve all fields from your model Java POJOs with reflection to an array, it's something like</p>\n<pre><code>Field[] allFields = YourJavaPOJO.class.getDeclaredFields();\n</code></pre>\n<p>Then you retrieve all columns names from database to another array.\nTo do it you select one row from your table to a ResultSet and extract columns names from the ResultSet.</p>\n<pre><code>public String comparePojoWithDb() {\n    return jdbcTemplate.query(&quot;SELECT * FROM the_table fetch first 1 row only&quot;,  new comparePojoWithDbExtractor());\n  }\n  private static final class comparePojoWithDbExtractor implements ResultSetExtractor&lt;String&gt; {\n    @Override\n    public String extractData(ResultSet resultSet) throws SQLException {\n      return convertResultSetToColumnNamesArray(resultSet);\n    }\n  }\npublic static String convertResultSetToColumnNamesArray(ResultSet resultSet) throws SQLException {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        while (resultSet.next()) {\n          for (int i = 0; i &lt; resultSet.getMetaData().getColumnCount(); i++) {\n           list.add(resultSet.getMetaData().getColumnLabel(i + 1));\n          }\n        }\n        return list;\n      }\n</code></pre>\n<p>(!!! I skipped obvious convertions List &lt;-&gt; String[] &lt;--&gt; String &lt;--&gt; array)</p>\n<p>The column's names can also be extracted in JPA with reflection from baseEntity.getClass().getFields()</p>\n<p>So you got two arrays and you need to compare them.</p>\n<p>The table can be empty, names of columns can differ in POJO because of columns annotations but all that generally can be done.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643984831,"creation_date":1643984831,"answer_id":70987985,"question_id":70978629,"body_markdown":"EclipseLink can validate the ORM metadata against the schema using its [IntegrityChecker][1]. Enabling it will have it get the DB metadata from the JDBC driver and validate that each mapping has the required columns in the database tables.\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/EclipseLink/Examples/JPA/IntegrityChecker","title":"How do I verify the schemas in Java POJOs and the DB match?","body":"<p>EclipseLink can validate the ORM metadata against the schema using its <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/IntegrityChecker\" rel=\"nofollow noreferrer\">IntegrityChecker</a>. Enabling it will have it get the DB metadata from the JDBC driver and validate that each mapping has the required columns in the database tables.</p>\n"}],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643984831,"creation_date":1643924212,"question_id":70978629,"body_markdown":"I have Java POJOs with `@Table`, `@Id`, `@Column`, etc.  How do I verify the schema represented in the Java POJOs matches the schema in the DB?\r\n\r\nI am using EclipseLink.  I know about eclipselink.ddl-generation=create-or-extend-tables, but I would like to make sure the Java POJOs &quot;schema&quot; matches the DB before I enable this.","title":"How do I verify the schemas in Java POJOs and the DB match?","body":"<p>I have Java POJOs with <code>@Table</code>, <code>@Id</code>, <code>@Column</code>, etc.  How do I verify the schema represented in the Java POJOs matches the schema in the DB?</p>\n<p>I am using EclipseLink.  I know about eclipselink.ddl-generation=create-or-extend-tables, but I would like to make sure the Java POJOs &quot;schema&quot; matches the DB before I enable this.</p>\n"},{"tags":["java","spring","spring-boot","ssl","spring-security"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1643985153,"post_id":70987935,"comment_id":125491362,"body_markdown":"How are you running the app when it can&#39;t find the `certificate.p12` file? Has the file made it from `src/main/resources` into a location where it&#39;ll be on the classpath?","body":"How are you running the app when it can&#39;t find the <code>certificate.p12</code> file? Has the file made it from <code>src&#47;main&#47;resources</code> into a location where it&#39;ll be on the classpath?"},{"owner":{"account_id":8508862,"reputation":57,"user_id":6379477,"accept_rate":75,"display_name":"Jaya Lakshmi"},"score":0,"creation_date":1644159954,"post_id":70987935,"comment_id":125526552,"body_markdown":"@AndyWilkinson The file is placed in the src/main/resources folder only. But still Iam facing this issue.","body":"@AndyWilkinson The file is placed in the src/main/resources folder only. But still Iam facing this issue."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1644160540,"post_id":70987935,"comment_id":125526705,"body_markdown":"Spring Boot won&#39;t be able to find it in `src/main/sources`. Something (your IDE or your build system) needs to copy it to a location that&#39;s on the class path. For Maven, that would be in a directory beneath `target` and for Gradle it would be in a directory beneath `build`. Different locations may be used if you&#39;re running your application in your IDE. It depends on the IDE and build system you&#39;re using.","body":"Spring Boot won&#39;t be able to find it in <code>src&#47;main&#47;sources</code>. Something (your IDE or your build system) needs to copy it to a location that&#39;s on the class path. For Maven, that would be in a directory beneath <code>target</code> and for Gradle it would be in a directory beneath <code>build</code>. Different locations may be used if you&#39;re running your application in your IDE. It depends on the IDE and build system you&#39;re using."}],"owner":{"account_id":8508862,"reputation":57,"user_id":6379477,"accept_rate":75,"display_name":"Jaya Lakshmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643984652,"creation_date":1643984652,"question_id":70987935,"body_markdown":"I am trying to add an existing SSL certificate(.cer) to a Spring boot application. Followed the following steps,\r\n\r\nStep 1: Converted the existing .cer certificate to .p12 certificate using the below command in keytool of JDK 8.\r\n\r\n    keytool -import -alias cert -file myCertificate.crt -keystore certificate.p12 -storepass password\r\n\r\n \r\n\r\nStep 2 : Placed this certificate.p12 that was generated in &quot;resources&quot; folder of the application.\r\n\r\nStep 3 : Added the below configuration in &quot;application.properties&quot;\r\n\r\n    server.ssl.key-store = classpath:certificate.p12\r\n    server.ssl.key-store-password=password\r\n    server.ssl.key-store-type=pkcs12\r\n    server.ssl.key-alias=cert\r\n    server.ssl.key-password=password\r\n    server.ssl.enabled=true\r\n    server.port=8443  \r\n    security.require-ssl=true\r\n\r\nStep 4 : Added the below &quot;SecurityConfig.java&quot; file in application.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.requiresChannel().anyRequest().requiresSecure();\r\n        }\r\n    }\r\n\r\nStep 5 : Added the below code in &quot;Application.java&quot;\r\n\r\n    @Bean\r\n        public ServletWebServerFactory servletContainer() {\r\n            TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n                @Override\r\n                protected void postProcessContext(Context context) {\r\n                    SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                    SecurityCollection collection = new SecurityCollection();\r\n                    collection.addPattern(&quot;/*&quot;);\r\n                    securityConstraint.addCollection(collection);\r\n                    context.addConstraint(securityConstraint);\r\n                }\r\n            };\r\n            tomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n            return tomcat;\r\n        }\r\n    private Connector redirectConnector() {\r\n            Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n            connector.setScheme(&quot;http&quot;);\r\n            connector.setPort(80);\r\n            connector.setSecure(false);\r\n            connector.setRedirectPort(443);\r\n            return connector;\r\n        }\r\n\r\nAfter adding all the above code and configuration changes. I am getting the below exception when I start the spring boot application - `Caused by: org.springframework.boot.web.server.WebServerException: Could not load key store &#39;classpath:certificate.p12&#39;\r\nCaused by: java.io.FileNotFoundException: class path resource [certificate.p12] cannot be resolved to URL because it does not exist`. Kindly help to fix this issue. Thanks in advance!","title":"How to solve &quot;java.io.FileNotFoundException: class path resource cannot be resolved to URL&quot; when trying to add ssl certificate?","body":"<p>I am trying to add an existing SSL certificate(.cer) to a Spring boot application. Followed the following steps,</p>\n<p>Step 1: Converted the existing .cer certificate to .p12 certificate using the below command in keytool of JDK 8.</p>\n<pre><code>keytool -import -alias cert -file myCertificate.crt -keystore certificate.p12 -storepass password\n</code></pre>\n<p>Step 2 : Placed this certificate.p12 that was generated in &quot;resources&quot; folder of the application.</p>\n<p>Step 3 : Added the below configuration in &quot;application.properties&quot;</p>\n<pre><code>server.ssl.key-store = classpath:certificate.p12\nserver.ssl.key-store-password=password\nserver.ssl.key-store-type=pkcs12\nserver.ssl.key-alias=cert\nserver.ssl.key-password=password\nserver.ssl.enabled=true\nserver.port=8443  \nsecurity.require-ssl=true\n</code></pre>\n<p>Step 4 : Added the below &quot;SecurityConfig.java&quot; file in application.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requiresChannel().anyRequest().requiresSecure();\n    }\n}\n</code></pre>\n<p>Step 5 : Added the below code in &quot;Application.java&quot;</p>\n<pre><code>@Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\nprivate Connector redirectConnector() {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(80);\n        connector.setSecure(false);\n        connector.setRedirectPort(443);\n        return connector;\n    }\n</code></pre>\n<p>After adding all the above code and configuration changes. I am getting the below exception when I start the spring boot application - <code>Caused by: org.springframework.boot.web.server.WebServerException: Could not load key store 'classpath:certificate.p12' Caused by: java.io.FileNotFoundException: class path resource [certificate.p12] cannot be resolved to URL because it does not exist</code>. Kindly help to fix this issue. Thanks in advance!</p>\n"},{"tags":["java","linux","docker","libreoffice"],"comments":[{"owner":{"account_id":5653378,"reputation":2379,"user_id":4473232,"display_name":"fly2matrix"},"score":0,"creation_date":1643984998,"post_id":70987897,"comment_id":125491275,"body_markdown":"Can you share your Dockerfile to reproduce above issue ?","body":"Can you share your Dockerfile to reproduce above issue ?"},{"owner":{"account_id":18913982,"reputation":1,"user_id":13799432,"display_name":" "},"score":0,"creation_date":1644052666,"post_id":70987897,"comment_id":125506843,"body_markdown":"@fly2matrix I use docker-compose like this: my-container:\n    image: openjdk:8-alpine\n    working_dir: /opt/app\n    environment:\n      SPRING_PROFILES_ACTIVE: dev\n    volumes:\n      - ./my-container/:/opt/app:ro\n    command: java -jar -Xmx256m my-jar.jar\n    ports:\n      - 8080:8080","body":"@fly2matrix I use docker-compose like this: my-container:     image: openjdk:8-alpine     working_dir: /opt/app     environment:       SPRING_PROFILES_ACTIVE: dev     volumes:       - ./my-container/:/opt/app:ro     command: java -jar -Xmx256m my-jar.jar     ports:       - 8080:8080"}],"owner":{"account_id":18913982,"reputation":1,"user_id":13799432,"display_name":" "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643984508,"creation_date":1643984508,"question_id":70987897,"body_markdown":"I have openjdk:8-alpine image, I have installed libreoffce with sh and ```apk add LibreOffice``` command and I try to run ```soffice --headless``` command, but I get:\r\n\r\n    javaldx: Could not find a Java Runtime Environment!\r\n    Warning: failed to read path from javaldx\r\nI&#39;ve checked java version:\r\n\r\n    openjdk version &quot;1.8.0_212&quot;\r\n    OpenJDK Runtime Environment (IcedTea 3.12.0) (Alpine 8.212.04-r0)\r\n    OpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\r\nWhat&#39;s wrong?\r\n\r\n","title":"Libreoffice for openjdk docker container","body":"<p>I have openjdk:8-alpine image, I have installed libreoffce with sh and <code>apk add LibreOffice</code> command and I try to run <code>soffice --headless</code> command, but I get:</p>\n<pre><code>javaldx: Could not find a Java Runtime Environment!\nWarning: failed to read path from javaldx\n</code></pre>\n<p>I've checked java version:</p>\n<pre><code>openjdk version &quot;1.8.0_212&quot;\nOpenJDK Runtime Environment (IcedTea 3.12.0) (Alpine 8.212.04-r0)\nOpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\n</code></pre>\n<p>What's wrong?</p>\n"},{"tags":["java","arrays","zip"],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643942758,"creation_date":1643942758,"answer_id":70980858,"question_id":70980857,"body_markdown":"I didn&#39;t realize I was using the same value for the target zip file and the file **inside** the zip file. \r\n\r\nModifying the original example I have this working: \r\n\r\n    import java.util.*;\r\n    import java.net.URI;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.*;\r\n    \r\n    public class ZipFSPUser {\r\n        public static void main(String [] args) throws Throwable {\r\n            Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n            env.put(&quot;create&quot;, &quot;true&quot;);\r\n            // locate file system by using the syntax\r\n            // defined in java.net.JarURLConnection\r\n            URI uri = URI.create(&quot;jar:file:/codeSamples/zipfs/zipfstest.zip&quot;);\r\n    \r\n            try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\r\n                Path pathInZipfile = zipfs.getPath(&quot;/SomeTextFile.txt&quot;);\r\n                // copy a file into the zip file\r\n                Files.write(pathInZipfile, new byte[]{&#39;h&#39;, &#39;i&#39;} );\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nNow the `/codeSamples/zipfs/zipfstest.zip` file is created with `/SomeTextFile.txt` inside and when I unzip it the content is indeed `hi`\r\n","title":"How to zip a byte array using ZipFileSystem","body":"<p>I didn't realize I was using the same value for the target zip file and the file <strong>inside</strong> the zip file.</p>\n<p>Modifying the original example I have this working:</p>\n<pre><code>import java.util.*;\nimport java.net.URI;\nimport java.nio.file.Path;\nimport java.nio.file.*;\n\npublic class ZipFSPUser {\n    public static void main(String [] args) throws Throwable {\n        Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n        env.put(&quot;create&quot;, &quot;true&quot;);\n        // locate file system by using the syntax\n        // defined in java.net.JarURLConnection\n        URI uri = URI.create(&quot;jar:file:/codeSamples/zipfs/zipfstest.zip&quot;);\n\n        try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\n            Path pathInZipfile = zipfs.getPath(&quot;/SomeTextFile.txt&quot;);\n            // copy a file into the zip file\n            Files.write(pathInZipfile, new byte[]{'h', 'i'} );\n\n        }\n    }\n}\n</code></pre>\n<p>Now the <code>/codeSamples/zipfs/zipfstest.zip</code> file is created with <code>/SomeTextFile.txt</code> inside and when I unzip it the content is indeed <code>hi</code></p>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643984472,"creation_date":1643942758,"question_id":70980857,"body_markdown":"How to create a zip file with a byte array using `ZipFileSystem` ? \r\n\r\n\r\nThe example in the [Zip File System Provider][1] shows how to zip an existing one, but I don&#39;t seem to find a way to create one from in memory byte array.\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html","title":"How to zip a byte array using ZipFileSystem","body":"<p>How to create a zip file with a byte array using <code>ZipFileSystem</code> ?</p>\n<p>The example in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System Provider</a> shows how to zip an existing one, but I don't seem to find a way to create one from in memory byte array.</p>\n"},{"tags":["java","bitmap","imageview","picasso"],"answers":[{"tags":[],"owner":{"account_id":14815343,"reputation":1,"user_id":10699579,"display_name":"OmidAmiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643984284,"creation_date":1643748998,"answer_id":70947431,"question_id":70946742,"body_markdown":"I used **background** for imageView\r\nmust be used **src**\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:src=&quot;@drawable/img&quot;/&gt;\r\n    \r\n    ImageVew imageView = findViewById(R.id.activityGetMainColor_img);\r\n    BitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\r\n    Bitmap bitmap = drawable.getBitmap();","title":"How to get bitmap in imageView OR picasso","body":"<p>I used <strong>background</strong> for imageView\nmust be used <strong>src</strong></p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/img&quot;\n    android:layout_width=&quot;200dp&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:src=&quot;@drawable/img&quot;/&gt;\n\nImageVew imageView = findViewById(R.id.activityGetMainColor_img);\nBitmapDrawable drawable = (BitmapDrawable) imageView.getDrawable();\nBitmap bitmap = drawable.getBitmap();\n</code></pre>\n"}],"owner":{"account_id":14815343,"reputation":1,"user_id":10699579,"display_name":"OmidAmiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643984284,"creation_date":1643745319,"question_id":70946742,"body_markdown":"Why does **null** return?\r\n\r\n    Bitmap bitmap = ((BitmapDrawable)image.getDrawable()).getBitmap();\r\n\r\nIn addition, when I use picasso, it does not goto the **onBitmapLoaded** method\r\n\r\n     Picasso.get().load(&quot;url&quot;).into(new Target() {\r\n            @Override\r\n            public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\r\n             //Does not go to this method  \r\n            }\r\n    \r\n            @Override\r\n            public void onBitmapFailed(Exception e, Drawable errorDrawable) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onPrepareLoad(Drawable placeHolderDrawable) {\r\n                  //Coming this method\r\n            }\r\n        });\r\n\r\nwhat&#39;s the problem ? Why can&#39;t I get a bitmap from imageView?\r\nDo you have a solution?","title":"How to get bitmap in imageView OR picasso","body":"<p>Why does <strong>null</strong> return?</p>\n<pre><code>Bitmap bitmap = ((BitmapDrawable)image.getDrawable()).getBitmap();\n</code></pre>\n<p>In addition, when I use picasso, it does not goto the <strong>onBitmapLoaded</strong> method</p>\n<pre><code> Picasso.get().load(&quot;url&quot;).into(new Target() {\n        @Override\n        public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n         //Does not go to this method  \n        }\n\n        @Override\n        public void onBitmapFailed(Exception e, Drawable errorDrawable) {\n\n        }\n\n        @Override\n        public void onPrepareLoad(Drawable placeHolderDrawable) {\n              //Coming this method\n        }\n    });\n</code></pre>\n<p>what's the problem ? Why can't I get a bitmap from imageView?\nDo you have a solution?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1635874898,"post_id":69814510,"comment_id":123407586,"body_markdown":"Please add all output. The way you have called Maven? Which Maven you are using? Have you called from plain command Line? Which JDK you are using?","body":"Please add all output. The way you have called Maven? Which Maven you are using? Have you called from plain command Line? Which JDK you are using?"}],"answers":[{"tags":[],"owner":{"account_id":23978867,"reputation":1,"user_id":17966618,"display_name":"Arshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643984237,"creation_date":1643984237,"answer_id":70987838,"question_id":69814510,"body_markdown":"Maven is unable to load plugins may be due to lower ver of Web Module.\r\n\r\nTry adding plugins in pom.xml and update Maven project.\r\nHope it works.\r\n\r\n \r\n\r\n    &lt;build&gt;\r\n       &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;test&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n\r\n","title":"when i created a maven project for the first time it shows me error in my pom.xml file the error is :","body":"<p>Maven is unable to load plugins may be due to lower ver of Web Module.</p>\n<p>Try adding plugins in pom.xml and update Maven project.\nHope it works.</p>\n<pre><code>&lt;build&gt;\n   &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;test&lt;/finalName&gt;\n  &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":22424376,"reputation":1,"user_id":16631222,"display_name":"Pranik Nikose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643984237,"creation_date":1635873531,"question_id":69814510,"body_markdown":"    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.pranik&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ServletJspDemo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;A custom project&lt;/name&gt;\r\n    &lt;url&gt;http://www.haoxuer.com&lt;/url&gt;\r\n    \r\n     \r\n\r\n    &lt;dependencies&gt;\r\n    \r\n   \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n    \r\n    \r\n\r\n    \r\n\r\n&lt;/project&gt;\r\n\r\n**error: Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer**\r\n\r\n\r\nthe error is in the first line and i cant understand what it is?","title":"when i created a maven project for the first time it shows me error in my pom.xml file the error is :","body":"<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.pranik&lt;/groupId&gt;\n&lt;artifactId&gt;ServletJspDemo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;A custom project&lt;/name&gt;\n&lt;url&gt;http://www.haoxuer.com&lt;/url&gt;\n\n \n\n&lt;dependencies&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>error: Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer</strong></p>\n<p>the error is in the first line and i cant understand what it is?</p>\n"},{"tags":["java","recursion","linked-list"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1508551216,"post_id":46859359,"comment_id":80666375,"body_markdown":"Why does your method not work? What does it do with your example input? Please don&#39;t suppose that we run your code and spend hours finding the bugs for you. Please help us a bit, provide as many information as possible. The general procedure should be to recursively walk down the whole list and then for each element insert the same element after the current one. Both parts should be relatively easy to implement. First you should implement a working **insert** method. Also, why are your list elements of type `MyList`? Shouldn&#39;t you have two classes `List` and `Element`?","body":"Why does your method not work? What does it do with your example input? Please don&#39;t suppose that we run your code and spend hours finding the bugs for you. Please help us a bit, provide as many information as possible. The general procedure should be to recursively walk down the whole list and then for each element insert the same element after the current one. Both parts should be relatively easy to implement. First you should implement a working <b>insert</b> method. Also, why are your list elements of type <code>MyList</code>? Shouldn&#39;t you have two classes <code>List</code> and <code>Element</code>?"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1508551491,"post_id":46859359,"comment_id":80666428,"body_markdown":"If you keep on adding items to the list you  will never get to the end.   So instead work from the end of the list back to the beginning.  So I would create a double link list and add MyList previous.","body":"If you keep on adding items to the list you  will never get to the end.   So instead work from the end of the list back to the beginning.  So I would create a double link list and add MyList previous."},{"owner":{"account_id":11302635,"reputation":21,"user_id":8288124,"display_name":"Laura"},"score":0,"creation_date":1508551647,"post_id":46859359,"comment_id":80666451,"body_markdown":"Look i&#39;m completely new to this and don&#39;t have a lot of practice with recursion or Java, you don&#39;t have to be rude. Glad it&#39;s easy for you to implement. I asked the question so somebody could explain it to me how to implement it.","body":"Look i&#39;m completely new to this and don&#39;t have a lot of practice with recursion or Java, you don&#39;t have to be rude. Glad it&#39;s easy for you to implement. I asked the question so somebody could explain it to me how to implement it."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1508553153,"post_id":46859359,"comment_id":80666684,"body_markdown":"Not meant to sound rude. Just some hints and tips. The thing is that StackOverflow has well defined requirements on the content of your question. When asking for help you need to provide a clear problem description, clearly show what you have tried so far to solve the problem on your own **and** show exactly where you are having trouble doing it by yourself, i.e. what specifically you don&#39;t understand. Unfortunately you just say *&quot;I&#39;m confused&quot;* which doesn&#39;t help us understanding where exactly you have trouble ([help], [ask]).","body":"Not meant to sound rude. Just some hints and tips. The thing is that StackOverflow has well defined requirements on the content of your question. When asking for help you need to provide a clear problem description, clearly show what you have tried so far to solve the problem on your own <b>and</b> show exactly where you are having trouble doing it by yourself, i.e. what specifically you don&#39;t understand. Unfortunately you just say <i>&quot;I&#39;m confused&quot;</i> which doesn&#39;t help us understanding where exactly you have trouble (<a href=\"https://stackoverflow.com/help\">help center</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1510655562,"post_id":46859359,"comment_id":81516923,"body_markdown":"@Laura If an user answered your question please also accept his answer ([Accepting Answers: How does it work?](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work)). If not then please specify what remains unanswered, this is a crucial part of StackOverflow, thank you very much.","body":"@Laura If an user answered your question please also accept his answer (<a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">Accepting Answers: How does it work?</a>). If not then please specify what remains unanswered, this is a crucial part of StackOverflow, thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508552140,"creation_date":1508552140,"answer_id":46859440,"question_id":46859359,"body_markdown":"First, check that `L` isn&#39;t an empty list (`null`). If it contains a value, return a new list that has that value repeated twice, followed by duplicating the rest of the list.\r\n\r\nBy giving `MyList` a constructor, this is more readable.\r\n\r\n    public class MyList {\r\n        int value;\r\n        MyList next;\r\n\r\n        public MyList(int value, MyList next) {\r\n            this.value = value;\r\n            this.next = next;\r\n        }\r\n    \r\n        public static MyList duplicate(MyList list) {\r\n            if (list == null) {\r\n                return null;\r\n            } else {\r\n                return new MyList(list.value,\r\n                         new MyList(list.value,\r\n                           duplicate(list.next)));\r\n            }\r\n        }\r\n    }","title":"How to duplicate every element of a linked list recursively in Java?","body":"<p>First, check that <code>L</code> isn't an empty list (<code>null</code>). If it contains a value, return a new list that has that value repeated twice, followed by duplicating the rest of the list.</p>\n\n<p>By giving <code>MyList</code> a constructor, this is more readable.</p>\n\n<pre><code>public class MyList {\n    int value;\n    MyList next;\n\n    public MyList(int value, MyList next) {\n        this.value = value;\n        this.next = next;\n    }\n\n    public static MyList duplicate(MyList list) {\n        if (list == null) {\n            return null;\n        } else {\n            return new MyList(list.value,\n                     new MyList(list.value,\n                       duplicate(list.next)));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508553279,"creation_date":1508552152,"answer_id":46859443,"question_id":46859359,"body_markdown":"You currently **add an item** and then **call the recursion on it**, ending at **endlessly adding items**.\r\n\r\nYou either need to at elements **behind** your recursion when processing in a forward-direction, or **after** the recursion when processing backwards.\r\n\r\n----------\r\n\r\nLet&#39;s create a backwards-direction version. We first recursively walk to the end of the list and then resolve the recursion backwards, adding items **after** our current element each time.\r\n\r\n    public &lt;E&gt; void duplicateEntries(MyLinkedList&lt;E&gt; list) {\r\n        // Do nothing if list is empty\r\n        if (list.size() != 0) {\r\n            // Call the recursive method on the head node\r\n            duplicateEntriesHelper(list.head);\r\n        }\r\n    }\r\n\r\n    public &lt;E&gt; void duplicateEntriesHelper(Node&lt;E&gt; node) {\r\n        // Walk to the end of the list\r\n        if (node.next != null) {\r\n            duplicateEntriesHelper(node.next);\r\n        }\r\n\r\n        // Resolve recursion, duplicate current\r\n        // entry by inserting it after the current element\r\n        Node&lt;E&gt; duplicatedEntry = new Node&lt;&gt;();\r\n        duplicatedEntry.data = node.data;\r\n\r\n        // Insert element after current node\r\n        duplicatedEntry.next = node.next;\r\n        node.next = duplicatedEntry;\r\n    }\r\n\r\n----------\r\n\r\nThe classes I used should look similar to:\r\n\r\n    public class MyLinkedList&lt;E&gt; {\r\n        public Node&lt;E&gt; head = null;\r\n\r\n        @Override\r\n        public String toString() {\r\n            // Build something like &quot;MyLinkedList[2, 3, 4]&quot;\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;MyLinkedList[&quot;);\r\n\r\n            StringJoiner sj = new StringJoiner(&quot;,&quot;);\r\n            Node&lt;E&gt; node = head;\r\n            while (node != null) {\r\n                sj.add(node);\r\n                node = node.next;\r\n            }\r\n            sb.append(sj);\r\n\r\n            sb.append(&quot;]&quot;);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\n    public class Node&lt;E&gt; {\r\n        public Node next = null;\r\n        public E data = null;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return E;\r\n        }\r\n    }\r\n\r\nAnd here is the demo:\r\n\r\n    public static void main(String[] args) {\r\n        // Setup the list\r\n        MyLinkedList&lt;Integer&gt; list = new MyLinkedList&lt;&gt;();\r\n\r\n        Node&lt;Integer&gt; first = new Node&lt;&gt;();\r\n        first.data = 2;\r\n        Node&lt;Integer&gt; second = new Node&lt;&gt;();\r\n        second.data = 3;\r\n        Node&lt;Integer&gt; third = new Node&lt;&gt;();\r\n        third.data = 4;\r\n\r\n        list.head = data;\r\n        first.next = second;\r\n        second.next = third;\r\n\r\n        // Demonstrate the method\r\n        System.out.println(&quot;Before: &quot; + list);\r\n        duplicateEntries(list);\r\n        System.out.println(&quot;After: &quot; + list);\r\n    }\r\n\r\nOf course you can add additional methods and functionality to them. For example using some **constructors** or **getter/setter** methods.","title":"How to duplicate every element of a linked list recursively in Java?","body":"<p>You currently <strong>add an item</strong> and then <strong>call the recursion on it</strong>, ending at <strong>endlessly adding items</strong>.</p>\n\n<p>You either need to at elements <strong>behind</strong> your recursion when processing in a forward-direction, or <strong>after</strong> the recursion when processing backwards.</p>\n\n<hr>\n\n<p>Let's create a backwards-direction version. We first recursively walk to the end of the list and then resolve the recursion backwards, adding items <strong>after</strong> our current element each time.</p>\n\n<pre><code>public &lt;E&gt; void duplicateEntries(MyLinkedList&lt;E&gt; list) {\n    // Do nothing if list is empty\n    if (list.size() != 0) {\n        // Call the recursive method on the head node\n        duplicateEntriesHelper(list.head);\n    }\n}\n\npublic &lt;E&gt; void duplicateEntriesHelper(Node&lt;E&gt; node) {\n    // Walk to the end of the list\n    if (node.next != null) {\n        duplicateEntriesHelper(node.next);\n    }\n\n    // Resolve recursion, duplicate current\n    // entry by inserting it after the current element\n    Node&lt;E&gt; duplicatedEntry = new Node&lt;&gt;();\n    duplicatedEntry.data = node.data;\n\n    // Insert element after current node\n    duplicatedEntry.next = node.next;\n    node.next = duplicatedEntry;\n}\n</code></pre>\n\n<hr>\n\n<p>The classes I used should look similar to:</p>\n\n<pre><code>public class MyLinkedList&lt;E&gt; {\n    public Node&lt;E&gt; head = null;\n\n    @Override\n    public String toString() {\n        // Build something like \"MyLinkedList[2, 3, 4]\"\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"MyLinkedList[\");\n\n        StringJoiner sj = new StringJoiner(\",\");\n        Node&lt;E&gt; node = head;\n        while (node != null) {\n            sj.add(node);\n            node = node.next;\n        }\n        sb.append(sj);\n\n        sb.append(\"]\");\n        return sb.toString();\n    }\n}\n\npublic class Node&lt;E&gt; {\n    public Node next = null;\n    public E data = null;\n\n    @Override\n    public String toString() {\n        return E;\n    }\n}\n</code></pre>\n\n<p>And here is the demo:</p>\n\n<pre><code>public static void main(String[] args) {\n    // Setup the list\n    MyLinkedList&lt;Integer&gt; list = new MyLinkedList&lt;&gt;();\n\n    Node&lt;Integer&gt; first = new Node&lt;&gt;();\n    first.data = 2;\n    Node&lt;Integer&gt; second = new Node&lt;&gt;();\n    second.data = 3;\n    Node&lt;Integer&gt; third = new Node&lt;&gt;();\n    third.data = 4;\n\n    list.head = data;\n    first.next = second;\n    second.next = third;\n\n    // Demonstrate the method\n    System.out.println(\"Before: \" + list);\n    duplicateEntries(list);\n    System.out.println(\"After: \" + list);\n}\n</code></pre>\n\n<p>Of course you can add additional methods and functionality to them. For example using some <strong>constructors</strong> or <strong>getter/setter</strong> methods.</p>\n"}],"owner":{"account_id":11302635,"reputation":21,"user_id":8288124,"display_name":"Laura"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3299,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1643983152,"creation_date":1508551054,"question_id":46859359,"body_markdown":"I have to write a duplicate function that duplicates every element of a linked list and returns a linked list such that if L = [2,3,4] then duplicate(L) = [2,2,3,3,4,4]. I have to do this recursively. I realize that below is not the correct solution, but I got confused. =(\r\n\r\n       public class MyList {\r\n         int value;\r\n         MyList next;\r\n\r\n         public static MyList duplicate(MyList L){\r\n            if(L.next == null){\r\n               L.next.value = L.value;\r\n               L.next.next = null;\r\n            } else {\r\n               MyList temp = L.next;\r\n               L.next.value = L.value;\r\n               L.next.next = temp;\r\n               duplicate(L.next);\r\n            }\r\n            return L;\r\n        }\r\n    }","title":"How to duplicate every element of a linked list recursively in Java?","body":"<p>I have to write a duplicate function that duplicates every element of a linked list and returns a linked list such that if L = [2,3,4] then duplicate(L) = [2,2,3,3,4,4]. I have to do this recursively. I realize that below is not the correct solution, but I got confused. =(</p>\n\n<pre><code>   public class MyList {\n     int value;\n     MyList next;\n\n     public static MyList duplicate(MyList L){\n        if(L.next == null){\n           L.next.value = L.value;\n           L.next.next = null;\n        } else {\n           MyList temp = L.next;\n           L.next.value = L.value;\n           L.next.next = temp;\n           duplicate(L.next);\n        }\n        return L;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1594633131,"post_id":62671770,"comment_id":111182805,"body_markdown":"Looks like a known bug: https://youtrack.jetbrains.com/issue/IDEA-144801","body":"Looks like a known bug: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-144801\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-144801</a>"}],"answers":[{"tags":[],"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593589351,"creation_date":1593589351,"answer_id":62671973,"question_id":62671770,"body_markdown":"Looks like you are pulling artifacts from private artifactory. You need to provide the artifactory username and password.\r\n\r\nOr if you are using jgitflow-maven-plugin then something like this is needed\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-m5.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;username&gt;${git.user}&lt;/username&gt;\r\n        &lt;password&gt;${git.password}&lt;/password&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Getting Failed to perform fetch Error while doing Maven Clean build in Intellij","body":"<p>Looks like you are pulling artifacts from private artifactory. You need to provide the artifactory username and password.</p>\n<p>Or if you are using jgitflow-maven-plugin then something like this is needed</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\n    &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-m5.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;username&gt;${git.user}&lt;/username&gt;\n        &lt;password&gt;${git.password}&lt;/password&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20568744,"reputation":41,"user_id":15097511,"display_name":"Paul Li"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611825271,"creation_date":1611825271,"answer_id":65934130,"question_id":62671770,"body_markdown":"Maybe you can find the workaround through : https://github.com/git-commit-id/git-commit-id-maven-plugin/issues/421\r\n\r\nWith 3.0.0 we got two new properties (git.local.branch.ahead / git.local.branch.behind) that pretty much are only correct when using a git pull prior. This git pull might cause such transport exceptions (and requires internet).\r\n\r\nWith the 3.0.1 there will be a more clear offline option. The real fix would be that we have the plugin work in offline mode unless specified. When a user operates in offline mode and consumes the mentioned options this plugin would generate a warning.\r\n\r\n```\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;offline&gt;true&lt;/offline&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\nor another way\r\n\r\n```\r\n&lt;configuration&gt;\r\n\t&lt;excludeProperties&gt;\r\n      &lt;excludeProperty&gt;^git.local.branch.*$&lt;/excludeProperty&gt;\r\n    &lt;/excludeProperties&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Getting Failed to perform fetch Error while doing Maven Clean build in Intellij","body":"<p>Maybe you can find the workaround through : <a href=\"https://github.com/git-commit-id/git-commit-id-maven-plugin/issues/421\" rel=\"nofollow noreferrer\">https://github.com/git-commit-id/git-commit-id-maven-plugin/issues/421</a></p>\n<p>With 3.0.0 we got two new properties (git.local.branch.ahead / git.local.branch.behind) that pretty much are only correct when using a git pull prior. This git pull might cause such transport exceptions (and requires internet).</p>\n<p>With the 3.0.1 there will be a more clear offline option. The real fix would be that we have the plugin work in offline mode unless specified. When a user operates in offline mode and consumes the mentioned options this plugin would generate a warning.</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;offline&gt;true&lt;/offline&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>or another way</p>\n<pre><code>&lt;configuration&gt;\n    &lt;excludeProperties&gt;\n      &lt;excludeProperty&gt;^git.local.branch.*$&lt;/excludeProperty&gt;\n    &lt;/excludeProperties&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24121769,"reputation":19,"user_id":18090829,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643983083,"creation_date":1643983083,"answer_id":70987567,"question_id":62671770,"body_markdown":"To update the answer from @Paul-Li, this bug has been fixed but the maven dependency has changed from `pl.project13.maven:git-commit-id-plugin` (any version starting from `3.0.0`) to `io.github.git-commit-id:git-commit-id-maven-plugin:5.0.0`. No need to use the offline mode anymore. \r\n\r\nIn `org.springframework.boot:spring-boot-starter-parent:2.6.3` (the latest so far), we can still find `pl.project13.maven:git-commit-id-plugin` in the plugin management. To make it work on my projects having `spring-boot-starter-parent` as parent, I copied from the parent the `&lt;executions&gt;` and `&lt;configuration&gt;` like that:\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;io.github.git-commit-id&lt;/groupId&gt;\r\n                &lt;artifactId&gt;git-commit-id-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${git-commit-id-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;revision&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;dateFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&lt;/dateFormat&gt;\r\n                    &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\r\n                    &lt;generateGitPropertiesFilename&gt;${project.build.outputDirectory}/git.properties&lt;/generateGitPropertiesFilename&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"Getting Failed to perform fetch Error while doing Maven Clean build in Intellij","body":"<p>To update the answer from @Paul-Li, this bug has been fixed but the maven dependency has changed from <code>pl.project13.maven:git-commit-id-plugin</code> (any version starting from <code>3.0.0</code>) to <code>io.github.git-commit-id:git-commit-id-maven-plugin:5.0.0</code>. No need to use the offline mode anymore.</p>\n<p>In <code>org.springframework.boot:spring-boot-starter-parent:2.6.3</code> (the latest so far), we can still find <code>pl.project13.maven:git-commit-id-plugin</code> in the plugin management. To make it work on my projects having <code>spring-boot-starter-parent</code> as parent, I copied from the parent the <code>&lt;executions&gt;</code> and <code>&lt;configuration&gt;</code> like that:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;io.github.git-commit-id&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${git-commit-id-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;dateFormat&gt;yyyy-MM-dd'T'HH:mm:ssZ&lt;/dateFormat&gt;\n                    &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\n                    &lt;generateGitPropertiesFilename&gt;${project.build.outputDirectory}/git.properties&lt;/generateGitPropertiesFilename&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":17848047,"reputation":536,"user_id":12964338,"display_name":"implosivesilence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7726,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1643983083,"creation_date":1593588677,"question_id":62671770,"body_markdown":"   I am getting error as &quot;Failed to perform fetch&quot; while doing maven clean install. While same thing is working in Intellij of other people. i have checked the Maven settings.xml and other configuration, it&#39;s same as other teammates but unable to figure out the root cause.Also, I am able to log into my Bitbucket account. Following is the stack trace while getting the build error:\r\n    \r\n    org.eclipse.jgit.api.errors.TransportException: https:SomeBitbucketURL/project.git: Authentication is required but no CredentialsProvider has been registered\r\n        at org.eclipse.jgit.api.FetchCommand.call (FetchCommand.java:254)\r\n        at pl.project13.maven.git.JGitProvider.fetch (JGitProvider.java:352)\r\n        at pl.project13.maven.git.JGitProvider.getAheadBehind (JGitProvider.java:339)\r\n        at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$17 (GitDataProvider.java:174)\r\n        at pl.project13.maven.git.GitDataProvider.lambda$memoize$23 (GitDataProvider.java:272)\r\n        at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$18 (GitDataProvider.java:175)\r\n        at pl.project13.maven.git.GitDataProvider.maybePut (GitDataProvider.java:255)\r\n        at pl.project13.maven.git.GitDataProvider.loadGitData (GitDataProvider.java:175)\r\n        at pl.project13.maven.git.GitCommitIdMojo.loadGitDataWithJGit (GitCommitIdMojo.java:604)\r\n        at pl.project13.maven.git.GitCommitIdMojo.loadGitData (GitCommitIdMojo.java:563)\r\n        at pl.project13.maven.git.GitCommitIdMojo.execute (GitCommitIdMojo.java:458)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.eclipse.jgit.errors.TransportException: https:SomeBitbucketURL/project.git: Authentication is required but no CredentialsProvider has been registered\r\n        at org.eclipse.jgit.transport.TransportHttp.connect (TransportHttp.java:537)\r\n        at org.eclipse.jgit.transport.TransportHttp.openFetch (TransportHttp.java:362)\r\n        at org.eclipse.jgit.transport.FetchProcess.executeImp (FetchProcess.java:138)\r\n        at org.eclipse.jgit.transport.FetchProcess.execute (FetchProcess.java:124)\r\n        at org.eclipse.jgit.transport.Transport.fetch (Transport.java:1271)\r\n        at org.eclipse.jgit.api.FetchCommand.call (FetchCommand.java:243)\r\n        at pl.project13.maven.git.JGitProvider.fetch (JGitProvider.java:352)\r\n        at pl.project13.maven.git.JGitProvider.getAheadBehind (JGitProvider.java:339)\r\n        at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$17 (GitDataProvider.java:174)\r\n        at pl.project13.maven.git.GitDataProvider.lambda$memoize$23 (GitDataProvider.java:272)\r\n        at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$18 (GitDataProvider.java:175)\r\n        at pl.project13.maven.git.GitDataProvider.maybePut (GitDataProvider.java:255)\r\n        at pl.project13.maven.git.GitDataProvider.loadGitData (GitDataProvider.java:175)\r\n        at pl.project13.maven.git.GitCommitIdMojo.loadGitDataWithJGit (GitCommitIdMojo.java:604)\r\n        at pl.project13.maven.git.GitCommitIdMojo.loadGitData (GitCommitIdMojo.java:563)\r\n        at pl.project13.maven.git.GitCommitIdMojo.execute (GitCommitIdMojo.java:458)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)","title":"Getting Failed to perform fetch Error while doing Maven Clean build in Intellij","body":"<p>I am getting error as &quot;Failed to perform fetch&quot; while doing maven clean install. While same thing is working in Intellij of other people. i have checked the Maven settings.xml and other configuration, it's same as other teammates but unable to figure out the root cause.Also, I am able to log into my Bitbucket account. Following is the stack trace while getting the build error:</p>\n<pre><code>org.eclipse.jgit.api.errors.TransportException: https:SomeBitbucketURL/project.git: Authentication is required but no CredentialsProvider has been registered\n    at org.eclipse.jgit.api.FetchCommand.call (FetchCommand.java:254)\n    at pl.project13.maven.git.JGitProvider.fetch (JGitProvider.java:352)\n    at pl.project13.maven.git.JGitProvider.getAheadBehind (JGitProvider.java:339)\n    at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$17 (GitDataProvider.java:174)\n    at pl.project13.maven.git.GitDataProvider.lambda$memoize$23 (GitDataProvider.java:272)\n    at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$18 (GitDataProvider.java:175)\n    at pl.project13.maven.git.GitDataProvider.maybePut (GitDataProvider.java:255)\n    at pl.project13.maven.git.GitDataProvider.loadGitData (GitDataProvider.java:175)\n    at pl.project13.maven.git.GitCommitIdMojo.loadGitDataWithJGit (GitCommitIdMojo.java:604)\n    at pl.project13.maven.git.GitCommitIdMojo.loadGitData (GitCommitIdMojo.java:563)\n    at pl.project13.maven.git.GitCommitIdMojo.execute (GitCommitIdMojo.java:458)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.eclipse.jgit.errors.TransportException: https:SomeBitbucketURL/project.git: Authentication is required but no CredentialsProvider has been registered\n    at org.eclipse.jgit.transport.TransportHttp.connect (TransportHttp.java:537)\n    at org.eclipse.jgit.transport.TransportHttp.openFetch (TransportHttp.java:362)\n    at org.eclipse.jgit.transport.FetchProcess.executeImp (FetchProcess.java:138)\n    at org.eclipse.jgit.transport.FetchProcess.execute (FetchProcess.java:124)\n    at org.eclipse.jgit.transport.Transport.fetch (Transport.java:1271)\n    at org.eclipse.jgit.api.FetchCommand.call (FetchCommand.java:243)\n    at pl.project13.maven.git.JGitProvider.fetch (JGitProvider.java:352)\n    at pl.project13.maven.git.JGitProvider.getAheadBehind (JGitProvider.java:339)\n    at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$17 (GitDataProvider.java:174)\n    at pl.project13.maven.git.GitDataProvider.lambda$memoize$23 (GitDataProvider.java:272)\n    at pl.project13.maven.git.GitDataProvider.lambda$loadGitData$18 (GitDataProvider.java:175)\n    at pl.project13.maven.git.GitDataProvider.maybePut (GitDataProvider.java:255)\n    at pl.project13.maven.git.GitDataProvider.loadGitData (GitDataProvider.java:175)\n    at pl.project13.maven.git.GitCommitIdMojo.loadGitDataWithJGit (GitCommitIdMojo.java:604)\n    at pl.project13.maven.git.GitCommitIdMojo.loadGitData (GitCommitIdMojo.java:563)\n    at pl.project13.maven.git.GitCommitIdMojo.execute (GitCommitIdMojo.java:458)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n"},{"tags":["java","security","log4j","transitive-dependency","mobicents-sip-servlets"],"answers":[{"tags":[],"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642593692,"creation_date":1642593692,"answer_id":70770237,"question_id":70758961,"body_markdown":"You may want to use the [log4j-1.2-api bridge][1]. To do this\r\n\r\n 1. exclude dependency towards log4j 1.x (mind the different groupid, which has changed between 1.x and 2.x)\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.mobicents.servlet.sip&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sip-servlets-spec&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\n 2. add dependency towards log4j 2.17.1, with the bridge\r\n\r\n```xml\r\n&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;&lt;version&gt;2.17.1&lt;/version&gt;&lt;/dependency&gt;\r\n&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;&lt;version&gt;2.17.1&lt;/version&gt;&lt;/dependency&gt;\r\n&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;&lt;version&gt;2.17.1&lt;/version&gt;&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.0/log4j-1.2-api/index.html","title":"Are there any ways to fix Log4j vulnerability when it is being used as a transitive dependency","body":"<p>You may want to use the <a href=\"https://logging.apache.org/log4j/log4j-2.0/log4j-1.2-api/index.html\" rel=\"nofollow noreferrer\">log4j-1.2-api bridge</a>. To do this</p>\n<ol>\n<li>exclude dependency towards log4j 1.x (mind the different groupid, which has changed between 1.x and 2.x)</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.mobicents.servlet.sip&lt;/groupId&gt;\n    &lt;artifactId&gt;sip-servlets-spec&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>add dependency towards log4j 2.17.1, with the bridge</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;&lt;version&gt;2.17.1&lt;/version&gt;&lt;/dependency&gt;\n&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;&lt;version&gt;2.17.1&lt;/version&gt;&lt;/dependency&gt;\n&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;&lt;version&gt;2.17.1&lt;/version&gt;&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12140581,"reputation":193,"user_id":8864570,"display_name":"Suthan S M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643982335,"creation_date":1643982335,"answer_id":70987416,"question_id":70758961,"body_markdown":"The final solution was to explode the log4j-1.2.17.jar, remove the affected classes `SocketServer.class` and `JMSAppender.class`, create a custom jar and use it.\r\n\r\nCommands used to explode and create new jar was taken from below stackoverflow answer\r\n\r\nReference: https://stackoverflow.com/a/16806235/8864570","title":"Are there any ways to fix Log4j vulnerability when it is being used as a transitive dependency","body":"<p>The final solution was to explode the log4j-1.2.17.jar, remove the affected classes <code>SocketServer.class</code> and <code>JMSAppender.class</code>, create a custom jar and use it.</p>\n<p>Commands used to explode and create new jar was taken from below stackoverflow answer</p>\n<p>Reference: <a href=\"https://stackoverflow.com/a/16806235/8864570\">https://stackoverflow.com/a/16806235/8864570</a></p>\n"}],"owner":{"account_id":12140581,"reputation":193,"user_id":8864570,"display_name":"Suthan S M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70987416,"answer_count":2,"score":1,"last_activity_date":1643982335,"creation_date":1642522947,"question_id":70758961,"body_markdown":"My project has a transitive dependency on log4j v1.2.16 through [org.mobicents.servlet.sip](https://mvnrepository.com/artifact/org.mobicents.servlet.sip) package used in my project as a direct dependency.\r\n\r\nBut [org.mobicents.servlet.sip](https://mvnrepository.com/artifact/org.mobicents.servlet.sip) is no longer actively developed. \r\n\r\nAre there any options to fix this vulnerability other than waiting for [org.mobicents.servlet.sip](https://mvnrepository.com/artifact/org.mobicents.servlet.sip) to fix the issue.  ","title":"Are there any ways to fix Log4j vulnerability when it is being used as a transitive dependency","body":"<p>My project has a transitive dependency on log4j v1.2.16 through <a href=\"https://mvnrepository.com/artifact/org.mobicents.servlet.sip\" rel=\"nofollow noreferrer\">org.mobicents.servlet.sip</a> package used in my project as a direct dependency.</p>\n<p>But <a href=\"https://mvnrepository.com/artifact/org.mobicents.servlet.sip\" rel=\"nofollow noreferrer\">org.mobicents.servlet.sip</a> is no longer actively developed.</p>\n<p>Are there any options to fix this vulnerability other than waiting for <a href=\"https://mvnrepository.com/artifact/org.mobicents.servlet.sip\" rel=\"nofollow noreferrer\">org.mobicents.servlet.sip</a> to fix the issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1643982692,"post_id":70987179,"comment_id":125490301,"body_markdown":"Are you using the `-ea` switch to enable assertions? I doubt the read has filled the buffer completely, you&#39;re ignoring the return value `r` completely and assuming the buffer is full.","body":"Are you using the <code>-ea</code> switch to enable assertions? I doubt the read has filled the buffer completely, you&#39;re ignoring the return value <code>r</code> completely and assuming the buffer is full."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1643995270,"post_id":70987179,"comment_id":125495846,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/70987179/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1643995710,"post_id":70987179,"comment_id":125496020,"body_markdown":"You might want to look at other questions like https://stackoverflow.com/questions/24791360/why-doesnt-inputstream-fill-the-array-fully on how to work with the `read()` method which accepts an array argument.","body":"You might want to look at other questions like <a href=\"https://stackoverflow.com/questions/24791360/why-doesnt-inputstream-fill-the-array-fully\" title=\"why doesnt inputstream fill the array fully\">stackoverflow.com/questions/24791360/&hellip;</a> on how to work with the <code>read()</code> method which accepts an array argument."}],"owner":{"account_id":24155223,"reputation":9,"user_id":18119551,"display_name":"topol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643982264,"creation_date":1643981322,"question_id":70987179,"body_markdown":"We have got strange issue when create 100 threads and in each create connection and read big message:\r\n\r\n```\r\nsocket = new Socket(host, port);\r\nsocket.setSoTimeout(3_000);\r\nsocketConnection = new SocketConnection();\r\nInputStream in = socket.getInputStream();\r\nbyte[] bb = new byte[15_000];\r\nint r = in.read(bb, 0, 15_000);\r\nassert r == 15_000;\r\n```\r\n\r\nUsually all is fine, but some time we&#39;ve found zeros inside bb. The lenght of zeros depends of MTU. For example:\r\n\r\n1. When MTU = 9001 (it is Amazon server&#39;s setting by default, Ubuntu 20.04)\r\n\r\nbb[0] = 1 // means some real data in position 0\r\n\r\nbb[1] = 1 // means some real data in position 1\r\n\r\n...\r\n\r\nbb[8946] = 1 // means some real data in position 8946\r\n\r\n\r\nbb[8947] = 0 // means got zero in position 8947 (it is wrong! not really sent)\r\n\r\nbb[8948] = 0 // means got zero in position 8948 (it is wrong! not really sent)\r\n\r\nbb[8949] = 0 // means got zero in position 8949 (it is wrong! not really sent)\r\n\r\n...\r\n\r\nbb[14999] = 0 // means got zero in position 14999 (it is wrong! not really sent)\r\n\r\n\r\n\r\n\r\nThe number 8947 = MTU - 54 (I suggest 54 is some header) = 9001 - 54\r\n\r\n\r\n2. If set MTU = 5000 and change the code:\r\n\r\n```\r\nsocket = new Socket(host, port);\r\nsocket.setSoTimeout(3_000);\r\nsocketConnection = new SocketConnection();\r\nInputStream in = socket.getInputStream();\r\nint size = 15_000;\r\nwhile (size &gt; 0) {\r\n int currentChunkSize = Math.min(size, 4096);\r\n byte[] bb = new byte[currentChunkSize];\r\n int r = in.read(bb, 0, currentChunkSize);\r\n assert r == currentChunkSize;\r\n size -= currentChunkSize;\r\n}\r\n```\r\n\r\nThen we got:\r\n\r\nbb[0] = 1 // means some real data in position 0\r\n\r\nbb[1] = 1 // means some real data in position 1\r\n\r\n...\r\n\r\nbb[4946] = 1 // means some real data in position 4946\r\n\r\nbb[4947] = 0 // means got zero in position 4947 (it is wrong! not really sent)\r\n\r\nbb[4948] = 0 // means got zero in position 4948 (it is wrong! not really sent)\r\n\r\nbb[4949] = 0 // means got zero in position 4949 (it is wrong! not really sent)\r\n\r\n...\r\n\r\nbb[8197] = 0 // means got zero in position 8197 (it is wrong! not really sent)\r\n\r\nbb[8198] = 1 // means some real data in position 8198\r\n\r\n...\r\n\r\nbb[14444] = 1 // means some real data in position 14444\r\n\r\n\r\n\r\nThe number 4946 = MTU - 54 = 5000 - 54\r\n\r\nBy the way, packets weren&#39;t lost. The second case shows that bb[8198] got byte was sent at 4947 postion. So in.read() return zeros between the real packets.\r\n\r\nIt is hard to repeat, happen rarely and only when working over the real network (never happened local). And got it only on the amazon servers.\r\n\r\nIt is problem because we can&#39;t be sure is it real zero block (such data) or the issue. Any ideas what is it?\r\n\r\n\r\n\r\n\r\n","title":"java InputStream read zeros from socket","body":"<p>We have got strange issue when create 100 threads and in each create connection and read big message:</p>\n<pre><code>socket = new Socket(host, port);\nsocket.setSoTimeout(3_000);\nsocketConnection = new SocketConnection();\nInputStream in = socket.getInputStream();\nbyte[] bb = new byte[15_000];\nint r = in.read(bb, 0, 15_000);\nassert r == 15_000;\n</code></pre>\n<p>Usually all is fine, but some time we've found zeros inside bb. The lenght of zeros depends of MTU. For example:</p>\n<ol>\n<li>When MTU = 9001 (it is Amazon server's setting by default, Ubuntu 20.04)</li>\n</ol>\n<p>bb[0] = 1 // means some real data in position 0</p>\n<p>bb[1] = 1 // means some real data in position 1</p>\n<p>...</p>\n<p>bb[8946] = 1 // means some real data in position 8946</p>\n<p>bb[8947] = 0 // means got zero in position 8947 (it is wrong! not really sent)</p>\n<p>bb[8948] = 0 // means got zero in position 8948 (it is wrong! not really sent)</p>\n<p>bb[8949] = 0 // means got zero in position 8949 (it is wrong! not really sent)</p>\n<p>...</p>\n<p>bb[14999] = 0 // means got zero in position 14999 (it is wrong! not really sent)</p>\n<p>The number 8947 = MTU - 54 (I suggest 54 is some header) = 9001 - 54</p>\n<ol start=\"2\">\n<li>If set MTU = 5000 and change the code:</li>\n</ol>\n<pre><code>socket = new Socket(host, port);\nsocket.setSoTimeout(3_000);\nsocketConnection = new SocketConnection();\nInputStream in = socket.getInputStream();\nint size = 15_000;\nwhile (size &gt; 0) {\n int currentChunkSize = Math.min(size, 4096);\n byte[] bb = new byte[currentChunkSize];\n int r = in.read(bb, 0, currentChunkSize);\n assert r == currentChunkSize;\n size -= currentChunkSize;\n}\n</code></pre>\n<p>Then we got:</p>\n<p>bb[0] = 1 // means some real data in position 0</p>\n<p>bb[1] = 1 // means some real data in position 1</p>\n<p>...</p>\n<p>bb[4946] = 1 // means some real data in position 4946</p>\n<p>bb[4947] = 0 // means got zero in position 4947 (it is wrong! not really sent)</p>\n<p>bb[4948] = 0 // means got zero in position 4948 (it is wrong! not really sent)</p>\n<p>bb[4949] = 0 // means got zero in position 4949 (it is wrong! not really sent)</p>\n<p>...</p>\n<p>bb[8197] = 0 // means got zero in position 8197 (it is wrong! not really sent)</p>\n<p>bb[8198] = 1 // means some real data in position 8198</p>\n<p>...</p>\n<p>bb[14444] = 1 // means some real data in position 14444</p>\n<p>The number 4946 = MTU - 54 = 5000 - 54</p>\n<p>By the way, packets weren't lost. The second case shows that bb[8198] got byte was sent at 4947 postion. So in.read() return zeros between the real packets.</p>\n<p>It is hard to repeat, happen rarely and only when working over the real network (never happened local). And got it only on the amazon servers.</p>\n<p>It is problem because we can't be sure is it real zero block (such data) or the issue. Any ideas what is it?</p>\n"},{"tags":["java","jenkins","groovy"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643981840,"post_id":70987160,"comment_id":125489961,"body_markdown":"You don&#39;t have any workspace yet when the parameters are read. Why not use the default in script? `def tag = params.imageTag ?: xxxx`. I&#39;m not sure that the Elvis operator (?:) works for empty values, you may need to add an explicit empty check.","body":"You don&#39;t have any workspace yet when the parameters are read. Why not use the default in script? <code>def tag = params.imageTag ?: xxxx</code>. I&#39;m not sure that the Elvis operator (?:) works for empty values, you may need to add an explicit empty check."},{"owner":{"account_id":4227103,"reputation":1688,"user_id":3460387,"accept_rate":75,"display_name":"KiKo"},"score":0,"creation_date":1643982196,"post_id":70987160,"comment_id":125490095,"body_markdown":"I updated the question, I found a solution, but the main idea was setting defaultValue directly on parameters","body":"I updated the question, I found a solution, but the main idea was setting defaultValue directly on parameters"}],"owner":{"account_id":4227103,"reputation":1688,"user_id":3460387,"accept_rate":75,"display_name":"KiKo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643982139,"creation_date":1643981256,"question_id":70987160,"body_markdown":"I have jenkinsfile and I want to set defaultValue on the imageTag dynamically, which I&#39;m fetching from the pom file.\r\n\r\nHere is the file:\r\n\r\n    def gr\r\n    \r\n    pipeline {\r\n\r\n        agent any\r\n    \r\n        image = readMavenPom().getParent().getVersion()\r\n        parameters {\r\n            string(name: &#39;imageTag&#39;, defaultValue: image, description: &#39;Docker image tag&#39;)\r\n        }\r\n    \r\n        stages {\r\n            stage(&#39;Environment&#39;) {\r\n                steps {\r\n                    script {\r\n                        gr = load &#39;src/ci/script.groovy&#39;;\r\n                        echo(&quot;Using imageTag: ${params.imageTag}&quot;)\r\n                    }\r\n                }\r\n            }\r\n         }\r\n\r\n\r\nI&#39;m getting an error:\r\n\r\n&gt; startup failed: WorkflowScript: 10: Not a valid section definition:\r\n&gt; &quot;image = readMavenPom().getParent().getVersion()&quot;. Some extra\r\n&gt; configuration is required. @ line 10, column 5.\r\n&gt;        image = readMavenPom().getParent().getVersion()\r\n&gt;        ^\r\n&gt; \r\n&gt; 1 error\r\n&gt; \r\n&gt; \tat\r\n&gt; org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1085)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:603)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:581)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:558)\r\n&gt; \tat\r\n&gt; groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\r\n&gt; \tat\r\n&gt; groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\r\n&gt; \tat groovy.lang.GroovyShell.parseClass(GroovyShell.java:688) \tat\r\n&gt; groovy.lang.GroovyShell.parse(GroovyShell.java:700) \tat\r\n&gt; org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.doParse(CpsGroovyShell.java:142)\r\n&gt; \tat\r\n&gt; org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.reparse(CpsGroovyShell.java:127)\r\n&gt; \tat\r\n&gt; org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.parseScript(CpsFlowExecution.java:571)\r\n&gt; \tat\r\n&gt; org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.start(CpsFlowExecution.java:523)\r\n&gt; \tat\r\n&gt; org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:337)\r\n&gt; \tat\r\n&gt; hudson.model.ResourceController.execute(ResourceController.java:97)\r\n&gt; \tat hudson.model.Executor.run(Executor.java:429) Finished: FAILURE\r\n\r\nI found this solution and it works, but the main idea was setting defaultValue dynamically directly on parameter\r\n\r\n        stage(&#39;Environment&#39;) {\r\n            steps {\r\n                script {\r\n                    gr = load &#39;src/ci/script.groovy&#39;;\r\n                    version = readMavenPom().getParent().getVersion()\r\n\r\n                    if (!params.imageTag) {\r\n                        imageTag = version\r\n                    }\r\n\r\n                    echo(&quot;Using imageTag: ${imageTag}&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Jenkins pipelines set defaultValue on parameter dynamically","body":"<p>I have jenkinsfile and I want to set defaultValue on the imageTag dynamically, which I'm fetching from the pom file.</p>\n<p>Here is the file:</p>\n<pre><code>def gr\n\npipeline {\n\n    agent any\n\n    image = readMavenPom().getParent().getVersion()\n    parameters {\n        string(name: 'imageTag', defaultValue: image, description: 'Docker image tag')\n    }\n\n    stages {\n        stage('Environment') {\n            steps {\n                script {\n                    gr = load 'src/ci/script.groovy';\n                    echo(&quot;Using imageTag: ${params.imageTag}&quot;)\n                }\n            }\n        }\n     }\n</code></pre>\n<p>I'm getting an error:</p>\n<blockquote>\n<p>startup failed: WorkflowScript: 10: Not a valid section definition:\n&quot;image = readMavenPom().getParent().getVersion()&quot;. Some extra\nconfiguration is required. @ line 10, column 5.\nimage = readMavenPom().getParent().getVersion()\n^</p>\n<p>1 error</p>\n<p>at\norg.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\nat\norg.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1085)\nat\norg.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:603)\nat\norg.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:581)\nat\norg.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:558)\nat\ngroovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\nat\ngroovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\nat groovy.lang.GroovyShell.parseClass(GroovyShell.java:688)     at\ngroovy.lang.GroovyShell.parse(GroovyShell.java:700)   at\norg.jenkinsci.plugins.workflow.cps.CpsGroovyShell.doParse(CpsGroovyShell.java:142)\nat\norg.jenkinsci.plugins.workflow.cps.CpsGroovyShell.reparse(CpsGroovyShell.java:127)\nat\norg.jenkinsci.plugins.workflow.cps.CpsFlowExecution.parseScript(CpsFlowExecution.java:571)\nat\norg.jenkinsci.plugins.workflow.cps.CpsFlowExecution.start(CpsFlowExecution.java:523)\nat\norg.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:337)\nat\nhudson.model.ResourceController.execute(ResourceController.java:97)\nat hudson.model.Executor.run(Executor.java:429) Finished: FAILURE</p>\n</blockquote>\n<p>I found this solution and it works, but the main idea was setting defaultValue dynamically directly on parameter</p>\n<pre><code>    stage('Environment') {\n        steps {\n            script {\n                gr = load 'src/ci/script.groovy';\n                version = readMavenPom().getParent().getVersion()\n\n                if (!params.imageTag) {\n                    imageTag = version\n                }\n\n                echo(&quot;Using imageTag: ${imageTag}&quot;)\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","typescript","spring-boot","angular-material"],"comments":[{"owner":{"account_id":21047654,"reputation":2864,"user_id":15468663,"display_name":"Juan Vicente Berzosa Tejero"},"score":0,"creation_date":1643907468,"post_id":70975236,"comment_id":125469696,"body_markdown":"Please, add to your question a snapshot/capture of your console for this instruction: **console.log(response);**","body":"Please, add to your question a snapshot/capture of your console for this instruction: <b>console.log(response);</b>"},{"owner":{"display_name":"user18005111"},"score":0,"creation_date":1643907910,"post_id":70975236,"comment_id":125469905,"body_markdown":"Sure, I just added the snapshot. @JuanVicenteBerzosaTejero","body":"Sure, I just added the snapshot. @JuanVicenteBerzosaTejero"},{"owner":{"account_id":21047654,"reputation":2864,"user_id":15468663,"display_name":"Juan Vicente Berzosa Tejero"},"score":0,"creation_date":1643908042,"post_id":70975236,"comment_id":125469961,"body_markdown":"As I was afraid, you are getting the undefined from your back/API. Its nothing that you can do in the Angular front to solve it. You should have the problem in your &quot;back&quot; side (*unless you have a problem  in your &quot;questionService&quot; service, in the &quot;&quot;getQuestions&quot; method*).I recommend you to **add to your question the code of that method &quot;getQuestions()**, and the code of the back/API with which you create that &#39;response&#39; object.","body":"As I was afraid, you are getting the undefined from your back/API. Its nothing that you can do in the Angular front to solve it. You should have the problem in your &quot;back&quot; side (<i>unless you have a problem  in your &quot;questionService&quot; service, in the &quot;&quot;getQuestions&quot; method</i>).I recommend you to <b>add to your question the code of that method &quot;getQuestions()</b>, and the code of the back/API with which you create that &#39;response&#39; object."},{"owner":{"display_name":"user18005111"},"score":1,"creation_date":1643908297,"post_id":70975236,"comment_id":125470080,"body_markdown":"I&#39;ll add the questionService service  and the code of the back/API too. Thanks @JuanVicenteBerzosaTejero","body":"I&#39;ll add the questionService service  and the code of the back/API too. Thanks @JuanVicenteBerzosaTejero"},{"owner":{"account_id":21047654,"reputation":2864,"user_id":15468663,"display_name":"Juan Vicente Berzosa Tejero"},"score":1,"creation_date":1643910638,"post_id":70975236,"comment_id":125471030,"body_markdown":"Definitely, the problem does not seem to be in &#39;getQuestions&#39; method, but in your back-end.  **Add the tag of the language you are using in back to your original question**.","body":"Definitely, the problem does not seem to be in &#39;getQuestions&#39; method, but in your back-end.  <b>Add the tag of the language you are using in back to your original question</b>."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1643921531,"post_id":70975236,"comment_id":125474850,"body_markdown":"Can you add a test mapping to your controller? If so, please make it return a single String and test it with Postman or curl. I&#39;m not really experienced with this, but I suspect you might need to serialize your data (`Question`) before responding it.","body":"Can you add a test mapping to your controller? If so, please make it return a single String and test it with Postman or curl. I&#39;m not really experienced with this, but I suspect you might need to serialize your data (<code>Question</code>) before responding it."},{"owner":{"display_name":"user18005111"},"score":0,"creation_date":1643962885,"post_id":70975236,"comment_id":125483226,"body_markdown":"I&#39;m new to the topic and, unfortunately, I don&#39;t know how to add a test mapping... @JettoMart&#237;nez","body":"I&#39;m new to the topic and, unfortunately, I don&#39;t know how to add a test mapping... @JettoMart&#237;nez"},{"owner":{"display_name":"user18005111"},"score":0,"creation_date":1643964928,"post_id":70975236,"comment_id":125483847,"body_markdown":"@JettoMart&#237;nez I edited my question trying to add the test that you suggested (even if I don&#39;t know how to test it with Postman), but an error occurs...","body":"@JettoMart&#237;nez I edited my question trying to add the test that you suggested (even if I don&#39;t know how to test it with Postman), but an error occurs..."}],"answers":[{"tags":[],"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643981325,"creation_date":1643979313,"answer_id":70986735,"question_id":70975236,"body_markdown":"The issue is caused by the `@JsonIgnore` annotation on `List&lt;Answer&gt; answers` field in your `Question` entity class. This is telling Jackson to ignore (i.e. don&#39;t include) this field when serializing the object into JSON.\r\n\r\nTo fix this:\r\n\r\n1. In your **`Question`** entity class, remove the `@JsonIgnore` annotation from the `List&lt;Answer&gt; answers` field\r\n\r\n2. On the other hand, in your **`Answer`** entity class you should add the `@JsonIgnore` annotation to the `Question question` field -- this is to avoid potential [Jackson infinite recursion issue][1] caused by the bidrection relationship.\r\n\r\nQuestion entity:\r\n\r\n    ...\r\n    public class Question {\r\n        ...\r\n\r\n        // remove @JsonIgnore\r\n        @OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.MERGE)\r\n        private List&lt;Answer&gt; answers;\r\n        ...\r\n    }\r\n\r\nAnswer entity:\r\n\r\n    ...\r\n    public class Answer {\r\n        ...\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;question&quot;)\r\n        @JsonIgnore // add this here\r\n        private Question question;\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"List of objects not displayed because undefined in Spring boot","body":"<p>The issue is caused by the <code>@JsonIgnore</code> annotation on <code>List&lt;Answer&gt; answers</code> field in your <code>Question</code> entity class. This is telling Jackson to ignore (i.e. don't include) this field when serializing the object into JSON.</p>\n<p>To fix this:</p>\n<ol>\n<li><p>In your <strong><code>Question</code></strong> entity class, remove the <code>@JsonIgnore</code> annotation from the <code>List&lt;Answer&gt; answers</code> field</p>\n</li>\n<li><p>On the other hand, in your <strong><code>Answer</code></strong> entity class you should add the <code>@JsonIgnore</code> annotation to the <code>Question question</code> field -- this is to avoid potential <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">Jackson infinite recursion issue</a> caused by the bidrection relationship.</p>\n</li>\n</ol>\n<p>Question entity:</p>\n<pre><code>...\npublic class Question {\n    ...\n\n    // remove @JsonIgnore\n    @OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.MERGE)\n    private List&lt;Answer&gt; answers;\n    ...\n}\n</code></pre>\n<p>Answer entity:</p>\n<pre><code>...\npublic class Answer {\n    ...\n\n    @ManyToOne\n    @JoinColumn(name = &quot;question&quot;)\n    @JsonIgnore // add this here\n    private Question question;\n    ...\n}\n</code></pre>\n"}],"owner":{"display_name":"user18005111"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1373,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70986735,"answer_count":1,"score":2,"last_activity_date":1643981325,"creation_date":1643907136,"question_id":70975236,"body_markdown":"I have a list of `Question` , every object of type `Question` has a 1:n relationship with objects of type `Answer` (so every `Question` object has a list of `Answer` objects). I&#39;m trying to display on the browser, using Angular material, all the `Question` objects with their answers after a click event, but when I try to do so, the `Question` objects are displayed without their answers. After some researches I found out that even if the `Answer` and `Question` objects are correcty &quot;connected&quot; and stored in the database, the list of answers results to be undefined as shown in the following console:\r\n\r\n&gt; {id: 10, question: &#39;Question1&#39;, questionsForUser: Array(0), answers:\r\n&gt; undefined}  \r\nAnswers: homepage.component.ts:32  \r\nundefined\r\n&gt; homepage.component.ts:33\r\n\r\nHow can I deal with this problem?\r\n\r\nHere is the relationship between `Question` and `Answer`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhomepage.component is the component in which the following click event occurs:\r\n\r\n    &lt;div class=&quot;button&quot;&gt;\r\n              &lt;button mat-button (click)=&quot;getQuestions()&quot; routerLink=&quot;questions/getAllQuestions&quot; routerLinkActive=&quot;active&quot;&gt;Show&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\nhomepage.component.ts:\r\n\r\n    export class HomepageComponent implements OnInit {\r\n      longText = `...`;\r\n      public questions: Question[] = [];\r\n    \r\n      constructor(private questionService: QuestionService, private  shared: SharedService) { }\r\n    \r\n      ngOnInit(): void {\r\n        this.shared.castQuestions.subscribe(questions=&gt;this.questions=questions);\r\n      }\r\n    \r\n      public getQuestions():void{\r\n        this.questionService.getQuestions().subscribe(\r\n          (response: Question[]) =&gt; {\r\n            this.questions =response;\r\n    \r\n            this.shared.showQuestions(this.questions);\r\n            console.log(response);\r\n            for(let i=0; i&lt;response.length; i++){\r\n              this.questions[i].answers=response[i].answers;\r\n              console.log(response[i]);\r\n              console.log(&quot;Answers:&quot;);\r\n              console.log(response[i].answers);\r\n            }\r\n    \r\n          },\r\n          (error: HttpErrorResponse) =&gt; {\r\n            alert(error.message);\r\n          }\r\n        );\r\n      }\r\n    \r\n    }\r\n\r\nAfter the click event, thanks to Angular routing, the tool.component code should be executed.\r\n\r\n\r\ntool.component.html:\r\n\r\n    &lt;table mat-table [dataSource]=&quot;questions&quot; class=&quot;mat-elevation-z8&quot;&gt;\r\n     \r\n      &lt;!-- Question Column --&gt;\r\n      &lt;ng-container matColumnDef=&quot;question&quot;&gt;\r\n        &lt;th mat-header-cell *matHeaderCellDef&gt; Question &lt;/th&gt;\r\n        &lt;td mat-cell *matCellDef=&quot;let question&quot;&gt; {{question.question}} &lt;/td&gt;\r\n      &lt;/ng-container&gt;\r\n    \r\n      &lt;!-- Answers Column --&gt;\r\n      &lt;ng-container matColumnDef=&quot;answers&quot;&gt;\r\n        &lt;th mat-header-cell *matHeaderCellDef&gt; Answers &lt;/th&gt;\r\n        &lt;td mat-cell *matCellDef=&quot;let question&quot;&gt; {{question.answers}} &lt;/td&gt;\r\n      &lt;/ng-container&gt;\r\n    \r\n    \r\n    \r\n      &lt;tr mat-header-row *matHeaderRowDef=&quot;displayedColumns&quot;&gt;&lt;/tr&gt;\r\n      &lt;tr mat-row *matRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;&lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\ntool.component.ts:\r\n\r\n    export class ToolComponent implements OnInit {\r\n      public questions: Question[] = [];\r\n      displayedColumns = [&#39;question&#39;, &#39;answers&#39;];\r\n      constructor(private shared: SharedService) { }\r\n    \r\n      ngOnInit(): void {\r\n        this.shared.castQuestions.subscribe(questions=&gt;this.questions=questions);\r\n      }\r\n    \r\n    }\r\n\r\nshared.service.ts:\r\n\r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class SharedService {\r\n        private questions= new BehaviorSubject&lt;Array&lt;Question&gt;&gt;([]);\r\n          castQuestions = this.questions.asObservable();\r\n    \r\n        showQuestions(data: Question[]){\r\n          this.questions.next(data);\r\n    \r\n      }\r\n    }\r\n\r\nconsole.log(response):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nquestion.service.ts:\r\n\r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    public getQuestions(): Observable&lt;Question[]&gt; {\r\n        return this.http.get&lt;Question[]&gt;(&#39;http://localhost:8080/questions/getAllQuestions&#39;);\r\n      }\r\n    }\r\n\r\nBack/api with which I create the response:\r\n\r\nQuestion entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;question&quot;, schema = &quot;purchase&quot;)\r\n    public class Question {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private int id;\r\n    \r\n        @Basic\r\n        @Column(name = &quot;question&quot;, nullable = true, length = 1000)\r\n        private String question;\r\n    \r\n        @OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.MERGE)\r\n        private List&lt;QuestionForUser&gt; questionsForUser;\r\n    \r\n        @OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.MERGE)\r\n        @JsonIgnore\r\n        private List&lt;Answer&gt; answers;\r\n    }\r\n\r\nAnswer entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;answer&quot;, schema = &quot;purchase&quot;)\r\n    public class Answer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private int id;\r\n    \r\n        @Basic\r\n        @Column(name = &quot;answer&quot;, nullable = true, length = 1000)\r\n        private String answer;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;question&quot;)\r\n    \r\n        private Question question;\r\n    \r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    }\r\n\r\nQuestionRepository:\r\n\r\n    @Repository\r\n    public interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; {\r\n    \r\n        List&lt;Question&gt; findByQuestionContaining(String question);\r\n    \r\n        boolean existsByQuestion(String question);\r\n\r\n    }\r\n\r\n\r\nQuestionService:\r\n\r\n    @Service\r\n    public class QuestionService {\r\n    \r\n        @Autowired\r\n        private QuestionRepository questionRepository;\r\n    @Transactional(readOnly = true)\r\n        public List&lt;Question&gt; getAllQuestions(){\r\n            return questionRepository.findAll();\r\n        }\r\n    }\r\n\r\nQuestionController:\r\n\r\n    @GetMapping(&quot;/getAllQuestions&quot;)\r\n        public List&lt;Question&gt; getAll(){\r\n            List&lt;Question&gt; ques = questionService.getAllQuestions();\r\n            for(Question q:ques){\r\n                System.out.println(q.getQuestion());\r\n                if(q.getAnswers()!=null){\r\n                    System.out.println(&quot;The answers are: &quot;+q.getAnswers().size());\r\n                }\r\n            }\r\n    \r\n            return questionService.getAllQuestions();\r\n        }\r\n\r\nAs suggested, I tried to add a test to `getAll()` in `QuestionController`. To make the test return a string, I temporarily changed the method `getAll()` in this way:\r\n\r\n    @GetMapping(&quot;/getAllQuestions&quot;)//funziona\r\n        public String getAll(){\r\n            List&lt;Question&gt; result = questionService.getAllQuestions();\r\n            String answer = result.get(0).getAnswers().get(0).getAnswer();\r\n            return answer;\r\n        }\r\n\r\nThen, I wrote the following test:\r\n\r\n    class QuestionControllerTest {\r\n    \r\n        @Test\r\n        void getAll() {\r\n            QuestionController controller = new QuestionController(); //Arrange\r\n            String response = controller.getAll(); //Act\r\n            assertEquals(&quot;a1&quot;, response); //Assert\r\n        }\r\n    }\r\n\r\nThe first answer of the first question should be `a1`, but when I execute the test on IntelliJ I have the following result:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;com.ptoject.demo.services.QuestionService.getAllQuestions()&quot; because\r\n&gt; &quot;this.questionService&quot; is null\r\n&gt; \r\n&gt; \tat\r\n&gt; com.ptoject.demo.controller.QuestionController.getAll(QuestionController.java:64)\r\n&gt; at\r\n&gt; com.ptoject.demo.controller.QuestionControllerTest.getAll(QuestionControllerTest.java:12)\r\n&gt; &lt;31 internal calls&gt; at\r\n&gt; java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;9 internal\r\n&gt; calls&gt; at\r\n&gt; java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;25 internal\r\n&gt; calls&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z5zmy.png\r\n  [2]: https://i.stack.imgur.com/DR3bH.png","title":"List of objects not displayed because undefined in Spring boot","body":"<p>I have a list of <code>Question</code> , every object of type <code>Question</code> has a 1:n relationship with objects of type <code>Answer</code> (so every <code>Question</code> object has a list of <code>Answer</code> objects). I'm trying to display on the browser, using Angular material, all the <code>Question</code> objects with their answers after a click event, but when I try to do so, the <code>Question</code> objects are displayed without their answers. After some researches I found out that even if the <code>Answer</code> and <code>Question</code> objects are correcty &quot;connected&quot; and stored in the database, the list of answers results to be undefined as shown in the following console:</p>\n<blockquote>\n<p>{id: 10, question: 'Question1', questionsForUser: Array(0), answers:\nundefined}<br />\nAnswers: homepage.component.ts:32<br />\nundefined\nhomepage.component.ts:33</p>\n</blockquote>\n<p>How can I deal with this problem?</p>\n<p>Here is the relationship between <code>Question</code> and <code>Answer</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/Z5zmy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5zmy.png\" alt=\"enter image description here\" /></a></p>\n<p>homepage.component is the component in which the following click event occurs:</p>\n<pre><code>&lt;div class=&quot;button&quot;&gt;\n          &lt;button mat-button (click)=&quot;getQuestions()&quot; routerLink=&quot;questions/getAllQuestions&quot; routerLinkActive=&quot;active&quot;&gt;Show&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>homepage.component.ts:</p>\n<pre><code>export class HomepageComponent implements OnInit {\n  longText = `...`;\n  public questions: Question[] = [];\n\n  constructor(private questionService: QuestionService, private  shared: SharedService) { }\n\n  ngOnInit(): void {\n    this.shared.castQuestions.subscribe(questions=&gt;this.questions=questions);\n  }\n\n  public getQuestions():void{\n    this.questionService.getQuestions().subscribe(\n      (response: Question[]) =&gt; {\n        this.questions =response;\n\n        this.shared.showQuestions(this.questions);\n        console.log(response);\n        for(let i=0; i&lt;response.length; i++){\n          this.questions[i].answers=response[i].answers;\n          console.log(response[i]);\n          console.log(&quot;Answers:&quot;);\n          console.log(response[i].answers);\n        }\n\n      },\n      (error: HttpErrorResponse) =&gt; {\n        alert(error.message);\n      }\n    );\n  }\n\n}\n</code></pre>\n<p>After the click event, thanks to Angular routing, the tool.component code should be executed.</p>\n<p>tool.component.html:</p>\n<pre><code>&lt;table mat-table [dataSource]=&quot;questions&quot; class=&quot;mat-elevation-z8&quot;&gt;\n \n  &lt;!-- Question Column --&gt;\n  &lt;ng-container matColumnDef=&quot;question&quot;&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Question &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=&quot;let question&quot;&gt; {{question.question}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;!-- Answers Column --&gt;\n  &lt;ng-container matColumnDef=&quot;answers&quot;&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Answers &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=&quot;let question&quot;&gt; {{question.answers}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n\n\n  &lt;tr mat-header-row *matHeaderRowDef=&quot;displayedColumns&quot;&gt;&lt;/tr&gt;\n  &lt;tr mat-row *matRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>tool.component.ts:</p>\n<pre><code>export class ToolComponent implements OnInit {\n  public questions: Question[] = [];\n  displayedColumns = ['question', 'answers'];\n  constructor(private shared: SharedService) { }\n\n  ngOnInit(): void {\n    this.shared.castQuestions.subscribe(questions=&gt;this.questions=questions);\n  }\n\n}\n</code></pre>\n<p>shared.service.ts:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n    private questions= new BehaviorSubject&lt;Array&lt;Question&gt;&gt;([]);\n      castQuestions = this.questions.asObservable();\n\n    showQuestions(data: Question[]){\n      this.questions.next(data);\n\n  }\n}\n</code></pre>\n<p>console.log(response):</p>\n<p><a href=\"https://i.stack.imgur.com/DR3bH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DR3bH.png\" alt=\"enter image description here\" /></a></p>\n<p>question.service.ts:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\npublic getQuestions(): Observable&lt;Question[]&gt; {\n    return this.http.get&lt;Question[]&gt;('http://localhost:8080/questions/getAllQuestions');\n  }\n}\n</code></pre>\n<p>Back/api with which I create the response:</p>\n<p>Question entity:</p>\n<pre><code>@Getter\n@Setter\n@EqualsAndHashCode\n@ToString\n@Entity\n@Table(name = &quot;question&quot;, schema = &quot;purchase&quot;)\npublic class Question {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private int id;\n\n    @Basic\n    @Column(name = &quot;question&quot;, nullable = true, length = 1000)\n    private String question;\n\n    @OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.MERGE)\n    private List&lt;QuestionForUser&gt; questionsForUser;\n\n    @OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.MERGE)\n    @JsonIgnore\n    private List&lt;Answer&gt; answers;\n}\n</code></pre>\n<p>Answer entity:</p>\n<pre><code>@Getter\n@Setter\n@EqualsAndHashCode\n@ToString\n@Entity\n@Table(name = &quot;answer&quot;, schema = &quot;purchase&quot;)\npublic class Answer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private int id;\n\n    @Basic\n    @Column(name = &quot;answer&quot;, nullable = true, length = 1000)\n    private String answer;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;question&quot;)\n\n    private Question question;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<p>QuestionRepository:</p>\n<pre><code>@Repository\npublic interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; {\n\n    List&lt;Question&gt; findByQuestionContaining(String question);\n\n    boolean existsByQuestion(String question);\n\n}\n</code></pre>\n<p>QuestionService:</p>\n<pre><code>@Service\npublic class QuestionService {\n\n    @Autowired\n    private QuestionRepository questionRepository;\n@Transactional(readOnly = true)\n    public List&lt;Question&gt; getAllQuestions(){\n        return questionRepository.findAll();\n    }\n}\n</code></pre>\n<p>QuestionController:</p>\n<pre><code>@GetMapping(&quot;/getAllQuestions&quot;)\n    public List&lt;Question&gt; getAll(){\n        List&lt;Question&gt; ques = questionService.getAllQuestions();\n        for(Question q:ques){\n            System.out.println(q.getQuestion());\n            if(q.getAnswers()!=null){\n                System.out.println(&quot;The answers are: &quot;+q.getAnswers().size());\n            }\n        }\n\n        return questionService.getAllQuestions();\n    }\n</code></pre>\n<p>As suggested, I tried to add a test to <code>getAll()</code> in <code>QuestionController</code>. To make the test return a string, I temporarily changed the method <code>getAll()</code> in this way:</p>\n<pre><code>@GetMapping(&quot;/getAllQuestions&quot;)//funziona\n    public String getAll(){\n        List&lt;Question&gt; result = questionService.getAllQuestions();\n        String answer = result.get(0).getAnswers().get(0).getAnswer();\n        return answer;\n    }\n</code></pre>\n<p>Then, I wrote the following test:</p>\n<pre><code>class QuestionControllerTest {\n\n    @Test\n    void getAll() {\n        QuestionController controller = new QuestionController(); //Arrange\n        String response = controller.getAll(); //Act\n        assertEquals(&quot;a1&quot;, response); //Assert\n    }\n}\n</code></pre>\n<p>The first answer of the first question should be <code>a1</code>, but when I execute the test on IntelliJ I have the following result:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;com.ptoject.demo.services.QuestionService.getAllQuestions()&quot; because\n&quot;this.questionService&quot; is null</p>\n<p>at\ncom.ptoject.demo.controller.QuestionController.getAll(QuestionController.java:64)\nat\ncom.ptoject.demo.controller.QuestionControllerTest.getAll(QuestionControllerTest.java:12)\n&lt;31 internal calls&gt; at\njava.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;9 internal\ncalls&gt; at\njava.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;25 internal\ncalls&gt;</p>\n</blockquote>\n"},{"tags":["java","android","hashmap"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1643977593,"post_id":70986357,"comment_id":125488418,"body_markdown":"this is a bad approach, why are you passing in context and handling click listeners inside of your recycler ? you should rather be using callback methods to move this logic out, back into your activity or fragment","body":"this is a bad approach, why are you passing in context and handling click listeners inside of your recycler ? you should rather be using callback methods to move this logic out, back into your activity or fragment"},{"owner":{"account_id":22224504,"reputation":83,"user_id":17333696,"display_name":"Ken Adams"},"score":0,"creation_date":1643977810,"post_id":70986357,"comment_id":125488493,"body_markdown":"@a_local_nobody how will I assign clickListeners  for every element outside my recycler view? I think it will be too complicated.","body":"@a_local_nobody how will I assign clickListeners  for every element outside my recycler view? I think it will be too complicated."},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1643978265,"post_id":70986357,"comment_id":125488642,"body_markdown":"`I think it will be too complicated` what&#39;s normal for the spider is chaos for the fly :)  lots of examples online for doing it, it&#39;s the better approach to follow , your approach doesn&#39;t make this recycler reusable https://stackoverflow.com/questions/30487700/recyclerview-onitemclicked-callback","body":"<code>I think it will be too complicated</code> what&#39;s normal for the spider is chaos for the fly :)  lots of examples online for doing it, it&#39;s the better approach to follow , your approach doesn&#39;t make this recycler reusable <a href=\"https://stackoverflow.com/questions/30487700/recyclerview-onitemclicked-callback\" title=\"recyclerview onitemclicked callback\">stackoverflow.com/questions/30487700/&hellip;</a>"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":2,"creation_date":1643979066,"post_id":70986357,"comment_id":125488918,"body_markdown":"Just to comment on the problem you have asked about (and not the whole approach). You are invoking `courses.get(a)` which will return a `String[]` and you are trying to cast it as a `List&lt;String&gt;`. You can&#39;t just cast it as a `List&lt;String&gt;` (which is what the exception says) and hope it works. Either have `List&lt;String&gt;` in your `courses` map or convert the result of the get.","body":"Just to comment on the problem you have asked about (and not the whole approach). You are invoking <code>courses.get(a)</code> which will return a <code>String[]</code> and you are trying to cast it as a <code>List&lt;String&gt;</code>. You can&#39;t just cast it as a <code>List&lt;String&gt;</code> (which is what the exception says) and hope it works. Either have <code>List&lt;String&gt;</code> in your <code>courses</code> map or convert the result of the get."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":1,"creation_date":1643979674,"post_id":70986357,"comment_id":125489113,"body_markdown":"@KenAdams You can just get the context from the view parameter `view.getContext()`","body":"@KenAdams You can just get the context from the view parameter <code>view.getContext()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643981041,"creation_date":1643979172,"answer_id":70986701,"question_id":70986357,"body_markdown":"... how can you NOT see it!?\r\n\r\n        HashMap courses = new HashMap&lt;String,String[]&gt;();\r\n        List&lt;String&gt; b = (List&lt;String&gt;) courses.get(a);\r\n\r\nLet me show some detail what this does:\r\n\r\n        HashMap courses = new HashMap&lt;String,String[]&gt;();\r\n        String[] temp = courses.get(a);\r\n        List&lt;String&gt; b = (List&lt;String&gt;) temp;\r\n\r\nNow why does a cast from `String[]` to `List&lt;String&gt;` fail? Because one is a List, and the other one is an Array.\r\n\r\nEither use\r\n\r\n        HashMap&lt;String,List&lt;String&gt;&gt; courses = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; b = courses.get(a);\r\n\r\nor do\r\n\r\n        HashMap&lt;String,String[]&gt; courses = new HashMap&lt;&gt;();\r\n        String[] b =  courses.get(a);\r\n\r\n, no casting necessary.","title":"java.lang.ClassCastException: java.lang.String[] cannot be cast to java.util.List","body":"<p>... how can you NOT see it!?</p>\n<pre><code>    HashMap courses = new HashMap&lt;String,String[]&gt;();\n    List&lt;String&gt; b = (List&lt;String&gt;) courses.get(a);\n</code></pre>\n<p>Let me show some detail what this does:</p>\n<pre><code>    HashMap courses = new HashMap&lt;String,String[]&gt;();\n    String[] temp = courses.get(a);\n    List&lt;String&gt; b = (List&lt;String&gt;) temp;\n</code></pre>\n<p>Now why does a cast from <code>String[]</code> to <code>List&lt;String&gt;</code> fail? Because one is a List, and the other one is an Array.</p>\n<p>Either use</p>\n<pre><code>    HashMap&lt;String,List&lt;String&gt;&gt; courses = new HashMap&lt;&gt;();\n    List&lt;String&gt; b = courses.get(a);\n</code></pre>\n<p>or do</p>\n<pre><code>    HashMap&lt;String,String[]&gt; courses = new HashMap&lt;&gt;();\n    String[] b =  courses.get(a);\n</code></pre>\n<p>, no casting necessary.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643981083,"creation_date":1643979822,"answer_id":70986853,"question_id":70986357,"body_markdown":"A type safe `courses` looks like:\r\n\r\n    Map&lt;String, String[]&gt; courses = new HashMap&lt;&gt;();\r\n\r\nIf you do not use parameters `&lt;&gt;` then the compiler switches off the generic typing, as ancient pre-generics java style. \r\n\r\nAs `courses.get(a)` returns a `String[]`, you can shovel them into the list as:\r\n\r\n    List&lt;String&gt; b = new ArrayList&lt;&gt;();\r\n    Collections.addAll(b, courses.get(a));\r\n\r\nAlternatively and shorter, but the list wraps the array, so you cannot add/remove, and set will alter the array (I understood you just want to iterate over it): \r\n\r\n    List&lt;String&gt; b = Arrays.asList(courses.get(a));\r\n\r\nThis also shows why you should use interfaces (List, Map) instead of implementing classes (ArrayList, HashMap) - as you did with `HashMap` -. as `asList` returns just a `List&lt;String&gt;`.","title":"java.lang.ClassCastException: java.lang.String[] cannot be cast to java.util.List","body":"<p>A type safe <code>courses</code> looks like:</p>\n<pre><code>Map&lt;String, String[]&gt; courses = new HashMap&lt;&gt;();\n</code></pre>\n<p>If you do not use parameters <code>&lt;&gt;</code> then the compiler switches off the generic typing, as ancient pre-generics java style.</p>\n<p>As <code>courses.get(a)</code> returns a <code>String[]</code>, you can shovel them into the list as:</p>\n<pre><code>List&lt;String&gt; b = new ArrayList&lt;&gt;();\nCollections.addAll(b, courses.get(a));\n</code></pre>\n<p>Alternatively and shorter, but the list wraps the array, so you cannot add/remove, and set will alter the array (I understood you just want to iterate over it):</p>\n<pre><code>List&lt;String&gt; b = Arrays.asList(courses.get(a));\n</code></pre>\n<p>This also shows why you should use interfaces (List, Map) instead of implementing classes (ArrayList, HashMap) - as you did with <code>HashMap</code> -. as <code>asList</code> returns just a <code>List&lt;String&gt;</code>.</p>\n"}],"owner":{"account_id":22224504,"reputation":83,"user_id":17333696,"display_name":"Ken Adams"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70986853,"answer_count":2,"score":0,"last_activity_date":1643981083,"creation_date":1643977472,"question_id":70986357,"body_markdown":"I&#39;ve read some other questions on this topic , but my case is different as it encompasses three java classes.\r\n\r\nFirst I&#39;ve an adapter for recycler view which is sending me the name of the course clicked through an `intent` in `onClick()`.\r\n\r\n`CustomAdapter.java`:\r\n```Java\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\nimport static androidx.core.content.ContextCompat.startActivity;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\r\n    private List&lt;String&gt; data;\r\n    private List&lt;Integer&gt; d2;\r\n    private Context c;\r\n    public CustomAdapter (Context c , List&lt;String&gt; data,List&lt;Integer&gt; data2){\r\n        this.c = c;\r\n        this.data = data;\r\n        this.d2 = data2;\r\n    }\r\n\r\n    @Override\r\n    public CustomAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View rowItem = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_view, parent, false);\r\n        return new ViewHolder(rowItem);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(CustomAdapter.ViewHolder holder, int position) {\r\n        holder.textView.setText(this.data.get(position));\r\n        holder.tv2.setText(Integer.toString(this.d2.get(position)));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return this.data.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        private TextView textView,tv2;\r\n\r\n        public ViewHolder(View view) {\r\n            super(view);\r\n            view.setOnClickListener(this);\r\n            this.textView = view.findViewById(R.id.textview);\r\n            this.tv2 = view.findViewById(R.id.textview2);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n// I&#39;m passing the name of the course which the user clicked at to CourseList.java\r\n            Intent i = new Intent(c, CourseList.class);\r\n            i.putExtra(&quot;course&quot;,textView.getText().toString());\r\n            c.startActivity(i);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJust to reiterate , here is the intent:\r\n```Java\r\n  @Override\r\n        public void onClick(View view) {\r\n// I&#39;m passing the name of the course which the user clicked at to CourseList.java\r\n            Intent i = new Intent(c, CourseList.class);\r\n            i.putExtra(&quot;course&quot;,textView.getText().toString());\r\n            c.startActivity(i);\r\n        }\r\n```\r\nIn `CourseList.java`, I want to show the topics related to the clicked course. So, making use of `recyclerview` and storing the topics related to each course (`List&lt;String&gt;`) in a `HashMap&lt;String,String[]&gt;`.\r\n\r\n`CourseList.java`:\r\n```Java\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.DividerItemDecoration;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class CourseList extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle saved){\r\n        super.onCreate(saved);\r\n        setContentView(R.layout.activity_reg);\r\n        Bundle extras = getIntent().getExtras();\r\n        HashMap courses = new HashMap&lt;String,String[]&gt;();\r\n        courses.put(&quot;Negotiation&quot;,new String[]{&quot;Common ground&quot;, &quot;Carpet&quot;});\r\n        courses.put(&quot;Pyschology&quot;,new String[]{&quot;Happy&quot;, &quot;No&quot;});\r\n        courses.put(&quot;Joke&quot;,new String[]{&quot;Map&quot;, &quot;Sarcasm&quot;});\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        String a = extras.getString(&quot;course&quot;);\r\n        List&lt;String&gt; b = (List&lt;String&gt;) courses.get(a);\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(new CourseAdapter(CourseList.this, b));\r\n        recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nMy HashMap `courses.get()` returns a `java.lang.Object` but the constructor of `CourseAdapter.java` requires a `java.util.List&lt;java.lang.String&gt;`.\r\nSo, I&#39;m typecasting at this line:\r\n```Java\r\nList&lt;String&gt; b = (List&lt;String&gt;) courses.get(a);\r\n```\r\n\r\nBut my app is crashing with the runtime error:\r\n```Java\r\njava.lang.ClassCastException: java.lang.String[] cannot be cast to java.util.List\r\n```\r\nHere is `CourseAdapter.java` (Adapter for `CourseList.java`):\r\n\r\n`CourseAdapter.java`:\r\n```Java\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\nimport static androidx.core.content.ContextCompat.startActivity;\r\n\r\npublic class CourseAdapter extends RecyclerView.Adapter&lt;CourseAdapter.ViewHolder&gt; {\r\n    private List&lt;String&gt; data;\r\n    private Context c;\r\n    public CourseAdapter (Context c , List&lt;String&gt; data){\r\n        this.c = c;\r\n        this.data = data;\r\n    }\r\n\r\n    @Override\r\n    public CourseAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View rowItem = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_view, parent, false);\r\n        return new ViewHolder(rowItem);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(CourseAdapter.ViewHolder holder, int position) {\r\n        holder.textView.setText(this.data.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return this.data.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        private TextView textView,tv2;\r\n\r\n        public ViewHolder(View view) {\r\n            super(view);\r\n            view.setOnClickListener(this);\r\n            this.textView = view.findViewById(R.id.textview);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent i = new Intent(c, RegistrationActivity.class);\r\n            c.startActivity(i);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n ","title":"java.lang.ClassCastException: java.lang.String[] cannot be cast to java.util.List","body":"<p>I've read some other questions on this topic , but my case is different as it encompasses three java classes.</p>\n<p>First I've an adapter for recycler view which is sending me the name of the course clicked through an <code>intent</code> in <code>onClick()</code>.</p>\n<p><code>CustomAdapter.java</code>:</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\nimport static androidx.core.content.ContextCompat.startActivity;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\n    private List&lt;String&gt; data;\n    private List&lt;Integer&gt; d2;\n    private Context c;\n    public CustomAdapter (Context c , List&lt;String&gt; data,List&lt;Integer&gt; data2){\n        this.c = c;\n        this.data = data;\n        this.d2 = data2;\n    }\n\n    @Override\n    public CustomAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View rowItem = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_view, parent, false);\n        return new ViewHolder(rowItem);\n    }\n\n    @Override\n    public void onBindViewHolder(CustomAdapter.ViewHolder holder, int position) {\n        holder.textView.setText(this.data.get(position));\n        holder.tv2.setText(Integer.toString(this.d2.get(position)));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return this.data.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        private TextView textView,tv2;\n\n        public ViewHolder(View view) {\n            super(view);\n            view.setOnClickListener(this);\n            this.textView = view.findViewById(R.id.textview);\n            this.tv2 = view.findViewById(R.id.textview2);\n        }\n\n        @Override\n        public void onClick(View view) {\n// I'm passing the name of the course which the user clicked at to CourseList.java\n            Intent i = new Intent(c, CourseList.class);\n            i.putExtra(&quot;course&quot;,textView.getText().toString());\n            c.startActivity(i);\n        }\n    }\n}\n</code></pre>\n<p>Just to reiterate , here is the intent:</p>\n<pre><code>  @Override\n        public void onClick(View view) {\n// I'm passing the name of the course which the user clicked at to CourseList.java\n            Intent i = new Intent(c, CourseList.class);\n            i.putExtra(&quot;course&quot;,textView.getText().toString());\n            c.startActivity(i);\n        }\n</code></pre>\n<p>In <code>CourseList.java</code>, I want to show the topics related to the clicked course. So, making use of <code>recyclerview</code> and storing the topics related to each course (<code>List&lt;String&gt;</code>) in a <code>HashMap&lt;String,String[]&gt;</code>.</p>\n<p><code>CourseList.java</code>:</p>\n<pre><code>import android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.DividerItemDecoration;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class CourseList extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle saved){\n        super.onCreate(saved);\n        setContentView(R.layout.activity_reg);\n        Bundle extras = getIntent().getExtras();\n        HashMap courses = new HashMap&lt;String,String[]&gt;();\n        courses.put(&quot;Negotiation&quot;,new String[]{&quot;Common ground&quot;, &quot;Carpet&quot;});\n        courses.put(&quot;Pyschology&quot;,new String[]{&quot;Happy&quot;, &quot;No&quot;});\n        courses.put(&quot;Joke&quot;,new String[]{&quot;Map&quot;, &quot;Sarcasm&quot;});\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        String a = extras.getString(&quot;course&quot;);\n        List&lt;String&gt; b = (List&lt;String&gt;) courses.get(a);\n\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(new CourseAdapter(CourseList.this, b));\n        recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\n\n\n    }\n}\n</code></pre>\n<p>My HashMap <code>courses.get()</code> returns a <code>java.lang.Object</code> but the constructor of <code>CourseAdapter.java</code> requires a <code>java.util.List&lt;java.lang.String&gt;</code>.\nSo, I'm typecasting at this line:</p>\n<pre><code>List&lt;String&gt; b = (List&lt;String&gt;) courses.get(a);\n</code></pre>\n<p>But my app is crashing with the runtime error:</p>\n<pre><code>java.lang.ClassCastException: java.lang.String[] cannot be cast to java.util.List\n</code></pre>\n<p>Here is <code>CourseAdapter.java</code> (Adapter for <code>CourseList.java</code>):</p>\n<p><code>CourseAdapter.java</code>:</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\nimport static androidx.core.content.ContextCompat.startActivity;\n\npublic class CourseAdapter extends RecyclerView.Adapter&lt;CourseAdapter.ViewHolder&gt; {\n    private List&lt;String&gt; data;\n    private Context c;\n    public CourseAdapter (Context c , List&lt;String&gt; data){\n        this.c = c;\n        this.data = data;\n    }\n\n    @Override\n    public CourseAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View rowItem = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_view, parent, false);\n        return new ViewHolder(rowItem);\n    }\n\n    @Override\n    public void onBindViewHolder(CourseAdapter.ViewHolder holder, int position) {\n        holder.textView.setText(this.data.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return this.data.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        private TextView textView,tv2;\n\n        public ViewHolder(View view) {\n            super(view);\n            view.setOnClickListener(this);\n            this.textView = view.findViewById(R.id.textview);\n        }\n\n        @Override\n        public void onClick(View view) {\n            Intent i = new Intent(c, RegistrationActivity.class);\n            c.startActivity(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","osgi","apache-felix"],"answers":[{"tags":[],"owner":{"account_id":124062,"reputation":23813,"user_id":318921,"accept_rate":67,"display_name":"Neil Bartlett"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1546522483,"creation_date":1546522483,"answer_id":54023342,"question_id":54020799,"body_markdown":"Your bundle contains a Declarative Services component -- `FacadeLocator` from your code. This means you have a dependency on the &quot;extender&quot; bundle that implements Declarative Services. You need to deploy that bundle alongside your own bundle in order for it to work.\r\n\r\nThe DS implementation bundle from Apache Felix has the name `org.apache.felix.scr` and it can be downloaded [from Maven Central](https://search.maven.org/search?q=g:org.apache.felix%20AND%20a:org.apache.felix.scr&amp;core=gav).\r\n\r\nThe error message you saw can be decoded as follows. You have a missing requirement in the `osgi.extender` namespace, (the namespace for extenders similar to DS). The specific extender you require is `osgi.component`, version 1.3 or above. The maven-bundle-plugin generated this requirement in your bundle&#39;s META-INF/MANIFEST.MF because it saw your bundle has a component in it. Whenever a bundle has a *requirement*, there must be another bundle that provides a matching *capability*. In this case, that bundle is `org.apache.felix.scr`.","title":"Apache Felix OSGi error: missing requirement osgi.extender","body":"<p>Your bundle contains a Declarative Services component -- <code>FacadeLocator</code> from your code. This means you have a dependency on the \"extender\" bundle that implements Declarative Services. You need to deploy that bundle alongside your own bundle in order for it to work.</p>\n\n<p>The DS implementation bundle from Apache Felix has the name <code>org.apache.felix.scr</code> and it can be downloaded <a href=\"https://search.maven.org/search?q=g:org.apache.felix%20AND%20a:org.apache.felix.scr&amp;core=gav\" rel=\"noreferrer\">from Maven Central</a>.</p>\n\n<p>The error message you saw can be decoded as follows. You have a missing requirement in the <code>osgi.extender</code> namespace, (the namespace for extenders similar to DS). The specific extender you require is <code>osgi.component</code>, version 1.3 or above. The maven-bundle-plugin generated this requirement in your bundle's META-INF/MANIFEST.MF because it saw your bundle has a component in it. Whenever a bundle has a <em>requirement</em>, there must be another bundle that provides a matching <em>capability</em>. In this case, that bundle is <code>org.apache.felix.scr</code>.</p>\n"},{"tags":[],"owner":{"account_id":18815018,"reputation":1,"user_id":13722383,"display_name":"mtm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643980510,"creation_date":1643980510,"answer_id":70986993,"question_id":54020799,"body_markdown":"in karaf install the feature Declarative Service Support by using this cmd\r\nfeature:install scr","title":"Apache Felix OSGi error: missing requirement osgi.extender","body":"<p>in karaf install the feature Declarative Service Support by using this cmd\nfeature:install scr</p>\n"}],"owner":{"account_id":4979856,"reputation":5679,"user_id":4005175,"accept_rate":79,"display_name":"Martin Heraleck&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54023342,"answer_count":2,"score":4,"last_activity_date":1643980510,"creation_date":1546512461,"question_id":54020799,"body_markdown":"I&#39;m getting this error when attempting to start a bundle:\r\n\r\n    org.osgi.framework.BundleException:\r\n      Unable to resolve com.example.test [7](R 7.0):\r\n        missing requirement [com.example.test [7](R 7.0)] osgi.extender; (&amp;(osgi.extender=osgi.component)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\r\n      Unresolved requirements:\r\n        [[com.example.test [7](R 7.0)] osgi.extender; (&amp;(osgi.extender=osgi.component)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))]\r\n\r\nMy pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;bundle&lt;/packaging&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.osgi.service.component.annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.0&lt;/version&gt;\r\n                        &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;instructions&gt;\r\n                            &lt;Export-Package&gt;com.example&lt;/Export-Package&gt;\r\n                        &lt;/instructions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nCode:\r\n\r\nFacade.java:\r\n\r\n    package com.example;\r\n    public interface Facade {}\r\n\r\nFacadeLocator.java:\r\n\r\n    package com.example;\r\n    \r\n    import org.osgi.service.component.annotations.Component;\r\n    import org.osgi.service.component.annotations.Reference;\r\n    \r\n    @Component\r\n    public class FacadeLocator {\r\n        public static Facade facade;\r\n    \r\n        @Reference\r\n        public void setFacade(Facade facade) {\r\n            FacadeLocator.facade = facade;\r\n        }\r\n    }\r\n\r\nWhat am I doing wrong?\r\n\r\nThank you","title":"Apache Felix OSGi error: missing requirement osgi.extender","body":"<p>I'm getting this error when attempting to start a bundle:</p>\n\n<pre><code>org.osgi.framework.BundleException:\n  Unable to resolve com.example.test [7](R 7.0):\n    missing requirement [com.example.test [7](R 7.0)] osgi.extender; (&amp;(osgi.extender=osgi.component)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))\n  Unresolved requirements:\n    [[com.example.test [7](R 7.0)] osgi.extender; (&amp;(osgi.extender=osgi.component)(version&gt;=1.3.0)(!(version&gt;=2.0.0)))]\n</code></pre>\n\n<p>My pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n            &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n            &lt;artifactId&gt;org.osgi.service.component.annotations&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.0.0&lt;/version&gt;\n                    &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Export-Package&gt;com.example&lt;/Export-Package&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<p>Facade.java:</p>\n\n<pre><code>package com.example;\npublic interface Facade {}\n</code></pre>\n\n<p>FacadeLocator.java:</p>\n\n<pre><code>package com.example;\n\nimport org.osgi.service.component.annotations.Component;\nimport org.osgi.service.component.annotations.Reference;\n\n@Component\npublic class FacadeLocator {\n    public static Facade facade;\n\n    @Reference\n    public void setFacade(Facade facade) {\n        FacadeLocator.facade = facade;\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","exception","logging","slf4j"],"comments":[{"owner":{"account_id":304252,"reputation":785,"user_id":613651,"display_name":"Keith Tyler"},"score":3,"creation_date":1564594606,"post_id":6371638,"comment_id":101086550,"body_markdown":"I don&#39;t understand why slf4j uses its own format string syntax instead of the standard %s style. Annoying.","body":"I don&#39;t understand why slf4j uses its own format string syntax instead of the standard %s style. Annoying."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":3,"creation_date":1579754894,"post_id":6371638,"comment_id":105874240,"body_markdown":"@KeithTyler I like `{}` more, the matter of taste...","body":"@KeithTyler I like <code>{}</code> more, the matter of taste..."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":3,"creation_date":1588080331,"post_id":6371638,"comment_id":108757543,"body_markdown":"@KeithTyler The `toString()` method of the arguments might be expensive. With this syntax, only a reference to each object is passed and the `toString()` method is only called if the particular message is actually getting logged. Objects referenced in an `info()` log call will not have their `toString()` method called if the log level is `WARN` or higher. The `{}` syntax is a reminder to users that this is not a `String.format()`-like operation, i.e. they should pass objects rather than string representations thereof.","body":"@KeithTyler The <code>toString()</code> method of the arguments might be expensive. With this syntax, only a reference to each object is passed and the <code>toString()</code> method is only called if the particular message is actually getting logged. Objects referenced in an <code>info()</code> log call will not have their <code>toString()</code> method called if the log level is <code>WARN</code> or higher. The <code>{}</code> syntax is a reminder to users that this is not a <code>String.format()</code>-like operation, i.e. they should pass objects rather than string representations thereof."}],"answers":[{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":0,"up_vote_count":512,"is_accepted":false,"score":512,"last_activity_date":1579754985,"creation_date":1308237132,"answer_id":6374166,"question_id":6371638,"body_markdown":"As of SLF4J 1.6.0, in the presence of multiple parameters and if the last argument in a logging statement is an exception, then SLF4J will presume that the user wants the last argument to be treated as an exception and not a simple parameter. See also the [relevant FAQ entry][1].\r\n\r\nSo, writing (in SLF4J version 1.7.x and later)\r\n\r\n     logger.error(&quot;one two three: {} {} {}&quot;, &quot;a&quot;, &quot;b&quot;, \r\n                  &quot;c&quot;, new Exception(&quot;something went wrong&quot;));\r\n\r\nor writing (in SLF4J version 1.6.x)\r\n\r\n     logger.error(&quot;one two three: {} {} {}&quot;, new Object[] {&quot;a&quot;, &quot;b&quot;, \r\n                  &quot;c&quot;, new Exception(&quot;something went wrong&quot;)});\r\n\r\nwill yield\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    one two three: a b c\r\n    java.lang.Exception: something went wrong\r\n    \tat Example.main(Example.java:13)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n        at ...\r\n\r\nThe exact output will depend on the underlying framework (e.g. logback, log4j, etc) as well on how the underlying framework is configured. However,  if the last parameter is an exception it will be interpreted as such regardless of the underlying framework.\r\n\r\n  [1]: http://slf4j.org/faq.html#paramException\r\n","title":"How to log formatted message, object array, exception?","body":"<p>As of SLF4J 1.6.0, in the presence of multiple parameters and if the last argument in a logging statement is an exception, then SLF4J will presume that the user wants the last argument to be treated as an exception and not a simple parameter. See also the <a href=\"http://slf4j.org/faq.html#paramException\" rel=\"noreferrer\">relevant FAQ entry</a>.</p>\n\n<p>So, writing (in SLF4J version 1.7.x and later)</p>\n\n<pre><code> logger.error(\"one two three: {} {} {}\", \"a\", \"b\", \n              \"c\", new Exception(\"something went wrong\"));\n</code></pre>\n\n<p>or writing (in SLF4J version 1.6.x)</p>\n\n<pre><code> logger.error(\"one two three: {} {} {}\", new Object[] {\"a\", \"b\", \n              \"c\", new Exception(\"something went wrong\")});\n</code></pre>\n\n<p>will yield</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>one two three: a b c\njava.lang.Exception: something went wrong\n    at Example.main(Example.java:13)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at ...\n</code></pre>\n\n<p>The exact output will depend on the underlying framework (e.g. logback, log4j, etc) as well on how the underlying framework is configured. However,  if the last parameter is an exception it will be interpreted as such regardless of the underlying framework.</p>\n"},{"tags":[],"owner":{"account_id":2084721,"reputation":164,"user_id":1855938,"display_name":"Yaniv"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579755007,"creation_date":1390899649,"answer_id":21401031,"question_id":6371638,"body_markdown":"In addition to @Ceki &#39;s answer, If you are using logback and setup a config file in your project (usually logback.xml), you can define the log to plot the stack trace as well using \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;encoder&gt;\r\n    \t&lt;pattern&gt;%date |%-5level| [%thread] [%file:%line] - %msg%n%ex{full}&lt;/pattern&gt; \r\n    &lt;/encoder&gt;\r\n\r\nthe %ex in pattern is what makes the difference","title":"How to log formatted message, object array, exception?","body":"<p>In addition to @Ceki 's answer, If you are using logback and setup a config file in your project (usually logback.xml), you can define the log to plot the stack trace as well using </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder&gt;\n    &lt;pattern&gt;%date |%-5level| [%thread] [%file:%line] - %msg%n%ex{full}&lt;/pattern&gt; \n&lt;/encoder&gt;\n</code></pre>\n\n<p>the %ex in pattern is what makes the difference</p>\n"},{"tags":[],"owner":{"account_id":2595054,"reputation":2818,"user_id":2248943,"display_name":"heringer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634661934,"creation_date":1634661934,"answer_id":69634790,"question_id":6371638,"body_markdown":"The accepted answer is great. I&#39;m just adding here my case that is now working thanks for the answer. This may help someone else.\r\n\r\nI&#39;m using `SLF4J` and `logback` with a JSON encoder. Furthermore, I use `marker` and `arguments` to enrich my output.\r\n\r\n        logger.error(getMarker(&quot;errorEvent&quot;),\r\n                     &quot;An error occurred&quot;,\r\n                     entries(mapOf(&quot;someKey&quot; to &quot;someValue&quot;)),\r\n                     new Exception())\r\n\r\nThe output:\r\n\r\n&lt;pre&gt;\r\n  {\r\n   &quot;level&quot;: &quot;ERROR&quot;,\r\n   &quot;event&quot;: &quot;errorEvent&quot;,\r\n   &quot;eventData&quot;: {\r\n      &quot;someKey&quot;: &quot;someValue&quot;\r\n   },\r\n   &quot;stacktrace&quot;: &quot;...omitted...&quot;,\r\n   &quot;message&quot;: &quot;An error occurred&quot;\r\n}\r\n&lt;/pre&gt;\r\n\r\nOf course there is a lot of configuration of `logstash` behind the scenes, but I just wanted to show that the `arguments` passed as `entries` are shown in the configured `eventData` tag.","title":"How to log formatted message, object array, exception?","body":"<p>The accepted answer is great. I'm just adding here my case that is now working thanks for the answer. This may help someone else.</p>\n<p>I'm using <code>SLF4J</code> and <code>logback</code> with a JSON encoder. Furthermore, I use <code>marker</code> and <code>arguments</code> to enrich my output.</p>\n<pre><code>    logger.error(getMarker(&quot;errorEvent&quot;),\n                 &quot;An error occurred&quot;,\n                 entries(mapOf(&quot;someKey&quot; to &quot;someValue&quot;)),\n                 new Exception())\n</code></pre>\n<p>The output:</p>\n<pre>\n  {\n   \"level\": \"ERROR\",\n   \"event\": \"errorEvent\",\n   \"eventData\": {\n      \"someKey\": \"someValue\"\n   },\n   \"stacktrace\": \"...omitted...\",\n   \"message\": \"An error occurred\"\n}\n</pre>\n<p>Of course there is a lot of configuration of <code>logstash</code> behind the scenes, but I just wanted to show that the <code>arguments</code> passed as <code>entries</code> are shown in the configured <code>eventData</code> tag.</p>\n"}],"owner":{"account_id":767762,"reputation":3171,"user_id":801424,"display_name":"rowe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257748,"favorite_count":0,"down_vote_count":0,"up_vote_count":317,"answer_count":3,"score":317,"last_activity_date":1643980377,"creation_date":1308226632,"question_id":6371638,"body_markdown":"What is the correct approach to log both a populated message and a stack trace of the exception?\r\n\r\n    logger.error(\r\n        &quot;\\ncontext info one two three: {} {} {}\\n&quot;,\r\n        new Object[] {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;},\r\n        new Exception(&quot;something went wrong&quot;));\r\n\r\nI&#39;d like to produce an output similar to this:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    context info one two three: 1 2 3\r\n    java.lang.Exception: something went wrong\r\n    stacktrace 0\r\n    stacktrace 1\r\n    stacktrace ...\r\n\r\nMy SLF4J version is 1.6.1.","title":"How to log formatted message, object array, exception?","body":"<p>What is the correct approach to log both a populated message and a stack trace of the exception?</p>\n<pre><code>logger.error(\n    &quot;\\ncontext info one two three: {} {} {}\\n&quot;,\n    new Object[] {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;},\n    new Exception(&quot;something went wrong&quot;));\n</code></pre>\n<p>I'd like to produce an output similar to this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>context info one two three: 1 2 3\njava.lang.Exception: something went wrong\nstacktrace 0\nstacktrace 1\nstacktrace ...\n</code></pre>\n<p>My SLF4J version is 1.6.1.</p>\n"},{"tags":["java","ssl-certificate"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643976794,"post_id":70986099,"comment_id":125488134,"body_markdown":"Does this answer your question? [Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?](https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a>"},{"owner":{"account_id":6010020,"reputation":33,"user_id":4720743,"display_name":"Jargo"},"score":0,"creation_date":1643977623,"post_id":70986099,"comment_id":125488428,"body_markdown":"@pringi your linked question is about self signed certificates. I am dealing with a signed certificate from a trusted CA. If possible in any way I would like to avoid having to manually add the certificate to the jvm. Which would have to be again manually updated every few years when a new certificate gets issued","body":"@pringi your linked question is about self signed certificates. I am dealing with a signed certificate from a trusted CA. If possible in any way I would like to avoid having to manually add the certificate to the jvm. Which would have to be again manually updated every few years when a new certificate gets issued"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643977952,"post_id":70986099,"comment_id":125488539,"body_markdown":"How do you now Java that is running the application trusts the certificate? Did you check cacerts of the JVM that is running the code? Also Certificates are not bound to ports. See https://comodosslstore.com/resources/what-ssl-certificate-port-does-ssl-use/.","body":"How do you now Java that is running the application trusts the certificate? Did you check cacerts of the JVM that is running the code? Also Certificates are not bound to ports. See <a href=\"https://comodosslstore.com/resources/what-ssl-certificate-port-does-ssl-use/\" rel=\"nofollow noreferrer\">comodosslstore.com/resources/&hellip;</a>."},{"owner":{"account_id":6010020,"reputation":33,"user_id":4720743,"display_name":"Jargo"},"score":0,"creation_date":1643978620,"post_id":70986099,"comment_id":125488752,"body_markdown":"I updated my question. Targeting the same address without specifying a port successfully delivers a response from the server. Meaning the JVM accepts the certificate, as long as I connect on the default port","body":"I updated my question. Targeting the same address without specifying a port successfully delivers a response from the server. Meaning the JVM accepts the certificate, as long as I connect on the default port"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643979791,"post_id":70986099,"comment_id":125489151,"body_markdown":"Have you tried &quot;https://someserver.net:443&quot;. Does it work also? What is Client? There is a difference (not know if it matters or not) between you working test and the failing one. In one you use a String, and in the other you use a URI. Try with String instead.","body":"Have you tried &quot;<a href=\"https://someserver.net:443\" rel=\"nofollow noreferrer\">someserver.net:443</a>&quot;. Does it work also? What is Client? There is a difference (not know if it matters or not) between you working test and the failing one. In one you use a String, and in the other you use a URI. Try with String instead."},{"owner":{"account_id":6010020,"reputation":33,"user_id":4720743,"display_name":"Jargo"},"score":1,"creation_date":1643980422,"post_id":70986099,"comment_id":125489382,"body_markdown":"I updated the question again with more examples of failing/working requests. All based on strings. Also specified the client","body":"I updated the question again with more examples of failing/working requests. All based on strings. Also specified the client"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643988422,"post_id":70986099,"comment_id":125492844,"body_markdown":"Please check with other tool (like openssl) if you can connect to that url. example: openssl s_client -connect someserver.net:11011","body":"Please check with other tool (like openssl) if you can connect to that url. example: openssl s_client -connect someserver.net:11011"}],"owner":{"account_id":6010020,"reputation":33,"user_id":4720743,"display_name":"Jargo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643980262,"creation_date":1643976245,"question_id":70986099,"body_markdown":"I am trying to connect to a web server using a java client and get the following exception:\r\n\r\n    javax.ejb.EJBTransactionRolledbackException: RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nThe server uses a signed Certificate from a CA that my machine trusts.\r\nI am assuming that the problem lies in the servers address, which uses a port that differs from https default. E.g.: &quot;https://someserver.net:11011&quot;\r\n\r\nHow can i get my java client to accept certificates on any port?\r\n\r\nHere&#39;s how i currently create a client and attempt to create a connection:\r\n\r\n    javax.ws.rs.client.Client client = ClientBuilder.newClient();\r\n    URI uri = new URL(&quot;https://someserver.net:11011&quot;).toURI();\r\n    Response response = client.target(uri).request().get();\r\n\r\nI tried to connect on the default port, which worked:\r\n\r\n    Response testResponse = client.target(&quot;https://someserver.net&quot;).request().get(); // works\r\n    Response testResponse2 = client.target(&quot;https://someserver.net:443&quot;).request().get(); // works\r\n    Response testResponse3 = client.target(&quot;https://someserver.net:11011&quot;).request().get(); // throws","title":"Accept signed SSL Certificate on non default port","body":"<p>I am trying to connect to a web server using a java client and get the following exception:</p>\n<pre><code>javax.ejb.EJBTransactionRolledbackException: RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>The server uses a signed Certificate from a CA that my machine trusts.\nI am assuming that the problem lies in the servers address, which uses a port that differs from https default. E.g.: &quot;https://someserver.net:11011&quot;</p>\n<p>How can i get my java client to accept certificates on any port?</p>\n<p>Here's how i currently create a client and attempt to create a connection:</p>\n<pre><code>javax.ws.rs.client.Client client = ClientBuilder.newClient();\nURI uri = new URL(&quot;https://someserver.net:11011&quot;).toURI();\nResponse response = client.target(uri).request().get();\n</code></pre>\n<p>I tried to connect on the default port, which worked:</p>\n<pre><code>Response testResponse = client.target(&quot;https://someserver.net&quot;).request().get(); // works\nResponse testResponse2 = client.target(&quot;https://someserver.net:443&quot;).request().get(); // works\nResponse testResponse3 = client.target(&quot;https://someserver.net:11011&quot;).request().get(); // throws\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643980122,"creation_date":1643979793,"answer_id":70986848,"question_id":70986544,"body_markdown":"You will find it easier to test the if you change the TimeUnit to  SECONDS and make the Runnable print hashcode of the instance:\r\n\r\n\tRunnable renewer = () -&gt; {\r\n\t\tSystem.out.println(&quot;Running ok instance=&quot;+ThreadSchedulerTest.this.hashCode()+&quot;, time is : &quot;+ Instant.now());\r\n\t};\r\n\r\nYour problem with repeating every 4-5 seconds is probably that you have created two instances of ThreadSchedulerTest. The above message fix will confirm.\r\n\r\nThe code you have provided will not run as you have recursive definition of the constructor and member variable. Thus every instance of `ThreadSchedulerTest` executes second constructor `ThreadSchedulerTest test = new ThreadSchedulerTest();` - which then instantiates a new member `test`:\r\n\r\n    new ThreadSchedulerTest()\r\n    |  Exception java.lang.StackOverflowError\r\n    |        at ThreadSchedulerTest.&lt;init&gt; (#5:2)\r\n\r\nYou can fix my making this declaration - `test` is static and constructor private so only one instance is ever constructed:\r\n\r\n    public class ThreadSchedulerTest {\r\n       static final ThreadSchedulerTest test = new ThreadSchedulerTest();\r\n       private ThreadSchedulerTest () {\r\n            createThread(); \r\n       }\r\n       ...\r\n\r\n","title":"java.util.concurrent.ScheduledExecutorService.scheduleAtFixedRate invokes thread every 4-5 seconds when configured for 12 hours","body":"<p>You will find it easier to test the if you change the TimeUnit to  SECONDS and make the Runnable print hashcode of the instance:</p>\n<pre><code>Runnable renewer = () -&gt; {\n    System.out.println(&quot;Running ok instance=&quot;+ThreadSchedulerTest.this.hashCode()+&quot;, time is : &quot;+ Instant.now());\n};\n</code></pre>\n<p>Your problem with repeating every 4-5 seconds is probably that you have created two instances of ThreadSchedulerTest. The above message fix will confirm.</p>\n<p>The code you have provided will not run as you have recursive definition of the constructor and member variable. Thus every instance of <code>ThreadSchedulerTest</code> executes second constructor <code>ThreadSchedulerTest test = new ThreadSchedulerTest();</code> - which then instantiates a new member <code>test</code>:</p>\n<pre><code>new ThreadSchedulerTest()\n|  Exception java.lang.StackOverflowError\n|        at ThreadSchedulerTest.&lt;init&gt; (#5:2)\n</code></pre>\n<p>You can fix my making this declaration - <code>test</code> is static and constructor private so only one instance is ever constructed:</p>\n<pre><code>public class ThreadSchedulerTest {\n   static final ThreadSchedulerTest test = new ThreadSchedulerTest();\n   private ThreadSchedulerTest () {\n        createThread(); \n   }\n   ...\n</code></pre>\n"}],"owner":{"account_id":24154854,"reputation":9,"user_id":18119221,"display_name":"varun980312"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643980209,"creation_date":1643978405,"question_id":70986544,"body_markdown":"I have a singleton class that creates a thread on instance creation. Only one object of this class is created and the thread is scheduled to run every 12 hours and print the given statement. In some cases after the first 12h the thread is invoked every 4-5 seconds.  I am confused as to why this happens as I have configured the scheduler to run once every 12 hours and not every 4-5 seconds. Is there any config I have missed or is the scheduler wrong configured? \r\n\r\nthe singleton class,\r\n\r\n    import java.time.Instant;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ThreadFactory;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    public class ThreadSchedulerTest {\r\n    private static final ThreadSchedulerTest test = new ThreadSchedulerTest();\r\n    private ThreadSchedulerTest (){createThread();}\r\n\r\n    private void createThread() {\r\n\r\n            Runnable renewer = () -&gt; {\r\n                System.out.println(&quot;Running ok , time is : &quot;+ Instant.now());\r\n            };\r\n            Executors.newSingleThreadScheduledExecutor(new \r\n     ThreadSchedulerThreadFactory(&quot;thread1&quot;)).scheduleAtFixedRate(\r\n                    renewer, 0, 12, TimeUnit.HOURS);\r\n\r\n    }\r\n    static class ThreadSchedulerThreadFactory implements ThreadFactory {\r\n        private final String name;\r\n\r\n        public ThreadSchedulerThreadFactory(final String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public Thread newThread(Runnable r) {\r\n            Thread thread = new Thread(r, name);\r\n            thread.setDaemon(true);\r\n            return thread;\r\n        }\r\n    }\r\n    }\r\n\r\n \r\nCan someone please help clarify this issue? \r\n   ","title":"java.util.concurrent.ScheduledExecutorService.scheduleAtFixedRate invokes thread every 4-5 seconds when configured for 12 hours","body":"<p>I have a singleton class that creates a thread on instance creation. Only one object of this class is created and the thread is scheduled to run every 12 hours and print the given statement. In some cases after the first 12h the thread is invoked every 4-5 seconds.  I am confused as to why this happens as I have configured the scheduler to run once every 12 hours and not every 4-5 seconds. Is there any config I have missed or is the scheduler wrong configured?</p>\n<p>the singleton class,</p>\n<pre><code>import java.time.Instant;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadFactory;\nimport java.util.concurrent.TimeUnit;\n\npublic class ThreadSchedulerTest {\nprivate static final ThreadSchedulerTest test = new ThreadSchedulerTest();\nprivate ThreadSchedulerTest (){createThread();}\n\nprivate void createThread() {\n\n        Runnable renewer = () -&gt; {\n            System.out.println(&quot;Running ok , time is : &quot;+ Instant.now());\n        };\n        Executors.newSingleThreadScheduledExecutor(new \n ThreadSchedulerThreadFactory(&quot;thread1&quot;)).scheduleAtFixedRate(\n                renewer, 0, 12, TimeUnit.HOURS);\n\n}\nstatic class ThreadSchedulerThreadFactory implements ThreadFactory {\n    private final String name;\n\n    public ThreadSchedulerThreadFactory(final String name) {\n        this.name = name;\n    }\n\n    @Override\n    public Thread newThread(Runnable r) {\n        Thread thread = new Thread(r, name);\n        thread.setDaemon(true);\n        return thread;\n    }\n}\n}\n</code></pre>\n<p>Can someone please help clarify this issue?</p>\n"},{"tags":["java","spring","spring-boot","mockito","resthighlevelclient"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1574082228,"post_id":58914298,"comment_id":104092087,"body_markdown":"is this `RestHighLevelClient` Autowired in  `ElasticClient` ?, can you show complete class of `ElasticClient`","body":"is this <code>RestHighLevelClient</code> Autowired in  <code>ElasticClient</code> ?, can you show complete class of <code>ElasticClient</code>"},{"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"score":0,"creation_date":1574083124,"post_id":58914298,"comment_id":104092537,"body_markdown":"@Deadpool no autowire. Added more details to the class","body":"@Deadpool no autowire. Added more details to the class"},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1574087251,"post_id":58914298,"comment_id":104095053,"body_markdown":"[`restHighLevelClient.ping`](https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L719) is a `final` method. Did you enable mockito to handle `final` as mentioned in the [docu](https://javadoc.io/static/org.mockito/mockito-core/3.1.0/org/mockito/Mockito.html#39) ?","body":"<a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L719\" rel=\"nofollow noreferrer\"><code>restHighLevelClient.ping</code></a> is a <code>final</code> method. Did you enable mockito to handle <code>final</code> as mentioned in the <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.1.0/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">docu</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574089602,"creation_date":1574079416,"answer_id":58914375,"question_id":58914298,"body_markdown":"Try:\r\n\r\n    when(restHighLevelClient.ping(eq(RequestOptions.DEFAULT))).thenReturn(true);","title":"NullPointerException Problem when trying to mock Elastic Search&#39;s RestHighLevelClient","body":"<p>Try:</p>\n\n<pre><code>when(restHighLevelClient.ping(eq(RequestOptions.DEFAULT))).thenReturn(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574087414,"creation_date":1574087414,"answer_id":58916825,"question_id":58914298,"body_markdown":"The problem is originated from the fact that the `ping` method in the `RestHighLevelClient` is `final` as can&#39;t be mocked regularly.\r\n\r\nSo, I used the help of [this example][1] about **PowerMock**\r\n\r\nAnd in the final result:\r\n\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(RestHighLevelClient.class)\r\n    public class ElasticClientTest{\r\n\r\n    ElasticClient elasticClient;\r\n\r\n    RestHighLevelClient restHighLevelClient;\r\n\r\n    @Before\r\n    public void init(){\r\n\r\n        restHighLevelClient = mock(RestHighLevelClient.class);\r\n\r\n        elasticClient = new ElasticClient();\r\n        elasticClient.setRestHighLevelClient(restHighLevelClient);\r\n\r\n    }\r\n\r\n\r\n    @Test\r\n    public void whenElasticIsPingable_thenReturnTrue() throws IOException{\r\n\r\n        when(restHighLevelClient.ping(RequestOptions.DEFAULT)).thenReturn(true);\r\n\r\n        Assertions.assertThat(elasticClient.isReachable()).isTrue();\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/intro-to-powermock","title":"NullPointerException Problem when trying to mock Elastic Search&#39;s RestHighLevelClient","body":"<p>The problem is originated from the fact that the <code>ping</code> method in the <code>RestHighLevelClient</code> is <code>final</code> as can't be mocked regularly.</p>\n\n<p>So, I used the help of <a href=\"https://www.baeldung.com/intro-to-powermock\" rel=\"nofollow noreferrer\">this example</a> about <strong>PowerMock</strong></p>\n\n<p>And in the final result:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(RestHighLevelClient.class)\npublic class ElasticClientTest{\n\nElasticClient elasticClient;\n\nRestHighLevelClient restHighLevelClient;\n\n@Before\npublic void init(){\n\n    restHighLevelClient = mock(RestHighLevelClient.class);\n\n    elasticClient = new ElasticClient();\n    elasticClient.setRestHighLevelClient(restHighLevelClient);\n\n}\n\n\n@Test\npublic void whenElasticIsPingable_thenReturnTrue() throws IOException{\n\n    when(restHighLevelClient.ping(RequestOptions.DEFAULT)).thenReturn(true);\n\n    Assertions.assertThat(elasticClient.isReachable()).isTrue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093474,"reputation":128,"user_id":2619145,"accept_rate":38,"display_name":"Taylan Derinbay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643980099,"creation_date":1643980099,"answer_id":70986909,"question_id":58914298,"body_markdown":"You need to add a mockito extension for mock a finalized object with these steps:\r\n\r\n 1. Create a folder called &quot;mockito-extensions&quot; in test resources\r\n    folder.\r\n 2. Add a file called &quot;org.mockito.plugins.MockMaker&quot; inside the\r\n    folder.\r\n 3. In that file, write &quot;mock-maker-inline&quot;","title":"NullPointerException Problem when trying to mock Elastic Search&#39;s RestHighLevelClient","body":"<p>You need to add a mockito extension for mock a finalized object with these steps:</p>\n<ol>\n<li>Create a folder called &quot;mockito-extensions&quot; in test resources\nfolder.</li>\n<li>Add a file called &quot;org.mockito.plugins.MockMaker&quot; inside the\nfolder.</li>\n<li>In that file, write &quot;mock-maker-inline&quot;</li>\n</ol>\n"}],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5373,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58916825,"answer_count":3,"score":4,"last_activity_date":1643980099,"creation_date":1574079158,"question_id":58914298,"body_markdown":"I&#39;m facing a NullPointerException during unit testing, when trying to test and mock a `RestHighLevelClient`  inside an `ElasticClient` class:\r\n\r\n    @Configuration\r\n    @NoArgsConstructor\r\n    public class ElasticClient{\r\n\r\n       @Setter\r\n       private RestHighLevelClient restHighLevelClient;\r\n\r\n\t\t@PostConstruct\r\n\t\tpublic void buildRestHighLevelClient(){\r\n\t\t\r\n\t\t\tRestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(\r\n\t\t\t\t\t&quot;127.0.0.1&quot;,\r\n\t\t\t\t\t9200, &quot;http&quot;)\r\n\t\t\t);\r\n\t\t\r\n\t\t\trestClientBuilder.setRequestConfigCallback(\r\n\t\t\t\t\trequestConfigBuilder -&gt;\r\n\t\t\t\t\t\t\trequestConfigBuilder\r\n\t\t\t\t\t\t\t\t\t.setConnectTimeout(500000)\r\n\t\t\t\t\t\t\t\t\t.setSocketTimeout(600000)\r\n\t\t\t\t\t\t\t\t\t.setConnectionRequestTimeout(0)\r\n\t\t\t)\r\n\t\t\t\t\t.setHttpClientConfigCallback(\r\n\t\t\t\t\t\t\thttpClientBuilder -&gt;\r\n\t\t\t\t\t\t\t\t\thttpClientBuilder\r\n\t\t\t\t\t\t\t\t\t\t\t.setMaxConnPerRoute(2048)\r\n\t\t\t\t\t);\r\n\t\t\r\n\t\t\trestHighLevelClient = new RestHighLevelClient(restClientBuilder);\r\n\t\t}\r\n\r\n       public boolean isReachable(){\r\n         return restHighLevelClient.ping(RequestOptions.DEFAULT);\r\n       }\r\n\r\n    }\r\n\r\nAnd the test class:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @SpringBootTest\r\n    public class ElasticClientTest{\r\n\r\n    @Mock\r\n    private RestHighLevelClient restHighLevelClient;\r\n\r\n\r\n    ElasticClient elasticClient;\r\n\r\n    @Before\r\n    public void init(){\r\n\r\n        elasticClient = new ElasticClient();\r\n        elasticClient.setRestHighLevelClient(restHighLevelClient);\r\n\r\n    }\r\n\r\nAnd the NullPointerException is coming from here:\r\n\r\n        @Test\r\n        public void whenElasticIsPingable_thenReturnTrue() throws IOException{\r\n \r\n               when(restHighLevelClient.ping(RequestOptions.DEFAULT)).thenReturn(true);\r\n               Assertions.assertThat(elasticClient.isReachable()).isTrue();\r\n        }\r\n\r\n\r\n\r\nHere is the stacktrace:\r\n\r\n   \r\n\r\n    java.lang.NullPointerException\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1764)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1734)\r\n\tat org.elasticsearch.client.RestHighLevelClient.ping(RestHighLevelClient.java:694)\r\n\tat com.example.ElasticClientTest.whenElasticIsPingable_thenReturnTrue(ElasticClientTest.java:44)","title":"NullPointerException Problem when trying to mock Elastic Search&#39;s RestHighLevelClient","body":"<p>I'm facing a NullPointerException during unit testing, when trying to test and mock a <code>RestHighLevelClient</code>  inside an <code>ElasticClient</code> class:</p>\n\n<pre><code>@Configuration\n@NoArgsConstructor\npublic class ElasticClient{\n\n   @Setter\n   private RestHighLevelClient restHighLevelClient;\n\n    @PostConstruct\n    public void buildRestHighLevelClient(){\n\n        RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(\n                \"127.0.0.1\",\n                9200, \"http\")\n        );\n\n        restClientBuilder.setRequestConfigCallback(\n                requestConfigBuilder -&gt;\n                        requestConfigBuilder\n                                .setConnectTimeout(500000)\n                                .setSocketTimeout(600000)\n                                .setConnectionRequestTimeout(0)\n        )\n                .setHttpClientConfigCallback(\n                        httpClientBuilder -&gt;\n                                httpClientBuilder\n                                        .setMaxConnPerRoute(2048)\n                );\n\n        restHighLevelClient = new RestHighLevelClient(restClientBuilder);\n    }\n\n   public boolean isReachable(){\n     return restHighLevelClient.ping(RequestOptions.DEFAULT);\n   }\n\n}\n</code></pre>\n\n<p>And the test class:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest\npublic class ElasticClientTest{\n\n@Mock\nprivate RestHighLevelClient restHighLevelClient;\n\n\nElasticClient elasticClient;\n\n@Before\npublic void init(){\n\n    elasticClient = new ElasticClient();\n    elasticClient.setRestHighLevelClient(restHighLevelClient);\n\n}\n</code></pre>\n\n<p>And the NullPointerException is coming from here:</p>\n\n<pre><code>    @Test\n    public void whenElasticIsPingable_thenReturnTrue() throws IOException{\n\n           when(restHighLevelClient.ping(RequestOptions.DEFAULT)).thenReturn(true);\n           Assertions.assertThat(elasticClient.isReachable()).isTrue();\n    }\n</code></pre>\n\n<p>Here is the stacktrace:</p>\n\n<pre><code>java.lang.NullPointerException\nat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1764)\nat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1734)\nat org.elasticsearch.client.RestHighLevelClient.ping(RestHighLevelClient.java:694)\nat com.example.ElasticClientTest.whenElasticIsPingable_thenReturnTrue(ElasticClientTest.java:44)\n</code></pre>\n"},{"tags":["java","android","layout","padding","margin"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643745381,"creation_date":1643744176,"answer_id":70946512,"question_id":70946127,"body_markdown":"The answer to the other question is &quot;no&quot; unless you write a custom _ViewGroup_ with a custom layout attribute. In general, when all sides are specified in the Android environment, the order of side specification is &quot;left,top, right, bottom.&quot; I don&#39;t think this is a canonical order but is my observation. \r\n\r\nAs for changing margins in Java where `lp` is the layout params for a view:\r\n\r\n    lp.setMargins(left, top, right, bottom);\r\n    view.setLayoutParams(lp);\r\n\r\nSee [ViewGroup.LayoutParams](https://developer.android.com/reference/android/view/View#setLayoutParams(android.view.ViewGroup.LayoutParams)).\r\n\r\nFor padding you can use [View.setPadding](https://developer.android.com/reference/android/view/View#setPadding(int,%20int,%20int,%20int)):\r\n\r\n    view.setPadding(left, top, right, bottom)\r\n\r\nNotice that margins are managed by _ViewGroups_ and padding is managed by _Views_.","title":"Command and Property order for &quot;Margin&quot; and &quot;Padding&quot; in Android Java Code","body":"<p>The answer to the other question is &quot;no&quot; unless you write a custom <em>ViewGroup</em> with a custom layout attribute. In general, when all sides are specified in the Android environment, the order of side specification is &quot;left,top, right, bottom.&quot; I don't think this is a canonical order but is my observation.</p>\n<p>As for changing margins in Java where <code>lp</code> is the layout params for a view:</p>\n<pre><code>lp.setMargins(left, top, right, bottom);\nview.setLayoutParams(lp);\n</code></pre>\n<p>See <a href=\"https://developer.android.com/reference/android/view/View#setLayoutParams(android.view.ViewGroup.LayoutParams)\" rel=\"nofollow noreferrer\">ViewGroup.LayoutParams</a>.</p>\n<p>For padding you can use <a href=\"https://developer.android.com/reference/android/view/View#setPadding(int,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">View.setPadding</a>:</p>\n<pre><code>view.setPadding(left, top, right, bottom)\n</code></pre>\n<p>Notice that margins are managed by <em>ViewGroups</em> and padding is managed by <em>Views</em>.</p>\n"}],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70946512,"answer_count":1,"score":1,"last_activity_date":1643980013,"creation_date":1643742391,"question_id":70946127,"body_markdown":"I previously asked:  \r\n[Is it possible to set the &quot;Margin&quot; and &quot;Padding&quot; in Android XML with just one line each][1].  \r\n\r\n... and according to @MikeM.&#39;s comment, it seems like that is not possible to do with XML.\r\n\r\nNow to the same question but with Java code instead:\r\n\r\n---\r\n\r\nLets say you have an ImageView or a Button in an Andriod ConstraintLayout.\r\n\r\nIs it possible to set the &quot;Margin&quot; &amp; &quot;Padding&quot; properties just with one command each in Java code? E.g. \r\n\r\n    layoutParams.margin=&quot;15,25,20,10&quot;\r\n    layoutParams.padding=&quot;1,2,3,4&quot;\r\n\r\nAnd in what order would the properties then come?  \r\n- Top, Bottom, Left(Start), Right(End)?  \r\n- Left(Start), Top, Right(End), Bottom?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70945943/property-order-for-margin-and-padding-in-android-xml-code","title":"Command and Property order for &quot;Margin&quot; and &quot;Padding&quot; in Android Java Code","body":"<p>I previously asked:<br />\n<a href=\"https://stackoverflow.com/questions/70945943/property-order-for-margin-and-padding-in-android-xml-code\">Is it possible to set the &quot;Margin&quot; and &quot;Padding&quot; in Android XML with just one line each</a>.</p>\n<p>... and according to @MikeM.'s comment, it seems like that is not possible to do with XML.</p>\n<p>Now to the same question but with Java code instead:</p>\n<hr />\n<p>Lets say you have an ImageView or a Button in an Andriod ConstraintLayout.</p>\n<p>Is it possible to set the &quot;Margin&quot; &amp; &quot;Padding&quot; properties just with one command each in Java code? E.g.</p>\n<pre><code>layoutParams.margin=&quot;15,25,20,10&quot;\nlayoutParams.padding=&quot;1,2,3,4&quot;\n</code></pre>\n<p>And in what order would the properties then come?</p>\n<ul>\n<li>Top, Bottom, Left(Start), Right(End)?</li>\n<li>Left(Start), Top, Right(End), Bottom?</li>\n</ul>\n"},{"tags":["java","java-stream","spliterator"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643976991,"creation_date":1643976991,"answer_id":70986258,"question_id":70986062,"body_markdown":"Actually I think what is happening is that the method `StreamSupport.stream()` actually traverses the Iterator first in order to create the Stream, that later on you use forEach.\r\n\r\n    StreamSupport.stream(Spliterators.spliteratorUnknownSize(new Iterator&lt;&gt;() {\r\n\r\nThe forEach method is not physically called for each (Next), but rather on the (Stream) which was populated from the Iterator previously.  That is why you see the sequence you see.\r\n\r\n","title":"Spliterator Stream passing results to the next tream consumer","body":"<p>Actually I think what is happening is that the method <code>StreamSupport.stream()</code> actually traverses the Iterator first in order to create the Stream, that later on you use forEach.</p>\n<pre><code>StreamSupport.stream(Spliterators.spliteratorUnknownSize(new Iterator&lt;&gt;() {\n</code></pre>\n<p>The forEach method is not physically called for each (Next), but rather on the (Stream) which was populated from the Iterator previously.  That is why you see the sequence you see.</p>\n"},{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643980004,"creation_date":1643977340,"answer_id":70986329,"question_id":70986062,"body_markdown":"The `Spliterator` returned from `Spliterators.spliteratorUnknownSize` tries to batch a number of elements from the iterator in order to increase parallel performance.\r\n\r\nYou can see this here: https://github.com/openjdk/jdk/blob/51b53a821bb3cfb962f80a637f5fb8cde988975a/src/java.base/share/classes/java/util/Spliterators.java#L1828\r\n\r\nTo avoid this you could use a different spliterator or switch the stream to sequential mode by calling the `sequential()` method before `forEach(...)`.\r\n\r\nOne way to keep using a parallel stream would be to move your batching out to before the stream and use the `Arrays.stream` method:\r\n\r\n\r\n    static Stream&lt;Map&lt;String, String&gt;&gt; get(Collection&lt;String&gt; ids) {\r\n\t\tList&lt;String&gt;[] chunks = new List[ids.size() / 10 + 1];\r\n\t\tArrays.setAll(chunks, i -&gt; new ArrayList&lt;&gt;());\r\n\t\tint i = 0;\r\n\t\tfor(String id : ids){\r\n\t\t\tchunks[i++ / 10].add(id);\r\n\t\t}\r\n\t\tAtomicInteger done = new AtomicInteger(0);\r\n\t\tint initialCount = ids.size();\r\n\t\treturn Arrays.stream(chunks).map(c -&gt; {\r\n            Map&lt;String, String&gt; result = Map.of();\r\n            try {\r\n                result = fetch(c).get(5, TimeUnit.SECONDS);\r\n                System.out.printf(&quot;%s of %s ids done%n&quot;, done.addAndGet(c.size()), initialCount);\r\n            } catch (Exception e) {\r\n                System.err.printf(&quot;Request thread pool was interrupted: %s%n&quot;, e.getMessage());\r\n            }\r\n            return result;\r\n\t\t}).parallel();\r\n    }","title":"Spliterator Stream passing results to the next tream consumer","body":"<p>The <code>Spliterator</code> returned from <code>Spliterators.spliteratorUnknownSize</code> tries to batch a number of elements from the iterator in order to increase parallel performance.</p>\n<p>You can see this here: <a href=\"https://github.com/openjdk/jdk/blob/51b53a821bb3cfb962f80a637f5fb8cde988975a/src/java.base/share/classes/java/util/Spliterators.java#L1828\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/51b53a821bb3cfb962f80a637f5fb8cde988975a/src/java.base/share/classes/java/util/Spliterators.java#L1828</a></p>\n<p>To avoid this you could use a different spliterator or switch the stream to sequential mode by calling the <code>sequential()</code> method before <code>forEach(...)</code>.</p>\n<p>One way to keep using a parallel stream would be to move your batching out to before the stream and use the <code>Arrays.stream</code> method:</p>\n<pre><code>static Stream&lt;Map&lt;String, String&gt;&gt; get(Collection&lt;String&gt; ids) {\n    List&lt;String&gt;[] chunks = new List[ids.size() / 10 + 1];\n    Arrays.setAll(chunks, i -&gt; new ArrayList&lt;&gt;());\n    int i = 0;\n    for(String id : ids){\n        chunks[i++ / 10].add(id);\n    }\n    AtomicInteger done = new AtomicInteger(0);\n    int initialCount = ids.size();\n    return Arrays.stream(chunks).map(c -&gt; {\n        Map&lt;String, String&gt; result = Map.of();\n        try {\n            result = fetch(c).get(5, TimeUnit.SECONDS);\n            System.out.printf(&quot;%s of %s ids done%n&quot;, done.addAndGet(c.size()), initialCount);\n        } catch (Exception e) {\n            System.err.printf(&quot;Request thread pool was interrupted: %s%n&quot;, e.getMessage());\n        }\n        return result;\n    }).parallel();\n}\n</code></pre>\n"}],"owner":{"account_id":70657,"reputation":17503,"user_id":204693,"accept_rate":100,"display_name":"F.P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70986329,"answer_count":2,"score":0,"last_activity_date":1643980004,"creation_date":1643976067,"question_id":70986062,"body_markdown":"Given the following code\r\n\r\n```java\r\npublic class StreamSpliteratorTest {\r\n\r\n    public static void main(String[] args) {\r\n        var ids = Stream.generate(() -&gt; RandomStringUtils.randomAlphanumeric(5))\r\n            .limit(100)\r\n            .collect(Collectors.toList());\r\n        get(ids)\r\n            .forEach(resultMap -&gt; {\r\n                System.out.printf(&quot;Got result map with size %s%n&quot;, resultMap.size());\r\n            });\r\n    }\r\n\r\n    static Stream&lt;Map&lt;String, String&gt;&gt; get(Collection&lt;String&gt; ids) {\r\n        var remainginIds = new HashSet&lt;&gt;(ids);\r\n        var initialCount = remainginIds.size();\r\n        return StreamSupport.stream(Spliterators.spliteratorUnknownSize(new Iterator&lt;&gt;() {\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return !remainginIds.isEmpty();\r\n            }\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; next() {\r\n                Map&lt;String, String&gt; result = Map.of();\r\n\r\n                try {\r\n                    var chunk = remainginIds.stream().limit(10).collect(Collectors.toSet());\r\n                    remainginIds.removeAll(chunk);\r\n                    result = fetch(chunk).get(5, TimeUnit.SECONDS);\r\n                    System.out.printf(&quot;%s of %s ids done%n&quot;, initialCount - remainginIds.size(), initialCount);\r\n                } catch (Exception e) {\r\n                    System.err.printf(&quot;Request thread pool was interrupted: %s%n&quot;, e.getMessage());\r\n                }\r\n\r\n                return result;\r\n            }\r\n        }, Spliterator.IMMUTABLE), true);\r\n    }\r\n\r\n    static CompletableFuture&lt;Map&lt;String, String&gt;&gt; fetch(Collection&lt;String&gt; ids) {\r\n        var delay = CompletableFuture.delayedExecutor(1, TimeUnit.SECONDS);\r\n        return CompletableFuture\r\n            .supplyAsync(() -&gt; ids.stream().collect(Collectors.toMap(e -&gt; e, e -&gt; e)), delay);\r\n    }\r\n}\r\n```\r\n\r\nThe result of which is\r\n\r\n```\r\n10 of 100 ids done\r\n20 of 100 ids done\r\n30 of 100 ids done\r\n40 of 100 ids done\r\n50 of 100 ids done\r\n60 of 100 ids done\r\n70 of 100 ids done\r\n80 of 100 ids done\r\n90 of 100 ids done\r\n100 of 100 ids done\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\nGot result map with size 10\r\n```\r\n\r\nI am confused as to why the result of one execution of `next()` isn&#39;t immediately passed on to the next consumer in the calling code? I would expect this to result in this output:\r\n\r\n```\r\n\r\n10 of 100 ids done\r\nGot result map with size 10\r\n20 of 100 ids done\r\nGot result map with size 10\r\n30 of 100 ids done\r\nGot result map with size 10\r\n40 of 100 ids done\r\nGot result map with size 10\r\n50 of 100 ids done\r\nGot result map with size 10\r\n60 of 100 ids done\r\nGot result map with size 10\r\n70 of 100 ids done\r\nGot result map with size 10\r\n80 of 100 ids done\r\nGot result map with size 10\r\n90 of 100 ids done\r\nGot result map with size 10\r\n100 of 100 ids done\r\nGot result map with size 10\r\n```\r\n\r\nWhat am I doing wrong here?","title":"Spliterator Stream passing results to the next tream consumer","body":"<p>Given the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StreamSpliteratorTest {\n\n    public static void main(String[] args) {\n        var ids = Stream.generate(() -&gt; RandomStringUtils.randomAlphanumeric(5))\n            .limit(100)\n            .collect(Collectors.toList());\n        get(ids)\n            .forEach(resultMap -&gt; {\n                System.out.printf(&quot;Got result map with size %s%n&quot;, resultMap.size());\n            });\n    }\n\n    static Stream&lt;Map&lt;String, String&gt;&gt; get(Collection&lt;String&gt; ids) {\n        var remainginIds = new HashSet&lt;&gt;(ids);\n        var initialCount = remainginIds.size();\n        return StreamSupport.stream(Spliterators.spliteratorUnknownSize(new Iterator&lt;&gt;() {\n\n            @Override\n            public boolean hasNext() {\n                return !remainginIds.isEmpty();\n            }\n\n            @Override\n            public Map&lt;String, String&gt; next() {\n                Map&lt;String, String&gt; result = Map.of();\n\n                try {\n                    var chunk = remainginIds.stream().limit(10).collect(Collectors.toSet());\n                    remainginIds.removeAll(chunk);\n                    result = fetch(chunk).get(5, TimeUnit.SECONDS);\n                    System.out.printf(&quot;%s of %s ids done%n&quot;, initialCount - remainginIds.size(), initialCount);\n                } catch (Exception e) {\n                    System.err.printf(&quot;Request thread pool was interrupted: %s%n&quot;, e.getMessage());\n                }\n\n                return result;\n            }\n        }, Spliterator.IMMUTABLE), true);\n    }\n\n    static CompletableFuture&lt;Map&lt;String, String&gt;&gt; fetch(Collection&lt;String&gt; ids) {\n        var delay = CompletableFuture.delayedExecutor(1, TimeUnit.SECONDS);\n        return CompletableFuture\n            .supplyAsync(() -&gt; ids.stream().collect(Collectors.toMap(e -&gt; e, e -&gt; e)), delay);\n    }\n}\n</code></pre>\n<p>The result of which is</p>\n<pre><code>10 of 100 ids done\n20 of 100 ids done\n30 of 100 ids done\n40 of 100 ids done\n50 of 100 ids done\n60 of 100 ids done\n70 of 100 ids done\n80 of 100 ids done\n90 of 100 ids done\n100 of 100 ids done\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\nGot result map with size 10\n</code></pre>\n<p>I am confused as to why the result of one execution of <code>next()</code> isn't immediately passed on to the next consumer in the calling code? I would expect this to result in this output:</p>\n<pre><code>\n10 of 100 ids done\nGot result map with size 10\n20 of 100 ids done\nGot result map with size 10\n30 of 100 ids done\nGot result map with size 10\n40 of 100 ids done\nGot result map with size 10\n50 of 100 ids done\nGot result map with size 10\n60 of 100 ids done\nGot result map with size 10\n70 of 100 ids done\nGot result map with size 10\n80 of 100 ids done\nGot result map with size 10\n90 of 100 ids done\nGot result map with size 10\n100 of 100 ids done\nGot result map with size 10\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","spring","jobs"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633587605,"post_id":69476226,"comment_id":122800203,"body_markdown":"have a bean in your project, which contains all the values. Autowire that in all the classes you need it. Personally, I would recommend not to use xml configuration for your batches. annotations work great","body":"have a bean in your project, which contains all the values. Autowire that in all the classes you need it. Personally, I would recommend not to use xml configuration for your batches. annotations work great"},{"owner":{"account_id":4695600,"reputation":1,"user_id":3800555,"display_name":"user3800555"},"score":0,"creation_date":1633588235,"post_id":69476226,"comment_id":122800389,"body_markdown":"Appreciate your reply here. I have one bean class, but question is how I can assigned values from jobparameters to that bean class and how to get that in my service.","body":"Appreciate your reply here. I have one bean class, but question is how I can assigned values from jobparameters to that bean class and how to get that in my service."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633588763,"post_id":69476226,"comment_id":122800559,"body_markdown":"I assume you have heard of setters and getters? or use a properties file. Spring has a few options for that","body":"I assume you have heard of setters and getters? or use a properties file. Spring has a few options for that"},{"owner":{"account_id":4695600,"reputation":1,"user_id":3800555,"display_name":"user3800555"},"score":0,"creation_date":1633592611,"post_id":69476226,"comment_id":122801856,"body_markdown":"Yeah I do have bean class of setter getter methods but question is how I can get job parameters in my service method and then assign those values to my bean class. My `@Before` , `@BeforeStep` method none working. Parameters are of real time which passing through `joblauncher` so properties file not applicable to me.","body":"Yeah I do have bean class of setter getter methods but question is how I can get job parameters in my service method and then assign those values to my bean class. My <code>@Before</code> , <code>@BeforeStep</code> method none working. Parameters are of real time which passing through <code>joblauncher</code> so properties file not applicable to me."}],"owner":{"account_id":4695600,"reputation":1,"user_id":3800555,"display_name":"user3800555"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643979298,"creation_date":1633587204,"question_id":69476226,"body_markdown":"I have 3 steps specified for executing 3 difference job. lets say a, b, and c. I configured that in my spring batch xml. This should be configured in such as way that if I execute a, then on success only it will execute b otherwise breaks and same for b. Also I want to execute particular step based on one of the job parameter input. (If I got input of b then it will execute directly b, not a).\r\nMy spring batch xml:\r\n\r\n```xml\r\n&lt;batch:job id =&quot;MyJob&quot;&gt;\r\n&lt;batch:step id = &quot;a&quot;&gt;\r\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;callingA&quot;/&gt;\r\n&lt;batch:next on=&quot;*&quot; next=&quot;b&quot;/&gt;\r\n&lt;batch:next on=&quot;FAILED&quot; next=&quot;exit&quot;/&gt;\r\n&lt;/batch:step&gt;\r\n&lt;batch:step id = &quot;b&quot;&gt;\r\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;callingB&quot;/&gt;\r\n&lt;batch:next on=&quot;*&quot; next=&quot;c&quot;/&gt;\r\n&lt;batch:next on=&quot;FAILED&quot; next=&quot;exit&quot;/&gt;\r\n&lt;/batch:step&gt;\r\n&lt;batch:step id = &quot;c&quot;&gt;\r\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;callingC&quot;/&gt;\r\n&lt;batch:next on=&quot;FAILED&quot; next=&quot;exit&quot;/&gt;\r\n&lt;/batch:step&gt;\r\n&lt;batch:step id = &quot;exit&quot;&gt;\r\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;exit&quot;/&gt;\r\n&lt;/batch:step&gt;\r\n&lt;/batch:job&gt;\r\n```\r\n\r\nMy java service class is as follows:\r\n```java\r\n@Service(&quot;myJavaClassService&quot;)\r\nclass MyJavaClassService\r\n{\r\n    public void callingA() {  /* Some Operation --- */ }\r\n    public void callingB() {  /* Some Operation --- */ }\r\n    public void callingC() {  /* Some Operation --- */ }\r\n    public void exit() {  System.exit(1); }\r\n}\r\n```\r\n\r\nMy Java main class is as follows:\r\n```java\r\nclass MyClassMain\r\n{\r\n/*---- some configuration related code ---*/\r\n\r\nJobLauncher jobLauncher = (JobLauncher) ctx.getBean(&quot;JobLauncher&quot;);\r\n\r\nJob job = (Job) ctx.getBean(&quot;MyJob&quot;);\r\n\r\nJobParametersBuilder jpd = new JobParametersBuilder();\r\njpd.addString(&quot;firstParam&quot;);\r\njpd.addString(&quot;secondParam&quot;);\r\njpd.addString(&quot;thirdParam&quot;);\r\n\r\nJobParameters jp = jpd.toParameters();\r\n\r\nJobExecution result = jobLauncher.run(job, jp);\r\n\r\n}\r\n```\r\n\r\nI am stuck on following points:\r\n\r\nHow can I get all the job parameters in my Service class? I tried implementing `Tasklet`, `ItemPrcoess`, `StepListener`, etc but none worked out for me.\r\n\r\nHow can I execute particular step based on job parameter, lets say I want to execute directly &quot;step id = b&quot;?\r\n\r\nHow can I give return type from any of the calling methods, like I require to get one output value from `callingA` and that output value I need to pass to `callingB` method, how can I do that.\r\n\r\nI tried to get job parameters in my calling method using `@BeforeStep` method of `StepExecutionListener` but `beforeMethod` is not executing, not sure why. For example: I wrote the line \r\n`String first param = executionContext.getStepExecution.getString(&quot;firstparam&quot;)` in `beforeStep` method, but I am not able to get first param value in my `callingA` method. \r\nThus, I realized, none of the listener is working in my case.\r\n\r\nPlease note that I am getting a call inside my method `callingA` but I am not able to get the job parameters.\r\n\r\nAlso, based on my requirements, I would appreciate if you have any other feasible solution. I don&#39;t have any requirement of chunk or any reader writer processor jobs. Simple calling 3 methods which has a code of executing different python jobs.","title":"How to get job parameters in tasklet if we execute particular method in Spring Batch","body":"<p>I have 3 steps specified for executing 3 difference job. lets say a, b, and c. I configured that in my spring batch xml. This should be configured in such as way that if I execute a, then on success only it will execute b otherwise breaks and same for b. Also I want to execute particular step based on one of the job parameter input. (If I got input of b then it will execute directly b, not a).\nMy spring batch xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;batch:job id =&quot;MyJob&quot;&gt;\n&lt;batch:step id = &quot;a&quot;&gt;\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;callingA&quot;/&gt;\n&lt;batch:next on=&quot;*&quot; next=&quot;b&quot;/&gt;\n&lt;batch:next on=&quot;FAILED&quot; next=&quot;exit&quot;/&gt;\n&lt;/batch:step&gt;\n&lt;batch:step id = &quot;b&quot;&gt;\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;callingB&quot;/&gt;\n&lt;batch:next on=&quot;*&quot; next=&quot;c&quot;/&gt;\n&lt;batch:next on=&quot;FAILED&quot; next=&quot;exit&quot;/&gt;\n&lt;/batch:step&gt;\n&lt;batch:step id = &quot;c&quot;&gt;\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;callingC&quot;/&gt;\n&lt;batch:next on=&quot;FAILED&quot; next=&quot;exit&quot;/&gt;\n&lt;/batch:step&gt;\n&lt;batch:step id = &quot;exit&quot;&gt;\n&lt;batch:tasklet ref=&quot;myJavaClassService&quot; method=&quot;exit&quot;/&gt;\n&lt;/batch:step&gt;\n&lt;/batch:job&gt;\n</code></pre>\n<p>My java service class is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service(&quot;myJavaClassService&quot;)\nclass MyJavaClassService\n{\n    public void callingA() {  /* Some Operation --- */ }\n    public void callingB() {  /* Some Operation --- */ }\n    public void callingC() {  /* Some Operation --- */ }\n    public void exit() {  System.exit(1); }\n}\n</code></pre>\n<p>My Java main class is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClassMain\n{\n/*---- some configuration related code ---*/\n\nJobLauncher jobLauncher = (JobLauncher) ctx.getBean(&quot;JobLauncher&quot;);\n\nJob job = (Job) ctx.getBean(&quot;MyJob&quot;);\n\nJobParametersBuilder jpd = new JobParametersBuilder();\njpd.addString(&quot;firstParam&quot;);\njpd.addString(&quot;secondParam&quot;);\njpd.addString(&quot;thirdParam&quot;);\n\nJobParameters jp = jpd.toParameters();\n\nJobExecution result = jobLauncher.run(job, jp);\n\n}\n</code></pre>\n<p>I am stuck on following points:</p>\n<p>How can I get all the job parameters in my Service class? I tried implementing <code>Tasklet</code>, <code>ItemPrcoess</code>, <code>StepListener</code>, etc but none worked out for me.</p>\n<p>How can I execute particular step based on job parameter, lets say I want to execute directly &quot;step id = b&quot;?</p>\n<p>How can I give return type from any of the calling methods, like I require to get one output value from <code>callingA</code> and that output value I need to pass to <code>callingB</code> method, how can I do that.</p>\n<p>I tried to get job parameters in my calling method using <code>@BeforeStep</code> method of <code>StepExecutionListener</code> but <code>beforeMethod</code> is not executing, not sure why. For example: I wrote the line\n<code>String first param = executionContext.getStepExecution.getString(&quot;firstparam&quot;)</code> in <code>beforeStep</code> method, but I am not able to get first param value in my <code>callingA</code> method.\nThus, I realized, none of the listener is working in my case.</p>\n<p>Please note that I am getting a call inside my method <code>callingA</code> but I am not able to get the job parameters.</p>\n<p>Also, based on my requirements, I would appreciate if you have any other feasible solution. I don't have any requirement of chunk or any reader writer processor jobs. Simple calling 3 methods which has a code of executing different python jobs.</p>\n"},{"tags":["java","android","command","noclassdeffounderror"],"owner":{"account_id":21379542,"reputation":29,"user_id":15745690,"display_name":"YAnubhav Chetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1643979134,"creation_date":1643955212,"question_id":70982145,"body_markdown":"Hii I want to know if Android sdk is compatible with Java version 17.0.1 ??\r\n\r\nActually I am trying to build an application with command line.... For that I have installed Gradle, java and also installed Android sdk and it&#39;s packages like &#39;*command-line tools*&#39; , &#39;*platform tools*&#39; etc...\r\n\r\nBut when I tried to run sdkmanager it shows this\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema \r\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\r\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\r\n        ... 5 more\r\n\r\nI have searched the internet and found out that I have to downgrade my java version to 8.... But I don&#39;t want to downgrade it..\r\n","title":"Java 17 and Android SDK","body":"<p>Hii I want to know if Android sdk is compatible with Java version 17.0.1 ??</p>\n<p>Actually I am trying to build an application with command line.... For that I have installed Gradle, java and also installed Android sdk and it's packages like '<em>command-line tools</em>' , '<em>platform tools</em>' etc...</p>\n<p>But when I tried to run sdkmanager it shows this</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\nat com.android.repository.api.SchemaModule$SchemaModuleVersion.(SchemaModule.java:156)\nat com.android.repository.api.SchemaModule.(SchemaModule.java:75)\nat com.android.sdklib.repository.AndroidSdkHandler.(AndroidSdkHandler.java:81)\nat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\nat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\n... 5 more</p>\n</blockquote>\n<p>I have searched the internet and found out that I have to downgrade my java version to 8.... But I don't want to downgrade it..</p>\n"},{"tags":["java","classpath"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643978851,"creation_date":1643978851,"answer_id":70986625,"question_id":70865607,"body_markdown":"Does this answers your question?\r\n\r\n    System.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n\r\n","title":"issue printing current project classpath // How can I print all directories and libraries in the classpath?","body":"<p>Does this answers your question?</p>\n<pre><code>System.out.println(System.getProperty(&quot;java.class.path&quot;));\n</code></pre>\n"}],"owner":{"account_id":13176538,"reputation":1,"user_id":9517329,"display_name":"Dimitar Nikolov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643978851,"creation_date":1643209515,"question_id":70865607,"body_markdown":"I have an Oracle Form running on the client&#39;s workstation.\r\nWhen the JVM that loads the form is started we have a several jar files loaded into the JVM classpath. I am trying to print the content of the classpath in one of the jars being loaded to the JVM, but every time is being printed only the one below:\r\n\r\n`classpath= C:\\Program Files (x86)\\Java\\jre1.8.0_281\\lib\\deploy.jar`\r\n\r\n\r\nI used several ways one of them is this one \r\n```\r\nClassLoader cl = ClassLoader.getSystemClassLoader();\r\n\r\nURL[] urls = ((URLClassLoader)cl).getURLs();\r\n\r\nfor(URL url: urls){\r\n    System.out.println(url.getFile());\r\n}\r\n```\r\n\r\nThe question is How can I print all directories and libraries in the classpath not only a single library ?\r\n\r\n\r\n\r\n","title":"issue printing current project classpath // How can I print all directories and libraries in the classpath?","body":"<p>I have an Oracle Form running on the client's workstation.\nWhen the JVM that loads the form is started we have a several jar files loaded into the JVM classpath. I am trying to print the content of the classpath in one of the jars being loaded to the JVM, but every time is being printed only the one below:</p>\n<p><code>classpath= C:\\Program Files (x86)\\Java\\jre1.8.0_281\\lib\\deploy.jar</code></p>\n<p>I used several ways one of them is this one</p>\n<pre><code>ClassLoader cl = ClassLoader.getSystemClassLoader();\n\nURL[] urls = ((URLClassLoader)cl).getURLs();\n\nfor(URL url: urls){\n    System.out.println(url.getFile());\n}\n</code></pre>\n<p>The question is How can I print all directories and libraries in the classpath not only a single library ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","ldap"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643978822,"creation_date":1643978822,"answer_id":70986621,"question_id":70977130,"body_markdown":"following [this answer][1] - maybe this (untested code)\r\n\r\n```\r\n\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.ldapAuthentication()\r\n                .contextSource(contextSource)\r\n                .userSearchBase(&quot;DC=example,DC=com&quot;)\r\n                //.userSearchFilter(&quot;&amp;((userName={0}))&quot;)\r\n                .userDnPatterns(&quot;userName={0},OU=users&quot;, &quot;userName={0},OU=admins&quot;)\r\n                .ldapAuthoritiesPopulator(authoritiesPopulator))\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24490510/1211547","title":"How to handle exceptions from Spring Boot&#39;s LdapAuthenticationProviderConfigurer","body":"<p>following <a href=\"https://stackoverflow.com/a/24490510/1211547\">this answer</a> - maybe this (untested code)</p>\n<pre><code>\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.ldapAuthentication()\n                .contextSource(contextSource)\n                .userSearchBase(&quot;DC=example,DC=com&quot;)\n                //.userSearchFilter(&quot;&amp;((userName={0}))&quot;)\n                .userDnPatterns(&quot;userName={0},OU=users&quot;, &quot;userName={0},OU=admins&quot;)\n                .ldapAuthoritiesPopulator(authoritiesPopulator))\n    }\n</code></pre>\n"}],"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643978822,"creation_date":1643916235,"question_id":70977130,"body_markdown":"I have the following web security in a Spring Boot application:\r\n```\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.ldapAuthentication()\r\n                .contextSource(contextSource)\r\n                .userSearchBase(&quot;OU=users,DC=example,DC=com&quot;)\r\n                .userSearchFilter(&quot;userName={0}&quot;)\r\n                .ldapAuthoritiesPopulator(authoritiesPopulator)\r\n                .and()\r\n            // fall back to the admin group if not found\r\n            .ldapAuthentication()\r\n                .contextSource(contextSource)\r\n                .userSearchBase(&quot;OU=admins,DC=example,DC=com&quot;)\r\n                .userSearchFilter(&quot;userName={0}&quot;)\r\n                .ldapAuthoritiesPopulator(authoritiesPopulator)\r\n            ;\r\n    }\r\n```\r\nThe idea is pretty straightforward: try searching in the `users` group and if the user is not found, then try the `admin` group.  All of this works great until something goes wrong with the first lookup.  If the `users` group suddenly goes away, for example, the first lookup will generate an exception and the second lookup is never attempted.\r\nIs there a way to configure `LdapAuthenticationProviderConfigurer` or perhaps `AuthenticationManagerBuilder` to not abort the whole process when one of the authentication provider exceptions out?","title":"How to handle exceptions from Spring Boot&#39;s LdapAuthenticationProviderConfigurer","body":"<p>I have the following web security in a Spring Boot application:</p>\n<pre><code>    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.ldapAuthentication()\n                .contextSource(contextSource)\n                .userSearchBase(&quot;OU=users,DC=example,DC=com&quot;)\n                .userSearchFilter(&quot;userName={0}&quot;)\n                .ldapAuthoritiesPopulator(authoritiesPopulator)\n                .and()\n            // fall back to the admin group if not found\n            .ldapAuthentication()\n                .contextSource(contextSource)\n                .userSearchBase(&quot;OU=admins,DC=example,DC=com&quot;)\n                .userSearchFilter(&quot;userName={0}&quot;)\n                .ldapAuthoritiesPopulator(authoritiesPopulator)\n            ;\n    }\n</code></pre>\n<p>The idea is pretty straightforward: try searching in the <code>users</code> group and if the user is not found, then try the <code>admin</code> group.  All of this works great until something goes wrong with the first lookup.  If the <code>users</code> group suddenly goes away, for example, the first lookup will generate an exception and the second lookup is never attempted.\nIs there a way to configure <code>LdapAuthenticationProviderConfigurer</code> or perhaps <code>AuthenticationManagerBuilder</code> to not abort the whole process when one of the authentication provider exceptions out?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1643960250,"post_id":70982207,"comment_id":125482512,"body_markdown":"what if you go to http://localhost:8001/demologin ?","body":"what if you go to <a href=\"http://localhost:8001/demologin\" rel=\"nofollow noreferrer\">localhost:8001/demologin</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":23030189,"reputation":76,"user_id":17149811,"display_name":"oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643963526,"creation_date":1643963526,"answer_id":70983428,"question_id":70982207,"body_markdown":"In your code you configured ```.loginPage(&quot;/demologin&quot;)``` but you try to login at ```http://localhost:8001/auth/demologin```.\r\n\r\nAccording to the response of 404 ```/auth/demologin``` seems to be not existing.","title":"Cannot access page in OAuth2.0","body":"<p>In your code you configured <code>.loginPage(&quot;/demologin&quot;)</code> but you try to login at <code>http://localhost:8001/auth/demologin</code>.</p>\n<p>According to the response of 404 <code>/auth/demologin</code> seems to be not existing.</p>\n"}],"owner":{"account_id":15518716,"reputation":1,"user_id":11195456,"display_name":"shree krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643978654,"creation_date":1643955788,"question_id":70982207,"body_markdown":"I am trying to customize the login page.\r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\r\n\r\n\t\thttp.csrf().disable()\r\n\t      .authorizeRequests()\r\n\t      .antMatchers(&quot;/anonymous*&quot;).anonymous()\r\n\t      .anyRequest().authenticated().and()\r\n\t      .formLogin()\r\n\t      .loginPage(&quot;/demologin&quot;)\r\n\t      .loginProcessingUrl(&quot;/oauth/authorize&quot;).permitAll();\r\n\t}\r\n\r\nCheck the demo of login here:\r\n\r\nOAuthServer&amp;Client/spring-security-auth-server/src/main/resources/templates/demologin.html\r\n\r\nThis error is displayed when I try to access the page.\r\n\r\n&gt;Whitelabel Error Page\r\n&gt;\r\n&gt;This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n&gt;\r\n&gt;Fri Feb 04 11:40:18 IST 2022\r\n&gt;There was an unexpected error (type=Not Found, status=404).\r\n&gt;No message available\r\n\r\nI am running it on my localhost server here :- http://localhost:8001/auth/demologin","title":"Cannot access page in OAuth2.0","body":"<p>I am trying to customize the login page.</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n\n    http.csrf().disable()\n      .authorizeRequests()\n      .antMatchers(&quot;/anonymous*&quot;).anonymous()\n      .anyRequest().authenticated().and()\n      .formLogin()\n      .loginPage(&quot;/demologin&quot;)\n      .loginProcessingUrl(&quot;/oauth/authorize&quot;).permitAll();\n}\n</code></pre>\n<p>Check the demo of login here:</p>\n<p>OAuthServer&amp;Client/spring-security-auth-server/src/main/resources/templates/demologin.html</p>\n<p>This error is displayed when I try to access the page.</p>\n<blockquote>\n<p>Whitelabel Error Page</p>\n<p>This application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Fri Feb 04 11:40:18 IST 2022\nThere was an unexpected error (type=Not Found, status=404).\nNo message available</p>\n</blockquote>\n<p>I am running it on my localhost server here :- http://localhost:8001/auth/demologin</p>\n"},{"tags":["java","hibernate","junit","java-8","junit4"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643978577,"creation_date":1643978577,"answer_id":70986573,"question_id":70986460,"body_markdown":"You&#39;re already using Java 8, so that&#39;s not a reason for not using JUnit 5. That means you can use both JUnit 5 and the JUnit 4 functionality and packages. Do that by using the JUnit 5 dependencies (I suggest `junit-jupiter` and not `junit-jupiter-api`, as the former comes with `junit-jupiter-engine` and `junit-jupiter-params`) as well as the vintage engine (`junit-vintage-engine`).\r\n\r\nThis allows you to keep using JUnit 4 (actually the vintage engine) for all existing tests, and JUnit 5 for this new test.","title":"How to test this code in junit 4 and java 8?","body":"<p>You're already using Java 8, so that's not a reason for not using JUnit 5. That means you can use both JUnit 5 and the JUnit 4 functionality and packages. Do that by using the JUnit 5 dependencies (I suggest <code>junit-jupiter</code> and not <code>junit-jupiter-api</code>, as the former comes with <code>junit-jupiter-engine</code> and <code>junit-jupiter-params</code>) as well as the vintage engine (<code>junit-vintage-engine</code>).</p>\n<p>This allows you to keep using JUnit 4 (actually the vintage engine) for all existing tests, and JUnit 5 for this new test.</p>\n"}],"owner":{"account_id":24155127,"reputation":11,"user_id":18119470,"display_name":"DaMostWanted13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643978577,"creation_date":1643978023,"question_id":70986460,"body_markdown":"\r\n\r\nI&#39;m trying to testing this code in junit 4 and java 8 (I can&#39;t improve the version).\r\n\r\nThe thing is, I can&#39;t use in this version @MockBean or @Autowired for test coding, so, &#191;what&#39;s the better option if I can&#39;t improve the version?\r\n\r\nCode:\r\n\r\n    public class DaoHibernate extends BaseDaoHibernate implements Dao {\r\n    \r\n    private static final String ID_CD_QUERY_PARAM = &quot;idCD&quot;;\r\n    private static final String IDPAIS_QUERY_PARAM = &quot;idPais&quot;;\r\n    /**\r\n     * Instancia del logger\r\n     */\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(DaoHibernate.class);\r\n    private static final SimpleDateFormat SDF = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\r\n    \r\n    \r\n    \r\n    public List&lt;Combo&gt; getThingsByCamion (Integer idCD, Date fDesde,Date fHasta, Integer idPais,String idReferenciaTransporte){\r\n        try {\r\n            List&lt;Combo&gt; things = new ArrayList&lt;Combo&gt;();\r\n    \r\n            if (idCD != null) {\r\n    \r\n                final StringBuilder hqlQueryThings = new StringBuilder();\r\n    \r\n                hqlQueryThings.append(&quot;SELECT DISTINCT &quot;);\r\n                hqlQueryThings.append(&quot; ao.referencia &quot;);\r\n                hqlQueryThings.append(&quot; FROM &quot;);\r\n                hqlQueryThings.append(&quot; almacen.agrupacion_operativa ao, &quot;);\r\n                hqlQueryThings.append(&quot; almacen.Detalle_Agrupacion_Operativa dao, &quot;);\r\n                hqlQueryThings.append(&quot; almacen.detalle_envio_exportacion dee, &quot;);\r\n                hqlQueryThings.append(&quot; almacen.seguimiento_bulto sb &quot;);\r\n    \r\n                if(idPais!=null ){\r\n                    hqlQueryPallet.append(&quot; INNER JOIN MAESTROS.LOCALIZACION LOC ON LOC.ID_LOCALIZACION = sb.id_localizacion_destino &quot;)\r\n                    .append(&quot; AND LOC.ID_PAIS = :idPais &quot;);\r\n                }\r\n    \r\n                hqlQueryThings.append(&quot; WHERE &quot;);\r\n                hqlQueryThings.append(&quot; ao.id_agrupacion_operativa = dao.id_agrupacion_operativa AND &quot;);\r\n                hqlQueryThings.append(&quot; sb.id_localizacion_origen = :idCD AND &quot;);\r\n                hqlQueryThings.append(&quot; dee.id_bulto = dao.id_bulto  &quot;);\r\n    \r\n                if(idReferenciaTransporte!=null ){\r\n                    hqlQueryPallet.append(&quot;  AND dee.referencia_transporte = :idReferenciaTransporte &quot;);\r\n                }\r\n                if(fDesde!=null &amp;&amp; fHasta!=null){\r\n                    hqlQueryThings.append(&quot;  AND SB.Fecha_Expedicion &gt;= :fDesde AND &quot;);\r\n                    hqlQueryThings.append(&quot;  SB.Fecha_Expedicion &lt;= :fHasta &quot;);\r\n                }\r\n    \r\n                hqlQueryThings.append(&quot; WITH UR &quot;);\r\n                final Query queryThing = getHibernateTemplate().getSessionFactory().getCurrentSession()\r\n                .createSQLQuery(hqlQueryPallet.toString());\r\n                if (idPais != null) {\r\n                    queryThing.setInteger(IDPAIS_QUERY_PARAM, idPais);\r\n                }\r\n                if (idReferenciaTransporte != null) {\r\n                    queryThing.setString(&quot;idReferenciaTransporte&quot;, idReferenciaTransporte);\r\n                }\r\n                queryThing.setInteger(ID_CD_QUERY_PARAM, idCD);\r\n                queryThing.setDate(&quot;fDesde&quot;, fDesde);\r\n                queryThing.setDate(&quot;fHasta&quot;, fHasta);\r\n    \r\n                final List&lt;String&gt; result = (List&lt;String&gt;) queryThing.list();\r\n    \r\n                if (result != null) {\r\n    \r\n                    for(String obj : result){\r\n                        Combos c = new Combos();\r\n                        c.setKey(obj);\r\n                        c.setValue(obj);\r\n    \r\n                        pallets.add(c);\r\n                    }\r\n                }\r\n            }\r\n            LOGGER.debug(&quot;Fin getThingsByCamion&quot;);\r\n            return pallets;\r\n        } catch (final RuntimeException recep) {\r\n            LOGGER.error(&quot;Errorejecutando getThings&quot;, recep);\r\n            throw recep;\r\n        }\r\n    }\r\n\r\nWhen I arrive to final Query queryThing = getHibernateTemplate().getSessionFactory().getCurrentSession() .createSQLQuery(hqlQueryPallet.toString()); it just says NullPointerException because it can&#39;t find the current session in the test.\r\n\r\nThe Test:\r\n\r\n    public class DaoHibernateTests {\r\n    \r\n    private static final String ORIGEN = &quot;Origen&quot;;\r\n    private static final String MATRICULA = &quot;Matricula&quot;;\r\n    private static final String CODIGO_ENVIO = &quot;Envio&quot;;\r\n    \r\n    private static final String PLATAFORMA = &quot;Plataforma 1&quot;;\r\n    private static final Integer ID_PLATAFORMA = 1;\r\n    \r\n    /** The sdf. */\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \r\n    private DaoHibernate daoHibernate;\r\n    private Date fechaEnvio;\r\n    \r\n    @Before\r\n    public void setUp() throws ParseException {\r\n    \r\n        fechaEnvio = sdf.parse(&quot;01-01-2021&quot;);\r\n    \r\n        daoHibernate = new AgrupacionOperativaDaoHibernate();\r\n    }\r\n    \r\n    @Test(expected = NullPointerException.class)\r\n    public void buscarMercanciaEntradaTestError1() {\r\n        List&lt;Combo&gt; getThingsByCamion = daoHibernate.getThingsByCamion(1, fechaEnvio,fechaEnvio, 1,CODIGO_ENVIO);\r\n    \r\n        Assert.assertEquals(1, getThingsByCamion.size());\r\n    }\r\n\r\nPOM: Dependencies for testing:\r\n\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;junit.version&gt;4.4&lt;/junit.version&gt;    \r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhat I need to do?\r\n\r\nThanks!\r\n","title":"How to test this code in junit 4 and java 8?","body":"<p>I'm trying to testing this code in junit 4 and java 8 (I can't improve the version).</p>\n<p>The thing is, I can't use in this version @MockBean or @Autowired for test coding, so, what's the better option if I can't improve the version?</p>\n<p>Code:</p>\n<pre><code>public class DaoHibernate extends BaseDaoHibernate implements Dao {\n\nprivate static final String ID_CD_QUERY_PARAM = &quot;idCD&quot;;\nprivate static final String IDPAIS_QUERY_PARAM = &quot;idPais&quot;;\n/**\n * Instancia del logger\n */\nprivate static final Logger LOGGER = LoggerFactory.getLogger(DaoHibernate.class);\nprivate static final SimpleDateFormat SDF = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\n\n\n\npublic List&lt;Combo&gt; getThingsByCamion (Integer idCD, Date fDesde,Date fHasta, Integer idPais,String idReferenciaTransporte){\n    try {\n        List&lt;Combo&gt; things = new ArrayList&lt;Combo&gt;();\n\n        if (idCD != null) {\n\n            final StringBuilder hqlQueryThings = new StringBuilder();\n\n            hqlQueryThings.append(&quot;SELECT DISTINCT &quot;);\n            hqlQueryThings.append(&quot; ao.referencia &quot;);\n            hqlQueryThings.append(&quot; FROM &quot;);\n            hqlQueryThings.append(&quot; almacen.agrupacion_operativa ao, &quot;);\n            hqlQueryThings.append(&quot; almacen.Detalle_Agrupacion_Operativa dao, &quot;);\n            hqlQueryThings.append(&quot; almacen.detalle_envio_exportacion dee, &quot;);\n            hqlQueryThings.append(&quot; almacen.seguimiento_bulto sb &quot;);\n\n            if(idPais!=null ){\n                hqlQueryPallet.append(&quot; INNER JOIN MAESTROS.LOCALIZACION LOC ON LOC.ID_LOCALIZACION = sb.id_localizacion_destino &quot;)\n                .append(&quot; AND LOC.ID_PAIS = :idPais &quot;);\n            }\n\n            hqlQueryThings.append(&quot; WHERE &quot;);\n            hqlQueryThings.append(&quot; ao.id_agrupacion_operativa = dao.id_agrupacion_operativa AND &quot;);\n            hqlQueryThings.append(&quot; sb.id_localizacion_origen = :idCD AND &quot;);\n            hqlQueryThings.append(&quot; dee.id_bulto = dao.id_bulto  &quot;);\n\n            if(idReferenciaTransporte!=null ){\n                hqlQueryPallet.append(&quot;  AND dee.referencia_transporte = :idReferenciaTransporte &quot;);\n            }\n            if(fDesde!=null &amp;&amp; fHasta!=null){\n                hqlQueryThings.append(&quot;  AND SB.Fecha_Expedicion &gt;= :fDesde AND &quot;);\n                hqlQueryThings.append(&quot;  SB.Fecha_Expedicion &lt;= :fHasta &quot;);\n            }\n\n            hqlQueryThings.append(&quot; WITH UR &quot;);\n            final Query queryThing = getHibernateTemplate().getSessionFactory().getCurrentSession()\n            .createSQLQuery(hqlQueryPallet.toString());\n            if (idPais != null) {\n                queryThing.setInteger(IDPAIS_QUERY_PARAM, idPais);\n            }\n            if (idReferenciaTransporte != null) {\n                queryThing.setString(&quot;idReferenciaTransporte&quot;, idReferenciaTransporte);\n            }\n            queryThing.setInteger(ID_CD_QUERY_PARAM, idCD);\n            queryThing.setDate(&quot;fDesde&quot;, fDesde);\n            queryThing.setDate(&quot;fHasta&quot;, fHasta);\n\n            final List&lt;String&gt; result = (List&lt;String&gt;) queryThing.list();\n\n            if (result != null) {\n\n                for(String obj : result){\n                    Combos c = new Combos();\n                    c.setKey(obj);\n                    c.setValue(obj);\n\n                    pallets.add(c);\n                }\n            }\n        }\n        LOGGER.debug(&quot;Fin getThingsByCamion&quot;);\n        return pallets;\n    } catch (final RuntimeException recep) {\n        LOGGER.error(&quot;Errorejecutando getThings&quot;, recep);\n        throw recep;\n    }\n}\n</code></pre>\n<p>When I arrive to final Query queryThing = getHibernateTemplate().getSessionFactory().getCurrentSession() .createSQLQuery(hqlQueryPallet.toString()); it just says NullPointerException because it can't find the current session in the test.</p>\n<p>The Test:</p>\n<pre><code>public class DaoHibernateTests {\n\nprivate static final String ORIGEN = &quot;Origen&quot;;\nprivate static final String MATRICULA = &quot;Matricula&quot;;\nprivate static final String CODIGO_ENVIO = &quot;Envio&quot;;\n\nprivate static final String PLATAFORMA = &quot;Plataforma 1&quot;;\nprivate static final Integer ID_PLATAFORMA = 1;\n\n/** The sdf. */\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\nprivate DaoHibernate daoHibernate;\nprivate Date fechaEnvio;\n\n@Before\npublic void setUp() throws ParseException {\n\n    fechaEnvio = sdf.parse(&quot;01-01-2021&quot;);\n\n    daoHibernate = new AgrupacionOperativaDaoHibernate();\n}\n\n@Test(expected = NullPointerException.class)\npublic void buscarMercanciaEntradaTestError1() {\n    List&lt;Combo&gt; getThingsByCamion = daoHibernate.getThingsByCamion(1, fechaEnvio,fechaEnvio, 1,CODIGO_ENVIO);\n\n    Assert.assertEquals(1, getThingsByCamion.size());\n}\n</code></pre>\n<p>POM: Dependencies for testing:</p>\n<pre><code>&lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;junit.version&gt;4.4&lt;/junit.version&gt;    \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>What I need to do?</p>\n<p>Thanks!</p>\n"},{"tags":["java","design-patterns","polymorphism","visitor-pattern"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1518859945,"post_id":48839793,"comment_id":84683842,"body_markdown":"The trick would be to have a single general service, and then just call it once with a user as input, i.e. call `service.register(user)` once instead of having a `switch` statement.","body":"The trick would be to have a single general service, and then just call it once with a user as input, i.e. call <code>service.register(user)</code> once instead of having a <code>switch</code> statement."},{"owner":{"account_id":9991146,"reputation":2615,"user_id":7390408,"accept_rate":41,"display_name":"wesleyy"},"score":0,"creation_date":1518860210,"post_id":48839793,"comment_id":84683908,"body_markdown":"@TimBiegeleisen Yes, but how would you implement the &quot;update(user)&quot;? Because update works with Client or Driver specific fields. So it can&#39;t really use the general service, it has to use specific.","body":"@TimBiegeleisen Yes, but how would you implement the &quot;update(user)&quot;? Because update works with Client or Driver specific fields. So it can&#39;t really use the general service, it has to use specific."},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1518860313,"post_id":48839793,"comment_id":84683925,"body_markdown":"I am pointing out one way in which polymorphism can help you.  You may need such a switch statement somewhere, though it doesn&#39;t have to be here.","body":"I am pointing out one way in which polymorphism can help you.  You may need such a switch statement somewhere, though it doesn&#39;t have to be here."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1518964768,"post_id":48839793,"comment_id":84709072,"body_markdown":"@wesleyy The `Visitor` pattern solves a very specific problem and almost always an overkill in most cases (if not all). See my answer for a way to address this with simple *Polymorhism*..","body":"@wesleyy The <code>Visitor</code> pattern solves a very specific problem and almost always an overkill in most cases (if not all). See my answer for a way to address this with simple <i>Polymorhism</i>.."},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1519070074,"post_id":48839793,"comment_id":84750348,"body_markdown":"Useful context: https://refactoring.com/catalog/replaceConditionalWithPolymorphism.html","body":"Useful context: <a href=\"https://refactoring.com/catalog/replaceConditionalWithPolymorphism.html\" rel=\"nofollow noreferrer\">refactoring.com/catalog/replaceConditionalWithPolymorphism.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1519075733,"post_id":48839793,"comment_id":84752741,"body_markdown":"Oops, since you have a typeCode I think it&#39;s this refactoring: https://refactoring.com/catalog/replaceTypeCodeWithPolymorphism.html","body":"Oops, since you have a typeCode I think it&#39;s this refactoring: <a href=\"https://refactoring.com/catalog/replaceTypeCodeWithPolymorphism.html\" rel=\"nofollow noreferrer\">refactoring.com/catalog/replaceTypeCodeWithPolymorphism.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":7995590,"reputation":2556,"user_id":6032010,"display_name":"SHG"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518861155,"creation_date":1518860811,"answer_id":48839970,"question_id":48839793,"body_markdown":"You&#39;d want something like that:\r\n\r\n    public abstract class User {\r\n        abstract void register();\r\n        abstract void update();\r\n        abstract void login();\r\n\r\n        // maybe some more common non-abstract methods\r\n    }\r\n\r\nAny type of User will have a class that extends this abstract class and therefore must implement all its abstract methods, like this:\r\n\r\n    public class Driver extends User {\r\n        public void register() {\r\n            // do whatever a driver does when register...\r\n        }\r\n        public void update() {\r\n            // do whatever a driver does when update...\r\n        }\r\n        public void login() {\r\n            // do whatever a driver does when login...\r\n        }\r\n    }\r\n\r\n    public class Customer extends User {\r\n        public void register() {\r\n            // do whatever a customer does when register...\r\n        }\r\n        public void update() {\r\n            // do whatever a customer does when update...\r\n        }\r\n        public void login() {\r\n            // do whatever a customer does when login...\r\n        }\r\n    }\r\n\r\nThis way, you&#39;re avoiding any switch case code. For instance, you can have an array of `User`s, each one them will be instantiated using `new Driver()` or `new Customer()`. Then, for example, if you&#39;re iterating over this array and executing all the `User`s `login()` method, each user&#39;s login() will be called according to its specific type ==&gt; no switch-case needed, no casting needed!","title":"Replace switch-case with polymorphism","body":"<p>You'd want something like that:</p>\n\n<pre><code>public abstract class User {\n    abstract void register();\n    abstract void update();\n    abstract void login();\n\n    // maybe some more common non-abstract methods\n}\n</code></pre>\n\n<p>Any type of User will have a class that extends this abstract class and therefore must implement all its abstract methods, like this:</p>\n\n<pre><code>public class Driver extends User {\n    public void register() {\n        // do whatever a driver does when register...\n    }\n    public void update() {\n        // do whatever a driver does when update...\n    }\n    public void login() {\n        // do whatever a driver does when login...\n    }\n}\n\npublic class Customer extends User {\n    public void register() {\n        // do whatever a customer does when register...\n    }\n    public void update() {\n        // do whatever a customer does when update...\n    }\n    public void login() {\n        // do whatever a customer does when login...\n    }\n}\n</code></pre>\n\n<p>This way, you're avoiding any switch case code. For instance, you can have an array of <code>User</code>s, each one them will be instantiated using <code>new Driver()</code> or <code>new Customer()</code>. Then, for example, if you're iterating over this array and executing all the <code>User</code>s <code>login()</code> method, each user's login() will be called according to its specific type ==> no switch-case needed, no casting needed!</p>\n"},{"tags":[],"owner":{"account_id":6078955,"reputation":365,"user_id":4745335,"display_name":"kasopey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518862060,"creation_date":1518862060,"answer_id":48840155,"question_id":48839793,"body_markdown":"Very simple example (only for different login logic for DriverDto and CustomerDto) - I&#39;ve resigned from field typeOfUser (because it is not necessary in my solution) - I&#39;m not sure that this is possible in your solution:\r\n\r\n    public abstract class UserDto {\r\n        // put some generic data &amp; methods here\r\n    }\r\n\r\n    public class CustomerDto extends UserDto {\r\n\r\n        private String customerName;\r\n\r\n        public String getCustomerName() {\r\n            return customerName;\r\n        }\r\n\r\n        public void setCustomerName(String customerName) {\r\n            this.customerName = customerName;\r\n        }\r\n    }\r\n\r\n    public class DriverDto extends UserDto {\r\n\r\n        private String driverName;\r\n\r\n        public String getDriverName() {\r\n            return driverName;\r\n        }\r\n\r\n        public void setDriverName(String driverName) {\r\n            this.driverName = driverName;\r\n        }\r\n    }\r\n\r\n    public class ThisIsServiceOrDelegateToOtherServices {\r\n\r\n        public void login(CustomerDto customer) {\r\n            String name = customer.getCustomerName();\r\n            System.out.println(name);\r\n            // work on name here\r\n        }\r\n\r\n        public void login(DriverDto customer) {\r\n            String name = customer.getDriverName();\r\n            System.out.println(name);\r\n            // work on name here\r\n        }\r\n\r\n    }\r\n\r\nUsage:\r\n\r\n    public static void main(String... args) {\r\n        //demo data\r\n        CustomerDto customer = new CustomerDto();\r\n        customer.setCustomerName(&quot;customerName&quot;);\r\n        DriverDto driver = new DriverDto();\r\n        driver.setDriverName(&quot;driverName&quot;);\r\n        // usage\r\n        ThisIsServiceOrDelegateToOtherServices service = new ThisIsServiceOrDelegateToOtherServices();\r\n        service.login(customer);\r\n        service.login(driver);\r\n    }\r\n","title":"Replace switch-case with polymorphism","body":"<p>Very simple example (only for different login logic for DriverDto and CustomerDto) - I've resigned from field typeOfUser (because it is not necessary in my solution) - I'm not sure that this is possible in your solution:</p>\n\n<pre><code>public abstract class UserDto {\n    // put some generic data &amp; methods here\n}\n\npublic class CustomerDto extends UserDto {\n\n    private String customerName;\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n}\n\npublic class DriverDto extends UserDto {\n\n    private String driverName;\n\n    public String getDriverName() {\n        return driverName;\n    }\n\n    public void setDriverName(String driverName) {\n        this.driverName = driverName;\n    }\n}\n\npublic class ThisIsServiceOrDelegateToOtherServices {\n\n    public void login(CustomerDto customer) {\n        String name = customer.getCustomerName();\n        System.out.println(name);\n        // work on name here\n    }\n\n    public void login(DriverDto customer) {\n        String name = customer.getDriverName();\n        System.out.println(name);\n        // work on name here\n    }\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(String... args) {\n    //demo data\n    CustomerDto customer = new CustomerDto();\n    customer.setCustomerName(\"customerName\");\n    DriverDto driver = new DriverDto();\n    driver.setDriverName(\"driverName\");\n    // usage\n    ThisIsServiceOrDelegateToOtherServices service = new ThisIsServiceOrDelegateToOtherServices();\n    service.login(customer);\n    service.login(driver);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7568151,"reputation":11,"user_id":5742926,"display_name":"Christoph J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518866974,"creation_date":1518866974,"answer_id":48840783,"question_id":48839793,"body_markdown":"If you really need that `TypeOfUser`-enum in your UserDTO, then you could extend your enum with a serivce. So you create a TypeOfUserService interface. CustomerSerivce and DriverService will inherit from that service:\r\n\r\n        public interface TypeOfUserService {\r\n\t       public void register(UserDTO user);\r\n           // ...\r\n        }\r\n\r\n        public class CustomerService implements TypeOfUserService {\r\n\t       @Override\r\n\t       public void register(UserDTO user) {\r\n\t\t     // ...\r\n\t       }\r\n        }\r\n\r\n        public class DriverService implements TypeOfUserService {\r\n\t       @Override\r\n\t       public void register(UserDTO user) {\r\n\t\t     // ...\r\n\t       }\r\n        }\r\n\r\nThen you create your register, update, etc. methods in your TypeOfUser enum:\r\n\r\n    public enum TypeOfUser {\r\n\r\n\t  DRIVER(new DriverService()), \r\n\t  CUSTOMER(new CustomerService());\r\n\t\r\n\t  private TypeOfUserService typeOfUserService;\r\n\t\r\n      TypeOfUser(TypeOfUserService typeOfUserService) {\r\n\t    this.typeOfUserService = typeOfUserService;\r\n\t  }\r\n\t\r\n\t  public static void register(String typeOfUser, UserDTO user) {\r\n\t\t TypeOfUser.valueOf(typeOfUser).typeOfUserService.register(user);\r\n\t  } \r\n      // ...\r\n\t\r\n     }\r\n\r\nYou could then call the register method via:\r\n\r\n        class UserController() {\r\n\t      public UserDto register(UserDto user) { \r\n\t\t    TypeOfUser.register(user.getTypeOfUser, user);\r\n\t      }\r\n        }\r\n","title":"Replace switch-case with polymorphism","body":"<p>If you really need that <code>TypeOfUser</code>-enum in your UserDTO, then you could extend your enum with a serivce. So you create a TypeOfUserService interface. CustomerSerivce and DriverService will inherit from that service:</p>\n\n<pre><code>    public interface TypeOfUserService {\n       public void register(UserDTO user);\n       // ...\n    }\n\n    public class CustomerService implements TypeOfUserService {\n       @Override\n       public void register(UserDTO user) {\n         // ...\n       }\n    }\n\n    public class DriverService implements TypeOfUserService {\n       @Override\n       public void register(UserDTO user) {\n         // ...\n       }\n    }\n</code></pre>\n\n<p>Then you create your register, update, etc. methods in your TypeOfUser enum:</p>\n\n<pre><code>public enum TypeOfUser {\n\n  DRIVER(new DriverService()), \n  CUSTOMER(new CustomerService());\n\n  private TypeOfUserService typeOfUserService;\n\n  TypeOfUser(TypeOfUserService typeOfUserService) {\n    this.typeOfUserService = typeOfUserService;\n  }\n\n  public static void register(String typeOfUser, UserDTO user) {\n     TypeOfUser.valueOf(typeOfUser).typeOfUserService.register(user);\n  } \n  // ...\n\n }\n</code></pre>\n\n<p>You could then call the register method via:</p>\n\n<pre><code>    class UserController() {\n      public UserDto register(UserDto user) { \n        TypeOfUser.register(user.getTypeOfUser, user);\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1643978482,"creation_date":1518964346,"answer_id":48852774,"question_id":48839793,"body_markdown":"&gt; I&#39;d like to replace that with some better design.\r\n\r\nThe first step towards replacing the `switch` statement and take advantage of *Polymorphism* instead is to ensure that there is a single contract (read method signature) for each of the operations regardless of the user type. The following steps will explain how to achieve this :\r\n\r\n**Step 1 : Define a common interface for performing all operations**\r\n\r\n    interface UserService {\r\n        public UserDto register(UserDto user);\r\n        public UserDto update(UserDto user);\r\n        public UserDto login(UserDto user)\r\n    }\r\n\r\n**Step 2 : Make UserController take a UserService as a dependency**\r\n\r\n    public class UserController {\r\n         \r\n        private UserService userService;\r\n        \r\n        public UserController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n        \r\n        public UserDto register(UserDto user) {\r\n           userService.register(user);\r\n        } \r\n    \r\n        public UserDto update(UserDto user) {\r\n            userService.update(user);\r\n            \r\n        }\r\n    \r\n        public UserDto login(long userId) {\r\n            userService.login(user);\r\n        }\r\n          \r\n    }\r\n\r\n**Step 3 : Create subclasses to handle different types of users that take CustomerDto and CustomerBO as a dependency**\r\n\r\n    class CustomerService implements UserService {\r\n        private CustomerDto userDto;\r\n        private CustomerBO userBO;\r\n        \r\n        public CustomerService(UserDto userDto,UserBO userBo) {\r\n              this.userDto = (CustomerDto)userDto;\r\n              this.userBO= (CustomerBO)userBo;\r\n        }\r\n\r\n        //implement register,login and update methods to operate on userDto and userBo\r\n    }\r\n\r\nImplement the `DriverService` class in a similar fashion with a dependency on `DriverBo` and `DriverDto` objects respectively.\r\n\r\n**Step 4 : Implement a runtime factory that decides which service to pass to UserController** :\r\n\r\n    public UserControllerFactory {\r\n        public static void createUserController(UserDto user) {\r\n           if(user.getTypeOfUser().equals(CUSTOMER)) { \r\n               return new UserController(new CustomerService(user));\r\n           } else if(user.getTypeOfUser().equals(DRIVER)) {\r\n               return new UserController(new DriverService(user));\r\n           }\r\n        }\r\n     \r\n    }\r\n\r\n**Step 5 Call the factory to create a user controller**\r\n    \r\n    UserDto user = someMethodThatCreatesUserDto(();\r\n    UserController controller = UserControllerFactory.createUserController(user);\r\n    controller.register();\r\n    controller.update();\r\n    controller.login();\r\n\r\nThe advantage of the above approach is that the switch/if-else statements are moved all they way back to a single class i.e the factory.\r\n\r\n\r\n\r\n","title":"Replace switch-case with polymorphism","body":"<blockquote>\n<p>I'd like to replace that with some better design.</p>\n</blockquote>\n<p>The first step towards replacing the <code>switch</code> statement and take advantage of <em>Polymorphism</em> instead is to ensure that there is a single contract (read method signature) for each of the operations regardless of the user type. The following steps will explain how to achieve this :</p>\n<p><strong>Step 1 : Define a common interface for performing all operations</strong></p>\n<pre><code>interface UserService {\n    public UserDto register(UserDto user);\n    public UserDto update(UserDto user);\n    public UserDto login(UserDto user)\n}\n</code></pre>\n<p><strong>Step 2 : Make UserController take a UserService as a dependency</strong></p>\n<pre><code>public class UserController {\n     \n    private UserService userService;\n    \n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n    \n    public UserDto register(UserDto user) {\n       userService.register(user);\n    } \n\n    public UserDto update(UserDto user) {\n        userService.update(user);\n        \n    }\n\n    public UserDto login(long userId) {\n        userService.login(user);\n    }\n      \n}\n</code></pre>\n<p><strong>Step 3 : Create subclasses to handle different types of users that take CustomerDto and CustomerBO as a dependency</strong></p>\n<pre><code>class CustomerService implements UserService {\n    private CustomerDto userDto;\n    private CustomerBO userBO;\n    \n    public CustomerService(UserDto userDto,UserBO userBo) {\n          this.userDto = (CustomerDto)userDto;\n          this.userBO= (CustomerBO)userBo;\n    }\n\n    //implement register,login and update methods to operate on userDto and userBo\n}\n</code></pre>\n<p>Implement the <code>DriverService</code> class in a similar fashion with a dependency on <code>DriverBo</code> and <code>DriverDto</code> objects respectively.</p>\n<p><strong>Step 4 : Implement a runtime factory that decides which service to pass to UserController</strong> :</p>\n<pre><code>public UserControllerFactory {\n    public static void createUserController(UserDto user) {\n       if(user.getTypeOfUser().equals(CUSTOMER)) { \n           return new UserController(new CustomerService(user));\n       } else if(user.getTypeOfUser().equals(DRIVER)) {\n           return new UserController(new DriverService(user));\n       }\n    }\n \n}\n</code></pre>\n<p><strong>Step 5 Call the factory to create a user controller</strong></p>\n<pre><code>UserDto user = someMethodThatCreatesUserDto(();\nUserController controller = UserControllerFactory.createUserController(user);\ncontroller.register();\ncontroller.update();\ncontroller.login();\n</code></pre>\n<p>The advantage of the above approach is that the switch/if-else statements are moved all they way back to a single class i.e the factory.</p>\n"}],"owner":{"account_id":9991146,"reputation":2615,"user_id":7390408,"accept_rate":41,"display_name":"wesleyy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21440,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1643978482,"creation_date":1518859450,"question_id":48839793,"body_markdown":"I know there are similar questions already, but looking at them I still have some doubts about how I should design my code. I have a service that allows for `User` *registration / login /update / delete*. The thing is that the `User` is an abstract type, which contains the data `typeOfUser` based on which the actual *registration / update / delete* methods should be called, and right now I do that in a `switch-case` block. I&#39;d like to replace that with some better design.\r\n\r\n**UserController.java**\r\n\r\n    public class UserController {\r\n    \r\n        public UserDto register(UserDto user) {\r\n            switch(user.getTypeOfUser()) {\r\n            case DRIVER: return driverService.register(user);\r\n            case CUSTOMER: return customerService.register(user);\r\n            // ...\r\n            }\r\n        } \r\n    \r\n        public UserDto update(UserDto user) {\r\n            switch(user.getTypeOfUser) {\r\n            case DRIVER: return driverService.update((DriverDto) user);\r\n            case CUSTOMER: return customerService.update((CustomerDto) user);\r\n            // ...\r\n            }\r\n        }\r\n\r\n        public UserDto login(long userId) {\r\n            loginService.login(userId);\r\n\r\n            UserBO user = userService.readById(userId);\r\n\r\n            switch(user.getTypeOfUser) {\r\n            case DRIVER: return DriverDto.fromBO((DriverBO) user);\r\n            case CUSTOMER: return CustomerDto.fromBO((CustomerBO) user);\r\n            // ...\r\n            }\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nI understand that something like `Visitor` pattern could be used, but would I really need to add the methods of *registration / login /update / delete* in the `Enum` itself? I don&#39;t really have a clear idea on how to do that, any help is appreciated.","title":"Replace switch-case with polymorphism","body":"<p>I know there are similar questions already, but looking at them I still have some doubts about how I should design my code. I have a service that allows for <code>User</code> <em>registration / login /update / delete</em>. The thing is that the <code>User</code> is an abstract type, which contains the data <code>typeOfUser</code> based on which the actual <em>registration / update / delete</em> methods should be called, and right now I do that in a <code>switch-case</code> block. I'd like to replace that with some better design.</p>\n\n<p><strong>UserController.java</strong></p>\n\n<pre><code>public class UserController {\n\n    public UserDto register(UserDto user) {\n        switch(user.getTypeOfUser()) {\n        case DRIVER: return driverService.register(user);\n        case CUSTOMER: return customerService.register(user);\n        // ...\n        }\n    } \n\n    public UserDto update(UserDto user) {\n        switch(user.getTypeOfUser) {\n        case DRIVER: return driverService.update((DriverDto) user);\n        case CUSTOMER: return customerService.update((CustomerDto) user);\n        // ...\n        }\n    }\n\n    public UserDto login(long userId) {\n        loginService.login(userId);\n\n        UserBO user = userService.readById(userId);\n\n        switch(user.getTypeOfUser) {\n        case DRIVER: return DriverDto.fromBO((DriverBO) user);\n        case CUSTOMER: return CustomerDto.fromBO((CustomerBO) user);\n        // ...\n        }\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>I understand that something like <code>Visitor</code> pattern could be used, but would I really need to add the methods of <em>registration / login /update / delete</em> in the <code>Enum</code> itself? I don't really have a clear idea on how to do that, any help is appreciated.</p>\n"},{"tags":["java","android","android-recyclerview","picasso","android-context"],"answers":[{"tags":[],"owner":{"account_id":3987871,"reputation":2120,"user_id":3287889,"accept_rate":70,"display_name":"Karan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440149480,"creation_date":1440149480,"answer_id":32137020,"question_id":32136973,"body_markdown":"Create a constructor of FeedAdapter :\r\n\r\n\r\n    Context context; //global\r\n    public FeedAdapter(Context context)\r\n    {\r\n       this.context = context;  \r\n    }\r\n\r\nand in Activity \r\n\r\n    FeedAdapter obj = new FeedAdapter(this);","title":"How to get a context in a recycler view adapter","body":"<p>Create a constructor of FeedAdapter :</p>\n\n<pre><code>Context context; //global\npublic FeedAdapter(Context context)\n{\n   this.context = context;  \n}\n</code></pre>\n\n<p>and in Activity </p>\n\n<pre><code>FeedAdapter obj = new FeedAdapter(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4608437,"reputation":2168,"user_id":3737266,"accept_rate":75,"display_name":"Blue_Alien"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440149915,"creation_date":1440149601,"answer_id":32137050,"question_id":32136973,"body_markdown":"First globally declare \r\n\r\n**`Context mContext;`** \r\n\r\npass context with the constructor, by modifying it.\r\n\r\n    public FeedAdapter(List&lt;Post&gt; myDataset, Context context) {\r\n        mDataset = myDataset;\r\n        this.mContext = context;\r\n    }\r\n\r\nthen use the `mContext` whereever you need it\r\n\r\n\r\n","title":"How to get a context in a recycler view adapter","body":"<p>First globally declare </p>\n\n<p><strong><code>Context mContext;</code></strong> </p>\n\n<p>pass context with the constructor, by modifying it.</p>\n\n<pre><code>public FeedAdapter(List&lt;Post&gt; myDataset, Context context) {\n    mDataset = myDataset;\n    this.mContext = context;\n}\n</code></pre>\n\n<p>then use the <code>mContext</code> whereever you need it</p>\n"},{"tags":[],"owner":{"account_id":1003876,"reputation":9882,"user_id":1018109,"display_name":"pelotasplus"},"down_vote_count":2,"up_vote_count":407,"is_accepted":true,"score":405,"last_activity_date":1471522149,"creation_date":1440149713,"answer_id":32137097,"question_id":32136973,"body_markdown":"You have a few options here:\r\n\r\n 1. Pass `Context` as an argument to FeedAdapter and keep it as class field\r\n 2. Use dependency injection to inject `Context` when you need it.  I strongly suggest reading about it.  There is a great tool for that -- [Dagger][1] by Square\r\n 3. Get it from any `View` object. In your case this might work for you:\r\n\r\n    `holder.pub_image.getContext()`\r\n    \r\n    As `pub_image` is a `ImageView`.\r\n\r\n\r\n  [1]: https://github.com/square/Dagger","title":"How to get a context in a recycler view adapter","body":"<p>You have a few options here:</p>\n\n<ol>\n<li>Pass <code>Context</code> as an argument to FeedAdapter and keep it as class field</li>\n<li>Use dependency injection to inject <code>Context</code> when you need it.  I strongly suggest reading about it.  There is a great tool for that -- <a href=\"https://github.com/square/Dagger\">Dagger</a> by Square</li>\n<li><p>Get it from any <code>View</code> object. In your case this might work for you:</p>\n\n<p><code>holder.pub_image.getContext()</code></p>\n\n<p>As <code>pub_image</code> is a <code>ImageView</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5216620,"reputation":176,"user_id":4171365,"accept_rate":50,"display_name":"AKT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440150038,"creation_date":1440150038,"answer_id":32137208,"question_id":32136973,"body_markdown":"First add a global variable\r\n\r\n    Context mContext;\r\n\r\nThen change your constructor to this\r\n\r\n    public FeedAdapter(Context context, List&lt;Post&gt; myDataset) {\r\n        mContext = context;\r\n        mDataset = myDataset;\r\n    }\r\n\r\nThe pass your context when creating the adapter.\r\n\r\n    FeedAdapter myAdapter = new FeedAdapter(this,myDataset);\r\n\r\n","title":"How to get a context in a recycler view adapter","body":"<p>First add a global variable</p>\n\n<pre><code>Context mContext;\n</code></pre>\n\n<p>Then change your constructor to this</p>\n\n<pre><code>public FeedAdapter(Context context, List&lt;Post&gt; myDataset) {\n    mContext = context;\n    mDataset = myDataset;\n}\n</code></pre>\n\n<p>The pass your context when creating the adapter.</p>\n\n<pre><code>FeedAdapter myAdapter = new FeedAdapter(this,myDataset);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4856208,"reputation":1091,"user_id":3917083,"accept_rate":50,"display_name":"Farhad Navayazdan"},"down_vote_count":3,"up_vote_count":50,"is_accepted":false,"score":47,"last_activity_date":1639040713,"creation_date":1453196643,"answer_id":34873343,"question_id":32136973,"body_markdown":"**Edit**\r\nAs [solidak][1] said in [the comments section][2], the original answer could lead to memory leak issues, and it&#39;s a bad practice to use this method, so it&#39;s better to use another method to access the context.\r\n \r\n\r\n**Original answer:**\r\n\r\nYou can add a global variable:\r\n\r\n    private Context context;\r\n\r\nthen assign the context from here:\r\n\r\n\r\n      \r\n    \r\n    @Override\r\n    public FeedAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\r\n        // create a new view\r\n        View v=LayoutInflater.from(parent.getContext()).inflate(R.layout.feedholder, parent, false);\r\n        // set the view&#39;s size, margins, paddings and layout parameters\r\n        ViewHolder vh = new ViewHolder(v);\r\n        // set the Context here \r\n        context = parent.getContext();\r\n        return vh;\r\n    }\r\n\r\nHappy Codding :) \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3870025/solidak\r\n  [2]: https://stackoverflow.com/questions/32136973/how-to-get-a-context-in-a-recycler-view-adapter#comment71900893_34873343","title":"How to get a context in a recycler view adapter","body":"<p><strong>Edit</strong>\nAs <a href=\"https://stackoverflow.com/users/3870025/solidak\">solidak</a> said in <a href=\"https://stackoverflow.com/questions/32136973/how-to-get-a-context-in-a-recycler-view-adapter#comment71900893_34873343\">the comments section</a>, the original answer could lead to memory leak issues, and it's a bad practice to use this method, so it's better to use another method to access the context.</p>\n<p><strong>Original answer:</strong></p>\n<p>You can add a global variable:</p>\n<pre><code>private Context context;\n</code></pre>\n<p>then assign the context from here:</p>\n<pre><code>@Override\npublic FeedAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\n    // create a new view\n    View v=LayoutInflater.from(parent.getContext()).inflate(R.layout.feedholder, parent, false);\n    // set the view's size, margins, paddings and layout parameters\n    ViewHolder vh = new ViewHolder(v);\n    // set the Context here \n    context = parent.getContext();\n    return vh;\n}\n</code></pre>\n<p>Happy Codding :)</p>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1460817687,"creation_date":1460817687,"answer_id":36665535,"question_id":32136973,"body_markdown":"You can use pub_image context (`holder.pub_image.getContext()`) :\r\n\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder ViewHolder, int position) {\r\n\r\n        holder.txtHeader.setText(mDataset.get(position).getPost_text());\r\n\r\n        Picasso.with(holder.pub_image.getContext()).load(&quot;http://i.imgur.com/DvpvklR.png&quot;).into(holder.pub_image);\r\n\r\n\r\n    }","title":"How to get a context in a recycler view adapter","body":"<p>You can use pub_image context (<code>holder.pub_image.getContext()</code>) :</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(ViewHolder ViewHolder, int position) {\n\n    holder.txtHeader.setText(mDataset.get(position).getPost_text());\n\n    Picasso.with(holder.pub_image.getContext()).load(\"http://i.imgur.com/DvpvklR.png\").into(holder.pub_image);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1468407782,"creation_date":1468407782,"answer_id":38349842,"question_id":32136973,"body_markdown":"You can use like this **view.getContext()**\r\n\r\n**Example**\r\n\r\n    holder.tv_room_name.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Toast.makeText(v.getContext(), &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        });\r\n","title":"How to get a context in a recycler view adapter","body":"<p>You can use like this <strong>view.getContext()</strong></p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>holder.tv_room_name.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Toast.makeText(v.getContext(), \"\", Toast.LENGTH_SHORT).show();\n\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10827217,"reputation":121,"user_id":7962780,"display_name":""},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1493923348,"creation_date":1493916194,"answer_id":43788551,"question_id":32136973,"body_markdown":"you can use this:\r\n\r\n    itemView.getContext()\r\n","title":"How to get a context in a recycler view adapter","body":"<p>you can use this:</p>\n\n<pre><code>itemView.getContext()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4813796,"reputation":3248,"user_id":3886459,"display_name":"Maciej Beimcik"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1517997651,"creation_date":1517997651,"answer_id":48660869,"question_id":32136973,"body_markdown":"Short answer:\r\n\r\n    Context context;\r\n    \r\n    @Override\r\n    public void onAttachedToRecyclerView(RecyclerView recyclerView) {\r\n        super.onAttachedToRecyclerView(recyclerView);\r\n        context = recyclerView.getContext();\r\n    }\r\n\r\n\r\n\r\nExplanation why other answers are not great:\r\n\r\n1. Passing `Context` to the adapter is completely unnecessary, since `RecyclerView` you can access it from inside the class\r\n2. Obtaining `Context` at `ViewHolder` level means that you do it every time you bind or create a `ViewHolder`. You duplicate operations.\r\n3. I don&#39;t think you need to worry about any memory leak. If your adapter lingers outside your `Activity` lifespan (which would be weird) then you already have a leak.","title":"How to get a context in a recycler view adapter","body":"<p>Short answer:</p>\n\n<pre><code>Context context;\n\n@Override\npublic void onAttachedToRecyclerView(RecyclerView recyclerView) {\n    super.onAttachedToRecyclerView(recyclerView);\n    context = recyclerView.getContext();\n}\n</code></pre>\n\n<p>Explanation why other answers are not great:</p>\n\n<ol>\n<li>Passing <code>Context</code> to the adapter is completely unnecessary, since <code>RecyclerView</code> you can access it from inside the class</li>\n<li>Obtaining <code>Context</code> at <code>ViewHolder</code> level means that you do it every time you bind or create a <code>ViewHolder</code>. You duplicate operations.</li>\n<li>I don't think you need to worry about any memory leak. If your adapter lingers outside your <code>Activity</code> lifespan (which would be weird) then you already have a leak.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14984779,"reputation":61,"user_id":10817676,"display_name":"Marcos vitouley"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1545342615,"creation_date":1545340508,"answer_id":53876151,"question_id":32136973,"body_markdown":"You can define:\r\n\r\n    Context ctx; \r\n\r\nAnd on `onCreate` initialise `ctx` to: \r\n\r\n    ctx=parent.getContext(); \r\n\r\nNote: Parent is a ViewGroup.","title":"How to get a context in a recycler view adapter","body":"<p>You can define:</p>\n\n<pre><code>Context ctx; \n</code></pre>\n\n<p>And on <code>onCreate</code> initialise <code>ctx</code> to: </p>\n\n<pre><code>ctx=parent.getContext(); \n</code></pre>\n\n<p>Note: Parent is a ViewGroup.</p>\n"},{"tags":[],"owner":{"account_id":11842155,"reputation":51,"user_id":8665703,"display_name":"Rohit Daftari"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1585499249,"creation_date":1585491251,"answer_id":60915457,"question_id":32136973,"body_markdown":"    View mView;\r\n    mView.getContext();","title":"How to get a context in a recycler view adapter","body":"<pre><code>View mView;\nmView.getContext();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2455490,"reputation":11,"user_id":11550514,"display_name":"Charles Soares"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604707310,"creation_date":1604697261,"answer_id":64721667,"question_id":32136973,"body_markdown":"If you are using Databinding on layout you can get the `context` from `holder`. An exemple below.\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull GenericViewHolder holder, int position) {\r\n        View currentView = holder.binding.getRoot().findViewById(R.id.cycle_count_manage_location_line_layout);// id of your root layout\r\n        currentView.setBackgroundColor(ContextCompat.getColor(holder.binding.getRoot().getContext(), R.color.light_green));\r\n    }","title":"How to get a context in a recycler view adapter","body":"<p>If you are using Databinding on layout you can get the <code>context</code> from <code>holder</code>. An exemple below.</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull GenericViewHolder holder, int position) {\n    View currentView = holder.binding.getRoot().findViewById(R.id.cycle_count_manage_location_line_layout);// id of your root layout\n    currentView.setBackgroundColor(ContextCompat.getColor(holder.binding.getRoot().getContext(), R.color.light_green));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5445664,"reputation":4925,"user_id":4332316,"accept_rate":20,"display_name":"Ali Akram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643978315,"creation_date":1643978315,"answer_id":70986523,"question_id":32136973,"body_markdown":"**SOLUTION:**\r\n\r\nWhen using viewbinding use \r\n\r\n    holder.binding.productImg.context\r\n\r\nOtherwise use\r\n\r\n    holder.productImg.context\r\n\r\nChill Pill :)","title":"How to get a context in a recycler view adapter","body":"<p><strong>SOLUTION:</strong></p>\n<p>When using viewbinding use</p>\n<pre><code>holder.binding.productImg.context\n</code></pre>\n<p>Otherwise use</p>\n<pre><code>holder.productImg.context\n</code></pre>\n<p>Chill Pill :)</p>\n"}],"owner":{"account_id":3385701,"reputation":9064,"user_id":2841703,"accept_rate":31,"display_name":"Stranger B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166712,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"accepted_answer_id":32137097,"answer_count":13,"score":208,"last_activity_date":1643978315,"creation_date":1440149372,"question_id":32136973,"body_markdown":"I&#39;m trying to use picasso library to be able to load url to imageView, but I&#39;m not able to get the `context` to use the picasso library correctly.\r\n\r\n    public class FeedAdapter extends RecyclerView.Adapter&lt;FeedAdapter.ViewHolder&gt; {\r\n        private List&lt;Post&gt; mDataset;\r\n      \r\n    \r\n    \r\n        // Provide a reference to the views for each data item\r\n        // Complex data items may need more than one view per item, and\r\n        // you provide access to all the views for a data item in a view holder\r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            // each data item is just a string in this case\r\n            public TextView txtHeader;\r\n            public ImageView pub_image;\r\n            public ViewHolder(View v) {\r\n                super(v);\r\n                txtHeader = (TextView) v.findViewById(R.id.firstline);\r\n                pub_image = (ImageView) v.findViewById(R.id.imageView);\r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        // Provide a suitable constructor (depends on the kind of dataset)\r\n        public FeedAdapter(List&lt;Post&gt; myDataset) {\r\n            mDataset = myDataset;\r\n        }\r\n    \r\n        // Create new views (invoked by the layout manager)\r\n        @Override\r\n        public FeedAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,\r\n                                                       int viewType) {\r\n            // create a new view\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.feedholder, parent, false);\r\n            // set the view&#39;s size, margins, paddings and layout parameters\r\n            ViewHolder vh = new ViewHolder(v);\r\n            return vh;\r\n        }\r\n    \r\n        // Replace the contents of a view (invoked by the layout manager)\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            // - get element from your dataset at this position\r\n            // - replace the contents of the view with that element\r\n    \r\n            holder.txtHeader.setText(mDataset.get(position).getPost_text());\r\n    \r\n            Picasso.with(this.context).load(&quot;http://i.imgur.com/DvpvklR.png&quot;).into(holder.pub_image);\r\n    \r\n    \r\n        }\r\n    \r\n        // Return the size of your dataset (invoked by the layout manager)\r\n        @Override\r\n        public int getItemCount() {\r\n            return mDataset.size();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to get a context in a recycler view adapter","body":"<p>I'm trying to use picasso library to be able to load url to imageView, but I'm not able to get the <code>context</code> to use the picasso library correctly.</p>\n\n<pre><code>public class FeedAdapter extends RecyclerView.Adapter&lt;FeedAdapter.ViewHolder&gt; {\n    private List&lt;Post&gt; mDataset;\n\n\n\n    // Provide a reference to the views for each data item\n    // Complex data items may need more than one view per item, and\n    // you provide access to all the views for a data item in a view holder\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // each data item is just a string in this case\n        public TextView txtHeader;\n        public ImageView pub_image;\n        public ViewHolder(View v) {\n            super(v);\n            txtHeader = (TextView) v.findViewById(R.id.firstline);\n            pub_image = (ImageView) v.findViewById(R.id.imageView);\n\n\n        }\n    }\n\n\n\n\n    // Provide a suitable constructor (depends on the kind of dataset)\n    public FeedAdapter(List&lt;Post&gt; myDataset) {\n        mDataset = myDataset;\n    }\n\n    // Create new views (invoked by the layout manager)\n    @Override\n    public FeedAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,\n                                                   int viewType) {\n        // create a new view\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.feedholder, parent, false);\n        // set the view's size, margins, paddings and layout parameters\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        // - get element from your dataset at this position\n        // - replace the contents of the view with that element\n\n        holder.txtHeader.setText(mDataset.get(position).getPost_text());\n\n        Picasso.with(this.context).load(\"http://i.imgur.com/DvpvklR.png\").into(holder.pub_image);\n\n\n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        return mDataset.size();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","mockito","junit5"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1643978384,"post_id":70986522,"comment_id":125488686,"body_markdown":"The database should only be necessary for integration testing, not unit testing.","body":"The database should only be necessary for integration testing, not unit testing."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643978837,"post_id":70986522,"comment_id":125488838,"body_markdown":"Yes. How do you create the tables in the Oracle DB?","body":"Yes. How do you create the tables in the Oracle DB?"},{"owner":{"account_id":10280440,"reputation":29,"user_id":7585812,"display_name":"k.jones"},"score":0,"creation_date":1643979178,"post_id":70986522,"comment_id":125488956,"body_markdown":"Thank you for your quick reply. So annotations like @DataJPATest should be used only for Integration tests then. Thanks.","body":"Thank you for your quick reply. So annotations like @DataJPATest should be used only for Integration tests then. Thanks."},{"owner":{"account_id":10280440,"reputation":29,"user_id":7585812,"display_name":"k.jones"},"score":0,"creation_date":1643979292,"post_id":70986522,"comment_id":125488993,"body_markdown":"Sorry @Simon Martinelli,a little confused here.Based on the previous answer,looks like the tables need to be created in h2 only for Integrtaion testing.Not otherwise.","body":"Sorry @Simon Martinelli,a little confused here.Based on the previous answer,looks like the tables need to be created in h2 only for Integrtaion testing.Not otherwise."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1643979794,"post_id":70986522,"comment_id":125489154,"body_markdown":"All this talk about unit testing or integration testing does not matter. If you have a database centric application then testing without the database makes only little sense.","body":"All this talk about unit testing or integration testing does not matter. If you have a database centric application then testing without the database makes only little sense."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1643980433,"post_id":70986522,"comment_id":125489388,"body_markdown":"I disagree @SimonMartinelli, why would I test that the database works as it should? The DB working is implied and expected as long as I feed it valid inputs. I can test my own code logic against mocks which is faster and easier to maintain.","body":"I disagree @SimonMartinelli, why would I test that the database works as it should? The DB working is implied and expected as long as I feed it valid inputs. I can test my own code logic against mocks which is faster and easier to maintain."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643980528,"post_id":70986522,"comment_id":125489427,"body_markdown":"@IgorFlakiewicz If you&#39;re only logic CRUD why should you mock the database? And what do you mean by &quot;works as it should&quot;? The logic with the database are the queries and you have to test if the queries work","body":"@IgorFlakiewicz If you&#39;re only logic CRUD why should you mock the database? And what do you mean by &quot;works as it should&quot;? The logic with the database are the queries and you have to test if the queries work"}],"owner":{"account_id":10280440,"reputation":29,"user_id":7585812,"display_name":"k.jones"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643978314,"creation_date":1643978314,"question_id":70986522,"body_markdown":"I have ,probably a basic question,related to unit testing a spring boot application that uses RestControllers,JPA repositories.Oracle is used in the backend.Now to unit test the JPA repositories using junit,mockito and probably DataJPA,do the tables that are present in the backend,need to be recreated in the H2 in-memory db?","title":"Unit testing Spring Boot Rest Controller with JPA Repositories","body":"<p>I have ,probably a basic question,related to unit testing a spring boot application that uses RestControllers,JPA repositories.Oracle is used in the backend.Now to unit test the JPA repositories using junit,mockito and probably DataJPA,do the tables that are present in the backend,need to be recreated in the H2 in-memory db?</p>\n"},{"tags":["java","xml","parsing","dom","sax"],"comments":[{"owner":{"account_id":7522695,"reputation":35,"user_id":5714026,"display_name":"Karthick"},"score":0,"creation_date":1458156031,"post_id":36044748,"comment_id":59738614,"body_markdown":"@PritamBanerjee - updated with the script which i tried","body":"@PritamBanerjee - updated with the script which i tried"},{"owner":{"account_id":44242,"reputation":3329,"user_id":129732,"accept_rate":100,"display_name":"vtd-xml-author"},"score":0,"creation_date":1458969979,"post_id":36044748,"comment_id":60094797,"body_markdown":"why all the negative votes, seems legit to me?","body":"why all the negative votes, seems legit to me?"}],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458156760,"creation_date":1458156760,"answer_id":36045305,"question_id":36044748,"body_markdown":"Try this : It should give you the text :\r\n\r\n    import java.io.File;\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.NodeList;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.Element;\r\n\r\n    public class ReadXML {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\ttry {\r\n\r\n\t\t\tFile fXmlFile = new File(&quot;Path to your xml&quot;);\r\n\t\t\tDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t\t\tDocument doc = dBuilder.parse(fXmlFile);\r\n\t\t\t\t\t\r\n\t\t\tdoc.getDocumentElement().normalize();\r\n\r\n\t\t\tSystem.out.println(&quot;Root element :&quot; + doc.getDocumentElement().getNodeName());\r\n\t\t\t\t\t\r\n\t\t\tNodeList nList = doc.getElementsByTagName(&quot;parent&quot;);\r\n\t\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;----------------------------&quot;);\r\n\r\n\t\t\tfor (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n\r\n\t\t\t\tNode nNode = nList.item(temp);\r\n\t\t\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;\\nCurrent Element :&quot; + nNode.getNodeName());\r\n\t\t\t\t\t\t\r\n\t\t\t\tif (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\r\n\t\t\t\t\tElement eElement = (Element) nNode;\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;Parent id : &quot; + eElement.getAttribute(&quot;id&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;Parent txt : &quot; + eElement.getAttribute(&quot;txt&quot;));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t    } catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t    }\r\n\t\t  }\r\n\r\n    }\r\n\r\n\r\n","title":"to find the attribute value of a tag when the specific text matches in the content","body":"<p>Try this : It should give you the text :</p>\n\n<pre><code>import java.io.File;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.NodeList;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.Element;\n\npublic class ReadXML {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    try {\n\n        File fXmlFile = new File(\"Path to your xml\");\n        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n        Document doc = dBuilder.parse(fXmlFile);\n\n        doc.getDocumentElement().normalize();\n\n        System.out.println(\"Root element :\" + doc.getDocumentElement().getNodeName());\n\n        NodeList nList = doc.getElementsByTagName(\"parent\");\n\n        System.out.println(\"----------------------------\");\n\n        for (int temp = 0; temp &lt; nList.getLength(); temp++) {\n\n            Node nNode = nList.item(temp);\n\n            System.out.println(\"\\nCurrent Element :\" + nNode.getNodeName());\n\n            if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n\n                Element eElement = (Element) nNode;\n\n                System.out.println(\"Parent id : \" + eElement.getAttribute(\"id\"));\n                System.out.println(\"Parent txt : \" + eElement.getAttribute(\"txt\"));\n            }\n        }\n        } catch (Exception e) {\n        e.printStackTrace();\n        }\n      }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7522695,"reputation":35,"user_id":5714026,"display_name":"Karthick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458295025,"creation_date":1458295025,"answer_id":36081285,"question_id":36044748,"body_markdown":"    try{\r\n    \t bw = new BufferedWriter(new FileWriter(outfilename));\r\n\t     br = new BufferedReader(new FileReader(infilename));\r\n\t     while((line=br.readLine())!=null){\r\n\t      if(line.indexOf(&quot;&lt;PGBLK&quot;)&gt;= 0){\r\n            Pattern pat = Pattern.compile(&quot;KEY=\\&quot;.*?\\&quot;&quot;);\r\n\t        Matcher mat = pat.matcher(line);\r\n\t        if(mat.find()){\r\n\t         int start=mat.start();\r\n             int end=mat.end();\r\n\t         output = line.substring(start+5,end-1);\r\n            }\r\n\t       }\r\n\t      Pattern pat1 = Pattern.compile(&quot;.*?Reference dimensions do not require inspection.*?&quot;);\r\n\t      Matcher mat1 = pat1.matcher(line);\r\n\t      if(mat1.find()){\r\n\t\t    bw.write(output);\r\n\t\t    bw.newLine();\r\n           }\r\n\t     } \r\n\t   }","title":"to find the attribute value of a tag when the specific text matches in the content","body":"<pre><code>try{\n     bw = new BufferedWriter(new FileWriter(outfilename));\n     br = new BufferedReader(new FileReader(infilename));\n     while((line=br.readLine())!=null){\n      if(line.indexOf(\"&lt;PGBLK\")&gt;= 0){\n        Pattern pat = Pattern.compile(\"KEY=\\\".*?\\\"\");\n        Matcher mat = pat.matcher(line);\n        if(mat.find()){\n         int start=mat.start();\n         int end=mat.end();\n         output = line.substring(start+5,end-1);\n        }\n       }\n      Pattern pat1 = Pattern.compile(\".*?Reference dimensions do not require inspection.*?\");\n      Matcher mat1 = pat1.matcher(line);\n      if(mat1.find()){\n        bw.write(output);\n        bw.newLine();\n       }\n     } \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44242,"reputation":3329,"user_id":129732,"accept_rate":100,"display_name":"vtd-xml-author"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458975758,"creation_date":1458972948,"answer_id":36232270,"question_id":36044748,"body_markdown":"Below is the code to do this in [VTD-XML][1]\r\n\r\n\r\n    import com.ximpleware.*;\r\n    \r\n    public class xpathSearch {\r\n    \r\n    \tpublic static void main(String s[])throws VTDException{\r\n    \t\tVTDGen vg = new VTDGen();\r\n    \t\tif (!vg.parseFile(&quot;d:\\\\xml\\\\input.txt&quot;, false))\r\n    \t\t\t\treturn;\r\n    \t\tVTDNav vn = vg.getNav();\r\n    \t\tAutoPilot ap = new AutoPilot(vn);\r\n    \t\tap.selectXPath(&quot;/base/parent/*/data[contains(.,&#39;hey&#39;)]/../../@id&quot;);\r\n    \t\tint i;\r\n    \t\twhile ((i=ap.evalXPath())!=-1)\r\n    \t\t\tSystem.out.println(&quot;attr id has the value of  &quot;+vn.toString(i+1));\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://vtd-xml.sf.net","title":"to find the attribute value of a tag when the specific text matches in the content","body":"<p>Below is the code to do this in <a href=\"http://vtd-xml.sf.net\" rel=\"nofollow\">VTD-XML</a></p>\n\n<pre><code>import com.ximpleware.*;\n\npublic class xpathSearch {\n\n    public static void main(String s[])throws VTDException{\n        VTDGen vg = new VTDGen();\n        if (!vg.parseFile(\"d:\\\\xml\\\\input.txt\", false))\n                return;\n        VTDNav vn = vg.getNav();\n        AutoPilot ap = new AutoPilot(vn);\n        ap.selectXPath(\"/base/parent/*/data[contains(.,'hey')]/../../@id\");\n        int i;\n        while ((i=ap.evalXPath())!=-1)\n            System.out.println(\"attr id has the value of  \"+vn.toString(i+1));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7522695,"reputation":35,"user_id":5714026,"display_name":"Karthick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":3,"score":-4,"last_activity_date":1643978230,"creation_date":1458154937,"question_id":36044748,"body_markdown":"i want to get the value of id , if the child of the tag contains specific text.\r\n\r\nInput :\r\n\r\n    &lt;base&gt;\r\n      &lt;parent id=&quot;101&quot; txt=&quot;hello&quot;&gt;\r\n        &lt;child1&gt;\r\n           &lt;data&gt; search &lt;/data&gt;\r\n        &lt;/child1&gt;\r\n         &lt;child2&gt;\r\n           &lt;data&gt; send&lt;/data&gt;\r\n        &lt;/child2&gt;\r\n      &lt;/parent&gt;\r\n      &lt;parent id=&quot;102&quot; txt=&quot;hello&quot;&gt;\r\n        &lt;child1&gt;\r\n           &lt;data&gt; hai &lt;/data&gt;\r\n        &lt;/child1&gt;\r\n         &lt;child2&gt;\r\n           &lt;data&gt; hey &lt;/data&gt;\r\n        &lt;/child2&gt;\r\n      &lt;/parent&gt;\r\n    &lt;/base&gt;\r\n\r\nOutput:\r\n\r\ni&#39;m searching for &quot;hey&quot; text in the entire file , so it should return\r\n    id=&quot;102&quot;\r\n\r\nCode Snippet which i tried\r\n\r\n    if(line.indexOf(&quot;&lt;Parent&quot;)&gt;= 0)\r\n\t{\r\n\t String output=&quot;&quot;;\r\n\t Pattern pat = Pattern.compile(&quot;id=\\&quot;.*?\\&quot;&quot;);\r\n\t Matcher mat = pat.matcher(line);\r\n\t if(mat.find())\r\n\t\t{\r\n\t\t int start=mat.start();\r\n\t\t int end=mat.end();\r\n\t\t output = line.substring(start+4,end-1);\r\n\t\t}\r\n\r\n\t\tPattern pat1 = Pattern.compile(&quot;&lt;parent&quot;[A-Z](?i)[^.?!]*?\\\\b(hey)\\\\b[^.?!]*[.?!]&quot;)&lt;/parent&gt;&quot;);\r\n\t\tMatcher mat1 = pat.matcher(line);\r\n\t\tif(mat.find())\r\n\t\t{\r\n\t\t bw.write(output);\r\n\t     }\r\n\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n","title":"to find the attribute value of a tag when the specific text matches in the content","body":"<p>i want to get the value of id , if the child of the tag contains specific text.</p>\n\n<p>Input :</p>\n\n<pre><code>&lt;base&gt;\n  &lt;parent id=\"101\" txt=\"hello\"&gt;\n    &lt;child1&gt;\n       &lt;data&gt; search &lt;/data&gt;\n    &lt;/child1&gt;\n     &lt;child2&gt;\n       &lt;data&gt; send&lt;/data&gt;\n    &lt;/child2&gt;\n  &lt;/parent&gt;\n  &lt;parent id=\"102\" txt=\"hello\"&gt;\n    &lt;child1&gt;\n       &lt;data&gt; hai &lt;/data&gt;\n    &lt;/child1&gt;\n     &lt;child2&gt;\n       &lt;data&gt; hey &lt;/data&gt;\n    &lt;/child2&gt;\n  &lt;/parent&gt;\n&lt;/base&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<p>i'm searching for \"hey\" text in the entire file , so it should return\n    id=\"102\"</p>\n\n<p>Code Snippet which i tried</p>\n\n<pre><code>if(line.indexOf(\"&lt;Parent\")&gt;= 0)\n{\n String output=\"\";\n Pattern pat = Pattern.compile(\"id=\\\".*?\\\"\");\n Matcher mat = pat.matcher(line);\n if(mat.find())\n    {\n     int start=mat.start();\n     int end=mat.end();\n     output = line.substring(start+4,end-1);\n    }\n\n    Pattern pat1 = Pattern.compile(\"&lt;parent\"[A-Z](?i)[^.?!]*?\\\\b(hey)\\\\b[^.?!]*[.?!]\")&lt;/parent&gt;\");\n    Matcher mat1 = pat.matcher(line);\n    if(mat.find())\n    {\n     bw.write(output);\n     }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1643622363,"post_id":70801839,"comment_id":125380141,"body_markdown":"Please prefer copy/paste your code than show it as image","body":"Please prefer copy/paste your code than show it as image"}],"answers":[{"tags":[],"owner":{"account_id":24155025,"reputation":16,"user_id":18119380,"display_name":"Ashwin Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643977327,"creation_date":1643977327,"answer_id":70986328,"question_id":70801839,"body_markdown":"**use this - &gt;**\r\npgDataSource = dataSourceBuilder.create().build();\r\n\r\n**instead of - &gt;**\r\npgDataSource = dataSourceBuilder.build();","title":"DataSource Must not be null Spring boot 2.5.7 Upgrade- JUnit testcase fails","body":"<p><strong>use this - &gt;</strong>\npgDataSource = dataSourceBuilder.create().build();</p>\n<p><strong>instead of - &gt;</strong>\npgDataSource = dataSourceBuilder.build();</p>\n"}],"owner":{"account_id":24009848,"reputation":3,"user_id":17993569,"display_name":"captain5998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70986328,"answer_count":1,"score":0,"last_activity_date":1643977327,"creation_date":1642770693,"question_id":70801839,"body_markdown":"[This is my data source code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LKY1f.png\r\n\r\nHere is some description. \r\njava. lang. IllegalArgumentException: DataSource must not be null\r\n\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.jdbc.datasource.lookup.SingleDataSourceLookup.&lt;init&gt;(SingleDataSourceLookup.java:40)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.setDataSource(LocalContainerEntityManagerFactoryBean.java:257)\r\n\tat org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder$Builder.build(EntityManagerFactoryBuilder.java:234)\r\n\tat com.cardinalhealth.nphsden.framework.utils.DbUtils.getEntityManagerFactory(DbUtils.java:38)\r\n\tat com.cardinalhealth.nphsden.framework.utils.DbUtilsTest.testGetEntityManagerFactory(DbUtilsTest.java:53)\r\n","title":"DataSource Must not be null Spring boot 2.5.7 Upgrade- JUnit testcase fails","body":"<p><a href=\"https://i.stack.imgur.com/LKY1f.png\" rel=\"nofollow noreferrer\">This is my data source code</a></p>\n<p>Here is some description.\njava. lang. IllegalArgumentException: DataSource must not be null</p>\n<pre><code>at org.springframework.util.Assert.notNull(Assert.java:201)\nat org.springframework.jdbc.datasource.lookup.SingleDataSourceLookup.&lt;init&gt;(SingleDataSourceLookup.java:40)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.setDataSource(LocalContainerEntityManagerFactoryBean.java:257)\nat org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder$Builder.build(EntityManagerFactoryBuilder.java:234)\nat com.cardinalhealth.nphsden.framework.utils.DbUtils.getEntityManagerFactory(DbUtils.java:38)\nat com.cardinalhealth.nphsden.framework.utils.DbUtilsTest.testGetEntityManagerFactory(DbUtilsTest.java:53)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-repositories"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643975653,"creation_date":1643975653,"answer_id":70985971,"question_id":70985920,"body_markdown":"When you&#39;re using field autowiring, fields cannot be final. First the instance is created (with `null` values), then the autowired fields get updated. That can&#39;t be done if they&#39;re final.\r\n\r\nSince you&#39;re using `@RequiredArgsConstructor`, you can just remove the `@Autowired`. This will make Spring use constructor autowiring; it will find the dependencies when calling the constructor.","title":"Why can&#39;t I use a JPA repository in more than one controller?","body":"<p>When you're using field autowiring, fields cannot be final. First the instance is created (with <code>null</code> values), then the autowired fields get updated. That can't be done if they're final.</p>\n<p>Since you're using <code>@RequiredArgsConstructor</code>, you can just remove the <code>@Autowired</code>. This will make Spring use constructor autowiring; it will find the dependencies when calling the constructor.</p>\n"}],"owner":{"account_id":24143001,"reputation":1,"user_id":18109002,"display_name":"owlikns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643977117,"creation_date":1643975432,"question_id":70985920,"body_markdown":"I am building a web application using Java Spring Boot. I&#39;m trying to use a JPA repository in two different controllers. However, it only works inside one controller and not in the other one.\r\n\r\n**MyRepository.java**\r\n```\r\npublic interface MyRepository extends JpaRepository&lt;Favorite, Long&gt; { }\r\n```\r\n\r\nIt works fine in OneController without any problem.\r\n\r\n**OneController.java**\r\n```\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class OneController {\r\n    @Autowired\r\n    private final MyRepository myRepository;\r\n}\r\n```\r\n\r\nHowever, when I try to also use it in AnotherController, I get the following message: `Variable &#39;myRepository&#39; might not have been initialized.`\r\n\r\n**AnotherController.java**\r\n```\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class AnotherController {\r\n    @Autowired\r\n    private MyService myService;\r\n\r\n    @Autowired\r\n    private final MyRepository myRepository;\r\n\r\n    private final DateUtil dateUtil;\r\n\r\n    public AnotherController(DateUtil dateUtil) {\r\n        this.dateUtil = dateUtil;\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s the problem here? One is RestController and the other is Controller, but that doesn&#39;t seem to be an issue.\r\n\r\n**EDIT:**\r\nSorry for the confusion. I have omitted a constructor in AnotherController in my original question, so I have added it.\r\n\r\nFor some reason, after removing a constructor, I no longer see the message `Variable &#39;myRepository&#39; might not have been initialized.` Without a constructor, everything works fine. Why is it that?\r\n\r\nAlso, `@Autowired` doesn&#39;t seem to be required for repositories, but the service needs it. Without the annotation, the whole page won&#39;t work. Why is it the case?","title":"Why can&#39;t I use a JPA repository in more than one controller?","body":"<p>I am building a web application using Java Spring Boot. I'm trying to use a JPA repository in two different controllers. However, it only works inside one controller and not in the other one.</p>\n<p><strong>MyRepository.java</strong></p>\n<pre><code>public interface MyRepository extends JpaRepository&lt;Favorite, Long&gt; { }\n</code></pre>\n<p>It works fine in OneController without any problem.</p>\n<p><strong>OneController.java</strong></p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class OneController {\n    @Autowired\n    private final MyRepository myRepository;\n}\n</code></pre>\n<p>However, when I try to also use it in AnotherController, I get the following message: <code>Variable 'myRepository' might not have been initialized.</code></p>\n<p><strong>AnotherController.java</strong></p>\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class AnotherController {\n    @Autowired\n    private MyService myService;\n\n    @Autowired\n    private final MyRepository myRepository;\n\n    private final DateUtil dateUtil;\n\n    public AnotherController(DateUtil dateUtil) {\n        this.dateUtil = dateUtil;\n    }\n}\n</code></pre>\n<p>What's the problem here? One is RestController and the other is Controller, but that doesn't seem to be an issue.</p>\n<p><strong>EDIT:</strong>\nSorry for the confusion. I have omitted a constructor in AnotherController in my original question, so I have added it.</p>\n<p>For some reason, after removing a constructor, I no longer see the message <code>Variable 'myRepository' might not have been initialized.</code> Without a constructor, everything works fine. Why is it that?</p>\n<p>Also, <code>@Autowired</code> doesn't seem to be required for repositories, but the service needs it. Without the annotation, the whole page won't work. Why is it the case?</p>\n"},{"tags":["java","unit-testing","groovy","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1570108323,"creation_date":1512474838,"answer_id":47653030,"question_id":47652324,"body_markdown":"For some reason, your test suite, tries to load the `MockitoJunitRunner` from the  `org.mockito.junit` contained in the Mockito versions &gt;= 2. O. In that version, the line:\r\n\r\n    at org.mockito.junit.MockitoJUnitRunner.&lt;init&gt;(MockitoJUnitRunner.java:152)\r\n\r\nis doing this:\r\n\r\n    public MockitoJUnitRunner(Class&lt;?&gt; klass) throws InvocationTargetException {\r\n            //by default, StrictRunner is used. We can change that potentially based on feedback from users\r\n            this(new StrictRunner(new RunnerFactory().createStrict(klass), klass));\r\n        }\r\n\r\nand the RunnerFactory that is loaded here is from version 1.x as `createStrict` has been introduced in Mockito 2.x.\r\n\r\nSo go through the pom dependency tree and to find what artifact implicitly add the Mockito 2.x dependency to your project and exclude it.\r\n\r\nAlternatively.. as a workaround, instead of the `@RunWith(MockitoJUnitRunner.class)` you can use:\r\n\r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nYou can also check out this [Mockito cheat sheet][1] to keep all the standards at hand.\r\n\r\n\r\n  [1]: https://www.sourceartists.com/cheat-sheet/mockito","title":"java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;","body":"<p>For some reason, your test suite, tries to load the <code>MockitoJunitRunner</code> from the  <code>org.mockito.junit</code> contained in the Mockito versions >= 2. O. In that version, the line:</p>\n\n<pre><code>at org.mockito.junit.MockitoJUnitRunner.&lt;init&gt;(MockitoJUnitRunner.java:152)\n</code></pre>\n\n<p>is doing this:</p>\n\n<pre><code>public MockitoJUnitRunner(Class&lt;?&gt; klass) throws InvocationTargetException {\n        //by default, StrictRunner is used. We can change that potentially based on feedback from users\n        this(new StrictRunner(new RunnerFactory().createStrict(klass), klass));\n    }\n</code></pre>\n\n<p>and the RunnerFactory that is loaded here is from version 1.x as <code>createStrict</code> has been introduced in Mockito 2.x.</p>\n\n<p>So go through the pom dependency tree and to find what artifact implicitly add the Mockito 2.x dependency to your project and exclude it.</p>\n\n<p>Alternatively.. as a workaround, instead of the <code>@RunWith(MockitoJUnitRunner.class)</code> you can use:</p>\n\n<pre><code>@Before\npublic void init() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>You can also check out this <a href=\"https://www.sourceartists.com/cheat-sheet/mockito\" rel=\"noreferrer\">Mockito cheat sheet</a> to keep all the standards at hand.</p>\n"},{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568414734,"creation_date":1512475069,"answer_id":47653101,"question_id":47652324,"body_markdown":"In Mockito 1.10.19 (which is from 2014), there is no class `org.mockito.junit.MockitoJUnitRunner`. This was introduced later in 2.x. If you really want to use 1.10.19, you should probably use the then correct class `org.mockito.runners.MockitoJUnitRunner` which then should work.\r\n\r\nBut I would strongly recommend using a newer Mockito version instead. `mockito-all` is simply not the right artifact to depend on anymore. With 2.x this artefact was not maintained anymore.","title":"java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;","body":"<p>In Mockito 1.10.19 (which is from 2014), there is no class <code>org.mockito.junit.MockitoJUnitRunner</code>. This was introduced later in 2.x. If you really want to use 1.10.19, you should probably use the then correct class <code>org.mockito.runners.MockitoJUnitRunner</code> which then should work.</p>\n\n<p>But I would strongly recommend using a newer Mockito version instead. <code>mockito-all</code> is simply not the right artifact to depend on anymore. With 2.x this artefact was not maintained anymore.</p>\n"},{"tags":[],"owner":{"account_id":4566292,"reputation":655,"user_id":3707223,"display_name":"malvern dongeni"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1540483313,"creation_date":1540476966,"answer_id":52991505,"question_id":47652324,"body_markdown":"The problem lies within your imports.\r\nYour imports doesn&#39;t include import runner replace the following import\r\n\r\n    org.mockito.junit.MockitoJUnitRunner\r\n\r\nwith\r\n\r\n     org.mockito.runners.MockitoJUnitRunner;","title":"java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;","body":"<p>The problem lies within your imports.\nYour imports doesn't include import runner replace the following import</p>\n\n<pre><code>org.mockito.junit.MockitoJUnitRunner\n</code></pre>\n\n<p>with</p>\n\n<pre><code> org.mockito.runners.MockitoJUnitRunner;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24154839,"reputation":31,"user_id":18119206,"display_name":"CNC-Parade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643976952,"creation_date":1643976952,"answer_id":70986249,"question_id":47652324,"body_markdown":"i ran into the same issue with following versions.\r\nIn my case there was a `mockito-core` dependency through `org.apache.maven:maven:3.6.3`. So i had to override the dependency.\r\n\r\n```\r\n &lt;version.maven-surefire-plugin&gt;3.0.0-M5&lt;/version.maven-surefire-plugin&gt;\r\n &lt;version.junit-jupiter-engine&gt;5.8.2&lt;/version.junit-jupiter-engine&gt;\r\n &lt;version.mockito-junit-jupiter&gt;4.3.1&lt;/version.mockito-junit-jupiter&gt;\r\n```\r\n\r\nto check this, you can use: `mvn help:effective-pom -Dverbose=true -Doutput=effective-pom.xml`","title":"java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;","body":"<p>i ran into the same issue with following versions.\nIn my case there was a <code>mockito-core</code> dependency through <code>org.apache.maven:maven:3.6.3</code>. So i had to override the dependency.</p>\n<pre><code> &lt;version.maven-surefire-plugin&gt;3.0.0-M5&lt;/version.maven-surefire-plugin&gt;\n &lt;version.junit-jupiter-engine&gt;5.8.2&lt;/version.junit-jupiter-engine&gt;\n &lt;version.mockito-junit-jupiter&gt;4.3.1&lt;/version.mockito-junit-jupiter&gt;\n</code></pre>\n<p>to check this, you can use: <code>mvn help:effective-pom -Dverbose=true -Doutput=effective-pom.xml</code></p>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39602,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":47653030,"answer_count":4,"score":16,"last_activity_date":1643976952,"creation_date":1512472695,"question_id":47652324,"body_markdown":"I am writing my Junit test cases for Groovy using Mockito jar, but it is giving me following exception:\r\n\r\n    java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;\r\n    at org.mockito.junit.MockitoJUnitRunner.&lt;init&gt;(MockitoJUnitRunner.java:152)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createUnfilteredTest(JUnit4TestLoader.java:84)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:70)\r\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:43)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:444)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\nBelow is the jar list that I have:\r\n\r\n    cglib-nodep-2.2.2\r\n    javassist-3.19.0-GA\r\n    junit-4.12\r\n    mockito-all-1.10.19\r\n    objenesis-2.5\r\n    powermock-mockito-1.6.2-full\r\n\r\nBelow is my code. I have added necessary imports:\r\n\r\n    package test.service\r\n    import org.junit.Test\r\n    import org.junit.runner.RunWith\r\n    import org.mockito.InjectMocks\r\n    import org.mockito.Mock\r\n    import org.mockito.junit.MockitoJUnitRunner\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    class SyncImplTest {\r\n    \t\r\n    \t@InjectMocks\r\n    \tSyncThreatImpl  fixture;\r\n    \t\r\n    \t@Mock\r\n    \tRpcConfigurationLoader rpcConfigurationLoader\r\n    \t\r\n    \t@Test\r\n    \tpublic void testRpcConfig(){\r\n    \t\tRpcApiInfo rpcApiInfo =  new RpcApiInfo();\r\n    \t\twhen(rpcConfigurationLoader.loadConfiguration()).thenReturn(rpcApiInfo)\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;","body":"<p>I am writing my Junit test cases for Groovy using Mockito jar, but it is giving me following exception:</p>\n\n<pre><code>java.lang.NoSuchMethodError: org.mockito.internal.runners.RunnerFactory.createStrict(Ljava/lang/Class;)Lorg/mockito/internal/runners/InternalRunner;\nat org.mockito.junit.MockitoJUnitRunner.&lt;init&gt;(MockitoJUnitRunner.java:152)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createUnfilteredTest(JUnit4TestLoader.java:84)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:70)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:43)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:444)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n\n<p>Below is the jar list that I have:</p>\n\n<pre><code>cglib-nodep-2.2.2\njavassist-3.19.0-GA\njunit-4.12\nmockito-all-1.10.19\nobjenesis-2.5\npowermock-mockito-1.6.2-full\n</code></pre>\n\n<p>Below is my code. I have added necessary imports:</p>\n\n<pre><code>package test.service\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.mockito.InjectMocks\nimport org.mockito.Mock\nimport org.mockito.junit.MockitoJUnitRunner\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\nclass SyncImplTest {\n\n    @InjectMocks\n    SyncThreatImpl  fixture;\n\n    @Mock\n    RpcConfigurationLoader rpcConfigurationLoader\n\n    @Test\n    public void testRpcConfig(){\n        RpcApiInfo rpcApiInfo =  new RpcApiInfo();\n        when(rpcConfigurationLoader.loadConfiguration()).thenReturn(rpcApiInfo)\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643975534,"creation_date":1643975534,"answer_id":70985944,"question_id":70985900,"body_markdown":"    public double dis(int[] a)\r\n\r\nYes, you are using `double`s.","title":"Error : Incompatible types Possible lossy conversion from double to int","body":"<pre><code>public double dis(int[] a)\n</code></pre>\n<p>Yes, you are using <code>double</code>s.</p>\n"},{"tags":[],"owner":{"account_id":1259191,"reputation":5458,"user_id":1217989,"accept_rate":74,"display_name":"Luan Nico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643975549,"creation_date":1643975549,"answer_id":70985951,"question_id":70985900,"body_markdown":"The function `dis` returns a double. You are trying to compare two doubles with `Integer.compare`. Thus, Java is converting doubles back to ints for you, causing the error message.","title":"Error : Incompatible types Possible lossy conversion from double to int","body":"<p>The function <code>dis</code> returns a double. You are trying to compare two doubles with <code>Integer.compare</code>. Thus, Java is converting doubles back to ints for you, causing the error message.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643976814,"creation_date":1643976475,"answer_id":70986140,"question_id":70985900,"body_markdown":"```\r\nInteger.compare(dis(a),dis(b))\r\n```\r\n\r\n`Integer.compare` takes two `int`s; you&#39;re passing it two `double`s.\r\n\r\nUse `Double.compare(dis(a), dis(b))` instead.\r\n\r\n---\r\n\r\nIt is worth pointing out, however, that the `dis` method could return `int` instead:\r\n\r\n    public double dis(int[] a) {\r\n        return a[0]*a[0] + a[1]*a[1];\r\n    }\r\n\r\nis doing the whole calculation using integer arithmetic, and then widening the result to `double`. Effectively:\r\n\r\n    public double dis(int[] a) {\r\n        int result = a[0]*a[0] + a[1]*a[1];\r\n        return (double) result;\r\n    }\r\n\r\nIf you are converting to double to avoid overflow, it doesn&#39;t help: the overflow will have already occurred before you do the widening to double.\r\n\r\nIf you don&#39;t expect overflow, you can simply change the return type to `int`, and then use either `Integer.compare` or `Double.compare` to compare them.\r\n\r\nIf you do expect (or want to avoid) overflow, make sure you&#39;re using double arithmetic:\r\n\r\n    public double dis(int[] a) {\r\n        return (double) a[0]*a[0] + (double) a[1]*a[1];\r\n    }\r\n\r\n\r\n---\r\n\r\nAlso, note that the comparator can be expressed more concisely:\r\n\r\n```\r\nComparator.comparingDouble((int[] a) -&gt; dis(a))\r\n// or\r\nComparator.comparingDouble(this::dis)\r\n```\r\n\r\ninstead of\r\n\r\n```\r\n(int[] a, int[] b) -&gt; Double.compare(dis(a),dis(b))\r\n```","title":"Error : Incompatible types Possible lossy conversion from double to int","body":"<pre><code>Integer.compare(dis(a),dis(b))\n</code></pre>\n<p><code>Integer.compare</code> takes two <code>int</code>s; you're passing it two <code>double</code>s.</p>\n<p>Use <code>Double.compare(dis(a), dis(b))</code> instead.</p>\n<hr />\n<p>It is worth pointing out, however, that the <code>dis</code> method could return <code>int</code> instead:</p>\n<pre><code>public double dis(int[] a) {\n    return a[0]*a[0] + a[1]*a[1];\n}\n</code></pre>\n<p>is doing the whole calculation using integer arithmetic, and then widening the result to <code>double</code>. Effectively:</p>\n<pre><code>public double dis(int[] a) {\n    int result = a[0]*a[0] + a[1]*a[1];\n    return (double) result;\n}\n</code></pre>\n<p>If you are converting to double to avoid overflow, it doesn't help: the overflow will have already occurred before you do the widening to double.</p>\n<p>If you don't expect overflow, you can simply change the return type to <code>int</code>, and then use either <code>Integer.compare</code> or <code>Double.compare</code> to compare them.</p>\n<p>If you do expect (or want to avoid) overflow, make sure you're using double arithmetic:</p>\n<pre><code>public double dis(int[] a) {\n    return (double) a[0]*a[0] + (double) a[1]*a[1];\n}\n</code></pre>\n<hr />\n<p>Also, note that the comparator can be expressed more concisely:</p>\n<pre><code>Comparator.comparingDouble((int[] a) -&gt; dis(a))\n// or\nComparator.comparingDouble(this::dis)\n</code></pre>\n<p>instead of</p>\n<pre><code>(int[] a, int[] b) -&gt; Double.compare(dis(a),dis(b))\n</code></pre>\n"}],"owner":{"account_id":20162704,"reputation":175,"user_id":14787412,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1643976814,"creation_date":1643975364,"question_id":70985900,"body_markdown":"```\r\nclass Solution {\r\n    public int[][] kClosest(int[][] points, int k) {\r\n        PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;((int[] a, int[] b) -&gt; Integer.compare(dis(a),dis(b)));\r\n        for(int[] i : points) {\r\n            pq.offer(i);\r\n            if(pq.size() &gt; k) {\r\n                pq.poll();\r\n            }\r\n        }\r\n        int[][] res = new int[k][2];\r\n        int c = 0;\r\n        for(int[] i : pq) {\r\n            res[c] = i;\r\n            c++;\r\n        }\r\n        return res;\r\n    }\r\n    public double dis(int[] a) {\r\n        return a[0]*a[0] + a[1]*a[1];\r\n    }\r\n}\r\n```\r\n\r\nError  Message : \r\n```\r\n  Line 3: error: incompatible types: possible lossy conversion from double to int\r\n        PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;((int[] a, int[] b) -&gt; Integer.compare(dis(a),dis(b)));\r\n                                                                                               ^                                                                                         \r\n```\r\nI was trying to solve a leetcode question But I kept getting this error. I am not even using double anywhere in the code. ","title":"Error : Incompatible types Possible lossy conversion from double to int","body":"<pre><code>class Solution {\n    public int[][] kClosest(int[][] points, int k) {\n        PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;((int[] a, int[] b) -&gt; Integer.compare(dis(a),dis(b)));\n        for(int[] i : points) {\n            pq.offer(i);\n            if(pq.size() &gt; k) {\n                pq.poll();\n            }\n        }\n        int[][] res = new int[k][2];\n        int c = 0;\n        for(int[] i : pq) {\n            res[c] = i;\n            c++;\n        }\n        return res;\n    }\n    public double dis(int[] a) {\n        return a[0]*a[0] + a[1]*a[1];\n    }\n}\n</code></pre>\n<p>Error  Message :</p>\n<pre><code>  Line 3: error: incompatible types: possible lossy conversion from double to int\n        PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;((int[] a, int[] b) -&gt; Integer.compare(dis(a),dis(b)));\n                                                                                               ^                                                                                         \n</code></pre>\n<p>I was trying to solve a leetcode question But I kept getting this error. I am not even using double anywhere in the code.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":2063361,"reputation":31419,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1643965955,"post_id":70973982,"comment_id":125484215,"body_markdown":"The vote reflects usefulness of the question. It has no relation to your education. Please note that Stack Overflow is like Wikipedia. This is not a free help desk. Please don&#39;t take votes personally. The vote on your post has no impact on your learning ability. Please take the [tour] to learn more.","body":"The vote reflects usefulness of the question. It has no relation to your education. Please note that Stack Overflow is like Wikipedia. This is not a free help desk. Please don&#39;t take votes personally. The vote on your post has no impact on your learning ability. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn more."}],"answers":[{"tags":[],"owner":{"account_id":4601207,"reputation":1353,"user_id":3731900,"accept_rate":14,"display_name":"yousef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643976702,"creation_date":1643968619,"answer_id":70984421,"question_id":70973982,"body_markdown":"This response come from your server `[DataModel(id=1, name=abc, alamal=cde, telepon=123),\r\n DataModel(id=4, name=adc, alamal=111, telepon=222)]` \r\n so you set response serializable for api is wrong must be like this \r\n\r\n    interface APIinsertData {\r\n    @FormUrlEncoded\r\n    @POST(&quot;insert.php&quot;)\r\n    open fun insertData(\r\n        @Field(&quot;name&quot;)name:String,\r\n        @Field(&quot;alamal&quot;)alamal:String,\r\n        @Field(&quot;telepon&quot;)telepon:String\r\n    ): Call&lt;List&lt;DataModel&gt;&gt;?\r\n    }\r\n\r\nchange insertData response like above will work fine with you ","title":"Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $ in kotlin","body":"<p>This response come from your server <code>[DataModel(id=1, name=abc, alamal=cde, telepon=123), DataModel(id=4, name=adc, alamal=111, telepon=222)]</code>\nso you set response serializable for api is wrong must be like this</p>\n<pre><code>interface APIinsertData {\n@FormUrlEncoded\n@POST(&quot;insert.php&quot;)\nopen fun insertData(\n    @Field(&quot;name&quot;)name:String,\n    @Field(&quot;alamal&quot;)alamal:String,\n    @Field(&quot;telepon&quot;)telepon:String\n): Call&lt;List&lt;DataModel&gt;&gt;?\n}\n</code></pre>\n<p>change insertData response like above will work fine with you</p>\n"}],"owner":{"account_id":23798462,"reputation":45,"user_id":17809006,"display_name":"LoveCing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643976702,"creation_date":1643902156,"question_id":70973982,"body_markdown":"I want to add data to Mysql via php party. But I keep failing. Check the data on the website. Still no solution. Where am I going wrong?\r\n\r\nI tried the following and it doesn&#39;t seem to fix the problem.\r\nhttps://stackoverflow.com/questions/58336845/how-to-fix-use-jsonreader-setlenienttrue-to-accept-malformed-json-at-line-1-c and https://stackoverflow.com/questions/39918814/use-jsonreader-setlenienttrue-to-accept-malformed-json-at-line-1-column-1-path\r\n\r\n\r\nI get another error, java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $ from this error Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $. Adding GsonBuilder() .\r\n\r\nI use //... to minimize the code.\r\n\r\n\r\ndependencies\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:3.3.1&quot;\r\n    implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n\r\nlayout\r\n\r\n    \r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText1&quot;\r\n        //... /&gt;\r\n    \r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText2&quot;\r\n        //... /&gt;\r\n    \r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText3&quot;\r\n        //... /&gt;\r\n    \r\n    &lt;Button\r\n        android:id=&quot;@+id/buttonInsert&quot;\r\n        //...\r\n         /&gt;\r\n\r\nMainActivity\r\n\r\n        class MainActivity : AppCompatActivity() {\r\n            //...\r\n            override fun onCreate(savedInstanceState: Bundle?) {\r\n                super.onCreate(savedInstanceState)\r\n                //...\r\n                binding.buttonInsert.setOnClickListener {\r\n    insert(editText1.text.toString(),editText2.text.toString(),editText3.text.toString())\r\n                }\r\n            }\r\n        \r\n            fun insert(name:String,alamal:String,telepon:String){\r\n                val ardData:APIinsertData = InsertServer().konekRetrofit2()!!.create(APIinsertData::class.java)\r\n                val tampilData: Call&lt;ResponseModel?&gt;? = ardData.insertData(name,alamal,telepon)\r\n                tampilData?.enqueue(object :Callback&lt;ResponseModel?&gt;{\r\n                    override fun onResponse(\r\n                        call: Call&lt;ResponseModel?&gt;,\r\n                        response: Response&lt;ResponseModel?&gt;\r\n                    ) {\r\n                        //...\r\n                    }\r\n        \r\n                    override fun onFailure(call: Call&lt;ResponseModel?&gt;, t: Throwable) {\r\n                        Log.d(&quot;ex&quot;,&quot;==${t.message.toString()}&quot;)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\ninterface APIinsertData\r\n\r\n    interface APIinsertData {\r\n        @FormUrlEncoded\r\n        @POST(&quot;insert.php&quot;)\r\n        open fun insertData(\r\n            @Field(&quot;name&quot;)name:String,\r\n            @Field(&quot;alamal&quot;)alamal:String,\r\n            @Field(&quot;telepon&quot;)telepon:String\r\n        ): Call&lt;ResponseModel?&gt;?\r\n    }\r\n\r\nInsertServer\r\n\r\n    class InsertServer {\r\n        private val baseURL=&quot;http://10.0.2.2/insertData/&quot;\r\n        private var retrofit: Retrofit?=null\r\n        var gson = GsonBuilder()\r\n            .setLenient()\r\n            .create()\r\n    \r\n        fun konekRetrofit2(): Retrofit? {\r\n            if (retrofit==null){\r\n                retrofit= Retrofit.Builder()\r\n                    .baseUrl(baseURL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build()\r\n            }\r\n            return retrofit\r\n        }\r\n    }\r\n\r\ndata class\r\n\r\n    data class DataModel (\r\n        val id:Int,\r\n        val name:String,\r\n        val alamal:String,\r\n        val telepon:String\r\n            )\r\n    data class ResponseModel (\r\n        val kode:Int,\r\n        val pesan:String,\r\n        val data:List&lt;DataModel&gt;\r\n            )\r\n\r\n\r\nThe current simple information of MySql comes from response.body().\r\n\r\n    [DataModel(id=1, name=abc, alamal=cde, telepon=123),\r\n     DataModel(id=4, name=adc, alamal=111, telepon=222)]","title":"Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $ in kotlin","body":"<p>I want to add data to Mysql via php party. But I keep failing. Check the data on the website. Still no solution. Where am I going wrong?</p>\n<p>I tried the following and it doesn't seem to fix the problem.\n<a href=\"https://stackoverflow.com/questions/58336845/how-to-fix-use-jsonreader-setlenienttrue-to-accept-malformed-json-at-line-1-c\">How to fix &#39;Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $&#39; error in Android Studio</a> and <a href=\"https://stackoverflow.com/questions/39918814/use-jsonreader-setlenienttrue-to-accept-malformed-json-at-line-1-column-1-path\">Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $</a></p>\n<p>I get another error, java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $ from this error Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $. Adding GsonBuilder() .</p>\n<p>I use //... to minimize the code.</p>\n<p>dependencies</p>\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.9.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.9.0'\nimplementation &quot;com.squareup.okhttp3:logging-interceptor:3.3.1&quot;\nimplementation 'com.google.code.gson:gson:2.8.5'\n</code></pre>\n<p>layout</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/editText1&quot;\n    //... /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/editText2&quot;\n    //... /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/editText3&quot;\n    //... /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/buttonInsert&quot;\n    //...\n     /&gt;\n</code></pre>\n<p>MainActivity</p>\n<pre><code>    class MainActivity : AppCompatActivity() {\n        //...\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            //...\n            binding.buttonInsert.setOnClickListener {\ninsert(editText1.text.toString(),editText2.text.toString(),editText3.text.toString())\n            }\n        }\n    \n        fun insert(name:String,alamal:String,telepon:String){\n            val ardData:APIinsertData = InsertServer().konekRetrofit2()!!.create(APIinsertData::class.java)\n            val tampilData: Call&lt;ResponseModel?&gt;? = ardData.insertData(name,alamal,telepon)\n            tampilData?.enqueue(object :Callback&lt;ResponseModel?&gt;{\n                override fun onResponse(\n                    call: Call&lt;ResponseModel?&gt;,\n                    response: Response&lt;ResponseModel?&gt;\n                ) {\n                    //...\n                }\n    \n                override fun onFailure(call: Call&lt;ResponseModel?&gt;, t: Throwable) {\n                    Log.d(&quot;ex&quot;,&quot;==${t.message.toString()}&quot;)\n                }\n            })\n        }\n    }\n</code></pre>\n<p>interface APIinsertData</p>\n<pre><code>interface APIinsertData {\n    @FormUrlEncoded\n    @POST(&quot;insert.php&quot;)\n    open fun insertData(\n        @Field(&quot;name&quot;)name:String,\n        @Field(&quot;alamal&quot;)alamal:String,\n        @Field(&quot;telepon&quot;)telepon:String\n    ): Call&lt;ResponseModel?&gt;?\n}\n</code></pre>\n<p>InsertServer</p>\n<pre><code>class InsertServer {\n    private val baseURL=&quot;http://10.0.2.2/insertData/&quot;\n    private var retrofit: Retrofit?=null\n    var gson = GsonBuilder()\n        .setLenient()\n        .create()\n\n    fun konekRetrofit2(): Retrofit? {\n        if (retrofit==null){\n            retrofit= Retrofit.Builder()\n                .baseUrl(baseURL)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build()\n        }\n        return retrofit\n    }\n}\n</code></pre>\n<p>data class</p>\n<pre><code>data class DataModel (\n    val id:Int,\n    val name:String,\n    val alamal:String,\n    val telepon:String\n        )\ndata class ResponseModel (\n    val kode:Int,\n    val pesan:String,\n    val data:List&lt;DataModel&gt;\n        )\n</code></pre>\n<p>The current simple information of MySql comes from response.body().</p>\n<pre><code>[DataModel(id=1, name=abc, alamal=cde, telepon=123),\n DataModel(id=4, name=adc, alamal=111, telepon=222)]\n</code></pre>\n"},{"tags":["java","webserver","reactive-programming","vert.x"],"answers":[{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643976642,"creation_date":1643976642,"answer_id":70986184,"question_id":70970640,"body_markdown":"In Vert.x, a `Handler` is an asynchronous callback function. The only &quot;limitation&quot; it has is that it shouldn&#39;t contain blocking code.\r\n\r\nA `Future` is a result of an asynchronous function.\r\n\r\n`Future` is not used instead of `Handler`. You can have a handler that doesn&#39;t return a future, or you can have a Future that is not returned by a handler. ","title":"What are the limits of vert.x handler&lt;&gt; and why futur is used instead?","body":"<p>In Vert.x, a <code>Handler</code> is an asynchronous callback function. The only &quot;limitation&quot; it has is that it shouldn't contain blocking code.</p>\n<p>A <code>Future</code> is a result of an asynchronous function.</p>\n<p><code>Future</code> is not used instead of <code>Handler</code>. You can have a handler that doesn't return a future, or you can have a Future that is not returned by a handler.</p>\n"}],"owner":{"account_id":17051744,"reputation":13,"user_id":12337242,"display_name":"Ilyass Asri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70986184,"answer_count":1,"score":0,"last_activity_date":1643976642,"creation_date":1643888431,"question_id":70970640,"body_markdown":"What are the limits of vert.x handler&lt;&gt; and why futur is used instead ! \r\n\r\nWhat is the difference between the handler interface and futur ?","title":"What are the limits of vert.x handler&lt;&gt; and why futur is used instead?","body":"<p>What are the limits of vert.x handler&lt;&gt; and why futur is used instead !</p>\n<p>What is the difference between the handler interface and futur ?</p>\n"},{"tags":["java","null","jackson","hashmap","objectmapper"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1643971408,"post_id":70984938,"comment_id":125486243,"body_markdown":"And what happened with that snippet?  Null nields are missing in the map,. NullPointertException occurred?  Please clarify.","body":"And what happened with that snippet?  Null nields are missing in the map,. NullPointertException occurred?  Please clarify."},{"owner":{"account_id":6753452,"reputation":115,"user_id":5202764,"display_name":"N.Rajal"},"score":0,"creation_date":1643971463,"post_id":70984938,"comment_id":125486275,"body_markdown":"Null fields are not in the map. Only non-null fields are part of the map.","body":"Null fields are not in the map. Only non-null fields are part of the map."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1643972286,"post_id":70984938,"comment_id":125486560,"body_markdown":"I can&#39;t reproduce the problem. It works fine. Can you write a self-contained minimal executable?","body":"I can&#39;t reproduce the problem. It works fine. Can you write a self-contained minimal executable?"},{"owner":{"account_id":6753452,"reputation":115,"user_id":5202764,"display_name":"N.Rajal"},"score":0,"creation_date":1643973822,"post_id":70984938,"comment_id":125487144,"body_markdown":"Updated some code snippets, please check. @k314159","body":"Updated some code snippets, please check. @k314159"}],"answers":[{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643972580,"creation_date":1643972580,"answer_id":70985321,"question_id":70984938,"body_markdown":"Here&#39;s simple code demonstrating that your code in fact works without any additional configuration with default ObjectMapper.\r\n\r\n```java\r\npackage java17test;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.Map;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        var objectMapper = new ObjectMapper();\r\n        \r\n        var oldFields = new TestClass();\r\n        oldFields.setFirstName(&quot;first name&quot;);\r\n\r\n        Map&lt;?, ?&gt; oldDetails = objectMapper.convertValue(oldFields, Map.class);\r\n        oldDetails.forEach((key, value) -&gt; System.out.println(key + &quot;=&quot; + value));\r\n    }\r\n\r\n    static class TestClass {\r\n        private String firstName;\r\n        private String lastName;\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nfirstName=first name\r\nlastName=null\r\n```","title":"Keep null fields of a POJO as keys in map java","body":"<p>Here's simple code demonstrating that your code in fact works without any additional configuration with default ObjectMapper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package java17test;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.Map;\n\npublic class Test {\n    public static void main(String[] args) {\n        var objectMapper = new ObjectMapper();\n        \n        var oldFields = new TestClass();\n        oldFields.setFirstName(&quot;first name&quot;);\n\n        Map&lt;?, ?&gt; oldDetails = objectMapper.convertValue(oldFields, Map.class);\n        oldDetails.forEach((key, value) -&gt; System.out.println(key + &quot;=&quot; + value));\n    }\n\n    static class TestClass {\n        private String firstName;\n        private String lastName;\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName = firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>firstName=first name\nlastName=null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643976422,"creation_date":1643976422,"answer_id":70986134,"question_id":70984938,"body_markdown":"You probably have an [X-Y problem](https://en.wikipedia.org/wiki/XY_problem) because you mentioned in a comment to vbezhenar&#39;s answer that your intention is to compare the fields of two objects of the same type, to find out which fields have changed.\r\n\r\nYou don&#39;t have to use Jackson to do that.\r\n\r\nHere&#39;s a simple pure Java (no dependencies) way of comparing two objects:\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    public class Utils {\r\n        /**\r\n         * Compares two objects of the same type, returning the field values that are different.\r\n         *\r\n         * @param o1 an object\r\n         * @param o2 another object\r\n         * @return a map of field name to a two-element array of the two different values of o1 and o2\r\n         */\r\n        public static &lt;T&gt; Map&lt;String, Object[]&gt; comparePojos(T o1, T o2) throws IllegalAccessException {\r\n            Map&lt;String, Object[]&gt; diffs = new LinkedHashMap&lt;&gt;();\r\n    \r\n            for (Field field : o1.getClass().getDeclaredFields()) {\r\n                field.setAccessible(true);\r\n                Object[] values = {field.get(o1), field.get(o2)};\r\n                if (!values[0].equals(values[1]))\r\n                    diffs.put(field.getName(), values);\r\n            }\r\n            return diffs;\r\n        }\r\n    }\r\n    \r\n    class UtilsDemo {\r\n        public static void main(String[] args) throws IllegalAccessException {\r\n            SamplePojo a = new SamplePojo(&quot;alice&quot;, 42);\r\n            SamplePojo b = new SamplePojo(&quot;bob&quot;, 42);\r\n            Utils.comparePojos(a, b).forEach((k, v) -&gt; System.out.println(k + &quot;: &quot; + Arrays.toString(v)));\r\n        }\r\n    }\r\n    \r\n    class SamplePojo {\r\n        public SamplePojo(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\n","title":"Keep null fields of a POJO as keys in map java","body":"<p>You probably have an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X-Y problem</a> because you mentioned in a comment to vbezhenar's answer that your intention is to compare the fields of two objects of the same type, to find out which fields have changed.</p>\n<p>You don't have to use Jackson to do that.</p>\n<p>Here's a simple pure Java (no dependencies) way of comparing two objects:</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.Arrays;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class Utils {\n    /**\n     * Compares two objects of the same type, returning the field values that are different.\n     *\n     * @param o1 an object\n     * @param o2 another object\n     * @return a map of field name to a two-element array of the two different values of o1 and o2\n     */\n    public static &lt;T&gt; Map&lt;String, Object[]&gt; comparePojos(T o1, T o2) throws IllegalAccessException {\n        Map&lt;String, Object[]&gt; diffs = new LinkedHashMap&lt;&gt;();\n\n        for (Field field : o1.getClass().getDeclaredFields()) {\n            field.setAccessible(true);\n            Object[] values = {field.get(o1), field.get(o2)};\n            if (!values[0].equals(values[1]))\n                diffs.put(field.getName(), values);\n        }\n        return diffs;\n    }\n}\n\nclass UtilsDemo {\n    public static void main(String[] args) throws IllegalAccessException {\n        SamplePojo a = new SamplePojo(&quot;alice&quot;, 42);\n        SamplePojo b = new SamplePojo(&quot;bob&quot;, 42);\n        Utils.comparePojos(a, b).forEach((k, v) -&gt; System.out.println(k + &quot;: &quot; + Arrays.toString(v)));\n    }\n}\n\nclass SamplePojo {\n    public SamplePojo(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    private String name;\n    private int age;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6753452,"reputation":115,"user_id":5202764,"display_name":"N.Rajal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70985321,"answer_count":2,"score":0,"last_activity_date":1643976422,"creation_date":1643970903,"question_id":70984938,"body_markdown":"I have a POJO and using object mapper to convert it into a map. I want the map to contain all fields of the POJO in it&#39;s entryset even if their value is null. So that entry might be null in the map I am creating. \r\n\r\n    Map&lt;String, Object&gt; oldDetails = objectMapper.convertValue(oldFields, Map.class);\r\n\r\nI&#39;ve tried using below snippet but that didn&#39;t help me. \r\n\r\n    objectMapper.setDefaultPropertyInclusion(JsonInclude.Value.construct(JsonInclude.Include.ALWAYS, JsonInclude.Include.ALWAYS));\r\n\r\nAny other idea that I can use here? \r\n\r\n\r\n\r\n\r\nMy POJO:\r\n\r\n    @JsonInclude(NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class BaseFields {\r\n    \r\n        @JsonProperty(&quot;number&quot;) protected String number;\r\n        @JsonProperty(&quot;name&quot;) protected String name;\r\n        @JsonProperty(&quot;dob&quot;) protected String dob;\r\n    \r\n    }\r\n\r\nThere are other classes inheriting from BaseFields such as.\r\n\r\n\r\n    @JsonInclude(NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CustomerBaseFields extends BaseFields {\r\n        @JsonProperty(&quot;email&quot;) protected String email;         \r\n    }\r\n\r\nNow there is method that converts an instance of ChangedBaseFields into a map. \r\n\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.configure(SerializationFeature.WRITE_NULL_MAP_VALUES, true);\r\n            objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n            objectMapper.setDefaultPropertyInclusion(JsonInclude.Value.construct(JsonInclude.Include.ALWAYS, JsonInclude.Include.ALWAYS));\r\n            Map&lt;String, Object&gt; oldDetails = objectMapper.convertValue(baseFields, Map.class);\r\n\r\n\r\nBut say if a field like email is null in object, I&#39;m not getting a key email in my map.\r\n","title":"Keep null fields of a POJO as keys in map java","body":"<p>I have a POJO and using object mapper to convert it into a map. I want the map to contain all fields of the POJO in it's entryset even if their value is null. So that entry might be null in the map I am creating.</p>\n<pre><code>Map&lt;String, Object&gt; oldDetails = objectMapper.convertValue(oldFields, Map.class);\n</code></pre>\n<p>I've tried using below snippet but that didn't help me.</p>\n<pre><code>objectMapper.setDefaultPropertyInclusion(JsonInclude.Value.construct(JsonInclude.Include.ALWAYS, JsonInclude.Include.ALWAYS));\n</code></pre>\n<p>Any other idea that I can use here?</p>\n<p>My POJO:</p>\n<pre><code>@JsonInclude(NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BaseFields {\n\n    @JsonProperty(&quot;number&quot;) protected String number;\n    @JsonProperty(&quot;name&quot;) protected String name;\n    @JsonProperty(&quot;dob&quot;) protected String dob;\n\n}\n</code></pre>\n<p>There are other classes inheriting from BaseFields such as.</p>\n<pre><code>@JsonInclude(NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CustomerBaseFields extends BaseFields {\n    @JsonProperty(&quot;email&quot;) protected String email;         \n}\n</code></pre>\n<p>Now there is method that converts an instance of ChangedBaseFields into a map.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(SerializationFeature.WRITE_NULL_MAP_VALUES, true);\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n        objectMapper.setDefaultPropertyInclusion(JsonInclude.Value.construct(JsonInclude.Include.ALWAYS, JsonInclude.Include.ALWAYS));\n        Map&lt;String, Object&gt; oldDetails = objectMapper.convertValue(baseFields, Map.class);\n</code></pre>\n<p>But say if a field like email is null in object, I'm not getting a key email in my map.</p>\n"},{"tags":["java","compareto","localdate"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1643975140,"post_id":70985782,"comment_id":125487612,"body_markdown":"The return value itself is *completely irrelevant*, beyond whether it is equal to, greater than or less than zero.","body":"The return value itself is <i>completely irrelevant</i>, beyond whether it is equal to, greater than or less than zero."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1643975425,"post_id":70985782,"comment_id":125487699,"body_markdown":"Andy is right. If you want to get the number of days between two `LocalDate` instances, use `firstDate.until(secondDate)` or `Period.between(firstDate, secondDate)`.","body":"Andy is right. If you want to get the number of days between two <code>LocalDate</code> instances, use <code>firstDate.until(secondDate)</code> or <code>Period.between(firstDate, secondDate)</code>."},{"owner":{"account_id":11809413,"reputation":554,"user_id":8641169,"display_name":"Vikas Choudhary"},"score":1,"creation_date":1643975571,"post_id":70985782,"comment_id":125487752,"body_markdown":"Your Localdate.compareTo() is comparing and returning the first difference it gets. If you change the Year, you will get the difference in the year. If you keep the year same and change month, you will get the difference in the month (This is what happening in Test 3). It will same for the days if you keep year and month same in both dates.","body":"Your Localdate.compareTo() is comparing and returning the first difference it gets. If you change the Year, you will get the difference in the year. If you keep the year same and change month, you will get the difference in the month (This is what happening in Test 3). It will same for the days if you keep year and month same in both dates."},{"owner":{"account_id":14871314,"reputation":63,"user_id":10738748,"display_name":"Phoenix"},"score":0,"creation_date":1643975805,"post_id":70985782,"comment_id":125487825,"body_markdown":"@RobSpoor thank you for the tip: this actually solved my problem in a bigger app","body":"@RobSpoor thank you for the tip: this actually solved my problem in a bigger app"},{"owner":{"account_id":14871314,"reputation":63,"user_id":10738748,"display_name":"Phoenix"},"score":0,"creation_date":1643975848,"post_id":70985782,"comment_id":125487837,"body_markdown":"@VikasChoudhary this makes sense, I understand. Thank you!","body":"@VikasChoudhary this makes sense, I understand. Thank you!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643976013,"post_id":70985782,"comment_id":125487897,"body_markdown":"@Phoenix you&#39;re welome.","body":"@Phoenix you&#39;re welome."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643976329,"creation_date":1643975539,"answer_id":70985947,"question_id":70985782,"body_markdown":"_At a guess_, what is going on here is that it&#39;s returning:\r\n\r\n* The difference in years if the years are different;\r\n* The difference in months if the year is equal but the months are different;\r\n* The difference in days if the year and month are equal.\r\n\r\nHowever, this isn&#39;t really important: the only thing you should be considering about the return value is _its sign_:\r\n\r\n* A negative number means that `a &lt; b`;\r\n* Zero means that `a == b`;\r\n* A positive number means that `a &gt; b`.\r\n\r\nThe exact value itself (other than zero) is completely irrelevant, and subject to change if the internal implementation changes. You should only ever compare the result of `compareTo` (or `compare`) with zero, e.g. `result &lt; 0, result &gt;= 0` etc.\r\n\r\n----\r\n\r\nIn the specific case of `LocalDate` (and other `java.time` classes), methods are provided to make the intent of the check more apparent:\r\n\r\n* [`a.isBefore(b)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)) corresponds to `a.compareTo(b) &lt; 0`;\r\n* [`a.isAfter(b)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#isAfter(java.time.chrono.ChronoLocalDate)) corresponds to `a.compareTo(b) &gt; 0`.\r\n\r\nIt&#39;s up to you (or your team style) as to which to prefer.","title":"I don&#39;t understand LocalDate#compareTo() Java method return value","body":"<p><em>At a guess</em>, what is going on here is that it's returning:</p>\n<ul>\n<li>The difference in years if the years are different;</li>\n<li>The difference in months if the year is equal but the months are different;</li>\n<li>The difference in days if the year and month are equal.</li>\n</ul>\n<p>However, this isn't really important: the only thing you should be considering about the return value is <em>its sign</em>:</p>\n<ul>\n<li>A negative number means that <code>a &lt; b</code>;</li>\n<li>Zero means that <code>a == b</code>;</li>\n<li>A positive number means that <code>a &gt; b</code>.</li>\n</ul>\n<p>The exact value itself (other than zero) is completely irrelevant, and subject to change if the internal implementation changes. You should only ever compare the result of <code>compareTo</code> (or <code>compare</code>) with zero, e.g. <code>result &lt; 0, result &gt;= 0</code> etc.</p>\n<hr />\n<p>In the specific case of <code>LocalDate</code> (and other <code>java.time</code> classes), methods are provided to make the intent of the check more apparent:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>a.isBefore(b)</code></a> corresponds to <code>a.compareTo(b) &lt; 0</code>;</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#isAfter(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>a.isAfter(b)</code></a> corresponds to <code>a.compareTo(b) &gt; 0</code>.</li>\n</ul>\n<p>It's up to you (or your team style) as to which to prefer.</p>\n"}],"owner":{"account_id":14871314,"reputation":63,"user_id":10738748,"display_name":"Phoenix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70985947,"answer_count":1,"score":0,"last_activity_date":1643976329,"creation_date":1643974813,"question_id":70985782,"body_markdown":"I&#39;m trying to get skilled on dates using them with Java and the LocalDate class, there&#39;s something I don&#39;t understand about the compareTo method return value, though.\r\n\r\nI thought that the `nextDate.compareTo(previousDate)` I&#39;m using would return:\r\n- 0 when dates are the same\r\n- \\&gt; 0 when the argument is before the date calling the method\r\n- &lt; 0 when the argument is after the date calling the method\r\n\r\nBut i thought it was safe to say that the \\&gt;0 return value and the &lt;0 value were the span of time in terms of days, equals to nextDate - previousDate.\r\n\r\nE.g. (yyyy-MM-dd): \r\n- 2030/01/31 - 2030/01/01 = 30\r\n- 2030/01/03 - 2030/01/01 = 2\r\n- 2030/02/03 - 2030/01/31 = 3\r\n\r\nAccording to the following tests, this is not always true and I don&#39;t understand why.\r\n\r\n    package com.mycompany.provalocaldatenuovo;\r\n\r\n    import java.time.LocalDate;\r\n\r\n    public class UI {\r\n\r\n        public static void main(String args[]) {\r\n\r\n            // Test 1\r\n            LocalDate previousDate1 = LocalDate.of(2030, 01, 01);\r\n            LocalDate nextDate1 = LocalDate.of(2030, 01, 31);\r\n\r\n            // Test 2\r\n            LocalDate previousDate2 = LocalDate.of(2030, 01, 01);\r\n            LocalDate nextDate2 = LocalDate.of(2030, 01, 03);\r\n\r\n            // Test 3\r\n            LocalDate previousDate3 = LocalDate.of(2030, 01, 31);\r\n            LocalDate nextDate3 = LocalDate.of(2030, 02, 03);\r\n\r\n            // Test 4\r\n            LocalDate previousDate4 = LocalDate.of(2030, 1, 31);\r\n            LocalDate nextDate4 = LocalDate.of(2030, 1, 31);\r\n\r\n            // Test 1 - expected 30\r\n            System.out.println(&quot;TEST 1: &quot; + nextDate1.compareTo(previousDate1));\r\n\r\n            // Test 2 - expected 2\r\n            System.out.println(&quot;TEST 2: &quot; + nextDate2.compareTo(previousDate2));\r\n\r\n            // Test 3 - expected 3\r\n            System.out.println(&quot;TEST 3: &quot; + nextDate3.compareTo(previousDate3));\r\n\r\n            // Test 4 - expected 0\r\n            System.out.println(&quot;TEST 4: &quot; + nextDate4.compareTo(previousDate4));\r\n        }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    TEST 1: 30\r\n    TEST 2: 2\r\n    TEST 3: 1    //??? doesn&#39;t matter which day on february is, this will result 1\r\n    TEST 4: 0\r\n\r\nDo you know what&#39;s going on TEST3?","title":"I don&#39;t understand LocalDate#compareTo() Java method return value","body":"<p>I'm trying to get skilled on dates using them with Java and the LocalDate class, there's something I don't understand about the compareTo method return value, though.</p>\n<p>I thought that the <code>nextDate.compareTo(previousDate)</code> I'm using would return:</p>\n<ul>\n<li>0 when dates are the same</li>\n<li>&gt; 0 when the argument is before the date calling the method</li>\n<li>&lt; 0 when the argument is after the date calling the method</li>\n</ul>\n<p>But i thought it was safe to say that the &gt;0 return value and the &lt;0 value were the span of time in terms of days, equals to nextDate - previousDate.</p>\n<p>E.g. (yyyy-MM-dd):</p>\n<ul>\n<li>2030/01/31 - 2030/01/01 = 30</li>\n<li>2030/01/03 - 2030/01/01 = 2</li>\n<li>2030/02/03 - 2030/01/31 = 3</li>\n</ul>\n<p>According to the following tests, this is not always true and I don't understand why.</p>\n<pre><code>package com.mycompany.provalocaldatenuovo;\n\nimport java.time.LocalDate;\n\npublic class UI {\n\n    public static void main(String args[]) {\n\n        // Test 1\n        LocalDate previousDate1 = LocalDate.of(2030, 01, 01);\n        LocalDate nextDate1 = LocalDate.of(2030, 01, 31);\n\n        // Test 2\n        LocalDate previousDate2 = LocalDate.of(2030, 01, 01);\n        LocalDate nextDate2 = LocalDate.of(2030, 01, 03);\n\n        // Test 3\n        LocalDate previousDate3 = LocalDate.of(2030, 01, 31);\n        LocalDate nextDate3 = LocalDate.of(2030, 02, 03);\n\n        // Test 4\n        LocalDate previousDate4 = LocalDate.of(2030, 1, 31);\n        LocalDate nextDate4 = LocalDate.of(2030, 1, 31);\n\n        // Test 1 - expected 30\n        System.out.println(&quot;TEST 1: &quot; + nextDate1.compareTo(previousDate1));\n\n        // Test 2 - expected 2\n        System.out.println(&quot;TEST 2: &quot; + nextDate2.compareTo(previousDate2));\n\n        // Test 3 - expected 3\n        System.out.println(&quot;TEST 3: &quot; + nextDate3.compareTo(previousDate3));\n\n        // Test 4 - expected 0\n        System.out.println(&quot;TEST 4: &quot; + nextDate4.compareTo(previousDate4));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>TEST 1: 30\nTEST 2: 2\nTEST 3: 1    //??? doesn't matter which day on february is, this will result 1\nTEST 4: 0\n</code></pre>\n<p>Do you know what's going on TEST3?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1643976700,"post_id":70985925,"comment_id":125488110,"body_markdown":"Why even have a `GenericConfig` as a class? All you want is a mapping `String` -&gt; `Object`, that&#39;s just a `Function&lt;String, Object&gt;`. And I don&#39;t think your first for loop has an issue, if you want it shorter you can just `return configs.stream().map(c -&gt; c.get(prop)).filterObjects::nonNull).findFirst().orElse(null)`.","body":"Why even have a <code>GenericConfig</code> as a class? All you want is a mapping <code>String</code> -&gt; <code>Object</code>, that&#39;s just a <code>Function&lt;String, Object&gt;</code>. And I don&#39;t think your first for loop has an issue, if you want it shorter you can just <code>return configs.stream().map(c -&gt; c.get(prop)).filterObjects::nonNull).findFirst().orElse(null&zwnj;&#8203;)</code>."},{"owner":{"account_id":19880578,"reputation":119,"user_id":14564685,"display_name":"marcellorinaldo"},"score":0,"creation_date":1643980209,"post_id":70985925,"comment_id":125489307,"body_markdown":"The information is available only in GenericConfig and it is an API from an external library. Such class may have also other fields rather than just a map. Maybe the example is a bit too simple. The generic concept I wanted to stress is that if it is okay to do that mess in the constructor","body":"The information is available only in GenericConfig and it is an API from an external library. Such class may have also other fields rather than just a map. Maybe the example is a bit too simple. The generic concept I wanted to stress is that if it is okay to do that mess in the constructor"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644920331,"post_id":70985925,"comment_id":125727033,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1259191,"reputation":5458,"user_id":1217989,"accept_rate":74,"display_name":"Luan Nico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643976212,"creation_date":1643976212,"answer_id":70986093,"question_id":70985925,"body_markdown":"When calling the constructor it *must* return an instance of the class, never null. But if you want it to be possible to be null, use a static factory method instead:\r\n\r\n    public SpecificConfig maybeCreateFrom(GenericConfig c) {\r\n        if (&lt;matches&gt;) {\r\n            return SpecificConfig(c);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\nThen on the for-loop you can check for not-null. I think that is generally better than using clunky exceptions for control-flow handling. Though I suspect this is still not the best architecture for you.\r\n\r\nDoes the class `GenericConfig` holds a single config or a Map of configs? I would consider just creating methods to fetch configs with the existing keys + doing any null checks. Then you can just call `getConfigX()` or something.","title":"Best pattern to create a wrapper Constructor","body":"<p>When calling the constructor it <em>must</em> return an instance of the class, never null. But if you want it to be possible to be null, use a static factory method instead:</p>\n<pre><code>public SpecificConfig maybeCreateFrom(GenericConfig c) {\n    if (&lt;matches&gt;) {\n        return SpecificConfig(c);\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>Then on the for-loop you can check for not-null. I think that is generally better than using clunky exceptions for control-flow handling. Though I suspect this is still not the best architecture for you.</p>\n<p>Does the class <code>GenericConfig</code> holds a single config or a Map of configs? I would consider just creating methods to fetch configs with the existing keys + doing any null checks. Then you can just call <code>getConfigX()</code> or something.</p>\n"}],"owner":{"account_id":19880578,"reputation":119,"user_id":14564685,"display_name":"marcellorinaldo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643976212,"creation_date":1643975451,"question_id":70985925,"body_markdown":"The problem is the following. Given a class `GenericConfig` which encapsulates a `Map&lt;String, Object&gt;` to contain several configurations, a class `SpecificConfig` is desired to have getters to retrieve specific map values.\r\n\r\nFor example, I want to avoid testing that `GenericConfig.getProperties().get(KEY_OF_PROPERTY);` is null and getting the value, with the burden of memorizing the key value in the calling method. I want to create a `SpecificConfig` that is created only if the key is present and that has a `getProperty()` method.\r\n\r\nExample of what I want to avoid:\r\n```\r\nprivate final static String KEY_OF_PROPERTY = &quot;key.for.my.value&quot;;\r\n\r\npublic void process(List&lt;GenericConfig&gt; configs) {\r\n    for(GenericConfig config: configs) {\r\n        String value = config.getProperties().get(KEY_OF_PROPERTY);\r\n        if (value != null) {\r\n            // do something\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is my attempt:\r\n```\r\npublic final class SpecificConfig extends GenericConfig {\r\n\r\n    public SpecificConfig(GenericConfig from) {\r\n        if(from.getProperties().get(KEY_OF_PROPERTY) != null) {\r\n            this.properties = from.getProperties();\r\n        } else {\r\n            throw new ThisIsNotTheConfigIWant();\r\n        }\r\n    }\r\n\r\n    public String getProperty() {\r\n        return (String) this.properties.get(KEY_OF_PROPERTY);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo I can do the following:\r\n```\r\npublic void process(List&lt;GenericConfig&gt; configs) {\r\n    for(GenericConfig config: configs) {\r\n        try {\r\n            SpecificConfig c = new SpecificConfig(config);\r\n            // now i can be sure that c is of the required type\r\n            \r\n            // do stuff related to that type\r\n        } catch (ThisIsNotTheConfigIWant) { /* ignore this config */ }\r\n    }\r\n}\r\n```\r\n\r\nIs throwing a checked exception in the constructor a bad thing in OOP? Does a pattern to solve this problem exist? Is it viable to instantiate null in the constructor instead of throwing an exception.","title":"Best pattern to create a wrapper Constructor","body":"<p>The problem is the following. Given a class <code>GenericConfig</code> which encapsulates a <code>Map&lt;String, Object&gt;</code> to contain several configurations, a class <code>SpecificConfig</code> is desired to have getters to retrieve specific map values.</p>\n<p>For example, I want to avoid testing that <code>GenericConfig.getProperties().get(KEY_OF_PROPERTY);</code> is null and getting the value, with the burden of memorizing the key value in the calling method. I want to create a <code>SpecificConfig</code> that is created only if the key is present and that has a <code>getProperty()</code> method.</p>\n<p>Example of what I want to avoid:</p>\n<pre><code>private final static String KEY_OF_PROPERTY = &quot;key.for.my.value&quot;;\n\npublic void process(List&lt;GenericConfig&gt; configs) {\n    for(GenericConfig config: configs) {\n        String value = config.getProperties().get(KEY_OF_PROPERTY);\n        if (value != null) {\n            // do something\n        }\n    }\n}\n</code></pre>\n<p>This is my attempt:</p>\n<pre><code>public final class SpecificConfig extends GenericConfig {\n\n    public SpecificConfig(GenericConfig from) {\n        if(from.getProperties().get(KEY_OF_PROPERTY) != null) {\n            this.properties = from.getProperties();\n        } else {\n            throw new ThisIsNotTheConfigIWant();\n        }\n    }\n\n    public String getProperty() {\n        return (String) this.properties.get(KEY_OF_PROPERTY);\n    }\n\n}\n</code></pre>\n<p>So I can do the following:</p>\n<pre><code>public void process(List&lt;GenericConfig&gt; configs) {\n    for(GenericConfig config: configs) {\n        try {\n            SpecificConfig c = new SpecificConfig(config);\n            // now i can be sure that c is of the required type\n            \n            // do stuff related to that type\n        } catch (ThisIsNotTheConfigIWant) { /* ignore this config */ }\n    }\n}\n</code></pre>\n<p>Is throwing a checked exception in the constructor a bad thing in OOP? Does a pattern to solve this problem exist? Is it viable to instantiate null in the constructor instead of throwing an exception.</p>\n"},{"tags":["java","decimalformat"],"answers":[{"tags":[],"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643976188,"creation_date":1643975750,"answer_id":70985997,"question_id":70985903,"body_markdown":"Your pattern should be:\r\n```\r\nDecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\r\n```\r\nBecause as DecimalFormat&#39;s javadoc says:\r\n\r\n|Symbol | Location | Localized? | Meaning |\r\n|-|-|-|-|\r\n| 0 | Number | Yes | Digit |\r\n| # | Number | Yes | Digit, zero shows as absent |\r\n\r\n&gt; Btw, is there any better way to make such formatter (while trying to convert 15000 to 15.00)? Or is the best option to just divide it by 10000 in that case?\r\n\r\nFormatting is just representing a value in a certain text form. It&#39;s not about changing a value, and 15000 and 15 are different values. So dividing like that is a proper way to get a different value.","title":"why does my DecimalFormat not work for 2 decimal places in Java?","body":"<p>Your pattern should be:</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\n</code></pre>\n<p>Because as DecimalFormat's javadoc says:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Symbol</th>\n<th>Location</th>\n<th>Localized?</th>\n<th>Meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>Number</td>\n<td>Yes</td>\n<td>Digit</td>\n</tr>\n<tr>\n<td>#</td>\n<td>Number</td>\n<td>Yes</td>\n<td>Digit, zero shows as absent</td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>Btw, is there any better way to make such formatter (while trying to convert 15000 to 15.00)? Or is the best option to just divide it by 10000 in that case?</p>\n</blockquote>\n<p>Formatting is just representing a value in a certain text form. It's not about changing a value, and 15000 and 15 are different values. So dividing like that is a proper way to get a different value.</p>\n"}],"owner":{"account_id":5926310,"reputation":2743,"user_id":4662074,"accept_rate":70,"display_name":"randomuser1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70985997,"answer_count":1,"score":2,"last_activity_date":1643976188,"creation_date":1643975371,"question_id":70985903,"body_markdown":"I have a `DecimalFormat` in `java` and when I use it, it does not work as expected.\r\nIn the input I&#39;m getting `150000`, and I want to have the `15.00` as an outcome.\r\nThe code looks as follows:\r\n\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          long x=150000;\r\n          DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n          System.out.println(&quot;x &quot; + x/10000);\r\n          long y = x/10000;\r\n          \r\n          System.out.println(df.format(y));\r\n        }\r\n    }\r\n\r\nand still, the console shows `15` instead of `15.00`. What am I missing here?\r\nBtw, is there any better way to make such formatter (while trying to convert `15000` to `15.00`)? Or is the best option to just divide it by `10000` in that case? Thank you for any feedback!","title":"why does my DecimalFormat not work for 2 decimal places in Java?","body":"<p>I have a <code>DecimalFormat</code> in <code>java</code> and when I use it, it does not work as expected.\nIn the input I'm getting <code>150000</code>, and I want to have the <code>15.00</code> as an outcome.\nThe code looks as follows:</p>\n<pre><code>import java.text.DecimalFormat;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      long x=150000;\n      DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n      System.out.println(&quot;x &quot; + x/10000);\n      long y = x/10000;\n      \n      System.out.println(df.format(y));\n    }\n}\n</code></pre>\n<p>and still, the console shows <code>15</code> instead of <code>15.00</code>. What am I missing here?\nBtw, is there any better way to make such formatter (while trying to convert <code>15000</code> to <code>15.00</code>)? Or is the best option to just divide it by <code>10000</code> in that case? Thank you for any feedback!</p>\n"},{"tags":["java","mockito","amazon-dynamodb","guice"],"answers":[{"tags":[],"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643976163,"creation_date":1643976163,"answer_id":70986082,"question_id":70985961,"body_markdown":"Configure an `EndpointConfiguration` as binding and override it in `TestAppModule`. E.g.:\r\n\r\n```java\r\nclass DynamoDBModule {\r\n   @Provides\r\n   @Singleton\r\n   AmazonDynamoDB provideAmazonDynamoDB(EndpointConfiguration endpointConfiguration) {\r\n       return AmazonDynamoDBClientBuilder.standard()\r\n          .withEndpointConfiguration(endpointConfiguration)\r\n          .build()\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   EndpointConfiguration provideEndpointConfiguration() {\r\n       return new AwsClientBuilder.EndpointConfiguration(&quot;http://prod-endpoint:8000&quot;, &quot;us-west-2&quot;);\r\n   }\r\n}\r\n\r\nclass TestAppModule {\r\n\r\n   @Provides\r\n   @Singleton\r\n   EndpointConfiguration provideTestEndpointConfiguration() {\r\n       return new AwsClientBuilder.EndpointConfiguration(&quot;test-value&quot;, &quot;us-west-2&quot;);\r\n   }\r\n}\r\n```\r\n\r\nThen use you approach with `Modules.override` and it should work:\r\n```java\r\nGuice.createInjector(Modules.override(new AppModule()).with(new TestAppModule()));\r\n```","title":"Simplest way to override an endpoint in google guice when writing functional tests","body":"<p>Configure an <code>EndpointConfiguration</code> as binding and override it in <code>TestAppModule</code>. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DynamoDBModule {\n   @Provides\n   @Singleton\n   AmazonDynamoDB provideAmazonDynamoDB(EndpointConfiguration endpointConfiguration) {\n       return AmazonDynamoDBClientBuilder.standard()\n          .withEndpointConfiguration(endpointConfiguration)\n          .build()\n   }\n\n   @Provides\n   @Singleton\n   EndpointConfiguration provideEndpointConfiguration() {\n       return new AwsClientBuilder.EndpointConfiguration(&quot;http://prod-endpoint:8000&quot;, &quot;us-west-2&quot;);\n   }\n}\n\nclass TestAppModule {\n\n   @Provides\n   @Singleton\n   EndpointConfiguration provideTestEndpointConfiguration() {\n       return new AwsClientBuilder.EndpointConfiguration(&quot;test-value&quot;, &quot;us-west-2&quot;);\n   }\n}\n</code></pre>\n<p>Then use you approach with <code>Modules.override</code> and it should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Guice.createInjector(Modules.override(new AppModule()).with(new TestAppModule()));\n</code></pre>\n"}],"owner":{"display_name":"user18118996"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70986082,"answer_count":1,"score":0,"last_activity_date":1643976163,"creation_date":1643975609,"question_id":70985961,"body_markdown":"I have an application module that installs a DynamoDB module\r\n\r\n    install(new DynamoDBModule());\r\n\r\nIn DynamoDBModule we have some code to build the DynamoDb client and initialize the mapper\r\n\r\n     AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()\r\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://prod-endpoint:8000&quot;, &quot;us-west-2&quot;))\r\n            .build();\r\n\r\nNow, when I am writing tests, I have to replace this dynamoDB endpoint with a local endpoint and I was wondering what is the simplest way to do this. I am aware of this [stackoverflow question][1], but it would mean writing a lot of code for just a single small change. I would have to create a mock dynamodb module, a mock application module and then I can run something like this in my tests\r\n\r\n    Guice.createInjector(Modules.override(new AppModule()).with(new TestAppModule()));\r\nIs there a simple way to somehow use or override the test endpoint when running tests and continue using the prod endpoint otherwise.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/483087/6709711","title":"Simplest way to override an endpoint in google guice when writing functional tests","body":"<p>I have an application module that installs a DynamoDB module</p>\n<pre><code>install(new DynamoDBModule());\n</code></pre>\n<p>In DynamoDBModule we have some code to build the DynamoDb client and initialize the mapper</p>\n<pre><code> AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()\n        .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://prod-endpoint:8000&quot;, &quot;us-west-2&quot;))\n        .build();\n</code></pre>\n<p>Now, when I am writing tests, I have to replace this dynamoDB endpoint with a local endpoint and I was wondering what is the simplest way to do this. I am aware of this <a href=\"https://stackoverflow.com/q/483087/6709711\">stackoverflow question</a>, but it would mean writing a lot of code for just a single small change. I would have to create a mock dynamodb module, a mock application module and then I can run something like this in my tests</p>\n<pre><code>Guice.createInjector(Modules.override(new AppModule()).with(new TestAppModule()));\n</code></pre>\n<p>Is there a simple way to somehow use or override the test endpoint when running tests and continue using the prod endpoint otherwise.</p>\n"},{"tags":["java","casting"],"answers":[{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643976019,"creation_date":1643976019,"answer_id":70986048,"question_id":70985893,"body_markdown":"It&#39;s not because of the type intersection, it&#39;s because you&#39;re returing a `T`, which is chosen by the caller of the method and could be a different type that is not a `Scanner` or an `Empty`.\r\n\r\nThis would result in a class cast exception if you attempt to store the result in a variable of the other chosen type, for example:\r\n\r\n    class Other implements Closeable, Iterator&lt;String&gt; { ... }\r\n    \r\n    Other e = createCloseableIterator(false);","title":"Why is an explicit cast required when returning a type intersection?","body":"<p>It's not because of the type intersection, it's because you're returing a <code>T</code>, which is chosen by the caller of the method and could be a different type that is not a <code>Scanner</code> or an <code>Empty</code>.</p>\n<p>This would result in a class cast exception if you attempt to store the result in a variable of the other chosen type, for example:</p>\n<pre><code>class Other implements Closeable, Iterator&lt;String&gt; { ... }\n\nOther e = createCloseableIterator(false);\n</code></pre>\n"}],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70986048,"answer_count":1,"score":1,"last_activity_date":1643976019,"creation_date":1643975348,"question_id":70985893,"body_markdown":"[Nicolai Parlog&#39;s blog post on intersection types with `var`](https://nipafx.dev/java-var-intersection-types/) shows a method, `createCloseableIterator()`, that returns an intersection type:\r\n\r\n```java\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nprivate static &lt;T extends Closeable &amp; Iterator&lt;String&gt;&gt;\r\n\t\tT createCloseableIterator(boolean empty) {\r\n\tif (empty)\r\n\t\treturn (T) new Empty();\r\n\telse\r\n\t\treturn (T) new Scanner(System.in);\r\n}\r\n```\r\nwhere `Empty` and `Scanner` both implement `Iterator&lt;String&gt;` and `Closeable`.\r\n\r\nWhy are the explicit casts to `(T)` needed?","title":"Why is an explicit cast required when returning a type intersection?","body":"<p><a href=\"https://nipafx.dev/java-var-intersection-types/\" rel=\"nofollow noreferrer\">Nicolai Parlog's blog post on intersection types with <code>var</code></a> shows a method, <code>createCloseableIterator()</code>, that returns an intersection type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;unchecked&quot;)\nprivate static &lt;T extends Closeable &amp; Iterator&lt;String&gt;&gt;\n        T createCloseableIterator(boolean empty) {\n    if (empty)\n        return (T) new Empty();\n    else\n        return (T) new Scanner(System.in);\n}\n</code></pre>\n<p>where <code>Empty</code> and <code>Scanner</code> both implement <code>Iterator&lt;String&gt;</code> and <code>Closeable</code>.</p>\n<p>Why are the explicit casts to <code>(T)</code> needed?</p>\n"},{"tags":["java","pcap4j"],"comments":[{"owner":{"account_id":1932853,"reputation":1605,"user_id":1741893,"display_name":"kaitoy"},"score":0,"creation_date":1479367547,"post_id":40629657,"comment_id":68529235,"body_markdown":"You want icmpv4 on ethernet?","body":"You want icmpv4 on ethernet?"},{"owner":{"account_id":2352360,"reputation":1064,"user_id":2060893,"accept_rate":33,"display_name":"Swapnil"},"score":0,"creation_date":1479376731,"post_id":40629657,"comment_id":68534843,"body_markdown":"Yes for now, later I am going to use this utility on a web server, which will check if other servers having different application are up or not.","body":"Yes for now, later I am going to use this utility on a web server, which will check if other servers having different application are up or not."}],"answers":[{"tags":[],"owner":{"account_id":1932853,"reputation":1605,"user_id":1741893,"display_name":"kaitoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479592506,"creation_date":1479592506,"answer_id":40698325,"question_id":40629657,"body_markdown":"You can create ICMPv4 Echo (ping) on Ethernet packets using the Builders of `IcmpV4EchoPacket`, `IcmpV4CommonPacket`, `IpV4Packet`, and `EthernetPacket` and send them by `PcapHandle.sendPacket()`. Please refer to `org.pcap4j.sample.SendFragmentedEcho` in pcap4j-sample project.\r\n\r\nYou will need to implement ARP to resolve IP addresses to MAC addresses like `org.pcap4j.sample.SendArpRequest` in pcap4j-sample project.\r\n\r\nAnd you will also need to implement a feature to find the next hop (default gateway or so) from the given IP address somehow. Pcap4J doesn&#39;t provide API to support this implementation. (Java doesn&#39;t provide API to get routing table...)\r\n\r\nYou&#39;d maybe better use `java.net.InetAddress#isReachable()` instead.","title":"How to implement ping like functionality using pcap4j library","body":"<p>You can create ICMPv4 Echo (ping) on Ethernet packets using the Builders of <code>IcmpV4EchoPacket</code>, <code>IcmpV4CommonPacket</code>, <code>IpV4Packet</code>, and <code>EthernetPacket</code> and send them by <code>PcapHandle.sendPacket()</code>. Please refer to <code>org.pcap4j.sample.SendFragmentedEcho</code> in pcap4j-sample project.</p>\n\n<p>You will need to implement ARP to resolve IP addresses to MAC addresses like <code>org.pcap4j.sample.SendArpRequest</code> in pcap4j-sample project.</p>\n\n<p>And you will also need to implement a feature to find the next hop (default gateway or so) from the given IP address somehow. Pcap4J doesn't provide API to support this implementation. (Java doesn't provide API to get routing table...)</p>\n\n<p>You'd maybe better use <code>java.net.InetAddress#isReachable()</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":13299350,"reputation":11,"user_id":9601286,"display_name":"Jari Nestel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643975668,"creation_date":1643975668,"answer_id":70985975,"question_id":40629657,"body_markdown":"It took me more than a year to figure this out, as I wanted to make a traceroute with pcap4j, so here is what I did:\r\n 1. Get your IPv4 Address and Mac Address, this can be easily achieved by querying the `PcapNetworkInterface`\r\n 1. Get target IP Address, if you have a DNS Name you need to resolve it beforehand.\r\n 1. Get target Mac Address.\r\n    1. Target is in the same subnet: send an ARP Request to resolve the mac (alternatively, a mac broadcast will likely work fine too).\r\n    1. Target is in different subnet: you need to get the mac of your gateway server then, this is not as easy. Assuming you have other network traffic going on, you could listen for incoming packets and get the source mac, where the source IP address is from a different subnet, this is likely the mac address of your gateway server.\r\n 1. Create `IcmpV4EchoPacket` and sent it\r\n 1. Listen for incoming ICMP traffic, you will get one of these three:\r\n    1. A `IcmpV4EchoReplyPacket` which is likely to be an answer to your request (check identifier and sequence number to be sure)\r\n    1. A `IcmpV4TimeExceededPacket` if the target could not be reached with the time-to-live you specified\r\n    1. Nothing, routers and pinged targets are free to ignore and not answer your request\r\n\r\nVariables that need to be filled:\r\n```java\r\nshort IDENTIFIER; // identifer may be any 16 bit interger\r\nshort SEQUENCE; // sequence may be any 16 bit integer\r\nbyte TTL; // time to live (1-255)\r\nInet4Address IP_TARGET; // ip address of your ping target\r\nInet4Address IP_ORIGIN; // your own ip address\r\nMacAddress MAC_TARGET; // target or gateway mac address\r\nMacAddress MAC_SOURCE; // your own mac address\r\nPcapNetworkInterface PCAP4J_NETWORK_INTERFACE; // network interface used to execute the ping\r\n```\r\nHow to make a ICMP Echo Request Packet (as payload of `IcmpV4CommonPacket` of `IpV4Packet` of `EthernetPacket`):\r\n```java\r\n\tpublic Packet buildPacket() {\r\n\t\tIcmpV4EchoPacket.Builder icmpV4Echo = new IcmpV4EchoPacket.Builder()\r\n\t\t\t\t.identifier(IDENTIFIER) // optional, default zero\r\n\t\t\t\t.sequenceNumber(SEQUENCE); // optional, default zero\r\n\t\tIcmpV4CommonPacket.Builder icmpV4Common = new IcmpV4CommonPacket.Builder()\r\n\t\t\t\t.type(IcmpV4Type.ECHO) // type is echo\r\n\t\t\t\t.code(IcmpV4Code.NO_CODE) // echo request doesn&#39;t need this\r\n\t\t\t\t.payloadBuilder(icmpV4Echo)\r\n\t\t\t\t.correctChecksumAtBuild(true);\r\n\t\tIpV4Packet.Builder ipv4Builder = new IpV4Packet.Builder()\r\n\t\t\t\t.correctChecksumAtBuild(true)\r\n\t\t\t\t.correctLengthAtBuild(true)\r\n\t\t\t\t.dstAddr(IP_TARGET) // IPv4 Address where tp send the request\r\n\t\t\t\t.payloadBuilder(icmpV4Common)\r\n\t\t\t\t.protocol(IpNumber.ICMPV4) // payload is ICMPV4\r\n\t\t\t\t.srcAddr(IP_ORIGIN) // Your own IPv4 Address\r\n\t\t\t\t.tos(IpV4Rfc1349Tos.newInstance((byte) 0))\r\n\t\t\t\t.ttl(TTL) // time to live (1-255)\r\n\t\t\t\t.version(IpVersion.IPV4); // IP Version is IPv4\r\n\t\tEthernetPacket.Builder etherBuilder = new EthernetPacket.Builder()\r\n\t\t\t\t.dstAddr(MAC_TARGET) // the targets mac address\r\n\t\t\t\t.srcAddr(MAC_SOURCE) // your own mac address\r\n\t\t\t\t.type(EtherType.IPV4) // payload protocl is IPv4\r\n\t\t\t\t.payloadBuilder(ipv4Builder)\r\n\t\t\t\t.paddingAtBuild(true);\r\n\t\treturn etherBuilder.build(); // build your packet\r\n\t}\r\n```\r\nListener for ICMP Echo Answers or timeouts:\r\n```java\r\n\tpublic PacketListener buildListener() {\r\n\t\treturn new PacketListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void gotPacket(Packet packet) {\r\n\t\t\t\tif (!(packet instanceof EthernetPacket))\r\n\t\t\t\t\treturn;\r\n\t\t\t\tEthernetPacket ethernetPacket = (EthernetPacket) packet;\r\n\t\t\t\tpacket = ethernetPacket.getPayload();\r\n\t\t\t\tif (!(packet instanceof IpV4Packet))\r\n\t\t\t\t\treturn;\r\n\t\t\t\tIpV4Packet ipV4Packet = (IpV4Packet) packet;\r\n\t\t\t\tIpV4Header ipV4Header = ipV4Packet.getHeader();\r\n\t\t\t\tpacket = ipV4Packet.getPayload();\r\n\t\t\t\tif (!(packet instanceof IcmpV4CommonPacket))\r\n\t\t\t\t\treturn;\r\n\t\t\t\tIcmpV4CommonPacket icmpPacket = (IcmpV4CommonPacket) packet;\r\n\t\t\t\tpacket = icmpPacket.getPayload();\r\n\t\t\t\t// successful reply just measure time and done\r\n\t\t\t\tif (packet instanceof IcmpV4EchoReplyPacket) {\r\n\t\t\t\t\tIcmpV4EchoReplyPacket icmpV4EchoReplyPacket = (IcmpV4EchoReplyPacket) packet;\r\n\t\t\t\t\tIcmpV4EchoReplyHeader icmpV4EchoReplyHeader = icmpV4EchoReplyPacket.getHeader();\r\n\t\t\t\t\tif (icmpV4EchoReplyHeader.getIdentifier() != identifier)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tif (icmpV4EchoReplyHeader.getSequenceNumber() != sequence)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t// here you got an echo reply\r\n\t\t\t\t\tSystem.out.println(packet);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// try handle time to live exceeded messages\r\n\t\t\t\tif (packet instanceof IcmpV4TimeExceededPacket) {\r\n\t\t\t\t\tpacket = packet.getPayload(); // original IPv4\r\n\t\t\t\t\tif (!(packet instanceof IpV4Packet))\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tpacket = packet.getPayload(); // original ICMP common\r\n\t\t\t\t\tif (!(packet instanceof IcmpV4CommonPacket))\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tpacket = packet.getPayload(); // original ICMP echo\r\n\t\t\t\t\tif (!(packet instanceof IcmpV4EchoPacket))\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tIcmpV4EchoHeader icmpV4EchoHeader = ((IcmpV4EchoPacket)packet).getHeader();\r\n\t\t\t\t\tif (icmpV4EchoHeader.getIdentifier() != IDENTIFIER)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tif(icmpV4EchoHeader.getSequenceNumber() != SEQUENCE)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t// HERE you got an answer, that the time to live has been used up\r\n\t\t\t\t\tSystem.out.println(packet);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n```\r\nCombining it togther:\r\n```java\r\n\tpublic static void main(String[] args) throws IOException, PcapNativeException, NotOpenException, InterruptedException {\r\n\t\ttry (PcapHandle handle = PCAP4J_NETWORK_INTERFACE.openLive(1024, PromiscuousMode.PROMISCUOUS, 1000)) {\r\n\t\t\t// set filter to only get incoming ICMP traffic\r\n\t\t\thandle.setFilter(&quot;icmp and dst host &quot; + Pcaps.toBpfString(IP_ORIGIN), BpfCompileMode.OPTIMIZE);\r\n\t\t\t// send ARP request\r\n\t\t\tPacket p = buildPacket();\r\n\t\t\thandle.sendPacket(p);\r\n\t\t\t// wait (forever) for ARP answer\r\n\t\t\tPacketListener listener = buildListener();\r\n\t\t\thandle.loop(-1, listener);\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How to implement ping like functionality using pcap4j library","body":"<p>It took me more than a year to figure this out, as I wanted to make a traceroute with pcap4j, so here is what I did:</p>\n<ol>\n<li>Get your IPv4 Address and Mac Address, this can be easily achieved by querying the <code>PcapNetworkInterface</code></li>\n<li>Get target IP Address, if you have a DNS Name you need to resolve it beforehand.</li>\n<li>Get target Mac Address.\n<ol>\n<li>Target is in the same subnet: send an ARP Request to resolve the mac (alternatively, a mac broadcast will likely work fine too).</li>\n<li>Target is in different subnet: you need to get the mac of your gateway server then, this is not as easy. Assuming you have other network traffic going on, you could listen for incoming packets and get the source mac, where the source IP address is from a different subnet, this is likely the mac address of your gateway server.</li>\n</ol>\n</li>\n<li>Create <code>IcmpV4EchoPacket</code> and sent it</li>\n<li>Listen for incoming ICMP traffic, you will get one of these three:\n<ol>\n<li>A <code>IcmpV4EchoReplyPacket</code> which is likely to be an answer to your request (check identifier and sequence number to be sure)</li>\n<li>A <code>IcmpV4TimeExceededPacket</code> if the target could not be reached with the time-to-live you specified</li>\n<li>Nothing, routers and pinged targets are free to ignore and not answer your request</li>\n</ol>\n</li>\n</ol>\n<p>Variables that need to be filled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>short IDENTIFIER; // identifer may be any 16 bit interger\nshort SEQUENCE; // sequence may be any 16 bit integer\nbyte TTL; // time to live (1-255)\nInet4Address IP_TARGET; // ip address of your ping target\nInet4Address IP_ORIGIN; // your own ip address\nMacAddress MAC_TARGET; // target or gateway mac address\nMacAddress MAC_SOURCE; // your own mac address\nPcapNetworkInterface PCAP4J_NETWORK_INTERFACE; // network interface used to execute the ping\n</code></pre>\n<p>How to make a ICMP Echo Request Packet (as payload of <code>IcmpV4CommonPacket</code> of <code>IpV4Packet</code> of <code>EthernetPacket</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Packet buildPacket() {\n        IcmpV4EchoPacket.Builder icmpV4Echo = new IcmpV4EchoPacket.Builder()\n                .identifier(IDENTIFIER) // optional, default zero\n                .sequenceNumber(SEQUENCE); // optional, default zero\n        IcmpV4CommonPacket.Builder icmpV4Common = new IcmpV4CommonPacket.Builder()\n                .type(IcmpV4Type.ECHO) // type is echo\n                .code(IcmpV4Code.NO_CODE) // echo request doesn't need this\n                .payloadBuilder(icmpV4Echo)\n                .correctChecksumAtBuild(true);\n        IpV4Packet.Builder ipv4Builder = new IpV4Packet.Builder()\n                .correctChecksumAtBuild(true)\n                .correctLengthAtBuild(true)\n                .dstAddr(IP_TARGET) // IPv4 Address where tp send the request\n                .payloadBuilder(icmpV4Common)\n                .protocol(IpNumber.ICMPV4) // payload is ICMPV4\n                .srcAddr(IP_ORIGIN) // Your own IPv4 Address\n                .tos(IpV4Rfc1349Tos.newInstance((byte) 0))\n                .ttl(TTL) // time to live (1-255)\n                .version(IpVersion.IPV4); // IP Version is IPv4\n        EthernetPacket.Builder etherBuilder = new EthernetPacket.Builder()\n                .dstAddr(MAC_TARGET) // the targets mac address\n                .srcAddr(MAC_SOURCE) // your own mac address\n                .type(EtherType.IPV4) // payload protocl is IPv4\n                .payloadBuilder(ipv4Builder)\n                .paddingAtBuild(true);\n        return etherBuilder.build(); // build your packet\n    }\n</code></pre>\n<p>Listener for ICMP Echo Answers or timeouts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public PacketListener buildListener() {\n        return new PacketListener() {\n            @Override\n            public void gotPacket(Packet packet) {\n                if (!(packet instanceof EthernetPacket))\n                    return;\n                EthernetPacket ethernetPacket = (EthernetPacket) packet;\n                packet = ethernetPacket.getPayload();\n                if (!(packet instanceof IpV4Packet))\n                    return;\n                IpV4Packet ipV4Packet = (IpV4Packet) packet;\n                IpV4Header ipV4Header = ipV4Packet.getHeader();\n                packet = ipV4Packet.getPayload();\n                if (!(packet instanceof IcmpV4CommonPacket))\n                    return;\n                IcmpV4CommonPacket icmpPacket = (IcmpV4CommonPacket) packet;\n                packet = icmpPacket.getPayload();\n                // successful reply just measure time and done\n                if (packet instanceof IcmpV4EchoReplyPacket) {\n                    IcmpV4EchoReplyPacket icmpV4EchoReplyPacket = (IcmpV4EchoReplyPacket) packet;\n                    IcmpV4EchoReplyHeader icmpV4EchoReplyHeader = icmpV4EchoReplyPacket.getHeader();\n                    if (icmpV4EchoReplyHeader.getIdentifier() != identifier)\n                        return;\n                    if (icmpV4EchoReplyHeader.getSequenceNumber() != sequence)\n                        return;\n                    // here you got an echo reply\n                    System.out.println(packet);\n                    return;\n                }\n                // try handle time to live exceeded messages\n                if (packet instanceof IcmpV4TimeExceededPacket) {\n                    packet = packet.getPayload(); // original IPv4\n                    if (!(packet instanceof IpV4Packet))\n                        return;\n                    packet = packet.getPayload(); // original ICMP common\n                    if (!(packet instanceof IcmpV4CommonPacket))\n                        return;\n                    packet = packet.getPayload(); // original ICMP echo\n                    if (!(packet instanceof IcmpV4EchoPacket))\n                        return;\n                    IcmpV4EchoHeader icmpV4EchoHeader = ((IcmpV4EchoPacket)packet).getHeader();\n                    if (icmpV4EchoHeader.getIdentifier() != IDENTIFIER)\n                        return;\n                    if(icmpV4EchoHeader.getSequenceNumber() != SEQUENCE)\n                        return;\n                    // HERE you got an answer, that the time to live has been used up\n                    System.out.println(packet);\n                    return;\n                }\n            };\n        }\n</code></pre>\n<p>Combining it togther:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException, PcapNativeException, NotOpenException, InterruptedException {\n        try (PcapHandle handle = PCAP4J_NETWORK_INTERFACE.openLive(1024, PromiscuousMode.PROMISCUOUS, 1000)) {\n            // set filter to only get incoming ICMP traffic\n            handle.setFilter(&quot;icmp and dst host &quot; + Pcaps.toBpfString(IP_ORIGIN), BpfCompileMode.OPTIMIZE);\n            // send ARP request\n            Packet p = buildPacket();\n            handle.sendPacket(p);\n            // wait (forever) for ARP answer\n            PacketListener listener = buildListener();\n            handle.loop(-1, listener);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2352360,"reputation":1064,"user_id":2060893,"accept_rate":33,"display_name":"Swapnil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643975668,"creation_date":1479291880,"question_id":40629657,"body_markdown":"I want to implement basic network check functionality to test if the provided url is responding or not (eg. **ping www.google.com**).It must provide operational information indicating, for example, that a requested service is not available or that a host could not be reached. I am able to achive it using **icmp4j** library. But i want to achieve the same using **pcap4j** library. I want to put the url in text box and click on connect button which will call pcap4j api to check whether the host is responding or not.","title":"How to implement ping like functionality using pcap4j library","body":"<p>I want to implement basic network check functionality to test if the provided url is responding or not (eg. <strong>ping www.google.com</strong>).It must provide operational information indicating, for example, that a requested service is not available or that a host could not be reached. I am able to achive it using <strong>icmp4j</strong> library. But i want to achieve the same using <strong>pcap4j</strong> library. I want to put the url in text box and click on connect button which will call pcap4j api to check whether the host is responding or not.</p>\n"},{"tags":["java","selenium","cucumber"],"answers":[{"tags":[],"owner":{"account_id":22011568,"reputation":1,"user_id":16281758,"display_name":"Srinivasan L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643975650,"creation_date":1643975650,"answer_id":70985968,"question_id":70418116,"body_markdown":"Please try again after adding the below two dependency\t\t\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.24&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/com.github.vandeseer/easytable --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.vandeseer&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;easytable&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;void org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation.constructAppearances()&#39;","body":"<p>Please try again after adding the below two dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n    &lt;version&gt;2.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.github.vandeseer/easytable --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.vandeseer&lt;/groupId&gt;\n    &lt;artifactId&gt;easytable&lt;/artifactId&gt;\n    &lt;version&gt;0.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23697318,"reputation":11,"user_id":17720879,"display_name":"Bismi Varghese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643975650,"creation_date":1639981840,"question_id":70418116,"body_markdown":"iam creating extent PDF and html report in selenium cucumber java. report is creating in html format without any fail. PdfReport folder is creating under test output folder. but Report is not generating. I created extent.properties ,extent-config.xml files and add depencies to pm.xml.  It shows the following error:java.lang.NoSuchMethodError: void org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation.constructAppearances()\r\n\r\n```java.lang.NoSuchMethodError: void org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation.constructAppearances()\r\n\tat org.vandeseer.easytable.drawing.cell.ParagraphCellDrawer.drawContent(ParagraphCellDrawer.java:57)\r\n\tat org.vandeseer.easytable.TableDrawer.lambda$new$0(TableDrawer.java:61)\r\n\tat org.vandeseer.easytable.TableDrawer.drawRow(TableDrawer.java:170)\r\n\tat org.vandeseer.easytable.TableDrawer.drawWithFunction(TableDrawer.java:153)\r\n\tat org.vandeseer.easytable.TableDrawer.lambda$drawPage$1(TableDrawer.java:83)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.vandeseer.easytable.TableDrawer.drawPage(TableDrawer.java:82)\r\n\tat org.vandeseer.easytable.TableDrawer.draw(TableDrawer.java:78)\r\n\tat tech.grasshopper.pdf.chapter.detailed.DetailedRowComponent.display(DetailedRowComponent.java:90)\r\n\tat tech.grasshopper.pdf.chapter.detailed.DetailedPage.lambda$0(DetailedPage.java:42)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat tech.grasshopper.pdf.chapter.detailed.DetailedPage.createPage(DetailedPage.java:39)\r\n\tat tech.grasshopper.pdf.chapter.detailed.DetailedChapter.sendToPage(DetailedChapter.java:115)\r\n\tat tech.grasshopper.pdf.chapter.detailed.DetailedChapter.createAndSendPageData(DetailedChapter.java:104)\r\n\tat tech.grasshopper.pdf.chapter.detailed.DetailedChapter.createChapter(DetailedChapter.java:28)\r\n\tat tech.grasshopper.pdf.PDFCucumberReport.lambda$0(PDFCucumberReport.java:100)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat tech.grasshopper.pdf.PDFCucumberReport.createReport(PDFCucumberReport.java:100)\r\n\tat tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter.flush(ExtentPDFCucumberReporter.java:66)\r\n\tat tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter.access$1(ExtentPDFCucumberReporter.java:57)\r\n\tat tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter$1.onNext(ExtentPDFCucumberReporter.java:42)\r\n\tat tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter$1.onNext(ExtentPDFCucumberReporter.java:1)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\r\n\tat io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\r\n\tat com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\r\n\tat com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:85)\r\n\tat com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:284)\r\n\tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.finishReport(ExtentCucumberAdapter.java:296)\r\n\tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.access$6(ExtentCucumberAdapter.java:295)\r\n\tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$8.receive(ExtentCucumberAdapter.java:132)\r\n\tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$8.receive(ExtentCucumberAdapter.java:1)\r\n\tat io.cucumber.core.eventbus.AbstractEventPublisher.send(AbstractEventPublisher.java:51)\r\n\tat io.cucumber.core.eventbus.AbstractEventBus.send(AbstractEventBus.java:12)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.emitTestRunFinished(CucumberExecutionContext.java:93)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.finishTestRun(CucumberExecutionContext.java:74)\r\n\tat io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:236)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)```\r\n\r\n\r\npom.xml\r\n\r\n    ```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.automatedtest.sample&lt;/groupId&gt;\r\n    &lt;artifactId&gt;automated-test-sample&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n\t\t    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-alpha-4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.0&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.9.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.14.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ralfstuckert.pdfbox-layout&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pdfbox2-layout&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n   &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\r\n   &lt;version&gt;2.8.4&lt;/version&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n   &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n    \r\n      \r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                 &lt;source&gt;1.8&lt;/source&gt;\r\n                 &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.18.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;includes&gt;\r\n                    &lt;exclude&gt;**/*Runner.java&lt;/exclude&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n&lt;/project&gt;````\r\n\r\n\r\nextent.properties\r\n-------------------\r\n\r\n    ```extent.reporter.pdf.start=true\r\nextent.reporter.json.start=true;\r\nextent.reporter.spark.start=true\r\n\r\nextent.reporter.json.out=test output/PdfReport/jsonoutput.json\r\nextent.reporter.pdf.out=test output/PdfReport/pdfoutput.pdf\r\nextent.reporter.spark.out=test-output/SparkReport/Spark.html\r\nextent.reporter.spark.config=src/test/resources/extent-config.xml\r\n\r\nextent.reporter.spark.out=test-output/SparkReport/\r\n\r\nscreenshot.dir=test-output/\r\nscreenshot.rel.path=../\r\n\r\n\r\n#basefolder.name=reports\r\n#basefolder.datetimepattern=d-MMM-YY HH-mm-ss\r\nextent.reporter.spark.vieworder=dashboard,test,category,exception,author,device,log\r\nsysteminfo.os=Windows\r\nsysteminfo.user=Bismi\r\nsysteminfo.AppName=IWITS HQ```\r\n\r\nextent-config.xml\r\n--------------------\r\n\r\n    ```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;extentreports&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;!-- report theme --&gt;\r\n\r\n\t\t&lt;!-- standard, dark --&gt;\r\n\r\n\t\t&lt;theme&gt;dark&lt;/theme&gt;\r\n\t\t&lt;!-- document encoding --&gt;\r\n\r\n\t\t&lt;!-- defaults to UTF-8 --&gt;\r\n\r\n\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t&lt;!-- protocol for script and stylesheets --&gt;\r\n\r\n\t\t&lt;!-- defaults to https --&gt;\r\n\r\n\t\t&lt;protocol&gt;http&lt;/protocol&gt;\r\n\t\t&lt;!-- title of the document --&gt;\r\n\t\t&lt;documentTitle&gt;Extent&lt;/documentTitle&gt;\r\n\t\t&lt;!-- report name - displayed at top-nav --&gt;\r\n\r\n\t\t&lt;reportName&gt;Grasshopper Report&lt;/reportName&gt;\r\n\t\t&lt;!-- location of charts in the test view --&gt;\r\n\r\n\t\t&lt;!-- top, bottom --&gt;\r\n\r\n\t\t&lt;testViewChartLocation&gt;bottom&lt;/testViewChartLocation&gt;\r\n\t\t&lt;!-- custom javascript --&gt;\r\n\r\n\t\t&lt;!-- offlineMode&gt;true&lt;/offlineMode --&gt;\r\n\r\n\t\t&lt;scripts&gt;\r\n\r\n&lt;![CDATA[\r\n$(document).ready(function() {\r\n});\r\n]]&gt;\r\n\t\t&lt;/scripts&gt;\r\n\t\t&lt;!-- custom styles --&gt;\r\n\t\t&lt;styles&gt;\r\n&lt;![CDATA[\r\n]]&gt;\r\n\t\t&lt;/styles&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/extentreports&gt;```\r\n\r\n\r\n\r\n\r\nRunner.java\r\n-------------\r\n\r\n    ```package com.automatedtest.sample.TestRunner;\r\n\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport io.cucumber.junit.Cucumber;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = {&quot;src/test/resources/Feature/IR2131.feature&quot;},\r\n        glue = {&quot;com.automatedtest.sample.driver&quot;,\r\n                &quot;com.automatedtest.sample.stepdefinition&quot;},\r\n         plugin = {&quot;pretty&quot;,\r\n        \t\t &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}        \r\n)\r\npublic class Runner {\r\n\t\r\n}```\r\n\r\n\r\n","title":"java.lang.NoSuchMethodError: &#39;void org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation.constructAppearances()&#39;","body":"<p>iam creating extent PDF and html report in selenium cucumber java. report is creating in html format without any fail. PdfReport folder is creating under test output folder. but Report is not generating. I created extent.properties ,extent-config.xml files and add depencies to pm.xml.  It shows the following error:java.lang.NoSuchMethodError: void org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation.constructAppearances()</p>\n<pre><code>    at org.vandeseer.easytable.drawing.cell.ParagraphCellDrawer.drawContent(ParagraphCellDrawer.java:57)\n    at org.vandeseer.easytable.TableDrawer.lambda$new$0(TableDrawer.java:61)\n    at org.vandeseer.easytable.TableDrawer.drawRow(TableDrawer.java:170)\n    at org.vandeseer.easytable.TableDrawer.drawWithFunction(TableDrawer.java:153)\n    at org.vandeseer.easytable.TableDrawer.lambda$drawPage$1(TableDrawer.java:83)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.vandeseer.easytable.TableDrawer.drawPage(TableDrawer.java:82)\n    at org.vandeseer.easytable.TableDrawer.draw(TableDrawer.java:78)\n    at tech.grasshopper.pdf.chapter.detailed.DetailedRowComponent.display(DetailedRowComponent.java:90)\n    at tech.grasshopper.pdf.chapter.detailed.DetailedPage.lambda$0(DetailedPage.java:42)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at tech.grasshopper.pdf.chapter.detailed.DetailedPage.createPage(DetailedPage.java:39)\n    at tech.grasshopper.pdf.chapter.detailed.DetailedChapter.sendToPage(DetailedChapter.java:115)\n    at tech.grasshopper.pdf.chapter.detailed.DetailedChapter.createAndSendPageData(DetailedChapter.java:104)\n    at tech.grasshopper.pdf.chapter.detailed.DetailedChapter.createChapter(DetailedChapter.java:28)\n    at tech.grasshopper.pdf.PDFCucumberReport.lambda$0(PDFCucumberReport.java:100)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at tech.grasshopper.pdf.PDFCucumberReport.createReport(PDFCucumberReport.java:100)\n    at tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter.flush(ExtentPDFCucumberReporter.java:66)\n    at tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter.access$1(ExtentPDFCucumberReporter.java:57)\n    at tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter$1.onNext(ExtentPDFCucumberReporter.java:42)\n    at tech.grasshopper.pdf.extent.ExtentPDFCucumberReporter$1.onNext(ExtentPDFCucumberReporter.java:1)\n    at io.reactivex.rxjava3.subjects.PublishSubject$PublishDisposable.onNext(PublishSubject.java:310)\n    at io.reactivex.rxjava3.subjects.PublishSubject.onNext(PublishSubject.java:226)\n    at com.aventstack.extentreports.ReactiveSubject.onFlush(ReactiveSubject.java:83)\n    at com.aventstack.extentreports.AbstractProcessor.onFlush(AbstractProcessor.java:85)\n    at com.aventstack.extentreports.ExtentReports.flush(ExtentReports.java:284)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.finishReport(ExtentCucumberAdapter.java:296)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.access$6(ExtentCucumberAdapter.java:295)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$8.receive(ExtentCucumberAdapter.java:132)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$8.receive(ExtentCucumberAdapter.java:1)\n    at io.cucumber.core.eventbus.AbstractEventPublisher.send(AbstractEventPublisher.java:51)\n    at io.cucumber.core.eventbus.AbstractEventBus.send(AbstractEventBus.java:12)\n    at io.cucumber.core.runtime.CucumberExecutionContext.emitTestRunFinished(CucumberExecutionContext.java:93)\n    at io.cucumber.core.runtime.CucumberExecutionContext.finishTestRun(CucumberExecutionContext.java:74)\n    at io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:236)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)```\n\n\npom.xml\n\n    ```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.automatedtest.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;automated-test-sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jitpack.io&lt;/id&gt;\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n         &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-alpha-4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n         &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.14.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n &lt;dependency&gt;\n        &lt;groupId&gt;com.github.ralfstuckert.pdfbox-layout&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox2-layout&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n   &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\n   &lt;version&gt;2.8.4&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n\n   &lt;/dependencies&gt;\n\n    &lt;build&gt;\n    \n      \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                 &lt;source&gt;1.8&lt;/source&gt;\n                 &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;exclude&gt;**/*Runner.java&lt;/exclude&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n&lt;/project&gt;````\n\n\nextent.properties\n-------------------\n\n    ```extent.reporter.pdf.start=true\nextent.reporter.json.start=true;\nextent.reporter.spark.start=true\n\nextent.reporter.json.out=test output/PdfReport/jsonoutput.json\nextent.reporter.pdf.out=test output/PdfReport/pdfoutput.pdf\nextent.reporter.spark.out=test-output/SparkReport/Spark.html\nextent.reporter.spark.config=src/test/resources/extent-config.xml\n\nextent.reporter.spark.out=test-output/SparkReport/\n\nscreenshot.dir=test-output/\nscreenshot.rel.path=../\n\n\n#basefolder.name=reports\n#basefolder.datetimepattern=d-MMM-YY HH-mm-ss\nextent.reporter.spark.vieworder=dashboard,test,category,exception,author,device,log\nsysteminfo.os=Windows\nsysteminfo.user=Bismi\nsysteminfo.AppName=IWITS HQ```\n\nextent-config.xml\n--------------------\n\n    ```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;extentreports&gt;\n    &lt;configuration&gt;\n        &lt;!-- report theme --&gt;\n\n        &lt;!-- standard, dark --&gt;\n\n        &lt;theme&gt;dark&lt;/theme&gt;\n        &lt;!-- document encoding --&gt;\n\n        &lt;!-- defaults to UTF-8 --&gt;\n\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;!-- protocol for script and stylesheets --&gt;\n\n        &lt;!-- defaults to https --&gt;\n\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;!-- title of the document --&gt;\n        &lt;documentTitle&gt;Extent&lt;/documentTitle&gt;\n        &lt;!-- report name - displayed at top-nav --&gt;\n\n        &lt;reportName&gt;Grasshopper Report&lt;/reportName&gt;\n        &lt;!-- location of charts in the test view --&gt;\n\n        &lt;!-- top, bottom --&gt;\n\n        &lt;testViewChartLocation&gt;bottom&lt;/testViewChartLocation&gt;\n        &lt;!-- custom javascript --&gt;\n\n        &lt;!-- offlineMode&gt;true&lt;/offlineMode --&gt;\n\n        &lt;scripts&gt;\n\n&lt;![CDATA[\n$(document).ready(function() {\n});\n]]&gt;\n        &lt;/scripts&gt;\n        &lt;!-- custom styles --&gt;\n        &lt;styles&gt;\n&lt;![CDATA[\n]]&gt;\n        &lt;/styles&gt;\n    &lt;/configuration&gt;\n&lt;/extentreports&gt;```\n\n\n\n\nRunner.java\n-------------\n\n    ```package com.automatedtest.sample.TestRunner;\n\nimport io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = {&quot;src/test/resources/Feature/IR2131.feature&quot;},\n        glue = {&quot;com.automatedtest.sample.driver&quot;,\n                &quot;com.automatedtest.sample.stepdefinition&quot;},\n         plugin = {&quot;pretty&quot;,\n                 &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}        \n)\npublic class Runner {\n    \n}```\n\n\n</code></pre>\n"},{"tags":["java","multithreading","scala","jvm"],"comments":[{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1643976547,"post_id":70984163,"comment_id":125488061,"body_markdown":"I am not sure why you think `map` or `Unit` are &quot;ugly&quot;. Both seem fine to me. Or ue `andThen` as suggested in the answer (I find it less convenient, because it takes a `Try`, but sometimes it is actually useful, depends on how you want to handle failures). The &quot;ugliest&quot; piece in your snippet in my book is `Await` ... In most cases, well-designed code should not have to explicitly wait for a side effect to happen (if you need to wait for it, it&#39;s not really a side effect). But, that&#39;s, of course, &quot;opinion-based&quot;, so I am voting to close this question :)","body":"I am not sure why you think <code>map</code> or <code>Unit</code> are &quot;ugly&quot;. Both seem fine to me. Or ue <code>andThen</code> as suggested in the answer (I find it less convenient, because it takes a <code>Try</code>, but sometimes it is actually useful, depends on how you want to handle failures). The &quot;ugliest&quot; piece in your snippet in my book is <code>Await</code> ... In most cases, well-designed code should not have to explicitly wait for a side effect to happen (if you need to wait for it, it&#39;s not really a side effect). But, that&#39;s, of course, &quot;opinion-based&quot;, so I am voting to close this question :)"},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1643980454,"post_id":70984163,"comment_id":125489395,"body_markdown":"I think map is ugly because in pure functional programming map shouldnt produce side-effect, rather then foreach. Furthermore I dont agree that in well designed code I shouldnt explicitly execute Wait because waits purpose is for guaranteed, I mean that in my real scenario programming problem, in 99% of the cases it wont be needed, but in production process we have to guarantee our execution.","body":"I think map is ugly because in pure functional programming map shouldnt produce side-effect, rather then foreach. Furthermore I dont agree that in well designed code I shouldnt explicitly execute Wait because waits purpose is for guaranteed, I mean that in my real scenario programming problem, in 99% of the cases it wont be needed, but in production process we have to guarantee our execution."},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1643981310,"post_id":70984163,"comment_id":125489738,"body_markdown":"In _pure_ functional programming there are no side effects :) Once you have a side effect, it is not pure, the name of the function that produces it doesn&#39;t matter. In any case, if you don&#39;t like `map`, just use `andThen` as suggested.  I don&#39;t know what you mean exactly by &quot;having to guarantee execution&quot;, but the proper way to guarantee the presence of a side effect, if to look at the side effect, not block the thread waiting for a function to return ... nothing (not to imply blocking would be much more justified if it actually returned something useful).","body":"In <i>pure</i> functional programming there are no side effects :) Once you have a side effect, it is not pure, the name of the function that produces it doesn&#39;t matter. In any case, if you don&#39;t like <code>map</code>, just use <code>andThen</code> as suggested.  I don&#39;t know what you mean exactly by &quot;having to guarantee execution&quot;, but the proper way to guarantee the presence of a side effect, if to look at the side effect, not block the thread waiting for a function to return ... nothing (not to imply blocking would be much more justified if it actually returned something useful)."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643981842,"post_id":70984163,"comment_id":125489964,"body_markdown":"WDYM with the execution can be guaranteed? BTW, maybe you want to use `foreach` instead?","body":"WDYM with the execution can be guaranteed? BTW, maybe you want to use <code>foreach</code> instead?"},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1643982458,"post_id":70984163,"comment_id":125490196,"body_markdown":"I mean that we have to guarantee that the side-effect method has been executed and finished the execution before we quit the main thread. foreach is not sufficient because the main thread can be ended before the foreach did.","body":"I mean that we have to guarantee that the side-effect method has been executed and finished the execution before we quit the main thread. foreach is not sufficient because the main thread can be ended before the foreach did."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643982816,"post_id":70984163,"comment_id":125490367,"body_markdown":"Well, if this is just for the main thread you can just `Await` on the future that produces some value and then perform the side effect after the `Await` without using `Future` anymore. - BTW, for the way you speak, it seems you would rather prefer to use `IO` from **cats-effect** rather than `Future`","body":"Well, if this is just for the main thread you can just <code>Await</code> on the future that produces some value and then perform the side effect after the <code>Await</code> without using <code>Future</code> anymore. - BTW, for the way you speak, it seems you would rather prefer to use <code>IO</code> from <b>cats-effect</b> rather than <code>Future</code>"},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1643985167,"post_id":70984163,"comment_id":125491371,"body_markdown":"Thanks Luis, but you got me all wrong. Lets leave it, the other guys gave some meaningful respone.","body":"Thanks Luis, but you got me all wrong. Lets leave it, the other guys gave some meaningful respone."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643987293,"post_id":70984163,"comment_id":125492359,"body_markdown":"Well, maybe you should improve your communication skills then. Also, as Dima said, there is nothing wrong nor ugky with using `map` with `Future` for a side-effect, because `Future` was not created to manage side-effects, is just a mechanism to handle callbacks; that is why I suggested looking into **cats-effect** - Anyways, if `andThen` solves your question _(whatever that was)_ then please consider accepting the answer.","body":"Well, maybe you should improve your communication skills then. Also, as Dima said, there is nothing wrong nor ugky with using <code>map</code> with <code>Future</code> for a side-effect, because <code>Future</code> was not created to manage side-effects, is just a mechanism to handle callbacks; that is why I suggested looking into <b>cats-effect</b> - Anyways, if <code>andThen</code> solves your question <i>(whatever that was)</i> then please consider accepting the answer."},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1643994935,"post_id":70984163,"comment_id":125495695,"body_markdown":"Its not about communication skill rather then understanding Functional Programing concepts and terminology. Im still waiting to see if anyone else has another solution.","body":"Its not about communication skill rather then understanding Functional Programing concepts and terminology. Im still waiting to see if anyone else has another solution."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643996764,"post_id":70984163,"comment_id":125496405,"body_markdown":"Again `Future` is not a functional programming construct _(at least not a pure one which is the definition you are using)_, so you can not apply that rationale over it. Also, your question is still not clear.","body":"Again <code>Future</code> is not a functional programming construct <i>(at least not a pure one which is the definition you are using)</i>, so you can not apply that rationale over it. Also, your question is still not clear."}],"answers":[{"tags":[],"owner":{"account_id":14252622,"reputation":1734,"user_id":10295847,"display_name":"gianluca aguzzi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643975559,"creation_date":1643975559,"answer_id":70985953,"question_id":70984163,"body_markdown":"Probably, you want to use `andThen`. The scala doc says:\r\n&gt; Applies the side-effecting function to the result of this future, and returns a new future with the result of this future.\r\n\r\nSo, for instance, you can write:\r\n```\r\nval f: Future[Int] = aFuture.andThen { v =&gt;\r\n  println(s&quot;the result of aFuture map is: $v&quot;)\r\n}\r\nAwait.result(f, Duration.Inf)\r\n\r\n```\r\n","title":"Scala Future with side-affect best practice","body":"<p>Probably, you want to use <code>andThen</code>. The scala doc says:</p>\n<blockquote>\n<p>Applies the side-effecting function to the result of this future, and returns a new future with the result of this future.</p>\n</blockquote>\n<p>So, for instance, you can write:</p>\n<pre><code>val f: Future[Int] = aFuture.andThen { v =&gt;\n  println(s&quot;the result of aFuture map is: $v&quot;)\n}\nAwait.result(f, Duration.Inf)\n\n</code></pre>\n"}],"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643975559,"creation_date":1643967481,"question_id":70984163,"body_markdown":"In case I would like my Scala Future to return a value, the execution can be guaranteed by Await result / ready, for example -\r\n\r\n       def longCalculation: Int = {\r\n        Thread.sleep(2000)\r\n        42\r\n      }\r\n    \r\n      implicit val executionContext = scala.concurrent.ExecutionContext.global\r\n    \r\n      val aFuture: Future[Int] = Future {  \r\n        longCalculation\r\n    //        throw new ArrayIndexOutOfBoundsException // non-fatal exception\r\n    //        throw new StackOverflowError() // fatal exception\r\n      }\r\n\r\nevaluate Future which returns concrete value - \r\n\r\n      val ready_aFuture_1: Future[Int] = Await.ready(aFutureTest, Duration.Inf)\r\n      val ready_aFuture_2: Option[Try[Int]] = ready_aFuture_1.value\r\n      val ready_aFuture_3: Try[Int] = ready_aFuture_2.get // will never be None, Option is unnecessary.\r\n      val ready_aFuture_4: String = ready_aFuture_3 match {\r\n        case Success(t) =&gt; t.toString\r\n        case Failure(e) =&gt; e.toString\r\n      }\r\n      println(ready_aFuture_4)\r\n\r\n \r\nAnd in case I would like to manipulate side effect with future, the only way I could find which can guaranteed the execution is -\r\n\r\n\r\n    val f: Future[Unit] = aFuture.map{ v =&gt;\r\n        println(s&quot;the result of aFuture map is: $v&quot;)\r\n      }\r\n   \r\n       Await.result(f, Duration.Inf)\r\n\r\nBut that&#39;s pretty ugly, both because I used .map for &quot;side-effect&quot; and because we need to keep and use the type `Unit`.\r\nIs there any other approach to guaranteed processing of a Future which produce &quot;side-effect&quot;?","title":"Scala Future with side-affect best practice","body":"<p>In case I would like my Scala Future to return a value, the execution can be guaranteed by Await result / ready, for example -</p>\n<pre><code>   def longCalculation: Int = {\n    Thread.sleep(2000)\n    42\n  }\n\n  implicit val executionContext = scala.concurrent.ExecutionContext.global\n\n  val aFuture: Future[Int] = Future {  \n    longCalculation\n//        throw new ArrayIndexOutOfBoundsException // non-fatal exception\n//        throw new StackOverflowError() // fatal exception\n  }\n</code></pre>\n<p>evaluate Future which returns concrete value -</p>\n<pre><code>  val ready_aFuture_1: Future[Int] = Await.ready(aFutureTest, Duration.Inf)\n  val ready_aFuture_2: Option[Try[Int]] = ready_aFuture_1.value\n  val ready_aFuture_3: Try[Int] = ready_aFuture_2.get // will never be None, Option is unnecessary.\n  val ready_aFuture_4: String = ready_aFuture_3 match {\n    case Success(t) =&gt; t.toString\n    case Failure(e) =&gt; e.toString\n  }\n  println(ready_aFuture_4)\n</code></pre>\n<p>And in case I would like to manipulate side effect with future, the only way I could find which can guaranteed the execution is -</p>\n<pre><code>val f: Future[Unit] = aFuture.map{ v =&gt;\n    println(s&quot;the result of aFuture map is: $v&quot;)\n  }\n\n   Await.result(f, Duration.Inf)\n</code></pre>\n<p>But that's pretty ugly, both because I used .map for &quot;side-effect&quot; and because we need to keep and use the type <code>Unit</code>.\nIs there any other approach to guaranteed processing of a Future which produce &quot;side-effect&quot;?</p>\n"},{"tags":["java","mysql","spring-boot","tcp"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1568627708,"post_id":57951528,"comment_id":102320745,"body_markdown":"There is no such thing as &#39;port 83306&#39;. A port number is 16 bits, unsigned, which means that the maximum value is 65535. So your alleged &#39;requirement&#39; of  &#39;I have to connect to a port greater than 65536&#39; is infeasible.","body":"There is no such thing as &#39;port 83306&#39;. A port number is 16 bits, unsigned, which means that the maximum value is 65535. So your alleged &#39;requirement&#39; of  &#39;I have to connect to a port greater than 65536&#39; is infeasible."}],"answers":[{"tags":[],"owner":{"account_id":16215624,"reputation":26,"user_id":11708534,"display_name":"jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568616553,"creation_date":1568616553,"answer_id":57951657,"question_id":57951528,"body_markdown":"You can try to use port 3306 .","title":"Connecting to sql port 83306","body":"<p>You can try to use port 3306 .</p>\n"},{"tags":[],"owner":{"account_id":24103955,"reputation":1,"user_id":18075431,"display_name":"twiix299"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643975196,"creation_date":1643574926,"answer_id":70918687,"question_id":57951528,"body_markdown":"Just in case anyone needs it, found the following info:\r\nhttps://fusionmiddleware11g.wordpress.com/2013/07/08/message-java-lang-illegalargumentexception-port-out-of-range83306/\r\n\r\n \r\n\r\n&gt; If the port used is greater than 65536, you need to subtract 65536\r\n&gt; from the port to get the result to connect. The port I use here is\r\n&gt; 83306: 83306-65536 = 17770, so I have to use 17770 to connect to the Mysql database.","title":"Connecting to sql port 83306","body":"<p>Just in case anyone needs it, found the following info:\n<a href=\"https://fusionmiddleware11g.wordpress.com/2013/07/08/message-java-lang-illegalargumentexception-port-out-of-range83306/\" rel=\"nofollow noreferrer\">https://fusionmiddleware11g.wordpress.com/2013/07/08/message-java-lang-illegalargumentexception-port-out-of-range83306/</a></p>\n<blockquote>\n<p>If the port used is greater than 65536, you need to subtract 65536\nfrom the port to get the result to connect. The port I use here is\n83306: 83306-65536 = 17770, so I have to use 17770 to connect to the Mysql database.</p>\n</blockquote>\n"}],"owner":{"account_id":10685392,"reputation":153,"user_id":7866084,"display_name":"Ayesh17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1643975196,"creation_date":1568615821,"question_id":57951528,"body_markdown":"Hey to create my system i have to connect to port 83306(i can&#39;t change this port).If i only install workbench i can see the database.But since i have to connect to a port greater than 65536 i when i install mysql server i can&#39;t connect to this database.Can anyone suggest a way to connect to this database.\r\n\r\ni tried to use port 83306 when installing mysql server but it didn&#39;t support.\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:83306/sampledb?useSSL=false\r\n    spring.datasource.username = root","title":"Connecting to sql port 83306","body":"<p>Hey to create my system i have to connect to port 83306(i can't change this port).If i only install workbench i can see the database.But since i have to connect to a port greater than 65536 i when i install mysql server i can't connect to this database.Can anyone suggest a way to connect to this database.</p>\n\n<p>i tried to use port 83306 when installing mysql server but it didn't support.</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:83306/sampledb?useSSL=false\nspring.datasource.username = root\n</code></pre>\n"},{"tags":["java","hibernate","jpa","apache-tomee","java-ee-8"],"comments":[{"owner":{"account_id":2976047,"reputation":121,"user_id":2527075,"display_name":"Silvan Van Leeuwen"},"score":1,"creation_date":1643922935,"post_id":70976662,"comment_id":125475317,"body_markdown":"I think it would be helpful if you could show your annotated User and Post classes.","body":"I think it would be helpful if you could show your annotated User and Post classes."},{"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"score":0,"creation_date":1643923587,"post_id":70976662,"comment_id":125475569,"body_markdown":"@SilvanVanLeeuwen I added them","body":"@SilvanVanLeeuwen I added them"}],"answers":[{"tags":[],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643974939,"creation_date":1643974939,"answer_id":70985814,"question_id":70976662,"body_markdown":"The problem was in the ``Post#commentCount`` field. It was mistakenly calculated through  the ``@Formula`` annotation with this native subquery:  \r\n\r\n    SELECT count(id) FROM Comment c WHERE c.post_id = id group by c.post_id  \r\n\r\nwhere ``count(id)`` is equivalent to ``count(post.id)``. The generated query was the following:  \r\n\r\n     select\r\n        post0_.id as id1_4_,\r\n        post0_.author_id as author_i7_4_,\r\n        post0_.content as content2_4_,\r\n        post0_.creation_date as creation3_4_,\r\n        post0_.section_id as section_8_4_,\r\n        post0_.title as title4_4_,\r\n        post0_.type as type5_4_,\r\n        post0_.votes as votes6_4_,\r\n        (select\r\n            count(post0_.id) \r\n        from\r\n            Comment c \r\n        where\r\n            c.post_id = post0_.id \r\n        group by\r\n            c.post_id) as formula1_ \r\n    from\r\n        post post0_  \r\n\r\nI just had to replace ``count(id)`` with ``count(c.id)``","title":"Query#getResultList() always returns a 1 sized list for a specific entity","body":"<p>The problem was in the <code>Post#commentCount</code> field. It was mistakenly calculated through  the <code>@Formula</code> annotation with this native subquery:</p>\n<pre><code>SELECT count(id) FROM Comment c WHERE c.post_id = id group by c.post_id  \n</code></pre>\n<p>where <code>count(id)</code> is equivalent to <code>count(post.id)</code>. The generated query was the following:</p>\n<pre><code> select\n    post0_.id as id1_4_,\n    post0_.author_id as author_i7_4_,\n    post0_.content as content2_4_,\n    post0_.creation_date as creation3_4_,\n    post0_.section_id as section_8_4_,\n    post0_.title as title4_4_,\n    post0_.type as type5_4_,\n    post0_.votes as votes6_4_,\n    (select\n        count(post0_.id) \n    from\n        Comment c \n    where\n        c.post_id = post0_.id \n    group by\n        c.post_id) as formula1_ \nfrom\n    post post0_  \n</code></pre>\n<p>I just had to replace <code>count(id)</code> with <code>count(c.id)</code></p>\n"}],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70985814,"answer_count":1,"score":1,"last_activity_date":1643974939,"creation_date":1643913846,"question_id":70976662,"body_markdown":"This is my test method:  \r\n\r\n    @RunWithApplicationComposer(mode = ExtensionMode.PER_ALL)\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class MyTest{\r\n    \r\n        @PersistenceContext\r\n        EntityManager entityManager;\r\n    \r\n        @Resource\r\n        private UserTransaction userTransaction;\r\n    \r\n        private DB db;\r\n    \r\n        private void startDb() throws ManagedProcessException {\r\n            DBConfigurationBuilder config = DBConfigurationBuilder.newBuilder();\r\n            config.setPort(0); // random port\r\n            db = DB.newEmbeddedDB(config.build());\r\n            db.start();\r\n            db.createDB(&quot;testdb&quot;, &quot;root&quot;, &quot;root&quot;);\r\n            db.source(&quot;schemaonly.sql&quot;, &quot;root&quot;, &quot;root&quot;, &quot;testdb&quot;);\r\n        }\r\n    \r\n        //resources.xml equivalent\r\n        @Configuration\r\n        public Properties config() throws ManagedProcessException {\r\n            startDb();\r\n            Properties p = new Properties();\r\n            p.put(&quot;db&quot;, &quot;new://Resource?type=DataSource&quot;);\r\n            p.put(&quot;db.JdbcDriver&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            p.put(&quot;db.JdbcUrl&quot;, &quot;jdbc:mysql://localhost:&quot;+db.getConfiguration().getPort()+&quot;/testdb?user=root&amp;password=root&quot;);\r\n            return p;\r\n        }\r\n        \r\n        //persistence.xml equivalent\r\n        @Module\r\n        public PersistenceUnit setupPU(){\r\n            PersistenceUnit pu = new PersistenceUnit(&quot;testPU&quot;);\r\n            pu.setProvider(HibernatePersistenceProvider.class);\r\n            pu.setJtaDataSource(&quot;db&quot;);\r\n            pu.setProperty(&quot;tomee.jpa.factory.lazy&quot;, &quot;true&quot;);\r\n            pu.setProperty(&quot;hibernate.format_sql&quot; ,&quot;true&quot;);\r\n            pu.setProperty(&quot;hibernate.use_sql_comments&quot; ,&quot;true&quot;);\r\n            pu.setProperty(&quot;hibernate.dialect&quot; ,&quot;org.hibernate.dialect.MySQL8Dialect&quot;);\r\n            pu.setProperty(&quot;hibernate.physical_naming_strategy&quot;,\r\n                    &quot;org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy&quot;);\r\n            return pu;\r\n        }\r\n    \r\n        @Test\r\n        void fetchPost() throws Exception{\r\n            userTransaction.begin();\r\n    \r\n            User user = new User();\r\n            user.setUsername(&quot;username&quot;);\r\n            user.setAdmin(false);\r\n            user.setEmail(&quot;email&quot;);\r\n            user.setPassword(&quot;password&quot;.getBytes(StandardCharsets.UTF_8));\r\n            user.setSalt(&quot;salt&quot;.getBytes(StandardCharsets.UTF_8));\r\n            entityManager.persist(user);\r\n    \r\n            Section section = new Section();\r\n            section.setName(&quot;section&quot;);\r\n            entityManager.persist(section);\r\n    \r\n            IntStream.range(1, 10).mapToObj(n -&gt; {\r\n                Post post = new Post();\r\n                post.setContent(&quot;content&quot; + n);\r\n                post.setTitle(&quot;title&quot; + n);\r\n                post.setType(Post.Type.TEXT);\r\n                post.setAuthor(user);\r\n                post.setSection(section);\r\n                return post;\r\n            }).forEach(entityManager::persist);\r\n    \r\n            List&lt;Post&gt; from_post = entityManager.createQuery(&quot;select p from Post p&quot;, Post.class).getResultList();\r\n            Assertions.assertEquals(9,from_post.size());\r\n            userTransaction.commit();\r\n        }\r\n    }  \r\n\r\nI&#39;m using *MariaDB4j* in order to get a temporary embedded database for my tests. There&#39;s no need to clear the database between tests since I&#39;m only doing one test in this class (For demonstration purposes).  \r\n\r\nI&#39;m also using OpenEJB&#39;s application composer in order to run a Java EE container in my tests.  \r\n\r\nThe test begins with an empty schema that gets populated with 1 user, 1 section and 9 posts. The test checks if the retrieved posts are really 9, otherwise the test is failed.  \r\n\r\nThe problem is that i get the following result:  \r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :9\r\n    Actual   :1  \r\n\r\nThis is what i tried so far:  \r\n\r\n1. Having 2 separate transactions: one that persists and one that retrieves. I get the same result  \r\n\r\n2. Asserting that the resulting value from ``select count(p) from Post p`` is 9: the test passes.  \r\n\r\n3. Calling a native query right after the ``persist`` operations (tried both inside and outside the transaction) :  \r\n\r\n\r\n        entityManager.unwrap(Session.class).doWork(connection -&gt; {\r\n                    ResultSet resultSet = connection.createStatement().executeQuery(&quot;SELECT * From post&quot;);\r\n                    while(resultSet.next()){\r\n                        System.out.println(resultSet.getString(&quot;content&quot;));\r\n                    }\r\n            }  );\r\n\r\n    I get ``content1 content2 content3 ...``  \r\n\r\n4. Fetching another entity:  \r\n\r\n        @Test\r\n        void fetchUsers() throws Exception {\r\n            userTransaction.begin();\r\n            IntStream.range(1,10).mapToObj(n -&gt; {\r\n                User user = new User();\r\n                user.setUsername(&quot;username&quot; + n);\r\n                user.setAdmin(false);\r\n                user.setEmail(&quot;email&quot; + n);\r\n                user.setPassword(&quot;password&quot;.getBytes(StandardCharsets.UTF_8));\r\n                user.setSalt(&quot;salt&quot;.getBytes(StandardCharsets.UTF_8));\r\n                return user;\r\n            }).forEach(entityManager::persist);\r\n            userTransaction.commit();\r\n    \r\n            userTransaction.begin();\r\n            Assertions.assertEquals(9,entityManager.createQuery(&quot;from User&quot;,User.class).getResultList().size());\r\n            userTransaction.commit();\r\n        }  \r\n\r\n    The test misteriously passes. I made sure to have a clean database before any test.  \r\n\r\n\r\n5. Calling ``flush()`` and ``clear()`` right after the persist operation. Nothing changes    \r\n\r\n6. I execute ``em.createQuery(&quot;select p from Post p&quot;, Post.class).getResultList()``. It prints 9 titles\r\n\r\nI just can&#39;t wrap my head around it. What can be the cause (and possibly the solution)?  \r\n\r\n----  \r\n\r\n#### Post  \r\n\r\n    @Entity\r\n    @DynamicUpdate\r\n    public class Post implements Serializable {\r\n        public enum Type {TEXT, IMG}\r\n    \r\n        @Getter @Setter\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    \r\n        @Setter @Getter\r\n        @Column(length = 255, nullable = false)\r\n        protected String title;\r\n    \r\n        @Getter @Setter\r\n        @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\r\n        protected String content;\r\n    \r\n        @Setter @Getter\r\n        @Column(nullable = false) @Enumerated(EnumType.STRING)\r\n        protected Type type;\r\n    \r\n        @Getter\r\n        @Column(nullable = false, updatable = false, insertable = false)\r\n        protected Instant creationDate; //generato da sql\r\n    \r\n        @Getter\r\n        @Column(name = &quot;votes&quot;, nullable = false, insertable = false, updatable = false)\r\n        protected Integer votesCount;\r\n    \r\n        @Getter\r\n        @Formula(&quot;(select count(id) from Comment c where c.post_id = id group by c.post_id)&quot;) //native sql ew\r\n        protected Integer commentCount;\r\n    \r\n        @Getter @Setter\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        protected Section section;\r\n    \r\n        @Getter @Setter\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        protected User author;\r\n    \r\n        @OneToMany(mappedBy=&quot;post&quot;)\r\n        @MapKeyJoinColumn(name=&quot;user_id&quot;, updatable = false, insertable = false)\r\n        protected Map&lt;User, PostVote&gt; votes = new HashMap&lt;&gt;();\r\n        public PostVote getVote(User user){\r\n            return votes.get(user);\r\n        }\r\n    \r\n        public Post(){}\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Post)) return false;\r\n            Post post = (Post) o;\r\n            return id != null &amp;&amp; id.equals(post.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return getClass().hashCode();\r\n        }\r\n    }  \r\n\r\n\r\n\r\n#### User  \r\n\r\n\r\n    @Entity\r\n    public class User implements Serializable {\r\n    \r\n        @Getter @Setter\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    \r\n        @Getter @Setter\r\n        @NaturalId(mutable = false) @Column(length = 30, unique = true, nullable = false)\r\n        protected String username;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 16, nullable = false)\r\n        protected byte[] password;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 16, nullable = false)\r\n        protected byte[] salt;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 255, unique = true, nullable = false)\r\n        protected String email;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 255)\r\n        protected String description;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 4096)\r\n        protected String picture;\r\n    \r\n        @Getter\r\n        @Column(insertable = false, updatable = false, nullable = false)\r\n        protected Instant creationDate;\r\n    \r\n        @Getter @Setter\r\n        @Column(nullable = false)\r\n        protected Boolean admin;\r\n    \r\n        @OneToMany(mappedBy = &quot;user&quot;)\r\n        @OrderBy(&quot;endTime desc&quot;)\r\n        protected List&lt;Ban&gt; bans = new ArrayList&lt;&gt;();\r\n        public List&lt;Ban&gt; getBans(){\r\n            return Collections.unmodifiableList(bans);\r\n        }\r\n    \r\n        public User(){}\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof User)) return false;\r\n            User user = (User) o;\r\n            return id.equals(user.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return getClass().hashCode();\r\n        }\r\n    }\r\n\r\n  \r\n\r\n#### Section\r\n\r\n    @Entity\r\n    public class Section implements Serializable {\r\n    \r\n        @Getter @Setter\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 255)\r\n        protected String description;\r\n    \r\n    \r\n        @Getter @Setter\r\n        @Column(length = 50, nullable = false, unique = true) @NaturalId(mutable = true)\r\n        protected String name;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 4096)\r\n        protected String picture;\r\n    \r\n        @Getter @Setter\r\n        @Column(length = 4096)\r\n        protected String banner;\r\n    \r\n        @OneToMany(mappedBy=&quot;section&quot;)\r\n        @MapKeyJoinColumn(name=&quot;user_id&quot;, updatable = false, insertable = false)\r\n        @LazyCollection(LazyCollectionOption.EXTRA)\r\n        protected Map&lt;User, Follow&gt; follows;\r\n        public Follow getFollow(User user){\r\n            return follows.get(user);\r\n        }\r\n        public int getFollowCount(){\r\n            return follows.size();\r\n        }\r\n    \r\n        public Section(){}\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Section)) return false;\r\n            Section section = (Section) o;\r\n            return id.equals(section.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return getClass().hashCode();\r\n        }\r\n    }  \r\n\r\n\r\n----  \r\n\r\n##### Environment  \r\n\r\n* TomEE 8.0.8  \r\n* Hibernate 5.6.5.Final  \r\n* MariaDB4j 2.5.3\r\n","title":"Query#getResultList() always returns a 1 sized list for a specific entity","body":"<p>This is my test method:</p>\n<pre><code>@RunWithApplicationComposer(mode = ExtensionMode.PER_ALL)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MyTest{\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    @Resource\n    private UserTransaction userTransaction;\n\n    private DB db;\n\n    private void startDb() throws ManagedProcessException {\n        DBConfigurationBuilder config = DBConfigurationBuilder.newBuilder();\n        config.setPort(0); // random port\n        db = DB.newEmbeddedDB(config.build());\n        db.start();\n        db.createDB(&quot;testdb&quot;, &quot;root&quot;, &quot;root&quot;);\n        db.source(&quot;schemaonly.sql&quot;, &quot;root&quot;, &quot;root&quot;, &quot;testdb&quot;);\n    }\n\n    //resources.xml equivalent\n    @Configuration\n    public Properties config() throws ManagedProcessException {\n        startDb();\n        Properties p = new Properties();\n        p.put(&quot;db&quot;, &quot;new://Resource?type=DataSource&quot;);\n        p.put(&quot;db.JdbcDriver&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\n        p.put(&quot;db.JdbcUrl&quot;, &quot;jdbc:mysql://localhost:&quot;+db.getConfiguration().getPort()+&quot;/testdb?user=root&amp;password=root&quot;);\n        return p;\n    }\n    \n    //persistence.xml equivalent\n    @Module\n    public PersistenceUnit setupPU(){\n        PersistenceUnit pu = new PersistenceUnit(&quot;testPU&quot;);\n        pu.setProvider(HibernatePersistenceProvider.class);\n        pu.setJtaDataSource(&quot;db&quot;);\n        pu.setProperty(&quot;tomee.jpa.factory.lazy&quot;, &quot;true&quot;);\n        pu.setProperty(&quot;hibernate.format_sql&quot; ,&quot;true&quot;);\n        pu.setProperty(&quot;hibernate.use_sql_comments&quot; ,&quot;true&quot;);\n        pu.setProperty(&quot;hibernate.dialect&quot; ,&quot;org.hibernate.dialect.MySQL8Dialect&quot;);\n        pu.setProperty(&quot;hibernate.physical_naming_strategy&quot;,\n                &quot;org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy&quot;);\n        return pu;\n    }\n\n    @Test\n    void fetchPost() throws Exception{\n        userTransaction.begin();\n\n        User user = new User();\n        user.setUsername(&quot;username&quot;);\n        user.setAdmin(false);\n        user.setEmail(&quot;email&quot;);\n        user.setPassword(&quot;password&quot;.getBytes(StandardCharsets.UTF_8));\n        user.setSalt(&quot;salt&quot;.getBytes(StandardCharsets.UTF_8));\n        entityManager.persist(user);\n\n        Section section = new Section();\n        section.setName(&quot;section&quot;);\n        entityManager.persist(section);\n\n        IntStream.range(1, 10).mapToObj(n -&gt; {\n            Post post = new Post();\n            post.setContent(&quot;content&quot; + n);\n            post.setTitle(&quot;title&quot; + n);\n            post.setType(Post.Type.TEXT);\n            post.setAuthor(user);\n            post.setSection(section);\n            return post;\n        }).forEach(entityManager::persist);\n\n        List&lt;Post&gt; from_post = entityManager.createQuery(&quot;select p from Post p&quot;, Post.class).getResultList();\n        Assertions.assertEquals(9,from_post.size());\n        userTransaction.commit();\n    }\n}  \n</code></pre>\n<p>I'm using <em>MariaDB4j</em> in order to get a temporary embedded database for my tests. There's no need to clear the database between tests since I'm only doing one test in this class (For demonstration purposes).</p>\n<p>I'm also using OpenEJB's application composer in order to run a Java EE container in my tests.</p>\n<p>The test begins with an empty schema that gets populated with 1 user, 1 section and 9 posts. The test checks if the retrieved posts are really 9, otherwise the test is failed.</p>\n<p>The problem is that i get the following result:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :9\nActual   :1  \n</code></pre>\n<p>This is what i tried so far:</p>\n<ol>\n<li><p>Having 2 separate transactions: one that persists and one that retrieves. I get the same result</p>\n</li>\n<li><p>Asserting that the resulting value from <code>select count(p) from Post p</code> is 9: the test passes.</p>\n</li>\n<li><p>Calling a native query right after the <code>persist</code> operations (tried both inside and outside the transaction) :</p>\n<pre><code> entityManager.unwrap(Session.class).doWork(connection -&gt; {\n             ResultSet resultSet = connection.createStatement().executeQuery(&quot;SELECT * From post&quot;);\n             while(resultSet.next()){\n                 System.out.println(resultSet.getString(&quot;content&quot;));\n             }\n     }  );\n</code></pre>\n<p>I get <code>content1 content2 content3 ...</code></p>\n</li>\n<li><p>Fetching another entity:</p>\n<pre><code> @Test\n void fetchUsers() throws Exception {\n     userTransaction.begin();\n     IntStream.range(1,10).mapToObj(n -&gt; {\n         User user = new User();\n         user.setUsername(&quot;username&quot; + n);\n         user.setAdmin(false);\n         user.setEmail(&quot;email&quot; + n);\n         user.setPassword(&quot;password&quot;.getBytes(StandardCharsets.UTF_8));\n         user.setSalt(&quot;salt&quot;.getBytes(StandardCharsets.UTF_8));\n         return user;\n     }).forEach(entityManager::persist);\n     userTransaction.commit();\n\n     userTransaction.begin();\n     Assertions.assertEquals(9,entityManager.createQuery(&quot;from User&quot;,User.class).getResultList().size());\n     userTransaction.commit();\n }  \n</code></pre>\n<p>The test misteriously passes. I made sure to have a clean database before any test.</p>\n</li>\n<li><p>Calling <code>flush()</code> and <code>clear()</code> right after the persist operation. Nothing changes</p>\n</li>\n<li><p>I execute <code>em.createQuery(&quot;select p from Post p&quot;, Post.class).getResultList()</code>. It prints 9 titles</p>\n</li>\n</ol>\n<p>I just can't wrap my head around it. What can be the cause (and possibly the solution)?</p>\n<hr />\n<h4>Post</h4>\n<pre><code>@Entity\n@DynamicUpdate\npublic class Post implements Serializable {\n    public enum Type {TEXT, IMG}\n\n    @Getter @Setter\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @Setter @Getter\n    @Column(length = 255, nullable = false)\n    protected String title;\n\n    @Getter @Setter\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\n    protected String content;\n\n    @Setter @Getter\n    @Column(nullable = false) @Enumerated(EnumType.STRING)\n    protected Type type;\n\n    @Getter\n    @Column(nullable = false, updatable = false, insertable = false)\n    protected Instant creationDate; //generato da sql\n\n    @Getter\n    @Column(name = &quot;votes&quot;, nullable = false, insertable = false, updatable = false)\n    protected Integer votesCount;\n\n    @Getter\n    @Formula(&quot;(select count(id) from Comment c where c.post_id = id group by c.post_id)&quot;) //native sql ew\n    protected Integer commentCount;\n\n    @Getter @Setter\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    protected Section section;\n\n    @Getter @Setter\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    protected User author;\n\n    @OneToMany(mappedBy=&quot;post&quot;)\n    @MapKeyJoinColumn(name=&quot;user_id&quot;, updatable = false, insertable = false)\n    protected Map&lt;User, PostVote&gt; votes = new HashMap&lt;&gt;();\n    public PostVote getVote(User user){\n        return votes.get(user);\n    }\n\n    public Post(){}\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Post)) return false;\n        Post post = (Post) o;\n        return id != null &amp;&amp; id.equals(post.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}  \n</code></pre>\n<h4>User</h4>\n<pre><code>@Entity\npublic class User implements Serializable {\n\n    @Getter @Setter\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @Getter @Setter\n    @NaturalId(mutable = false) @Column(length = 30, unique = true, nullable = false)\n    protected String username;\n\n    @Getter @Setter\n    @Column(length = 16, nullable = false)\n    protected byte[] password;\n\n    @Getter @Setter\n    @Column(length = 16, nullable = false)\n    protected byte[] salt;\n\n    @Getter @Setter\n    @Column(length = 255, unique = true, nullable = false)\n    protected String email;\n\n    @Getter @Setter\n    @Column(length = 255)\n    protected String description;\n\n    @Getter @Setter\n    @Column(length = 4096)\n    protected String picture;\n\n    @Getter\n    @Column(insertable = false, updatable = false, nullable = false)\n    protected Instant creationDate;\n\n    @Getter @Setter\n    @Column(nullable = false)\n    protected Boolean admin;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    @OrderBy(&quot;endTime desc&quot;)\n    protected List&lt;Ban&gt; bans = new ArrayList&lt;&gt;();\n    public List&lt;Ban&gt; getBans(){\n        return Collections.unmodifiableList(bans);\n    }\n\n    public User(){}\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof User)) return false;\n        User user = (User) o;\n        return id.equals(user.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<h4>Section</h4>\n<pre><code>@Entity\npublic class Section implements Serializable {\n\n    @Getter @Setter\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @Getter @Setter\n    @Column(length = 255)\n    protected String description;\n\n\n    @Getter @Setter\n    @Column(length = 50, nullable = false, unique = true) @NaturalId(mutable = true)\n    protected String name;\n\n    @Getter @Setter\n    @Column(length = 4096)\n    protected String picture;\n\n    @Getter @Setter\n    @Column(length = 4096)\n    protected String banner;\n\n    @OneToMany(mappedBy=&quot;section&quot;)\n    @MapKeyJoinColumn(name=&quot;user_id&quot;, updatable = false, insertable = false)\n    @LazyCollection(LazyCollectionOption.EXTRA)\n    protected Map&lt;User, Follow&gt; follows;\n    public Follow getFollow(User user){\n        return follows.get(user);\n    }\n    public int getFollowCount(){\n        return follows.size();\n    }\n\n    public Section(){}\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Section)) return false;\n        Section section = (Section) o;\n        return id.equals(section.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}  \n</code></pre>\n<hr />\n<h5>Environment</h5>\n<ul>\n<li>TomEE 8.0.8</li>\n<li>Hibernate 5.6.5.Final</li>\n<li>MariaDB4j 2.5.3</li>\n</ul>\n"},{"tags":["java","android","sql","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643974878,"creation_date":1643974878,"answer_id":70985796,"question_id":70985618,"body_markdown":"Use variables rather than entering raw data into the sql string:\r\n\r\n    String query =&quot;select * from tb_inventory where SKU like &#39;%&#39; || ? || &#39;%&#39;&quot;;\r\n    cursor = db.rawQuery(query, new String[] { productcodewithoutspace });\r\n\r\nwhere `||` is sql string concatenation and `?` is the variable.","title":"E/SQLiteLog: (1) unrecognized token: &quot;&#39;%S-&quot; in &quot;select * from tb_inventory where SKU like &#39;%S-&quot;","body":"<p>Use variables rather than entering raw data into the sql string:</p>\n<pre><code>String query =&quot;select * from tb_inventory where SKU like '%' || ? || '%'&quot;;\ncursor = db.rawQuery(query, new String[] { productcodewithoutspace });\n</code></pre>\n<p>where <code>||</code> is sql string concatenation and <code>?</code> is the variable.</p>\n"}],"owner":{"account_id":11615238,"reputation":69,"user_id":8508219,"display_name":"Mr. Coolhead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643974878,"creation_date":1643973997,"question_id":70985618,"body_markdown":"I created an inventory management application using SQLite. I get an error like this:\r\n\r\n&gt; E/SQLiteLog: (1) unrecognized token: &quot;&#39;%S-&quot; in &quot;select * from\r\n&gt; tb_inventory where SKU like &#39;%S-&quot;\r\n\r\nThis error occurs if the string I entered has a special character. how to handle it?\r\n\r\n    String productcodewithoutspace = productcode.trim(); SQLiteDatabase db = myDB.getReadableDatabase();\r\n                    String query =&quot;select * from tb_inventory where SKU like &#39;%&quot;+ productcodewithoutspace +&quot;%&#39;&quot;;\r\n                    cursor = db.rawQuery(query, null);\r\n                    cursor.moveToFirst();\r\n                    if(cursor.getCount() &gt; 0) {\r\n                        skuTextView.setText(cursor.getString(1).toString());\r\n                        productNameTextView.setText(cursor.getString(2).toString());\r\n                    } else {\r\n                        Toast.makeText(PriceChecker.this, &quot;Data Not Found&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    cursor.close();","title":"E/SQLiteLog: (1) unrecognized token: &quot;&#39;%S-&quot; in &quot;select * from tb_inventory where SKU like &#39;%S-&quot;","body":"<p>I created an inventory management application using SQLite. I get an error like this:</p>\n<blockquote>\n<p>E/SQLiteLog: (1) unrecognized token: &quot;'%S-&quot; in &quot;select * from\ntb_inventory where SKU like '%S-&quot;</p>\n</blockquote>\n<p>This error occurs if the string I entered has a special character. how to handle it?</p>\n<pre><code>String productcodewithoutspace = productcode.trim(); SQLiteDatabase db = myDB.getReadableDatabase();\n                String query =&quot;select * from tb_inventory where SKU like '%&quot;+ productcodewithoutspace +&quot;%'&quot;;\n                cursor = db.rawQuery(query, null);\n                cursor.moveToFirst();\n                if(cursor.getCount() &gt; 0) {\n                    skuTextView.setText(cursor.getString(1).toString());\n                    productNameTextView.setText(cursor.getString(2).toString());\n                } else {\n                    Toast.makeText(PriceChecker.this, &quot;Data Not Found&quot;, Toast.LENGTH_SHORT).show();\n                }\n                cursor.close();\n</code></pre>\n"},{"tags":["java","spring-boot","rest","resttemplate","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":9344539,"reputation":1083,"user_id":6936154,"display_name":"Danil Perestoronin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643974778,"creation_date":1643968978,"answer_id":70984503,"question_id":70983399,"body_markdown":"You should map your response to `KeyValuePair[].class` not to `GetResponse.class` and add `@JsonFormat(shape= JsonFormat.Shape.ARRAY)` annotation to KeyValuePair class.\r\n\r\nSomething like this should work:\r\n\r\n**KeyValuePair class:**\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonFormat(shape= JsonFormat.Shape.ARRAY)\r\npublic static class KeyValuePair {\r\n   private String key;\r\n   private float rating;\r\n}\r\n```\r\n\r\n**Response:**\r\n```java\r\nKeyValuePair[] response = restTemplate.getForObject(url, KeyValuePair[].class);\r\n```","title":"How to de-serialize a raw array of arrays from REST response using Springboot RestTemplate","body":"<p>You should map your response to <code>KeyValuePair[].class</code> not to <code>GetResponse.class</code> and add <code>@JsonFormat(shape= JsonFormat.Shape.ARRAY)</code> annotation to KeyValuePair class.</p>\n<p>Something like this should work:</p>\n<p><strong>KeyValuePair class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonFormat(shape= JsonFormat.Shape.ARRAY)\npublic static class KeyValuePair {\n   private String key;\n   private float rating;\n}\n</code></pre>\n<p><strong>Response:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyValuePair[] response = restTemplate.getForObject(url, KeyValuePair[].class);\n</code></pre>\n"}],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70984503,"answer_count":1,"score":0,"last_activity_date":1643974778,"creation_date":1643963357,"question_id":70983399,"body_markdown":"I am using SpringBoot RestTemplate to consume a REST API. The response body consists of an array of arrays, with each of the nested arrays having a key value pair, similar to this: \r\n\r\n    [\r\n        [&quot;michael&quot;,0.9227975606918335],\r\n        [&quot;frank&quot;,0.888996958732605],\r\n        [&quot;christian&quot;,0.887883722782135]\r\n    ]\r\n\r\nThis JSON structure isn&#39;t ideal, of course, but I have to work with it. I would like to deserialize this response to a Java object that has one field (2-dim array).\r\n\r\nThe API is called like this: \r\n\r\n    GetResponse response = restTemplate.getForObject(url, GetResponse.class);\r\n\r\nThe Java class structure looks like this (all annotated with Lombok&#39;s @NoArgsConstructor, @AllArgsConstructor, @Getter, @Setter): \r\n\r\n```\r\n\tpublic class GetResponse {\r\n\t\t@JsonProperty\r\n\t\tprivate NamesArray[] data;\r\n\t}\r\n\r\n\tpublic class NamesArray {\r\n\t\t@JsonProperty\r\n\t\tprivate KeyValuePair[] data;\r\n\t}\r\n\r\n\tpublic class KeyValuePair {\r\n\t\t@JsonProperty\r\n\t\tprivate String key;\r\n\r\n\t\t@JsonProperty\r\n\t\tprivate float rating;\r\n\t}\r\n```\r\n\r\nThis should work, but I keep getting this error: \r\n\r\n    org.springframework.web.client.RestClientException: Error while extracting response for type \r\n    [class com.mypackage.Client$GetResponse] and content type [application/json]; nested exception is \r\n    org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot \r\n    deserialize value of type `com.mypackage.Client$GetResponse` from Array value (token `JsonToken.START_ARRAY`); \r\n    nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: \r\n    Cannot deserialize value of type `com.mypackage.Client$GetResponsesponse` from Array value (token `JsonToken.START_ARRAY`)\r\n\r\nAny ideas what the required class structure would look like? Am I missing a Jackson annotation anywhere? Note that I do get a response so the problem is clearly with the Deserialization. \r\nThanks. ","title":"How to de-serialize a raw array of arrays from REST response using Springboot RestTemplate","body":"<p>I am using SpringBoot RestTemplate to consume a REST API. The response body consists of an array of arrays, with each of the nested arrays having a key value pair, similar to this:</p>\n<pre><code>[\n    [&quot;michael&quot;,0.9227975606918335],\n    [&quot;frank&quot;,0.888996958732605],\n    [&quot;christian&quot;,0.887883722782135]\n]\n</code></pre>\n<p>This JSON structure isn't ideal, of course, but I have to work with it. I would like to deserialize this response to a Java object that has one field (2-dim array).</p>\n<p>The API is called like this:</p>\n<pre><code>GetResponse response = restTemplate.getForObject(url, GetResponse.class);\n</code></pre>\n<p>The Java class structure looks like this (all annotated with Lombok's @NoArgsConstructor, @AllArgsConstructor, @Getter, @Setter):</p>\n<pre><code>    public class GetResponse {\n        @JsonProperty\n        private NamesArray[] data;\n    }\n\n    public class NamesArray {\n        @JsonProperty\n        private KeyValuePair[] data;\n    }\n\n    public class KeyValuePair {\n        @JsonProperty\n        private String key;\n\n        @JsonProperty\n        private float rating;\n    }\n</code></pre>\n<p>This should work, but I keep getting this error:</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type \n[class com.mypackage.Client$GetResponse] and content type [application/json]; nested exception is \norg.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot \ndeserialize value of type `com.mypackage.Client$GetResponse` from Array value (token `JsonToken.START_ARRAY`); \nnested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: \nCannot deserialize value of type `com.mypackage.Client$GetResponsesponse` from Array value (token `JsonToken.START_ARRAY`)\n</code></pre>\n<p>Any ideas what the required class structure would look like? Am I missing a Jackson annotation anywhere? Note that I do get a response so the problem is clearly with the Deserialization.\nThanks.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643961718,"post_id":70983052,"comment_id":125482854,"body_markdown":"The first is just a warning. Spring doesn&#39;t support tomcat 10 use tomcat 9.","body":"The first is just a warning. Spring doesn&#39;t support tomcat 10 use tomcat 9."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1643963722,"post_id":70983052,"comment_id":125483496,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":18063924,"reputation":437,"user_id":13130352,"display_name":"Kaustubh Dwivedi"},"score":0,"creation_date":1643972608,"post_id":70983052,"comment_id":125486663,"body_markdown":"@OlafKock I removed the images and modified the question.","body":"@OlafKock I removed the images and modified the question."},{"owner":{"account_id":18063924,"reputation":437,"user_id":13130352,"display_name":"Kaustubh Dwivedi"},"score":0,"creation_date":1643974149,"post_id":70983052,"comment_id":125487292,"body_markdown":"@M.Deinum I switched to version 9 and modified my question. warning is gone, but java.lang.IllegalArgumentException still there","body":"@M.Deinum I switched to version 9 and modified my question. warning is gone, but java.lang.IllegalArgumentException still there"},{"owner":{"account_id":18413028,"reputation":636,"user_id":13412737,"display_name":"Xtense"},"score":1,"creation_date":1643974155,"post_id":70983052,"comment_id":125487294,"body_markdown":"[https://stackoverflow.com/questions/20821513/severe-parse-error-in-application-web-xml](https://stackoverflow.com/questions/20821513/severe-parse-error-in-application-web-xml).Check if this helps","body":"<a href=\"https://stackoverflow.com/questions/20821513/severe-parse-error-in-application-web-xml\">https://stackoverflow.com/questions/20821513/severe-parse-er&zwnj;&#8203;ror-in-application-w&zwnj;&#8203;eb-xml</a>.Check if this helps"},{"owner":{"account_id":18063924,"reputation":437,"user_id":13130352,"display_name":"Kaustubh Dwivedi"},"score":0,"creation_date":1643974740,"post_id":70983052,"comment_id":125487491,"body_markdown":"@Xtense Thanks it worked I missed the Servlet name in servlet mapping","body":"@Xtense Thanks it worked I missed the Servlet name in servlet mapping"}],"answers":[{"tags":[],"owner":{"account_id":18413028,"reputation":636,"user_id":13412737,"display_name":"Xtense"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643974770,"creation_date":1643974770,"answer_id":70985773,"question_id":70983052,"body_markdown":"```&lt;servlet-mapping&gt;``` should enclose ```&lt;servlet-name&gt;...&lt;/servlet-name&gt;``` instead of ```&lt;servlet-mapping&gt;``` tag\r\n\r\nHere is the correct code:\r\n\r\n```\r\n&lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n&lt;/servlet-mapping&gt;\r\n```\r\n","title":"java.lang.IllegalArgumentException error on Tomcat server -SpringMVC","body":"<p><code>&lt;servlet-mapping&gt;</code> should enclose <code>&lt;servlet-name&gt;...&lt;/servlet-name&gt;</code> instead of <code>&lt;servlet-mapping&gt;</code> tag</p>\n<p>Here is the correct code:</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":18063924,"reputation":437,"user_id":13130352,"display_name":"Kaustubh Dwivedi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70985773,"answer_count":1,"score":3,"last_activity_date":1643974770,"creation_date":1643961338,"question_id":70983052,"body_markdown":"Currently I am learning Spring MVC, when I run the Application on Tomcat server Version 9 , a 404 error comes with following error stack trace **(Platform : Windows 10)**\r\n\r\n\r\n***SEVERE: Parse error in application web.xml file at [file:/C:/Users/kaust/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/springmvc/WEB-INF/web.xml]\r\norg.xml.sax.SAXParseException; systemId: file:/C:/Users/kaust/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/springmvc/WEB-INF/web.xml; lineNumber: 14; columnNumber: 20; Error at line [14] column [20]: [Error converting [null] to type [java.lang.String]]***\r\n\r\n\r\n\r\nThe below warning opens up in a dialog box :\r\n***org.eclipse.emf.ecore.xmi.FeatureNotFoundException: Feature &#39;servlet-mapping&#39; not found.*** \r\n\r\n\r\n**My web.xml file**\r\n\r\n    &lt;web-app&gt;\r\n\t&lt;display-name&gt;Hello Spring MVC&lt;/display-name&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-mapping&gt;dispatcher&lt;/servlet-mapping&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt; &lt;/web-app&gt;\r\n  \r\n\r\n\r\n","title":"java.lang.IllegalArgumentException error on Tomcat server -SpringMVC","body":"<p>Currently I am learning Spring MVC, when I run the Application on Tomcat server Version 9 , a 404 error comes with following error stack trace <strong>(Platform : Windows 10)</strong></p>\n<p><em><strong>SEVERE: Parse error in application web.xml file at [file:/C:/Users/kaust/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/springmvc/WEB-INF/web.xml]\norg.xml.sax.SAXParseException; systemId: file:/C:/Users/kaust/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/springmvc/WEB-INF/web.xml; lineNumber: 14; columnNumber: 20; Error at line [14] column [20]: [Error converting [null] to type [java.lang.String]]</strong></em></p>\n<p>The below warning opens up in a dialog box :\n<em><strong>org.eclipse.emf.ecore.xmi.FeatureNotFoundException: Feature 'servlet-mapping' not found.</strong></em></p>\n<p><strong>My web.xml file</strong></p>\n<pre><code>&lt;web-app&gt;\n&lt;display-name&gt;Hello Spring MVC&lt;/display-name&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-mapping&gt;dispatcher&lt;/servlet-mapping&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt; &lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"score":0,"creation_date":1643968081,"post_id":70982859,"comment_id":125484941,"body_markdown":"no, as [cat, act, tac]  --&gt; these are perfect anagrams of each of its kind, which means its letter can be rearranged","body":"no, as [cat, act, tac]  --&gt; these are perfect anagrams of each of its kind, which means its letter can be rearranged"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643968953,"post_id":70982859,"comment_id":125485287,"body_markdown":"@user16320675 as I understand when they have exact anagrams they only one the first one in alphabetical order","body":"@user16320675 as I understand when they have exact anagrams they only one the first one in alphabetical order"},{"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"score":0,"creation_date":1643968954,"post_id":70982859,"comment_id":125485290,"body_markdown":"no, the real desirable O/P was o/P 2 and regardless of its any order for O/p to be print.","body":"no, the real desirable O/P was o/P 2 and regardless of its any order for O/p to be print."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643969322,"post_id":70982859,"comment_id":125485437,"body_markdown":"I must say I had a bit of a hard time understanding what `ns` is: this `String` does not represent a valid `String` (mostly NUL and other control characters!)  this is for me an abuse of the `String` type.","body":"I must say I had a bit of a hard time understanding what <code>ns</code> is: this <code>String</code> does not represent a valid <code>String</code> (mostly NUL and other control characters!)  this is for me an abuse of the <code>String</code> type."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643970204,"post_id":70982859,"comment_id":125485789,"body_markdown":"@user16320675 I agree with you that it should be more clearly mentioned in the question, dont worry","body":"@user16320675 I agree with you that it should be more clearly mentioned in the question, dont worry"}],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643970029,"creation_date":1643962371,"answer_id":70983241,"question_id":70982859,"body_markdown":"It&#39;s a two step process: First, get the minimum value of each sub-list. Then, sort those values:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        // Example data\r\n        List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;();\r\n        results.add(Arrays.asList(&quot;good&quot;));\r\n        results.add(Arrays.asList(&quot;god&quot;, &quot;dog&quot;));\r\n        results.add(Arrays.asList(&quot;cat&quot;, &quot;act&quot;, &quot;tac&quot;));\r\n\r\n        // Make a list of the smallest string of each list of strings\r\n        // and sort those.\r\n        List&lt;String&gt; smalls = results.stream()\r\n            .map(list -&gt; list.stream()\r\n                 .min(Comparator.naturalOrder())\r\n                 .orElse(&quot;(empty)&quot;))\r\n            .sorted()\r\n            .collect(Collectors.toList());\r\n\r\n        System.out.println(smalls); // [act, dog, good]\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nAnother approach is to store your lists of anagrams already sorted, to make finding the minimum word (Or maximum) of each group simpler. Using a `SortedSet` in the form of a `TreeSet` instead of `ArrayList`, for example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.SortedSet;\r\nimport java.util.TreeSet;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Demo {\r\n    public static Map&lt;String, SortedSet&lt;String&gt;&gt; groupAnagrams(Collection&lt;String&gt; words) {\r\n        return Objects.requireNonNull(words).stream()\r\n            .collect(Collectors.groupingBy(word -&gt; {\r\n                        int[] cps = word.codePoints().sorted().toArray();\r\n                        return new String(cps, 0, cps.length);\r\n                    },\r\n                    Collectors.toCollection(TreeSet::new)));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var anagrams = groupAnagrams(Arrays.asList(&quot;cat&quot;,&quot;act&quot;,&quot;tac&quot;,&quot;good&quot;,&quot;god&quot;,&quot;dog&quot;));\r\n        System.out.println(anagrams);\r\n        var smalls = anagrams.values().stream()\r\n            .map(SortedSet::first)\r\n            .sorted()\r\n            .collect(Collectors.toList());\r\n\r\n        System.out.println(smalls); // [act, dog, good]\r\n    }\r\n}\r\n```\r\n\r\nAlso note the streamlined anagram finding code that uses the `Collectors.groupingBy()` routine to group the words.","title":"Given a string array, return all anagrams and also print the final result which has smallest string as per dictionary","body":"<p>It's a two step process: First, get the minimum value of each sub-list. Then, sort those values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Demo {\n    public static void main(String[] args) {\n        // Example data\n        List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;();\n        results.add(Arrays.asList(&quot;good&quot;));\n        results.add(Arrays.asList(&quot;god&quot;, &quot;dog&quot;));\n        results.add(Arrays.asList(&quot;cat&quot;, &quot;act&quot;, &quot;tac&quot;));\n\n        // Make a list of the smallest string of each list of strings\n        // and sort those.\n        List&lt;String&gt; smalls = results.stream()\n            .map(list -&gt; list.stream()\n                 .min(Comparator.naturalOrder())\n                 .orElse(&quot;(empty)&quot;))\n            .sorted()\n            .collect(Collectors.toList());\n\n        System.out.println(smalls); // [act, dog, good]\n    }\n}\n</code></pre>\n<hr />\n<p>Another approach is to store your lists of anagrams already sorted, to make finding the minimum word (Or maximum) of each group simpler. Using a <code>SortedSet</code> in the form of a <code>TreeSet</code> instead of <code>ArrayList</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.SortedSet;\nimport java.util.TreeSet;\nimport java.util.stream.Collectors;\n\npublic class Demo {\n    public static Map&lt;String, SortedSet&lt;String&gt;&gt; groupAnagrams(Collection&lt;String&gt; words) {\n        return Objects.requireNonNull(words).stream()\n            .collect(Collectors.groupingBy(word -&gt; {\n                        int[] cps = word.codePoints().sorted().toArray();\n                        return new String(cps, 0, cps.length);\n                    },\n                    Collectors.toCollection(TreeSet::new)));\n    }\n\n    public static void main(String[] args) {\n        var anagrams = groupAnagrams(Arrays.asList(&quot;cat&quot;,&quot;act&quot;,&quot;tac&quot;,&quot;good&quot;,&quot;god&quot;,&quot;dog&quot;));\n        System.out.println(anagrams);\n        var smalls = anagrams.values().stream()\n            .map(SortedSet::first)\n            .sorted()\n            .collect(Collectors.toList());\n\n        System.out.println(smalls); // [act, dog, good]\n    }\n}\n</code></pre>\n<p>Also note the streamlined anagram finding code that uses the <code>Collectors.groupingBy()</code> routine to group the words.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643974721,"creation_date":1643974721,"answer_id":70985757,"question_id":70982859,"body_markdown":"As [Shawn mentions in his answer](https://stackoverflow.com/a/70983241/525036), you need to do this in a 2-step process.\r\n\r\nA possible improvement however is to already select the smallest word (based on alphabetical order) among perfect anagrams in the first step, so only the sorting is necessary in the second step:\r\n\r\n\tpublic static List&lt;String&gt; sortedUniqueAnagrams(String[] strs) {\r\n\t\treturn Arrays.stream(strs)\r\n\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\ts -&gt; s.chars().mapToObj(c -&gt; c).collect(Collectors.groupingBy(c -&gt; c, Collectors.counting())),\r\n\t\t\t\t\t\ts -&gt; s,\r\n\t\t\t\t\t\tBinaryOperator.minBy(Comparator.&lt;String&gt;naturalOrder())))\r\n\t\t\t\t.values()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.sorted()\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n\r\nSome notes:\r\n* the 2 steps are the 2 `collect()` operations\r\n* the first step is more or less identical to your `groupAnagrams()` implementation except:\r\n  * It uses `Map&lt;Integer, Long&gt;` as map keys to avoid abusing the `String` type like in the question. `Integer` and `Long` are just the default types based on `s.chars()` and `Collectors.counting()`\r\n  * The values are the smallest word among perfect anagrams\r\n* this is Java 8 code:\r\n  * In more recent versions you could use `String.codePoints()` instead of `String.chars()` to handle 2-char special characters. Probably not an issue here as your anagrams seem to be using Latin characters.\r\n  * It seems the compiler needs a little bit of hint on `Comparator.&lt;String&gt;naturalOrder()` otherwise it does not understand the expected types\r\n\r\nUse with:\r\n\r\n\tString[] strAr1 = new String[]{ &quot;cat&quot;, &quot;act&quot;, &quot;tac&quot;, &quot;good&quot;, &quot;god&quot;, &quot;dog&quot; };\r\n\r\n\tSystem.out.println(sortedUniqueAnagrams(strAr1));\r\n\r\nOutput:\r\n\r\n    [act, dog, good]","title":"Given a string array, return all anagrams and also print the final result which has smallest string as per dictionary","body":"<p>As <a href=\"https://stackoverflow.com/a/70983241/525036\">Shawn mentions in his answer</a>, you need to do this in a 2-step process.</p>\n<p>A possible improvement however is to already select the smallest word (based on alphabetical order) among perfect anagrams in the first step, so only the sorting is necessary in the second step:</p>\n<pre><code>public static List&lt;String&gt; sortedUniqueAnagrams(String[] strs) {\n    return Arrays.stream(strs)\n            .collect(Collectors.toMap(\n                    s -&gt; s.chars().mapToObj(c -&gt; c).collect(Collectors.groupingBy(c -&gt; c, Collectors.counting())),\n                    s -&gt; s,\n                    BinaryOperator.minBy(Comparator.&lt;String&gt;naturalOrder())))\n            .values()\n            .stream()\n            .sorted()\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Some notes:</p>\n<ul>\n<li>the 2 steps are the 2 <code>collect()</code> operations</li>\n<li>the first step is more or less identical to your <code>groupAnagrams()</code> implementation except:\n<ul>\n<li>It uses <code>Map&lt;Integer, Long&gt;</code> as map keys to avoid abusing the <code>String</code> type like in the question. <code>Integer</code> and <code>Long</code> are just the default types based on <code>s.chars()</code> and <code>Collectors.counting()</code></li>\n<li>The values are the smallest word among perfect anagrams</li>\n</ul>\n</li>\n<li>this is Java 8 code:\n<ul>\n<li>In more recent versions you could use <code>String.codePoints()</code> instead of <code>String.chars()</code> to handle 2-char special characters. Probably not an issue here as your anagrams seem to be using Latin characters.</li>\n<li>It seems the compiler needs a little bit of hint on <code>Comparator.&lt;String&gt;naturalOrder()</code> otherwise it does not understand the expected types</li>\n</ul>\n</li>\n</ul>\n<p>Use with:</p>\n<pre><code>String[] strAr1 = new String[]{ &quot;cat&quot;, &quot;act&quot;, &quot;tac&quot;, &quot;good&quot;, &quot;god&quot;, &quot;dog&quot; };\n\nSystem.out.println(sortedUniqueAnagrams(strAr1));\n</code></pre>\n<p>Output:</p>\n<pre><code>[act, dog, good]\n</code></pre>\n"}],"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643974721,"creation_date":1643960126,"question_id":70982859,"body_markdown":"I&#39;m trying to find the smallest word in the sorted anagram of array of string. This is what I have so far:\r\n\r\n \r\n\r\n    public static List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\r\n        List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n\r\n        HashMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n        for(String str: strs){\r\n            char[] arr = new char[26];\r\n            for(int i=0; i&lt;str.length(); i++){\r\n                arr[str.charAt(i)-&#39;a&#39;]++;\r\n            }\r\n            String ns = new String(arr);\r\n\r\n            if(map.containsKey(ns)){\r\n                map.get(ns).add(str);\r\n            }else{\r\n                ArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;();\r\n                al.add(str);\r\n                map.put(ns, al);\r\n            }\r\n        }\r\n\r\n        result.addAll(map.values());\r\n\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] strAr1=new String[]{&quot;cat&quot;,&quot;act&quot;,&quot;tac&quot;,&quot;good&quot;,&quot;god&quot;,&quot;dog&quot;};\r\n\r\n        System.out.println(groupAnagrams(strAr1));\r\n\r\n\r\n\r\n    }\r\n\r\n\r\nThis yields me a result with :\r\n\r\n&gt; O/P 1 : [[good], [god, dog], [cat, act, tac]]\r\n\r\n\r\nBut I also need to sort it like to have the desired output as with english dictionary, how can i achieve this ?\r\n\r\n\r\n\r\n&gt; O/P 2: act,  dog, good\r\n\r\n","title":"Given a string array, return all anagrams and also print the final result which has smallest string as per dictionary","body":"<p>I'm trying to find the smallest word in the sorted anagram of array of string. This is what I have so far:</p>\n<pre><code>public static List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\n    List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\n\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    for(String str: strs){\n        char[] arr = new char[26];\n        for(int i=0; i&lt;str.length(); i++){\n            arr[str.charAt(i)-'a']++;\n        }\n        String ns = new String(arr);\n\n        if(map.containsKey(ns)){\n            map.get(ns).add(str);\n        }else{\n            ArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;();\n            al.add(str);\n            map.put(ns, al);\n        }\n    }\n\n    result.addAll(map.values());\n\n    return result;\n}\n\npublic static void main(String[] args) {\n    String[] strAr1=new String[]{&quot;cat&quot;,&quot;act&quot;,&quot;tac&quot;,&quot;good&quot;,&quot;god&quot;,&quot;dog&quot;};\n\n    System.out.println(groupAnagrams(strAr1));\n\n\n\n}\n</code></pre>\n<p>This yields me a result with :</p>\n<blockquote>\n<p>O/P 1 : [[good], [god, dog], [cat, act, tac]]</p>\n</blockquote>\n<p>But I also need to sort it like to have the desired output as with english dictionary, how can i achieve this ?</p>\n<blockquote>\n<p>O/P 2: act,  dog, good</p>\n</blockquote>\n"},{"tags":["java","fortify"],"comments":[{"owner":{"account_id":4639564,"reputation":2396,"user_id":3759822,"accept_rate":65,"display_name":"Fourat"},"score":0,"creation_date":1553847942,"post_id":55413074,"comment_id":97545569,"body_markdown":"Please edit your question and add more details about your problem","body":"Please edit your question and add more details about your problem"}],"answers":[{"tags":[],"owner":{"account_id":6512308,"reputation":186,"user_id":5039145,"accept_rate":10,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643974506,"creation_date":1643974506,"answer_id":70985702,"question_id":55413074,"body_markdown":"Although, I am late to this. If someone else is looking for an answer then use below:\r\n\r\n    org.springframework.util.ReflectionUtils.ReflectionUtils.makeAccessible(mListenerInfoField);\r\ninstead of\r\n\r\n \r\n\r\n    mListenerInfoField.setAccessible(true);\r\n\r\nI tested it and it&#39;s working perfectly fine. No complaints from Fortify as well.","title":"Fortify High: Access Specifier Manipulation issue in VAPT Java","body":"<p>Although, I am late to this. If someone else is looking for an answer then use below:</p>\n<pre><code>org.springframework.util.ReflectionUtils.ReflectionUtils.makeAccessible(mListenerInfoField);\n</code></pre>\n<p>instead of</p>\n<pre><code>mListenerInfoField.setAccessible(true);\n</code></pre>\n<p>I tested it and it's working perfectly fine. No complaints from Fortify as well.</p>\n"}],"owner":{"account_id":12870337,"reputation":39,"user_id":9309028,"display_name":"Swapnali kakulate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1730,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1643974506,"creation_date":1553847325,"question_id":55413074,"body_markdown":"- Access specifier manipulation issue occurs to the setAccessible(true).\r\n- Recommendations: Access specifiers should only be changed by a privileged class using arguments that an attacker cannot set. All occurrences should be examined carefully.\r\n- How can i avoid this issue , for the below line\r\n      mListenerInfoField.setAccessible(true);\r\n- This is the snippet of my code \r\n\r\n        ListenerGetterIcs() {\r\n            mListenerInfoField = getField(View.class, &quot;mListenerInfo&quot;);\r\n            if ( !Modifier.isPublic(mListenerInfoField.getModifiers())) {\r\n                mListenerInfoField.setAccessible(true);\r\n            }\r\n            mOnClickListenerField = getField(&quot;android.view.View$ListenerInfo&quot;, &quot;mOnClickListener&quot;);\r\n        }","title":"Fortify High: Access Specifier Manipulation issue in VAPT Java","body":"<ul>\n<li>Access specifier manipulation issue occurs to the setAccessible(true).</li>\n<li>Recommendations: Access specifiers should only be changed by a privileged class using arguments that an attacker cannot set. All occurrences should be examined carefully.</li>\n<li>How can i avoid this issue , for the below line\n  mListenerInfoField.setAccessible(true);</li>\n<li><p>This is the snippet of my code </p>\n\n<pre><code>ListenerGetterIcs() {\n    mListenerInfoField = getField(View.class, \"mListenerInfo\");\n    if ( !Modifier.isPublic(mListenerInfoField.getModifiers())) {\n        mListenerInfoField.setAccessible(true);\n    }\n    mOnClickListenerField = getField(\"android.view.View$ListenerInfo\", \"mOnClickListener\");\n}\n</code></pre></li>\n</ul>\n"},{"tags":["java","swing","zip4j"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643972914,"creation_date":1643972914,"answer_id":70985389,"question_id":70983440,"body_markdown":"I presume you are referring to this [Zip4J][1].  \r\nHere is a demo *Swing* app that hopefully does what you want.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.io.File;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JProgressBar;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingWorker;\r\n\r\nimport net.lingala.zip4j.ZipFile;\r\nimport net.lingala.zip4j.progress.ProgressMonitor;\r\n\r\npublic class Zip4jGui implements Runnable {\r\n    private JFileChooser  fileChooser;\r\n    private JFrame  frame;\r\n    private JProgressBar  progressBar;\r\n    private JTextField  zipFileTextField;\r\n\r\n    @Override\r\n    public void run() {\r\n        createAndDisplayGui();\r\n    }\r\n\r\n    private void browseFiles(ActionEvent event) {\r\n        if (fileChooser == null) {\r\n            fileChooser = new JFileChooser();\r\n        }\r\n        int choice = fileChooser.showOpenDialog(frame);\r\n        if (choice == JFileChooser.APPROVE_OPTION) {\r\n            File zipFile = fileChooser.getSelectedFile();\r\n            zipFileTextField.setText(zipFile.getAbsolutePath());\r\n        }\r\n    }\r\n\r\n    private void createAndDisplayGui() {\r\n        frame = new JFrame(&quot;Zip4J&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createProgressPanel(), BorderLayout.PAGE_START);\r\n        frame.add(createFilePanel(), BorderLayout.CENTER);\r\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButtonsPanel() {\r\n        JPanel buttonsPanel = new JPanel();\r\n        JButton extractButton = new JButton(&quot;Extract&quot;);\r\n        extractButton.addActionListener(this::extractZip);\r\n        buttonsPanel.add(extractButton);\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JPanel createFilePanel() {\r\n        JPanel filePanel = new JPanel();\r\n        JLabel zipFileLabel = new JLabel(&quot;ZIP File&quot;);\r\n        filePanel.add(zipFileLabel);\r\n        zipFileTextField = new JTextField(20);\r\n        filePanel.add(zipFileTextField);\r\n        JButton browseButton = new JButton(&quot;Browse...&quot;);\r\n        browseButton.addActionListener(this::browseFiles);\r\n        filePanel.add(browseButton);\r\n        return filePanel;\r\n    }\r\n\r\n    private JPanel createProgressPanel() {\r\n        JPanel progressPanel = new JPanel();\r\n        JLabel progressLabel = new JLabel(&quot;Progress&quot;);\r\n        progressPanel.add(progressLabel);\r\n        progressBar = new JProgressBar(0, 100);\r\n        progressPanel.add(progressBar);\r\n        return progressPanel;\r\n    }\r\n\r\n    private void extractZip(ActionEvent event) {\r\n        XtrctTsk task = new XtrctTsk();\r\n        task.execute();\r\n    }\r\n\r\n    private class XtrctTsk extends SwingWorker&lt;Void, Integer&gt; {\r\n        private ProgressMonitor  progressMonitor;\r\n\r\n        @Override\r\n        protected Void doInBackground() throws Exception {\r\n            String path = zipFileTextField.getText();\r\n            File f = new File(path);\r\n            try (ZipFile zipFile = new ZipFile(f)) {\r\n                progressMonitor = zipFile.getProgressMonitor();\r\n                zipFile.setRunInThread(true);\r\n                File dir = f.getParentFile();\r\n                zipFile.extractAll(dir.getAbsolutePath());\r\n                while (!progressMonitor.getState().equals(ProgressMonitor.State.READY)) {\r\n                    int done = progressMonitor.getPercentDone();\r\n                    System.out.println(&quot;done: &quot; + done);\r\n                    publish(done);\r\n                    try {\r\n                        Thread.sleep(100);\r\n                    }\r\n                    catch (InterruptedException xInterrupted) {\r\n                        // Safe to ignore (I think).\r\n                        // xInterrupted.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        protected void done() {\r\n            progressBar.setValue(100);\r\n            JOptionPane.showMessageDialog(frame,\r\n                                          &quot;Extraction ended.&quot;,\r\n                                          progressMonitor.getResult().toString(),\r\n                                          JOptionPane.INFORMATION_MESSAGE);\r\n        }\r\n\r\n        protected void process(List&lt;Integer&gt; percents) {\r\n            System.out.println(&quot;percents = &quot; + percents);\r\n            if (percents != null) {\r\n                int size = percents.size();\r\n                System.out.println(&quot;size = &quot; + size);\r\n                if (size &gt; 0) {\r\n                    progressBar.setValue(percents.get(size - 1));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Zip4jGui instance = new Zip4jGui();\r\n        EventQueue.invokeLater(instance);\r\n    }\r\n}\r\n```\r\nThis is how it looks when I run it.\r\n\r\n[![screen capture][2]][2]\r\n\r\nRefer to the following.\r\n- [README.md][7] file in Zip4J GitHub repository\r\n- [How to Use File Choosers][3]\r\n- [How to Use Progress Bars][4]\r\n- [Concurrency in Swing][5]\r\n- [Method References][6]\r\n\r\n\r\n  [1]: http://www.lingala.net/zip4j.html\r\n  [2]: https://i.stack.imgur.com/NqYMY.png\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/components/progress.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [7]: https://github.com/srikanth-lingala/zip4j","title":"ZIP4J Unzipping/Extraction with ProgressBar / Progress Monitor","body":"<p>I presume you are referring to this <a href=\"http://www.lingala.net/zip4j.html\" rel=\"nofollow noreferrer\">Zip4J</a>.<br />\nHere is a demo <em>Swing</em> app that hopefully does what you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.io.File;\nimport java.util.List;\n\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.JTextField;\nimport javax.swing.SwingWorker;\n\nimport net.lingala.zip4j.ZipFile;\nimport net.lingala.zip4j.progress.ProgressMonitor;\n\npublic class Zip4jGui implements Runnable {\n    private JFileChooser  fileChooser;\n    private JFrame  frame;\n    private JProgressBar  progressBar;\n    private JTextField  zipFileTextField;\n\n    @Override\n    public void run() {\n        createAndDisplayGui();\n    }\n\n    private void browseFiles(ActionEvent event) {\n        if (fileChooser == null) {\n            fileChooser = new JFileChooser();\n        }\n        int choice = fileChooser.showOpenDialog(frame);\n        if (choice == JFileChooser.APPROVE_OPTION) {\n            File zipFile = fileChooser.getSelectedFile();\n            zipFileTextField.setText(zipFile.getAbsolutePath());\n        }\n    }\n\n    private void createAndDisplayGui() {\n        frame = new JFrame(&quot;Zip4J&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createProgressPanel(), BorderLayout.PAGE_START);\n        frame.add(createFilePanel(), BorderLayout.CENTER);\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonsPanel() {\n        JPanel buttonsPanel = new JPanel();\n        JButton extractButton = new JButton(&quot;Extract&quot;);\n        extractButton.addActionListener(this::extractZip);\n        buttonsPanel.add(extractButton);\n        return buttonsPanel;\n    }\n\n    private JPanel createFilePanel() {\n        JPanel filePanel = new JPanel();\n        JLabel zipFileLabel = new JLabel(&quot;ZIP File&quot;);\n        filePanel.add(zipFileLabel);\n        zipFileTextField = new JTextField(20);\n        filePanel.add(zipFileTextField);\n        JButton browseButton = new JButton(&quot;Browse...&quot;);\n        browseButton.addActionListener(this::browseFiles);\n        filePanel.add(browseButton);\n        return filePanel;\n    }\n\n    private JPanel createProgressPanel() {\n        JPanel progressPanel = new JPanel();\n        JLabel progressLabel = new JLabel(&quot;Progress&quot;);\n        progressPanel.add(progressLabel);\n        progressBar = new JProgressBar(0, 100);\n        progressPanel.add(progressBar);\n        return progressPanel;\n    }\n\n    private void extractZip(ActionEvent event) {\n        XtrctTsk task = new XtrctTsk();\n        task.execute();\n    }\n\n    private class XtrctTsk extends SwingWorker&lt;Void, Integer&gt; {\n        private ProgressMonitor  progressMonitor;\n\n        @Override\n        protected Void doInBackground() throws Exception {\n            String path = zipFileTextField.getText();\n            File f = new File(path);\n            try (ZipFile zipFile = new ZipFile(f)) {\n                progressMonitor = zipFile.getProgressMonitor();\n                zipFile.setRunInThread(true);\n                File dir = f.getParentFile();\n                zipFile.extractAll(dir.getAbsolutePath());\n                while (!progressMonitor.getState().equals(ProgressMonitor.State.READY)) {\n                    int done = progressMonitor.getPercentDone();\n                    System.out.println(&quot;done: &quot; + done);\n                    publish(done);\n                    try {\n                        Thread.sleep(100);\n                    }\n                    catch (InterruptedException xInterrupted) {\n                        // Safe to ignore (I think).\n                        // xInterrupted.printStackTrace();\n                    }\n                }\n            }\n            return null;\n        }\n\n        protected void done() {\n            progressBar.setValue(100);\n            JOptionPane.showMessageDialog(frame,\n                                          &quot;Extraction ended.&quot;,\n                                          progressMonitor.getResult().toString(),\n                                          JOptionPane.INFORMATION_MESSAGE);\n        }\n\n        protected void process(List&lt;Integer&gt; percents) {\n            System.out.println(&quot;percents = &quot; + percents);\n            if (percents != null) {\n                int size = percents.size();\n                System.out.println(&quot;size = &quot; + size);\n                if (size &gt; 0) {\n                    progressBar.setValue(percents.get(size - 1));\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Zip4jGui instance = new Zip4jGui();\n        EventQueue.invokeLater(instance);\n    }\n}\n</code></pre>\n<p>This is how it looks when I run it.</p>\n<p><a href=\"https://i.stack.imgur.com/NqYMY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqYMY.png\" alt=\"screen capture\" /></a></p>\n<p>Refer to the following.</p>\n<ul>\n<li><a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">README.md</a> file in Zip4J GitHub repository</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">How to Use File Choosers</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/progress.html\" rel=\"nofollow noreferrer\">How to Use Progress Bars</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Method References</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643974244,"creation_date":1643973558,"answer_id":70985515,"question_id":70983440,"body_markdown":"To my surprise, Zip4J actually has a reasonable concept of a &quot;progression&quot;!\r\n\r\nThere&#39;s a number of ways you might make this work with Swing, but probably the easiest is to use a `SwingWorker`, which also has a concept of &quot;progression&quot;\r\n\r\nSee...\r\n\r\n* [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)\r\n* [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n\r\nfor more details\r\n\r\n# Runnable example...\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.io.File;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JProgressBar;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.border.EmptyBorder;\r\n    import net.lingala.zip4j.ZipFile;\r\n    import net.lingala.zip4j.exception.ZipException;\r\n    import net.lingala.zip4j.progress.ProgressMonitor;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (ZipException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JProgressBar progressBar;\r\n\r\n            public TestPane() throws ZipException {\r\n                progressBar = new JProgressBar();\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n                add(progressBar);\r\n\r\n                ZipFile zipFile = new ZipFile(new File(&quot;Test.zip&quot;));\r\n                ProgressMonitor monitor = zipFile.getProgressMonitor();\r\n                zipFile.setRunInThread(true);\r\n                Zip4JZorker worker = new Zip4JZorker(monitor);\r\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                    @Override\r\n                    public void propertyChange(PropertyChangeEvent evt) {\r\n                        String propertyName = evt.getPropertyName();\r\n                        Object newValue = evt.getNewValue();\r\n                        System.out.println(propertyName + &quot;/&quot; + newValue);\r\n                        if (&quot;progress&quot;.equals(propertyName) &amp;&amp; newValue instanceof Integer) {\r\n                            int progress = (int) newValue;\r\n                            progressBar.setValue(progress);\r\n                        } else if (&quot;state&quot;.equals(propertyName) &amp;&amp; newValue instanceof SwingWorker.StateValue) {\r\n                            SwingWorker.StateValue state = (SwingWorker.StateValue) newValue;\r\n                            if (state == SwingWorker.StateValue.DONE) {\r\n                                try {\r\n                                    ((SwingWorker)evt.getSource()).get();\r\n                                } catch (Exception ex) {\r\n                                    ex.printStackTrace();\r\n                                    JOptionPane.showMessageDialog(TestPane.this, &quot;Operation failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                zipFile.addFolder(new File(&quot;/some/folder/you/want/zipped&quot;));\r\n                worker.execute();\r\n            }\r\n\r\n        }\r\n\r\n        public class Zip4JZorker extends SwingWorker&lt;Void, Void&gt; {\r\n\r\n            private ProgressMonitor progressMonitor;\r\n\r\n            public Zip4JZorker(ProgressMonitor progressMonitor) {\r\n                this.progressMonitor = progressMonitor;\r\n            }\r\n\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n                while (!progressMonitor.getState().equals(ProgressMonitor.State.READY)) {\r\n                    //System.out.println(&quot;Percentage done: &quot; + progressMonitor.getPercentDone());\r\n                    //System.out.println(&quot;Current file: &quot; + progressMonitor.getFileName());\r\n                    //System.out.println(&quot;Current task: &quot; + progressMonitor.getCurrentTask());\r\n                    // You could pass on some information to the UI via the\r\n                    // publish method\r\n                    setProgress(progressMonitor.getPercentDone());\r\n                    Thread.sleep(100);\r\n                }\r\n                // Again, you could pass on additional information to the\r\n                // UI via the publish method\r\n                if (progressMonitor.getResult().equals(ProgressMonitor.Result.SUCCESS)) {\r\n                    System.out.println(&quot;Successfully added folder to zip&quot;);\r\n                } else if (progressMonitor.getResult().equals(ProgressMonitor.Result.ERROR)) {\r\n                    throw progressMonitor.getException();\r\n                } else if (progressMonitor.getResult().equals(ProgressMonitor.Result.CANCELLED)) {\r\n                    System.out.println(&quot;Task cancelled&quot;);\r\n                }\r\n                return null;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nOkay, before anyone asks, what&#39;s the difference between this an @Abra&#39;s answer, the basic answer is, I use `setProgress` over `publish`.\r\n\r\n`publish` can then be used to provide additional details, like the current file being processed.  This is just a different way to approach the same problem &#128521;","title":"ZIP4J Unzipping/Extraction with ProgressBar / Progress Monitor","body":"<p>To my surprise, Zip4J actually has a reasonable concept of a &quot;progression&quot;!</p>\n<p>There's a number of ways you might make this work with Swing, but probably the easiest is to use a <code>SwingWorker</code>, which also has a concept of &quot;progression&quot;</p>\n<p>See...</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></li>\n</ul>\n<p>for more details</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.io.File;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingWorker;\nimport javax.swing.border.EmptyBorder;\nimport net.lingala.zip4j.ZipFile;\nimport net.lingala.zip4j.exception.ZipException;\nimport net.lingala.zip4j.progress.ProgressMonitor;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (ZipException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JProgressBar progressBar;\n\n        public TestPane() throws ZipException {\n            progressBar = new JProgressBar();\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n            add(progressBar);\n\n            ZipFile zipFile = new ZipFile(new File(&quot;Test.zip&quot;));\n            ProgressMonitor monitor = zipFile.getProgressMonitor();\n            zipFile.setRunInThread(true);\n            Zip4JZorker worker = new Zip4JZorker(monitor);\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\n                @Override\n                public void propertyChange(PropertyChangeEvent evt) {\n                    String propertyName = evt.getPropertyName();\n                    Object newValue = evt.getNewValue();\n                    System.out.println(propertyName + &quot;/&quot; + newValue);\n                    if (&quot;progress&quot;.equals(propertyName) &amp;&amp; newValue instanceof Integer) {\n                        int progress = (int) newValue;\n                        progressBar.setValue(progress);\n                    } else if (&quot;state&quot;.equals(propertyName) &amp;&amp; newValue instanceof SwingWorker.StateValue) {\n                        SwingWorker.StateValue state = (SwingWorker.StateValue) newValue;\n                        if (state == SwingWorker.StateValue.DONE) {\n                            try {\n                                ((SwingWorker)evt.getSource()).get();\n                            } catch (Exception ex) {\n                                ex.printStackTrace();\n                                JOptionPane.showMessageDialog(TestPane.this, &quot;Operation failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                            }\n                        }\n                    }\n                }\n            });\n            zipFile.addFolder(new File(&quot;/some/folder/you/want/zipped&quot;));\n            worker.execute();\n        }\n\n    }\n\n    public class Zip4JZorker extends SwingWorker&lt;Void, Void&gt; {\n\n        private ProgressMonitor progressMonitor;\n\n        public Zip4JZorker(ProgressMonitor progressMonitor) {\n            this.progressMonitor = progressMonitor;\n        }\n\n        @Override\n        protected Void doInBackground() throws Exception {\n            while (!progressMonitor.getState().equals(ProgressMonitor.State.READY)) {\n                //System.out.println(&quot;Percentage done: &quot; + progressMonitor.getPercentDone());\n                //System.out.println(&quot;Current file: &quot; + progressMonitor.getFileName());\n                //System.out.println(&quot;Current task: &quot; + progressMonitor.getCurrentTask());\n                // You could pass on some information to the UI via the\n                // publish method\n                setProgress(progressMonitor.getPercentDone());\n                Thread.sleep(100);\n            }\n            // Again, you could pass on additional information to the\n            // UI via the publish method\n            if (progressMonitor.getResult().equals(ProgressMonitor.Result.SUCCESS)) {\n                System.out.println(&quot;Successfully added folder to zip&quot;);\n            } else if (progressMonitor.getResult().equals(ProgressMonitor.Result.ERROR)) {\n                throw progressMonitor.getException();\n            } else if (progressMonitor.getResult().equals(ProgressMonitor.Result.CANCELLED)) {\n                System.out.println(&quot;Task cancelled&quot;);\n            }\n            return null;\n        }\n\n    }\n}\n</code></pre>\n<p>Okay, before anyone asks, what's the difference between this an @Abra's answer, the basic answer is, I use <code>setProgress</code> over <code>publish</code>.</p>\n<p><code>publish</code> can then be used to provide additional details, like the current file being processed.  This is just a different way to approach the same problem </p>\n"}],"owner":{"account_id":23314972,"reputation":51,"user_id":17393709,"display_name":"Scabbard Gaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643974244,"creation_date":1643963633,"question_id":70983440,"body_markdown":"My question is, how do we achieve putting some progress bar or progress monitoring in unzipping `zip file` using ZIP4j library and the `.extractAll` method. I&#39;ve done a research about this but I did not find any solution for this or maybe I didn&#39;t meet the right answer on internet, and I&#39;m here now to ask anyone on how to do it. I&#39;m using GUI Swing framework for testing only. I hope someone can lend their hand answering it. Thank you!","title":"ZIP4J Unzipping/Extraction with ProgressBar / Progress Monitor","body":"<p>My question is, how do we achieve putting some progress bar or progress monitoring in unzipping <code>zip file</code> using ZIP4j library and the <code>.extractAll</code> method. I've done a research about this but I did not find any solution for this or maybe I didn't meet the right answer on internet, and I'm here now to ask anyone on how to do it. I'm using GUI Swing framework for testing only. I hope someone can lend their hand answering it. Thank you!</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1643966428,"post_id":70983936,"comment_id":125484375,"body_markdown":"Does the app have permission to access the external storage?","body":"Does the app have permission to access the external storage?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1643967875,"post_id":70983936,"comment_id":125484871,"body_markdown":"Please edit your question and add the code that produces this error.","body":"Please edit your question and add the code that produces this error."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643969296,"creation_date":1643969296,"answer_id":70984574,"question_id":70983936,"body_markdown":"The error is occurring because the image view in which you setting the image, is null. Did you initialise it? If it is not initialised, it will crash because java will take it as `null.setImageUri()` but you cannot do anything on null. So initialise the image view in order to get safe from the error\r\n","title":"Android application, uploading profile picture not functioning","body":"<p>The error is occurring because the image view in which you setting the image, is null. Did you initialise it? If it is not initialised, it will crash because java will take it as <code>null.setImageUri()</code> but you cannot do anything on null. So initialise the image view in order to get safe from the error</p>\n"}],"owner":{"account_id":23964502,"reputation":1,"user_id":17954200,"display_name":"Helih Tech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643987583,"answer_count":1,"score":0,"last_activity_date":1643974121,"creation_date":1643966241,"question_id":70983936,"body_markdown":"I am developing an android application which requires me the user to sign up and then set profile picture and user name. the registration is working properly and sending the data to Firebase but when it comes to uploading the profile photo, the application reading the gallery and picks the image but does not send the image to the Firebase neither does it set it in the image view. below is the error i get upon examination since the application terminates at that point.\r\n```\r\nE**/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.chatme, PID: 23039\r\n    java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=123, result=-1, data=Intent { dat=content://com.google.android.apps.photos.contentprovider/0/1/content://media/external/images/media/211575/ORIGINAL/NONE/image/jpeg/79264842 flg=0x1 clip={text/uri-list U:content://com.google.android.apps.photos.contentprovider/0/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F211575/ORIGINAL/NONE/image%2Fjpeg/79264842} }} to activity {com.example.chatme/com.example.chatme.profile}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageURI(android.net.Uri)&#39; on a null object reference\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4309)\r\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4353)\r\n        at android.app.ActivityThread.-wrap20(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1678)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6548)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:888)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageURI(android.net.Uri)&#39; on a null object reference\r\n        at com.example.chatme.profile.onActivityResult(profile.java:108)\r\n        at android.app.Activity.dispatchActivityResult(Activity.java:7311)\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4305)\r\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4353)&#160;\r\n        at android.app.ActivityThread.-wrap20(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1678)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6548)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:888)**&#160;\r\n```","title":"Android application, uploading profile picture not functioning","body":"<p>I am developing an android application which requires me the user to sign up and then set profile picture and user name. the registration is working properly and sending the data to Firebase but when it comes to uploading the profile photo, the application reading the gallery and picks the image but does not send the image to the Firebase neither does it set it in the image view. below is the error i get upon examination since the application terminates at that point.</p>\n<pre><code>E**/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.chatme, PID: 23039\n    java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=123, result=-1, data=Intent { dat=content://com.google.android.apps.photos.contentprovider/0/1/content://media/external/images/media/211575/ORIGINAL/NONE/image/jpeg/79264842 flg=0x1 clip={text/uri-list U:content://com.google.android.apps.photos.contentprovider/0/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F211575/ORIGINAL/NONE/image%2Fjpeg/79264842} }} to activity {com.example.chatme/com.example.chatme.profile}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageURI(android.net.Uri)' on a null object reference\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4309)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4353)\n        at android.app.ActivityThread.-wrap20(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1678)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6548)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:888)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageURI(android.net.Uri)' on a null object reference\n        at com.example.chatme.profile.onActivityResult(profile.java:108)\n        at android.app.Activity.dispatchActivityResult(Activity.java:7311)\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4305)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4353)\n        at android.app.ActivityThread.-wrap20(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1678)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6548)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:888)**\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643504361,"creation_date":1643477454,"answer_id":70908024,"question_id":70907941,"body_markdown":"# tl;dr\r\n\r\n    Duration\r\n    .between( \r\n        LocalDate\r\n        .of( 2022 , Month.JANUARY , 29 )\r\n        .atStartOfDay( \r\n            ZoneId.of( &quot;Asia/Tokyo&quot; ) \r\n        ) \r\n        , \r\n        LocalDate\r\n        .of( 2022 , 2 , 10 )\r\n        .atStartOfDay( \r\n            ZoneId.of( &quot;Asia/Tokyo&quot; ) \r\n        )  \r\n    )\r\n    .toMillis()\r\n\r\nSee this code [run live at IdeOne.com](https://ideone.com/BGmt36). \r\n\r\n&gt; 1036800000\r\n\r\n# Details\r\n\r\n## Avoid legacy date-time classes\r\n\r\nNever use the terrible legacy date-time classes such as `Date` and `Calendar`. Use only *java.time* classes. \r\n\r\nAndroid 26+ includes an implementation of *java.time*. For earlier Android, the latest tooling makes most of the functionality available via API desugaring.\r\n\r\n## *java.time*\r\n\r\nDefine your start and end dates.\r\n\r\n    LocalDate startDate = LocalDate.of( 2022 , Month.JANUARY , 29 ) ;\r\n    LocalDate endDate = LocalDate.of( 2022 , 2 , 10 ) ;\r\n\r\nDetermine the first moment of the day for each date. This requires a time zone. The day starts at an earlier moment in the east than in the west.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime start = startDate.atStartOfDay( z ) ;\r\n    ZonedDateTime end = endDate.atStartOfDay( z ) ;\r\n\r\nCalculate elapsed time. Use `Duration` class.\r\n\r\n    Duration d = Duration.between( start , end ) ;\r\n\r\nExtract a count of milliseconds. Beware of potential data loss, as `Duration` may contain microseconds and nanoseconds. \r\n\r\n    long millis = d.toMillis() ;\r\n\r\nAll of this has been covered many times on Stack Overflow. So search to learn more.","title":"how to get the time from current time to x time later in miliseconds in java - android?","body":"<h1>tl;dr</h1>\n<pre><code>Duration\n.between( \n    LocalDate\n    .of( 2022 , Month.JANUARY , 29 )\n    .atStartOfDay( \n        ZoneId.of( &quot;Asia/Tokyo&quot; ) \n    ) \n    , \n    LocalDate\n    .of( 2022 , 2 , 10 )\n    .atStartOfDay( \n        ZoneId.of( &quot;Asia/Tokyo&quot; ) \n    )  \n)\n.toMillis()\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/BGmt36\" rel=\"nofollow noreferrer\">run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>1036800000</p>\n</blockquote>\n<h1>Details</h1>\n<h2>Avoid legacy date-time classes</h2>\n<p>Never use the terrible legacy date-time classes such as <code>Date</code> and <code>Calendar</code>. Use only <em>java.time</em> classes.</p>\n<p>Android 26+ includes an implementation of <em>java.time</em>. For earlier Android, the latest tooling makes most of the functionality available via API desugaring.</p>\n<h2><em>java.time</em></h2>\n<p>Define your start and end dates.</p>\n<pre><code>LocalDate startDate = LocalDate.of( 2022 , Month.JANUARY , 29 ) ;\nLocalDate endDate = LocalDate.of( 2022 , 2 , 10 ) ;\n</code></pre>\n<p>Determine the first moment of the day for each date. This requires a time zone. The day starts at an earlier moment in the east than in the west.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime start = startDate.atStartOfDay( z ) ;\nZonedDateTime end = endDate.atStartOfDay( z ) ;\n</code></pre>\n<p>Calculate elapsed time. Use <code>Duration</code> class.</p>\n<pre><code>Duration d = Duration.between( start , end ) ;\n</code></pre>\n<p>Extract a count of milliseconds. Beware of potential data loss, as <code>Duration</code> may contain microseconds and nanoseconds.</p>\n<pre><code>long millis = d.toMillis() ;\n</code></pre>\n<p>All of this has been covered many times on Stack Overflow. So search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":20172137,"reputation":305,"user_id":14794715,"display_name":"Hasni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643974041,"creation_date":1643974041,"answer_id":70985629,"question_id":70907941,"body_markdown":"I finally found an easy to use solution, I will share it maybe someone need that\r\n\r\nThis is the full class :\r\n\r\nAnd I accept any other suggestions, or edit.\r\n\r\n    import android.content.Intent;\r\n    import android.widget.Toast;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Time {\r\n    \r\n    \r\n    \r\n        public static int getMilisecondsBetween(String date1, String date2){\r\n          //long daysNumber = 0;\r\n           long diffInMillies = 0;\r\n           try {\r\n               SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.ENGLISH);\r\n               Date firstDate = sdf.parse(date1);\r\n               Date secondDate = sdf.parse(date2);\r\n               diffInMillies = Math.abs(secondDate.getTime() - firstDate.getTime());\r\n              // daysNumber = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\r\n           } catch (Exception e){\r\n               System.out.println(e);\r\n           }\r\n           return (int) diffInMillies;\r\n        }\r\n    \r\n        public static int getDaysNumberBetween(String date1, String date2){\r\n            long daysNumber = 0;\r\n            long diffInMillies = 0;\r\n            try {\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.ENGLISH);\r\n                Date firstDate = sdf.parse(date1);\r\n                Date secondDate = sdf.parse(date2);\r\n                diffInMillies = Math.abs(secondDate.getTime() - firstDate.getTime());\r\n               daysNumber = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\r\n            } catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n            return (int) daysNumber;\r\n        }\r\n    \r\n        public static int daysFromNowTo(String date){\r\n            long daysNumber = 0;\r\n            long diffInMillies = 0;\r\n            try {\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());\r\n    \r\n                Date c = Calendar.getInstance().getTime();\r\n                String currentDate = sdf.format(c);\r\n    \r\n                Date firstDate = sdf.parse(currentDate);\r\n                Date secondDate = sdf.parse(date);\r\n                diffInMillies = Math.abs(secondDate.getTime() - firstDate.getTime());\r\n                daysNumber = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\r\n            } catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n            return (int) daysNumber;\r\n        }\r\n    \r\n        public static int milisFromNowTo(String date){\r\n            long diffInMillies = 0;\r\n            try {\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());\r\n    \r\n                Date currentDate = Calendar.getInstance().getTime();\r\n                Date secondDate = sdf.parse(date);\r\n                diffInMillies = Math.abs(secondDate.getTime() - currentDate.getTime());\r\n            } catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n            return (int) diffInMillies;\r\n        }\r\n    \r\n        public static int convertToMilis(int time, String cmd){\r\n            long milis = 0;\r\n            try {\r\n                switch (cmd){\r\n    \r\n                    case &quot;w&quot; :\r\n                        milis = time * 604800000;\r\n                        break;\r\n                    case &quot;d&quot; :\r\n                        milis = time * 86400000;\r\n                        break;\r\n                    case &quot;h&quot; :\r\n                        milis = time * 3600000;\r\n                        break;\r\n                    case &quot;m&quot; :\r\n                        milis = time * 60000;\r\n                        break;\r\n                    case &quot;s&quot; :\r\n                        milis = time * 1000;\r\n                        break;\r\n                }\r\n    \r\n            } catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n            return (int) milis;\r\n        }\r\n    }\r\n\r\nto use it is very easy, example :\r\n\r\nto get all milliseconds between two specific dates :\r\n\r\n    int milis = Time.getMilisecondsBetween(&quot;04/02/2022&quot;, &quot;10/02/2022&quot;);\r\n\r\n\r\nto get days number between two specific dates :\r\n\r\n    int daysNumber = Time.getDaysNumberBetween(&quot;04/02/2022&quot;, &quot;10/02/2022&quot;);\r\n\r\n\r\nto get days number from current date to specific date :\r\n\r\n    int daysFromToday = Time.daysFromNowTo(&quot;10/02/2022&quot;);\r\n\r\n\r\nto get milliseconds count from today to specific date :\r\n\r\n    int millis =  Time.milisFromNowTo(&quot;10/02/2022&quot;);\r\n\r\n\r\nconvert any time, periode, ...ect to milliseconds :\r\n\r\n . w = weeks  \r\n\r\n . d = days\r\n\r\n . h = hours\r\n\r\n . m = minutes\r\n\r\n . s = seconds\r\n\r\n// here 3 days to milliseconds as example\r\n\r\n    int millis = Time.convertToMilis(3, &quot;d&quot;);","title":"how to get the time from current time to x time later in miliseconds in java - android?","body":"<p>I finally found an easy to use solution, I will share it maybe someone need that</p>\n<p>This is the full class :</p>\n<p>And I accept any other suggestions, or edit.</p>\n<pre><code>import android.content.Intent;\nimport android.widget.Toast;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.concurrent.TimeUnit;\n\npublic class Time {\n\n\n\n    public static int getMilisecondsBetween(String date1, String date2){\n      //long daysNumber = 0;\n       long diffInMillies = 0;\n       try {\n           SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.ENGLISH);\n           Date firstDate = sdf.parse(date1);\n           Date secondDate = sdf.parse(date2);\n           diffInMillies = Math.abs(secondDate.getTime() - firstDate.getTime());\n          // daysNumber = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\n       } catch (Exception e){\n           System.out.println(e);\n       }\n       return (int) diffInMillies;\n    }\n\n    public static int getDaysNumberBetween(String date1, String date2){\n        long daysNumber = 0;\n        long diffInMillies = 0;\n        try {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.ENGLISH);\n            Date firstDate = sdf.parse(date1);\n            Date secondDate = sdf.parse(date2);\n            diffInMillies = Math.abs(secondDate.getTime() - firstDate.getTime());\n           daysNumber = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\n        } catch (Exception e){\n            System.out.println(e);\n        }\n        return (int) daysNumber;\n    }\n\n    public static int daysFromNowTo(String date){\n        long daysNumber = 0;\n        long diffInMillies = 0;\n        try {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());\n\n            Date c = Calendar.getInstance().getTime();\n            String currentDate = sdf.format(c);\n\n            Date firstDate = sdf.parse(currentDate);\n            Date secondDate = sdf.parse(date);\n            diffInMillies = Math.abs(secondDate.getTime() - firstDate.getTime());\n            daysNumber = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\n        } catch (Exception e){\n            System.out.println(e);\n        }\n        return (int) daysNumber;\n    }\n\n    public static int milisFromNowTo(String date){\n        long diffInMillies = 0;\n        try {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());\n\n            Date currentDate = Calendar.getInstance().getTime();\n            Date secondDate = sdf.parse(date);\n            diffInMillies = Math.abs(secondDate.getTime() - currentDate.getTime());\n        } catch (Exception e){\n            System.out.println(e);\n        }\n        return (int) diffInMillies;\n    }\n\n    public static int convertToMilis(int time, String cmd){\n        long milis = 0;\n        try {\n            switch (cmd){\n\n                case &quot;w&quot; :\n                    milis = time * 604800000;\n                    break;\n                case &quot;d&quot; :\n                    milis = time * 86400000;\n                    break;\n                case &quot;h&quot; :\n                    milis = time * 3600000;\n                    break;\n                case &quot;m&quot; :\n                    milis = time * 60000;\n                    break;\n                case &quot;s&quot; :\n                    milis = time * 1000;\n                    break;\n            }\n\n        } catch (Exception e){\n            System.out.println(e);\n        }\n        return (int) milis;\n    }\n}\n</code></pre>\n<p>to use it is very easy, example :</p>\n<p>to get all milliseconds between two specific dates :</p>\n<pre><code>int milis = Time.getMilisecondsBetween(&quot;04/02/2022&quot;, &quot;10/02/2022&quot;);\n</code></pre>\n<p>to get days number between two specific dates :</p>\n<pre><code>int daysNumber = Time.getDaysNumberBetween(&quot;04/02/2022&quot;, &quot;10/02/2022&quot;);\n</code></pre>\n<p>to get days number from current date to specific date :</p>\n<pre><code>int daysFromToday = Time.daysFromNowTo(&quot;10/02/2022&quot;);\n</code></pre>\n<p>to get milliseconds count from today to specific date :</p>\n<pre><code>int millis =  Time.milisFromNowTo(&quot;10/02/2022&quot;);\n</code></pre>\n<p>convert any time, periode, ...ect to milliseconds :</p>\n<p>. w = weeks</p>\n<p>. d = days</p>\n<p>. h = hours</p>\n<p>. m = minutes</p>\n<p>. s = seconds</p>\n<p>// here 3 days to milliseconds as example</p>\n<pre><code>int millis = Time.convertToMilis(3, &quot;d&quot;);\n</code></pre>\n"}],"owner":{"account_id":20172137,"reputation":305,"user_id":14794715,"display_name":"Hasni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70985629,"answer_count":2,"score":1,"last_activity_date":1643974041,"creation_date":1643476889,"question_id":70907941,"body_markdown":"I&#39;m trying to get the time between current time to the target time (later) in milliseconds format.\r\n\r\nFor example I want to get the time between today that is 29/01/2022 to 10/02/2022 in milliseconds format.\r\n\r\nHow to do this in Java?\r\n\r\nIn fact I&#39;m trying to do something after x time and this code I&#39;m using :\r\n\r\n    SimpleDateFormat hour = new SimpleDateFormat(&quot;HH&quot;);\r\n    SimpleDateFormat minute = new SimpleDateFormat(&quot;mm&quot;);\r\n\r\n    Date date = new Date();\r\n\r\n    Calendar calnow = Calendar.getInstance();\r\n\r\n    calnow.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hour.format(date)));\r\n\r\n    calnow.set(Calendar.MINUTE,Integer.parseInt(minute.format(date)));\r\n\r\n    alarmManager.set(AlarmManager.RTC_WAKEUP,   calnow.getTimeInMillis() + 10000, this.pendingIntent);","title":"how to get the time from current time to x time later in miliseconds in java - android?","body":"<p>I'm trying to get the time between current time to the target time (later) in milliseconds format.</p>\n<p>For example I want to get the time between today that is 29/01/2022 to 10/02/2022 in milliseconds format.</p>\n<p>How to do this in Java?</p>\n<p>In fact I'm trying to do something after x time and this code I'm using :</p>\n<pre><code>SimpleDateFormat hour = new SimpleDateFormat(&quot;HH&quot;);\nSimpleDateFormat minute = new SimpleDateFormat(&quot;mm&quot;);\n\nDate date = new Date();\n\nCalendar calnow = Calendar.getInstance();\n\ncalnow.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hour.format(date)));\n\ncalnow.set(Calendar.MINUTE,Integer.parseInt(minute.format(date)));\n\nalarmManager.set(AlarmManager.RTC_WAKEUP,   calnow.getTimeInMillis() + 10000, this.pendingIntent);\n</code></pre>\n"},{"tags":["java","concurrency","thread-synchronization"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1643913052,"post_id":70976444,"comment_id":125472023,"body_markdown":"`synchronized (this)`. Each `Thread` is synchronised on itself. Try `synchronized (test1.class)`.","body":"<code>synchronized (this)</code>. Each <code>Thread</code> is synchronised on itself. Try <code>synchronized (test1.class)</code>."},{"owner":{"account_id":16376415,"reputation":1,"user_id":11828395,"display_name":"expat55"},"score":0,"creation_date":1643913214,"post_id":70976444,"comment_id":125472081,"body_markdown":"Worked!! Thank you very much","body":"Worked!! Thank you very much"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1643931659,"post_id":70976444,"comment_id":125477798,"body_markdown":"Does this answer your question? [Synchronized block not working](https://stackoverflow.com/questions/18029698/synchronized-block-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18029698/synchronized-block-not-working\">Synchronized block not working</a>"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643914207,"creation_date":1643914207,"answer_id":70976728,"question_id":70976444,"body_markdown":"Boris told you how to make your program print the right answer, but the reason why it prints the right answer is, your program effectively is _single_ threaded.\r\n\r\nIf you implemented Boris&#39;s suggestion, then your `run()` method probably looks like this:\r\n\r\n``` lang-java\r\npublic void run() {\r\n    synchronized (test1.class) {\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            count++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNo two threads can ever be synchronized on the same object at the same time, and there&#39;s only one `test1.class` in your program. That&#39;s good because there&#39;s also only one `count`. You always want the number of lock objects and their lifetimes to match the number and lifetimes of the data that they are supposed to protect.\r\n\r\nThe problem is, you have synchronized the entire body of the `run()` method. That means, no two threads can `run()` at the same time. The `synchronized` block ensures that they all will have to execute in sequencejust as if you had simply called them one-by-one instead of running them in separate threads. \r\n\r\nThis would be better:\r\n\r\n``` lang-java\r\npublic void run() {\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        synchronized (test1.class) {\r\n            count++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf each thread releases the lock after each increment operation, then that gives other threads a chance to run concurrently.\r\n\r\n--------------\r\n\r\nOn the other hand, all that locking and unlocking is expensive. The multi-threaded version almost certainly will take a lot longer to count to 10000 than a single threaded program would do. There&#39;s not much you can do about that. Using multiple CPUs to gain speed only works when there&#39;s big computations that each CPU can do _independently_ of the others.","title":"Why is synchronization for count not working?","body":"<p>Boris told you how to make your program print the right answer, but the reason why it prints the right answer is, your program effectively is <em>single</em> threaded.</p>\n<p>If you implemented Boris's suggestion, then your <code>run()</code> method probably looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n    synchronized (test1.class) {\n        for (int i = 0; i &lt; 1000; i++) {\n            count++;\n        }\n    }\n}\n</code></pre>\n<p>No two threads can ever be synchronized on the same object at the same time, and there's only one <code>test1.class</code> in your program. That's good because there's also only one <code>count</code>. You always want the number of lock objects and their lifetimes to match the number and lifetimes of the data that they are supposed to protect.</p>\n<p>The problem is, you have synchronized the entire body of the <code>run()</code> method. That means, no two threads can <code>run()</code> at the same time. The <code>synchronized</code> block ensures that they all will have to execute in sequencejust as if you had simply called them one-by-one instead of running them in separate threads.</p>\n<p>This would be better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n    for (int i = 0; i &lt; 1000; i++) {\n        synchronized (test1.class) {\n            count++;\n        }\n    }\n}\n</code></pre>\n<p>If each thread releases the lock after each increment operation, then that gives other threads a chance to run concurrently.</p>\n<hr />\n<p>On the other hand, all that locking and unlocking is expensive. The multi-threaded version almost certainly will take a lot longer to count to 10000 than a single threaded program would do. There's not much you can do about that. Using multiple CPUs to gain speed only works when there's big computations that each CPU can do <em>independently</em> of the others.</p>\n"},{"tags":[],"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643916254,"creation_date":1643915632,"answer_id":70977022,"question_id":70976444,"body_markdown":"For your simple example, you can use AtomicInteger instead of static int and synchronized.\r\n```lang-java\r\n    final AtomicInteger count = new AtomicInteger(0);\r\n```\r\nAnd inside Runnable only this one row:\r\n```lang-java\r\n    count.IncrementAndGet();\r\n```\r\n\r\nUsing syncronized blocks the whole class to be used by another threads if you have more complex codes with many of functions to use in a multithreaded code environment.\r\n\r\nThis code does&#39;nt runs faster because of incrementing the same counter 1 by 1 is always a single operation which cannot run more than once at a moment.\r\n\r\nSo if you want to speed up running near 10x times faster, you should counting each thread it&#39;s own counter, than summing the results in the end. You can do this with ThreadPools using executor service and Future tasks wich can return a result for you.","title":"Why is synchronization for count not working?","body":"<p>For your simple example, you can use AtomicInteger instead of static int and synchronized.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final AtomicInteger count = new AtomicInteger(0);\n</code></pre>\n<p>And inside Runnable only this one row:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    count.IncrementAndGet();\n</code></pre>\n<p>Using syncronized blocks the whole class to be used by another threads if you have more complex codes with many of functions to use in a multithreaded code environment.</p>\n<p>This code does'nt runs faster because of incrementing the same counter 1 by 1 is always a single operation which cannot run more than once at a moment.</p>\n<p>So if you want to speed up running near 10x times faster, you should counting each thread it's own counter, than summing the results in the end. You can do this with ThreadPools using executor service and Future tasks wich can return a result for you.</p>\n"}],"owner":{"account_id":16376415,"reputation":1,"user_id":11828395,"display_name":"expat55"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643974032,"creation_date":1643912792,"question_id":70976444,"body_markdown":"I want the final count to be 10000 always but even though I have used synchronized here, Im getting different values other than 1000. Java concurrency newbie. \r\n\r\n```lang-java\r\npublic class test1 {\r\n    static int count = 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        int numThreads = 10;\r\n\r\n        Thread[] threads = new Thread[numThreads];\r\n\r\n        for(int i=0;i&lt;numThreads;i++){\r\n            threads[i] = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    synchronized (this) {\r\n                        for (int i = 0; i &lt; 1000; i++) {\r\n                            count++;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        for(int i=0;i&lt;numThreads;i++){\r\n            threads[i].start();\r\n        }\r\n\r\n        for (int i=0;i&lt;numThreads;i++)\r\n            threads[i].join();\r\n\r\n        System.out.println(count);\r\n    }\r\n\r\n}\r\n```","title":"Why is synchronization for count not working?","body":"<p>I want the final count to be 10000 always but even though I have used synchronized here, Im getting different values other than 1000. Java concurrency newbie.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test1 {\n    static int count = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        int numThreads = 10;\n\n        Thread[] threads = new Thread[numThreads];\n\n        for(int i=0;i&lt;numThreads;i++){\n            threads[i] = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    synchronized (this) {\n                        for (int i = 0; i &lt; 1000; i++) {\n                            count++;\n                        }\n                    }\n                }\n            });\n        }\n\n        for(int i=0;i&lt;numThreads;i++){\n            threads[i].start();\n        }\n\n        for (int i=0;i&lt;numThreads;i++)\n            threads[i].join();\n\n        System.out.println(count);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sockets","irc"],"comments":[{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":2,"creation_date":1306068378,"post_id":6087991,"comment_id":7054712,"body_markdown":"what happens if you move the flush() into the while loop?","body":"what happens if you move the flush() into the while loop?"},{"owner":{"account_id":319645,"reputation":634,"user_id":637511,"accept_rate":83,"display_name":"StefK"},"score":0,"creation_date":1306089032,"post_id":6087991,"comment_id":7057388,"body_markdown":"There actually IS a flush in the while-loop. But the flush is at the end, because I also do some XML-parsing (to send that XML to the client) and a ping-reply in between.","body":"There actually IS a flush in the while-loop. But the flush is at the end, because I also do some XML-parsing (to send that XML to the client) and a ping-reply in between."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1306117120,"post_id":6087991,"comment_id":7060750,"body_markdown":"Use Wireshark to monitor the traffic and determine if the problem is a delay in sending, or a delay in the server responding.","body":"Use Wireshark to monitor the traffic and determine if the problem is a delay in sending, or a delay in the server responding."},{"owner":{"account_id":319645,"reputation":634,"user_id":637511,"accept_rate":83,"display_name":"StefK"},"score":0,"creation_date":1306133492,"post_id":6087991,"comment_id":7062815,"body_markdown":"I was planning to try that if I couldn&#39;t find a solution. If I find time this evening or tomorrow I&#39;ll give it a shot!","body":"I was planning to try that if I couldn&#39;t find a solution. If I find time this evening or tomorrow I&#39;ll give it a shot!"}],"answers":[{"tags":[],"owner":{"account_id":45644,"reputation":234651,"user_id":134633,"display_name":"caf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1306214319,"creation_date":1306214319,"answer_id":6105997,"question_id":6087991,"body_markdown":"Your code appears to send the `JOIN` commands every time it goes around the while loop, which appears to be once for every line the server sends you, until you finally get the response from the server confirming that you&#39;ve joined the channel.\r\n\r\nThis means you&#39;ll end up sending those `JOIN` commands a very large number of times.  IRCDs are designed to only handle a set rate of commands per second from each client - so this is probably what&#39;s lagging you (your later commands end up on the end of a very long queue filled with lots of `JOIN` commands).\r\n\r\nInstead, you should only send the `JOIN` commands once only, by setting the flag as soon as you send them:\r\n\r\n    boolean sent_join = false;\r\n    boolean joined = false;\r\n    \r\n    while ((line = getInput().readLine()) != null) {\r\n        if (!sent_join) {\r\n            getOutput().println(&quot;JOIN #PrinZ&quot;);\r\n            getOutput().println(&quot;JOIN #Trinorae&quot;);\r\n            sent_join = true;\r\n        }\r\n    \r\n        if (line.contains(&quot;JOIN :#prinz&quot;)) {\r\n            System.out.println(&quot;JOINED #prinz = true&quot;);\r\n            joined = true;\r\n        }\r\n    }\r\n\r\nNote that you can&#39;t send your `JOIN` commands until after you&#39;re registered, which is indicated by an `001` numeric, so you may need to wait for that line before sending them.\r\n\r\nNote that `line.contains` is not a very robust way of parsing IRC messages.  If I send you a message that contained &quot;JOIN :#prinz&quot;, it&#39;d trigger on that too.  You should be breaking each incoming message up into source, command, destination and arguments.","title":"Java socket output has delayed first message","body":"<p>Your code appears to send the <code>JOIN</code> commands every time it goes around the while loop, which appears to be once for every line the server sends you, until you finally get the response from the server confirming that you've joined the channel.</p>\n\n<p>This means you'll end up sending those <code>JOIN</code> commands a very large number of times.  IRCDs are designed to only handle a set rate of commands per second from each client - so this is probably what's lagging you (your later commands end up on the end of a very long queue filled with lots of <code>JOIN</code> commands).</p>\n\n<p>Instead, you should only send the <code>JOIN</code> commands once only, by setting the flag as soon as you send them:</p>\n\n<pre><code>boolean sent_join = false;\nboolean joined = false;\n\nwhile ((line = getInput().readLine()) != null) {\n    if (!sent_join) {\n        getOutput().println(\"JOIN #PrinZ\");\n        getOutput().println(\"JOIN #Trinorae\");\n        sent_join = true;\n    }\n\n    if (line.contains(\"JOIN :#prinz\")) {\n        System.out.println(\"JOINED #prinz = true\");\n        joined = true;\n    }\n}\n</code></pre>\n\n<p>Note that you can't send your <code>JOIN</code> commands until after you're registered, which is indicated by an <code>001</code> numeric, so you may need to wait for that line before sending them.</p>\n\n<p>Note that <code>line.contains</code> is not a very robust way of parsing IRC messages.  If I send you a message that contained \"JOIN :#prinz\", it'd trigger on that too.  You should be breaking each incoming message up into source, command, destination and arguments.</p>\n"}],"owner":{"account_id":319645,"reputation":634,"user_id":637511,"accept_rate":83,"display_name":"StefK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6105997,"answer_count":1,"score":1,"last_activity_date":1643974028,"creation_date":1306068017,"question_id":6087991,"body_markdown":"I&#39;m having a very strange problem with sockets in Java. It could be caused because of my lack of knowledge about sockets but here it is:\r\n\r\nI&#39;m using a socket to connect to an IRC-server. The connection is made perfectly and I receive all the messages the IRC-server is sending me. \r\nWhen the connection is made, I authenticate to the server and I start a seperate thread to receive what the server sends me. In that thread I send a message once when connected to make the program join a certain channel. \r\n\r\n    boolean joined = false;\r\n            while ((line = getInput().readLine()) != null) {\r\n                if (!joined) {\r\n                    getOutput().println(&quot;JOIN #Random&quot;);\r\n                    getOutput().println(&quot;JOIN #Modnar&quot;);\r\n    \r\n                    if (line.contains(&quot;JOIN :#Random&quot;)) {\r\n                        joined = true;\r\n                        System.out.println(&quot;JOINED #Random= true&quot;);\r\n                    }\r\n                }\r\n\r\nAt the end of this method I call getOutput().flush(); \r\n\r\nNow when I&#39;m trying to send a message TO the IRCserver via the client I&#39;m writing, it seems to take ages before the first message gets through. When it finally get&#39;s through everything seems to be working fine. All following messages are handled immediately. It&#39;s just that first message I&#39;m sending after being connected and having joined that channel that takes long. \r\n\r\nThe method I&#39;m using to send a message to the server is very simple:\r\n\r\n    public void sendToServer(String input) {\r\n            getOutput().println(input);\r\n            getOutput().flush();\r\n        }\r\n\r\nIs there anyone who has a clue why the first message is taking so long to transmit to the server while all the following (after the first finally arrived) go well?\r\n\r\nIf it might be worth mentioning: I&#39;m using a Tomcat6 for my servlets on which I make the connection and an UnrealIRCd as IRC-server. The messages are send to the servlet via AJAX. (But the sending to the server seems to go well, since the System.out I&#39;m doing when a message is send is printed immediately in my Tomcat-log, so the delay is in the socket OR in the IRC-server..)\r\n\r\nIf more info is needed, I shall try to provide it, since this might look quite complicated like this..","title":"Java socket output has delayed first message","body":"<p>I'm having a very strange problem with sockets in Java. It could be caused because of my lack of knowledge about sockets but here it is:</p>\n<p>I'm using a socket to connect to an IRC-server. The connection is made perfectly and I receive all the messages the IRC-server is sending me.\nWhen the connection is made, I authenticate to the server and I start a seperate thread to receive what the server sends me. In that thread I send a message once when connected to make the program join a certain channel.</p>\n<pre><code>boolean joined = false;\n        while ((line = getInput().readLine()) != null) {\n            if (!joined) {\n                getOutput().println(&quot;JOIN #Random&quot;);\n                getOutput().println(&quot;JOIN #Modnar&quot;);\n\n                if (line.contains(&quot;JOIN :#Random&quot;)) {\n                    joined = true;\n                    System.out.println(&quot;JOINED #Random= true&quot;);\n                }\n            }\n</code></pre>\n<p>At the end of this method I call getOutput().flush();</p>\n<p>Now when I'm trying to send a message TO the IRCserver via the client I'm writing, it seems to take ages before the first message gets through. When it finally get's through everything seems to be working fine. All following messages are handled immediately. It's just that first message I'm sending after being connected and having joined that channel that takes long.</p>\n<p>The method I'm using to send a message to the server is very simple:</p>\n<pre><code>public void sendToServer(String input) {\n        getOutput().println(input);\n        getOutput().flush();\n    }\n</code></pre>\n<p>Is there anyone who has a clue why the first message is taking so long to transmit to the server while all the following (after the first finally arrived) go well?</p>\n<p>If it might be worth mentioning: I'm using a Tomcat6 for my servlets on which I make the connection and an UnrealIRCd as IRC-server. The messages are send to the servlet via AJAX. (But the sending to the server seems to go well, since the System.out I'm doing when a message is send is printed immediately in my Tomcat-log, so the delay is in the socket OR in the IRC-server..)</p>\n<p>If more info is needed, I shall try to provide it, since this might look quite complicated like this..</p>\n"},{"tags":["java","ibatis"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643906621,"creation_date":1643820318,"answer_id":70959486,"question_id":70958299,"body_markdown":"The mapping of inner objects is made with `association` tag. You need something like this:\r\n```\r\n&lt;resultMap id=&quot;resmap&quot; type=&quot;A&quot;&gt;\r\n\t&lt;result property=&quot;a&quot; column=&quot;a&quot;/&gt;\r\n\t&lt;association property=&quot;b&quot; javaType=&quot;B&quot;&gt;\r\n\t\t&lt;result property=&quot;b&quot; column=&quot;b&quot;/&gt;\r\n\t\t&lt;result property=&quot;c&quot; column=&quot;c&quot;/&gt;\r\n\t&lt;/association&gt;\r\n&lt;/resultMap&gt;\r\n```\r\nCheck [documentation][1] as well, it&#39;s explained in details.\r\n\r\n\r\n  [1]: https://mybatis.org/mybatis-3/sqlmap-xml.html#Result_Maps","title":"Ibatis filling up Nested object in Java","body":"<p>The mapping of inner objects is made with <code>association</code> tag. You need something like this:</p>\n<pre><code>&lt;resultMap id=&quot;resmap&quot; type=&quot;A&quot;&gt;\n    &lt;result property=&quot;a&quot; column=&quot;a&quot;/&gt;\n    &lt;association property=&quot;b&quot; javaType=&quot;B&quot;&gt;\n        &lt;result property=&quot;b&quot; column=&quot;b&quot;/&gt;\n        &lt;result property=&quot;c&quot; column=&quot;c&quot;/&gt;\n    &lt;/association&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>Check <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html#Result_Maps\" rel=\"nofollow noreferrer\">documentation</a> as well, it's explained in details.</p>\n"}],"owner":{"account_id":5202794,"reputation":188,"user_id":4161665,"display_name":"Parth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643973938,"creation_date":1643815611,"question_id":70958299,"body_markdown":"I have one java class which resembles to \r\n```\r\nclass A {\r\n  String a;\r\n  B bclass;\r\n}\r\n```\r\n```\r\nclass B {\r\n  String b;\r\n  String c;\r\n}\r\n```\r\nmy ibatis query is : `Select a,b,c from A_TABLE`\r\nand resultmap I want is something like this where I can fill properties of class B (B.b,B.c) as well.\r\n```\r\n&lt;resultMap class=&quot;A&quot; id=&quot;resmap&quot;&gt;\r\n  &lt;result property=&quot;a&quot;  column=&quot;A&quot;  jdbcType=&quot;VARCHAR&quot;/&gt;\r\n  &lt;result property=&quot;bclass.b&quot;  column=&quot;B&quot;  jdbcType=&quot;VARCHAR&quot;/&gt;\r\n  &lt;result property=&quot;bclass.c&quot;  column=&quot;C&quot;  jdbcType=&quot;VARCHAR&quot;/&gt;\r\n&lt;/resultmap&gt;\r\n```\r\nany idea how I can fill this object A from ibatis query so I have all 3 a,b,c properties filled?\r\n\r\n\r\n\r\n","title":"Ibatis filling up Nested object in Java","body":"<p>I have one java class which resembles to</p>\n<pre><code>class A {\n  String a;\n  B bclass;\n}\n</code></pre>\n<pre><code>class B {\n  String b;\n  String c;\n}\n</code></pre>\n<p>my ibatis query is : <code>Select a,b,c from A_TABLE</code>\nand resultmap I want is something like this where I can fill properties of class B (B.b,B.c) as well.</p>\n<pre><code>&lt;resultMap class=&quot;A&quot; id=&quot;resmap&quot;&gt;\n  &lt;result property=&quot;a&quot;  column=&quot;A&quot;  jdbcType=&quot;VARCHAR&quot;/&gt;\n  &lt;result property=&quot;bclass.b&quot;  column=&quot;B&quot;  jdbcType=&quot;VARCHAR&quot;/&gt;\n  &lt;result property=&quot;bclass.c&quot;  column=&quot;C&quot;  jdbcType=&quot;VARCHAR&quot;/&gt;\n&lt;/resultmap&gt;\n</code></pre>\n<p>any idea how I can fill this object A from ibatis query so I have all 3 a,b,c properties filled?</p>\n"},{"tags":["java","calendar","bitset"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643973874,"creation_date":1643971983,"answer_id":70985171,"question_id":70985127,"body_markdown":"There is a method for getting the next unset bit at or after a given index: [`BitSet.nextClearBit(int)`](https://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#nextClearBit(int)).\r\n\r\nThere is a complementary method, [`nextSetBit(int)`](https://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#nextSetBit(int)), for finding the next set bit.\r\n\r\nSo, you can find the start of a range with the former, and the end of the range with the latter. \r\n\r\nYou need to handle the return values of the methods carefully:\r\n\r\n* If `nextSetBit` returns -1, that means that the current run of clear bits extends to the end of the BitSet.\r\n* `nextClearBit` _doesn&#39;t_ return -1, because BitSets don&#39;t have a clearly-defined size in terms of the number of clear bits - they essentially extend infinitely, but only actually allocate storage to hold set bits. So, if `nextClearBit` returns a value beyond the _logical_ size of the BitSet (i.e. an index for a 15-minute slot beyond the end of the day/date range), you know that you can stop searching.","title":"Efficiently find ranges of consecutive non-set bits in BitSet","body":"<p>There is a method for getting the next unset bit at or after a given index: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#nextClearBit(int)\" rel=\"nofollow noreferrer\"><code>BitSet.nextClearBit(int)</code></a>.</p>\n<p>There is a complementary method, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#nextSetBit(int)\" rel=\"nofollow noreferrer\"><code>nextSetBit(int)</code></a>, for finding the next set bit.</p>\n<p>So, you can find the start of a range with the former, and the end of the range with the latter.</p>\n<p>You need to handle the return values of the methods carefully:</p>\n<ul>\n<li>If <code>nextSetBit</code> returns -1, that means that the current run of clear bits extends to the end of the BitSet.</li>\n<li><code>nextClearBit</code> <em>doesn't</em> return -1, because BitSets don't have a clearly-defined size in terms of the number of clear bits - they essentially extend infinitely, but only actually allocate storage to hold set bits. So, if <code>nextClearBit</code> returns a value beyond the <em>logical</em> size of the BitSet (i.e. an index for a 15-minute slot beyond the end of the day/date range), you know that you can stop searching.</li>\n</ul>\n"}],"owner":{"account_id":211018,"reputation":2289,"user_id":462951,"accept_rate":73,"display_name":"simplyblue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70985171,"answer_count":1,"score":1,"last_activity_date":1643973874,"creation_date":1643971720,"question_id":70985127,"body_markdown":"I&#39;m trying to represent calendar available/unavailable slots for a particular day with each bit representing 15mins  using BitSet. The bits which are set represent blocked calendar events. For getting the the slots which are free, I need to find the ranges where bits are not set. \r\n\r\nI have the following BitSet \r\n\r\n    00000000000000000011111001000000000011100000000000000000011000\r\n\r\nHow to efficiently find the ranges of bits which are not set. In this case\r\n(1,18) and (24,25) and (27,36) etc.\r\n\r\nBelow is the current code I have written, which I feel is not efficient and also not clean.\r\n\r\n\r\n    int startIndex = -1;\r\n    int nextIndex = -1;\r\n    for(int i = getSlotIndex(currentWorkingStartDate); i &lt;= getSlotIndex(currentWorkingEndDate); i++) {\r\n        if(!matrix.get(i)) {\r\n            if(startIndex == -1) {\r\n                startIndex = i;\r\n                nextIndex = i;\r\n            }else {\r\n                nextIndex = i;\r\n            }\r\n        }else if(startIndex != -1){\r\n    \r\n            ZonedDateTime availableStartDate = day.plusHours((startIndex/4)).plusMinutes(startIndex%4 * 15);\r\n            ZonedDateTime availableEndDate = availableStartDate.plusMinutes((nextIndex - startIndex + 1) * 15L);\r\n            currAvailabilitySlots.addAll(\r\n                    getSlotsBasedOnDurationWithTimeZone(new SlotModel(availableStartDate,availableEndDate),durationOfSlot,candidateTimeZoneId));\r\n            startIndex = -1;\r\n            nextIndex = -1;\r\n        }\r\n    }\r\n    \r\n    if(startIndex != -1) {\r\n        ZonedDateTime availableStartDate = day.plusHours((startIndex/4)).plusMinutes(startIndex%4 * 15);\r\n        ZonedDateTime availableEndDate = availableStartDate.plusMinutes((nextIndex - startIndex) * 15L);\r\n        currAvailabilitySlots.addAll(\r\n                getSlotsBasedOnDurationWithTimeZone(new SlotModel(availableStartDate,availableEndDate),durationOfSlot,candidateTimeZoneId));\r\n    }\r\n\r\n","title":"Efficiently find ranges of consecutive non-set bits in BitSet","body":"<p>I'm trying to represent calendar available/unavailable slots for a particular day with each bit representing 15mins  using BitSet. The bits which are set represent blocked calendar events. For getting the the slots which are free, I need to find the ranges where bits are not set.</p>\n<p>I have the following BitSet</p>\n<pre><code>00000000000000000011111001000000000011100000000000000000011000\n</code></pre>\n<p>How to efficiently find the ranges of bits which are not set. In this case\n(1,18) and (24,25) and (27,36) etc.</p>\n<p>Below is the current code I have written, which I feel is not efficient and also not clean.</p>\n<pre><code>int startIndex = -1;\nint nextIndex = -1;\nfor(int i = getSlotIndex(currentWorkingStartDate); i &lt;= getSlotIndex(currentWorkingEndDate); i++) {\n    if(!matrix.get(i)) {\n        if(startIndex == -1) {\n            startIndex = i;\n            nextIndex = i;\n        }else {\n            nextIndex = i;\n        }\n    }else if(startIndex != -1){\n\n        ZonedDateTime availableStartDate = day.plusHours((startIndex/4)).plusMinutes(startIndex%4 * 15);\n        ZonedDateTime availableEndDate = availableStartDate.plusMinutes((nextIndex - startIndex + 1) * 15L);\n        currAvailabilitySlots.addAll(\n                getSlotsBasedOnDurationWithTimeZone(new SlotModel(availableStartDate,availableEndDate),durationOfSlot,candidateTimeZoneId));\n        startIndex = -1;\n        nextIndex = -1;\n    }\n}\n\nif(startIndex != -1) {\n    ZonedDateTime availableStartDate = day.plusHours((startIndex/4)).plusMinutes(startIndex%4 * 15);\n    ZonedDateTime availableEndDate = availableStartDate.plusMinutes((nextIndex - startIndex) * 15L);\n    currAvailabilitySlots.addAll(\n            getSlotsBasedOnDurationWithTimeZone(new SlotModel(availableStartDate,availableEndDate),durationOfSlot,candidateTimeZoneId));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1632184361,"post_id":69261989,"comment_id":122419280,"body_markdown":"Start with a working example.","body":"Start with a working example."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1632201269,"post_id":69261989,"comment_id":122421880,"body_markdown":"`doOnSuccess` is for side effects meaning, that it will fork of execution and return immediatly with the same Mono before it. Its for instance if you want to log something or do a webcall somewhere that is not interrupting the general flow. Its not the operator you want. Read the reactor api before asking here please.","body":"<code>doOnSuccess</code> is for side effects meaning, that it will fork of execution and return immediatly with the same Mono before it. Its for instance if you want to log something or do a webcall somewhere that is not interrupting the general flow. Its not the operator you want. Read the reactor api before asking here please."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632201884,"creation_date":1632201884,"answer_id":69263749,"question_id":69261989,"body_markdown":"This is what you want\r\n\r\n```\r\nSomeWebclientCall().flatMap(value -&gt; {\r\n    Validate.validate(value);\r\n    return Mono.just(value);\r\n});\r\n```\r\n\r\nThis might look wierd and that is because writing void functions that either return `void` or an exception is wierd and should be avoided.\r\n\r\nSuch functions are ineffective (throwing exceptions are expensive and should not be a natural flow of the program) and hard to test.\r\n\r\nThats why validation functions usually returns booleans as in it passed validation yes or no, true or false. Not void or exception.\r\n\r\nFunctional programming does not like void functions, only pure functions.","title":"Exceptions thrown by Mono inside flatmap not being handled by Spring webflux reactive stream","body":"<p>This is what you want</p>\n<pre><code>SomeWebclientCall().flatMap(value -&gt; {\n    Validate.validate(value);\n    return Mono.just(value);\n});\n</code></pre>\n<p>This might look wierd and that is because writing void functions that either return <code>void</code> or an exception is wierd and should be avoided.</p>\n<p>Such functions are ineffective (throwing exceptions are expensive and should not be a natural flow of the program) and hard to test.</p>\n<p>Thats why validation functions usually returns booleans as in it passed validation yes or no, true or false. Not void or exception.</p>\n<p>Functional programming does not like void functions, only pure functions.</p>\n"}],"owner":{"account_id":20854394,"reputation":233,"user_id":15318112,"display_name":"justAnotherDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643973813,"creation_date":1632182303,"question_id":69261989,"body_markdown":"I am working on reactive streams application using Spring webflux. I have a usecase where I do a webclient request to get some data and once I get the response data, I validate it and if the validation fails, I want to throw an exception which should be handled by the `main` reactive pipeline. I&#39;m using webclient call within a flatmap to use the value in the next operator of my pipeline. I have something similar to the following code:\r\n\r\n    public class Example {\r\n        public String getData(String name) {\r\n            return Mono.just(name)\r\n                 .map(name -&gt; name.toLowerCase())\r\n                 .flatMap(name -&gt; \r\n                      // Webclient Request that returns a \r\n                      // Mono&lt;String&gt; for example\r\n                     .doOnSuccess(Validator::validateData); // The webclient request is chained to this doOnSuccess\r\n                 )\r\n                 .doOnError(ex -&gt; log.error(&quot;Got an error, {}&quot;, er))\r\n                 .onErrorMap(ex -&gt; new AnotherCustomException(ex.getMessage()));\r\n        }\r\n    }\r\n\r\n    public class Validator {\r\n        public void validateData(String data) {\r\n            if(data.length() &lt; 5) throw new CustomException(&quot;Invalid data received.&quot;); // public CustomException extends RuntimeException {...}\r\n        }\r\n    }\r\n\r\nCurrently this code isn&#39;t using the `doOnError()` &amp; `onErrorMap()` operators and I&#39;m directly receiving the `CustomException` stacktrace on my console. I believe the reason being the code inside `flatMap` itself is a publisher `Mono` so it should have its own `doOnError()`, `onErrorMap()` operators. How do I make this Webclient&#39;s response i.e., `Mono&lt;String&gt;` be able to use the `main` pipeline that&#39;s using the `WebClient`?","title":"Exceptions thrown by Mono inside flatmap not being handled by Spring webflux reactive stream","body":"<p>I am working on reactive streams application using Spring webflux. I have a usecase where I do a webclient request to get some data and once I get the response data, I validate it and if the validation fails, I want to throw an exception which should be handled by the <code>main</code> reactive pipeline. I'm using webclient call within a flatmap to use the value in the next operator of my pipeline. I have something similar to the following code:</p>\n<pre><code>public class Example {\n    public String getData(String name) {\n        return Mono.just(name)\n             .map(name -&gt; name.toLowerCase())\n             .flatMap(name -&gt; \n                  // Webclient Request that returns a \n                  // Mono&lt;String&gt; for example\n                 .doOnSuccess(Validator::validateData); // The webclient request is chained to this doOnSuccess\n             )\n             .doOnError(ex -&gt; log.error(&quot;Got an error, {}&quot;, er))\n             .onErrorMap(ex -&gt; new AnotherCustomException(ex.getMessage()));\n    }\n}\n\npublic class Validator {\n    public void validateData(String data) {\n        if(data.length() &lt; 5) throw new CustomException(&quot;Invalid data received.&quot;); // public CustomException extends RuntimeException {...}\n    }\n}\n</code></pre>\n<p>Currently this code isn't using the <code>doOnError()</code> &amp; <code>onErrorMap()</code> operators and I'm directly receiving the <code>CustomException</code> stacktrace on my console. I believe the reason being the code inside <code>flatMap</code> itself is a publisher <code>Mono</code> so it should have its own <code>doOnError()</code>, <code>onErrorMap()</code> operators. How do I make this Webclient's response i.e., <code>Mono&lt;String&gt;</code> be able to use the <code>main</code> pipeline that's using the <code>WebClient</code>?</p>\n"},{"tags":["java","ssl","bufferedreader"],"comments":[{"owner":{"account_id":274743,"reputation":1993,"user_id":567162,"accept_rate":70,"display_name":"D-Klotz"},"score":0,"creation_date":1467729140,"post_id":38205947,"comment_id":63836226,"body_markdown":"You probably need to provide more details. Using a self signed cert I assume? What java version?","body":"You probably need to provide more details. Using a self signed cert I assume? What java version?"},{"owner":{"account_id":8338198,"reputation":743,"user_id":6264346,"display_name":"ChrisianBartram"},"score":0,"creation_date":1467729687,"post_id":38205947,"comment_id":63836601,"body_markdown":"Im not using a self signed certificate the cert is from Namecheap who uses COMODO SSL as the CA  to sign my certificate. im using java 8","body":"Im not using a self signed certificate the cert is from Namecheap who uses COMODO SSL as the CA  to sign my certificate. im using java 8"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1467755253,"post_id":38205947,"comment_id":63850505,"body_markdown":"(1) The cert has nothing to do with this error. (2) Are you using the Sun/Oracle version of Java 8 and if so which update, or some other Java? Have any configuration changes been made in the JRE especially in the file `$JRE/lib/security/java.security`? (3) Do you have any system properties set invoving `https` especially `https.protocols`? (4) Try running with sysprop `javax.net.debug=ssl` and post the result, except that if your truststore has lots of certs (which the default does) you can chop that part down to a minimum.","body":"(1) The cert has nothing to do with this error. (2) Are you using the Sun/Oracle version of Java 8 and if so which update, or some other Java? Have any configuration changes been made in the JRE especially in the file <code>$JRE&#47;lib&#47;security&#47;java.security</code>? (3) Do you have any system properties set invoving <code>https</code> especially <code>https.protocols</code>? (4) Try running with sysprop <code>javax.net.debug=ssl</code> and post the result, except that if your truststore has lots of certs (which the default does) you can chop that part down to a minimum."},{"owner":{"account_id":53631,"reputation":1112,"user_id":160361,"display_name":"John Yeary"},"score":1,"creation_date":1517587964,"post_id":38205947,"comment_id":84170281,"body_markdown":"Please indicate the Java version you are using. if you add `-Djavax.net.debug=ssl:handshake:verbose` it will allow you to examine the handshake issue in more detail.","body":"Please indicate the Java version you are using. if you add <code>-Djavax.net.debug=ssl:handshake:verbose</code> it will allow you to examine the handshake issue in more detail."}],"answers":[{"tags":[],"owner":{"account_id":3779622,"reputation":1091,"user_id":3139480,"accept_rate":67,"display_name":"automaton"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1572899571,"creation_date":1467744219,"answer_id":38210479,"question_id":38205947,"body_markdown":"    protocol is disabled or cipher suites are inappropriate\r\n\r\nThe key to the problem lies in that statement. What it basically means is either:\r\n\r\n 1. The TLS implementation used by the client does not support the cipher suites used by the server&#39;s certificate.\r\n 2. The TLS configuration on the server has disabled cipher suites supported by the client.\r\n 3. The TLS configurations on the client disable cipher suites offered by the server.\r\n 4. TLS version incompatibility between the client and server.\r\n\r\n   \r\nThis leads to handshake failure in TLS, and the connection fails. Check one or all of the three scenarios above.\r\n","title":"SSLHandShakeException No Appropriate Protocol","body":"<pre><code>protocol is disabled or cipher suites are inappropriate\n</code></pre>\n\n<p>The key to the problem lies in that statement. What it basically means is either:</p>\n\n<ol>\n<li>The TLS implementation used by the client does not support the cipher suites used by the server's certificate.</li>\n<li>The TLS configuration on the server has disabled cipher suites supported by the client.</li>\n<li>The TLS configurations on the client disable cipher suites offered by the server.</li>\n<li>TLS version incompatibility between the client and server.</li>\n</ol>\n\n<p>This leads to handshake failure in TLS, and the connection fails. Check one or all of the three scenarios above.</p>\n"},{"tags":[],"owner":{"account_id":7589839,"reputation":1094,"user_id":5914953,"display_name":"wwjih123"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1564496460,"creation_date":1564496460,"answer_id":57273918,"question_id":38205947,"body_markdown":"In `$JRE/lib/security/java.security`:\r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n\r\nThis line is enabled, after I commented out this line, everything is working fine. Apparently after/in jre1.8.0_181 this line is enabled.\r\n\r\nMy Java version is &quot;1.8.0_201.\r\n\r\n\r\n\r\n","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>In <code>$JRE/lib/security/java.security</code>:</p>\n\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\nEC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n</code></pre>\n\n<p>This line is enabled, after I commented out this line, everything is working fine. Apparently after/in jre1.8.0_181 this line is enabled.</p>\n\n<p>My Java version is \"1.8.0_201.</p>\n"},{"tags":[],"owner":{"account_id":18920207,"reputation":99,"user_id":13804420,"display_name":"Peter"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1592988474,"creation_date":1592987177,"answer_id":62550786,"question_id":38205947,"body_markdown":"In my case I am runnig Centos 8 and had the same issue with Imap/Java.\r\nHad to update the system-wide cryptographic policy level.\r\n\r\n1. `update-crypto-policies --set LEGACY`\r\n2. reboot machine.\r\n\r\nThats it.\r\n\r\nhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/security_considerations-in-adopting-rhel-8#tls-v10-v11_security","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>In my case I am runnig Centos 8 and had the same issue with Imap/Java.\nHad to update the system-wide cryptographic policy level.</p>\n<ol>\n<li><code>update-crypto-policies --set LEGACY</code></li>\n<li>reboot machine.</li>\n</ol>\n<p>Thats it.</p>\n<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/security_considerations-in-adopting-rhel-8#tls-v10-v11_security\" rel=\"noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/security_considerations-in-adopting-rhel-8#tls-v10-v11_security</a></p>\n"},{"tags":[],"owner":{"account_id":14562528,"reputation":103,"user_id":10518232,"display_name":"Cesc Canet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593459214,"creation_date":1593448349,"answer_id":62642655,"question_id":38205947,"body_markdown":"Apparently, if you have TLS 1.0 disabled the emails won&#39;t be sent out. TLS Versions 1.1 and 1.2 do not work. Peter&#39;s suggestion did the trick for me.","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>Apparently, if you have TLS 1.0 disabled the emails won't be sent out. TLS Versions 1.1 and 1.2 do not work. Peter's suggestion did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619462093,"creation_date":1609800086,"answer_id":65570821,"question_id":38205947,"body_markdown":"&gt; javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nFor posterity, I recently bumped up against this using IBM&#39;s JDK8 implementation which specifically disables TLS1.1 and 1.2 by default (sic).  If you want to see what TLS versions are supported by the JVM, run something like the following code:\r\n\r\n    SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    context.init(null, null, null);\r\n    String[] supportedProtocols = context.getDefaultSSLParameters().getProtocols();\r\n    System.out.println(Arrays.toString(supportedProtocols));\r\n\r\nThe code spits out `[TLSv1]` by default under AIX JDK8. Not good. Under Redhat and Solaris it spits out `[TLSv1, TLSv1.1, TLSv1.2]`.\r\n\r\nI could not find any values in the `java.security` file to fix this issue but there might be some for your architecture.  In the IBM specific case, we have to add:\r\n\r\n    -Dcom.ibm.jsse2.overrideDefaultTLS=true\r\n","title":"SSLHandShakeException No Appropriate Protocol","body":"<blockquote>\n<p>javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n<p>For posterity, I recently bumped up against this using IBM's JDK8 implementation which specifically disables TLS1.1 and 1.2 by default (sic).  If you want to see what TLS versions are supported by the JVM, run something like the following code:</p>\n<pre><code>SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\ncontext.init(null, null, null);\nString[] supportedProtocols = context.getDefaultSSLParameters().getProtocols();\nSystem.out.println(Arrays.toString(supportedProtocols));\n</code></pre>\n<p>The code spits out <code>[TLSv1]</code> by default under AIX JDK8. Not good. Under Redhat and Solaris it spits out <code>[TLSv1, TLSv1.1, TLSv1.2]</code>.</p>\n<p>I could not find any values in the <code>java.security</code> file to fix this issue but there might be some for your architecture.  In the IBM specific case, we have to add:</p>\n<pre><code>-Dcom.ibm.jsse2.overrideDefaultTLS=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369372,"reputation":4604,"user_id":716720,"accept_rate":60,"display_name":"Sergey Shcherbakov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611304671,"creation_date":1611304671,"answer_id":65841785,"question_id":38205947,"body_markdown":"I have encountered \r\n\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nerror when accessing TLS 1.3 enabled endpoint from a Java 11 application. That is a usual case in GCP, for example.\r\n\r\nThe problem has gone away without any changes in my code just by upgrading from Java 11 to Java 14. \r\n\r\nThe Java 11 doesn&#39;t deprecate earlier TLS protocol versions by default. Instead of configuring it, simple upgrade of the runtime to Java 14 has helped.","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>I have encountered</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>error when accessing TLS 1.3 enabled endpoint from a Java 11 application. That is a usual case in GCP, for example.</p>\n<p>The problem has gone away without any changes in my code just by upgrading from Java 11 to Java 14.</p>\n<p>The Java 11 doesn't deprecate earlier TLS protocol versions by default. Instead of configuring it, simple upgrade of the runtime to Java 14 has helped.</p>\n"},{"tags":[],"owner":{"account_id":21427639,"reputation":401,"user_id":15784687,"display_name":"Rodney"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1626819578,"creation_date":1619612598,"answer_id":67300187,"question_id":38205947,"body_markdown":"I also run into this with the Java8 update 1.8.0.229 on Ubuntu 18.04.\r\n\r\nI changed the following part:\r\n\r\n    # Example:\r\n    #   jdk.tls.disabledAlgorithms=MD5, SSLv3, DSA, RSA keySize &lt; 2048\r\n    #jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    #    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    #    include jdk.disabled.namedCurves\r\n    \r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, \\\r\n        DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        include jdk.disabled.namedCurves\r\n\r\nI removed `TLSv1` and `TLSv1.1` from the list of `jdk.tls.disabledAlgorithms` inside the file  \r\n&gt; */etc/java-8-openjdk/security/java.security*\r\n\r\nAfter checking this:\r\n\r\n    Welcome to the MySQL monitor.  Commands end with ; or \\g.\r\n    Your MySQL connection id is 28\r\n    Server version: 5.7.33-0ubuntu0.18.04.1 (Ubuntu)\r\n\r\n    Copyright (c) 2000, 2021, Oracle and/or its affiliates.\r\n\r\n    Oracle is a registered trademark of Oracle Corporation and/or its\r\n    affiliates. Other names may be trademarks of their respective\r\n    owners.\r\n\r\n    Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.\r\n\r\n    mysql&gt; SHOW GLOBAL VARIABLES LIKE &#39;tls_version&#39;;\r\n    +---------------+-----------------------+\r\n    | Variable_name | Value                 |\r\n    +---------------+-----------------------+\r\n    | tls_version   | TLSv1,TLSv1.1,TLSv1.2 |\r\n    +---------------+-----------------------+\r\n    1 row in set (0.00 sec)\r\n\r\n    mysql&gt; exit\r\n\r\n","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>I also run into this with the Java8 update 1.8.0.229 on Ubuntu 18.04.</p>\n<p>I changed the following part:</p>\n<pre><code># Example:\n#   jdk.tls.disabledAlgorithms=MD5, SSLv3, DSA, RSA keySize &lt; 2048\n#jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n#    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n#    include jdk.disabled.namedCurves\n\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>I removed <code>TLSv1</code> and <code>TLSv1.1</code> from the list of <code>jdk.tls.disabledAlgorithms</code> inside the file</p>\n<blockquote>\n<p><em>/etc/java-8-openjdk/security/java.security</em></p>\n</blockquote>\n<p>After checking this:</p>\n<pre><code>Welcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 28\nServer version: 5.7.33-0ubuntu0.18.04.1 (Ubuntu)\n\nCopyright (c) 2000, 2021, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql&gt; SHOW GLOBAL VARIABLES LIKE 'tls_version';\n+---------------+-----------------------+\n| Variable_name | Value                 |\n+---------------+-----------------------+\n| tls_version   | TLSv1,TLSv1.1,TLSv1.2 |\n+---------------+-----------------------+\n1 row in set (0.00 sec)\n\nmysql&gt; exit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9275297,"reputation":61,"user_id":9968710,"display_name":"sari paisley"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619634106,"creation_date":1619634106,"answer_id":67305842,"question_id":38205947,"body_markdown":"We started experiencing this problem after upgrading to jre1.8.0_291. I commented out &quot;jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves&quot; in java.security located in C:\\Program Files\\Java\\jre1.8.0_291\\lib\\security which resolved the problem. ","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>We started experiencing this problem after upgrading to jre1.8.0_291. I commented out &quot;jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, <br />\nDH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, <br />\ninclude jdk.disabled.namedCurves&quot; in java.security located in C:\\Program Files\\Java\\jre1.8.0_291\\lib\\security which resolved the problem.</p>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1620561886,"creation_date":1620561886,"answer_id":67457477,"question_id":38205947,"body_markdown":"In my case I had to upgrade the mysql client library to the latest version and it started working again:\r\n\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n           &lt;version&gt;8.0.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>In my case I had to upgrade the mysql client library to the latest version and it started working again:</p>\n<pre><code>    &lt;dependency&gt;\n       &lt;groupId&gt;mysql&lt;/groupId&gt;\n       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n       &lt;version&gt;8.0.24&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21647942,"reputation":11,"user_id":15968988,"display_name":"Yotta_Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622623111,"creation_date":1622622503,"answer_id":67801573,"question_id":38205947,"body_markdown":"For ME in this case :\r\n\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nI found that this is JDK/JRE (Java\\jdk1.8.0_291\\jre\\lib\\security) config related, and in order to solve it you need to **Disable the TLS anon and NULL cipher suites**. \r\n\r\nYou can found how to do this in the oficial documentation here: \r\nhttps://www.java.com/en/configure_crypto.html\r\n\r\nAlso before doing this, consider the implications of using LEGACY algorithms.","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>For ME in this case :</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>I found that this is JDK/JRE (Java\\jdk1.8.0_291\\jre\\lib\\security) config related, and in order to solve it you need to <strong>Disable the TLS anon and NULL cipher suites</strong>.</p>\n<p>You can found how to do this in the oficial documentation here:\n<a href=\"https://www.java.com/en/configure_crypto.html\" rel=\"nofollow noreferrer\">https://www.java.com/en/configure_crypto.html</a></p>\n<p>Also before doing this, consider the implications of using LEGACY algorithms.</p>\n"},{"tags":[],"owner":{"account_id":2678673,"reputation":7710,"user_id":2314443,"accept_rate":40,"display_name":"Gerard de Visser"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1643973006,"creation_date":1623316361,"answer_id":67918194,"question_id":38205947,"body_markdown":"You can add the expected TLS protocol to your connection string like this:\r\n\r\n    jdbc:mysql://localhost:3306/database_name?enabledTLSProtocols=TLSv1.2\r\n\r\nThat fixed the problem for me.\r\n\r\n---\r\n\r\nEdit 04-02-2022:\r\n\r\nAs Yair&#39;s comment says:\r\n\r\n&gt; Since Connector/J 8.0.28 enabledTLSProtocols has been renamed to tlsVersions.","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>You can add the expected TLS protocol to your connection string like this:</p>\n<pre><code>jdbc:mysql://localhost:3306/database_name?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p>That fixed the problem for me.</p>\n<hr />\n<p>Edit 04-02-2022:</p>\n<p>As Yair's comment says:</p>\n<blockquote>\n<p>Since Connector/J 8.0.28 enabledTLSProtocols has been renamed to tlsVersions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13221933,"reputation":11,"user_id":12955832,"display_name":"Francis Guchie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623602861,"creation_date":1623602861,"answer_id":67960609,"question_id":38205947,"body_markdown":"I was face with the same situation on a tomcat7 server, 5.7.34-0ubuntu0.18.04.1, openjdk version &quot;1.8.0_292&quot; \r\n\r\nI tried many approaches like disabling SSL  in the server.xml file, changing the connection strings etc etc \r\n\r\nbut in the end all i did was to edit the file java.security with \r\nsudo nano /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/java.security\r\n\r\ncomment out and remove TLSv1 and TLSv1.1\r\n\r\n    # Comment the line below\r\n    #jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    #    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    #    include jdk.disabled.namedCurves\r\n\r\n    # your new line should read as beloew\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n\r\n","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>I was face with the same situation on a tomcat7 server, 5.7.34-0ubuntu0.18.04.1, openjdk version &quot;1.8.0_292&quot;</p>\n<p>I tried many approaches like disabling SSL  in the server.xml file, changing the connection strings etc etc</p>\n<p>but in the end all i did was to edit the file java.security with\nsudo nano /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/java.security</p>\n<p>comment out and remove TLSv1 and TLSv1.1</p>\n<pre><code># Comment the line below\n#jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n#    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n#    include jdk.disabled.namedCurves\n\n# your new line should read as beloew\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, \\\nDH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\ninclude jdk.disabled.namedCurves\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19950759,"reputation":11,"user_id":15199448,"display_name":"DonMehdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642088988,"creation_date":1642088988,"answer_id":70699376,"question_id":38205947,"body_markdown":"upgraded from 1 to 2 + modifying the $JRE/lib/security/java.security file did the trick.\r\n[before after mysql driver][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xOpey.png","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>upgraded from 1 to 2 + modifying the $JRE/lib/security/java.security file did the trick.\n<a href=\"https://i.stack.imgur.com/xOpey.png\" rel=\"nofollow noreferrer\">before after mysql driver</a></p>\n"}],"owner":{"account_id":8338198,"reputation":743,"user_id":6264346,"display_name":"ChrisianBartram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133785,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"answer_count":13,"score":61,"last_activity_date":1643973006,"creation_date":1467728674,"question_id":38205947,"body_markdown":"I recently added SSL to my website and it can be accessed over https. Now when my java application tries to make requests to my website and read from it with a buffered reader it produces this stack trace \r\n\r\nIm not using a self signed certificate the cert is from Namecheap who uses COMODO SSL as the CA to sign my certificate. im using java 8\r\n\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\tat sun.security.ssl.Handshaker.activate(Handshaker.java:503)\r\n\tat sun.security.ssl.SSLSocketImpl.kickstartHandshake(SSLSocketImpl.java:1482)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1351)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\r\nMy code is very basic and simply tries to read the page on my site using a buffered reader \r\n\r\n     private void populateDataList() {\r\n        try {\r\n            URL url = new URL(&quot;https://myURL.com/Data/Data.txt&quot;);\r\n            URLConnection con = url.openConnection();\r\n            con.setRequestProperty(&quot;Connection&quot;, &quot;close&quot;);\r\n            con.setDoInput(true);\r\n            con.setUseCaches(false);\r\n\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n            String line;\r\n            int i = 0;\r\n            while((line = in.readLine()) != null) {\r\n                this.url.add(i, line);\r\n                i++;\r\n            }\r\n        }   catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\nIve tried adding my SSL certificate to the JVM&#39;s Keystore and Ive also even tried to accept every certificate (which defeats the purpose of SSL I know) with this code \r\n\r\n     private void trustCertificate() {\r\n        TrustManager[] trustAllCerts = new TrustManager[] {\r\n                new X509TrustManager() {\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return new X509Certificate[0];\r\n                    }\r\n                    public void checkClientTrusted(\r\n                            java.security.cert.X509Certificate[] certs, String authType) {\r\n                    }\r\n                    public void checkServerTrusted(\r\n                            java.security.cert.X509Certificate[] certs, String authType) {\r\n                    }\r\n                }\r\n        };\r\n        try {\r\n            SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n        } catch (GeneralSecurityException e) {\r\n        }\r\n        try {\r\n            URL url = new URL(&quot;https://myURL.com/index.php&quot;);\r\n            URLConnection con = url.openConnection();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n            String line;\r\n            while((line = br.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\nIm stumped and any help would be much appreciated! ","title":"SSLHandShakeException No Appropriate Protocol","body":"<p>I recently added SSL to my website and it can be accessed over https. Now when my java application tries to make requests to my website and read from it with a buffered reader it produces this stack trace </p>\n\n<p>Im not using a self signed certificate the cert is from Namecheap who uses COMODO SSL as the CA to sign my certificate. im using java 8</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat sun.security.ssl.Handshaker.activate(Handshaker.java:503)\nat sun.security.ssl.SSLSocketImpl.kickstartHandshake(SSLSocketImpl.java:1482)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1351)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n</code></pre>\n\n<p>My code is very basic and simply tries to read the page on my site using a buffered reader </p>\n\n<pre><code> private void populateDataList() {\n    try {\n        URL url = new URL(\"https://myURL.com/Data/Data.txt\");\n        URLConnection con = url.openConnection();\n        con.setRequestProperty(\"Connection\", \"close\");\n        con.setDoInput(true);\n        con.setUseCaches(false);\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String line;\n        int i = 0;\n        while((line = in.readLine()) != null) {\n            this.url.add(i, line);\n            i++;\n        }\n    }   catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>Ive tried adding my SSL certificate to the JVM's Keystore and Ive also even tried to accept every certificate (which defeats the purpose of SSL I know) with this code </p>\n\n<pre><code> private void trustCertificate() {\n    TrustManager[] trustAllCerts = new TrustManager[] {\n            new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return new X509Certificate[0];\n                }\n                public void checkClientTrusted(\n                        java.security.cert.X509Certificate[] certs, String authType) {\n                }\n                public void checkServerTrusted(\n                        java.security.cert.X509Certificate[] certs, String authType) {\n                }\n            }\n    };\n    try {\n        SSLContext sc = SSLContext.getInstance(\"TLS\");\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n    } catch (GeneralSecurityException e) {\n    }\n    try {\n        URL url = new URL(\"https://myURL.com/index.php\");\n        URLConnection con = url.openConnection();\n        BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String line;\n        while((line = br.readLine()) != null) {\n            System.out.println(line);\n        }\n\n    } catch (Exception e) {\n\n    }\n}\n</code></pre>\n\n<p>Im stumped and any help would be much appreciated! </p>\n"},{"tags":["java","apache-beam","dataflow","google-dataflow"],"answers":[{"tags":[],"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643972391,"creation_date":1643903479,"answer_id":70974320,"question_id":70967167,"body_markdown":"I was able to reproduce this case, without issues. I think you should be careful with these points:\r\n\r\n - For local runs you have to use `DirectRunner`.\r\n - Make sure your **topic have messages**. You have to wait some minutes for your messages to fill your topic and you can see it on the topic.\r\n - Check the alive time of your messages, I set to 1 day for my test.\r\n - Check your subscription messages, please be patience. (It takes 3-8 mins) \r\n - Check the paths you are using on the main `run` command. I use the following parameters:\r\n\r\n```\r\nmvn compile exec:java \\\r\n  -Dexec.mainClass=com.examples.pubsub.streaming.PubSubToGcs \\\r\n  -Dexec.cleanupDaemonThreads=false \\\r\n  -Dexec.args=&quot; \\\r\n    --project=project-id \\\r\n    --region=us-central1 \\\r\n    --inputTopic=projects/project-id/topics/test-topic \\\r\n    --output=gs://project-bucket-id/data \\\r\n    --gcpTempLocation=gs://project-bucket-id/tmp \\\r\n    --runner=DirectRunner \\\r\n    --windowSize=2&quot;\r\n```\r\n\r\nFor a fully list of available runners please check this [link](https://beam.apache.org/documentation/runners/capability-matrix/).\r\n\r\n","title":"PubSub streaming job is not working in Local runner","body":"<p>I was able to reproduce this case, without issues. I think you should be careful with these points:</p>\n<ul>\n<li>For local runs you have to use <code>DirectRunner</code>.</li>\n<li>Make sure your <strong>topic have messages</strong>. You have to wait some minutes for your messages to fill your topic and you can see it on the topic.</li>\n<li>Check the alive time of your messages, I set to 1 day for my test.</li>\n<li>Check your subscription messages, please be patience. (It takes 3-8 mins)</li>\n<li>Check the paths you are using on the main <code>run</code> command. I use the following parameters:</li>\n</ul>\n<pre><code>mvn compile exec:java \\\n  -Dexec.mainClass=com.examples.pubsub.streaming.PubSubToGcs \\\n  -Dexec.cleanupDaemonThreads=false \\\n  -Dexec.args=&quot; \\\n    --project=project-id \\\n    --region=us-central1 \\\n    --inputTopic=projects/project-id/topics/test-topic \\\n    --output=gs://project-bucket-id/data \\\n    --gcpTempLocation=gs://project-bucket-id/tmp \\\n    --runner=DirectRunner \\\n    --windowSize=2&quot;\n</code></pre>\n<p>For a fully list of available runners please check this <a href=\"https://beam.apache.org/documentation/runners/capability-matrix/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":1616749,"reputation":348,"user_id":1494229,"display_name":"Balasubramanian Naagarajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643972391,"creation_date":1643872436,"question_id":70967167,"body_markdown":"I&#39;m trying the following example from the [google official][1] web site. \r\n\r\n\r\n    import java.io.IOException;\r\n    import org.apache.beam.examples.common.WriteOneFilePerWindow;\r\n    import org.apache.beam.sdk.Pipeline;\r\n    import org.apache.beam.sdk.io.gcp.pubsub.PubsubIO;\r\n    import org.apache.beam.sdk.options.Default;\r\n    import org.apache.beam.sdk.options.Description;\r\n    import org.apache.beam.sdk.options.PipelineOptions;\r\n    import org.apache.beam.sdk.options.PipelineOptionsFactory;\r\n    import org.apache.beam.sdk.options.StreamingOptions;\r\n    import org.apache.beam.sdk.options.Validation.Required;\r\n    import org.apache.beam.sdk.transforms.windowing.FixedWindows;\r\n    import org.apache.beam.sdk.transforms.windowing.Window;\r\n    import org.joda.time.Duration;\r\n    \r\n    public class PubSubToGcs {\r\n      /*\r\n       * Define your own configuration options. Add your own arguments to be processed\r\n       * by the command-line parser, and specify default values for them.\r\n       */\r\n      public interface PubSubToGcsOptions extends PipelineOptions, StreamingOptions {\r\n        @Description(&quot;The Cloud Pub/Sub topic to read from.&quot;)\r\n        @Required\r\n        String getInputTopic();\r\n    \r\n        void setInputTopic(String value);\r\n    \r\n        @Description(&quot;Output file&#39;s window size in number of minutes.&quot;)\r\n        @Default.Integer(1)\r\n        Integer getWindowSize();\r\n    \r\n        void setWindowSize(Integer value);\r\n    \r\n        @Description(&quot;Path of the output file including its filename prefix.&quot;)\r\n        @Required\r\n        String getOutput();\r\n    \r\n        void setOutput(String value);\r\n      }\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        // The maximum number of shards when writing output.\r\n        int numShards = 1;\r\n    \r\n        PubSubToGcsOptions options =\r\n            PipelineOptionsFactory.fromArgs(args).withValidation().as(PubSubToGcsOptions.class);\r\n    \r\n        options.setStreaming(true);\r\n    \r\n        Pipeline pipeline = Pipeline.create(options);\r\n    \r\n        pipeline\r\n            // 1) Read string messages from a Pub/Sub topic.\r\n            .apply(&quot;Read PubSub Messages&quot;, PubsubIO.readStrings().fromTopic(options.getInputTopic()))\r\n            // 2) Group the messages into fixed-sized minute intervals.\r\n            .apply(Window.into(FixedWindows.of(Duration.standardMinutes(options.getWindowSize()))))\r\n            // 3) Write one file to GCS for every window of messages.\r\n            .apply(&quot;Write Files to GCS&quot;, new WriteOneFilePerWindow(options.getOutput(), numShards));\r\n    \r\n        // Execute the pipeline and wait until it finishes running.\r\n        pipeline.run().waitUntilFinish();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pubsub-dataflow#java_1\r\n\r\nThis example works in DataFlowRunner works without any issues where as when I tried to run the same example in the local runner it doesn&#39;t work. The messages are read from the pubsub queue, but the data is not written the to the gcs file. I&#39;m using apache beam 2.31.0 version.","title":"PubSub streaming job is not working in Local runner","body":"<p>I'm trying the following example from the <a href=\"https://cloud.google.com/pubsub/docs/pubsub-dataflow#java_1\" rel=\"nofollow noreferrer\">google official</a> web site.</p>\n<pre><code>import java.io.IOException;\nimport org.apache.beam.examples.common.WriteOneFilePerWindow;\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.io.gcp.pubsub.PubsubIO;\nimport org.apache.beam.sdk.options.Default;\nimport org.apache.beam.sdk.options.Description;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\nimport org.apache.beam.sdk.options.StreamingOptions;\nimport org.apache.beam.sdk.options.Validation.Required;\nimport org.apache.beam.sdk.transforms.windowing.FixedWindows;\nimport org.apache.beam.sdk.transforms.windowing.Window;\nimport org.joda.time.Duration;\n\npublic class PubSubToGcs {\n  /*\n   * Define your own configuration options. Add your own arguments to be processed\n   * by the command-line parser, and specify default values for them.\n   */\n  public interface PubSubToGcsOptions extends PipelineOptions, StreamingOptions {\n    @Description(&quot;The Cloud Pub/Sub topic to read from.&quot;)\n    @Required\n    String getInputTopic();\n\n    void setInputTopic(String value);\n\n    @Description(&quot;Output file's window size in number of minutes.&quot;)\n    @Default.Integer(1)\n    Integer getWindowSize();\n\n    void setWindowSize(Integer value);\n\n    @Description(&quot;Path of the output file including its filename prefix.&quot;)\n    @Required\n    String getOutput();\n\n    void setOutput(String value);\n  }\n\n  public static void main(String[] args) throws IOException {\n    // The maximum number of shards when writing output.\n    int numShards = 1;\n\n    PubSubToGcsOptions options =\n        PipelineOptionsFactory.fromArgs(args).withValidation().as(PubSubToGcsOptions.class);\n\n    options.setStreaming(true);\n\n    Pipeline pipeline = Pipeline.create(options);\n\n    pipeline\n        // 1) Read string messages from a Pub/Sub topic.\n        .apply(&quot;Read PubSub Messages&quot;, PubsubIO.readStrings().fromTopic(options.getInputTopic()))\n        // 2) Group the messages into fixed-sized minute intervals.\n        .apply(Window.into(FixedWindows.of(Duration.standardMinutes(options.getWindowSize()))))\n        // 3) Write one file to GCS for every window of messages.\n        .apply(&quot;Write Files to GCS&quot;, new WriteOneFilePerWindow(options.getOutput(), numShards));\n\n    // Execute the pipeline and wait until it finishes running.\n    pipeline.run().waitUntilFinish();\n  }\n}\n</code></pre>\n<p>This example works in DataFlowRunner works without any issues where as when I tried to run the same example in the local runner it doesn't work. The messages are read from the pubsub queue, but the data is not written the to the gcs file. I'm using apache beam 2.31.0 version.</p>\n"},{"tags":["java","html","pdf","jsoup","inspect"],"comments":[{"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"score":0,"creation_date":1643973007,"post_id":70985262,"comment_id":125486807,"body_markdown":"The page uses Angular.js to create it&#39;s contents. JSoup on the other hand is only a simple HTML parser and does not run and Javascript. The contents you are seeing through JSoup is basically the HTML with JS disabled.\nThe &quot;inspect&quot; command shows you the generated HTML after all the JS was run, which is therefore different. I don&#39;t think JSoup will help you much for this use-case as it does not simulate a full browser but only handles DOM manipulation","body":"The page uses Angular.js to create it&#39;s contents. JSoup on the other hand is only a simple HTML parser and does not run and Javascript. The contents you are seeing through JSoup is basically the HTML with JS disabled. The &quot;inspect&quot; command shows you the generated HTML after all the JS was run, which is therefore different. I don&#39;t think JSoup will help you much for this use-case as it does not simulate a full browser but only handles DOM manipulation"},{"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"score":0,"creation_date":1643973322,"post_id":70985262,"comment_id":125486929,"body_markdown":"you could check the URL Angular fetches it&#39;s data from for the info you are looking for.\n\nhttps://api.bseindia.com/BseIndiaAPI/api/AnnGetData/w?pageno=1&amp;strCat=-1&amp;strPrevDate=20220204&amp;strScrip=&amp;strSearch=P&amp;strToDate=20220204&amp;strType=C\n\nHowever, since the devs probably have not intended this as a stable API parsing it might break sooner or later","body":"you could check the URL Angular fetches it&#39;s data from for the info you are looking for.  <a href=\"https://api.bseindia.com/BseIndiaAPI/api/AnnGetData/w?pageno=1&amp;strCat=-1&amp;strPrevDate=20220204&amp;strScrip=&amp;strSearch=P&amp;strToDate=20220204&amp;strType=C\" rel=\"nofollow noreferrer\">api.bseindia.com/BseIndiaAPI/api/AnnGetData/&hellip;</a>  However, since the devs probably have not intended this as a stable API parsing it might break sooner or later"},{"owner":{"account_id":24154154,"reputation":1,"user_id":18118599,"display_name":"Sprint T"},"score":0,"creation_date":1644078216,"post_id":70985262,"comment_id":125512283,"body_markdown":"This is helpful, thanks. I used httpurlconnection class to fetch the content of the url https://api.bseindia.com/BseIndiaAPI/api/AnnGetData/w?pageno=1&amp;strCat=-1&amp;strPrevDate=20220204&amp;strScrip=&amp;strSearch=P&amp;strToDate=20220204&amp;strType=C but the inputstream is null. Any idea why?","body":"This is helpful, thanks. I used httpurlconnection class to fetch the content of the url <a href=\"https://api.bseindia.com/BseIndiaAPI/api/AnnGetData/w?pageno=1&amp;strCat=-1&amp;strPrevDate=20220204&amp;strScrip=&amp;strSearch=P&amp;strToDate=20220204&amp;strType=C\" rel=\"nofollow noreferrer\">api.bseindia.com/BseIndiaAPI/api/AnnGetData/&hellip;</a> but the inputstream is null. Any idea why?"}],"owner":{"account_id":24154154,"reputation":1,"user_id":18118599,"display_name":"Sprint T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643972367,"creation_date":1643972367,"question_id":70985262,"body_markdown":"I want to download all PDFs from the links in this webpage from my java program - https://www.bseindia.com/corporates/ann.html\r\n\r\nI used jSoup to connect to the website and extract all links but it is not showing the PDF file links. When I open the HTML page source it does not show the links to PDF files. I looked at chrome developer tools -&gt; inspect element and it shows the links there. \r\n\r\nSo how can I access the links of PDF files shown in inspect element using jSoup?","title":"Download all PDF links from html webpage from java program using jSoup","body":"<p>I want to download all PDFs from the links in this webpage from my java program - <a href=\"https://www.bseindia.com/corporates/ann.html\" rel=\"nofollow noreferrer\">https://www.bseindia.com/corporates/ann.html</a></p>\n<p>I used jSoup to connect to the website and extract all links but it is not showing the PDF file links. When I open the HTML page source it does not show the links to PDF files. I looked at chrome developer tools -&gt; inspect element and it shows the links there.</p>\n<p>So how can I access the links of PDF files shown in inspect element using jSoup?</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643987290,"post_id":70985192,"comment_id":125492358,"body_markdown":"You shouldn&#39;t need two jobs. Look at the `org.apache.hadoop.mapreduce.lib.input.MultipleInputs` class. Other than that, do you really need mapreduce? I suspect using Spark would have less setup code","body":"You shouldn&#39;t need two jobs. Look at the <code>org.apache.hadoop.mapreduce.lib.input.MultipleInputs</code> class. Other than that, do you really need mapreduce? I suspect using Spark would have less setup code"},{"owner":{"account_id":10238510,"reputation":776,"user_id":7556645,"display_name":"Kasra"},"score":0,"creation_date":1644161601,"post_id":70985192,"comment_id":125526983,"body_markdown":"I need to do more computations on the first map-reduce jobs, so I need two jobs. And unfortunately, it&#39;s a university project, and I SHOULD solve the question using map-reduce.","body":"I need to do more computations on the first map-reduce jobs, so I need two jobs. And unfortunately, it&#39;s a university project, and I SHOULD solve the question using map-reduce."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644162022,"post_id":70985192,"comment_id":125527085,"body_markdown":"Your issue seems to be the error shows a local filesystem path `/home/kasra/`. Meanwhile, the first reducer output (and next mapper input) should be an **HDFS path**, which would start with `hdfs://` where there is a `/user` path, not `/home`, rather than `file://`... This would imply that your `core-site.xml` file doesn&#39;t properly set `default.FS` to the hdfs path and is using the default local filesystem when you create `new Configuration`","body":"Your issue seems to be the error shows a local filesystem path <code>&#47;home&#47;kasra&#47;</code>. Meanwhile, the first reducer output (and next mapper input) should be an <b>HDFS path</b>, which would start with <code>hdfs:&#47;&#47;</code> where there is a <code>&#47;user</code> path, not <code>&#47;home</code>, rather than <code>file:&#47;&#47;</code>... This would imply that your <code>core-site.xml</code> file doesn&#39;t properly set <code>default.FS</code> to the hdfs path and is using the default local filesystem when you create <code>new Configuration</code>"},{"owner":{"account_id":10238510,"reputation":776,"user_id":7556645,"display_name":"Kasra"},"score":0,"creation_date":1644234874,"post_id":70985192,"comment_id":125542617,"body_markdown":"if I run the code directly using java I can use a local address, but if I run the jar file using Hadoop It needs to be an hdfs address, anyway, the problem remains the same while using Hadoop.@OneCricketeer","body":"if I run the code directly using java I can use a local address, but if I run the jar file using Hadoop It needs to be an hdfs address, anyway, the problem remains the same while using Hadoop.@OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644248856,"post_id":70985192,"comment_id":125548487,"body_markdown":"Hadoop can use both local `file://` and `hdfs://` URIs, and it can be ran &quot;directly using Java&quot;, so I dont understand what you mean. I told you that that&#39;s the problem. You appear to be wanting to run the code in a cluster (or remote Hadoop environment), where **there is no `/home/kasra` folder**), so you should not hard-code that path in your code.","body":"Hadoop can use both local <code>file:&#47;&#47;</code> and <code>hdfs:&#47;&#47;</code> URIs, and it can be ran &quot;directly using Java&quot;, so I dont understand what you mean. I told you that that&#39;s the problem. You appear to be wanting to run the code in a cluster (or remote Hadoop environment), where <b>there is no <code>&#47;home&#47;kasra</code> folder</b>), so you should not hard-code that path in your code."},{"owner":{"account_id":10238510,"reputation":776,"user_id":7556645,"display_name":"Kasra"},"score":0,"creation_date":1644395287,"post_id":70985192,"comment_id":125592550,"body_markdown":"Oh, I see. Check out the `midddle_output` variable. The first job&#39;s output is in the `middle_output,` and I have the same problem using this variable.","body":"Oh, I see. Check out the <code>midddle_output</code> variable. The first job&#39;s output is in the <code>middle_output,</code> and I have the same problem using this variable."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644422363,"post_id":70985192,"comment_id":125603743,"body_markdown":"You shouldn&#39;t be using `../` relative paths, either. The input data should be available on HDFS after you use `hdfs put`. Then you give the absolute HDFS path to Hadoop Path object","body":"You shouldn&#39;t be using <code>..&#47;</code> relative paths, either. The input data should be available on HDFS after you use <code>hdfs put</code>. Then you give the absolute HDFS path to Hadoop Path object"}],"owner":{"account_id":10238510,"reputation":776,"user_id":7556645,"display_name":"Kasra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643972096,"creation_date":1643972096,"question_id":70985192,"body_markdown":"I&#39;m trying to execute two map-reduces, but the second map-reduce can not find the middle outputs\r\nhere is my driver code:\r\n```java\r\npublic class driver {\r\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\r\n        Configuration conf = new Configuration();\r\n        Job job1 = Job.getInstance(conf, &quot;find_click_patterns&quot;);\r\n        job1.setJarByClass(driver.class);\r\n        job1.setMapperClass(Map1.class);\r\n        job1.setReducerClass(Reduce1.class);\r\n\r\n        job1.setOutputValueClass(IntWritable.class);\r\n        job1.setOutputKeyClass(QueryResultWritable.class);\r\n        job1.setMapOutputKeyClass(IntWritable.class);\r\n        job1.setMapOutputValueClass(ListWritable.class);\r\n\r\n        Path destinationDir = new Path(args[1]);\r\n        TextInputFormat.addInputPath(job1, new Path(args[0]));\r\n        Path middle_output = destinationDir.suffix(&quot;/_1&quot;);\r\n        TextOutputFormat.setOutputPath(job1, middle_output);\r\n\r\n        job1.waitForCompletion(true);\r\n        System.out.println(&quot;Job 1 completed&quot;);\r\n        FileSystem fs = FileSystem.get(conf);\r\n        System.out.println(&quot;if middle output exists: &quot;+fs.exists(middle_output));\r\n        System.out.println(&quot;middle output: &quot;+middle_output);\r\n\r\n        Configuration conf2 = new Configuration();\r\n        Job job2 = Job.getInstance(conf2, &quot;count_click_patterns_per_query_result&quot;);\r\n        job2.setJarByClass(driver.class);\r\n        job2.setMapperClass(Map2.class);\r\n        job2.setReducerClass(Reduce2.class);\r\n\r\n        job2.setOutputValueClass(Text.class);\r\n        job2.setOutputKeyClass(Text.class);\r\n        job2.setMapOutputKeyClass(TripleWritable.class);\r\n        job2.setMapOutputValueClass(clickPatternWritable.class);\r\n\r\n\r\n        Path p = new Path(&quot;/home/kasra/Documents/khaje/Term3/BigData/HW3/Q33/output_tmp/_1&quot;);\r\n        TextInputFormat.addInputPath(job2, p);\r\n        // same error here:\r\n        //TextInputFormat.addInputPath(job2, middle_output);\r\n        TextOutputFormat.setOutputPath(job2, destinationDir.suffix(&quot;/_2&quot;));\r\n\r\n\r\n        System.out.println(&quot;if middle output exists: &quot;+fs.exists(p));\r\n        System.out.println(&quot;middle output: &quot;+p);\r\n        System.exit(job2.waitForCompletion(true) ? 0 : 1);\r\n\r\n\r\n    }\r\n}\r\n```\r\nand my args are: `../yandex/ output_tmp`\r\n\r\nthe first map-reduce runs successfully, but the second map-reduce throws this error:\r\n```java\r\nException in thread &quot;main&quot; org.apache.hadoop.mapreduce.lib.input.InvalidInputException: Input path does not exist: file:/home/kasra/Documents/khaje/Term3/BigData/HW3/Q33/output_tmp/_1\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:340)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:279)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:404)\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:310)\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:327)\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:200)\r\n\tat org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\r\n\tat org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\r\n\tat driver.main(driver.java:55)\r\nCaused by: java.io.IOException: Input path does not exist: file:/home/kasra/Documents/khaje/Term3/BigData/HW3/Q33/output_tmp/_1\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:313)\r\n\t... 13 more\r\n```\r\n\r\nalso, the output of `fs.exists(middle_output)` is true, and the files are available \r\n\r\nThank you very much in advance :)","title":"file not found while chaining multiple map-reduce hadoop java","body":"<p>I'm trying to execute two map-reduces, but the second map-reduce can not find the middle outputs\nhere is my driver code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class driver {\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Configuration conf = new Configuration();\n        Job job1 = Job.getInstance(conf, &quot;find_click_patterns&quot;);\n        job1.setJarByClass(driver.class);\n        job1.setMapperClass(Map1.class);\n        job1.setReducerClass(Reduce1.class);\n\n        job1.setOutputValueClass(IntWritable.class);\n        job1.setOutputKeyClass(QueryResultWritable.class);\n        job1.setMapOutputKeyClass(IntWritable.class);\n        job1.setMapOutputValueClass(ListWritable.class);\n\n        Path destinationDir = new Path(args[1]);\n        TextInputFormat.addInputPath(job1, new Path(args[0]));\n        Path middle_output = destinationDir.suffix(&quot;/_1&quot;);\n        TextOutputFormat.setOutputPath(job1, middle_output);\n\n        job1.waitForCompletion(true);\n        System.out.println(&quot;Job 1 completed&quot;);\n        FileSystem fs = FileSystem.get(conf);\n        System.out.println(&quot;if middle output exists: &quot;+fs.exists(middle_output));\n        System.out.println(&quot;middle output: &quot;+middle_output);\n\n        Configuration conf2 = new Configuration();\n        Job job2 = Job.getInstance(conf2, &quot;count_click_patterns_per_query_result&quot;);\n        job2.setJarByClass(driver.class);\n        job2.setMapperClass(Map2.class);\n        job2.setReducerClass(Reduce2.class);\n\n        job2.setOutputValueClass(Text.class);\n        job2.setOutputKeyClass(Text.class);\n        job2.setMapOutputKeyClass(TripleWritable.class);\n        job2.setMapOutputValueClass(clickPatternWritable.class);\n\n\n        Path p = new Path(&quot;/home/kasra/Documents/khaje/Term3/BigData/HW3/Q33/output_tmp/_1&quot;);\n        TextInputFormat.addInputPath(job2, p);\n        // same error here:\n        //TextInputFormat.addInputPath(job2, middle_output);\n        TextOutputFormat.setOutputPath(job2, destinationDir.suffix(&quot;/_2&quot;));\n\n\n        System.out.println(&quot;if middle output exists: &quot;+fs.exists(p));\n        System.out.println(&quot;middle output: &quot;+p);\n        System.exit(job2.waitForCompletion(true) ? 0 : 1);\n\n\n    }\n}\n</code></pre>\n<p>and my args are: <code>../yandex/ output_tmp</code></p>\n<p>the first map-reduce runs successfully, but the second map-reduce throws this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; org.apache.hadoop.mapreduce.lib.input.InvalidInputException: Input path does not exist: file:/home/kasra/Documents/khaje/Term3/BigData/HW3/Q33/output_tmp/_1\n    at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:340)\n    at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:279)\n    at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:404)\n    at org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:310)\n    at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:327)\n    at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:200)\n    at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\n    at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n    at org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\n    at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\n    at driver.main(driver.java:55)\nCaused by: java.io.IOException: Input path does not exist: file:/home/kasra/Documents/khaje/Term3/BigData/HW3/Q33/output_tmp/_1\n    at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:313)\n    ... 13 more\n</code></pre>\n<p>also, the output of <code>fs.exists(middle_output)</code> is true, and the files are available</p>\n<p>Thank you very much in advance :)</p>\n"},{"tags":["java","xml","rest","jaxb"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1643973436,"post_id":70985190,"comment_id":125486986,"body_markdown":"Probably best approach like [here](https://stackoverflow.com/q/11038313/592355).. ([cxf - interceptor](https://cxf.apache.org/docs/interceptors.html)!?)","body":"Probably best approach like <a href=\"https://stackoverflow.com/q/11038313/592355\">here</a>.. (<a href=\"https://cxf.apache.org/docs/interceptors.html\" rel=\"nofollow noreferrer\">cxf - interceptor</a>!?)"},{"owner":{"account_id":22605765,"reputation":23,"user_id":16786688,"display_name":"Kuldeep Singh"},"score":0,"creation_date":1643981325,"post_id":70985190,"comment_id":125489747,"body_markdown":"yes, I could use this approach. Thanks.\nBut for my knowledge what wrong I am doing in above approach, can&#39;t we us these 2 annotations together ?","body":"yes, I could use this approach. Thanks. But for my knowledge what wrong I am doing in above approach, can&#39;t we us these 2 annotations together ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1643988062,"post_id":70985190,"comment_id":125492708,"body_markdown":"the most obvious advantages would be: 1. no double/re-marshalling 2. using the &quot;framework as intended/designed&quot; 3. no side effects/experiments :)","body":"the most obvious advantages would be: 1. no double/re-marshalling 2. using the &quot;framework as intended/designed&quot; 3. no side effects/experiments :)"},{"owner":{"account_id":22605765,"reputation":23,"user_id":16786688,"display_name":"Kuldeep Singh"},"score":0,"creation_date":1644011152,"post_id":70985190,"comment_id":125501050,"body_markdown":"got it, thanks again","body":"got it, thanks again"}],"owner":{"account_id":22605765,"reputation":23,"user_id":16786688,"display_name":"Kuldeep Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643972078,"creation_date":1643972078,"question_id":70985190,"body_markdown":"    @XMLRootElement(name=&quot;BookStore&quot;)\r\n    @XMLJavaTypeAdapter(BookStoreAdapter.class)\r\n    public class BookStore{}\r\n\r\nwhen I unmarshall xml into BookStore POJO, BookStoreAdapter.class is not invoked.\r\nand yes BookStoreAdapter.class extends XmlAdapter&lt;String, BookStore&gt; and implements abstract methods.\r\n\r\nthe reason I am trying this contraption is bcz I have a rest web service like this \r\n\r\n    class interface{\r\n      @PUT\r\n      @Consumes({&quot;application/xml&quot;})\r\n      public void service(BookStore bs);\r\n    }\r\n\r\nso without Adapter I can receive xml request and Apache CXF through JAXB would create a POJO for me from xml to BookStore, but I want both pojo and xml as I want to store xml request in DB. for this reason I was thinking I could have adapter on BookStore than in adapter&#39;s unmarshall method I would take xml String and store it in DB and Create BootStore pojo as well like following \r\n\r\n \r\n\r\n    @Override\r\n        public BookStore unmarshal(String bookStoreXML) {\r\n            storeXMLInDB(bookStoreXML);\r\n            BookStore bs = null;\r\n            try {\r\n                bs = ((BookStore) JAXBContext.newInstance(BookStore.class);.createUnmarshaller().unmarshal(new StringReader(bookStoreXML)));\r\n            } catch (Exception ex) {\r\n            }\r\n            return bs;\r\n        }\r\n\r\nI know its bad code, I am just learning, please help.\r\nThanks for your time and inputs.","title":"Can we use @XMLJavaTypeAdapter with @XMLRootElement on a class","body":"<pre><code>@XMLRootElement(name=&quot;BookStore&quot;)\n@XMLJavaTypeAdapter(BookStoreAdapter.class)\npublic class BookStore{}\n</code></pre>\n<p>when I unmarshall xml into BookStore POJO, BookStoreAdapter.class is not invoked.\nand yes BookStoreAdapter.class extends XmlAdapter&lt;String, BookStore&gt; and implements abstract methods.</p>\n<p>the reason I am trying this contraption is bcz I have a rest web service like this</p>\n<pre><code>class interface{\n  @PUT\n  @Consumes({&quot;application/xml&quot;})\n  public void service(BookStore bs);\n}\n</code></pre>\n<p>so without Adapter I can receive xml request and Apache CXF through JAXB would create a POJO for me from xml to BookStore, but I want both pojo and xml as I want to store xml request in DB. for this reason I was thinking I could have adapter on BookStore than in adapter's unmarshall method I would take xml String and store it in DB and Create BootStore pojo as well like following</p>\n<pre><code>@Override\n    public BookStore unmarshal(String bookStoreXML) {\n        storeXMLInDB(bookStoreXML);\n        BookStore bs = null;\n        try {\n            bs = ((BookStore) JAXBContext.newInstance(BookStore.class);.createUnmarshaller().unmarshal(new StringReader(bookStoreXML)));\n        } catch (Exception ex) {\n        }\n        return bs;\n    }\n</code></pre>\n<p>I know its bad code, I am just learning, please help.\nThanks for your time and inputs.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643971539,"creation_date":1643971539,"answer_id":70985084,"question_id":70984792,"body_markdown":"The stream of late events coming from the window operator is an independent stream that contains only events that were so late that the allowed lateness wasn&#39;t enough to accommodate them.\r\n\r\nYou can do whatever you want with this stream, including sending it through another window. But these events will still be late, so you&#39;ll need to either re-generate watermarks using a more relaxed strategy that keeps them from still being late, or extend the allowed lateness of this new window.\r\n\r\nWindows always clean up after themselves.","title":"How Flink deals with late events when as side-output DataStream is used?","body":"<p>The stream of late events coming from the window operator is an independent stream that contains only events that were so late that the allowed lateness wasn't enough to accommodate them.</p>\n<p>You can do whatever you want with this stream, including sending it through another window. But these events will still be late, so you'll need to either re-generate watermarks using a more relaxed strategy that keeps them from still being late, or extend the allowed lateness of this new window.</p>\n<p>Windows always clean up after themselves.</p>\n"}],"owner":{"account_id":24153781,"reputation":13,"user_id":18118269,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70985084,"answer_count":1,"score":0,"last_activity_date":1643971539,"creation_date":1643970300,"question_id":70984792,"body_markdown":"It looks to me that Flink handles late events in 3 ways:\r\n\r\n 1. Dropping Late Events when the window expired (default).\r\n 2. Updating the window by including late events with the &quot;allowed lateness&quot; mechanism.\r\n 3. Redirecting late events into another DataStream using the &quot;side output&quot; mechanism.\r\n\r\nLet&#39;s assume that I have an Event-Time Job that consumes data from Kafka and process a window every 5 minutes. Now, suppose that I redirect late events into another DataStream.\r\n\r\n - Is this new DataStream independent? \r\n - Is it possible to assign a window to this stream in order to process these late events, let&#39;s assume, every hour?\r\n - If that is possible, is the memory freed after the firing of this window?\r\n \r\nThank you all!","title":"How Flink deals with late events when as side-output DataStream is used?","body":"<p>It looks to me that Flink handles late events in 3 ways:</p>\n<ol>\n<li>Dropping Late Events when the window expired (default).</li>\n<li>Updating the window by including late events with the &quot;allowed lateness&quot; mechanism.</li>\n<li>Redirecting late events into another DataStream using the &quot;side output&quot; mechanism.</li>\n</ol>\n<p>Let's assume that I have an Event-Time Job that consumes data from Kafka and process a window every 5 minutes. Now, suppose that I redirect late events into another DataStream.</p>\n<ul>\n<li>Is this new DataStream independent?</li>\n<li>Is it possible to assign a window to this stream in order to process these late events, let's assume, every hour?</li>\n<li>If that is possible, is the memory freed after the firing of this window?</li>\n</ul>\n<p>Thank you all!</p>\n"},{"tags":["java","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"score":0,"creation_date":1643432121,"post_id":70892758,"comment_id":125343449,"body_markdown":"See if this helps - https://stackoverflow.com/a/26615303/17981941","body":"See if this helps - <a href=\"https://stackoverflow.com/a/26615303/17981941\">stackoverflow.com/a/26615303/17981941</a>"},{"owner":{"account_id":239923,"reputation":11783,"user_id":509840,"accept_rate":71,"display_name":"rajah9"},"score":0,"creation_date":1643550881,"post_id":70892758,"comment_id":125365036,"body_markdown":"Welcome to StackOverflow. Would you please give some details as to what is not working?","body":"Welcome to StackOverflow. Would you please give some details as to what is not working?"},{"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"score":0,"creation_date":1643602742,"post_id":70892758,"comment_id":125375433,"body_markdown":"&lt;200,[B@c505096,[Pragma:&quot;no-cache&quot;, Content-Disposition:&quot;inline; filename=935436242330664960_pratikpopo.txt&quot;, Expires:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, must-revalidate&quot;, Content-Type:&quot;application/octet-stream&quot;, Content-Length:&quot;18&quot;, Date:&quot;Mon, 31 Jan 2022 04:16:56 GMT&quot;]&gt;                        I am getting this response but i am not able to download pratikpopo.txt file download. My motive is store this file in local machine how should we do","body":"&lt;200,[B@c505096,[Pragma:&quot;no-cache&quot;, Content-Disposition:&quot;inline; filename=935436242330664960_pratikpopo.txt&quot;, Expires:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, must-revalidate&quot;, Content-Type:&quot;application/octet-stream&quot;, Content-Length:&quot;18&quot;, Date:&quot;Mon, 31 Jan 2022 04:16:56 GMT&quot;]&gt;                        I am getting this response but i am not able to download pratikpopo.txt file download. My motive is store this file in local machine how should we do"}],"answers":[{"tags":[],"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643971507,"creation_date":1643793635,"answer_id":70953118,"question_id":70892758,"body_markdown":"\r\n\r\n      @RequestMapping(value = &quot;/download3/{path}&quot;, method = RequestMethod.GET)\r\n\t\tpublic String downloadFile4( @RequestParam(&quot;file_name&quot;) String path) throws IOException\r\n\t\t{\r\n\t\t\tString uri = &quot;File Path-URL(location wehere your file is stored on server)&quot;;\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\trestTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());    \r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM));\r\n\t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n\r\n\t\t\tResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class, &quot;1&quot;);\r\n\t\t\t\r\n\t\t\tURL furl = new URL(uri);\r\n\t\t\tReadableByteChannel rbc = Channels.newChannel(furl.openStream());\r\n\t\t\tFileOutputStream fos = new FileOutputStream(&quot;C:/download-file/&quot;+ response.getHeaders().getContentDisposition().getFilename());\r\n\t\t\tfos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n\t\t\t\r\n\t\t\treturn &quot;file downloaded&quot;;\r\n\t\t}\r\n","title":"how to downlod file using resttemplate","body":"<pre><code>  @RequestMapping(value = &quot;/download3/{path}&quot;, method = RequestMethod.GET)\n    public String downloadFile4( @RequestParam(&quot;file_name&quot;) String path) throws IOException\n    {\n        String uri = &quot;File Path-URL(location wehere your file is stored on server)&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());    \n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM));\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n\n        ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class, &quot;1&quot;);\n        \n        URL furl = new URL(uri);\n        ReadableByteChannel rbc = Channels.newChannel(furl.openStream());\n        FileOutputStream fos = new FileOutputStream(&quot;C:/download-file/&quot;+ response.getHeaders().getContentDisposition().getFilename());\n        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        \n        return &quot;file downloaded&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643871537,"creation_date":1643866800,"answer_id":70966402,"question_id":70892758,"body_markdown":"    {\r\n            URL link = new URL(&quot;your full url http://........&quot;);\r\n            InputStream in = new BufferedInputStream(link.openStream());\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            byte[] buf = new byte[1024];\r\n            int n = 0;\r\n            while (-1!=(n=in.read(buf)))\r\n            {\r\n               out.write(buf, 0, n);\r\n            }\r\n            out.close();\r\n            in.close();\r\n            byte[] response = out.toByteArray();\r\n            \r\n            FileOutputStream fos = new FileOutputStream(&quot;C:/download-file/YourFileName.txt&quot;);\r\n            fos.write(response);\r\n            fos.close();\r\n     }","title":"how to downlod file using resttemplate","body":"<pre><code>{\n        URL link = new URL(&quot;your full url http://........&quot;);\n        InputStream in = new BufferedInputStream(link.openStream());\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        byte[] buf = new byte[1024];\n        int n = 0;\n        while (-1!=(n=in.read(buf)))\n        {\n           out.write(buf, 0, n);\n        }\n        out.close();\n        in.close();\n        byte[] response = out.toByteArray();\n        \n        FileOutputStream fos = new FileOutputStream(&quot;C:/download-file/YourFileName.txt&quot;);\n        fos.write(response);\n        fos.close();\n }\n</code></pre>\n"}],"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":760,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643971507,"creation_date":1643368242,"question_id":70892758,"body_markdown":"            String uri = &quot;URL&quot;;\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\trestTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());    \r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM));\r\n\t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n\r\n\t\t\tResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class, &quot;1&quot;);\r\n**I get response like-&gt;**  &lt;200,[B@c505096,[Pragma:&quot;no-cache&quot;, Content-Disposition:&quot;inline; filename=935436242330664960_pratikpopo.txt&quot;, Expires:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, must-revalidate&quot;, Content-Type:&quot;application/octet-stream&quot;, Content-Length:&quot;18&quot;, Date:&quot;Mon, 31 Jan 2022 04:16:56 GMT&quot;]&gt; **I want to downlod (935436242330664960_pratikpopo.txt) this file.** **Is there any way to download this file**","title":"how to downlod file using resttemplate","body":"<pre><code>        String uri = &quot;URL&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());    \n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM));\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n\n        ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class, &quot;1&quot;);\n</code></pre>\n<p><strong>I get response like-&gt;</strong>  &lt;200,[B@c505096,[Pragma:&quot;no-cache&quot;, Content-Disposition:&quot;inline; filename=935436242330664960_pratikpopo.txt&quot;, Expires:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, must-revalidate&quot;, Content-Type:&quot;application/octet-stream&quot;, Content-Length:&quot;18&quot;, Date:&quot;Mon, 31 Jan 2022 04:16:56 GMT&quot;]&gt; <strong>I want to downlod (935436242330664960_pratikpopo.txt) this file.</strong> <strong>Is there any way to download this file</strong></p>\n"},{"tags":["java","interface","abstract-class"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1643970516,"post_id":70984821,"comment_id":125485898,"body_markdown":"Well it&#39;s either in the same package or imported from another package.","body":"Well it&#39;s either in the same package or imported from another package."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643970908,"post_id":70984821,"comment_id":125486056,"body_markdown":"If you compile the classes one by one you&#39;ll get a compiler error, but in Java you can compile classes as a unit; not just within a package but as an entire module (application or library).","body":"If you compile the classes one by one you&#39;ll get a compiler error, but in Java you can compile classes as a unit; not just within a package but as an entire module (application or library)."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1643971989,"post_id":70984821,"comment_id":125486449,"body_markdown":"I feel that in your case it would be more expressive to write `interface Arithmetic&lt;N&gt; { N somma(N other); ... }`. `N` is the generic type of the elements of the set you want to attach the arithmetic operators on. Then `class MySpecificNumber implements Arithmetic&lt;MySpecificNumber&gt;`, if you want the type itself to include the operators. Or `class MySpecificNumber` and `class MyOperators implements Arithmetic&lt;MySpecificNumber&gt;` if you want the operators to be defined independently. This allows e.g. for multiple implementations.","body":"I feel that in your case it would be more expressive to write <code>interface Arithmetic&lt;N&gt; { N somma(N other); ... }</code>. <code>N</code> is the generic type of the elements of the set you want to attach the arithmetic operators on. Then <code>class MySpecificNumber implements Arithmetic&lt;MySpecificNumber&gt;</code>, if you want the type itself to include the operators. Or <code>class MySpecificNumber</code> and <code>class MyOperators implements Arithmetic&lt;MySpecificNumber&gt;</code> if you want the operators to be defined independently. This allows e.g. for multiple implementations."},{"owner":{"account_id":5440761,"reputation":2542,"user_id":4792660,"accept_rate":39,"display_name":"user8469759"},"score":0,"creation_date":1643988379,"post_id":70984821,"comment_id":125492826,"body_markdown":"@NikosParaskevopoulos as I said I&#39;ve found the code, I didn&#39;t design it.","body":"@NikosParaskevopoulos as I said I&#39;ve found the code, I didn&#39;t design it."}],"answers":[{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643971446,"creation_date":1643971446,"answer_id":70985065,"question_id":70984821,"body_markdown":"Java compilation occurs in multiple phases, one of these phases finds all of the declared class symbols and a later phase fills in all the classes&#39; members (except for the already found nested class symbols).\r\n\r\nYou can read about it here: https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Enter.java","title":"Interface whose methods signature refer to an abstract class implementing that interface","body":"<p>Java compilation occurs in multiple phases, one of these phases finds all of the declared class symbols and a later phase fills in all the classes' members (except for the already found nested class symbols).</p>\n<p>You can read about it here: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Enter.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Enter.java</a></p>\n"}],"owner":{"account_id":5440761,"reputation":2542,"user_id":4792660,"accept_rate":39,"display_name":"user8469759"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70985065,"answer_count":1,"score":0,"last_activity_date":1643971446,"creation_date":1643970388,"question_id":70984821,"body_markdown":"I am not at all a JAVA expert but I&#39;ve found that the following code snippets run.\r\n\r\n    interface Arithmetic {\r\n        MyNumber somma(MyNumber b);\r\n        MyNumber sottrai(MyNumber b);\r\n        MyNumber moltiplica(MyNumber b);\r\n        MyNumber dividi(MyNumber b);\r\n    }\r\n    \r\n    abstract class MyNumber implements Arithmetic{\r\n    }\r\n    \r\n    public class Test{\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(&quot;It works&quot;);\r\n        }\r\n    }\r\n\r\nNow in C++ you can do similar things if you do a forward declaration, in Java there&#39;s no such thing (to my knowledge) so I don&#39;t understand how can Arithmetic be compiled fine despite my `MyNumber` is actually declared after arithmetic. Is there a technicality of Java explaining this?","title":"Interface whose methods signature refer to an abstract class implementing that interface","body":"<p>I am not at all a JAVA expert but I've found that the following code snippets run.</p>\n<pre><code>interface Arithmetic {\n    MyNumber somma(MyNumber b);\n    MyNumber sottrai(MyNumber b);\n    MyNumber moltiplica(MyNumber b);\n    MyNumber dividi(MyNumber b);\n}\n\nabstract class MyNumber implements Arithmetic{\n}\n\npublic class Test{\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;It works&quot;);\n    }\n}\n</code></pre>\n<p>Now in C++ you can do similar things if you do a forward declaration, in Java there's no such thing (to my knowledge) so I don't understand how can Arithmetic be compiled fine despite my <code>MyNumber</code> is actually declared after arithmetic. Is there a technicality of Java explaining this?</p>\n"},{"tags":["java","spring","generics"],"comments":[{"owner":{"account_id":12119161,"reputation":604,"user_id":8851510,"display_name":"neo"},"score":0,"creation_date":1550489694,"post_id":54746148,"comment_id":96274584,"body_markdown":"have you tried to set its name parameter","body":"have you tried to set its name parameter"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1550494621,"post_id":54746148,"comment_id":96277551,"body_markdown":"@neo You&#39;re right, I could. But this is a part of a Spring Boot Starter, so explicit names would make it annoying to use, as the user would then be forced to somehow know the exact name to override instead of the type only. Updated the question with this info.","body":"@neo You&#39;re right, I could. But this is a part of a Spring Boot Starter, so explicit names would make it annoying to use, as the user would then be forced to somehow know the exact name to override instead of the type only. Updated the question with this info."},{"owner":{"account_id":12119161,"reputation":604,"user_id":8851510,"display_name":"neo"},"score":0,"creation_date":1550551115,"post_id":54746148,"comment_id":96298968,"body_markdown":"When implementing a custom condition,the underlying implementation of class `@AnnotatedTypeMetadata`  is actually `@StandardMethodMetadata`.which has a public method named `#getIntrospectedMethod`,then you can get the reference of  the corresponding method","body":"When implementing a custom condition,the underlying implementation of class <code>@AnnotatedTypeMetadata</code>  is actually <code>@StandardMethodMetadata</code>.which has a public method named <code>#getIntrospectedMethod</code>,then you can get the reference of  the corresponding method"}],"answers":[{"tags":[],"owner":{"account_id":11840747,"reputation":21,"user_id":8664684,"display_name":"Richard Wild"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550496213,"creation_date":1550496213,"answer_id":54748327,"question_id":54746148,"body_markdown":"&gt; Is there any workaround for this?\r\n\r\nUnfortunately, I think not. The problem is that generics in Java do not exist in the compiled bytecode - they are used only for type checking at compile time and they only exist in the source code. Therefore at runtime, when Spring Boot sees your bean configuration class, it only sees two bean definitions that both create a Container. It does not see any difference between them unless you provide it yourself by giving them identifiers.","title":"Spring Boot @ConditionalOnMissingBean and generic types","body":"<blockquote>\n  <p>Is there any workaround for this?</p>\n</blockquote>\n\n<p>Unfortunately, I think not. The problem is that generics in Java do not exist in the compiled bytecode - they are used only for type checking at compile time and they only exist in the source code. Therefore at runtime, when Spring Boot sees your bean configuration class, it only sees two bean definitions that both create a Container. It does not see any difference between them unless you provide it yourself by giving them identifiers.</p>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643971419,"creation_date":1550575533,"answer_id":54765205,"question_id":54746148,"body_markdown":"**Update:** Spring now supports this natively. See the accepted answer.\r\n\r\n**Original answer:**\r\nHere&#39;s a fully working solution. I gave up on this approach, but I&#39;m posting it in case someone finds it useful.\r\n\r\nI made a custom annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    @Conditional(MissingGenericBeanCondition.class)\r\n    public @interface ConditionalOnMissingGenericBean {\r\n    \r\n        Class&lt;?&gt; containerType() default Void.class;\r\n        Class&lt;?&gt;[] typeParameters() default {};\r\n    }\r\n\r\nAnd a custom condition to go with it:\r\n\r\n    public class MissingGenericBeanCondition implements Condition {\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n            if (!metadata.isAnnotated(ConditionalOnMissingGenericBean.class.getName()) || context.getBeanFactory() == null) {\r\n                return false;\r\n            }\r\n            Map&lt;String, Object&gt; attributes = metadata.getAnnotationAttributes(ConditionalOnMissingGenericBean.class.getName());\r\n            Class&lt;?&gt; containerType = (Class&lt;?&gt;) attributes.get(&quot;containerType&quot;);\r\n            Class&lt;?&gt;[] typeParameters = (Class&lt;?&gt;[]) attributes.get(&quot;typeParameters&quot;);\r\n    \r\n            ResolvableType resolvableType;\r\n            if (Void.class.equals(containerType)) {\r\n                if (!(metadata instanceof MethodMetadata) || !metadata.isAnnotated(Bean.class.getName())) {\r\n                    throw error();\r\n                }\r\n                //When resolving beans within the starter\r\n                if (metadata instanceof StandardMethodMetadata) {\r\n                    resolvableType = ResolvableType.forType(((StandardMethodMetadata) metadata).getIntrospectedMethod().getGenericReturnType());\r\n                } else {\r\n                    //When resolving beans in an application using the starter\r\n                    MethodMetadata methodMeta = (MethodMetadata) metadata;\r\n                    try {\r\n                        // This might not be a safe thing to do. See the notes below.\r\n                        Class&lt;?&gt; declaringClass = ClassUtils.forName(methodMeta.getDeclaringClassName(), context.getClassLoader());\r\n                        Type returnType = Arrays.stream(declaringClass.getDeclaredMethods())\r\n                                .filter(m -&gt; m.isAnnotationPresent(Bean.class))\r\n                                .filter(m -&gt; m.getName().equals(methodMeta.getMethodName()))\r\n                                .findFirst().map(Method::getGenericReturnType)\r\n                                .orElseThrow(MissingGenericBeanCondition::error);\r\n                        resolvableType = ResolvableType.forType(returnType);\r\n                    } catch (ClassNotFoundException e) {\r\n                        throw error();\r\n                    }\r\n                }\r\n            } else {\r\n                resolvableType = ResolvableType.forClassWithGenerics(containerType, typeParameters);\r\n            }\r\n    \r\n            String[] names = context.getBeanFactory().getBeanNamesForType(resolvableType);\r\n            return names.length == 0;\r\n        }\r\n    \r\n        private static IllegalStateException error() {\r\n            return new IllegalStateException(ConditionalOnMissingGenericBean.class.getSimpleName()\r\n                    + &quot; is missing the explicit generic type and the implicit type can not be determined&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThese allow me to do the following:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingGenericBean\r\n    public Container&lt;Book&gt; bookContainer() {\r\n        return new Container&lt;&gt;(new Book());\r\n    }\r\n    \r\n    @Bean\r\n    @ConditionalOnMissingGenericBean\r\n    public Container&lt;Computer&gt; computerContainer() {\r\n        return new Container&lt;&gt;(new Computer());\r\n    }\r\n\r\n\r\nBoth beans will now be loaded as they&#39;re of different generic types. If the user of the starter would register another bean of `Container&lt;Book&gt;` or `Container&lt;Computer&gt;` type, then the default bean would not be loaded, exactly as desired.\r\n\r\nAs implemented, it is also possible to use the annotation this way:\r\n\r\n    @Bean\r\n    //Load this bean only if Container&lt;Car&gt; isn&#39;t present\r\n    @ConditionalOnMissingGenericBean(containerType=Container.class, typeParameters=Car.class)\r\n    public Container&lt;Computer&gt; computerContainer() {\r\n        return new Container&lt;&gt;(new Computer());\r\n    }\r\n\r\n**Notes:**\r\nLoading the configuration class in the condition might not be safe, but in this specific case it also might be... I have no clue. Didn&#39;t bother investigating further as I settled on a different approach altogether (different interface for each bean). If you have any info on this, please comment.\r\n\r\nIf explicit types are provided in the annotation, e.g.\r\n\r\n    @Bean\r\n    @ConditionalOnMissingGenericBean(containerType=Container.class, typeParameters=Computer.class)\r\n    public Container&lt;Computer&gt; computerContainer() {\r\n        return new Container&lt;&gt;(new Computer());\r\n    }\r\n\r\nthis concern goes away, but this approach will not work if the type parameters are also generic, e.g. `Container&lt;List&lt;Computer&gt;&gt;`.\r\n\r\nAnother way to make this certainly safe would be to accept the declaring class in the annotation:\r\n\r\n    @ConditionalOnMissingGenericBean(declaringClass=CustomConfig.class)\r\nand then use that instead of\r\n\r\n    Class&lt;?&gt; declaringClass = ClassUtils.forName(methodMeta.getDeclaringClassName(), context.getClassLoader());\r\n","title":"Spring Boot @ConditionalOnMissingBean and generic types","body":"<p><strong>Update:</strong> Spring now supports this natively. See the accepted answer.</p>\n<p><strong>Original answer:</strong>\nHere's a fully working solution. I gave up on this approach, but I'm posting it in case someone finds it useful.</p>\n<p>I made a custom annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Conditional(MissingGenericBeanCondition.class)\npublic @interface ConditionalOnMissingGenericBean {\n\n    Class&lt;?&gt; containerType() default Void.class;\n    Class&lt;?&gt;[] typeParameters() default {};\n}\n</code></pre>\n<p>And a custom condition to go with it:</p>\n<pre><code>public class MissingGenericBeanCondition implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        if (!metadata.isAnnotated(ConditionalOnMissingGenericBean.class.getName()) || context.getBeanFactory() == null) {\n            return false;\n        }\n        Map&lt;String, Object&gt; attributes = metadata.getAnnotationAttributes(ConditionalOnMissingGenericBean.class.getName());\n        Class&lt;?&gt; containerType = (Class&lt;?&gt;) attributes.get(&quot;containerType&quot;);\n        Class&lt;?&gt;[] typeParameters = (Class&lt;?&gt;[]) attributes.get(&quot;typeParameters&quot;);\n\n        ResolvableType resolvableType;\n        if (Void.class.equals(containerType)) {\n            if (!(metadata instanceof MethodMetadata) || !metadata.isAnnotated(Bean.class.getName())) {\n                throw error();\n            }\n            //When resolving beans within the starter\n            if (metadata instanceof StandardMethodMetadata) {\n                resolvableType = ResolvableType.forType(((StandardMethodMetadata) metadata).getIntrospectedMethod().getGenericReturnType());\n            } else {\n                //When resolving beans in an application using the starter\n                MethodMetadata methodMeta = (MethodMetadata) metadata;\n                try {\n                    // This might not be a safe thing to do. See the notes below.\n                    Class&lt;?&gt; declaringClass = ClassUtils.forName(methodMeta.getDeclaringClassName(), context.getClassLoader());\n                    Type returnType = Arrays.stream(declaringClass.getDeclaredMethods())\n                            .filter(m -&gt; m.isAnnotationPresent(Bean.class))\n                            .filter(m -&gt; m.getName().equals(methodMeta.getMethodName()))\n                            .findFirst().map(Method::getGenericReturnType)\n                            .orElseThrow(MissingGenericBeanCondition::error);\n                    resolvableType = ResolvableType.forType(returnType);\n                } catch (ClassNotFoundException e) {\n                    throw error();\n                }\n            }\n        } else {\n            resolvableType = ResolvableType.forClassWithGenerics(containerType, typeParameters);\n        }\n\n        String[] names = context.getBeanFactory().getBeanNamesForType(resolvableType);\n        return names.length == 0;\n    }\n\n    private static IllegalStateException error() {\n        return new IllegalStateException(ConditionalOnMissingGenericBean.class.getSimpleName()\n                + &quot; is missing the explicit generic type and the implicit type can not be determined&quot;);\n    }\n}\n</code></pre>\n<p>These allow me to do the following:</p>\n<pre><code>@Bean\n@ConditionalOnMissingGenericBean\npublic Container&lt;Book&gt; bookContainer() {\n    return new Container&lt;&gt;(new Book());\n}\n\n@Bean\n@ConditionalOnMissingGenericBean\npublic Container&lt;Computer&gt; computerContainer() {\n    return new Container&lt;&gt;(new Computer());\n}\n</code></pre>\n<p>Both beans will now be loaded as they're of different generic types. If the user of the starter would register another bean of <code>Container&lt;Book&gt;</code> or <code>Container&lt;Computer&gt;</code> type, then the default bean would not be loaded, exactly as desired.</p>\n<p>As implemented, it is also possible to use the annotation this way:</p>\n<pre><code>@Bean\n//Load this bean only if Container&lt;Car&gt; isn't present\n@ConditionalOnMissingGenericBean(containerType=Container.class, typeParameters=Car.class)\npublic Container&lt;Computer&gt; computerContainer() {\n    return new Container&lt;&gt;(new Computer());\n}\n</code></pre>\n<p><strong>Notes:</strong>\nLoading the configuration class in the condition might not be safe, but in this specific case it also might be... I have no clue. Didn't bother investigating further as I settled on a different approach altogether (different interface for each bean). If you have any info on this, please comment.</p>\n<p>If explicit types are provided in the annotation, e.g.</p>\n<pre><code>@Bean\n@ConditionalOnMissingGenericBean(containerType=Container.class, typeParameters=Computer.class)\npublic Container&lt;Computer&gt; computerContainer() {\n    return new Container&lt;&gt;(new Computer());\n}\n</code></pre>\n<p>this concern goes away, but this approach will not work if the type parameters are also generic, e.g. <code>Container&lt;List&lt;Computer&gt;&gt;</code>.</p>\n<p>Another way to make this certainly safe would be to accept the declaring class in the annotation:</p>\n<pre><code>@ConditionalOnMissingGenericBean(declaringClass=CustomConfig.class)\n</code></pre>\n<p>and then use that instead of</p>\n<pre><code>Class&lt;?&gt; declaringClass = ClassUtils.forName(methodMeta.getDeclaringClassName(), context.getClassLoader());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11212114,"reputation":3987,"user_id":8225898,"display_name":"Sven D&#246;ring"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1584033740,"creation_date":1584033740,"answer_id":60659022,"question_id":54746148,"body_markdown":"It&#39;s possible since Spring Boot v2.1.0.\r\n\r\nThat version introduced the new field ``parameterizedContainer`` on ``ConditionalOnMissingBean``.\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(value = Book.class, parameterizedContainer = Container.class)\r\n    public Container&lt;Book&gt; bookContainer() {\r\n        return new Container&lt;&gt;(new Book());\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(value = Computer.class, parameterizedContainer = Container.class)\r\n    public Container&lt;Computer&gt; computerContainer() {\r\n        return new Container&lt;&gt;(new Computer());\r\n    }\r\n","title":"Spring Boot @ConditionalOnMissingBean and generic types","body":"<p>It's possible since Spring Boot v2.1.0.</p>\n\n<p>That version introduced the new field <code>parameterizedContainer</code> on <code>ConditionalOnMissingBean</code>.</p>\n\n<pre><code>@Bean\n@ConditionalOnMissingBean(value = Book.class, parameterizedContainer = Container.class)\npublic Container&lt;Book&gt; bookContainer() {\n    return new Container&lt;&gt;(new Book());\n}\n\n@Bean\n@ConditionalOnMissingBean(value = Computer.class, parameterizedContainer = Container.class)\npublic Container&lt;Computer&gt; computerContainer() {\n    return new Container&lt;&gt;(new Computer());\n}\n</code></pre>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4248,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60659022,"answer_count":3,"score":8,"last_activity_date":1643971419,"creation_date":1550488925,"question_id":54746148,"body_markdown":"Is there any way to get both of these beans instantiated:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public Container&lt;Book&gt; bookContainer() {\r\n        return new Container&lt;&gt;(new Book());\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public Container&lt;Computer&gt; computerContainer() {\r\n        return new Container&lt;&gt;(new Computer());\r\n    }\r\n\r\n`@ConditionalOnMissingBean` only takes the bean class into account, falsely making `bookContainer` and `computerContainer` the same type, thus only one of them gets registered.\r\n\r\nI could give explicit qualifiers to each, but since this is a part of a Spring Boot Starter, it would make it annoying to use, as the user would then be forced to somehow know the exact name to override instead of the type only.\r\n\r\n**Potential approach:**\r\n\r\nSince it is possible to ask Spring for a bean by its full generic type, I might be able to implement a conditional factory that will try to get a fully-typed instance and produce one if it doesn&#39;t already exist. I&#39;m now investigating if/how this can be done.\r\nAmazingly, when implementing a custom condition (to be used with `@Conditional`), it does not have access to the bean type...\r\n\r\nWhile every other modern injection framework operates on full types, Spring somehow still works with raw classes and string names(!) which just blows my mind... Is there any workaround for this?\r\n","title":"Spring Boot @ConditionalOnMissingBean and generic types","body":"<p>Is there any way to get both of these beans instantiated:</p>\n\n<pre><code>@Bean\n@ConditionalOnMissingBean\npublic Container&lt;Book&gt; bookContainer() {\n    return new Container&lt;&gt;(new Book());\n}\n\n@Bean\n@ConditionalOnMissingBean\npublic Container&lt;Computer&gt; computerContainer() {\n    return new Container&lt;&gt;(new Computer());\n}\n</code></pre>\n\n<p><code>@ConditionalOnMissingBean</code> only takes the bean class into account, falsely making <code>bookContainer</code> and <code>computerContainer</code> the same type, thus only one of them gets registered.</p>\n\n<p>I could give explicit qualifiers to each, but since this is a part of a Spring Boot Starter, it would make it annoying to use, as the user would then be forced to somehow know the exact name to override instead of the type only.</p>\n\n<p><strong>Potential approach:</strong></p>\n\n<p>Since it is possible to ask Spring for a bean by its full generic type, I might be able to implement a conditional factory that will try to get a fully-typed instance and produce one if it doesn't already exist. I'm now investigating if/how this can be done.\nAmazingly, when implementing a custom condition (to be used with <code>@Conditional</code>), it does not have access to the bean type...</p>\n\n<p>While every other modern injection framework operates on full types, Spring somehow still works with raw classes and string names(!) which just blows my mind... Is there any workaround for this?</p>\n"},{"tags":["java","eclipse-rcp","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643971063,"creation_date":1643971063,"answer_id":70984974,"question_id":70984427,"body_markdown":"The blog post says:\r\n\r\n&gt; The dynamic scaling can be triggered programmatically by executing the\r\n&gt; ConfigureScalingCommand on the NatTable instance.\r\n\r\nSo you need to implement such buttons in your UI that execute the `ConfigureScalingCommand` with the according parameters.","title":"How to add zoom in and zoom out buttons in Nattable","body":"<p>The blog post says:</p>\n<blockquote>\n<p>The dynamic scaling can be triggered programmatically by executing the\nConfigureScalingCommand on the NatTable instance.</p>\n</blockquote>\n<p>So you need to implement such buttons in your UI that execute the <code>ConfigureScalingCommand</code> with the according parameters.</p>\n"}],"owner":{"account_id":24153599,"reputation":5,"user_id":18118103,"display_name":"SeemaC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70984974,"answer_count":1,"score":0,"last_activity_date":1643971063,"creation_date":1643968645,"question_id":70984427,"body_markdown":"There is way to zoom in and zoom out in Nattable 2.0 onwards. \r\n\r\n(http://blog.vogella.com/2020/03/05/nattable-dynamic-scaling-enhancements/)\r\n\r\nBut how to make this functionality work on button clicks similar to browser.\r\n\r\n[Expected zoom in and zoom out view][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HvW7J.png","title":"How to add zoom in and zoom out buttons in Nattable","body":"<p>There is way to zoom in and zoom out in Nattable 2.0 onwards.</p>\n<p>(<a href=\"http://blog.vogella.com/2020/03/05/nattable-dynamic-scaling-enhancements/\" rel=\"nofollow noreferrer\">http://blog.vogella.com/2020/03/05/nattable-dynamic-scaling-enhancements/</a>)</p>\n<p>But how to make this functionality work on button clicks similar to browser.</p>\n<p><a href=\"https://i.stack.imgur.com/HvW7J.png\" rel=\"nofollow noreferrer\">Expected zoom in and zoom out view</a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1643971324,"post_id":70984942,"comment_id":125486218,"body_markdown":"Try `appProperties`. Default bean names tend to be camel cased.","body":"Try <code>appProperties</code>. Default bean names tend to be camel cased."},{"owner":{"account_id":18514929,"reputation":95,"user_id":13489275,"display_name":"Edith"},"score":0,"creation_date":1643972133,"post_id":70984942,"comment_id":125486505,"body_markdown":"@RobSpoor Thank you. It worked. But do you know why I have to add @ Component above SpringApplicationContext class to make the the setApplicationContext() run? Is it because SpringApplicationContext will be autowired to somewhere else?","body":"@RobSpoor Thank you. It worked. But do you know why I have to add @ Component above SpringApplicationContext class to make the the setApplicationContext() run? Is it because SpringApplicationContext will be autowired to somewhere else?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1643972369,"post_id":70984942,"comment_id":125486593,"body_markdown":"In Spring, only beans are treated specially. Those are classes annotated with `@Component`, `@Configuration`, etc., or return values of methods annotated with `@Bean`.","body":"In Spring, only beans are treated specially. Those are classes annotated with <code>@Component</code>, <code>@Configuration</code>, etc., or return values of methods annotated with <code>@Bean</code>."}],"owner":{"account_id":18514929,"reputation":95,"user_id":13489275,"display_name":"Edith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643970926,"creation_date":1643970926,"question_id":70984942,"body_markdown":"I cannot get the bean by adding @Component on it.\r\nI have created a class as below for getting bean in cases where instances are not injected by @autowired. \r\n```\r\n@Component\r\npublic class SpringApplicationContext implements ApplicationContextAware{\r\n\tprivate static ApplicationContext CONTEXT;\r\n\t\r\n\r\n\tpublic static Object getBean(String beanName) {\r\n\t\treturn CONTEXT.getBean(beanName);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setApplicationContext(ApplicationContext context)\r\n\t\t\tthrows BeansException {\r\n\t\tCONTEXT = context;\r\n\t\t\r\n\t}\r\n}\r\n```\r\nThen I created a AppProperties class for reading the decrypt token from application.properties.\r\n \r\n```\r\n@Component\r\npublic class AppProperties {\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n\tpublic String getTokenSecret() {\r\n\t\treturn env.getProperty(&quot;tokenSecret&quot;);\r\n\t}\r\n}\r\n```\r\nThen, I try to get the AppProperties instance as bean like this, which SecurityConstants.getTokenSecret() are used as parameter by manually inject in another method like this:\r\n```\r\npublic class SecurityConstants {\r\n\r\n\t...\r\n\t\r\n\tpublic static String getTokenSecret() {\r\n        //Fail to get bean in this line\r\n\t\tAppProperties appProperties = (AppProperties)SpringApplicationContext.getBean(&quot;AppProperties&quot;); \r\n\t\treturn appProperties.getTokenSecret();\r\n\t}\r\n\r\n}\r\n```\r\n but fail with below exception:\r\n```\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;AppProperties&#39; available\r\n```\r\nAfter that, I add getAppProperties() with @Bean to make it register as a bean and it worked.\r\n```\r\n@SpringBootApplication\r\npublic class RegAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RegAppApplication.class, args);\r\n\t}\r\n\r\n\t@Bean(name=&quot;AppProperties&quot;)\r\n\tpublic AppProperties getAppProperties() {\r\n\t\treturn new AppProperties();\r\n\t\t}\r\n\t\r\n}\r\n\r\n```\r\nThe question is:\r\n1) Why SpringApplicationContext is run on application start and AppProperties does not? \r\n\r\n2) Why cannot get AppProperties as bean? Isn&#39;t adding @Component above the class will make it a component scan target, thus being treated as a bean? \r\n3) How adding getAppProperties() with @Bean making it different with adding @Component above the class?\r\n\r\nThank you.","title":"Cannot getBean after adding @Component above Class","body":"<p>I cannot get the bean by adding @Component on it.\nI have created a class as below for getting bean in cases where instances are not injected by @autowired.</p>\n<pre><code>@Component\npublic class SpringApplicationContext implements ApplicationContextAware{\n    private static ApplicationContext CONTEXT;\n    \n\n    public static Object getBean(String beanName) {\n        return CONTEXT.getBean(beanName);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext context)\n            throws BeansException {\n        CONTEXT = context;\n        \n    }\n}\n</code></pre>\n<p>Then I created a AppProperties class for reading the decrypt token from application.properties.</p>\n<pre><code>@Component\npublic class AppProperties {\n\n    @Autowired\n    private Environment env;\n    \n    public String getTokenSecret() {\n        return env.getProperty(&quot;tokenSecret&quot;);\n    }\n}\n</code></pre>\n<p>Then, I try to get the AppProperties instance as bean like this, which SecurityConstants.getTokenSecret() are used as parameter by manually inject in another method like this:</p>\n<pre><code>public class SecurityConstants {\n\n    ...\n    \n    public static String getTokenSecret() {\n        //Fail to get bean in this line\n        AppProperties appProperties = (AppProperties)SpringApplicationContext.getBean(&quot;AppProperties&quot;); \n        return appProperties.getTokenSecret();\n    }\n\n}\n</code></pre>\n<p>but fail with below exception:</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'AppProperties' available\n</code></pre>\n<p>After that, I add getAppProperties() with @Bean to make it register as a bean and it worked.</p>\n<pre><code>@SpringBootApplication\npublic class RegAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RegAppApplication.class, args);\n    }\n\n    @Bean(name=&quot;AppProperties&quot;)\n    public AppProperties getAppProperties() {\n        return new AppProperties();\n        }\n    \n}\n\n</code></pre>\n<p>The question is:</p>\n<ol>\n<li><p>Why SpringApplicationContext is run on application start and AppProperties does not?</p>\n</li>\n<li><p>Why cannot get AppProperties as bean? Isn't adding @Component above the class will make it a component scan target, thus being treated as a bean?</p>\n</li>\n<li><p>How adding getAppProperties() with @Bean making it different with adding @Component above the class?</p>\n</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","jvm","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643916489,"post_id":70976970,"comment_id":125473218,"body_markdown":"Have you tried with java 17?","body":"Have you tried with java 17?"},{"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"score":1,"creation_date":1643919804,"post_id":70976970,"comment_id":125474290,"body_markdown":"@Thorbj&#248;rnRavnAndersen I&#39;m using the latest supported versions of everything. The latest Flink and the latest supported Java. The current version of Apache Flink doesn&#39;t support Java 17 yet, so that isn&#39;t an option. They will eventually, supposedly for 1.16 towards the end of 2022.","body":"@Thorbj&#248;rnRavnAndersen I&#39;m using the latest supported versions of everything. The latest Flink and the latest supported Java. The current version of Apache Flink doesn&#39;t support Java 17 yet, so that isn&#39;t an option. They will eventually, supposedly for 1.16 towards the end of 2022."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643970887,"creation_date":1643970887,"answer_id":70984934,"question_id":70976970,"body_markdown":"The task manager memory layout and configuration options are described in https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/memory/mem_setup_tm/. \r\n\r\n","title":"Java 11 + Docker Based App = `java.lang.OutOfMemoryError: Direct buffer memory`","body":"<p>The task manager memory layout and configuration options are described in <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/memory/mem_setup_tm/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/memory/mem_setup_tm/</a>.</p>\n"}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70984934,"answer_count":1,"score":0,"last_activity_date":1643970887,"creation_date":1643915362,"question_id":70976970,"body_markdown":"With a Flink 1.14.3 application running on Kubernetes using the `flink:1.14.3-scala_2.12-java11` Docker image, I&#39;m getting this Java memory error:\r\n\r\n```\r\nCaused by: java.lang.OutOfMemoryError: Direct buffer memory\r\n\tat java.base/java.nio.Bits.reserveMemory(Unknown Source)\r\n\tat java.base/java.nio.DirectByteBuffer.&lt;init&gt;(Unknown Source)\r\n\tat java.base/java.nio.ByteBuffer.allocateDirect(Unknown Source)\r\n\tat io.netty.buffer.PoolArena$DirectArena.allocateDirect(PoolArena.java:648)\r\n\tat io.netty.buffer.PoolArena$DirectArena.newChunk(PoolArena.java:623)\r\n\tat io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:202)\r\n\tat io.netty.buffer.PoolArena.tcacheAllocateSmall(PoolArena.java:172)\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:134)\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:126)\r\n\tat io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:394)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:140)\r\n\tat io.netty.handler.codec.dns.DatagramDnsQueryEncoder.allocateBuffer(DatagramDnsQueryEncoder.java:82)\r\n\tat io.netty.handler.codec.dns.DatagramDnsQueryEncoder.encode(DatagramDnsQueryEncoder.java:60)\r\n\tat io.netty.handler.codec.dns.DatagramDnsQueryEncoder.encode(DatagramDnsQueryEncoder.java:33)\r\n\tat io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:89)\r\n\t... 52 more\r\n```\r\n\r\nThis is specifically happening with the VertX version 4.2.4 async Postgresql client which is using the Netty async http engine.\r\n\r\nThe specific version of java is:\r\n\r\n```\r\njava --version\r\nopenjdk 11.0.13 2021-10-19\r\nOpenJDK Runtime Environment 18.9 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.13+8, mixed mode, sharing)\r\n```\r\n\r\nAre there any JVM or Docker or Kubernetes parameters I should try tweaking to fix this problem?","title":"Java 11 + Docker Based App = `java.lang.OutOfMemoryError: Direct buffer memory`","body":"<p>With a Flink 1.14.3 application running on Kubernetes using the <code>flink:1.14.3-scala_2.12-java11</code> Docker image, I'm getting this Java memory error:</p>\n<pre><code>Caused by: java.lang.OutOfMemoryError: Direct buffer memory\n    at java.base/java.nio.Bits.reserveMemory(Unknown Source)\n    at java.base/java.nio.DirectByteBuffer.&lt;init&gt;(Unknown Source)\n    at java.base/java.nio.ByteBuffer.allocateDirect(Unknown Source)\n    at io.netty.buffer.PoolArena$DirectArena.allocateDirect(PoolArena.java:648)\n    at io.netty.buffer.PoolArena$DirectArena.newChunk(PoolArena.java:623)\n    at io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:202)\n    at io.netty.buffer.PoolArena.tcacheAllocateSmall(PoolArena.java:172)\n    at io.netty.buffer.PoolArena.allocate(PoolArena.java:134)\n    at io.netty.buffer.PoolArena.allocate(PoolArena.java:126)\n    at io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:394)\n    at io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)\n    at io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)\n    at io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:140)\n    at io.netty.handler.codec.dns.DatagramDnsQueryEncoder.allocateBuffer(DatagramDnsQueryEncoder.java:82)\n    at io.netty.handler.codec.dns.DatagramDnsQueryEncoder.encode(DatagramDnsQueryEncoder.java:60)\n    at io.netty.handler.codec.dns.DatagramDnsQueryEncoder.encode(DatagramDnsQueryEncoder.java:33)\n    at io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:89)\n    ... 52 more\n</code></pre>\n<p>This is specifically happening with the VertX version 4.2.4 async Postgresql client which is using the Netty async http engine.</p>\n<p>The specific version of java is:</p>\n<pre><code>java --version\nopenjdk 11.0.13 2021-10-19\nOpenJDK Runtime Environment 18.9 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.13+8, mixed mode, sharing)\n</code></pre>\n<p>Are there any JVM or Docker or Kubernetes parameters I should try tweaking to fix this problem?</p>\n"},{"tags":["java","jackson","pojo","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643970635,"creation_date":1643970635,"answer_id":70984875,"question_id":70984645,"body_markdown":"You need to use the proper annotation: `JacksonXmlElementWrapper`\r\n\r\nhttp://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\r\n\r\n\r\nExample:\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    static class VTX_SHS implements Serializable {\r\n\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        public List&lt;Row&gt; row;\r\n\r\n        public int reporting_date;\r\n        public String interface_type;\r\n        public String event_type;\r\n    }\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    static class Row implements Serializable {\r\n        public Date period;\r\n        public String book_base_ent_cd;\r\n        public String other_inst_ident;\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n\r\n        String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\r\n                + &quot;&lt;VTX_SHS reporting_date=\\&quot;20210228\\&quot; interface_type=\\&quot;buss\\&quot; event_type=\\&quot;green_light\\&quot; &gt;\\n&quot;\r\n                + &quot;  &lt;!-- 01:  period                                   |         varchar2(10) --&gt;\\n&quot;\r\n                + &quot;  &lt;!-- 02:  book_base_ent_cd                         |         varchar2(10) --&gt;\\n&quot;\r\n                + &quot;  &lt;!-- 03:  isin                                     |         varchar2(12) --&gt;\\n&quot;\r\n                + &quot; \\n&quot;\r\n                + &quot;  &lt;row period=\\&quot;2021-02-28\\&quot; book_base_ent_cd=\\&quot;U0027\\&quot; other_inst_ident=\\&quot;PLCHS258Q463\\&quot; /&gt;\\n&quot;\r\n                + &quot;  &lt;row period=\\&quot;2021-02-28\\&quot; book_base_ent_cd=\\&quot;U0028\\&quot; other_inst_ident=\\&quot;PLCHS258Q464\\&quot; /&gt;\\n&quot;\r\n                + &quot;  &lt;row period=\\&quot;2021-02-28\\&quot; book_base_ent_cd=\\&quot;U0029\\&quot; other_inst_ident=\\&quot;PLCHS258Q465\\&quot; /&gt;\\n&quot;\r\n                + &quot; \\n&quot;\r\n                + &quot;&lt;/VTX_SHS&gt;&quot;;\r\n\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        var SHS1Response = xmlMapper.readValue(xml, VTX_SHS.class);\r\n        System.out.println(SHS1Response);\r\n\r\n    }\r\n\r\n\r\n----\r\n\r\nConsole:\r\n\r\n    VTX_SHS(row=[Row(period=Sun Feb 28 01:00:00 CET 2021, book_base_ent_cd=U0027, other_inst_ident=PLCHS258Q463), Row(period=Sun Feb 28 01:00:00 CET 2021, book_base_ent_cd=U0028, other_inst_ident=PLCHS258Q464), Row(period=Sun Feb 28 01:00:00 CET 2021, book_base_ent_cd=U0029, other_inst_ident=PLCHS258Q465)], reporting_date=20210228, interface_type=buss, event_type=green_light)\r\n    \r\n    Process finished with exit code 0\r\n\r\n----------\r\n\r\n 1. Static inner classes used for example purpose only.\r\n 2. Please use LocalDate,  Date is obsolete\r\n\r\n","title":"Jackson XML Parser : Getting Null data after deserialization","body":"<p>You need to use the proper annotation: <code>JacksonXmlElementWrapper</code></p>\n<p><a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\" rel=\"nofollow noreferrer\">http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html</a></p>\n<p>Example:</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\nstatic class VTX_SHS implements Serializable {\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    public List&lt;Row&gt; row;\n\n    public int reporting_date;\n    public String interface_type;\n    public String event_type;\n}\n\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\nstatic class Row implements Serializable {\n    public Date period;\n    public String book_base_ent_cd;\n    public String other_inst_ident;\n}\n\npublic static void main(String[] args) throws JsonProcessingException {\n\n    String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\n            + &quot;&lt;VTX_SHS reporting_date=\\&quot;20210228\\&quot; interface_type=\\&quot;buss\\&quot; event_type=\\&quot;green_light\\&quot; &gt;\\n&quot;\n            + &quot;  &lt;!-- 01:  period                                   |         varchar2(10) --&gt;\\n&quot;\n            + &quot;  &lt;!-- 02:  book_base_ent_cd                         |         varchar2(10) --&gt;\\n&quot;\n            + &quot;  &lt;!-- 03:  isin                                     |         varchar2(12) --&gt;\\n&quot;\n            + &quot; \\n&quot;\n            + &quot;  &lt;row period=\\&quot;2021-02-28\\&quot; book_base_ent_cd=\\&quot;U0027\\&quot; other_inst_ident=\\&quot;PLCHS258Q463\\&quot; /&gt;\\n&quot;\n            + &quot;  &lt;row period=\\&quot;2021-02-28\\&quot; book_base_ent_cd=\\&quot;U0028\\&quot; other_inst_ident=\\&quot;PLCHS258Q464\\&quot; /&gt;\\n&quot;\n            + &quot;  &lt;row period=\\&quot;2021-02-28\\&quot; book_base_ent_cd=\\&quot;U0029\\&quot; other_inst_ident=\\&quot;PLCHS258Q465\\&quot; /&gt;\\n&quot;\n            + &quot; \\n&quot;\n            + &quot;&lt;/VTX_SHS&gt;&quot;;\n\n    XmlMapper xmlMapper = new XmlMapper();\n    var SHS1Response = xmlMapper.readValue(xml, VTX_SHS.class);\n    System.out.println(SHS1Response);\n\n}\n</code></pre>\n<hr />\n<p>Console:</p>\n<pre><code>VTX_SHS(row=[Row(period=Sun Feb 28 01:00:00 CET 2021, book_base_ent_cd=U0027, other_inst_ident=PLCHS258Q463), Row(period=Sun Feb 28 01:00:00 CET 2021, book_base_ent_cd=U0028, other_inst_ident=PLCHS258Q464), Row(period=Sun Feb 28 01:00:00 CET 2021, book_base_ent_cd=U0029, other_inst_ident=PLCHS258Q465)], reporting_date=20210228, interface_type=buss, event_type=green_light)\n\nProcess finished with exit code 0\n</code></pre>\n<hr />\n<ol>\n<li>Static inner classes used for example purpose only.</li>\n<li>Please use LocalDate,  Date is obsolete</li>\n</ol>\n"}],"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70984875,"answer_count":1,"score":1,"last_activity_date":1643970794,"creation_date":1643969693,"question_id":70984645,"body_markdown":"I am trying deserialize the xml data using Jackson.\r\nI created the Pojo classes but after mapping when i try to print the data, I am getting Null value.\r\n\r\nBelow are the details - \r\n\r\n**XML Data**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;VTX_SHS reporting_date=&quot;20210228&quot; interface_type=&quot;buss&quot; event_type=&quot;green_light&quot; &gt;\r\n      &lt;!-- 01:  period                                   |         varchar2(10) --&gt;\r\n      &lt;!-- 02:  book_base_ent_cd                         |         varchar2(10) --&gt;\r\n      &lt;!-- 03:  isin                                     |         varchar2(12) --&gt;\r\n     \r\n      &lt;row period=&quot;2021-02-28&quot; book_base_ent_cd=&quot;U0027&quot; other_inst_ident=&quot;PLCHS258Q463&quot; /&gt;\r\n      &lt;row period=&quot;2021-02-28&quot; book_base_ent_cd=&quot;U0028&quot; other_inst_ident=&quot;PLCHS258Q464&quot; /&gt;\r\n      &lt;row period=&quot;2021-02-28&quot; book_base_ent_cd=&quot;U0029&quot; other_inst_ident=&quot;PLCHS258Q465&quot; /&gt;\r\n     \r\n    &lt;/VTX_SHS&gt;\r\n\r\n**POJO Classes**\r\n\r\n**VTX_SHS.java**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.Data;\r\n    \r\n    import java.util.List;\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class VTX_SHS implements XmlData{\r\n            public List&lt;row&gt; row;\r\n            public int reporting_date;\r\n            public String interface_type;\r\n            public String event_type;\r\n    }\r\n\r\n**row.java**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.Data;\r\n    \r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class row implements XmlData {\r\n            public Date period;\r\n            public String book_base_ent_cd;\r\n            public String other_inst_ident;\r\n    }\r\n\r\n**XmlData.java**\r\n\r\n    import java.io.Serializable;\r\n    \r\n    public interface XmlData extends Serializable {\r\n    }\r\n\r\n**SHSCompare.java**\r\n\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    import lombok.var;\r\n    import models.VTX_SHS;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class SHSCompare {\r\n        public static void main(String[] args) throws IOException {\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            File file = new File(&quot;src/test/resources/Files/data.xml&quot;);\r\n            var SHS1Response = xmlMapper.readValue(file, VTX_SHS.class);\r\n            System.out.println(SHS1Response);\r\n        }\r\n    }\r\n\r\nIn my output I am getting null values for all the fields in row tag.\r\n\r\n    VTX_SHS(row=[], reporting_date=20210228, interface_type=buss, event_type=green_light, \r\n\r\nCan anyone suggest what have I missed here?\r\n\r\nBest Regards","title":"Jackson XML Parser : Getting Null data after deserialization","body":"<p>I am trying deserialize the xml data using Jackson.\nI created the Pojo classes but after mapping when i try to print the data, I am getting Null value.</p>\n<p>Below are the details -</p>\n<p><strong>XML Data</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;VTX_SHS reporting_date=&quot;20210228&quot; interface_type=&quot;buss&quot; event_type=&quot;green_light&quot; &gt;\n  &lt;!-- 01:  period                                   |         varchar2(10) --&gt;\n  &lt;!-- 02:  book_base_ent_cd                         |         varchar2(10) --&gt;\n  &lt;!-- 03:  isin                                     |         varchar2(12) --&gt;\n \n  &lt;row period=&quot;2021-02-28&quot; book_base_ent_cd=&quot;U0027&quot; other_inst_ident=&quot;PLCHS258Q463&quot; /&gt;\n  &lt;row period=&quot;2021-02-28&quot; book_base_ent_cd=&quot;U0028&quot; other_inst_ident=&quot;PLCHS258Q464&quot; /&gt;\n  &lt;row period=&quot;2021-02-28&quot; book_base_ent_cd=&quot;U0029&quot; other_inst_ident=&quot;PLCHS258Q465&quot; /&gt;\n \n&lt;/VTX_SHS&gt;\n</code></pre>\n<p><strong>POJO Classes</strong></p>\n<p><strong>VTX_SHS.java</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.Data;\n\nimport java.util.List;\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class VTX_SHS implements XmlData{\n        public List&lt;row&gt; row;\n        public int reporting_date;\n        public String interface_type;\n        public String event_type;\n}\n</code></pre>\n<p><strong>row.java</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.Data;\n\nimport java.util.Date;\nimport java.util.List;\n\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class row implements XmlData {\n        public Date period;\n        public String book_base_ent_cd;\n        public String other_inst_ident;\n}\n</code></pre>\n<p><strong>XmlData.java</strong></p>\n<pre><code>import java.io.Serializable;\n\npublic interface XmlData extends Serializable {\n}\n</code></pre>\n<p><strong>SHSCompare.java</strong></p>\n<pre><code>import com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport lombok.var;\nimport models.VTX_SHS;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class SHSCompare {\n    public static void main(String[] args) throws IOException {\n        XmlMapper xmlMapper = new XmlMapper();\n        File file = new File(&quot;src/test/resources/Files/data.xml&quot;);\n        var SHS1Response = xmlMapper.readValue(file, VTX_SHS.class);\n        System.out.println(SHS1Response);\n    }\n}\n</code></pre>\n<p>In my output I am getting null values for all the fields in row tag.</p>\n<pre><code>VTX_SHS(row=[], reporting_date=20210228, interface_type=buss, event_type=green_light, \n</code></pre>\n<p>Can anyone suggest what have I missed here?</p>\n<p>Best Regards</p>\n"},{"tags":["java","spring","spring-boot","testing","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643968921,"creation_date":1643968921,"answer_id":70984490,"question_id":70984056,"body_markdown":"`/actuator/info` provides your customized information. The default is empty information. Therefore, you must create a Spring bean to provide this information, for example:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.springframework.boot.actuate.info.Info;\r\n    import org.springframework.boot.actuate.info.InfoContributor;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class BuildInfoContributor implements InfoContributor {\r\n    \r\n        @Override\r\n        public void contribute(Info.Builder builder) {\r\n            Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n            data.put(&quot;version&quot;, &quot;2.0.0.M7&quot;);\r\n            builder.withDetails(data);\r\n        }\r\n    }\r\n\r\nAnd test:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    class Test {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        private ResultActions resultActions;\r\n    \r\n        @BeforeEach()\r\n        void setUp() throws Exception {\r\n            resultActions = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/actuator/info&quot;));\r\n        }\r\n    \r\n        @Test\r\n        void shouldReturnOk() throws Exception {\r\n            resultActions.andExpect(jsonPath(&quot;version&quot;, is(&quot;2.0.0.M7&quot;)));\r\n        }\r\n    }\r\n     ","title":"Testing Spring Actuator Info Values","body":"<p><code>/actuator/info</code> provides your customized information. The default is empty information. Therefore, you must create a Spring bean to provide this information, for example:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.boot.actuate.info.Info;\nimport org.springframework.boot.actuate.info.InfoContributor;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BuildInfoContributor implements InfoContributor {\n\n    @Override\n    public void contribute(Info.Builder builder) {\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;version&quot;, &quot;2.0.0.M7&quot;);\n        builder.withDetails(data);\n    }\n}\n</code></pre>\n<p>And test:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass Test {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    private ResultActions resultActions;\n\n    @BeforeEach()\n    void setUp() throws Exception {\n        resultActions = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/actuator/info&quot;));\n    }\n\n    @Test\n    void shouldReturnOk() throws Exception {\n        resultActions.andExpect(jsonPath(&quot;version&quot;, is(&quot;2.0.0.M7&quot;)));\n    }\n}\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643970643,"creation_date":1643970643,"answer_id":70984876,"question_id":70984056,"body_markdown":"Problem solved. So it turns out the test resources file can&#39;t be called `application.yml`, it needs it&#39;s own profile, or it totally overrides the main one.","title":"Testing Spring Actuator Info Values","body":"<p>Problem solved. So it turns out the test resources file can't be called <code>application.yml</code>, it needs it's own profile, or it totally overrides the main one.</p>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643970643,"creation_date":1643966848,"question_id":70984056,"body_markdown":"I am writing some mockMvc unit tests for my actuator. I currently have one for health, which works fine \r\n\r\n```\r\nclass HealthTest {\r\n  @Autowired\r\n  private Mockmvc mockMvc;\r\n\r\n  private ResultActions resultActions;\r\n\r\n  @BeforeEach() throws Exception {\r\n    resultActions = mockMvc.perform(get(&quot;/actuator/health&quot;));\r\n  }\r\n\r\n  @Test\r\n  void shouldReturnOk() throws Exception {\r\n    resultActions.andExpect(jsonPath(&quot;status&quot;, is(&quot;UP&quot;)));\r\n  }\r\n}\r\n```\r\n\r\nThis works fine. However, when apply the same logic to &quot;/actuator/info&quot; (literally the exact same as the health class, with only that path changed (with config defined in the application.yml, and I have reviewed this manually, it&#39;s there when I run the application) I get a 200 status back, but no JSON, even though the web page itself shows a JSON object. It&#39;s like when I run it through this, it gets a blank page back, or the page, but not in json format.\r\n\r\nEdit: So the config is in the main/application.yml. When I replicate the config to the test/application.yml, it works. Is there a way to get mvc to point to my main application.yml? As all this really tests is my duplicated test config\r\n\r\nEdit 2: Better formatting of comment:\r\n\r\n```\r\nmanagement:\r\n   endpoints:\r\n    web:\r\n     exposure:\r\n     include:\r\n     - info \r\n\r\ninfo:\r\n application:\r\n   name: My application name\r\n ```","title":"Testing Spring Actuator Info Values","body":"<p>I am writing some mockMvc unit tests for my actuator. I currently have one for health, which works fine</p>\n<pre><code>class HealthTest {\n  @Autowired\n  private Mockmvc mockMvc;\n\n  private ResultActions resultActions;\n\n  @BeforeEach() throws Exception {\n    resultActions = mockMvc.perform(get(&quot;/actuator/health&quot;));\n  }\n\n  @Test\n  void shouldReturnOk() throws Exception {\n    resultActions.andExpect(jsonPath(&quot;status&quot;, is(&quot;UP&quot;)));\n  }\n}\n</code></pre>\n<p>This works fine. However, when apply the same logic to &quot;/actuator/info&quot; (literally the exact same as the health class, with only that path changed (with config defined in the application.yml, and I have reviewed this manually, it's there when I run the application) I get a 200 status back, but no JSON, even though the web page itself shows a JSON object. It's like when I run it through this, it gets a blank page back, or the page, but not in json format.</p>\n<p>Edit: So the config is in the main/application.yml. When I replicate the config to the test/application.yml, it works. Is there a way to get mvc to point to my main application.yml? As all this really tests is my duplicated test config</p>\n<p>Edit 2: Better formatting of comment:</p>\n<pre><code>management:\n   endpoints:\n    web:\n     exposure:\n     include:\n     - info \n\ninfo:\n application:\n   name: My application name\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-query","driver"],"comments":[{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1643965499,"post_id":70983514,"comment_id":125484045,"body_markdown":"What do you mean by query string here?","body":"What do you mean by query string here?"},{"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"score":0,"creation_date":1643965659,"post_id":70983514,"comment_id":125484116,"body_markdown":"db.collection.find({&quot;field&quot;:&quot;value&quot;},{&quot;field&quot;:1, &quot;_id&quot;:0}), or also find({&quot;field&quot;:&quot;value&quot;},{&quot;field&quot;:1, &quot;_id&quot;:0}). The query that I&#39;d normally see on system.profile collection","body":"db.collection.find({&quot;field&quot;:&quot;value&quot;},{&quot;field&quot;:1, &quot;_id&quot;:0}), or also find({&quot;field&quot;:&quot;value&quot;},{&quot;field&quot;:1, &quot;_id&quot;:0}). The query that I&#39;d normally see on system.profile collection"},{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1643965720,"post_id":70983514,"comment_id":125484131,"body_markdown":"How do you want to use this query at runtime?","body":"How do you want to use this query at runtime?"},{"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"score":0,"creation_date":1643965868,"post_id":70983514,"comment_id":125484190,"body_markdown":"I need to send it to a serverless. The logic of building up the filter must be done on mongo java driver side, cause it&#39;s complex. But then, instead of iterating in java and run the query, I just need the so built query to send it to a serverless","body":"I need to send it to a serverless. The logic of building up the filter must be done on mongo java driver side, cause it&#39;s complex. But then, instead of iterating in java and run the query, I just need the so built query to send it to a serverless"},{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1643966147,"post_id":70983514,"comment_id":125484288,"body_markdown":"FindIterable would have a cursor object. In java, it is `MongoCursor`. You cannot get query from it. You need to get the string representation of the query, before getting the result from `find` command and use it further.","body":"FindIterable would have a cursor object. In java, it is <code>MongoCursor</code>. You cannot get query from it. You need to get the string representation of the query, before getting the result from <code>find</code> command and use it further."},{"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"score":0,"creation_date":1643966558,"post_id":70983514,"comment_id":125484423,"body_markdown":"yeah, that&#39;s what I&#39;m asking here. How to retrieve the query string. I wrote FindIterable but could be anything. I just need a way to retrieve the query","body":"yeah, that&#39;s what I&#39;m asking here. How to retrieve the query string. I wrote FindIterable but could be anything. I just need a way to retrieve the query"},{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1643967287,"post_id":70983514,"comment_id":125484656,"body_markdown":"There are ways, but you need to combine multiple strings. Not a straightforward way","body":"There are ways, but you need to combine multiple strings. Not a straightforward way"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1643967686,"post_id":70983514,"comment_id":125484792,"body_markdown":"The query filter, projection, sort criteria, etc., can be got from the MongoDB server log. I dont know if the information will be there with default log levels. But, with a higher log level you can see the query filter, projection info. See the commands `db.getLogComponents()` and `db.setLogLevel()`. An example, with `db.setLogLevel(4, &quot;query&quot;)`, I can see the server log&#39;s QUERY component with the details `ns: test.bks query: { author: &quot;Mark Twain&quot; } sort: {} projection: { title: 1, _id: 0 }`. The query code I ran was using Java Driver  v3.12 and MongoDB server v4.2.8.","body":"The query filter, projection, sort criteria, etc., can be got from the MongoDB server log. I dont know if the information will be there with default log levels. But, with a higher log level you can see the query filter, projection info. See the commands <code>db.getLogComponents()</code> and <code>db.setLogLevel()</code>. An example, with <code>db.setLogLevel(4, &quot;query&quot;)</code>, I can see the server log&#39;s QUERY component with the details <code>ns: test.bks query: { author: &quot;Mark Twain&quot; } sort: {} projection: { title: 1, _id: 0 }</code>. The query code I ran was using Java Driver  v3.12 and MongoDB server v4.2.8."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1643969500,"post_id":70983514,"comment_id":125485499,"body_markdown":"The `filter` variable has the query - you just want it a JSON `{&quot;field&quot;:&quot;value&quot;}`?","body":"The <code>filter</code> variable has the query - you just want it a JSON <code>{&quot;field&quot;:&quot;value&quot;}</code>?"},{"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"score":0,"creation_date":1643969782,"post_id":70983514,"comment_id":125485622,"body_markdown":"yeah, that would be something already","body":"yeah, that would be something already"}],"answers":[{"tags":[],"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643970522,"creation_date":1643970522,"answer_id":70984849,"question_id":70983514,"body_markdown":"You can try this with the Java Driver v4.2 and MongoDB v4.2.8. You can get the filter and projection from the `Bson` as JSON string values.\r\n\r\n        MongoCollection&lt;Document&gt; coll = client.getDatabase(&quot;test&quot;).getCollection(&quot;books&quot;);\r\n        Bson filter = eq(&quot;author&quot;, &quot;Mark Twain&quot;);\r\n        String filterJson = filter.toBsonDocument(BsonDocument.class, Bson.DEFAULT_CODEC_REGISTRY).toJson();\r\n        System.out.println(filterJson);    // {&quot;author&quot;: &quot;Mark Twain&quot;}\r\n        Bson projectn = fields(include(&quot;title&quot;), excludeId());\r\n        String projectJson = projectn.toBsonDocument(Document.class, Bson.DEFAULT_CODEC_REGISTRY).toJson();\r\n        System.out.println(projectJson);    // {&quot;title&quot;: 1, &quot;_id&quot;: 0}\r\n        coll.find(filter).projection(projectn);","title":"How to retrieve Mongo query string from FindIterable (mongo java driver)","body":"<p>You can try this with the Java Driver v4.2 and MongoDB v4.2.8. You can get the filter and projection from the <code>Bson</code> as JSON string values.</p>\n<pre><code>    MongoCollection&lt;Document&gt; coll = client.getDatabase(&quot;test&quot;).getCollection(&quot;books&quot;);\n    Bson filter = eq(&quot;author&quot;, &quot;Mark Twain&quot;);\n    String filterJson = filter.toBsonDocument(BsonDocument.class, Bson.DEFAULT_CODEC_REGISTRY).toJson();\n    System.out.println(filterJson);    // {&quot;author&quot;: &quot;Mark Twain&quot;}\n    Bson projectn = fields(include(&quot;title&quot;), excludeId());\n    String projectJson = projectn.toBsonDocument(Document.class, Bson.DEFAULT_CODEC_REGISTRY).toJson();\n    System.out.println(projectJson);    // {&quot;title&quot;: 1, &quot;_id&quot;: 0}\n    coll.find(filter).projection(projectn);\n</code></pre>\n"}],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70984849,"answer_count":1,"score":1,"last_activity_date":1643970522,"creation_date":1643964074,"question_id":70983514,"body_markdown":"Is there a way to simply retrieve the query string that MongoDB java driver does?\r\nFor example:\r\n\r\n    filter = eq(&quot;field&quot;,&quot;value&quot;);\r\n    \r\n    FindIterable&lt;BasicDBObject&gt; find = collection.find(filter).projection(fields(include(&quot;field&quot;), excludeId()));\r\n\r\nWhen iterating, this should invoke the query :\r\n\r\n    db.collection.find({&quot;field&quot;:&quot;value&quot;},{&quot;field&quot;:1, &quot;_id&quot;:0})\r\n\r\nwhich will be split in batches, the first of which will be of 101 elements and next ones of max 16MB (but I don&#39;t really care about this. I just need the initial query).\r\nIs there a way to retrieve this string from the FindIterable or other objects of mongodb java driver?\r\n\r\n I read elsewhere of people who were suggesting to do it from logging. I need the query string at runtime cause I have to use it.\r\n","title":"How to retrieve Mongo query string from FindIterable (mongo java driver)","body":"<p>Is there a way to simply retrieve the query string that MongoDB java driver does?\nFor example:</p>\n<pre><code>filter = eq(&quot;field&quot;,&quot;value&quot;);\n\nFindIterable&lt;BasicDBObject&gt; find = collection.find(filter).projection(fields(include(&quot;field&quot;), excludeId()));\n</code></pre>\n<p>When iterating, this should invoke the query :</p>\n<pre><code>db.collection.find({&quot;field&quot;:&quot;value&quot;},{&quot;field&quot;:1, &quot;_id&quot;:0})\n</code></pre>\n<p>which will be split in batches, the first of which will be of 101 elements and next ones of max 16MB (but I don't really care about this. I just need the initial query).\nIs there a way to retrieve this string from the FindIterable or other objects of mongodb java driver?</p>\n<p>I read elsewhere of people who were suggesting to do it from logging. I need the query string at runtime cause I have to use it.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":2,"creation_date":1643966960,"post_id":70984041,"comment_id":125484560,"body_markdown":"what&#39;s with the `**`? That&#39;s not valid syntax, is it?","body":"what&#39;s with the <code>**</code>? That&#39;s not valid syntax, is it?"},{"owner":{"account_id":11973189,"reputation":737,"user_id":8761120,"display_name":"Erselan Khan"},"score":0,"creation_date":1643967477,"post_id":70984041,"comment_id":125484728,"body_markdown":"because you are always setting the color of this button &quot;buSelect&quot; only","body":"because you are always setting the color of this button &quot;buSelect&quot; only"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1643967598,"post_id":70984041,"comment_id":125484767,"body_markdown":"where and how is this `buttonSelect` called? and the id selection seems irrelevant to the question.","body":"where and how is this <code>buttonSelect</code> called? and the id selection seems irrelevant to the question."},{"owner":{"account_id":17506161,"reputation":121,"user_id":12695327,"display_name":"UnBanned"},"score":0,"creation_date":1643968278,"post_id":70984041,"comment_id":125485026,"body_markdown":"Please provide the XML code, and explain what exactly are you trying to achieve","body":"Please provide the XML code, and explain what exactly are you trying to achieve"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644860507,"post_id":70984041,"comment_id":125712068,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":17506161,"reputation":121,"user_id":12695327,"display_name":"UnBanned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643970337,"creation_date":1643970337,"answer_id":70984806,"question_id":70984041,"body_markdown":"You should use onClickListener  \r\n\r\n    myButton.setOnClickListener {\r\n        myButton.setBackgroundColor(R.color.black)\r\n    }\r\n    ","title":"I Can&#39;t change the Button&#39;s color onClick in Android Studio by Kotlin","body":"<p>You should use onClickListener</p>\n<pre><code>myButton.setOnClickListener {\n    myButton.setBackgroundColor(R.color.black)\n}\n</code></pre>\n"}],"owner":{"account_id":24153278,"reputation":1,"user_id":18117827,"display_name":"Mohamed Hassan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643970337,"creation_date":1643966784,"question_id":70984041,"body_markdown":"I can&#39;t change the button color when I pressed on it after using onClick event, it still has the same color. the kotlin code below..\r\n\r\n    fun buttonSelect(view:View){\r\n        val buSelect=view as Button\r\n        var cellID=0\r\n\r\n        when(buSelect.id){\r\n            R.id.bu11 -&gt; cellID=1\r\n            R.id.bu12 -&gt; cellID=2\r\n            R.id.bu13 -&gt; cellID=3\r\n            R.id.bu21 -&gt; cellID=4\r\n            R.id.bu22 -&gt; cellID=5\r\n            R.id.bu23 -&gt; cellID=6\r\n            R.id.bu31 -&gt; cellID=7\r\n            R.id.bu32 -&gt; cellID=8\r\n            R.id.bu33 -&gt; cellID=9\r\n        }\r\n        Log.d(&quot;Cell id: &quot;,cellID.toString())\r\n        buSelect.setBackgroundResource(R.color.black)\r\n    }\r\n}","title":"I Can&#39;t change the Button&#39;s color onClick in Android Studio by Kotlin","body":"<p>I can't change the button color when I pressed on it after using onClick event, it still has the same color. the kotlin code below..</p>\n<pre><code>fun buttonSelect(view:View){\n    val buSelect=view as Button\n    var cellID=0\n\n    when(buSelect.id){\n        R.id.bu11 -&gt; cellID=1\n        R.id.bu12 -&gt; cellID=2\n        R.id.bu13 -&gt; cellID=3\n        R.id.bu21 -&gt; cellID=4\n        R.id.bu22 -&gt; cellID=5\n        R.id.bu23 -&gt; cellID=6\n        R.id.bu31 -&gt; cellID=7\n        R.id.bu32 -&gt; cellID=8\n        R.id.bu33 -&gt; cellID=9\n    }\n    Log.d(&quot;Cell id: &quot;,cellID.toString())\n    buSelect.setBackgroundResource(R.color.black)\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","scope"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1643938413,"post_id":70980105,"comment_id":125479013,"body_markdown":"Look at your code. There is an obvious difference between the line where you write empSalary and every other line where you write out a numeric value.  Different code = different result.","body":"Look at your code. There is an obvious difference between the line where you write empSalary and every other line where you write out a numeric value.  Different code = different result."}],"answers":[{"tags":[],"owner":{"account_id":17099657,"reputation":94,"user_id":12373880,"display_name":"Roberto Mozzicato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643935364,"creation_date":1643935364,"answer_id":70980209,"question_id":70980105,"body_markdown":"You are using a different overload of the `write()` method, specifically `write(int)`, which actually writes your number in its **binary representation** to the file.\r\nIn all the other cases you are calling `write(String)`, passing the **concatenation** of an int and a String (for example `empZip + &quot;,&quot;`).\r\nSo basically you first create a new String containing the decimal representation of your number and a comma, then write this string to the file.\r\nSo a simple fix would be convert your number to its string decimal representation using `String.valueOf(empSalary)`, like the following:\r\n\r\n`fw.write(String.valueOf(empSalary))`\r\n\r\nThat will implicitly call the `write(String)` overload, as the previous statements.","title":"Why is my variable output not correct in Java?","body":"<p>You are using a different overload of the <code>write()</code> method, specifically <code>write(int)</code>, which actually writes your number in its <strong>binary representation</strong> to the file.\nIn all the other cases you are calling <code>write(String)</code>, passing the <strong>concatenation</strong> of an int and a String (for example <code>empZip + &quot;,&quot;</code>).\nSo basically you first create a new String containing the decimal representation of your number and a comma, then write this string to the file.\nSo a simple fix would be convert your number to its string decimal representation using <code>String.valueOf(empSalary)</code>, like the following:</p>\n<p><code>fw.write(String.valueOf(empSalary))</code></p>\n<p>That will implicitly call the <code>write(String)</code> overload, as the previous statements.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643969887,"creation_date":1643939247,"answer_id":70980561,"question_id":70980105,"body_markdown":"@Roberto&#39;s [answer][1] has correctly diagnosed the problem.  I would just like to point out a few other things:\r\n\r\n1.  There is a better way produce the output.  Use `String.format` to assemble the line to be written.\r\n\r\n        String line = String.format(&quot;%d, %s, %s, %s, %d, %s, %d%n&quot;,\r\n                                    empNum, empFirstName, empLastName,\r\n                                    empCity, empState, empZip, empJob,\r\n                                    empSalary);\r\n        fw.write(line);\r\n\r\n    It is cleaner (less verbose) and also more efficient&lt;sup&gt;1&lt;/sup&gt;.  A `FileWriter` is not buffered, so each `write` call is likely to perform a syscall.\r\n\r\n    And it avoids the mistake you made with `write(int)`.\r\n\r\n2.  You should not EVER silently squash `IOException`.  At least print an error message.\r\n\r\n3.  You should use *try with resources* to ensure that the `FileWriter` is always closed.  If you don&#39;t there is a risk of a resource leak, which may lead to other problems.\r\n\r\n4.  Repeatedly opening, appending and closing the same file is not the most efficient way&lt;sup&gt;1&lt;/sup&gt; to do output.\r\n\r\n5.  Your code won&#39;t deal with cases where the user enters non-integer values where an integer is required.  The user will see a stacktrace.\r\n\r\n6.  You code will get break if a string field value (for example the city name, or job title) is two or more words; e.g. &quot;New York&quot;, or &quot;Deputy Chief Bottle Washer&quot;.\r\n\r\n7.  US Zip codes are not integers.  They can have hyphens embedded in them\r\n\r\n8.  The output format doesn&#39;t cope with any cases where a field (e.g. a job title?) might contain commas.\r\n\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - Efficiency is typically not the most important issue.  However, it is a good thing to be aware of it.  Like ... I remember a couple of instances in my first job where someone else wrote some grossly inefficient code out of ignorance and it turned out to be really important.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70980209/139985","title":"Why is my variable output not correct in Java?","body":"<p>@Roberto's <a href=\"https://stackoverflow.com/a/70980209/139985\">answer</a> has correctly diagnosed the problem.  I would just like to point out a few other things:</p>\n<ol>\n<li><p>There is a better way produce the output.  Use <code>String.format</code> to assemble the line to be written.</p>\n<pre><code>String line = String.format(&quot;%d, %s, %s, %s, %d, %s, %d%n&quot;,\n                            empNum, empFirstName, empLastName,\n                            empCity, empState, empZip, empJob,\n                            empSalary);\nfw.write(line);\n</code></pre>\n<p>It is cleaner (less verbose) and also more efficient<sup>1</sup>.  A <code>FileWriter</code> is not buffered, so each <code>write</code> call is likely to perform a syscall.</p>\n<p>And it avoids the mistake you made with <code>write(int)</code>.</p>\n</li>\n<li><p>You should not EVER silently squash <code>IOException</code>.  At least print an error message.</p>\n</li>\n<li><p>You should use <em>try with resources</em> to ensure that the <code>FileWriter</code> is always closed.  If you don't there is a risk of a resource leak, which may lead to other problems.</p>\n</li>\n<li><p>Repeatedly opening, appending and closing the same file is not the most efficient way<sup>1</sup> to do output.</p>\n</li>\n<li><p>Your code won't deal with cases where the user enters non-integer values where an integer is required.  The user will see a stacktrace.</p>\n</li>\n<li><p>You code will get break if a string field value (for example the city name, or job title) is two or more words; e.g. &quot;New York&quot;, or &quot;Deputy Chief Bottle Washer&quot;.</p>\n</li>\n<li><p>US Zip codes are not integers.  They can have hyphens embedded in them</p>\n</li>\n<li><p>The output format doesn't cope with any cases where a field (e.g. a job title?) might contain commas.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - Efficiency is typically not the most important issue.  However, it is a good thing to be aware of it.  Like ... I remember a couple of instances in my first job where someone else wrote some grossly inefficient code out of ignorance and it turned out to be really important.</sup></p>\n"}],"owner":{"account_id":14276702,"reputation":23,"user_id":10312548,"display_name":"Josh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70980209,"answer_count":2,"score":0,"last_activity_date":1643969887,"creation_date":1643934513,"question_id":70980105,"body_markdown":"I need to create a program that asks the user questions and takes that input and prints it to a file. If the salary is &gt;200k then it needs to ask for the salary again. I am able to get the file creation to work for everything except for empSalary. I cannot figure out why this is writing to the file as a &quot;?&quot;. I have tried looking for this and have determined that this is something to do with the scope, but I cannot get it to work. Would someone be able to tell me what I need to change to get the empSalary to print to the file correctly?\r\n\r\nA sample of the output:\r\n&gt;1,josh,fox,madison,mn,56256,test,?\r\n\r\n&gt;2,joe,poe,fargo,nd,58102,poeppe,?\r\n\r\n&#39;&#39;&#39;\r\n\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.FileWriter;\r\n    \r\n    class Main {\r\n    \r\n       public static void main(String[] args) {\r\n          Scanner scanner = new Scanner(System.in); \r\n          \r\n          int i = 0;\r\n          int empSalary;\r\n    \r\n          while (i &lt; 2) {\r\n          \r\n          System.out.print(&quot;Enter the employee number .....&quot;);\r\n          int empNum = scanner.nextInt(); \r\n          \r\n          System.out.print(&quot;Enter employee&#39;s first name ...&quot;);\r\n          String empFirstName = scanner.next();\r\n          \r\n          System.out.print(&quot;Enter employee&#39;s last name ....&quot;);\r\n          String empLastName = scanner.next();  \r\n          \r\n          System.out.print(&quot;Enter employee&#39;s city .........&quot;);\r\n          String empCity = scanner.next();\r\n          \r\n          System.out.print(&quot;Enter employee&#39;s State ........&quot;);\r\n          String empState = scanner.next();\r\n          \r\n          System.out.print(&quot;Enter employee&#39;s zip code .....&quot;);\r\n          int empZip = scanner.nextInt();\r\n          \r\n          System.out.print(&quot;Enter employee&#39;s job title ....&quot;);\r\n          String empJob = scanner.next();\r\n         \r\n         while(true) {\r\n         System.out.print(&quot;Enter employee&#39;s salary .......&quot;);\r\n          empSalary = scanner.nextInt();\r\n             if (empSalary &lt; 200000)\r\n                break;\r\n             else \r\n                System.out.println(&quot;Enter a salary less than $200,000!&quot;);\r\n         }\r\n                  \r\n                  \r\n          try {\r\n             FileWriter fw = new FileWriter(&quot;testfile.txt&quot;, true);\r\n             fw.write(empNum + &quot;,&quot;);\r\n             fw.write(empFirstName + &quot;,&quot;);\r\n             fw.write(empLastName + &quot;,&quot;);\r\n             fw.write(empCity + &quot;,&quot;);\r\n             fw.write(empState + &quot;,&quot;);\r\n             fw.write(empZip + &quot;,&quot;);\r\n             fw.write(empJob + &quot;,&quot;);\r\n             fw.write(empSalary);\r\n             fw.write(System.lineSeparator());\r\n             fw.close();\r\n          } catch (IOException e) {\r\n          }\r\n           \r\n          i++;\r\n           \r\n          }         \r\n        }\r\n      } \r\n\r\n&#39;&#39;&#39;\r\n\r\n","title":"Why is my variable output not correct in Java?","body":"<p>I need to create a program that asks the user questions and takes that input and prints it to a file. If the salary is &gt;200k then it needs to ask for the salary again. I am able to get the file creation to work for everything except for empSalary. I cannot figure out why this is writing to the file as a &quot;?&quot;. I have tried looking for this and have determined that this is something to do with the scope, but I cannot get it to work. Would someone be able to tell me what I need to change to get the empSalary to print to the file correctly?</p>\n<p>A sample of the output:</p>\n<blockquote>\n<p>1,josh,fox,madison,mn,56256,test,?</p>\n</blockquote>\n<blockquote>\n<p>2,joe,poe,fargo,nd,58102,poeppe,?</p>\n</blockquote>\n<p>'''</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.FileWriter;\n\nclass Main {\n\n   public static void main(String[] args) {\n      Scanner scanner = new Scanner(System.in); \n      \n      int i = 0;\n      int empSalary;\n\n      while (i &lt; 2) {\n      \n      System.out.print(&quot;Enter the employee number .....&quot;);\n      int empNum = scanner.nextInt(); \n      \n      System.out.print(&quot;Enter employee's first name ...&quot;);\n      String empFirstName = scanner.next();\n      \n      System.out.print(&quot;Enter employee's last name ....&quot;);\n      String empLastName = scanner.next();  \n      \n      System.out.print(&quot;Enter employee's city .........&quot;);\n      String empCity = scanner.next();\n      \n      System.out.print(&quot;Enter employee's State ........&quot;);\n      String empState = scanner.next();\n      \n      System.out.print(&quot;Enter employee's zip code .....&quot;);\n      int empZip = scanner.nextInt();\n      \n      System.out.print(&quot;Enter employee's job title ....&quot;);\n      String empJob = scanner.next();\n     \n     while(true) {\n     System.out.print(&quot;Enter employee's salary .......&quot;);\n      empSalary = scanner.nextInt();\n         if (empSalary &lt; 200000)\n            break;\n         else \n            System.out.println(&quot;Enter a salary less than $200,000!&quot;);\n     }\n              \n              \n      try {\n         FileWriter fw = new FileWriter(&quot;testfile.txt&quot;, true);\n         fw.write(empNum + &quot;,&quot;);\n         fw.write(empFirstName + &quot;,&quot;);\n         fw.write(empLastName + &quot;,&quot;);\n         fw.write(empCity + &quot;,&quot;);\n         fw.write(empState + &quot;,&quot;);\n         fw.write(empZip + &quot;,&quot;);\n         fw.write(empJob + &quot;,&quot;);\n         fw.write(empSalary);\n         fw.write(System.lineSeparator());\n         fw.close();\n      } catch (IOException e) {\n      }\n       \n      i++;\n       \n      }         \n    }\n  } \n</code></pre>\n<p>'''</p>\n"},{"tags":["java","enums","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643969730,"creation_date":1643969730,"answer_id":70984651,"question_id":70973338,"body_markdown":"The topic has been discussed a few times in jOOQ&#39;s issue tracker, mailing list, etc. There&#39;s a pending feature request to change the current behaviour of ignoring inconvertible values to throwing exceptions, see e.g. https://github.com/jOOQ/jOOQ/issues/3377\r\n\r\nIt wasn&#39;t easy to do in the past without breaking compatibility as the conversions were implemented in static methods. But since jOOQ 3.14, we have a [`ConverterProvider` SPI][1], so it might be possible to make this configurable, and gradually move towards a fail-fast strategy.\r\n\r\nHaving said so, you can implement your own `ConverterProvider` and add such checks to it. Alternatively, you can [attach a custom `Converter` to your `Field` using code generation configuration][2], and let it throw whenever an invalid value is mapped.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/custom-data-types/","title":"jOOQ: when fetching into a Enum field, how to ensure it throws an exception if the value cannot mapped","body":"<p>The topic has been discussed a few times in jOOQ's issue tracker, mailing list, etc. There's a pending feature request to change the current behaviour of ignoring inconvertible values to throwing exceptions, see e.g. <a href=\"https://github.com/jOOQ/jOOQ/issues/3377\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/3377</a></p>\n<p>It wasn't easy to do in the past without breaking compatibility as the conversions were implemented in static methods. But since jOOQ 3.14, we have a <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\" rel=\"nofollow noreferrer\"><code>ConverterProvider</code> SPI</a>, so it might be possible to make this configurable, and gradually move towards a fail-fast strategy.</p>\n<p>Having said so, you can implement your own <code>ConverterProvider</code> and add such checks to it. Alternatively, you can <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/custom-data-types/\" rel=\"nofollow noreferrer\">attach a custom <code>Converter</code> to your <code>Field</code> using code generation configuration</a>, and let it throw whenever an invalid value is mapped.</p>\n"}],"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70984651,"answer_count":1,"score":1,"last_activity_date":1643969730,"creation_date":1643899615,"question_id":70973338,"body_markdown":"We use jOOQ 3.15.4 with Spring Boot 2.6.2\r\n\r\nWe have an enum stored as a string in database. It looks like this in the generated code:\r\n\r\n    public final TableField&lt;StatusRecord, String&gt; STATUS = createField(DSL.name(&quot;status&quot;), SQLDataType.VARCHAR(255).nullable(false), this, &quot;&quot;);\r\n\r\nWhen reading it, we fetch into an object with `@Column` annotations:\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    StatusEnum status\r\n\r\nThe behavior we see is that when we have a string in DB that does not correspond to any value of the enum, the `status` field in the object that we map into is null.\r\n\r\nIs there a way to have this type safe, and have a `MappingException` thrown when the string cannot be mapped to the enum, like the standard behavior of the `valueOf` method of an enum ?","title":"jOOQ: when fetching into a Enum field, how to ensure it throws an exception if the value cannot mapped","body":"<p>We use jOOQ 3.15.4 with Spring Boot 2.6.2</p>\n<p>We have an enum stored as a string in database. It looks like this in the generated code:</p>\n<pre><code>public final TableField&lt;StatusRecord, String&gt; STATUS = createField(DSL.name(&quot;status&quot;), SQLDataType.VARCHAR(255).nullable(false), this, &quot;&quot;);\n</code></pre>\n<p>When reading it, we fetch into an object with <code>@Column</code> annotations:</p>\n<pre><code>@Column(name = &quot;status&quot;)\nStatusEnum status\n</code></pre>\n<p>The behavior we see is that when we have a string in DB that does not correspond to any value of the enum, the <code>status</code> field in the object that we map into is null.</p>\n<p>Is there a way to have this type safe, and have a <code>MappingException</code> thrown when the string cannot be mapped to the enum, like the standard behavior of the <code>valueOf</code> method of an enum ?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1643969704,"creation_date":1433193855,"answer_id":30583560,"question_id":30578089,"body_markdown":"Let&#39;s say this is your procedure:\r\n\r\n    CREATE PROCEDURE get_users()\r\n    BEGIN\r\n        SELECT * FROM USERS;\r\n    END\r\n\r\nYou define a `@NamedStoredProcedureQuery`:\r\n\r\n    @NamedStoredProcedureQuery(\r\n    \tname=&quot;getUsers&quot;, \r\n    \tprocedureName=&quot;get_users&quot;, \r\n    \tresultClass=User.class, parameters={\r\n    \t\t@StoredProcedureParameter(queryParameter=&quot;data&quot;, name=&quot;data&quot;, direction=Direction.OUT_CURSOR)\r\n    \t}\r\n    )\r\n    @Entity\r\n    public class User {\r\n    \t...\r\n    }\r\n\r\nAnd then you can call your procedure like this:\r\n\r\n    public UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n        @Procedure(&#39;User.getUsers&#39;)\r\n        List&lt;User&gt; getUsers();\r\n    }\r\n\r\nYou can also check this using your EntityManager like this:\r\n\r\n    Query query = entitymanager.createNamedQuery(&quot;getUsers&quot;);\r\n    List users = query.getResultList();","title":"How to select entities by calling a stored procedure with Spring Data","body":"<p>Let's say this is your procedure:</p>\n<pre><code>CREATE PROCEDURE get_users()\nBEGIN\n    SELECT * FROM USERS;\nEND\n</code></pre>\n<p>You define a <code>@NamedStoredProcedureQuery</code>:</p>\n<pre><code>@NamedStoredProcedureQuery(\n    name=&quot;getUsers&quot;, \n    procedureName=&quot;get_users&quot;, \n    resultClass=User.class, parameters={\n        @StoredProcedureParameter(queryParameter=&quot;data&quot;, name=&quot;data&quot;, direction=Direction.OUT_CURSOR)\n    }\n)\n@Entity\npublic class User {\n    ...\n}\n</code></pre>\n<p>And then you can call your procedure like this:</p>\n<pre><code>public UserRepository extends JpaRepository&lt;User, Long&gt;{\n    @Procedure('User.getUsers')\n    List&lt;User&gt; getUsers();\n}\n</code></pre>\n<p>You can also check this using your EntityManager like this:</p>\n<pre><code>Query query = entitymanager.createNamedQuery(&quot;getUsers&quot;);\nList users = query.getResultList();\n</code></pre>\n"}],"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5671,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30583560,"answer_count":1,"score":5,"last_activity_date":1643969704,"creation_date":1433174581,"question_id":30578089,"body_markdown":"Let&#39;s say I have a MySQL stored procedure that contains the following select:\r\n\r\n    select * from users;\r\n\r\nHow to use the `@Procedure` annotation in a `JpaRepository` so that I can get the results? Something like:\r\n\r\n    public UserRepository extenda JpaRepository&lt;User, Long&gt;{\r\n        @Procedure(&#39;get_users&#39;)\r\n        List&lt;User&gt; getUsers();\r\n    }\r\n","title":"How to select entities by calling a stored procedure with Spring Data","body":"<p>Let's say I have a MySQL stored procedure that contains the following select:</p>\n\n<pre><code>select * from users;\n</code></pre>\n\n<p>How to use the <code>@Procedure</code> annotation in a <code>JpaRepository</code> so that I can get the results? Something like:</p>\n\n<pre><code>public UserRepository extenda JpaRepository&lt;User, Long&gt;{\n    @Procedure('get_users')\n    List&lt;User&gt; getUsers();\n}\n</code></pre>\n"},{"tags":["java","java-native-interface","jna","kernel32"],"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1392069572,"post_id":21658231,"comment_id":32789104,"body_markdown":"Your `Kernel32` interface has default access (which means only members of the same package can access it).  Put it in its own class and make it public, or nest it within the `Battery` class.","body":"Your <code>Kernel32</code> interface has default access (which means only members of the same package can access it).  Put it in its own class and make it public, or nest it within the <code>Battery</code> class."},{"owner":{"account_id":1190345,"reputation":1039,"user_id":1163286,"accept_rate":7,"display_name":"pkthapa"},"score":0,"creation_date":1392213429,"post_id":21658231,"comment_id":32861677,"body_markdown":"Hi [technomage](http://stackoverflow.com/users/17175/technomage)\n\nThank you for your comment. But I tried doing the way you told me to do still its not working. Can you show me the code how it can be done???","body":"Hi <a href=\"http://stackoverflow.com/users/17175/technomage\">technomage</a>  Thank you for your comment. But I tried doing the way you told me to do still its not working. Can you show me the code how it can be done???"},{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1394977373,"post_id":21658231,"comment_id":34122135,"body_markdown":"Update your question according to the changes you&#39;ve made","body":"Update your question according to the changes you&#39;ve made"}],"owner":{"account_id":1190345,"reputation":1039,"user_id":1163286,"accept_rate":7,"display_name":"pkthapa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643969653,"creation_date":1391943793,"question_id":21658231,"body_markdown":"I am using **Netbeans IDE 7.4**.\r\nI tried with the below code, but I am getting error when trying to execute. Compilation is OK.\r\n\r\nBefore starting, I have downloaded [jna-3.5.1.jar][1] and added [Right-click &quot;Libraries&quot; &gt;&gt; &quot;Add JAR/Folder...&quot;] in my project.\r\n\r\nBelow is the code:\r\n\r\n        package battery;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Structure;\r\n    import com.sun.jna.win32.StdCallLibrary;\r\n    \r\n    public class Battery implements Kernel32{\r\n        public static void main(String[] args){\r\n            try{\r\n                Kernel32.SYSTEM_POWER_STATUS batteryStatus = new Kernel32.SYSTEM_POWER_STATUS();\r\n                Kernel32.INSTANCE.GetSystemPowerStatus(batteryStatus);\r\n    \r\n                System.out.println(batteryStatus); // Shows result of toString() method.\r\n            }\r\n            catch(Exception ex){System.out.println(&quot;Error:\\n&quot; + ex);}\r\n        }\r\n    \r\n        @Override\r\n        public int GetSystemPowerStatus(SYSTEM_POWER_STATUS result){\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n        }\r\n    }\r\n    \r\n    interface Kernel32 extends StdCallLibrary{\r\n        public Kernel32 INSTANCE = (Kernel32) Native.loadLibrary(&quot;Kernel32&quot;, Kernel32.class);\r\n        \r\n        /**\r\n         * @see http://msdn2.microsoft.com/en-us/library/aa373232.aspx\r\n         */\r\n        public class SYSTEM_POWER_STATUS extends Structure{\r\n            public byte ACLineStatus;\r\n            public byte BatteryFlag;\r\n            public byte BatteryLifePercent;\r\n            public byte Reserved1;\r\n            public int BatteryLifeTime;\r\n            public int BatteryFullLifeTime;\r\n            \r\n            @Override\r\n            protected List&lt;String&gt; getFieldOrder(){\r\n                ArrayList&lt;String&gt; fields = new ArrayList&lt;String&gt;();\r\n                fields.add(&quot;ACLineStatus&quot;);\r\n                fields.add(&quot;BatteryFlag&quot;);\r\n                fields.add(&quot;BatteryFullLifeTime&quot;);\r\n                fields.add(&quot;BatteryLifePercent&quot;);\r\n                fields.add(&quot;BatteryLifeTime&quot;);\r\n                fields.add(&quot;Reserved1&quot;);\r\n                return fields;\r\n            }\r\n            \r\n            /**\r\n             * The AC power status\r\n             */\r\n            public String getACLineStatusString(){\r\n                switch (ACLineStatus){\r\n                    case (0): return &quot;Offline&quot;;\r\n                    case (1): return &quot;Online&quot;;\r\n                    default: return &quot;Unknown&quot;;\r\n                }\r\n            }\r\n            \r\n            /**\r\n             * The battery charge status\r\n             */\r\n            public String getBatteryFlagString(){\r\n                switch (BatteryFlag){\r\n                    case (1): return &quot;High, more than 66 percent&quot;;\r\n                    case (2): return &quot;Low, less than 33 percent&quot;;\r\n                    case (4): return &quot;Critical, less than five percent&quot;;\r\n                    case (8): return &quot;Charging&quot;;\r\n                    case ((byte) 128): return &quot;No system battery&quot;;\r\n                    default: return &quot;Unknown&quot;;\r\n                }\r\n            }\r\n            \r\n            /**\r\n             * The percentage of full battery charge remaining\r\n             */\r\n            public String getBatteryLifePercent(){\r\n                return (BatteryLifePercent == (byte) 255) ? &quot;Unknown&quot; : BatteryLifePercent + &quot;%&quot;;\r\n            }\r\n            \r\n            /**\r\n             * The number of seconds of battery life remaining\r\n             */\r\n            public String getBatteryLifeTime(){\r\n                return (BatteryLifeTime == -1) ? &quot;Unknown&quot; : BatteryLifeTime + &quot; seconds&quot;;\r\n            }\r\n            \r\n            /**\r\n             * The number of seconds of battery life when at full charge\r\n             */\r\n            public String getBatteryFullLifeTime(){\r\n                return (BatteryFullLifeTime == -1) ? &quot;Unknown&quot; : BatteryFullLifeTime + &quot; seconds&quot;;\r\n            }\r\n            \r\n            @Override\r\n            public String toString(){\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(&quot;ACLineStatus: &quot; + getACLineStatusString() + &quot;\\n&quot;);\r\n                sb.append(&quot;Battery Flag: &quot; + getBatteryFlagString() + &quot;\\n&quot;);\r\n                sb.append(&quot;Battery Life: &quot; + getBatteryLifePercent() + &quot;\\n&quot;);\r\n                sb.append(&quot;Battery Left: &quot; + getBatteryLifeTime() + &quot;\\n&quot;);\r\n                sb.append(&quot;Battery Full: &quot; + getBatteryFullLifeTime() + &quot;\\n&quot;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Fill the structure.\r\n         */\r\n        public int GetSystemPowerStatus(SYSTEM_POWER_STATUS result);\r\n    }\r\n\r\nBelow is the error encountered:\r\n\r\n    java.lang.IllegalArgumentException: Could not access instance of interface battery.Kernel32 (java.lang.IllegalAccessException: Class com.sun.jna.Native can not access a member of class battery.Kernel32 with modifiers &quot;public static final&quot;)\r\n\r\n\r\n  [1]: https://maven.java.net/content/repositories/releases/net/java/dev/jna/jna/3.5.1/jna-3.5.1.jar\r\n","title":"Get whether laptop is in charging [in ACLine] or not [not in ACLine] in Windows 7?","body":"<p>I am using <strong>Netbeans IDE 7.4</strong>.\nI tried with the below code, but I am getting error when trying to execute. Compilation is OK.</p>\n\n<p>Before starting, I have downloaded <a href=\"https://maven.java.net/content/repositories/releases/net/java/dev/jna/jna/3.5.1/jna-3.5.1.jar\" rel=\"nofollow\">jna-3.5.1.jar</a> and added [Right-click \"Libraries\" >> \"Add JAR/Folder...\"] in my project.</p>\n\n<p>Below is the code:</p>\n\n<pre><code>    package battery;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport com.sun.jna.Native;\nimport com.sun.jna.Structure;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic class Battery implements Kernel32{\n    public static void main(String[] args){\n        try{\n            Kernel32.SYSTEM_POWER_STATUS batteryStatus = new Kernel32.SYSTEM_POWER_STATUS();\n            Kernel32.INSTANCE.GetSystemPowerStatus(batteryStatus);\n\n            System.out.println(batteryStatus); // Shows result of toString() method.\n        }\n        catch(Exception ex){System.out.println(\"Error:\\n\" + ex);}\n    }\n\n    @Override\n    public int GetSystemPowerStatus(SYSTEM_POWER_STATUS result){\n        throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n    }\n}\n\ninterface Kernel32 extends StdCallLibrary{\n    public Kernel32 INSTANCE = (Kernel32) Native.loadLibrary(\"Kernel32\", Kernel32.class);\n\n    /**\n     * @see http://msdn2.microsoft.com/en-us/library/aa373232.aspx\n     */\n    public class SYSTEM_POWER_STATUS extends Structure{\n        public byte ACLineStatus;\n        public byte BatteryFlag;\n        public byte BatteryLifePercent;\n        public byte Reserved1;\n        public int BatteryLifeTime;\n        public int BatteryFullLifeTime;\n\n        @Override\n        protected List&lt;String&gt; getFieldOrder(){\n            ArrayList&lt;String&gt; fields = new ArrayList&lt;String&gt;();\n            fields.add(\"ACLineStatus\");\n            fields.add(\"BatteryFlag\");\n            fields.add(\"BatteryFullLifeTime\");\n            fields.add(\"BatteryLifePercent\");\n            fields.add(\"BatteryLifeTime\");\n            fields.add(\"Reserved1\");\n            return fields;\n        }\n\n        /**\n         * The AC power status\n         */\n        public String getACLineStatusString(){\n            switch (ACLineStatus){\n                case (0): return \"Offline\";\n                case (1): return \"Online\";\n                default: return \"Unknown\";\n            }\n        }\n\n        /**\n         * The battery charge status\n         */\n        public String getBatteryFlagString(){\n            switch (BatteryFlag){\n                case (1): return \"High, more than 66 percent\";\n                case (2): return \"Low, less than 33 percent\";\n                case (4): return \"Critical, less than five percent\";\n                case (8): return \"Charging\";\n                case ((byte) 128): return \"No system battery\";\n                default: return \"Unknown\";\n            }\n        }\n\n        /**\n         * The percentage of full battery charge remaining\n         */\n        public String getBatteryLifePercent(){\n            return (BatteryLifePercent == (byte) 255) ? \"Unknown\" : BatteryLifePercent + \"%\";\n        }\n\n        /**\n         * The number of seconds of battery life remaining\n         */\n        public String getBatteryLifeTime(){\n            return (BatteryLifeTime == -1) ? \"Unknown\" : BatteryLifeTime + \" seconds\";\n        }\n\n        /**\n         * The number of seconds of battery life when at full charge\n         */\n        public String getBatteryFullLifeTime(){\n            return (BatteryFullLifeTime == -1) ? \"Unknown\" : BatteryFullLifeTime + \" seconds\";\n        }\n\n        @Override\n        public String toString(){\n            StringBuilder sb = new StringBuilder();\n            sb.append(\"ACLineStatus: \" + getACLineStatusString() + \"\\n\");\n            sb.append(\"Battery Flag: \" + getBatteryFlagString() + \"\\n\");\n            sb.append(\"Battery Life: \" + getBatteryLifePercent() + \"\\n\");\n            sb.append(\"Battery Left: \" + getBatteryLifeTime() + \"\\n\");\n            sb.append(\"Battery Full: \" + getBatteryFullLifeTime() + \"\\n\");\n            return sb.toString();\n        }\n    }\n\n    /**\n     * Fill the structure.\n     */\n    public int GetSystemPowerStatus(SYSTEM_POWER_STATUS result);\n}\n</code></pre>\n\n<p>Below is the error encountered:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Could not access instance of interface battery.Kernel32 (java.lang.IllegalAccessException: Class com.sun.jna.Native can not access a member of class battery.Kernel32 with modifiers \"public static final\")\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1541343034,"post_id":53141849,"comment_id":93175638,"body_markdown":"Can you update the code? And what logging you like to seen in console? Spring boot does not log mapping urls to controllers unless you specify log message in method","body":"Can you update the code? And what logging you like to seen in console? Spring boot does not log mapping urls to controllers unless you specify log message in method"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1541353340,"post_id":53141849,"comment_id":93178700,"body_markdown":"Are you using Spring Boot 2.1? It uses Spring Framework 5.1 which includes a fairly major overhaul of Spring MVCs logging.","body":"Are you using Spring Boot 2.1? It uses Spring Framework 5.1 which includes a fairly major overhaul of Spring MVCs logging."}],"answers":[{"tags":[],"owner":{"account_id":14576370,"reputation":335,"user_id":10528125,"display_name":"janardhan sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541342549,"creation_date":1541342549,"answer_id":53141976,"question_id":53141849,"body_markdown":"Just add this `-Ddebug` in the eclipse VM arguments and the detailed debug logs will start printing. \r\n\r\n","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>Just add this <code>-Ddebug</code> in the eclipse VM arguments and the detailed debug logs will start printing. </p>\n"},{"tags":[],"owner":{"account_id":11040878,"reputation":123,"user_id":8108852,"display_name":"localhost-er"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541827753,"creation_date":1541827753,"answer_id":53236258,"question_id":53141849,"body_markdown":"Just like the comment post by Andy Wilkinson said, I was using spring boot 2.1, when I change the spring boot version to older one, this issue doesn&#39;t happen again.","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>Just like the comment post by Andy Wilkinson said, I was using spring boot 2.1, when I change the spring boot version to older one, this issue doesn't happen again.</p>\n"},{"tags":[],"owner":{"account_id":7077116,"reputation":282,"user_id":5416694,"display_name":"paul58914080"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543553075,"creation_date":1543379221,"answer_id":53512134,"question_id":53141849,"body_markdown":"As mentioned by [Andy Wilkinson][1] there has been a lot of overhaul especially in terms of logging. The [commit][2] removed the log. \r\n\r\nIf you wish to see this information, you can change the logging level to **TRACE** instead of falling back to a previous version\r\n\r\n**`logging.level.org.springframework.web: TRACE`** \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1384297/andy-wilkinson\r\n  [2]: https://github.com/spring-projects/spring-framework/commit/28a5c3009ea0c31f879c0bb8b9e6cfd33faa81e5#diff-b91ebdcf6fba7c4886849e8144a7e687L546","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/users/1384297/andy-wilkinson\">Andy Wilkinson</a> there has been a lot of overhaul especially in terms of logging. The <a href=\"https://github.com/spring-projects/spring-framework/commit/28a5c3009ea0c31f879c0bb8b9e6cfd33faa81e5#diff-b91ebdcf6fba7c4886849e8144a7e687L546\" rel=\"nofollow noreferrer\">commit</a> removed the log. </p>\n\n<p>If you wish to see this information, you can change the logging level to <strong>TRACE</strong> instead of falling back to a previous version</p>\n\n<p><strong><code>logging.level.org.springframework.web: TRACE</code></strong> </p>\n"},{"tags":[],"owner":{"account_id":4019496,"reputation":332,"user_id":4967802,"display_name":"zbin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1547797260,"creation_date":1547797260,"answer_id":54249588,"question_id":53141849,"body_markdown":"please view [Spring Boot 2.1 Release Notes#logging-refinements][1]\r\n\r\n&gt; Spring Framework 5.1 revisited the debug logging output while working on web applications (Spring MVC or Spring WebFlux). If you are trying to debug an application and you want to restore Spring Boot 2.0 style logging you should add the following to your application.properties:\r\n\r\n```logging.level.web=debug```\r\n\r\n&gt;You might also want to set `spring.http.log-request-details` to true to log actual request details. By default this property is false as it can potentially expose sensitive information.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes#logging-refinements","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>please view <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes#logging-refinements\" rel=\"noreferrer\">Spring Boot 2.1 Release Notes#logging-refinements</a></p>\n\n<blockquote>\n  <p>Spring Framework 5.1 revisited the debug logging output while working on web applications (Spring MVC or Spring WebFlux). If you are trying to debug an application and you want to restore Spring Boot 2.0 style logging you should add the following to your application.properties:</p>\n</blockquote>\n\n<p><code>logging.level.web=debug</code></p>\n\n<blockquote>\n  <p>You might also want to set <code>spring.http.log-request-details</code> to true to log actual request details. By default this property is false as it can potentially expose sensitive information.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5726356,"reputation":870,"user_id":4523221,"accept_rate":62,"display_name":"Kin Cheung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582172154,"creation_date":1582172154,"answer_id":60312821,"question_id":53141849,"body_markdown":"If only want to see controller mapping log. Try to set TRACE to RequestMappingHandlerMapping to prevent too much log.\r\n\r\n    logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=TRACE\r\n\r\n\\# spring boot 2.2.4","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>If only want to see controller mapping log. Try to set TRACE to RequestMappingHandlerMapping to prevent too much log.</p>\n\n<pre><code>logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=TRACE\n</code></pre>\n\n<p># spring boot 2.2.4</p>\n"},{"tags":[],"owner":{"account_id":5964299,"reputation":11,"user_id":4688460,"display_name":"Rock Jing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602168687,"creation_date":1602166711,"answer_id":64264505,"question_id":53141849,"body_markdown":"I like this answer and I think that&#39; what I want. \r\nJust see what apis is there while the application is running.\r\n\r\n    logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=TRACE\r\n\r\nand then you will see like this;\r\n\r\n    c.u.c.s.c.SmsAuthController:\r\n    \t{POST /api/sms/send-sms-auth-code}: sendSmsAuthCode(SmsCodeParam,HttpServletRequest)\r\n    2568 2020-10-08 22:09:41,227 TRACE [restartedMain] o.s.w.s.m.m.a.RequestMappingHandlerMapping/detectHandlerMethods  \r\n    \tc.u.c.t.TestController:\r\n    \t{POST /api/test/api-retired-warning}: testApiRetiredWithWarning()\r\n    \t{POST /api/test/api-retired-error}: testApiRetiredWithError()\r\n    \t{POST /api/test/api-test-only}: testApiTestOnly()\r\n    2569 2020-10-08 22:09:41,228 TRACE [restartedMain] o.s.w.s.m.m.a\r\n\r\n\r\n\r\n","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>I like this answer and I think that' what I want.\nJust see what apis is there while the application is running.</p>\n<pre><code>logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=TRACE\n</code></pre>\n<p>and then you will see like this;</p>\n<pre><code>c.u.c.s.c.SmsAuthController:\n    {POST /api/sms/send-sms-auth-code}: sendSmsAuthCode(SmsCodeParam,HttpServletRequest)\n2568 2020-10-08 22:09:41,227 TRACE [restartedMain] o.s.w.s.m.m.a.RequestMappingHandlerMapping/detectHandlerMethods  \n    c.u.c.t.TestController:\n    {POST /api/test/api-retired-warning}: testApiRetiredWithWarning()\n    {POST /api/test/api-retired-error}: testApiRetiredWithError()\n    {POST /api/test/api-test-only}: testApiTestOnly()\n2569 2020-10-08 22:09:41,228 TRACE [restartedMain] o.s.w.s.m.m.a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615877674,"creation_date":1615877674,"answer_id":66650311,"question_id":53141849,"body_markdown":"If you want to see info logs in eclipse just add following line to properties\r\n**bootstrap.yml**\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework: INFO\r\n```","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>If you want to see info logs in eclipse just add following line to properties\n<strong>bootstrap.yml</strong></p>\n<pre><code>logging:\n  level:\n    org.springframework: INFO\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627945833,"creation_date":1627945833,"answer_id":68628806,"question_id":53141849,"body_markdown":"For much more logging, use `logging.level.root=DEBUG` in either bootstrap / application properties file","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>For much more logging, use <code>logging.level.root=DEBUG</code> in either bootstrap / application properties file</p>\n"}],"owner":{"account_id":11040878,"reputation":123,"user_id":8108852,"display_name":"localhost-er"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8969,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54249588,"answer_count":8,"score":1,"last_activity_date":1643968803,"creation_date":1541341647,"question_id":53141849,"body_markdown":"I can access the controller in web browser, but I can&#39;t see its mapping message in the console log. Normally when spring boot app starts, the eclipse console should print out the mapped controller and the accessing url, why didn&#39;t I see it?\r\n\r\nI have already added the `logging.level.org.springframework.web=DEBUG` to application.properties file, but it does not help.\r\n\r\n**Updated:**\r\nThis is my `pom.xml` file:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.yp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;BootTest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;BootTest&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n[The snippet of console log when app starts][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PiGvd.png\r\n\r\nIs there any way to show up mapped controller info when app starts?","title":"spring boot 2.x console log does not print mapped controller info","body":"<p>I can access the controller in web browser, but I can't see its mapping message in the console log. Normally when spring boot app starts, the eclipse console should print out the mapped controller and the accessing url, why didn't I see it?</p>\n\n<p>I have already added the <code>logging.level.org.springframework.web=DEBUG</code> to application.properties file, but it does not help.</p>\n\n<p><strong>Updated:</strong>\nThis is my <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.yp&lt;/groupId&gt;\n&lt;artifactId&gt;BootTest&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;BootTest&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PiGvd.png\" rel=\"nofollow noreferrer\">The snippet of console log when app starts</a></p>\n\n<p>Is there any way to show up mapped controller info when app starts?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","smtp","google-kubernetes-engine"],"comments":[{"owner":{"account_id":20005319,"reputation":1185,"user_id":14663497,"display_name":"Sergiusz"},"score":0,"creation_date":1643617905,"post_id":70922311,"comment_id":125378645,"body_markdown":"Are you using private GKE cluster?","body":"Are you using private GKE cluster?"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1643621003,"post_id":70922311,"comment_id":125379649,"body_markdown":"What do you mean by **I know that port 25 is disabled on GCP -&gt; I&#39;ve got port 456.**? You cannot just pick a port, you must use a port that is supported by the mail service. Your question refers to both ports 465 and 456. Edit your question to clearly state the problem.","body":"What do you mean by <b>I know that port 25 is disabled on GCP -&gt; I&#39;ve got port 456.</b>? You cannot just pick a port, you must use a port that is supported by the mail service. Your question refers to both ports 465 and 456. Edit your question to clearly state the problem."},{"owner":{"account_id":1119070,"reputation":91,"user_id":1107782,"display_name":"user1107782"},"score":0,"creation_date":1643634080,"post_id":70922311,"comment_id":125384289,"body_markdown":"1. I&#39;ve got a private cluster I think -&gt; simple app deployment + service for accessing it over the network.","body":"1. I&#39;ve got a private cluster I think -&gt; simple app deployment + service for accessing it over the network."},{"owner":{"account_id":1119070,"reputation":91,"user_id":1107782,"display_name":"user1107782"},"score":0,"creation_date":1643635967,"post_id":70922311,"comment_id":125385094,"body_markdown":"2. Sorry about the port. I meant 465 -&gt; the port is given by the mail provider. And as I stated earlier it works on localhost, so there seems to be a problem with GCP.","body":"2. Sorry about the port. I meant 465 -&gt; the port is given by the mail provider. And as I stated earlier it works on localhost, so there seems to be a problem with GCP."},{"owner":{"account_id":20005319,"reputation":1185,"user_id":14663497,"display_name":"Sergiusz"},"score":0,"creation_date":1643702528,"post_id":70922311,"comment_id":125403517,"body_markdown":"Please edit your question with more details, e.g. what kind of service you are using.","body":"Please edit your question with more details, e.g. what kind of service you are using."},{"owner":{"account_id":7248598,"reputation":11598,"user_id":5529712,"display_name":"Gari Singh"},"score":0,"creation_date":1643705622,"post_id":70922311,"comment_id":125404580,"body_markdown":"If you are using a private cluster, you&#39;ll need to setup Cloud NAT in order for your pods to access external addresses:  https://cloud.google.com/nat/docs/gke-example#gke-setup","body":"If you are using a private cluster, you&#39;ll need to setup Cloud NAT in order for your pods to access external addresses:  <a href=\"https://cloud.google.com/nat/docs/gke-example#gke-setup\" rel=\"nofollow noreferrer\">cloud.google.com/nat/docs/gke-example#gke-setup</a>"},{"owner":{"account_id":1119070,"reputation":91,"user_id":1107782,"display_name":"user1107782"},"score":0,"creation_date":1643731548,"post_id":70922311,"comment_id":125414912,"body_markdown":"I can make a curl to e.g. https://www.ovh.co.uk/mail/ from given POD with a success response. So that means that NAT is not needed I think.","body":"I can make a curl to e.g. <a href=\"https://www.ovh.co.uk/mail/\" rel=\"nofollow noreferrer\">ovh.co.uk/mail</a> from given POD with a success response. So that means that NAT is not needed I think."},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1643745610,"post_id":70922311,"comment_id":125420437,"body_markdown":"The CLI **curl** is an HTTP tool, not an SMTP tool but that does verify that you have public Internet access.","body":"The CLI <b>curl</b> is an HTTP tool, not an SMTP tool but that does verify that you have public Internet access."},{"owner":{"account_id":20005319,"reputation":1185,"user_id":14663497,"display_name":"Sergiusz"},"score":0,"creation_date":1643786790,"post_id":70922311,"comment_id":125428603,"body_markdown":"Enable [firewall logging](https://cloud.google.com/vpc/docs/firewall-rules-logging) and check if the SMTP packets are being allowed.","body":"Enable <a href=\"https://cloud.google.com/vpc/docs/firewall-rules-logging\" rel=\"nofollow noreferrer\">firewall logging</a> and check if the SMTP packets are being allowed."},{"owner":{"account_id":1119070,"reputation":91,"user_id":1107782,"display_name":"user1107782"},"score":1,"creation_date":1643800628,"post_id":70922311,"comment_id":125433726,"body_markdown":"Ok it turned out that my config map port changed from 456 to 465 but I forgot to restart the app. It works like a charm without any NAT configuration or firewall rules :)","body":"Ok it turned out that my config map port changed from 456 to 465 but I forgot to restart the app. It works like a charm without any NAT configuration or firewall rules :)"},{"owner":{"account_id":20005319,"reputation":1185,"user_id":14663497,"display_name":"Sergiusz"},"score":0,"creation_date":1643878285,"post_id":70922311,"comment_id":125457572,"body_markdown":"@user1107782 - Can you post this as an answer?","body":"@user1107782 - Can you post this as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":1119070,"reputation":91,"user_id":1107782,"display_name":"user1107782"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643968502,"creation_date":1643968502,"answer_id":70984399,"question_id":70922311,"body_markdown":"It turned out that my config map port changed from 456 to 465 but I forgot to restart the app. It works like a charm without any NAT configuration or firewall rules. Thanks for your support.","title":"GCP GKE SMTP port 465 connection reset","body":"<p>It turned out that my config map port changed from 456 to 465 but I forgot to restart the app. It works like a charm without any NAT configuration or firewall rules. Thanks for your support.</p>\n"}],"owner":{"account_id":1119070,"reputation":91,"user_id":1107782,"display_name":"user1107782"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643968502,"creation_date":1643613094,"question_id":70922311,"body_markdown":"I&#39;ve got a Spring Boot Java application that sends emails via SMTP port 465 (non-gmail email). My configuration:\r\n```\r\nspring:\r\n  mail:\r\n    host: ssl0.ovh.net\r\n    port: 465\r\n    username: mailer@external.pl\r\n    password: mailerPassword\r\n```\r\n\r\nLocally everything works fine. When I deploy it on GCP Kubernetes cluster I&#39;ve got a connection reset exception. I&#39;ve read that GCP recommends some external paid providers but for my solution it&#39;s too much of a complication. Additionally I know that port 25 is disabled on GCP -&gt; I&#39;ve got port 465.\r\n\r\nI&#39;ve tried to simply add a firewall egress rule to enable traffic on every port for my VPC but it also didn&#39;t help.\r\n\r\nWhat am I missing? Can anybody help my solve this puzzle? \r\n\r\nAdditional info:\r\n1. My Java application is served as a simple deployment in k8s. It is exposed through LoadBalancer service on port 80.\r\n2. Making a curl from given managed pod works - I receive a correct 2xx responses from various sites.\r\n","title":"GCP GKE SMTP port 465 connection reset","body":"<p>I've got a Spring Boot Java application that sends emails via SMTP port 465 (non-gmail email). My configuration:</p>\n<pre><code>spring:\n  mail:\n    host: ssl0.ovh.net\n    port: 465\n    username: mailer@external.pl\n    password: mailerPassword\n</code></pre>\n<p>Locally everything works fine. When I deploy it on GCP Kubernetes cluster I've got a connection reset exception. I've read that GCP recommends some external paid providers but for my solution it's too much of a complication. Additionally I know that port 25 is disabled on GCP -&gt; I've got port 465.</p>\n<p>I've tried to simply add a firewall egress rule to enable traffic on every port for my VPC but it also didn't help.</p>\n<p>What am I missing? Can anybody help my solve this puzzle?</p>\n<p>Additional info:</p>\n<ol>\n<li>My Java application is served as a simple deployment in k8s. It is exposed through LoadBalancer service on port 80.</li>\n<li>Making a curl from given managed pod works - I receive a correct 2xx responses from various sites.</li>\n</ol>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643968332,"creation_date":1643967843,"answer_id":70984246,"question_id":70984182,"body_markdown":"**FAIL_ON_UNKNOWN_PROPERTIES**\r\n\r\n&gt; Feature that determines whether encountering of unknown properties\r\n&gt; (ones that do not map to a property, and there is no &quot;any setter&quot; or\r\n&gt; handler that can handle it) should result in a failure (by throwing a\r\n&gt; JsonMappingException) or not.\r\n\r\n\r\nExample of Usage:\r\n\r\n       ObjectMapper mapper  = new ObjectMapper();\r\n       mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n\r\nDocumentation:\r\n\r\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/DeserializationFeature.html\r\n\r\n-----\r\n\r\nYou can also use the annotation `@JsonIgnoreProperties` on top of the POJO itself:  However I am not quite sure if this will throw an Exception on its own.\r\n\r\n    @Target(value={ANNOTATION_TYPE,TYPE,METHOD,CONSTRUCTOR,FIELD})\r\n    @Retention(value=RUNTIME)\r\n    public @interface JsonIgnoreProperties\r\n    Annotation that can be used to either suppress serialization of properties (during serialization), or ignore processing of JSON properties read (during deserialization).\r\n\r\nExample:\r\n\r\n     // To throw exception on any unknown properties in JSON input:\r\n     @JsonIgnoreProperties\r\n     public class YourPoJo{\r\n            \r\n     }\r\n\r\n\r\n----------\r\n\r\n\r\n    public abstract boolean ignoreUnknown\r\n\r\n&gt; Property that defines whether it is ok to just ignore any unrecognized\r\n&gt; properties during deserialization. \r\n&gt; \r\n&gt; If true, all properties that are unrecognized -- that is, there are no\r\n&gt; setters or creators that accept them -- are ignored without warnings\r\n&gt; (although handlers for unknown properties, if any, will still be\r\n&gt; called) without exception.\r\n&gt; \r\n&gt; **Does not have any effect on serialization.**\r\n&gt; \r\n&gt; Default: false\r\n\r\n\r\n\r\nDocumentation: http://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html","title":"Inform Jackson to throw exception if Json does not match expected object structure","body":"<p><strong>FAIL_ON_UNKNOWN_PROPERTIES</strong></p>\n<blockquote>\n<p>Feature that determines whether encountering of unknown properties\n(ones that do not map to a property, and there is no &quot;any setter&quot; or\nhandler that can handle it) should result in a failure (by throwing a\nJsonMappingException) or not.</p>\n</blockquote>\n<p>Example of Usage:</p>\n<pre><code>   ObjectMapper mapper  = new ObjectMapper();\n   mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n</code></pre>\n<p>Documentation:</p>\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/DeserializationFeature.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/DeserializationFeature.html</a></p>\n<hr />\n<p>You can also use the annotation <code>@JsonIgnoreProperties</code> on top of the POJO itself:  However I am not quite sure if this will throw an Exception on its own.</p>\n<pre><code>@Target(value={ANNOTATION_TYPE,TYPE,METHOD,CONSTRUCTOR,FIELD})\n@Retention(value=RUNTIME)\npublic @interface JsonIgnoreProperties\nAnnotation that can be used to either suppress serialization of properties (during serialization), or ignore processing of JSON properties read (during deserialization).\n</code></pre>\n<p>Example:</p>\n<pre><code> // To throw exception on any unknown properties in JSON input:\n @JsonIgnoreProperties\n public class YourPoJo{\n        \n }\n</code></pre>\n<hr />\n<pre><code>public abstract boolean ignoreUnknown\n</code></pre>\n<blockquote>\n<p>Property that defines whether it is ok to just ignore any unrecognized\nproperties during deserialization.</p>\n<p>If true, all properties that are unrecognized -- that is, there are no\nsetters or creators that accept them -- are ignored without warnings\n(although handlers for unknown properties, if any, will still be\ncalled) without exception.</p>\n<p><strong>Does not have any effect on serialization.</strong></p>\n<p>Default: false</p>\n</blockquote>\n<p>Documentation: <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html\" rel=\"nofollow noreferrer\">http://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html</a></p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70984246,"answer_count":1,"score":0,"last_activity_date":1643968332,"creation_date":1643967559,"question_id":70984182,"body_markdown":"Using this code to convert convert Json to a Java object using Jackson annotations : \r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import objectmappertest.Request;\r\n    import java.io.IOException;\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n            final String json  = &quot;{\\&quot;datePurchased\\&quot;:\\&quot;2022-02-03 21:32:017\\&quot;},{\\&quot;unknownField\\&quot;:\\&quot;test\\&quot;}&quot;;\r\n            final Request request = mapper.readValue(json, Request.class);\r\n            System.out.println(&quot;request : &quot;+request);\r\n        }\r\n\r\nI expect an exception to be thrown as the Request Java object does not contain a field type `unknownField` , instead it seems that Jackson parses what it can from the JSON. Is there a configuration option which a causes an exception or a flag to be set if the Json being passed to Jackson does not match the Java object structure ?\r\n\r\nHere is the expected structure : \r\n\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    import lombok.extern.jackson.Jacksonized;\r\n    import java.util.Date;\r\n    \r\n    @Builder\r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    @Jacksonized\r\n    public class Request\r\n    {\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:sss&quot;)\r\n        private final Date datePurchased;\r\n    }\r\n     ","title":"Inform Jackson to throw exception if Json does not match expected object structure","body":"<p>Using this code to convert convert Json to a Java object using Jackson annotations :</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport objectmappertest.Request;\nimport java.io.IOException;\n\n    public static void main(String args[]) throws IOException {\n        final String json  = &quot;{\\&quot;datePurchased\\&quot;:\\&quot;2022-02-03 21:32:017\\&quot;},{\\&quot;unknownField\\&quot;:\\&quot;test\\&quot;}&quot;;\n        final Request request = mapper.readValue(json, Request.class);\n        System.out.println(&quot;request : &quot;+request);\n    }\n</code></pre>\n<p>I expect an exception to be thrown as the Request Java object does not contain a field type <code>unknownField</code> , instead it seems that Jackson parses what it can from the JSON. Is there a configuration option which a causes an exception or a flag to be set if the Json being passed to Jackson does not match the Java object structure ?</p>\n<p>Here is the expected structure :</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\nimport lombok.extern.jackson.Jacksonized;\nimport java.util.Date;\n\n@Builder\n@ToString\n@Getter\n@Setter\n@Jacksonized\npublic class Request\n{\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:sss&quot;)\n    private final Date datePurchased;\n}\n \n</code></pre>\n"},{"tags":["java","testing","junit5"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1643110835,"post_id":70847919,"comment_id":125247734,"body_markdown":"Assuming you are using an IDE there has to be a button somewhere that does that.","body":"Assuming you are using an IDE there has to be a button somewhere that does that."},{"owner":{"account_id":18710584,"reputation":19,"user_id":13640755,"display_name":"El barto"},"score":0,"creation_date":1643732788,"post_id":70847919,"comment_id":125415452,"body_markdown":"I think you didn&#39;t understand my problem ;)\nI want to automatically retry the test that failed as indicated in the link I quoted.","body":"I think you didn&#39;t understand my problem ;) I want to automatically retry the test that failed as indicated in the link I quoted."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643878458,"post_id":70847919,"comment_id":125457634,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":18710584,"reputation":19,"user_id":13640755,"display_name":"El barto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643967934,"creation_date":1643110412,"question_id":70847919,"body_markdown":"I would like to automatically replay my JUnit 5 tests when they fail.\r\n\r\nWith JUnit 4, I was using Rule with public class Retry implements TestRule like here: https://stackoverflow.com/questions/8295100/how-to-re-run-failed-junit-tests-immediately/8301639#8301639\r\n\r\nThis solution worked for me, it applied to all tests without having to put an annotation on each test. And on the test reports only the last test instance was kept.\r\n\r\nIs there an equivalent on JUnit5?\r\n\r\nI tried with the @RepeatedIfExceptionsTest(repeats = 2) annotation, but it has to be put on every test. And for test reports it&#39;s not ideal, it looks like there are more tests. You should only keep the last instance.","title":"How to re-run failed JUnit5 tests immediately?","body":"<p>I would like to automatically replay my JUnit 5 tests when they fail.</p>\n<p>With JUnit 4, I was using Rule with public class Retry implements TestRule like here: <a href=\"https://stackoverflow.com/questions/8295100/how-to-re-run-failed-junit-tests-immediately/8301639#8301639\">How to Re-run failed JUnit tests immediately?</a></p>\n<p>This solution worked for me, it applied to all tests without having to put an annotation on each test. And on the test reports only the last test instance was kept.</p>\n<p>Is there an equivalent on JUnit5?</p>\n<p>I tried with the @RepeatedIfExceptionsTest(repeats = 2) annotation, but it has to be put on every test. And for test reports it's not ideal, it looks like there are more tests. You should only keep the last instance.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1465182428,"creation_date":1465182428,"answer_id":37649024,"question_id":37648984,"body_markdown":"Your xml configuration specifies a constructor argument containing the address, but your Student class does not have a constructor that takes any arguments.\r\n\r\nEither add the appropriate constructor, or change the constructor-arg to a property in the xml configuration.","title":"Could not resolve matching constructor.Ambiguity issue with Spring dependency injection","body":"<p>Your xml configuration specifies a constructor argument containing the address, but your Student class does not have a constructor that takes any arguments.</p>\n\n<p>Either add the appropriate constructor, or change the constructor-arg to a property in the xml configuration.</p>\n"},{"tags":[],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643967549,"creation_date":1643964371,"answer_id":70983581,"question_id":37648984,"body_markdown":"1)you have not added constructor in your class,so replace your  applicationContext.xml file\r\n\r\n        &lt;bean id=&quot;student&quot; class=&quot;com.inject.test.Student&quot;&gt;\r\n        \t&lt;property name=&quot;name&quot; value=&quot;jai&quot;&gt;&lt;/property&gt;\r\n        \t&lt;property name=&quot;className&quot; value=&quot;MCA&quot;&gt;&lt;/property&gt;\r\n    //instead of writing &lt;constructor-arg&gt;property write as follow\r\n        \t &lt;property name=&quot;address&quot; ref=&quot;addressOne&quot;&gt;&lt;/property&gt;\r\n        \t&lt;/bean&gt;\r\n        \t  &lt;bean id=&quot;addressOne&quot; class=&quot;com.inject.test.Address&quot;&gt;\r\n               &lt;property name=&quot;city&quot; value=&quot;Hyderabad&quot;/&gt;\r\n               &lt;property name=&quot;state&quot; value=&quot;Telangana&quot;/&gt;\r\n            &lt;/bean&gt;\r\n\r\nor 2) just add \r\n\r\n    public Student(Address address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\nin student class\r\nand replace this line \t\r\n\r\n    &lt;constructor-arg ref=&quot;address&quot; type=&quot;java.lang.String&quot;/&gt;\r\n\r\nwith this\r\n\r\n     &lt;constructor-arg ref=&quot;address&quot;/&gt;\r\n    \t","title":"Could not resolve matching constructor.Ambiguity issue with Spring dependency injection","body":"<p>1)you have not added constructor in your class,so replace your  applicationContext.xml file</p>\n<pre><code>    &lt;bean id=&quot;student&quot; class=&quot;com.inject.test.Student&quot;&gt;\n        &lt;property name=&quot;name&quot; value=&quot;jai&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;className&quot; value=&quot;MCA&quot;&gt;&lt;/property&gt;\n//instead of writing &lt;constructor-arg&gt;property write as follow\n         &lt;property name=&quot;address&quot; ref=&quot;addressOne&quot;&gt;&lt;/property&gt;\n        &lt;/bean&gt;\n          &lt;bean id=&quot;addressOne&quot; class=&quot;com.inject.test.Address&quot;&gt;\n           &lt;property name=&quot;city&quot; value=&quot;Hyderabad&quot;/&gt;\n           &lt;property name=&quot;state&quot; value=&quot;Telangana&quot;/&gt;\n        &lt;/bean&gt;\n</code></pre>\n<p>or 2) just add</p>\n<pre><code>public Student(Address address) {\n        this.address = address;\n    }\n</code></pre>\n<p>in student class\nand replace this line</p>\n<pre><code>&lt;constructor-arg ref=&quot;address&quot; type=&quot;java.lang.String&quot;/&gt;\n</code></pre>\n<p>with this</p>\n<pre><code> &lt;constructor-arg ref=&quot;address&quot;/&gt;\n    \n</code></pre>\n"}],"owner":{"account_id":3945386,"reputation":357,"user_id":3258235,"accept_rate":100,"display_name":"Kriz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22293,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":37649024,"answer_count":2,"score":4,"last_activity_date":1643967549,"creation_date":1465182044,"question_id":37648984,"body_markdown":"I am getting the error &quot;`Could not resolve matching constructor (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities)`&quot; while executing my spring program. I am new to Spring core and trying to learn the framework. Below is the code:\r\n\r\nStudent.java\r\n\r\n    package com.inject.test;\r\n    \r\n    public class Student {\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String className;\r\n    \tprivate Address address;\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic Address getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \tpublic void setAddress(Address address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getClassName() {\r\n    \t\treturn className;\r\n    \t}\r\n    \tpublic void setClassName(String className) {\r\n    \t\tthis.className = className;\r\n    \t}\r\n    \r\n    \t\r\n    }\r\nAddress.java\r\n\r\n    package com.inject.test;\r\n    \r\n    public class Address {\r\n    \r\n    \tprivate String city;\r\n    \tprivate String state;\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic String getCity() {\r\n    \t\treturn city;\r\n    \t}\r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \tpublic String getState() {\r\n    \t\treturn state;\r\n    \t}\r\n    \tpublic void setState(String state) {\r\n    \t\tthis.state = state;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nTest.java\r\n\r\n    package com.inject.test;\r\n    \r\n        import org.springframework.context.ApplicationContext; \r\n        import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n        \r\n        public class Test {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\r\n        \t\t@SuppressWarnings(&quot;resource&quot;)\r\n        \t\tApplicationContext context =  new ClassPathXmlApplicationContext(&quot;file:com/applicationContext.xml&quot;);\r\n        \t\tStudent student = (Student) context.getBean(&quot;student&quot;);\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Name: &quot; + student.getName());\r\n        \t\tSystem.out.println(&quot;Class: &quot; + student.getClassName());\r\n        \t\t\r\n        \t\tAddress studentAddress = student.getAddress();\r\n        \r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Student Address: &quot;);\r\n        \t\tSystem.out.println(&quot;City: &quot; + studentAddress.getCity());\r\n        \t\tSystem.out.println(&quot;State: &quot; + studentAddress.getState());\t\t\r\n        \t}\r\n        \r\n        }\r\n\r\napplicationContext.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n    \r\n       &lt;bean id=&quot;student&quot; class=&quot;com.inject.test.Student&quot;&gt;\r\n       \t   &lt;property name=&quot;name&quot; value=&quot;Jai&quot;/&gt;\r\n           &lt;property name=&quot;className&quot; value=&quot;MCA&quot;/&gt;\r\n           &lt;constructor-arg ref=&quot;address&quot; type=&quot;java.lang.String&quot;/&gt;\r\n       &lt;/bean&gt;\r\n       \r\n        &lt;bean id=&quot;address&quot; class=&quot;com.inject.test.Address&quot;&gt;\r\n           &lt;property name=&quot;city&quot; value=&quot;Hyderabad&quot;/&gt;\r\n           &lt;property name=&quot;state&quot; value=&quot;Telangana&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nWhat change should be made to resolve the constructor issue, please suggest. \r\n\r\n\r\n\r\n","title":"Could not resolve matching constructor.Ambiguity issue with Spring dependency injection","body":"<p>I am getting the error \"<code>Could not resolve matching constructor (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities)</code>\" while executing my spring program. I am new to Spring core and trying to learn the framework. Below is the code:</p>\n\n<p>Student.java</p>\n\n<pre><code>package com.inject.test;\n\npublic class Student {\n\n    private String name;\n    private String className;\n    private Address address;\n\n\n\n    public Address getAddress() {\n        return address;\n    }\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getClassName() {\n        return className;\n    }\n    public void setClassName(String className) {\n        this.className = className;\n    }\n\n\n}\n</code></pre>\n\n<p>Address.java</p>\n\n<pre><code>package com.inject.test;\n\npublic class Address {\n\n    private String city;\n    private String state;\n\n\n\n\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public String getState() {\n        return state;\n    }\n    public void setState(String state) {\n        this.state = state;\n    }\n\n}\n</code></pre>\n\n<p>Test.java</p>\n\n<pre><code>package com.inject.test;\n\n    import org.springframework.context.ApplicationContext; \n    import org.springframework.context.support.ClassPathXmlApplicationContext;\n\n    public class Test {\n\n        public static void main(String[] args) {\n\n            @SuppressWarnings(\"resource\")\n            ApplicationContext context =  new ClassPathXmlApplicationContext(\"file:com/applicationContext.xml\");\n            Student student = (Student) context.getBean(\"student\");\n\n            System.out.println(\"Name: \" + student.getName());\n            System.out.println(\"Class: \" + student.getClassName());\n\n            Address studentAddress = student.getAddress();\n\n\n            System.out.println(\"Student Address: \");\n            System.out.println(\"City: \" + studentAddress.getCity());\n            System.out.println(\"State: \" + studentAddress.getState());      \n        }\n\n    }\n</code></pre>\n\n<p>applicationContext.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n   &lt;bean id=\"student\" class=\"com.inject.test.Student\"&gt;\n       &lt;property name=\"name\" value=\"Jai\"/&gt;\n       &lt;property name=\"className\" value=\"MCA\"/&gt;\n       &lt;constructor-arg ref=\"address\" type=\"java.lang.String\"/&gt;\n   &lt;/bean&gt;\n\n    &lt;bean id=\"address\" class=\"com.inject.test.Address\"&gt;\n       &lt;property name=\"city\" value=\"Hyderabad\"/&gt;\n       &lt;property name=\"state\" value=\"Telangana\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>What change should be made to resolve the constructor issue, please suggest. </p>\n"},{"tags":["java","netbeans","netbeans-12"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642527421,"creation_date":1642527421,"answer_id":70760002,"question_id":70758280,"body_markdown":"I can reproduce your problem, and [NetBeans Bug Report 5953](https://issues.apache.org/jira/browse/NETBEANS-5953) _&quot;Creating a new Enterprise Application (Java with Ant) impossible (only when selecting JakartaEE9) - NPEs thrown&quot;_ has already been raised.\r\n\r\nThe bug report is unresolved, but the problem only occurs when creating a Jakarta EE 9 Enterprise Application. I successfully created a Jakarta EE 8 Enterprise Application simply by selecting _Jakarta EE8_ from the **Java EE Version** drop list within the wizard.\r\n\r\nYou have several options available to resolve this, but none of them are good:\r\n- Wait for NetBeans to fix the problem. Definitely not recommended!\r\n- Create a Jakarta EE8 Enterprise Application with the Ant wizard instead, if you don&#39;t require EE 9 functionality.\r\n- Create a Jakarta EE8 Enterprise Application with the Ant wizard, then &quot;hack&quot; the generated projects to use EE 9.\r\n- Use another IDE which properly supports this functionality.\r\n- Create the EE 9 Enterprise Application in another IDE, then import the projects into NetBeans.\r\n\r\nUsing Maven or Gradle isnstead of Ant as the build tool doesn&#39;t help either:\r\n- I couldn&#39;t create a Maven Enterprise Application when using Jakarta EE8 or Jakarta EE9, though I didn&#39;t research why.\r\n- The project wizard doesn&#39;t even offer _&quot;Enterprise Application&quot;_ as an option when using Gradle.\r\n\r\nNotes:\r\n- NetBeans 13 will be released next month, but I don&#39;t think this issue will be fixed.\r\n- Also see the (ominous) bug report [&quot;NETBEANS-2871 Resolve Enterprise Application support&quot;](https://issues.apache.org/jira/browse/NETBEANS-2871) from 2019 which remains unresolved:\r\n\r\n&gt; Need to figure out whether maybe Web Applications (in Ant, Maven, and\r\n&gt; Gradle) might not be enough in terms of Java EE support, i.e., do we\r\n&gt; need Enterprise Applications and EJB-specific project types, if not,\r\n&gt; let&#39;s remove them.","title":"Unable to create Enterprise application in NetBeans IDE 12.6","body":"<p>I can reproduce your problem, and <a href=\"https://issues.apache.org/jira/browse/NETBEANS-5953\" rel=\"nofollow noreferrer\">NetBeans Bug Report 5953</a> <em>&quot;Creating a new Enterprise Application (Java with Ant) impossible (only when selecting JakartaEE9) - NPEs thrown&quot;</em> has already been raised.</p>\n<p>The bug report is unresolved, but the problem only occurs when creating a Jakarta EE 9 Enterprise Application. I successfully created a Jakarta EE 8 Enterprise Application simply by selecting <em>Jakarta EE8</em> from the <strong>Java EE Version</strong> drop list within the wizard.</p>\n<p>You have several options available to resolve this, but none of them are good:</p>\n<ul>\n<li>Wait for NetBeans to fix the problem. Definitely not recommended!</li>\n<li>Create a Jakarta EE8 Enterprise Application with the Ant wizard instead, if you don't require EE 9 functionality.</li>\n<li>Create a Jakarta EE8 Enterprise Application with the Ant wizard, then &quot;hack&quot; the generated projects to use EE 9.</li>\n<li>Use another IDE which properly supports this functionality.</li>\n<li>Create the EE 9 Enterprise Application in another IDE, then import the projects into NetBeans.</li>\n</ul>\n<p>Using Maven or Gradle isnstead of Ant as the build tool doesn't help either:</p>\n<ul>\n<li>I couldn't create a Maven Enterprise Application when using Jakarta EE8 or Jakarta EE9, though I didn't research why.</li>\n<li>The project wizard doesn't even offer <em>&quot;Enterprise Application&quot;</em> as an option when using Gradle.</li>\n</ul>\n<p>Notes:</p>\n<ul>\n<li>NetBeans 13 will be released next month, but I don't think this issue will be fixed.</li>\n<li>Also see the (ominous) bug report <a href=\"https://issues.apache.org/jira/browse/NETBEANS-2871\" rel=\"nofollow noreferrer\">&quot;NETBEANS-2871 Resolve Enterprise Application support&quot;</a> from 2019 which remains unresolved:</li>\n</ul>\n<blockquote>\n<p>Need to figure out whether maybe Web Applications (in Ant, Maven, and\nGradle) might not be enough in terms of Java EE support, i.e., do we\nneed Enterprise Applications and EJB-specific project types, if not,\nlet's remove them.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24153458,"reputation":1,"user_id":18117983,"display_name":"A. S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643967405,"creation_date":1643967093,"answer_id":70984099,"question_id":70758280,"body_markdown":"It works with jakarta EE9 provided you do the following: \r\n\r\nPlugin versions in all pom.xml files:\r\n\r\nmaven-compiler-plugin 3.9.0\r\n\r\nmaven-war-plugin      3.3.2\r\n\r\nmaven-dependency-plugin 3.2.0\r\n\r\nIn the pom.xml file of -ejb-  change packaging war to jar.  \r\n\r\nThen:\r\n\r\nClean and build in the following order:\r\n\r\ntop, ejb, web and ear.\r\n\r\nThat&#39;s all.\r\n","title":"Unable to create Enterprise application in NetBeans IDE 12.6","body":"<p>It works with jakarta EE9 provided you do the following:</p>\n<p>Plugin versions in all pom.xml files:</p>\n<p>maven-compiler-plugin 3.9.0</p>\n<p>maven-war-plugin      3.3.2</p>\n<p>maven-dependency-plugin 3.2.0</p>\n<p>In the pom.xml file of -ejb-  change packaging war to jar.</p>\n<p>Then:</p>\n<p>Clean and build in the following order:</p>\n<p>top, ejb, web and ear.</p>\n<p>That's all.</p>\n"}],"owner":{"account_id":17356164,"reputation":35,"user_id":12573496,"display_name":"Jhon Fagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70760002,"answer_count":2,"score":1,"last_activity_date":1643967405,"creation_date":1642519998,"question_id":70758280,"body_markdown":"When I try to create an Enterprise application using the wizard (Ant project) I get the following error \r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.netbeans.modules.j2ee.dd.api.application.Application.setDisplayName(String)&quot; because &quot;this.application&quot; is null\r\n\tat org.netbeans.modules.j2ee.earproject.ProjectEar.setupDDFromVirtual(ProjectEar.java:290)\r\n\tat org.netbeans.modules.j2ee.earproject.ProjectEar.getApplication(ProjectEar.java:255)\r\n\tat org.netbeans.modules.j2ee.earproject.ui.wizards.NewEarProjectWizardIterator.testableInstantiate(NewEarProjectWizardIterator.java:160)\r\n\tat org.netbeans.modules.j2ee.earproject.ui.wizards.NewEarProjectWizardIterator.instantiate(NewEarProjectWizardIterator.java:139)\r\n\tat org.openide.loaders.TemplateWizard$InstantiatingIteratorBridge.instantiate(TemplateWizard.java:1048)\r\n\tat org.openide.loaders.TemplateWizard.handleInstantiate(TemplateWizard.java:602)\r\n\tat org.netbeans.modules.project.ui.NewProjectWizard.handleInstantiate(NewProjectWizard.java:51)\r\n\tat org.openide.loaders.TemplateWizard.instantiateNewObjects(TemplateWizard.java:436)\r\n\tat org.openide.loaders.TemplateWizardIterImpl.instantiate(TemplateWizardIterImpl.java:228)\r\n\tat org.openide.loaders.TemplateWizardIteratorWrapper$ProgressInstantiatingIterator.instantiate(TemplateWizardIteratorWrapper.java:155)\r\n\tat org.openide.WizardDescriptor.callInstantiateOpen(WizardDescriptor.java:1602)\r\n\tat org.openide.WizardDescriptor.callInstantiate(WizardDescriptor.java:1546)\r\n\tat org.openide.WizardDescriptor.access$2300(WizardDescriptor.java:67)\r\n    [catch] at org.openide.WizardDescriptor$Listener$2$1.run(WizardDescriptor.java:2233)\r\n\tat org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1418)\r\n\tat org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\r\n\tat org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\r\n\tat org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2033)\r\n\r\nOf course, all the fields in the wizard are filled. However, there are no errors when creating WAR and EJB separately. The error occurs only when an EAR is created, even if it is empty.\r\n\r\nuse\r\n- NetBeans 12.6\r\n- Windows 10 OS \r\n- GlassFish Server 6.2.1 \r\n- Java 17\r\n\r\nAll paths are spelled out correctly, read / write permissions to directories are set \r\n\r\n[Screen][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/99Bdx.png\r\n\r\n","title":"Unable to create Enterprise application in NetBeans IDE 12.6","body":"<p>When I try to create an Enterprise application using the wizard (Ant project) I get the following error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.netbeans.modules.j2ee.dd.api.application.Application.setDisplayName(String)&quot; because &quot;this.application&quot; is null\nat org.netbeans.modules.j2ee.earproject.ProjectEar.setupDDFromVirtual(ProjectEar.java:290)\nat org.netbeans.modules.j2ee.earproject.ProjectEar.getApplication(ProjectEar.java:255)\nat org.netbeans.modules.j2ee.earproject.ui.wizards.NewEarProjectWizardIterator.testableInstantiate(NewEarProjectWizardIterator.java:160)\nat org.netbeans.modules.j2ee.earproject.ui.wizards.NewEarProjectWizardIterator.instantiate(NewEarProjectWizardIterator.java:139)\nat org.openide.loaders.TemplateWizard$InstantiatingIteratorBridge.instantiate(TemplateWizard.java:1048)\nat org.openide.loaders.TemplateWizard.handleInstantiate(TemplateWizard.java:602)\nat org.netbeans.modules.project.ui.NewProjectWizard.handleInstantiate(NewProjectWizard.java:51)\nat org.openide.loaders.TemplateWizard.instantiateNewObjects(TemplateWizard.java:436)\nat org.openide.loaders.TemplateWizardIterImpl.instantiate(TemplateWizardIterImpl.java:228)\nat org.openide.loaders.TemplateWizardIteratorWrapper$ProgressInstantiatingIterator.instantiate(TemplateWizardIteratorWrapper.java:155)\nat org.openide.WizardDescriptor.callInstantiateOpen(WizardDescriptor.java:1602)\nat org.openide.WizardDescriptor.callInstantiate(WizardDescriptor.java:1546)\nat org.openide.WizardDescriptor.access$2300(WizardDescriptor.java:67)\n[catch] at org.openide.WizardDescriptor$Listener$2$1.run(WizardDescriptor.java:2233)\nat org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1418)\nat org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\nat org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\nat org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2033)\n</code></pre>\n<p>Of course, all the fields in the wizard are filled. However, there are no errors when creating WAR and EJB separately. The error occurs only when an EAR is created, even if it is empty.</p>\n<p>use</p>\n<ul>\n<li>NetBeans 12.6</li>\n<li>Windows 10 OS</li>\n<li>GlassFish Server 6.2.1</li>\n<li>Java 17</li>\n</ul>\n<p>All paths are spelled out correctly, read / write permissions to directories are set</p>\n<p><a href=\"https://i.stack.imgur.com/99Bdx.png\" rel=\"nofollow noreferrer\">Screen</a></p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":9615630,"reputation":403,"user_id":7138532,"display_name":"Hamed Karami"},"score":0,"creation_date":1620708325,"post_id":67480660,"comment_id":119273119,"body_markdown":"your answer is : https://www.devopsschool.com/blog/how-to-get-sha-1-key-in-android-studio-for-firebase/","body":"your answer is : <a href=\"https://www.devopsschool.com/blog/how-to-get-sha-1-key-in-android-studio-for-firebase/\" rel=\"nofollow noreferrer\">devopsschool.com/blog/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11010105,"reputation":379,"user_id":8087800,"display_name":"dennisrufigill"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1620708816,"creation_date":1620708816,"answer_id":67480752,"question_id":67480660,"body_markdown":" * Go to Android Studio\r\n * Click on Gradle(Right Most of the Screen)\r\n * Click your project name and expand it.\r\n * Then click on Task -&gt; android -&gt;Signing Report\r\n * Android Studio will generate MD1, SHA-1, and SHA-256 for you.","title":"How to find the debug SHA 1 key","body":"<ul>\n<li>Go to Android Studio</li>\n<li>Click on Gradle(Right Most of the Screen)</li>\n<li>Click your project name and expand it.</li>\n<li>Then click on Task -&gt; android -&gt;Signing Report</li>\n<li>Android Studio will generate MD1, SHA-1, and SHA-256 for you.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12466202,"reputation":967,"user_id":9076056,"display_name":"Nitin Prakash"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1620711249,"creation_date":1620711249,"answer_id":67481080,"question_id":67480660,"body_markdown":"Yeah I was also facing this problem with the new Android Studio 4.2 but found the solution eventually\r\n\r\n Put this command in the terminal of android studio and hit enter\r\n \r\n    keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android\r\n\r\nsee this image[![enter image description here][1]][1]\r\n\r\nYou will get your debug SHA 1 key\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E9wEh.jpg\r\n  [2]: https://i.stack.imgur.com/5pGEJ.jpg","title":"How to find the debug SHA 1 key","body":"<p>Yeah I was also facing this problem with the new Android Studio 4.2 but found the solution eventually</p>\n<p>Put this command in the terminal of android studio and hit enter</p>\n<pre><code>keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android\n</code></pre>\n<p>see this image<a href=\"https://i.stack.imgur.com/E9wEh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9wEh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>You will get your debug SHA 1 key\n<a href=\"https://i.stack.imgur.com/5pGEJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5pGEJ.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19186823,"reputation":107,"user_id":14017441,"display_name":"Ritesh Nayak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67480752,"answer_count":2,"score":4,"last_activity_date":1643967158,"creation_date":1620707959,"question_id":67480660,"body_markdown":"I am a beginner android developer working on my first project. I unable to find the debug **SHA 1** key through the general procedure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U0rBy.png","title":"How to find the debug SHA 1 key","body":"<p>I am a beginner android developer working on my first project. I unable to find the debug <strong>SHA 1</strong> key through the general procedure</p>\n<p><a href=\"https://i.stack.imgur.com/U0rBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U0rBy.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8372,"page":1620,"page_size":100}
