{"items":[{"tags":["java","android","clock"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1392308910,"post_id":21759456,"comment_id":32915090,"body_markdown":"I think you have to resort to some atomic clock around the world. So, an internet connection must be active, to sync the internal clock of the device - and it will sync basing on the current UTC offset setting.","body":"I think you have to resort to some atomic clock around the world. So, an internet connection must be active, to sync the internal clock of the device - and it will sync basing on the current UTC offset setting."}],"answers":[{"comments":[{"owner":{"account_id":12539,"reputation":39420,"user_id":24762,"accept_rate":71,"display_name":"Andrew Aylett"},"score":0,"creation_date":1392310370,"post_id":21760337,"comment_id":32916240,"body_markdown":"Nice answer.  I don&#39;t think that Aeroplane mode directly disables GPS, though, as it disables *transmitters* and GPS devices only receive.  As you point out though, there are still other reasons why GPS might not work.","body":"Nice answer.  I don&#39;t think that Aeroplane mode directly disables GPS, though, as it disables <i>transmitters</i> and GPS devices only receive.  As you point out though, there are still other reasons why GPS might not work."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1392311013,"post_id":21760337,"comment_id":32916693,"body_markdown":"@AndrewAylett: &quot;I don&#39;t think that Aeroplane mode directly disables GPS&quot; -- good point, and I&#39;ve added a strikethrough to my answer for that. Thanks!","body":"@AndrewAylett: &quot;I don&#39;t think that Aeroplane mode directly disables GPS&quot; -- good point, and I&#39;ve added a strikethrough to my answer for that. Thanks!"},{"owner":{"account_id":1188022,"reputation":2187,"user_id":1161573,"accept_rate":68,"display_name":"ScottyB"},"score":0,"creation_date":1392317330,"post_id":21760337,"comment_id":32920804,"body_markdown":"Thanks for the info. Looks like SNTP is the way to go, and if that fails, currentTimeMillis() is the best (only?) alternative.","body":"Thanks for the info. Looks like SNTP is the way to go, and if that fails, currentTimeMillis() is the best (only?) alternative."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1392317850,"post_id":21760337,"comment_id":32921097,"body_markdown":"@ScottBowers: Well, there&#39;s only one system clock, which is what feeds `currentTimeMillis()`. You&#39;re welcome to try to figure out how to whitelist GPS implementations and try to use GPS time values for devices where that data appears good. At some point, though, you need to weigh how much of this is &quot;gilding the lily&quot; compared to spending that time on other aspects of your app, or on other aspects of your overall business if you&#39;re an independent developer.","body":"@ScottBowers: Well, there&#39;s only one system clock, which is what feeds <code>currentTimeMillis()</code>. You&#39;re welcome to try to figure out how to whitelist GPS implementations and try to use GPS time values for devices where that data appears good. At some point, though, you need to weigh how much of this is &quot;gilding the lily&quot; compared to spending that time on other aspects of your app, or on other aspects of your overall business if you&#39;re an independent developer."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1392310996,"creation_date":1392310056,"answer_id":21760337,"question_id":21759456,"body_markdown":"&gt; Is that possible?\r\n\r\nThat depends upon your definition of &quot;that&quot;.\r\n\r\nSo, let&#39;s examine the rest of your material first...\r\n\r\n&gt; it would start with the GPS\r\n\r\n[GPS times are not especially accurate depending on hardware][1]. I think you&#39;d also need to use an `NmeaListener` to try to parse the time data out of the NMEA sentences directly, as AFAIK `getTime()` on `Location` is the system time, not some GPS time. Also, bear in mind that GPS access is not universal (user may have disabled it specifically, &lt;strike&gt;user might have put device in airplane mode,&lt;/strike&gt; user may be in a large building with no available GPS signals).\r\n\r\n&gt; fall back to SNTP\r\n\r\nThere are plenty of SNTP client code bits out there that you can try. Bear in mind that Internet connectivity is not universal (device may be WiFi-only outside of any known access point, user might have put device in airplane mode, device may be mobile-data-capable but have no signal strength in current location).\r\n\r\n&gt; if that doesn&#39;t work ask Android to refresh its wall clock with via its own SNTP or carrier NITZ\r\n\r\nIt&#39;s conceivable that a rooted device might be able to do this, somehow, but there&#39;s nothing in the Android SDK for ordinary apps to force such a refresh. Bear in mind that connectivity is not universal (see roster in previous paragraph).\r\n\r\nSo, going back to:\r\n\r\n&gt; Is that possible?\r\n\r\nIf &quot;that&quot; is a solution that is guaranteed to work in all cases, then no, it is not possible, as you are not guaranteed any ability to communicate with any time source.\r\n\r\nIf &quot;that&quot; is a solution that is guaranteed to work if the device has Internet connectivity, then you&#39;d need to ask your SNTP client library implementers if they can achieve 100ms accuracy. SNTP is the only one of your strategies that is completely under your control, other than the connectivity issue, as GPS may not be accurate and NITZ isn&#39;t something you manage yourself.\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/android-developers/VwbqlB9ugLg","title":"How do I get the most accurate time with Android?","body":"<blockquote>\n  <p>Is that possible?</p>\n</blockquote>\n\n<p>That depends upon your definition of \"that\".</p>\n\n<p>So, let's examine the rest of your material first...</p>\n\n<blockquote>\n  <p>it would start with the GPS</p>\n</blockquote>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/android-developers/VwbqlB9ugLg\" rel=\"noreferrer\">GPS times are not especially accurate depending on hardware</a>. I think you'd also need to use an <code>NmeaListener</code> to try to parse the time data out of the NMEA sentences directly, as AFAIK <code>getTime()</code> on <code>Location</code> is the system time, not some GPS time. Also, bear in mind that GPS access is not universal (user may have disabled it specifically, <strike>user might have put device in airplane mode,</strike> user may be in a large building with no available GPS signals).</p>\n\n<blockquote>\n  <p>fall back to SNTP</p>\n</blockquote>\n\n<p>There are plenty of SNTP client code bits out there that you can try. Bear in mind that Internet connectivity is not universal (device may be WiFi-only outside of any known access point, user might have put device in airplane mode, device may be mobile-data-capable but have no signal strength in current location).</p>\n\n<blockquote>\n  <p>if that doesn't work ask Android to refresh its wall clock with via its own SNTP or carrier NITZ</p>\n</blockquote>\n\n<p>It's conceivable that a rooted device might be able to do this, somehow, but there's nothing in the Android SDK for ordinary apps to force such a refresh. Bear in mind that connectivity is not universal (see roster in previous paragraph).</p>\n\n<p>So, going back to:</p>\n\n<blockquote>\n  <p>Is that possible?</p>\n</blockquote>\n\n<p>If \"that\" is a solution that is guaranteed to work in all cases, then no, it is not possible, as you are not guaranteed any ability to communicate with any time source.</p>\n\n<p>If \"that\" is a solution that is guaranteed to work if the device has Internet connectivity, then you'd need to ask your SNTP client library implementers if they can achieve 100ms accuracy. SNTP is the only one of your strategies that is completely under your control, other than the connectivity issue, as GPS may not be accurate and NITZ isn't something you manage yourself.</p>\n"},{"tags":[],"owner":{"account_id":7022008,"reputation":6287,"user_id":5380942,"display_name":"Googlian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674741349,"creation_date":1674741349,"answer_id":75247078,"question_id":21759456,"body_markdown":"Simple SNTP Client class for retrieving network time on Android (SNTPClient)\r\n\r\nGet the SNTP Helper class from the below repository\r\n\r\nhttps://github.com/aslamanver/sntp-client-android\r\n\r\nCopy the `SNTPClient.java` into your project, and there you go. It&#39;s ready.\r\n\r\nUsage\r\nRetrieve the time of a specific time zone.\r\n```java\r\nSNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\r\n\r\n    @Override\r\n    public void onTimeResponse(String rawDate, Date date, Exception ex) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nCurrent time zone can be passed to retrieve the current time of the device zone.\r\n\r\n```java\r\nCalendar.getInstance().getTimeZone();\r\n```\r\n\r\nAbout more\r\n\r\nThe output time is formatted according to ISO 8601 format.\r\n&gt; yyyy-MM-dd&#39;T&#39;HH:mm:ssZ\r\n\r\nTime server host is Google\r\n&gt; time.google.com","title":"How do I get the most accurate time with Android?","body":"<p>Simple SNTP Client class for retrieving network time on Android (SNTPClient)</p>\n<p>Get the SNTP Helper class from the below repository</p>\n<p><a href=\"https://github.com/aslamanver/sntp-client-android\" rel=\"nofollow noreferrer\">https://github.com/aslamanver/sntp-client-android</a></p>\n<p>Copy the <code>SNTPClient.java</code> into your project, and there you go. It's ready.</p>\n<p>Usage\nRetrieve the time of a specific time zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\n\n    @Override\n    public void onTimeResponse(String rawDate, Date date, Exception ex) {\n\n    }\n});\n</code></pre>\n<p>Current time zone can be passed to retrieve the current time of the device zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar.getInstance().getTimeZone();\n</code></pre>\n<p>About more</p>\n<p>The output time is formatted according to ISO 8601 format.</p>\n<blockquote>\n<p>yyyy-MM-dd'T'HH:mm:ssZ</p>\n</blockquote>\n<p>Time server host is Google</p>\n<blockquote>\n<p>time.google.com</p>\n</blockquote>\n"}],"owner":{"account_id":1188022,"reputation":2187,"user_id":1161573,"accept_rate":68,"display_name":"ScottyB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5039,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":21760337,"answer_count":2,"score":8,"last_activity_date":1674741349,"creation_date":1392307741,"question_id":21759456,"body_markdown":"I really don&#39;t think this question is a duplicate.  \r\nMost answers to similar questions say to use System.currentTimeMillis() as the most accurate time, but I&#39;ve noticed that two Android devices side-by-side may be off up to 5 seconds or more from each other or (more importantly) the real time, and I believe currentTimeMillis() will reflect that difference.\r\n\r\nSo what I&#39;m really looking for is a comprehensive solution to get the most **accurate** time possible in a given moment.  \r\nFor example, it would start with the GPS and, if that&#39;s not available or there&#39;s no signal, fall back to SNTP, or if that doesn&#39;t work ask Android to refresh its wall clock with via its own SNTP or carrier NITZ.\r\n\r\nMy goal is accuracy within .1 seconds.  \r\nIs that possible?  \r\nThanks.\r\n","title":"How do I get the most accurate time with Android?","body":"<p>I really don't think this question is a duplicate.<br>\nMost answers to similar questions say to use System.currentTimeMillis() as the most accurate time, but I've noticed that two Android devices side-by-side may be off up to 5 seconds or more from each other or (more importantly) the real time, and I believe currentTimeMillis() will reflect that difference.</p>\n\n<p>So what I'm really looking for is a comprehensive solution to get the most <strong>accurate</strong> time possible in a given moment.<br>\nFor example, it would start with the GPS and, if that's not available or there's no signal, fall back to SNTP, or if that doesn't work ask Android to refresh its wall clock with via its own SNTP or carrier NITZ.</p>\n\n<p>My goal is accuracy within .1 seconds.<br>\nIs that possible?<br>\nThanks.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674741300,"creation_date":1674741300,"answer_id":75247067,"question_id":75246264,"body_markdown":"With Jmx / MBean you can get that kind of info. Java process will run as fast as the CPU limit. So that measurement doesn&#39;t make sense on different machine. \r\n\r\nTo have an idea you need to develop on docker with CPU limits and check wall clock to validate requirement of the service with load tests like gatling https://gatling.io/.","title":"Getting cpu usage by process within container with limits","body":"<p>With Jmx / MBean you can get that kind of info. Java process will run as fast as the CPU limit. So that measurement doesn't make sense on different machine.</p>\n<p>To have an idea you need to develop on docker with CPU limits and check wall clock to validate requirement of the service with load tests like gatling <a href=\"https://gatling.io/\" rel=\"nofollow noreferrer\">https://gatling.io/</a>.</p>\n"}],"owner":{"account_id":7023980,"reputation":4823,"user_id":5382150,"accept_rate":86,"display_name":"Gilgamesz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674741300,"creation_date":1674736828,"question_id":75246264,"body_markdown":"Do you know whether exist a library for Java that makes it possible to get recent CPU usage, let&#39;s say for the last few seconds?\r\n\r\nThis library should work on different OSes (Mac, Linux, Windows) and be container-aware - let&#39;s say that our JVM was run in container and CPU was limited to 1000 ticks per any period. Then, cpu usage by process should be relative to the limit.","title":"Getting cpu usage by process within container with limits","body":"<p>Do you know whether exist a library for Java that makes it possible to get recent CPU usage, let's say for the last few seconds?</p>\n<p>This library should work on different OSes (Mac, Linux, Windows) and be container-aware - let's say that our JVM was run in container and CPU was limited to 1000 ticks per any period. Then, cpu usage by process should be relative to the limit.</p>\n"},{"tags":["java","spring","hibernate","hibernate-onetomany"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674742923,"post_id":75247052,"comment_id":132781918,"body_markdown":"I would think that `SistemaEntidad sistema = this.tablasServicio.buscarSistemaByIdEntidad(sistemaId);` causes the problem, as that entity has multiple lazily fetched collections. If lazy fetched, the collection is a proxy only that has not been initialized. You could try to force initialization using `Hibernate.initialize()`","body":"I would think that <code>SistemaEntidad sistema = this.tablasServicio.buscarSistemaByIdEntidad(sistemaId);</code> causes the problem, as that entity has multiple lazily fetched collections. If lazy fetched, the collection is a proxy only that has not been initialized. You could try to force initialization using <code>Hibernate.initialize()</code>"},{"owner":{"account_id":27626965,"reputation":1,"user_id":21086770,"display_name":"Samuelpi"},"score":0,"creation_date":1674747744,"post_id":75247052,"comment_id":132783757,"body_markdown":"I have tried with Hibernate.initialize to every lazy collection of SistemaEntidad. Now the error is: `org.hibernate.PersistentObjectException: detached entity passed to persist: es.sjtr.persistencia.TipoSistemaEntidad`...","body":"I have tried with Hibernate.initialize to every lazy collection of SistemaEntidad. Now the error is: <code>org.hibernate.PersistentObjectException: detached entity passed to persist: es.sjtr.persistencia.TipoSistemaEntidad</code>..."},{"owner":{"account_id":27626965,"reputation":1,"user_id":21086770,"display_name":"Samuelpi"},"score":0,"creation_date":1674748094,"post_id":75247052,"comment_id":132783901,"body_markdown":"To avoid detached entity error, I have changed on SistemaEntidad all cascadeType.All to cascadeType.Merge. Now the problem is Hibernate is trying to insert on table SISTEMAS, but that is wrong because that SISTEMA exists, so PK constrsint violation is throw","body":"To avoid detached entity error, I have changed on SistemaEntidad all cascadeType.All to cascadeType.Merge. Now the problem is Hibernate is trying to insert on table SISTEMAS, but that is wrong because that SISTEMA exists, so PK constrsint violation is throw"},{"owner":{"account_id":27626965,"reputation":1,"user_id":21086770,"display_name":"Samuelpi"},"score":0,"creation_date":1674804545,"post_id":75247052,"comment_id":132795109,"body_markdown":"Finally resolved calling to Hibernate.initialize just before persisting DestinatariosAlertasEntidad. Thanks for your help!","body":"Finally resolved calling to Hibernate.initialize just before persisting DestinatariosAlertasEntidad. Thanks for your help!"}],"owner":{"account_id":27626965,"reputation":1,"user_id":21086770,"display_name":"Samuelpi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674741212,"creation_date":1674741212,"question_id":75247052,"body_markdown":"I have googled a lot, but I have not found any solution. Error showed in the log:\r\n\r\n```\r\norg.hibernate.PersistentObjectException: uninitialized proxy passed to persist()\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:99)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:762)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:755)\r\n\tat org.hibernate.engine.spi.CascadingAction$7.cascade(CascadingAction.java:315)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:399)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:342)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:424)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:263)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:208)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:151)\r\n```\r\n\r\nHibernate querys in the log:\r\n\r\n```\r\n(SqlStatementLogger.java:104) - insert into DEST_ALERTAS (EMAIL, ID_DESTINATARIO) values (?, ?)\r\n(SqlStatementLogger.java:104) - update DEST_ALERTAS_SISTEMA set ACTIVO=? where ID_DESTINATARIO=? and ID_SISTEMA=?\r\n```\r\nI am inserting a new DEST_ALERTAS, so the first insert is ok, and **the update is wrong, it should also be a insert**.\r\n\r\nMy code: \r\n\r\n**DEST_ALERTAS entity**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;DEST_ALERTAS&quot;)\r\npublic class DestinatariosAlertasEntidad implements Serializable {\r\n\r\n \r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;Identificador_DEST_ALERTAS_PK&quot;)\r\n  @SequenceGenerator(name = &quot;Identificador_DEST_ALERTAS_PK&quot;, sequenceName = &quot;SEC_GI_DEST_ALERTAS&quot;, allocationSize = 1)\r\n  @Column(name = &quot;ID_DESTINATARIO&quot;, unique = true, nullable = false)\r\n  private int idDestinatario;\r\n\r\n  @Column(name = &quot;EMAIL&quot;, length = 100)\r\n  private String email;\r\n\r\n  @OneToMany(mappedBy = &quot;destinatario&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  @JsonIgnore\r\n  private Set&lt;DestinatariosAlertasSistemaEntidad&gt; destinatarioSistema = new HashSet&lt;DestinatariosAlertasSistemaEntidad&gt;();\r\n  \r\n\r\n```\r\n\r\n**DEST_ALERTAS_SISTEMA entity**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;DEST_ALERTAS_SISTEMA&quot;)\r\npublic class DestinatariosAlertasSistemaEntidad implements Serializable {\r\n\r\n\r\n  private static final long serialVersionUID = 1L;\r\n  \r\n  @EmbeddedId\r\n  private DestinatarioSistemaKey clave;\r\n\r\n  @MapsId(&quot;idSistema&quot;)\r\n  @ManyToOne(fetch = FetchType.EAGER)\r\n  @JoinColumn(name = &quot;ID_SISTEMA&quot;, referencedColumnName = &quot;ID_SISTEMA&quot;, insertable = false, updatable = false)\r\n  private SistemaEntidad sistema;\r\n\r\n  @MapsId(&quot;idDestinatario&quot;)\r\n  @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;ID_DESTINATARIO&quot;, referencedColumnName = &quot;ID_DESTINATARIO&quot;, insertable = false, updatable = false)\r\n  private DestinatariosAlertasEntidad destinatario;\r\n\r\n\r\n```\r\n\r\nClass used to map the composite key is **DestinatarioSistemaKey**\r\n\r\n```\r\n@Embeddable\r\npublic class DestinatarioSistemaKey implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(name = &quot;ID_SISTEMA&quot;)\r\n\tprivate Integer idSistema;\r\n\t\r\n\t@Column(name = &quot;ID_DESTINATARIO&quot;)\r\n\tprivate Integer idDestinatario;\r\n```\r\n\r\n**SISTEMAS entity class**:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SISTEMAS&quot;)\r\npublic class SistemaEntidad implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Id\r\n  @Column(name = &quot;ID_SISTEMA&quot;, unique = true, nullable = false, precision = 10)\r\n  private Integer id;\r\n\r\n  @OneToMany(mappedBy = &quot;sistema&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n  private Set&lt;SistemaMotivoEntidad&gt; motivos = new HashSet&lt;SistemaMotivoEntidad&gt;();\r\n\r\n  @OneToMany(mappedBy = &quot;sistema&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  private Set&lt;SistemaCausaEntidad&gt; causas = new HashSet&lt;SistemaCausaEntidad&gt;();\r\n\r\n  @OneToMany(mappedBy = &quot;sistema&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  private Set&lt;SistemaProblemaEntidad&gt; problemas = new HashSet&lt;SistemaProblemaEntidad&gt;();\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;ID_TIPO_SISTEMA&quot;)\r\n  private TipoSistemaEntidad tipo;\r\n\r\n```\r\n\r\nMy controller is:\r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;/creaDestinatariosAlertas&quot;, method = RequestMethod.POST)\r\n  public String creaDestinatariosAlertas(\r\n      @Validated @ModelAttribute(&quot;filtro&quot;) FiltroDestinatarioSistemaAlertas usuarioAlerta,\r\n      Model model, RedirectAttributes flash, SessionStatus status, HttpServletRequest request, BindingResult result) {\r\n    \r\n    if (result.hasErrors()) {\r\n      return VISTA_CREACION_DESTINATARIOS_ALERTAS;\r\n    }\r\n    \r\n    DestinatariosAlertasEntidad entidad = new DestinatariosAlertasEntidad();\r\n    try {\r\n      entidad.setEmail(usuarioAlerta.getEmail());\r\n      entidad.setDestinatarioSistema(obtenerListaEntidad(usuarioAlerta.getSistemas(), entidad));\r\n      alertasServicio.guardarDestinatario(entidad);\r\n    } catch (Exception e) {\r\n      logger.error(&quot; Ha fallado a la hora de crear un destinatario. &quot; + e.getMessage() + &quot; - &quot; + e);\r\n    }\r\n    String mensajeFlash = (entidad.getIdDestinatario() != 0) ? &quot;Destinatario Creado con &#233;xito!&quot;\r\n        : &quot;No se ha podido crear el Destinatario.!&quot;;\r\n    flash.addFlashAttribute(SUCCESS, mensajeFlash);\r\n\r\n    // Se procede a borrar la sesion.\r\n    status.setComplete();\r\n\r\n    return OK;\r\n  }\r\n\r\n\r\n  private Set&lt;DestinatariosAlertasSistemaEntidad&gt; obtenerListaEntidad(List&lt;Integer&gt; lista, DestinatariosAlertasEntidad usuarioAlerta) {\r\n\r\n    Set&lt;DestinatariosAlertasSistemaEntidad&gt; sistemas = new HashSet&lt;DestinatariosAlertasSistemaEntidad&gt;();\r\n    \r\n    for (Integer sistemaId:lista) {\r\n      //Get sistema from DB\r\n      SistemaEntidad sistema = this.tablasServicio.buscarSistemaByIdEntidad(sistemaId);\r\n      \r\n      //Composite key creation\r\n      DestinatarioSistemaKey key = new DestinatarioSistemaKey();\r\n      key.setIdDestinatario(usuarioAlerta.getIdDestinatario());\r\n      key.setIdSistema(sistemaId);\r\n      \r\n      DestinatariosAlertasSistemaEntidad entidad = new DestinatariosAlertasSistemaEntidad();\r\n      entidad.setClave(key);\r\n      entidad.setDestinatario(usuarioAlerta);\r\n      entidad.setSistema(sistema);\r\n      entidad.setActivo(true);\r\n      \r\n      sistemas.add(entidad);\r\n    }\r\n    \r\n    return sistemas;\r\n  }\r\n\r\n```\r\nAlertasServicio is an interface for calling RepoClass. What RepoClass does is: *this.persist(destinatarioAlertasEntidad);*\r\n\r\nAny help appreciated.\r\n\r\nSorry for the spanish code!\r\n\r\nI have tried deleting cascades on SistemaEntidad , but same result.","title":"@OneToMany relationship with @EmbeddedId, giving uninitialized proxy passed to persist()","body":"<p>I have googled a lot, but I have not found any solution. Error showed in the log:</p>\n<pre><code>org.hibernate.PersistentObjectException: uninitialized proxy passed to persist()\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:99)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:762)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:755)\n    at org.hibernate.engine.spi.CascadingAction$7.cascade(CascadingAction.java:315)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:399)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:342)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:424)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:263)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:208)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:151)\n</code></pre>\n<p>Hibernate querys in the log:</p>\n<pre><code>(SqlStatementLogger.java:104) - insert into DEST_ALERTAS (EMAIL, ID_DESTINATARIO) values (?, ?)\n(SqlStatementLogger.java:104) - update DEST_ALERTAS_SISTEMA set ACTIVO=? where ID_DESTINATARIO=? and ID_SISTEMA=?\n</code></pre>\n<p>I am inserting a new DEST_ALERTAS, so the first insert is ok, and <strong>the update is wrong, it should also be a insert</strong>.</p>\n<p>My code:</p>\n<p><strong>DEST_ALERTAS entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;DEST_ALERTAS&quot;)\npublic class DestinatariosAlertasEntidad implements Serializable {\n\n \n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;Identificador_DEST_ALERTAS_PK&quot;)\n  @SequenceGenerator(name = &quot;Identificador_DEST_ALERTAS_PK&quot;, sequenceName = &quot;SEC_GI_DEST_ALERTAS&quot;, allocationSize = 1)\n  @Column(name = &quot;ID_DESTINATARIO&quot;, unique = true, nullable = false)\n  private int idDestinatario;\n\n  @Column(name = &quot;EMAIL&quot;, length = 100)\n  private String email;\n\n  @OneToMany(mappedBy = &quot;destinatario&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  @JsonIgnore\n  private Set&lt;DestinatariosAlertasSistemaEntidad&gt; destinatarioSistema = new HashSet&lt;DestinatariosAlertasSistemaEntidad&gt;();\n  \n\n</code></pre>\n<p><strong>DEST_ALERTAS_SISTEMA entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;DEST_ALERTAS_SISTEMA&quot;)\npublic class DestinatariosAlertasSistemaEntidad implements Serializable {\n\n\n  private static final long serialVersionUID = 1L;\n  \n  @EmbeddedId\n  private DestinatarioSistemaKey clave;\n\n  @MapsId(&quot;idSistema&quot;)\n  @ManyToOne(fetch = FetchType.EAGER)\n  @JoinColumn(name = &quot;ID_SISTEMA&quot;, referencedColumnName = &quot;ID_SISTEMA&quot;, insertable = false, updatable = false)\n  private SistemaEntidad sistema;\n\n  @MapsId(&quot;idDestinatario&quot;)\n  @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;ID_DESTINATARIO&quot;, referencedColumnName = &quot;ID_DESTINATARIO&quot;, insertable = false, updatable = false)\n  private DestinatariosAlertasEntidad destinatario;\n\n\n</code></pre>\n<p>Class used to map the composite key is <strong>DestinatarioSistemaKey</strong></p>\n<pre><code>@Embeddable\npublic class DestinatarioSistemaKey implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;ID_SISTEMA&quot;)\n    private Integer idSistema;\n    \n    @Column(name = &quot;ID_DESTINATARIO&quot;)\n    private Integer idDestinatario;\n</code></pre>\n<p><strong>SISTEMAS entity class</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;SISTEMAS&quot;)\npublic class SistemaEntidad implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @Column(name = &quot;ID_SISTEMA&quot;, unique = true, nullable = false, precision = 10)\n  private Integer id;\n\n  @OneToMany(mappedBy = &quot;sistema&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n  private Set&lt;SistemaMotivoEntidad&gt; motivos = new HashSet&lt;SistemaMotivoEntidad&gt;();\n\n  @OneToMany(mappedBy = &quot;sistema&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  private Set&lt;SistemaCausaEntidad&gt; causas = new HashSet&lt;SistemaCausaEntidad&gt;();\n\n  @OneToMany(mappedBy = &quot;sistema&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  private Set&lt;SistemaProblemaEntidad&gt; problemas = new HashSet&lt;SistemaProblemaEntidad&gt;();\n\n  @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;ID_TIPO_SISTEMA&quot;)\n  private TipoSistemaEntidad tipo;\n\n</code></pre>\n<p>My controller is:</p>\n<pre><code>@RequestMapping(value = &quot;/creaDestinatariosAlertas&quot;, method = RequestMethod.POST)\n  public String creaDestinatariosAlertas(\n      @Validated @ModelAttribute(&quot;filtro&quot;) FiltroDestinatarioSistemaAlertas usuarioAlerta,\n      Model model, RedirectAttributes flash, SessionStatus status, HttpServletRequest request, BindingResult result) {\n    \n    if (result.hasErrors()) {\n      return VISTA_CREACION_DESTINATARIOS_ALERTAS;\n    }\n    \n    DestinatariosAlertasEntidad entidad = new DestinatariosAlertasEntidad();\n    try {\n      entidad.setEmail(usuarioAlerta.getEmail());\n      entidad.setDestinatarioSistema(obtenerListaEntidad(usuarioAlerta.getSistemas(), entidad));\n      alertasServicio.guardarDestinatario(entidad);\n    } catch (Exception e) {\n      logger.error(&quot; Ha fallado a la hora de crear un destinatario. &quot; + e.getMessage() + &quot; - &quot; + e);\n    }\n    String mensajeFlash = (entidad.getIdDestinatario() != 0) ? &quot;Destinatario Creado con éxito!&quot;\n        : &quot;No se ha podido crear el Destinatario.!&quot;;\n    flash.addFlashAttribute(SUCCESS, mensajeFlash);\n\n    // Se procede a borrar la sesion.\n    status.setComplete();\n\n    return OK;\n  }\n\n\n  private Set&lt;DestinatariosAlertasSistemaEntidad&gt; obtenerListaEntidad(List&lt;Integer&gt; lista, DestinatariosAlertasEntidad usuarioAlerta) {\n\n    Set&lt;DestinatariosAlertasSistemaEntidad&gt; sistemas = new HashSet&lt;DestinatariosAlertasSistemaEntidad&gt;();\n    \n    for (Integer sistemaId:lista) {\n      //Get sistema from DB\n      SistemaEntidad sistema = this.tablasServicio.buscarSistemaByIdEntidad(sistemaId);\n      \n      //Composite key creation\n      DestinatarioSistemaKey key = new DestinatarioSistemaKey();\n      key.setIdDestinatario(usuarioAlerta.getIdDestinatario());\n      key.setIdSistema(sistemaId);\n      \n      DestinatariosAlertasSistemaEntidad entidad = new DestinatariosAlertasSistemaEntidad();\n      entidad.setClave(key);\n      entidad.setDestinatario(usuarioAlerta);\n      entidad.setSistema(sistema);\n      entidad.setActivo(true);\n      \n      sistemas.add(entidad);\n    }\n    \n    return sistemas;\n  }\n\n</code></pre>\n<p>AlertasServicio is an interface for calling RepoClass. What RepoClass does is: <em>this.persist(destinatarioAlertasEntidad);</em></p>\n<p>Any help appreciated.</p>\n<p>Sorry for the spanish code!</p>\n<p>I have tried deleting cascades on SistemaEntidad , but same result.</p>\n"},{"tags":["java","android","android-studio","geolocation"],"owner":{"account_id":27627208,"reputation":1,"user_id":21086974,"display_name":"nimesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674741106,"creation_date":1674741106,"question_id":75247033,"body_markdown":"i want my app to sent message with cordinates even when my app is not in ram \r\n\r\n\r\n```\r\npublic class ReceiveSms extends BroadcastReceiver {\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n    SmsManager mySmsManager = SmsManager.getDefault();\r\n    final String password = &quot;pass&quot;;\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context context, @NonNull Intent intent) {\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(context);\r\n\r\n\r\n        Bundle b = intent.getExtras();\r\n        if (intent.getAction().equalsIgnoreCase(&quot;android.provider.Telephony.SMS_RECEIVED&quot;)) {\r\n            Toast.makeText(context, &quot;SmsReceived!&quot;, Toast.LENGTH_SHORT).show();\r\n            if (b != null) {\r\n\r\n                final Object[] pdusObj = (Object[]) b.get(&quot;pdus&quot;);\r\n                SmsMessage[] messages = new SmsMessage[pdusObj.length];\r\n                for (int i = 0; i &lt; messages.length; i++) {\r\n                    String format = b.getString(&quot;format&quot;);\r\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i], format);\r\n                    ///SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\r\n                    String senderNum = messages[i].getOriginatingAddress();\r\n                    String message = messages[i].getMessageBody();//\r\n                    String[] messagess = message.split(&quot; &quot;);\r\n                    if (messagess[0].equalsIgnoreCase(&quot;myhelper&quot;)&amp;&amp;messagess[1].equalsIgnoreCase(password)) {\r\n\r\n                        SmsManager mySmsManager = SmsManager.getDefault();\r\n                        Toast.makeText(context, senderNum + &quot;:&quot; + message, Toast.LENGTH_SHORT).show();\r\n\r\n                        //location\r\n                        if (messagess[2].equalsIgnoreCase(&quot;location&quot;)) {\r\n                            setlocation(senderNum, context);\r\n\r\n                        }\r\n                        else {\r\n                        Toast.makeText(context, &quot;message not found&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nthis is my location function\r\n\r\n\r\n```\r\npublic void setlocation(String phno, Context context) {\r\n\r\n        Toast.makeText(context, &quot;null1&quot;, Toast.LENGTH_SHORT).show();\r\n        final String[] cordinates = new String[2];\r\n        LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n        Toast.makeText(context, &quot;null2&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER) || locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {\r\n            Toast.makeText(context, &quot;null3&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            fusedLocationProviderClient.getLastLocation().addOnCompleteListener(task -&gt; {\r\n                Location location = task.getResult();\r\n                if (location != null) {\r\n\r\n\r\n                    Toast.makeText(context,&quot; null 7&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    mySmsManager.sendTextMessage(phno, null, &quot;latitude = &quot; + location.getLatitude() + &quot; longitude = &quot; + location.getLongitude() + &quot;1&quot;, null, null);\r\n                    Toast.makeText(context,&quot; null 8&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } else {\r\n                    Toast.makeText(context, &quot;null4&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    LocationRequest locationRequest = LocationRequest.create().setPriority(Priority.PRIORITY_HIGH_ACCURACY).setInterval(10000).setFastestInterval(1000).setNumUpdates(1);\r\n                    LocationCallback locationCallback = new LocationCallback() {\r\n\r\n\r\n                        public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                            Location location1 = locationResult.getLastLocation();\r\n\r\n\r\n                            cordinates[0] = String.valueOf(location1.getLatitude());\r\n                            cordinates[1] = String.valueOf(location1.getLongitude());\r\n                            String messages = &quot;latitude = &quot; + cordinates[0] + &quot; longitude = &quot; + cordinates[1] + &quot;2&quot;;\r\n\r\n                            Toast.makeText(context, messages, Toast.LENGTH_SHORT).show();\r\n\r\n                            SmsManager mySmsManager = SmsManager.getDefault();\r\n                            mySmsManager.sendTextMessage(phno, null, messages, null, null);\r\n\r\n\r\n                        }\r\n\r\n                    };\r\n                    fusedLocationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.myLooper());\r\n                }\r\n            });\r\n\r\n        } else {\r\n            Toast.makeText(context, &quot;null5&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            context.startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK));\r\n        }\r\n\r\n    }\r\n```\r\nyou can sell full code in this github repository : https://github.com/Nimeshchandegra/android-spottr.git\r\n\r\nwell I am currently new to android studio so can someone help\r\n\r\n\r\ncurrently the app is sending message with cordinates if the app is on(not even working in background )","title":"want to send location cordinates using text message whenever i get a specific message","body":"<p>i want my app to sent message with cordinates even when my app is not in ram</p>\n<pre><code>public class ReceiveSms extends BroadcastReceiver {\n    FusedLocationProviderClient fusedLocationProviderClient;\n    SmsManager mySmsManager = SmsManager.getDefault();\n    final String password = &quot;pass&quot;;\n\n\n    @Override\n    public void onReceive(Context context, @NonNull Intent intent) {\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(context);\n\n\n        Bundle b = intent.getExtras();\n        if (intent.getAction().equalsIgnoreCase(&quot;android.provider.Telephony.SMS_RECEIVED&quot;)) {\n            Toast.makeText(context, &quot;SmsReceived!&quot;, Toast.LENGTH_SHORT).show();\n            if (b != null) {\n\n                final Object[] pdusObj = (Object[]) b.get(&quot;pdus&quot;);\n                SmsMessage[] messages = new SmsMessage[pdusObj.length];\n                for (int i = 0; i &lt; messages.length; i++) {\n                    String format = b.getString(&quot;format&quot;);\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i], format);\n                    ///SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\n                    String senderNum = messages[i].getOriginatingAddress();\n                    String message = messages[i].getMessageBody();//\n                    String[] messagess = message.split(&quot; &quot;);\n                    if (messagess[0].equalsIgnoreCase(&quot;myhelper&quot;)&amp;&amp;messagess[1].equalsIgnoreCase(password)) {\n\n                        SmsManager mySmsManager = SmsManager.getDefault();\n                        Toast.makeText(context, senderNum + &quot;:&quot; + message, Toast.LENGTH_SHORT).show();\n\n                        //location\n                        if (messagess[2].equalsIgnoreCase(&quot;location&quot;)) {\n                            setlocation(senderNum, context);\n\n                        }\n                        else {\n                        Toast.makeText(context, &quot;message not found&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>this is my location function</p>\n<pre><code>public void setlocation(String phno, Context context) {\n\n        Toast.makeText(context, &quot;null1&quot;, Toast.LENGTH_SHORT).show();\n        final String[] cordinates = new String[2];\n        LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n        Toast.makeText(context, &quot;null2&quot;, Toast.LENGTH_SHORT).show();\n\n        if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER) || locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {\n            Toast.makeText(context, &quot;null3&quot;, Toast.LENGTH_SHORT).show();\n\n            fusedLocationProviderClient.getLastLocation().addOnCompleteListener(task -&gt; {\n                Location location = task.getResult();\n                if (location != null) {\n\n\n                    Toast.makeText(context,&quot; null 7&quot;, Toast.LENGTH_SHORT).show();\n\n                    mySmsManager.sendTextMessage(phno, null, &quot;latitude = &quot; + location.getLatitude() + &quot; longitude = &quot; + location.getLongitude() + &quot;1&quot;, null, null);\n                    Toast.makeText(context,&quot; null 8&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n                    Toast.makeText(context, &quot;null4&quot;, Toast.LENGTH_SHORT).show();\n\n                    LocationRequest locationRequest = LocationRequest.create().setPriority(Priority.PRIORITY_HIGH_ACCURACY).setInterval(10000).setFastestInterval(1000).setNumUpdates(1);\n                    LocationCallback locationCallback = new LocationCallback() {\n\n\n                        public void onLocationResult(@NonNull LocationResult locationResult) {\n                            Location location1 = locationResult.getLastLocation();\n\n\n                            cordinates[0] = String.valueOf(location1.getLatitude());\n                            cordinates[1] = String.valueOf(location1.getLongitude());\n                            String messages = &quot;latitude = &quot; + cordinates[0] + &quot; longitude = &quot; + cordinates[1] + &quot;2&quot;;\n\n                            Toast.makeText(context, messages, Toast.LENGTH_SHORT).show();\n\n                            SmsManager mySmsManager = SmsManager.getDefault();\n                            mySmsManager.sendTextMessage(phno, null, messages, null, null);\n\n\n                        }\n\n                    };\n                    fusedLocationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.myLooper());\n                }\n            });\n\n        } else {\n            Toast.makeText(context, &quot;null5&quot;, Toast.LENGTH_SHORT).show();\n\n            context.startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK));\n        }\n\n    }\n</code></pre>\n<p>you can sell full code in this github repository : <a href=\"https://github.com/Nimeshchandegra/android-spottr.git\" rel=\"nofollow noreferrer\">https://github.com/Nimeshchandegra/android-spottr.git</a></p>\n<p>well I am currently new to android studio so can someone help</p>\n<p>currently the app is sending message with cordinates if the app is on(not even working in background )</p>\n"},{"tags":["java","spring","reactive"],"comments":[{"owner":{"account_id":27619142,"reputation":11,"user_id":21080621,"display_name":"truongt2"},"score":0,"creation_date":1674855878,"post_id":75246809,"comment_id":132810241,"body_markdown":"Is there anyone has information about this?","body":"Is there anyone has information about this?"}],"owner":{"account_id":27619142,"reputation":11,"user_id":21080621,"display_name":"truongt2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674740858,"creation_date":1674739882,"question_id":75246809,"body_markdown":"I am using Spring boot to implement reactive micro-services. However, the reactive code is never executed in lambda function. My implementation as below. publishEventScheduler is created during application start-up. I am using this code together with Kafka to send an event to user micro-service to create user.\r\n\r\nMainServiceApplication.java\r\n```\r\n\r\npublic class MainServiceApplication {\r\n\tprivate final Integer threadPoolSize;\r\n\tprivate final Integer taskQueueSize;\r\n\r\n\tpublic MainServiceApplication(\r\n\t\t@Value(&quot;${app.threadPoolSize:10}&quot;) Integer threadPoolSize,\r\n\t\t@Value(&quot;${app.taskQueueSize:100}&quot;) Integer taskQueueSize) {\r\n\t\tthis.threadPoolSize = threadPoolSize;\r\n\t\tthis.taskQueueSize = taskQueueSize;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Scheduler publishEventScheduler() {\r\n\t\tLOG.info(&quot;Creating a message scheduler with connectionPoolSize = {}&quot;, threadPoolSize);\r\n\t\treturn Schedulers.newBoundedElastic(threadPoolSize, taskQueueSize, &quot;publish-pool&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MainServiceApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nMainIntegration.java\r\nthe function createUser() is called with a POST request from Postman (break point stop at subscribeOn(publishEventScheduler)) but sendMessageUser() is never executed (break point in the function not working) \r\n```\r\n@Component\r\npublic class MainIntegration implements UserService, TodoService {\r\n    private final String todoServiceUrl;\r\n    private final String userServiceUrl;\r\n\r\n    private final WebClient webClient;\r\n    private final StreamBridge streamBridge;\r\n    private final Scheduler publishEventScheduler;\r\n\r\n    public MainIntegration(\r\n        @Qualifier(&quot;publishEventScheduler&quot;) Scheduler publishEventScheduler,\r\n\r\n        WebClient.Builder webClient,\r\n        StreamBridge streamBridge,\r\n\r\n        @Value(&quot;${app.user-service.host}&quot;) String userServiceHost,\r\n        @Value(&quot;${app.user-service.port}&quot;) int userServicePort\r\n    ) {\r\n        this.publishEventScheduler = publishEventScheduler;\r\n        this.webClient = webClient.build();\r\n        this.streamBridge = streamBridge;\r\n\r\n        userServiceUrl = &quot;http://&quot; + userServiceHost + &quot;:&quot; + userServicePort + &quot;/user&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;User&gt; createUser(User body) {\r\n        return Mono.fromCallable(() -&gt; {\r\n            sendMessageUser(&quot;user-out-0&quot;, new Event&lt;Event.Type, String, User &gt;(Event.Type.CREATE, body.getUserName(), body));\r\n            return body;\r\n        }).subscribeOn(publishEventScheduler);\r\n    }\r\n\r\n    private void sendMessageUser(String bindingName, Event&lt;Type, String, User&gt; event) {\r\n        LOG.debug(&quot;Sending a {} message to {}&quot;, bindingName, event.getEventType());\r\n        Message&lt;Event&lt;Type, String, User&gt;&gt; message = MessageBuilder.withPayload(event)\r\n            .setHeader(&quot;partitionKey&quot;, event.getKey())\r\n            .build();\r\n        streamBridge.send(bindingName, message);\r\n    }\r\n```\r\n\r\napplication.yaml\r\n\r\n```\r\nserver.port: 7000\r\nserver.error.include-message: always\r\n\r\napp:\r\n  user-service:\r\n    host: localhost\r\n    port: 7002\r\n\r\nspring:\r\n  cloud:\r\n    stream:\r\n      default-binder: kafka\r\n      default-contentType: application/json\r\n      bindings:\r\n        user-out-0:\r\n          destination: user-service\r\n          producer:\r\n            required-groups: auditGroup\r\n\r\n      kafka:\r\n        binder:\r\n          brokers: 127.0.0.1\r\n          defaultBrokerPort: 2181\r\n      rabbitmq:\r\n        host: 127.0.0.1\r\n        port: 5672\r\n        username: guest\r\n        password: guest\r\n\r\n```\r\n","title":"Why the the reactive code is not executed in spring-boot?","body":"<p>I am using Spring boot to implement reactive micro-services. However, the reactive code is never executed in lambda function. My implementation as below. publishEventScheduler is created during application start-up. I am using this code together with Kafka to send an event to user micro-service to create user.</p>\n<p>MainServiceApplication.java</p>\n<pre><code>\npublic class MainServiceApplication {\n    private final Integer threadPoolSize;\n    private final Integer taskQueueSize;\n\n    public MainServiceApplication(\n        @Value(&quot;${app.threadPoolSize:10}&quot;) Integer threadPoolSize,\n        @Value(&quot;${app.taskQueueSize:100}&quot;) Integer taskQueueSize) {\n        this.threadPoolSize = threadPoolSize;\n        this.taskQueueSize = taskQueueSize;\n    }\n\n    @Bean\n    public Scheduler publishEventScheduler() {\n        LOG.info(&quot;Creating a message scheduler with connectionPoolSize = {}&quot;, threadPoolSize);\n        return Schedulers.newBoundedElastic(threadPoolSize, taskQueueSize, &quot;publish-pool&quot;);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>MainIntegration.java\nthe function createUser() is called with a POST request from Postman (break point stop at subscribeOn(publishEventScheduler)) but sendMessageUser() is never executed (break point in the function not working)</p>\n<pre><code>@Component\npublic class MainIntegration implements UserService, TodoService {\n    private final String todoServiceUrl;\n    private final String userServiceUrl;\n\n    private final WebClient webClient;\n    private final StreamBridge streamBridge;\n    private final Scheduler publishEventScheduler;\n\n    public MainIntegration(\n        @Qualifier(&quot;publishEventScheduler&quot;) Scheduler publishEventScheduler,\n\n        WebClient.Builder webClient,\n        StreamBridge streamBridge,\n\n        @Value(&quot;${app.user-service.host}&quot;) String userServiceHost,\n        @Value(&quot;${app.user-service.port}&quot;) int userServicePort\n    ) {\n        this.publishEventScheduler = publishEventScheduler;\n        this.webClient = webClient.build();\n        this.streamBridge = streamBridge;\n\n        userServiceUrl = &quot;http://&quot; + userServiceHost + &quot;:&quot; + userServicePort + &quot;/user&quot;;\n    }\n\n    @Override\n    public Mono&lt;User&gt; createUser(User body) {\n        return Mono.fromCallable(() -&gt; {\n            sendMessageUser(&quot;user-out-0&quot;, new Event&lt;Event.Type, String, User &gt;(Event.Type.CREATE, body.getUserName(), body));\n            return body;\n        }).subscribeOn(publishEventScheduler);\n    }\n\n    private void sendMessageUser(String bindingName, Event&lt;Type, String, User&gt; event) {\n        LOG.debug(&quot;Sending a {} message to {}&quot;, bindingName, event.getEventType());\n        Message&lt;Event&lt;Type, String, User&gt;&gt; message = MessageBuilder.withPayload(event)\n            .setHeader(&quot;partitionKey&quot;, event.getKey())\n            .build();\n        streamBridge.send(bindingName, message);\n    }\n</code></pre>\n<p>application.yaml</p>\n<pre><code>server.port: 7000\nserver.error.include-message: always\n\napp:\n  user-service:\n    host: localhost\n    port: 7002\n\nspring:\n  cloud:\n    stream:\n      default-binder: kafka\n      default-contentType: application/json\n      bindings:\n        user-out-0:\n          destination: user-service\n          producer:\n            required-groups: auditGroup\n\n      kafka:\n        binder:\n          brokers: 127.0.0.1\n          defaultBrokerPort: 2181\n      rabbitmq:\n        host: 127.0.0.1\n        port: 5672\n        username: guest\n        password: guest\n\n</code></pre>\n"},{"tags":["java","maven","quarkus","bitbucket-pipelines","azure-container-registry"],"owner":{"account_id":9109578,"reputation":1,"user_id":6778812,"display_name":"Zalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674740827,"creation_date":1674740827,"question_id":75246993,"body_markdown":"I have used Quarkus and bitbucket pipelines for more than 2 years and it normally functions very well. From Quarkus version 2.15 I got a problem when pushing the tag/container to Azure Container Registry. The error is:\r\n\r\n\r\n```\r\n [io.quarkus.deployment.util.ExecUtil] tag does not exist: my-company.azurecr.io/my-app:1.2.30\r\n```\r\n\r\nThe only difference from when it functions is that the Quarkus version is 2.15 and 2.16.\r\n\r\nHere is the pipeline:\r\n\r\n\r\n```\r\nimage: maven:3.8.7\r\npipelines:\r\n  branches:\r\n    master:\r\n      - step:\r\n          size: 2x\r\n          name: Build and Deploy Artifacts\r\n          caches:\r\n            - maven\r\n            - docker\r\n          services:\r\n            - docker\r\n          script:\r\n            - git config --global user.email &quot;pipeline@bitbucket.com&quot;\r\n            - git config --global user.name &quot;Bitbucket Pipeline&quot;\r\n            - git remote set-url origin ${BITBUCKET_GIT_SSH_ORIGIN}\r\n\r\n            - docker login my-company.azurecr.io -u $AZURE_CLIENT_ID --password $AZURE_SECRET\r\n\r\n            - mvn -B -DdryRun=true release:prepare -Dbitbucket.url=${BITBUCKET_GIT_SSH_ORIGIN}\r\n            - mvn -B release:clean release:prepare -Dbitbucket.url=${BITBUCKET_GIT_SSH_ORIGIN} -DscmCommentPrefix=&quot;[skip ci] &quot; -Darguments=&quot;-Dmaven.test.skip=true&quot;\r\n            - mvn -B release:perform -Dbitbucket.url=${BITBUCKET_GIT_SSH_ORIGIN} -DscmCommentPrefix=&quot;[skip ci] &quot; -Darguments=&quot;-Dmaven.deploy.skip=true -Dmaven.test.skip=true -Pnative -Dquarkus.native.container-build=true -Dquarkus.container-image.push=true -Dquarkus.native.native-image-xmx=4g -Dquarkus.container-image.additional-tags=latest&quot;\r\n            - git status\r\n            - git push\r\n\r\ndefinitions:\r\n  services:\r\n    docker:\r\n      memory: 7100\r\n```\r\n\r\n\r\nStack trace:\r\n\r\n\r\n```\r\n[INFO] [INFO] [io.quarkus.deployment.util.ExecUtil] tag does not exist: my-company.azurecr.io/my-app:1.2.30\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] BUILD FAILURE\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] Total time:  04:50 min\r\n[INFO] [INFO] Finished at: 2023-01-26T10:43:00Z\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.16.0.Final:build (default) on project integration-experian: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n[INFO] [ERROR] \t[error]: Build step io.quarkus.container.image.docker.deployment.DockerProcessor#dockerBuildFromNativeImage threw an exception: java.lang.RuntimeException: Execution of &#39;docker push $ACR_HELM_REPOinsight.azurecr.io/si-integration-experian:1.2.30&#39; failed. See docker output for more details\r\n[INFO] [ERROR] \tat io.quarkus.container.image.docker.deployment.DockerProcessor.dockerException(DockerProcessor.java:338)\r\n[INFO] [ERROR] \tat io.quarkus.container.image.docker.deployment.DockerProcessor.pushImage(DockerProcessor.java:331)\r\n[INFO] [ERROR] \tat io.quarkus.container.image.docker.deployment.DockerProcessor.lambda$createContainerImage$3(DockerProcessor.java:229)\r\n[INFO] [ERROR] \tat java.base/java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Streams.java:411)\r\n[INFO] [ERROR] \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n[INFO] [ERROR] \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n[INFO] [ERROR] \tat io.quarkus.container.image.docker.deployment.DockerProcessor.createContainerImage(DockerProcessor.java:229)\r\n[INFO] [ERROR] \tat io.quarkus.container.image.docker.deployment.DockerProcessor.dockerBuildFromNativeImage(DockerProcessor.java:153)\r\n[INFO] [ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[INFO] [ERROR] \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[INFO] [ERROR] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[INFO] [ERROR] \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[INFO] [ERROR] \tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n[INFO] [ERROR] \tat io.quarkus.builder.BuildContext.run(BuildContext.java:281)\r\n[INFO] [ERROR] \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n[INFO] [ERROR] \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n[INFO] [ERROR] \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n[INFO] [ERROR] \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[INFO] [ERROR] \tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n[INFO] [ERROR] -&gt; [Help 1]\r\n[INFO] [ERROR] \r\n[INFO] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[INFO] [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[INFO] [ERROR] \r\n[INFO] [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[INFO] [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\n\r\nI just tried to build the Quarkus app using bitbucket pipeline and push it to ACR.","title":"Error: &quot;tag does not exist&quot; when using maven release:perform to push container to ACR in bitbucket pipelines","body":"<p>I have used Quarkus and bitbucket pipelines for more than 2 years and it normally functions very well. From Quarkus version 2.15 I got a problem when pushing the tag/container to Azure Container Registry. The error is:</p>\n<pre><code> [io.quarkus.deployment.util.ExecUtil] tag does not exist: my-company.azurecr.io/my-app:1.2.30\n</code></pre>\n<p>The only difference from when it functions is that the Quarkus version is 2.15 and 2.16.</p>\n<p>Here is the pipeline:</p>\n<pre><code>image: maven:3.8.7\npipelines:\n  branches:\n    master:\n      - step:\n          size: 2x\n          name: Build and Deploy Artifacts\n          caches:\n            - maven\n            - docker\n          services:\n            - docker\n          script:\n            - git config --global user.email &quot;pipeline@bitbucket.com&quot;\n            - git config --global user.name &quot;Bitbucket Pipeline&quot;\n            - git remote set-url origin ${BITBUCKET_GIT_SSH_ORIGIN}\n\n            - docker login my-company.azurecr.io -u $AZURE_CLIENT_ID --password $AZURE_SECRET\n\n            - mvn -B -DdryRun=true release:prepare -Dbitbucket.url=${BITBUCKET_GIT_SSH_ORIGIN}\n            - mvn -B release:clean release:prepare -Dbitbucket.url=${BITBUCKET_GIT_SSH_ORIGIN} -DscmCommentPrefix=&quot;[skip ci] &quot; -Darguments=&quot;-Dmaven.test.skip=true&quot;\n            - mvn -B release:perform -Dbitbucket.url=${BITBUCKET_GIT_SSH_ORIGIN} -DscmCommentPrefix=&quot;[skip ci] &quot; -Darguments=&quot;-Dmaven.deploy.skip=true -Dmaven.test.skip=true -Pnative -Dquarkus.native.container-build=true -Dquarkus.container-image.push=true -Dquarkus.native.native-image-xmx=4g -Dquarkus.container-image.additional-tags=latest&quot;\n            - git status\n            - git push\n\ndefinitions:\n  services:\n    docker:\n      memory: 7100\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>[INFO] [INFO] [io.quarkus.deployment.util.ExecUtil] tag does not exist: my-company.azurecr.io/my-app:1.2.30\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] BUILD FAILURE\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] Total time:  04:50 min\n[INFO] [INFO] Finished at: 2023-01-26T10:43:00Z\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.16.0.Final:build (default) on project integration-experian: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[INFO] [ERROR]  [error]: Build step io.quarkus.container.image.docker.deployment.DockerProcessor#dockerBuildFromNativeImage threw an exception: java.lang.RuntimeException: Execution of 'docker push $ACR_HELM_REPOinsight.azurecr.io/si-integration-experian:1.2.30' failed. See docker output for more details\n[INFO] [ERROR]  at io.quarkus.container.image.docker.deployment.DockerProcessor.dockerException(DockerProcessor.java:338)\n[INFO] [ERROR]  at io.quarkus.container.image.docker.deployment.DockerProcessor.pushImage(DockerProcessor.java:331)\n[INFO] [ERROR]  at io.quarkus.container.image.docker.deployment.DockerProcessor.lambda$createContainerImage$3(DockerProcessor.java:229)\n[INFO] [ERROR]  at java.base/java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Streams.java:411)\n[INFO] [ERROR]  at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n[INFO] [ERROR]  at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n[INFO] [ERROR]  at io.quarkus.container.image.docker.deployment.DockerProcessor.createContainerImage(DockerProcessor.java:229)\n[INFO] [ERROR]  at io.quarkus.container.image.docker.deployment.DockerProcessor.dockerBuildFromNativeImage(DockerProcessor.java:153)\n[INFO] [ERROR]  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [ERROR]  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [ERROR]  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [ERROR]  at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [ERROR]  at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n[INFO] [ERROR]  at io.quarkus.builder.BuildContext.run(BuildContext.java:281)\n[INFO] [ERROR]  at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[INFO] [ERROR]  at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n[INFO] [ERROR]  at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n[INFO] [ERROR]  at java.base/java.lang.Thread.run(Thread.java:833)\n[INFO] [ERROR]  at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n[INFO] [ERROR] -&gt; [Help 1]\n[INFO] [ERROR] \n[INFO] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[INFO] [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[INFO] [ERROR] \n[INFO] [ERROR] For more information about the errors and possible solutions, please read the following articles:\n[INFO] [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I just tried to build the Quarkus app using bitbucket pipeline and push it to ACR.</p>\n"},{"tags":["java","amazon-ec2","jboss","wildfly","cicd"],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674740695,"creation_date":1674740695,"question_id":75246965,"body_markdown":"I&#39;m trying do deploy a java spring project on ec2 but the deployment fails.\r\nOn Jenkins I get this message:\r\n\r\n    &quot;Failed to connect to the host via ssh: Shared connection to *ip* closed.&quot;, &quot;unreachable&quot;: true\r\n\r\nchecking the server logs, I found this error:\r\n\r\n    ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0022: \r\n    Deploy of deployment &quot;*.war&quot; was rolled back with no failure message","title":"deployment &quot;.war&quot; was rolled back with no failure message","body":"<p>I'm trying do deploy a java spring project on ec2 but the deployment fails.\nOn Jenkins I get this message:</p>\n<pre><code>&quot;Failed to connect to the host via ssh: Shared connection to *ip* closed.&quot;, &quot;unreachable&quot;: true\n</code></pre>\n<p>checking the server logs, I found this error:</p>\n<pre><code>ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0022: \nDeploy of deployment &quot;*.war&quot; was rolled back with no failure message\n</code></pre>\n"},{"tags":["java","java-ee-8"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1674738210,"post_id":75246450,"comment_id":132780301,"body_markdown":"Why you convert byte[] to String with new String(bytes) ? Maybe try to avoid that.","body":"Why you convert byte[] to String with new String(bytes) ? Maybe try to avoid that."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1674738836,"post_id":75246450,"comment_id":132780512,"body_markdown":"W**? `new String(bytes)`","body":"W**? <code>new String(bytes)</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1674742611,"post_id":75246450,"comment_id":132781788,"body_markdown":"As Thomas said, `new String(bytes)` *corrupts your data.*  Java is not C.  A Java String is *not* a holder of bytes; it holds text.  If you want to send bytes, always send them as a byte array, not as a String.","body":"As Thomas said, <code>new String(bytes)</code> <i>corrupts your data.</i>  Java is not C.  A Java String is <i>not</i> a holder of bytes; it holds text.  If you want to send bytes, always send them as a byte array, not as a String."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674740544,"creation_date":1674740544,"answer_id":75246945,"question_id":75246450,"body_markdown":"A zip file is not a string. You should drop the round trip from byte array to string and back to byte array.\r\n\r\nDeclare your `sendFile()` method as\r\n\r\n    public default void sendFile(byte[] content, String fileName, FileExtension extension, ContentType type, HttpServletResponse response) {\r\n        response.setContentType(type.getExpression());\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + FileUtils.encodeForFileName(fileName) + &quot;.&quot; + extension.getExtension() + &quot;\\&quot;&quot;);\r\n        OutputStream out = response.getOutputStream();\r\n        out.write(content);\r\n        out.flush();\r\n        out.close();\r\n    }\r\n\r\nAnd call it as\r\n\r\n    sendFile(bytes, fileName, extension, type, response);\r\n\r\nThe problem with your approach is that `new String(content).getBytes()` does not return a byte array with the same content as you started with.","title":"Corrupted Zip File , sent to the client side , java ee","body":"<p>A zip file is not a string. You should drop the round trip from byte array to string and back to byte array.</p>\n<p>Declare your <code>sendFile()</code> method as</p>\n<pre><code>public default void sendFile(byte[] content, String fileName, FileExtension extension, ContentType type, HttpServletResponse response) {\n    response.setContentType(type.getExpression());\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + FileUtils.encodeForFileName(fileName) + &quot;.&quot; + extension.getExtension() + &quot;\\&quot;&quot;);\n    OutputStream out = response.getOutputStream();\n    out.write(content);\n    out.flush();\n    out.close();\n}\n</code></pre>\n<p>And call it as</p>\n<pre><code>sendFile(bytes, fileName, extension, type, response);\n</code></pre>\n<p>The problem with your approach is that <code>new String(content).getBytes()</code> does not return a byte array with the same content as you started with.</p>\n"}],"owner":{"account_id":27625844,"reputation":11,"user_id":21085855,"display_name":"loupTerawatt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674740544,"creation_date":1674737884,"question_id":75246450,"body_markdown":"I&#39;m currently developping on a webserver for my company , and i&#39;am facing a corrupted zip file problem. At the end of a servlet. Here&#39;s the function header called at the very end of the servlet.\r\n\r\n```\r\nsendFile(directory, &quot;s&quot; + this.optimizerId + &quot;-&quot; + this.optimizerName + &quot;-&quot; + start.toDate(Defs.DB.DATE_PATTERN) + &quot;-&quot; + end.toDate(Defs.DB.DATE_PATTERN), FileExtension.NONE, ContentType.ZIP, response);\r\n```\r\n\r\nHere is the first send File function ...\r\n\r\n```\r\npublic default void sendFile(File file, String fileName, FileExtension extension, ContentType type, HttpServletResponse response) {\r\n\tif(type == ContentType.ZIP) {\r\n\t\tString[] files = file.list();\r\n\t\tif(files != null &amp;&amp; files.length &gt; 0) {\r\n\t\t\tbyte[] bytes = FileUtils.getZipBytes(file, files);\r\n\t\t\tsendFile(new String(bytes), fileName, extension, type, response);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe &quot;FileUtils.getZipBytes(file, files)&quot; function is doing fine , it returns a byteArray.\r\nI even tried to create a zip file with ZipOutputStream a File , and on the server , the zip has litterally no problem.\r\n( I will send the source code of this function if you think it&#39;s important , but i don&#39;t want to add useless complexity ).\r\n\r\nThen , here&#39;s the code of the second sendFile function that is called from the first one.\r\n\r\n```\r\npublic default void sendFile(String content, String fileName, FileExtension extension, ContentType type, HttpServletResponse response) {\r\n\tresponse.setContentType(type.getExpression());\r\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + FileUtils.encodeForFileName(fileName) + &quot;.&quot; + extension.getExtension() + &quot;\\&quot;&quot;);\r\n\tOutputStream out = response.getOutputStream();\r\n\tout.write(content.getBytes());\r\n\tout.flush();\r\n\tout.close();\r\n}\r\n```\r\n\r\nDo you see any problem in these functions ?\r\n\r\nThe zip file is downloaded from the server. He is not empty (about 15.7KB).\r\nBut when i try to open it , the file explorer of Fedora tell me that the file is corrupted.\r\n\r\nI also tried to use the unzip command on the file , and i have the following error message.\r\n\r\n```\r\nArchive:  s192-Syst&#232;me U carquefou-2023-01-26 000000-2023-01-26 235959(1).zip\r\n\r\ncaution:  zipfile comment truncated\r\nerror [s192-Syst&#232;me U carquefou-2023-01-26 000000-2023-01-26 235959(1).zip]:  missing 3249308257 bytes in zipfile\r\n  (attempting to process anyway)\r\nerror [s192-Syst&#232;me U carquefou-2023-01-26 000000-2023-01-26 235959(1).zip]:  attempt to seek before beginning of zipfile\r\n  (please check that you have transferred or created the zipfile in the\r\n  appropriate BINARY mode and that you have compiled UnZip properly)\r\n```\r\n\r\nI thought it may be the FileUtils.getZipBytes(file, files) that returns a corrupted ByteArray. But i really don&#39;t think it is ... Here&#39;s the source code of this function\r\n\r\n```\r\n\tpublic static byte[] getZipBytes(File directory, String[] files) throws IOException {\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tZipOutputStream zos = new ZipOutputStream(baos);\r\n\t\tbyte bytes[] = new byte[2048];\r\n\t\tfor (String fileName : files) {\r\n\t\t\tFileInputStream fis = new FileInputStream(directory.getPath() + \r\n\t\t\t\t\tSystem.getProperty(&quot;file.separator&quot;) + fileName);\r\n\t\t\tBufferedInputStream bis = new BufferedInputStream(fis);\r\n\t\t\tzos.putNextEntry(new ZipEntry(fileName));\r\n\t\t\tint bytesRead;\r\n\t\t\twhile ((bytesRead = bis.read(bytes)) != -1) {\r\n\t\t\t\tzos.write(bytes, 0, bytesRead);\r\n\t\t\t}\r\n\t\t\tzos.closeEntry();\r\n\t\t\tbis.close();\r\n\t\t\tfis.close();\r\n\t\t}\r\n\t\tzos.flush();\r\n\t\tbaos.flush();\r\n\t\tzos.close();\r\n\t\tbaos.close();\r\n\t\treturn baos.toByteArray();\r\n}\r\n```","title":"Corrupted Zip File , sent to the client side , java ee","body":"<p>I'm currently developping on a webserver for my company , and i'am facing a corrupted zip file problem. At the end of a servlet. Here's the function header called at the very end of the servlet.</p>\n<pre><code>sendFile(directory, &quot;s&quot; + this.optimizerId + &quot;-&quot; + this.optimizerName + &quot;-&quot; + start.toDate(Defs.DB.DATE_PATTERN) + &quot;-&quot; + end.toDate(Defs.DB.DATE_PATTERN), FileExtension.NONE, ContentType.ZIP, response);\n</code></pre>\n<p>Here is the first send File function ...</p>\n<pre><code>public default void sendFile(File file, String fileName, FileExtension extension, ContentType type, HttpServletResponse response) {\n    if(type == ContentType.ZIP) {\n        String[] files = file.list();\n        if(files != null &amp;&amp; files.length &gt; 0) {\n            byte[] bytes = FileUtils.getZipBytes(file, files);\n            sendFile(new String(bytes), fileName, extension, type, response);\n        }\n    }\n}\n</code></pre>\n<p>The &quot;FileUtils.getZipBytes(file, files)&quot; function is doing fine , it returns a byteArray.\nI even tried to create a zip file with ZipOutputStream a File , and on the server , the zip has litterally no problem.\n( I will send the source code of this function if you think it's important , but i don't want to add useless complexity ).</p>\n<p>Then , here's the code of the second sendFile function that is called from the first one.</p>\n<pre><code>public default void sendFile(String content, String fileName, FileExtension extension, ContentType type, HttpServletResponse response) {\n    response.setContentType(type.getExpression());\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + FileUtils.encodeForFileName(fileName) + &quot;.&quot; + extension.getExtension() + &quot;\\&quot;&quot;);\n    OutputStream out = response.getOutputStream();\n    out.write(content.getBytes());\n    out.flush();\n    out.close();\n}\n</code></pre>\n<p>Do you see any problem in these functions ?</p>\n<p>The zip file is downloaded from the server. He is not empty (about 15.7KB).\nBut when i try to open it , the file explorer of Fedora tell me that the file is corrupted.</p>\n<p>I also tried to use the unzip command on the file , and i have the following error message.</p>\n<pre><code>Archive:  s192-Système U carquefou-2023-01-26 000000-2023-01-26 235959(1).zip\n\ncaution:  zipfile comment truncated\nerror [s192-Système U carquefou-2023-01-26 000000-2023-01-26 235959(1).zip]:  missing 3249308257 bytes in zipfile\n  (attempting to process anyway)\nerror [s192-Système U carquefou-2023-01-26 000000-2023-01-26 235959(1).zip]:  attempt to seek before beginning of zipfile\n  (please check that you have transferred or created the zipfile in the\n  appropriate BINARY mode and that you have compiled UnZip properly)\n</code></pre>\n<p>I thought it may be the FileUtils.getZipBytes(file, files) that returns a corrupted ByteArray. But i really don't think it is ... Here's the source code of this function</p>\n<pre><code>    public static byte[] getZipBytes(File directory, String[] files) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ZipOutputStream zos = new ZipOutputStream(baos);\n        byte bytes[] = new byte[2048];\n        for (String fileName : files) {\n            FileInputStream fis = new FileInputStream(directory.getPath() + \n                    System.getProperty(&quot;file.separator&quot;) + fileName);\n            BufferedInputStream bis = new BufferedInputStream(fis);\n            zos.putNextEntry(new ZipEntry(fileName));\n            int bytesRead;\n            while ((bytesRead = bis.read(bytes)) != -1) {\n                zos.write(bytes, 0, bytesRead);\n            }\n            zos.closeEntry();\n            bis.close();\n            fis.close();\n        }\n        zos.flush();\n        baos.flush();\n        zos.close();\n        baos.close();\n        return baos.toByteArray();\n}\n</code></pre>\n"},{"tags":["java","hql","hibernate-mapping","coalesce"],"owner":{"account_id":10339877,"reputation":21,"user_id":7626644,"display_name":"Alassane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674740476,"creation_date":1674740476,"question_id":75246931,"body_markdown":"I&#39;d like to do the following in HQL: join the main truncated table only if corresponding entry is found - IF NOT FOUND - join with table&#39;s backup (which contains the rest of the data)\r\nSomething like:\r\n```\r\nselect a TranxtionAuthorization left join fetch a.tranxtion *left join fetch mybackupTable IF main join entries are NULL*\r\n```\r\nNow two issues:\r\n\r\n 1. coalesce is not an option since I am not fetching individual fields\r\n 2. and mainly my myBackupTable is not mapped in TranxtionAuthorization\r\n    xml file (only the main table is &lt;=&gt; 1st join). So I cannot build\r\n    the second join anyway\r\n\r\nI would like to know what options if this is possible and if so - what are my options.\r\n\r\nBest answers I&#39;ve found so far would be to reference the two tables in Tranxtion xml file (which itself is referenced to in TranxtionAuthorization). Details here: [https://stackoverflow.com/questions/4997950/map-two-identical-tables-same-schema-to-same-entity-in-hibernate][1]. \r\nIt seems like that could help figure out Issue #2 liste above. In that case does it mean that I would not need the second join. And would actually fetch the first non null entry mapped from either main table or the backup?\r\n\r\nNot sure. Any input/guidance is appreciated.\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4997950/map-two-identical-tables-same-schema-to-same-entity-in-hibernate","title":"Hibernate | HQL join with table1 if exists OR table1_OLD_backup if not","body":"<p>I'd like to do the following in HQL: join the main truncated table only if corresponding entry is found - IF NOT FOUND - join with table's backup (which contains the rest of the data)\nSomething like:</p>\n<pre><code>select a TranxtionAuthorization left join fetch a.tranxtion *left join fetch mybackupTable IF main join entries are NULL*\n</code></pre>\n<p>Now two issues:</p>\n<ol>\n<li>coalesce is not an option since I am not fetching individual fields</li>\n<li>and mainly my myBackupTable is not mapped in TranxtionAuthorization\nxml file (only the main table is &lt;=&gt; 1st join). So I cannot build\nthe second join anyway</li>\n</ol>\n<p>I would like to know what options if this is possible and if so - what are my options.</p>\n<p>Best answers I've found so far would be to reference the two tables in Tranxtion xml file (which itself is referenced to in TranxtionAuthorization). Details here: <a href=\"https://stackoverflow.com/questions/4997950/map-two-identical-tables-same-schema-to-same-entity-in-hibernate\">Map Two Identical tables ( same schema...) to same entity in Hibernate</a>.\nIt seems like that could help figure out Issue #2 liste above. In that case does it mean that I would not need the second join. And would actually fetch the first non null entry mapped from either main table or the backup?</p>\n<p>Not sure. Any input/guidance is appreciated.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","algorithm","maps"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1674740591,"post_id":75238964,"comment_id":132781036,"body_markdown":"You appear to be using a *Mercator projection* for your map.  You may find https://en.wikipedia.org/wiki/Mercator_projection#Mercator_projection_transformations or https://mathworld.wolfram.com/MercatorProjection.html helpful.","body":"You appear to be using a <i>Mercator projection</i> for your map.  You may find <a href=\"https://en.wikipedia.org/wiki/Mercator_projection#Mercator_projection_transformations\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> or <a href=\"https://mathworld.wolfram.com/MercatorProjection.html\" rel=\"nofollow noreferrer\">mathworld.wolfram.com/MercatorProjection.html</a> helpful."}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674676550,"creation_date":1674676550,"answer_id":75239179,"question_id":75238964,"body_markdown":"Unfortunately, this problem is **way** harder than it seems.\r\n\r\nThat map is a **Projection**, so it is distorted from the original (roughly) spherical coordinate system your data is in. \r\n\r\n(actually, your lat &amp; long values may themselve be in one of several different projections, but that only really matters if you are doing very precise measurements.)\r\n\r\nSo your first order of business is to find out exactly what projection the map is using, then start looking for GIS libraries you can use in Java (I think there are several) to perform the translation.","title":"how to Convert longitude and latitude coordinates for world map image to cordinates (x , y) in pixels using java","body":"<p>Unfortunately, this problem is <strong>way</strong> harder than it seems.</p>\n<p>That map is a <strong>Projection</strong>, so it is distorted from the original (roughly) spherical coordinate system your data is in.</p>\n<p>(actually, your lat &amp; long values may themselve be in one of several different projections, but that only really matters if you are doing very precise measurements.)</p>\n<p>So your first order of business is to find out exactly what projection the map is using, then start looking for GIS libraries you can use in Java (I think there are several) to perform the translation.</p>\n"},{"comments":[{"owner":{"account_id":24590318,"reputation":9,"user_id":18494324,"display_name":"Tareq Khanfar"},"score":0,"creation_date":1674715442,"post_id":75239496,"comment_id":132773995,"body_markdown":"to find r          double radius = imgWidth / (2*Math.PI) ;   ???","body":"to find r          double radius = imgWidth / (2*Math.PI) ;   ???"}],"tags":[],"owner":{"account_id":4058424,"reputation":11,"user_id":3335599,"display_name":"MBucari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674678412,"creation_date":1674678412,"answer_id":75239496,"question_id":75238964,"body_markdown":"Decide on a radius, r, for your globe model. Your map will be 2πr pixels wide.\r\nDecide on a a latitude cutoff. You can&#39;t project a pole to a plane, and at extreme latitudes things get so distorted as to be unusable. 85 degrees is a common choice.\r\n\r\nExpress your latitude in radians: lat_r\r\n\r\nYou X coordinate is r * (lat_r+ π). So at 180&#176; W your X coordinate is r * (-π + π) = 0, and at 180&#176; E your X coordinate is r * (π + π) = 2πr\r\n\r\nExpress your longitude in radians: lon_r\r\n\r\nYour Y coordinate is r * tan(lon_r) * (1 - cos(lon_r)). So at 85&#176; N your Y coordinate is r * tan(1.4835) * (1 - cos(1.4835)) = 10.4r","title":"how to Convert longitude and latitude coordinates for world map image to cordinates (x , y) in pixels using java","body":"<p>Decide on a radius, r, for your globe model. Your map will be 2πr pixels wide.\nDecide on a a latitude cutoff. You can't project a pole to a plane, and at extreme latitudes things get so distorted as to be unusable. 85 degrees is a common choice.</p>\n<p>Express your latitude in radians: lat_r</p>\n<p>You X coordinate is r * (lat_r+ π). So at 180° W your X coordinate is r * (-π + π) = 0, and at 180° E your X coordinate is r * (π + π) = 2πr</p>\n<p>Express your longitude in radians: lon_r</p>\n<p>Your Y coordinate is r * tan(lon_r) * (1 - cos(lon_r)). So at 85° N your Y coordinate is r * tan(1.4835) * (1 - cos(1.4835)) = 10.4r</p>\n"}],"owner":{"account_id":24590318,"reputation":9,"user_id":18494324,"display_name":"Tareq Khanfar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674740389,"creation_date":1674675117,"question_id":75238964,"body_markdown":"I have a map of world.\r\n\r\nI need to create a function that gets two double parameters (longitude and latitude) and that function should draw a small circle on that area in the map image.\r\n\r\nI have the following info about the map:\r\n\r\n* The width of the map in pixels\r\n* The height of the map in pixels\r\n\r\n** I get to pixel X, Y based on that image.\r\n\r\nI tried longitude = -106.346771 and latitude = 56.130366;\r\n\r\nmapWidth = 3840.0 and mapHeight = 2160.0 ;\r\n\r\n\r\n\r\n\r\n    double x = (longitude + 180) / 360 * mapWidth;\r\n    double y = (1 - Math.log(Math.tan(Math.toRadians(latitude)) + 1 / \r\n        Math.cos(Math.toRadians(latitude))) / Math.PI) / 2 * mapHeight;\r\n\r\n\r\n\r\nresult : [lon: -106.346771 lat: 56.130366]: X: 785.6344426666666 Y: 671.2084211650845\r\n\r\nbut not selected in right location.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eTEOv.jpg","title":"how to Convert longitude and latitude coordinates for world map image to cordinates (x , y) in pixels using java","body":"<p>I have a map of world.</p>\n<p>I need to create a function that gets two double parameters (longitude and latitude) and that function should draw a small circle on that area in the map image.</p>\n<p>I have the following info about the map:</p>\n<ul>\n<li>The width of the map in pixels</li>\n<li>The height of the map in pixels</li>\n</ul>\n<p>** I get to pixel X, Y based on that image.</p>\n<p>I tried longitude = -106.346771 and latitude = 56.130366;</p>\n<p>mapWidth = 3840.0 and mapHeight = 2160.0 ;</p>\n<pre><code>double x = (longitude + 180) / 360 * mapWidth;\ndouble y = (1 - Math.log(Math.tan(Math.toRadians(latitude)) + 1 / \n    Math.cos(Math.toRadians(latitude))) / Math.PI) / 2 * mapHeight;\n</code></pre>\n<p>result : [lon: -106.346771 lat: 56.130366]: X: 785.6344426666666 Y: 671.2084211650845</p>\n<p>but not selected in right location.</p>\n<p><a href=\"https://i.stack.imgur.com/eTEOv.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":1,"creation_date":1380050619,"post_id":18987480,"comment_id":28052973,"body_markdown":"Thanks, this works. Was looking for a &quot;more cleaner&quot; solution i.e without writing the @Query.","body":"Thanks, this works. Was looking for a &quot;more cleaner&quot; solution i.e without writing the @Query."},{"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"score":3,"creation_date":1380128140,"post_id":18987480,"comment_id":28087421,"body_markdown":"Oliver Gierke is the man that would know the answer to this and he has the &quot;more cleaner&quot; solution. You should accept his answer.","body":"Oliver Gierke is the man that would know the answer to this and he has the &quot;more cleaner&quot; solution. You should accept his answer."},{"owner":{"account_id":157528,"reputation":7454,"user_id":375551,"accept_rate":66,"display_name":"Muneer"},"score":2,"creation_date":1503220340,"post_id":18987480,"comment_id":78518145,"body_markdown":"Great! I used a `Set&lt;String&gt;` as a parameter, worked well.","body":"Great! I used a <code>Set&lt;String&gt;</code> as a parameter, worked well."},{"owner":{"account_id":4440254,"reputation":211,"user_id":3614936,"display_name":"Varun Sood"},"score":0,"creation_date":1537775214,"post_id":18987480,"comment_id":91890949,"body_markdown":"what if I want to pass 2 paramemeters to my method one list and other a normal string  , will that work? if yes how shall I name my method","body":"what if I want to pass 2 paramemeters to my method one list and other a normal string  , will that work? if yes how shall I name my method"}],"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"comment_count":4,"down_vote_count":2,"up_vote_count":141,"is_accepted":false,"score":139,"last_activity_date":1470947206,"creation_date":1380041236,"answer_id":18987480,"question_id":18987292,"body_markdown":"For any method in a Spring CrudRepository you should be able to specify the @Query yourself.  Something like this should work: \r\n\r\n    @Query( &quot;select o from MyObject o where inventoryId in :ids&quot; )\r\n    List&lt;MyObject&gt; findByInventoryIds(@Param(&quot;ids&quot;) List&lt;Long&gt; inventoryIdList);\r\n\r\n","title":"Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause","body":"<p>For any method in a Spring CrudRepository you should be able to specify the @Query yourself.  Something like this should work: </p>\n\n<pre><code>@Query( \"select o from MyObject o where inventoryId in :ids\" )\nList&lt;MyObject&gt; findByInventoryIds(@Param(\"ids\") List&lt;Long&gt; inventoryIdList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":0,"creation_date":1380207303,"post_id":18996367,"comment_id":28122279,"body_markdown":"Thanks, that was exactly I was looking for. Do they have it documented in CrudRepository page, or discover by reading the code?","body":"Thanks, that was exactly I was looking for. Do they have it documented in CrudRepository page, or discover by reading the code?"},{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":0,"creation_date":1380293655,"post_id":18996367,"comment_id":28159692,"body_markdown":"Thanks. That &quot;gem is hidden in the appendix B&quot;, rightly so :)","body":"Thanks. That &quot;gem is hidden in the appendix B&quot;, rightly so :)"},{"owner":{"account_id":470389,"reputation":5211,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"score":1,"creation_date":1455469499,"post_id":18996367,"comment_id":58492857,"body_markdown":"For the method signature:\nList&lt;Person&gt; findByIdIn(List&lt;Integer&gt; ids);\n\nI get the error:\nCaused by: java.lang.NumberFormatException: For input string: &quot;(1, 2)&quot;","body":"For the method signature: List&lt;Person&gt; findByIdIn(List&lt;Integer&gt; ids);  I get the error: Caused by: java.lang.NumberFormatException: For input string: &quot;(1, 2)&quot;"},{"owner":{"account_id":1899115,"reputation":1781,"user_id":1715376,"accept_rate":67,"display_name":"Miguel Pereira"},"score":0,"creation_date":1461945295,"post_id":18996367,"comment_id":61444271,"body_markdown":"When accessing this search method via Spring Data REST How would you specify multiple inventoryIds in an HTTP GET request?","body":"When accessing this search method via Spring Data REST How would you specify multiple inventoryIds in an HTTP GET request?"},{"owner":{"account_id":1730033,"reputation":1538,"user_id":1583815,"accept_rate":75,"display_name":"Piyush"},"score":0,"creation_date":1494251918,"post_id":18996367,"comment_id":74735151,"body_markdown":"@OliverGierke following repository method `@Modifying\n    @Query(value = &quot;SELECT * FROM badge WHERE threshold_type=?1 AND threshold&lt;?2 AND id NOT IN (SELECT id FROM badge_achieved WHERE user_id=?3)&quot;, nativeQuery = true)\n    List&lt;Badge&gt; getAchievableBadgeByThreshold(BadgeThresholdType thresholdType, Integer threshold, Long userId);` is not returning any result. If I run same query with same bounded parameter it&#39;s working. Any hint?","body":"@OliverGierke following repository method <code>@Modifying     @Query(value = &quot;SELECT * FROM badge WHERE threshold_type=?1 AND threshold&lt;?2 AND id NOT IN (SELECT id FROM badge_achieved WHERE user_id=?3)&quot;, nativeQuery = true)     List&lt;Badge&gt; getAchievableBadgeByThreshold(BadgeThresholdType thresholdType, Integer threshold, Long userId);</code> is not returning any result. If I run same query with same bounded parameter it&#39;s working. Any hint?"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":2,"creation_date":1593045062,"post_id":18996367,"comment_id":110645040,"body_markdown":"I&#39;m curious does author of the question(or even answer) checked the number of queries that spawns by accepted solution.\nFrom the question: &quot;Firing queries for each id may not be optimal.&quot;.\nAccepted code will do query per entity. So if inventoryIdList.size == 100 this code will do 100 selects with possible joins and stuff.","body":"I&#39;m curious does author of the question(or even answer) checked the number of queries that spawns by accepted solution. From the question: &quot;Firing queries for each id may not be optimal.&quot;. Accepted code will do query per entity. So if inventoryIdList.size == 100 this code will do 100 selects with possible joins and stuff."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1674740297,"post_id":18996367,"comment_id":132780936,"body_markdown":"If `inventoryId` has the primary key, you can simply use `yourRepo.findAll(inventoryIds)`","body":"If <code>inventoryId</code> has the primary key, you can simply use <code>yourRepo.findAll(inventoryIds)</code>"}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":7,"down_vote_count":0,"up_vote_count":427,"is_accepted":true,"score":427,"last_activity_date":1674740385,"creation_date":1380084127,"answer_id":18996367,"question_id":18987292,"body_markdown":"`findByInventoryIdIn(List&lt;Long&gt; inventoryIdList)` should do the trick.\r\n\r\nThe HTTP request parameter format would be like so:\r\n    \r\n    Yes ?id=1,2,3\r\n    No  ?id=1&amp;id=2&amp;id=3\r\n\r\nThe complete list of JPA repository keywords can be found in the [current documentation listing][1]. It shows that `IsIn` is equivalent – if you prefer the verb for readability – and that JPA also supports `NotIn` and `IsNotIn`.\r\n\r\nIf `inventoryId` has the primary key, you can simply use `yourRepo.findAll(inventoryIdList)`.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords","title":"Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause","body":"<p><code>findByInventoryIdIn(List&lt;Long&gt; inventoryIdList)</code> should do the trick.</p>\n<p>The HTTP request parameter format would be like so:</p>\n<pre><code>Yes ?id=1,2,3\nNo  ?id=1&amp;id=2&amp;id=3\n</code></pre>\n<p>The complete list of JPA repository keywords can be found in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords\" rel=\"noreferrer\">current documentation listing</a>. It shows that <code>IsIn</code> is equivalent – if you prefer the verb for readability – and that JPA also supports <code>NotIn</code> and <code>IsNotIn</code>.</p>\n<p>If <code>inventoryId</code> has the primary key, you can simply use <code>yourRepo.findAll(inventoryIdList)</code>.</p>\n"},{"comments":[{"owner":{"account_id":9792584,"reputation":509,"user_id":7256724,"display_name":"Dzinot"},"score":0,"creation_date":1494515776,"post_id":43919322,"comment_id":74872215,"body_markdown":"This works for all interfaces that are extending the **CrudRepository** interface.","body":"This works for all interfaces that are extending the <b>CrudRepository</b> interface."},{"owner":{"account_id":2040271,"reputation":179,"user_id":1821658,"accept_rate":42,"display_name":"Julie"},"score":4,"creation_date":1549657525,"post_id":43919322,"comment_id":95995768,"body_markdown":"This won&#39;t work if the ids size is over 1000 or certain size depending on the DB. How about this?    **List&lt;Inventory&gt; findByIdIn(List&lt;Long&gt; ids, Pageable pageable);**","body":"This won&#39;t work if the ids size is over 1000 or certain size depending on the DB. How about this?    <b>List&lt;Inventory&gt; findByIdIn(List&lt;Long&gt; ids, Pageable pageable);</b>"}],"tags":[],"owner":{"account_id":9792584,"reputation":509,"user_id":7256724,"display_name":"Dzinot"},"comment_count":2,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1494515438,"creation_date":1494515438,"answer_id":43919322,"question_id":18987292,"body_markdown":"Yes, that is supported.\r\n\r\nCheck the documentation provided [here][1] for the supported keywords inside method names.\r\n\r\nYou can just define the method in the repository interface without using the **@Query** annotation and writing your custom query. In your case it would be as followed:\r\n\r\n    List&lt;Inventory&gt; findByIdIn(List&lt;Long&gt; ids);\r\n\r\nI assume that you have the **Inventory** entity and the **InventoryRepository** interface. The code in your case should look like this:\r\n\r\n**The Entity**\r\n\r\n    @Entity\r\n    public class Inventory implements Serializable {\r\n\r\n      private static final long serialVersionUID = 1L;\r\n\r\n      private Long id;\r\n\r\n      // other fields\r\n      // getters/setters\r\n\r\n    }\r\n\r\n**The Repository**\r\n\r\n    @Repository\r\n    @Transactional\r\n    public interface InventoryRepository extends PagingAndSortingRepository&lt;Inventory, Long&gt; {\r\n\r\n\t  List&lt;Inventory&gt; findByIdIn(List&lt;Long&gt; ids);\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation &quot;here&quot; ","title":"Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause","body":"<p>Yes, that is supported.</p>\n\n<p>Check the documentation provided <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"noreferrer\" title=\"here\">here</a> for the supported keywords inside method names.</p>\n\n<p>You can just define the method in the repository interface without using the <strong>@Query</strong> annotation and writing your custom query. In your case it would be as followed:</p>\n\n<pre><code>List&lt;Inventory&gt; findByIdIn(List&lt;Long&gt; ids);\n</code></pre>\n\n<p>I assume that you have the <strong>Inventory</strong> entity and the <strong>InventoryRepository</strong> interface. The code in your case should look like this:</p>\n\n<p><strong>The Entity</strong></p>\n\n<pre><code>@Entity\npublic class Inventory implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  private Long id;\n\n  // other fields\n  // getters/setters\n\n}\n</code></pre>\n\n<p><strong>The Repository</strong></p>\n\n<pre><code>@Repository\n@Transactional\npublic interface InventoryRepository extends PagingAndSortingRepository&lt;Inventory, Long&gt; {\n\n  List&lt;Inventory&gt; findByIdIn(List&lt;Long&gt; ids);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365481,"favorite_count":0,"down_vote_count":1,"up_vote_count":271,"accepted_answer_id":18996367,"answer_count":3,"score":270,"last_activity_date":1674740385,"creation_date":1380040622,"question_id":18987292,"body_markdown":"In Spring CrudRepository, do we have support for &quot;IN clause&quot; for a field? ie something similar to the following? \r\n\r\n\r\n     findByInventoryIds(List&lt;Long&gt; inventoryIdList) \r\n\r\n\r\nIf such support is not available, what elegant options can be considered? Firing queries for each id may not be optimal.","title":"Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause","body":"<p>In Spring CrudRepository, do we have support for \"IN clause\" for a field? ie something similar to the following? </p>\n\n<pre><code> findByInventoryIds(List&lt;Long&gt; inventoryIdList) \n</code></pre>\n\n<p>If such support is not available, what elegant options can be considered? Firing queries for each id may not be optimal.</p>\n"},{"tags":["java","metasploit","interactive-shell"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":0,"creation_date":1522701470,"post_id":49618073,"comment_id":86243923,"body_markdown":"See this answer using the Robot class - https://stackoverflow.com/a/2549184/864369","body":"See this answer using the Robot class - <a href=\"https://stackoverflow.com/a/2549184/864369\">stackoverflow.com/a/2549184/864369</a>"},{"owner":{"account_id":12506710,"reputation":49,"user_id":9103340,"display_name":"Vru26"},"score":0,"creation_date":1522916327,"post_id":49618073,"comment_id":86344682,"body_markdown":"Thank you for your reply but I am still not able to execute commands. I have included an image indicating where I actually want to execute the commands. Using &quot;Robot&quot; class I am able to execute the terminal specific commands on the terminal but I am not able to execute the commands after starting the Metasploit Console.","body":"Thank you for your reply but I am still not able to execute commands. I have included an image indicating where I actually want to execute the commands. Using &quot;Robot&quot; class I am able to execute the terminal specific commands on the terminal but I am not able to execute the commands after starting the Metasploit Console."},{"owner":{"account_id":12506710,"reputation":49,"user_id":9103340,"display_name":"Vru26"},"score":0,"creation_date":1523471823,"post_id":49618073,"comment_id":86579757,"body_markdown":"The above problem has been solved but now when I try to invoke the functions to type the commands by clicking on a button then the actionPerformed function is executed infinite number of times. The commands are typed using the Robot Class as suggested above. Can anyone help me out with this new problem?","body":"The above problem has been solved but now when I try to invoke the functions to type the commands by clicking on a button then the actionPerformed function is executed infinite number of times. The commands are typed using the Robot Class as suggested above. Can anyone help me out with this new problem?"},{"owner":{"account_id":326479,"reputation":34449,"user_id":648265,"accept_rate":88,"display_name":"ivan_pozdeev"},"score":0,"creation_date":1536542206,"post_id":49618073,"comment_id":91447955,"body_markdown":"Possible duplicate of [Running interactive shell program in Java](https://stackoverflow.com/questions/29733038/running-interactive-shell-program-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29733038/running-interactive-shell-program-in-java\">Running interactive shell program in Java</a>"}],"owner":{"account_id":12506710,"reputation":49,"user_id":9103340,"display_name":"Vru26"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1674740306,"creation_date":1522699643,"question_id":49618073,"body_markdown":"I am trying to develop a UI based app in Java to use Metasploit (OS: Kali Linux). Basically I want to start a terminal and run the command &quot;msfconsole&quot; and then once the Metasploit Framework Console starts I want to execute commands in it.\r\n\r\nUsing ProcessBuilder Class of Java I am able to open up a terminal and start the Metasploit Framework Console but I am unable to execute any commands under the Framework. I am new to Runtime and ProcessBuilder class of Java. After starting the Framework Console, I did try executing the &quot;help&quot; command of the Metasploit Framework but that command was directly executed under the terminal and hence terminal help was displayed. So can anyone help me out with this? The code snippet is given below. Also I have included a supporting image at the end of this post.\r\n\r\n        String line;\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        ProcessBuilder builder = new ProcessBuilder(&quot;/bin/bash&quot;);\r\n        builder.redirectErrorStream(true);\r\n        Process process = builder.start();\r\n\r\n        OutputStream stdin = process.getOutputStream();\r\n        InputStream stderr = process.getErrorStream();\r\n        InputStream stdout = process.getInputStream();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(stdout));\r\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(stdin));\r\n\r\n        String input = scan.nextLine();\r\n        input += &quot;\\n&quot;;\r\n        writer.write(input);\r\n        writer.flush()\r\n\r\n        input = scan.nextLine();\r\n        input += &quot;\\n&quot;;\r\n        writer.write(input);\r\n        writer.flush();\r\n\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(&quot;Stdout: &quot; + line);\r\n        }\r\n        writer.close();\r\n\r\nI have encircled the part where I want to enter the commands. The image shows Metasploit Console running inside a terminal window:\r\n\r\n[![I have encircled the part where I want to enter the commands. The image shows Metasploit Console running inside a terminal window.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1d4CT.png","title":"Executing metasploit commands using Java","body":"<p>I am trying to develop a UI based app in Java to use Metasploit (OS: Kali Linux). Basically I want to start a terminal and run the command \"msfconsole\" and then once the Metasploit Framework Console starts I want to execute commands in it.</p>\n\n<p>Using ProcessBuilder Class of Java I am able to open up a terminal and start the Metasploit Framework Console but I am unable to execute any commands under the Framework. I am new to Runtime and ProcessBuilder class of Java. After starting the Framework Console, I did try executing the \"help\" command of the Metasploit Framework but that command was directly executed under the terminal and hence terminal help was displayed. So can anyone help me out with this? The code snippet is given below. Also I have included a supporting image at the end of this post.</p>\n\n<pre><code>    String line;\n    Scanner scan = new Scanner(System.in);\n\n    ProcessBuilder builder = new ProcessBuilder(\"/bin/bash\");\n    builder.redirectErrorStream(true);\n    Process process = builder.start();\n\n    OutputStream stdin = process.getOutputStream();\n    InputStream stderr = process.getErrorStream();\n    InputStream stdout = process.getInputStream();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stdout));\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(stdin));\n\n    String input = scan.nextLine();\n    input += \"\\n\";\n    writer.write(input);\n    writer.flush()\n\n    input = scan.nextLine();\n    input += \"\\n\";\n    writer.write(input);\n    writer.flush();\n\n    while ((line = reader.readLine()) != null) {\n        System.out.println(\"Stdout: \" + line);\n    }\n    writer.close();\n</code></pre>\n\n<p>I have encircled the part where I want to enter the commands. The image shows Metasploit Console running inside a terminal window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1d4CT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1d4CT.png\" alt=\"I have encircled the part where I want to enter the commands. The image shows Metasploit Console running inside a terminal window.\"></a></p>\n"},{"tags":["java","multithreading","httpclient","executorservice"],"owner":{"account_id":149784,"reputation":8168,"user_id":362531,"accept_rate":69,"display_name":"adamw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1674739518,"creation_date":1674739518,"question_id":75246754,"body_markdown":"I&#39;m trying to send an HTTP request using the `HttpClient` bundled with Java (tested using JDK17), but using a custom thread pool / executor. Such an executor can be specified when building the client, as in the code below:\r\n\r\n```java\r\npackage test;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException, InterruptedException, ExecutionException {\r\n        var executor = Executors.newCachedThreadPool();\r\n        var client = HttpClient.newBuilder().executor(executor).build();\r\n\r\n        client.sendAsync(\r\n                HttpRequest\r\n                        .newBuilder()\r\n                        .uri(URI.create(&quot;https://www.google.com&quot;))\r\n                        .build(),\r\n                HttpResponse.BodyHandlers.ofInputStream()\r\n        ).get();\r\n\r\n        System.out.println(&quot;Done&quot;);\r\n        System.in.read();\r\n    }\r\n}\r\n```\r\n\r\nHowever, some additional threads are always started. One is a `SelectorManager`, which is hard-coded to be started [here](https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L507-L531). It has a clear scope and probably needs to be a separate thread. \r\n\r\nAdditionally, when using `.sendAsync`, the default fork-join pool is also *always* started. I think this is due to the [following code in `HttpClient`](https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L990-L995):\r\n\r\n```java\r\n// makes sure that any dependent actions happen in the CF default\r\n// executor. This is only needed for sendAsync(...), when\r\n// exchangeExecutor is non-null.\r\nif (exchangeExecutor != null) {\r\n    res = res.whenCompleteAsync((r, t) -&gt; { /* do nothing */}, ASYNC_POOL);\r\n}\r\n```\r\n\r\nI suspect this is needed to always shift any further processing of the response (which might block) to another thread pool (to avoid blocking the thread that processes incoming HTTP data). However:\r\n\r\n1. shouldn&#39;t this shifting happen onto the provided executor, instead of shifting to `ASYNC_POOL` always?\r\n2. is my justification for the existence of the above `HttpClient` snippet correct?\r\n3. maybe there are other reasons why the ForkJoin pool must be started?","title":"Why is the default fork-join pool always started when sending a request using JDK&#39;s HttpClient?","body":"<p>I'm trying to send an HTTP request using the <code>HttpClient</code> bundled with Java (tested using JDK17), but using a custom thread pool / executor. Such an executor can be specified when building the client, as in the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executors;\n\npublic class Test {\n    public static void main(String[] args) throws IOException, InterruptedException, ExecutionException {\n        var executor = Executors.newCachedThreadPool();\n        var client = HttpClient.newBuilder().executor(executor).build();\n\n        client.sendAsync(\n                HttpRequest\n                        .newBuilder()\n                        .uri(URI.create(&quot;https://www.google.com&quot;))\n                        .build(),\n                HttpResponse.BodyHandlers.ofInputStream()\n        ).get();\n\n        System.out.println(&quot;Done&quot;);\n        System.in.read();\n    }\n}\n</code></pre>\n<p>However, some additional threads are always started. One is a <code>SelectorManager</code>, which is hard-coded to be started <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L507-L531\" rel=\"nofollow noreferrer\">here</a>. It has a clear scope and probably needs to be a separate thread.</p>\n<p>Additionally, when using <code>.sendAsync</code>, the default fork-join pool is also <em>always</em> started. I think this is due to the <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L990-L995\" rel=\"nofollow noreferrer\">following code in <code>HttpClient</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// makes sure that any dependent actions happen in the CF default\n// executor. This is only needed for sendAsync(...), when\n// exchangeExecutor is non-null.\nif (exchangeExecutor != null) {\n    res = res.whenCompleteAsync((r, t) -&gt; { /* do nothing */}, ASYNC_POOL);\n}\n</code></pre>\n<p>I suspect this is needed to always shift any further processing of the response (which might block) to another thread pool (to avoid blocking the thread that processes incoming HTTP data). However:</p>\n<ol>\n<li>shouldn't this shifting happen onto the provided executor, instead of shifting to <code>ASYNC_POOL</code> always?</li>\n<li>is my justification for the existence of the above <code>HttpClient</code> snippet correct?</li>\n<li>maybe there are other reasons why the ForkJoin pool must be started?</li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1537273533,"post_id":52380195,"comment_id":91717417,"body_markdown":"Did you check your database ? Is there data available ?","body":"Did you check your database ? Is there data available ?"},{"owner":{"account_id":2372172,"reputation":366,"user_id":2076538,"accept_rate":81,"display_name":"Vishal Torne"},"score":0,"creation_date":1537308171,"post_id":52380195,"comment_id":91735473,"body_markdown":"Service method?","body":"Service method?"}],"answers":[{"comments":[{"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"score":0,"creation_date":1537276304,"post_id":52383446,"comment_id":91719244,"body_markdown":"In this case, the compiler can&#39;t resolve the findAll() method.","body":"In this case, the compiler can&#39;t resolve the findAll() method."}],"tags":[],"owner":{"account_id":2372172,"reputation":366,"user_id":2076538,"accept_rate":81,"display_name":"Vishal Torne"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537263217,"creation_date":1537263217,"answer_id":52383446,"question_id":52380195,"body_markdown":"Try to use \r\n\r\n    List&lt;Customer&gt; customers = new customerRepository.findAll();\r\n    Model.addAttribute(&quot;c&quot; , customers);\r\nSee my question for more information https://stackoverflow.com/questions/52114455/store-pictures-in-h2-database-spring-boot-thymleaf","title":"Problem with saving data from Thymeleaf form to database with Spring MVC","body":"<p>Try to use </p>\n\n<pre><code>List&lt;Customer&gt; customers = new customerRepository.findAll();\nModel.addAttribute(\"c\" , customers);\n</code></pre>\n\n<p>See my question for more information <a href=\"https://stackoverflow.com/questions/52114455/store-pictures-in-h2-database-spring-boot-thymleaf\">Store pictures in H2 database spring boot thymleaf</a></p>\n"},{"tags":[],"owner":{"account_id":13786274,"reputation":358,"user_id":9950085,"display_name":"Falcon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546638337,"creation_date":1546638337,"answer_id":54046522,"question_id":52380195,"body_markdown":"Another way, with this code:\r\n\r\n      model.addAttribute(&quot;customers&quot;, customerRepository.findAll());\r\n\r\n\r\nfor result template:\r\n\r\n    &lt;th:block th:each=&quot;customer : ${customers}&quot;&gt;\r\n      &lt;td th:text=&quot;${customer.id}&quot;&gt;customer ID&lt;/td&gt;\r\n      &lt;td th:text=&quot;${customer.firstName}&quot;&gt;first name&lt;/td&gt;\r\n      &lt;td th:text=&quot;${customer.lastName}&quot;&gt;last name&lt;/td&gt;\r\n    &lt;/th:block&gt;\r\n\r\n\r\n\r\n","title":"Problem with saving data from Thymeleaf form to database with Spring MVC","body":"<p>Another way, with this code:</p>\n\n<pre><code>  model.addAttribute(\"customers\", customerRepository.findAll());\n</code></pre>\n\n<p>for result template:</p>\n\n<pre><code>&lt;th:block th:each=\"customer : ${customers}\"&gt;\n  &lt;td th:text=\"${customer.id}\"&gt;customer ID&lt;/td&gt;\n  &lt;td th:text=\"${customer.firstName}\"&gt;first name&lt;/td&gt;\n  &lt;td th:text=\"${customer.lastName}\"&gt;last name&lt;/td&gt;\n&lt;/th:block&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5903717,"reputation":1708,"user_id":6306190,"display_name":"thyu"},"score":0,"creation_date":1605158220,"post_id":64797850,"comment_id":114567085,"body_markdown":"It&#39;d be better if you could include explanation for your code.","body":"It&#39;d be better if you could include explanation for your code."}],"tags":[],"owner":{"account_id":9591005,"reputation":53,"user_id":7121896,"display_name":"Mattyas yahya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605154616,"creation_date":1605154616,"answer_id":64797850,"question_id":52380195,"body_markdown":"try this :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @PostMapping(&quot;/customer&quot;)\r\n    public String createCustomer(Customer customer,BindingResult result)\r\n    {\r\n        if (result.hasErrors())\r\n     {\r\n                return &quot;your error page in here&quot;;\r\n            }\r\n        customerRepository.save(customer);\r\n        return &quot;customer&quot;;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Problem with saving data from Thymeleaf form to database with Spring MVC","body":"<p>try this :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@PostMapping(\"/customer\")\npublic String createCustomer(Customer customer,BindingResult result)\n{\n    if (result.hasErrors())\n {\n            return \"your error page in here\";\n        }\n    customerRepository.save(customer);\n    return \"customer\";\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":19396277,"reputation":1,"user_id":14183899,"display_name":"Kyera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674739472,"creation_date":1674739472,"answer_id":75246748,"question_id":52380195,"body_markdown":"Although this post is already old, I just stumbled upon it when debugging my own code; my answer may still help someone in the future.\r\n\r\nI believe I had a similar issue, where the Thymeleaf form didn&#39;t actually assign values to the entity&#39;s fields. For me the issue was that the entity had no setters for its fields - it looks like you have that problem here as well.","title":"Problem with saving data from Thymeleaf form to database with Spring MVC","body":"<p>Although this post is already old, I just stumbled upon it when debugging my own code; my answer may still help someone in the future.</p>\n<p>I believe I had a similar issue, where the Thymeleaf form didn't actually assign values to the entity's fields. For me the issue was that the entity had no setters for its fields - it looks like you have that problem here as well.</p>\n"}],"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1674739472,"creation_date":1537252086,"question_id":52380195,"body_markdown":"I&#39;ve just started learning Spring MVC. I try to save some data from the Thymeleaf form to repository, which extends CrudRepository. Unfortunately, the data doesn&#39;t display.\r\n\r\nWhen I go to the results page I see used IDs but no data typed to form. Where is the mistake?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is a **Controller**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.jtm.twiservice.controller;\r\n    import com.jtm.twiservice.Main;\r\n    import com.jtm.twiservice.model.Customer;\r\n    import com.jtm.twiservice.repository.CustomerRepository;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @Controller\r\n    public class CustomerClientController {\r\n    private static final Logger myLog = LoggerFactory.getLogger(Main.class);\r\n    \r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    @GetMapping(&quot;/customer&quot;)\r\n    public String customerForm(Model model) {\r\n        model.addAttribute(&quot;customer&quot;, new Customer());\r\n        return &quot;customer&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/customer&quot;)\r\n    public String createCustomer(Customer customer, Model model) {\r\n        customerRepository.save(customer);\r\n        return &quot;customer&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/customers&quot;)\r\n    public String getCustomers(Model model) {\r\n        model.addAttribute(&quot;customers&quot;, customerRepository.findAll());\r\n        return &quot;customers;\r\n    }\r\n    }\r\n\r\n`**Model**:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.jtm.twiservice.model;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    public class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String schoolForm;\r\n\r\n    public Customer() {}\r\n\r\n    public Customer(String firstName, String lastName, String email, String schoolForm) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.schoolForm = schoolForm;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(\r\n                &quot;Customer[id=%d, firstName=&#39;%s&#39;, lastName=&#39;%s&#39;, email=&#39;%s&#39;, schoolForm=&#39;%s&#39;]&quot;,\r\n                id, firstName, lastName, email, schoolForm);\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getSchoolForm() {\r\n        return schoolForm;\r\n    }\r\n    }\r\n\r\n**repository**:\r\n        \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.jtm.twiservice.repository;\r\n\r\n    import com.jtm.twiservice.model.Customer;\r\n    import org.springframework.data.repository.CrudRepository;\r\n\r\n    public interface CustomerRepository extends CrudRepository&lt;Customer, Long&gt; { }\r\n\r\n**form** extract:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/customer}&quot; th:object=&quot;${customer}&quot; method=&quot;post&quot;&gt;\r\n                &lt;p class=&quot;text&quot;&gt;&lt;label&gt;first name:&lt;/label&gt;  &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; /&gt;&lt;/p&gt;\r\n                &lt;p class=&quot;text&quot;&gt;&lt;label&gt;last name:&lt;/label&gt; &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; /&gt;&lt;/p\r\n                &lt;p class=&quot;text&quot;&gt;&lt;label&gt;school form:&lt;/label&gt; &lt;input type=&quot;text&quot; th:field=&quot;*{schoolForm}&quot; /&gt;&lt;/p&gt;\r\n                &lt;div class=&quot;text&quot;&gt;email: &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot; /&gt;&lt;/div&gt;\r\n                &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt; &lt;/p&gt;\r\n\r\n            &lt;/form&gt;\r\nAnd extract from **results template**:\r\n\r\n&lt;!-- language: lang-xml --&gt;    \r\n\r\n    &lt;td th:text=&quot;${customer.id}&quot;&gt;customer ID&lt;/td&gt;\r\n    &lt;td th:text=&quot;${customer.firstName}&quot;&gt;first name&lt;/td&gt;\r\n    &lt;td th:text=&quot;${customer.lastName}&quot;&gt;last name&lt;/td&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fdT9a.png","title":"Problem with saving data from Thymeleaf form to database with Spring MVC","body":"<p>I've just started learning Spring MVC. I try to save some data from the Thymeleaf form to repository, which extends CrudRepository. Unfortunately, the data doesn't display.</p>\n\n<p>When I go to the results page I see used IDs but no data typed to form. Where is the mistake?</p>\n\n<p><a href=\"https://i.stack.imgur.com/fdT9a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdT9a.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is a <strong>Controller</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.jtm.twiservice.controller;\nimport com.jtm.twiservice.Main;\nimport com.jtm.twiservice.model.Customer;\nimport com.jtm.twiservice.repository.CustomerRepository;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\npublic class CustomerClientController {\nprivate static final Logger myLog = LoggerFactory.getLogger(Main.class);\n\n@Autowired\nprivate CustomerRepository customerRepository;\n\n@GetMapping(\"/customer\")\npublic String customerForm(Model model) {\n    model.addAttribute(\"customer\", new Customer());\n    return \"customer\";\n}\n\n@PostMapping(\"/customer\")\npublic String createCustomer(Customer customer, Model model) {\n    customerRepository.save(customer);\n    return \"customer\";\n}\n\n@GetMapping(\"/customers\")\npublic String getCustomers(Model model) {\n    model.addAttribute(\"customers\", customerRepository.findAll());\n    return \"customers;\n}\n}\n</code></pre>\n\n<p>`<strong>Model</strong>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.jtm.twiservice.model;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Customer {\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Long id;\nprivate String firstName;\nprivate String lastName;\nprivate String email;\nprivate String schoolForm;\n\npublic Customer() {}\n\npublic Customer(String firstName, String lastName, String email, String schoolForm) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n    this.schoolForm = schoolForm;\n}\n\n@Override\npublic String toString() {\n    return String.format(\n            \"Customer[id=%d, firstName='%s', lastName='%s', email='%s', schoolForm='%s']\",\n            id, firstName, lastName, email, schoolForm);\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic String getSchoolForm() {\n    return schoolForm;\n}\n}\n</code></pre>\n\n<p><strong>repository</strong>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.jtm.twiservice.repository;\n\nimport com.jtm.twiservice.model.Customer;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface CustomerRepository extends CrudRepository&lt;Customer, Long&gt; { }\n</code></pre>\n\n<p><strong>form</strong> extract:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;form action=\"#\" th:action=\"@{/customer}\" th:object=\"${customer}\" method=\"post\"&gt;\n            &lt;p class=\"text\"&gt;&lt;label&gt;first name:&lt;/label&gt;  &lt;input type=\"text\" th:field=\"*{firstName}\" /&gt;&lt;/p&gt;\n            &lt;p class=\"text\"&gt;&lt;label&gt;last name:&lt;/label&gt; &lt;input type=\"text\" th:field=\"*{lastName}\" /&gt;&lt;/p\n            &lt;p class=\"text\"&gt;&lt;label&gt;school form:&lt;/label&gt; &lt;input type=\"text\" th:field=\"*{schoolForm}\" /&gt;&lt;/p&gt;\n            &lt;div class=\"text\"&gt;email: &lt;input type=\"text\" th:field=\"*{email}\" /&gt;&lt;/div&gt;\n            &lt;p&gt;&lt;input type=\"submit\" value=\"Submit\" /&gt; &lt;input type=\"reset\" value=\"Reset\" /&gt; &lt;/p&gt;\n\n        &lt;/form&gt;\n</code></pre>\n\n<p>And extract from <strong>results template</strong>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;td th:text=\"${customer.id}\"&gt;customer ID&lt;/td&gt;\n&lt;td th:text=\"${customer.firstName}\"&gt;first name&lt;/td&gt;\n&lt;td th:text=\"${customer.lastName}\"&gt;last name&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","criteria-api"],"comments":[{"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"score":0,"creation_date":1491836892,"post_id":43322504,"comment_id":73717810,"body_markdown":"What do you mean by `where p1 and p2 or p3`? `where (p1 and p2) or p3`? `where p1 and (p2 or p3)`?","body":"What do you mean by <code>where p1 and p2 or p3</code>? <code>where (p1 and p2) or p3</code>? <code>where p1 and (p2 or p3)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491901885,"creation_date":1491839083,"answer_id":43327590,"question_id":43322504,"body_markdown":"Simply combine your arrays of predicates into simple predicates, using [`CriteriaBuilder.and(Predicate... restrictions)`][1] and [`CriteriaBuilder.or(Predicate... restrictions)`][2]\r\n\r\nFor getting `where (p1 and p2) or p3`, where `p1`, `p2` and `p3` are all arrays of predicates concatenated with `and` statements:\r\n\r\n    Predicate[] p1 = new Predicate[2];\r\n    Predicate[] p2 = new Predicate[2];\r\n    Predicate[] p3 = new Predicate[2];\r\n    // add your predicates to the arrays.     \r\n    Predicate p1all = cb.and(p1);    \r\n    Predicate p2all = cb.and(p2);\r\n    Predicate p3all = cb.and(p3);\r\n    Predicate pFinal = cb.or(cb.and(p1all, p2all), p3all);\r\n    criteria.where(pFinal);\r\n\r\nFor getting `where p1 and (p2 or p3)`:\r\n\r\n    Predicate pFinal = cb.and(cb.or(p2all, p3all), p1all);\r\n    criteria.where(pFinal);\r\n\r\nFinally, if you want to build a single predicate by concatenating an array of predicates with `or` statements, use this:\r\n\r\n    Predicate p1all = cb.or(p1); \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#and(javax.persistence.criteria.Predicate...)\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#or(javax.persistence.criteria.Predicate...)","title":"Criteria query combine and predicates and or predicates in where method","body":"<p>Simply combine your arrays of predicates into simple predicates, using <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#and(javax.persistence.criteria.Predicate...)\" rel=\"nofollow noreferrer\"><code>CriteriaBuilder.and(Predicate... restrictions)</code></a> and <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#or(javax.persistence.criteria.Predicate...)\" rel=\"nofollow noreferrer\"><code>CriteriaBuilder.or(Predicate... restrictions)</code></a></p>\n\n<p>For getting <code>where (p1 and p2) or p3</code>, where <code>p1</code>, <code>p2</code> and <code>p3</code> are all arrays of predicates concatenated with <code>and</code> statements:</p>\n\n<pre><code>Predicate[] p1 = new Predicate[2];\nPredicate[] p2 = new Predicate[2];\nPredicate[] p3 = new Predicate[2];\n// add your predicates to the arrays.     \nPredicate p1all = cb.and(p1);    \nPredicate p2all = cb.and(p2);\nPredicate p3all = cb.and(p3);\nPredicate pFinal = cb.or(cb.and(p1all, p2all), p3all);\ncriteria.where(pFinal);\n</code></pre>\n\n<p>For getting <code>where p1 and (p2 or p3)</code>:</p>\n\n<pre><code>Predicate pFinal = cb.and(cb.or(p2all, p3all), p1all);\ncriteria.where(pFinal);\n</code></pre>\n\n<p>Finally, if you want to build a single predicate by concatenating an array of predicates with <code>or</code> statements, use this:</p>\n\n<pre><code>Predicate p1all = cb.or(p1); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1570860,"reputation":384,"user_id":1458576,"accept_rate":50,"display_name":"ieselisra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674739214,"creation_date":1674738792,"answer_id":75246601,"question_id":43322504,"body_markdown":"By default all predicates are understood as &quot;AND&quot;.\r\n\r\nYou can &quot;play&quot; adding more complexity to the predicates using cb.and / cb.or (nested if needed)\r\n\r\nYou can create a list like this:\r\n\r\n    Root&lt;BeanA&gt; queryRoot = cq.from(BeanA.class);\r\n    \r\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    predicates.add(cb.equal(queryRoot.get(&quot;id&quot;), valueA);\r\n    predicates.add(cb.or(\r\n                    cb.equal(queryRoot.get(&quot;id&quot;), valueA,\r\n                    cb.equal(queryRoot.get(&quot;id&quot;), valueB\r\n            ));\r\n    predicates.add(cb.and(\r\n           cb.equal(queryRoot.get(&quot;valueC&quot;), valueC),\r\n           cb.or(\r\n                 cb.equal(queryRoot.get(&quot;id&quot;), valueA,\r\n                 cb.equal(queryRoot.get(&quot;id&quot;), valueB\r\n            ))\r\n    );\r\n    \r\n    cq.where(predicates.toArray(Predicate[]::new));\r\n\r\n\r\nIf needed, you can use a multiselect too (adding here the result of subqueries if you want to handle them)\r\n\r\n     List&lt;Selection&gt; selectList = new ArrayList&lt;&gt;();\r\n\r\n     selectList.add(queryRoot.get(&quot;id&quot;));\r\n     selectList.add(queryRoot.get(&quot;title&quot;));\r\n\r\n     cq.multiselect(selectList.toArray(Selection[]::new));\r\n\r\n\r\nAfter adding a multiselect you could need an orderBy.\r\nyou can follow the same concept but using a Expression list\r\n\r\n    List&lt;Expression&gt; groupByList = new ArrayList&lt;&gt;();\r\n\r\n    groupByList.add(proyectoJoin.get(&quot;id&quot;));\r\n    groupByList.add(proyectoJoin.get(&quot;title&quot;));\r\n     \r\n    cq.groupBy(groupByList.toArray(Expression[]::new));","title":"Criteria query combine and predicates and or predicates in where method","body":"<p>By default all predicates are understood as &quot;AND&quot;.</p>\n<p>You can &quot;play&quot; adding more complexity to the predicates using cb.and / cb.or (nested if needed)</p>\n<p>You can create a list like this:</p>\n<pre><code>Root&lt;BeanA&gt; queryRoot = cq.from(BeanA.class);\n\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\npredicates.add(cb.equal(queryRoot.get(&quot;id&quot;), valueA);\npredicates.add(cb.or(\n                cb.equal(queryRoot.get(&quot;id&quot;), valueA,\n                cb.equal(queryRoot.get(&quot;id&quot;), valueB\n        ));\npredicates.add(cb.and(\n       cb.equal(queryRoot.get(&quot;valueC&quot;), valueC),\n       cb.or(\n             cb.equal(queryRoot.get(&quot;id&quot;), valueA,\n             cb.equal(queryRoot.get(&quot;id&quot;), valueB\n        ))\n);\n\ncq.where(predicates.toArray(Predicate[]::new));\n</code></pre>\n<p>If needed, you can use a multiselect too (adding here the result of subqueries if you want to handle them)</p>\n<pre><code> List&lt;Selection&gt; selectList = new ArrayList&lt;&gt;();\n\n selectList.add(queryRoot.get(&quot;id&quot;));\n selectList.add(queryRoot.get(&quot;title&quot;));\n\n cq.multiselect(selectList.toArray(Selection[]::new));\n</code></pre>\n<p>After adding a multiselect you could need an orderBy.\nyou can follow the same concept but using a Expression list</p>\n<pre><code>List&lt;Expression&gt; groupByList = new ArrayList&lt;&gt;();\n\ngroupByList.add(proyectoJoin.get(&quot;id&quot;));\ngroupByList.add(proyectoJoin.get(&quot;title&quot;));\n \ncq.groupBy(groupByList.toArray(Expression[]::new));\n</code></pre>\n"}],"owner":{"account_id":7279932,"reputation":724,"user_id":5550041,"accept_rate":56,"display_name":"V&#237;ctor G&#243;mez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43327590,"answer_count":2,"score":1,"last_activity_date":1674739214,"creation_date":1491825365,"question_id":43322504,"body_markdown":"The `where` method of CriteriBuilder \r\n\r\n&gt; restricts the query result according to the conjunction of the specified restriction predicates\r\n\r\nIn other words, concatenate all predicates with AND. I pass a list of predicates to this method in this way:\r\n\r\n    criteria.where(preds.toArray(new Predicate[0]));\r\n\r\nThe result query is something like this:\r\n\r\n    ... where p1 and p2 and p3\r\n\r\nhowever what I need is:\r\n\r\n    ... where p1 and p2 or p3\r\n\r\nI tried to use two list of preds, one for &quot;ANDS&quot; and another one for &quot;ORS&quot;:\r\n\r\n    if(preds.isEmpty() &amp;&amp; !orPreds.isEmpty()) {\r\n\t    criteria.where(cb.or(orPreds.toArray(new Predicate[orPreds.size()])));\r\n\t}\r\n\telse if(!preds.isEmpty() &amp;&amp; !orPreds.isEmpty()) {\r\n\t    criteria.where(cb.and(preds.toArray(new Predicate[preds.size()])), \r\n        cb.or(orPreds.toArray(new Predicate[orPreds.size()])));\r\n\t}\r\n\telse {\r\n\t    criteria.where(preds.toArray(new Predicate[0]));\r\n\t}\r\n\r\nBut the result query is the same:\r\n\r\n    ... where p1 and p2 and p3\r\n\r\nAny idea?","title":"Criteria query combine and predicates and or predicates in where method","body":"<p>The <code>where</code> method of CriteriBuilder </p>\n\n<blockquote>\n  <p>restricts the query result according to the conjunction of the specified restriction predicates</p>\n</blockquote>\n\n<p>In other words, concatenate all predicates with AND. I pass a list of predicates to this method in this way:</p>\n\n<pre><code>criteria.where(preds.toArray(new Predicate[0]));\n</code></pre>\n\n<p>The result query is something like this:</p>\n\n<pre><code>... where p1 and p2 and p3\n</code></pre>\n\n<p>however what I need is:</p>\n\n<pre><code>... where p1 and p2 or p3\n</code></pre>\n\n<p>I tried to use two list of preds, one for \"ANDS\" and another one for \"ORS\":</p>\n\n<pre><code>if(preds.isEmpty() &amp;&amp; !orPreds.isEmpty()) {\n    criteria.where(cb.or(orPreds.toArray(new Predicate[orPreds.size()])));\n}\nelse if(!preds.isEmpty() &amp;&amp; !orPreds.isEmpty()) {\n    criteria.where(cb.and(preds.toArray(new Predicate[preds.size()])), \n    cb.or(orPreds.toArray(new Predicate[orPreds.size()])));\n}\nelse {\n    criteria.where(preds.toArray(new Predicate[0]));\n}\n</code></pre>\n\n<p>But the result query is the same:</p>\n\n<pre><code>... where p1 and p2 and p3\n</code></pre>\n\n<p>Any idea?</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":24365613,"reputation":36,"user_id":18299392,"display_name":"cls_404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674739045,"creation_date":1674739045,"question_id":75246662,"body_markdown":"Im getting this error.&lt;br/&gt; What I was doing was the code I want to run didnt run rather it showed up the **Edit Configurations**&lt;br/&gt;\r\n&lt;br/&gt;The error: ```Failed to download Amazon Corretto 18.0.2. EventQueue.isDispatchThread()=false Current thread: Thread[ApplicationImpl pooled thread 110,4,main] 2031890033 SystemEventQueueThread: Thread[AWT-EventQueue-0,6,main] 1808191328```&lt;br/&gt;\r\n\r\n&lt;br/&gt; This was what I was trying to fix: [Image][1] ``` Cannot access &#39;java.io.Serializable&#39; which is a supertype of &#39;kotlin.Array&#39;. Check your module classpath for missing or conflicting dependencies ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vmT0a.png\r\n\r\nAnd it says that the **JDK &quot;corretto-18&quot; is not found on the disk or corrupted**.\r\n&lt;br/&gt;&lt;br/&gt;Im using: IntelliJ up to date, Java 18\r\n\r\nDoes anyone has a solution for this issue??\r\n\r\nThanks-","title":"Error on Intellij Idea when trying to run a kotlin project","body":"<p>Im getting this error.<br/> What I was doing was the code I want to run didnt run rather it showed up the <strong>Edit Configurations</strong><br/>\n<br/>The error: <code>Failed to download Amazon Corretto 18.0.2. EventQueue.isDispatchThread()=false Current thread: Thread[ApplicationImpl pooled thread 110,4,main] 2031890033 SystemEventQueueThread: Thread[AWT-EventQueue-0,6,main] 1808191328</code><br/></p>\n<p><br/> This was what I was trying to fix: <a href=\"https://i.stack.imgur.com/vmT0a.png\" rel=\"nofollow noreferrer\">Image</a> <code>Cannot access 'java.io.Serializable' which is a supertype of 'kotlin.Array'. Check your module classpath for missing or conflicting dependencies</code></p>\n<p>And it says that the <strong>JDK &quot;corretto-18&quot; is not found on the disk or corrupted</strong>.\n<br/><br/>Im using: IntelliJ up to date, Java 18</p>\n<p>Does anyone has a solution for this issue??</p>\n<p>Thanks-</p>\n"},{"tags":["java","jpa","criteria"],"comments":[{"owner":{"account_id":228790,"reputation":2446,"user_id":491320,"accept_rate":85,"display_name":"danizmax"},"score":0,"creation_date":1433493843,"post_id":18958614,"comment_id":49386422,"body_markdown":"possible duplicate of [Union All and Sum with JPA CriteriaBuilder](http://stackoverflow.com/questions/9104989/union-all-and-sum-with-jpa-criteriabuilder)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9104989/union-all-and-sum-with-jpa-criteriabuilder\">Union All and Sum with JPA CriteriaBuilder</a>"}],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1379950511,"post_id":18958802,"comment_id":28007171,"body_markdown":"http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL#UNION link to EL docs with examples","body":"<a href=\"http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL#UNION\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> link to EL docs with examples"}],"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1550601302,"creation_date":1379937870,"answer_id":18958802,"question_id":18958614,"body_markdown":"SQL supports UNION, but JPA 2.0 JPQL does not. Most unions can be done in terms of joins, but some can not, and some are more difficult to express using joins.\r\n\r\nEclipseLink supports UNION.","title":"UNION to JPA Query","body":"<p>SQL supports UNION, but JPA 2.0 JPQL does not. Most unions can be done in terms of joins, but some can not, and some are more difficult to express using joins.</p>\n\n<p>EclipseLink supports UNION.</p>\n"},{"comments":[{"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"score":2,"creation_date":1470668675,"post_id":25135559,"comment_id":65030597,"body_markdown":"How to handle scenario if in subquery has more than 1000 results?","body":"How to handle scenario if in subquery has more than 1000 results?"},{"owner":{"account_id":4845979,"reputation":809,"user_id":3909596,"display_name":"szczepanpp"},"score":0,"creation_date":1473373331,"post_id":25135559,"comment_id":66128174,"body_markdown":"For MS SQL it&#39;s over 2000 actually, which doesn&#39;t change the fact it&#39;s not going to work.\n\nYou could fetch all those id&#39;s and then partition resulting list by the limit you want to set and then execute query for all sublists and join results. It&#39;s not that bad considering the way JPA works but then, as always, it depends on your use case.","body":"For MS SQL it&#39;s over 2000 actually, which doesn&#39;t change the fact it&#39;s not going to work.  You could fetch all those id&#39;s and then partition resulting list by the limit you want to set and then execute query for all sublists and join results. It&#39;s not that bad considering the way JPA works but then, as always, it depends on your use case."},{"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"score":1,"creation_date":1509114202,"post_id":25135559,"comment_id":80902080,"body_markdown":"Not even mentioning that certain usage of UNION is about avoiding OR (when tuning SQL performance). I personally have a sub-expression with OR what is very slow. After rewriting to use union it become  magnitude faster. Now I have to find a solution to build it up with CriteriaBuilder :(","body":"Not even mentioning that certain usage of UNION is about avoiding OR (when tuning SQL performance). I personally have a sub-expression with OR what is very slow. After rewriting to use union it become  magnitude faster. Now I have to find a solution to build it up with CriteriaBuilder :("},{"owner":{"account_id":2065937,"reputation":587,"user_id":1841447,"accept_rate":50,"display_name":"webyildirim"},"score":0,"creation_date":1512743476,"post_id":25135559,"comment_id":82392894,"body_markdown":"This &#39;or&#39; solution might cause to block usage of some indexes unfortunatelly","body":"This &#39;or&#39; solution might cause to block usage of some indexes unfortunatelly"},{"owner":{"account_id":1084159,"reputation":624,"user_id":1080301,"accept_rate":78,"display_name":"Thomas"},"score":0,"creation_date":1583321718,"post_id":25135559,"comment_id":107074543,"body_markdown":"The problem with over 1000 values (can be configured) does not apply with subqueries in Oracle. It only occurs when using parameters.","body":"The problem with over 1000 values (can be configured) does not apply with subqueries in Oracle. It only occurs when using parameters."}],"tags":[],"owner":{"account_id":4845979,"reputation":809,"user_id":3909596,"display_name":"szczepanpp"},"comment_count":5,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1407231372,"creation_date":1407231372,"answer_id":25135559,"question_id":18958614,"body_markdown":"Depending on the case, one could use sub queries, something like:\r\n\r\n    select e\r\n    from Entity e\r\n    where e.id in\r\n    (\r\n      select e.id\r\n      from Entity2 e2\r\n           join e2.entity e\r\n      where e2.someProperty = &#39;value&#39;\r\n    )\r\n          or e.id in\r\n    (\r\n      select e.id\r\n      from Entity3 e3\r\n           join e3.entity e\r\n      where e3.someProperty = &#39;value2&#39;\r\n    )\r\n\r\n","title":"UNION to JPA Query","body":"<p>Depending on the case, one could use sub queries, something like:</p>\n\n<pre><code>select e\nfrom Entity e\nwhere e.id in\n(\n  select e.id\n  from Entity2 e2\n       join e2.entity e\n  where e2.someProperty = 'value'\n)\n      or e.id in\n(\n  select e.id\n  from Entity3 e3\n       join e3.entity e\n  where e3.someProperty = 'value2'\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2978147,"reputation":1529,"user_id":2528761,"display_name":"Ali Saeed"},"score":1,"creation_date":1480010925,"post_id":38977477,"comment_id":68807189,"body_markdown":"genius!!! should be considered the best answer until JPQL supports unions","body":"genius!!! should be considered the best answer until JPQL supports unions"},{"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"score":11,"creation_date":1509096365,"post_id":38977477,"comment_id":80890795,"body_markdown":"Well, this is one of the obvious workarounds, but I also want to order the results all together for example and i prefer to do this in sql than in java","body":"Well, this is one of the obvious workarounds, but I also want to order the results all together for example and i prefer to do this in sql than in java"},{"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"score":0,"creation_date":1509354225,"post_id":38977477,"comment_id":80969035,"body_markdown":"But that was not the question, kopelitsa, and you can always use SQL and make views.","body":"But that was not the question, kopelitsa, and you can always use SQL and make views."},{"owner":{"account_id":3476620,"reputation":1368,"user_id":2909636,"accept_rate":100,"display_name":"chaserb"},"score":1,"creation_date":1517350727,"post_id":38977477,"comment_id":84058411,"body_markdown":"I disagree. @Giovane asked if UNIONS could be performed in JPA, and the fact that a UNION could be accomplished in a SQL view is beside the point. Not all JPA use cases have the latitude to require database owners to create views in their databases.","body":"I disagree. @Giovane asked if UNIONS could be performed in JPA, and the fact that a UNION could be accomplished in a SQL view is beside the point. Not all JPA use cases have the latitude to require database owners to create views in their databases."},{"owner":{"account_id":1683624,"reputation":505,"user_id":1547327,"accept_rate":33,"display_name":"Sml004"},"score":9,"creation_date":1545038317,"post_id":38977477,"comment_id":94472469,"body_markdown":"but we cannot do pagination.","body":"but we cannot do pagination."},{"owner":{"account_id":2017031,"reputation":368,"user_id":1804091,"accept_rate":0,"display_name":"Motolola"},"score":0,"creation_date":1595453418,"post_id":38977477,"comment_id":111483979,"body_markdown":"This is a solution I had considered, but I guess there will be multiple database connections which will mean lesser performance, but with UNION ALL, you only throw you SQL query once.","body":"This is a solution I had considered, but I guess there will be multiple database connections which will mean lesser performance, but with UNION ALL, you only throw you SQL query once."},{"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"score":0,"creation_date":1595491358,"post_id":38977477,"comment_id":111494456,"body_markdown":"@Motolola That&#39;s right, but on the other hand can a UNION ALL be very expensive in database systems. The connection shouldn&#39;t be a problem as long as you use connection pools.","body":"@Motolola That&#39;s right, but on the other hand can a UNION ALL be very expensive in database systems. The connection shouldn&#39;t be a problem as long as you use connection pools."},{"owner":{"account_id":2017031,"reputation":368,"user_id":1804091,"accept_rate":0,"display_name":"Motolola"},"score":0,"creation_date":1595501370,"post_id":38977477,"comment_id":111499673,"body_markdown":"@cslotty I haven&#39;t put both methods in a comparative tests, but my guess is one big call with &quot;UNION ALL&quot; should perform better than multiple smaller calls (considering multiple connections as well) on the overall app-database system.","body":"@cslotty I haven&#39;t put both methods in a comparative tests, but my guess is one big call with &quot;UNION ALL&quot; should perform better than multiple smaller calls (considering multiple connections as well) on the overall app-database system."},{"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"score":0,"creation_date":1595576441,"post_id":38977477,"comment_id":111528460,"body_markdown":"@Motolola It really depends on the individual database system and the regarding context, and needs to be compared. Any assumption on the outcome is speculative as long as it can&#39;t be compared using JPA. I can only say from my experience, that UNION ALL could even be more costly than joining arrays in code, when using a connection pool.","body":"@Motolola It really depends on the individual database system and the regarding context, and needs to be compared. Any assumption on the outcome is speculative as long as it can&#39;t be compared using JPA. I can only say from my experience, that UNION ALL could even be more costly than joining arrays in code, when using a connection pool."},{"owner":{"account_id":2017031,"reputation":368,"user_id":1804091,"accept_rate":0,"display_name":"Motolola"},"score":0,"creation_date":1595588856,"post_id":38977477,"comment_id":111534138,"body_markdown":"@cslotty definitely speculative, I used a &quot;UNION ALL&quot; on a certain project that requires more than 1000 lists to be sent to Oracle, although the overall consensus from my team was to avoid multiple calls when possible, but i &#39;ll admit we never put it to a benchmark test, so it is a speculation as you have mentioned.","body":"@cslotty definitely speculative, I used a &quot;UNION ALL&quot; on a certain project that requires more than 1000 lists to be sent to Oracle, although the overall consensus from my team was to avoid multiple calls when possible, but i &#39;ll admit we never put it to a benchmark test, so it is a speculation as you have mentioned."},{"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"score":0,"creation_date":1626791665,"post_id":38977477,"comment_id":120984294,"body_markdown":"@Sml004 Right - for pagination, again, you would have to make a proper view and then query the view. This is always an option, and it always depends on the use case, which solution you choose.","body":"@Sml004 Right - for pagination, again, you would have to make a proper view and then query the view. This is always an option, and it always depends on the use case, which solution you choose."}],"tags":[],"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"comment_count":11,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1471358680,"creation_date":1471357365,"answer_id":38977477,"question_id":18958614,"body_markdown":"One thing just comes to my mind (searching for the exact same problem): \r\n\r\nPerform two different JPA queries on the same entity mapping and simply add the objects of the second result to the list (or set to avoid duplicates) of the first result.\r\n\r\nThat way you get the same effect as with a UNION, the difference being that you use two SQL statements instead of one. But actually, I would expect that to perform just as good as issueing one UNION statement.","title":"UNION to JPA Query","body":"<p>One thing just comes to my mind (searching for the exact same problem): </p>\n\n<p>Perform two different JPA queries on the same entity mapping and simply add the objects of the second result to the list (or set to avoid duplicates) of the first result.</p>\n\n<p>That way you get the same effect as with a UNION, the difference being that you use two SQL statements instead of one. But actually, I would expect that to perform just as good as issueing one UNION statement.</p>\n"},{"comments":[{"owner":{"display_name":"user8558216"},"score":2,"creation_date":1517510690,"post_id":43117761,"comment_id":84135703,"body_markdown":"Errm nope. JPQL has no &quot;UNION&quot; as all answers tell you. The only way that a JPA provider will accept that is if it provides a VENDOR EXTENSION. And has the OP said what JPA provider is used? Nope.","body":"Errm nope. JPQL has no &quot;UNION&quot; as all answers tell you. The only way that a JPA provider will accept that is if it provides a VENDOR EXTENSION. And has the OP said what JPA provider is used? Nope."}],"tags":[],"owner":{"account_id":3343454,"reputation":11,"user_id":2809140,"display_name":"Aman Sehgal"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1490876573,"creation_date":1490876573,"answer_id":43117761,"question_id":18958614,"body_markdown":"You can directly use UNION in your query.\r\nThe following query returns id of friends from FRIENDSHIP table.\r\n \r\nEg:\r\n\r\n    TypedQuery&lt;String&gt; queryFriend = em.createQuery(&quot;SELECT f.Id FROM Friendship f WHERE f.frStuId = :stuId UNION &quot;\r\n                                     + &quot;SELECT f.frStuId FROM Friendship f WHERE f.FriendId = :stuId&quot;, String.class);\r\n    queryFriend.setParameter(&quot;stuId&quot;, stuId);\r\n        \r\n    List&lt;String&gt; futureFriends = queryFriend.getResultList();","title":"UNION to JPA Query","body":"<p>You can directly use UNION in your query.\nThe following query returns id of friends from FRIENDSHIP table.</p>\n\n<p>Eg:</p>\n\n<pre><code>TypedQuery&lt;String&gt; queryFriend = em.createQuery(\"SELECT f.Id FROM Friendship f WHERE f.frStuId = :stuId UNION \"\n                                 + \"SELECT f.frStuId FROM Friendship f WHERE f.FriendId = :stuId\", String.class);\nqueryFriend.setParameter(\"stuId\", stuId);\n\nList&lt;String&gt; futureFriends = queryFriend.getResultList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2017031,"reputation":368,"user_id":1804091,"accept_rate":0,"display_name":"Motolola"},"score":0,"creation_date":1595453508,"post_id":50961822,"comment_id":111484002,"body_markdown":"True, I don&#39;t know why this is voted down, but it is a very valid option, especially in terms of performance.","body":"True, I don&#39;t know why this is voted down, but it is a very valid option, especially in terms of performance."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1619592152,"post_id":50961822,"comment_id":118948110,"body_markdown":"@Motolola maybe it&#39;s because the Answer is about JPA and not about Native queries?","body":"@Motolola maybe it&#39;s because the Answer is about JPA and not about Native queries?"}],"tags":[],"owner":{"account_id":10693952,"reputation":115,"user_id":7871836,"display_name":"Thieu Anh"},"comment_count":2,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1529562777,"creation_date":1529562777,"answer_id":50961822,"question_id":18958614,"body_markdown":"using EntityManager.createNativeQuery(...);\r\nIt&#39;s allow you use UNION","title":"UNION to JPA Query","body":"<p>using EntityManager.createNativeQuery(...);\nIt's allow you use UNION</p>\n"},{"comments":[{"owner":{"account_id":3403134,"reputation":188,"user_id":2854878,"display_name":"Cleberson Falk"},"score":0,"creation_date":1700961741,"post_id":54718344,"comment_id":136716088,"body_markdown":"Can i return an pageable result like a Page&lt;MyCustomDataDto&gt;?","body":"Can i return an pageable result like a Page&lt;MyCustomDataDto&gt;?"}],"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1550273325,"creation_date":1550273325,"answer_id":54718344,"question_id":18958614,"body_markdown":"write native query (set it true , default its false) - ex.\r\n\r\n    String findQuery = &quot;select xyz from abc union select abc from def&quot;\r\n    @Query(value = findQuery, nativeQuery = true)\r\n    //method","title":"UNION to JPA Query","body":"<p>write native query (set it true , default its false) - ex.</p>\n\n<pre><code>String findQuery = \"select xyz from abc union select abc from def\"\n@Query(value = findQuery, nativeQuery = true)\n//method\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7184343,"reputation":850,"user_id":5486945,"display_name":"yOshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553267377,"creation_date":1553266981,"answer_id":55302501,"question_id":18958614,"body_markdown":"There is no direct union for JPA, what I did was to build two specifications.\r\n\r\n    Specification&lt;Task&gt; specification = Specification.where(null);\r\n    Specification&lt;Task&gt; specification2 = Specification.where(null;\r\n\r\nThey belong to a single table but return different values\r\n\r\n    specification = specification.and((root, criteriaQuery, criteriaBuilder) -&gt; criteriaBuilder.equal(criteriaBuilder.function(MONTH, Integer.class, root.get(&quot;deliveryExpirationDate&quot;)), month));\r\n            specification2 = specification2.and((root, criteriaQuery, criteriaBuilder) -&gt; criteriaBuilder.lessThan(criteriaBuilder.function(MONTH, Integer.class, root.get(&quot;deliveryExpirationDate&quot;)), month))\r\n                .and((root, criteriaQuery, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;enable&quot;), true));\r\n\r\nfor this example it is a table of tasks that in the first specification I need the tasks of the current month enabled and disabled, and in the second specification I only need the tasks enabled of the previous months.\r\n\r\n    Specification&lt;Task&gt; specificationFullJoin = Specification.where(specification).or(specification2);\r\n\r\nEsto es muy &#250;til para que la lista de tareas devueltas tenga paginaci&#243;n.\r\n\r\n    taskRepository.findAll(specificationFullJoin, pageable).map(TaskResponse::new); //Here you can continue adding filters, sort or search.\r\n\r\nIt helps me a lot, I hope it is what they are looking for or that it serves them something.\r\n\r\n\r\n","title":"UNION to JPA Query","body":"<p>There is no direct union for JPA, what I did was to build two specifications.</p>\n\n<pre><code>Specification&lt;Task&gt; specification = Specification.where(null);\nSpecification&lt;Task&gt; specification2 = Specification.where(null;\n</code></pre>\n\n<p>They belong to a single table but return different values</p>\n\n<pre><code>specification = specification.and((root, criteriaQuery, criteriaBuilder) -&gt; criteriaBuilder.equal(criteriaBuilder.function(MONTH, Integer.class, root.get(\"deliveryExpirationDate\")), month));\n        specification2 = specification2.and((root, criteriaQuery, criteriaBuilder) -&gt; criteriaBuilder.lessThan(criteriaBuilder.function(MONTH, Integer.class, root.get(\"deliveryExpirationDate\")), month))\n            .and((root, criteriaQuery, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(\"enable\"), true));\n</code></pre>\n\n<p>for this example it is a table of tasks that in the first specification I need the tasks of the current month enabled and disabled, and in the second specification I only need the tasks enabled of the previous months.</p>\n\n<pre><code>Specification&lt;Task&gt; specificationFullJoin = Specification.where(specification).or(specification2);\n</code></pre>\n\n<p>Esto es muy útil para que la lista de tareas devueltas tenga paginación.</p>\n\n<pre><code>taskRepository.findAll(specificationFullJoin, pageable).map(TaskResponse::new); //Here you can continue adding filters, sort or search.\n</code></pre>\n\n<p>It helps me a lot, I hope it is what they are looking for or that it serves them something.</p>\n"},{"tags":[],"owner":{"account_id":4790702,"reputation":21,"user_id":3869979,"display_name":"user3869979"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656234448,"creation_date":1656234448,"answer_id":72760234,"question_id":18958614,"body_markdown":"I have solved this in my project.\r\n\r\n**Union/Union All will work if you change it to native query and use like below** \r\n\r\n    //In Your Entity class\r\n    @NamedNativeQuery(name=&quot;EntityClassName.functionName&quot;, \r\n    query=&quot;your_native_query&quot;)\r\n\r\n    //In your Repository class\r\n    @Query(native=true)\r\n    List&lt;Result&gt; functionName();\r\n\r\n**Below method of defining Native query in JPA repository will not solve this problem** \r\n\r\n    @Query(value=&quot;your_native_query&quot;, native=true)\r\n\r\n will not","title":"UNION to JPA Query","body":"<p>I have solved this in my project.</p>\n<p><strong>Union/Union All will work if you change it to native query and use like below</strong></p>\n<pre><code>//In Your Entity class\n@NamedNativeQuery(name=&quot;EntityClassName.functionName&quot;, \nquery=&quot;your_native_query&quot;)\n\n//In your Repository class\n@Query(native=true)\nList&lt;Result&gt; functionName();\n</code></pre>\n<p><strong>Below method of defining Native query in JPA repository will not solve this problem</strong></p>\n<pre><code>@Query(value=&quot;your_native_query&quot;, native=true)\n</code></pre>\n<p>will not</p>\n"}],"owner":{"account_id":3168929,"reputation":753,"user_id":2678337,"accept_rate":80,"display_name":"Giovane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121415,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":18958802,"answer_count":8,"score":46,"last_activity_date":1674738965,"creation_date":1379937337,"question_id":18958614,"body_markdown":"Is it possible to query &quot;UNION&quot; in JPA and even &quot;Criteria Builder&quot;?\r\n\r\nI&#39;m looking for examples, but so far i got no result.\r\n\r\nDoes anyone have any examples of how to use it?\r\n\r\nOr would that be with native sql?","title":"UNION to JPA Query","body":"<p>Is it possible to query \"UNION\" in JPA and even \"Criteria Builder\"?</p>\n\n<p>I'm looking for examples, but so far i got no result.</p>\n\n<p>Does anyone have any examples of how to use it?</p>\n\n<p>Or would that be with native sql?</p>\n"},{"tags":["java","maven","pom.xml","dependency-management"],"comments":[{"owner":{"account_id":19716283,"reputation":79,"user_id":14435654,"display_name":"mrxaxen"},"score":0,"creation_date":1674216388,"post_id":75183519,"comment_id":132671875,"body_markdown":"It seems maven can&#39;t find the package `com.hcb.neurotec.migrations.conversion` in the poms. Are you sure you have included it?","body":"It seems maven can&#39;t find the package <code>com.hcb.neurotec.migrations.conversion</code> in the poms. Are you sure you have included it?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1674218810,"post_id":75183519,"comment_id":132672634,"body_markdown":"Did you `mvn install`ed the required dependency before?","body":"Did you <code>mvn install</code>ed the required dependency before?"},{"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"score":0,"creation_date":1674403700,"post_id":75183519,"comment_id":132702588,"body_markdown":"@mrxaxen, yes it is included in the older module. \n\nPS: Excuse the late reply please, been very unwell.","body":"@mrxaxen, yes it is included in the older module.   PS: Excuse the late reply please, been very unwell."},{"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"score":0,"creation_date":1674403711,"post_id":75183519,"comment_id":132702591,"body_markdown":"@ValerijDobler, yes I did this first before building the new module.","body":"@ValerijDobler, yes I did this first before building the new module."}],"answers":[{"tags":[],"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674738946,"creation_date":1674738946,"answer_id":75246642,"question_id":75183519,"body_markdown":"Solved the error. Found out that the module I intend on importing as a dependency when built with mvn clean install, does not build correctly in the first place because:\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n&lt;!--            Add class with main method to manifest--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.hcb.neurotec.migrations.conversion.AbisExportConverter&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThe module is not a spring project, so when the build gets to this block of code, it encounters issues that aren&#39;t surprisingly flagged. Removing this block in the old module allowed the new module build successfully.","title":"Cannot find classes from imported module during maven build","body":"<p>Solved the error. Found out that the module I intend on importing as a dependency when built with mvn clean install, does not build correctly in the first place because:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n&lt;!--            Add class with main method to manifest--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.hcb.neurotec.migrations.conversion.AbisExportConverter&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>The module is not a spring project, so when the build gets to this block of code, it encounters issues that aren't surprisingly flagged. Removing this block in the old module allowed the new module build successfully.</p>\n"}],"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674738946,"creation_date":1674214728,"question_id":75183519,"body_markdown":"I am working on a module in a project that&#39;s to convert old data structure to match updated data structure. Since most of the methods and classes required for said conversion have already been implemented in a prior module in the same project, I added the prior module as a dependency in the new module.\r\nIt works, as I can access the required classes and their public methods. However, when I run &#39;mvn clean install&#39; to build the new module, the new module&#39;s build fails with errors about not finding the imported classes.\r\n\r\nHere is the parent pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--suppress MavenModelInspection --&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hcb-migration-bienrol&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\r\n        &lt;maven.compiler.version&gt;3.8.0&lt;/maven.compiler.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.build.resourceEncoding&gt;UTF-8&lt;/project.build.resourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;abis-migrations-imports&lt;/module&gt;\r\n        &lt;module&gt;abis-migrations-export&lt;/module&gt;\r\n        &lt;module&gt;abis-migrations-conversion&lt;/module&gt;\r\n        &lt;module&gt;runtime-migrations-export&lt;/module&gt;\r\n        &lt;module&gt;runtime-migrations-conversion&lt;/module&gt;\r\n        &lt;module&gt;runtime-migrations-import&lt;/module&gt;\r\n\r\n    &lt;/modules&gt;\r\n    &lt;distributionManagement&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\r\n            &lt;id&gt;archiva-snapshot-repo&lt;/id&gt;\r\n            &lt;name&gt;hcb-snapshot-repo&lt;/name&gt;\r\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-snapshot-repo/&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n        &lt;repository&gt;\r\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\r\n            &lt;id&gt;archiva-release-repo&lt;/id&gt;\r\n            &lt;name&gt;hcb-release-repo&lt;/name&gt;\r\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-release-repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;id&gt;archiva-snapshot-repo&lt;/id&gt;\r\n            &lt;name&gt;hcb-snapshot-repo&lt;/name&gt;\r\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-snapshot-repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\r\n            &lt;id&gt;archiva-release-repo&lt;/id&gt;\r\n            &lt;name&gt;hcb-release-repo&lt;/name&gt;\r\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-release-repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThis is the pom file of the older module:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;hcb-migration-bienrol&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;artifactId&gt;abis-migrations-conversion&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- MMABIS client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hcb.3rdparty.libs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neurotec-abis-client-management-rest&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hcb.services.bioenroll&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bioenroll-inf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n&lt;!--            Add class with main method to manifest--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.hcb.neurotec.migrations.conversion.AbisExportConverter&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThis is the pom file of the module I am working on whose build fails:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;hcb-migration-bienrol&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;runtime-migrations-conversion&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\r\n            &lt;artifactId&gt;abis-migrations-conversion&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.hcb.runtime.migrations.conversion.RuntimeConversionApplication&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nHere is the build error:\r\n\r\n\r\n```\r\n[INFO] 45 errors\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  12.418 s\r\n[INFO] Finished at: 2023-01-20T12:23:07+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project runtime-migrations-conversion: Compilation failure: Compilation failure:\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[4,46] package com.hcb.neurotec.migrations.conversion does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[5,46] package com.hcb.neurotec.migrations.conversion does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[6,46] package com.hcb.neurotec.migrations.conversion does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[7,46] package com.hcb.neurotec.migrations.conversion does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[8,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[9,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[10,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[11,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[12,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[13,52] package com.hcb.neurotec.migrations.conversion.utils does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[27,59] package com.hcb.neurotec.migrations.conversion.utils does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[31,13] cannot find symbol\r\n[ERROR]   symbol:   class DirectoryUtils\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[32,13] cannot find symbol\r\n[ERROR]   symbol:   class ConversionDemograhpicsInfo\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[33,13] cannot find symbol\r\n[ERROR]   symbol:   class ConversionFaceInfo\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[34,13] cannot find symbol\r\n[ERROR]   symbol:   class ConversionPrintInfo\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[35,13] cannot find symbol\r\n[ERROR]   symbol:   class ConversionIrisInfo\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[39,13] cannot find symbol\r\n[ERROR]   symbol:   class SubjectDemographicsConverter\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[44,74] cannot find symbol\r\n[ERROR]   symbol:   class SubjectDemographicsConverter\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[50,42] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[63,42] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[95,35] cannot find symbol\r\n[ERROR]   symbol:   class SubjectDemographicsConverter\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[95,101] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[171,43] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[205,43] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[238,12] cannot find symbol\r\n[ERROR]   symbol:   class ConversionDemograhpicsInfo\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[7,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[8,52] package com.hcb.neurotec.migrations.conversion.utils does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[25,13] cannot find symbol\r\n[ERROR]   symbol:   class DirectoryUtils\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RConvertedRecordInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[63,69] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RConvertedRecordInfo\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[3,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[4,54] package com.hcb.neurotec.migrations.conversion.network does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[5,54] package com.hcb.neurotec.migrations.conversion.network does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[6,61] package com.hcb.neurotec.migrations.conversion.network.config does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[18,51] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionApplication\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[3,46] package com.hcb.neurotec.migrations.conversion does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[4,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[5,54] package com.hcb.neurotec.migrations.conversion.network does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[6,54] package com.hcb.neurotec.migrations.conversion.network does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[7,52] package com.hcb.neurotec.migrations.conversion.utils does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[15,59] package com.hcb.neurotec.migrations.conversion.utils does not exist\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[15,1] static import only from classes and interfaces\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[19,19] cannot find symbol\r\n[ERROR]   symbol:   class SubjectDemographicsConverter\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[22,34] cannot find symbol\r\n[ERROR]   symbol:   class EnrolmentAPI\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[22,61] cannot find symbol\r\n[ERROR]   symbol:   class ConfigurationAPI\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\r\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[26,80] cannot find symbol\r\n[ERROR]   symbol:   class ConversionException\r\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI have checked that they&#39;re both accounted for in the parent pom, I also ensured that the older module built successfully with &#39;mvn clean install&#39; before trying to build the module where it is used as a dependency.\r\n\r\n","title":"Cannot find classes from imported module during maven build","body":"<p>I am working on a module in a project that's to convert old data structure to match updated data structure. Since most of the methods and classes required for said conversion have already been implemented in a prior module in the same project, I added the prior module as a dependency in the new module.\nIt works, as I can access the required classes and their public methods. However, when I run 'mvn clean install' to build the new module, the new module's build fails with errors about not finding the imported classes.</p>\n<p>Here is the parent pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--suppress MavenModelInspection --&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\n    &lt;artifactId&gt;hcb-migration-bienrol&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n\n        &lt;maven.compiler.version&gt;3.8.0&lt;/maven.compiler.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.build.resourceEncoding&gt;UTF-8&lt;/project.build.resourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;abis-migrations-imports&lt;/module&gt;\n        &lt;module&gt;abis-migrations-export&lt;/module&gt;\n        &lt;module&gt;abis-migrations-conversion&lt;/module&gt;\n        &lt;module&gt;runtime-migrations-export&lt;/module&gt;\n        &lt;module&gt;runtime-migrations-conversion&lt;/module&gt;\n        &lt;module&gt;runtime-migrations-import&lt;/module&gt;\n\n    &lt;/modules&gt;\n    &lt;distributionManagement&gt;\n        &lt;snapshotRepository&gt;\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\n            &lt;id&gt;archiva-snapshot-repo&lt;/id&gt;\n            &lt;name&gt;hcb-snapshot-repo&lt;/name&gt;\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-snapshot-repo/&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;repository&gt;\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\n            &lt;id&gt;archiva-release-repo&lt;/id&gt;\n            &lt;name&gt;hcb-release-repo&lt;/name&gt;\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-release-repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;archiva-snapshot-repo&lt;/id&gt;\n            &lt;name&gt;hcb-snapshot-repo&lt;/name&gt;\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-snapshot-repo/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;!-- This repo requires credentials from your ~/.m2/settings.xml --&gt;\n            &lt;id&gt;archiva-release-repo&lt;/id&gt;\n            &lt;name&gt;hcb-release-repo&lt;/name&gt;\n            &lt;url&gt;http://archiva.hcb:8080/repository/archiva-release-repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom file of the older module:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;hcb-migration-bienrol&lt;/artifactId&gt;\n        &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;artifactId&gt;abis-migrations-conversion&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- MMABIS client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hcb.3rdparty.libs&lt;/groupId&gt;\n            &lt;artifactId&gt;neurotec-abis-client-management-rest&lt;/artifactId&gt;\n            &lt;version&gt;12.0.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hcb.services.bioenroll&lt;/groupId&gt;\n            &lt;artifactId&gt;bioenroll-inf&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n&lt;!--            Add class with main method to manifest--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.hcb.neurotec.migrations.conversion.AbisExportConverter&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom file of the module I am working on whose build fails:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;hcb-migration-bienrol&lt;/artifactId&gt;\n        &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;runtime-migrations-conversion&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hcb.migration.bioenrol&lt;/groupId&gt;\n            &lt;artifactId&gt;abis-migrations-conversion&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.hcb.runtime.migrations.conversion.RuntimeConversionApplication&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is the build error:</p>\n<pre><code>[INFO] 45 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  12.418 s\n[INFO] Finished at: 2023-01-20T12:23:07+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project runtime-migrations-conversion: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[4,46] package com.hcb.neurotec.migrations.conversion does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[5,46] package com.hcb.neurotec.migrations.conversion does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[6,46] package com.hcb.neurotec.migrations.conversion does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[7,46] package com.hcb.neurotec.migrations.conversion does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[8,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[9,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[10,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[11,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[12,52] package com.hcb.neurotec.migrations.conversion.pojos does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[13,52] package com.hcb.neurotec.migrations.conversion.utils does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[27,59] package com.hcb.neurotec.migrations.conversion.utils does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[31,13] cannot find symbol\n[ERROR]   symbol:   class DirectoryUtils\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[32,13] cannot find symbol\n[ERROR]   symbol:   class ConversionDemograhpicsInfo\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[33,13] cannot find symbol\n[ERROR]   symbol:   class ConversionFaceInfo\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[34,13] cannot find symbol\n[ERROR]   symbol:   class ConversionPrintInfo\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[35,13] cannot find symbol\n[ERROR]   symbol:   class ConversionIrisInfo\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[39,13] cannot find symbol\n[ERROR]   symbol:   class SubjectDemographicsConverter\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[44,74] cannot find symbol\n[ERROR]   symbol:   class SubjectDemographicsConverter\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[50,42] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[63,42] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[95,35] cannot find symbol\n[ERROR]   symbol:   class SubjectDemographicsConverter\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[95,101] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[171,43] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[205,43] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/pojo/RConversionSubInfo.java:[238,12] cannot find symbol\n[ERROR]   symbol:   class ConversionDemograhpicsInfo\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.pojo.RConversionSubInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[7,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[8,52] package com.hcb.neurotec.migrations.conversion.utils does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[25,13] cannot find symbol\n[ERROR]   symbol:   class DirectoryUtils\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RConvertedRecordInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RConvertedRecordInfo.java:[63,69] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RConvertedRecordInfo\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[3,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[4,54] package com.hcb.neurotec.migrations.conversion.network does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[5,54] package com.hcb.neurotec.migrations.conversion.network does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[6,61] package com.hcb.neurotec.migrations.conversion.network.config does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionApplication.java:[18,51] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionApplication\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[3,46] package com.hcb.neurotec.migrations.conversion does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[4,56] package com.hcb.neurotec.migrations.conversion.exception does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[5,54] package com.hcb.neurotec.migrations.conversion.network does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[6,54] package com.hcb.neurotec.migrations.conversion.network does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[7,52] package com.hcb.neurotec.migrations.conversion.utils does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[15,59] package com.hcb.neurotec.migrations.conversion.utils does not exist\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[15,1] static import only from classes and interfaces\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[19,19] cannot find symbol\n[ERROR]   symbol:   class SubjectDemographicsConverter\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[22,34] cannot find symbol\n[ERROR]   symbol:   class EnrolmentAPI\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[22,61] cannot find symbol\n[ERROR]   symbol:   class ConfigurationAPI\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\n[ERROR] /C:/Users/ikechukwua/IdeaProjects/migration-bioenrol/runtime-migrations-conversion/src/main/java/com/hcb/runtime/migrations/conversion/RuntimeConversionImpl.java:[26,80] cannot find symbol\n[ERROR]   symbol:   class ConversionException\n[ERROR]   location: class com.hcb.runtime.migrations.conversion.RuntimeConversionImpl\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n<p>I have checked that they're both accounted for in the parent pom, I also ensured that the older module built successfully with 'mvn clean install' before trying to build the module where it is used as a dependency.</p>\n"},{"tags":["java","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674673140,"post_id":75237933,"comment_id":132766968,"body_markdown":"The first one fails because you should use or `@DataJpaTest` (for a test slice) **or** `@SpringBootTest` for a full blown integration test. Adding both to a testcase doesn&#39;t make sense. Your tests fail because there is no `@SpringBootConfiguration` class to be found because you removed the application. You now basically have a regular Spring application without Spring Boot features. So you will need to manually configure your testing by providing the configuration.","body":"The first one fails because you should use or <code>@DataJpaTest</code> (for a test slice) <b>or</b> <code>@SpringBootTest</code> for a full blown integration test. Adding both to a testcase doesn&#39;t make sense. Your tests fail because there is no <code>@SpringBootConfiguration</code> class to be found because you removed the application. You now basically have a regular Spring application without Spring Boot features. So you will need to manually configure your testing by providing the configuration."},{"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"score":0,"creation_date":1674684165,"post_id":75237933,"comment_id":132770000,"body_markdown":"Thanks for your comment, but this is exactly what I explain (I don&#39;t have SpringBootTest because it&#39;s not an application and first case is not working because I have multiple initialisations). My question is about how to test it and which set of annotations I need. I expected the last one working.","body":"Thanks for your comment, but this is exactly what I explain (I don&#39;t have SpringBootTest because it&#39;s not an application and first case is not working because I have multiple initialisations). My question is about how to test it and which set of annotations I need. I expected the last one working."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674713726,"post_id":75237933,"comment_id":132773765,"body_markdown":"Why would the last one work as that still is an `@SpringBootTest` which cannot find the class with `@SpringBootApplication` to inspect it to know what to instantiate. (Or the `@SpringBootConfiguration` that is), without that ther will be no auto configuration.","body":"Why would the last one work as that still is an <code>@SpringBootTest</code> which cannot find the class with <code>@SpringBootApplication</code> to inspect it to know what to instantiate. (Or the <code>@SpringBootConfiguration</code> that is), without that ther will be no auto configuration."},{"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"score":0,"creation_date":1674718082,"post_id":75237933,"comment_id":132774428,"body_markdown":"Could I use @SpringBootConfiguration someplace in the Test to enable the Spring Boot autoconfiguration?","body":"Could I use @SpringBootConfiguration someplace in the Test to enable the Spring Boot autoconfiguration?"}],"answers":[{"tags":[],"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674738834,"creation_date":1674737945,"answer_id":75246454,"question_id":75237933,"body_markdown":"This is the working approach:\r\n\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class CustomerRepositoryTests {\r\n\r\n   @SpringBootApplication\r\n   static class TestConfig {}\r\n\r\n   @Autowired\r\n   private TestEntityManager entityManager;\r\n\r\n   @Autowired\r\n   private CustomerRepository customers;\r\n\r\n   @Test\r\n   public void testFindByLastName() {\r\n      ......\r\n\r\n   }\r\n}\r\n```\r\n\r\nSo each test class will autoconfigure the context using Spring Boot.\r\n\r\nReference: [spring-data-examples repository](https://github.com/spring-projects/spring-data-examples/blob/main/jpa/showcase/src/test/java/example/springdata/jpa/showcase/AbstractShowcaseTest.java)\r\n\r\n\r\n","title":"Testing library that is using spring boot 3","body":"<p>This is the working approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class CustomerRepositoryTests {\n\n   @SpringBootApplication\n   static class TestConfig {}\n\n   @Autowired\n   private TestEntityManager entityManager;\n\n   @Autowired\n   private CustomerRepository customers;\n\n   @Test\n   public void testFindByLastName() {\n      ......\n\n   }\n}\n</code></pre>\n<p>So each test class will autoconfigure the context using Spring Boot.</p>\n<p>Reference: <a href=\"https://github.com/spring-projects/spring-data-examples/blob/main/jpa/showcase/src/test/java/example/springdata/jpa/showcase/AbstractShowcaseTest.java\" rel=\"nofollow noreferrer\">spring-data-examples repository</a></p>\n"}],"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1717,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75246454,"answer_count":1,"score":1,"last_activity_date":1674738834,"creation_date":1674669176,"question_id":75237933,"body_markdown":"I have a library and I want to implement an integrations test for the Repository (only an example for a more complex case).\r\n\r\nTo reproduce the case, I used [this official example](https://github.com/spring-guides/gs-accessing-data-jpa/tree/main/complete), but removing the [`AccessingDataJpaApplication.java`](https://github.com/spring-guides/gs-accessing-data-jpa/blob/main/complete/src/main/java/com/example/accessingdatajpa/AccessingDataJpaApplication.java) class because I will expose it as a library and not as application.\r\n\r\nNow that the repo does not have the `@SpringBootApplication` annotation, [the test](https://github.com/spring-guides/gs-accessing-data-jpa/blob/main/complete/src/test/java/com/example/accessingdatajpa/CustomerRepositoryTests.java) will fail because can not inject the [`private CustomerRepository customers;`](https://github.com/spring-guides/gs-accessing-data-jpa/blob/968981c6a08362eab5ef864b86418347e959bb1d/complete/src/test/java/com/example/accessingdatajpa/CustomerRepositoryTests.java#L34)\r\n\r\n\r\nHow to reproduce the case:\r\n```bash\r\ngit clone https://github.com/spring-guides/gs-accessing-data-jpa.git\r\ncd gs-accessing-data-jpa/complete\r\nmvn test # Working\r\nrm src/main/java/com/example/accessingdatajpa/AccessingDataJpaApplication.java\r\nmvn test # not working\r\n```\r\n\r\n**The question is, which is the right way to annotate this test if it is not an application?**\r\n\r\n\r\nI tried annotating the test with few combinations like:\r\n- Adding `@SpringBootTest`:\r\n  ```java\r\n  @ExtendWith(SpringExtension.class)\r\n  @DataJpaTest\r\n  @SpringBootTest\r\n  public class CustomerRepositoryTests {\r\n  }\r\n  ```\r\n  The error looks like try to say that there are multiple inizializations, I suppose that each annotation try to do its own:\r\n  ```txt\r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.067 s &lt;&lt;&lt; FAILURE! - in com.example.accessingdatajpa.CustomerRepositoryTests\r\n    [ERROR] com.example.accessingdatajpa.CustomerRepositoryTests  Time elapsed: 0.067 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class [com.example.accessingdatajpa.CustomerRepositoryTests]: [@org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper.class), @org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)]\r\n    ```\r\n- Setting only `@SpringBootTest`\r\n  ```java\r\n  @ExtendWith(SpringExtension.class)\r\n  @SpringBootTest\r\n  public class CustomerRepositoryTests {}\r\n  ```\r\n  Then I can not use the `TestEntityManager` and still is not able to inject the repository\r\n  ```txt\r\n   17:29:01.951 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [CustomerRepositoryTests]: using SpringBootContextLoader\r\n   17:29:01.954 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.example.accessingdatajpa.CustomerRepositoryTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n   17:29:01.954 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.accessingdatajpa.CustomerRepositoryTests]: CustomerRepositoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n   17:29:01.964 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [CustomerRepositoryTests]: [ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer, DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer]\r\n   [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.117 s &lt;&lt;&lt; FAILURE! - in com.example.accessingdatajpa.CustomerRepositoryTests\r\n   [ERROR] com.example.accessingdatajpa.CustomerRepositoryTests  Time elapsed: 0.116 s  &lt;&lt;&lt; ERROR!\r\n   java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.getName()&quot; because &quot;found&quot; is null\r\n  ```\r\n- And `@SpringBootTest(classes = {CustomerRepository.class})`:\r\n  ```java \r\n  @ExtendWith(SpringExtension.class)\r\n  @SpringBootTest(classes = {CustomerRepository.class})\r\n  public class CustomerRepositoryTests {}\r\n  ```\r\n  With error: \r\n  ```text\r\n   org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.example.accessingdatajpa.CustomerRepositoryTests&#39;: Unsatisfied dependency expressed through field &#39;customers&#39;: No qualifying bean of type &#39;com.example.accessingdatajpa.CustomerRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n  ```\r\n  \r\nMaybe the solution is related to `[com.example.accessingdatajpa.CustomerRepositoryTests]: CustomerRepositoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.`. But how to do it exactly? \r\n\r\nBTW: I found [this response](https://stackoverflow.com/questions/58175467/testing-spring-boot-library-modules) in Stackoverflow, but it is not working. Maybe because the Spring version.\r\n  \r\n","title":"Testing library that is using spring boot 3","body":"<p>I have a library and I want to implement an integrations test for the Repository (only an example for a more complex case).</p>\n<p>To reproduce the case, I used <a href=\"https://github.com/spring-guides/gs-accessing-data-jpa/tree/main/complete\" rel=\"nofollow noreferrer\">this official example</a>, but removing the <a href=\"https://github.com/spring-guides/gs-accessing-data-jpa/blob/main/complete/src/main/java/com/example/accessingdatajpa/AccessingDataJpaApplication.java\" rel=\"nofollow noreferrer\"><code>AccessingDataJpaApplication.java</code></a> class because I will expose it as a library and not as application.</p>\n<p>Now that the repo does not have the <code>@SpringBootApplication</code> annotation, <a href=\"https://github.com/spring-guides/gs-accessing-data-jpa/blob/main/complete/src/test/java/com/example/accessingdatajpa/CustomerRepositoryTests.java\" rel=\"nofollow noreferrer\">the test</a> will fail because can not inject the <a href=\"https://github.com/spring-guides/gs-accessing-data-jpa/blob/968981c6a08362eab5ef864b86418347e959bb1d/complete/src/test/java/com/example/accessingdatajpa/CustomerRepositoryTests.java#L34\" rel=\"nofollow noreferrer\"><code>private CustomerRepository customers;</code></a></p>\n<p>How to reproduce the case:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>git clone https://github.com/spring-guides/gs-accessing-data-jpa.git\ncd gs-accessing-data-jpa/complete\nmvn test # Working\nrm src/main/java/com/example/accessingdatajpa/AccessingDataJpaApplication.java\nmvn test # not working\n</code></pre>\n<p><strong>The question is, which is the right way to annotate this test if it is not an application?</strong></p>\n<p>I tried annotating the test with few combinations like:</p>\n<ul>\n<li>Adding <code>@SpringBootTest</code>:\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\n@SpringBootTest\npublic class CustomerRepositoryTests {\n}\n</code></pre>\nThe error looks like try to say that there are multiple inizializations, I suppose that each annotation try to do its own:\n<pre><code>  [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.067 s &lt;&lt;&lt; FAILURE! - in com.example.accessingdatajpa.CustomerRepositoryTests\n  [ERROR] com.example.accessingdatajpa.CustomerRepositoryTests  Time elapsed: 0.067 s  &lt;&lt;&lt; ERROR!\n  java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class [com.example.accessingdatajpa.CustomerRepositoryTests]: [@org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper.class), @org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)]\n</code></pre>\n</li>\n<li>Setting only <code>@SpringBootTest</code>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class CustomerRepositoryTests {}\n</code></pre>\nThen I can not use the <code>TestEntityManager</code> and still is not able to inject the repository\n<pre><code>17:29:01.951 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [CustomerRepositoryTests]: using SpringBootContextLoader\n17:29:01.954 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.example.accessingdatajpa.CustomerRepositoryTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n17:29:01.954 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.accessingdatajpa.CustomerRepositoryTests]: CustomerRepositoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n17:29:01.964 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [CustomerRepositoryTests]: [ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer, DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.117 s &lt;&lt;&lt; FAILURE! - in com.example.accessingdatajpa.CustomerRepositoryTests\n[ERROR] com.example.accessingdatajpa.CustomerRepositoryTests  Time elapsed: 0.116 s  &lt;&lt;&lt; ERROR!\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.getName()&quot; because &quot;found&quot; is null\n</code></pre>\n</li>\n<li>And <code>@SpringBootTest(classes = {CustomerRepository.class})</code>:\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {CustomerRepository.class})\npublic class CustomerRepositoryTests {}\n</code></pre>\nWith error:\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.accessingdatajpa.CustomerRepositoryTests': Unsatisfied dependency expressed through field 'customers': No qualifying bean of type 'com.example.accessingdatajpa.CustomerRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n</li>\n</ul>\n<p>Maybe the solution is related to <code>[com.example.accessingdatajpa.CustomerRepositoryTests]: CustomerRepositoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.</code>. But how to do it exactly?</p>\n<p>BTW: I found <a href=\"https://stackoverflow.com/questions/58175467/testing-spring-boot-library-modules\">this response</a> in Stackoverflow, but it is not working. Maybe because the Spring version.</p>\n"},{"tags":["java","mongodb","spring-boot","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674738663,"creation_date":1674724433,"answer_id":75244141,"question_id":75238797,"body_markdown":"In Springboot, we have used the RedisTemplate to connect to the redis instance running in the cloud. The RedisTemplate is configured as a custom bean in the spring configuration. There you have the option of adding a custom serializer/deserializer. We have used spring&#39;s **GenericJackson2JsonRedisSerializer**, this serializer includes the object&#39;s type names in the serialized string and this would help during deserialization.\r\n\r\nIf you want to add any custom logic during serialization and deserialization, you can extend this class and override the respective methods.\r\n\r\nThe custom serializer can then be added to the redis template using the following code.\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Map&lt;String, Object&gt;&gt; redisTemplateStandAlone(LettuceConnectionFactory redisConnectionFactory) {\r\n    \tGenericJackson2JsonRedisSerializer serializer = new GenericJackson2JsonRedisSerializer();    \t      \r\n        RedisTemplate&lt;String, Map&lt;String, Object&gt;&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n        redisTemplate.setKeySerializer(serializer);\r\n        redisTemplate.setValueSerializer(serializer);         \r\n        redisTemplate.afterPropertiesSet();\r\n        return redisTemplate;\r\n    }\r\n\r\n\r\nIn case of Mongo DB, I believe a similar concept can be applied using custom converters.\r\n\r\nThe following sample code shows how to configure custom converters in your mongo configuration in spring\r\n\r\n      @Override\r\n      public MongoCustomConversions customConversions() {\r\n        List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;Converter&lt;?, ?&gt;&gt;();\r\n        converters.add(new CustomConverter());\r\n        return new MongoCustomConversions(converters);\r\n    }\r\n\r\n\r\nplease refer to the following links for more information on the same\r\n\r\n\r\n- https://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mapping-chapter.html\r\n- https://www.baeldung.com/spring-data-mongodb-index-annotations-converter\r\n- https://www.baeldung.com/spring-data-mongodb-zoneddatetime\r\n","title":"Java Serializer and Deserializer for MongoDB and Redis","body":"<p>In Springboot, we have used the RedisTemplate to connect to the redis instance running in the cloud. The RedisTemplate is configured as a custom bean in the spring configuration. There you have the option of adding a custom serializer/deserializer. We have used spring's <strong>GenericJackson2JsonRedisSerializer</strong>, this serializer includes the object's type names in the serialized string and this would help during deserialization.</p>\n<p>If you want to add any custom logic during serialization and deserialization, you can extend this class and override the respective methods.</p>\n<p>The custom serializer can then be added to the redis template using the following code.</p>\n<pre><code>@Bean\npublic RedisTemplate&lt;String, Map&lt;String, Object&gt;&gt; redisTemplateStandAlone(LettuceConnectionFactory redisConnectionFactory) {\n    GenericJackson2JsonRedisSerializer serializer = new GenericJackson2JsonRedisSerializer();             \n    RedisTemplate&lt;String, Map&lt;String, Object&gt;&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(redisConnectionFactory);\n    redisTemplate.setKeySerializer(serializer);\n    redisTemplate.setValueSerializer(serializer);         \n    redisTemplate.afterPropertiesSet();\n    return redisTemplate;\n}\n</code></pre>\n<p>In case of Mongo DB, I believe a similar concept can be applied using custom converters.</p>\n<p>The following sample code shows how to configure custom converters in your mongo configuration in spring</p>\n<pre><code>  @Override\n  public MongoCustomConversions customConversions() {\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;Converter&lt;?, ?&gt;&gt;();\n    converters.add(new CustomConverter());\n    return new MongoCustomConversions(converters);\n}\n</code></pre>\n<p>please refer to the following links for more information on the same</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mapping-chapter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mapping-chapter.html</a></li>\n<li><a href=\"https://www.baeldung.com/spring-data-mongodb-index-annotations-converter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-mongodb-index-annotations-converter</a></li>\n<li><a href=\"https://www.baeldung.com/spring-data-mongodb-zoneddatetime\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-mongodb-zoneddatetime</a></li>\n</ul>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244141,"answer_count":1,"score":0,"last_activity_date":1674738663,"creation_date":1674674130,"question_id":75238797,"body_markdown":"in the past, I used the Jackson annotation called @JsonSerialize and @JsonDeserialize to serialize java object to json and vice versa:\r\n\r\n    public class Dummy {\r\n\r\n        @JsonSerialize(using = CustomNumberSerializer.class)\r\n        @JsonDeserialize(using = CustomNumberDeserializer.class)\r\n        public BigDecimal money;\r\n    \r\n        @JsonSerialize(using = CustomDateSerializer.class)\r\n        @JsonDeserialize(using = CustomDateDeserializer.class)\r\n        public Date eventDate;\r\n\r\n    }\r\n\r\nand that works perfectly as I want. \r\n&lt;p&gt;Now I&#39;m wondering if there is any alternative that does the same job, but during the calls to databases like MongoDB and Redis.\r\n\r\nSo for example:\r\n\r\n    BigDecimal money = new BigDecimal(&quot;1234.56&quot;);\r\n    Date eventDate = new Date();\r\n    Dummy dummy = new Dummy(money, eventDate);\r\n\r\nStoring the dummy object into DB, I want to see the variables stored as String \r\n&lt;br&gt;money &quot;1.234,56&quot; \r\n&lt;br&gt;eventDate &quot;25/01/2023&quot;\r\n&lt;p&gt;when I query the db, I want that those strings are transformed back to their Type.\r\n&lt;br&gt;In this way, I can use a specific patter for each field.\r\n\r\nAny documentation/tutorial about that would be really appreciated.","title":"Java Serializer and Deserializer for MongoDB and Redis","body":"<p>in the past, I used the Jackson annotation called @JsonSerialize and @JsonDeserialize to serialize java object to json and vice versa:</p>\n<pre><code>public class Dummy {\n\n    @JsonSerialize(using = CustomNumberSerializer.class)\n    @JsonDeserialize(using = CustomNumberDeserializer.class)\n    public BigDecimal money;\n\n    @JsonSerialize(using = CustomDateSerializer.class)\n    @JsonDeserialize(using = CustomDateDeserializer.class)\n    public Date eventDate;\n\n}\n</code></pre>\n<p>and that works perfectly as I want.</p>\n<p>Now I'm wondering if there is any alternative that does the same job, but during the calls to databases like MongoDB and Redis.\n<p>So for example:</p>\n<pre><code>BigDecimal money = new BigDecimal(&quot;1234.56&quot;);\nDate eventDate = new Date();\nDummy dummy = new Dummy(money, eventDate);\n</code></pre>\n<p>Storing the dummy object into DB, I want to see the variables stored as String\n<br>money &quot;1.234,56&quot;\n<br>eventDate &quot;25/01/2023&quot;</p>\n<p>when I query the db, I want that those strings are transformed back to their Type.\n<br>In this way, I can use a specific patter for each field.\n<p>Any documentation/tutorial about that would be really appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674714104,"post_id":75242167,"comment_id":132773815,"body_markdown":"The failed request doesn&#39;t include a BASIC auth header, so no authentication, no access.","body":"The failed request doesn&#39;t include a BASIC auth header, so no authentication, no access."},{"owner":{"account_id":18207211,"reputation":134,"user_id":13250408,"display_name":"Ledrake"},"score":0,"creation_date":1674722342,"post_id":75242167,"comment_id":132775482,"body_markdown":"@M.Deinum I added the fetch request to the question, i have an auth header on the request , am i doing it wrong??","body":"@M.Deinum I added the fetch request to the question, i have an auth header on the request , am i doing it wrong??"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1674735702,"post_id":75242167,"comment_id":132779568,"body_markdown":"@Ledrake Your screenshot shows that you didn&#39;t send an `Authentication` header, so you are not logged in. It looks like your React script is wrong.","body":"@Ledrake Your screenshot shows that you didn&#39;t send an <code>Authentication</code> header, so you are not logged in. It looks like your React script is wrong."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1674739095,"post_id":75242167,"comment_id":132780593,"body_markdown":"IIIRC, you cannot use `allowedOrigins = *` with `allowCredentials = true`. You&#39;d have to specify your frontend URL, like `allowedOrigins = http://localhost:3000`","body":"IIIRC, you cannot use <code>allowedOrigins = *</code> with <code>allowCredentials = true</code>. You&#39;d have to specify your frontend URL, like <code>allowedOrigins = http:&#47;&#47;localhost:3000</code>"}],"owner":{"account_id":18207211,"reputation":134,"user_id":13250408,"display_name":"Ledrake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674760346,"answer_count":0,"score":0,"last_activity_date":1674738209,"creation_date":1674705992,"question_id":75242167,"body_markdown":"Here is the security config from the Spring Boot backend:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\r\npublic class SecurityConfig\r\n{\r\n    \r\n    @Resource\r\n    private DataSource dataSource;\r\n \r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception\r\n    {\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n        corsConfiguration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\r\n        corsConfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\r\n        corsConfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n        corsConfiguration.setAllowCredentials(true);\r\n        corsConfiguration.setExposedHeaders(List.of(&quot;Authorization&quot;));\r\n        \r\n        \r\n        http\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(HttpMethod.POST,  &quot;/api/users&quot;).permitAll()\r\n                 requestMatchers(&quot;/api/authority&quot;).hasAuthority(Constants.ADMIN)\r\n                .anyRequest().authenticated()\r\n            )\r\n            .userDetailsService(userDetailsService)\r\n            .sessionManagement(s -&gt; s\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            )\r\n            .cors()\r\n                .configurationSource(request -&gt; corsConfiguration)\r\n                .and()\r\n            .csrf().disable()\r\n            .httpBasic();\r\n               \r\n        http\r\n            .headers()\r\n                .frameOptions().sameOrigin();\r\n        \r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nHere is the failed request in javascript React:\r\n\r\n```js\r\nconst headers = {}\r\nheaders[&quot;Authorization&quot;] = &quot;Basic &quot; + btoa(&quot;root:root&quot;);\r\nconst res = await fetch(&quot;http://localhost:7979/api/users&quot;, headers);\r\nconsole.log(res);\r\nconst data = await res.json();\r\nconsole.log(data);\r\n```\r\n\r\nthe spring backend is run on `localhost:7979` and the React app is run on `localhost:3000`. Also, maybe important, I am on Windows and run the React app on Windows Subsystem for Linux but the Spring app uses the default runner of Intellij.\r\n\r\nI&#39;m quite stumped and I can&#39;t figure out how to debug Spring Security, everyone just says enable logging which I have done but the Spring Security logging offers 0 useful info (unless I don&#39;t understand what I&#39;m seeing)\r\n\r\n\r\n# Update:\r\n\r\nI found a way to activate logging on Spring Security, here are the logs for a successful request:\r\n\r\n```\r\n2023-01-26T06:04:15.985+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users\r\n2023-01-26T06:04:16.069+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2023-01-26T06:04:16.070+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=gr.hua.dit.it22023_it22026.models.SecurityUserDetails@6bb270f7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.20.196.70, SessionId=null], Granted Authorities=[ADMIN]]\r\n2023-01-26T06:04:16.071+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users\r\n```\r\n\r\nAnd here are the logs for a failed request:\r\n\r\n```\r\n2023-01-26T02:02:23.041+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@456e1a23\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@456e1a23\r\n```\r\n\r\nScreenshot of the request:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nThe Request but in text , incase you want to copy anything\r\n```\r\nGeneral:\r\n{\r\nRequest URL: http://localhost:7979/api/users\r\nRequest Method: GET\r\nStatus Code: 401 \r\nRemote Address: [::1]:7979\r\nReferrer Policy: strict-origin-when-cross-origin\r\n}\r\n\r\nResponse Headers:\r\n{\r\nHTTP/1.1 401\r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: http://localhost:3000\r\nAccess-Control-Expose-Headers: Authorization\r\nAccess-Control-Allow-Credentials: true\r\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: SAMEORIGIN\r\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\r\nContent-Length: 0\r\nDate: Thu, 26 Jan 2023 11:32:00 GMT\r\nKeep-Alive: timeout=60\r\nConnection: keep-alive\r\n}\r\n\r\nRequest Headers:\r\n{\r\nGET /api/users HTTP/1.1\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-GB,en;q=0.9,el-GR;q=0.8,el;q=0.7,en-US;q=0.6\r\nConnection: keep-alive\r\nHost: localhost:7979\r\nOrigin: http://localhost:3000\r\nReferer: http://localhost:3000/\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-site\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\r\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\n}\r\n```\r\n\r\nI don&#39;t understand the fail request logs at all, can any Spring Boot security expert help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmynM.png\r\n  [2]: https://i.stack.imgur.com/KrqaF.png\r\n  [3]: https://i.stack.imgur.com/d5IUi.png","title":"React request to Spring Boot database fails due to Spring Security","body":"<p>Here is the security config from the Spring Boot backend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class SecurityConfig\n{\n    \n    @Resource\n    private DataSource dataSource;\n \n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception\n    {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\n        corsConfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\n        corsConfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\n        corsConfiguration.setAllowCredentials(true);\n        corsConfiguration.setExposedHeaders(List.of(&quot;Authorization&quot;));\n        \n        \n        http\n            .authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(HttpMethod.POST,  &quot;/api/users&quot;).permitAll()\n                 requestMatchers(&quot;/api/authority&quot;).hasAuthority(Constants.ADMIN)\n                .anyRequest().authenticated()\n            )\n            .userDetailsService(userDetailsService)\n            .sessionManagement(s -&gt; s\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            )\n            .cors()\n                .configurationSource(request -&gt; corsConfiguration)\n                .and()\n            .csrf().disable()\n            .httpBasic();\n               \n        http\n            .headers()\n                .frameOptions().sameOrigin();\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>Here is the failed request in javascript React:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const headers = {}\nheaders[&quot;Authorization&quot;] = &quot;Basic &quot; + btoa(&quot;root:root&quot;);\nconst res = await fetch(&quot;http://localhost:7979/api/users&quot;, headers);\nconsole.log(res);\nconst data = await res.json();\nconsole.log(data);\n</code></pre>\n<p>the spring backend is run on <code>localhost:7979</code> and the React app is run on <code>localhost:3000</code>. Also, maybe important, I am on Windows and run the React app on Windows Subsystem for Linux but the Spring app uses the default runner of Intellij.</p>\n<p>I'm quite stumped and I can't figure out how to debug Spring Security, everyone just says enable logging which I have done but the Spring Security logging offers 0 useful info (unless I don't understand what I'm seeing)</p>\n<h1>Update:</h1>\n<p>I found a way to activate logging on Spring Security, here are the logs for a successful request:</p>\n<pre><code>2023-01-26T06:04:15.985+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users\n2023-01-26T06:04:16.069+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-01-26T06:04:16.070+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=gr.hua.dit.it22023_it22026.models.SecurityUserDetails@6bb270f7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=172.20.196.70, SessionId=null], Granted Authorities=[ADMIN]]\n2023-01-26T06:04:16.071+02:00 DEBUG 9708 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users\n</code></pre>\n<p>And here are the logs for a failed request:</p>\n<pre><code>2023-01-26T02:02:23.041+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@456e1a23\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n2023-01-26T02:02:23.042+02:00 DEBUG 17932 --- [nio-7979-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@456e1a23\n</code></pre>\n<p>Screenshot of the request:\n<a href=\"https://i.stack.imgur.com/OmynM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmynM.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/KrqaF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrqaF.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/d5IUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d5IUi.png\" alt=\"enter image description here\" /></a></p>\n<p>The Request but in text , incase you want to copy anything</p>\n<pre><code>General:\n{\nRequest URL: http://localhost:7979/api/users\nRequest Method: GET\nStatus Code: 401 \nRemote Address: [::1]:7979\nReferrer Policy: strict-origin-when-cross-origin\n}\n\nResponse Headers:\n{\nHTTP/1.1 401\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: http://localhost:3000\nAccess-Control-Expose-Headers: Authorization\nAccess-Control-Allow-Credentials: true\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: SAMEORIGIN\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\nContent-Length: 0\nDate: Thu, 26 Jan 2023 11:32:00 GMT\nKeep-Alive: timeout=60\nConnection: keep-alive\n}\n\nRequest Headers:\n{\nGET /api/users HTTP/1.1\nAccept: */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-GB,en;q=0.9,el-GR;q=0.8,el;q=0.7,en-US;q=0.6\nConnection: keep-alive\nHost: localhost:7979\nOrigin: http://localhost:3000\nReferer: http://localhost:3000/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\n}\n</code></pre>\n<p>I don't understand the fail request logs at all, can any Spring Boot security expert help?</p>\n"},{"tags":["java","android","spring","android-volley"],"answers":[{"comments":[{"owner":{"account_id":21511170,"reputation":136,"user_id":15853851,"display_name":"marco"},"score":0,"creation_date":1647522803,"post_id":71512791,"comment_id":126395495,"body_markdown":"For connection on localhost I think that Android use ```10.0.0.2``` instead of the IP address of your machine.","body":"For connection on localhost I think that Android use <code>10.0.0.2</code> instead of the IP address of your machine."}],"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647522209,"creation_date":1647522209,"answer_id":71512791,"question_id":71511992,"body_markdown":"Use ip adress of pc where spring boot app turn (**ex :** http://192.168.100.100:port) as base url for volley request.\r\n\r\nThe two device must be connected to the same access point(WI-FI).","title":"How to test springboot with from an android emulator app","body":"<p>Use ip adress of pc where spring boot app turn (<strong>ex :</strong> <a href=\"http://192.168.100.100:port\" rel=\"nofollow noreferrer\">http://192.168.100.100:port</a>) as base url for volley request.</p>\n<p>The two device must be connected to the same access point(WI-FI).</p>\n"}],"owner":{"account_id":24465371,"reputation":95,"user_id":18385822,"display_name":"Omolayo Seun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71512791,"answer_count":1,"score":0,"last_activity_date":1674737948,"creation_date":1647518640,"question_id":71511992,"body_markdown":"I am working on an android project which I used springboot for the webservice. It the any possible way of testing the spring boot project before deployment. What I mean is-*how can I run the spring boot project and and make the app from the emulator to work with it*.\r\nI&#39;m using volley for the http client request. ","title":"How to test springboot with from an android emulator app","body":"<p>I am working on an android project which I used springboot for the webservice. It the any possible way of testing the spring boot project before deployment. What I mean is-<em>how can I run the spring boot project and and make the app from the emulator to work with it</em>.\nI'm using volley for the http client request.</p>\n"},{"tags":["java","android","xml","spring","localdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670985035,"post_id":74792412,"comment_id":131997716,"body_markdown":"What does your JSON look like? A [mre], please? And why the xml tag?","body":"What does your JSON look like? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please? And why the xml tag?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1671032372,"post_id":74792412,"comment_id":132010661,"body_markdown":"You do not need a `DateTimeFormatter`. Simply use `LocalDateTime.parse(routeDate.getText().toString())` as your date-time string is already in the ISO 8601 format.","body":"You do not need a <code>DateTimeFormatter</code>. Simply use <code>LocalDateTime.parse(routeDate.getText().toString())</code> as your date-time string is already in the ISO 8601 format."}],"owner":{"account_id":23300269,"reputation":3,"user_id":17381023,"display_name":"Man Tas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674737594,"creation_date":1670978193,"question_id":74792412,"body_markdown":"I have built android app. The application gets date from a string field.\r\nI parse that string to right format to get LocalDateTime.\r\n```java\r\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\nLocalDateTime date = LocalDateTime.parse(routeDate.getText().toString(), dateTimeFormatter);\r\n```\r\nbut when i make post request it fails. My backend is springboot app. I get from it error:\r\n```java\r\nWARN 29948 --- [nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (token `JsonToken.START_OBJECT`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 9] (through reference chain: com.university.logisticsappbe.model.api.CreateCheckpointRequest[&quot;date&quot;])]\r\n```\r\n\r\nBy logging out date to console I get 2022-02-02T10:00\r\n\r\nAny ideas what problem it could be?\r\n\r\nOn angular web application post works.","title":"Can not make POST, getting error &quot;Cannot deserialize value of type `java.time.LocalDateTime` from Object value&quot;","body":"<p>I have built android app. The application gets date from a string field.\nI parse that string to right format to get LocalDateTime.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\nLocalDateTime date = LocalDateTime.parse(routeDate.getText().toString(), dateTimeFormatter);\n</code></pre>\n<p>but when i make post request it fails. My backend is springboot app. I get from it error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WARN 29948 --- [nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (token `JsonToken.START_OBJECT`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 9] (through reference chain: com.university.logisticsappbe.model.api.CreateCheckpointRequest[&quot;date&quot;])]\n</code></pre>\n<p>By logging out date to console I get 2022-02-02T10:00</p>\n<p>Any ideas what problem it could be?</p>\n<p>On angular web application post works.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675096887,"post_id":75246327,"comment_id":132850253,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675097406,"post_id":75246327,"comment_id":132850451,"body_markdown":"Besides that, if you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **300** (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"Besides that, if you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>300</b> (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."}],"owner":{"account_id":25393624,"reputation":144,"user_id":19204200,"display_name":"routerking2802"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674737164,"creation_date":1674737164,"question_id":75246327,"body_markdown":"I&#39;m new to android and was developing a quiz game. My problem is that when the second player connects to the game, where the first player is already waiting, the second player&#39;s game page closes while the first player doesn&#39;t. To manage the player&#39;s turn, I created a reference to the &quot;turn&quot; node and then on the &quot;setQuiz()&quot; method I used the reference to retrieve the username of the player who has the turn. Can someone help me? Thank you!\r\n\r\n\r\n```\r\npackage com.example.genialone;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.genialone.data.RealtimeDatabase;\r\nimport com.example.genialone.model.TurnManager;\r\nimport com.example.genialone.model.Utente;\r\nimport com.example.genialone.preference.PreferencesManager;\r\nimport com.example.genialone.util.RandomCategory;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.MutableData;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.Transaction;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class GiocoActivity extends BaseActivity {\r\n\r\n    private Button next;\r\n    private PreferencesManager preferencesManager;\r\n\r\n    private TextView opponent;\r\n    private CircleImageView imageOpponent;\r\n\r\n    private TextView player;\r\n    private CircleImageView imagePlayer;\r\n    private ProgressDialog progressDialog;\r\n\r\n    private FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n\r\n    private TextView question;\r\n    private Button option1, option2, option3, option4;\r\n    private String rightAnswer;\r\n    private String player1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_gioco);\r\n\r\n        player = findViewById(R.id.player);\r\n        imagePlayer = findViewById(R.id.imagePlayer);\r\n\r\n        opponent = findViewById(R.id.opponent);\r\n        imageOpponent = findViewById(R.id.imageOpponent);\r\n\r\n        question = findViewById(R.id.question);\r\n\r\n        option1 = findViewById(R.id.option1);\r\n        option2 = findViewById(R.id.option2);\r\n        option3 = findViewById(R.id.option3);\r\n        option4 = findViewById(R.id.option4);\r\n\r\n        preferencesManager = new PreferencesManager(GiocoActivity.this);\r\n        player1 = preferencesManager.getUsername();\r\n\r\n        next = findViewById(R.id.continuaButton);\r\n        next.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // next turn\r\n            }\r\n        });\r\n\r\n        progressDialog = new ProgressDialog(GiocoActivity.this);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.setMessage(&quot;In cerca di un avversario...&quot;);\r\n        progressDialog.show();\r\n\r\n        startGame();\r\n    }\r\n\r\n    public void loadProfilePhoto(String user, CircleImageView imageProfilePhoto) {\r\n        DatabaseReference imageRef = database.getReference(&quot;Utenti&quot;).child(user);\r\n\r\n        imageRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                String imageUrl = dataSnapshot.child(&quot;imagineProfilo&quot;).getValue(String.class);\r\n                Glide.with(GiocoActivity.this).load(imageUrl)\r\n                        .placeholder(com.firebase.ui.database.R.drawable.common_google_signin_btn_icon_dark)\r\n                        .circleCrop()\r\n                        .error(com.firebase.ui.database.R.drawable.common_google_signin_btn_icon_dark_normal)\r\n                        .into(imageProfilePhoto);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Gestione degli errori\r\n            }\r\n        });\r\n    }\r\n\r\n    private void startGame() {\r\n        player.setText(player1);\r\n        loadProfilePhoto(player1, imagePlayer);\r\n        DatabaseReference connectionRef = database.getReference(&quot;connections&quot;);\r\n        Query availableConnections = connectionRef.orderByChild(&quot;player2&quot;).equalTo(null);\r\n\r\n        availableConnections.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()){\r\n                    for (DataSnapshot gameSnapshot : snapshot.getChildren()) {\r\n                        String connectionId = gameSnapshot.getKey();\r\n                        connectionRef.child(connectionId).child(&quot;player2&quot;).setValue(player1);\r\n                        join(connectionId);\r\n                        break;\r\n                    }\r\n                } else {\r\n                    DatabaseReference newRef = database.getReference(&quot;connections&quot;).push();\r\n                    String connectionId = newRef.getKey();\r\n                    assignPlayersToGame(connectionId, player1);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void join(String connectionId) {\r\n        DatabaseReference connectionRef = database.getReference(&quot;connections&quot;).child(connectionId);\r\n\r\n        connectionRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String usernameOpponent = snapshot.child(&quot;player1&quot;).getValue(String.class);\r\n                showInfoOpponent(usernameOpponent);\r\n                if (progressDialog.isShowing()) {\r\n                    progressDialog.dismiss();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private String playerTurn;\r\n    private String turnKey;\r\n\r\n    private void assignPlayersToGame(String connectionId, String username) {\r\n        DatabaseReference connectionRef = database.getReference(&quot;connections&quot;).child(connectionId);\r\n        DatabaseReference turnRef = database.getReference(&quot;turn&quot;);\r\n        turnKey = turnRef.push().getKey();\r\n\r\n        Map&lt;String, Object&gt; playerData = new HashMap&lt;&gt;();\r\n        playerData.put(&quot;player1&quot;, username);\r\n        connectionRef.updateChildren(playerData);\r\n        turnRef.updateChildren(playerData);\r\n\r\n        connectionRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String usernameOpponent = snapshot.child(&quot;player2&quot;).getValue(String.class);\r\n\r\n                if (usernameOpponent != null) {\r\n                    showInfoOpponent(usernameOpponent);\r\n                    if (progressDialog.isShowing()) {\r\n                        progressDialog.dismiss();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showInfoOpponent(String username) {\r\n        DatabaseReference usersRef = database.getReference(&quot;Utenti&quot;);\r\n\r\n        usersRef.child(username).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Utente opponentInfo = snapshot.getValue(Utente.class);\r\n                opponent.setText(opponentInfo.getNomeUtente()); // username\r\n                loadProfilePhoto(opponentInfo.getNomeUtente(), imageOpponent); // image profile\r\n                loadPage();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setQuiz(String questionD, ArrayList&lt;String&gt; options, String answer) {\r\n        DatabaseReference turnRef = database.getReference(&quot;turn&quot;).child(turnKey);\r\n\r\n        turnRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                playerTurn = snapshot.child(&quot;player1&quot;).getValue(String.class);\r\n                if (player1.equals(playerTurn)) {\r\n                    question.setText(questionD);\r\n                    rightAnswer = answer;\r\n                    Button[] buttons = {option1, option2, option3, option4};\r\n\r\n                    for (int i = 0; i &lt; options.size(); i++) {\r\n                        buttons[i].setText(options.get(i));\r\n                    }\r\n                    next.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    progressDialog = new ProgressDialog(GiocoActivity.this);\r\n                    progressDialog.setCancelable(false);\r\n                    progressDialog.setMessage(&quot;Wait...&quot;);\r\n                    progressDialog.show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Gestione degli errori\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loadPage() {\r\n        DatabaseReference quizRef = database.getReference(&quot;Quiz&quot;);\r\n        String category = RandomCategory.getCategory();\r\n\r\n        quizRef.child(category).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                int idQuestion = RandomCategory.getQuestion();\r\n                String quest = snapshot.child(&quot;Domande&quot;).child(String.valueOf(idQuestion)).getValue(String.class);\r\n                ArrayList&lt;String&gt; options = new ArrayList&lt;&gt;();\r\n                for (DataSnapshot opt : snapshot.child(&quot;Opzioni&quot;).child(String.valueOf(idQuestion)).getChildren()) {\r\n                    String currentOpt = opt.getValue(String.class);\r\n                    options.add(currentOpt);\r\n                }\r\n                String rightA = snapshot.child(&quot;Risposta&quot;).child(String.valueOf(idQuestion)).getValue(String.class);\r\n                setQuiz(quest, options, rightA);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n","title":"Turn management between 2 players","body":"<p>I'm new to android and was developing a quiz game. My problem is that when the second player connects to the game, where the first player is already waiting, the second player's game page closes while the first player doesn't. To manage the player's turn, I created a reference to the &quot;turn&quot; node and then on the &quot;setQuiz()&quot; method I used the reference to retrieve the username of the player who has the turn. Can someone help me? Thank you!</p>\n<pre><code>package com.example.genialone;\n\nimport android.app.ProgressDialog;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\n\nimport com.bumptech.glide.Glide;\nimport com.example.genialone.data.RealtimeDatabase;\nimport com.example.genialone.model.TurnManager;\nimport com.example.genialone.model.Utente;\nimport com.example.genialone.preference.PreferencesManager;\nimport com.example.genialone.util.RandomCategory;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.MutableData;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.Transaction;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class GiocoActivity extends BaseActivity {\n\n    private Button next;\n    private PreferencesManager preferencesManager;\n\n    private TextView opponent;\n    private CircleImageView imageOpponent;\n\n    private TextView player;\n    private CircleImageView imagePlayer;\n    private ProgressDialog progressDialog;\n\n    private FirebaseDatabase database = FirebaseDatabase.getInstance();\n\n    private TextView question;\n    private Button option1, option2, option3, option4;\n    private String rightAnswer;\n    private String player1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_gioco);\n\n        player = findViewById(R.id.player);\n        imagePlayer = findViewById(R.id.imagePlayer);\n\n        opponent = findViewById(R.id.opponent);\n        imageOpponent = findViewById(R.id.imageOpponent);\n\n        question = findViewById(R.id.question);\n\n        option1 = findViewById(R.id.option1);\n        option2 = findViewById(R.id.option2);\n        option3 = findViewById(R.id.option3);\n        option4 = findViewById(R.id.option4);\n\n        preferencesManager = new PreferencesManager(GiocoActivity.this);\n        player1 = preferencesManager.getUsername();\n\n        next = findViewById(R.id.continuaButton);\n        next.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // next turn\n            }\n        });\n\n        progressDialog = new ProgressDialog(GiocoActivity.this);\n        progressDialog.setCancelable(false);\n        progressDialog.setMessage(&quot;In cerca di un avversario...&quot;);\n        progressDialog.show();\n\n        startGame();\n    }\n\n    public void loadProfilePhoto(String user, CircleImageView imageProfilePhoto) {\n        DatabaseReference imageRef = database.getReference(&quot;Utenti&quot;).child(user);\n\n        imageRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                String imageUrl = dataSnapshot.child(&quot;imagineProfilo&quot;).getValue(String.class);\n                Glide.with(GiocoActivity.this).load(imageUrl)\n                        .placeholder(com.firebase.ui.database.R.drawable.common_google_signin_btn_icon_dark)\n                        .circleCrop()\n                        .error(com.firebase.ui.database.R.drawable.common_google_signin_btn_icon_dark_normal)\n                        .into(imageProfilePhoto);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                // Gestione degli errori\n            }\n        });\n    }\n\n    private void startGame() {\n        player.setText(player1);\n        loadProfilePhoto(player1, imagePlayer);\n        DatabaseReference connectionRef = database.getReference(&quot;connections&quot;);\n        Query availableConnections = connectionRef.orderByChild(&quot;player2&quot;).equalTo(null);\n\n        availableConnections.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if(snapshot.exists()){\n                    for (DataSnapshot gameSnapshot : snapshot.getChildren()) {\n                        String connectionId = gameSnapshot.getKey();\n                        connectionRef.child(connectionId).child(&quot;player2&quot;).setValue(player1);\n                        join(connectionId);\n                        break;\n                    }\n                } else {\n                    DatabaseReference newRef = database.getReference(&quot;connections&quot;).push();\n                    String connectionId = newRef.getKey();\n                    assignPlayersToGame(connectionId, player1);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void join(String connectionId) {\n        DatabaseReference connectionRef = database.getReference(&quot;connections&quot;).child(connectionId);\n\n        connectionRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                String usernameOpponent = snapshot.child(&quot;player1&quot;).getValue(String.class);\n                showInfoOpponent(usernameOpponent);\n                if (progressDialog.isShowing()) {\n                    progressDialog.dismiss();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private String playerTurn;\n    private String turnKey;\n\n    private void assignPlayersToGame(String connectionId, String username) {\n        DatabaseReference connectionRef = database.getReference(&quot;connections&quot;).child(connectionId);\n        DatabaseReference turnRef = database.getReference(&quot;turn&quot;);\n        turnKey = turnRef.push().getKey();\n\n        Map&lt;String, Object&gt; playerData = new HashMap&lt;&gt;();\n        playerData.put(&quot;player1&quot;, username);\n        connectionRef.updateChildren(playerData);\n        turnRef.updateChildren(playerData);\n\n        connectionRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                String usernameOpponent = snapshot.child(&quot;player2&quot;).getValue(String.class);\n\n                if (usernameOpponent != null) {\n                    showInfoOpponent(usernameOpponent);\n                    if (progressDialog.isShowing()) {\n                        progressDialog.dismiss();\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void showInfoOpponent(String username) {\n        DatabaseReference usersRef = database.getReference(&quot;Utenti&quot;);\n\n        usersRef.child(username).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                Utente opponentInfo = snapshot.getValue(Utente.class);\n                opponent.setText(opponentInfo.getNomeUtente()); // username\n                loadProfilePhoto(opponentInfo.getNomeUtente(), imageOpponent); // image profile\n                loadPage();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void setQuiz(String questionD, ArrayList&lt;String&gt; options, String answer) {\n        DatabaseReference turnRef = database.getReference(&quot;turn&quot;).child(turnKey);\n\n        turnRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                playerTurn = snapshot.child(&quot;player1&quot;).getValue(String.class);\n                if (player1.equals(playerTurn)) {\n                    question.setText(questionD);\n                    rightAnswer = answer;\n                    Button[] buttons = {option1, option2, option3, option4};\n\n                    for (int i = 0; i &lt; options.size(); i++) {\n                        buttons[i].setText(options.get(i));\n                    }\n                    next.setVisibility(View.VISIBLE);\n                } else {\n                    progressDialog = new ProgressDialog(GiocoActivity.this);\n                    progressDialog.setCancelable(false);\n                    progressDialog.setMessage(&quot;Wait...&quot;);\n                    progressDialog.show();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Gestione degli errori\n            }\n        });\n    }\n\n    private void loadPage() {\n        DatabaseReference quizRef = database.getReference(&quot;Quiz&quot;);\n        String category = RandomCategory.getCategory();\n\n        quizRef.child(category).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                int idQuestion = RandomCategory.getQuestion();\n                String quest = snapshot.child(&quot;Domande&quot;).child(String.valueOf(idQuestion)).getValue(String.class);\n                ArrayList&lt;String&gt; options = new ArrayList&lt;&gt;();\n                for (DataSnapshot opt : snapshot.child(&quot;Opzioni&quot;).child(String.valueOf(idQuestion)).getChildren()) {\n                    String currentOpt = opt.getValue(String.class);\n                    options.add(currentOpt);\n                }\n                String rightA = snapshot.child(&quot;Risposta&quot;).child(String.valueOf(idQuestion)).getValue(String.class);\n                setQuiz(quest, options, rightA);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1226691775,"creation_date":1226691775,"answer_id":291141,"question_id":291115,"body_markdown":"Use [JComponent.scrollRectToVisible()][1]\r\n\r\nIf you need more info, [here&#39;s an article][2]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)\r\n  [2]: http://www.chka.de/swing/components/scrolling.html","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)\" rel=\"noreferrer\">JComponent.scrollRectToVisible()</a></p>\n\n<p>If you need more info, <a href=\"http://www.chka.de/swing/components/scrolling.html\" rel=\"noreferrer\">here's an article</a></p>\n"},{"comments":[{"owner":{"account_id":37202,"reputation":6114,"user_id":106315,"accept_rate":93,"display_name":"jwoolard"},"score":4,"creation_date":1263836706,"post_id":291748,"comment_id":2020012,"body_markdown":"This didn&#39;t work for me - the ScrollPane jumps to the top then immediately drops down to the bottom again.","body":"This didn&#39;t work for me - the ScrollPane jumps to the top then immediately drops down to the bottom again."},{"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"score":0,"creation_date":1477596067,"post_id":291748,"comment_id":67843513,"body_markdown":"It worked for me &#175;\\\\_(ツ)_/&#175;  I have a JTable inside my JScrollPane.","body":"It worked for me &#175;\\_(ツ)_/&#175;  I have a JTable inside my JScrollPane."},{"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"score":0,"creation_date":1523652993,"post_id":291748,"comment_id":86665852,"body_markdown":"@jwoolard Yes, the solution presented here doesn&#39;t work in a number of cases I&#39;ve encountered. BUT, take note of the solution I posed this morning.","body":"@jwoolard Yes, the solution presented here doesn&#39;t work in a number of cases I&#39;ve encountered. BUT, take note of the solution I posed this morning."}],"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":3,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1226704492,"creation_date":1226704492,"answer_id":291748,"question_id":291115,"body_markdown":"You can try this:\r\n\r\n     scrollPane.getViewport().setViewPosition(new Point(0,0));\r\n\r\nAccording to the JavaDocs setViewPosition() behaves like this:\r\n\r\n&gt; Sets the view coordinates that appear in the upper left hand corner of the viewport, does nothing if there&#39;s no view. \r\n","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>You can try this:</p>\n\n<pre><code> scrollPane.getViewport().setViewPosition(new Point(0,0));\n</code></pre>\n\n<p>According to the JavaDocs setViewPosition() behaves like this:</p>\n\n<blockquote>\n  <p>Sets the view coordinates that appear in the upper left hand corner of the viewport, does nothing if there's no view. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":90755,"reputation":5544,"user_id":249663,"display_name":"Guillaume"},"score":0,"creation_date":1265382613,"post_id":291753,"comment_id":2159289,"body_markdown":"You are right, the problem was that the caret was at the end of the text component. It also works after calling &#39;setText(...)&#39; on the text editor. (tested with a JEditorPane instance as text panel inside the JScrollPane).","body":"You are right, the problem was that the caret was at the end of the text component. It also works after calling &#39;setText(...)&#39; on the text editor. (tested with a JEditorPane instance as text panel inside the JScrollPane)."}],"tags":[],"owner":{"account_id":9043,"reputation":1519,"user_id":16528,"display_name":"Craig"},"comment_count":1,"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1226704624,"creation_date":1226704624,"answer_id":291753,"question_id":291115,"body_markdown":"Calling [setCaretPosition(0)][1] on your text component will cause it to scroll to the top.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/text/JTextComponent.html#setCaretPosition(int)","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>Calling <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/text/JTextComponent.html#setCaretPosition(int)\" rel=\"noreferrer\">setCaretPosition(0)</a> on your text component will cause it to scroll to the top.</p>\n"},{"comments":[{"owner":{"account_id":7730848,"reputation":789,"user_id":5854048,"accept_rate":79,"display_name":"In-young Choung"},"score":1,"creation_date":1490213237,"post_id":3548638,"comment_id":73017517,"body_markdown":"This is the closest answer to my question.. http://stackoverflow.com/questions/42961012/how-to-set-scroll-to-the-top-jpanel-that-has-multiple-jtextareas-inside-jscrol?noredirect=1#comment73017112_42961012 However, how can use this method if there is panel inside JScrollPane?","body":"This is the closest answer to my question.. <a href=\"http://stackoverflow.com/questions/42961012/how-to-set-scroll-to-the-top-jpanel-that-has-multiple-jtextareas-inside-jscrol?noredirect=1#comment73017112_42961012\" title=\"how to set scroll to the top jpanel that has multiple jtextareas inside jscrol\">stackoverflow.com/questions/42961012/&hellip;</a> However, how can use this method if there is panel inside JScrollPane?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":5,"creation_date":1533227275,"post_id":3548638,"comment_id":90280213,"body_markdown":"`invokeLater` doesn&#39;t spin off a thread, it just enqueues an event to be executed after the current event (e.g. button click, or whatever is the context of the code which calls `invokeLater`) and any other already-enqueued events finish.","body":"<code>invokeLater</code> doesn&#39;t spin off a thread, it just enqueues an event to be executed after the current event (e.g. button click, or whatever is the context of the code which calls <code>invokeLater</code>) and any other already-enqueued events finish."}],"tags":[],"owner":{"account_id":84829,"reputation":1163,"user_id":236895,"display_name":"Eric Warriner"},"comment_count":2,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1282574696,"creation_date":1282574696,"answer_id":3548638,"question_id":291115,"body_markdown":"Just in case you are not using a text component take a look at the thread posted here.... [https://stackoverflow.com/questions/1166072/setting-scroll-bar-on-a-jscrollpane][1]\r\n\r\nTheir solution is to spin off a thread via invokeLater\r\n\r\n    final JScrollPane scroll = new JScrollPane(text);\r\n    javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n       public void run() { \r\n           scroll.getVerticalScrollBar().setValue(0);\r\n       }\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1166072/setting-scroll-bar-on-a-jscrollpane","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>Just in case you are not using a text component take a look at the thread posted here.... <a href=\"https://stackoverflow.com/questions/1166072/setting-scroll-bar-on-a-jscrollpane\">Setting Scroll Bar on a JScrollPane</a></p>\n\n<p>Their solution is to spin off a thread via invokeLater</p>\n\n<pre><code>final JScrollPane scroll = new JScrollPane(text);\njavax.swing.SwingUtilities.invokeLater(new Runnable() {\n   public void run() { \n       scroll.getVerticalScrollBar().setValue(0);\n   }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2010255,"reputation":130,"user_id":1798878,"display_name":"Pb600"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1358897502,"creation_date":1358897502,"answer_id":14469969,"question_id":291115,"body_markdown":"This will make the work:\r\n\r\n    DefaultCaret caret = (DefaultCaret) textArea.getCaret();\r\n    caret.setUpdatePolicy(DefaultCaret.NEVER_UPDATE);","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>This will make the work:</p>\n\n<pre><code>DefaultCaret caret = (DefaultCaret) textArea.getCaret();\ncaret.setUpdatePolicy(DefaultCaret.NEVER_UPDATE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":3,"creation_date":1481913821,"post_id":32283824,"comment_id":69580888,"body_markdown":"Copy of @Craig&#39;s earlier answer.","body":"Copy of @Craig&#39;s earlier answer."}],"tags":[],"owner":{"account_id":6867487,"reputation":177,"user_id":5279331,"display_name":"aosphyma"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1440837848,"creation_date":1440834254,"answer_id":32283824,"question_id":291115,"body_markdown":"You can use the method `setCaretPosition(0)` just after `setText(String t)` of your text component.","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>You can use the method <code>setCaretPosition(0)</code> just after <code>setText(String t)</code> of your text component.</p>\n"},{"tags":[],"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523628787,"creation_date":1523628787,"answer_id":49819017,"question_id":291115,"body_markdown":"Here&#39;s how:\r\n\r\n    textArea.setSelectionStart(0);\r\n    textArea.setSelectionEnd(0); \r\n\r\n","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>Here's how:</p>\n\n<pre><code>textArea.setSelectionStart(0);\ntextArea.setSelectionEnd(0); \n</code></pre>\n"}],"owner":{"display_name":"Robyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77079,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"answer_count":7,"score":88,"last_activity_date":1674737156,"creation_date":1226691216,"question_id":291115,"body_markdown":"I&#39;m using JScrollPane to allow scrolling in a JFrame that has a text component that&#39;s serving as a text editor.  What I want to do, after setting the text in this editor, is have  it scroll back up to the top, so you can see what&#39;s at the beginning of the file.\r\n\r\nDoes anyone know how to do this?","title":"Java Swing - Using JScrollPane and Having it scroll back to top","body":"<p>I'm using JScrollPane to allow scrolling in a JFrame that has a text component that's serving as a text editor.  What I want to do, after setting the text in this editor, is have  it scroll back up to the top, so you can see what's at the beginning of the file.</p>\n\n<p>Does anyone know how to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26147295,"reputation":168,"user_id":19835740,"display_name":"Daxelarne"},"score":0,"creation_date":1674737182,"post_id":75162948,"comment_id":132780007,"body_markdown":"Maybe you can found some help [arround here](https://stackoverflow.com/questions/3174375/java-httpurlconnection-uses-socks-proxy-instead-of-http)","body":"Maybe you can found some help <a href=\"https://stackoverflow.com/questions/3174375/java-httpurlconnection-uses-socks-proxy-instead-of-http\">arround here</a>"},{"owner":{"account_id":1884031,"reputation":1371,"user_id":1703619,"display_name":"Miguel"},"score":0,"creation_date":1675244780,"post_id":75162948,"comment_id":132884992,"body_markdown":"This problem seems to be quite related to this StackOverflow question, it maybe can help here to solve this issue:\n\nhttps://stackoverflow.com/questions/27215053/why-does-my-socks-proxy-code-throw-socketexception-malformed-reply-from-socks-s","body":"This problem seems to be quite related to this StackOverflow question, it maybe can help here to solve this issue:  <a href=\"https://stackoverflow.com/questions/27215053/why-does-my-socks-proxy-code-throw-socketexception-malformed-reply-from-socks-s\" title=\"why does my socks proxy code throw socketexception malformed reply from socks s\">stackoverflow.com/questions/27215053/&hellip;</a>"}],"owner":{"account_id":483619,"reputation":2340,"user_id":898801,"accept_rate":62,"display_name":"kiran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674736867,"creation_date":1674062333,"question_id":75162948,"body_markdown":"I am trying to connect to a server through proxy. Below is the code I am using to set the proxy. \r\n\r\n\t\ttry {\r\n\t\t\tSystem.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\t\t\tSystem.out.println(&quot;detecting proxies&quot;);\r\n\t\t\tList l = null;\r\n\t\t\ttry {\r\n\t\t\t\tl = ProxySelector.getDefault().select(new URI(&quot;https://www.google.com&quot;));\r\n\t\t\t} catch (URISyntaxException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tSystem.out.println(&quot;Failed to list the proxy...&quot; + e.getMessage());\r\n\t\t\t}\r\n\t\t\tif (l != null) {\r\n\t\t\t\tfor (Iterator iter = l.iterator(); iter.hasNext();) {\r\n\t\t\t\t\tjava.net.Proxy proxy = (java.net.Proxy) iter.next();\r\n\t\t\t\t\tSystem.out.println(&quot;proxy type: &quot; + proxy.type());\r\n\t\t\t\t\tInetSocketAddress addr = (InetSocketAddress) proxy.address();\r\n\t\t\t\t\tif (addr == null) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;No Proxy&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;proxy hostname: &quot; + addr.getHostName());\r\n\t\t\t\t\t\tSystem.setProperty(&quot;http.proxyHost&quot;, addr.getHostName());\r\n\t\t\t\t\t\tSystem.setProperty(&quot;https.proxyHost&quot;, addr.getHostName());\r\n\t\t\t\t\t\tSystem.out.println(&quot;proxy port: &quot; + addr.getPort());\r\n\t\t\t\t\t\tSystem.setProperty(&quot;http.proxyPort&quot;, Integer.toString(addr.getPort()));\r\n\t\t\t\t\t\tSystem.setProperty(&quot;https.proxyPort&quot;, Integer.toString(addr.getPort()));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nAnd I am using the below code to send the server requests.\r\n\r\n\t\tRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), jsonValue);\r\n\t\tRequest request = new Request.Builder().url(settings.getServiceUrl() + &quot;/&quot; + service).addHeader(&quot;Authorization&quot;, Credentials.basic(settings.getServiceUserName(), settings.getServicePassword())).post(body).build();\r\n\t\tOkHttpClient.Builder builder =new OkHttpClient.Builder();\r\n\t\tOkHttpClient client = builder.readTimeout(6000 * 1000, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.writeTimeout(6000 * 1000, TimeUnit.MILLISECONDS).build();\r\n\t\tCall call = client.newCall(request);\r\n\t\tResponse response = call.execute();\r\n\r\nAnd I am getting the below error message.\r\n\r\n\r\n    java.net.SocketException: Malformed reply from SOCKS server\r\n\tat java.net.SocksSocketImpl.readSocksReply(Unknown Source)\r\n\tat java.net.SocksSocketImpl.connect(Unknown Source)\r\n\tat java.net.Socket.connect(Unknown Source)\r\n\tat okhttp3.internal.platform.Platform.connectSocket(Platform.java:130)\r\n\tat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263)\r\n\tat okhttp3.internal.connection.RealConnection.connectTunnel(RealConnection.java:235)\r\n\tat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:177)\r\n\tat okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.java:224)\r\n\r\n\r\nAny idea on how to resolve this ?","title":"Java Proxy using SOCKS instead of Http","body":"<p>I am trying to connect to a server through proxy. Below is the code I am using to set the proxy.</p>\n<pre><code>    try {\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n        System.out.println(&quot;detecting proxies&quot;);\n        List l = null;\n        try {\n            l = ProxySelector.getDefault().select(new URI(&quot;https://www.google.com&quot;));\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n            System.out.println(&quot;Failed to list the proxy...&quot; + e.getMessage());\n        }\n        if (l != null) {\n            for (Iterator iter = l.iterator(); iter.hasNext();) {\n                java.net.Proxy proxy = (java.net.Proxy) iter.next();\n                System.out.println(&quot;proxy type: &quot; + proxy.type());\n                InetSocketAddress addr = (InetSocketAddress) proxy.address();\n                if (addr == null) {\n                    System.out.println(&quot;No Proxy&quot;);\n                } else {\n                    System.out.println(&quot;proxy hostname: &quot; + addr.getHostName());\n                    System.setProperty(&quot;http.proxyHost&quot;, addr.getHostName());\n                    System.setProperty(&quot;https.proxyHost&quot;, addr.getHostName());\n                    System.out.println(&quot;proxy port: &quot; + addr.getPort());\n                    System.setProperty(&quot;http.proxyPort&quot;, Integer.toString(addr.getPort()));\n                    System.setProperty(&quot;https.proxyPort&quot;, Integer.toString(addr.getPort()));\n                }\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>And I am using the below code to send the server requests.</p>\n<pre><code>    RequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), jsonValue);\n    Request request = new Request.Builder().url(settings.getServiceUrl() + &quot;/&quot; + service).addHeader(&quot;Authorization&quot;, Credentials.basic(settings.getServiceUserName(), settings.getServicePassword())).post(body).build();\n    OkHttpClient.Builder builder =new OkHttpClient.Builder();\n    OkHttpClient client = builder.readTimeout(6000 * 1000, TimeUnit.MILLISECONDS)\n            .writeTimeout(6000 * 1000, TimeUnit.MILLISECONDS).build();\n    Call call = client.newCall(request);\n    Response response = call.execute();\n</code></pre>\n<p>And I am getting the below error message.</p>\n<pre><code>java.net.SocketException: Malformed reply from SOCKS server\nat java.net.SocksSocketImpl.readSocksReply(Unknown Source)\nat java.net.SocksSocketImpl.connect(Unknown Source)\nat java.net.Socket.connect(Unknown Source)\nat okhttp3.internal.platform.Platform.connectSocket(Platform.java:130)\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263)\nat okhttp3.internal.connection.RealConnection.connectTunnel(RealConnection.java:235)\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:177)\nat okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.java:224)\n</code></pre>\n<p>Any idea on how to resolve this ?</p>\n"},{"tags":["java","telegram"],"comments":[{"owner":{"account_id":6313442,"reputation":36281,"user_id":5625547,"display_name":"0stone0"},"score":0,"creation_date":1674736695,"post_id":75246174,"comment_id":132779862,"body_markdown":"Does this answer your question? [Sending message in telegram bot with images](https://stackoverflow.com/questions/37860889/sending-message-in-telegram-bot-with-images)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37860889/sending-message-in-telegram-bot-with-images\">Sending message in telegram bot with images</a>"}],"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674736261,"creation_date":1674736261,"question_id":75246174,"body_markdown":"i need help with sending the image along with the SendMessage entity. \r\nI need help with sending the image along with the SendMessage entity. I tried to do it through markdown markup, but it doesn&#39;t work - the image is displayed as a preview and the link is also visible.\r\n\r\n    sendMessage.enableMarkdown(true);\r\n    sendMessage.setText(&quot;&lt;image src=\\&quot;https://info-master.su/programming/web/html/images/images-in-html.jpg\\&quot; alt=\\&quot;Текст с описанием картинки\\&quot;&gt;&quot;)\r\nresult\r\nhttps://disk.yandex.ru/i/8ibJJVBAaVNrUQ\r\n\r\nhow do I make exactly an embedded image, without a link, please help me","title":"Inserting an image into a Telegram bot message","body":"<p>i need help with sending the image along with the SendMessage entity.\nI need help with sending the image along with the SendMessage entity. I tried to do it through markdown markup, but it doesn't work - the image is displayed as a preview and the link is also visible.</p>\n<pre><code>sendMessage.enableMarkdown(true);\nsendMessage.setText(&quot;&lt;image src=\\&quot;https://info-master.su/programming/web/html/images/images-in-html.jpg\\&quot; alt=\\&quot;Текст с описанием картинки\\&quot;&gt;&quot;)\n</code></pre>\n<p>result\n<a href=\"https://disk.yandex.ru/i/8ibJJVBAaVNrUQ\" rel=\"nofollow noreferrer\">https://disk.yandex.ru/i/8ibJJVBAaVNrUQ</a></p>\n<p>how do I make exactly an embedded image, without a link, please help me</p>\n"},{"tags":["java","selenium","for-loop","selenium-webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1674744961,"post_id":75245719,"comment_id":132782711,"body_markdown":"Is there some reason you can&#39;t add the text as part of an XPath and find the right element from the start? This will be faster than finding a handful of elements, looping through each to find the one that contains the desired text, and then proceeding.","body":"Is there some reason you can&#39;t add the text as part of an XPath and find the right element from the start? This will be faster than finding a handful of elements, looping through each to find the one that contains the desired text, and then proceeding."}],"answers":[{"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1674735775,"post_id":75245804,"comment_id":132779584,"body_markdown":"WebDriverWait wait = new WebDriverWait(driver, timeout); I think this object wait has never been used in your code although it has been created. Also, in the same line of code WebDriverWait constructor will not accept integer, I think. Please check.","body":"WebDriverWait wait = new WebDriverWait(driver, timeout); I think this object wait has never been used in your code although it has been created. Also, in the same line of code WebDriverWait constructor will not accept integer, I think. Please check."}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674736145,"creation_date":1674734289,"answer_id":75245804,"question_id":75245719,"body_markdown":"You can not apply `contains()` method directly on a list of WebElement objects.  \r\nThis method can be applied on String object only.  \r\nYou also can not extract text directly from list of WebElement objects.  \r\nWhat you can do is:  \r\nGet the list of WebElements matching the given locator, iterate over the WebElements in the list extracting their text contents and checking if that text content contains the desired text, as following:\r\n```java\r\npublic static boolean waitForTextInElementList(WebDriver driver, By locator, String expectedText, int timeout) {\r\n    try {\r\n        List&lt;WebElement&gt; list;\r\n        for (int i = 0; i &lt; timeout; i++) {\r\n            list = driver.findElements(locator);\r\n            for (WebElement element : list) {\r\n                if (element.getText().contains(expectedText)) {\r\n                    return true;\r\n                }\r\n            }\r\n            i++;\r\n        }\r\n    } catch (Exception e) {\r\n        ConsoleLogger.error(&quot;Could not find the expected text &quot; + expectedText + &quot; on specified element list&quot; + e.getMessage());\r\n    }\r\n    return false;\r\n}\r\n```","title":"Selenium - Filter/ loop through elements to check for specific text","body":"<p>You can not apply <code>contains()</code> method directly on a list of WebElement objects.<br />\nThis method can be applied on String object only.<br />\nYou also can not extract text directly from list of WebElement objects.<br />\nWhat you can do is:<br />\nGet the list of WebElements matching the given locator, iterate over the WebElements in the list extracting their text contents and checking if that text content contains the desired text, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean waitForTextInElementList(WebDriver driver, By locator, String expectedText, int timeout) {\n    try {\n        List&lt;WebElement&gt; list;\n        for (int i = 0; i &lt; timeout; i++) {\n            list = driver.findElements(locator);\n            for (WebElement element : list) {\n                if (element.getText().contains(expectedText)) {\n                    return true;\n                }\n            }\n            i++;\n        }\n    } catch (Exception e) {\n        ConsoleLogger.error(&quot;Could not find the expected text &quot; + expectedText + &quot; on specified element list&quot; + e.getMessage());\n    }\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"score":1,"creation_date":1674737115,"post_id":75245821,"comment_id":132779983,"body_markdown":"Something similar to mentioned LINQ, works perfectly. Thank you!","body":"Something similar to mentioned LINQ, works perfectly. Thank you!"}],"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674734365,"creation_date":1674734365,"answer_id":75245821,"question_id":75245719,"body_markdown":"Once you get the element list.You can try something like that. this will return true or false.\r\n\r\n    elementsList.stream().anyMatch(e -&gt; e.getText().trim().contains(&quot;specficelementtext&quot;)","title":"Selenium - Filter/ loop through elements to check for specific text","body":"<p>Once you get the element list.You can try something like that. this will return true or false.</p>\n<pre><code>elementsList.stream().anyMatch(e -&gt; e.getText().trim().contains(&quot;specficelementtext&quot;)\n</code></pre>\n"}],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75245821,"answer_count":2,"score":1,"last_activity_date":1674736145,"creation_date":1674733824,"question_id":75245719,"body_markdown":"As Java is not my &quot;best language&quot; I would like to ask for support. I&#39;m trying to validate if element from the list contains a specific value. \r\n\r\n1) I&#39;m having element which locates at least 5+ elements\r\n2) I&#39;m trying to get that element:\r\neg.         `List&lt;WebElement&gt; elementsList = getWebElementList(target, false);`\r\n3) I&#39;m trying to validate if specific text is a part of the taken list. By doing something like: \r\n\r\n    `elementsList.contains(valueToCheck);`\r\n\r\nit does not work...\r\n\r\nalso I found a way of using `stream()` method which looks more/less like this but I&#39;m having troubles with continuation:  \r\n `elementsList.stream().filter(WebElement::getText.....`\r\n\r\n---\r\nCan you please explain me how lists are handled in Java in modern/ nowadays way? In C# I was mostly using LINQ but don&#39;t know if Java has similar functionality.","title":"Selenium - Filter/ loop through elements to check for specific text","body":"<p>As Java is not my &quot;best language&quot; I would like to ask for support. I'm trying to validate if element from the list contains a specific value.</p>\n<ol>\n<li><p>I'm having element which locates at least 5+ elements</p>\n</li>\n<li><p>I'm trying to get that element:\neg.         <code>List&lt;WebElement&gt; elementsList = getWebElementList(target, false);</code></p>\n</li>\n<li><p>I'm trying to validate if specific text is a part of the taken list. By doing something like:</p>\n<p><code>elementsList.contains(valueToCheck);</code></p>\n</li>\n</ol>\n<p>it does not work...</p>\n<p>also I found a way of using <code>stream()</code> method which looks more/less like this but I'm having troubles with continuation:<br />\n<code>elementsList.stream().filter(WebElement::getText.....</code></p>\n<hr />\n<p>Can you please explain me how lists are handled in Java in modern/ nowadays way? In C# I was mostly using LINQ but don't know if Java has similar functionality.</p>\n"},{"tags":["java","android","kotlin","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":269240,"reputation":5686,"user_id":558457,"accept_rate":62,"display_name":"Viacheslav Smityukh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674736088,"creation_date":1674736088,"answer_id":75246132,"question_id":75245985,"body_markdown":"You can&#39;t enforce it by compiler because a fragment have to be public to restore fragment manager&#39;s state.\r\n\r\nYou can add a custom lint/detekt rule to your project which will fail build if Fragment&#39;s constructor called every where except the fragment&#39;s factory.","title":"Preventing a Fragment class from being instantiated and inherited (Android)","body":"<p>You can't enforce it by compiler because a fragment have to be public to restore fragment manager's state.</p>\n<p>You can add a custom lint/detekt rule to your project which will fail build if Fragment's constructor called every where except the fragment's factory.</p>\n"}],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674736088,"creation_date":1674735199,"question_id":75245985,"body_markdown":"I want to enforce the factory pattern for certain Fragment, since according to [this question][1], it&#39;s the way to go for passing data to Fragments.\r\n\r\nHowever, to enforce it, me must prevent instantiating the fragment. The way to do this is making the constructor private, according to [this question][2].\r\n\r\nThe problem is that I get this error: `could not find Fragment constructor`\r\n\r\nAccording to [this question][3], `All Fragment classes you create must have a public, no-arg constructor.`\r\n\r\nSo apparently I cannot make the constructor private. So how can I enforce the Factory pattern? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9245408/best-practice-for-instantiating-a-new-android-fragment\r\n  [2]: https://stackoverflow.com/q/56811040/12232720\r\n  [3]: https://stackoverflow.com/questions/51831053/could-not-find-fragment-constructor","title":"Preventing a Fragment class from being instantiated and inherited (Android)","body":"<p>I want to enforce the factory pattern for certain Fragment, since according to <a href=\"https://stackoverflow.com/questions/9245408/best-practice-for-instantiating-a-new-android-fragment\">this question</a>, it's the way to go for passing data to Fragments.</p>\n<p>However, to enforce it, me must prevent instantiating the fragment. The way to do this is making the constructor private, according to <a href=\"https://stackoverflow.com/q/56811040/12232720\">this question</a>.</p>\n<p>The problem is that I get this error: <code>could not find Fragment constructor</code></p>\n<p>According to <a href=\"https://stackoverflow.com/questions/51831053/could-not-find-fragment-constructor\">this question</a>, <code>All Fragment classes you create must have a public, no-arg constructor.</code></p>\n<p>So apparently I cannot make the constructor private. So how can I enforce the Factory pattern?</p>\n"},{"tags":["java","intellij-idea","sonarqube"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674734449,"post_id":75245640,"comment_id":132779185,"body_markdown":"sounds like you have never tried to optimize selenium scenarios where QA team stabilizes execution using `Thread.sleep(10_000)`  :(","body":"sounds like you have never tried to optimize selenium scenarios where QA team stabilizes execution using <code>Thread.sleep(10_000)</code>  :("},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1674735652,"post_id":75245640,"comment_id":132779553,"body_markdown":"The rule already explains itself, like all rules do: &quot;*It creates brittle tests that can fail unpredictably depending on environment (&quot;Passes on my machine!&quot;) or load. Don’t rely on timing*&quot;","body":"The rule already explains itself, like all rules do: &quot;<i>It creates brittle tests that can fail unpredictably depending on environment (&quot;Passes on my machine!&quot;) or load. Don’t rely on timing</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674736058,"creation_date":1674735403,"answer_id":75246015,"question_id":75245640,"body_markdown":"Here&#39;s a logical reason for you:\r\n\r\n    Thread.sleep(2000);\r\n\r\nwill block the current thread for at least 2 seconds.\r\n\r\nBy contrast:\r\n\r\n    await().atMost(2, Duration.SECONDS).until(didTheThing());\r\n\r\nor equivalent code will block the current thread for up to 2 seconds, and will stop waiting when the event occurs.\r\n\r\nThe latter is more responsive.\r\n\r\nThe only situation where `sleep()` might be preferable are where the thread is not waiting for an event related to another Java thread.  Even then, `sleep` may end up waiting longer than you asked for, so it is not suitable for &quot;real time&quot; timing.\r\n\r\nThis specific warning is in the context of test code, but the advice against using `sleep()` applies more generally.\r\n\r\n------------------\r\n\r\nI&#39;ve never come across `Awaitility` before, but it seems like it is designed to make it easier to write unit tests that entail timing checks.  In the example in questions ... it appears that it would have the benefit of making your tests run faster!  \r\n\r\nAnd as a commenter pointed out, the [documentation][1] for the rule explains the reasoning itself:\r\n\r\n&gt; `Thread.sleep` should not be used in tests\r\n&gt;\r\n&gt; Using `Thread.sleep` in a test is just generally a bad idea. It creates brittle tests that can fail unpredictably depending on environment (&quot;Passes on my machine!&quot;) or load. Don&#39;t rely on timing. Use mocks or use libraries such as `Awaitility` for asynchronous testing.\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-2925","title":"Why does Sonar recommend avoiding Thread.sleep?","body":"<p>Here's a logical reason for you:</p>\n<pre><code>Thread.sleep(2000);\n</code></pre>\n<p>will block the current thread for at least 2 seconds.</p>\n<p>By contrast:</p>\n<pre><code>await().atMost(2, Duration.SECONDS).until(didTheThing());\n</code></pre>\n<p>or equivalent code will block the current thread for up to 2 seconds, and will stop waiting when the event occurs.</p>\n<p>The latter is more responsive.</p>\n<p>The only situation where <code>sleep()</code> might be preferable are where the thread is not waiting for an event related to another Java thread.  Even then, <code>sleep</code> may end up waiting longer than you asked for, so it is not suitable for &quot;real time&quot; timing.</p>\n<p>This specific warning is in the context of test code, but the advice against using <code>sleep()</code> applies more generally.</p>\n<hr />\n<p>I've never come across <code>Awaitility</code> before, but it seems like it is designed to make it easier to write unit tests that entail timing checks.  In the example in questions ... it appears that it would have the benefit of making your tests run faster!</p>\n<p>And as a commenter pointed out, the <a href=\"https://rules.sonarsource.com/java/RSPEC-2925\" rel=\"nofollow noreferrer\">documentation</a> for the rule explains the reasoning itself:</p>\n<blockquote>\n<p><code>Thread.sleep</code> should not be used in tests</p>\n<p>Using <code>Thread.sleep</code> in a test is just generally a bad idea. It creates brittle tests that can fail unpredictably depending on environment (&quot;Passes on my machine!&quot;) or load. Don't rely on timing. Use mocks or use libraries such as <code>Awaitility</code> for asynchronous testing.</p>\n</blockquote>\n"}],"owner":{"account_id":1942157,"reputation":91,"user_id":1748107,"display_name":"DeXoN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674736058,"creation_date":1674733374,"question_id":75245640,"body_markdown":"According to this document (rule) S2925\r\nhttps://rules.sonarsource.com/java/RSPEC-2925\r\nWe need to change the **`Thread.sleep`** with:\r\n\r\n    await().atMost(2, Duration.SECONDS).until(didTheThing())\r\n\r\nCan someone give me any logical answer why we need to do that?\r\n\r\nWhen this **Awaitility** class creates thread in the backend. What is the point of this rule?","title":"Why does Sonar recommend avoiding Thread.sleep?","body":"<p>According to this document (rule) S2925\n<a href=\"https://rules.sonarsource.com/java/RSPEC-2925\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-2925</a>\nWe need to change the <strong><code>Thread.sleep</code></strong> with:</p>\n<pre><code>await().atMost(2, Duration.SECONDS).until(didTheThing())\n</code></pre>\n<p>Can someone give me any logical answer why we need to do that?</p>\n<p>When this <strong>Awaitility</strong> class creates thread in the backend. What is the point of this rule?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674736055,"post_id":75245687,"comment_id":132779661,"body_markdown":"You can use `@Service`, or just plain `@Component`.","body":"You can use <code>@Service</code>, or just plain <code>@Component</code>."}],"answers":[{"comments":[{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1674735364,"post_id":75245877,"comment_id":132779470,"body_markdown":"Thank you. But this would be just a huge function if I put everything inside of that. I wanted a seperate class like XYManager","body":"Thank you. But this would be just a huge function if I put everything inside of that. I wanted a seperate class like XYManager"},{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":1,"creation_date":1674735786,"post_id":75245877,"comment_id":132779586,"body_markdown":"That&#39;s no problem. Just create a new Spring Bean class and implement that interface (`@Component public class BitQueen implements CommandLineRunner...`). With help of the `run` method, you are able to start/init/trigger something in your manager or to start a worker thread. Now it depends on what exactly you would like to manage?","body":"That&#39;s no problem. Just create a new Spring Bean class and implement that interface (<code>@Component public class BitQueen implements CommandLineRunner...</code>). With help of the <code>run</code> method, you are able to start/init/trigger something in your manager or to start a worker thread. Now it depends on what exactly you would like to manage?"}],"tags":[],"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674734657,"creation_date":1674734657,"answer_id":75245877,"question_id":75245687,"body_markdown":"You can use Spring&#39;s `CommandLineRunner`. It will be executed after startup when everything is initialized and ready. See: https://www.baeldung.com/spring-boot-console-app\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application implements CommandLineRunner {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n \r\n    @Override\r\n    public void run(String... args) {\r\n        // TODO implementation of your task manager\r\n    }\r\n}\r\n```","title":"Best approach implementing server-side logic with some sort of TaskManager class","body":"<p>You can use Spring's <code>CommandLineRunner</code>. It will be executed after startup when everything is initialized and ready. See: <a href=\"https://www.baeldung.com/spring-boot-console-app\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-console-app</a></p>\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n \n    @Override\n    public void run(String... args) {\n        // TODO implementation of your task manager\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1674737241,"post_id":75246076,"comment_id":132780028,"body_markdown":"Thank you for your answers. A service later would need to have access to the manager to retrieve the objects if needed. The objects handled by the Manager class should retrieve 3rd party data in realtime.","body":"Thank you for your answers. A service later would need to have access to the manager to retrieve the objects if needed. The objects handled by the Manager class should retrieve 3rd party data in realtime."},{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":1,"creation_date":1674738466,"post_id":75246076,"comment_id":132780391,"body_markdown":"Sounds like your manager needs to be a simple Spring Bean (`@Component`). Per default, it is a singleton instance. And what about the managed objects? Do they receive data by websocket communication? Is only one instance of them required, or one instance per websocket connection?","body":"Sounds like your manager needs to be a simple Spring Bean (<code>@Component</code>). Per default, it is a singleton instance. And what about the managed objects? Do they receive data by websocket communication? Is only one instance of them required, or one instance per websocket connection?"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1674741957,"post_id":75246076,"comment_id":132781528,"body_markdown":"yes the objects managed are all connected via websockets to the 3rd party API. There can be several thousand objects of that class that need to be managed / stored inside the manager class.","body":"yes the objects managed are all connected via websockets to the 3rd party API. There can be several thousand objects of that class that need to be managed / stored inside the manager class."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1674741999,"post_id":75246076,"comment_id":132781553,"body_markdown":"when I annotate the Manager as @Component, will it automatically call the constructor on start up so I can have an init method inside the constructor to get everything going?","body":"when I annotate the Manager as @Component, will it automatically call the constructor on start up so I can have an init method inside the constructor to get everything going?"},{"owner":{"account_id":446100,"reputation":43,"user_id":838936,"display_name":"mrxjn"},"score":0,"creation_date":1674743005,"post_id":75246076,"comment_id":132781945,"body_markdown":"yes of course. But don&#39;t add logic in the constructor. Put it in the PostConstruct.","body":"yes of course. But don&#39;t add logic in the constructor. Put it in the PostConstruct."},{"owner":{"account_id":446100,"reputation":43,"user_id":838936,"display_name":"mrxjn"},"score":1,"creation_date":1674743075,"post_id":75246076,"comment_id":132781977,"body_markdown":"But also, dont add state in your components. They should be stateless.","body":"But also, dont add state in your components. They should be stateless."}],"tags":[],"owner":{"account_id":446100,"reputation":43,"user_id":838936,"display_name":"mrxjn"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674735806,"creation_date":1674735806,"answer_id":75246076,"question_id":75245687,"body_markdown":"I don&#39;t really know if the manager runs continuously or not (in a loop), also if the animals are hard coded or not and if those intervals are configurable at runtime or not.. \r\nbut perhaps this helps : \r\n\r\nYou could create a component (for your manager) with a @PostConstruct that start doing your stuff then (after bootup) https://www.baeldung.com/spring-postconstruct-predestroy.\r\n\r\nYou can also call methods at certain intervals with\r\nhttps://www.baeldung.com/spring-scheduled-tasks\r\n\r\nIt is also possible the animals don&#39;t need a Manager and are components that just react to incoming messages.\r\n\r\n","title":"Best approach implementing server-side logic with some sort of TaskManager class","body":"<p>I don't really know if the manager runs continuously or not (in a loop), also if the animals are hard coded or not and if those intervals are configurable at runtime or not..\nbut perhaps this helps :</p>\n<p>You could create a component (for your manager) with a @PostConstruct that start doing your stuff then (after bootup) <a href=\"https://www.baeldung.com/spring-postconstruct-predestroy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-postconstruct-predestroy</a>.</p>\n<p>You can also call methods at certain intervals with\n<a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<p>It is also possible the animals don't need a Manager and are components that just react to incoming messages.</p>\n"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674736011,"creation_date":1674733652,"question_id":75245687,"body_markdown":"I&#39;m usually coding in Node, but want to try Spring Boot and before I start a project I want to build, I wanted to ask for best approaches to save time.\r\n\r\nMy project requires some sort of Manager class that manages a set of custom classes I am going to code, for example an AnimalManager that manages a bunch of Animal.class objects. \r\n\r\nAll Animals are using websockets to receive data from third party APIs. I need some Manager class to handle all these Animals and call their functions based on custom intervals etcetera. \r\n\r\nWhat I am confused about now is how to implement such Manager classes that need to start working after start up without instantiation. From my understanding @Service is more like business logic for database operations. Is there some equivalent for Manager classes or standalone classes that don&#39;t interact with databases or controllers and are meant to just run tasks?","title":"Best approach implementing server-side logic with some sort of TaskManager class","body":"<p>I'm usually coding in Node, but want to try Spring Boot and before I start a project I want to build, I wanted to ask for best approaches to save time.</p>\n<p>My project requires some sort of Manager class that manages a set of custom classes I am going to code, for example an AnimalManager that manages a bunch of Animal.class objects.</p>\n<p>All Animals are using websockets to receive data from third party APIs. I need some Manager class to handle all these Animals and call their functions based on custom intervals etcetera.</p>\n<p>What I am confused about now is how to implement such Manager classes that need to start working after start up without instantiation. From my understanding @Service is more like business logic for database operations. Is there some equivalent for Manager classes or standalone classes that don't interact with databases or controllers and are meant to just run tasks?</p>\n"},{"tags":["java","html","swing","size"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249597549,"creation_date":1249597549,"answer_id":1241875,"question_id":1241645,"body_markdown":"The height can&#39;t be calculated until the width is known. When dealing with Swing components I think you need to do something like:\r\n\r\n    component.setSize(100, 1);\r\n    Dimension size = component.getPreferredSize();\r\n\r\nOr maybe you can use the concepts present in this [posting][1]:\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1126584/make-jtextpane-adjust-height-to-content","title":"Swing&#39;s BasicHTML.createHTMLView metrics usage","body":"<p>The height can't be calculated until the width is known. When dealing with Swing components I think you need to do something like:</p>\n\n<pre><code>component.setSize(100, 1);\nDimension size = component.getPreferredSize();\n</code></pre>\n\n<p>Or maybe you can use the concepts present in this <a href=\"https://stackoverflow.com/questions/1126584/make-jtextpane-adjust-height-to-content\">posting</a>:</p>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674735899,"creation_date":1674735899,"answer_id":75246097,"question_id":1241645,"body_markdown":"I have had success with this:\r\n\r\n``` java\r\nvar view = BasicHTML.createHTMLView(new JLabel(), &quot;&lt;html&gt;some html&lt;/html&gt;&quot;);\r\nSystem.out.println(view.getPreferredSpan(View.X_AXIS));\r\nSystem.out.println(view.getPreferredSpan(View.Y_AXIS));\r\n```","title":"Swing&#39;s BasicHTML.createHTMLView metrics usage","body":"<p>I have had success with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var view = BasicHTML.createHTMLView(new JLabel(), &quot;&lt;html&gt;some html&lt;/html&gt;&quot;);\nSystem.out.println(view.getPreferredSpan(View.X_AXIS));\nSystem.out.println(view.getPreferredSpan(View.Y_AXIS));\n</code></pre>\n"}],"owner":{"account_id":1781,"reputation":91962,"user_id":2443,"accept_rate":82,"display_name":"Allain Lalonde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674735899,"creation_date":1249594636,"question_id":1241645,"body_markdown":"I&#39;m doing some graphics processing and HTML is a perfect choice for styling the displayed content. I&#39;m trying to reuse swing&#39;s built in html support, and it works perfectly if I hard code the height passed to View.paint, but I can&#39;t figure out how to determine how tall the bounds of the rendered content would be at runtime given a specific width.\r\n\r\n    Graphics2D g = ...\r\n    JLabel label = new JLabel(&quot;blah blah blah...&quot;);\r\n\r\n    View view = BasicHTML.createView(label, label.getText());\r\n    int minHeight = .... // Calculation magic goes here\r\n    Rectangle htmlSize = new Rectangle(0, 0, 50, minHeight);\r\n    g.setClip(htmlSize);\r\n    view.paint(g, htmlSize);\r\n\r\nIf I ask the JLabel direction with getPreferredSize() it doesn&#39;t consider wrapping at all. If I try using a JEditorPane it returns a larger, but fixed size rectangle.\r\n\r\nThank you.\r\n","title":"Swing&#39;s BasicHTML.createHTMLView metrics usage","body":"<p>I'm doing some graphics processing and HTML is a perfect choice for styling the displayed content. I'm trying to reuse swing's built in html support, and it works perfectly if I hard code the height passed to View.paint, but I can't figure out how to determine how tall the bounds of the rendered content would be at runtime given a specific width.</p>\n\n<pre><code>Graphics2D g = ...\nJLabel label = new JLabel(\"blah blah blah...\");\n\nView view = BasicHTML.createView(label, label.getText());\nint minHeight = .... // Calculation magic goes here\nRectangle htmlSize = new Rectangle(0, 0, 50, minHeight);\ng.setClip(htmlSize);\nview.paint(g, htmlSize);\n</code></pre>\n\n<p>If I ask the JLabel direction with getPreferredSize() it doesn't consider wrapping at all. If I try using a JEditorPane it returns a larger, but fixed size rectangle.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","multithreading","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10568655,"reputation":337,"user_id":7786149,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674735887,"creation_date":1674735887,"answer_id":75246095,"question_id":75245662,"body_markdown":"So ... I figured it out. It was indeed a trivial thing that I somehow missed (embarrassingly so). \r\n\r\nBy specifying which thread pool to use in my logic, I made sure to effectively tell `@Async` above `myMethod(...)` which of 3 available beans to use. But I forgot that I have one more `@Async` above `beginProcessing()` method. So naturally it was confused with these changes and was throwing the exception I mentioned. By specifying which thread pool it needs to use (using bean name trick I mentioned I know), the code works like a charm.","title":"How to select to use a specific task executor in a method in springboot java?","body":"<p>So ... I figured it out. It was indeed a trivial thing that I somehow missed (embarrassingly so).</p>\n<p>By specifying which thread pool to use in my logic, I made sure to effectively tell <code>@Async</code> above <code>myMethod(...)</code> which of 3 available beans to use. But I forgot that I have one more <code>@Async</code> above <code>beginProcessing()</code> method. So naturally it was confused with these changes and was throwing the exception I mentioned. By specifying which thread pool it needs to use (using bean name trick I mentioned I know), the code works like a charm.</p>\n"}],"owner":{"account_id":10568655,"reputation":337,"user_id":7786149,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75246095,"answer_count":1,"score":0,"last_activity_date":1674735887,"creation_date":1674733501,"question_id":75245662,"body_markdown":"I have an application that uses CompletableFuture to process data from a stream async. The demo showcasing my async implementation is as follows:\r\n\r\n```\r\n    @Async\r\n    @Transactional(readOnly = true)\r\n    public void beginProcessing() {\r\n        try(Stream&lt;String&gt; st = myJpa.getMyStream()) { // use spring jpa to get a stream of data from db \r\n            CompletableFuture.allOf(st.map(i -&gt; CompletableFuture.supplyAsync(() -&gt;\r\n                            myMethod(i)))\r\n                    .toArray(CompletableFuture[]::new)).join();\r\n        }\r\n    }\r\n\r\n    @Async\r\n    private CompletableFuture&lt;Void&gt; myMethod(String i) {\r\n       // logic goes here\r\n    }\r\n```\r\nAnd it works fine. However, at the moment the CompletableFuture uses some default thread pool to do its job. I would like to use a custom defined taskExecutor instead. This can be achieved by supplying a name of the taskExecutor as a 2nd argument of `supplyAsync(...)` method. I have done it with `ForkJoin` thread pool before, so I am positive that it works.\r\n\r\nNow, I want to make it work with taskExecutor, so I have added a new bean to my config class as below (as well as another one which I will use elsewhere):\r\n```\r\n@Configuration\r\npublic class MyConfigClass {\r\n\r\n    @Bean\r\n    public TaskExecutor myNewExecutor() {\r\n        RejectedExecutionHandler re = new ThreadPoolExecutor.CallerRunsPolicy();\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(10);\r\n        executor.setMaxPoolSize(100);\r\n        executor.setQueueCapacity(0);\r\n        executor.setThreadNamePrefix(&quot;myNewExecutor-&quot;);\r\n        executor.setRejectedExecutionHandler(re);\r\n        return executor;\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor someOtherExecutor() { // would be used elsewhere\r\n        RejectedExecutionHandler re = new ThreadPoolExecutor.CallerRunsPolicy();\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(10);\r\n        executor.setMaxPoolSize(100); \r\n        executor.setQueueCapacity(0);\r\n        executor.setThreadNamePrefix(&quot;someOtherExecutor-&quot;);\r\n        executor.setRejectedExecutionHandler(re);\r\n        return executor;\r\n    }\r\n  \r\n}\r\n```\r\nAnd then I autowired TaskExecutor into my class and added the 2nd arg. So the code looks like below:\r\n\r\n```\r\n    @Autowired\r\n    private TaskExecutor myNewExecutor;\r\n\r\n    @Async\r\n    @Transactional(readOnly = true)\r\n    public void beginProcessing() {\r\n        try(Stream&lt;String&gt; st = myJpa.getMyStream()) { // use spring jpa to get a stream of data from db \r\n            CompletableFuture.allOf(st.map(i -&gt; CompletableFuture.supplyAsync(() -&gt;\r\n                            myMethod(i),myNewExecutor))\r\n                    .toArray(CompletableFuture[]::new)).join();\r\n        }\r\n    }\r\n\r\n    @Async\r\n    private CompletableFuture&lt;Void&gt; myMethod(String i) {\r\n       // logic goes here\r\n    }\r\n```\r\nHowever, that does not work since we have multiple beans of type TaskExecutor, so I get the following exception\r\n```\r\nCaused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: \r\nNo qualifying bean of type &#39;org.springframework.core.task.TaskExecutor&#39; available: expected single matching bean but found 3: myNewExecutor, someOtherExecutor, taskScheduler\r\n```\r\nOk, so I thought I would be able to solve it by using `@Qualifier` annotation. However, it didn&#39;t work for me - the exception is still being thrown (I used said annotation under the `@Bean` annotaiton in a config class and then under the `@Autowired` annotation in my class where logic is.). \r\n\r\nI know that you can make a method use a custom thread pool by giving each bean a name and having the corresponding name being passed as an arg to `@Async` annotation. So, I guess I could rework my code to be a simple `for` loop that calls `mytMethod(...)` with method&#39;s async annotation being replaced with `@Async(&quot;myNewExecutor&quot;)`. That would probably work but I would like to preserve CompletableFuture if I can, so wonder if anyone can identify what am I missing that results in the error mentioned above?\r\n\r\nI feel like I am missing something trivial to make it work but I just cannot see it.","title":"How to select to use a specific task executor in a method in springboot java?","body":"<p>I have an application that uses CompletableFuture to process data from a stream async. The demo showcasing my async implementation is as follows:</p>\n<pre><code>    @Async\n    @Transactional(readOnly = true)\n    public void beginProcessing() {\n        try(Stream&lt;String&gt; st = myJpa.getMyStream()) { // use spring jpa to get a stream of data from db \n            CompletableFuture.allOf(st.map(i -&gt; CompletableFuture.supplyAsync(() -&gt;\n                            myMethod(i)))\n                    .toArray(CompletableFuture[]::new)).join();\n        }\n    }\n\n    @Async\n    private CompletableFuture&lt;Void&gt; myMethod(String i) {\n       // logic goes here\n    }\n</code></pre>\n<p>And it works fine. However, at the moment the CompletableFuture uses some default thread pool to do its job. I would like to use a custom defined taskExecutor instead. This can be achieved by supplying a name of the taskExecutor as a 2nd argument of <code>supplyAsync(...)</code> method. I have done it with <code>ForkJoin</code> thread pool before, so I am positive that it works.</p>\n<p>Now, I want to make it work with taskExecutor, so I have added a new bean to my config class as below (as well as another one which I will use elsewhere):</p>\n<pre><code>@Configuration\npublic class MyConfigClass {\n\n    @Bean\n    public TaskExecutor myNewExecutor() {\n        RejectedExecutionHandler re = new ThreadPoolExecutor.CallerRunsPolicy();\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(10);\n        executor.setMaxPoolSize(100);\n        executor.setQueueCapacity(0);\n        executor.setThreadNamePrefix(&quot;myNewExecutor-&quot;);\n        executor.setRejectedExecutionHandler(re);\n        return executor;\n    }\n\n    @Bean\n    public TaskExecutor someOtherExecutor() { // would be used elsewhere\n        RejectedExecutionHandler re = new ThreadPoolExecutor.CallerRunsPolicy();\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(10);\n        executor.setMaxPoolSize(100); \n        executor.setQueueCapacity(0);\n        executor.setThreadNamePrefix(&quot;someOtherExecutor-&quot;);\n        executor.setRejectedExecutionHandler(re);\n        return executor;\n    }\n  \n}\n</code></pre>\n<p>And then I autowired TaskExecutor into my class and added the 2nd arg. So the code looks like below:</p>\n<pre><code>    @Autowired\n    private TaskExecutor myNewExecutor;\n\n    @Async\n    @Transactional(readOnly = true)\n    public void beginProcessing() {\n        try(Stream&lt;String&gt; st = myJpa.getMyStream()) { // use spring jpa to get a stream of data from db \n            CompletableFuture.allOf(st.map(i -&gt; CompletableFuture.supplyAsync(() -&gt;\n                            myMethod(i),myNewExecutor))\n                    .toArray(CompletableFuture[]::new)).join();\n        }\n    }\n\n    @Async\n    private CompletableFuture&lt;Void&gt; myMethod(String i) {\n       // logic goes here\n    }\n</code></pre>\n<p>However, that does not work since we have multiple beans of type TaskExecutor, so I get the following exception</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: \nNo qualifying bean of type 'org.springframework.core.task.TaskExecutor' available: expected single matching bean but found 3: myNewExecutor, someOtherExecutor, taskScheduler\n</code></pre>\n<p>Ok, so I thought I would be able to solve it by using <code>@Qualifier</code> annotation. However, it didn't work for me - the exception is still being thrown (I used said annotation under the <code>@Bean</code> annotaiton in a config class and then under the <code>@Autowired</code> annotation in my class where logic is.).</p>\n<p>I know that you can make a method use a custom thread pool by giving each bean a name and having the corresponding name being passed as an arg to <code>@Async</code> annotation. So, I guess I could rework my code to be a simple <code>for</code> loop that calls <code>mytMethod(...)</code> with method's async annotation being replaced with <code>@Async(&quot;myNewExecutor&quot;)</code>. That would probably work but I would like to preserve CompletableFuture if I can, so wonder if anyone can identify what am I missing that results in the error mentioned above?</p>\n<p>I feel like I am missing something trivial to make it work but I just cannot see it.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6892782,"reputation":1553,"user_id":5295657,"accept_rate":31,"display_name":"Mahsum Akbas"},"score":0,"creation_date":1442317754,"post_id":32584866,"comment_id":53024138,"body_markdown":"already you maximize it before execute your test step. so where is the problem exactly?","body":"already you maximize it before execute your test step. so where is the problem exactly?"},{"owner":{"account_id":6921963,"reputation":783,"user_id":5314309,"accept_rate":6,"display_name":"Uziii"},"score":0,"creation_date":1442318838,"post_id":32584866,"comment_id":53024854,"body_markdown":"@MahsumAkbas the problem is that for firefox it initially open the browser in restored state and after couple of seconds it maximizes it, but with the chromeOptions, I can initiate the chrome browser in maximized form, there is no delay in that. I am asking if there is a similar way for firefox as well.","body":"@MahsumAkbas the problem is that for firefox it initially open the browser in restored state and after couple of seconds it maximizes it, but with the chromeOptions, I can initiate the chrome browser in maximized form, there is no delay in that. I am asking if there is a similar way for firefox as well."}],"answers":[{"tags":[],"owner":{"account_id":27625246,"reputation":29,"user_id":21085370,"display_name":"Daniel Delimata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674735861,"creation_date":1674735861,"answer_id":75246088,"question_id":32584866,"body_markdown":"I am afraid that you will not find anything better than `driver.manage().window().maximize();`.\r\n\r\nLook at this workitem. It was raised 10 years ago.\r\n\r\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=873618","title":"Start firefox browser in maximized form - Selenium Webdriver","body":"<p>I am afraid that you will not find anything better than <code>driver.manage().window().maximize();</code>.</p>\n<p>Look at this workitem. It was raised 10 years ago.</p>\n<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=873618\" rel=\"nofollow noreferrer\">https://bugzilla.mozilla.org/show_bug.cgi?id=873618</a></p>\n"}],"owner":{"account_id":6921963,"reputation":783,"user_id":5314309,"accept_rate":6,"display_name":"Uziii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1901,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1674735861,"creation_date":1442316513,"question_id":32584866,"body_markdown":"I wanted to ask if there is a way in selenium webdriver to initiate the firefox driver in maximized form. \r\n\r\nI know `driver.manage().window().maximize();` will do the job, but with this the browser is opened in restored form and after couple of seconds it goes to maximized form. What I want is to open the browser in maximized instantly when my test runs. ChromeOptions works for chrome browser like following,\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\r\n    \t\t\tChromeOptions options = new ChromeOptions();\r\n    \t\t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    \t\t\tdriver = new ChromeDriver(options);\r\n\r\nIs there a similar way for firefox as well?","title":"Start firefox browser in maximized form - Selenium Webdriver","body":"<p>I wanted to ask if there is a way in selenium webdriver to initiate the firefox driver in maximized form. </p>\n\n<p>I know <code>driver.manage().window().maximize();</code> will do the job, but with this the browser is opened in restored form and after couple of seconds it goes to maximized form. What I want is to open the browser in maximized instantly when my test runs. ChromeOptions works for chrome browser like following,</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"chromedriver.exe\");\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(\"--start-maximized\");\n            driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Is there a similar way for firefox as well?</p>\n"},{"tags":["java","xml","maven","maven-archetype"],"owner":{"account_id":12062531,"reputation":13,"user_id":8821004,"display_name":"Robert Sperchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674735725,"creation_date":1674735725,"question_id":75246058,"body_markdown":"I&#39;m trying to create an archetype that I&#39;ll use for multiple services. The archetype generates a project just fine, all modules and files that I want included. Problem is, I&#39;d like to set custom names for the modules and folders that the project has, depending on the service I&#39;ll be creating\r\nCurrently I have something like this (just an example): \r\n\r\n```\r\n    &lt;requiredProperties&gt;\r\n        &lt;requiredProperty key=&quot;testName&quot;/&gt;\r\n    &lt;/requiredProperties&gt;\r\n    &lt;module id=&quot;service-data&quot; dir=&quot;service-data&quot; name=&quot;service-data&quot; /&gt;\r\n```\r\n\r\nWhat I&#39;d like to happen is something like this:\r\n```\r\n    &lt;requiredProperties&gt;\r\n        &lt;requiredProperty key=&quot;testName&quot;/&gt;\r\n    &lt;/requiredProperties&gt;\r\n    &lt;module id=&quot;${testName}-data&quot; dir=&quot;${testName}-data&quot; name=&quot;${testName}-data&quot; /&gt;\r\n```\r\nBasically, I&#39;d like to give the archetype a parameter so that when I create a project using it, instead of service-data being my module name everytime, it ends up being say test-project (if testName = test).\r\nI tried using the testName parameter as shown in this example, but what ends up happening is the module will literally be named ${testName}-data.\r\nUsing the requiredProperty works just fine for other pom.xml or other files in the project, but I&#39;m really interested if I can set custom properties that will work directly in the archetype-metadata.xml file. \r\nThanks!","title":"Custom properties when creating maven archetype (archetype-metadata.xml)","body":"<p>I'm trying to create an archetype that I'll use for multiple services. The archetype generates a project just fine, all modules and files that I want included. Problem is, I'd like to set custom names for the modules and folders that the project has, depending on the service I'll be creating\nCurrently I have something like this (just an example):</p>\n<pre><code>    &lt;requiredProperties&gt;\n        &lt;requiredProperty key=&quot;testName&quot;/&gt;\n    &lt;/requiredProperties&gt;\n    &lt;module id=&quot;service-data&quot; dir=&quot;service-data&quot; name=&quot;service-data&quot; /&gt;\n</code></pre>\n<p>What I'd like to happen is something like this:</p>\n<pre><code>    &lt;requiredProperties&gt;\n        &lt;requiredProperty key=&quot;testName&quot;/&gt;\n    &lt;/requiredProperties&gt;\n    &lt;module id=&quot;${testName}-data&quot; dir=&quot;${testName}-data&quot; name=&quot;${testName}-data&quot; /&gt;\n</code></pre>\n<p>Basically, I'd like to give the archetype a parameter so that when I create a project using it, instead of service-data being my module name everytime, it ends up being say test-project (if testName = test).\nI tried using the testName parameter as shown in this example, but what ends up happening is the module will literally be named ${testName}-data.\nUsing the requiredProperty works just fine for other pom.xml or other files in the project, but I'm really interested if I can set custom properties that will work directly in the archetype-metadata.xml file.\nThanks!</p>\n"},{"tags":["java","user-interface","javafx","interface"],"comments":[{"owner":{"account_id":16865861,"reputation":372,"user_id":12195587,"display_name":"Fuzail"},"score":0,"creation_date":1674723990,"post_id":75243653,"comment_id":132775968,"body_markdown":"Have you tried setting up the scene (along with its properties like color) with an empty border first and then after that, adding children (title label) to the border&#39;s top region.","body":"Have you tried setting up the scene (along with its properties like color) with an empty border first and then after that, adding children (title label) to the border&#39;s top region."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674736208,"post_id":75243653,"comment_id":132779710,"body_markdown":"hint: the borderpane fills the complete area of the scene (== covers it). Unrelated: don&#39;t hard-code sizing constraints (like min/max/pref)!","body":"hint: the borderpane fills the complete area of the scene (== covers it). Unrelated: don&#39;t hard-code sizing constraints (like min/max/pref)!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1674737476,"post_id":75243653,"comment_id":132780090,"body_markdown":"Creating any kind of control will cause the default style sheet to be applied to the contents of the scene, which gives an opaque color to the root node (the border pane in your case). Either make the root transparent, or apply your gradient to the root instead of the scene.","body":"Creating any kind of control will cause the default style sheet to be applied to the contents of the scene, which gives an opaque color to the root node (the border pane in your case). Either make the root transparent, or apply your gradient to the root instead of the scene."}],"owner":{"account_id":27243845,"reputation":1,"user_id":20769518,"display_name":"Bahaa ALsulaiman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674737831,"answer_count":0,"score":0,"last_activity_date":1674735645,"creation_date":1674721570,"question_id":75243653,"body_markdown":"I have a program that&#39;s going to be a tic tac toe game GUI and I decided to set the scene color with `LinearGradient` which is far better than plain color but once I add any control to it, it instantly changes its color to the default color of Netbeans GUI &quot;White&quot;. I tried to check the size of the label that. might cause kinda stuff but it didn&#39;t work. Also, I used `StackPane` and this caused the same thing sadly\r\n\r\n\r\n\r\n\r\n```\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.RadioButton;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.BackgroundFill;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.CornerRadii;\r\nimport javafx.scene.layout.FlowPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Font;\r\nimport static javafx.scene.text.Font.font;\r\nimport javafx.scene.text.FontWeight;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.paint.LinearGradient;\r\nimport javafx.scene.paint.Stop;\r\nimport javafx.scene.paint.CycleMethod;\r\n\r\npublic class GUIProject extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        \r\n        BorderPane border = new BorderPane();\r\n        \r\n      FlowPane top = new FlowPane();\r\n //---------------------------------------------------------------------------//\r\n//-------------------------------Top Scene------------------------------------//\r\n//----------------------------------------------------------------------------//\r\n       \r\n       \r\n     Label title = new Label (&quot;F&quot;);\r\n      \r\n      title.setFont(Font.font(&quot;Arial Bold&quot;, FontWeight.BOLD, 20));\r\n     top.setBackground(new Background(new BackgroundFill(Color.ORANGE, CornerRadii.EMPTY,Insets.EMPTY)));\r\n       title.setTextFill(Color.WHITE);\r\n       top.setMinHeight(100);\r\n      title.setAlignment(Pos.CENTER);\r\n       \r\n      \r\n    top.getChildren().add(title);\r\n      \r\n      border.setTop(top);\r\n    \r\n //---------------------------------------------------------------------------//\r\n//-------------------------------Scene Set Up---------------------------------//\r\n//----------------------------------------------------------------------------//\r\n\r\n       \r\n        Scene scene = new Scene(border,900,700);\r\n        \r\n        stage.setScene(scene);\r\n       \r\n        stage.setTitle(&quot;Tic Tac Toe&quot;);\r\n        \r\n        Stop[] stops = new Stop[] { new Stop(0,Color.rgb(1,255,255)), \r\n            new Stop(1,Color.BLUE)};\r\n             \r\n    \r\n       LinearGradient g1 = new LinearGradient(0,0,1,0, true, CycleMethod.NO_CYCLE, stops);\r\n        scene.setFill(g1);\r\n        stage.show();\r\n        \r\n        }\r\n  \r\n    public static void main(String[] args){\r\n        \r\n        \r\n        launch(args);\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n","title":"My Scene changes its color once I add element to it","body":"<p>I have a program that's going to be a tic tac toe game GUI and I decided to set the scene color with <code>LinearGradient</code> which is far better than plain color but once I add any control to it, it instantly changes its color to the default color of Netbeans GUI &quot;White&quot;. I tried to check the size of the label that. might cause kinda stuff but it didn't work. Also, I used <code>StackPane</code> and this caused the same thing sadly</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport static javafx.scene.text.Font.font;\nimport javafx.scene.text.FontWeight;\nimport javafx.stage.Stage;\nimport javafx.scene.paint.LinearGradient;\nimport javafx.scene.paint.Stop;\nimport javafx.scene.paint.CycleMethod;\n\npublic class GUIProject extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        \n        BorderPane border = new BorderPane();\n        \n      FlowPane top = new FlowPane();\n //---------------------------------------------------------------------------//\n//-------------------------------Top Scene------------------------------------//\n//----------------------------------------------------------------------------//\n       \n       \n     Label title = new Label (&quot;F&quot;);\n      \n      title.setFont(Font.font(&quot;Arial Bold&quot;, FontWeight.BOLD, 20));\n     top.setBackground(new Background(new BackgroundFill(Color.ORANGE, CornerRadii.EMPTY,Insets.EMPTY)));\n       title.setTextFill(Color.WHITE);\n       top.setMinHeight(100);\n      title.setAlignment(Pos.CENTER);\n       \n      \n    top.getChildren().add(title);\n      \n      border.setTop(top);\n    \n //---------------------------------------------------------------------------//\n//-------------------------------Scene Set Up---------------------------------//\n//----------------------------------------------------------------------------//\n\n       \n        Scene scene = new Scene(border,900,700);\n        \n        stage.setScene(scene);\n       \n        stage.setTitle(&quot;Tic Tac Toe&quot;);\n        \n        Stop[] stops = new Stop[] { new Stop(0,Color.rgb(1,255,255)), \n            new Stop(1,Color.BLUE)};\n             \n    \n       LinearGradient g1 = new LinearGradient(0,0,1,0, true, CycleMethod.NO_CYCLE, stops);\n        scene.setFill(g1);\n        stage.show();\n        \n        }\n  \n    public static void main(String[] args){\n        \n        \n        launch(args);\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","jaxb","w3c"],"answers":[{"tags":[],"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464791305,"creation_date":1464791305,"answer_id":37571564,"question_id":36862882,"body_markdown":"You must marshall it to a Document, from which you can get the Element(s):\r\n\r\n    Letter letter = new Letter();\r\n    \r\n    // convert to DOM document\r\n    Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n    JAXBContext context = JAXBContext.newInstance(Letter.class.getPackage().getName());\r\n    Marshaller marshaller = context.createMarshaller();\r\n    \r\n    XMLDocument xmlDocument = new XMLDocument();\r\n    xmlDocument.setAny(document.getDocumentElement());\r\n\r\nReference: https://stackoverflow.com/q/17078308/5658642","title":"can you convert a jaxb object to org.w3c.dom.Element?","body":"<p>You must marshall it to a Document, from which you can get the Element(s):</p>\n\n<pre><code>Letter letter = new Letter();\n\n// convert to DOM document\nDocument document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\nJAXBContext context = JAXBContext.newInstance(Letter.class.getPackage().getName());\nMarshaller marshaller = context.createMarshaller();\n\nXMLDocument xmlDocument = new XMLDocument();\nxmlDocument.setAny(document.getDocumentElement());\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/q/17078308/5658642\">how to marshal a JAXB object to org.w3c.dom.Document?</a></p>\n"}],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8592,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1674735634,"creation_date":1461668156,"question_id":36862882,"body_markdown":"I got some .xsd files from another department that doesn&#39;t use Java. I need to write xml that corresponds to the specified format. So I jaxb-converted them to Java classes and I&#39;m able to write some of the xml. So far so good. But now one of the element/classes contains a property where you can (/you&#39;re supposed to be able to) insert any xml. I need to insert one of the other jaxb elements there.\r\n\r\nIn java, we have:\r\n\r\n    import org.w3c.dom.Element;\r\n    ...\r\n            @XmlAccessorType(XmlAccessType.FIELD)\r\n            @XmlType(name = &quot;&quot;, propOrder = {\r\n                &quot;any&quot;\r\n            })\r\n            public static class XMLDocument {\r\n\r\n                @XmlAnyElement\r\n                protected Element any;\r\n\r\n                /**\r\n                 * Gets the value of the any property.\r\n                 * \r\n                 * @return\r\n                 *     possible object is\r\n                 *     {@link Element }\r\n                 *     \r\n                 */\r\n                public Element getAny() {\r\n                    return any;\r\n                }\r\n\r\n                /**\r\n                 * Sets the value of the any property.\r\n                 * \r\n                 * @param value\r\n                 *     allowed object is\r\n                 *     {@link Element }\r\n                 *     \r\n                 */\r\n                public void setAny(Element value) {\r\n                    this.any = value;\r\n                }\r\n\r\n            }\r\n\r\nAnd the object I want to insert, is of this class:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;contactInfo&quot;,\r\n        ...\r\n    })\r\n    @XmlRootElement(name = &quot;Letter&quot;)\r\n    public class Letter {\r\n    \r\n        @XmlElement(name = &quot;ContactInfo&quot;, required = true)\r\n        protected ContactInformationLetter contactInfo;\r\n        ...\r\n\r\nI was hoping I could do something like this:\r\n\r\n    Letter letter = new Letter();\r\n    \r\n    XMLDocument xmlDocument = new XMLDocument();\r\n    xmlDocument.setAny(letter);\r\n\r\nBut of course letter is not of type &quot;Element&quot;.","title":"can you convert a jaxb object to org.w3c.dom.Element?","body":"<p>I got some .xsd files from another department that doesn't use Java. I need to write xml that corresponds to the specified format. So I jaxb-converted them to Java classes and I'm able to write some of the xml. So far so good. But now one of the element/classes contains a property where you can (/you're supposed to be able to) insert any xml. I need to insert one of the other jaxb elements there.</p>\n\n<p>In java, we have:</p>\n\n<pre><code>import org.w3c.dom.Element;\n...\n        @XmlAccessorType(XmlAccessType.FIELD)\n        @XmlType(name = \"\", propOrder = {\n            \"any\"\n        })\n        public static class XMLDocument {\n\n            @XmlAnyElement\n            protected Element any;\n\n            /**\n             * Gets the value of the any property.\n             * \n             * @return\n             *     possible object is\n             *     {@link Element }\n             *     \n             */\n            public Element getAny() {\n                return any;\n            }\n\n            /**\n             * Sets the value of the any property.\n             * \n             * @param value\n             *     allowed object is\n             *     {@link Element }\n             *     \n             */\n            public void setAny(Element value) {\n                this.any = value;\n            }\n\n        }\n</code></pre>\n\n<p>And the object I want to insert, is of this class:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n    \"contactInfo\",\n    ...\n})\n@XmlRootElement(name = \"Letter\")\npublic class Letter {\n\n    @XmlElement(name = \"ContactInfo\", required = true)\n    protected ContactInformationLetter contactInfo;\n    ...\n</code></pre>\n\n<p>I was hoping I could do something like this:</p>\n\n<pre><code>Letter letter = new Letter();\n\nXMLDocument xmlDocument = new XMLDocument();\nxmlDocument.setAny(letter);\n</code></pre>\n\n<p>But of course letter is not of type \"Element\".</p>\n"},{"tags":["java","multithreading","selenium","testing","performance-testing"],"comments":[{"owner":{"account_id":12680234,"reputation":828,"user_id":12576581,"display_name":"DeadSec"},"score":0,"creation_date":1674734400,"post_id":75245559,"comment_id":132779168,"body_markdown":"Do you need javascript rendering?","body":"Do you need javascript rendering?"},{"owner":{"account_id":12680234,"reputation":828,"user_id":12576581,"display_name":"DeadSec"},"score":0,"creation_date":1674734452,"post_id":75245559,"comment_id":132779186,"body_markdown":"Selenium is known for huge RAM and CPU consumption. If you don&#39;t need JavaScript rendering use scrapy or BS4.","body":"Selenium is known for huge RAM and CPU consumption. If you don&#39;t need JavaScript rendering use scrapy or BS4."},{"owner":{"account_id":12680234,"reputation":828,"user_id":12576581,"display_name":"DeadSec"},"score":0,"creation_date":1674734667,"post_id":75245559,"comment_id":132779249,"body_markdown":"Btw you might aswell buy a big ass rendering server from AWS if you want 200 selenium browsers working in parallel. Thats nuts","body":"Btw you might aswell buy a big ass rendering server from AWS if you want 200 selenium browsers working in parallel. Thats nuts"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674766425,"post_id":75245559,"comment_id":132789229,"body_markdown":"it&#39;s not the right tool for load testing.  Having said that, using HTMLUnit will vastly increase the speed.","body":"it&#39;s not the right tool for load testing.  Having said that, using HTMLUnit will vastly increase the speed."}],"answers":[{"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674766339,"post_id":75246024,"comment_id":132789214,"body_markdown":"that&#39;s not exactly requirements but recommended specs...  the point is very valid though, browsers are resource hungry and will try to use as much resources as possible for speeds sake.  That includes threads and memory.  Fairly recently they also isolated processes for different domains/contexts to fix some security holes.  That can add up very quickly... even for a single site you may see multiple chrome.exe instances.","body":"that&#39;s not exactly requirements but recommended specs...  the point is very valid though, browsers are resource hungry and will try to use as much resources as possible for speeds sake.  That includes threads and memory.  Fairly recently they also isolated processes for different domains/contexts to fix some security holes.  That can add up very quickly... even for a single site you may see multiple chrome.exe instances."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674735473,"creation_date":1674735473,"answer_id":75246024,"question_id":75245559,"body_markdown":"I don&#39;t think you can, real browser means real browser and real browsers are resource intensive. For example [Firefox 109][1] requires 1 CPU core and 2 GB or RAM **per instance** and Chrome tends to consume even more. \r\n\r\nMoreover [it is not recommended to use Selenium for performance testing][2] in the Selenium official documentation, they suggest to use [JMeter][3] for that. Given you [properly configure JMeter to behave like a real browser][4] from the system under test point of view there will be no difference whether you use Selenium or JMeter for testing.  \r\n\r\n\r\n  [1]: https://www.mozilla.org/en-US/firefox/109.0/system-requirements/\r\n  [2]: https://www.selenium.dev/documentation/test_practices/discouraged/performance_testing/\r\n  [3]: https://jmeter.apache.org/\r\n  [4]: https://guide.blazemeter.com/hc/en-us/articles/206733719-How-to-make-JMeter-behave-more-like-a-real-browser","title":"Selenium Multithreaded Usage Performance Tuning","body":"<p>I don't think you can, real browser means real browser and real browsers are resource intensive. For example <a href=\"https://www.mozilla.org/en-US/firefox/109.0/system-requirements/\" rel=\"nofollow noreferrer\">Firefox 109</a> requires 1 CPU core and 2 GB or RAM <strong>per instance</strong> and Chrome tends to consume even more.</p>\n<p>Moreover <a href=\"https://www.selenium.dev/documentation/test_practices/discouraged/performance_testing/\" rel=\"nofollow noreferrer\">it is not recommended to use Selenium for performance testing</a> in the Selenium official documentation, they suggest to use <a href=\"https://jmeter.apache.org/\" rel=\"nofollow noreferrer\">JMeter</a> for that. Given you <a href=\"https://guide.blazemeter.com/hc/en-us/articles/206733719-How-to-make-JMeter-behave-more-like-a-real-browser\" rel=\"nofollow noreferrer\">properly configure JMeter to behave like a real browser</a> from the system under test point of view there will be no difference whether you use Selenium or JMeter for testing.</p>\n"}],"owner":{"account_id":9267443,"reputation":6364,"user_id":6882497,"accept_rate":77,"display_name":"Akiner Alkan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674735473,"creation_date":1674732874,"question_id":75245559,"body_markdown":"I am using multiple webdrivers with different threads. However, drivers are consuming a lot of memory and cpu usage. I am looking for efficient solution which can utilise many drivers usage with low memory/cpu footprint.\r\n\r\nI have the following code: \r\n\r\n    for (int i = 0; i &lt; 200; i++) {\r\n        Thread t = new Thread(this::workWithNewWebDriver, &quot;Browser&quot; + i);\r\n        t.start();\r\n    }\r\n\r\n    public void workWithNewWebDriver(){\r\n        ChromeOptions bestPerformanceOptions = new ChromeOptions();\r\n        WebDriver driver = new ChromeDriver(bestPerformanceOptions);\r\n        driver.get(&quot;anysite.com&quot;);\r\n        // Do stuff...\r\n    }\r\n\r\nI am currently using that kind of user tests with selenium but framework is subject to change and I am looking for most performant lightweight solution.\r\n\r\nTests are only requiring user login and interactions, Any framework can click the button with a user is okay by me. \r\n\r\nI have already tested the `headless` option for selenium but it only gives a slight improvement to performance metrics.\r\n\r\n&gt; Where can I find the preset of performant options for chrome driver?\r\n\r\n&gt; How can I improve the performance of selenium that tests 200 different parallel users use case ie.?","title":"Selenium Multithreaded Usage Performance Tuning","body":"<p>I am using multiple webdrivers with different threads. However, drivers are consuming a lot of memory and cpu usage. I am looking for efficient solution which can utilise many drivers usage with low memory/cpu footprint.</p>\n<p>I have the following code:</p>\n<pre><code>for (int i = 0; i &lt; 200; i++) {\n    Thread t = new Thread(this::workWithNewWebDriver, &quot;Browser&quot; + i);\n    t.start();\n}\n\npublic void workWithNewWebDriver(){\n    ChromeOptions bestPerformanceOptions = new ChromeOptions();\n    WebDriver driver = new ChromeDriver(bestPerformanceOptions);\n    driver.get(&quot;anysite.com&quot;);\n    // Do stuff...\n}\n</code></pre>\n<p>I am currently using that kind of user tests with selenium but framework is subject to change and I am looking for most performant lightweight solution.</p>\n<p>Tests are only requiring user login and interactions, Any framework can click the button with a user is okay by me.</p>\n<p>I have already tested the <code>headless</code> option for selenium but it only gives a slight improvement to performance metrics.</p>\n<blockquote>\n<p>Where can I find the preset of performant options for chrome driver?</p>\n</blockquote>\n<blockquote>\n<p>How can I improve the performance of selenium that tests 200 different parallel users use case ie.?</p>\n</blockquote>\n"},{"tags":["java","printf","double"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674733795,"post_id":75245660,"comment_id":132778963,"body_markdown":"I&#39;m not sure the format string supports truncation but you can to it on your own. A simple way might be to do `(int)(number1 * 100)/100.0` (this might suffer from some precision issues though). A safer option would be to use `BigDecimal` with it&#39;s `round()` method and providing a proper `RoundingMode` to the `MathContext`.","body":"I&#39;m not sure the format string supports truncation but you can to it on your own. A simple way might be to do <code>(int)(number1 * 100)&#47;100.0</code> (this might suffer from some precision issues though). A safer option would be to use <code>BigDecimal</code> with it&#39;s <code>round()</code> method and providing a proper <code>RoundingMode</code> to the <code>MathContext</code>."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1674735235,"post_id":75245951,"comment_id":132779434,"body_markdown":"Note: one subtle difference between `DecimalFormat` (and `printf()`) solutions compared to `BigDecimal`: the first ones use the default `Locale` to format the number, while `BigDecimal` does not (e.g. for some countries the first will return a comma `,` as decimal point, while the later one always uses a point `.` {AFAIK})","body":"Note: one subtle difference between <code>DecimalFormat</code> (and <code>printf()</code>) solutions compared to <code>BigDecimal</code>: the first ones use the default <code>Locale</code> to format the number, while <code>BigDecimal</code> does not (e.g. for some countries the first will return a comma <code>,</code> as decimal point, while the later one always uses a point <code>.</code> {AFAIK})"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674734980,"creation_date":1674734980,"answer_id":75245951,"question_id":75245660,"body_markdown":"You can use `DecimalFormat` with an apropriate pattern and a `RoundingMode` to specify rounding behavior:\r\n\r\n    double number1 = 19.867;\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    df.setRoundingMode(RoundingMode.DOWN);\r\n\r\n    System.out.println(df.format(number1));\r\n\r\nThe same can be achieved by converting the double value to `BigDecimal` and use `BigDecimal`‘s `setScale()` method with a `RoundingMode`\r\n\r\n    BigDecimal bigDecimalNumber1 = new BigDecimal(number1).setScale(2, RoundingMode.DOWN);\r\n    System.out.println(bigDecimalNumber1.doubleValue());","title":"Format Java double with only 2 decimal places without rounding","body":"<p>You can use <code>DecimalFormat</code> with an apropriate pattern and a <code>RoundingMode</code> to specify rounding behavior:</p>\n<pre><code>double number1 = 19.867;\n\nDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\ndf.setRoundingMode(RoundingMode.DOWN);\n\nSystem.out.println(df.format(number1));\n</code></pre>\n<p>The same can be achieved by converting the double value to <code>BigDecimal</code> and use <code>BigDecimal</code>‘s <code>setScale()</code> method with a <code>RoundingMode</code></p>\n<pre><code>BigDecimal bigDecimalNumber1 = new BigDecimal(number1).setScale(2, RoundingMode.DOWN);\nSystem.out.println(bigDecimalNumber1.doubleValue());\n</code></pre>\n"}],"owner":{"account_id":26775965,"reputation":25,"user_id":20371605,"display_name":"BBA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75245951,"answer_count":1,"score":0,"last_activity_date":1674735236,"creation_date":1674733478,"question_id":75245660,"body_markdown":"I have variables that are doubles and I want to get the double with only 2 numbers after the decimal point. I tried it with \r\n\r\n`System.out.printf(&quot;%1.2f&quot;, number1);` \r\nbut the decimal places get rounded. For example if I have number1 = 19.867, I just want to get 19.86 and not the rounded version 19.87. How can I do that?\r\n","title":"Format Java double with only 2 decimal places without rounding","body":"<p>I have variables that are doubles and I want to get the double with only 2 numbers after the decimal point. I tried it with</p>\n<p><code>System.out.printf(&quot;%1.2f&quot;, number1);</code>\nbut the decimal places get rounded. For example if I have number1 = 19.867, I just want to get 19.86 and not the rounded version 19.87. How can I do that?</p>\n"},{"tags":["java","swing","jpopupmenu","jmenuitem","jpopup"],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1342707761,"creation_date":1342707761,"answer_id":11562919,"question_id":11562728,"body_markdown":"you look at\r\n\r\n1. `PopupMenuListener`\r\n\r\nbetter could be\r\n\r\n2. `JMenuItem`(s) can returns `ButtonModel`, \r\n\r\n3. `ButtonModel` returns `isRollover()`, `isArmend()`, `isPressed()` e.i.\r\n\r\n4. each of `JButtons JComponents` (JButton, JCheckBox, JRadioButton and JMenuXxx) implemented diferrent methods from `ButtonModel`\r\n\r\n","title":"Handle JPopupMenu closed","body":"<p>you look at</p>\n\n<ol>\n<li><code>PopupMenuListener</code></li>\n</ol>\n\n<p>better could be</p>\n\n<ol>\n<li><p><code>JMenuItem</code>(s) can returns <code>ButtonModel</code>, </p></li>\n<li><p><code>ButtonModel</code> returns <code>isRollover()</code>, <code>isArmend()</code>, <code>isPressed()</code> e.i.</p></li>\n<li><p>each of <code>JButtons JComponents</code> (JButton, JCheckBox, JRadioButton and JMenuXxx) implemented diferrent methods from <code>ButtonModel</code></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1342713962,"post_id":11563138,"comment_id":15297875,"body_markdown":"+1 for PopupMenuListener, btw JMenuXxx have got own another Listeners, PopupMenuListener this doesn&#39;t works for particular JMenuItem is highlighted.... or deselected","body":"+1 for PopupMenuListener, btw JMenuXxx have got own another Listeners, PopupMenuListener this doesn&#39;t works for particular JMenuItem is highlighted.... or deselected"}],"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674735180,"creation_date":1342708514,"answer_id":11563138,"question_id":11562728,"body_markdown":"Something like this should do the trick:\r\n\r\n    myPopupMenu.addPopupMenuListener(new PopupMenuListener() {\r\n\r\n         @Override\r\n         public void popupMenuCanceled(final PopupMenuEvent e) {\r\n             highlightOff();\r\n         }\r\n\r\n         @Override\r\n         public void popupMenuWillBecomeInvisible(final PopupMenuEvent e) {\r\n             highlightOff();\r\n         }\r\n\r\n         @Override\r\n         public void popupMenuWillBecomeVisible(final PopupMenuEvent e) { }\r\n    }\r\n\r\n\r\n\r\nJust remember to add the listener before you make it visible, or inside its constructor.","title":"Handle JPopupMenu closed","body":"<p>Something like this should do the trick:</p>\n<pre><code>myPopupMenu.addPopupMenuListener(new PopupMenuListener() {\n\n     @Override\n     public void popupMenuCanceled(final PopupMenuEvent e) {\n         highlightOff();\n     }\n\n     @Override\n     public void popupMenuWillBecomeInvisible(final PopupMenuEvent e) {\n         highlightOff();\n     }\n\n     @Override\n     public void popupMenuWillBecomeVisible(final PopupMenuEvent e) { }\n}\n</code></pre>\n<p>Just remember to add the listener before you make it visible, or inside its constructor.</p>\n"}],"owner":{"account_id":791608,"reputation":7269,"user_id":880787,"accept_rate":83,"display_name":"AvrDragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2891,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11562919,"answer_count":2,"score":2,"last_activity_date":1674735180,"creation_date":1342707090,"question_id":11562728,"body_markdown":"I want to highlight some elements on screen, when one JMenuItem in PopupMenu ist selected(mouse over). So i use MouseListener on my JMenuItem with\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\thighlightOn();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\thighlightOff();\r\n\t\t\t}\r\n\r\nIt works fine, but if i press Esc the popup menu will be closed, without clean the highligt. How can i intercept the closing of JPopupMenu to handle this? ","title":"Handle JPopupMenu closed","body":"<p>I want to highlight some elements on screen, when one JMenuItem in PopupMenu ist selected(mouse over). So i use MouseListener on my JMenuItem with</p>\n\n<pre><code>        @Override\n        public void mouseEntered(MouseEvent e) {\n            highlightOn();\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            highlightOff();\n        }\n</code></pre>\n\n<p>It works fine, but if i press Esc the popup menu will be closed, without clean the highligt. How can i intercept the closing of JPopupMenu to handle this? </p>\n"},{"tags":["java","selenium-webdriver","url","selenium-chromedriver","google-chrome-headless"],"answers":[{"tags":[],"owner":{"account_id":27625246,"reputation":29,"user_id":21085370,"display_name":"Daniel Delimata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674734974,"creation_date":1674732064,"answer_id":75245415,"question_id":75242129,"body_markdown":"Headless mode has different reaction times. Make sure that your problem is not related to this, i.e. if your website is rendering the content before you want to interact with it. If not, then add some waiting. For quick checking, you can add `Thread.sleep(2000)` after the `get()` method and before checking the `WebElement`, but do not leave it in the final version of your tests and rather use the class `WebDriverWait` instead.\r\n\r\nIf this does not solve your problem, then try to check your code on some other page and provide a minimal example, for example:\r\n```java\r\n    public static void main(String[] args) {\r\n        ChromeOptions options = new ChromeOptions()\r\n                .addArguments(&quot;--headless&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n\r\n        driver.get(&quot;https://www.google.com/search?q=stackoverflow&quot;);\r\n        if (driver\r\n                .findElements(new By.ByPartialLinkText(&quot;Stack Overflow - Where Developers Learn&quot;))\r\n                .isEmpty()) {\r\n            System.out.println(&quot;Not found results of query passed in the URL&quot;);\r\n        } else {\r\n            System.out.println(&quot;Argument was passed in the URL correctly&quot;);\r\n        }\r\n        driver.quit();\r\n    }\r\n```\r\nThe correct output is:\r\n```\r\nArgument was passed in the URL correctly\r\n```","title":"passing url parameters in chrome headless are not working with selenium java","body":"<p>Headless mode has different reaction times. Make sure that your problem is not related to this, i.e. if your website is rendering the content before you want to interact with it. If not, then add some waiting. For quick checking, you can add <code>Thread.sleep(2000)</code> after the <code>get()</code> method and before checking the <code>WebElement</code>, but do not leave it in the final version of your tests and rather use the class <code>WebDriverWait</code> instead.</p>\n<p>If this does not solve your problem, then try to check your code on some other page and provide a minimal example, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        ChromeOptions options = new ChromeOptions()\n                .addArguments(&quot;--headless&quot;);\n        WebDriver driver = new ChromeDriver(options);\n\n        driver.get(&quot;https://www.google.com/search?q=stackoverflow&quot;);\n        if (driver\n                .findElements(new By.ByPartialLinkText(&quot;Stack Overflow - Where Developers Learn&quot;))\n                .isEmpty()) {\n            System.out.println(&quot;Not found results of query passed in the URL&quot;);\n        } else {\n            System.out.println(&quot;Argument was passed in the URL correctly&quot;);\n        }\n        driver.quit();\n    }\n</code></pre>\n<p>The correct output is:</p>\n<pre><code>Argument was passed in the URL correctly\n</code></pre>\n"}],"owner":{"account_id":15014628,"reputation":321,"user_id":10837994,"display_name":"rarunp04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674734974,"creation_date":1674705269,"question_id":75242129,"body_markdown":"Please suggest some approach on passing url parameters with Chrome Headless using Selenium- Java\r\n\r\nI am passing url parameters as below while launching url and those values are passed correctly and the UI renders as per the values passed in url - while executing in Chrome without headless\r\n\r\nURL example : {domain}/?**ref=pd_sl_5szpgfto9i_e**\r\n\r\nWhile executing same script in Chrome headless the url parameters are passed but the UI is not rendered as per the parameters passed in URL\r\n{domain}/?**ref=pd_sl_5szpgfto9i_e**\r\n\r\nbased on ?**ref=pd_sl_5szpgfto9i_e** this parameter the UI working should change to other view","title":"passing url parameters in chrome headless are not working with selenium java","body":"<p>Please suggest some approach on passing url parameters with Chrome Headless using Selenium- Java</p>\n<p>I am passing url parameters as below while launching url and those values are passed correctly and the UI renders as per the values passed in url - while executing in Chrome without headless</p>\n<p>URL example : {domain}/?<strong>ref=pd_sl_5szpgfto9i_e</strong></p>\n<p>While executing same script in Chrome headless the url parameters are passed but the UI is not rendered as per the parameters passed in URL\n{domain}/?<strong>ref=pd_sl_5szpgfto9i_e</strong></p>\n<p>based on ?<strong>ref=pd_sl_5szpgfto9i_e</strong> this parameter the UI working should change to other view</p>\n"},{"tags":["java","android","connection","wifi","android-wifi"],"owner":{"account_id":20434039,"reputation":41,"user_id":14992344,"display_name":"XxTaro_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674734877,"creation_date":1674734877,"question_id":75245928,"body_markdown":"Recently i discovered that the implementation to connect to a Wifi in Android is deprecated for Android 10 or above and I&#39;m trying to fix my application using WifiNetworkSpecifier. But I notice the WifiNetworkSpecifier do not save the network connection and just stay connected while the application is running and when it&#39;s closed, the wifi is disconnected and do not save the password. \r\n\r\nI&#39;m using this code:\r\n```\r\nprivate void connectByWifiNetworkSpecifier(String wifiSsid, String pass) {\r\n        Log.d(TAG, &quot;connectByWifiNetworkSpecifier: wifi=&quot; + wifiSsid + &quot;, pass=&quot; + pass);\r\n        connectivityManager = (ConnectivityManager) context.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        WifiNetworkSpecifier.Builder specifierBuilder = new WifiNetworkSpecifier.Builder()\r\n                .setSsid(wifiSsid)\r\n                .setWpa2Passphrase(pass);\r\n\r\n        NetworkRequest request = new NetworkRequest.Builder()\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n                .removeCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n                .setNetworkSpecifier(specifierBuilder.build())\r\n                .build();\r\n\r\n        networkCallback = new ConnectivityManager.NetworkCallback() {\r\n            @Override\r\n            public void onAvailable(Network network) {\r\n                super.onAvailable(network);\r\n                Log.d(TAG, &quot;onAvailable: network=&quot; + network);\r\n                // do success processing here..\r\n                connectivityManager.bindProcessToNetwork(network);\r\n            }\r\n\r\n            @Override\r\n            public void onUnavailable() {\r\n                super.onUnavailable();\r\n                Log.d(TAG, &quot;onUnavailable: &quot;);\r\n                // do failure processing here..\r\n            }\r\n        };\r\n        connectivityManager.requestNetwork(request, networkCallback);\r\n    }\r\n```\r\n\r\nHave it any way to save the connection &quot;permanently&quot; (without me having to connect all the time and always put the password) using WifiNetworkSpecifier or another API?\r\n\r\n.                                                                             ","title":"Save a wifi network connection (password) with WifiNetworkSpecifier? Android","body":"<p>Recently i discovered that the implementation to connect to a Wifi in Android is deprecated for Android 10 or above and I'm trying to fix my application using WifiNetworkSpecifier. But I notice the WifiNetworkSpecifier do not save the network connection and just stay connected while the application is running and when it's closed, the wifi is disconnected and do not save the password.</p>\n<p>I'm using this code:</p>\n<pre><code>private void connectByWifiNetworkSpecifier(String wifiSsid, String pass) {\n        Log.d(TAG, &quot;connectByWifiNetworkSpecifier: wifi=&quot; + wifiSsid + &quot;, pass=&quot; + pass);\n        connectivityManager = (ConnectivityManager) context.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        WifiNetworkSpecifier.Builder specifierBuilder = new WifiNetworkSpecifier.Builder()\n                .setSsid(wifiSsid)\n                .setWpa2Passphrase(pass);\n\n        NetworkRequest request = new NetworkRequest.Builder()\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n                .removeCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n                .setNetworkSpecifier(specifierBuilder.build())\n                .build();\n\n        networkCallback = new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(Network network) {\n                super.onAvailable(network);\n                Log.d(TAG, &quot;onAvailable: network=&quot; + network);\n                // do success processing here..\n                connectivityManager.bindProcessToNetwork(network);\n            }\n\n            @Override\n            public void onUnavailable() {\n                super.onUnavailable();\n                Log.d(TAG, &quot;onUnavailable: &quot;);\n                // do failure processing here..\n            }\n        };\n        connectivityManager.requestNetwork(request, networkCallback);\n    }\n</code></pre>\n<p>Have it any way to save the connection &quot;permanently&quot; (without me having to connect all the time and always put the password) using WifiNetworkSpecifier or another API?</p>\n<p>.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674673412,"post_id":75234927,"comment_id":132767046,"body_markdown":"Please show a [mcve]. What is `eventKey`? What is calling `send()`? Where are you using to check what the key is? What consumer code do you have?","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What is <code>eventKey</code>? What is calling <code>send()</code>? Where are you using to check what the key is? What consumer code do you have?"},{"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"score":0,"creation_date":1674738310,"post_id":75234927,"comment_id":132780334,"body_markdown":"@OneCricketeer eventKey as said is a string following the format &quot;1-some numbers&quot;. send() is the internal method of KafkaTemplate class in org.springframework.kafka.core package. I still don&#39;t have any consumer for that topic. I attached an edit within the question","body":"@OneCricketeer eventKey as said is a string following the format &quot;1-some numbers&quot;. send() is the internal method of KafkaTemplate class in org.springframework.kafka.core package. I still don&#39;t have any consumer for that topic. I attached an edit within the question"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674746704,"post_id":75234927,"comment_id":132783343,"body_markdown":"[Kafka doesn&#39;t default to Integer or String serializer.](https://kafka.apache.org/documentation/#producerconfigs) As I asked, please show more of your code and your Spring config","body":"<a href=\"https://kafka.apache.org/documentation/#producerconfigs\" rel=\"nofollow noreferrer\">Kafka doesn&#39;t default to Integer or String serializer.</a> As I asked, please show more of your code and your Spring config"}],"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674734841,"creation_date":1674654413,"question_id":75234927,"body_markdown":"I&#39;m facing a weird scenario in a Spring Boot application that uses Kafka and I don&#39;t really understand why.\r\n\r\nI have a Kafka Producer that sends kafka message that can represent several types of events. Those events are represented by a couple of mandatory fields, `eventType` and `eventKey`. the second field may represent different information from a conceptual point of view depending on the kind of event represented, although it will always be a string. \r\n\r\nAs the key of the kafka message I am assigning the same value that the `eventKey` field has, so it would be a string as well. However, I have observed that sometimes instead of putting the value that I indicate the key of the message kafka is initialized to &quot;1&quot;. This is when the value is a string containing dashes &quot;-&quot;.\r\n\r\nThis is the way I&#39;m generating the Kafka message.\r\n\r\n    public Mono&lt;SendResult&lt;String, GenericJsonMessage&gt;&gt; send(final String eventKey, @Valid final ObjectRest message)\r\n    {\r\n        requireNonNull(message, &quot;Message can&#39;t be null&quot;);\r\n\r\n        final GenericJsonMessage jsonMessage = TypedJsonMessage\r\n            .jsonBuilder(ObjectRest.class)\r\n            .build(message).toGenericJsonMessage();\r\n\r\n        final ProducerRecord&lt;String, GenericJsonMessage&gt; producerRecord = new ProducerRecord&lt;&gt;(topicName, eventKey, jsonMessage);\r\n        return Mono.fromCallable(() -&gt; kafkaTemplate.send(producerRecord).get()).subscribeOn(scheduler);\r\n    }\r\n\r\n\r\nI&#39;m wondering why this apparent limitation of the `ProducerRecord ` class and I imagine it has to do with the type of characters supported, which produces an error, and then sets the key to 1.\r\n\r\nI have never seen this before and have not been able to find an explanation that confirms my suspicions.\r\n\r\nI&#39;m not facing really a blocking problem. I already applied a workaround and deleted the hypens. Just curious about it.\r\n\r\n\r\nEdit:\r\n\r\nThe assumption of the setting to 1 was wrong. Doing some more research on how it works and how the key of a kafka message is processed internally I found out that it is binarized and that one option is to assign Serializers of string, integer and other data types and then, on the consumer, implement its consequent deserializer.\r\n\r\nNow I realize that what was happening was not that it was set to 1 but what kafka does when a string serializer is not assigned is to truncate the key where it finds a non-numeric character (I imagine that by default it must apply aninteger serializer). As my keys started with 1 followed by a - and some numbers the key was truncated after the first character, a 1, and therefore the key remained as 1.\r\n\r\n","title":"Kafka ProducerRecord setting kafka message key to &quot;1&quot;","body":"<p>I'm facing a weird scenario in a Spring Boot application that uses Kafka and I don't really understand why.</p>\n<p>I have a Kafka Producer that sends kafka message that can represent several types of events. Those events are represented by a couple of mandatory fields, <code>eventType</code> and <code>eventKey</code>. the second field may represent different information from a conceptual point of view depending on the kind of event represented, although it will always be a string.</p>\n<p>As the key of the kafka message I am assigning the same value that the <code>eventKey</code> field has, so it would be a string as well. However, I have observed that sometimes instead of putting the value that I indicate the key of the message kafka is initialized to &quot;1&quot;. This is when the value is a string containing dashes &quot;-&quot;.</p>\n<p>This is the way I'm generating the Kafka message.</p>\n<pre><code>public Mono&lt;SendResult&lt;String, GenericJsonMessage&gt;&gt; send(final String eventKey, @Valid final ObjectRest message)\n{\n    requireNonNull(message, &quot;Message can't be null&quot;);\n\n    final GenericJsonMessage jsonMessage = TypedJsonMessage\n        .jsonBuilder(ObjectRest.class)\n        .build(message).toGenericJsonMessage();\n\n    final ProducerRecord&lt;String, GenericJsonMessage&gt; producerRecord = new ProducerRecord&lt;&gt;(topicName, eventKey, jsonMessage);\n    return Mono.fromCallable(() -&gt; kafkaTemplate.send(producerRecord).get()).subscribeOn(scheduler);\n}\n</code></pre>\n<p>I'm wondering why this apparent limitation of the <code>ProducerRecord </code> class and I imagine it has to do with the type of characters supported, which produces an error, and then sets the key to 1.</p>\n<p>I have never seen this before and have not been able to find an explanation that confirms my suspicions.</p>\n<p>I'm not facing really a blocking problem. I already applied a workaround and deleted the hypens. Just curious about it.</p>\n<p>Edit:</p>\n<p>The assumption of the setting to 1 was wrong. Doing some more research on how it works and how the key of a kafka message is processed internally I found out that it is binarized and that one option is to assign Serializers of string, integer and other data types and then, on the consumer, implement its consequent deserializer.</p>\n<p>Now I realize that what was happening was not that it was set to 1 but what kafka does when a string serializer is not assigned is to truncate the key where it finds a non-numeric character (I imagine that by default it must apply aninteger serializer). As my keys started with 1 followed by a - and some numbers the key was truncated after the first character, a 1, and therefore the key remained as 1.</p>\n"},{"tags":["java","jar","war"],"comments":[{"owner":{"account_id":8320124,"reputation":2078,"user_id":6252134,"accept_rate":82,"display_name":"Paul Lemarchand"},"score":0,"creation_date":1557315194,"post_id":56039804,"comment_id":98721670,"body_markdown":"Possible duplicate of [java &#39;jar&#39; is not recognized as an internal or external command](https://stackoverflow.com/questions/29180639/java-jar-is-not-recognized-as-an-internal-or-external-command)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29180639/java-jar-is-not-recognized-as-an-internal-or-external-command\">java &#39;jar&#39; is not recognized as an internal or external command</a>"},{"owner":{"account_id":15510200,"reputation":340,"user_id":11189140,"display_name":"Anirudh Simha"},"score":0,"creation_date":1557315503,"post_id":56039804,"comment_id":98721841,"body_markdown":"do you have jdk installed?The jar command is present there","body":"do you have jdk installed?The jar command is present there"}],"answers":[{"tags":[],"owner":{"account_id":164316,"reputation":738,"user_id":386991,"accept_rate":50,"display_name":"Machisuji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557315542,"creation_date":1557315542,"answer_id":56039961,"question_id":56039804,"body_markdown":"You probably don&#39;t have a JDK installed. Either way it&#39;s just a plain old zip archive with another file extension. So on Linux just use unzip or on Windows just rename the file to .zip and the explorer will be able to extract it for you.","title":"Extracting a jar of .m2 folder","body":"<p>You probably don't have a JDK installed. Either way it's just a plain old zip archive with another file extension. So on Linux just use unzip or on Windows just rename the file to .zip and the explorer will be able to extract it for you.</p>\n"}],"owner":{"account_id":15659470,"reputation":7,"user_id":11298756,"display_name":"Ankit Pande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674734529,"creation_date":1557315097,"question_id":56039804,"body_markdown":"I have to extract a war file.\r\n\r\nthe command is &quot;jar -xvf CameraSimulator-0.0.1-SNAPSHOT.war&quot;, but when I fire the command terminal it says &#39;jar&#39; is not recognized as an internal or external command.\r\n\r\nIf i try to use &quot;java jar CameraSimulator-0.0.1-SNAPSHOT.war&quot; it doesn&#39;t work.\r\nPlease help me out. I am stuck\r\nThanks in Advance.","title":"Extracting a jar of .m2 folder","body":"<p>I have to extract a war file.</p>\n\n<p>the command is \"jar -xvf CameraSimulator-0.0.1-SNAPSHOT.war\", but when I fire the command terminal it says 'jar' is not recognized as an internal or external command.</p>\n\n<p>If i try to use \"java jar CameraSimulator-0.0.1-SNAPSHOT.war\" it doesn't work.\nPlease help me out. I am stuck\nThanks in Advance.</p>\n"},{"tags":["java","unit-testing","groovy","mocking","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1674662357,"post_id":75233429,"comment_id":132763258,"body_markdown":"It is kind of hard to reason about invisible code. There could be all kinds of reasons why this is not working. How about a minimal reproducer? Your Spock spec uses at least 5 classes I cannot see. I have no idea what they are doing. I also cannot magically know which kind of maybe popular library or API the classes originate from, because even your spec is incomplete (no import statements). Please enable others to reproduce your problem, that would be better than someone making educated guesses about why it might not work.","body":"It is kind of hard to reason about invisible code. There could be all kinds of reasons why this is not working. How about a minimal reproducer? Your Spock spec uses at least 5 classes I cannot see. I have no idea what they are doing. I also cannot magically know which kind of maybe popular library or API the classes originate from, because even your spec is incomplete (no import statements). Please enable others to reproduce your problem, that would be better than someone making educated guesses about why it might not work."},{"owner":{"account_id":3053258,"reputation":177,"user_id":2587422,"accept_rate":38,"display_name":"Luigi D."},"score":0,"creation_date":1674729312,"post_id":75233429,"comment_id":132777694,"body_markdown":"@kriegaex you&#39;re right, I added the code for the class constructor I&#39;m trying to test. Please let me know if this is enough.","body":"@kriegaex you&#39;re right, I added the code for the class constructor I&#39;m trying to test. Please let me know if this is enough."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674741298,"post_id":75233429,"comment_id":132781307,"body_markdown":"The actual code under test, despite still incomplete, indeed was key to answering the question more easily, because it makes the problem reproducible. Just parsing the test in my head was not that helpful, because the answer was quite subtle.","body":"The actual code under test, despite still incomplete, indeed was key to answering the question more easily, because it makes the problem reproducible. Just parsing the test in my head was not that helpful, because the answer was quite subtle."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674741137,"post_id":75245842,"comment_id":132781240,"body_markdown":"Again, you were faster than I. I was just about to post https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;gist=19677c37330c287794adeeb9132520ce during my tea break. &#128521;","body":"Again, you were faster than I. I was just about to post <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;gist=19677c37330c287794adeeb9132520ce\" rel=\"nofollow noreferrer\">gwc-experiment.appspot.com/&hellip;</a> during my tea break. 😉"}],"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674734492,"creation_date":1674734492,"answer_id":75245842,"question_id":75233429,"body_markdown":"The Problem lies in this line `getColumnName(_ as int) &gt;&gt; COL_NAME`\r\nit works when you change it to `getColumnName(_ as Integer) &gt;&gt; COL_NAME` or just `getColumnName(_) &gt;&gt; COL_NAME`.\r\n\r\nMy current assumptions as to why this is happening, is that the actual arguments in the mock are passed as an `Object[]` and that can&#39;t contain primitive types.\r\n\r\nHere is a runnable reproducer\r\n\r\n```groovy\r\nimport spock.lang.*;\r\nimport java.sql.*;\r\n\r\nclass ASpec extends Specification {\r\n    def &quot;initialising a SQL table&quot;() {\r\n        given:\r\n            def COL_NAME = &quot;someColumnName&quot;\r\n            def mockResSetMeta = Mock(ResultSetMetaData) {\r\n                getColumnCount() &gt;&gt; 1\r\n                getColumnName(_ as Integer) &gt;&gt; COL_NAME\r\n            }\r\n\r\n        and:\r\n            def mockResSet = Mock(ResultSet) {\r\n                getMetaData() &gt;&gt; mockResSetMeta\r\n            }\r\n\r\n        and:\r\n            def mockStatement = Mock(Statement) {\r\n                executeQuery(_ as String) &gt;&gt; mockResSet\r\n            }\r\n\r\n        and:\r\n            def mockConn = Mock(Connection) {\r\n                createStatement() &gt;&gt; mockStatement\r\n            }\r\n\r\n        when: &quot;SqlTable object&quot;\r\n        def table = new SqlTable(mockConn, &quot;some query&quot;)\r\n\r\n        then: &quot;the table contains the categorical column&quot;\r\n        table.columns[0].getName() == COL_NAME\r\n    }\r\n}\r\n\r\n@groovy.transform.Canonical\r\nclass Column {\r\n    String name\r\n}\r\n\r\nclass SqlTable {\r\n    def columns\r\n    public SqlTable(Connection conn, String query) throws Exception {\r\n        def statement = conn.createStatement();\r\n        def resultSet = statement.executeQuery(query);\r\n\r\n        def meta = resultSet.getMetaData();\r\n        int n = meta.getColumnCount();\r\n        columns = new Column[n];\r\n\r\n        for (int c = 0; c &lt; n; c++) {\r\n            columns[c] = new Column(meta.getColumnName(c+1));\r\n            // ...\r\n        }\r\n    }\r\n}\r\n```\r\nTry it in the [Groovy Web Console][1]\r\n\r\nFor future reference, I easily detect the issue by actually performing mocking and not just stubbing.\r\n\r\n```groovy\r\nthen:\r\n1 * mockResSetMeta.getColumnName(_ as int) &gt;&gt; COL_NAME\r\n```\r\n\r\nwill print\r\n\r\n```\r\n               1 * mockResSetMeta.getColumnName(_ as int) &gt;&gt; COL_NAME   (0 invocations)\r\n            \r\n               Unmatched invocations (ordered by similarity):\r\n            \r\n               1 * mockResSetMeta.getColumnName(1)\r\n               One or more arguments(s) didn&#39;t match:\r\n               0: argument instanceof int\r\n                  |        |          |\r\n                  |        false      int\r\n                  1 (java.lang.Integer)\r\n```\r\n\r\n\r\n  [1]: https://gwc-experiment.appspot.com/?g=groovy_3_0&amp;codez=eJyVU8Fu2zAMvfsrCJ-cZVDb67IUK7IeBjQdOu9WBIWiMJ46W0osOUkx5N9HWbZsJ82husiiH8lH8lEWG11aMBst_rKcq4x9mkTSG1_5jjOzzZ0pEjk3Bu7SDQrAg0W1MuAeci0Ft1Ir-BcBnRWuIZZKWslzaaTKgEP69ACWL3OMk1EDcyeTO1RfwrP1nv18eHm8m9_DFGKjC5zpvCrUIy8wPsMWRPsXmhTtHC0njzkZErJUuW2M37nl_awhO1ofeaYrZYnY7S3cXEa5_MkLcAM_lMUMy9qh5TrwO0bhydXqvMCO9BnhC0TbOjzLYdEfTp1abrFAFbIHw3vZ8YCisvhUYfnm609tSWM9YfJhFjOtVEvAfaNwInqPgSiR-AWSXQ-C6VLy_R_SF8TpNv_t1Ad6-UppOhU5LrUuiYjCPbTApCX42SsQtq76eNRFtj4yXU0AoZXlUhn3B2ghMNMlLUZOP5x6upw1nHmreb5eMBpvra0RTKdDPR0jquVbVmq9e2O25MqsdVmwGVdaudjNTnp9No3zwwFFEZ23R4QGdCvaEKjfm2qZS9FV343DlUVNaILWXRhRhaXeG7g_CNz0Fr-NbHrycu7sbH6TAb5stU_44MsGsvOJJ9HAr_ALH9zZYE-6HJKYOKU5PDtd-g7WNKRRggc9q0UvKTUfEhdNEOh6QtdXUHSNx6eqbacrFoNwyZBCPXUxvhn1WLhzdQWMsWA6Bi38B0einrk","title":"Mocking with Spock returns null for nested mocking and stubbing","body":"<p>The Problem lies in this line <code>getColumnName(_ as int) &gt;&gt; COL_NAME</code>\nit works when you change it to <code>getColumnName(_ as Integer) &gt;&gt; COL_NAME</code> or just <code>getColumnName(_) &gt;&gt; COL_NAME</code>.</p>\n<p>My current assumptions as to why this is happening, is that the actual arguments in the mock are passed as an <code>Object[]</code> and that can't contain primitive types.</p>\n<p>Here is a runnable reproducer</p>\n<pre><code>import spock.lang.*;\nimport java.sql.*;\n\nclass ASpec extends Specification {\n    def &quot;initialising a SQL table&quot;() {\n        given:\n            def COL_NAME = &quot;someColumnName&quot;\n            def mockResSetMeta = Mock(ResultSetMetaData) {\n                getColumnCount() &gt;&gt; 1\n                getColumnName(_ as Integer) &gt;&gt; COL_NAME\n            }\n\n        and:\n            def mockResSet = Mock(ResultSet) {\n                getMetaData() &gt;&gt; mockResSetMeta\n            }\n\n        and:\n            def mockStatement = Mock(Statement) {\n                executeQuery(_ as String) &gt;&gt; mockResSet\n            }\n\n        and:\n            def mockConn = Mock(Connection) {\n                createStatement() &gt;&gt; mockStatement\n            }\n\n        when: &quot;SqlTable object&quot;\n        def table = new SqlTable(mockConn, &quot;some query&quot;)\n\n        then: &quot;the table contains the categorical column&quot;\n        table.columns[0].getName() == COL_NAME\n    }\n}\n\n@groovy.transform.Canonical\nclass Column {\n    String name\n}\n\nclass SqlTable {\n    def columns\n    public SqlTable(Connection conn, String query) throws Exception {\n        def statement = conn.createStatement();\n        def resultSet = statement.executeQuery(query);\n\n        def meta = resultSet.getMetaData();\n        int n = meta.getColumnCount();\n        columns = new Column[n];\n\n        for (int c = 0; c &lt; n; c++) {\n            columns[c] = new Column(meta.getColumnName(c+1));\n            // ...\n        }\n    }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_3_0&amp;codez=eJyVU8Fu2zAMvfsrCJ-cZVDb67IUK7IeBjQdOu9WBIWiMJ46W0osOUkx5N9HWbZsJ82husiiH8lH8lEWG11aMBst_rKcq4x9mkTSG1_5jjOzzZ0pEjk3Bu7SDQrAg0W1MuAeci0Ft1Ir-BcBnRWuIZZKWslzaaTKgEP69ACWL3OMk1EDcyeTO1RfwrP1nv18eHm8m9_DFGKjC5zpvCrUIy8wPsMWRPsXmhTtHC0njzkZErJUuW2M37nl_awhO1ofeaYrZYnY7S3cXEa5_MkLcAM_lMUMy9qh5TrwO0bhydXqvMCO9BnhC0TbOjzLYdEfTp1abrFAFbIHw3vZ8YCisvhUYfnm609tSWM9YfJhFjOtVEvAfaNwInqPgSiR-AWSXQ-C6VLy_R_SF8TpNv_t1Ad6-UppOhU5LrUuiYjCPbTApCX42SsQtq76eNRFtj4yXU0AoZXlUhn3B2ghMNMlLUZOP5x6upw1nHmreb5eMBpvra0RTKdDPR0jquVbVmq9e2O25MqsdVmwGVdaudjNTnp9No3zwwFFEZ23R4QGdCvaEKjfm2qZS9FV343DlUVNaILWXRhRhaXeG7g_CNz0Fr-NbHrycu7sbH6TAb5stU_44MsGsvOJJ9HAr_ALH9zZYE-6HJKYOKU5PDtd-g7WNKRRggc9q0UvKTUfEhdNEOh6QtdXUHSNx6eqbacrFoNwyZBCPXUxvhn1WLhzdQWMsWA6Bi38B0einrk\" rel=\"nofollow noreferrer\">Groovy Web Console</a></p>\n<p>For future reference, I easily detect the issue by actually performing mocking and not just stubbing.</p>\n<pre><code>then:\n1 * mockResSetMeta.getColumnName(_ as int) &gt;&gt; COL_NAME\n</code></pre>\n<p>will print</p>\n<pre><code>               1 * mockResSetMeta.getColumnName(_ as int) &gt;&gt; COL_NAME   (0 invocations)\n            \n               Unmatched invocations (ordered by similarity):\n            \n               1 * mockResSetMeta.getColumnName(1)\n               One or more arguments(s) didn't match:\n               0: argument instanceof int\n                  |        |          |\n                  |        false      int\n                  1 (java.lang.Integer)\n</code></pre>\n"}],"owner":{"account_id":3053258,"reputation":177,"user_id":2587422,"accept_rate":38,"display_name":"Luigi D."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75245842,"answer_count":1,"score":0,"last_activity_date":1674734492,"creation_date":1674646714,"question_id":75233429,"body_markdown":"I am writing unit tests with Spock for a series of nested objects. The code I&#39;m writing tests for is quite legacy and doesn&#39;t use dependency injection. However it is also quite mission-critical so I&#39;d rather not touch it unless I really need to. \r\n\r\nHere is the constructor of the class I&#39;m trying to test:\r\n\r\n```java\r\npublic SqlTable(Connection conn, String query) throws Exception {\r\n    this.statement = conn.createStatement();\r\n    this.resultSet = statement.executeQuery(query);\r\n\r\n    meta = resultSet.getMetaData();\r\n    int n = meta.getColumnCount();\r\n    columns = new Column[n];\r\n\r\n    for (int c = 0; c &lt; n; c++) {\r\n        columns[c] = new Column(meta.getColumnName(c+1));\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIn the tests I stub the nested mocks in a `.groovy` file, like this:\r\n\r\n```scala\r\ndef &quot;initialising a SQL table&quot;() {\r\n    given:\r\n    def COL_NAME = &quot;someColumnName&quot;\r\n    def mockResSetMeta = Mock(ResultSetMetaData) {\r\n        getColumnCount() &gt;&gt; 1\r\n        getColumnName(_ as int) &gt;&gt; COL_NAME\r\n    }\r\n\r\n    and:\r\n    def mockResSet = Mock(ResultSet) {\r\n        getMetaData() &gt;&gt; mockResSetMeta\r\n    }\r\n\r\n    and:\r\n    def mockStatement = Mock(Statement) {\r\n        executeQuery(_ as String) &gt;&gt; mockResSet\r\n    }\r\n\r\n    and:\r\n    def mockConn = Mock(Connection) {\r\n        createStatement() &gt;&gt; mockStatement\r\n    }\r\n\r\n    when: &quot;SqlTable object&quot;\r\n    def table = new SqlTable(mockConn, &quot;some query&quot;)\r\n\r\n    then: &quot;the table contains the categorical column&quot;\r\n    table.columns[0].getName() == COL_NAME\r\n}\r\n```\r\n\r\nHowever the test fails. By debugging, I found that, in the `SqlTable` constructor, the mock for the `ResultSetMetaData` object, when `getColumnName()` is called, always returns `null`.\r\n\r\nI did some digging, and it seems like this is due to how stubbing and mocking are handled together by Spock. I found two promising answers on SO:\r\n\r\n* https://stackoverflow.com/questions/41841668\r\n* https://stackoverflow.com/questions/55916321\r\n\r\nHowever for the life of me I wasn&#39;t able to modify the test in order to make it work.","title":"Mocking with Spock returns null for nested mocking and stubbing","body":"<p>I am writing unit tests with Spock for a series of nested objects. The code I'm writing tests for is quite legacy and doesn't use dependency injection. However it is also quite mission-critical so I'd rather not touch it unless I really need to.</p>\n<p>Here is the constructor of the class I'm trying to test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SqlTable(Connection conn, String query) throws Exception {\n    this.statement = conn.createStatement();\n    this.resultSet = statement.executeQuery(query);\n\n    meta = resultSet.getMetaData();\n    int n = meta.getColumnCount();\n    columns = new Column[n];\n\n    for (int c = 0; c &lt; n; c++) {\n        columns[c] = new Column(meta.getColumnName(c+1));\n        // ...\n    }\n}\n</code></pre>\n<p>In the tests I stub the nested mocks in a <code>.groovy</code> file, like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def &quot;initialising a SQL table&quot;() {\n    given:\n    def COL_NAME = &quot;someColumnName&quot;\n    def mockResSetMeta = Mock(ResultSetMetaData) {\n        getColumnCount() &gt;&gt; 1\n        getColumnName(_ as int) &gt;&gt; COL_NAME\n    }\n\n    and:\n    def mockResSet = Mock(ResultSet) {\n        getMetaData() &gt;&gt; mockResSetMeta\n    }\n\n    and:\n    def mockStatement = Mock(Statement) {\n        executeQuery(_ as String) &gt;&gt; mockResSet\n    }\n\n    and:\n    def mockConn = Mock(Connection) {\n        createStatement() &gt;&gt; mockStatement\n    }\n\n    when: &quot;SqlTable object&quot;\n    def table = new SqlTable(mockConn, &quot;some query&quot;)\n\n    then: &quot;the table contains the categorical column&quot;\n    table.columns[0].getName() == COL_NAME\n}\n</code></pre>\n<p>However the test fails. By debugging, I found that, in the <code>SqlTable</code> constructor, the mock for the <code>ResultSetMetaData</code> object, when <code>getColumnName()</code> is called, always returns <code>null</code>.</p>\n<p>I did some digging, and it seems like this is due to how stubbing and mocking are handled together by Spock. I found two promising answers on SO:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41841668\">Spock mock returns wrong value</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55916321\">Mocked method returns null when invocations are checked as well</a></li>\n</ul>\n<p>However for the life of me I wasn't able to modify the test in order to make it work.</p>\n"},{"tags":["java","oracle-adf"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673876624,"post_id":75135031,"comment_id":132588591,"body_markdown":"Does this answer your question? [How to upload file using JSF 2.2 &lt;h:inputFile&gt;? Where is the saved File?](https://stackoverflow.com/questions/27677397/how-to-upload-file-using-jsf-2-2-hinputfile-where-is-the-saved-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27677397/how-to-upload-file-using-jsf-2-2-hinputfile-where-is-the-saved-file\">How to upload file using JSF 2.2 &lt;h:inputFile&gt;? Where is the saved File?</a>"},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1673877016,"post_id":75135031,"comment_id":132588714,"body_markdown":"@XtremeBaumer I don&#39;t think this article answers my question, thanks!","body":"@XtremeBaumer I don&#39;t think this article answers my question, thanks!"},{"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"score":0,"creation_date":1673957401,"post_id":75135031,"comment_id":132607860,"body_markdown":"Try to debug the method by setting a breakpoint to the first line in the method. If you don&#39;t see any of your messages in the log, check that the log level is set to &#39;WARNING&#39; at least. Or, just for a test, use a `System.out.println` for the message and see if you see those in the logs.","body":"Try to debug the method by setting a breakpoint to the first line in the method. If you don&#39;t see any of your messages in the log, check that the log level is set to &#39;WARNING&#39; at least. Or, just for a test, use a <code>System.out.println</code> for the message and see if you see those in the logs."},{"owner":{"account_id":2658183,"reputation":967,"user_id":2298444,"accept_rate":91,"display_name":"Cedric"},"score":0,"creation_date":1674020332,"post_id":75135031,"comment_id":132623283,"body_markdown":"Does this answer your question? [ADF af:inputFile does not trigger ValueChangeEvent with valueChangeListener](https://stackoverflow.com/questions/36032476/adf-afinputfile-does-not-trigger-valuechangeevent-with-valuechangelistener)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36032476/adf-afinputfile-does-not-trigger-valuechangeevent-with-valuechangelistener\">ADF af:inputFile does not trigger ValueChangeEvent with valueChangeListener</a>"},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674031893,"post_id":75135031,"comment_id":132625823,"body_markdown":"I resolve this problem. I have &lt;af:form in other jsff class, and i added the setting there usesUpload=&quot;true&quot;. Thank you!","body":"I resolve this problem. I have &lt;af:form in other jsff class, and i added the setting there usesUpload=&quot;true&quot;. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674734435,"creation_date":1674734435,"answer_id":75245831,"question_id":75135031,"body_markdown":"The solution to this problem is to add a parameter **usesUpload=&quot;true&quot;**. I have this form **&lt;af:form** was set in another .jsff file, so I added the **usesUpload=&quot;true&quot;** parameter to the file where the form was located.","title":"Import data from XLS and XLSX (Excel) to ADF Table Using Apache POI","body":"<p>The solution to this problem is to add a parameter <strong>usesUpload=&quot;true&quot;</strong>. I have this form <strong>&lt;af:form</strong> was set in another .jsff file, so I added the <strong>usesUpload=&quot;true&quot;</strong> parameter to the file where the form was located.</p>\n"}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75245831,"answer_count":1,"score":0,"last_activity_date":1674734435,"creation_date":1673876387,"question_id":75135031,"body_markdown":"I need to add the ability to upload an XLSX file in an existing project. I act according to the instructions http://www.awasthiashish.com/2017/01/import-data-from-xls-and-xlsx-excel-to.html. The question is that when I select an XLSX file, nothing happens. I put the logs inside the uploadFileVCE method, when I upload a file it doesn&#39;t output anything, as if it doesn&#39;t even enter the method. Help, can anyone come across.\r\n\r\n\r\n\r\nADF version: Studio Edition Version 12.2.1.0.0\r\n\r\n\r\n\r\nHere is my jsff file:\r\n\r\n    &lt;af:inputFile label=&quot;Upload file&quot; id=&quot;if1&quot;\r\n    valueChangeListener=&quot;#{pageFlowScope.Class1Bean.uploadFileVCE}&quot;\r\n    autoSubmit=&quot;true&quot; \r\n    labelStyle=&quot;font-weight:bold;color:navy;&quot;/&gt;\r\n\r\nhere is my Bean class:\r\n   \r\n\r\n     public void uploadFileVCE(ValueChangeEvent valueChangeEvent) {\r\n            log.warn(&quot;FIRST&quot;);\r\n                UploadedFile file = (UploadedFile) valueChangeEvent.getNewValue();\r\n                log.warn(&quot;SECOND&quot;);\r\n                try {\r\n                    //Check if file is XLSX\r\n                    log.warn(&quot;THIRD&quot;);\r\n                    if (file.getContentType().equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;) ||\r\n                        file.getContentType().equalsIgnoreCase(&quot;application/xlsx&quot;)) {\r\n                        log.warn(&quot;FOURTH&quot;);\r\n                        readNProcessExcelx(file.getInputStream()); //for xlsx\r\n    \r\n                    }\r\n                    //Check if file is XLS\r\n                    else if (file.getContentType().equalsIgnoreCase(&quot;application/vnd.ms-excel&quot;)) {\r\n    \r\n                        if (file.getFilename().toUpperCase().endsWith(&quot;.XLS&quot;)) {\r\n                           // readNProcessExcel(file.getInputStream()); //for xls\r\n                        }\r\n    \r\n                    } else {\r\n                        FacesMessage msg = new FacesMessage(&quot;File format not supported.-- Upload XLS or XLSX file&quot;);\r\n                        msg.setSeverity(FacesMessage.SEVERITY_WARN);\r\n                        FacesContext.getCurrentInstance().addMessage(null, msg);\r\n                    }\r\n                    AdfFacesContext.getCurrentInstance().addPartialTarget(empTable);\r\n    \r\n                } catch (Exception e) {\r\n                    log.warn(e);\r\n                }\r\n            }\r\n\r\n","title":"Import data from XLS and XLSX (Excel) to ADF Table Using Apache POI","body":"<p>I need to add the ability to upload an XLSX file in an existing project. I act according to the instructions <a href=\"http://www.awasthiashish.com/2017/01/import-data-from-xls-and-xlsx-excel-to.html\" rel=\"nofollow noreferrer\">http://www.awasthiashish.com/2017/01/import-data-from-xls-and-xlsx-excel-to.html</a>. The question is that when I select an XLSX file, nothing happens. I put the logs inside the uploadFileVCE method, when I upload a file it doesn't output anything, as if it doesn't even enter the method. Help, can anyone come across.</p>\n<p>ADF version: Studio Edition Version 12.2.1.0.0</p>\n<p>Here is my jsff file:</p>\n<pre><code>&lt;af:inputFile label=&quot;Upload file&quot; id=&quot;if1&quot;\nvalueChangeListener=&quot;#{pageFlowScope.Class1Bean.uploadFileVCE}&quot;\nautoSubmit=&quot;true&quot; \nlabelStyle=&quot;font-weight:bold;color:navy;&quot;/&gt;\n</code></pre>\n<p>here is my Bean class:</p>\n<pre><code> public void uploadFileVCE(ValueChangeEvent valueChangeEvent) {\n        log.warn(&quot;FIRST&quot;);\n            UploadedFile file = (UploadedFile) valueChangeEvent.getNewValue();\n            log.warn(&quot;SECOND&quot;);\n            try {\n                //Check if file is XLSX\n                log.warn(&quot;THIRD&quot;);\n                if (file.getContentType().equalsIgnoreCase(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;) ||\n                    file.getContentType().equalsIgnoreCase(&quot;application/xlsx&quot;)) {\n                    log.warn(&quot;FOURTH&quot;);\n                    readNProcessExcelx(file.getInputStream()); //for xlsx\n\n                }\n                //Check if file is XLS\n                else if (file.getContentType().equalsIgnoreCase(&quot;application/vnd.ms-excel&quot;)) {\n\n                    if (file.getFilename().toUpperCase().endsWith(&quot;.XLS&quot;)) {\n                       // readNProcessExcel(file.getInputStream()); //for xls\n                    }\n\n                } else {\n                    FacesMessage msg = new FacesMessage(&quot;File format not supported.-- Upload XLS or XLSX file&quot;);\n                    msg.setSeverity(FacesMessage.SEVERITY_WARN);\n                    FacesContext.getCurrentInstance().addMessage(null, msg);\n                }\n                AdfFacesContext.getCurrentInstance().addPartialTarget(empTable);\n\n            } catch (Exception e) {\n                log.warn(e);\n            }\n        }\n</code></pre>\n"},{"tags":["java","google-cloud-platform","publish-subscribe","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15749,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674734177,"creation_date":1674734177,"answer_id":75245782,"question_id":75239055,"body_markdown":"It is not possible to set a max delivery attempt count without setting a dead letter topic. The max delivery attempt count indicates the number of times to attempt delivery before the message is sent to the dead letter topic.\r\n\r\nIf the dead letter topic cannot be used because it was deleted or proper publish permission has not been set up, then the message will continue to be delivered to subscribers on the original subscription until it is acknowledged, the dead letter topic is available, or the retention period has passed. In this case, the oldest unacked message age will increase until one of these things happens.","title":"How deadline exceeded messages are handled in pubsub","body":"<p>It is not possible to set a max delivery attempt count without setting a dead letter topic. The max delivery attempt count indicates the number of times to attempt delivery before the message is sent to the dead letter topic.</p>\n<p>If the dead letter topic cannot be used because it was deleted or proper publish permission has not been set up, then the message will continue to be delivered to subscribers on the original subscription until it is acknowledged, the dead letter topic is available, or the retention period has passed. In this case, the oldest unacked message age will increase until one of these things happens.</p>\n"}],"owner":{"account_id":3774672,"reputation":97,"user_id":3135811,"display_name":"subham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75245782,"answer_count":1,"score":0,"last_activity_date":1674734177,"creation_date":1674675733,"question_id":75239055,"body_markdown":"I have set pubsub topic configuration as following:\r\n1. Acknowledgement deadline 600 sec\r\n2. max delivery attempt 10\r\n3. dead letter topic is not enabled\r\n\r\nMy question is:\r\n\r\n1. After 10 retry attempt, if pusub does not receive ack from subscriber, does it delete message from subscription or it will still be there in subscription till message retention period but will not be consumed.\r\n2. And if it is there in subscription till retention period will it keep increasing oldest unacked message age","title":"How deadline exceeded messages are handled in pubsub","body":"<p>I have set pubsub topic configuration as following:</p>\n<ol>\n<li>Acknowledgement deadline 600 sec</li>\n<li>max delivery attempt 10</li>\n<li>dead letter topic is not enabled</li>\n</ol>\n<p>My question is:</p>\n<ol>\n<li>After 10 retry attempt, if pusub does not receive ack from subscriber, does it delete message from subscription or it will still be there in subscription till message retention period but will not be consumed.</li>\n<li>And if it is there in subscription till retention period will it keep increasing oldest unacked message age</li>\n</ol>\n"},{"tags":["java","oop","inheritance","constructor"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674733343,"creation_date":1674733343,"answer_id":75245631,"question_id":75245462,"body_markdown":"&gt; What if the base class has a lot of fields\r\n\r\nThe first question of course would be why you need that and whether there might be another way. In this answer I&#39;ll assume you&#39;ve already answered that question and came to the conclusion you need it.\r\n\r\n&gt; Let&#39;s say I have a `List&lt;A&gt; listA`, how can I create a constructor so I can easily turn this list to `List&lt;B&gt; listB`?\r\n\r\nYou could do a copy constructor and maybe also do something like this:\r\n\r\n    class A { \r\n      A(A other) {\r\n        //copy fields\r\n      }\r\n    }\r\n\r\n    class B extends A {\r\n      B(A other) {\r\n        super(other);\r\n        //init B fields\r\n      }\r\n    }\r\n\r\nWith this in place you can use plain iteration or streaming to turn a `List&lt;A&gt;` into a `List&lt;B&gt;`:\r\n\r\n    List&lt;B&gt; convertedList = origList.stream().map(a -&gt; new B(a)).collect(Collectors.toList());\r\n\r\nAnother option might be delegation but that would depend on your classes:\r\n\r\n    class B extends A {\r\n      A delegate;      \r\n\r\n      B(A delegate) {\r\n        this.delegate = delegate;\r\n        //init B fields\r\n      }\r\n \r\n      @Override\r\n      void setField1(String value) {\r\n        delegate.setField1(value);\r\n      }\r\n\r\n      @Override\r\n      String getField1() {\r\n        return delegate.getField1();\r\n      }\r\n    }\r\n\r\nDoing it like this would leave B&#39;s &quot;field1&quot; empty so it might not be the best option. If you have an interface for A it would look similar but leave less &quot;empty&quot; fields:\r\n\r\n    interface AInterface {\r\n      void setField1(String value);\r\n      String getField1();\r\n    }\r\n\r\n    class A implements AInterface {\r\n       ...\r\n    }\r\n\r\n    class B implements AInterface {\r\n      AInterface delegate;\r\n      \r\n      B(AInterface delegate) {\r\n         this.delegate = delegate;\r\n        //init B fields\r\n      }\r\n\r\n      @Override //this is not an actual override but an implementation\r\n      public void setField1(String value) {\r\n        delegate.setField1(value);\r\n      }\r\n\r\n      @Override //this is not an actual override but an implementation\r\n      public String getField1() {\r\n        return delegate.getField1();\r\n      }\r\n    }","title":"Java creating devired class from base","body":"<blockquote>\n<p>What if the base class has a lot of fields</p>\n</blockquote>\n<p>The first question of course would be why you need that and whether there might be another way. In this answer I'll assume you've already answered that question and came to the conclusion you need it.</p>\n<blockquote>\n<p>Let's say I have a <code>List&lt;A&gt; listA</code>, how can I create a constructor so I can easily turn this list to <code>List&lt;B&gt; listB</code>?</p>\n</blockquote>\n<p>You could do a copy constructor and maybe also do something like this:</p>\n<pre><code>class A { \n  A(A other) {\n    //copy fields\n  }\n}\n\nclass B extends A {\n  B(A other) {\n    super(other);\n    //init B fields\n  }\n}\n</code></pre>\n<p>With this in place you can use plain iteration or streaming to turn a <code>List&lt;A&gt;</code> into a <code>List&lt;B&gt;</code>:</p>\n<pre><code>List&lt;B&gt; convertedList = origList.stream().map(a -&gt; new B(a)).collect(Collectors.toList());\n</code></pre>\n<p>Another option might be delegation but that would depend on your classes:</p>\n<pre><code>class B extends A {\n  A delegate;      \n\n  B(A delegate) {\n    this.delegate = delegate;\n    //init B fields\n  }\n\n  @Override\n  void setField1(String value) {\n    delegate.setField1(value);\n  }\n\n  @Override\n  String getField1() {\n    return delegate.getField1();\n  }\n}\n</code></pre>\n<p>Doing it like this would leave B's &quot;field1&quot; empty so it might not be the best option. If you have an interface for A it would look similar but leave less &quot;empty&quot; fields:</p>\n<pre><code>interface AInterface {\n  void setField1(String value);\n  String getField1();\n}\n\nclass A implements AInterface {\n   ...\n}\n\nclass B implements AInterface {\n  AInterface delegate;\n  \n  B(AInterface delegate) {\n     this.delegate = delegate;\n    //init B fields\n  }\n\n  @Override //this is not an actual override but an implementation\n  public void setField1(String value) {\n    delegate.setField1(value);\n  }\n\n  @Override //this is not an actual override but an implementation\n  public String getField1() {\n    return delegate.getField1();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75245631,"answer_count":1,"score":1,"last_activity_date":1674734155,"creation_date":1674732330,"question_id":75245462,"body_markdown":"Let&#39;s say I have a base class:\r\n\r\n```\r\nClass A {\r\n    public String field1;\r\n\r\n    public A(String field1){\r\n        this.field1 = field1;\r\n    }\r\n}\r\n```\r\n\r\nAnd a devired class:\r\n\r\n```\r\nClass B extends A {\r\n    public String field2;\r\n}\r\n```\r\n\r\nLet&#39;s say I have a `List&lt;A&gt; listA`, how can I create a constructor so I can easily turn this list to `List&lt;B&gt; listB`? I want to have a constructor in `B class` that will take `A object` and fill in all the fields from `A` in `B` and have some logic to construct new fields. Something like this:\r\n\r\n```\r\nClass B extends A {\r\n    public String field2;\r\n\r\n    public B (A a){\r\n        this = a;\r\n        this.field2 = doLogic(a);\r\n    }\r\n}\r\n```\r\n\r\nOr at least just fill in all the fields from A in B:\r\n\r\n```\r\npublic B(A a){\r\n    this = a;\r\n}\r\n```\r\n\r\nSo later I can just manually set the field from `B`, to something like this:\r\n\r\n```\r\nlistA.stream().map(x -&gt; new B(x)).map(x -&gt; x.setField2(logic(x)));\r\n```\r\n\r\nI know I can do it like this:\r\n\r\n```\r\nClass B extends A {\r\n    public String field2;\r\n\r\n    public B(A a){\r\n        super(a.getField1());\r\n    }\r\n}\r\n```\r\n\r\nBut this just doesn&#39;t look right to me, getting the fields of the object just to call a constructor of the same class.\r\n\r\nWhat if the base class has a lot of fields, will you need to get all of the fields to call in the constructor? It doesn&#39;t look good, so I&#39;m wondering if is there any better way.","title":"Java creating devired class from base","body":"<p>Let's say I have a base class:</p>\n<pre><code>Class A {\n    public String field1;\n\n    public A(String field1){\n        this.field1 = field1;\n    }\n}\n</code></pre>\n<p>And a devired class:</p>\n<pre><code>Class B extends A {\n    public String field2;\n}\n</code></pre>\n<p>Let's say I have a <code>List&lt;A&gt; listA</code>, how can I create a constructor so I can easily turn this list to <code>List&lt;B&gt; listB</code>? I want to have a constructor in <code>B class</code> that will take <code>A object</code> and fill in all the fields from <code>A</code> in <code>B</code> and have some logic to construct new fields. Something like this:</p>\n<pre><code>Class B extends A {\n    public String field2;\n\n    public B (A a){\n        this = a;\n        this.field2 = doLogic(a);\n    }\n}\n</code></pre>\n<p>Or at least just fill in all the fields from A in B:</p>\n<pre><code>public B(A a){\n    this = a;\n}\n</code></pre>\n<p>So later I can just manually set the field from <code>B</code>, to something like this:</p>\n<pre><code>listA.stream().map(x -&gt; new B(x)).map(x -&gt; x.setField2(logic(x)));\n</code></pre>\n<p>I know I can do it like this:</p>\n<pre><code>Class B extends A {\n    public String field2;\n\n    public B(A a){\n        super(a.getField1());\n    }\n}\n</code></pre>\n<p>But this just doesn't look right to me, getting the fields of the object just to call a constructor of the same class.</p>\n<p>What if the base class has a lot of fields, will you need to get all of the fields to call in the constructor? It doesn't look good, so I'm wondering if is there any better way.</p>\n"},{"tags":["java","pdf","adobe","zebra-printers"],"comments":[{"owner":{"account_id":25086,"reputation":6435,"user_id":64238,"accept_rate":84,"display_name":"Ovi Tisler"},"score":2,"creation_date":1406057138,"post_id":24887961,"comment_id":38674597,"body_markdown":"nope.  Printing from Acrobat using a driver rasters the pdf into zpl and prints that way. If you can convert the PDF into an image, and then convert and store the image on the printer (zebra has an SDK to dither and convert to 1-bit-per-pixel BW image), you can print that image by recalling it with some zpl","body":"nope.  Printing from Acrobat using a driver rasters the pdf into zpl and prints that way. If you can convert the PDF into an image, and then convert and store the image on the printer (zebra has an SDK to dither and convert to 1-bit-per-pixel BW image), you can print that image by recalling it with some zpl"},{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":0,"creation_date":1410452819,"post_id":24887961,"comment_id":40341252,"body_markdown":"@OviTisler Would that work from an Android device too? Namely, could you print a PDF or an image from an Android device to a Zebra printer?","body":"@OviTisler Would that work from an Android device too? Namely, could you print a PDF or an image from an Android device to a Zebra printer?"},{"owner":{"account_id":25086,"reputation":6435,"user_id":64238,"accept_rate":84,"display_name":"Ovi Tisler"},"score":1,"creation_date":1410482417,"post_id":24887961,"comment_id":40353791,"body_markdown":"yeah, if you use the Zebra android SDK","body":"yeah, if you use the Zebra android SDK"}],"answers":[{"comments":[{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":1,"creation_date":1410453898,"post_id":24978637,"comment_id":40341829,"body_markdown":"If you `speak&#39; directly to your printer in its native language, then you&#39;re coupling your application to a proprietary language, aren&#39;t you? Isn&#39;t there a cleaner way to keep the generation of labels agnostic of the printer? I&#39;m thinking about images or PDFs, even more declarative languages. Sorry if I&#39;m missing the point but it seems to me that this problem has been solved years ago on desktop printers but I still fail to see why I&#39;d have to delve into those CPCL or ZPL languages if I can avoid to.","body":"If you `speak&#39; directly to your printer in its native language, then you&#39;re coupling your application to a proprietary language, aren&#39;t you? Isn&#39;t there a cleaner way to keep the generation of labels agnostic of the printer? I&#39;m thinking about images or PDFs, even more declarative languages. Sorry if I&#39;m missing the point but it seems to me that this problem has been solved years ago on desktop printers but I still fail to see why I&#39;d have to delve into those CPCL or ZPL languages if I can avoid to."},{"owner":{"account_id":56380,"reputation":51071,"user_id":168868,"display_name":"Charles"},"score":1,"creation_date":1410456090,"post_id":24978637,"comment_id":40342991,"body_markdown":"ZPL, CPCL and EPL are relatively small, targeted languages for creating labels, and a bunch of printers have compatibility with them, either directly or through drivers.  If they fulfill your needs, then there&#39;s no need to go through a more complex route.  For example, the stuff my employer does requires specific truetype fonts and other things that are difficult in ZPL, which is why we build images or PDFs and let the print service take care of the translation.  It&#39;s all about the right tool for the right job.","body":"ZPL, CPCL and EPL are relatively small, targeted languages for creating labels, and a bunch of printers have compatibility with them, either directly or through drivers.  If they fulfill your needs, then there&#39;s no need to go through a more complex route.  For example, the stuff my employer does requires specific truetype fonts and other things that are difficult in ZPL, which is why we build images or PDFs and let the print service take care of the translation.  It&#39;s all about the right tool for the right job."},{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":0,"creation_date":1410473165,"post_id":24978637,"comment_id":40351159,"body_markdown":"I understand. Assuming that you know the printer resolution (dpi), do you manage to render sharp labels using images? I&#39;m concerned there may be losses when rendering images.","body":"I understand. Assuming that you know the printer resolution (dpi), do you manage to render sharp labels using images? I&#39;m concerned there may be losses when rendering images."},{"owner":{"account_id":56380,"reputation":51071,"user_id":168868,"display_name":"Charles"},"score":1,"creation_date":1410473834,"post_id":24978637,"comment_id":40351401,"body_markdown":"Yeah, we match DPI and label size.  All of the desktop Zebra printers are 203 DPI, for example.  Sharpness has never been a problem, as long as the images remain purely black and white.  Any shades of grey present will get dithered, poorly.","body":"Yeah, we match DPI and label size.  All of the desktop Zebra printers are 203 DPI, for example.  Sharpness has never been a problem, as long as the images remain purely black and white.  Any shades of grey present will get dithered, poorly."},{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":0,"creation_date":1410500840,"post_id":24978637,"comment_id":40358207,"body_markdown":"Much obliged, @Charles. That was very helpful.","body":"Much obliged, @Charles. That was very helpful."},{"owner":{"display_name":"user57508"},"score":0,"creation_date":1464103540,"post_id":24978637,"comment_id":62341470,"body_markdown":"fyi: I am currently implementing a SVG to EPL/ZPL/Fingerprint compiler: https://github.com/dittodhole/dotnet-Svg.Contrib.Render - this will be only implemented in .NET, but the code isn&#39;t that sophisticated ....","body":"fyi: I am currently implementing a SVG to EPL/ZPL/Fingerprint compiler: <a href=\"https://github.com/dittodhole/dotnet-Svg.Contrib.Render\" rel=\"nofollow noreferrer\">github.com/dittodhole/dotnet-Svg.Contrib.Render</a> - this will be only implemented in .NET, but the code isn&#39;t that sophisticated ...."},{"owner":{"account_id":149893,"reputation":172,"user_id":362716,"display_name":"th3byrdm4n"},"score":0,"creation_date":1674514022,"post_id":24978637,"comment_id":132726586,"body_markdown":"Actually, you can print directly from Java into a Zebra  ZPLII driver LEVERAGING the Apache PDFBox library.   I think my colleague will post the solution.","body":"Actually, you can print directly from Java into a Zebra  ZPLII driver LEVERAGING the Apache PDFBox library.   I think my colleague will post the solution."}],"tags":[],"owner":{"account_id":56380,"reputation":51071,"user_id":168868,"display_name":"Charles"},"comment_count":7,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1406444107,"creation_date":1406444107,"answer_id":24978637,"question_id":24887961,"body_markdown":"&gt; The zebra printer works fine when printed through Acrobat Reader, does Adobe Reader translate the PDF into zpl?\r\n\r\nNo.  Adobe Reader prepares a document that the system&#39;s print service can consume.  The print service then invokes the Zebra drivers, and *those* are what convert the document into the printer&#39;s native language.  This is how all print drivers work on all platforms, not just on Windows.  CUPS does the same thing on Linux and MacOS.  \r\n\r\nDon&#39;t spend time building a PDF =&gt; image =&gt; ZPL translator.  Your time will be better spent simply having your application speak to the OS native print service.  I don&#39;t do Java, but a bit of time on my search engine of choice suggests that Java seems to support printing this way.","title":"Can you direct pdf print to a zebra printer","body":"<blockquote>\n  <p>The zebra printer works fine when printed through Acrobat Reader, does Adobe Reader translate the PDF into zpl?</p>\n</blockquote>\n\n<p>No.  Adobe Reader prepares a document that the system's print service can consume.  The print service then invokes the Zebra drivers, and <em>those</em> are what convert the document into the printer's native language.  This is how all print drivers work on all platforms, not just on Windows.  CUPS does the same thing on Linux and MacOS.  </p>\n\n<p>Don't spend time building a PDF => image => ZPL translator.  Your time will be better spent simply having your application speak to the OS native print service.  I don't do Java, but a bit of time on my search engine of choice suggests that Java seems to support printing this way.</p>\n"},{"tags":[],"owner":{"account_id":3665508,"reputation":57,"user_id":3054067,"display_name":"umairnaqvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415374568,"creation_date":1415373414,"answer_id":26804323,"question_id":24887961,"body_markdown":"A better but slightly not so reusable way is to use ZPL or EPL (whatever your particular zebra printer supports).\r\n \r\n  By the way ZPL is Zebra programming language which is proprietary to Zebra. You can directly write the ZPL String on to the serial or parallel port without installing any Zebra driver (rather using Windows Generic Text Printer driver). For example you can send following string directly to printer port (Serial, Parallel or Network)\r\n\r\n    ^XA^FO40,40^AC2,20^FD^FS^FO40,60^BY2,2.8,10^BCN,100,Y,N,N^FD Barcode label ^FS^XZ\r\n\r\nHope it helps. ","title":"Can you direct pdf print to a zebra printer","body":"<p>A better but slightly not so reusable way is to use ZPL or EPL (whatever your particular zebra printer supports).</p>\n\n<p>By the way ZPL is Zebra programming language which is proprietary to Zebra. You can directly write the ZPL String on to the serial or parallel port without installing any Zebra driver (rather using Windows Generic Text Printer driver). For example you can send following string directly to printer port (Serial, Parallel or Network)</p>\n\n<pre><code>^XA^FO40,40^AC2,20^FD^FS^FO40,60^BY2,2.8,10^BCN,100,Y,N,N^FD Barcode label ^FS^XZ\n</code></pre>\n\n<p>Hope it helps. </p>\n"},{"comments":[{"owner":{"account_id":5666332,"reputation":721,"user_id":4482409,"accept_rate":0,"display_name":"Suresh"},"score":0,"creation_date":1531472799,"post_id":35071534,"comment_id":89618443,"body_markdown":"Can you please share us the link for  Android (Playstore link) for this app","body":"Can you please share us the link for  Android (Playstore link) for this app"}],"tags":[],"owner":{"account_id":7730949,"reputation":1,"user_id":5854120,"display_name":"Printer Guru"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1454013434,"creation_date":1454013434,"answer_id":35071534,"question_id":24887961,"body_markdown":"You can print a PDF to a Zebra printer using the Mobi Print Utility for android and iOS. It can print bluetooth or wifi.\r\n\r\n","title":"Can you direct pdf print to a zebra printer","body":"<p>You can print a PDF to a Zebra printer using the Mobi Print Utility for android and iOS. It can print bluetooth or wifi.</p>\n"},{"tags":[],"owner":{"account_id":9536151,"reputation":31,"user_id":11628074,"display_name":"Justin Bennett"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1560204811,"creation_date":1560204811,"answer_id":56534157,"question_id":24887961,"body_markdown":"If you have a printer with Link-OS you can purchase and install PDF Direct from Zebra on the printer firmware. You can then send a pdf directly to the printer. We do this by connecting to port 9100 and sending the PDF.\r\n\r\n\r\nhttps://www.zebra.com/us/en/products/software/barcode-printers/link-os/pdf-virtual-device.html","title":"Can you direct pdf print to a zebra printer","body":"<p>If you have a printer with Link-OS you can purchase and install PDF Direct from Zebra on the printer firmware. You can then send a pdf directly to the printer. We do this by connecting to port 9100 and sending the PDF.</p>\n\n<p><a href=\"https://www.zebra.com/us/en/products/software/barcode-printers/link-os/pdf-virtual-device.html\" rel=\"nofollow noreferrer\">https://www.zebra.com/us/en/products/software/barcode-printers/link-os/pdf-virtual-device.html</a></p>\n"},{"comments":[{"owner":{"account_id":19335399,"reputation":1,"user_id":14136087,"display_name":"David M"},"score":0,"creation_date":1623158076,"post_id":66319825,"comment_id":119993311,"body_markdown":"@CarlosFranco yes, did you try it ?","body":"@CarlosFranco yes, did you try it ?"}],"tags":[],"owner":{"account_id":19335399,"reputation":1,"user_id":14136087,"display_name":"David M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614029108,"creation_date":1614012284,"answer_id":66319825,"question_id":24887961,"body_markdown":"* Download Zebra setup printer on ios :   \r\n&lt;https://apps.apple.com/us/app/zebra-printer-setup-utility/id1454308745&gt;.\r\n* Then go to Device Language, and choose PDF.\r\n* Then a simple post request like :\r\n\r\n\r\n\r\n\r\n      const pdfData = {\r\n            uri: localUrl, // &lt;- your file\r\n            type: &#39;application/pdf&#39;,\r\n            name: &#39;file_name&#39;,\r\n        }\r\n\r\n        const data = new FormData()\r\n        data.append(&#39;pdf&#39;, pdfData)\r\n\r\n        fetch(printerUrl, { // &lt;- &quot;http://${IP}:9100/pstprnt/&quot;\r\n            method: &#39;POST&#39;,\r\n            headers: {\r\n                &#39;Content-Type&#39;: &#39;multipart/form-data&#39;,\r\n            },\r\n            body: pdfData,\r\n        })\r\n","title":"Can you direct pdf print to a zebra printer","body":"<ul>\n<li><p>Download Zebra setup printer on ios :<br />\n<a href=\"https://apps.apple.com/us/app/zebra-printer-setup-utility/id1454308745\" rel=\"nofollow noreferrer\">https://apps.apple.com/us/app/zebra-printer-setup-utility/id1454308745</a>.</p>\n</li>\n<li><p>Then go to Device Language, and choose PDF.</p>\n</li>\n<li><p>Then a simple post request like :</p>\n<pre><code>const pdfData = {\n      uri: localUrl, // &lt;- your file\n      type: 'application/pdf',\n      name: 'file_name',\n  }\n\n  const data = new FormData()\n  data.append('pdf', pdfData)\n\n  fetch(printerUrl, { // &lt;- &quot;http://${IP}:9100/pstprnt/&quot;\n      method: 'POST',\n      headers: {\n          'Content-Type': 'multipart/form-data',\n      },\n      body: pdfData,\n  })\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4417909,"reputation":11,"user_id":6404702,"display_name":"amber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656578193,"creation_date":1656578193,"answer_id":72812695,"question_id":24887961,"body_markdown":"To complete Justin answer, Link_OS printers addon PDF-direct is free for over the year. Just update to latest printer firmware, and same way upload PDF-direct addon to printer. Then pdf printing with generic text driver just working. Also tested on value series ZD220 ans ZD230 printers.","title":"Can you direct pdf print to a zebra printer","body":"<p>To complete Justin answer, Link_OS printers addon PDF-direct is free for over the year. Just update to latest printer firmware, and same way upload PDF-direct addon to printer. Then pdf printing with generic text driver just working. Also tested on value series ZD220 ans ZD230 printers.</p>\n"}],"owner":{"account_id":3572952,"reputation":81,"user_id":2982867,"display_name":"user2982867"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38094,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1674733933,"creation_date":1406033569,"question_id":24887961,"body_markdown":"Is it possible to direct print a stored pdf via a zebra printer in Java?  I can&#39;t find any mention of them being compatible with direct printing and I can&#39;t get it to print.  Would I need to communicate directly via zpl? \r\n\r\nThe zebra printer works fine when printed through Acrobat Reader, does Adobe Reader translate the PDF into zpl? \r\n","title":"Can you direct pdf print to a zebra printer","body":"<p>Is it possible to direct print a stored pdf via a zebra printer in Java?  I can't find any mention of them being compatible with direct printing and I can't get it to print.  Would I need to communicate directly via zpl? </p>\n\n<p>The zebra printer works fine when printed through Acrobat Reader, does Adobe Reader translate the PDF into zpl? </p>\n"},{"tags":["java","spring-boot","cucumber-java","citrus-framework"],"owner":{"account_id":25049200,"reputation":3,"user_id":18905307,"display_name":"user18905307"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674733711,"creation_date":1674733711,"question_id":75245700,"body_markdown":"I&#39;m trying to setup an auth token authentication in the bean configuration of the CitrusEndpoints bean instead of use it in each request. \r\n\r\n\r\nIn my configuration class I&#39;ve something like this:\r\n\r\n```\r\n@Bean\r\n    public HttpClient httpClient() throws Exception {\r\n        return CitrusEndpoints\r\n                .http()\r\n                .client()\r\n                .requestUrl(String.format(&quot;http://%s:%s&quot;, HOST, PORT))\r\n                .build();\r\n    }\r\n```\r\nI need to add an authentication in the bean configuration. Currently I&#39;m setting it in each request\r\n\r\n```\r\nrunner.given(http()\r\n                .client(httpClient)\r\n                .send()\r\n                .post(path)\r\n                .message()\r\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CORE_BE_TOKEN)\r\n                .body(channel.toString())\r\n        );\r\n```\r\nBut I need to set it globally in the bean configuration. \r\nThe only examples I&#39;ve found are using the basic auth but i need the bearer token auth\r\n","title":"Setup Auth Token for CitrusEndpoints bean","body":"<p>I'm trying to setup an auth token authentication in the bean configuration of the CitrusEndpoints bean instead of use it in each request.</p>\n<p>In my configuration class I've something like this:</p>\n<pre><code>@Bean\n    public HttpClient httpClient() throws Exception {\n        return CitrusEndpoints\n                .http()\n                .client()\n                .requestUrl(String.format(&quot;http://%s:%s&quot;, HOST, PORT))\n                .build();\n    }\n</code></pre>\n<p>I need to add an authentication in the bean configuration. Currently I'm setting it in each request</p>\n<pre><code>runner.given(http()\n                .client(httpClient)\n                .send()\n                .post(path)\n                .message()\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CORE_BE_TOKEN)\n                .body(channel.toString())\n        );\n</code></pre>\n<p>But I need to set it globally in the bean configuration.\nThe only examples I've found are using the basic auth but i need the bearer token auth</p>\n"},{"tags":["java","garbage-collection"],"answers":[{"comments":[{"owner":{"account_id":4480522,"reputation":2486,"user_id":3644708,"accept_rate":68,"display_name":"user3644708"},"score":1,"creation_date":1423237300,"post_id":28357523,"comment_id":45079482,"body_markdown":"Thanks. Just find that the old JVM don&#39;t print Allocation Failure.","body":"Thanks. Just find that the old JVM don&#39;t print Allocation Failure."},{"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"score":5,"creation_date":1477685481,"post_id":28357523,"comment_id":67882245,"body_markdown":"I do not get this answer fully, so is to be avoided or not?\n&quot;it is normal cause of young GC&quot;. Is the young GC the wrong choice then?","body":"I do not get this answer fully, so is to be avoided or not? &quot;it is normal cause of young GC&quot;. Is the young GC the wrong choice then?"},{"owner":{"account_id":1496697,"reputation":8191,"user_id":1402453,"display_name":"Alexey Ragozin"},"score":8,"creation_date":1477749688,"post_id":28357523,"comment_id":67895519,"body_markdown":"Yes, this is normal behaviour","body":"Yes, this is normal behaviour"},{"owner":{"account_id":498110,"reputation":1330,"user_id":1377112,"accept_rate":57,"display_name":"Salvador Valencia"},"score":265,"creation_date":1487276940,"post_id":28357523,"comment_id":71724589,"body_markdown":"GC (Allocation Failure) is a poor choice of words for an event that will occur normally many times a day. Those JVM engineers should go out more often and try to socialize in the real world so they can learn more friendly terms that people understand.","body":"GC (Allocation Failure) is a poor choice of words for an event that will occur normally many times a day. Those JVM engineers should go out more often and try to socialize in the real world so they can learn more friendly terms that people understand."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":132,"creation_date":1499783828,"post_id":28357523,"comment_id":77049117,"body_markdown":"@SalvadorValencia It&#39;s okay, people who read GC logs on a regular basis aren&#39;t exactly &quot;normal&quot; either. :)","body":"@SalvadorValencia It&#39;s okay, people who read GC logs on a regular basis aren&#39;t exactly &quot;normal&quot; either. :)"},{"owner":{"account_id":6341443,"reputation":581,"user_id":4923204,"accept_rate":86,"display_name":"Saravanan G"},"score":0,"creation_date":1516384626,"post_id":28357523,"comment_id":83679685,"body_markdown":"I&#39;ve similar question related to GC allocation failure, we have JVM heap size set to 4GB(min and max) and planning to add option for new gen heap.  What is the percentage of new gen to be allocated for the heap size of 4GB?","body":"I&#39;ve similar question related to GC allocation failure, we have JVM heap size set to 4GB(min and max) and planning to add option for new gen heap.  What is the percentage of new gen to be allocated for the heap size of 4GB?"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":8,"creation_date":1564591216,"post_id":28357523,"comment_id":101085101,"body_markdown":"@SalvadorValencia , believe it or not. If they could socialize they would have never touched GC.","body":"@SalvadorValencia , believe it or not. If they could socialize they would have never touched GC."},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1668007986,"post_id":28357523,"comment_id":131304395,"body_markdown":"How can we understand this allocation failure better and make sure our program doesn&#39;t have it anymore? Is it always memory leaks? How can this help us to trace the memory leaks? When is the allocation failure fatal (aka When will it kill the program?)?","body":"How can we understand this allocation failure better and make sure our program doesn&#39;t have it anymore? Is it always memory leaks? How can this help us to trace the memory leaks? When is the allocation failure fatal (aka When will it kill the program?)?"},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1680799534,"post_id":28357523,"comment_id":133962461,"body_markdown":"oh @SalvadorValencia how do you get away with it (sarcasm) when I never can","body":"oh @SalvadorValencia how do you get away with it (sarcasm) when I never can"}],"tags":[],"owner":{"account_id":1496697,"reputation":8191,"user_id":1402453,"display_name":"Alexey Ragozin"},"comment_count":9,"down_vote_count":0,"up_vote_count":240,"is_accepted":true,"score":240,"last_activity_date":1552899077,"creation_date":1423189268,"answer_id":28357523,"question_id":28342736,"body_markdown":"&quot;Allocation Failure&quot; is a cause of GC cycle to kick in.\r\n\r\n&quot;Allocation Failure&quot; means that no more space left in Eden to allocate object. So, it is normal cause of young GC.\r\n\r\nOlder JVM were not printing GC cause for minor GC cycles.\r\n\r\n&quot;Allocation Failure&quot; is almost only possible cause for minor GC. Another reason for minor GC to kick could be CMS remark phase (if `+XX:+ScavengeBeforeRemark` is enabled).","title":"Java GC (Allocation Failure)","body":"<p>\"Allocation Failure\" is a cause of GC cycle to kick in.</p>\n\n<p>\"Allocation Failure\" means that no more space left in Eden to allocate object. So, it is normal cause of young GC.</p>\n\n<p>Older JVM were not printing GC cause for minor GC cycles.</p>\n\n<p>\"Allocation Failure\" is almost only possible cause for minor GC. Another reason for minor GC to kick could be CMS remark phase (if <code>+XX:+ScavengeBeforeRemark</code> is enabled).</p>\n"},{"comments":[{"owner":{"account_id":148631,"reputation":488,"user_id":360557,"accept_rate":27,"display_name":"Mike Stoddart"},"score":4,"creation_date":1574964390,"post_id":46416112,"comment_id":104422555,"body_markdown":"Why was this voted down so many times? An explanation would be useful.","body":"Why was this voted down so many times? An explanation would be useful."},{"owner":{"account_id":393063,"reputation":1686,"user_id":754718,"display_name":"simplylizz"},"score":3,"creation_date":1581505856,"post_id":46416112,"comment_id":106454863,"body_markdown":"Because it&#39;s like say that you rewrote your program in Rust and now you don&#39;t have such messages?","body":"Because it&#39;s like say that you rewrote your program in Rust and now you don&#39;t have such messages?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674734378,"post_id":46416112,"comment_id":132779161,"body_markdown":"Because it is not a problem and you didn&#39;t solve it.","body":"Because it is not a problem and you didn&#39;t solve it."}],"tags":[],"owner":{"account_id":1772231,"reputation":225,"user_id":1616788,"accept_rate":67,"display_name":"Hatter  Bush"},"comment_count":3,"down_vote_count":12,"up_vote_count":6,"is_accepted":false,"score":-6,"last_activity_date":1506386204,"creation_date":1506386204,"answer_id":46416112,"question_id":28342736,"body_markdown":"When use CMS GC in jdk1.8 will appeare this error, i change the G1 Gc solve this problem.\r\n\r\n     -Xss512k -Xms6g -Xmx6g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:InitiatingHeapOccupancyPercent=70 -XX:NewRatio=1 -XX:SurvivorRatio=6 -XX:G1ReservePercent=10 -XX:G1HeapRegionSize=32m -XX:ConcGCThreads=6 -Xloggc:gc.log -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps ","title":"Java GC (Allocation Failure)","body":"<p>When use CMS GC in jdk1.8 will appeare this error, i change the G1 Gc solve this problem.</p>\n\n<pre><code> -Xss512k -Xms6g -Xmx6g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:InitiatingHeapOccupancyPercent=70 -XX:NewRatio=1 -XX:SurvivorRatio=6 -XX:G1ReservePercent=10 -XX:G1HeapRegionSize=32m -XX:ConcGCThreads=6 -Xloggc:gc.log -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"score":2,"creation_date":1559843902,"post_id":53000746,"comment_id":99555951,"body_markdown":"&quot;(...) then an allocation failure occurs (because there is no space to allocate the live objects from the region being evacuated) and a stop-the-world (STW) full collection is done.&quot; - In java 1.8, server mode, I have reproduced a brief pause and both of these traces are printed together: [GC (Allocation Failure) 2287742K-&gt;1148645K(2633216K), 0.4571912 secs] [Full GC (Ergonomics) 1148645K-&gt;1112141K(3184128K), 2.8563984 secs]. So I upvote your answer ;-)","body":"&quot;(...) then an allocation failure occurs (because there is no space to allocate the live objects from the region being evacuated) and a stop-the-world (STW) full collection is done.&quot; - In java 1.8, server mode, I have reproduced a brief pause and both of these traces are printed together: [GC (Allocation Failure) 2287742K-&gt;1148645K(2633216K), 0.4571912 secs] [Full GC (Ergonomics) 1148645K-&gt;1112141K(3184128K), 2.8563984 secs]. So I upvote your answer ;-)"},{"owner":{"account_id":10716734,"reputation":243,"user_id":7887075,"display_name":"Amol Kshirsagar"},"score":0,"creation_date":1665325348,"post_id":53000746,"comment_id":130668817,"body_markdown":"So this message comes up because there is no enough space in the old generation or the new generation?","body":"So this message comes up because there is no enough space in the old generation or the new generation?"},{"owner":{"account_id":9962724,"reputation":618,"user_id":7371436,"display_name":"Aldahunter"},"score":0,"creation_date":1686505846,"post_id":53000746,"comment_id":134804383,"body_markdown":"I&#39;m not sure, but I think both answers are true - looks to me like what you are talking about is a `Full GC (Allocation Failure)`, and what the other answer is referring to is a `GC (Allocation Failure)` (notice the `Full` in the first one).\n\nCouldn&#39;t find any solid references to this, so if someone can that would be amazing.","body":"I&#39;m not sure, but I think both answers are true - looks to me like what you are talking about is a <code>Full GC (Allocation Failure)</code>, and what the other answer is referring to is a <code>GC (Allocation Failure)</code> (notice the <code>Full</code> in the first one).  Couldn&#39;t find any solid references to this, so if someone can that would be amazing."}],"tags":[],"owner":{"account_id":10532402,"reputation":161,"user_id":7761343,"display_name":"Kamal Rathod"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1674733672,"creation_date":1540522146,"answer_id":53000746,"question_id":28342736,"body_markdown":"&gt; &quot;Allocation Failure&quot; is cause of GC to kick \r\n\r\nis not correct. It is an **outcome** of GC operation.\r\n\r\nGC kicks in when there is no space to allocate( depending on region minor or major GC is performed).\r\nOnce GC is performed, if space is freed all is good, but if there is not enough contiguous space there is still an issue.\r\nThis is reported as &quot;Allocation failure&quot;. \r\nBelow document have good explanation\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html","title":"Java GC (Allocation Failure)","body":"<blockquote>\n<p>&quot;Allocation Failure&quot; is cause of GC to kick</p>\n</blockquote>\n<p>is not correct. It is an <strong>outcome</strong> of GC operation.</p>\n<p>GC kicks in when there is no space to allocate( depending on region minor or major GC is performed).\nOnce GC is performed, if space is freed all is good, but if there is not enough contiguous space there is still an issue.\nThis is reported as &quot;Allocation failure&quot;.\nBelow document have good explanation\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html</a></p>\n"}],"owner":{"account_id":4480522,"reputation":2486,"user_id":3644708,"accept_rate":68,"display_name":"user3644708"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307153,"favorite_count":0,"down_vote_count":0,"up_vote_count":162,"accepted_answer_id":28357523,"answer_count":3,"score":162,"last_activity_date":1674733672,"creation_date":1423135602,"question_id":28342736,"body_markdown":"Why always &quot;GC (Allocation Failure)&quot;?\r\n\r\nJava HotSpot(TM) 64-Bit Server VM (25.25-b02) for linux-amd64 JRE (**1.8.0_25**-b17), \r\n\r\n    CommandLine flags: \r\n    -XX:CMSInitiatingOccupancyFraction=60 \r\n    -XX:GCLogFileSize=10485760 \r\n    -XX:+HeapDumpOnOutOfMemoryError \r\n    -XX:InitialHeapSize=32212254720 \r\n    -XX:MaxHeapSize=32212254720 \r\n    -XX:NewRatio=10 \r\n    -XX:OldPLABSize=16 \r\n    -XX:ParallelGCThreads=4 \r\n    -XX:+PrintGC \r\n    -XX:+PrintGCDetails \r\n    -XX:+PrintGCTimeStamps \r\n    -XX:+PrintStringTableStatistics \r\n    -XX:+PrintTenuringDistribution \r\n    -XX:StringTableSize=1000003 \r\n    -XX:SurvivorRatio=4 \r\n    -XX:TargetSurvivorRatio=50 \r\n    -XX:+UseCompressedClassPointers \r\n    -XX:+UseCompressedOops\r\n    -XX:+UseParNewGC \r\n    -XX:+UseConcMarkSweepGC\r\n\r\n&lt;!-- --&gt;\r\n\r\n    27.329: [GC (Allocation Failure) 27.329: [ParNew\r\n    Desired survivor size 44728320 bytes, new threshold 15 (max 15)\r\n    - age   1:   16885304 bytes,   16885304 total\r\n    : 349568K-&gt;16618K(436928K), 0.2069129 secs] 349568K-&gt;16618K(31369920K), 0.2070712 secs] [Times: user=0.78 sys=0.04, real=0.21 secs]\r\n    \r\n    \r\n    28.210: [GC (Allocation Failure) 28.210: [ParNew\r\n    Desired survivor size 44728320 bytes, new threshold 15 (max 15)\r\n    - age   1:   28866504 bytes,   28866504 total\r\n    - age   2:   12582536 bytes,   41449040 total\r\n    : 366186K-&gt;47987K(436928K), 0.2144807 secs] 366186K-&gt;47987K(31369920K), 0.2146024 secs] [Times: user=0.84 sys=0.01, real=0.22 secs]\r\n    \r\n    \r\n    29.037: [GC (Allocation Failure) 29.038: [ParNew\r\n    Desired survivor size 44728320 bytes, new threshold 2 (max 15)\r\n    - age   1:   28443488 bytes,   28443488 total\r\n    - age   2:   28386624 bytes,   56830112 total\r\n    - age   3:   12579928 bytes,   69410040 total\r\n    : 397555K-&gt;76018K(436928K), 0.2357352 secs] 397555K-&gt;76018K(31369920K), 0.2358535 secs] [Times: user=0.93 sys=0.01, real=0.23 secs]\r\n\r\n","title":"Java GC (Allocation Failure)","body":"<p>Why always \"GC (Allocation Failure)\"?</p>\n\n<p>Java HotSpot(TM) 64-Bit Server VM (25.25-b02) for linux-amd64 JRE (<strong>1.8.0_25</strong>-b17), </p>\n\n<pre><code>CommandLine flags: \n-XX:CMSInitiatingOccupancyFraction=60 \n-XX:GCLogFileSize=10485760 \n-XX:+HeapDumpOnOutOfMemoryError \n-XX:InitialHeapSize=32212254720 \n-XX:MaxHeapSize=32212254720 \n-XX:NewRatio=10 \n-XX:OldPLABSize=16 \n-XX:ParallelGCThreads=4 \n-XX:+PrintGC \n-XX:+PrintGCDetails \n-XX:+PrintGCTimeStamps \n-XX:+PrintStringTableStatistics \n-XX:+PrintTenuringDistribution \n-XX:StringTableSize=1000003 \n-XX:SurvivorRatio=4 \n-XX:TargetSurvivorRatio=50 \n-XX:+UseCompressedClassPointers \n-XX:+UseCompressedOops\n-XX:+UseParNewGC \n-XX:+UseConcMarkSweepGC\n</code></pre>\n\n\n\n<pre><code>27.329: [GC (Allocation Failure) 27.329: [ParNew\nDesired survivor size 44728320 bytes, new threshold 15 (max 15)\n- age   1:   16885304 bytes,   16885304 total\n: 349568K-&gt;16618K(436928K), 0.2069129 secs] 349568K-&gt;16618K(31369920K), 0.2070712 secs] [Times: user=0.78 sys=0.04, real=0.21 secs]\n\n\n28.210: [GC (Allocation Failure) 28.210: [ParNew\nDesired survivor size 44728320 bytes, new threshold 15 (max 15)\n- age   1:   28866504 bytes,   28866504 total\n- age   2:   12582536 bytes,   41449040 total\n: 366186K-&gt;47987K(436928K), 0.2144807 secs] 366186K-&gt;47987K(31369920K), 0.2146024 secs] [Times: user=0.84 sys=0.01, real=0.22 secs]\n\n\n29.037: [GC (Allocation Failure) 29.038: [ParNew\nDesired survivor size 44728320 bytes, new threshold 2 (max 15)\n- age   1:   28443488 bytes,   28443488 total\n- age   2:   28386624 bytes,   56830112 total\n- age   3:   12579928 bytes,   69410040 total\n: 397555K-&gt;76018K(436928K), 0.2357352 secs] 397555K-&gt;76018K(31369920K), 0.2358535 secs] [Times: user=0.93 sys=0.01, real=0.23 secs]\n</code></pre>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"owner":{"account_id":27617793,"reputation":21,"user_id":21079498,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674733284,"creation_date":1674733009,"question_id":75245583,"body_markdown":"I&#39;m trying to find the proper way to identify the dangerous usage of nullable library methods with SonarQube.\r\n\r\n\r\nThe example below illustrates the potential NullPointerException that may be raised by calling `asText()` method on the nullable JsonNode object returned from the `node.get(&quot;something&quot;)` call.\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class Tst {\r\n    public String getSomething(String json) throws Exception {\r\n        JsonNode node = new ObjectMapper().readTree(json);\r\n        \r\n        return node.get(&quot;something&quot;).asText();\r\n    }\r\n}\r\n```\r\n\r\nI expect to have the line `return node.get(&quot;something&quot;).asText();` to be marked as the bug, but the problem is not identified by our SonarQube 9.8 Server.\r\n\r\nHow to let SonarQube understand that ***com.fasterxml.jackson.databind.JsonNode.get()*** method is nullable?","title":"How to let SonarQube to check NullPointerException when calling library method","body":"<p>I'm trying to find the proper way to identify the dangerous usage of nullable library methods with SonarQube.</p>\n<p>The example below illustrates the potential NullPointerException that may be raised by calling <code>asText()</code> method on the nullable JsonNode object returned from the <code>node.get(&quot;something&quot;)</code> call.</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Tst {\n    public String getSomething(String json) throws Exception {\n        JsonNode node = new ObjectMapper().readTree(json);\n        \n        return node.get(&quot;something&quot;).asText();\n    }\n}\n</code></pre>\n<p>I expect to have the line <code>return node.get(&quot;something&quot;).asText();</code> to be marked as the bug, but the problem is not identified by our SonarQube 9.8 Server.</p>\n<p>How to let SonarQube understand that <em><strong>com.fasterxml.jackson.databind.JsonNode.get()</strong></em> method is nullable?</p>\n"},{"tags":["java"],"owner":{"account_id":26686448,"reputation":1,"user_id":20295698,"display_name":"Bedder Jamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674908843,"answer_count":2,"score":0,"last_activity_date":1674733165,"creation_date":1674647954,"question_id":75233663,"body_markdown":"My program is supposed to print the sum of the even numbers and the product of the odd numbers, but it prints out 0 and 1 which is the initial value of the even and odd value \r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tint even = 0;\r\n\t\tint odd = 1;\r\n\t\tint n;\r\n\r\n\t\tSystem.out.println(&quot;Skriv in tall&quot;);\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tn = input.nextInt();\r\n\t\tint[] array = new int[n];\r\n\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tif (array[i] % 2 == 0) {\r\n\t\t\t\teven += array[i];\r\n\t\t\t} else {\r\n\t\t\t\todd = odd * array[i];\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(even);\r\n\t\tSystem.out.println(odd);\r\n\r\n\t}\r\n\r\nThe program likely isn&#39;t even running \r\n\r\nHave checked over what every line of code does, but I can&#39;t find what I did wrong.","title":"Multiply odd numbers and add all even numbers won&#39;t work","body":"<p>My program is supposed to print the sum of the even numbers and the product of the odd numbers, but it prints out 0 and 1 which is the initial value of the even and odd value</p>\n<pre><code>public static void main(String[] args) {\n\n    int even = 0;\n    int odd = 1;\n    int n;\n\n    System.out.println(&quot;Skriv in tall&quot;);\n    Scanner input = new Scanner(System.in);\n    n = input.nextInt();\n    int[] array = new int[n];\n\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] % 2 == 0) {\n            even += array[i];\n        } else {\n            odd = odd * array[i];\n\n        }\n    }\n    System.out.println(even);\n    System.out.println(odd);\n\n}\n</code></pre>\n<p>The program likely isn't even running</p>\n<p>Have checked over what every line of code does, but I can't find what I did wrong.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"score":0,"creation_date":1674701018,"post_id":75241850,"comment_id":132772507,"body_markdown":"can you please put your splash screen code .","body":"can you please put your splash screen code ."},{"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"score":0,"creation_date":1674784517,"post_id":75241850,"comment_id":132792448,"body_markdown":"i thing my code help you.","body":"i thing my code help you."}],"answers":[{"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":1,"creation_date":1674704192,"post_id":75241880,"comment_id":132772874,"body_markdown":"What is this piece of code trying to do?","body":"What is this piece of code trying to do?"}],"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674733143,"creation_date":1674701226,"answer_id":75241880,"question_id":75241850,"body_markdown":"    new Handler().postDelayed(\r\n        new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(SplashScreen.this, Login.class);\r\n                finish();\r\n            }\r\n        },\r\n        4000);","title":"Arrange activities in android studio","body":"<pre><code>new Handler().postDelayed(\n    new Runnable() {\n        @Override\n        public void run() {\n            Intent intent = new Intent(SplashScreen.this, Login.class);\n            finish();\n        }\n    },\n    4000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674704362,"creation_date":1674704362,"answer_id":75242081,"question_id":75241850,"body_markdown":"There are few ways to achieve this. This is one of my way.\r\n\r\nFirst, at your `AndroidManifest.xml`, make sure you make your `SplashActivity` becomes your `launcher`. Then, at the `onCreate` method for your `SplashActivity`, do some delay, checking some stuff, is this user login or not. Last, go to next activity.\r\n\r\n        &lt;activity\r\n            android:name=&quot;company.com.ui.SplashActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n","title":"Arrange activities in android studio","body":"<p>There are few ways to achieve this. This is one of my way.</p>\n<p>First, at your <code>AndroidManifest.xml</code>, make sure you make your <code>SplashActivity</code> becomes your <code>launcher</code>. Then, at the <code>onCreate</code> method for your <code>SplashActivity</code>, do some delay, checking some stuff, is this user login or not. Last, go to next activity.</p>\n<pre><code>    &lt;activity\n        android:name=&quot;company.com.ui.SplashActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1674733143,"creation_date":1674700774,"question_id":75241850,"body_markdown":"I have a splash screen in my project it opens first with intent filter. After that it opens the main activity. But i created new activity that should be opened next to splash screen how to do that?\r\n\r\nI have created three activities for example splash screen, main activity, login screen, Splash screen first opens next to that i need to open the login screen next only main activity.\r\n\r\n\r\nxml code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_main&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_main_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.WeatherApp&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.SplashScreen&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.LoginActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HomeActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"Arrange activities in android studio","body":"<p>I have a splash screen in my project it opens first with intent filter. After that it opens the main activity. But i created new activity that should be opened next to splash screen how to do that?</p>\n<p>I have created three activities for example splash screen, main activity, login screen, Splash screen first opens next to that i need to open the login screen next only main activity.</p>\n<p>xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:hardwareAccelerated=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_main&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_main_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.WeatherApp&quot;&gt;\n\n    &lt;activity\n        android:name=&quot;.SplashScreen&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\n        tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.LoginActivity&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\n        tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.HomeActivity&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\n        tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":8436158,"reputation":700,"user_id":6395007,"display_name":"Ionut Alexandru"},"score":1,"creation_date":1674725922,"post_id":75244262,"comment_id":132776607,"body_markdown":"This mechanism is called type erasure, where the type parameter is available at runtime. https://www.baeldung.com/java-type-erasure","body":"This mechanism is called type erasure, where the type parameter is available at runtime. <a href=\"https://www.baeldung.com/java-type-erasure\" rel=\"nofollow noreferrer\">baeldung.com/java-type-erasure</a>"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1674726168,"post_id":75244262,"comment_id":132776707,"body_markdown":"`TypeReference&lt;&gt;()` also uses &quot;diamond&quot; operator, which is short for `TypeReference&lt;Book&gt;()` in this case.","body":"<code>TypeReference&lt;&gt;()</code> also uses &quot;diamond&quot; operator, which is short for <code>TypeReference&lt;Book&gt;()</code> in this case."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1674726851,"post_id":75244262,"comment_id":132776948,"body_markdown":"I see. A compiler will use Book from the assignment, correct?","body":"I see. A compiler will use Book from the assignment, correct?"}],"answers":[{"tags":[],"owner":{"account_id":1684429,"reputation":4685,"user_id":1547989,"display_name":"Michael Simons"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674733051,"creation_date":1674733051,"answer_id":75245589,"question_id":75244262,"body_markdown":"It&#39;s a clever way to deal with Java Generics type erasure. From [&quot;Type Erasure][1]\r\n\r\n&gt; To implement generics, the Java compiler applies type erasure to:\r\n&gt; \r\n&gt; * Replace all type parameters in generic types with their bounds or\r\n&gt; Object if the type parameters are unbounded. The produced bytecode,\r\n&gt; therefore, contains only ordinary classes, interfaces, and methods.\r\n&gt; * Insert type casts if necessary to preserve type safety. \r\n&gt; * Generate bridge methods to preserve polymorphism in extended generic types.\r\n\r\n[Neil Gafter][2] refers to\r\n\r\n```java\r\npublic abstract class TypeReference&lt;T&gt; {}\r\n```\r\n\r\nas _super type tokens_. \r\n\r\nWhen you now do a \r\n\r\n```java\r\nTypeReference&lt;Book&gt; x = new TypeReference&lt;Book&gt;() {};\r\n``` \r\n\r\nor in Neals [example][3]\r\n\r\n```\r\nTypeReference&lt;List&lt;String&gt;&gt; x = new TypeReference&lt;List&lt;String&gt;&gt;() {};\r\n```\r\n\r\nthere is no type erasure happening for the anonymous class created on the right-hand-side of the assignment. It has a fixed generic type, which can be accessed by the super class like this:\r\n\r\n```java\r\n  protected TypeReference() {\r\n        Type superclass = getClass().getGenericSuperclass();\r\n        if (superclass instanceof Class) {\r\n            throw new RuntimeException(&quot;Missing type parameter.&quot;);\r\n        }\r\n        this.type = ((ParameterizedType) superclass).getActualTypeArguments()[0];\r\n    }\r\n```\r\n\r\nJacksons `ObjectMapper` will use the `this.type` later to figure out the type of things you want to deserialise. \r\n\r\nObservation of the diamond operator is ofc correct.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n  [2]: http://www.gafter.com/~neal/\r\n  [3]: http://gafter.blogspot.com/2006/12/super-type-tokens.html","title":"ObjectMapper deserialization with TypeReference without a concrete class","body":"<p>It's a clever way to deal with Java Generics type erasure. From <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">&quot;Type Erasure</a></p>\n<blockquote>\n<p>To implement generics, the Java compiler applies type erasure to:</p>\n<ul>\n<li>Replace all type parameters in generic types with their bounds or\nObject if the type parameters are unbounded. The produced bytecode,\ntherefore, contains only ordinary classes, interfaces, and methods.</li>\n<li>Insert type casts if necessary to preserve type safety.</li>\n<li>Generate bridge methods to preserve polymorphism in extended generic types.</li>\n</ul>\n</blockquote>\n<p><a href=\"http://www.gafter.com/%7Eneal/\" rel=\"nofollow noreferrer\">Neil Gafter</a> refers to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class TypeReference&lt;T&gt; {}\n</code></pre>\n<p>as <em>super type tokens</em>.</p>\n<p>When you now do a</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeReference&lt;Book&gt; x = new TypeReference&lt;Book&gt;() {};\n</code></pre>\n<p>or in Neals <a href=\"http://gafter.blogspot.com/2006/12/super-type-tokens.html\" rel=\"nofollow noreferrer\">example</a></p>\n<pre><code>TypeReference&lt;List&lt;String&gt;&gt; x = new TypeReference&lt;List&lt;String&gt;&gt;() {};\n</code></pre>\n<p>there is no type erasure happening for the anonymous class created on the right-hand-side of the assignment. It has a fixed generic type, which can be accessed by the super class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  protected TypeReference() {\n        Type superclass = getClass().getGenericSuperclass();\n        if (superclass instanceof Class) {\n            throw new RuntimeException(&quot;Missing type parameter.&quot;);\n        }\n        this.type = ((ParameterizedType) superclass).getActualTypeArguments()[0];\n    }\n</code></pre>\n<p>Jacksons <code>ObjectMapper</code> will use the <code>this.type</code> later to figure out the type of things you want to deserialise.</p>\n<p>Observation of the diamond operator is ofc correct.</p>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75245589,"answer_count":1,"score":0,"last_activity_date":1674733051,"creation_date":1674725354,"question_id":75244262,"body_markdown":"I came across a following source code that I do not understand:\r\n\r\n    final Book book = objectMapper.readValue(string, new TypeReference&lt;&gt;() {\r\n        });\r\n\r\nHow will Jackson understand what class to deserialize from the provided string?\r\n\r\nI found a similar construct in [this article][1], where it is written it will throw an exception. But the code actually works and Book is deserialized. What is this black magic?\r\n\r\n\r\n  [1]: https://northcoder.com/post/jackson-object-mapper-which-way-is/","title":"ObjectMapper deserialization with TypeReference without a concrete class","body":"<p>I came across a following source code that I do not understand:</p>\n<pre><code>final Book book = objectMapper.readValue(string, new TypeReference&lt;&gt;() {\n    });\n</code></pre>\n<p>How will Jackson understand what class to deserialize from the provided string?</p>\n<p>I found a similar construct in <a href=\"https://northcoder.com/post/jackson-object-mapper-which-way-is/\" rel=\"nofollow noreferrer\">this article</a>, where it is written it will throw an exception. But the code actually works and Book is deserialized. What is this black magic?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1621399170,"post_id":67596876,"comment_id":119480654,"body_markdown":"Running with JUnit Platform 1.7.2?","body":"Running with JUnit Platform 1.7.2?"},{"owner":{"account_id":13063951,"reputation":809,"user_id":9440062,"display_name":"spiderloop"},"score":0,"creation_date":1621400940,"post_id":67596876,"comment_id":119481012,"body_markdown":"~/Documents/workspace/email-service-junit - (master) \n$ java -version\nopenjdk version &quot;11.0.11&quot; 2021-04-20\n\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\n\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)","body":"~/Documents/workspace/email-service-junit - (master)  $ java -version openjdk version &quot;11.0.11&quot; 2021-04-20  OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)  OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)"},{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1621406117,"post_id":67596876,"comment_id":119482537,"body_markdown":"I wanted to know the version of JUnit you are using, not the version of Java. Can you please add a filter matching like described here: https://junit.org/junit5/docs/current/user-guide/#launcher-api-execution","body":"I wanted to know the version of JUnit you are using, not the version of Java. Can you please add a filter matching like described here: <a href=\"https://junit.org/junit5/docs/current/user-guide/#launcher-api-execution\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":13063951,"reputation":809,"user_id":9440062,"display_name":"spiderloop"},"score":0,"creation_date":1621437674,"post_id":67596876,"comment_id":119496796,"body_markdown":"jupiterVersion = 5.7.1\njunit-platform-commons:1.7.1","body":"jupiterVersion = 5.7.1 junit-platform-commons:1.7.1"},{"owner":{"account_id":13063951,"reputation":809,"user_id":9440062,"display_name":"spiderloop"},"score":0,"creation_date":1621439163,"post_id":67596876,"comment_id":119497552,"body_markdown":"@Sormuras i tired the filter as well, requestBuilder.filters(includeClassNamePatterns(&quot;.*&quot;)); , doesn&#39;t help","body":"@Sormuras i tired the filter as well, requestBuilder.filters(includeClassNamePatterns(&quot;.*&quot;)); , doesn&#39;t help"},{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1621488762,"post_id":67596876,"comment_id":119512025,"body_markdown":"Same with 1.7.2? And please provide your complete setup, preferably as a shared project.","body":"Same with 1.7.2? And please provide your complete setup, preferably as a shared project."}],"answers":[{"tags":[],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674732312,"creation_date":1674732312,"answer_id":75245457,"question_id":67596876,"body_markdown":"This might be because your main folder is not in the same context as your tests.\r\nYou can add this to your `build` tag `pom.xml` file so it will compile your test classes to the same path as the rest of the project classes.\r\n`&lt;testOutputDirectory&gt;target/classes&lt;/testOutputDirectory&gt;`\r\n\r\nHere is an example:\r\n```XML\r\n &lt;build&gt;\r\n        &lt;testOutputDirectory&gt;target/classes&lt;/testOutputDirectory&gt;\r\n        &lt;plugins&gt;\r\n            ... \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nYou won&#39;t be able to select your classes directly with \r\n\r\n```java\r\nLauncherDiscoveryRequestBuilder.request().selectors(selectClass(my.package.tests.MyClass.class))\r\n```\r\n\r\nBut you should not have any problem with the `selectPackage` method you are using.\r\n\r\nThere might be other work-arounds that I&#39;m not aware of but this is working for JUnit5 right now.","title":"Junit5 LauncherDiscoveryRequestBuilder selectPackage does not find tests","body":"<p>This might be because your main folder is not in the same context as your tests.\nYou can add this to your <code>build</code> tag <code>pom.xml</code> file so it will compile your test classes to the same path as the rest of the project classes.\n<code>&lt;testOutputDirectory&gt;target/classes&lt;/testOutputDirectory&gt;</code></p>\n<p>Here is an example:</p>\n<pre><code> &lt;build&gt;\n        &lt;testOutputDirectory&gt;target/classes&lt;/testOutputDirectory&gt;\n        &lt;plugins&gt;\n            ... \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>You won't be able to select your classes directly with</p>\n<pre class=\"lang-java prettyprint-override\"><code>LauncherDiscoveryRequestBuilder.request().selectors(selectClass(my.package.tests.MyClass.class))\n</code></pre>\n<p>But you should not have any problem with the <code>selectPackage</code> method you are using.</p>\n<p>There might be other work-arounds that I'm not aware of but this is working for JUnit5 right now.</p>\n"}],"owner":{"account_id":13063951,"reputation":809,"user_id":9440062,"display_name":"spiderloop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674732312,"creation_date":1621397852,"question_id":67596876,"body_markdown":"I am trying to write my own Junit5 test runner using LauncherDiscoveryRequestBuilder, when i use the class selector, I am able to run the test no problem. However, when I try to use the package selector, no test can be discovered. \r\n\r\nHere is the code using selectClass that works:\r\n```\r\nLauncherDiscoveryRequestBuilder requestBuilder = new LauncherDiscoveryRequestBuilder();\r\nrequestBuilder.selectors(selectClass(&quot;com.abc.myservice.tests.MyTests&quot;));\r\nLauncherDiscoveryRequest request = requestBuilder.build();\r\nLauncher launcher = LauncherFactory.create();\r\nlauncher.execute(request);\r\n```\r\n\r\nHere is the code using selectPackage that cannot find any test:\r\n```\r\nLauncherDiscoveryRequestBuilder requestBuilder = new LauncherDiscoveryRequestBuilder();\r\nrequestBuilder.selectors(selectPackage(&quot;com.abc.myservice.tests&quot;));\r\nLauncherDiscoveryRequest request = requestBuilder.build();\r\nLauncher launcher = LauncherFactory.create();\r\nlauncher.execute(request);\r\n```\r\n\r\nHere is my test code\r\n```\r\npackage com.abc.myservice.tests;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport java.util.*;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class MyTests {\r\n\t@Test\r\n\tpublic void eqTest() {\r\n\t\tassertEquals(2, 2);\r\n\t}\r\n}\r\n```\r\n\r\nAny help would be appreciate!","title":"Junit5 LauncherDiscoveryRequestBuilder selectPackage does not find tests","body":"<p>I am trying to write my own Junit5 test runner using LauncherDiscoveryRequestBuilder, when i use the class selector, I am able to run the test no problem. However, when I try to use the package selector, no test can be discovered.</p>\n<p>Here is the code using selectClass that works:</p>\n<pre><code>LauncherDiscoveryRequestBuilder requestBuilder = new LauncherDiscoveryRequestBuilder();\nrequestBuilder.selectors(selectClass(&quot;com.abc.myservice.tests.MyTests&quot;));\nLauncherDiscoveryRequest request = requestBuilder.build();\nLauncher launcher = LauncherFactory.create();\nlauncher.execute(request);\n</code></pre>\n<p>Here is the code using selectPackage that cannot find any test:</p>\n<pre><code>LauncherDiscoveryRequestBuilder requestBuilder = new LauncherDiscoveryRequestBuilder();\nrequestBuilder.selectors(selectPackage(&quot;com.abc.myservice.tests&quot;));\nLauncherDiscoveryRequest request = requestBuilder.build();\nLauncher launcher = LauncherFactory.create();\nlauncher.execute(request);\n</code></pre>\n<p>Here is my test code</p>\n<pre><code>package com.abc.myservice.tests;\n\nimport org.junit.jupiter.api.Test;\nimport java.util.*;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class MyTests {\n    @Test\n    public void eqTest() {\n        assertEquals(2, 2);\n    }\n}\n</code></pre>\n<p>Any help would be appreciate!</p>\n"},{"tags":["java","debugging"],"comments":[{"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"score":0,"creation_date":1674728757,"post_id":75244808,"comment_id":132777530,"body_markdown":"Please provide some more information, we can see only jdbc connection error","body":"Please provide some more information, we can see only jdbc connection error"},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1674729502,"post_id":75244808,"comment_id":132777765,"body_markdown":"The JDBC error is presumably the problem, and not the adding of GTM?","body":"The JDBC error is presumably the problem, and not the adding of GTM?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1674732091,"post_id":75244808,"comment_id":132778480,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":13073544,"reputation":175,"user_id":9446417,"display_name":"Aperture Prometheus"},"score":0,"creation_date":1674732739,"post_id":75244808,"comment_id":132778675,"body_markdown":"In the log, they point out that you have some problem with JDBC, which could related to faulty database connection. Check if your database credential is correct or connection to your database is stable","body":"In the log, they point out that you have some problem with JDBC, which could related to faulty database connection. Check if your database credential is correct or connection to your database is stable"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674807565,"post_id":75244808,"comment_id":132795861,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27508734,"reputation":1,"user_id":20991045,"display_name":"hash"},"score":0,"creation_date":1674971323,"post_id":75244808,"comment_id":132825770,"body_markdown":"I don&#39;t know exactly the problem was but here is the link for your reference to have a  view about what&#39;s going on to my site. https://rfpproject.com/","body":"I don&#39;t know exactly the problem was but here is the link for your reference to have a  view about what&#39;s going on to my site. <a href=\"https://rfpproject.com/\" rel=\"nofollow noreferrer\">rfpproject.com</a>"},{"owner":{"account_id":27508734,"reputation":1,"user_id":20991045,"display_name":"hash"},"score":0,"creation_date":1674972755,"post_id":75244808,"comment_id":132825905,"body_markdown":"HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.","body":"HTTP Status 500 – Internal Server Error Type Exception Report  Message org.springframework.transaction.CannotCreateTransactionExcep&zwnj;&#8203;tion: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection  Description The server encountered an unexpected condition that prevented it from fulfilling the request."}],"owner":{"account_id":27508734,"reputation":1,"user_id":20991045,"display_name":"hash"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674732151,"creation_date":1674728544,"question_id":75244808,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/WJn9n.png)](https://i.stack.imgur.com/WJn9n.png)\r\n\r\nHi there, the above picture is the error I am facing through. I run Google Tag Manager then afterward, the web pages show this &quot;HTTP error 500&quot;.\r\n\r\nI am configuring Google Tag Manager to add a script to web pages, but then the site displays this error.","title":"I have an issue on my website (HTTP STATUS 500 - Internal Server Error)","body":"<p><a href=\"https://i.stack.imgur.com/WJn9n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJn9n.png\" alt=\"enter image description here\" /></a></p>\n<p>Hi there, the above picture is the error I am facing through. I run Google Tag Manager then afterward, the web pages show this &quot;HTTP error 500&quot;.</p>\n<p>I am configuring Google Tag Manager to add a script to web pages, but then the site displays this error.</p>\n"},{"tags":["java","algorithm","recursion","backtracking","knights-tour"],"comments":[{"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1545168868,"post_id":53841223,"comment_id":94531021,"body_markdown":"Did you step through your code with a debugger to inspect what&#39;s really happening? From your question, without going in depth into the code, I can see that it could also be an infinite loop, a particular test case where this change affects speed and in another case it will decrease it, combination of both, and such. Did you run multiple (at least thousands of) tests to see when and where this change makes the actual code faster? How can you be sure that it&#39;s indeed always better?","body":"Did you step through your code with a debugger to inspect what&#39;s really happening? From your question, without going in depth into the code, I can see that it could also be an infinite loop, a particular test case where this change affects speed and in another case it will decrease it, combination of both, and such. Did you run multiple (at least thousands of) tests to see when and where this change makes the actual code faster? How can you be sure that it&#39;s indeed always better?"},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1545170329,"post_id":53841223,"comment_id":94531611,"body_markdown":"See this lovely [debug](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) blog for help.","body":"See this lovely <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> blog for help."}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1545173792,"creation_date":1545173792,"answer_id":53842319,"question_id":53841223,"body_markdown":"You are doing a brute force search through a very large search space.  If you&#39;re unlucky in how you do your search, you can spend a long time with no solution showing up.\r\n\r\nThe answer is that either you are lucky in your choice of starting place/starting pattern, or else you need to be smarter about recognizing &quot;hopelessly stuck&quot;.\r\n\r\nFor example every 10,000 times that you backtrack, do a scan of the whole board.  If you can find hole that you cannot possibly get back to, then set a flag that causes you to backtrack to the last move that you could have visited it from.  Then continue.  This lets you skip over a potentially big chunk of useless work and get back to finding one of the [many possible tours](https://math.stackexchange.com/questions/636/how-many-knights-tours-are-there) that are to be found.","title":"Knight tour problem - order of moves affect performance","body":"<p>You are doing a brute force search through a very large search space.  If you're unlucky in how you do your search, you can spend a long time with no solution showing up.</p>\n\n<p>The answer is that either you are lucky in your choice of starting place/starting pattern, or else you need to be smarter about recognizing \"hopelessly stuck\".</p>\n\n<p>For example every 10,000 times that you backtrack, do a scan of the whole board.  If you can find hole that you cannot possibly get back to, then set a flag that causes you to backtrack to the last move that you could have visited it from.  Then continue.  This lets you skip over a potentially big chunk of useless work and get back to finding one of the <a href=\"https://math.stackexchange.com/questions/636/how-many-knights-tours-are-there\">many possible tours</a> that are to be found.</p>\n"}],"owner":{"account_id":5088059,"reputation":5319,"user_id":4081949,"accept_rate":64,"display_name":"KitKarson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53842319,"answer_count":1,"score":1,"last_activity_date":1674731884,"creation_date":1545167943,"question_id":53841223,"body_markdown":"I was trying to implement a solution for knight tour problem. I faced an interesting issue. I would like to know the reason for the behavior.\r\n\r\nThis is the code - it works fine. \r\n\r\n\r\n    public class OpenKnightTour {\r\n    \r\n        private int[][] chessTable;\r\n        private int startRow;\r\n        private int startCol;\r\n        private int ChessBoardSize;\r\n    \r\n    \r\n        private final int[][] moves = {\r\n                {-1, -2},\r\n                {-2, -1},\r\n                {-2, 1},\r\n                {-1, 2},\r\n                {1, -2},\r\n                {2, -1},\r\n                {2, 1},\r\n                {1, 2}\r\n        };\r\n    \r\n        public OpenKnightTour(int ChessBoardSize, int startRow, int startCol){\r\n            this.ChessBoardSize = ChessBoardSize;\r\n            this.startRow = startRow;\r\n            this.startCol = startCol;\r\n            this.chessTable = new int[ChessBoardSize][ChessBoardSize];\r\n        }\r\n    \r\n        void move(){\r\n            //first move\r\n            this.chessTable[this.startRow][this.startCol] = 1;\r\n    \r\n            //start with 2nd move recursively\r\n            moveHelper(this.startRow, this.startCol, 2);\r\n    \r\n            //print results\r\n            this.print();\r\n    \r\n        }\r\n    \r\n        private boolean moveHelper(int r, int c, int count){\r\n            if((count-1) == (this.ChessBoardSize * this.ChessBoardSize))\r\n                return true;\r\n    \r\n            for(int[] move: moves){\r\n                int nextR = r + move[0];\r\n                int nextC = c + move[1];\r\n                if(isMoveValid(nextR, nextC)){\r\n                    chessTable[nextR][nextC] = count;\r\n                    if(moveHelper(nextR, nextC, count + 1)){\r\n                        return true;\r\n                    }\r\n                    chessTable[nextR][nextC] = 0;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private void print(){\r\n            Arrays.stream(this.chessTable)\r\n                    .forEach(a -&gt; System.out.println(Arrays.toString(a)));\r\n        }\r\n    \r\n        private boolean isMoveValid(int r, int c){\r\n            if(!(r &gt;= 0 &amp;&amp; r &lt; this.ChessBoardSize))\r\n                return false;\r\n            if(!(c &gt;= 0 &amp;&amp; c &lt; this.ChessBoardSize))\r\n                return false;\r\n            return chessTable[r][c]==0;\r\n        }\r\n        \r\n    }\r\n\r\n\r\nNow we could run this, starting with knight position as `(2, 2)` in the matrix\r\n\r\n        OpenKnightTour o = new OpenKnightTour(8, 2, 2);\r\n        o.move();\r\n\r\nWhen i tried to run the starting position as `(0, 0)` , it ran continuously without showing any results. So i thought there could not be any solution for it. But if i change below order slightly, It works fine immediately.\r\n\r\n\r\n    private final int[][] moves = {\r\n            {-1, -2},\r\n            {-2, -1},\r\n            {-2, 1},\r\n            {-1, 2},\r\n            {1, -2},\r\n            {1, 2}, //moved from last \r\n            {2, -1},\r\n            {2, 1},\r\n    };\r\n\r\nWhat is really going on? how does this position of moves could affect the performance this much? then in that case, how do we know the correct order of the moves?","title":"Knight tour problem - order of moves affect performance","body":"<p>I was trying to implement a solution for knight tour problem. I faced an interesting issue. I would like to know the reason for the behavior.</p>\n\n<p>This is the code - it works fine. </p>\n\n<pre><code>public class OpenKnightTour {\n\n    private int[][] chessTable;\n    private int startRow;\n    private int startCol;\n    private int ChessBoardSize;\n\n\n    private final int[][] moves = {\n            {-1, -2},\n            {-2, -1},\n            {-2, 1},\n            {-1, 2},\n            {1, -2},\n            {2, -1},\n            {2, 1},\n            {1, 2}\n    };\n\n    public OpenKnightTour(int ChessBoardSize, int startRow, int startCol){\n        this.ChessBoardSize = ChessBoardSize;\n        this.startRow = startRow;\n        this.startCol = startCol;\n        this.chessTable = new int[ChessBoardSize][ChessBoardSize];\n    }\n\n    void move(){\n        //first move\n        this.chessTable[this.startRow][this.startCol] = 1;\n\n        //start with 2nd move recursively\n        moveHelper(this.startRow, this.startCol, 2);\n\n        //print results\n        this.print();\n\n    }\n\n    private boolean moveHelper(int r, int c, int count){\n        if((count-1) == (this.ChessBoardSize * this.ChessBoardSize))\n            return true;\n\n        for(int[] move: moves){\n            int nextR = r + move[0];\n            int nextC = c + move[1];\n            if(isMoveValid(nextR, nextC)){\n                chessTable[nextR][nextC] = count;\n                if(moveHelper(nextR, nextC, count + 1)){\n                    return true;\n                }\n                chessTable[nextR][nextC] = 0;\n            }\n        }\n        return false;\n    }\n\n    private void print(){\n        Arrays.stream(this.chessTable)\n                .forEach(a -&gt; System.out.println(Arrays.toString(a)));\n    }\n\n    private boolean isMoveValid(int r, int c){\n        if(!(r &gt;= 0 &amp;&amp; r &lt; this.ChessBoardSize))\n            return false;\n        if(!(c &gt;= 0 &amp;&amp; c &lt; this.ChessBoardSize))\n            return false;\n        return chessTable[r][c]==0;\n    }\n\n}\n</code></pre>\n\n<p>Now we could run this, starting with knight position as <code>(2, 2)</code> in the matrix</p>\n\n<pre><code>    OpenKnightTour o = new OpenKnightTour(8, 2, 2);\n    o.move();\n</code></pre>\n\n<p>When i tried to run the starting position as <code>(0, 0)</code> , it ran continuously without showing any results. So i thought there could not be any solution for it. But if i change below order slightly, It works fine immediately.</p>\n\n<pre><code>private final int[][] moves = {\n        {-1, -2},\n        {-2, -1},\n        {-2, 1},\n        {-1, 2},\n        {1, -2},\n        {1, 2}, //moved from last \n        {2, -1},\n        {2, 1},\n};\n</code></pre>\n\n<p>What is really going on? how does this position of moves could affect the performance this much? then in that case, how do we know the correct order of the moves?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","mariadb"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674718163,"post_id":75243134,"comment_id":132774449,"body_markdown":"I wouldn&#39;t be surprised if you have `@SequenceGenerator` in your code. Now what hibernate does, it preallocates a range of values from the sequence (in your case probably 1). And then you manually call `NEXTVAL` on that same sequence, making it seem like it increases by 2","body":"I wouldn&#39;t be surprised if you have <code>@SequenceGenerator</code> in your code. Now what hibernate does, it preallocates a range of values from the sequence (in your case probably 1). And then you manually call <code>NEXTVAL</code> on that same sequence, making it seem like it increases by 2"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1674718954,"post_id":75243134,"comment_id":132774628,"body_markdown":"https://stackoverflow.com/a/60689712/916225 check this answer","body":"<a href=\"https://stackoverflow.com/a/60689712/916225\">stackoverflow.com/a/60689712/916225</a> check this answer"},{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1674720618,"post_id":75243134,"comment_id":132775011,"body_markdown":"Hi @XtremeBaumer can help to explain a bit more","body":"Hi @XtremeBaumer can help to explain a bit more"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674721357,"post_id":75243134,"comment_id":132775207,"body_markdown":"Do you have an entity that uses `@SequenceGenerator` / `@GeneratedValue(strategy = GenerationType.SEQUENCE)` ?","body":"Do you have an entity that uses <code>@SequenceGenerator</code> / <code>@GeneratedValue(strategy = GenerationType.SEQUENCE)</code> ?"},{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1674721778,"post_id":75243134,"comment_id":132775332,"body_markdown":"No I don’t have a entity.","body":"No I don’t have a entity."},{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1674721861,"post_id":75243134,"comment_id":132775349,"body_markdown":"Created the sequence in the database and executing the nextval query but don’t have a entity class for that","body":"Created the sequence in the database and executing the nextval query but don’t have a entity class for that"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674731394,"creation_date":1674731394,"answer_id":75245309,"question_id":75243134,"body_markdown":"You are executing your query twice:\r\n\r\n```java\r\nif (crit.list().size() &gt; 0) {   // &lt;- first execution\r\n   seqNbr = (BigInteger) crit.list().get(0); // &lt;- second execution\r\n}\r\n```","title":"mariadb sequence nextval is incrementing by 2 using hibernate","body":"<p>You are executing your query twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (crit.list().size() &gt; 0) {   // &lt;- first execution\n   seqNbr = (BigInteger) crit.list().get(0); // &lt;- second execution\n}\n</code></pre>\n"}],"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674731394,"creation_date":1674717774,"question_id":75243134,"body_markdown":"I have a reference number and in that, for 3 digits I&#39;m using a sequence.\r\n\r\nI&#39;ve created a sequence in MariaDB that starts from 111 will increment by 1 till 999 and then again start from 111. The strange thing is the sequence is incrementing by 2 instead of 1.\r\n\r\nThe query for the sequence:\r\n\r\n    CREATE SEQUENCE IF NOT EXISTS ref_seq START WITH 111 INCREMENT BY 1 MINVALUE=111 MAXVALUE=999 CYCLE ENGINE=INNODB\r\n\r\nBelow is the code\r\n\r\n`Service`\r\n\r\n```\r\nimport org.springframework.stereotype.Service;\r\n​\r\n@Service\r\npublic interface SeqForIpe2RefNumService {\r\n\tint getSeqForIpe2Ref();\r\n​\r\n}\r\n```\r\n\r\n`Service Impl`\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n​\r\nimport com.test.ipe.batch.dao.SeqForIpe2RefNumDao;\r\n@Service\r\npublic class SeqForIpe2RefNumServiceImpl implements SeqForIpe2RefNumService {\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(SeqForIpe2RefNumServiceImpl.class);\r\n\t@Autowired\r\n\tSeqForIpe2RefNumDao seqForIpe2RefNumDao;\r\n\t@Override\r\n\tpublic int getSeqForIpe2Ref(){\r\n\t\treturn seqForIpe2RefNumDao.getSeqForIpe2Ref();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n`Dao`\r\n\r\n```\r\nimport org.springframework.stereotype.Repository;\r\n​\r\n@Repository\r\npublic interface SeqForIpe2RefNumDao {\r\n\tInteger getSeqForIpe2Ref();\r\n}\r\n```\r\n\r\n`DaoImpl`\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport org.hibernate.SQLQuery;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n​\r\n@Repository\r\npublic class SeqForIpe2RefNumDaoImpl implements SeqForIpe2RefNumDao {\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(SeqForIpe2RefNumDaoImpl.class);\r\n​\r\n\t@Autowired\r\n\tprivate SessionFactory sessionFactory;\r\n\t@Override\r\n\tpublic Integer getSeqForIpe2Ref() {\r\n\t\tlogger.info(&quot;In getSeqForIpe2Ref() :&quot;);\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n        SQLQuery crit = session.createSQLQuery(&quot;SELECT NEXTVAL(IPE2REF_SEQ_BATCH)&quot;);\r\n        BigInteger seqNbr = BigInteger.valueOf(0);\r\n        if (crit.list().size() &gt; 0) {\r\n            seqNbr = (BigInteger) crit.list().get(0);\r\n        }\r\n        logger.info(&quot;SEQUENCE NUM :&quot;+seqNbr.intValue());\r\n        return seqNbr.intValue();\r\n\t}\r\n}\r\n```\r\n\r\n","title":"mariadb sequence nextval is incrementing by 2 using hibernate","body":"<p>I have a reference number and in that, for 3 digits I'm using a sequence.</p>\n<p>I've created a sequence in MariaDB that starts from 111 will increment by 1 till 999 and then again start from 111. The strange thing is the sequence is incrementing by 2 instead of 1.</p>\n<p>The query for the sequence:</p>\n<pre><code>CREATE SEQUENCE IF NOT EXISTS ref_seq START WITH 111 INCREMENT BY 1 MINVALUE=111 MAXVALUE=999 CYCLE ENGINE=INNODB\n</code></pre>\n<p>Below is the code</p>\n<p><code>Service</code></p>\n<pre><code>import org.springframework.stereotype.Service;\n​\n@Service\npublic interface SeqForIpe2RefNumService {\n    int getSeqForIpe2Ref();\n​\n}\n</code></pre>\n<p><code>Service Impl</code></p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n​\nimport com.test.ipe.batch.dao.SeqForIpe2RefNumDao;\n@Service\npublic class SeqForIpe2RefNumServiceImpl implements SeqForIpe2RefNumService {\n    private static final Logger logger = LoggerFactory.getLogger(SeqForIpe2RefNumServiceImpl.class);\n    @Autowired\n    SeqForIpe2RefNumDao seqForIpe2RefNumDao;\n    @Override\n    public int getSeqForIpe2Ref(){\n        return seqForIpe2RefNumDao.getSeqForIpe2Ref();\n    }\n    \n}\n</code></pre>\n<p><code>Dao</code></p>\n<pre><code>import org.springframework.stereotype.Repository;\n​\n@Repository\npublic interface SeqForIpe2RefNumDao {\n    Integer getSeqForIpe2Ref();\n}\n</code></pre>\n<p><code>DaoImpl</code></p>\n<pre><code>import java.math.BigInteger;\nimport org.hibernate.SQLQuery;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n​\n@Repository\npublic class SeqForIpe2RefNumDaoImpl implements SeqForIpe2RefNumDao {\n    \n    private static final Logger logger = LoggerFactory.getLogger(SeqForIpe2RefNumDaoImpl.class);\n​\n    @Autowired\n    private SessionFactory sessionFactory;\n    @Override\n    public Integer getSeqForIpe2Ref() {\n        logger.info(&quot;In getSeqForIpe2Ref() :&quot;);\n        Session session = sessionFactory.getCurrentSession();\n        SQLQuery crit = session.createSQLQuery(&quot;SELECT NEXTVAL(IPE2REF_SEQ_BATCH)&quot;);\n        BigInteger seqNbr = BigInteger.valueOf(0);\n        if (crit.list().size() &gt; 0) {\n            seqNbr = (BigInteger) crit.list().get(0);\n        }\n        logger.info(&quot;SEQUENCE NUM :&quot;+seqNbr.intValue());\n        return seqNbr.intValue();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","web-services","spring-ws","asynccallback"],"comments":[{"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"score":0,"creation_date":1674730993,"post_id":41587192,"comment_id":132778164,"body_markdown":"I would say that Spring&#39;s `WS-Addressing`-support does not contain what the average developer would expect to find, e.g. an api for providing the asynchronous reponse back to the ReplyTo url.","body":"I would say that Spring&#39;s <code>WS-Addressing</code>-support does not contain what the average developer would expect to find, e.g. an api for providing the asynchronous reponse back to the ReplyTo url."}],"owner":{"account_id":10009144,"reputation":21,"user_id":7402476,"display_name":"Gainy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674731059,"creation_date":1484127263,"question_id":41587192,"body_markdown":"I am using &#39;Spring-WS&#39; to develop web service, but I don&#39;t know how to support the &#39;Asynchronous Request-Response with &#39;CallBack&#39; feature.\r\nI want to get the following flow:\r\n1.Client submit request(replyTo) -&gt; Server returns 202 Accepted\r\n2.Server submit callback request -&gt; Client returns 200 OK\r\nWhen I add the WS-Addressing feature, it only supports synchronized invocation.\r\nDoes anyone have any ideas?\r\nMany thanks!","title":"How to supprt &#39;Asynchronous Request-Response with CallBack&#39; using spring-ws?","body":"<p>I am using 'Spring-WS' to develop web service, but I don't know how to support the 'Asynchronous Request-Response with 'CallBack' feature.\nI want to get the following flow:\n1.Client submit request(replyTo) -> Server returns 202 Accepted\n2.Server submit callback request -> Client returns 200 OK\nWhen I add the WS-Addressing feature, it only supports synchronized invocation.\nDoes anyone have any ideas?\nMany thanks!</p>\n"},{"tags":["java","output","bit-manipulation"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1674728079,"post_id":75244724,"comment_id":132777313,"body_markdown":"No, bitwise AND will output 1 or 0 for each and every **bit** of that number so for example `9 &amp; 12` in decimal would be `1001 &amp; 1100` in binary which is `1000` in binary, which is 8 in decimal (neither 1 nor 0).","body":"No, bitwise AND will output 1 or 0 for each and every <b>bit</b> of that number so for example <code>9 &amp; 12</code> in decimal would be <code>1001 &amp; 1100</code> in binary which is <code>1000</code> in binary, which is 8 in decimal (neither 1 nor 0)."},{"owner":{"account_id":68630,"reputation":2092,"user_id":200136,"display_name":"Andrew McGuinness"},"score":0,"creation_date":1674730094,"post_id":75244724,"comment_id":132777903,"body_markdown":"It&#39;s not clear how you think your solution applies to the problem, which doesn&#39;t refer to bits at all.  Possibly you are not clear on the meaning of &quot;Array&quot;, &quot;Element&quot; and &quot;bit&quot; ? Try adding an explanation of how your solution works.","body":"It&#39;s not clear how you think your solution applies to the problem, which doesn&#39;t refer to bits at all.  Possibly you are not clear on the meaning of &quot;Array&quot;, &quot;Element&quot; and &quot;bit&quot; ? Try adding an explanation of how your solution works."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674769928,"post_id":75244724,"comment_id":132790083,"body_markdown":"Here’s a hint: try printing out the result of a bitwise and of a value with itself `System.out.println(123 &amp; 123);` as well as a bitwise and of two different values `System.out.println(123 &amp; 456);` Experiment with various same and different values. Do you see a pattern?","body":"Here’s a hint: try printing out the result of a bitwise and of a value with itself <code>System.out.println(123 &amp; 123);</code> as well as a bitwise and of two different values <code>System.out.println(123 &amp; 456);</code> Experiment with various same and different values. Do you see a pattern?"}],"owner":{"account_id":26572000,"reputation":1,"user_id":20198083,"display_name":"Nicolas Pepe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674730899,"creation_date":1674727984,"question_id":75244724,"body_markdown":"Question: Given an integer array nums where every element appears three times except for one, which appears exactly once. Find the single element and return it.\r\n\r\n\r\n\r\n i have given the answer below,\r\n```\r\n int ans=0;\r\n      \r\n       for(int bitPos=0;bitPos&lt;=31;bitPos++)\r\n       {\r\n            int count=0;\r\n           for(int i=0;i&lt;arr.length;i++)\r\n           {\r\n               int check=arr[i]&amp;(1&lt;&lt;bitPos);\r\n\r\n           ** if(check!=0)** // if (check==1)\r\n               count++;\r\n\r\n           }\r\n           if(count%3==1)\r\n           ans+=1&lt;&lt;bitPos;\r\n       }\r\n       return ans;\r\n```\r\nhere when i used &quot; if (check==1)count++ &quot;, i wasn&#39;t getting the correct output. but bitwise and will either give 1 or 0 right. so why it&#39;s not working ??  \r\n\r\ndetails of my approach: every number is repeating thrice except one number\r\n\r\n1. I&#39;m trying to count &#39;ones&#39; in each bit.\r\n2. it will be either in multiple of 3(due to repeating numbers), or multiple of three + 1.(for the non-repeating number).\r\n3. adding all the power of bit positions which has that extra &#39;one&#39; will give my final answer.  \r\n\r\n","title":"what are the exact possible outputs for bitwise AND operator?","body":"<p>Question: Given an integer array nums where every element appears three times except for one, which appears exactly once. Find the single element and return it.</p>\n<p>i have given the answer below,</p>\n<pre><code> int ans=0;\n      \n       for(int bitPos=0;bitPos&lt;=31;bitPos++)\n       {\n            int count=0;\n           for(int i=0;i&lt;arr.length;i++)\n           {\n               int check=arr[i]&amp;(1&lt;&lt;bitPos);\n\n           ** if(check!=0)** // if (check==1)\n               count++;\n\n           }\n           if(count%3==1)\n           ans+=1&lt;&lt;bitPos;\n       }\n       return ans;\n</code></pre>\n<p>here when i used &quot; if (check==1)count++ &quot;, i wasn't getting the correct output. but bitwise and will either give 1 or 0 right. so why it's not working ??</p>\n<p>details of my approach: every number is repeating thrice except one number</p>\n<ol>\n<li>I'm trying to count 'ones' in each bit.</li>\n<li>it will be either in multiple of 3(due to repeating numbers), or multiple of three + 1.(for the non-repeating number).</li>\n<li>adding all the power of bit positions which has that extra 'one' will give my final answer.</li>\n</ol>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674654005,"post_id":75234687,"comment_id":132760188,"body_markdown":"you may get two roots: `Root&lt;Person&gt; person = cQ.from(Person.class)` and `Root&lt;Pet&gt; pet = cQ.from(Pet.class)` and join them: `cB.equal(pet, person.get(&quot;likes&quot;))`","body":"you may get two roots: <code>Root&lt;Person&gt; person = cQ.from(Person.class)</code> and <code>Root&lt;Pet&gt; pet = cQ.from(Pet.class)</code> and join them: <code>cB.equal(pet, person.get(&quot;likes&quot;))</code>"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1674654829,"post_id":75234687,"comment_id":132760498,"body_markdown":"Wondering sql statement is easier to understand with brackets ```where (case ...when ... then ... end) = ?``` So the return value of case statement must be equal to given parameter.","body":"Wondering sql statement is easier to understand with brackets <code>where (case ...when ... then ... end) = ?</code> So the return value of case statement must be equal to given parameter."},{"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"score":0,"creation_date":1674713303,"post_id":75234687,"comment_id":132773709,"body_markdown":"@AndreyB.Panfilov: Can you please add this comment as an answer? Two roots .. interesting, but it works!","body":"@AndreyB.Panfilov: Can you please add this comment as an answer? Two roots .. interesting, but it works!"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1697632494,"post_id":75234687,"comment_id":136303975,"body_markdown":"Can you please fix the syntax in `debit.join(&quot;likes)`? probably unclosed `&quot;` - thank you","body":"Can you please fix the syntax in <code>debit.join(&quot;likes)</code>? probably unclosed <code>&quot;</code> - thank you"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674730817,"creation_date":1674730817,"answer_id":75245218,"question_id":75234687,"body_markdown":"You [may use multiple roots (mine: I believe that is the most common scenario)](https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/criteria/abstractquery#from(java.lang.Class)) in `Criteria API` query:\r\n\r\n&gt; Create and add a query root corresponding to the given entity, forming a cartesian product with any existing roots.\r\n\r\nSo, your query might look like:\r\n\r\n```java\r\nRoot&lt;Person&gt; person = cQ.from(Person.class);\r\nRoot&lt;Pet&gt; pet = cQ.from(Pet.class);\r\ncQ.where(cB.equal(pet, person.get(&quot;likes&quot;)));\r\n```\r\n\r\nMoreover, that is not required to define `X-TO-Y` associations in order to write a query - we may [join &quot;unrelated&quot; entities](https://stackoverflow.com/a/74810554/3426309) as well.","title":"JPA Criteria Query with JOIN on Polymorphic Subclass","body":"<p>You <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/criteria/abstractquery#from(java.lang.Class)\" rel=\"nofollow noreferrer\">may use multiple roots (mine: I believe that is the most common scenario)</a> in <code>Criteria API</code> query:</p>\n<blockquote>\n<p>Create and add a query root corresponding to the given entity, forming a cartesian product with any existing roots.</p>\n</blockquote>\n<p>So, your query might look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Root&lt;Person&gt; person = cQ.from(Person.class);\nRoot&lt;Pet&gt; pet = cQ.from(Pet.class);\ncQ.where(cB.equal(pet, person.get(&quot;likes&quot;)));\n</code></pre>\n<p>Moreover, that is not required to define <code>X-TO-Y</code> associations in order to write a query - we may <a href=\"https://stackoverflow.com/a/74810554/3426309\">join &quot;unrelated&quot; entities</a> as well.</p>\n"}],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75245218,"answer_count":1,"score":0,"last_activity_date":1674730817,"creation_date":1674653240,"question_id":75234687,"body_markdown":"I have the following (simplified) data model:\r\n\r\n```\r\n@Entity\r\npublic class Person\r\n{\r\n\t@ManyToOne Animal likes;\r\n}\r\n\r\n@Entity\r\n@Inheritance(strategy=InheritanceType.JOINED)\r\npublic class Animal{}\r\n\r\n@Entity\r\npublic class Pet extends Animal\r\n{\r\n\t@ManyToOne Home home;\r\n}\r\n\r\n@Entity\r\npublic class Domestic extends Animal\r\n{\r\n\t@ManyToOne Farm farm;\r\n}\r\n\r\n@Entity public class Home {}\r\n@Entity public class Farm {}\r\n```\r\n\r\n\r\nNow I want a  group the persons by home and count on different homes:\r\n\r\n```\r\nCriteriaBuilder cB = em.getCriteriaBuilder();\r\nCriteriaQuery&lt;Tuple&gt; cQ = cB.createTupleQuery();\r\nRoot&lt;Person&gt; person = cQ.from(Person.class);\r\n\r\nJoin&lt;Person,Pet&gt; jPet = person.join(&quot;likes&quot;);\r\nJoin&lt;Pet,Home&gt; jHome = jPet.join(&quot;home&quot;);\r\n```\r\n\r\nHere I&#39;m getting the error\r\n`Unable to locate Attribute  with the the given name [home] on this ManagedType [Animal]` the generated SQL query obviously explains why:\r\n`INNER JOIN animal a ON person.likes_id = animal.id`. The next approach was to use `.treat`:\r\n\r\n```\r\nJoin&lt;Person,Pet&gt; jPet = cB.treat(debit.join(&quot;likes), Pet.class);\r\nJoin&lt;Pet,Home&gt; jHome = jPet.join(&quot;home&quot;);\r\n```\r\n\r\nThis seemed to be promising with the new `.treat` feature of JPA 2.1, but the generated SQL looks like this\r\n```\r\nINNER JOIN animal ON person.likes_id = animal.id\r\nLEFT OUTER JOIN pet ON pet.id = animal.id\r\nLEFT OUTER JOIN domestic ON domestic.id = animal\r\n```\r\n\r\nIn fact it is joining all subclasses of Animal where I&#39;m only interested in `Pet`. So I tried to limit to the specific class with a Predicate `cB.equal(jPet.type(),Pet.class)`. This generates some interesting SQL (which I have never seen before and where I wonder what is inserted in `END=?`)\r\n\r\n```\r\nWHERE CASE\r\n  WHEN pet.id IS NOT NULL THEN 1\r\n  WHEN domestic.id IS NOT NULL THEN 2\r\n  WHEN animal IS NOT NULL THEN 0\r\n  END = ?\r\n```\r\n\r\nBut it still does not work as expected. How can I count the different home with JPA criteria queries where I start from a `Person`?","title":"JPA Criteria Query with JOIN on Polymorphic Subclass","body":"<p>I have the following (simplified) data model:</p>\n<pre><code>@Entity\npublic class Person\n{\n    @ManyToOne Animal likes;\n}\n\n@Entity\n@Inheritance(strategy=InheritanceType.JOINED)\npublic class Animal{}\n\n@Entity\npublic class Pet extends Animal\n{\n    @ManyToOne Home home;\n}\n\n@Entity\npublic class Domestic extends Animal\n{\n    @ManyToOne Farm farm;\n}\n\n@Entity public class Home {}\n@Entity public class Farm {}\n</code></pre>\n<p>Now I want a  group the persons by home and count on different homes:</p>\n<pre><code>CriteriaBuilder cB = em.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; cQ = cB.createTupleQuery();\nRoot&lt;Person&gt; person = cQ.from(Person.class);\n\nJoin&lt;Person,Pet&gt; jPet = person.join(&quot;likes&quot;);\nJoin&lt;Pet,Home&gt; jHome = jPet.join(&quot;home&quot;);\n</code></pre>\n<p>Here I'm getting the error\n<code>Unable to locate Attribute  with the the given name [home] on this ManagedType [Animal]</code> the generated SQL query obviously explains why:\n<code>INNER JOIN animal a ON person.likes_id = animal.id</code>. The next approach was to use <code>.treat</code>:</p>\n<pre><code>Join&lt;Person,Pet&gt; jPet = cB.treat(debit.join(&quot;likes), Pet.class);\nJoin&lt;Pet,Home&gt; jHome = jPet.join(&quot;home&quot;);\n</code></pre>\n<p>This seemed to be promising with the new <code>.treat</code> feature of JPA 2.1, but the generated SQL looks like this</p>\n<pre><code>INNER JOIN animal ON person.likes_id = animal.id\nLEFT OUTER JOIN pet ON pet.id = animal.id\nLEFT OUTER JOIN domestic ON domestic.id = animal\n</code></pre>\n<p>In fact it is joining all subclasses of Animal where I'm only interested in <code>Pet</code>. So I tried to limit to the specific class with a Predicate <code>cB.equal(jPet.type(),Pet.class)</code>. This generates some interesting SQL (which I have never seen before and where I wonder what is inserted in <code>END=?</code>)</p>\n<pre><code>WHERE CASE\n  WHEN pet.id IS NOT NULL THEN 1\n  WHEN domestic.id IS NOT NULL THEN 2\n  WHEN animal IS NOT NULL THEN 0\n  END = ?\n</code></pre>\n<p>But it still does not work as expected. How can I count the different home with JPA criteria queries where I start from a <code>Person</code>?</p>\n"},{"tags":["java","instrumentation","java-bytecode-asm"],"answers":[{"comments":[{"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"score":0,"creation_date":1674754266,"post_id":75245148,"comment_id":132786063,"body_markdown":"Hi, thanks for your answer. I did need to visit the try-catch block in the order. I solved this by following your example: [Adding try/catch block in bytecode through ASM](https://stackoverflow.com/questions/23491902/adding-try-catch-block-in-bytecode-through-asm) and moving `visitTryCatchBlock(start, end, handler, &quot;java/lang/Exception&quot;);` from `visitCode` to `visitMaxs`. Since `visitMaxs` is after `visitTryCatchBlock`","body":"Hi, thanks for your answer. I did need to visit the try-catch block in the order. I solved this by following your example: <a href=\"https://stackoverflow.com/questions/23491902/adding-try-catch-block-in-bytecode-through-asm\">Adding try/catch block in bytecode through ASM</a> and moving <code>visitTryCatchBlock(start, end, handler, &quot;java&#47;lang&#47;Exception&quot;);</code> from <code>visitCode</code> to <code>visitMaxs</code>. Since <code>visitMaxs</code> is after <code>visitTryCatchBlock</code>"}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674730431,"creation_date":1674730431,"answer_id":75245148,"question_id":75241582,"body_markdown":"This has been a [discussion on the ASM issue tracker](https://gitlab.ow2.org/asm/asm/-/issues/317617) but was rejected as a feature. The exception table needs to be appended in the order it is written to the method attributes in the order it is visited.\r\n\r\n&gt; (...) it&#39;s one of those cases where the you know that you can do a better job than ASM that can not be easily fixed while remaining backward compatible, I&#39;m against adding new flags for a corner cases given that there is a good chance of mis-using the API","title":"How to add the exception handling row to the end of the exception handle using ASM","body":"<p>This has been a <a href=\"https://gitlab.ow2.org/asm/asm/-/issues/317617\" rel=\"nofollow noreferrer\">discussion on the ASM issue tracker</a> but was rejected as a feature. The exception table needs to be appended in the order it is written to the method attributes in the order it is visited.</p>\n<blockquote>\n<p>(...) it's one of those cases where the you know that you can do a better job than ASM that can not be easily fixed while remaining backward compatible, I'm against adding new flags for a corner cases given that there is a good chance of mis-using the API</p>\n</blockquote>\n"}],"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674730431,"creation_date":1674696928,"question_id":75241582,"body_markdown":"I&#39;m doing instrumentation for java code with ASM library. \r\n\r\nI want to surround a method body with a try-catch block, which doesn&#39;t interrupt the origianl method execution. However, when I use ``visitTryCatchBlock``, a dominant handler is registered at the beginning of the method&#39;s exception table. \r\nCan I register the handler at the end of the method&#39;s exception table? \r\n\r\nI couldn&#39;t really find examples of it online. Thank you.\r\n   ","title":"How to add the exception handling row to the end of the exception handle using ASM","body":"<p>I'm doing instrumentation for java code with ASM library.</p>\n<p>I want to surround a method body with a try-catch block, which doesn't interrupt the origianl method execution. However, when I use <code>visitTryCatchBlock</code>, a dominant handler is registered at the beginning of the method's exception table.\nCan I register the handler at the end of the method's exception table?</p>\n<p>I couldn't really find examples of it online. Thank you.</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1674728212,"post_id":75244721,"comment_id":132777353,"body_markdown":"How does your entire test class look like? Are the service and the repository mocked via `@MockBean`?","body":"How does your entire test class look like? Are the service and the repository mocked via <code>@MockBean</code>?"}],"answers":[{"comments":[{"owner":{"account_id":27625558,"reputation":1,"user_id":21085619,"display_name":"Pavithra"},"score":0,"creation_date":1674741685,"post_id":75244938,"comment_id":132781434,"body_markdown":"I tried doing the same in the Service class, The test case is failing. \nWhile debugging, I could see the control never executes inside the methods in helper class. \n\norg.opentest4j.AssertionFailedError: Expected com.banking.bankingapp.common.exceptions.CustomerNotFoundException to be thrown, but nothing was thrown.","body":"I tried doing the same in the Service class, The test case is failing.  While debugging, I could see the control never executes inside the methods in helper class.   org.opentest4j.AssertionFailedError: Expected com.banking.bankingapp.common.exceptions.CustomerNotFoundExc&zwnj;&#8203;eption to be thrown, but nothing was thrown."},{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1674817040,"post_id":75244938,"comment_id":132798533,"body_markdown":"Sounds like the helper class is accidentally a mock instead of a Spring Bean. Is it declared as mock anywhere in your test context? Do you import any test configuration, which in turn makes a mock of your helper class?","body":"Sounds like the helper class is accidentally a mock instead of a Spring Bean. Is it declared as mock anywhere in your test context? Do you import any test configuration, which in turn makes a mock of your helper class?"}],"tags":[],"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674730253,"creation_date":1674729232,"answer_id":75244938,"question_id":75244721,"body_markdown":"The reason is that `accountHelper` is mocked in your test, which means that invocation of `accountHelper.checkAccountTypeForCustomer(account)` doesn&#39;t execute your business code.\r\n\r\nI recommend you to use Spring mocking in this case, and to specify how your repository is expected to behave. It would look something like this:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\nclass AccountServiceTest {\r\n    @MockBean\r\n\tprivate CustomerRepository repository;\r\n\t\r\n\t@Autowired\r\n\tprivate AccountService testService;\r\n\t\r\n\t@Test\r\n\tvoid testCreateAccount() throws CustomerNotFoundException {\r\n\t\tMockito.when(repository.existsById(anyInt())).thenReturn(false);\r\n\t\r\n    \t...\r\n \t\tCustomerNotFoundException thrown = Assertions.assertThrows(CustomerNotFoundException.class, () -&gt; testService.createAccount(account));\r\n\r\n        Assertions.assertEquals(&quot;the exception message&quot;, thrown.getMessage());\r\n\t}\r\n}\r\n```","title":"Junit Test Pass even when the method called inside may fail","body":"<p>The reason is that <code>accountHelper</code> is mocked in your test, which means that invocation of <code>accountHelper.checkAccountTypeForCustomer(account)</code> doesn't execute your business code.</p>\n<p>I recommend you to use Spring mocking in this case, and to specify how your repository is expected to behave. It would look something like this:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass AccountServiceTest {\n    @MockBean\n    private CustomerRepository repository;\n    \n    @Autowired\n    private AccountService testService;\n    \n    @Test\n    void testCreateAccount() throws CustomerNotFoundException {\n        Mockito.when(repository.existsById(anyInt())).thenReturn(false);\n    \n        ...\n        CustomerNotFoundException thrown = Assertions.assertThrows(CustomerNotFoundException.class, () -&gt; testService.createAccount(account));\n\n        Assertions.assertEquals(&quot;the exception message&quot;, thrown.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27625558,"reputation":1,"user_id":21085619,"display_name":"Pavithra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674730253,"creation_date":1674727956,"question_id":75244721,"body_markdown":"I am creating a Junit Unit Test to check the createAccount method in service that calls Service a helper method. Please find it below. \r\n\r\n**Service class**\r\n\r\n    public class AccountServiceImpl {\r\n\t@Autowired\r\n\tAccountHelper accountHelper;\r\n\r\n\t@Override\r\n\tpublic Account createAccount(Account account) throws CustomerNotFoundException {\r\n\t\taccountHelper.checkAccountTypeForCustomer(account);\r\n\t\t\treturn accountRepository.save(account);\r\n\t}\r\n    }\r\n\r\n**Helper Class:**\r\n\r\n\tpublic void checkAccountTypeForCustomer(Account acc) throws CustomerNotFoundException {\r\n\t\tBoolean customerExists = customerRepository.existsById(acc.getCustomerId());\r\n\t\tif(!customerExists) {\r\n\t\t\tthrow new CustomerNotFoundException(&quot;604&quot;, Message.CUSTOMER_NOT_FOUND);\r\n\t\t}\t\r\n\t}\r\n\r\n**AccountServiceTest class**\r\n\r\n\r\n   @ExtendWith(MockitoExtension.class)\r\n   public class AccountServiceTest {\r\n\r\n\t@Mock\r\n\tprivate AccountRepository accountRepository;\r\n\r\n\t@Mock\r\n\tprivate CustomerRepository customerRepository;\r\n\t\r\n\t@Mock\r\n\tprivate AccountHelper accountHelper;\r\n\t\r\n\t@InjectMocks \r\n\tprivate AccountService testService;\r\n    \r\n     @Test\r\n     void testCreateAccount() throws CustomerNotFoundException {\r\n          Account account = Account.builder().\r\n\t\t\taccountType(AccountType.SAVINGS).\r\n\t\t\topeningBalance(BigDecimal.valueOf(3000)).\r\n\t\t\tifsc(&quot;IFSC1&quot;).\r\n\t\t\tcustomerId(1).\r\n\t\t\tbuild();\r\n\t testService.createAccount(account);\r\n}\r\n}\r\n\r\n\r\nAbove Test is passing although the customer is not present in the database.\r\nThe test is incomplete. But still the statement: testService.createAccount(account);\r\nmust fail as per my understanding. \r\n\r\nKindly correct me if I am wrong. I am relatively new to Junit. \r\n\r\nHowever if I place the implementation for checkAccountTypeForCustomer() inside the service method instead of in the helper, the test case fails as expected. \r\n\r\n","title":"Junit Test Pass even when the method called inside may fail","body":"<p>I am creating a Junit Unit Test to check the createAccount method in service that calls Service a helper method. Please find it below.</p>\n<p><strong>Service class</strong></p>\n<pre><code>public class AccountServiceImpl {\n@Autowired\nAccountHelper accountHelper;\n\n@Override\npublic Account createAccount(Account account) throws CustomerNotFoundException {\n    accountHelper.checkAccountTypeForCustomer(account);\n        return accountRepository.save(account);\n}\n}\n</code></pre>\n<p><strong>Helper Class:</strong></p>\n<pre><code>public void checkAccountTypeForCustomer(Account acc) throws CustomerNotFoundException {\n    Boolean customerExists = customerRepository.existsById(acc.getCustomerId());\n    if(!customerExists) {\n        throw new CustomerNotFoundException(&quot;604&quot;, Message.CUSTOMER_NOT_FOUND);\n    }   \n}\n</code></pre>\n<p><strong>AccountServiceTest class</strong></p>\n<p>@ExtendWith(MockitoExtension.class)\npublic class AccountServiceTest {</p>\n<pre><code>@Mock\nprivate AccountRepository accountRepository;\n\n@Mock\nprivate CustomerRepository customerRepository;\n\n@Mock\nprivate AccountHelper accountHelper;\n\n@InjectMocks \nprivate AccountService testService;\n\n @Test\n void testCreateAccount() throws CustomerNotFoundException {\n      Account account = Account.builder().\n        accountType(AccountType.SAVINGS).\n        openingBalance(BigDecimal.valueOf(3000)).\n        ifsc(&quot;IFSC1&quot;).\n        customerId(1).\n        build();\n testService.createAccount(account);\n</code></pre>\n<p>}\n}</p>\n<p>Above Test is passing although the customer is not present in the database.\nThe test is incomplete. But still the statement: testService.createAccount(account);\nmust fail as per my understanding.</p>\n<p>Kindly correct me if I am wrong. I am relatively new to Junit.</p>\n<p>However if I place the implementation for checkAccountTypeForCustomer() inside the service method instead of in the helper, the test case fails as expected.</p>\n"},{"tags":["java","android","hdmi-cec"],"owner":{"account_id":27625952,"reputation":1,"user_id":21085947,"display_name":"Pepito Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674730089,"creation_date":1674729796,"question_id":75245027,"body_markdown":"In my company, we would like to develop a digital signage app on android TV. We would like to include some features like turning on/off the monitor, or control audio volume.\r\n\r\nI don&#39;t know how to enable this in java. I saw that there is a system api HdmiControlManager but i suppose i can&#39;t use this easily ?\r\n\r\nI&#39;ve tried to send the command &quot;input keyevent&quot; that works with adb to turn off the monitor, but it didn&#39;t work in java. It makes the app crash.\r\n\r\n```\r\n\r\n         Process p = Runtime.getRuntime().exec(&quot;input keyevent 26&quot;);\r\n         p.waitFor();\r\n\r\n```\r\n\r\n\r\n\r\nIs there still a way to control the monitor from an android Tv box with an app ?\r\n\r\nFor testing purpose i have a nvidia shield with android 11 but it would be great to have this working on other devices if the user grants the right permissions of course.\r\n\r\nThanks","title":"How to allow a java app on an android device to send HDMI-CEC command?","body":"<p>In my company, we would like to develop a digital signage app on android TV. We would like to include some features like turning on/off the monitor, or control audio volume.</p>\n<p>I don't know how to enable this in java. I saw that there is a system api HdmiControlManager but i suppose i can't use this easily ?</p>\n<p>I've tried to send the command &quot;input keyevent&quot; that works with adb to turn off the monitor, but it didn't work in java. It makes the app crash.</p>\n<pre><code>\n         Process p = Runtime.getRuntime().exec(&quot;input keyevent 26&quot;);\n         p.waitFor();\n\n</code></pre>\n<p>Is there still a way to control the monitor from an android Tv box with an app ?</p>\n<p>For testing purpose i have a nvidia shield with android 11 but it would be great to have this working on other devices if the user grants the right permissions of course.</p>\n<p>Thanks</p>\n"},{"tags":["java","lucene"],"owner":{"account_id":10533812,"reputation":53,"user_id":7762344,"display_name":"beub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674729927,"creation_date":1674662043,"question_id":75236515,"body_markdown":"On Lucene 9.0.0 the write.lock file is not deleted after closing the writer. In older versions of Lucene (8 and older) the same methods of the IndexWriter class (org.apache.lucene.index) were executed in the following order:\r\n\r\n    IndexWriter#commit\r\n    IndexWriter#deleteUnusedFiles\r\n    IndexWriter#commit\r\n    IndexWriter#forceMerge with option true\r\n    IndexWriter#close\r\n    Set IndexWriter variable to null: writer=null\r\n\r\nAfter closing and opening the Lucene Index it can be edited although the write.lock file is there. The edit date of the file remains the same, so it is not deleted or created again.\r\n\r\nIn the change log of Lucene 9.0.0 I did not find any changes regarding to write.lock in https://lucene.apache.org/core/9_0_0/changes/Changes.html .\r\n\r\nAnother issue: Also updating Lucene Index files from Lucene 8 to 9 the write.lock file remains in each folder. For the update the Lucene Java classes are used. In older versions the write.lock files were deleted in each folder after the update happened.","title":"On Lucene 9.0.0 the write.lock file is not deleted after close","body":"<p>On Lucene 9.0.0 the write.lock file is not deleted after closing the writer. In older versions of Lucene (8 and older) the same methods of the IndexWriter class (org.apache.lucene.index) were executed in the following order:</p>\n<pre><code>IndexWriter#commit\nIndexWriter#deleteUnusedFiles\nIndexWriter#commit\nIndexWriter#forceMerge with option true\nIndexWriter#close\nSet IndexWriter variable to null: writer=null\n</code></pre>\n<p>After closing and opening the Lucene Index it can be edited although the write.lock file is there. The edit date of the file remains the same, so it is not deleted or created again.</p>\n<p>In the change log of Lucene 9.0.0 I did not find any changes regarding to write.lock in <a href=\"https://lucene.apache.org/core/9_0_0/changes/Changes.html\" rel=\"nofollow noreferrer\">https://lucene.apache.org/core/9_0_0/changes/Changes.html</a> .</p>\n<p>Another issue: Also updating Lucene Index files from Lucene 8 to 9 the write.lock file remains in each folder. For the update the Lucene Java classes are used. In older versions the write.lock files were deleted in each folder after the update happened.</p>\n"},{"tags":["java","json","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":17697545,"reputation":1,"user_id":12847919,"display_name":"Pvp Jerry"},"score":0,"creation_date":1674563743,"post_id":44271612,"comment_id":132736384,"body_markdown":"You can use the below answer - https://stackoverflow.com/a/75220469/12847919","body":"You can use the below answer - <a href=\"https://stackoverflow.com/a/75220469/12847919\">stackoverflow.com/a/75220469/12847919</a>"},{"owner":{"account_id":17697545,"reputation":1,"user_id":12847919,"display_name":"Pvp Jerry"},"score":0,"creation_date":1674563872,"post_id":44271612,"comment_id":132736412,"body_markdown":"A similar question and answer --\nhttps://stackoverflow.com/a/75220469/12847919","body":"A similar question and answer -- <a href=\"https://stackoverflow.com/a/75220469/12847919\">stackoverflow.com/a/75220469/12847919</a>"}],"answers":[{"comments":[{"owner":{"account_id":9919416,"reputation":369,"user_id":7343117,"accept_rate":83,"display_name":"vi_ral"},"score":4,"creation_date":1574091808,"post_id":44283055,"comment_id":104097763,"body_markdown":"can you provide a solution like this in pyspark? Thanks","body":"can you provide a solution like this in pyspark? Thanks"},{"owner":{"account_id":13855714,"reputation":144,"user_id":10002593,"display_name":"decoder247"},"score":0,"creation_date":1662825684,"post_id":44283055,"comment_id":130097978,"body_markdown":"@vi_ral Pyspark solutions shown in bloodrotfc&#39;s or lzw&#39;s post. Also see here https://stackoverflow.com/a/73673241/10002593.","body":"@vi_ral Pyspark solutions shown in bloodrotfc&#39;s or lzw&#39;s post. Also see here <a href=\"https://stackoverflow.com/a/73673241/10002593\">stackoverflow.com/a/73673241/10002593</a>."}],"tags":[],"owner":{"account_id":5218800,"reputation":1189,"user_id":4172863,"accept_rate":75,"display_name":"m-bhole"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1496228650,"creation_date":1496228650,"answer_id":44283055,"question_id":44271612,"body_markdown":"Apparently, spark does not provide any option to handle nulls. So following custom solution should work.\r\n\r\n    import com.fasterxml.jackson.module.scala.DefaultScalaModule\r\n    import com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper\r\n    import com.fasterxml.jackson.databind.ObjectMapper\r\n    \r\n    case class EventHeader(accept_language:String,app_id:String,app_name:String,client_ip_address:String,event_id: String,event_timestamp:String,offering_id:String,server_ip_address:String,server_timestamp:Long,topic_name:String,version:String)\r\n    \r\n    val ds = Seq(EventHeader(null,&quot;App_ID&quot;,null,&quot;IP&quot;,&quot;ID&quot;,null,&quot;Offering&quot;,&quot;IP&quot;,1492565987565L,&quot;Topic&quot;,&quot;1.0&quot;)).toDS()\r\n    \r\n    val ds1 = ds.mapPartitions(records =&gt; {\r\n    val mapper = new ObjectMapper with ScalaObjectMapper\r\n    mapper.registerModule(DefaultScalaModule)\r\n    records.map(mapper.writeValueAsString(_))\r\n    })\r\n    \r\n    ds1.coalesce(1).write.text(&quot;hdfs://localhost:9000/user/dedupe_employee&quot;)\r\n\r\nThis will produce output as :\r\n\r\n    {&quot;accept_language&quot;:null,&quot;app_id&quot;:&quot;App_ID&quot;,&quot;app_name&quot;:null,&quot;client_ip_address&quot;:&quot;IP&quot;,&quot;event_id&quot;:&quot;ID&quot;,&quot;event_timestamp&quot;:null,&quot;offering_id&quot;:&quot;Offering&quot;,&quot;server_ip_address&quot;:&quot;IP&quot;,&quot;server_timestamp&quot;:1492565987565,&quot;topic_name&quot;:&quot;Topic&quot;,&quot;version&quot;:&quot;1.0&quot;}","title":"Retain keys with null values while writing JSON in spark","body":"<p>Apparently, spark does not provide any option to handle nulls. So following custom solution should work.</p>\n\n<pre><code>import com.fasterxml.jackson.module.scala.DefaultScalaModule\nimport com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper\nimport com.fasterxml.jackson.databind.ObjectMapper\n\ncase class EventHeader(accept_language:String,app_id:String,app_name:String,client_ip_address:String,event_id: String,event_timestamp:String,offering_id:String,server_ip_address:String,server_timestamp:Long,topic_name:String,version:String)\n\nval ds = Seq(EventHeader(null,\"App_ID\",null,\"IP\",\"ID\",null,\"Offering\",\"IP\",1492565987565L,\"Topic\",\"1.0\")).toDS()\n\nval ds1 = ds.mapPartitions(records =&gt; {\nval mapper = new ObjectMapper with ScalaObjectMapper\nmapper.registerModule(DefaultScalaModule)\nrecords.map(mapper.writeValueAsString(_))\n})\n\nds1.coalesce(1).write.text(\"hdfs://localhost:9000/user/dedupe_employee\")\n</code></pre>\n\n<p>This will produce output as :</p>\n\n<pre><code>{\"accept_language\":null,\"app_id\":\"App_ID\",\"app_name\":null,\"client_ip_address\":\"IP\",\"event_id\":\"ID\",\"event_timestamp\":null,\"offering_id\":\"Offering\",\"server_ip_address\":\"IP\",\"server_timestamp\":1492565987565,\"topic_name\":\"Topic\",\"version\":\"1.0\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1104078,"reputation":4732,"user_id":1095863,"accept_rate":64,"display_name":"mani_nz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1602602266,"creation_date":1602602266,"answer_id":64338086,"question_id":44271612,"body_markdown":"If you are on Spark 3, you can add\r\n\r\n    spark.sql.jsonGenerator.ignoreNullFields false","title":"Retain keys with null values while writing JSON in spark","body":"<p>If you are on Spark 3, you can add</p>\n<pre><code>spark.sql.jsonGenerator.ignoreNullFields false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341129,"reputation":1,"user_id":6266415,"display_name":"lzw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626956490,"creation_date":1626956490,"answer_id":68484762,"question_id":44271612,"body_markdown":"[`ignoreNullFields`](https://github.com/apache/spark/pull/26227) is an option to set when you want DataFrame converted to json file since Spark 3.\r\n\r\nIf you need Spark 2 (specifically PySpark 2.4.6), you can try converting DataFrame to rdd with Python dict format. And then call `pyspark.rdd.saveTextFile` to output json file to hdfs. The following example may help.\r\n\r\n    cols = ddp.columns\r\n    ddp_ = ddp.rdd\r\n    ddp_ = ddp_.map(lambda row: dict([(c, row[c]) for c in cols])\r\n    ddp_ = ddp.repartition(1).saveAsTextFile(your_hdfs_file_path)\r\n    \r\nThis should produce output file like,\r\n\r\n    {&quot;accept_language&quot;: None, &quot;app_id&quot;:&quot;123&quot;, ...}\r\n    {&quot;accept_language&quot;: None, &quot;app_id&quot;:&quot;456&quot;, ...}\r\n\r\nWhat&#39;s more, if you want to replace Python `None` with JSON `null`, you will need to dump every dict into json.\r\n\r\n    ddp_ = ddp_.map(lambda row: json.dumps(row, ensure.ascii=False))\r\n\r\n","title":"Retain keys with null values while writing JSON in spark","body":"<p><a href=\"https://github.com/apache/spark/pull/26227\" rel=\"nofollow noreferrer\"><code>ignoreNullFields</code></a> is an option to set when you want DataFrame converted to json file since Spark 3.</p>\n<p>If you need Spark 2 (specifically PySpark 2.4.6), you can try converting DataFrame to rdd with Python dict format. And then call <code>pyspark.rdd.saveTextFile</code> to output json file to hdfs. The following example may help.</p>\n<pre><code>cols = ddp.columns\nddp_ = ddp.rdd\nddp_ = ddp_.map(lambda row: dict([(c, row[c]) for c in cols])\nddp_ = ddp.repartition(1).saveAsTextFile(your_hdfs_file_path)\n</code></pre>\n<p>This should produce output file like,</p>\n<pre><code>{&quot;accept_language&quot;: None, &quot;app_id&quot;:&quot;123&quot;, ...}\n{&quot;accept_language&quot;: None, &quot;app_id&quot;:&quot;456&quot;, ...}\n</code></pre>\n<p>What's more, if you want to replace Python <code>None</code> with JSON <code>null</code>, you will need to dump every dict into json.</p>\n<pre><code>ddp_ = ddp_.map(lambda row: json.dumps(row, ensure.ascii=False))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6680443,"reputation":1133,"user_id":5153834,"display_name":"bloodrootfc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633357401,"creation_date":1633357401,"answer_id":69437642,"question_id":44271612,"body_markdown":"Since Spark 3, and if you are using the class DataFrameWriter \r\n\r\nhttps://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/DataFrameWriter.html#json-java.lang.String-\r\n\r\n(same applies for pyspark)\r\n\r\nhttps://spark.apache.org/docs/3.0.0-preview/api/python/_modules/pyspark/sql/readwriter.html\r\n\r\nits json method has an option ignoreNullFields=None \r\n\r\nwhere None means True. \r\n\r\nSo just set this option to false.\r\n\r\n    ddp.coalesce(20).write().mode(&quot;overwrite&quot;).option(&quot;ignoreNullFields&quot;, &quot;false&quot;).json(&quot;hdfs://localhost:9000/user/dedupe_employee&quot;)","title":"Retain keys with null values while writing JSON in spark","body":"<p>Since Spark 3, and if you are using the class DataFrameWriter</p>\n<p><a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/DataFrameWriter.html#json-java.lang.String-\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/DataFrameWriter.html#json-java.lang.String-</a></p>\n<p>(same applies for pyspark)</p>\n<p><a href=\"https://spark.apache.org/docs/3.0.0-preview/api/python/_modules/pyspark/sql/readwriter.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.0.0-preview/api/python/_modules/pyspark/sql/readwriter.html</a></p>\n<p>its json method has an option ignoreNullFields=None</p>\n<p>where None means True.</p>\n<p>So just set this option to false.</p>\n<pre><code>ddp.coalesce(20).write().mode(&quot;overwrite&quot;).option(&quot;ignoreNullFields&quot;, &quot;false&quot;).json(&quot;hdfs://localhost:9000/user/dedupe_employee&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7461734,"reputation":825,"user_id":5672927,"accept_rate":80,"display_name":"Mcmil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674729817,"creation_date":1674729817,"answer_id":75245036,"question_id":44271612,"body_markdown":"To retain null values converting to JSON please set this config option.\r\n\r\n    spark = ( \r\n       SparkSession.builder.master(&quot;local[1]&quot;)\r\n       .config(&quot;spark.sql.jsonGenerator.ignoreNullFields&quot;, &quot;false&quot;)\r\n    ).getOrCreate()\r\n\r\n","title":"Retain keys with null values while writing JSON in spark","body":"<p>To retain null values converting to JSON please set this config option.</p>\n<pre><code>spark = ( \n   SparkSession.builder.master(&quot;local[1]&quot;)\n   .config(&quot;spark.sql.jsonGenerator.ignoreNullFields&quot;, &quot;false&quot;)\n).getOrCreate()\n</code></pre>\n"}],"owner":{"account_id":87132,"reputation":5775,"user_id":241821,"accept_rate":81,"display_name":"Vaishak Suresh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15115,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":5,"score":18,"last_activity_date":1674729817,"creation_date":1496177089,"question_id":44271612,"body_markdown":"I am trying to write a JSON file using spark. There are some keys that have `null` as value. These show up just fine in the `DataSet`, but when I write the file, the keys get dropped. How do I ensure they are retained?\r\n\r\ncode to write the file:\r\n\r\n    ddp.coalesce(20).write().mode(&quot;overwrite&quot;).json(&quot;hdfs://localhost:9000/user/dedupe_employee&quot;);\r\n\r\npart of JSON data from source:\r\n\r\n    &quot;event_header&quot;: {\r\n            &quot;accept_language&quot;: null,\r\n            &quot;app_id&quot;: &quot;App_ID&quot;,\r\n            &quot;app_name&quot;: null,\r\n            &quot;client_ip_address&quot;: &quot;IP&quot;,\r\n            &quot;event_id&quot;: &quot;ID&quot;,\r\n            &quot;event_timestamp&quot;: null,\r\n            &quot;offering_id&quot;: &quot;Offering&quot;,\r\n            &quot;server_ip_address&quot;: &quot;IP&quot;,\r\n            &quot;server_timestamp&quot;: 1492565987565,\r\n            &quot;topic_name&quot;: &quot;Topic&quot;,\r\n            &quot;version&quot;: &quot;1.0&quot;\r\n        }\r\n\r\nOutput:\r\n \r\n\r\n    &quot;event_header&quot;: {\r\n            &quot;app_id&quot;: &quot;App_ID&quot;,\r\n            &quot;client_ip_address&quot;: &quot;IP&quot;,\r\n            &quot;event_id&quot;: &quot;ID&quot;,\r\n            &quot;offering_id&quot;: &quot;Offering&quot;,\r\n            &quot;server_ip_address&quot;: &quot;IP&quot;,\r\n            &quot;server_timestamp&quot;: 1492565987565,\r\n            &quot;topic_name&quot;: &quot;Topic&quot;,\r\n            &quot;version&quot;: &quot;1.0&quot;\r\n        }\r\n\r\nIn the above example keys `accept_language`, `app_name` and `event_timestamp` have been dropped.","title":"Retain keys with null values while writing JSON in spark","body":"<p>I am trying to write a JSON file using spark. There are some keys that have <code>null</code> as value. These show up just fine in the <code>DataSet</code>, but when I write the file, the keys get dropped. How do I ensure they are retained?</p>\n\n<p>code to write the file:</p>\n\n<pre><code>ddp.coalesce(20).write().mode(\"overwrite\").json(\"hdfs://localhost:9000/user/dedupe_employee\");\n</code></pre>\n\n<p>part of JSON data from source:</p>\n\n<pre><code>\"event_header\": {\n        \"accept_language\": null,\n        \"app_id\": \"App_ID\",\n        \"app_name\": null,\n        \"client_ip_address\": \"IP\",\n        \"event_id\": \"ID\",\n        \"event_timestamp\": null,\n        \"offering_id\": \"Offering\",\n        \"server_ip_address\": \"IP\",\n        \"server_timestamp\": 1492565987565,\n        \"topic_name\": \"Topic\",\n        \"version\": \"1.0\"\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"event_header\": {\n        \"app_id\": \"App_ID\",\n        \"client_ip_address\": \"IP\",\n        \"event_id\": \"ID\",\n        \"offering_id\": \"Offering\",\n        \"server_ip_address\": \"IP\",\n        \"server_timestamp\": 1492565987565,\n        \"topic_name\": \"Topic\",\n        \"version\": \"1.0\"\n    }\n</code></pre>\n\n<p>In the above example keys <code>accept_language</code>, <code>app_name</code> and <code>event_timestamp</code> have been dropped.</p>\n"},{"tags":["java","function","generics"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1674729296,"post_id":75244922,"comment_id":132777688,"body_markdown":"You could try `Function&lt;Void, R&gt;` - so only `null` can be passed.","body":"You could try <code>Function&lt;Void, R&gt;</code> - so only <code>null</code> can be passed."},{"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"score":0,"creation_date":1674729345,"post_id":75244922,"comment_id":132777712,"body_markdown":"Is Void a viable parameter? I thought it only implies &quot;no return type&quot; (Function -&gt; Consumer)","body":"Is Void a viable parameter? I thought it only implies &quot;no return type&quot; (Function -&gt; Consumer)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1674729399,"post_id":75244922,"comment_id":132777727,"body_markdown":"`void` yes, but `Void` as a type can be used in such situations.","body":"<code>void</code> yes, but <code>Void</code> as a type can be used in such situations."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674729762,"post_id":75244922,"comment_id":132777831,"body_markdown":"Sure, added the answer :)","body":"Sure, added the answer :)"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674729465,"creation_date":1674729465,"answer_id":75244978,"question_id":75244922,"body_markdown":"Use [java.lang.Void][1]\r\n\r\n&gt; The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void.\r\n\r\nIt can&#39;t be instantiated, so only `null` can be passed as parameter.\r\n```\r\nclass SomeClass implement Function&lt;Void, YourResultClass&gt; {\r\n  //implement apply\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html","title":"Use Function as Supplier","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html\" rel=\"nofollow noreferrer\">java.lang.Void</a></p>\n<blockquote>\n<p>The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void.</p>\n</blockquote>\n<p>It can't be instantiated, so only <code>null</code> can be passed as parameter.</p>\n<pre><code>class SomeClass implement Function&lt;Void, YourResultClass&gt; {\n  //implement apply\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674729734,"creation_date":1674729734,"answer_id":75245018,"question_id":75244922,"body_markdown":"To convey the notion that some variable, return type, parameter etc. can only be `null` the type `Void` can be used - there&#39;s only one valid value for this: `null`.\r\n\r\nSo in your case you could use `Function&lt;Void, R&gt;` to indicate `apply(null)` will always be called, so the function needs to be mapped to a supplier of sorts.\r\nIn general you&#39;d want to use `Supplier&lt;R&gt;` instead but in cases where `Function` is required this could be an option.\r\n\r\nThe same would be true for consumers that would need to be represented as functions: use `Function&lt;T, Void&gt;` in those cases and return `null`.","title":"Use Function as Supplier","body":"<p>To convey the notion that some variable, return type, parameter etc. can only be <code>null</code> the type <code>Void</code> can be used - there's only one valid value for this: <code>null</code>.</p>\n<p>So in your case you could use <code>Function&lt;Void, R&gt;</code> to indicate <code>apply(null)</code> will always be called, so the function needs to be mapped to a supplier of sorts.\nIn general you'd want to use <code>Supplier&lt;R&gt;</code> instead but in cases where <code>Function</code> is required this could be an option.</p>\n<p>The same would be true for consumers that would need to be represented as functions: use <code>Function&lt;T, Void&gt;</code> in those cases and return <code>null</code>.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75245018,"answer_count":2,"score":1,"last_activity_date":1674729734,"creation_date":1674729169,"question_id":75244922,"body_markdown":"Because of inheritance, a leaf-class has to have a `Function&lt;T, R&gt;` which it uses as a `Supplier&lt;R&gt;`. (Ignore the passed parameter)\r\n\r\nWhat is the best way to convey that the generic parameter type is not used and that null should get passed?","title":"Use Function as Supplier","body":"<p>Because of inheritance, a leaf-class has to have a <code>Function&lt;T, R&gt;</code> which it uses as a <code>Supplier&lt;R&gt;</code>. (Ignore the passed parameter)</p>\n<p>What is the best way to convey that the generic parameter type is not used and that null should get passed?</p>\n"},{"tags":["java","generics","interface","compiler-errors"],"comments":[{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":0,"creation_date":1473332780,"post_id":39389240,"comment_id":66104772,"body_markdown":"Can you show the declaration of `FooMapper`?","body":"Can you show the declaration of <code>FooMapper</code>?"},{"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"score":0,"creation_date":1473332878,"post_id":39389240,"comment_id":66104833,"body_markdown":"Updated the class declaration for you","body":"Updated the class declaration for you"}],"answers":[{"tags":[],"owner":{"account_id":9116459,"reputation":842,"user_id":6783451,"display_name":"Jose Ignacio Acin Pozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1473332820,"creation_date":1473332820,"answer_id":39389316,"question_id":39389240,"body_markdown":"You need to explicitely implement `DtoMapper&lt;Bar&gt;` instead of `DtoMapper`.\r\n\r\nExample:\r\n\r\n    public interface DtoMapper&lt;T&gt; {\r\n\r\n        /**\r\n        * Converts list of T into FooResponse\r\n        * @param List of T\r\n        * @return FooResponse\r\n        */\r\n        FooResponse convertToFooResponse(final List&lt;T&gt; rewards);\r\n    }\r\n\r\n    public class FooMapperImplementation implements DtoMapper&lt;Bar&gt; {\r\n        @Override\r\n        public FooResponse convertToFooResponse(List&lt;Bar&gt; rewards) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Java Generic interface with List&lt;T&gt; not accepting object type","body":"<p>You need to explicitely implement <code>DtoMapper&lt;Bar&gt;</code> instead of <code>DtoMapper</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>public interface DtoMapper&lt;T&gt; {\n\n    /**\n    * Converts list of T into FooResponse\n    * @param List of T\n    * @return FooResponse\n    */\n    FooResponse convertToFooResponse(final List&lt;T&gt; rewards);\n}\n\npublic class FooMapperImplementation implements DtoMapper&lt;Bar&gt; {\n    @Override\n    public FooResponse convertToFooResponse(List&lt;Bar&gt; rewards) {\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9116459,"reputation":842,"user_id":6783451,"display_name":"Jose Ignacio Acin Pozo"},"score":0,"creation_date":1473333603,"post_id":39389344,"comment_id":66105243,"body_markdown":"This answer is not adding anything new not provided in http://stackoverflow.com/a/39389316/6783451 which was posted before yours.","body":"This answer is not adding anything new not provided in <a href=\"http://stackoverflow.com/a/39389316/6783451\">stackoverflow.com/a/39389316/6783451</a> which was posted before yours."},{"owner":{"account_id":7673162,"reputation":1268,"user_id":5814755,"accept_rate":100,"display_name":"Michaela Elschner"},"score":1,"creation_date":1473337612,"post_id":39389344,"comment_id":66107798,"body_markdown":"If think @JoseIgnacioAcinPozo is right. And he also added more information.","body":"If think @JoseIgnacioAcinPozo is right. And he also added more information."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1473332918,"creation_date":1473332918,"answer_id":39389344,"question_id":39389240,"body_markdown":"You need to pass the generic specification when implementing the class:\r\n\r\n    public final class FooMapper implements DtoMapper&lt;Bar&gt; {\r\n    // Here -----------------------------------------^\r\n\r\n        @Override\r\n        FooResponse convertToFooResponse(final List&lt;Bar&gt; listOfBars) {\r\n            ... Logic\r\n        }\r\n\r\n","title":"Java Generic interface with List&lt;T&gt; not accepting object type","body":"<p>You need to pass the generic specification when implementing the class:</p>\n\n<pre><code>public final class FooMapper implements DtoMapper&lt;Bar&gt; {\n// Here -----------------------------------------^\n\n    @Override\n    FooResponse convertToFooResponse(final List&lt;Bar&gt; listOfBars) {\n        ... Logic\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2633442,"reputation":1050,"user_id":2278773,"accept_rate":75,"display_name":"Ady Junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473333208,"creation_date":1473333208,"answer_id":39389436,"question_id":39389240,"body_markdown":"You forgot the parameterized type\t\r\n\r\n    class FooResponse{}\r\n\tclass First{}\r\n\tclass Second{}\r\n\t\r\n\tpublic interface DtoMapper&lt;T&gt; {\r\n\t\tFooResponse convertToFooResponse(final List&lt;T&gt; rewards);\t\r\n\t}\r\n\t\r\n\tclass FirstMapper implements DtoMapper&lt;First&gt; {\r\n\t\t@Override\r\n\t\tpublic FooResponse convertToFooResponse(List&lt;First&gt; list) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass SecondMapper implements DtoMapper&lt;Second&gt; {\r\n\t\t@Override\r\n\t\tpublic FooResponse convertToFooResponse(List&lt;Second&gt; list) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n","title":"Java Generic interface with List&lt;T&gt; not accepting object type","body":"<p>You forgot the parameterized type   </p>\n\n<pre><code>class FooResponse{}\nclass First{}\nclass Second{}\n\npublic interface DtoMapper&lt;T&gt; {\n    FooResponse convertToFooResponse(final List&lt;T&gt; rewards);    \n}\n\nclass FirstMapper implements DtoMapper&lt;First&gt; {\n    @Override\n    public FooResponse convertToFooResponse(List&lt;First&gt; list) {\n        return null;\n    }\n}\n\nclass SecondMapper implements DtoMapper&lt;Second&gt; {\n    @Override\n    public FooResponse convertToFooResponse(List&lt;Second&gt; list) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3056798,"reputation":867,"user_id":2590227,"accept_rate":56,"display_name":"engtuncay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674729389,"creation_date":1674713508,"answer_id":75242743,"question_id":39389240,"body_markdown":"Before calling the method, you can create a new list with interface type.\r\n\r\n    List&lt;InterfaceType&gt; listWithInterfaceType = new ArrayList&lt;&gt;(listWithObjectType);","title":"Java Generic interface with List&lt;T&gt; not accepting object type","body":"<p>Before calling the method, you can create a new list with interface type.</p>\n<pre><code>List&lt;InterfaceType&gt; listWithInterfaceType = new ArrayList&lt;&gt;(listWithObjectType);\n</code></pre>\n"}],"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39389316,"answer_count":4,"score":0,"last_activity_date":1674729389,"creation_date":1473332573,"question_id":39389240,"body_markdown":"I am trying to implement a system as follows:\r\n\r\n`DtoMapper`: This is an interface which defines a contract any third party mappers should return objects as\r\n\r\n        public interface DtoMapper&lt;T&gt; {\r\n    \r\n        /**\r\n         * Converts list of T into FooResponse\r\n         * @param List of T\r\n         * @return FooResponse\r\n         */\r\n        FooResponse convertToFooResponse(final List&lt;T&gt; rewards);\r\n    \r\n    \r\n`FooMapper`: implements `DtoMapper` passing a List of `Bar` as method argument, however the compiler does not like my override of the method implementation and is wanting the second implementation (bottom).\r\n\r\n    public final class FooMapper implements DtoMapper {\r\n    \r\n    \r\n        @Override\r\n        FooResponse convertToFooResponse(final List&lt;Bar&gt; listOfBars) {\r\n            ... Logic\r\n        }\r\n        \r\n         @Override\r\n        public convertToFooResponse(final List listOfBars) {\r\n            ... I dont want this\r\n        }\r\n\r\nHow can I make my interface work with this requirement, so that in future another implementation of say `public convertToFooResponse(final list&lt;Snafu&gt; listOfSnafus);` ?\r\n\r\n\r\n","title":"Java Generic interface with List&lt;T&gt; not accepting object type","body":"<p>I am trying to implement a system as follows:</p>\n\n<p><code>DtoMapper</code>: This is an interface which defines a contract any third party mappers should return objects as</p>\n\n<pre><code>    public interface DtoMapper&lt;T&gt; {\n\n    /**\n     * Converts list of T into FooResponse\n     * @param List of T\n     * @return FooResponse\n     */\n    FooResponse convertToFooResponse(final List&lt;T&gt; rewards);\n</code></pre>\n\n<p><code>FooMapper</code>: implements <code>DtoMapper</code> passing a List of <code>Bar</code> as method argument, however the compiler does not like my override of the method implementation and is wanting the second implementation (bottom).</p>\n\n<pre><code>public final class FooMapper implements DtoMapper {\n\n\n    @Override\n    FooResponse convertToFooResponse(final List&lt;Bar&gt; listOfBars) {\n        ... Logic\n    }\n\n     @Override\n    public convertToFooResponse(final List listOfBars) {\n        ... I dont want this\n    }\n</code></pre>\n\n<p>How can I make my interface work with this requirement, so that in future another implementation of say <code>public convertToFooResponse(final list&lt;Snafu&gt; listOfSnafus);</code> ?</p>\n"},{"tags":["java","arraylist","synchronized","concurrentmodificationexception","synchronizedcollection"],"comments":[{"owner":{"account_id":7245395,"reputation":584,"user_id":5527475,"display_name":"Shawn Wong"},"score":0,"creation_date":1674707265,"post_id":75242242,"comment_id":132773143,"body_markdown":"Even though I fixed this issue by using CopyOnWriteArrayList, but I still wonder why. This is rather easy to reproduce.","body":"Even though I fixed this issue by using CopyOnWriteArrayList, but I still wonder why. This is rather easy to reproduce."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674729236,"creation_date":1674728611,"answer_id":75244820,"question_id":75242242,"body_markdown":"This is surprising behaviour, and appears to be a JDK bug, still not fixed as of OpenJDK 19.0.2.\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8208779\r\n\r\nThe issue arises because the object returned by `Collections.synchronizedList(new ArrayList&lt;&gt;()` is an instance of `SynchronizedRandomAccessList`. This class implements a `writeReplace` method that substitutes an instance of `SynchronizedList` before writing, for backward compatibility reasons. Then, it is the `writeObject` method in the substituted list that is called to produce the serialised data. Unfortunately, the mutex used in this substituted list is different than the one used in the original list, so the lock held during `writeObject` is different than the one held during `add`. This is why concurrent modification is possible.\r\n\r\nAs a workaround, you can explicitly synchronize the `writeObject` call on the list:\r\n\r\n    synchronized (list) {\r\n        oos.writeObject(list);\r\n    }\r\n\r\nThis avoids the error.","title":"Failed for SynchronizedCollection while serializing an array list","body":"<p>This is surprising behaviour, and appears to be a JDK bug, still not fixed as of OpenJDK 19.0.2.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8208779\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8208779</a></p>\n<p>The issue arises because the object returned by <code>Collections.synchronizedList(new ArrayList&lt;&gt;()</code> is an instance of <code>SynchronizedRandomAccessList</code>. This class implements a <code>writeReplace</code> method that substitutes an instance of <code>SynchronizedList</code> before writing, for backward compatibility reasons. Then, it is the <code>writeObject</code> method in the substituted list that is called to produce the serialised data. Unfortunately, the mutex used in this substituted list is different than the one used in the original list, so the lock held during <code>writeObject</code> is different than the one held during <code>add</code>. This is why concurrent modification is possible.</p>\n<p>As a workaround, you can explicitly synchronize the <code>writeObject</code> call on the list:</p>\n<pre><code>synchronized (list) {\n    oos.writeObject(list);\n}\n</code></pre>\n<p>This avoids the error.</p>\n"}],"owner":{"account_id":7245395,"reputation":584,"user_id":5527475,"display_name":"Shawn Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244820,"answer_count":1,"score":0,"last_activity_date":1674729236,"creation_date":1674707075,"question_id":75242242,"body_markdown":"Here is the error stack,\r\n\r\n```java\r\njava.util.ConcurrentModificationException\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:766)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:977)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1545)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1481)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1227)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1597)\r\n\tat java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:456)\r\n\tat java.util.Collections$SynchronizedCollection.writeObject(Collections.java:2125) // 1\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:977)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1545)\r\n```\r\n\r\nMy ArrayList is wrapped by SynchronizedCollection. And judged from the error stack that the `writeObject` method of ArrayList is called inside the scope of `SynchronizedCollection.writeObject()` method and the later is synchronized. It seems that other threads changed the ArrayList, even though all actions are wrapped by `synchronized`. So, I wonder why other threads could change the ArrayList?\r\n\r\nThis issue arise from an Android APP. So I write a java program to reproduce this issue,\r\n\r\n```java\r\npublic class MultiThreadSerialTest2 {\r\n\r\n    private static final int TOTAL_TEST_LOOP = 100;\r\n    private static final int TOTAL_THREAD_COUNT = 20;\r\n\r\n    private static volatile int writeTaskNo = 0;\r\n\r\n    private static final List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n    private static final Executor executor = Executors.newFixedThreadPool(TOTAL_THREAD_COUNT);\r\n\r\n    public static void main(String...args) throws IOException {\r\n        for (int i = 0; i &lt; TOTAL_TEST_LOOP; i++) {\r\n            executor.execute(new WriteListTask());\r\n            for (int j=0; j&lt;TOTAL_THREAD_COUNT-1; j++) {\r\n                executor.execute(new ChangeListTask());\r\n            }\r\n        }\r\n    }\r\n\r\n    private static final class ChangeListTask implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            list.add(&quot;hello&quot;);\r\n            System.out.println(&quot;change list job done&quot;);\r\n        }\r\n    }\r\n\r\n    private static final class WriteListTask implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            File file = new File(&quot;temp&quot;);\r\n            OutputStream os = null;\r\n            ObjectOutputStream oos = null;\r\n            try {\r\n                os = new FileOutputStream(file);\r\n                oos = new ObjectOutputStream(os);\r\n                oos.writeObject(list);\r\n                oos.flush();\r\n                os.flush();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    oos.close();\r\n                    os.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            System.out.println(String.format(&quot;write [%d] list job done&quot;, ++writeTaskNo));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the error stacktrace of the sample code,\r\n\r\n```\r\nException in thread &quot;pool-1-thread-88&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList.writeObject(ArrayList.java:901)\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1145)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n\tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n\tat java.base/java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:442)\r\n\tat java.base/java.util.Collections$SynchronizedCollection.writeObject(Collections.java:2086)\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1145)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\r\n\tat me.shouheng.thread.MultiThreadSerialTest2$WriteListTask.run(MultiThreadSerialTest2.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Failed for SynchronizedCollection while serializing an array list","body":"<p>Here is the error stack,</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.ConcurrentModificationException\n    at java.util.ArrayList.writeObject(ArrayList.java:766)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:977)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1545)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1481)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1227)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1597)\n    at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:456)\n    at java.util.Collections$SynchronizedCollection.writeObject(Collections.java:2125) // 1\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:977)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1545)\n</code></pre>\n<p>My ArrayList is wrapped by SynchronizedCollection. And judged from the error stack that the <code>writeObject</code> method of ArrayList is called inside the scope of <code>SynchronizedCollection.writeObject()</code> method and the later is synchronized. It seems that other threads changed the ArrayList, even though all actions are wrapped by <code>synchronized</code>. So, I wonder why other threads could change the ArrayList?</p>\n<p>This issue arise from an Android APP. So I write a java program to reproduce this issue,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiThreadSerialTest2 {\n\n    private static final int TOTAL_TEST_LOOP = 100;\n    private static final int TOTAL_THREAD_COUNT = 20;\n\n    private static volatile int writeTaskNo = 0;\n\n    private static final List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n    private static final Executor executor = Executors.newFixedThreadPool(TOTAL_THREAD_COUNT);\n\n    public static void main(String...args) throws IOException {\n        for (int i = 0; i &lt; TOTAL_TEST_LOOP; i++) {\n            executor.execute(new WriteListTask());\n            for (int j=0; j&lt;TOTAL_THREAD_COUNT-1; j++) {\n                executor.execute(new ChangeListTask());\n            }\n        }\n    }\n\n    private static final class ChangeListTask implements Runnable {\n\n        @Override\n        public void run() {\n            list.add(&quot;hello&quot;);\n            System.out.println(&quot;change list job done&quot;);\n        }\n    }\n\n    private static final class WriteListTask implements Runnable {\n\n        @Override\n        public void run() {\n            File file = new File(&quot;temp&quot;);\n            OutputStream os = null;\n            ObjectOutputStream oos = null;\n            try {\n                os = new FileOutputStream(file);\n                oos = new ObjectOutputStream(os);\n                oos.writeObject(list);\n                oos.flush();\n                os.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    oos.close();\n                    os.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            System.out.println(String.format(&quot;write [%d] list job done&quot;, ++writeTaskNo));\n        }\n    }\n}\n</code></pre>\n<p>Here is the error stacktrace of the sample code,</p>\n<pre><code>Exception in thread &quot;pool-1-thread-88&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList.writeObject(ArrayList.java:901)\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1145)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:442)\n    at java.base/java.util.Collections$SynchronizedCollection.writeObject(Collections.java:2086)\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1145)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\n    at me.shouheng.thread.MultiThreadSerialTest2$WriteListTask.run(MultiThreadSerialTest2.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1656969111,"post_id":72861373,"comment_id":128694472,"body_markdown":"Does this answer your question? [How to access a value defined in the application.properties file in Spring Boot](https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\">How to access a value defined in the application.properties file in Spring Boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657005693,"creation_date":1657005693,"answer_id":72865438,"question_id":72861373,"body_markdown":"you can used Properties:\r\n\r\npackage java.util.Properties\r\n\r\n    Properties springProperties = new Properties();\r\n    springProperties.getProperty(&quot;spring.datasource.url&quot;);\r\n    \r\nlearn more =&gt; https://www.javatpoint.com/properties-class-in-java\r\n","title":"How to find &quot;spring.datasource.url=&quot; for application.properties?","body":"<p>you can used Properties:</p>\n<p>package java.util.Properties</p>\n<pre><code>Properties springProperties = new Properties();\nspringProperties.getProperty(&quot;spring.datasource.url&quot;);\n</code></pre>\n<p>learn more =&gt; <a href=\"https://www.javatpoint.com/properties-class-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/properties-class-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":109199,"reputation":26454,"user_id":289466,"accept_rate":88,"display_name":"S&#233;bastien Le Callonnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674729044,"creation_date":1674729044,"answer_id":75244901,"question_id":72861373,"body_markdown":"Inject `dataSourceProperties`, and use `determineUrl`:\r\n\r\n\r\n```java\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n\r\n...\r\n\r\n\r\n@Autowired\r\nDataSourceProperties dataSourceProperties;\r\n\r\n```\r\n\r\nYou can then call:\r\n\r\n```java\r\nString dbUrl = dataSourceProperties.determineUrl();\r\n```","title":"How to find &quot;spring.datasource.url=&quot; for application.properties?","body":"<p>Inject <code>dataSourceProperties</code>, and use <code>determineUrl</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\n\n...\n\n\n@Autowired\nDataSourceProperties dataSourceProperties;\n\n</code></pre>\n<p>You can then call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dbUrl = dataSourceProperties.determineUrl();\n</code></pre>\n"}],"owner":{"account_id":21091791,"reputation":45,"user_id":15503530,"display_name":"tricks. com"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244901,"answer_count":2,"score":0,"last_activity_date":1674729044,"creation_date":1656963845,"question_id":72861373,"body_markdown":"I am a beginner at developing. \r\n\r\n**How to get&quot;spring.datasource.url=&quot; for application.properties?**\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n**application.properties**\r\n\r\n   \r\n\r\n     spring.datasource.url=jdbc:mysql://localhost:3306/sms?useSSL=fals&amp;serverTimezone=UTC&amp;useLegacyDatetimecode=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123123\r\n    \r\n    #Hibernate\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    #Hibernate auto ddl\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    logging.level.org.hibernate.SQL=DEBUG\r\n\r\nMy Database\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W5YyA.png\r\n  [2]: https://i.stack.imgur.com/7xwuZ.png","title":"How to find &quot;spring.datasource.url=&quot; for application.properties?","body":"<p>I am a beginner at developing.</p>\n<p><strong>How to get&quot;spring.datasource.url=&quot; for application.properties?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/W5YyA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>application.properties</strong></p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost:3306/sms?useSSL=fals&amp;serverTimezone=UTC&amp;useLegacyDatetimecode=false\nspring.datasource.username=root\nspring.datasource.password=123123\n\n#Hibernate\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n\n#Hibernate auto ddl\nspring.jpa.hibernate.ddl-auto=update\n\nlogging.level.org.hibernate.SQL=DEBUG\n</code></pre>\n<p>My Database\n<a href=\"https://i.stack.imgur.com/7xwuZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","javafx","jfreechart","geotools","jfreechart-fx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1669734203,"post_id":74611431,"comment_id":131706897,"body_markdown":"I would recommend using a custom wrapper pane to make the canvas resizable, instead of binding the width and height properties. See https://stackoverflow.com/a/31761362/2189127 for an example. I don&#39;t know the other libraries, so I can&#39;t really tell easily if this will solve the issue.","body":"I would recommend using a custom wrapper pane to make the canvas resizable, instead of binding the width and height properties. See <a href=\"https://stackoverflow.com/a/31761362/2189127\">stackoverflow.com/a/31761362/2189127</a> for an example. I don&#39;t know the other libraries, so I can&#39;t really tell easily if this will solve the issue."},{"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"score":0,"creation_date":1669735711,"post_id":74611431,"comment_id":131707515,"body_markdown":"I used your solution in my main solution and it doesn&#39;t solve the issue. The issue is mainly because of FXGraphics2D and geotool&#39;s StreamingRenderer","body":"I used your solution in my main solution and it doesn&#39;t solve the issue. The issue is mainly because of FXGraphics2D and geotool&#39;s StreamingRenderer"}],"answers":[{"comments":[{"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"score":0,"creation_date":1669727833,"post_id":74613003,"comment_id":131704423,"body_markdown":"My canvas is correctly resized, see lines under // Create bindings for resizing. \nThat does exactly what your link advise to do.\nThat doesn&#39;t solve the rendering issue","body":"My canvas is correctly resized, see lines under // Create bindings for resizing.  That does exactly what your link advise to do. That doesn&#39;t solve the rendering issue"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1669744811,"post_id":74613003,"comment_id":131710911,"body_markdown":"There is more than just that to do but I can&#39;t tell you exactly without running the code. But I don&#39;t have the time for that.","body":"There is more than just that to do but I can&#39;t tell you exactly without running the code. But I don&#39;t have the time for that."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1669744891,"post_id":74613003,"comment_id":131710941,"body_markdown":"[tag:jfreechart-fx] also uses `FXGraphics2D`; you might look at the relation between `ChartViewer` and `ChartCanvas`.","body":"<a href=\"https://stackoverflow.com/questions/tagged/jfreechart-fx\">jfreechart-fx</a> also uses <code>FXGraphics2D</code>; you might look at the relation between <code>ChartViewer</code> and <code>ChartCanvas</code>."}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1669719659,"creation_date":1669719659,"answer_id":74613003,"question_id":74611431,"body_markdown":"Resizing a canvas can be tricky in JavaFX. Here is a SO answer which may be helpful for you.\r\nhttps://stackoverflow.com/questions/31761361/automatically-resize-canvas-to-fill-the-enclosing-parent/53247942#53247942","title":"Problem with resizing a canvas with FXGraphics2D and StreamingRenderer","body":"<p>Resizing a canvas can be tricky in JavaFX. Here is a SO answer which may be helpful for you.\n<a href=\"https://stackoverflow.com/questions/31761361/automatically-resize-canvas-to-fill-the-enclosing-parent/53247942#53247942\">Automatically resize Canvas to fill the enclosing Parent</a></p>\n"},{"tags":[],"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674728978,"creation_date":1674728978,"answer_id":75244889,"question_id":74611431,"body_markdown":"I finally found a fix ! \r\nAs mentionned in geotools&#39; StreamingRenderer code :\r\n\r\n&gt; &quot;the way this thing is built is a mess if you try to use it in a\r\n&gt; multithreaded environment&quot;\r\n\r\nAvoid using StreamingRenderer in an AnimationLoop, Platform.runLater(), etc... \r\nI called the draw function everytime the map was updated instead, and it works as expected ! :)","title":"Problem with resizing a canvas with FXGraphics2D and StreamingRenderer","body":"<p>I finally found a fix !\nAs mentionned in geotools' StreamingRenderer code :</p>\n<blockquote>\n<p>&quot;the way this thing is built is a mess if you try to use it in a\nmultithreaded environment&quot;</p>\n</blockquote>\n<p>Avoid using StreamingRenderer in an AnimationLoop, Platform.runLater(), etc...\nI called the draw function everytime the map was updated instead, and it works as expected ! :)</p>\n"}],"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244889,"answer_count":2,"score":0,"last_activity_date":1674728978,"creation_date":1669712321,"question_id":74611431,"body_markdown":"I&#39;m in the same situation as here : https://sourceforge.net/p/geotools/mailman/message/35977998/\r\n\r\nI am working on a Maps Application using geotools (WMS + WFS for grids) and resizing my JavaFX Canvas works well when I am reducing the size of the canvas, but a part of the image is not rendered when I expend my window (the canvas is expended too).\r\n\r\nIs there a solution ? \r\n\r\nI&#39;m posting the same example as the one in the link above : \r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Rectangle;\r\n\r\nimport org.geotools.feature.DefaultFeatureCollection;\r\nimport org.geotools.feature.simple.SimpleFeatureBuilder;\r\nimport org.geotools.feature.simple.SimpleFeatureTypeBuilder;\r\nimport org.geotools.geometry.jts.JTSFactoryFinder;\r\nimport org.geotools.geometry.jts.ReferencedEnvelope;\r\nimport org.geotools.map.FeatureLayer;\r\nimport org.geotools.map.Layer;\r\nimport org.geotools.map.MapContent;\r\nimport org.geotools.referencing.crs.DefaultGeographicCRS;\r\nimport org.geotools.renderer.lite.StreamingRenderer;\r\nimport org.geotools.styling.SLD;\r\nimport org.geotools.styling.Style;\r\nimport org.jfree.fx.FXGraphics2D;\r\nimport org.opengis.feature.simple.SimpleFeature;\r\nimport org.opengis.feature.simple.SimpleFeatureType;\r\n\r\nimport com.vividsolutions.jts.geom.Coordinate;\r\nimport com.vividsolutions.jts.geom.GeometryFactory;\r\nimport com.vividsolutions.jts.geom.LineString;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ResizingTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Canvas canvas = new Canvas(640, 480);\r\n        BorderPane root = new BorderPane(canvas);\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        // Create bindings for resizing.\r\n        canvas.widthProperty().bind(root.widthProperty());\r\n        canvas.heightProperty().bind(root.heightProperty());\r\n\r\n        SimpleFeatureTypeBuilder lineFeatureTypeBuilder = new\r\nSimpleFeatureTypeBuilder();\r\n        lineFeatureTypeBuilder.setName(&quot;LineFeatureType&quot;);\r\n        lineFeatureTypeBuilder.setCRS(DefaultGeographicCRS.WGS84);\r\n        lineFeatureTypeBuilder.add(&quot;the_geom&quot;, LineString.class,\r\nDefaultGeographicCRS.WGS84);\r\n        SimpleFeatureType lineFeatureType = lineFeatureTypeBuilder.buildFe\r\natureType();\r\n        SimpleFeatureBuilder lineFeatureBuilder = new\r\nSimpleFeatureBuilder(lineFeatureType);\r\n\r\n        DefaultFeatureCollection lines = new DefaultFeatureCollection();\r\n\r\n        Coordinate[][] cs = {\r\n                { new Coordinate(-1, 42), new Coordinate(4, 46) },\r\n                { new Coordinate(-1, 46), new Coordinate(4, 42) }\r\n        };\r\n\r\n        GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFa\r\nctory();\r\n        for(Coordinate [] c : cs) {\r\n            LineString line = geometryFactory.createLineString(c);\r\n            lineFeatureBuilder.add(line);\r\n            SimpleFeature feature = lineFeatureBuilder.buildFeature(null);\r\n            lines.add(feature);\r\n        }\r\n\r\n        MapContent map = new MapContent();\r\n        Style style = SLD.createLineStyle(Color.RED, 1);\r\n        Layer layer = new FeatureLayer(lines, style);\r\n        map.addLayer(layer);\r\n        //map.getViewport().setBounds(new ReferencedEnvelope(-1, 4, 42, 46,\r\nDefaultGeographicCRS.WGS84));\r\n\r\n        AnimationTimer loop = new AnimationTimer() {\r\n            @Override\r\n            public void handle(long now) {\r\n                GraphicsContext g = canvas.getGraphicsContext2D();\r\n                FXGraphics2D graphics = new FXGraphics2D(g);\r\n                graphics.setBackground(java.awt.Color.BLUE);\r\n                Rectangle rectangle = new Rectangle( (int)\r\ncanvas.getWidth(), (int) canvas.getHeight());\r\n                graphics.clearRect(0, 0, (int) rectangle.getWidth(), (int)\r\nrectangle.getHeight());\r\n                graphics.drawRect(100, 100, 100, 100);\r\n                map.getViewport().setScreenArea(rectangle); // Necessary ?\r\n                StreamingRenderer renderer = new StreamingRenderer();\r\n                renderer.setMapContent(map);\r\n                renderer.paint(graphics, rectangle,\r\nmap.getViewport().getBounds());\r\n                System.out.println(&quot;ScreenArea: &quot; +\r\nmap.getViewport().getScreenArea() + &quot; - Viewport: &quot; +\r\nmap.getViewport().getBounds());\r\n            }\r\n        };\r\n        loop.start();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nWhen we expand the window, a part of the canvas is not rendered anymore, resulting on a &quot;correct&quot; cross (because it still goes from upper left to lower right corner), but cropped ! Anything drawn on the cropped part is not rendered\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Edit :**\r\n\r\nI am not trying to make the canvas resizable, it already is (Proof : The cross goes from upper left to lower right pixel of canvas). The real issue is the rendering of the map that is cropped (we can&#39;t see the full cross).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g0A30.png","title":"Problem with resizing a canvas with FXGraphics2D and StreamingRenderer","body":"<p>I'm in the same situation as here : <a href=\"https://sourceforge.net/p/geotools/mailman/message/35977998/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/geotools/mailman/message/35977998/</a></p>\n<p>I am working on a Maps Application using geotools (WMS + WFS for grids) and resizing my JavaFX Canvas works well when I am reducing the size of the canvas, but a part of the image is not rendered when I expend my window (the canvas is expended too).</p>\n<p>Is there a solution ?</p>\n<p>I'm posting the same example as the one in the link above :</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Rectangle;\n\nimport org.geotools.feature.DefaultFeatureCollection;\nimport org.geotools.feature.simple.SimpleFeatureBuilder;\nimport org.geotools.feature.simple.SimpleFeatureTypeBuilder;\nimport org.geotools.geometry.jts.JTSFactoryFinder;\nimport org.geotools.geometry.jts.ReferencedEnvelope;\nimport org.geotools.map.FeatureLayer;\nimport org.geotools.map.Layer;\nimport org.geotools.map.MapContent;\nimport org.geotools.referencing.crs.DefaultGeographicCRS;\nimport org.geotools.renderer.lite.StreamingRenderer;\nimport org.geotools.styling.SLD;\nimport org.geotools.styling.Style;\nimport org.jfree.fx.FXGraphics2D;\nimport org.opengis.feature.simple.SimpleFeature;\nimport org.opengis.feature.simple.SimpleFeatureType;\n\nimport com.vividsolutions.jts.geom.Coordinate;\nimport com.vividsolutions.jts.geom.GeometryFactory;\nimport com.vividsolutions.jts.geom.LineString;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class ResizingTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Canvas canvas = new Canvas(640, 480);\n        BorderPane root = new BorderPane(canvas);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n        // Create bindings for resizing.\n        canvas.widthProperty().bind(root.widthProperty());\n        canvas.heightProperty().bind(root.heightProperty());\n\n        SimpleFeatureTypeBuilder lineFeatureTypeBuilder = new\nSimpleFeatureTypeBuilder();\n        lineFeatureTypeBuilder.setName(&quot;LineFeatureType&quot;);\n        lineFeatureTypeBuilder.setCRS(DefaultGeographicCRS.WGS84);\n        lineFeatureTypeBuilder.add(&quot;the_geom&quot;, LineString.class,\nDefaultGeographicCRS.WGS84);\n        SimpleFeatureType lineFeatureType = lineFeatureTypeBuilder.buildFe\natureType();\n        SimpleFeatureBuilder lineFeatureBuilder = new\nSimpleFeatureBuilder(lineFeatureType);\n\n        DefaultFeatureCollection lines = new DefaultFeatureCollection();\n\n        Coordinate[][] cs = {\n                { new Coordinate(-1, 42), new Coordinate(4, 46) },\n                { new Coordinate(-1, 46), new Coordinate(4, 42) }\n        };\n\n        GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFa\nctory();\n        for(Coordinate [] c : cs) {\n            LineString line = geometryFactory.createLineString(c);\n            lineFeatureBuilder.add(line);\n            SimpleFeature feature = lineFeatureBuilder.buildFeature(null);\n            lines.add(feature);\n        }\n\n        MapContent map = new MapContent();\n        Style style = SLD.createLineStyle(Color.RED, 1);\n        Layer layer = new FeatureLayer(lines, style);\n        map.addLayer(layer);\n        //map.getViewport().setBounds(new ReferencedEnvelope(-1, 4, 42, 46,\nDefaultGeographicCRS.WGS84));\n\n        AnimationTimer loop = new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                GraphicsContext g = canvas.getGraphicsContext2D();\n                FXGraphics2D graphics = new FXGraphics2D(g);\n                graphics.setBackground(java.awt.Color.BLUE);\n                Rectangle rectangle = new Rectangle( (int)\ncanvas.getWidth(), (int) canvas.getHeight());\n                graphics.clearRect(0, 0, (int) rectangle.getWidth(), (int)\nrectangle.getHeight());\n                graphics.drawRect(100, 100, 100, 100);\n                map.getViewport().setScreenArea(rectangle); // Necessary ?\n                StreamingRenderer renderer = new StreamingRenderer();\n                renderer.setMapContent(map);\n                renderer.paint(graphics, rectangle,\nmap.getViewport().getBounds());\n                System.out.println(&quot;ScreenArea: &quot; +\nmap.getViewport().getScreenArea() + &quot; - Viewport: &quot; +\nmap.getViewport().getBounds());\n            }\n        };\n        loop.start();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n\n</code></pre>\n<p>When we expand the window, a part of the canvas is not rendered anymore, resulting on a &quot;correct&quot; cross (because it still goes from upper left to lower right corner), but cropped ! Anything drawn on the cropped part is not rendered</p>\n<p><a href=\"https://i.stack.imgur.com/g0A30.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0A30.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit :</strong></p>\n<p>I am not trying to make the canvas resizable, it already is (Proof : The cross goes from upper left to lower right pixel of canvas). The real issue is the rendering of the map that is cropped (we can't see the full cross).</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674584683,"post_id":75225577,"comment_id":132743877,"body_markdown":"if you have the same dropdown (with the same items) on several pages, then perhaps you can place it in a thymeleaf fragment and include that fragment wherever needed. This way, if you ever need to change that dropdown you can do it in one, instead of, several places.","body":"if you have the same dropdown (with the same items) on several pages, then perhaps you can place it in a thymeleaf fragment and include that fragment wherever needed. This way, if you ever need to change that dropdown you can do it in one, instead of, several places."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674588232,"post_id":75225577,"comment_id":132744945,"body_markdown":"it make sense but how could I pass the data to the fragment without having to call the dropdown service on each controller page? is it possible?","body":"it make sense but how could I pass the data to the fragment without having to call the dropdown service on each controller page? is it possible?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674638505,"post_id":75225577,"comment_id":132755060,"body_markdown":"does your dropdown contain dynamic data, which change between different pages? If so, than you&#39;ll obviously have to call the dropdown service for every page.","body":"does your dropdown contain dynamic data, which change between different pages? If so, than you&#39;ll obviously have to call the dropdown service for every page."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674646098,"post_id":75225577,"comment_id":132757556,"body_markdown":"no it doesnt it is the same data","body":"no it doesnt it is the same data"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":1,"creation_date":1674647089,"post_id":75225577,"comment_id":132757810,"body_markdown":"if your data doesn&#39;t change, then perhaps you can store them in a session variable (javax.servlet.http.HttpSession), which can then be referenced from thymeleaf (e.g ${session.dropdownList} )","body":"if your data doesn&#39;t change, then perhaps you can store them in a session variable (javax.servlet.http.HttpSession), which can then be referenced from thymeleaf (e.g ${session.dropdownList} )"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674655783,"post_id":75225577,"comment_id":132760858,"body_markdown":"oh that might work, thanks...any idea on how I could refresh the data? cause it is the same data for all pages but it is dynamic meaning that I could add new entries for the dropdown","body":"oh that might work, thanks...any idea on how I could refresh the data? cause it is the same data for all pages but it is dynamic meaning that I could add new entries for the dropdown"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674656755,"post_id":75225577,"comment_id":132761214,"body_markdown":"no shortcuts here, you will have to call the dropdown service any time your data have changed.  So just update the session any time your data have changed.","body":"no shortcuts here, you will have to call the dropdown service any time your data have changed.  So just update the session any time your data have changed."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674657344,"post_id":75225577,"comment_id":132761398,"body_markdown":"that data could be updated by other app/process, is there any place where I could hook my code to update the session?","body":"that data could be updated by other app/process, is there any place where I could hook my code to update the session?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674657718,"post_id":75225577,"comment_id":132761503,"body_markdown":"have a look here https://stackoverflow.com/questions/33911341/spring-getting-notified-on-db-changes. I haven&#39;t used any of these options myself","body":"have a look here <a href=\"https://stackoverflow.com/questions/33911341/spring-getting-notified-on-db-changes\" title=\"spring getting notified on db changes\">stackoverflow.com/questions/33911341/&hellip;</a>. I haven&#39;t used any of these options myself"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674668417,"post_id":75225577,"comment_id":132765444,"body_markdown":"I was looking for something on the Spring lifecycle, the notification from db might work but it kinda defeat the purpose of easy maintainability of the dropdown I think I go with the code duplication approach since my app is not large enough for this complexity. Thanks for your inputs @dsp_user","body":"I was looking for something on the Spring lifecycle, the notification from db might work but it kinda defeat the purpose of easy maintainability of the dropdown I think I go with the code duplication approach since my app is not large enough for this complexity. Thanks for your inputs @dsp_user"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674668577,"post_id":75225577,"comment_id":132765493,"body_markdown":"@dsp_user post your approach as an answer so we can help others","body":"@dsp_user post your approach as an answer so we can help others"}],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674728955,"creation_date":1674728640,"answer_id":75244825,"question_id":75225577,"body_markdown":"In case when you have a dropdown, or any other html element for that matter, that needs to appear on several pages, it makes sense to place that element(s) inside a thymeleaf fragment so as to avoid code duplication. Not only do you avoid code duplication, but your code will become easier to maintain as well (because there&#39;s less code to maintain). \r\n\r\n    &lt;div  th:fragment=&quot;dropdownFragment&quot;&gt;\r\n    ....\r\n    &lt;select&gt; \r\n    &lt;th:block th:each=&quot;item : ${dropdownItems}&quot;&gt;\r\n      &lt;option th:value=&quot;${item}&quot; th:text=&quot;${item}&quot;&gt;&lt;/option&gt;\r\n    &lt;/th:block&gt;\r\n    &lt;/select&gt;\r\n    &lt;/div&gt;\r\n\r\nIn order to reduce the number of trips to the database, we should cache our data. Possibly the easiest way to do this is to make use of the built in HttpSession object (especially when our data is relatively small).The code might look something like\r\n\r\n       HttpSession session = request.getSession();\r\n      //code to retrive data from the db\r\n      session.setAttribute(&quot;dropdownItems&quot;, dropdownItems);\r\n\r\nThe session object can be referenced in thymeleaf as `#{session.some_object}` but this has been deprecated since Thymeleaf 3.1. For this reason, it&#39;s best to copy the session attribute into a Model (or ModelAndView) object, which can then be referenced as `${modelObject}`.\r\n\r\n    @GetMapping(&quot;/getItems&quot;)\r\n    public ModelAndView getDropdownItems(HttpSession session )\r\n      ModelAndView mv = new ModelAndView();\r\n      mv.setViewName(&quot;someView&quot;);\r\n     //this assumes that you already have a session with dropdownItemsattribute\r\n      mv.addObject(&quot;dropdownItems&quot;, session.getAttribute(&quot;dropddownItems&quot;));\r\n      return mv;\r\n     }\r\n     \r\nHope this helps.","title":"Dropdown used on multiple pages, should I componentize it?","body":"<p>In case when you have a dropdown, or any other html element for that matter, that needs to appear on several pages, it makes sense to place that element(s) inside a thymeleaf fragment so as to avoid code duplication. Not only do you avoid code duplication, but your code will become easier to maintain as well (because there's less code to maintain).</p>\n<pre><code>&lt;div  th:fragment=&quot;dropdownFragment&quot;&gt;\n....\n&lt;select&gt; \n&lt;th:block th:each=&quot;item : ${dropdownItems}&quot;&gt;\n  &lt;option th:value=&quot;${item}&quot; th:text=&quot;${item}&quot;&gt;&lt;/option&gt;\n&lt;/th:block&gt;\n&lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In order to reduce the number of trips to the database, we should cache our data. Possibly the easiest way to do this is to make use of the built in HttpSession object (especially when our data is relatively small).The code might look something like</p>\n<pre><code>   HttpSession session = request.getSession();\n  //code to retrive data from the db\n  session.setAttribute(&quot;dropdownItems&quot;, dropdownItems);\n</code></pre>\n<p>The session object can be referenced in thymeleaf as <code>#{session.some_object}</code> but this has been deprecated since Thymeleaf 3.1. For this reason, it's best to copy the session attribute into a Model (or ModelAndView) object, which can then be referenced as <code>${modelObject}</code>.</p>\n<pre><code>@GetMapping(&quot;/getItems&quot;)\npublic ModelAndView getDropdownItems(HttpSession session )\n  ModelAndView mv = new ModelAndView();\n  mv.setViewName(&quot;someView&quot;);\n //this assumes that you already have a session with dropdownItemsattribute\n  mv.addObject(&quot;dropdownItems&quot;, session.getAttribute(&quot;dropddownItems&quot;));\n  return mv;\n }\n \n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244825,"answer_count":1,"score":0,"last_activity_date":1674728955,"creation_date":1674583971,"question_id":75225577,"body_markdown":"I got this dropdown that will be utilized on some pages and I am concerning if I should componentize it and include it on each page or if I call the dropdown service on each service that is needed. I building a spring mvc with thymeleaf","title":"Dropdown used on multiple pages, should I componentize it?","body":"<p>I got this dropdown that will be utilized on some pages and I am concerning if I should componentize it and include it on each page or if I call the dropdown service on each service that is needed. I building a spring mvc with thymeleaf</p>\n"},{"tags":["java","android","api","kotlin","openweathermap"],"comments":[{"owner":{"account_id":11181020,"reputation":4038,"user_id":8205099,"accept_rate":62,"display_name":"Wahdat Jan"},"score":0,"creation_date":1674725320,"post_id":75244137,"comment_id":132776382,"body_markdown":"try to print this t.printStackTrace()","body":"try to print this t.printStackTrace()"}],"answers":[{"tags":[],"owner":{"account_id":27608566,"reputation":41,"user_id":21072175,"display_name":"FabianoPE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674727674,"creation_date":1674727674,"answer_id":75244673,"question_id":75244137,"body_markdown":"I fixed it. I debugged it and then checked the error. First thing was that my phone had no internet connection and the second problem was that the baseurl was http:// and not https://","title":"OpenWeatherApi on Android Development failing(?)","body":"<p>I fixed it. I debugged it and then checked the error. First thing was that my phone had no internet connection and the second problem was that the baseurl was http:// and not https://</p>\n"},{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674728835,"creation_date":1674728835,"answer_id":75244861,"question_id":75244137,"body_markdown":"Your base URL should start with https:// not with http:// additional information available [here][1]\r\n\r\n&gt; https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API\r\n&gt; key}\r\n\r\nand verify [this][2] with app \r\n\r\n\r\n  [1]: https://openweathermap.org/current\r\n  [2]: https://stackoverflow.com/a/50834600/18362930","title":"OpenWeatherApi on Android Development failing(?)","body":"<p>Your base URL should start with https:// not with http:// additional information available <a href=\"https://openweathermap.org/current\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p><a href=\"https://api.openweathermap.org/data/2.5/weather?lat=%7Blat%7D&amp;lon=%7Blon%7D&amp;appid=%7BAPI\" rel=\"nofollow noreferrer\">https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API</a>\nkey}</p>\n</blockquote>\n<p>and verify <a href=\"https://stackoverflow.com/a/50834600/18362930\">this</a> with app</p>\n"}],"owner":{"account_id":27608566,"reputation":41,"user_id":21072175,"display_name":"FabianoPE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674728835,"creation_date":1674724418,"question_id":75244137,"body_markdown":"So basically I am trying to build a mobile app, that displays the weather (and some other things), but I have some problems with the API. \r\n\r\nI&#39;ve tried for very long, fixing this, but nothing works.\r\n\r\nEverytime I run the app it says &quot;Failed to fetch data&quot; (obviously because I wanted it to print that when it fails) but I don&#39;t know why.\r\n\r\n```\r\npackage com.example.firsttry\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.TextView\r\nimport com.google.gson.annotations.SerializedName\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.Response\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport retrofit2.http.GET\r\nimport retrofit2.http.Query\r\nimport java.text.DateFormat\r\nimport java.util.*\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    var timer = Timer()\r\n    lateinit var dateTextView: TextView\r\n    lateinit var timeTextView: TextView\r\n    lateinit var temperatureTextView: TextView\r\n    var temperature:Double = 0.0\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        dateTextView = findViewById(R.id.xml_text_date)\r\n        timeTextView = findViewById(R.id.xml_text_time)\r\n        temperatureTextView = findViewById(R.id.xml_text_temperature)\r\n        val api = WeatherApi()\r\n        val call = api.getWeather(&quot;126a2ec583e6e38a9cbc5e8144c278c7&quot;, &quot;New York City&quot;)\r\n        call.enqueue(object : Callback&lt;WeatherResponse&gt; {\r\n            override fun onResponse(\r\n                call: Call&lt;WeatherResponse&gt;,\r\n                response: Response&lt;WeatherResponse&gt;\r\n            ) {\r\n                if (response.isSuccessful) {\r\n                    val weather = response.body()\r\n                    val temp = weather?.temperature?.temp\r\n                    if (temp != null) {\r\n                        val temperature = temp - 273.15\r\n                        temperatureTextView.text = temperature.toString() + &quot;&#176;C&quot;\r\n                    } else {\r\n                        temperatureTextView.text = &quot;Temperature Data not available&quot;\r\n                    }\r\n                    // do something with weather data\r\n                } else {\r\n                    temperatureTextView.text = &quot;Error Occurred&quot;// handle error\r\n                }\r\n                response.body().toString()\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {\r\n                temperatureTextView.text = &quot;Failed to fetch data&quot;\r\n                t.printStackTrace()\r\n                // handle failure\r\n            }\r\n        })\r\n        timer.scheduleAtFixedRate(object : TimerTask() {\r\n            override fun run() {\r\n                runOnUiThread { updateTime() }\r\n            }\r\n        }, 0, 1000)\r\n    }\r\n    fun updateTime() {\r\n        val calendar = Calendar.getInstance().time\r\n        val dateFormat = DateFormat.getDateInstance(DateFormat.FULL).format(calendar)\r\n        val timeFormat = DateFormat.getTimeInstance().format(calendar)\r\n        dateTextView.text = dateFormat\r\n        timeTextView.text = timeFormat\r\n    }\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        timer.cancel()\r\n    }}\r\nclass WeatherResponse {\r\n    @SerializedName(&quot;name&quot;)\r\n    val cityName: String? = null\r\n\r\n    @SerializedName(&quot;main&quot;)\r\n    val temperature: Temperature? = null\r\n}\r\nclass Temperature {\r\n    @SerializedName(&quot;temp&quot;)\r\n    val temp: Double? = null\r\n}\r\nclass WeatherApi {\r\n    private val retrofit = Retrofit.Builder()\r\n        .baseUrl(&quot;http://api.openweathermap.org/&quot;)\r\n        .addConverterFactory(GsonConverterFactory.create())\r\n        .build()\r\n\r\n    fun getWeather(apiKey: String, city: String): Call&lt;WeatherResponse&gt; {\r\n        val service = retrofit.create(WeatherService::class.java)\r\n        return service.getWeather(apiKey, city)\r\n    }\r\n}\r\ninterface WeatherService {\r\n    @GET(&quot;data/2.5/weather&quot;)\r\n    fun getWeather(\r\n        @Query(&quot;appid&quot;) apiKey: String,\r\n        @Query(&quot;q&quot;) city: String\r\n    ): Call&lt;WeatherResponse&gt;\r\n}\r\n```\r\n\r\nCan anyone find any errors I did? ","title":"OpenWeatherApi on Android Development failing(?)","body":"<p>So basically I am trying to build a mobile app, that displays the weather (and some other things), but I have some problems with the API.</p>\n<p>I've tried for very long, fixing this, but nothing works.</p>\n<p>Everytime I run the app it says &quot;Failed to fetch data&quot; (obviously because I wanted it to print that when it fails) but I don't know why.</p>\n<pre><code>package com.example.firsttry\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\nimport com.google.gson.annotations.SerializedName\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport retrofit2.http.GET\nimport retrofit2.http.Query\nimport java.text.DateFormat\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n    var timer = Timer()\n    lateinit var dateTextView: TextView\n    lateinit var timeTextView: TextView\n    lateinit var temperatureTextView: TextView\n    var temperature:Double = 0.0\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        dateTextView = findViewById(R.id.xml_text_date)\n        timeTextView = findViewById(R.id.xml_text_time)\n        temperatureTextView = findViewById(R.id.xml_text_temperature)\n        val api = WeatherApi()\n        val call = api.getWeather(&quot;126a2ec583e6e38a9cbc5e8144c278c7&quot;, &quot;New York City&quot;)\n        call.enqueue(object : Callback&lt;WeatherResponse&gt; {\n            override fun onResponse(\n                call: Call&lt;WeatherResponse&gt;,\n                response: Response&lt;WeatherResponse&gt;\n            ) {\n                if (response.isSuccessful) {\n                    val weather = response.body()\n                    val temp = weather?.temperature?.temp\n                    if (temp != null) {\n                        val temperature = temp - 273.15\n                        temperatureTextView.text = temperature.toString() + &quot;°C&quot;\n                    } else {\n                        temperatureTextView.text = &quot;Temperature Data not available&quot;\n                    }\n                    // do something with weather data\n                } else {\n                    temperatureTextView.text = &quot;Error Occurred&quot;// handle error\n                }\n                response.body().toString()\n            }\n\n            override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {\n                temperatureTextView.text = &quot;Failed to fetch data&quot;\n                t.printStackTrace()\n                // handle failure\n            }\n        })\n        timer.scheduleAtFixedRate(object : TimerTask() {\n            override fun run() {\n                runOnUiThread { updateTime() }\n            }\n        }, 0, 1000)\n    }\n    fun updateTime() {\n        val calendar = Calendar.getInstance().time\n        val dateFormat = DateFormat.getDateInstance(DateFormat.FULL).format(calendar)\n        val timeFormat = DateFormat.getTimeInstance().format(calendar)\n        dateTextView.text = dateFormat\n        timeTextView.text = timeFormat\n    }\n    override fun onDestroy() {\n        super.onDestroy()\n        timer.cancel()\n    }}\nclass WeatherResponse {\n    @SerializedName(&quot;name&quot;)\n    val cityName: String? = null\n\n    @SerializedName(&quot;main&quot;)\n    val temperature: Temperature? = null\n}\nclass Temperature {\n    @SerializedName(&quot;temp&quot;)\n    val temp: Double? = null\n}\nclass WeatherApi {\n    private val retrofit = Retrofit.Builder()\n        .baseUrl(&quot;http://api.openweathermap.org/&quot;)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n\n    fun getWeather(apiKey: String, city: String): Call&lt;WeatherResponse&gt; {\n        val service = retrofit.create(WeatherService::class.java)\n        return service.getWeather(apiKey, city)\n    }\n}\ninterface WeatherService {\n    @GET(&quot;data/2.5/weather&quot;)\n    fun getWeather(\n        @Query(&quot;appid&quot;) apiKey: String,\n        @Query(&quot;q&quot;) city: String\n    ): Call&lt;WeatherResponse&gt;\n}\n</code></pre>\n<p>Can anyone find any errors I did?</p>\n"},{"tags":["java","rest","multipartform-data"],"comments":[{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1674049078,"post_id":75159924,"comment_id":132631389,"body_markdown":"not really clear what you are asking. If you have the content of the file in the `data` variable do you want to write that to disk on the server?","body":"not really clear what you are asking. If you have the content of the file in the <code>data</code> variable do you want to write that to disk on the server?"},{"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"score":0,"creation_date":1674049212,"post_id":75159924,"comment_id":132631451,"body_markdown":"I am getting the content in data variable but it is not readable as I am passing xlsx file. also there are lot more things in data variable. How can I only get the file content ?","body":"I am getting the content in data variable but it is not readable as I am passing xlsx file. also there are lot more things in data variable. How can I only get the file content ?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1674050732,"post_id":75159924,"comment_id":132632007,"body_markdown":"try a byte array instead of String to read the request body","body":"try a byte array instead of String to read the request body"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":1,"creation_date":1674127862,"post_id":75159924,"comment_id":132650698,"body_markdown":"Sounds like your problem is how to handle an xlsx file in java then, rather than how to updoad a file? Would be worth making it clear which problem you are trying to solve - reading an xlsx file in java, or constructing a controller that allows files to be uploaded. There are existing answers for both of these questions already elsewhere","body":"Sounds like your problem is how to handle an xlsx file in java then, rather than how to updoad a file? Would be worth making it clear which problem you are trying to solve - reading an xlsx file in java, or constructing a controller that allows files to be uploaded. There are existing answers for both of these questions already elsewhere"},{"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"score":0,"creation_date":1674205669,"post_id":75159924,"comment_id":132668479,"body_markdown":"As I have mentioned, I am able to upload file from normal java class using HttpURLConnection class. Proble is I am not bale to retrieve it in the controller class.","body":"As I have mentioned, I am able to upload file from normal java class using HttpURLConnection class. Proble is I am not bale to retrieve it in the controller class."}],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674051304,"creation_date":1674051304,"answer_id":75160585,"question_id":75159924,"body_markdown":"You really don&#39;t want to parse that yourself. Use the https://commons.apache.org/proper/commons-fileupload/\r\n\r\nThen you can just write.\r\n\r\n    DiskFileItemFactory factory = new DiskFileItemFactory();\r\n    ServletFileUpload upload = new ServletFileUpload(factory);\r\n    upload.setHeaderEncoding(&quot;UTF-8&quot;); // Might be needed, depending on exact setup.\r\n    java.util.List&lt;FileItem&gt; items = upload.parseRequest(request);\r\n\r\nAnd then items is the list of uploaded files.\r\n","title":"How do i parse content sent from multipart/form-data request to get file in java?","body":"<p>You really don't want to parse that yourself. Use the <a href=\"https://commons.apache.org/proper/commons-fileupload/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-fileupload/</a></p>\n<p>Then you can just write.</p>\n<pre><code>DiskFileItemFactory factory = new DiskFileItemFactory();\nServletFileUpload upload = new ServletFileUpload(factory);\nupload.setHeaderEncoding(&quot;UTF-8&quot;); // Might be needed, depending on exact setup.\njava.util.List&lt;FileItem&gt; items = upload.parseRequest(request);\n</code></pre>\n<p>And then items is the list of uploaded files.</p>\n"},{"tags":[],"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674728179,"creation_date":1674724410,"answer_id":75244136,"question_id":75159924,"body_markdown":"Here is my answer. I have used org.glassfish.jersey.media.multipart.MultiPart on client side.\r\n```\r\n\tClient client = ClientBuilder.newBuilder().register(MultiPartFeature.class).build();\r\n\t\t    WebTarget webTarget = client.target(chess.getMfgRequestURL() + &quot;/createRequest&quot;)\r\n\t\t\t\t\t.queryParam(&quot;id&quot;, sRequestId)\r\n\t\t\t\t\t.queryParam(&quot;lastModified&quot;, sLastUpdated);\r\n\t\t    \r\n\t\t    FileDataBodyPart fileDataBodyPart = new FileDataBodyPart(&quot;file&quot;,\r\n\t\t    \t\tfile, MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n\t\t    @SuppressWarnings(&quot;resource&quot;)\r\n\t\t\tMultiPart multiPart = new FormDataMultiPart()\r\n\t\t            .field(&quot;json&quot;, jsonObj, MediaType.APPLICATION_JSON_TYPE) // json goes here\r\n\t\t            .bodyPart(fileDataBodyPart); // file goes here\r\n\t\t    \r\n\t\t    multiPart.bodyPart(fileDataBodyPart);\r\n\t\t    \r\n\t\t    Response response = webTarget.request(MediaType.APPLICATION_JSON_TYPE)\r\n\t\t    \t      .post(Entity.entity(multiPart, multiPart.getMediaType()));\r\n```\r\n\r\nOn server side, this is how I have parsed:\r\n\r\n```\r\n @POST\r\n    @Path(&quot;/createRequest&quot;)\r\n    @Consumes(&quot;multipart/form-data&quot;)\r\n    public Response createRequest(@Context HttpServletRequest request,  @Multipart InputStream uploadedInputStream) throws Exception {\r\n        JsonObjectBuilder requestBuilder = null;\r\n        try {\r\n            \r\n            String tempDir = &quot;C:\\\\Users&quot;;\r\n            String filename = &quot;test.xlsx&quot;;\r\n\r\n            File checkinFile = new File(tempDir, filename);\r\n            OutputStream out = new FileOutputStream(checkinFile);\r\n            IOUtils.copyStream(uploadedInputStream, out);        \r\n        }catch (Exception e) {\r\n            String errorMessage = e.getMessage();\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build();\r\n        }\r\n```\r\n","title":"How do i parse content sent from multipart/form-data request to get file in java?","body":"<p>Here is my answer. I have used org.glassfish.jersey.media.multipart.MultiPart on client side.</p>\n<pre><code>    Client client = ClientBuilder.newBuilder().register(MultiPartFeature.class).build();\n            WebTarget webTarget = client.target(chess.getMfgRequestURL() + &quot;/createRequest&quot;)\n                    .queryParam(&quot;id&quot;, sRequestId)\n                    .queryParam(&quot;lastModified&quot;, sLastUpdated);\n            \n            FileDataBodyPart fileDataBodyPart = new FileDataBodyPart(&quot;file&quot;,\n                    file, MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            @SuppressWarnings(&quot;resource&quot;)\n            MultiPart multiPart = new FormDataMultiPart()\n                    .field(&quot;json&quot;, jsonObj, MediaType.APPLICATION_JSON_TYPE) // json goes here\n                    .bodyPart(fileDataBodyPart); // file goes here\n            \n            multiPart.bodyPart(fileDataBodyPart);\n            \n            Response response = webTarget.request(MediaType.APPLICATION_JSON_TYPE)\n                      .post(Entity.entity(multiPart, multiPart.getMediaType()));\n</code></pre>\n<p>On server side, this is how I have parsed:</p>\n<pre><code> @POST\n    @Path(&quot;/createRequest&quot;)\n    @Consumes(&quot;multipart/form-data&quot;)\n    public Response createRequest(@Context HttpServletRequest request,  @Multipart InputStream uploadedInputStream) throws Exception {\n        JsonObjectBuilder requestBuilder = null;\n        try {\n            \n            String tempDir = &quot;C:\\\\Users&quot;;\n            String filename = &quot;test.xlsx&quot;;\n\n            File checkinFile = new File(tempDir, filename);\n            OutputStream out = new FileOutputStream(checkinFile);\n            IOUtils.copyStream(uploadedInputStream, out);        \n        }catch (Exception e) {\n            String errorMessage = e.getMessage();\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build();\n        }\n</code></pre>\n"}],"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75244136,"answer_count":2,"score":1,"last_activity_date":1674728179,"creation_date":1674048322,"question_id":75159924,"body_markdown":"I am sending a HttpURLConnection request to server and trying to send a file. I am able to send file from client side but not sure how can i parse it on the server side. \r\n\r\nMy code on client side is below.\r\n\r\n```\r\nprivate void createRequestInCHESS(String sRequestId, String sLastUpdated) {\r\n\t\tString boundary =  &quot;xyz&quot;;\r\n\t\tString crlf = &quot;\\r\\n&quot;;\r\n\t\tString twoHyphens = &quot;--&quot;;\r\n\t\tString attachmentName = &quot;file&quot;;\r\n\t\tString attachmentFileName = &quot;testFile.xlsx&quot;;\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;c:\\\\MFGREQ-7.xlsx&quot;);\r\n\t\t\tURL url = new URL(chess.getMfgRequestURL() + &quot;/createRequest&quot;);\r\n\t\t\tHttpURLConnection httpConnecton = (HttpURLConnection) url.openConnection();\r\n\t\t\thttpConnecton.setRequestMethod(REQUEST_METHOD_POST);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;id&quot;, sRequestId);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;lastModified&quot;, sLastUpdated);\t\t\r\n\t\t\t\t\t\t\r\n\t\t\thttpConnecton.setDoOutput(true);\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tDataOutputStream outStream = new DataOutputStream(httpConnecton.getOutputStream());\r\n\t\t\toutStream.writeBytes(twoHyphens + boundary + crlf);\r\n\t\t\toutStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;&quot; +\r\n\t\t\t    attachmentName + &quot;\\&quot;;filename=\\&quot;&quot; + attachmentFileName + &quot;\\&quot;&quot; + crlf);\r\n\t\t\toutStream.writeBytes(crlf);\r\n\t\t\t\r\n\t\t\tbyte[] bytes = Files.readAllBytes(file.toPath());\r\n\t\t\toutStream.write(bytes);\r\n\t\t\t\r\n\t\t\toutStream.flush();\r\n\t\t\toutStream.close();\r\n\t\t\tgetResponseString(httpConnecton);\r\n\t\t\t\r\n\t\t} catch (MalformedURLException me) {\r\n\t\t\tme.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nserver side code is given below. What can I use to retrive file sent from request.\r\n\r\n```\r\n@POST\r\n    @Path(&quot;/createRequest&quot;)\r\n    public Response createRequest(@Context HttpServletRequest request) {\r\n\r\n        try(BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(request.getInputStream()))) {             \r\n            StringBuilder sbPayload = new StringBuilder();\r\n            String sLine;\r\n            while ((sLine = reader.readLine()) != null) {\r\n                sbPayload.append(sLine);\r\n                sbPayload.append(System.lineSeparator());\r\n            }\r\n\r\n            String data = sbPayload.toString();\r\n\r\n          // how do i retrieve file here ?\r\n\r\n}\r\n```","title":"How do i parse content sent from multipart/form-data request to get file in java?","body":"<p>I am sending a HttpURLConnection request to server and trying to send a file. I am able to send file from client side but not sure how can i parse it on the server side.</p>\n<p>My code on client side is below.</p>\n<pre><code>private void createRequestInCHESS(String sRequestId, String sLastUpdated) {\n        String boundary =  &quot;xyz&quot;;\n        String crlf = &quot;\\r\\n&quot;;\n        String twoHyphens = &quot;--&quot;;\n        String attachmentName = &quot;file&quot;;\n        String attachmentFileName = &quot;testFile.xlsx&quot;;\n        try {\n            File file = new File(&quot;c:\\\\MFGREQ-7.xlsx&quot;);\n            URL url = new URL(chess.getMfgRequestURL() + &quot;/createRequest&quot;);\n            HttpURLConnection httpConnecton = (HttpURLConnection) url.openConnection();\n            httpConnecton.setRequestMethod(REQUEST_METHOD_POST);\n            httpConnecton.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            httpConnecton.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n            httpConnecton.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\n            httpConnecton.setRequestProperty(&quot;id&quot;, sRequestId);\n            httpConnecton.setRequestProperty(&quot;lastModified&quot;, sLastUpdated);     \n                        \n            httpConnecton.setDoOutput(true);\n                \n            \n            \n            DataOutputStream outStream = new DataOutputStream(httpConnecton.getOutputStream());\n            outStream.writeBytes(twoHyphens + boundary + crlf);\n            outStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;&quot; +\n                attachmentName + &quot;\\&quot;;filename=\\&quot;&quot; + attachmentFileName + &quot;\\&quot;&quot; + crlf);\n            outStream.writeBytes(crlf);\n            \n            byte[] bytes = Files.readAllBytes(file.toPath());\n            outStream.write(bytes);\n            \n            outStream.flush();\n            outStream.close();\n            getResponseString(httpConnecton);\n            \n        } catch (MalformedURLException me) {\n            me.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>server side code is given below. What can I use to retrive file sent from request.</p>\n<pre><code>@POST\n    @Path(&quot;/createRequest&quot;)\n    public Response createRequest(@Context HttpServletRequest request) {\n\n        try(BufferedReader reader = new BufferedReader(\n                new InputStreamReader(request.getInputStream()))) {             \n            StringBuilder sbPayload = new StringBuilder();\n            String sLine;\n            while ((sLine = reader.readLine()) != null) {\n                sbPayload.append(sLine);\n                sbPayload.append(System.lineSeparator());\n            }\n\n            String data = sbPayload.toString();\n\n          // how do i retrieve file here ?\n\n}\n</code></pre>\n"},{"tags":["java","javac","annotation-processing","annotation-processor"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1674730262,"post_id":75244678,"comment_id":132777941,"body_markdown":"Probably not possible, the documentation, at least for Java 8, says implicitly compiled files aren&#39;t subject to annotation processing, and there doesn&#39;t seem to be any option to make them subject, other than specifiying them explicitely. See https://stackoverflow.com/questions/23520975/can-someone-provide-an-example-of-how-javacs-implicit-option-works","body":"Probably not possible, the documentation, at least for Java 8, says implicitly compiled files aren&#39;t subject to annotation processing, and there doesn&#39;t seem to be any option to make them subject, other than specifiying them explicitely. See <a href=\"https://stackoverflow.com/questions/23520975/can-someone-provide-an-example-of-how-javacs-implicit-option-works\" title=\"can someone provide an example of how javacs implicit option works\">stackoverflow.com/questions/23520975/&hellip;</a>"}],"owner":{"account_id":23234,"reputation":34610,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674727686,"creation_date":1674727686,"question_id":75244678,"body_markdown":"I wrote an annotation processor (to copy some java sources in my compiling directory). I was surprised to see that only the files specified on the `javac` command line are processed by my annotation processor. I&#39;m obviously missing something.\r\n\r\nHere is a minimal example:\r\n\r\nsandbox.Aproc:\r\n```\r\n(...)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\r\npublic class AProc extends AbstractProcessor{\t\r\n\t@Override\r\n\tpublic Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n\t\treturn Arrays.asList( Include.class ).stream().\r\n\t\t\tmap(C-&gt;C.getName()).\r\n\t\t\tcollect(Collectors.toSet())\r\n\t\t\t;\r\n\t\t}\r\n\t\r\n\tprivate void copySource(final javax.lang.model.element.Element element)\r\n\t\t{\r\n\t\tif(element==null || element.getKind()!=ElementKind.CLASS) return;\r\n\t\tfinal String thisDir = System.getProperty(&quot;user.dir&quot;);\r\n\t\tSystem.err.println(&quot;##Visit &quot; + element);\r\n        (...)\r\n\t\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean process(final Set&lt;? extends TypeElement&gt; annotations,\r\n\t\tfinal RoundEnvironment roundEnv\r\n\t\t) {\t\t\t\t\r\n\t\troundEnv.getElementsAnnotatedWith(Include.class).stream().\r\n\t\t\tfilter(E-&gt;E.getKind()==ElementKind.CLASS).\r\n\t\t\tfilter(E-&gt; E.getAnnotation(Include.class) !=null).\r\n\t\t\tforEach(E-&gt;{\t\t\t\t\t\r\n\t\t\t\tcopySource(E);\r\n\t\t\t\t});\r\n\t\t\r\n\t\treturn true;\r\n\t   }\r\n    }\r\n```\r\n\r\n\r\nsandbox/Test.java This class uses **Test2** so I expect this Test2 will also be visited by the processor.\r\n```\r\npackage sandbox;\r\n@Include\r\npublic class Test {\r\nTest2 get() { return new Test2();}\r\n}\r\n```\r\n\r\nsandbox/Test2.java\r\n```\r\npackage sandbox;\r\n@Include\r\npublic class Test2 {\r\n}\r\n```\r\nsandbox/Include.java \r\n```\r\n(...)\r\npackage sandbox;\r\n@Retention(RUNTIME)\r\n@Target({ ElementType.TYPE })\r\npublic @interface Include\r\n\t{\r\n\t}\r\n```\r\n\r\nThe annotation processor is packaged in a jar with `sandbox.AProc` in  `TMP/META-INF/services/javax.annotation.processing.Processor`\r\n\r\nWhen I compile with both Test.java and Test2.java they both appear in the  processor logs.\r\n\r\n```\r\n$ javac -cp .:annot.jar  -d TMP sandbox/Test.java sandbox/Test2.java\r\n##Visit sandbox.Test\r\n##Visit sandbox.Test2\r\n```\r\n\r\nbut if I only compile sandbox/Test.java, Test2 is compiled but ignored by the processor.\r\n\r\n```\r\n$ javac -cp .:annot.jar  -d TMP sandbox/Test.java \r\n##Visit sandbox.Test\r\nwarning: Implicitly compiled files were not subject to annotation processing.\r\n  Use -proc:none to disable annotation processing or -implicit to specify a policy for implicit compilation.\r\n1 warning\r\n```\r\n(I&#39;m not sure about the warning, using -implicit:class hide the problem).\r\n\r\n\r\nHow can I tell the processor to visit all the classes without specifying them on the javac command line ?","title":"java Annotation Processor only scans the .java files specified by the javac compiler","body":"<p>I wrote an annotation processor (to copy some java sources in my compiling directory). I was surprised to see that only the files specified on the <code>javac</code> command line are processed by my annotation processor. I'm obviously missing something.</p>\n<p>Here is a minimal example:</p>\n<p>sandbox.Aproc:</p>\n<pre><code>(...)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\npublic class AProc extends AbstractProcessor{   \n    @Override\n    public Set&lt;String&gt; getSupportedAnnotationTypes() {\n        return Arrays.asList( Include.class ).stream().\n            map(C-&gt;C.getName()).\n            collect(Collectors.toSet())\n            ;\n        }\n    \n    private void copySource(final javax.lang.model.element.Element element)\n        {\n        if(element==null || element.getKind()!=ElementKind.CLASS) return;\n        final String thisDir = System.getProperty(&quot;user.dir&quot;);\n        System.err.println(&quot;##Visit &quot; + element);\n        (...)\n        }\n    \n    @Override\n    public boolean process(final Set&lt;? extends TypeElement&gt; annotations,\n        final RoundEnvironment roundEnv\n        ) {             \n        roundEnv.getElementsAnnotatedWith(Include.class).stream().\n            filter(E-&gt;E.getKind()==ElementKind.CLASS).\n            filter(E-&gt; E.getAnnotation(Include.class) !=null).\n            forEach(E-&gt;{                    \n                copySource(E);\n                });\n        \n        return true;\n       }\n    }\n</code></pre>\n<p>sandbox/Test.java This class uses <strong>Test2</strong> so I expect this Test2 will also be visited by the processor.</p>\n<pre><code>package sandbox;\n@Include\npublic class Test {\nTest2 get() { return new Test2();}\n}\n</code></pre>\n<p>sandbox/Test2.java</p>\n<pre><code>package sandbox;\n@Include\npublic class Test2 {\n}\n</code></pre>\n<p>sandbox/Include.java</p>\n<pre><code>(...)\npackage sandbox;\n@Retention(RUNTIME)\n@Target({ ElementType.TYPE })\npublic @interface Include\n    {\n    }\n</code></pre>\n<p>The annotation processor is packaged in a jar with <code>sandbox.AProc</code> in  <code>TMP/META-INF/services/javax.annotation.processing.Processor</code></p>\n<p>When I compile with both Test.java and Test2.java they both appear in the  processor logs.</p>\n<pre><code>$ javac -cp .:annot.jar  -d TMP sandbox/Test.java sandbox/Test2.java\n##Visit sandbox.Test\n##Visit sandbox.Test2\n</code></pre>\n<p>but if I only compile sandbox/Test.java, Test2 is compiled but ignored by the processor.</p>\n<pre><code>$ javac -cp .:annot.jar  -d TMP sandbox/Test.java \n##Visit sandbox.Test\nwarning: Implicitly compiled files were not subject to annotation processing.\n  Use -proc:none to disable annotation processing or -implicit to specify a policy for implicit compilation.\n1 warning\n</code></pre>\n<p>(I'm not sure about the warning, using -implicit:class hide the problem).</p>\n<p>How can I tell the processor to visit all the classes without specifying them on the javac command line ?</p>\n"},{"tags":["java","android","checkbox"],"owner":{"account_id":27617266,"reputation":1,"user_id":21079074,"display_name":"Maria Sideri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674727170,"creation_date":1674643088,"question_id":75232733,"body_markdown":"My app has a fragment where the user has to select some dances from a list of checkboxes. Let&#39;s use &quot;Argentine Tango&quot; as an example. \r\nWhen I select a checkbox, I get the exception &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.chip.ChipGroup.addView(android.view.View)&#39; on a null object reference&quot;\r\n\r\n\r\nWhen I checked on the checkbox, I wanted a chip writing &quot;Argentine Tango&quot; to appear \r\n\r\n    private CheckBox mTango;\r\n    private ChipGroup mChipgroup;\r\n    private  ArrayList mChipList = new ArrayList&lt;&gt;();\r\n\r\nThen, inside &quot;`OnCreateView`&quot;\r\n\r\n    \r\n\r\n    mTango = view.findViewById(R.id.argtango);\r\n    mTango.setOnCheckedChangeListener(newCompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                        if (compoundButton != null) {\r\n                            mChipList.add(&quot;Argentine Tango&quot;);\r\n                            displayChipData(mChipList);\r\n                        }\r\n                        else\r\n                        {\r\n                            Toast.makeText(getContext(), &quot;There was an error, try again&quot;, Toast.LENGTH_SHORT );\r\n                     }\r\n                 }\r\n            });\r\n\r\nMy displayChipData method:\r\n\r\n    private void displayChipData(ArrayList&lt;String&gt; mChipList) {\r\n            for (String s: mChipList) {\r\n                Chip chip = (Chip) this.getLayoutInflater().inflate(R.layout.single_chip, null, false);\r\n                chip.setText(s);\r\n                mChipgroup.addView(chip);\r\n            }\r\n    \r\n        }\r\n\r\nWhen I run the app and check the &quot;`Argentine Tango`&quot; checkbox, the app closes and I get the following exception\r\n\r\n**java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.chip.ChipGroup.addView(android.view.View)&#39; on a null object reference**\r\n\r\nAny ideas on how I could fix this?\r\nThanks in advance!\r\n","title":"Android: When checkbox is clicked, create chip","body":"<p>My app has a fragment where the user has to select some dances from a list of checkboxes. Let's use &quot;Argentine Tango&quot; as an example.\nWhen I select a checkbox, I get the exception &quot;java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.chip.ChipGroup.addView(android.view.View)' on a null object reference&quot;</p>\n<p>When I checked on the checkbox, I wanted a chip writing &quot;Argentine Tango&quot; to appear</p>\n<pre><code>private CheckBox mTango;\nprivate ChipGroup mChipgroup;\nprivate  ArrayList mChipList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then, inside &quot;<code>OnCreateView</code>&quot;</p>\n<pre><code>mTango = view.findViewById(R.id.argtango);\nmTango.setOnCheckedChangeListener(newCompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                    if (compoundButton != null) {\n                        mChipList.add(&quot;Argentine Tango&quot;);\n                        displayChipData(mChipList);\n                    }\n                    else\n                    {\n                        Toast.makeText(getContext(), &quot;There was an error, try again&quot;, Toast.LENGTH_SHORT );\n                 }\n             }\n        });\n</code></pre>\n<p>My displayChipData method:</p>\n<pre><code>private void displayChipData(ArrayList&lt;String&gt; mChipList) {\n        for (String s: mChipList) {\n            Chip chip = (Chip) this.getLayoutInflater().inflate(R.layout.single_chip, null, false);\n            chip.setText(s);\n            mChipgroup.addView(chip);\n        }\n\n    }\n</code></pre>\n<p>When I run the app and check the &quot;<code>Argentine Tango</code>&quot; checkbox, the app closes and I get the following exception</p>\n<p><strong>java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.chip.ChipGroup.addView(android.view.View)' on a null object reference</strong></p>\n<p>Any ideas on how I could fix this?\nThanks in advance!</p>\n"},{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674727160,"post_id":75244573,"comment_id":132777042,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26367947,"reputation":1,"user_id":20023092,"display_name":"STEEL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674727119,"creation_date":1674727119,"question_id":75244573,"body_markdown":"I have included Android Things artifact to my project. Although com.google.android.things.permission.SET_TIME was defined in manifesto XML file, my application is not able to have the permission. How does the application gain the permission?","title":"com.google.android.things.permission.SET_TIME","body":"<p>I have included Android Things artifact to my project. Although com.google.android.things.permission.SET_TIME was defined in manifesto XML file, my application is not able to have the permission. How does the application gain the permission?</p>\n"},{"tags":["java","csv","parsing","zip","unzip"],"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674727111,"creation_date":1674702656,"question_id":75241976,"body_markdown":"I am trying to read and parsed all the CSV files, these files are inside of extracted zip file, but unfortunately, I&#39;m only getting this `(No such file or directory)` - How can I get inside that folder and read those files? Take note that this folder is already unzipped.\r\n\r\nI&#39;m also thinking, that if that is not possible - is there any way that I can extract the zip file to files only, for example below:\r\n\r\n    Zip File: ZipFolder.zip\r\n\r\nExpected: (No folder at all, automatically the files is on the target location already).\r\n\r\n    CSVFile1.csv\r\n    CSVFile2.csv\r\n\r\nCan someone help me to get through this? your help is appreaciated.. Thank you!","title":"How can I retrieve CSV file inside of the Unzip folder?","body":"<p>I am trying to read and parsed all the CSV files, these files are inside of extracted zip file, but unfortunately, I'm only getting this <code>(No such file or directory)</code> - How can I get inside that folder and read those files? Take note that this folder is already unzipped.</p>\n<p>I'm also thinking, that if that is not possible - is there any way that I can extract the zip file to files only, for example below:</p>\n<pre><code>Zip File: ZipFolder.zip\n</code></pre>\n<p>Expected: (No folder at all, automatically the files is on the target location already).</p>\n<pre><code>CSVFile1.csv\nCSVFile2.csv\n</code></pre>\n<p>Can someone help me to get through this? your help is appreaciated.. Thank you!</p>\n"},{"tags":["java","geany"],"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674726852,"creation_date":1674726852,"question_id":75244536,"body_markdown":"I know this might be a very simple question to you but honestly i still can&#39;t figure it out.\r\nI&#39;ve installed geany on linux mint 21 and i would like to know how to add a class linked to a file.java i created which contains the main.","title":"How do you add a new java class in geany?","body":"<p>I know this might be a very simple question to you but honestly i still can't figure it out.\nI've installed geany on linux mint 21 and i would like to know how to add a class linked to a file.java i created which contains the main.</p>\n"},{"tags":["java","jar","getresource"],"comments":[{"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"score":0,"creation_date":1429899927,"post_id":1386809,"comment_id":47835507,"body_markdown":"please reset the correct answer, thx","body":"please reset the correct answer, thx"}],"answers":[{"comments":[{"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"score":0,"creation_date":1252274849,"post_id":1386855,"comment_id":1227124,"body_markdown":"Vineet: I don&#39;t like the &quot;requires that you know of the file names before hand.&quot;. I should have some sort of Static list with every file in the template dir and update it when it changes it. :(","body":"Vineet: I don&#39;t like the &quot;requires that you know of the file names before hand.&quot;. I should have some sort of Static list with every file in the template dir and update it when it changes it. :("},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1252276587,"post_id":1386855,"comment_id":1227178,"body_markdown":"Yes, unfortunately one cannot get a directory listing inside JARs. You can refer the SO question http://stackoverflow.com/questions/909000/using-the-classloader-method-to-retrieve-all-resources-under-classes-as-input-str","body":"Yes, unfortunately one cannot get a directory listing inside JARs. You can refer the SO question <a href=\"http://stackoverflow.com/questions/909000/using-the-classloader-method-to-retrieve-all-resources-under-classes-as-input-str\" title=\"using the classloader method to retrieve all resources under classes as input str\">stackoverflow.com/questions/909000/&hellip;</a>"},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1252277352,"post_id":1386855,"comment_id":1227195,"body_markdown":"And there&#39;s another one @http://stackoverflow.com/questions/133229/how-can-i-discover-resources-in-a-java-jar-with-a-wildcard-name . If you read carefully, you&#39;ll notice that the OP did think of maintaining a static list of files to read.","body":"And there&#39;s another one @<a href=\"http://stackoverflow.com/questions/133229/how-can-i-discover-resources-in-a-java-jar-with-a-wildcard-name\" title=\"how can i discover resources in a java jar with a wildcard name\">stackoverflow.com/questions/133229/&hellip;</a> . If you read carefully, you&#39;ll notice that the OP did think of maintaining a static list of files to read."},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1252277451,"post_id":1386855,"comment_id":1227199,"body_markdown":"If this doesn&#39;t work out, the other answer provided - reading from a ZIP stream etc. will definitely work.","body":"If this doesn&#39;t work out, the other answer provided - reading from a ZIP stream etc. will definitely work."}],"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252274493,"creation_date":1252274493,"answer_id":1386855,"question_id":1386809,"body_markdown":"You could use the [ClassLoader][1] to obtain a [stream to the resource][2]. Once you have obtained an InputStream, you can read off, and write the contents of the stream, onto an OutputStream.\r\n\r\nIn your case, you&#39;ll need to create several OutputStream instances, one for each file that you want to copy over to the destination. This of course, requires that you know of the file names before hand.\r\n\r\nFor this task, it is preferred to use getResourceAsStream, rather than getResource or getResources().\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#getResourceAsStream%28java.lang.String%29","title":"Copy directory from a jar file","body":"<p>You could use the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoader</a> to obtain a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#getResourceAsStream%28java.lang.String%29\" rel=\"nofollow noreferrer\">stream to the resource</a>. Once you have obtained an InputStream, you can read off, and write the contents of the stream, onto an OutputStream.</p>\n\n<p>In your case, you'll need to create several OutputStream instances, one for each file that you want to copy over to the destination. This of course, requires that you know of the file names before hand.</p>\n\n<p>For this task, it is preferred to use getResourceAsStream, rather than getResource or getResources().</p>\n"},{"tags":[],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252274741,"creation_date":1252274741,"answer_id":1386861,"question_id":1386809,"body_markdown":"I&#39;m not sure what `FileHelper` is or does, but you will NOT be able to copy files (or directories) directly from JAR. Using InputStream as you&#39;ve mentioned is the correct way (from either jar or zip):\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;file_in_jar&quot;);\r\n    OutputStream os = new FileOutputStream(&quot;dest_file&quot;);\r\n    byte[] buffer = new byte[4096];\r\n    int length;\r\n    while ((length = is.read(buffer)) &gt; 0) {\r\n        os.write(buffer, 0, length);\r\n    }\r\n    os.close();\r\n    is.close();\r\n\r\nYou&#39;ll need to do the above (handling exceptions appropriately, of course) for each of your files. You may or may not be able (depending on your deployment configuration) to read jar file in question as &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/util/jar/JarFile.html&quot;&gt;JarFile&lt;/a&gt; (it may not be available as an actual file if deployed as part of non-expanded web app, for example). If you can read it, you should be able to iterate through list of JarEntry instances and thus reconstitute your directory structure; otherwise you may need to store it elsewhere (within text or xml resource, for example)\r\n\r\nYou may want to take a look at &lt;a href=&quot;http://commons.apache.org/io/&quot;&gt;Commons IO&lt;/a&gt; library - it provides a lot of commonly used stream / file functionality including copying.","title":"Copy directory from a jar file","body":"<p>I'm not sure what <code>FileHelper</code> is or does, but you will NOT be able to copy files (or directories) directly from JAR. Using InputStream as you've mentioned is the correct way (from either jar or zip):</p>\n\n<pre><code>InputStream is = getClass().getResourceAsStream(\"file_in_jar\");\nOutputStream os = new FileOutputStream(\"dest_file\");\nbyte[] buffer = new byte[4096];\nint length;\nwhile ((length = is.read(buffer)) &gt; 0) {\n    os.write(buffer, 0, length);\n}\nos.close();\nis.close();\n</code></pre>\n\n<p>You'll need to do the above (handling exceptions appropriately, of course) for each of your files. You may or may not be able (depending on your deployment configuration) to read jar file in question as <a href=\"http://java.sun.com/javase/6/docs/api/java/util/jar/JarFile.html\" rel=\"nofollow noreferrer\">JarFile</a> (it may not be available as an actual file if deployed as part of non-expanded web app, for example). If you can read it, you should be able to iterate through list of JarEntry instances and thus reconstitute your directory structure; otherwise you may need to store it elsewhere (within text or xml resource, for example)</p>\n\n<p>You may want to take a look at <a href=\"http://commons.apache.org/io/\" rel=\"nofollow noreferrer\">Commons IO</a> library - it provides a lot of commonly used stream / file functionality including copying.</p>\n"},{"comments":[{"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"score":0,"creation_date":1252278922,"post_id":1386868,"comment_id":1227235,"body_markdown":"I end up doing this. Zipping everything and getting the zip as resource afterwards to unzip it where needed.","body":"I end up doing this. Zipping everything and getting the zip as resource afterwards to unzip it where needed."}],"tags":[],"owner":{"account_id":40959,"reputation":96707,"user_id":118903,"display_name":"Vinay Sajip"},"comment_count":1,"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1252275105,"creation_date":1252275105,"answer_id":1386868,"question_id":1386809,"body_markdown":"I think your approach of using a zip file makes sense. Presumably you&#39;ll do a `getResourceAsStream` to get at the internals of the zip, which will logically look like a directory tree.\r\n\r\nA skeleton approach:\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;my_embedded_file.zip&quot;);\r\n    ZipInputStream zis = new ZipInputStream(is);\r\n    ZipEntry entry;\r\n    \r\n    while ((entry = zis.getNextEntry()) != null) {\r\n        // do something with the entry - for example, extract the data \r\n    }\r\n\r\n","title":"Copy directory from a jar file","body":"<p>I think your approach of using a zip file makes sense. Presumably you'll do a <code>getResourceAsStream</code> to get at the internals of the zip, which will logically look like a directory tree.</p>\n\n<p>A skeleton approach:</p>\n\n<pre><code>InputStream is = getClass().getResourceAsStream(\"my_embedded_file.zip\");\nZipInputStream zis = new ZipInputStream(is);\nZipEntry entry;\n\nwhile ((entry = zis.getNextEntry()) != null) {\n    // do something with the entry - for example, extract the data \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2267875,"reputation":3038,"user_id":1996022,"accept_rate":77,"display_name":"BrainStone"},"score":2,"creation_date":1374769911,"post_id":2993908,"comment_id":26081539,"body_markdown":"What libary are you using? (FileUtils, CollectionUtils, ...)","body":"What libary are you using? (FileUtils, CollectionUtils, ...)"}],"tags":[],"owner":{"account_id":105471,"reputation":1407,"user_id":281437,"display_name":"nivekastoreth"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1515729084,"creation_date":1275953782,"answer_id":2993908,"question_id":1386809,"body_markdown":"I hated the idea of using the ZIP file method posted earlier, so I came up with the following.\r\n\r\n    public void copyResourcesRecursively(URL originUrl, File destination) throws Exception {\r\n        URLConnection urlConnection = originUrl.openConnection();\r\n        if (urlConnection instanceof JarURLConnection) {\r\n            copyJarResourcesRecursively(destination, (JarURLConnection) urlConnection);\r\n        } else if (urlConnection instanceof FileURLConnection) {\r\n            FileUtils.copyFilesRecursively(new File(originUrl.getPath()), destination);\r\n        } else {\r\n            throw new Exception(&quot;URLConnection[&quot; + urlConnection.getClass().getSimpleName() +\r\n                    &quot;] is not a recognized/implemented connection type.&quot;);\r\n        }\r\n    }\r\n\r\n    public void copyJarResourcesRecursively(File destination, JarURLConnection jarConnection ) throws IOException {\r\n        JarFile jarFile = jarConnection.getJarFile();\r\n        for (JarEntry entry : CollectionUtils.iterable(jarFile.entries())) {\r\n            if (entry.getName().startsWith(jarConnection.getEntryName())) {\r\n                String fileName = StringUtils.removeStart(entry.getName(), jarConnection.getEntryName());\r\n                if (!entry.isDirectory()) {\r\n                    InputStream entryInputStream = null;\r\n                    try {\r\n                        entryInputStream = jarFile.getInputStream(entry);\r\n                        FileUtils.copyStream(entryInputStream, new File(destination, fileName));\r\n                    } finally {\r\n                        FileUtils.safeClose(entryInputStream);\r\n                    }\r\n                } else {\r\n                    FileUtils.ensureDirectoryExists(new File(destination, fileName));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nExample Useage (copies all files from the classpath resource &quot;config&quot; to &quot;${homeDirectory}/config&quot;:\r\n\r\n    File configHome = new File(homeDirectory, &quot;config/&quot;);\r\n    //noinspection ResultOfMethodCallIgnored\r\n    configHome.mkdirs();\r\n    copyResourcesRecursively(super.getClass().getResource(&quot;/config&quot;), configHome);\r\n\r\nThis should work both for copying from both flat files as well as Jar files.\r\n\r\nNote: The code above uses some custom utility classes (FileUtils, CollectionUtils) as well as some from Apache commons-lang (StringUtils), but the functions should be named fairly obviously.","title":"Copy directory from a jar file","body":"<p>I hated the idea of using the ZIP file method posted earlier, so I came up with the following.</p>\n\n<pre><code>public void copyResourcesRecursively(URL originUrl, File destination) throws Exception {\n    URLConnection urlConnection = originUrl.openConnection();\n    if (urlConnection instanceof JarURLConnection) {\n        copyJarResourcesRecursively(destination, (JarURLConnection) urlConnection);\n    } else if (urlConnection instanceof FileURLConnection) {\n        FileUtils.copyFilesRecursively(new File(originUrl.getPath()), destination);\n    } else {\n        throw new Exception(\"URLConnection[\" + urlConnection.getClass().getSimpleName() +\n                \"] is not a recognized/implemented connection type.\");\n    }\n}\n\npublic void copyJarResourcesRecursively(File destination, JarURLConnection jarConnection ) throws IOException {\n    JarFile jarFile = jarConnection.getJarFile();\n    for (JarEntry entry : CollectionUtils.iterable(jarFile.entries())) {\n        if (entry.getName().startsWith(jarConnection.getEntryName())) {\n            String fileName = StringUtils.removeStart(entry.getName(), jarConnection.getEntryName());\n            if (!entry.isDirectory()) {\n                InputStream entryInputStream = null;\n                try {\n                    entryInputStream = jarFile.getInputStream(entry);\n                    FileUtils.copyStream(entryInputStream, new File(destination, fileName));\n                } finally {\n                    FileUtils.safeClose(entryInputStream);\n                }\n            } else {\n                FileUtils.ensureDirectoryExists(new File(destination, fileName));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Example Useage (copies all files from the classpath resource \"config\" to \"${homeDirectory}/config\":</p>\n\n<pre><code>File configHome = new File(homeDirectory, \"config/\");\n//noinspection ResultOfMethodCallIgnored\nconfigHome.mkdirs();\ncopyResourcesRecursively(super.getClass().getResource(\"/config\"), configHome);\n</code></pre>\n\n<p>This should work both for copying from both flat files as well as Jar files.</p>\n\n<p>Note: The code above uses some custom utility classes (FileUtils, CollectionUtils) as well as some from Apache commons-lang (StringUtils), but the functions should be named fairly obviously.</p>\n"},{"comments":[{"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"score":1,"creation_date":1375144479,"post_id":3348150,"comment_id":26209278,"body_markdown":"I found this immensely helpful after asking this question:  http://stackoverflow.com/questions/17928722/custom-plugin-cant-copy-files-from-jar-because-protocol-is-jar","body":"I found this immensely helpful after asking this question:  <a href=\"http://stackoverflow.com/questions/17928722/custom-plugin-cant-copy-files-from-jar-because-protocol-is-jar\" title=\"custom plugin cant copy files from jar because protocol is jar\">stackoverflow.com/questions/17928722/&hellip;</a>"}],"tags":[],"owner":{"account_id":635356,"reputation":191,"user_id":403894,"display_name":"jabber"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1343980110,"creation_date":1280266066,"answer_id":3348150,"question_id":1386809,"body_markdown":"Thanks for the solution!  For others, the following doesn&#39;t make use of the auxiliary classes (except for StringUtils)\r\n\r\n/*I added extra information for this solution, check the end of the code, Zegor V*/\r\n\r\n    public class FileUtils {\r\n      public static boolean copyFile(final File toCopy, final File destFile) {\r\n        try {\r\n          return FileUtils.copyStream(new FileInputStream(toCopy),\r\n              new FileOutputStream(destFile));\r\n        } catch (final FileNotFoundException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean copyFilesRecusively(final File toCopy,\r\n          final File destDir) {\r\n        assert destDir.isDirectory();\r\n    \r\n        if (!toCopy.isDirectory()) {\r\n          return FileUtils.copyFile(toCopy, new File(destDir, toCopy.getName()));\r\n        } else {\r\n          final File newDestDir = new File(destDir, toCopy.getName());\r\n          if (!newDestDir.exists() &amp;&amp; !newDestDir.mkdir()) {\r\n            return false;\r\n          }\r\n          for (final File child : toCopy.listFiles()) {\r\n            if (!FileUtils.copyFilesRecusively(child, newDestDir)) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      public static boolean copyJarResourcesRecursively(final File destDir,\r\n          final JarURLConnection jarConnection) throws IOException {\r\n    \r\n        final JarFile jarFile = jarConnection.getJarFile();\r\n    \r\n        for (final Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\r\n          final JarEntry entry = e.nextElement();\r\n          if (entry.getName().startsWith(jarConnection.getEntryName())) {\r\n            final String filename = StringUtils.removeStart(entry.getName(), //\r\n                jarConnection.getEntryName());\r\n    \r\n            final File f = new File(destDir, filename);\r\n            if (!entry.isDirectory()) {\r\n              final InputStream entryInputStream = jarFile.getInputStream(entry);\r\n              if(!FileUtils.copyStream(entryInputStream, f)){\r\n                return false;\r\n              }\r\n              entryInputStream.close();\r\n            } else {\r\n              if (!FileUtils.ensureDirectoryExists(f)) {\r\n                throw new IOException(&quot;Could not create directory: &quot;\r\n                    + f.getAbsolutePath());\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      public static boolean copyResourcesRecursively( //\r\n          final URL originUrl, final File destination) {\r\n        try {\r\n          final URLConnection urlConnection = originUrl.openConnection();\r\n          if (urlConnection instanceof JarURLConnection) {\r\n            return FileUtils.copyJarResourcesRecursively(destination,\r\n                (JarURLConnection) urlConnection);\r\n          } else {\r\n            return FileUtils.copyFilesRecusively(new File(originUrl.getPath()),\r\n                destination);\r\n          }\r\n        } catch (final IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean copyStream(final InputStream is, final File f) {\r\n        try {\r\n          return FileUtils.copyStream(is, new FileOutputStream(f));\r\n        } catch (final FileNotFoundException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean copyStream(final InputStream is, final OutputStream os) {\r\n        try {\r\n          final byte[] buf = new byte[1024];\r\n    \r\n          int len = 0;\r\n          while ((len = is.read(buf)) &gt; 0) {\r\n            os.write(buf, 0, len);\r\n          }\r\n          is.close();\r\n          os.close();\r\n          return true;\r\n        } catch (final IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean ensureDirectoryExists(final File f) {\r\n        return f.exists() || f.mkdir();\r\n      }\r\n    }\r\n\r\n&lt;Zegor V&gt;\r\n\r\nIt uses only one external library from the Apache Software Foundation, however the used functions are only :\r\n\r\n      public static String removeStart(String str, String remove) {\r\n          if (isEmpty(str) || isEmpty(remove)) {\r\n              return str;\r\n          }\r\n          if (str.startsWith(remove)){\r\n              return str.substring(remove.length());\r\n          }\r\n          return str;\r\n      }\r\n      public static boolean isEmpty(CharSequence cs) {\r\n          return cs == null || cs.length() == 0;\r\n      }\r\n\r\nMy knowledge is limited on Apache licence, but you can use this methods in your code without library. However, i am not responsible for licence issues, if there is.\r\n","title":"Copy directory from a jar file","body":"<p>Thanks for the solution!  For others, the following doesn't make use of the auxiliary classes (except for StringUtils)</p>\n\n<p>/<em>I added extra information for this solution, check the end of the code, Zegor V</em>/</p>\n\n<pre><code>public class FileUtils {\n  public static boolean copyFile(final File toCopy, final File destFile) {\n    try {\n      return FileUtils.copyStream(new FileInputStream(toCopy),\n          new FileOutputStream(destFile));\n    } catch (final FileNotFoundException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean copyFilesRecusively(final File toCopy,\n      final File destDir) {\n    assert destDir.isDirectory();\n\n    if (!toCopy.isDirectory()) {\n      return FileUtils.copyFile(toCopy, new File(destDir, toCopy.getName()));\n    } else {\n      final File newDestDir = new File(destDir, toCopy.getName());\n      if (!newDestDir.exists() &amp;&amp; !newDestDir.mkdir()) {\n        return false;\n      }\n      for (final File child : toCopy.listFiles()) {\n        if (!FileUtils.copyFilesRecusively(child, newDestDir)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  public static boolean copyJarResourcesRecursively(final File destDir,\n      final JarURLConnection jarConnection) throws IOException {\n\n    final JarFile jarFile = jarConnection.getJarFile();\n\n    for (final Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\n      final JarEntry entry = e.nextElement();\n      if (entry.getName().startsWith(jarConnection.getEntryName())) {\n        final String filename = StringUtils.removeStart(entry.getName(), //\n            jarConnection.getEntryName());\n\n        final File f = new File(destDir, filename);\n        if (!entry.isDirectory()) {\n          final InputStream entryInputStream = jarFile.getInputStream(entry);\n          if(!FileUtils.copyStream(entryInputStream, f)){\n            return false;\n          }\n          entryInputStream.close();\n        } else {\n          if (!FileUtils.ensureDirectoryExists(f)) {\n            throw new IOException(\"Could not create directory: \"\n                + f.getAbsolutePath());\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  public static boolean copyResourcesRecursively( //\n      final URL originUrl, final File destination) {\n    try {\n      final URLConnection urlConnection = originUrl.openConnection();\n      if (urlConnection instanceof JarURLConnection) {\n        return FileUtils.copyJarResourcesRecursively(destination,\n            (JarURLConnection) urlConnection);\n      } else {\n        return FileUtils.copyFilesRecusively(new File(originUrl.getPath()),\n            destination);\n      }\n    } catch (final IOException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean copyStream(final InputStream is, final File f) {\n    try {\n      return FileUtils.copyStream(is, new FileOutputStream(f));\n    } catch (final FileNotFoundException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean copyStream(final InputStream is, final OutputStream os) {\n    try {\n      final byte[] buf = new byte[1024];\n\n      int len = 0;\n      while ((len = is.read(buf)) &gt; 0) {\n        os.write(buf, 0, len);\n      }\n      is.close();\n      os.close();\n      return true;\n    } catch (final IOException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean ensureDirectoryExists(final File f) {\n    return f.exists() || f.mkdir();\n  }\n}\n</code></pre>\n\n<p></p>\n\n<p>It uses only one external library from the Apache Software Foundation, however the used functions are only :</p>\n\n<pre><code>  public static String removeStart(String str, String remove) {\n      if (isEmpty(str) || isEmpty(remove)) {\n          return str;\n      }\n      if (str.startsWith(remove)){\n          return str.substring(remove.length());\n      }\n      return str;\n  }\n  public static boolean isEmpty(CharSequence cs) {\n      return cs == null || cs.length() == 0;\n  }\n</code></pre>\n\n<p>My knowledge is limited on Apache licence, but you can use this methods in your code without library. However, i am not responsible for licence issues, if there is.</p>\n"},{"comments":[{"owner":{"account_id":112092,"reputation":1455,"user_id":295802,"accept_rate":64,"display_name":"Mark Bennett"},"score":1,"creation_date":1409262694,"post_id":24316335,"comment_id":39911870,"body_markdown":"Cool answer, Java 7 has lots of neat stuff.  Seems like your utility should take 3 arguments: (1) virtual path within jar file to copy from, (2) destination directory in the filesystem, and (3) path to actual .jar file archive to extract from.  I think your args #&#39;s 1 and 2 match up with that I&#39;m saying, but not sure on arg # 3? Maybe you&#39;re assuming it&#39;s the jar we&#39;re running from, or somehow letting the JVM class loader find the resource, presumably in one of the jars on the classpath?  Just checking, and THANKS!","body":"Cool answer, Java 7 has lots of neat stuff.  Seems like your utility should take 3 arguments: (1) virtual path within jar file to copy from, (2) destination directory in the filesystem, and (3) path to actual .jar file archive to extract from.  I think your args #&#39;s 1 and 2 match up with that I&#39;m saying, but not sure on arg # 3? Maybe you&#39;re assuming it&#39;s the jar we&#39;re running from, or somehow letting the JVM class loader find the resource, presumably in one of the jars on the classpath?  Just checking, and THANKS!"},{"owner":{"account_id":207666,"reputation":351,"user_id":457659,"accept_rate":80,"display_name":"RockMeetHardplace"},"score":11,"creation_date":1418703247,"post_id":24316335,"comment_id":43426151,"body_markdown":"This answer does not work.  I&#39;m intrigued to try and use the (relatively) new nio API, but I can&#39;t seem to make it work:  java.lang.IllegalArgumentException: Path component should be &#39;/&#39;","body":"This answer does not work.  I&#39;m intrigued to try and use the (relatively) new nio API, but I can&#39;t seem to make it work:  java.lang.IllegalArgumentException: Path component should be &#39;/&#39;"},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1533110543,"post_id":24316335,"comment_id":90220781,"body_markdown":"Good solution! I was able to copy a folder with all files from jar /resources without external libraries. Thank you!","body":"Good solution! I was able to copy a folder with all files from jar /resources without external libraries. Thank you!"},{"owner":{"account_id":4451254,"reputation":81,"user_id":3623060,"display_name":"sushantsha"},"score":0,"creation_date":1603839365,"post_id":24316335,"comment_id":114163214,"body_markdown":"@RockMeetHardplace I got the error you described &quot;Path component should be &#39;/&#39;&quot; when the resource happens to be in the class path. The url resolves to a file url and not in a jar in that case. Try to modify this solution with the answer provided by Duc below.","body":"@RockMeetHardplace I got the error you described &quot;Path component should be &#39;/&#39;&quot; when the resource happens to be in the class path. The url resolves to a file url and not in a jar in that case. Try to modify this solution with the answer provided by Duc below."},{"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"score":0,"creation_date":1627626431,"post_id":24316335,"comment_id":121210766,"body_markdown":"This is the simplest most concise answer. Definitely deserves to be #1. It&#39;s also using nio, which is probably faster, right?","body":"This is the simplest most concise answer. Definitely deserves to be #1. It&#39;s also using nio, which is probably faster, right?"}],"tags":[],"owner":{"account_id":222406,"reputation":13699,"user_id":480975,"display_name":"lpiepiora"},"comment_count":5,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1540253193,"creation_date":1403212450,"answer_id":24316335,"question_id":1386809,"body_markdown":"Using Java7+ this can be achieved by creating `FileSystem` and then using `walkFileTree` to copy files recursively.\r\n\r\n    public void copyFromJar(String source, final Path target) throws URISyntaxException, IOException {\r\n        URI resource = getClass().getResource(&quot;&quot;).toURI();\r\n        FileSystem fileSystem = FileSystems.newFileSystem(\r\n                resource,\r\n                Collections.&lt;String, String&gt;emptyMap()\r\n        );\r\n\r\n    \r\n        final Path jarPath = fileSystem.getPath(source);\r\n    \r\n        Files.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\r\n    \r\n            private Path currentTarget;\r\n    \r\n            @Override\r\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n                currentTarget = target.resolve(jarPath.relativize(dir).toString());\r\n                Files.createDirectories(currentTarget);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n    \r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                Files.copy(file, target.resolve(jarPath.relativize(file).toString()), StandardCopyOption.REPLACE_EXISTING);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n    \r\n        });\r\n    }\r\n\r\nThe method can be used like this:\r\n\r\n    copyFromJar(&quot;/path/to/the/template/in/jar&quot;, Paths.get(&quot;/tmp/from-jar&quot;))","title":"Copy directory from a jar file","body":"<p>Using Java7+ this can be achieved by creating <code>FileSystem</code> and then using <code>walkFileTree</code> to copy files recursively.</p>\n\n<pre><code>public void copyFromJar(String source, final Path target) throws URISyntaxException, IOException {\n    URI resource = getClass().getResource(\"\").toURI();\n    FileSystem fileSystem = FileSystems.newFileSystem(\n            resource,\n            Collections.&lt;String, String&gt;emptyMap()\n    );\n\n\n    final Path jarPath = fileSystem.getPath(source);\n\n    Files.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\n\n        private Path currentTarget;\n\n        @Override\n        public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n            currentTarget = target.resolve(jarPath.relativize(dir).toString());\n            Files.createDirectories(currentTarget);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            Files.copy(file, target.resolve(jarPath.relativize(file).toString()), StandardCopyOption.REPLACE_EXISTING);\n            return FileVisitResult.CONTINUE;\n        }\n\n    });\n}\n</code></pre>\n\n<p>The method can be used like this:</p>\n\n<pre><code>copyFromJar(\"/path/to/the/template/in/jar\", Paths.get(\"/tmp/from-jar\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2642203,"reputation":1763,"user_id":2285617,"accept_rate":79,"display_name":"Semyon Danilov"},"score":1,"creation_date":1632075453,"post_id":25613576,"comment_id":122389771,"body_markdown":"Funny thing, I was looking for the way to copy tesseract trained data. Good thing they have it!","body":"Funny thing, I was looking for the way to copy tesseract trained data. Good thing they have it!"},{"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"score":0,"creation_date":1632830604,"post_id":25613576,"comment_id":122594589,"body_markdown":"Yes, you&#39;re right, I&#39;ve added it there back then.","body":"Yes, you&#39;re right, I&#39;ve added it there back then."}],"tags":[],"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409610527,"creation_date":1409610527,"answer_id":25613576,"question_id":1386809,"body_markdown":"Here is a working version from the [tess4j][1] project:\r\n\r\n     /**\r\n     * This method will copy resources from the jar file of the current thread and extract it to the destination folder.\r\n     * \r\n     * @param jarConnection\r\n     * @param destDir\r\n     * @throws IOException\r\n     */\r\n    public void copyJarResourceToFolder(JarURLConnection jarConnection, File destDir) {\r\n\r\n        try {\r\n            JarFile jarFile = jarConnection.getJarFile();\r\n\r\n            /**\r\n             * Iterate all entries in the jar file.\r\n             */\r\n            for (Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\r\n\r\n                JarEntry jarEntry = e.nextElement();\r\n                String jarEntryName = jarEntry.getName();\r\n                String jarConnectionEntryName = jarConnection.getEntryName();\r\n\r\n                /**\r\n                 * Extract files only if they match the path.\r\n                 */\r\n                if (jarEntryName.startsWith(jarConnectionEntryName)) {\r\n\r\n                    String filename = jarEntryName.startsWith(jarConnectionEntryName) ? jarEntryName.substring(jarConnectionEntryName.length()) : jarEntryName;\r\n                    File currentFile = new File(destDir, filename);\r\n\r\n                    if (jarEntry.isDirectory()) {\r\n                        currentFile.mkdirs();\r\n                    } else {\r\n                        InputStream is = jarFile.getInputStream(jarEntry);\r\n                        OutputStream out = FileUtils.openOutputStream(currentFile);\r\n                        IOUtils.copy(is, out);\r\n                        is.close();\r\n                        out.close();\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            // TODO add logger\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/nguyenq/tess4j/blob/master/src/main/java/net/sourceforge/tess4j/util/LoadLibs.java#L156","title":"Copy directory from a jar file","body":"<p>Here is a working version from the <a href=\"https://github.com/nguyenq/tess4j/blob/master/src/main/java/net/sourceforge/tess4j/util/LoadLibs.java#L156\" rel=\"nofollow\">tess4j</a> project:</p>\n\n<pre><code> /**\n * This method will copy resources from the jar file of the current thread and extract it to the destination folder.\n * \n * @param jarConnection\n * @param destDir\n * @throws IOException\n */\npublic void copyJarResourceToFolder(JarURLConnection jarConnection, File destDir) {\n\n    try {\n        JarFile jarFile = jarConnection.getJarFile();\n\n        /**\n         * Iterate all entries in the jar file.\n         */\n        for (Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\n\n            JarEntry jarEntry = e.nextElement();\n            String jarEntryName = jarEntry.getName();\n            String jarConnectionEntryName = jarConnection.getEntryName();\n\n            /**\n             * Extract files only if they match the path.\n             */\n            if (jarEntryName.startsWith(jarConnectionEntryName)) {\n\n                String filename = jarEntryName.startsWith(jarConnectionEntryName) ? jarEntryName.substring(jarConnectionEntryName.length()) : jarEntryName;\n                File currentFile = new File(destDir, filename);\n\n                if (jarEntry.isDirectory()) {\n                    currentFile.mkdirs();\n                } else {\n                    InputStream is = jarFile.getInputStream(jarEntry);\n                    OutputStream out = FileUtils.openOutputStream(currentFile);\n                    IOUtils.copy(is, out);\n                    is.close();\n                    out.close();\n                }\n            }\n        }\n    } catch (IOException e) {\n        // TODO add logger\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3321112,"reputation":573,"user_id":2792280,"display_name":"Toldry"},"score":1,"creation_date":1668443917,"post_id":32903097,"comment_id":131400752,"body_markdown":"The link you provided does not contain a complete implementation of `PathReference`.","body":"The link you provided does not contain a complete implementation of <code>PathReference</code>."}],"tags":[],"owner":{"account_id":7051743,"reputation":69,"user_id":5400550,"display_name":"Duc Loi"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1443773729,"creation_date":1443773729,"answer_id":32903097,"question_id":1386809,"body_markdown":"The answer of lpiepiora, is correct! But there is a minor issue,\r\nThe source, should be a jar Url. When the source path is path to a file system, then the above code will not work proper.\r\nTo solve this problem, you should use the ReferencePath, the code, you can get from the following link:\r\nhttps://stackoverflow.com/questions/24000812/read-from-file-system-via-filesystem-object\r\nThe new code of copyFromJar should like:\r\n\r\n    public class ResourcesUtils {\r\n\tpublic static void copyFromJar(final String sourcePath, final Path target) throws URISyntaxException,\r\n\t\t\tIOException {\r\n\t\tfinal PathReference pathReference = PathReference.getPath(new URI(sourcePath));\r\n\t\tfinal Path jarPath = pathReference.getPath();\r\n\r\n\t\tFiles.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n\t\t\tprivate Path currentTarget;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic FileVisitResult preVisitDirectory(final Path dir, final BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\tcurrentTarget = target.resolve(jarPath.relativize(dir)\r\n\t\t\t\t\t\t.toString());\r\n\t\t\t\tFiles.createDirectories(currentTarget);\r\n\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic FileVisitResult visitFile(final Path file, final BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\tFiles.copy(file, target.resolve(jarPath.relativize(file)\r\n\t\t\t\t\t\t.toString()), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws MalformedURLException, URISyntaxException, IOException {\r\n\t\tfinal String sourcePath = &quot;jar:file:/c:/temp/example.jar!/src/main/resources&quot;;\r\n\t\tResourcesUtils.copyFromJar(sourcePath, Paths.get(&quot;c:/temp/resources&quot;));\r\n\t}","title":"Copy directory from a jar file","body":"<p>The answer of lpiepiora, is correct! But there is a minor issue,\nThe source, should be a jar Url. When the source path is path to a file system, then the above code will not work proper.\nTo solve this problem, you should use the ReferencePath, the code, you can get from the following link:\n<a href=\"https://stackoverflow.com/questions/24000812/read-from-file-system-via-filesystem-object\">Read from file system via FileSystem object</a>\nThe new code of copyFromJar should like:</p>\n\n<pre><code>public class ResourcesUtils {\npublic static void copyFromJar(final String sourcePath, final Path target) throws URISyntaxException,\n        IOException {\n    final PathReference pathReference = PathReference.getPath(new URI(sourcePath));\n    final Path jarPath = pathReference.getPath();\n\n    Files.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\n\n        private Path currentTarget;\n\n        @Override\n        public FileVisitResult preVisitDirectory(final Path dir, final BasicFileAttributes attrs) throws IOException {\n            currentTarget = target.resolve(jarPath.relativize(dir)\n                    .toString());\n            Files.createDirectories(currentTarget);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile(final Path file, final BasicFileAttributes attrs) throws IOException {\n            Files.copy(file, target.resolve(jarPath.relativize(file)\n                    .toString()), StandardCopyOption.REPLACE_EXISTING);\n            return FileVisitResult.CONTINUE;\n        }\n\n    });\n}\n\npublic static void main(final String[] args) throws MalformedURLException, URISyntaxException, IOException {\n    final String sourcePath = \"jar:file:/c:/temp/example.jar!/src/main/resources\";\n    ResourcesUtils.copyFromJar(sourcePath, Paths.get(\"c:/temp/resources\"));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":456891,"reputation":160,"user_id":855893,"display_name":"opncow"},"score":0,"creation_date":1517231669,"post_id":45431874,"comment_id":83997508,"body_markdown":"Thanks a lot for sharing. I have used your class in a prototypical command-line application based on Spring Shell to extract some Thymeleaf templates from the Jar. That worked really well!","body":"Thanks a lot for sharing. I have used your class in a prototypical command-line application based on Spring Shell to extract some Thymeleaf templates from the Jar. That worked really well!"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1658481546,"post_id":45431874,"comment_id":129067022,"body_markdown":"good solution in spring boot context","body":"good solution in spring boot context"}],"tags":[],"owner":{"account_id":11457597,"reputation":61,"user_id":8398131,"display_name":"galvanom"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501573584,"creation_date":1501573584,"answer_id":45431874,"question_id":1386809,"body_markdown":"I have faced the similair problem recently. I tried to extract folder from java resources. So I resolved this issue with Spring **PathMatchingResourcePatternResolver**.\r\n\r\nThis code gets all files and directories from the specified resource:\r\n\r\n            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n            Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\r\n                    + resourceFolder + &quot;/**&quot;);\r\n\r\nAnd this is the class that copy all files and directories from the resource to the disk path.\r\n\r\n    public class ResourceExtractor {\r\n\r\n    public static final Logger logger = \r\n    Logger.getLogger(ResourceExtractor.class);\r\n\r\n    public void extract(String resourceFolder, String destinationFolder){\r\n        try {\r\n            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n            Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\r\n                    + resourceFolder + &quot;/**&quot;);\r\n            URI inJarUri  = new DefaultResourceLoader().getResource(&quot;classpath:&quot; + resourceFolder).getURI();\r\n\r\n            for (Resource resource : resources){\r\n                String relativePath = resource\r\n                            .getURI()\r\n                            .getRawSchemeSpecificPart()\r\n                            .replace(inJarUri.getRawSchemeSpecificPart(), &quot;&quot;);\r\n                if (relativePath.isEmpty()){\r\n                    continue;\r\n                }\r\n                if (relativePath.endsWith(&quot;/&quot;) || relativePath.endsWith(&quot;\\\\&quot;)) {\r\n                    File dirFile = new File(destinationFolder + relativePath);\r\n                    if (!dirFile.exists()) {\r\n                        dirFile.mkdir();\r\n                    }\r\n                }\r\n                else{\r\n                    copyResourceToFilePath(resource, destinationFolder + relativePath);\r\n                }\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            logger.debug(&quot;Extraction failed!&quot;, e );\r\n        }\r\n    }\r\n\r\n    private void copyResourceToFilePath(Resource resource, String filePath) throws IOException{\r\n        InputStream resourceInputStream = resource.getInputStream();\r\n        File file = new File(filePath);\r\n        if (!file.exists()) {\r\n            FileUtils.copyInputStreamToFile(resourceInputStream, file);\r\n        }\r\n    }\r\n}\r\n\r\n ","title":"Copy directory from a jar file","body":"<p>I have faced the similair problem recently. I tried to extract folder from java resources. So I resolved this issue with Spring <strong>PathMatchingResourcePatternResolver</strong>.</p>\n\n<p>This code gets all files and directories from the specified resource:</p>\n\n<pre><code>        ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n        Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\n                + resourceFolder + \"/**\");\n</code></pre>\n\n<p>And this is the class that copy all files and directories from the resource to the disk path.</p>\n\n<pre><code>public class ResourceExtractor {\n\npublic static final Logger logger = \nLogger.getLogger(ResourceExtractor.class);\n\npublic void extract(String resourceFolder, String destinationFolder){\n    try {\n        ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n        Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\n                + resourceFolder + \"/**\");\n        URI inJarUri  = new DefaultResourceLoader().getResource(\"classpath:\" + resourceFolder).getURI();\n\n        for (Resource resource : resources){\n            String relativePath = resource\n                        .getURI()\n                        .getRawSchemeSpecificPart()\n                        .replace(inJarUri.getRawSchemeSpecificPart(), \"\");\n            if (relativePath.isEmpty()){\n                continue;\n            }\n            if (relativePath.endsWith(\"/\") || relativePath.endsWith(\"\\\\\")) {\n                File dirFile = new File(destinationFolder + relativePath);\n                if (!dirFile.exists()) {\n                    dirFile.mkdir();\n                }\n            }\n            else{\n                copyResourceToFilePath(resource, destinationFolder + relativePath);\n            }\n        }\n    }\n    catch (IOException e){\n        logger.debug(\"Extraction failed!\", e );\n    }\n}\n\nprivate void copyResourceToFilePath(Resource resource, String filePath) throws IOException{\n    InputStream resourceInputStream = resource.getInputStream();\n    File file = new File(filePath);\n    if (!file.exists()) {\n        FileUtils.copyInputStreamToFile(resourceInputStream, file);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":1,"creation_date":1579351691,"post_id":58318009,"comment_id":105742057,"body_markdown":"Your answer should note that it will work if and only if the resources are in a jar file. Class loaders may load resources from other things than a jar file.","body":"Your answer should note that it will work if and only if the resources are in a jar file. Class loaders may load resources from other things than a jar file."},{"owner":{"account_id":383246,"reputation":1294,"user_id":738968,"accept_rate":77,"display_name":"Miguel Jim&#233;nez"},"score":0,"creation_date":1580423941,"post_id":58318009,"comment_id":106103371,"body_markdown":"@toolforger Thank you for the clarification. Your contributions are welcomed.","body":"@toolforger Thank you for the clarification. Your contributions are welcomed."},{"owner":{"account_id":9762349,"reputation":3120,"user_id":7237062,"accept_rate":60,"display_name":"LoneWanderer"},"score":1,"creation_date":1632123779,"post_id":58318009,"comment_id":122398626,"body_markdown":"This piece of code saved my day ; and brought my work into a wonderful multiplatform compatible JAR with JNA. upvoted. Another +1 for it being a proper class.","body":"This piece of code saved my day ; and brought my work into a wonderful multiplatform compatible JAR with JNA. upvoted. Another +1 for it being a proper class."}],"tags":[],"owner":{"account_id":383246,"reputation":1294,"user_id":738968,"accept_rate":77,"display_name":"Miguel Jim&#233;nez"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1570694078,"creation_date":1570694078,"answer_id":58318009,"question_id":1386809,"body_markdown":"I know this question is kind of old now but after trying some answers that didn&#39;t work and others that required a whole library for just one method, I decided to put together a class. It doesn&#39;t require third-party libraries and it&#39;s been tested with Java 8. There are four public methods: `copyResourcesToTempDir`, `copyResourcesToDir`, `copyResourceDirectory` and `jar`.\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.URL;\r\n    import java.nio.file.Files;\r\n    import java.util.Enumeration;\r\n    import java.util.Optional;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarFile;\r\n    \r\n    /**\r\n     * A helper to copy resources from a JAR file into a directory.\r\n     */\r\n    public final class ResourceCopy {\r\n    \r\n        /**\r\n         * URI prefix for JAR files.\r\n         */\r\n        private static final String JAR_URI_PREFIX = &quot;jar:file:&quot;;\r\n    \r\n        /**\r\n         * The default buffer size.\r\n         */\r\n        private static final int BUFFER_SIZE = 8 * 1024;\r\n    \r\n        /**\r\n         * Copies a set of resources into a temporal directory, optionally preserving\r\n         * the paths of the resources.\r\n         * @param preserve Whether the files should be placed directly in the\r\n         *  directory or the source path should be kept\r\n         * @param paths The paths to the resources\r\n         * @return The temporal directory\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public File copyResourcesToTempDir(final boolean preserve,\r\n            final String... paths)\r\n            throws IOException {\r\n            final File parent = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n            File directory;\r\n            do {\r\n                directory = new File(parent, String.valueOf(System.nanoTime()));\r\n            } while (!directory.mkdir());\r\n            return this.copyResourcesToDir(directory, preserve, paths);\r\n        }\r\n    \r\n        /**\r\n         * Copies a set of resources into a directory, preserving the paths\r\n         * and names of the resources.\r\n         * @param directory The target directory\r\n         * @param preserve Whether the files should be placed directly in the\r\n         *  directory or the source path should be kept\r\n         * @param paths The paths to the resources\r\n         * @return The temporal directory\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public File copyResourcesToDir(final File directory, final boolean preserve,\r\n            final String... paths) throws IOException {\r\n            for (final String path : paths) {\r\n                final File target;\r\n                if (preserve) {\r\n                    target = new File(directory, path);\r\n                    target.getParentFile().mkdirs();\r\n                } else {\r\n                    target = new File(directory, new File(path).getName());\r\n                }\r\n                this.writeToFile(\r\n                    Thread.currentThread()\r\n                        .getContextClassLoader()\r\n                        .getResourceAsStream(path),\r\n                    target\r\n                );\r\n            }\r\n            return directory;\r\n        }\r\n    \r\n        /**\r\n         * Copies a resource directory from inside a JAR file to a target directory.\r\n         * @param source The JAR file\r\n         * @param path The path to the directory inside the JAR file\r\n         * @param target The target directory\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public void copyResourceDirectory(final JarFile source, final String path,\r\n            final File target) throws IOException {\r\n            final Enumeration&lt;JarEntry&gt; entries = source.entries();\r\n            final String newpath = String.format(&quot;%s/&quot;, path);\r\n            while (entries.hasMoreElements()) {\r\n                final JarEntry entry = entries.nextElement();\r\n                if (entry.getName().startsWith(newpath) &amp;&amp; !entry.isDirectory()) {\r\n                    final File dest =\r\n                        new File(target, entry.getName().substring(newpath.length()));\r\n                    final File parent = dest.getParentFile();\r\n                    if (parent != null) {\r\n                        parent.mkdirs();\r\n                    }\r\n                    this.writeToFile(source.getInputStream(entry), dest);\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * The JAR file containing the given class.\r\n         * @param clazz The class\r\n         * @return The JAR file or null\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public Optional&lt;JarFile&gt; jar(final Class&lt;?&gt; clazz) throws IOException {\r\n            final String path =\r\n                String.format(&quot;/%s.class&quot;, clazz.getName().replace(&#39;.&#39;, &#39;/&#39;));\r\n            final URL url = clazz.getResource(path);\r\n            Optional&lt;JarFile&gt; optional = Optional.empty();\r\n            if (url != null) {\r\n                final String jar = url.toString();\r\n                final int bang = jar.indexOf(&#39;!&#39;);\r\n                if (jar.startsWith(ResourceCopy.JAR_URI_PREFIX) &amp;&amp; bang != -1) {\r\n                    optional = Optional.of(\r\n                        new JarFile(\r\n                            jar.substring(ResourceCopy.JAR_URI_PREFIX.length(), bang)\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n            return optional;\r\n        }\r\n    \r\n        /**\r\n         * Writes an input stream to a file.\r\n         * @param input The input stream\r\n         * @param target The target file\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        private void writeToFile(final InputStream input, final File target)\r\n            throws IOException {\r\n            final OutputStream output = Files.newOutputStream(target.toPath());\r\n            final byte[] buffer = new byte[ResourceCopy.BUFFER_SIZE];\r\n            int length = input.read(buffer);\r\n            while (length &gt; 0) {\r\n                output.write(buffer, 0, length);\r\n                length = input.read(buffer);\r\n            }\r\n            input.close();\r\n            output.close();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Copy directory from a jar file","body":"<p>I know this question is kind of old now but after trying some answers that didn't work and others that required a whole library for just one method, I decided to put together a class. It doesn't require third-party libraries and it's been tested with Java 8. There are four public methods: <code>copyResourcesToTempDir</code>, <code>copyResourcesToDir</code>, <code>copyResourceDirectory</code> and <code>jar</code>.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.util.Enumeration;\nimport java.util.Optional;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarFile;\n\n/**\n * A helper to copy resources from a JAR file into a directory.\n */\npublic final class ResourceCopy {\n\n    /**\n     * URI prefix for JAR files.\n     */\n    private static final String JAR_URI_PREFIX = \"jar:file:\";\n\n    /**\n     * The default buffer size.\n     */\n    private static final int BUFFER_SIZE = 8 * 1024;\n\n    /**\n     * Copies a set of resources into a temporal directory, optionally preserving\n     * the paths of the resources.\n     * @param preserve Whether the files should be placed directly in the\n     *  directory or the source path should be kept\n     * @param paths The paths to the resources\n     * @return The temporal directory\n     * @throws IOException If there is an I/O error\n     */\n    public File copyResourcesToTempDir(final boolean preserve,\n        final String... paths)\n        throws IOException {\n        final File parent = new File(System.getProperty(\"java.io.tmpdir\"));\n        File directory;\n        do {\n            directory = new File(parent, String.valueOf(System.nanoTime()));\n        } while (!directory.mkdir());\n        return this.copyResourcesToDir(directory, preserve, paths);\n    }\n\n    /**\n     * Copies a set of resources into a directory, preserving the paths\n     * and names of the resources.\n     * @param directory The target directory\n     * @param preserve Whether the files should be placed directly in the\n     *  directory or the source path should be kept\n     * @param paths The paths to the resources\n     * @return The temporal directory\n     * @throws IOException If there is an I/O error\n     */\n    public File copyResourcesToDir(final File directory, final boolean preserve,\n        final String... paths) throws IOException {\n        for (final String path : paths) {\n            final File target;\n            if (preserve) {\n                target = new File(directory, path);\n                target.getParentFile().mkdirs();\n            } else {\n                target = new File(directory, new File(path).getName());\n            }\n            this.writeToFile(\n                Thread.currentThread()\n                    .getContextClassLoader()\n                    .getResourceAsStream(path),\n                target\n            );\n        }\n        return directory;\n    }\n\n    /**\n     * Copies a resource directory from inside a JAR file to a target directory.\n     * @param source The JAR file\n     * @param path The path to the directory inside the JAR file\n     * @param target The target directory\n     * @throws IOException If there is an I/O error\n     */\n    public void copyResourceDirectory(final JarFile source, final String path,\n        final File target) throws IOException {\n        final Enumeration&lt;JarEntry&gt; entries = source.entries();\n        final String newpath = String.format(\"%s/\", path);\n        while (entries.hasMoreElements()) {\n            final JarEntry entry = entries.nextElement();\n            if (entry.getName().startsWith(newpath) &amp;&amp; !entry.isDirectory()) {\n                final File dest =\n                    new File(target, entry.getName().substring(newpath.length()));\n                final File parent = dest.getParentFile();\n                if (parent != null) {\n                    parent.mkdirs();\n                }\n                this.writeToFile(source.getInputStream(entry), dest);\n            }\n        }\n    }\n\n    /**\n     * The JAR file containing the given class.\n     * @param clazz The class\n     * @return The JAR file or null\n     * @throws IOException If there is an I/O error\n     */\n    public Optional&lt;JarFile&gt; jar(final Class&lt;?&gt; clazz) throws IOException {\n        final String path =\n            String.format(\"/%s.class\", clazz.getName().replace('.', '/'));\n        final URL url = clazz.getResource(path);\n        Optional&lt;JarFile&gt; optional = Optional.empty();\n        if (url != null) {\n            final String jar = url.toString();\n            final int bang = jar.indexOf('!');\n            if (jar.startsWith(ResourceCopy.JAR_URI_PREFIX) &amp;&amp; bang != -1) {\n                optional = Optional.of(\n                    new JarFile(\n                        jar.substring(ResourceCopy.JAR_URI_PREFIX.length(), bang)\n                    )\n                );\n            }\n        }\n        return optional;\n    }\n\n    /**\n     * Writes an input stream to a file.\n     * @param input The input stream\n     * @param target The target file\n     * @throws IOException If there is an I/O error\n     */\n    private void writeToFile(final InputStream input, final File target)\n        throws IOException {\n        final OutputStream output = Files.newOutputStream(target.toPath());\n        final byte[] buffer = new byte[ResourceCopy.BUFFER_SIZE];\n        int length = input.read(buffer);\n        while (length &gt; 0) {\n            output.write(buffer, 0, length);\n            length = input.read(buffer);\n        }\n        input.close();\n        output.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17792631,"reputation":21,"user_id":12921258,"display_name":"arden liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589594903,"creation_date":1589594903,"answer_id":61831009,"question_id":1386809,"body_markdown":"You can use my library:\r\ncompile group: &#39;com.github.ardenliu&#39;, name: &#39;arden-file&#39;, version: &#39;0.0.4&#39;\r\n\r\nResourcesUtils class:\r\ncopyFromClassPath(final String resourcePath, final Path targetRoot)\r\n\r\nSource Code:\r\nhttps://github.com/ardenliu/common/blob/master/arden-file/src/main/java/com/github/ardenliu/common/file/ResourcesUtils.java\r\n\r\nJunit testing:\r\nOne testing case for Eclipse classpath; another one for jar \r\nhttps://github.com/ardenliu/common/blob/master/arden-file/src/test/java/com/github/ardenliu/common/file/ResourcesUtilsTest.java","title":"Copy directory from a jar file","body":"<p>You can use my library:\ncompile group: 'com.github.ardenliu', name: 'arden-file', version: '0.0.4'</p>\n\n<p>ResourcesUtils class:\ncopyFromClassPath(final String resourcePath, final Path targetRoot)</p>\n\n<p>Source Code:\n<a href=\"https://github.com/ardenliu/common/blob/master/arden-file/src/main/java/com/github/ardenliu/common/file/ResourcesUtils.java\" rel=\"nofollow noreferrer\">https://github.com/ardenliu/common/blob/master/arden-file/src/main/java/com/github/ardenliu/common/file/ResourcesUtils.java</a></p>\n\n<p>Junit testing:\nOne testing case for Eclipse classpath; another one for jar \n<a href=\"https://github.com/ardenliu/common/blob/master/arden-file/src/test/java/com/github/ardenliu/common/file/ResourcesUtilsTest.java\" rel=\"nofollow noreferrer\">https://github.com/ardenliu/common/blob/master/arden-file/src/test/java/com/github/ardenliu/common/file/ResourcesUtilsTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":18874316,"reputation":11,"user_id":13768174,"display_name":"ytvnr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652770547,"creation_date":1652720767,"answer_id":72263008,"question_id":1386809,"body_markdown":"I liked the response from @nivekastoreth (https://stackoverflow.com/a/2993908/13768174) but was not able to use it directly because it was relying on third party libraries.\r\n\r\nI just rewrote it to use `java.nio.file.Files`\r\n\r\nLet&#39;s say I want to copy a folder like this:\r\n```\r\nparent\r\n|_folder\r\n  |_item1\r\n  |_item2\r\n|_folder2\r\n```\r\n\r\nI can just call the method like this:\r\n```\r\nfinal URL configFolderURL = getClass().getResource(&quot;in/jar/path/folder&quot;);\r\nPath targetDir = Files.createDirectory(Path.of(&quot;a&quot;,&quot;new&quot;,&quot;dir&quot;));\r\ncopyJarResourcesRecursively(targetDir, (JarURLConnection) configFolderURL.openConnection());\r\n```\r\n\r\nHere is the implementation:\r\n```\r\nprivate void copyJarResourcesRecursively(Path destination, JarURLConnection jarConnection) throws IOException {\r\n        JarFile jarFile = jarConnection.getJarFile();\r\n        for (Iterator&lt;JarEntry&gt; it = jarFile.entries().asIterator(); it.hasNext();) {\r\n            JarEntry entry = it.next();\r\n            if (entry.getName().startsWith(jarConnection.getEntryName())) {\r\n                if (!entry.isDirectory()) {\r\n                    try (InputStream entryInputStream = jarFile.getInputStream(entry)) {\r\n                        Files.copy(entryInputStream, Paths.get(destination.toString(), entry.getName()));\r\n                    }\r\n                } else {\r\n                    Files.createDirectories(Paths.get(destination.toString(), entry.getName()));\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Copy directory from a jar file","body":"<p>I liked the response from @nivekastoreth (<a href=\"https://stackoverflow.com/a/2993908/13768174\">https://stackoverflow.com/a/2993908/13768174</a>) but was not able to use it directly because it was relying on third party libraries.</p>\n<p>I just rewrote it to use <code>java.nio.file.Files</code></p>\n<p>Let's say I want to copy a folder like this:</p>\n<pre><code>parent\n|_folder\n  |_item1\n  |_item2\n|_folder2\n</code></pre>\n<p>I can just call the method like this:</p>\n<pre><code>final URL configFolderURL = getClass().getResource(&quot;in/jar/path/folder&quot;);\nPath targetDir = Files.createDirectory(Path.of(&quot;a&quot;,&quot;new&quot;,&quot;dir&quot;));\ncopyJarResourcesRecursively(targetDir, (JarURLConnection) configFolderURL.openConnection());\n</code></pre>\n<p>Here is the implementation:</p>\n<pre><code>private void copyJarResourcesRecursively(Path destination, JarURLConnection jarConnection) throws IOException {\n        JarFile jarFile = jarConnection.getJarFile();\n        for (Iterator&lt;JarEntry&gt; it = jarFile.entries().asIterator(); it.hasNext();) {\n            JarEntry entry = it.next();\n            if (entry.getName().startsWith(jarConnection.getEntryName())) {\n                if (!entry.isDirectory()) {\n                    try (InputStream entryInputStream = jarFile.getInputStream(entry)) {\n                        Files.copy(entryInputStream, Paths.get(destination.toString(), entry.getName()));\n                    }\n                } else {\n                    Files.createDirectories(Paths.get(destination.toString(), entry.getName()));\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674726481,"creation_date":1674726481,"answer_id":75244464,"question_id":1386809,"body_markdown":"It can very easy using (**apache commons-io**) dependency\r\n\r\n\r\n\r\n    import org.apache.commons.io.FileUtils\r\n\r\n    public void copyResourceFileInsideJarToPath(String resourceName, Path toPath) throws IOException {\r\n        URL fromURL = getClass().getClassLoader().getResource(resourceName);\r\n        LOGGER.info(&quot;fromURL: {}&quot;, fromURL);\r\n        LOGGER.info(&quot;toPath: {}&quot;, toPath.toAbsolutePath());\r\n\r\n        Files.deleteIfExists(toPath);\r\n        FileUtils.copyURLToFile(fromURL, toPath.toFile());\r\n    }\r\n\r\n\r\nRelated maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Copy directory from a jar file","body":"<p>It can very easy using (<strong>apache commons-io</strong>) dependency</p>\n<pre><code>import org.apache.commons.io.FileUtils\n\npublic void copyResourceFileInsideJarToPath(String resourceName, Path toPath) throws IOException {\n    URL fromURL = getClass().getClassLoader().getResource(resourceName);\n    LOGGER.info(&quot;fromURL: {}&quot;, fromURL);\n    LOGGER.info(&quot;toPath: {}&quot;, toPath.toAbsolutePath());\n\n    Files.deleteIfExists(toPath);\n    FileUtils.copyURLToFile(fromURL, toPath.toFile());\n}\n</code></pre>\n<p>Related maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41815,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":1386868,"answer_count":13,"score":39,"last_activity_date":1674726481,"creation_date":1252273560,"question_id":1386809,"body_markdown":"I have recently developed an application and created the jar file.\r\n\r\nOne of my classes creates an output directory, populating it with files from its resource.\r\n\r\nMy code is something like this:\r\n\r\n    // Copy files from dir &quot;template&quot; in this class resource to output.\r\n    private void createOutput(File output) throws IOException {\r\n    \r\n        File template = new File(FileHelper.URL2Path(getClass().getResource(&quot;template&quot;)));\r\n        FileHelper.copyDirectory(template, output);\r\n    }\r\n\r\nUnfortunately this doesn&#39;t work.\r\n\r\nI tried the following without luck:\r\n\r\n - Using Streams to solve similar stuff\r\n   on other classes but it doesn&#39;t work\r\n   with dirs. Code was similar to\r\n   http://www.exampledepot.com/egs/java.io/CopyFile.html\r\n\r\n - Creating the File template with `new File(getClass().getResource(&quot;template&quot;).toUri())`\r\n\r\n\r\nWhile writing this I was thinking about instead of having a template dir in the resource path having a zip file of it. Doing it this way I could get the file as an inputStream and unzip it where I need to. But I am not sure if it&#39;s the correct way.\r\n\r\n","title":"Copy directory from a jar file","body":"<p>I have recently developed an application and created the jar file.</p>\n\n<p>One of my classes creates an output directory, populating it with files from its resource.</p>\n\n<p>My code is something like this:</p>\n\n<pre><code>// Copy files from dir \"template\" in this class resource to output.\nprivate void createOutput(File output) throws IOException {\n\n    File template = new File(FileHelper.URL2Path(getClass().getResource(\"template\")));\n    FileHelper.copyDirectory(template, output);\n}\n</code></pre>\n\n<p>Unfortunately this doesn't work.</p>\n\n<p>I tried the following without luck:</p>\n\n<ul>\n<li><p>Using Streams to solve similar stuff\non other classes but it doesn't work\nwith dirs. Code was similar to\n<a href=\"http://www.exampledepot.com/egs/java.io/CopyFile.html\" rel=\"noreferrer\">http://www.exampledepot.com/egs/java.io/CopyFile.html</a></p></li>\n<li><p>Creating the File template with <code>new File(getClass().getResource(\"template\").toUri())</code></p></li>\n</ul>\n\n<p>While writing this I was thinking about instead of having a template dir in the resource path having a zip file of it. Doing it this way I could get the file as an inputStream and unzip it where I need to. But I am not sure if it's the correct way.</p>\n"},{"tags":["java","exception","java-8","completable-future"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1554118369,"post_id":55453961,"comment_id":97621740,"body_markdown":"Class `CompletableFuture` was first added in JDK 8 but was enhanced in JDK 9. I think that in order to provide you an appropriate answer, you need to indicate which JDK you are using.","body":"Class <code>CompletableFuture</code> was first added in JDK 8 but was enhanced in JDK 9. I think that in order to provide you an appropriate answer, you need to indicate which JDK you are using."},{"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"score":0,"creation_date":1554118401,"post_id":55453961,"comment_id":97621751,"body_markdown":"Java 8 - I&#39;ll update the question accordingly.","body":"Java 8 - I&#39;ll update the question accordingly."},{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1554118760,"post_id":55453961,"comment_id":97621963,"body_markdown":"CompletableFuture.exceptionally is defined as returning a CompletableFuture, neither a String nor an exception (https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html). This cannot compile.","body":"CompletableFuture.exceptionally is defined as returning a CompletableFuture, neither a String nor an exception (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>). This cannot compile."},{"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"score":0,"creation_date":1554118923,"post_id":55453961,"comment_id":97622041,"body_markdown":"@UweAllner You are wrong. `exceptionally(throwable -&gt; &quot;value&quot;)` is perfectly valid and works as expected. The function still returns `CompletableFuture`, the lambda is a parameter.","body":"@UweAllner You are wrong. <code>exceptionally(throwable -&gt; &quot;value&quot;)</code> is perfectly valid and works as expected. The function still returns <code>CompletableFuture</code>, the lambda is a parameter."}],"answers":[{"comments":[{"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"score":0,"creation_date":1554214240,"post_id":55476548,"comment_id":97664018,"body_markdown":"Thank you for your answer! So basically there&#39;s no other way than wrapping the exception with an unchecked one and then handling it accordingly in the `exceptionally` clause and then accessing `Throwable#getCause`?","body":"Thank you for your answer! So basically there&#39;s no other way than wrapping the exception with an unchecked one and then handling it accordingly in the <code>exceptionally</code> clause and then accessing <code>Throwable#getCause</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1554223399,"post_id":55476548,"comment_id":97669537,"body_markdown":"A `CompletableFuture` can get completed by calling `completeExceptionally` with an arbitrary `Throwable`, so does the solution in the middle of [this answer](https://stackoverflow.com/a/43767613/2711488) for using a `Callable` work. However, for most cases, it’s an unnecessary complication, given that for subsequent consumers or when calling `join()`, you’ll get that throwable wrapped in a `CompletionException` anyway.","body":"A <code>CompletableFuture</code> can get completed by calling <code>completeExceptionally</code> with an arbitrary <code>Throwable</code>, so does the solution in the middle of <a href=\"https://stackoverflow.com/a/43767613/2711488\">this answer</a> for using a <code>Callable</code> work. However, for most cases, it’s an unnecessary complication, given that for subsequent consumers or when calling <code>join()</code>, you’ll get that throwable wrapped in a <code>CompletionException</code> anyway."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1554213177,"creation_date":1554213177,"answer_id":55476548,"question_id":55453961,"body_markdown":"In this scenario, it is impossible to receive a checked exception as the previous stage is based on a `Supplier`, which is not allowed to throw checked exceptions.\r\n\r\nSo you could handle all unchecked exceptions and raise an `AssertionError` for the throwables that ought to be impossible:\r\n\r\n    CompletableFuture\r\n        .supplyAsync(FuturesExample::fetchValue)\r\n        .exceptionally(throwable -&gt; {\r\n            if (throwable instanceof RuntimeException) {\r\n                return &quot;All good&quot;;\r\n            }\r\n            if(throwable instanceof Error) throw (Error)throwable;\r\n            throw new AssertionError(throwable);\r\n        });\r\nOtherwise, you may consider that subsequent stages, as well as callers of `join()` will get all exceptions except `CompletionException` and `CancellationException` wrapped in a `CompletionException` anyway. E.g. when I use\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; f = CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if(throwable instanceof RuntimeException) {\r\n                    throw (RuntimeException)throwable;\r\n                }\r\n                throw new Error();\r\n            });\r\n        f.whenComplete((s,t) -&gt; {\r\n            if(t != null) {\r\n                System.err.println(&quot;in whenComplete handler &quot;);\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n        System.err.println(&quot;calling join()&quot;);\r\n        f.join();\r\n    }\r\n    public static String fetchValue() {\r\n        throw new IllegalStateException(&quot;a test is going on&quot;);\r\n    }\r\n\r\nI get\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    in whenComplete handler \r\n    java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:23)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \t... 6 more\r\n    calling join()\r\n    Exception in thread &quot;main&quot; java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:23)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \t... 6 more\r\n\r\nSo I can use `CompletionException` for wrapping arbitrary throwables, utilizing the fact that `CompletionException` does not get wrapped again. So if I use\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; f = CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if(throwable instanceof CompletionException)\r\n                    throwable = throwable.getCause();\r\n                System.err.println(&quot;wrapping &#39;&quot;+throwable+&quot;&#39; inside exceptionally&quot;);\r\n                throw new CompletionException(throwable);\r\n            });\r\n        f.whenComplete((s,t) -&gt; {\r\n            if(t != null) {\r\n                System.err.println(&quot;in whenComplete handler &quot;);\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n        System.err.println(&quot;calling join()&quot;);\r\n        f.join();\r\n    }\r\n    public static String fetchValue() {\r\n        throw new IllegalStateException(&quot;a test is going on&quot;);\r\n    }\r\n\r\nI get\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    wrapping &#39;java.lang.IllegalStateException: a test is going on&#39; inside exceptionally\r\n    in whenComplete handler \r\n    java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.lambda$main$0(FuturesExample.java:12)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\r\n    \tat FuturesExample.main(FuturesExample.java:8)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:24)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    calling join()\r\n    Exception in thread &quot;main&quot; java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.lambda$main$0(FuturesExample.java:12)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\r\n    \tat FuturesExample.main(FuturesExample.java:8)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:24)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n\r\nwhich differs slightly in the stack traces, but does not make a difference to the code receiving/catching the exception, as in either case, it’s a `CompletionException` wrapping an `IllegalStateException`.\r\n\r\nSo going back to the example of your question, you could use\r\n\r\n    CompletableFuture\r\n        .supplyAsync(FuturesExample::fetchValue)\r\n        .exceptionally(throwable -&gt; {\r\n            if (throwable instanceof RuntimeException) { // includes CompletionException\r\n                return &quot;All good&quot;;\r\n            }\r\n            throw new CompletionException(throwable);\r\n        });\r\nSince `CompletionException` is a `RuntimeException`, this code handles it and avoids wrapping a `CompletionException` in another `CompletionException`. Otherwise, the pattern would be\r\n\r\n        .exceptionally(throwable -&gt; {\r\n            if (some condition) {\r\n                return some value;\r\n            }\r\n            throw throwable instanceof CompletionException?\r\n                (CompletionException)throwable: new CompletionException(throwable);\r\n        });\r\n","title":"CompletableFuture#exceptionally rethrow checked exception","body":"<p>In this scenario, it is impossible to receive a checked exception as the previous stage is based on a <code>Supplier</code>, which is not allowed to throw checked exceptions.</p>\n\n<p>So you could handle all unchecked exceptions and raise an <code>AssertionError</code> for the throwables that ought to be impossible:</p>\n\n<pre><code>CompletableFuture\n    .supplyAsync(FuturesExample::fetchValue)\n    .exceptionally(throwable -&gt; {\n        if (throwable instanceof RuntimeException) {\n            return \"All good\";\n        }\n        if(throwable instanceof Error) throw (Error)throwable;\n        throw new AssertionError(throwable);\n    });\n</code></pre>\n\n<p>Otherwise, you may consider that subsequent stages, as well as callers of <code>join()</code> will get all exceptions except <code>CompletionException</code> and <code>CancellationException</code> wrapped in a <code>CompletionException</code> anyway. E.g. when I use</p>\n\n<pre><code>public static void main(String[] args) {\n    CompletableFuture&lt;String&gt; f = CompletableFuture\n        .supplyAsync(FuturesExample::fetchValue)\n        .exceptionally(throwable -&gt; {\n            if(throwable instanceof RuntimeException) {\n                throw (RuntimeException)throwable;\n            }\n            throw new Error();\n        });\n    f.whenComplete((s,t) -&gt; {\n        if(t != null) {\n            System.err.println(\"in whenComplete handler \");\n            t.printStackTrace();\n        }\n    });\n    System.err.println(\"calling join()\");\n    f.join();\n}\npublic static String fetchValue() {\n    throw new IllegalStateException(\"a test is going on\");\n}\n</code></pre>\n\n<p>I get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>in whenComplete handler \njava.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:23)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    ... 6 more\ncalling join()\nException in thread \"main\" java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:23)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    ... 6 more\n</code></pre>\n\n<p>So I can use <code>CompletionException</code> for wrapping arbitrary throwables, utilizing the fact that <code>CompletionException</code> does not get wrapped again. So if I use</p>\n\n<pre><code>public static void main(String[] args) {\n    CompletableFuture&lt;String&gt; f = CompletableFuture\n        .supplyAsync(FuturesExample::fetchValue)\n        .exceptionally(throwable -&gt; {\n            if(throwable instanceof CompletionException)\n                throwable = throwable.getCause();\n            System.err.println(\"wrapping '\"+throwable+\"' inside exceptionally\");\n            throw new CompletionException(throwable);\n        });\n    f.whenComplete((s,t) -&gt; {\n        if(t != null) {\n            System.err.println(\"in whenComplete handler \");\n            t.printStackTrace();\n        }\n    });\n    System.err.println(\"calling join()\");\n    f.join();\n}\npublic static String fetchValue() {\n    throw new IllegalStateException(\"a test is going on\");\n}\n</code></pre>\n\n<p>I get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>wrapping 'java.lang.IllegalStateException: a test is going on' inside exceptionally\nin whenComplete handler \njava.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.lambda$main$0(FuturesExample.java:12)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\n    at java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\n    at FuturesExample.main(FuturesExample.java:8)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:24)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\ncalling join()\nException in thread \"main\" java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.lambda$main$0(FuturesExample.java:12)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\n    at java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\n    at FuturesExample.main(FuturesExample.java:8)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:24)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\n</code></pre>\n\n<p>which differs slightly in the stack traces, but does not make a difference to the code receiving/catching the exception, as in either case, it’s a <code>CompletionException</code> wrapping an <code>IllegalStateException</code>.</p>\n\n<p>So going back to the example of your question, you could use</p>\n\n<pre><code>CompletableFuture\n    .supplyAsync(FuturesExample::fetchValue)\n    .exceptionally(throwable -&gt; {\n        if (throwable instanceof RuntimeException) { // includes CompletionException\n            return \"All good\";\n        }\n        throw new CompletionException(throwable);\n    });\n</code></pre>\n\n<p>Since <code>CompletionException</code> is a <code>RuntimeException</code>, this code handles it and avoids wrapping a <code>CompletionException</code> in another <code>CompletionException</code>. Otherwise, the pattern would be</p>\n\n<pre><code>    .exceptionally(throwable -&gt; {\n        if (some condition) {\n            return some value;\n        }\n        throw throwable instanceof CompletionException?\n            (CompletionException)throwable: new CompletionException(throwable);\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6641612,"reputation":7881,"user_id":5128464,"display_name":"vlp"},"score":1,"creation_date":1674725341,"post_id":71153891,"comment_id":132776396,"body_markdown":"An alternative to lombok is `ExceptionUtils.rethrow()` from commons lang3.","body":"An alternative to lombok is <code>ExceptionUtils.rethrow()</code> from commons lang3."},{"owner":{"account_id":6641612,"reputation":7881,"user_id":5128464,"display_name":"vlp"},"score":0,"creation_date":1678465503,"post_id":71153891,"comment_id":133543663,"body_markdown":"a nicer syntax for rethrow is `throw (RuntimeException)ExceptionUtils.rethrow(ex);` (note that the invalid cast is never executed). This way it is much more obvious where the code path ends.","body":"a nicer syntax for rethrow is <code>throw (RuntimeException)ExceptionUtils.rethrow(ex);</code> (note that the invalid cast is never executed). This way it is much more obvious where the code path ends."}],"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674726109,"creation_date":1645082303,"answer_id":71153891,"question_id":55453961,"body_markdown":"As [holger wrote](https://stackoverflow.com/a/55476548/6537157), this is normally not possible.  \r\nBut, there is a trick with lombok and it&#39;s [@SneakyThrows](https://projectlombok.org/features/SneakyThrows).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if (throwable instanceof RuntimeException) {\r\n                    return &quot;All good&quot;;\r\n                }\r\n                FutureExample.reThrow(throwable);\r\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\r\n            });\r\n}\r\n\r\npublic static String fetchValue() {\r\n    // code that potentially throws an exception\r\n    return &quot;value&quot;;\r\n}\r\n\r\n@SneakyThrows // &lt;- threat checked exceptions in method-body as unchecked\r\npublic static void reThrow(Throwable throwable) {\r\n   throw throwable;\r\n}\r\n```\r\n\r\n---\r\nYou can also archive it with `ExceptionUtils.rethrow()` (thanks [vlp](https://stackoverflow.com/users/5128464/vlp)).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if (throwable instanceof RuntimeException) {\r\n                    return &quot;All good&quot;;\r\n                }\r\n               reThrow(throwable);\r\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\r\n            });\r\n}\r\n```","title":"CompletableFuture#exceptionally rethrow checked exception","body":"<p>As <a href=\"https://stackoverflow.com/a/55476548/6537157\">holger wrote</a>, this is normally not possible.<br />\nBut, there is a trick with lombok and it's <a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">@SneakyThrows</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    CompletableFuture\n            .supplyAsync(FuturesExample::fetchValue)\n            .exceptionally(throwable -&gt; {\n                if (throwable instanceof RuntimeException) {\n                    return &quot;All good&quot;;\n                }\n                FutureExample.reThrow(throwable);\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\n            });\n}\n\npublic static String fetchValue() {\n    // code that potentially throws an exception\n    return &quot;value&quot;;\n}\n\n@SneakyThrows // &lt;- threat checked exceptions in method-body as unchecked\npublic static void reThrow(Throwable throwable) {\n   throw throwable;\n}\n</code></pre>\n<hr />\n<p>You can also archive it with <code>ExceptionUtils.rethrow()</code> (thanks <a href=\"https://stackoverflow.com/users/5128464/vlp\">vlp</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    CompletableFuture\n            .supplyAsync(FuturesExample::fetchValue)\n            .exceptionally(throwable -&gt; {\n                if (throwable instanceof RuntimeException) {\n                    return &quot;All good&quot;;\n                }\n               reThrow(throwable);\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\n            });\n}\n</code></pre>\n"}],"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11044,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":2,"score":10,"last_activity_date":1674726109,"creation_date":1554117753,"question_id":55453961,"body_markdown":"Suppose I want to recover with some value if I get a specific exception, otherwise return the failed future with the exception. I would expect something like this:\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture\r\n                .supplyAsync(FuturesExample::fetchValue)\r\n                .exceptionally(throwable -&gt; {\r\n                    if (throwable instanceof RuntimeException) {\r\n                        return &quot;All good&quot;;\r\n                    }\r\n                    throw throwable; // does not compile\r\n                });\r\n    }\r\n\r\n    public static String fetchValue() {\r\n        // code that potentially throws an exception\r\n        return &quot;value&quot;;\r\n    }\r\n\r\nIf the `fetchValue` function would throw a _checked_ exception, I would like to handle it in the chained methods. I have tried both `return throwable` and `throw throwable`, but neither does compile. Do `CompletableFuture`s offer any solution to this scenario? I am aware that the `Function` interface that is the parameter of the `exceptionally` method does not throw any exceptions - I would just like to return the already failed future in this case. I would like to find a solution using Java 8.","title":"CompletableFuture#exceptionally rethrow checked exception","body":"<p>Suppose I want to recover with some value if I get a specific exception, otherwise return the failed future with the exception. I would expect something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    CompletableFuture\n            .supplyAsync(FuturesExample::fetchValue)\n            .exceptionally(throwable -&gt; {\n                if (throwable instanceof RuntimeException) {\n                    return \"All good\";\n                }\n                throw throwable; // does not compile\n            });\n}\n\npublic static String fetchValue() {\n    // code that potentially throws an exception\n    return \"value\";\n}\n</code></pre>\n\n<p>If the <code>fetchValue</code> function would throw a <em>checked</em> exception, I would like to handle it in the chained methods. I have tried both <code>return throwable</code> and <code>throw throwable</code>, but neither does compile. Do <code>CompletableFuture</code>s offer any solution to this scenario? I am aware that the <code>Function</code> interface that is the parameter of the <code>exceptionally</code> method does not throw any exceptions - I would just like to return the already failed future in this case. I would like to find a solution using Java 8.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674752352,"post_id":75244372,"comment_id":132785467,"body_markdown":"Since this is clearly a firewall issue, a workaround is to turn off your firewall for a few seconds to get _nb-javac_ installed, because you definitely need it for NetBeans with JDK 8. Alternatively, upgrade to JDK 9  or later, where installing _nb-javac_  is not essential. See [What&#39;s &quot;nb-javac&quot; in Apache NetBeans?](https://blogs.apache.org/netbeans/entry/what-s-nb-javac-in) for clarification. All that said, there are several newer releases of both NetBeans and Java, so it would be much better to use more recent releases of both (if that is possible for you).","body":"Since this is clearly a firewall issue, a workaround is to turn off your firewall for a few seconds to get <i>nb-javac</i> installed, because you definitely need it for NetBeans with JDK 8. Alternatively, upgrade to JDK 9  or later, where installing <i>nb-javac</i>  is not essential. See <a href=\"https://blogs.apache.org/netbeans/entry/what-s-nb-javac-in\" rel=\"nofollow noreferrer\">What&#39;s &quot;nb-javac&quot; in Apache NetBeans?</a> for clarification. All that said, there are several newer releases of both NetBeans and Java, so it would be much better to use more recent releases of both (if that is possible for you)."},{"owner":{"account_id":452758,"reputation":3607,"user_id":849365,"accept_rate":100,"display_name":"Prahlad Yeri"},"score":0,"creation_date":1674805283,"post_id":75244372,"comment_id":132795275,"body_markdown":"I also tried by turning off the firewall, even that didn&#39;t work with Netbeans 11.3. What did work was upgrading to version 12 but even there I faced issues as it needed additional `cacerts` in `jre/lib/security/` directory. Sadly, I have a 32 bit windows laptop where JDK8 is the latest one supported, all the above versions require 64 bit windows.","body":"I also tried by turning off the firewall, even that didn&#39;t work with Netbeans 11.3. What did work was upgrading to version 12 but even there I faced issues as it needed additional <code>cacerts</code> in <code>jre&#47;lib&#47;security&#47;</code> directory. Sadly, I have a 32 bit windows laptop where JDK8 is the latest one supported, all the above versions require 64 bit windows."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674840101,"post_id":75244372,"comment_id":132806081,"body_markdown":"There is [a NetBeans plugin for 12.0 which might help](https://plugins.netbeans.apache.org/catalogue/?id=20) with your certificate issue. If a connection fails _&quot;this plugin intercepts and prompts the user if the connection should be established regardless&quot;_. Note that the plugin understandably comes with a warning in bold font: __&quot;Using this module should be a last resort - fixing the certificate is preferred!&quot;__, so be careful if you choose to try it. There is also a version for NetBeans 11, and you might be able to use that one to diagnose what you need to adjust in your firewall settings.","body":"There is <a href=\"https://plugins.netbeans.apache.org/catalogue/?id=20\" rel=\"nofollow noreferrer\">a NetBeans plugin for 12.0 which might help</a> with your certificate issue. If a connection fails <i>&quot;this plugin intercepts and prompts the user if the connection should be established regardless&quot;</i>. Note that the plugin understandably comes with a warning in bold font: <b>&quot;Using this module should be a last resort - fixing the certificate is preferred!&quot;</b>, so be careful if you choose to try it. There is also a version for NetBeans 11, and you might be able to use that one to diagnose what you need to adjust in your firewall settings."},{"owner":{"account_id":452758,"reputation":3607,"user_id":849365,"accept_rate":100,"display_name":"Prahlad Yeri"},"score":0,"creation_date":1674846512,"post_id":75244372,"comment_id":132807949,"body_markdown":"Wow, sounds like a good plugin, thanks! For now, I&#39;ve paved my way by manually installing the certs for those few plugin sites [as described here](https://stackoverflow.com/a/66889979/849365) but this sounds good.","body":"Wow, sounds like a good plugin, thanks! For now, I&#39;ve paved my way by manually installing the certs for those few plugin sites <a href=\"https://stackoverflow.com/a/66889979/849365\">as described here</a> but this sounds good."}],"owner":{"account_id":452758,"reputation":3607,"user_id":849365,"accept_rate":100,"display_name":"Prahlad Yeri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674725883,"creation_date":1674725883,"question_id":75244372,"body_markdown":"I&#39;m using Apache Netbeans 11.3 on Windows 10 (32 bit) with JDK8 (openjdk &quot;1.8.0_40&quot;). As I started to create my first Standard Java Project, it returned an error saying following plugin must be installed:\r\n\r\n- `The nb-javac Java editing support library`\r\n\r\nBut as I tried to install the same from Tools=&gt;Plugins menu, I got the below error:\r\n\r\n[![nb plugins network error][1]][1]\r\n\r\nWhen I went to Tools=&gt;Options and tried &quot;Test connection&quot;, that returned a connection error too:\r\n\r\n[![nb network test error][2]][2]\r\n\r\nI suspect this must be probably related to my windows firewall settings, though I&#39;ve already shortlisted `netbeans.exe`, `java.exe` and `javaw.exe` in my firewall settings. I also tried manually downloading that exact jar file NB is trying to download (`https://netbeans.osuosl.org/binaries/34E9F9C1BDC61FE7EFCCF305D70960B862DE7815-nb-javac-13-impl.jar`) but even that didn&#39;t work. When I go to Plugins=&gt;Downloaded tab=&gt;Add Plugins and browse that file, NB won&#39;t recognize it.\r\n\r\nHow can I resolve this? My objective is to just install this plugin and get going with my Java learning agenda. Be it through the auto-installer or a way of manually getting NB to recognize this file, both are fine.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jkSgu.png\r\n  [2]: https://i.stack.imgur.com/bikUP.png","title":"Netbeans 11.3 is unable to download plugins or connect to the network","body":"<p>I'm using Apache Netbeans 11.3 on Windows 10 (32 bit) with JDK8 (openjdk &quot;1.8.0_40&quot;). As I started to create my first Standard Java Project, it returned an error saying following plugin must be installed:</p>\n<ul>\n<li><code>The nb-javac Java editing support library</code></li>\n</ul>\n<p>But as I tried to install the same from Tools=&gt;Plugins menu, I got the below error:</p>\n<p><a href=\"https://i.stack.imgur.com/jkSgu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jkSgu.png\" alt=\"nb plugins network error\" /></a></p>\n<p>When I went to Tools=&gt;Options and tried &quot;Test connection&quot;, that returned a connection error too:</p>\n<p><a href=\"https://i.stack.imgur.com/bikUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bikUP.png\" alt=\"nb network test error\" /></a></p>\n<p>I suspect this must be probably related to my windows firewall settings, though I've already shortlisted <code>netbeans.exe</code>, <code>java.exe</code> and <code>javaw.exe</code> in my firewall settings. I also tried manually downloading that exact jar file NB is trying to download (<code>https://netbeans.osuosl.org/binaries/34E9F9C1BDC61FE7EFCCF305D70960B862DE7815-nb-javac-13-impl.jar</code>) but even that didn't work. When I go to Plugins=&gt;Downloaded tab=&gt;Add Plugins and browse that file, NB won't recognize it.</p>\n<p>How can I resolve this? My objective is to just install this plugin and get going with my Java learning agenda. Be it through the auto-installer or a way of manually getting NB to recognize this file, both are fine.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674725853,"creation_date":1674725853,"answer_id":75244362,"question_id":75243958,"body_markdown":"You could use &quot;application-default.properties&quot; file and put `spring.data.mongodb.uri` in there. The &quot;default&quot; Spring profile will be active when no other profiles are selected. So you can start locally with any profile (&quot;dev&quot; or whatever) and &quot;application-default.properties&quot; file will not be loaded.\r\n\r\nOf course, keep in mind that adding any profile in production would also disable `spring.data.mongodb.uri` in this case.","title":"Spring Boot: how to disable (or remove) property in application.properties using externalized configuration","body":"<p>You could use &quot;application-default.properties&quot; file and put <code>spring.data.mongodb.uri</code> in there. The &quot;default&quot; Spring profile will be active when no other profiles are selected. So you can start locally with any profile (&quot;dev&quot; or whatever) and &quot;application-default.properties&quot; file will not be loaded.</p>\n<p>Of course, keep in mind that adding any profile in production would also disable <code>spring.data.mongodb.uri</code> in this case.</p>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674725853,"creation_date":1674723391,"question_id":75243958,"body_markdown":"I&#39;m working on a Spring Boot project (v2.3.x) connected to a MongoDB instance.\r\n\r\nThe connection is configured using the property `spring.data.mongodb.uri`.\r\n\r\nNow, for local development I&#39;d like to configure the connection using host/port, i.e. using these properties (I&#39;m configuring these via ENV VARs):\r\n\r\n    spring.data.mongodb.host\r\n    spring.data.mongodb.port\r\n\r\nAdding these properties, while leaving `spring.data.mongodb.uri`, obviously results in an error on application run:\r\n\r\n    java.lang.IllegalStateException: Invalid mongo configuration, either uri or host/port/credentials/replicaSet must be specified\r\n\r\nSo I&#39;m wondering if there is a way to disable the `spring.data.mongodb.uri` configuration using properties override (externalized configuraion) provided by Spring Boot.\r\n\r\nIs this possible? I tried setting `spring.data.mongodb.uri=null` but the startup error remains. \r\n\r\nHow can I achieve this without directly modifying the `application.properties` file?\r\n\r\n**NOTE**: I also considered using *profiles*, but also using this feature I cannot find a way to override the &quot;main&quot; configuration.","title":"Spring Boot: how to disable (or remove) property in application.properties using externalized configuration","body":"<p>I'm working on a Spring Boot project (v2.3.x) connected to a MongoDB instance.</p>\n<p>The connection is configured using the property <code>spring.data.mongodb.uri</code>.</p>\n<p>Now, for local development I'd like to configure the connection using host/port, i.e. using these properties (I'm configuring these via ENV VARs):</p>\n<pre><code>spring.data.mongodb.host\nspring.data.mongodb.port\n</code></pre>\n<p>Adding these properties, while leaving <code>spring.data.mongodb.uri</code>, obviously results in an error on application run:</p>\n<pre><code>java.lang.IllegalStateException: Invalid mongo configuration, either uri or host/port/credentials/replicaSet must be specified\n</code></pre>\n<p>So I'm wondering if there is a way to disable the <code>spring.data.mongodb.uri</code> configuration using properties override (externalized configuraion) provided by Spring Boot.</p>\n<p>Is this possible? I tried setting <code>spring.data.mongodb.uri=null</code> but the startup error remains.</p>\n<p>How can I achieve this without directly modifying the <code>application.properties</code> file?</p>\n<p><strong>NOTE</strong>: I also considered using <em>profiles</em>, but also using this feature I cannot find a way to override the &quot;main&quot; configuration.</p>\n"},{"tags":["java","arrays","json","parsing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1674725128,"post_id":75244214,"comment_id":132776321,"body_markdown":"Sure, I don&#39;t see anything that would make this impossible. What did you try so far? You might have to parse the input into 3 arrays first and then do the transposing yourself though.","body":"Sure, I don&#39;t see anything that would make this impossible. What did you try so far? You might have to parse the input into 3 arrays first and then do the transposing yourself though."}],"answers":[{"tags":[],"owner":{"account_id":24776515,"reputation":35,"user_id":18660089,"display_name":"Ramen Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725494,"creation_date":1674725494,"answer_id":75244290,"question_id":75244214,"body_markdown":"There are a few solutions to parsing JSON from Java, like [GSON](https://mvnrepository.com/artifact/com.google.code.gson/gson), though if the data format you are working with is simple enough and you don&#39;t have to parse all kinds of JSON, you might as well parse it by yourself.","title":"Parse JSON in java (custom)","body":"<p>There are a few solutions to parsing JSON from Java, like <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">GSON</a>, though if the data format you are working with is simple enough and you don't have to parse all kinds of JSON, you might as well parse it by yourself.</p>\n"},{"tags":[],"owner":{"account_id":8436158,"reputation":700,"user_id":6395007,"display_name":"Ionut Alexandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674725602,"creation_date":1674725602,"answer_id":75244311,"question_id":75244214,"body_markdown":"     \r\n    \r\n            String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\r\n            \r\n            JsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\r\n            List&lt;String&gt; firstElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; secondElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; thirdElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; fourthElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; fifthElements = new ArrayList&lt;&gt;();\r\n            \r\n            array.forEach( value -&gt; {\r\n                JsonArray innerArray = value.asJsonArray();\r\n                firstElements.add(innerArray.getString(0));\r\n                secondElements.add(innerArray.getString(1));\r\n                thirdElements.add(innerArray.getString(2));\r\n                fourthElements.add(innerArray.getString(3));\r\n                fifthElements.add(innerArray.getString(4));\r\n    \r\n            )};\r\n\r\nIf you want something more generic you can use a `List&lt;List&lt;String&gt;&gt;`\r\n\r\n    String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\r\n    \r\n    JsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\r\n    List&lt;List&lt;String&gt;&gt; elements = new ArrayList&lt;&gt;();\r\n    \r\n    array.forEach( value -&gt; {\r\n        JsonArray innerArray = value.asJsonArray();\r\n        List&lt;String&gt; subElements = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; innerArray.size(); i++) {\r\n            subElements.add(innerArray.getString(i));\r\n        }\r\n        elements.add(subElements);\r\n    });","title":"Parse JSON in java (custom)","body":"<pre><code>        String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\n        \n        JsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\n        List&lt;String&gt; firstElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; secondElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; thirdElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; fourthElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; fifthElements = new ArrayList&lt;&gt;();\n        \n        array.forEach( value -&gt; {\n            JsonArray innerArray = value.asJsonArray();\n            firstElements.add(innerArray.getString(0));\n            secondElements.add(innerArray.getString(1));\n            thirdElements.add(innerArray.getString(2));\n            fourthElements.add(innerArray.getString(3));\n            fifthElements.add(innerArray.getString(4));\n\n        )};\n</code></pre>\n<p>If you want something more generic you can use a <code>List&lt;List&lt;String&gt;&gt;</code></p>\n<pre><code>String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\n\nJsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\nList&lt;List&lt;String&gt;&gt; elements = new ArrayList&lt;&gt;();\n\narray.forEach( value -&gt; {\n    JsonArray innerArray = value.asJsonArray();\n    List&lt;String&gt; subElements = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; innerArray.size(); i++) {\n        subElements.add(innerArray.getString(i));\n    }\n    elements.add(subElements);\n});\n</code></pre>\n"}],"owner":{"account_id":17427025,"reputation":27,"user_id":12631750,"display_name":"Haris Qureshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75244311,"answer_count":2,"score":-2,"last_activity_date":1674725626,"creation_date":1674724997,"question_id":75244214,"body_markdown":"I have a JSON array in the following format: \r\n\r\n    [[&quot;1234&quot;,&quot;OS&quot;,&quot;01/31/2023&quot;,&quot;02/01/2023&quot;,&quot;First Day&quot;],[&quot;1245&quot;,&quot;OS&quot;,&quot;01/23/2023&quot;,&quot;01/24/2023&quot;,&quot;Last Day&quot;],[&quot;3411&quot;,&quot;OS&quot;,&quot;09/21/2022&quot;,&quot;09/21/2022&quot;,&quot;Second Day&quot;]] \r\n\r\nIn Java, I would like to parse this array and store data in the following format: \r\n\r\n    String[] firstElements = [&quot;1234&quot; , &quot;1245&quot;, &quot;3411&quot;];\r\n    String[] secondElements = [&quot;OS&quot;, &quot;OS&quot;, &quot;OS&quot;];\r\n    String[] thirdElements = [&quot;01/31/2023&quot;, &quot;01/23/2023&quot;, &quot;09/21/2022&quot;];\r\n    String[] fourthElements = [&quot;02/01/2023&quot;, &quot;01/24/2023&quot;, &quot;09/21/2022&quot;];\r\n    String[] fifthElements = [&quot;First Day&quot;, &quot;Last Day&quot;, &quot;Second Day&quot;];\r\n\r\nIs this possible? How can I achieve this?","title":"Parse JSON in java (custom)","body":"<p>I have a JSON array in the following format:</p>\n<pre><code>[[&quot;1234&quot;,&quot;OS&quot;,&quot;01/31/2023&quot;,&quot;02/01/2023&quot;,&quot;First Day&quot;],[&quot;1245&quot;,&quot;OS&quot;,&quot;01/23/2023&quot;,&quot;01/24/2023&quot;,&quot;Last Day&quot;],[&quot;3411&quot;,&quot;OS&quot;,&quot;09/21/2022&quot;,&quot;09/21/2022&quot;,&quot;Second Day&quot;]] \n</code></pre>\n<p>In Java, I would like to parse this array and store data in the following format:</p>\n<pre><code>String[] firstElements = [&quot;1234&quot; , &quot;1245&quot;, &quot;3411&quot;];\nString[] secondElements = [&quot;OS&quot;, &quot;OS&quot;, &quot;OS&quot;];\nString[] thirdElements = [&quot;01/31/2023&quot;, &quot;01/23/2023&quot;, &quot;09/21/2022&quot;];\nString[] fourthElements = [&quot;02/01/2023&quot;, &quot;01/24/2023&quot;, &quot;09/21/2022&quot;];\nString[] fifthElements = [&quot;First Day&quot;, &quot;Last Day&quot;, &quot;Second Day&quot;];\n</code></pre>\n<p>Is this possible? How can I achieve this?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1674726036,"post_id":75244279,"comment_id":132776649,"body_markdown":"Session `max_allowed_packet` option variable is read-only, i.e. you cannot alter it. If current value is too low then you must either reconfigure and restart your server (remember, this will alter memory consumption accordingly, so the server must be re-tuned), or you may simply divide your data packed to chunks (save your data using a pack of separate queries). The last option seems to be more safe.","body":"Session <code>max_allowed_packet</code> option variable is read-only, i.e. you cannot alter it. If current value is too low then you must either reconfigure and restart your server (remember, this will alter memory consumption accordingly, so the server must be re-tuned), or you may simply divide your data packed to chunks (save your data using a pack of separate queries). The last option seems to be more safe."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1674727083,"post_id":75244279,"comment_id":132777016,"body_markdown":"Thank you @Akina, how would you suggest to divide, I mean I have the number of records, how can I check the volume of them? one client might have 30k records and the other 100k. it is not even guaranteed to meet the limitation by divide based on the numbers","body":"Thank you @Akina, how would you suggest to divide, I mean I have the number of records, how can I check the volume of them? one client might have 30k records and the other 100k. it is not even guaranteed to meet the limitation by divide based on the numbers"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1674734133,"post_id":75244279,"comment_id":132779081,"body_markdown":"Imagine that you have a row to be inserted. You know the columns datatypes, for string type you know the lengths, and you know the datatypes overheads. Hence you can easily calculate the size of the row. Do this for each row to be inserted. I recommend you to use chunks which are ~25-30% in size of `max_allowed_packet` value, this guarantees that you won&#39;t exceed the limitation.","body":"Imagine that you have a row to be inserted. You know the columns datatypes, for string type you know the lengths, and you know the datatypes overheads. Hence you can easily calculate the size of the row. Do this for each row to be inserted. I recommend you to use chunks which are ~25-30% in size of <code>max_allowed_packet</code> value, this guarantees that you won&#39;t exceed the limitation."}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674725460,"creation_date":1674725421,"question_id":75244279,"body_markdown":"I am sending requests to the `GOOGLE MY BUSINESS API` (com.google.api.services.mybusiness.v4) and as a response I receive the `Reviews` for our client. I collect all the reviews in a List (in java) and finally at the end, I insert them in a`MY-SQL` table. We have different clients which may have various numbers of reviews everyday, and the problem is that sometimes the process fails because this so-called **`max-allowed-packet`** limit has been exceeded. \r\n\r\n    \r\n    mysql&gt; SHOW VARIABLES LIKE &#39;max_allowed_packet&#39;;\r\n    +--------------------+----------+\r\n    | Variable_name      | Value    |\r\n    +--------------------+----------+\r\n    | max_allowed_packet | 33554432 |\r\n    +--------------------+----------+\r\n    1 row in set (0.03 sec)\r\nSince this value is in bytes, how can I handle this problem? I mean I have a List of info to insert so I have the **number** of records and not their volume. For the moment I am shrinking my list into sub-lists if they are more than 10000 records but there is no guarantee that less than 10K records would satisfy the `max_allowed_packet` limitation.\r\nPlus, I cannot increase this variable according to the `DBA` policies. \r\nAny help would be appreciated.\r\n","title":"How to handle the Variable &#39;max_allowed_packet&#39; limitation in MYSQL?","body":"<p>I am sending requests to the <code>GOOGLE MY BUSINESS API</code> (com.google.api.services.mybusiness.v4) and as a response I receive the <code>Reviews</code> for our client. I collect all the reviews in a List (in java) and finally at the end, I insert them in a<code>MY-SQL</code> table. We have different clients which may have various numbers of reviews everyday, and the problem is that sometimes the process fails because this so-called <strong><code>max-allowed-packet</code></strong> limit has been exceeded.</p>\n<pre><code>mysql&gt; SHOW VARIABLES LIKE 'max_allowed_packet';\n+--------------------+----------+\n| Variable_name      | Value    |\n+--------------------+----------+\n| max_allowed_packet | 33554432 |\n+--------------------+----------+\n1 row in set (0.03 sec)\n</code></pre>\n<p>Since this value is in bytes, how can I handle this problem? I mean I have a List of info to insert so I have the <strong>number</strong> of records and not their volume. For the moment I am shrinking my list into sub-lists if they are more than 10000 records but there is no guarantee that less than 10K records would satisfy the <code>max_allowed_packet</code> limitation.\nPlus, I cannot increase this variable according to the <code>DBA</code> policies.\nAny help would be appreciated.</p>\n"},{"tags":["java","metadata","grpc"],"answers":[{"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674612832,"creation_date":1674612832,"answer_id":75229126,"question_id":75208281,"body_markdown":"io.grpc.CallCredentials is an abstract class, it would be up to the implementation to provide applyRequestMetadata().  If you have something that extends CallCredentials and it uses the executor, having a mock instead of a real executor may skip doing the expected task.","title":"GRPC client in Java, need to pass metadata","body":"<p>io.grpc.CallCredentials is an abstract class, it would be up to the implementation to provide applyRequestMetadata().  If you have something that extends CallCredentials and it uses the executor, having a mock instead of a real executor may skip doing the expected task.</p>\n"},{"tags":[],"owner":{"account_id":27599298,"reputation":31,"user_id":21064864,"display_name":"Павел Тишков"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674725338,"creation_date":1674725130,"answer_id":75244231,"question_id":75208281,"body_markdown":"In the end, I managed to make a working method.\r\nI created a separate class to get an authorization token and then used it as Credentials:\r\n\r\n    package grpc;\r\n    import io.grpc.CallCredentials;\r\n    import io.grpc.Metadata;\r\n    import io.grpc.Status;\r\n    import java.util.concurrent.Executor;\r\n        \r\n    public class ApplyMetadata extends CallCredentials {\r\n        private String clientid;\r\n        private String workerid;\r\n        private String instance;\r\n        private Metadata.Key&lt;String&gt; c = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n        private Metadata.Key&lt;String&gt; w = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n        private Metadata.Key&lt;String&gt; i = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n    \r\n        public ApplyMetadata(String clientid, String workerid, String instance) {\r\n            this.clientid = clientid;\r\n            this.workerid = workerid;\r\n            this.instance = instance;\r\n        }\r\n    \r\n        @Override\r\n        public void applyRequestMetadata(RequestInfo requestInfo, Executor executor, MetadataApplier metadataApplier) {\r\n            executor.execute(() -&gt; {\r\n                try {\r\n                    Metadata headers = new Metadata();\r\n                    headers.put(c, clientid);\r\n                    headers.put(w, workerid);\r\n                    headers.put(i, instance);\r\n                    metadataApplier.apply(headers);\r\n                } catch (Throwable e) {\r\n                    metadataApplier.fail(Status.UNAUTHENTICATED.withCause(e));\r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        public void thisUsesUnstableApi() {\r\n            // noop\r\n        }\r\n    }\r\n\r\nIn my method it just:\r\n\r\n    ApplyMetadata token = new ApplyMetadata(clientId, workerId, Integer.toString(instanceId));\r\n    stub.withCallCredentials(token).add(request);","title":"GRPC client in Java, need to pass metadata","body":"<p>In the end, I managed to make a working method.\nI created a separate class to get an authorization token and then used it as Credentials:</p>\n<pre><code>package grpc;\nimport io.grpc.CallCredentials;\nimport io.grpc.Metadata;\nimport io.grpc.Status;\nimport java.util.concurrent.Executor;\n    \npublic class ApplyMetadata extends CallCredentials {\n    private String clientid;\n    private String workerid;\n    private String instance;\n    private Metadata.Key&lt;String&gt; c = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n    private Metadata.Key&lt;String&gt; w = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n    private Metadata.Key&lt;String&gt; i = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\n\n    public ApplyMetadata(String clientid, String workerid, String instance) {\n        this.clientid = clientid;\n        this.workerid = workerid;\n        this.instance = instance;\n    }\n\n    @Override\n    public void applyRequestMetadata(RequestInfo requestInfo, Executor executor, MetadataApplier metadataApplier) {\n        executor.execute(() -&gt; {\n            try {\n                Metadata headers = new Metadata();\n                headers.put(c, clientid);\n                headers.put(w, workerid);\n                headers.put(i, instance);\n                metadataApplier.apply(headers);\n            } catch (Throwable e) {\n                metadataApplier.fail(Status.UNAUTHENTICATED.withCause(e));\n            }\n        });\n    }\n    @Override\n    public void thisUsesUnstableApi() {\n        // noop\n    }\n}\n</code></pre>\n<p>In my method it just:</p>\n<pre><code>ApplyMetadata token = new ApplyMetadata(clientId, workerId, Integer.toString(instanceId));\nstub.withCallCredentials(token).add(request);\n</code></pre>\n"}],"owner":{"account_id":27599298,"reputation":31,"user_id":21064864,"display_name":"Павел Тишков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1581,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674725338,"creation_date":1674470223,"question_id":75208281,"body_markdown":"When writing a GRPC client and submitting a request, I get the error &quot;UNAUTHENTICATED: invalid credentails&quot;.\r\nIt is required to transfer 3 lines of metadata:\r\n```\r\n&quot;clientid&quot; = &quot;1&quot;\r\n&quot;workerid&quot; = &quot;2&quot;\r\n&quot;instance&quot; = &quot;3&quot;\r\n```\r\n\r\nDeclare the metadata:\r\n```\r\nprivate Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\nprivate Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\nprivate Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n```\r\n\r\nNext, you need to transfer them to Credentials, but it doesn&#39;t work. Tried to implement through mock stubs, but also an error:\r\n```\r\npublic class MethodAdd {\r\n   private CallCredentials callCredentials;\r\n   @Mock\r\n   private Executor mockExecutor = Mockito.mock(Executor.class);\r\n   @Mock\r\n   private RequestInfo mockRequestInfo = Mockito.mock(RequestInfo.class);\r\n   public MetadataApplier metadataApplier;\r\n   private Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n   private Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n   private Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n\r\npublic void add(String target, int instanceId) throws InterruptedException {\r\n   ManagedChannel channel = ManagedChannelBuilder.forTarget(target)\r\n                .usePlaintext()\r\n                .build();\r\n   BlockingStub stub = newBlockingStub(channel);\r\n   Metadata headers = new Metadata();\r\n        headers.put(clientid, &quot;1&quot;);\r\n        headers.put(workerid, &quot;2&quot;);\r\n        headers.put(instance, Integer.toString(instanceId));\r\n   metadataApplier.apply(headers);\r\n   callCredentials.applyRequestMetadata(mockRequestInfo, mockExecutor, metadataApplier);\r\n   stub.withCallCredentials(callCredentials).add(Empty.newBuilder().build());\r\n   channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);\r\n   }\r\n}\r\n```\r\n\r\nCan you please tell me if I need to override some methods? Or is there an even easier option? Need help!","title":"GRPC client in Java, need to pass metadata","body":"<p>When writing a GRPC client and submitting a request, I get the error &quot;UNAUTHENTICATED: invalid credentails&quot;.\nIt is required to transfer 3 lines of metadata:</p>\n<pre><code>&quot;clientid&quot; = &quot;1&quot;\n&quot;workerid&quot; = &quot;2&quot;\n&quot;instance&quot; = &quot;3&quot;\n</code></pre>\n<p>Declare the metadata:</p>\n<pre><code>private Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\nprivate Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\nprivate Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\n</code></pre>\n<p>Next, you need to transfer them to Credentials, but it doesn't work. Tried to implement through mock stubs, but also an error:</p>\n<pre><code>public class MethodAdd {\n   private CallCredentials callCredentials;\n   @Mock\n   private Executor mockExecutor = Mockito.mock(Executor.class);\n   @Mock\n   private RequestInfo mockRequestInfo = Mockito.mock(RequestInfo.class);\n   public MetadataApplier metadataApplier;\n   private Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n   private Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n   private Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\n\npublic void add(String target, int instanceId) throws InterruptedException {\n   ManagedChannel channel = ManagedChannelBuilder.forTarget(target)\n                .usePlaintext()\n                .build();\n   BlockingStub stub = newBlockingStub(channel);\n   Metadata headers = new Metadata();\n        headers.put(clientid, &quot;1&quot;);\n        headers.put(workerid, &quot;2&quot;);\n        headers.put(instance, Integer.toString(instanceId));\n   metadataApplier.apply(headers);\n   callCredentials.applyRequestMetadata(mockRequestInfo, mockExecutor, metadataApplier);\n   stub.withCallCredentials(callCredentials).add(Empty.newBuilder().build());\n   channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);\n   }\n}\n</code></pre>\n<p>Can you please tell me if I need to override some methods? Or is there an even easier option? Need help!</p>\n"},{"tags":["java","windows","email","james"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650808611,"post_id":71989033,"comment_id":127204918,"body_markdown":"I&#39;m wondering why you&#39;d want to run a mail server as a web app?","body":"I&#39;m wondering why you&#39;d want to run a mail server as a web app?"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1650809190,"post_id":71989033,"comment_id":127205035,"body_markdown":"Standardization of codes. I dont want programs, here and there. I want them, all in one place","body":"Standardization of codes. I dont want programs, here and there. I want them, all in one place"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650809424,"post_id":71989033,"comment_id":127205093,"body_markdown":"I don&#39;t understand the answer but right off the bat you&#39;re going to have difficulty getting the networking that a mail server needs to work from a web app.\nIt might have changed since I first heard about it. Looking at the distro zip it looks as if the server itself supports some kind of web admin, so it might be all the other way around ;)","body":"I don&#39;t understand the answer but right off the bat you&#39;re going to have difficulty getting the networking that a mail server needs to work from a web app. It might have changed since I first heard about it. Looking at the distro zip it looks as if the server itself supports some kind of web admin, so it might be all the other way around ;)"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1650865686,"post_id":71989033,"comment_id":127215048,"body_markdown":"@g00se What i mean is, when one make a jar file, (for security reasons) she need to create a new folder sharing to put it in; configure users for that sharing. And it creates complexity for users and maintainers. When one builds a war file, she will just put it in.... tomcat webapps. done.","body":"@g00se What i mean is, when one make a jar file, (for security reasons) she need to create a new folder sharing to put it in; configure users for that sharing. And it creates complexity for users and maintainers. When one builds a war file, she will just put it in.... tomcat webapps. done."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650876862,"post_id":71989033,"comment_id":127218348,"body_markdown":"I&#39;d be surprised if it can be done. But if you&#39;re lucky, from what I said before, it would appear then that you&#39;d have a web app inside a mail server inside a web app ;)","body":"I&#39;d be surprised if it can be done. But if you&#39;re lucky, from what I said before, it would appear then that you&#39;d have a web app inside a mail server inside a web app ;)"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674046191,"post_id":71989033,"comment_id":132630391,"body_markdown":"@Tugalsan Karabacak, Apache James Mail Server 3.x requires JDK 11, do not use JDK 17.","body":"@Tugalsan Karabacak, Apache James Mail Server 3.x requires JDK 11, do not use JDK 17."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1674548052,"post_id":71989033,"comment_id":132731599,"body_markdown":"@life888888 I have downloaded james-server-jpa-guice again from https://archive.apache.org/dist/james/server/3.7.3 also. with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip it gave the same error. Now I will try the spring version","body":"@life888888 I have downloaded james-server-jpa-guice again from <a href=\"https://archive.apache.org/dist/james/server/3.7.3\" rel=\"nofollow noreferrer\">archive.apache.org/dist/james/server/3.7.3</a> also. with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip it gave the same error. Now I will try the spring version"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1674548668,"post_id":71989033,"comment_id":132731767,"body_markdown":"@life888888 No, james-server-spring-app-3.7.3-app.zip also not working with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip.","body":"@life888888 No, james-server-spring-app-3.7.3-app.zip also not working with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674725296,"creation_date":1674577403,"answer_id":75224363,"question_id":71989033,"body_markdown":"Use\r\n\r\n```\r\ncd james-server-spring-app-3.7.3\\bin\r\nrun.bat\r\n```\r\n\r\n**If the windows firewall pops up and asks to allow the opening of the port, please allow the opening of the relevant port for Apache James Mail Server to use.**\r\n\r\n\r\nDo not use\r\n\r\n```\r\njames console\r\n```\r\n\r\n## run.bat - log\r\n\r\n```\r\nC:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;run.bat\r\n24-Jan-2023 04:55:15.525 INFO [main] org.springframework.context.support.AbstractApplicationContext.prepareRefresh:583 - Refreshing org.apache.james.container.spring.context.JamesServerApplicationContext@7c098bb3: startup date [Tue Jan 24 04:55:15 PST 2023]; root of context hierarchy\r\n24-Jan-2023 04:55:15.610 INFO [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:317 - Loading XML bean definitions from class path resource [META-INF/org/apache/james/spring-server.xml]\r\n...\r\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.transport.TransportServerThreadSupport.doStart:69 - Listening for connections at: tcp://127.0.0.1:50043\r\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.broker.TransportConnector.start:267 - Connector tcp://127.0.0.1:50043 started\r\n24-Jan-2023 04:55:26.010 INFO [main] org.apache.activemq.broker.BrokerService.doStartBroker:759 - Apache ActiveMQ 5.17.2 (james, broker) started\r\n...\r\n24-Jan-2023 04:55:27.678 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - SMTP Service bound to: 0.0.0.0:25\r\n...\r\n24-Jan-2023 04:55:27.992 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - POP3 Service bound to: 0.0.0.0:110\r\n...\r\n24-Jan-2023 04:55:28.239 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - IMAP Service bound to: 0.0.0.0:143\r\n...\r\n24-Jan-2023 04:55:28.378 INFO [main] org.springframework.remoting.rmi.RmiRegistryFactoryBean.getRegistry:217 - Looking for RMI registry at port &#39;9999&#39;, using custom socket factory\r\n...\r\n24-Jan-2023 04:55:29.997 INFO [main] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 14534 milliseconds.\r\n```\r\n\r\n## james-cli.bat - log\r\n\r\n```\r\nC:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;james-cli.bat adduser user@localhost myPass\r\nAddUser command executed sucessfully in 573 ms.\r\n```\r\n\r\nMy Env: \r\n\r\n- Windows 10, \r\n- OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi\r\n- [james-server-spring-app-3.7.3-app.zip][1]\r\n\r\n\r\n  [1]: https://archive.apache.org/dist/james/server/3.7.3/james-server-spring-app-3.7.3-app.zip\r\n\r\n# JDK install\r\n\r\n## (1) Remove Environment Variavle: `JAVA_HOME`, And Remove JDK Path from Environment Variavle: `PATH`\r\n## (2) install adoptium Open JDK 11\r\n### (2-1) Download JDK msi file - https://adoptium.net/temurin/releases/\r\n- Operating System: **Windows**\r\n- Architecture: **x64**\r\n- Package Type: **JDK**\r\n- Version: **11**\r\n- install Type: **.msi**\r\n### (2-2) click `OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi`\r\n### (2-3) GUI: `Welcome to ...`, Click `Next`\r\n### (2-4) GUI: `Custom Setup`,\r\n#### (2-4-1) `Set JAVA_HOME variale`, drop down, select `Entire feacture will be installed on local hard drive`\r\n#### (2-4-2) `JavaSoft(Oracle) registry keys`, drop down, select `Entire feacture will be installed on local hard drive`\r\n#### (2-4-3) Click `Next`\r\n### (2-5) GUI: `Ready to install ...`, click `Install`\r\n### (2-6) Windows: User Account Control, `Do you want to allow...`, clock `Yes`\r\n### (2-7) GUI: `Completed the Eclipse ...`, click `Finish`\r\n\r\n\r\n","title":"How to use JAMES (Java Mail Server) in windows 11 JDK 17","body":"<p>Use</p>\n<pre><code>cd james-server-spring-app-3.7.3\\bin\nrun.bat\n</code></pre>\n<p><strong>If the windows firewall pops up and asks to allow the opening of the port, please allow the opening of the relevant port for Apache James Mail Server to use.</strong></p>\n<p>Do not use</p>\n<pre><code>james console\n</code></pre>\n<h2>run.bat - log</h2>\n<pre><code>C:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;run.bat\n24-Jan-2023 04:55:15.525 INFO [main] org.springframework.context.support.AbstractApplicationContext.prepareRefresh:583 - Refreshing org.apache.james.container.spring.context.JamesServerApplicationContext@7c098bb3: startup date [Tue Jan 24 04:55:15 PST 2023]; root of context hierarchy\n24-Jan-2023 04:55:15.610 INFO [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:317 - Loading XML bean definitions from class path resource [META-INF/org/apache/james/spring-server.xml]\n...\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.transport.TransportServerThreadSupport.doStart:69 - Listening for connections at: tcp://127.0.0.1:50043\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.broker.TransportConnector.start:267 - Connector tcp://127.0.0.1:50043 started\n24-Jan-2023 04:55:26.010 INFO [main] org.apache.activemq.broker.BrokerService.doStartBroker:759 - Apache ActiveMQ 5.17.2 (james, broker) started\n...\n24-Jan-2023 04:55:27.678 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - SMTP Service bound to: 0.0.0.0:25\n...\n24-Jan-2023 04:55:27.992 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - POP3 Service bound to: 0.0.0.0:110\n...\n24-Jan-2023 04:55:28.239 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - IMAP Service bound to: 0.0.0.0:143\n...\n24-Jan-2023 04:55:28.378 INFO [main] org.springframework.remoting.rmi.RmiRegistryFactoryBean.getRegistry:217 - Looking for RMI registry at port '9999', using custom socket factory\n...\n24-Jan-2023 04:55:29.997 INFO [main] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 14534 milliseconds.\n</code></pre>\n<h2>james-cli.bat - log</h2>\n<pre><code>C:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;james-cli.bat adduser user@localhost myPass\nAddUser command executed sucessfully in 573 ms.\n</code></pre>\n<p>My Env:</p>\n<ul>\n<li>Windows 10,</li>\n<li>OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi</li>\n<li><a href=\"https://archive.apache.org/dist/james/server/3.7.3/james-server-spring-app-3.7.3-app.zip\" rel=\"nofollow noreferrer\">james-server-spring-app-3.7.3-app.zip</a></li>\n</ul>\n<h1>JDK install</h1>\n<h2>(1) Remove Environment Variavle: <code>JAVA_HOME</code>, And Remove JDK Path from Environment Variavle: <code>PATH</code></h2>\n<h2>(2) install adoptium Open JDK 11</h2>\n<h3>(2-1) Download JDK msi file - <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/</a></h3>\n<ul>\n<li>Operating System: <strong>Windows</strong></li>\n<li>Architecture: <strong>x64</strong></li>\n<li>Package Type: <strong>JDK</strong></li>\n<li>Version: <strong>11</strong></li>\n<li>install Type: <strong>.msi</strong></li>\n</ul>\n<h3>(2-2) click <code>OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi</code></h3>\n<h3>(2-3) GUI: <code>Welcome to ...</code>, Click <code>Next</code></h3>\n<h3>(2-4) GUI: <code>Custom Setup</code>,</h3>\n<h4>(2-4-1) <code>Set JAVA_HOME variale</code>, drop down, select <code>Entire feacture will be installed on local hard drive</code></h4>\n<h4>(2-4-2) <code>JavaSoft(Oracle) registry keys</code>, drop down, select <code>Entire feacture will be installed on local hard drive</code></h4>\n<h4>(2-4-3) Click <code>Next</code></h4>\n<h3>(2-5) GUI: <code>Ready to install ...</code>, click <code>Install</code></h3>\n<h3>(2-6) Windows: User Account Control, <code>Do you want to allow...</code>, clock <code>Yes</code></h3>\n<h3>(2-7) GUI: <code>Completed the Eclipse ...</code>, click <code>Finish</code></h3>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674725296,"creation_date":1650808107,"question_id":71989033,"body_markdown":"I want to find an email server implementation, convert the code to a war file like all my other apps.\\\r\nThe JAMES project seems so ... finished. But for years I couldn&#39;t even started it.\r\n\r\nMilestones:\r\n1) i have extracted *james-server-jpa-guice.zip* file from &lt;https://james.apache.org/download.cgi&gt; and run:\r\n```\r\nD:\\james&gt;java -classpath &#39;james-server-jpa-app.lib/*&#39; -javaagent:james-server-jpa-app.lib/openjpa-3.2.0.jar -Dlogback.configurationFile=conf/logback.xml -Dworking.directory=. org.apache.james.JPAJamesServerMain\r\nSome product derivations are being skipped. For information about product derivation status, run:\r\njava org.apache.openjpa.lib.conf.ProductDerivations\r\norg.apache.openjpa.persistence.PersistenceProductDerivation:java.lang.NoClassDefFoundError: javax/persistence/spi/PersistenceUnitInfo\r\nError: Could not find or load main class org.apache.james.JPAJamesServerMain\r\nCaused by: java.lang.ClassNotFoundException: org.apache.james.JPAJamesServerMain\r\n```\r\nno luck.\r\n\r\n2) Even though i don&#39;t understand Spring, I extracted *james-server-app-3.7.0-app.zip* from &lt;https://james.apache.org/download.cgi&gt; and run in admin mode:\r\n\r\n```\r\nD:\\james\\bin&gt;james console\r\nwrapper  | --&gt; Wrapper Started as Console\r\nwrapper  | Launching a JVM...\r\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,840 main ERROR Unable to create file ${sys:app.home}/log/springframework.log java.io.IOException: Dosya ad&#178;, dizin ad&#178; veya birim etiketi s&#247;zdizimi hatal&#178;\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\r\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\r\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,843 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,947 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:236)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:134)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,954 main ERROR Unable to create file ${sys:app.home}/log/openjpa.log java.io.IOException: Dosya ad&#178;, dizin ad&#178; veya birim etiketi s&#247;zdizimi hatal&#178;\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\r\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\r\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,966 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at \r\n\r\n.........\r\n\r\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=mailboxcopier&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=mailboxcopier]\r\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=quotamanagerbean&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=quotamanagerbean]\r\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=reindexerbean&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=reindexerbean]\r\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=sievemanagerbean&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=sievemanagerbean]\r\njvm 1    | 24-Nis-2022 15:52:37.040 INFO [WrapperSimpleAppMain] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 6214 milliseconds.\r\n```\r\n\r\nIt says server started, there are so many error messages that i am doubtfull.\\\r\n\r\n3) Anyway, I tried to add a user as below; but i did not worked again\r\n\r\n```\r\nD:\\james\\bin&gt;james-cli.bat adduser user@localhost myPass\r\n24-Nis-2022 15:59:13.194 ERROR [main] org.apache.james.cli.ServerCmd.main:101 - Error while playing command\r\njava.lang.Exception: Unexpected exception\r\n        at org.apache.james.user.lib.UsersRepositoryManagement.addUser(UsersRepositoryManagement.java:57) ~[james-server-data-library-3.7.0.jar:3.7.0]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252) ~[?:?]\r\n        at javax.management.StandardMBean.invoke(StandardMBean.java:405) ~[?:?]\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[?:?]\r\n        at sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\r\n        at sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:712) ~[?:?]\r\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nError class java.lang.Exception while executing command:Unexpected exception\r\nusage: java org.apache.james.cli.ServerCmd --host &lt;arg&gt; &lt;command&gt;\r\n -h,--host &lt;arg&gt;   node hostname or ip address\r\n -p,--port &lt;arg&gt;   remote jmx agent port number\r\nAddUser &lt;username&gt; &lt;password&gt;\r\nRemoveUser &lt;username&gt;\r\nListUsers\r\nAddDomain &lt;domainName&gt;\r\nRemoveDomain &lt;domainName&gt;\r\nContainsDomain &lt;domainName&gt;\r\nListDomains\r\nListMappings\r\nListUserDomainMappings &lt;user&gt; &lt;domain&gt;\r\nAddAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\r\nRemoveAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\r\nAddRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\r\nRemoveRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\r\nSetPassword &lt;username&gt; &lt;password&gt;\r\nCopyMailbox &lt;srcBean&gt; &lt;dstBean&gt;\r\nDeleteUserMailboxes &lt;user&gt;\r\nCreateMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nListUserMailboxes &lt;user&gt;\r\nDeleteMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nImportEml &lt;namespace&gt; &lt;user&gt; &lt;name&gt; &lt;path&gt;\r\nGetStorageQuota &lt;quotaroot&gt;\r\nGetMessageCountQuota &lt;quotaroot&gt;\r\nGetQuotaroot &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nGetMaxStorageQuota &lt;quotaroot&gt;\r\nGetMaxMessageCountQuota &lt;quotaroot&gt;\r\nSetMaxStorageQuota &lt;quotaroot&gt; &lt;maxMessageCount&gt;\r\nSetMaxMessageCountQuota &lt;quotaroot&gt; &lt;maxStorage&gt;\r\nSetGlobalMaxStorageQuota &lt;maxStorage&gt;\r\nSetGlobalMaxMessageCountQuota &lt;maxMessageCount&gt;\r\nGetGlobalMaxStorageQuota\r\nGetGlobalMaxMessageCountQuota\r\nReindexMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nReindexAll\r\nGetSieveQuota\r\nSetSieveQuota &lt;quota&gt;\r\nRemoveSieveQuota\r\nGetSieveUserQuota &lt;username&gt;\r\nSetSieveUserQuota &lt;username&gt; &lt;quota&gt;\r\nRemoveSieveUserQuota &lt;username&gt;\r\nAddActiveSieveScript &lt;username&gt; &lt;scriptname&gt; &lt;path&gt;\r\n```\r\n\r\n\r\nCould you put me in the right track.\r\n\r\n","title":"How to use JAMES (Java Mail Server) in windows 11 JDK 17","body":"<p>I want to find an email server implementation, convert the code to a war file like all my other apps.<br />\nThe JAMES project seems so ... finished. But for years I couldn't even started it.</p>\n<p>Milestones:</p>\n<ol>\n<li>i have extracted <em>james-server-jpa-guice.zip</em> file from <a href=\"https://james.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://james.apache.org/download.cgi</a> and run:</li>\n</ol>\n<pre><code>D:\\james&gt;java -classpath 'james-server-jpa-app.lib/*' -javaagent:james-server-jpa-app.lib/openjpa-3.2.0.jar -Dlogback.configurationFile=conf/logback.xml -Dworking.directory=. org.apache.james.JPAJamesServerMain\nSome product derivations are being skipped. For information about product derivation status, run:\njava org.apache.openjpa.lib.conf.ProductDerivations\norg.apache.openjpa.persistence.PersistenceProductDerivation:java.lang.NoClassDefFoundError: javax/persistence/spi/PersistenceUnitInfo\nError: Could not find or load main class org.apache.james.JPAJamesServerMain\nCaused by: java.lang.ClassNotFoundException: org.apache.james.JPAJamesServerMain\n</code></pre>\n<p>no luck.</p>\n<ol start=\"2\">\n<li>Even though i don't understand Spring, I extracted <em>james-server-app-3.7.0-app.zip</em> from <a href=\"https://james.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://james.apache.org/download.cgi</a> and run in admin mode:</li>\n</ol>\n<pre><code>D:\\james\\bin&gt;james console\nwrapper  | --&gt; Wrapper Started as Console\nwrapper  | Launching a JVM...\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,840 main ERROR Unable to create file ${sys:app.home}/log/springframework.log java.io.IOException: Dosya ad², dizin ad² veya birim etiketi s÷zdizimi hatal²\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,843 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,947 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:236)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:134)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,954 main ERROR Unable to create file ${sys:app.home}/log/openjpa.log java.io.IOException: Dosya ad², dizin ad² veya birim etiketi s÷zdizimi hatal²\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,966 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at \n\n.........\n\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=mailboxcopier': registering with JMX server as MBean [org.apache.james:type=component,name=mailboxcopier]\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=quotamanagerbean': registering with JMX server as MBean [org.apache.james:type=component,name=quotamanagerbean]\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=reindexerbean': registering with JMX server as MBean [org.apache.james:type=component,name=reindexerbean]\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=sievemanagerbean': registering with JMX server as MBean [org.apache.james:type=component,name=sievemanagerbean]\njvm 1    | 24-Nis-2022 15:52:37.040 INFO [WrapperSimpleAppMain] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 6214 milliseconds.\n</code></pre>\n<p>It says server started, there are so many error messages that i am doubtfull.\\</p>\n<ol start=\"3\">\n<li>Anyway, I tried to add a user as below; but i did not worked again</li>\n</ol>\n<pre><code>D:\\james\\bin&gt;james-cli.bat adduser user@localhost myPass\n24-Nis-2022 15:59:13.194 ERROR [main] org.apache.james.cli.ServerCmd.main:101 - Error while playing command\njava.lang.Exception: Unexpected exception\n        at org.apache.james.user.lib.UsersRepositoryManagement.addUser(UsersRepositoryManagement.java:57) ~[james-server-data-library-3.7.0.jar:3.7.0]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) ~[?:?]\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112) ~[?:?]\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46) ~[?:?]\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237) ~[?:?]\n        at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138) ~[?:?]\n        at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252) ~[?:?]\n        at javax.management.StandardMBean.invoke(StandardMBean.java:405) ~[?:?]\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814) ~[?:?]\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[?:?]\n        at sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\n        at sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\n        at java.security.AccessController.doPrivileged(AccessController.java:712) ~[?:?]\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705) ~[?:?]\n        at java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\nError class java.lang.Exception while executing command:Unexpected exception\nusage: java org.apache.james.cli.ServerCmd --host &lt;arg&gt; &lt;command&gt;\n -h,--host &lt;arg&gt;   node hostname or ip address\n -p,--port &lt;arg&gt;   remote jmx agent port number\nAddUser &lt;username&gt; &lt;password&gt;\nRemoveUser &lt;username&gt;\nListUsers\nAddDomain &lt;domainName&gt;\nRemoveDomain &lt;domainName&gt;\nContainsDomain &lt;domainName&gt;\nListDomains\nListMappings\nListUserDomainMappings &lt;user&gt; &lt;domain&gt;\nAddAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\nRemoveAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\nAddRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\nRemoveRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\nSetPassword &lt;username&gt; &lt;password&gt;\nCopyMailbox &lt;srcBean&gt; &lt;dstBean&gt;\nDeleteUserMailboxes &lt;user&gt;\nCreateMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nListUserMailboxes &lt;user&gt;\nDeleteMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nImportEml &lt;namespace&gt; &lt;user&gt; &lt;name&gt; &lt;path&gt;\nGetStorageQuota &lt;quotaroot&gt;\nGetMessageCountQuota &lt;quotaroot&gt;\nGetQuotaroot &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nGetMaxStorageQuota &lt;quotaroot&gt;\nGetMaxMessageCountQuota &lt;quotaroot&gt;\nSetMaxStorageQuota &lt;quotaroot&gt; &lt;maxMessageCount&gt;\nSetMaxMessageCountQuota &lt;quotaroot&gt; &lt;maxStorage&gt;\nSetGlobalMaxStorageQuota &lt;maxStorage&gt;\nSetGlobalMaxMessageCountQuota &lt;maxMessageCount&gt;\nGetGlobalMaxStorageQuota\nGetGlobalMaxMessageCountQuota\nReindexMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nReindexAll\nGetSieveQuota\nSetSieveQuota &lt;quota&gt;\nRemoveSieveQuota\nGetSieveUserQuota &lt;username&gt;\nSetSieveUserQuota &lt;username&gt; &lt;quota&gt;\nRemoveSieveUserQuota &lt;username&gt;\nAddActiveSieveScript &lt;username&gt; &lt;scriptname&gt; &lt;path&gt;\n</code></pre>\n<p>Could you put me in the right track.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674722377,"post_id":75243758,"comment_id":132775488,"body_markdown":"*Expected BEGIN_ARRAY but was BEGIN_OBJECT*","body":"<i>Expected BEGIN_ARRAY but was BEGIN_OBJECT</i>"}],"answers":[{"comments":[{"owner":{"account_id":4782690,"reputation":261,"user_id":3864004,"accept_rate":28,"display_name":"Ti J"},"score":0,"creation_date":1674723640,"post_id":75243855,"comment_id":132775857,"body_markdown":"Thanks @Jens, the error is gone. However, how can I get the values from the &quot;validationErrors&quot; and &quot;exceptionMessages&quot;?","body":"Thanks @Jens, the error is gone. However, how can I get the values from the &quot;validationErrors&quot; and &quot;exceptionMessages&quot;?"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725161,"creation_date":1674722803,"answer_id":75243855,"question_id":75243758,"body_markdown":"As my understanding is correct, you only get one object, not a List:\r\n\r\n\r\n    Response result = gson.fromJson(response.toString(), Response.class);\r\n\r\n\r\nTo map the object correctl, you have also to rename the properties, so they fit to the key names in the json structure:\r\n\r\n    import java.util.List;\r\n\r\n    public class Response{\r\n        public Response() {\r\n            super();\r\n        }\r\n        \r\n        private String message;\r\n        private List&lt;ValidationErrors&gt; validationErrors;\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setValidationErrors(List&lt;ValidationErrors&gt; errors) {\r\n            this.validationErrors = errors;\r\n        }\r\n    \r\n        public List&lt;ValidationErrors&gt; getValidationErrors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nor add the `SerializedName` annotation to it:\r\n\r\n    import java.util.List;\r\n    \r\n    public class Response{\r\n        public Response() {\r\n            super();\r\n        }\r\n        \r\n        private String message;\r\n        @SerializedName(&quot;validationErrors&quot;)\r\n        private List&lt;ValidationErrors&gt; errors;\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setErrors(List&lt;ValidationErrors&gt; errors) {\r\n            this.errors = errors;\r\n        }\r\n    \r\n        public List&lt;ValidationErrors&gt; getErrors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nand add the property for the missing keys `exceptionMessages`, `trailId` and `isSuccessful`.","title":"GSON parse a JSON value","body":"<p>As my understanding is correct, you only get one object, not a List:</p>\n<pre><code>Response result = gson.fromJson(response.toString(), Response.class);\n</code></pre>\n<p>To map the object correctl, you have also to rename the properties, so they fit to the key names in the json structure:</p>\n<pre><code>import java.util.List;\n\npublic class Response{\n    public Response() {\n        super();\n    }\n    \n    private String message;\n    private List&lt;ValidationErrors&gt; validationErrors;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setValidationErrors(List&lt;ValidationErrors&gt; errors) {\n        this.validationErrors = errors;\n    }\n\n    public List&lt;ValidationErrors&gt; getValidationErrors() {\n        return errors;\n    }\n}\n</code></pre>\n<p>or add the <code>SerializedName</code> annotation to it:</p>\n<pre><code>import java.util.List;\n\npublic class Response{\n    public Response() {\n        super();\n    }\n    \n    private String message;\n    @SerializedName(&quot;validationErrors&quot;)\n    private List&lt;ValidationErrors&gt; errors;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setErrors(List&lt;ValidationErrors&gt; errors) {\n        this.errors = errors;\n    }\n\n    public List&lt;ValidationErrors&gt; getErrors() {\n        return errors;\n    }\n}\n</code></pre>\n<p>and add the property for the missing keys <code>exceptionMessages</code>, <code>trailId</code> and <code>isSuccessful</code>.</p>\n"},{"comments":[{"owner":{"account_id":4782690,"reputation":261,"user_id":3864004,"accept_rate":28,"display_name":"Ti J"},"score":0,"creation_date":1674723538,"post_id":75243959,"comment_id":132775831,"body_markdown":"Ok, the error was no longer there. But how can I get the values from &quot;validationErrors&quot; and &quot;exceptionMessages&quot;?","body":"Ok, the error was no longer there. But how can I get the values from &quot;validationErrors&quot; and &quot;exceptionMessages&quot;?"}],"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674723393,"creation_date":1674723393,"answer_id":75243959,"question_id":75243758,"body_markdown":"You are getting this error as your json response is object and you are trying to parse as it is an array but it not..\r\n\r\n\r\nthat why it is showing like ```com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $```\r\n\r\n\r\nyour should replace code as mentioned below\r\n\r\nFrom\r\n```\r\nType listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\r\nList&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\r\n```\r\n\r\nTo\r\n```\r\nResponse objectResponse = gson.fromJson(response.toString(), Response.class);\r\n```","title":"GSON parse a JSON value","body":"<p>You are getting this error as your json response is object and you are trying to parse as it is an array but it not..</p>\n<p>that why it is showing like <code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $</code></p>\n<p>your should replace code as mentioned below</p>\n<p>From</p>\n<pre><code>Type listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\nList&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\n</code></pre>\n<p>To</p>\n<pre><code>Response objectResponse = gson.fromJson(response.toString(), Response.class);\n</code></pre>\n"}],"owner":{"account_id":4782690,"reputation":261,"user_id":3864004,"accept_rate":28,"display_name":"Ti J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674725266,"creation_date":1674722256,"question_id":75243758,"body_markdown":"I&#39;m working on a web service that is written in Java and I have to get the response from a JSON format. Below is the JSON. How can I get the values properly so I can used them?\r\n\r\n    {\r\n      &quot;message&quot;: &quot;string&quot;,\r\n      &quot;validationErrors&quot;: [\r\n        {\r\n          &quot;code&quot;: &quot;string&quot;,\r\n          &quot;message&quot;: &quot;string&quot;\r\n        }\r\n      ],\r\n      &quot;exceptionMessages&quot;: [\r\n        {\r\n          &quot;code&quot;: &quot;string&quot;,\r\n          &quot;message&quot;: &quot;string&quot;\r\n        }\r\n      ],\r\n      &quot;trailId&quot;: &quot;string&quot;,\r\n      &quot;isSuccessful&quot;: true\r\n    }\r\n\r\n\r\nThis is what I&#39;m trying, but I&#39;m getting an error.\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    import java.lang.reflect.Type;\r\n    \r\n    Type listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\r\n    List&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\r\n\r\nThis is the error I am getting when testing.\r\n\r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n\r\n\r\nResponse.java\r\n\r\n    import java.util.List;\r\n    \r\n    public class Response{\r\n        public Response() {\r\n            super();\r\n        }\r\n        \r\n        private String message;\r\n        private List&lt;ValidationErrors&gt; errors;\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setErrors(List&lt;ValidationErrors&gt; errors) {\r\n            this.errors = errors;\r\n        }\r\n    \r\n        public List&lt;ValidationErrors&gt; getErrors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nValidationErrors.java\r\n\r\n    public class ValidationErrors {\r\n        public ValidationErrors() {\r\n            super();\r\n        }\r\n        \r\n        private String code;\r\n        private String message;\r\n    \r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n\r\n","title":"GSON parse a JSON value","body":"<p>I'm working on a web service that is written in Java and I have to get the response from a JSON format. Below is the JSON. How can I get the values properly so I can used them?</p>\n<pre><code>{\n  &quot;message&quot;: &quot;string&quot;,\n  &quot;validationErrors&quot;: [\n    {\n      &quot;code&quot;: &quot;string&quot;,\n      &quot;message&quot;: &quot;string&quot;\n    }\n  ],\n  &quot;exceptionMessages&quot;: [\n    {\n      &quot;code&quot;: &quot;string&quot;,\n      &quot;message&quot;: &quot;string&quot;\n    }\n  ],\n  &quot;trailId&quot;: &quot;string&quot;,\n  &quot;isSuccessful&quot;: true\n}\n</code></pre>\n<p>This is what I'm trying, but I'm getting an error.</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport java.lang.reflect.Type;\n\nType listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\nList&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\n</code></pre>\n<p>This is the error I am getting when testing.</p>\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\n</code></pre>\n<p>Response.java</p>\n<pre><code>import java.util.List;\n\npublic class Response{\n    public Response() {\n        super();\n    }\n    \n    private String message;\n    private List&lt;ValidationErrors&gt; errors;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setErrors(List&lt;ValidationErrors&gt; errors) {\n        this.errors = errors;\n    }\n\n    public List&lt;ValidationErrors&gt; getErrors() {\n        return errors;\n    }\n}\n</code></pre>\n<p>ValidationErrors.java</p>\n<pre><code>public class ValidationErrors {\n    public ValidationErrors() {\n        super();\n    }\n    \n    private String code;\n    private String message;\n\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","eclipse","dom"],"answers":[{"comments":[{"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"score":0,"creation_date":1400616456,"post_id":6809045,"comment_id":36550473,"body_markdown":"this is not really have the same effect. getTextContent(), per the api docs, returns this...\n\nconcatenation of the textContent attribute value of every child node, excluding COMMENT_NODE and PROCESSING_INSTRUCTION_NODE nodes. This is the empty string if the node has no children.","body":"this is not really have the same effect. getTextContent(), per the api docs, returns this...  concatenation of the textContent attribute value of every child node, excluding COMMENT_NODE and PROCESSING_INSTRUCTION_NODE nodes. This is the empty string if the node has no children."}],"tags":[],"owner":{"account_id":287201,"reputation":37208,"user_id":586873,"accept_rate":95,"display_name":"Grzegorz Szpetkowski"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1311534921,"creation_date":1311534921,"answer_id":6809045,"question_id":6808536,"body_markdown":"Try using:\r\n\r\n    document.getElementsByTagName(&quot;name&quot;).item(0).getFirstChild().getNodeValue();\r\n\r\nAFAIK It&#39;s &quot;safer&quot; way than `getTextContent()` in some cases.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>Try using:</p>\n\n<pre><code>document.getElementsByTagName(\"name\").item(0).getFirstChild().getNodeValue();\n</code></pre>\n\n<p>AFAIK It's \"safer\" way than <code>getTextContent()</code> in some cases.</p>\n"},{"comments":[{"owner":{"account_id":31048,"reputation":3405,"user_id":85010,"accept_rate":79,"display_name":"fiskeben"},"score":1,"creation_date":1329990221,"post_id":8432545,"comment_id":11893004,"body_markdown":"This may be the solution to many things Eclipse and Maven cook up. Thanks a lot.","body":"This may be the solution to many things Eclipse and Maven cook up. Thanks a lot."},{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":1,"creation_date":1347218698,"post_id":8432545,"comment_id":16569854,"body_markdown":"This worked for me as a quick fix, although the getNodeValue() solution might be better.","body":"This worked for me as a quick fix, although the getNodeValue() solution might be better."},{"owner":{"account_id":890986,"reputation":1559,"user_id":1165320,"accept_rate":46,"display_name":"Gaurav"},"score":0,"creation_date":1382939249,"post_id":8432545,"comment_id":29139844,"body_markdown":"Perfect. Worked for me","body":"Perfect. Worked for me"},{"owner":{"account_id":2354191,"reputation":2051,"user_id":2062388,"display_name":"Rushi Shah"},"score":0,"creation_date":1405341177,"post_id":8432545,"comment_id":38373546,"body_markdown":"Excellent. Worked for me as well.","body":"Excellent. Worked for me as well."},{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1427366995,"post_id":8432545,"comment_id":46751535,"body_markdown":"Thanks for sharing with us. Excellent answer. 100% working. Plus one to u.","body":"Thanks for sharing with us. Excellent answer. 100% working. Plus one to u."},{"owner":{"account_id":4910579,"reputation":846,"user_id":3955989,"accept_rate":50,"display_name":"Ajay Sharma"},"score":0,"creation_date":1504173631,"post_id":8432545,"comment_id":78915998,"body_markdown":"Thanks a ton, almost scratched my head what was going wrong.","body":"Thanks a ton, almost scratched my head what was going wrong."}],"tags":[],"owner":{"account_id":1093912,"reputation":1436,"user_id":1087936,"display_name":"Jakub N&#248;rl&#248;v Iwanczuk"},"comment_count":6,"down_vote_count":0,"up_vote_count":142,"is_accepted":true,"score":142,"last_activity_date":1323354588,"creation_date":1323354588,"answer_id":8432545,"question_id":6808536,"body_markdown":"You need to go to Properties for the project in eclipse. Then select &quot;Java Build Path&quot; and tab &quot;Order and Export&quot;. Here you can arrange the order of dependencies. Ensure that your JRE is higher up then Maven Dependencies.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>You need to go to Properties for the project in eclipse. Then select \"Java Build Path\" and tab \"Order and Export\". Here you can arrange the order of dependencies. Ensure that your JRE is higher up then Maven Dependencies.</p>\n"},{"comments":[{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":0,"creation_date":1402553336,"post_id":10446207,"comment_id":37319398,"body_markdown":"consider writing the solution, because the link/post might get dead.","body":"consider writing the solution, because the link/post might get dead."},{"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"score":0,"creation_date":1428577546,"post_id":10446207,"comment_id":47225811,"body_markdown":"Paco: thanks for such a great solution. Keet it up :)","body":"Paco: thanks for such a great solution. Keet it up :)"}],"tags":[],"owner":{"account_id":1460022,"reputation":91,"user_id":1374596,"display_name":"Paco"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1418146401,"creation_date":1336123720,"answer_id":10446207,"question_id":6808536,"body_markdown":"I know that is an older post, but for anyone who reached this I had a similar problem and fixed it using the steps indicated in:\r\n\r\nhttp://mergetag.com/the-method-gettextcontent-is-undefined-for-the-type-node/\r\n\r\nNamely, `org.w3c.dom.Node.getTextContent() is only available as of Java 1.5` but also note the declarations of `Node`. The `xml-apis-1.0.b2.jar` is the problematic one. Go into the project Properties &gt; Java Build Path &gt; Order and Export tab, and move `xml-apis-1.0.b2.jar` to the top.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>I know that is an older post, but for anyone who reached this I had a similar problem and fixed it using the steps indicated in:</p>\n\n<p><a href=\"http://mergetag.com/the-method-gettextcontent-is-undefined-for-the-type-node/\" rel=\"nofollow noreferrer\">http://mergetag.com/the-method-gettextcontent-is-undefined-for-the-type-node/</a></p>\n\n<p>Namely, <code>org.w3c.dom.Node.getTextContent() is only available as of Java 1.5</code> but also note the declarations of <code>Node</code>. The <code>xml-apis-1.0.b2.jar</code> is the problematic one. Go into the project Properties > Java Build Path > Order and Export tab, and move <code>xml-apis-1.0.b2.jar</code> to the top.</p>\n"},{"tags":[],"owner":{"account_id":27616970,"reputation":1,"user_id":21078840,"display_name":"Roger Wernersson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725140,"creation_date":1674725140,"answer_id":75244234,"question_id":6808536,"body_markdown":"I had a similar problem, and fixed it by downgrading from Java SDK 1.11 to 1.8","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>I had a similar problem, and fixed it by downgrading from Java SDK 1.11 to 1.8</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37635,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":8432545,"answer_count":4,"score":40,"last_activity_date":1674725140,"creation_date":1311529466,"question_id":6808536,"body_markdown":"I am facing trouble with Node.getTextContent() of org.w3c.dom. I have following code block:\r\n\r\n    String name = document.getElementsByTagName(&quot;name&quot;).item(0).getTextContent(); \r\n\r\nAnd eclipse giving me `The method getTextContent() is undefined for the type Node`. What is the problem I don&#39;t understand. \r\n\r\nThanks and regards.\r\n\r\n---\r\n\r\nEdit:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;FBApp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;FBApp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\r\n\t\t&lt;repositories&gt;\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;java.net.maven1&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;java.net&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\r\n\t\t\t&lt;/repository&gt;\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;maven2-repository.java.net&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\r\n\t\t\t&lt;/repository&gt;\r\n\t\t&lt;/repositories&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;classifier&gt;NIGHTLY_20060227&lt;/classifier&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-beanutils-bean-collections&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-beanutils-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-el&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-el&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;oro&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;oro&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;facebook-java-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;facebook-java-api-annotation-processor&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;facebook-java-api-schema&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.4.2&lt;/version&gt;\r\n\t            &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t        &lt;/dependency&gt; \r\n\t        &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;jcl104-over-slf4j&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.4.2&lt;/version&gt;\r\n\t            &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t        &lt;/dependency&gt;        \r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\nThis is the pom.xml and the commons-digester needs xml-apis-1.0b2 which contains org.w3c.dom. I think this is a dependency problem.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>I am facing trouble with Node.getTextContent() of org.w3c.dom. I have following code block:</p>\n\n<pre><code>String name = document.getElementsByTagName(\"name\").item(0).getTextContent(); \n</code></pre>\n\n<p>And eclipse giving me <code>The method getTextContent() is undefined for the type Node</code>. What is the problem I don't understand. </p>\n\n<p>Thanks and regards.</p>\n\n<hr>\n\n<p>Edit:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;FBApp&lt;/groupId&gt;\n    &lt;artifactId&gt;FBApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;java.net.maven1&lt;/id&gt;\n            &lt;name&gt;java.net&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven2-repository.java.net&lt;/id&gt;\n            &lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;classifier&gt;NIGHTLY_20060227&lt;/classifier&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils-bean-collections&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils-core&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-el&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-el&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.1.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;oro&lt;/groupId&gt;\n            &lt;artifactId&gt;oro&lt;/artifactId&gt;\n            &lt;version&gt;2.0.8&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\n            &lt;artifactId&gt;facebook-java-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\n            &lt;artifactId&gt;facebook-java-api-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\n            &lt;artifactId&gt;facebook-java-api-schema&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl104-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;        \n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This is the pom.xml and the commons-digester needs xml-apis-1.0b2 which contains org.w3c.dom. I think this is a dependency problem.</p>\n"},{"tags":["java","datetime","java-time","localdatetime","java.time.instant"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674724888,"post_id":75243843,"comment_id":132776241,"body_markdown":"There really isn’t much good use for `LocalDateTime`. I think I have always preferred `ZonedDateTime` because it makes time zone explicit, contrary to `LocalDateTime`. For one case where you *do* need a `LocalDateTime` see [Storing appointments in a SQL database such as Postgres for use with java.time framework](https://stackoverflow.com/questions/64545555/storing-appointments-in-a-sql-database-such-as-postgres-for-use-with-java-time-f).","body":"There really isn’t much good use for <code>LocalDateTime</code>. I think I have always preferred <code>ZonedDateTime</code> because it makes time zone explicit, contrary to <code>LocalDateTime</code>. For one case where you <i>do</i> need a <code>LocalDateTime</code> see <a href=\"https://stackoverflow.com/questions/64545555/storing-appointments-in-a-sql-database-such-as-postgres-for-use-with-java-time-f\">Storing appointments in a SQL database such as Postgres for use with java.time framework</a>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674734515,"post_id":75243899,"comment_id":132779210,"body_markdown":"One may add that the JVM default time zone can be changed on runtime, which would under the OP’s interpretation have caused the `LocalDateTime` object to refer to a different point in time. Of course this is not the intended interpretation.","body":"One may add that the JVM default time zone can be changed on runtime, which would under the OP’s interpretation have caused the <code>LocalDateTime</code> object to refer to a different point in time. Of course this is not the intended interpretation."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1674723037,"creation_date":1674723037,"answer_id":75243899,"question_id":75243843,"body_markdown":"&gt; And `LocalDateTime` represents a point in time, encoded as date and time in the JVM local timezone.\r\n\r\nNo, that&#39;s not true. Regardless of the &quot;encoded as&quot; part (which I highly doubt, but which I don&#39;t have significant knowledge of to disprove), a `LocalDateTime` does *not* represent a point in time. It represents a local date/time, without reference to a specific time zone. Any given `LocalDateTime` occurs at different points in time in different time zones.\r\n\r\nCurrently the local date and time in the Europe/London time zone is 2023-01-26T08:50. The *same point in time* in (say) America/New_York would result in a different `LocalDateTime`. Whereas in America/New_York, the `LocalDateTime` of 2023-01-26T08:50 occurs as a different point in time.\r\n\r\nFor some `LocalDateTime` / time zone combinations, there may be zero or two corresponding points in time - for example, the `LocalDateTime` 2022-11-06T01:30 will occur in America/New_York at both 2022-11-06 05:30:00Z and 2022-11-06 06:30:00Z.\r\n\r\nHopefully this is sufficient evidence that a `LocalDateTime` really *isn&#39;t* a point in time...","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<blockquote>\n<p>And <code>LocalDateTime</code> represents a point in time, encoded as date and time in the JVM local timezone.</p>\n</blockquote>\n<p>No, that's not true. Regardless of the &quot;encoded as&quot; part (which I highly doubt, but which I don't have significant knowledge of to disprove), a <code>LocalDateTime</code> does <em>not</em> represent a point in time. It represents a local date/time, without reference to a specific time zone. Any given <code>LocalDateTime</code> occurs at different points in time in different time zones.</p>\n<p>Currently the local date and time in the Europe/London time zone is 2023-01-26T08:50. The <em>same point in time</em> in (say) America/New_York would result in a different <code>LocalDateTime</code>. Whereas in America/New_York, the <code>LocalDateTime</code> of 2023-01-26T08:50 occurs as a different point in time.</p>\n<p>For some <code>LocalDateTime</code> / time zone combinations, there may be zero or two corresponding points in time - for example, the <code>LocalDateTime</code> 2022-11-06T01:30 will occur in America/New_York at both 2022-11-06 05:30:00Z and 2022-11-06 06:30:00Z.</p>\n<p>Hopefully this is sufficient evidence that a <code>LocalDateTime</code> really <em>isn't</em> a point in time...</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674723068,"creation_date":1674723068,"answer_id":75243903,"question_id":75243843,"body_markdown":"A LocalDateTime represents a date and time without time zone information. It is used to represent &quot;local time&quot; (as an example for me, right now the local time is 2023-01-26 09:50). An Instant is always at UTC (example, the time right now is 2023-01-26 08:50 UTC). To transform between an Instant and what the observer considers to be local time, you need to know the ZoneId of the location of the observer (e.g. for me Europe/Amsterdam), otherwise you cannot derive a local time.\r\n\r\nAnd to be clear, a LocalDateTime does not represent a point in time (that is what Instant is for). To expand my example, for me the local time 2023-01-26 09:50 is now past, while for Jon Skeet (in Europe/London), that local time will happen in slightly less than an hour).","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p>A LocalDateTime represents a date and time without time zone information. It is used to represent &quot;local time&quot; (as an example for me, right now the local time is 2023-01-26 09:50). An Instant is always at UTC (example, the time right now is 2023-01-26 08:50 UTC). To transform between an Instant and what the observer considers to be local time, you need to know the ZoneId of the location of the observer (e.g. for me Europe/Amsterdam), otherwise you cannot derive a local time.</p>\n<p>And to be clear, a LocalDateTime does not represent a point in time (that is what Instant is for). To expand my example, for me the local time 2023-01-26 09:50 is now past, while for Jon Skeet (in Europe/London), that local time will happen in slightly less than an hour).</p>\n"},{"tags":[],"owner":{"account_id":26147295,"reputation":168,"user_id":19835740,"display_name":"Daxelarne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674723162,"creation_date":1674723071,"answer_id":75243905,"question_id":75243843,"body_markdown":"`.ofInstant()` is there to specify the instant and timezone. \r\n\r\nIf you don&#39;t want to specify the time zone and instant  you can use `.now()` wich will use the local date and time. \r\n\r\nIf you want to specify the instant but not the ZoneId you can use `ZomeId.systemDefault()`.","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p><code>.ofInstant()</code> is there to specify the instant and timezone.</p>\n<p>If you don't want to specify the time zone and instant  you can use <code>.now()</code> wich will use the local date and time.</p>\n<p>If you want to specify the instant but not the ZoneId you can use <code>ZomeId.systemDefault()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674724885,"creation_date":1674724885,"answer_id":75244197,"question_id":75243843,"body_markdown":"An `Instant` is independent from time zones or offsets, but a `LocalDateTime` is not. Although it does not have a `ZoneId` or `ZoneOffset`, it&#39;s values are partially based on the offset the specific zone currently has.\r\n\r\nHere&#39;s a code example with different zones that lead to different values of the very same `Instant`:\r\n\r\n```Java\r\npublic static void main(String[] args) throws DateTimeParseException {\r\n\t// example instant (see output)\r\n\tvar instant = Instant.now();\r\n\t// get the instant with different time zones\r\n\tvar ldtBerlin = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Europe/Berlin&quot;));\r\n\tvar ldtCanberra = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Australia/Canberra&quot;));\r\n\tvar ldtKolkata = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n\tvar ldtLA = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n\t// print all the results\r\n\tSystem.out.println(&quot;Instant &quot; + instant.toEpochMilli() + &quot; in different zones:&quot;);\r\n\tSystem.out.println(ldtBerlin + &quot; (Berlin)&quot;);\r\n\tSystem.out.println(ldtCanberra + &quot; (Canberra)&quot;);\r\n\tSystem.out.println(ldtKolkata + &quot; (Kolkata)&quot;);\r\n\tSystem.out.println(ldtLA + &quot; (Los Angeles)&quot;);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nInstant 1674724841016 in different zones:\r\n2023-01-26T10:20:41.016228 (Berlin)\r\n2023-01-26T20:20:41.016228 (Canberra)\r\n2023-01-26T14:50:41.016228 (Kolkata)\r\n2023-01-26T01:20:41.016228 (Los Angeles)\r\n```\r\n\r\nView the different values, those are the local dates and times of the zones, but a `LocalDateTime` does not have any! You can use other objects, like `ZonedDateTime` (has zone and offset) and `OffsetDateTime` (has offset). Both of them have a method `toLocalDateTime()`, in case you need a `LocalDateTime` later on…","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p>An <code>Instant</code> is independent from time zones or offsets, but a <code>LocalDateTime</code> is not. Although it does not have a <code>ZoneId</code> or <code>ZoneOffset</code>, it's values are partially based on the offset the specific zone currently has.</p>\n<p>Here's a code example with different zones that lead to different values of the very same <code>Instant</code>:</p>\n<pre><code>public static void main(String[] args) throws DateTimeParseException {\n    // example instant (see output)\n    var instant = Instant.now();\n    // get the instant with different time zones\n    var ldtBerlin = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Europe/Berlin&quot;));\n    var ldtCanberra = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Australia/Canberra&quot;));\n    var ldtKolkata = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\n    var ldtLA = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;America/Los_Angeles&quot;));\n    // print all the results\n    System.out.println(&quot;Instant &quot; + instant.toEpochMilli() + &quot; in different zones:&quot;);\n    System.out.println(ldtBerlin + &quot; (Berlin)&quot;);\n    System.out.println(ldtCanberra + &quot; (Canberra)&quot;);\n    System.out.println(ldtKolkata + &quot; (Kolkata)&quot;);\n    System.out.println(ldtLA + &quot; (Los Angeles)&quot;);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Instant 1674724841016 in different zones:\n2023-01-26T10:20:41.016228 (Berlin)\n2023-01-26T20:20:41.016228 (Canberra)\n2023-01-26T14:50:41.016228 (Kolkata)\n2023-01-26T01:20:41.016228 (Los Angeles)\n</code></pre>\n<p>View the different values, those are the local dates and times of the zones, but a <code>LocalDateTime</code> does not have any! You can use other objects, like <code>ZonedDateTime</code> (has zone and offset) and <code>OffsetDateTime</code> (has offset). Both of them have a method <code>toLocalDateTime()</code>, in case you need a <code>LocalDateTime</code> later on…</p>\n"}],"owner":{"account_id":13449386,"reputation":53,"user_id":11019740,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75243899,"answer_count":4,"score":3,"last_activity_date":1674725041,"creation_date":1674722718,"question_id":75243843,"body_markdown":"In Java, \r\n\r\n - If `Instant` represents a point in time, encoded as date and time in\r\n   UTC.\r\n - And `LocalDateTime` represents a point in time, encoded as date and time in the JVM local timezone.\r\n\r\nWhy then does `LocalDateTime.ofInstant()` require a `ZoneId` as a second argument ?\r\n\r\nThis makes `LocalDateTime` not only confusing and potentially incorrect, but also makes it identical to `ZonedDateTime`; because the timezone of `LocalDateTime` can be any timezone just like `ZonedDateTime`.","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p>In Java,</p>\n<ul>\n<li>If <code>Instant</code> represents a point in time, encoded as date and time in\nUTC.</li>\n<li>And <code>LocalDateTime</code> represents a point in time, encoded as date and time in the JVM local timezone.</li>\n</ul>\n<p>Why then does <code>LocalDateTime.ofInstant()</code> require a <code>ZoneId</code> as a second argument ?</p>\n<p>This makes <code>LocalDateTime</code> not only confusing and potentially incorrect, but also makes it identical to <code>ZonedDateTime</code>; because the timezone of <code>LocalDateTime</code> can be any timezone just like <code>ZonedDateTime</code>.</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"score":1,"creation_date":1316302729,"post_id":7437891,"comment_id":9022808,"body_markdown":"Excellent answer there: http://www.lunatech-research.com/archives/2008/10/17/generating-kml-restful-clients","body":"Excellent answer there: <a href=\"http://www.lunatech-research.com/archives/2008/10/17/generating-kml-restful-clients\" rel=\"nofollow noreferrer\">lunatech-research.com/archives/2008/10/17/&hellip;</a>"},{"owner":{"account_id":3047,"reputation":7731,"user_id":4311,"accept_rate":100,"display_name":"Doug Porter"},"score":2,"creation_date":1445875632,"post_id":7437891,"comment_id":54496027,"body_markdown":"Link above does not currently resolve.  Wayback Machine version is here: https://web.archive.org/web/20090221124958/http://lunatech-research.com/archives/2008/10/17/kml-restful","body":"Link above does not currently resolve.  Wayback Machine version is here: <a href=\"https://web.archive.org/web/20090221124958/http://lunatech-research.com/archives/2008/10/17/kml-restful\" rel=\"nofollow noreferrer\">web.archive.org/web/20090221124958/http://lunatech-research.&zwnj;&#8203;com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"score":4,"creation_date":1316160442,"post_id":7438039,"comment_id":8998882,"body_markdown":"Thanks for the suggestion. Do you know how to do that?","body":"Thanks for the suggestion. Do you know how to do that?"}],"tags":[],"owner":{"account_id":228364,"reputation":5505,"user_id":490614,"accept_rate":91,"display_name":"sweetfa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316124811,"creation_date":1316124811,"answer_id":7438039,"question_id":7437891,"body_markdown":"One solution to your problem is to use the -p option to specify separate package names for each xsd file.","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>One solution to your problem is to use the -p option to specify separate package names for each xsd file.</p>\n"},{"comments":[{"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"score":0,"creation_date":1316192291,"post_id":7438049,"comment_id":9007668,"body_markdown":"Thanks for this answer. I have solved the problem now. This page has also been usefull: http://acuriousanimal.blogspot.com/2008/08/using-jaxb-to-generate-kml-java-classes.html","body":"Thanks for this answer. I have solved the problem now. This page has also been usefull: <a href=\"http://acuriousanimal.blogspot.com/2008/08/using-jaxb-to-generate-kml-java-classes.html\" rel=\"nofollow noreferrer\">acuriousanimal.blogspot.com/2008/08/&hellip;</a>"}],"tags":[],"owner":{"account_id":259667,"reputation":664,"user_id":542725,"display_name":"Teddy Yueh"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1316124900,"creation_date":1316124900,"answer_id":7438049,"question_id":7437891,"body_markdown":"You can use the bindings tag. Set the schemaLocation attribute to the location of a particular xsd. The child tags, schemaBindings and package, then define a new package namespace for that xsd. Below is the bindings file I used with xjc a while ago. If it still works, great. If not, example =).\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; version=&quot;2.1&quot;\r\n          xmlns:kml=&quot;http://www.opengis.net/kml/2.2&quot;\r\n          xmlns:atom=&quot;http://www.w3.org/2005/Atom&quot;&gt;\r\n    \r\n      &lt;bindings schemaLocation=&quot;ogckml22.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;net.opengis.kml&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings schemaLocation=&quot;kml22gx.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;net.opengis.kml.ex&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings schemaLocation=&quot;atom-author-link.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;org.w3c.atom&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings schemaLocation=&quot;xAL.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;org.oasis.xal&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;kml:scale&quot;&gt;\r\n        &lt;class name=&quot;scaleliteral&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;kml:snippet&quot;&gt;\r\n        &lt;class name=&quot;snippetliteral&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;kml:Snippet&quot;&gt;\r\n        &lt;property name=&quot;snippetDeprecated&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;atom:link&quot;&gt;\r\n        &lt;property name=&quot;atomLink&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n    &lt;/bindings&gt;","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>You can use the bindings tag. Set the schemaLocation attribute to the location of a particular xsd. The child tags, schemaBindings and package, then define a new package namespace for that xsd. Below is the bindings file I used with xjc a while ago. If it still works, great. If not, example =).</p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;bindings xmlns=\"http://java.sun.com/xml/ns/jaxb\" version=\"2.1\"\n      xmlns:kml=\"http://www.opengis.net/kml/2.2\"\n      xmlns:atom=\"http://www.w3.org/2005/Atom\"&gt;\n\n  &lt;bindings schemaLocation=\"ogckml22.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"net.opengis.kml\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings schemaLocation=\"kml22gx.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"net.opengis.kml.ex\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings schemaLocation=\"atom-author-link.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"org.w3c.atom\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings schemaLocation=\"xAL.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"org.oasis.xal\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"kml:scale\"&gt;\n    &lt;class name=\"scaleliteral\"/&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"kml:snippet\"&gt;\n    &lt;class name=\"snippetliteral\"/&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"kml:Snippet\"&gt;\n    &lt;property name=\"snippetDeprecated\"/&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"atom:link\"&gt;\n    &lt;property name=\"atomLink\"/&gt;\n  &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"score":1,"creation_date":1316160372,"post_id":7438069,"comment_id":8998862,"body_markdown":"thanks for your answer. -B-XautoNameResolution is unfortunately not a recognized xjc parameter. I am using version 2.1.10.","body":"thanks for your answer. -B-XautoNameResolution is unfortunately not a recognized xjc parameter. I am using version 2.1.10."},{"owner":{"account_id":6153144,"reputation":2226,"user_id":4796992,"accept_rate":100,"display_name":"SWiggels"},"score":3,"creation_date":1455537099,"post_id":7438069,"comment_id":58518215,"body_markdown":"its called `-XautoNameResolution` in 2.1.10 - I had the same problem. It works as wanted if you leave the `-B`","body":"its called <code>-XautoNameResolution</code> in 2.1.10 - I had the same problem. It works as wanted if you leave the <code>-B</code>"},{"owner":{"account_id":360048,"reputation":19679,"user_id":701829,"accept_rate":44,"display_name":"Edmondo"},"score":0,"creation_date":1474110177,"post_id":7438069,"comment_id":66404535,"body_markdown":"where did you find this out? Been looking for it, nothing in the docs","body":"where did you find this out? Been looking for it, nothing in the docs"}],"tags":[],"owner":{"account_id":421202,"reputation":352,"user_id":799308,"display_name":"Murat"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1674724571,"creation_date":1316124988,"answer_id":7438069,"question_id":7437891,"body_markdown":"Did you try `-B-XautoNameResolution` ? It might not always do the trick but best to give a try before writing a binding file.","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>Did you try <code>-B-XautoNameResolution</code> ? It might not always do the trick but best to give a try before writing a binding file.</p>\n"},{"tags":[],"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517296322,"creation_date":1517295797,"answer_id":48515690,"question_id":7437891,"body_markdown":"Well, after a long try, following configuration worked for me. I am using jaxb2-maven-plugin 2.3.1 and a separate binding file:\r\n\r\n**pom.xml**\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;target&gt;2.1&lt;/target&gt;\r\n\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t&lt;source&gt;src/main/xsd&lt;/source&gt;\r\n\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t&lt;xjbSources&gt;\r\n\t\t\t\t\t\t&lt;xjbSource&gt;src/main/xjb/bindings-1.3.xjb&lt;/xjbSource&gt;\r\n\t\t\t\t\t&lt;/xjbSources&gt;\r\n\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t&lt;argument&gt;-Xfluent-api&lt;/argument&gt;\r\n\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;!-- Package name of the generated sources. --&gt;\r\n\t\t\t\t\t&lt;!-- Don&#39;t use it, because we&#39;ve already declared separate package name inside bindings --&gt;\r\n\t\t\t\t\t&lt;!-- &lt;packageName&gt;com.abc.xyz.generated&lt;/packageName&gt; --&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/generated-sources/classes&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t\t&lt;extension&gt;true&lt;/extension&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jaxb2-fluent-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n**bindings.xml**   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;jxb:bindings version=&quot;1.0&quot; xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\txmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\r\n\r\n\t&lt;jxb:bindings schemaLocation=&quot;../xsd/ccv1p3_imscp_v1p2_v1p0.xsd&quot;\r\n\t\tnode=&quot;//xs:schema&quot;&gt;\r\n\t\t&lt;jxb:globalBindings&gt;\r\n\t\t\t&lt;jxb:serializable uid=&quot;1&quot; /&gt;\r\n\t\t\t&lt;jxb:javaType name=&quot;java.util.Calendar&quot; xmlType=&quot;xs:dateTime&quot;\r\n\t\t\t\tparseMethod=&quot;javax.xml.bind.DatatypeConverter.parseDateTime&quot;\r\n\t\t\t\tprintMethod=&quot;javax.xml.bind.DatatypeConverter.printDateTime&quot; /&gt;\r\n\t\t&lt;/jxb:globalBindings&gt;\r\n\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t&lt;jxb:package name=&quot;com.abc.xyz.generated.manifest&quot; /&gt;\r\n\t\t&lt;/jxb:schemaBindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\n\t&lt;jxb:bindings\r\n\t\tschemaLocation=&quot;http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lommanifest_v1p0.xsd&quot;\r\n\t\tnode=&quot;//xs:schema&quot;&gt;\r\n\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t&lt;jxb:package name=&quot;com.abc.xyz.generated.lommanifest&quot; /&gt;\r\n\t\t&lt;/jxb:schemaBindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\n\t&lt;jxb:bindings\r\n\t\tschemaLocation=&quot;http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lomresource_v1p0.xsd&quot;\r\n\t\tnode=&quot;//xs:schema&quot;&gt;\r\n\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t&lt;jxb:package name=&quot;com.lcs.thincc.generated.lomresource&quot; /&gt;\r\n\t\t&lt;/jxb:schemaBindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n\r\nPlease note, that we don&#39;t need to specify `packageName` inside `pom.xml` instead we can declare it using `&lt;jxb:schemaBindings&gt;` inside **bindings.xjb** file which is much easier as mentioned [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/tutorial/doc/bnbbf.html","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>Well, after a long try, following configuration worked for me. I am using jaxb2-maven-plugin 2.3.1 and a separate binding file:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;target&gt;2.1&lt;/target&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;src/main/xjb/bindings-1.3.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-Xfluent-api&lt;/argument&gt;\n                &lt;/arguments&gt;\n                &lt;!-- Package name of the generated sources. --&gt;\n                &lt;!-- Don't use it, because we've already declared separate package name inside bindings --&gt;\n                &lt;!-- &lt;packageName&gt;com.abc.xyz.generated&lt;/packageName&gt; --&gt;\n                &lt;outputDirectory&gt;${basedir}/target/generated-sources/classes&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;extension&gt;true&lt;/extension&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb2-fluent-api&lt;/artifactId&gt;\n                    &lt;version&gt;3.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>bindings.xml</strong>   </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;jxb:bindings schemaLocation=\"../xsd/ccv1p3_imscp_v1p2_v1p0.xsd\"\n    node=\"//xs:schema\"&gt;\n    &lt;jxb:globalBindings&gt;\n        &lt;jxb:serializable uid=\"1\" /&gt;\n        &lt;jxb:javaType name=\"java.util.Calendar\" xmlType=\"xs:dateTime\"\n            parseMethod=\"javax.xml.bind.DatatypeConverter.parseDateTime\"\n            printMethod=\"javax.xml.bind.DatatypeConverter.printDateTime\" /&gt;\n    &lt;/jxb:globalBindings&gt;\n    &lt;jxb:schemaBindings&gt;\n        &lt;jxb:package name=\"com.abc.xyz.generated.manifest\" /&gt;\n    &lt;/jxb:schemaBindings&gt;\n&lt;/jxb:bindings&gt;\n\n&lt;jxb:bindings\n    schemaLocation=\"http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lommanifest_v1p0.xsd\"\n    node=\"//xs:schema\"&gt;\n    &lt;jxb:schemaBindings&gt;\n        &lt;jxb:package name=\"com.abc.xyz.generated.lommanifest\" /&gt;\n    &lt;/jxb:schemaBindings&gt;\n&lt;/jxb:bindings&gt;\n\n&lt;jxb:bindings\n    schemaLocation=\"http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lomresource_v1p0.xsd\"\n    node=\"//xs:schema\"&gt;\n    &lt;jxb:schemaBindings&gt;\n        &lt;jxb:package name=\"com.lcs.thincc.generated.lomresource\" /&gt;\n    &lt;/jxb:schemaBindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n\n<p></p>\n\n<p>Please note, that we don't need to specify <code>packageName</code> inside <code>pom.xml</code> instead we can declare it using <code>&lt;jxb:schemaBindings&gt;</code> inside <strong>bindings.xjb</strong> file which is much easier as mentioned <a href=\"https://docs.oracle.com/javaee/5/tutorial/doc/bnbbf.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26176,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":7438049,"answer_count":4,"score":11,"last_activity_date":1674724571,"creation_date":1316123703,"question_id":7437891,"body_markdown":"Executing a &quot;xjc&quot; command on [these xsd files][1] returns a `Two declarations cause a collision in the ObjectFactory class` because there are 2 elements named &quot;Scale&quot; and &quot;scale&quot;.\r\n\r\nAccording to [this page][2], this problem may be solved by customizing the xsd files with `&lt;factoryMethod&gt;`. \r\n\r\nDo you know how to do that? Do you have an example of binding file to do that?\r\n\r\n\r\n  [1]: http://schemas.opengis.net/kml/2.2.0/\r\n  [2]: http://jaxb.java.net/guide/Dealing_with_errors.html#Two_declarations_cause_a_collision_in_the_ObjectFactory_class","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>Executing a \"xjc\" command on <a href=\"http://schemas.opengis.net/kml/2.2.0/\" rel=\"noreferrer\">these xsd files</a> returns a <code>Two declarations cause a collision in the ObjectFactory class</code> because there are 2 elements named \"Scale\" and \"scale\".</p>\n\n<p>According to <a href=\"http://jaxb.java.net/guide/Dealing_with_errors.html#Two_declarations_cause_a_collision_in_the_ObjectFactory_class\" rel=\"noreferrer\">this page</a>, this problem may be solved by customizing the xsd files with <code>&lt;factoryMethod&gt;</code>. </p>\n\n<p>Do you know how to do that? Do you have an example of binding file to do that?</p>\n"},{"tags":["java","android","android-layout","material-components-android"],"owner":{"account_id":20722855,"reputation":11,"user_id":15216831,"display_name":"Sergy Spinola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674724428,"creation_date":1674724428,"question_id":75244140,"body_markdown":"I&#39;ve been trying to use MaterialToggleGroup in an Android project, but it is not working properly. The problem is that it always seems to be empty, no matter what you put inside it.\r\n\r\nI&#39;m using a very simple layout, with a LinearLayout that includes the group and a ListView. The group itself contains two buttons.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButtonToggleGroup\r\n        android:id=&quot;@+id/toggle_group&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/button1&quot;\r\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 1&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/button2&quot;\r\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 2&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listado&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;15dp&quot;\r\n        android:layout_marginRight=&quot;15dp&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n \r\nIn the editor it looks like this:\r\n\r\n[toggle group with wrap_content](https://i.stack.imgur.com/UxDcQ.png)\r\n\r\nIf I change the hight and set it, for example, to 30dp, it shows up but as if it was empty, proving that it is being inserted but it&#39;s no working properly:\r\n\r\n[toggle group with 30dp](https://i.stack.imgur.com/CcrrK.png)\r\n\r\nProject is in Java and its dependencies are pretty much not updated. The problem can be seen on editor but also when app is running on emulator and physical device.\r\n\r\n\r\nWhat I&#39;ve tried so far:\r\n- Invalidating caches/restarting.\r\n- Clean and rebuild project.\r\n- Upgrading all dependencies, including Gradle build tools, material and app compat libraries.\r\n- Test it in another layout, same result.\r\n- Test some other Material components, they work fine.\r\n- Create a new project and use the component, no problems found, seems that the problem is in this project.\r\n\r\nI&#39;m running out of ideas, but I&#39;d like to avoid creating my own component to achieve the same result.\r\n\r\nThanks for your help.","title":"Material toggle group component not working on Android","body":"<p>I've been trying to use MaterialToggleGroup in an Android project, but it is not working properly. The problem is that it always seems to be empty, no matter what you put inside it.</p>\n<p>I'm using a very simple layout, with a LinearLayout that includes the group and a ListView. The group itself contains two buttons.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;com.google.android.material.button.MaterialButtonToggleGroup\n        android:id=&quot;@+id/toggle_group&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/button1&quot;\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Button 1&quot; /&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/button2&quot;\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Button 2&quot; /&gt;\n\n    &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listado&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;15dp&quot;\n        android:layout_marginRight=&quot;15dp&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>In the editor it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/UxDcQ.png\" rel=\"nofollow noreferrer\">toggle group with wrap_content</a></p>\n<p>If I change the hight and set it, for example, to 30dp, it shows up but as if it was empty, proving that it is being inserted but it's no working properly:</p>\n<p><a href=\"https://i.stack.imgur.com/CcrrK.png\" rel=\"nofollow noreferrer\">toggle group with 30dp</a></p>\n<p>Project is in Java and its dependencies are pretty much not updated. The problem can be seen on editor but also when app is running on emulator and physical device.</p>\n<p>What I've tried so far:</p>\n<ul>\n<li>Invalidating caches/restarting.</li>\n<li>Clean and rebuild project.</li>\n<li>Upgrading all dependencies, including Gradle build tools, material and app compat libraries.</li>\n<li>Test it in another layout, same result.</li>\n<li>Test some other Material components, they work fine.</li>\n<li>Create a new project and use the component, no problems found, seems that the problem is in this project.</li>\n</ul>\n<p>I'm running out of ideas, but I'd like to avoid creating my own component to achieve the same result.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":7248432,"reputation":147,"user_id":5529586,"accept_rate":50,"display_name":"Jordon Myers"},"score":0,"creation_date":1454637569,"post_id":35215035,"comment_id":58145355,"body_markdown":"Done that as you suggested, I&#39;m getting a new error message.\n\nThis is the new error message: http://pastebin.com/0hA9EdZ1","body":"Done that as you suggested, I&#39;m getting a new error message.  This is the new error message: <a href=\"http://pastebin.com/0hA9EdZ1\" rel=\"nofollow noreferrer\">pastebin.com/0hA9EdZ1</a>"},{"owner":{"account_id":7248432,"reputation":147,"user_id":5529586,"accept_rate":50,"display_name":"Jordon Myers"},"score":2,"creation_date":1454637799,"post_id":35215035,"comment_id":58145410,"body_markdown":"Renaming my old Workspace fixed the issue! Thanks for the help.","body":"Renaming my old Workspace fixed the issue! Thanks for the help."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1454637864,"post_id":35215035,"comment_id":58145429,"body_markdown":"My pleasure.  And thank you again for posting the error log - good work!","body":"My pleasure.  And thank you again for posting the error log - good work!"},{"owner":{"account_id":4857036,"reputation":1039,"user_id":3917714,"accept_rate":70,"display_name":"Azylaans"},"score":0,"creation_date":1536062502,"post_id":35215035,"comment_id":91281252,"body_markdown":"If this solution doesn&#39;t work, please check too next solution below, about org.eclipse.core.resources . This works for me !","body":"If this solution doesn&#39;t work, please check too next solution below, about org.eclipse.core.resources . This works for me !"},{"owner":{"account_id":8152557,"reputation":353,"user_id":6139104,"accept_rate":100,"display_name":"Fethi Tekyaygil"},"score":0,"creation_date":1553116369,"post_id":35215035,"comment_id":97271681,"body_markdown":"You&#39;re a real lifesaver!","body":"You&#39;re a real lifesaver!"}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1454637515,"creation_date":1454637199,"answer_id":35215035,"question_id":35214988,"body_markdown":"Thank you for copying/pasting the log - definitely helpful!\r\n\r\nThis line looks significant:\r\n\r\n    Caused by: org.eclipse.core.internal.resources.ResourceException: Incompatible file format. Workspace was saved with an incompatible \r\n\r\nSUGGESTIONS: \r\n\r\n1. From a command prompt:\r\n\r\n  * cd into your Eclipse directory\r\n\r\n  * type `eclipse -clean -clearPersistedState`\r\n\r\n2. Rename (or delete) any old workspaces to force Eclipse to create a new workspace\r\n\r\n","title":"Eclipse failing to open","body":"<p>Thank you for copying/pasting the log - definitely helpful!</p>\n\n<p>This line looks significant:</p>\n\n<pre><code>Caused by: org.eclipse.core.internal.resources.ResourceException: Incompatible file format. Workspace was saved with an incompatible \n</code></pre>\n\n<p>SUGGESTIONS: </p>\n\n<ol>\n<li><p>From a command prompt:</p>\n\n<ul>\n<li><p>cd into your Eclipse directory</p></li>\n<li><p>type <code>eclipse -clean -clearPersistedState</code></p></li>\n</ul></li>\n<li><p>Rename (or delete) any old workspaces to force Eclipse to create a new workspace</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1486660878,"creation_date":1486660878,"answer_id":42143016,"question_id":35214988,"body_markdown":"The same happened to me: without renaming my workspace I just deleted the corrupted **`org.eclipse.core.resources`** folder in the workspace (`$ECLIPSE_WORKSPACE/.metadata/.plugins/`) and then Eclipse started successfully again.\r\n\r\nYes, I had to re-import all my projects (as *Existing Projects*) into the workspace.\r\n\r\n----\r\n\r\nRefs: [Eclipse forum][1]\r\n\r\n  [1]: https://www.eclipse.org/forums/index.php/t/209016/","title":"Eclipse failing to open","body":"<p>The same happened to me: without renaming my workspace I just deleted the corrupted <strong><code>org.eclipse.core.resources</code></strong> folder in the workspace (<code>$ECLIPSE_WORKSPACE/.metadata/.plugins/</code>) and then Eclipse started successfully again.</p>\n\n<p>Yes, I had to re-import all my projects (as <em>Existing Projects</em>) into the workspace.</p>\n\n<hr>\n\n<p>Refs: <a href=\"https://www.eclipse.org/forums/index.php/t/209016/\" rel=\"noreferrer\">Eclipse forum</a></p>\n"},{"tags":[],"owner":{"account_id":2762423,"reputation":1724,"user_id":2379046,"accept_rate":100,"display_name":"Narayan Yerrabachu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646447926,"creation_date":1487151311,"answer_id":42245522,"question_id":35214988,"body_markdown":"Yes I have also removed **org.eclipse.core.resources** folder from my Eclipse workspace : \r\n\r\n    workspace\\.metadata\\.plugins\\org.eclipse.core.resources\r\n\r\nAnd also run the command in command prompt: \r\n\r\n    &gt;eclipse.exe -clean -clearPersistedState\r\n\r\nAfter doing this Eclipse should work without any problem.\r\n\r\nOR\r\n\r\nOpen a new workspace.","title":"Eclipse failing to open","body":"<p>Yes I have also removed <strong>org.eclipse.core.resources</strong> folder from my Eclipse workspace :</p>\n<pre><code>workspace\\.metadata\\.plugins\\org.eclipse.core.resources\n</code></pre>\n<p>And also run the command in command prompt:</p>\n<pre><code>&gt;eclipse.exe -clean -clearPersistedState\n</code></pre>\n<p>After doing this Eclipse should work without any problem.</p>\n<p>OR</p>\n<p>Open a new workspace.</p>\n"},{"tags":[],"owner":{"account_id":6342088,"reputation":41,"user_id":4923692,"display_name":"Mickael Torralvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674724309,"creation_date":1674724309,"answer_id":75244118,"question_id":35214988,"body_markdown":"Here is what worked for me :\r\n\r\n1) **Rename** your workspace\r\n2) **Open** eclipse / talend or any software based on eclipse that give you the error\r\n   -- it will **recreate a new workspace** automacilly\r\n3) **Copy** your projects&#39; folders from your **old workspace** to **new workspace**\r\n4) in eclipse(or your software based on eclipse) just **reimport** your projects from folder\r\n\r\ndone","title":"Eclipse failing to open","body":"<p>Here is what worked for me :</p>\n<ol>\n<li><strong>Rename</strong> your workspace</li>\n<li><strong>Open</strong> eclipse / talend or any software based on eclipse that give you the error\n-- it will <strong>recreate a new workspace</strong> automacilly</li>\n<li><strong>Copy</strong> your projects' folders from your <strong>old workspace</strong> to <strong>new workspace</strong></li>\n<li>in eclipse(or your software based on eclipse) just <strong>reimport</strong> your projects from folder</li>\n</ol>\n<p>done</p>\n"}],"owner":{"account_id":7248432,"reputation":147,"user_id":5529586,"accept_rate":50,"display_name":"Jordon Myers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13225,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":35215035,"answer_count":4,"score":9,"last_activity_date":1674724309,"creation_date":1454636859,"question_id":35214988,"body_markdown":"My Eclipse IDE keeps failing to open. I&#39;ve updated my java to the latest version, I&#39;ve got the newest Eclipse Version. I&#39;m running x64 Windows, it seems like the Error log is trying to use x32, but I&#39;ve installed a x64 version of Eclipse. I tried re-installing the x64 version and it still didn&#39;t work.\r\n\r\nIn the Pastebin I&#39;ve linked is the contents of the Log.\r\n\r\nhttp://pastebin.com/An5CRq3e\r\n\r\nEDIT: I&#39;m using x64-bit version of Java","title":"Eclipse failing to open","body":"<p>My Eclipse IDE keeps failing to open. I've updated my java to the latest version, I've got the newest Eclipse Version. I'm running x64 Windows, it seems like the Error log is trying to use x32, but I've installed a x64 version of Eclipse. I tried re-installing the x64 version and it still didn't work.</p>\n\n<p>In the Pastebin I've linked is the contents of the Log.</p>\n\n<p><a href=\"http://pastebin.com/An5CRq3e\" rel=\"noreferrer\">http://pastebin.com/An5CRq3e</a></p>\n\n<p>EDIT: I'm using x64-bit version of Java</p>\n"},{"tags":["java","maven","maven-jaxb2-plugin"],"answers":[{"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":1,"creation_date":1413239519,"post_id":26344772,"comment_id":41360404,"body_markdown":"He&#39;s not trying to talk to the compiler.","body":"He&#39;s not trying to talk to the compiler."}],"tags":[],"owner":{"account_id":984675,"reputation":405,"user_id":1003503,"display_name":"creechy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413218141,"creation_date":1413218141,"answer_id":26344772,"question_id":26344590,"body_markdown":"Take a look at the Maven Compiler Plugin. Specifically you should be able to use the `&lt;compilerArgument&gt;` element to pass settings to the compiler. \r\n\r\nSee http://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html for examples.","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>Take a look at the Maven Compiler Plugin. Specifically you should be able to use the <code>&lt;compilerArgument&gt;</code> element to pass settings to the compiler. </p>\n\n<p>See <a href=\"http://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html\" rel=\"nofollow\">http://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html</a> for examples.</p>\n"},{"comments":[{"owner":{"account_id":218174,"reputation":2090,"user_id":474365,"accept_rate":57,"display_name":"Geert Schuring"},"score":0,"creation_date":1436444180,"post_id":26349908,"comment_id":50621589,"body_markdown":"Thanks! Switching from the codehaus plugin to a recent version of yours solved the issue. No added config needed :)","body":"Thanks! Switching from the codehaus plugin to a recent version of yours solved the issue. No added config needed :)"},{"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"score":0,"creation_date":1509355959,"post_id":26349908,"comment_id":80970123,"body_markdown":"In the documentation its mention that ACCESS_EXTERNAL_SCHEMA has default value of all, so why do we need to set it?","body":"In the documentation its mention that ACCESS_EXTERNAL_SCHEMA has default value of all, so why do we need to set it?"},{"owner":{"account_id":5835327,"reputation":968,"user_id":4598583,"accept_rate":57,"display_name":"Graham Leggett"},"score":0,"creation_date":1605816648,"post_id":26349908,"comment_id":114775866,"body_markdown":"Neither this answer nor the documentation linked shows how to set the accessExternalSchema in the pom. The accessExternalSchema option is mentioned, but not clearly shown where it goes.","body":"Neither this answer nor the documentation linked shows how to set the accessExternalSchema in the pom. The accessExternalSchema option is mentioned, but not clearly shown where it goes."}],"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1413240596,"creation_date":1413239375,"answer_id":26349908,"question_id":26344590,"body_markdown":"This is relevant to the new [XML security properties in JAXB 1.5][1], introduced in Java 8. This is why your builds now fail on Java 8 but work with Java 7.\r\n\r\n\r\nIf you&#39;re using my `maven-jaxb2-plugin`, please upgrade to the version `0.9.0` or later (current is `0.10.0`). It has now a [`accessExternalSchema `][2] switch (default is `all`).\r\n\r\nThis sets precisely `javax.xml.accessExternalSchema=all`.\r\n\r\nPlease see the [documentation][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html\r\n  [2]: https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security\r\n  [3]: https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>This is relevant to the new <a href=\"http://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html\" rel=\"noreferrer\">XML security properties in JAXB 1.5</a>, introduced in Java 8. This is why your builds now fail on Java 8 but work with Java 7.</p>\n\n<p>If you're using my <code>maven-jaxb2-plugin</code>, please upgrade to the version <code>0.9.0</code> or later (current is <code>0.10.0</code>). It has now a <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security\" rel=\"noreferrer\"><code>accessExternalSchema</code></a> switch (default is <code>all</code>).</p>\n\n<p>This sets precisely <code>javax.xml.accessExternalSchema=all</code>.</p>\n\n<p>Please see the <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security\" rel=\"noreferrer\">documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1413239786,"post_id":26349947,"comment_id":41360485,"body_markdown":"This is relevant to the new XML security properties in JAXB 1.5, introduced in Java 8, so it shouldn&#39;t actually be &quot;Maven global&quot; but rather just for schema compilation.\nhttp://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html","body":"This is relevant to the new XML security properties in JAXB 1.5, introduced in Java 8, so it shouldn&#39;t actually be &quot;Maven global&quot; but rather just for schema compilation. <a href=\"http://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jaxp/properties/properties.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1413240976,"post_id":26349947,"comment_id":41360805,"body_markdown":"Who knows if he has a Maven plugin, he uses your maven plugin, or he uses some other maven plugin?","body":"Who knows if he has a Maven plugin, he uses your maven plugin, or he uses some other maven plugin?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1413241244,"post_id":26349947,"comment_id":41360890,"body_markdown":"@margulies I think the OP clearly stated that he *is* using one of the JAXB2 Maven plugins (&quot;I have a maven plugin (jaxb2)...&quot;) and the tag suggests he uses mine. An note my answer has an &quot;If ...&quot;.","body":"@margulies I think the OP clearly stated that he <i>is</i> using one of the JAXB2 Maven plugins (&quot;I have a maven plugin (jaxb2)...&quot;) and the tag suggests he uses mine. An note my answer has an &quot;If ...&quot;."}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413239558,"creation_date":1413239558,"answer_id":26349947,"question_id":26344590,"body_markdown":"If you are trying to change the behavior of the JVM that is running Maven itself, add options to MAVEN_OPTS in the environment before launching mvn. ","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>If you are trying to change the behavior of the JVM that is running Maven itself, add options to MAVEN_OPTS in the environment before launching mvn. </p>\n"},{"comments":[{"owner":{"account_id":1029585,"reputation":808,"user_id":1038172,"accept_rate":100,"display_name":"Josh"},"score":0,"creation_date":1420735149,"post_id":27823893,"comment_id":44093975,"body_markdown":"nice answer - thanks. I needed a solution that doesn&#39;t use alpha versions as that is my companies rules.","body":"nice answer - thanks. I needed a solution that doesn&#39;t use alpha versions as that is my companies rules."},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":1,"creation_date":1467640440,"post_id":27823893,"comment_id":63798388,"body_markdown":"If you don&#39;t have truly external schemas, it can work to just the property to `file`. This is what I needed to get org.jvnet.ws.wadl:wadl-client-plugin:1.1.6 working with Java 8.","body":"If you don&#39;t have truly external schemas, it can work to just the property to <code>file</code>. This is what I needed to get org.jvnet.ws.wadl:wadl-client-plugin:1.1.6 working with Java 8."},{"owner":{"account_id":2056089,"reputation":10271,"user_id":3457177,"accept_rate":78,"display_name":"Vitalii"},"score":0,"creation_date":1615486997,"post_id":27823893,"comment_id":117712285,"body_markdown":"Thank God that I&#39;ve found this answer after half a day of a fun!","body":"Thank God that I&#39;ve found this answer after half a day of a fun!"}],"tags":[],"owner":{"account_id":241052,"reputation":371,"user_id":3764979,"display_name":"Amit Misra"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1420647800,"creation_date":1420647800,"answer_id":27823893,"question_id":26344590,"body_markdown":"I came across this issue while working with jaxb2-maven-plugin. I found a related jira issue for maven-jabx2-plugin - https://java.net/projects/maven-jaxb2-plugin/lists/issues/archive/2014-03/message/0\r\n\r\nAccording to this issue Stephan202 suggested using properties-maven-plugin which worked like charm. Here is a sample code from his post -\r\n\r\n    &lt;plugin&gt;\r\n    &lt;!-- We use this plugin to ensure that our usage of the\r\n    maven-jaxb2-plugin is JDK 8 compatible in absence of a fix\r\n    for https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;set-additional-system-properties&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;set-system-properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;properties&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\r\n                    &lt;value&gt;file,http&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>I came across this issue while working with jaxb2-maven-plugin. I found a related jira issue for maven-jabx2-plugin - <a href=\"https://java.net/projects/maven-jaxb2-plugin/lists/issues/archive/2014-03/message/0\" rel=\"noreferrer\">https://java.net/projects/maven-jaxb2-plugin/lists/issues/archive/2014-03/message/0</a></p>\n\n<p>According to this issue Stephan202 suggested using properties-maven-plugin which worked like charm. Here is a sample code from his post -</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;!-- We use this plugin to ensure that our usage of the\nmaven-jaxb2-plugin is JDK 8 compatible in absence of a fix\nfor https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set-additional-system-properties&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;set-system-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;property&gt;\n                &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\n                &lt;value&gt;file,http&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7690986,"reputation":91,"user_id":5827307,"display_name":"Neil Piper"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1453479990,"creation_date":1453479901,"answer_id":34951374,"question_id":26344590,"body_markdown":"Re; the post - &quot;I needed a solution that doesn&#39;t use alpha versions as that is my companies rules. –&quot;\r\n\r\nChanging the version to 1.0 &amp; the value to &#39;all&#39; got it working for me:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;!-- We use this plugin to ensure that our usage of the\r\n    maven-jaxb2-plugin is JDK 8 compatible in absence of a fix\r\n    for https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n        &lt;!--\r\n        &lt;version&gt;1.0-alpha-2&lt;/version&gt; --&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;set-additional-system-properties&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;set-system-properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;properties&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\r\n                    &lt;value&gt;all&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>Re; the post - \"I needed a solution that doesn't use alpha versions as that is my companies rules. –\"</p>\n\n<p>Changing the version to 1.0 &amp; the value to 'all' got it working for me:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;!-- We use this plugin to ensure that our usage of the\nmaven-jaxb2-plugin is JDK 8 compatible in absence of a fix\nfor https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n    &lt;!--\n    &lt;version&gt;1.0-alpha-2&lt;/version&gt; --&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set-additional-system-properties&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;set-system-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;property&gt;\n                &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\n                &lt;value&gt;all&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"score":4,"creation_date":1462178267,"post_id":36977987,"comment_id":61511649,"body_markdown":"Please explain why this works for you and why this helps the OP - don&#39;t just dump code.","body":"Please explain why this works for you and why this helps the OP - don&#39;t just dump code."},{"owner":{"account_id":1751781,"reputation":356,"user_id":2061760,"accept_rate":100,"display_name":"T Sloane"},"score":0,"creation_date":1581522156,"post_id":36977987,"comment_id":106464248,"body_markdown":"OP was referring to JAXB2, not JAXWS.","body":"OP was referring to JAXB2, not JAXWS."}],"tags":[],"owner":{"account_id":8362545,"reputation":27,"user_id":6280333,"display_name":"user6280333"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1462179603,"creation_date":1462177083,"answer_id":36977987,"question_id":26344590,"body_markdown":"It has worked for me :\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;vmArgs&gt;\r\n                        &lt;arg&gt;-Djavax.xml.accessExternalSchema=all&lt;/arg&gt;\r\n                    &lt;/vmArgs&gt;\r\n                    &lt;keep&gt;true&lt;/keep&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;wsdlDirectory&gt;${project.build.directory}/wsdl&lt;/wsdlDirectory&gt;\r\n                    &lt;wsdlFiles&gt;\r\n                        &lt;wsdlFile&gt;ServiceWsService.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;/wsdlFiles&gt;\r\n                    &lt;bindingFiles&gt;\r\n                        &lt;bindingFile&gt;custom-binding.xml&lt;/bindingFile&gt;\r\n                        &lt;bindingFile&gt;custom-binding2.xml&lt;/bindingFile&gt;\r\n                    &lt;/bindingFiles&gt;\t\t\t\t\t\t\t\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>It has worked for me :</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;vmArgs&gt;\n                    &lt;arg&gt;-Djavax.xml.accessExternalSchema=all&lt;/arg&gt;\n                &lt;/vmArgs&gt;\n                &lt;keep&gt;true&lt;/keep&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;wsdlDirectory&gt;${project.build.directory}/wsdl&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;ServiceWsService.wsdl&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;bindingFiles&gt;\n                    &lt;bindingFile&gt;custom-binding.xml&lt;/bindingFile&gt;\n                    &lt;bindingFile&gt;custom-binding2.xml&lt;/bindingFile&gt;\n                &lt;/bindingFiles&gt;                         \n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":287433,"reputation":401,"user_id":587239,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674724105,"creation_date":1674724105,"answer_id":75244085,"question_id":26344590,"body_markdown":"For `maven-jaxb2-plugin` version `2.5.0` trying to generate from `DTD` and spitting\r\n\r\n&gt; org.xml.sax.SAXParseException: External parsing is disabled. Cannot\r\n&gt; parse URI: ...\r\n\r\nit helped adding the following to plugin configuration \r\n```\r\n     &lt;configuration&gt;\r\n         ...\r\n         &lt;externalEntityProcessing&gt;true&lt;/externalEntityProcessing&gt;\r\n     &lt;/configuration&gt;\r\n```","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>For <code>maven-jaxb2-plugin</code> version <code>2.5.0</code> trying to generate from <code>DTD</code> and spitting</p>\n<blockquote>\n<p>org.xml.sax.SAXParseException: External parsing is disabled. Cannot\nparse URI: ...</p>\n</blockquote>\n<p>it helped adding the following to plugin configuration</p>\n<pre><code>     &lt;configuration&gt;\n         ...\n         &lt;externalEntityProcessing&gt;true&lt;/externalEntityProcessing&gt;\n     &lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1029585,"reputation":808,"user_id":1038172,"accept_rate":100,"display_name":"Josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39833,"favorite_count":0,"down_vote_count":2,"up_vote_count":29,"accepted_answer_id":26349908,"answer_count":7,"score":27,"last_activity_date":1674724105,"creation_date":1413217459,"question_id":26344590,"body_markdown":"I have a maven plugin (jaxb2) and I need to supply a jvm arg to it. I don&#39;t think there is a tag to add jvm args in the pom for it.\r\n\r\nI know I can pass in jvm args on the command line eg: `mvn clean install -Djavax.xml.accessExternalSchema=all`\r\n\r\nIs it possible to set this jvm arg in the pom so that I don&#39;t have to type it into the command line every time?\r\n\r\n(As aside - this jvm arg is required in order for it to work with JAVA-8. It works fine with JAVA-7)","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>I have a maven plugin (jaxb2) and I need to supply a jvm arg to it. I don't think there is a tag to add jvm args in the pom for it.</p>\n\n<p>I know I can pass in jvm args on the command line eg: <code>mvn clean install -Djavax.xml.accessExternalSchema=all</code></p>\n\n<p>Is it possible to set this jvm arg in the pom so that I don't have to type it into the command line every time?</p>\n\n<p>(As aside - this jvm arg is required in order for it to work with JAVA-8. It works fine with JAVA-7)</p>\n"},{"tags":["java","list","junit","comparison"],"answers":[{"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1496918093,"post_id":44433234,"comment_id":75863890,"body_markdown":"No, I don&#39;t want to compare two lists: I want to compare two beans that contains both a List and other properties.","body":"No, I don&#39;t want to compare two lists: I want to compare two beans that contains both a List and other properties."},{"owner":{"account_id":5461414,"reputation":658,"user_id":4343411,"display_name":"nikita_pavlenko"},"score":0,"creation_date":1496920501,"post_id":44433234,"comment_id":75865423,"body_markdown":"@Pino sorry for misunderstandings. It would be great if you add some pieces of code to have a better understanding of your situation","body":"@Pino sorry for misunderstandings. It would be great if you add some pieces of code to have a better understanding of your situation"}],"tags":[],"owner":{"account_id":5461414,"reputation":658,"user_id":4343411,"display_name":"nikita_pavlenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674723883,"creation_date":1496917722,"answer_id":44433234,"question_id":44433160,"body_markdown":"I guess you can find an answer [here][1]. The idea is to use hamcrest asserts.\r\n\r\n    import static org.hamcrest.collection.IsIterableContainingInAnyOrder.containsInAnyOrder;\r\n    import static org.junit.Assert.assertThat;\r\n    \r\n    public class CompareListTest {\r\n    \r\n        @Test\r\n        public void compareList() {\r\n            List&lt;String&gt; expected = Arrays.asList(&quot;String A&quot;, &quot;String B&quot;);\r\n            List&lt;String&gt; actual = Arrays.asList(&quot;String B&quot;, &quot;String A&quot;);\r\n    \r\n            assertThat(&quot;List equality without order&quot;, \r\n                actual, containsInAnyOrder(expected.toArray()));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order","title":"JUnit: compare two beans that contain a List regardless of list order","body":"<p>I guess you can find an answer <a href=\"https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order\">here</a>. The idea is to use hamcrest asserts.</p>\n<pre><code>import static org.hamcrest.collection.IsIterableContainingInAnyOrder.containsInAnyOrder;\nimport static org.junit.Assert.assertThat;\n\npublic class CompareListTest {\n\n    @Test\n    public void compareList() {\n        List&lt;String&gt; expected = Arrays.asList(&quot;String A&quot;, &quot;String B&quot;);\n        List&lt;String&gt; actual = Arrays.asList(&quot;String B&quot;, &quot;String A&quot;);\n\n        assertThat(&quot;List equality without order&quot;, \n            actual, containsInAnyOrder(expected.toArray()));\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1496918933,"post_id":44433499,"comment_id":75864452,"body_markdown":"Yes, I know.  And without changing equals()?  Any &quot;smart&quot; library?","body":"Yes, I know.  And without changing equals()?  Any &quot;smart&quot; library?"},{"owner":{"account_id":5461414,"reputation":658,"user_id":4343411,"display_name":"nikita_pavlenko"},"score":0,"creation_date":1496920378,"post_id":44433499,"comment_id":75865355,"body_markdown":"@Pino you could look at [assertj](http://joel-costigliola.github.io/assertj/) it has lots of cool API method for this purpose.","body":"@Pino you could look at <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"nofollow noreferrer\">assertj</a> it has lots of cool API method for this purpose."}],"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496919598,"creation_date":1496918477,"answer_id":44433499,"question_id":44433160,"body_markdown":"When you do assertEquals(expectedObject, actualObject) Behind the scene the junit actually call object&#39;s equal method.So my suggestion will be if you override your equal method then you can achieve what you are expecting. \r\n\r\nLogic behind assertEqual.\r\n\r\n    String expectedString = String.valueOf(expected);\r\n    String actualString = String.valueOf(actual);\r\n     if (expectedString.equals(actualString)) {\r\n                return formatted + &quot;expected: &quot;\r\n                        + formatClassAndValue(expected, expectedString)\r\n                        + &quot; but was: &quot; + formatClassAndValue(actual, actualString);\r\n            } else {\r\n                return formatted + &quot;expected:&lt;&quot; + expectedString + &quot;&gt; but was:&lt;&quot;\r\n                        + actualString + &quot;&gt;&quot;;\r\n            }\r\n\r\nOr Apache util available to check two object without equal method overiding \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\nAPI\r\n\r\n    EqualsBuilder.reflectionEquals( obj1, obj2 )","title":"JUnit: compare two beans that contain a List regardless of list order","body":"<p>When you do assertEquals(expectedObject, actualObject) Behind the scene the junit actually call object's equal method.So my suggestion will be if you override your equal method then you can achieve what you are expecting. </p>\n\n<p>Logic behind assertEqual.</p>\n\n<pre><code>String expectedString = String.valueOf(expected);\nString actualString = String.valueOf(actual);\n if (expectedString.equals(actualString)) {\n            return formatted + \"expected: \"\n                    + formatClassAndValue(expected, expectedString)\n                    + \" but was: \" + formatClassAndValue(actual, actualString);\n        } else {\n            return formatted + \"expected:&lt;\" + expectedString + \"&gt; but was:&lt;\"\n                    + actualString + \"&gt;\";\n        }\n</code></pre>\n\n<p>Or Apache util available to check two object without equal method overiding </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>API</p>\n\n<pre><code>EqualsBuilder.reflectionEquals( obj1, obj2 )\n</code></pre>\n"}],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674723883,"creation_date":1496917552,"question_id":44433160,"body_markdown":"I have found a lot of questions and answers about comparing List objects regardless of the order of their elements, but my problem is more complex: I have two beans that contain, among other properties, a List.  I want to perform an assertEquals of the two beans regardless of the order of the elements in the inner lists.  Is there a simple way to do this?","title":"JUnit: compare two beans that contain a List regardless of list order","body":"<p>I have found a lot of questions and answers about comparing List objects regardless of the order of their elements, but my problem is more complex: I have two beans that contain, among other properties, a List.  I want to perform an assertEquals of the two beans regardless of the order of the elements in the inner lists.  Is there a simple way to do this?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674722467,"creation_date":1674722467,"answer_id":75243805,"question_id":75243699,"body_markdown":"It looks like you are mocking the wrong instance of the class. In the test case, you are mocking the `spy` instance of the `ServiceHelper` class, but you are calling the method on the `serviceToTest` instance, which is the original &quot;unmocked&quot; object. To fix this, you should call the method on the spy instance, like this:\r\n\r\n```java\r\nLocalDateTime tokenExpireDate = spy.calculateApiTokenExpireDate();\r\n```\r\n\r\nAlso I would recommend you to read [that section](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy) from official documentation with quite good examples.\r\n","title":"Mockito. Spy doReturn doesn&#39;t change return value","body":"<p>It looks like you are mocking the wrong instance of the class. In the test case, you are mocking the <code>spy</code> instance of the <code>ServiceHelper</code> class, but you are calling the method on the <code>serviceToTest</code> instance, which is the original &quot;unmocked&quot; object. To fix this, you should call the method on the spy instance, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime tokenExpireDate = spy.calculateApiTokenExpireDate();\n</code></pre>\n<p>Also I would recommend you to read <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy\" rel=\"nofollow noreferrer\">that section</a> from official documentation with quite good examples.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674723712,"creation_date":1674723712,"answer_id":75243999,"question_id":75243699,"body_markdown":"Calls to `this` cannot be spied, because the `this` reference is not changed. You can change your class to accept in a `java.time.Clock` instance or on a function/interface which returns the current date/time. Then you can inject `Clock#fixed()` in your tests.\r\n\r\nClass:\r\n\r\n```\r\npublic class ServiceHelper {\r\n\r\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\r\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\r\n\r\n    private final Clock clock;\r\n\r\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\r\n\r\n    public ServiceHelper(final Clock clock) {\r\n        this.clock = clock;\r\n    }\r\n\r\n    // ...\r\n\r\n    protected LocalDateTime calculateApiTokenExpireDate(){\r\n        LocalDateTime now = currentDateTime();\r\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\r\n    }\r\n\r\n    protected LocalDateTime currentDateTime() {\r\n        return LocalDateTime.now(clock);\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```\r\npublic class ServiceHelperTest {\r\n    private ServiceHelper serviceToTest;\r\n    private Instant now;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        /* prepare */\r\n        now = Instant.now(); // or: Instant.parse(&quot;...&quot;)\r\n        serviceToTest = new ServiceHelper(Clock.fixed(now, ZoneOffset.UTC));\r\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\r\n\r\n    }\r\n\r\n    @Test\r\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\r\n        /* execute */\r\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\r\n\r\n        /* test */\r\n        // assert against this.now ...\r\n    }\r\n}\r\n```","title":"Mockito. Spy doReturn doesn&#39;t change return value","body":"<p>Calls to <code>this</code> cannot be spied, because the <code>this</code> reference is not changed. You can change your class to accept in a <code>java.time.Clock</code> instance or on a function/interface which returns the current date/time. Then you can inject <code>Clock#fixed()</code> in your tests.</p>\n<p>Class:</p>\n<pre><code>public class ServiceHelper {\n\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\n\n    private final Clock clock;\n\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\n\n    public ServiceHelper(final Clock clock) {\n        this.clock = clock;\n    }\n\n    // ...\n\n    protected LocalDateTime calculateApiTokenExpireDate(){\n        LocalDateTime now = currentDateTime();\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\n    }\n\n    protected LocalDateTime currentDateTime() {\n        return LocalDateTime.now(clock);\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>public class ServiceHelperTest {\n    private ServiceHelper serviceToTest;\n    private Instant now;\n\n    @BeforeEach\n    void beforeEach() {\n        /* prepare */\n        now = Instant.now(); // or: Instant.parse(&quot;...&quot;)\n        serviceToTest = new ServiceHelper(Clock.fixed(now, ZoneOffset.UTC));\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\n\n    }\n\n    @Test\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\n        /* execute */\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\n\n        /* test */\n        // assert against this.now ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2811782,"reputation":463,"user_id":2417878,"accept_rate":64,"display_name":"Valentyn Grygoriev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243999,"answer_count":2,"score":0,"last_activity_date":1674723712,"creation_date":1674721813,"question_id":75243699,"body_markdown":"I want to test the method `calculateApiTokenExpireDate()`. I created a spy for `currentDateTime()` so that it returns static date. But it still returns the current date.\r\nCould someone plese show me where is my mistake?\r\nThanks\r\n\r\n```\r\npublic class ServiceHelper {\r\n\r\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\r\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\r\n\r\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\r\n\r\n    protected String getApiTokenExpireDate(){\r\n        DateTimeFormatter customFormat = DateTimeFormatter.ofPattern(DATE_TIME_PATTERN);\r\n        LocalDateTime tokenExpireDate = calculateApiTokenExpireDate();\r\n        return tokenExpireDate.format(customFormat);\r\n    }\r\n\r\n    protected LocalDateTime calculateApiTokenExpireDate(){\r\n        LocalDateTime now = currentDateTime();\r\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\r\n    }\r\n\r\n    protected LocalDateTime currentDateTime() {\r\n        return LocalDateTime.now();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ServiceHelperTest {\r\n\r\n    private ServiceHelper serviceToTest;\r\n\r\n    private ServiceHelper spy;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        serviceToTest = new ServiceHelper();\r\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\r\n        spy = Mockito.spy(serviceToTest);\r\n    }\r\n\r\n    @Test\r\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\r\n        /* prepare */\r\n        doReturn(LocalDateTime.of(2023, 1, 24, 14, 1)).when(spy).currentDateTime();\r\n\r\n        /* execute */\r\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\r\n\r\n        /* test */\r\n        assertEquals(2023, tokenExpireDate.getYear());\r\n        assertEquals(1, tokenExpireDate.getMonthValue());\r\n        assertEquals(25, tokenExpireDate.getDayOfMonth());\r\n    }\r\n}\r\n```","title":"Mockito. Spy doReturn doesn&#39;t change return value","body":"<p>I want to test the method <code>calculateApiTokenExpireDate()</code>. I created a spy for <code>currentDateTime()</code> so that it returns static date. But it still returns the current date.\nCould someone plese show me where is my mistake?\nThanks</p>\n<pre><code>public class ServiceHelper {\n\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\n\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\n\n    protected String getApiTokenExpireDate(){\n        DateTimeFormatter customFormat = DateTimeFormatter.ofPattern(DATE_TIME_PATTERN);\n        LocalDateTime tokenExpireDate = calculateApiTokenExpireDate();\n        return tokenExpireDate.format(customFormat);\n    }\n\n    protected LocalDateTime calculateApiTokenExpireDate(){\n        LocalDateTime now = currentDateTime();\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\n    }\n\n    protected LocalDateTime currentDateTime() {\n        return LocalDateTime.now();\n    }\n}\n</code></pre>\n<pre><code>public class ServiceHelperTest {\n\n    private ServiceHelper serviceToTest;\n\n    private ServiceHelper spy;\n\n    @BeforeEach\n    void beforeEach() {\n        serviceToTest = new ServiceHelper();\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\n        spy = Mockito.spy(serviceToTest);\n    }\n\n    @Test\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\n        /* prepare */\n        doReturn(LocalDateTime.of(2023, 1, 24, 14, 1)).when(spy).currentDateTime();\n\n        /* execute */\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\n\n        /* test */\n        assertEquals(2023, tokenExpireDate.getYear());\n        assertEquals(1, tokenExpireDate.getMonthValue());\n        assertEquals(25, tokenExpireDate.getDayOfMonth());\n    }\n}\n</code></pre>\n"},{"tags":["java","input","bufferedreader","numberformatexception","bufferedinputstream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674720707,"post_id":75243476,"comment_id":132775044,"body_markdown":"Why so complicated, why not simply use the `Scanner` class?","body":"Why so complicated, why not simply use the <code>Scanner</code> class?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674720743,"post_id":75243476,"comment_id":132775060,"body_markdown":"I think the problem is, that you read the input twice","body":"I think the problem is, that you read the input twice"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1674722300,"post_id":75243476,"comment_id":132775468,"body_markdown":"&quot;Because bufferedReader is faster and it becomes necessary to use when there is a time limit&quot; - That&#39;s a really bad reason.  The time saving will be less than milliseconds ... if anything at all.  (Trust me.  I have been programming in Java for over 20 years ...)","body":"&quot;Because bufferedReader is faster and it becomes necessary to use when there is a time limit&quot; - That&#39;s a really bad reason.  The time saving will be less than milliseconds ... if anything at all.  (Trust me.  I have been programming in Java for over 20 years ...)"}],"answers":[{"comments":[{"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"score":0,"creation_date":1674724050,"post_id":75243775,"comment_id":132775985,"body_markdown":"so, I replaced the Logger.getLogger(NextPalindrome_SPOJ .class.getName()).log(Level.SEVERE, null, ex); with return; and tried running it directly on ideone.com and it gave me the expected outputs . However, when I submit the code on SPOJ , it gives me NZEC error","body":"so, I replaced the Logger.getLogger(NextPalindrome_SPOJ .class.getName()).log(Level.SEVERE, null, ex); with return; and tried running it directly on ideone.com and it gave me the expected outputs . However, when I submit the code on SPOJ , it gives me NZEC error"}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674722351,"creation_date":1674722351,"answer_id":75243775,"question_id":75243476,"body_markdown":"As it&#39;s name implies, a `BufferedReader` is buffered. You cannot use it as you do in that code.\r\nApart from that, avoid throwing exceptions out of a `main` method.\r\nAlso, use `StringBuilder`s instead of `StringBuffer` whenever you can: it&#39;s much faster.\r\nTry something like that:\r\n\r\n        try (Reader reader = new InputStreamReader(System.in);\r\n                BufferedReader in = new BufferedReader(reader)) {\r\n            int t = Integer.parseInt(in.readLine());\r\n            while (t-- &gt; 0) {\r\n                long n = Long.parseLong(in.readLine());\r\n                if (n &lt; 9)\r\n                    System.out.print(n + 1);\r\n                else {\r\n                    while (true) {\r\n                        n++;\r\n                        String s = Long.toString(n);\r\n                        String r = new StringBuilder(s)\r\n                                .reverse()\r\n                                .toString();\r\n                        if (s.equals(r))\r\n                            break;\r\n\r\n                    }\r\n                    System.out.println(n);\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(NextPalindrome_SPOJ .class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n","title":"1. How to avoid NZEC error in java? 2. Is this the correct way to take inputs for test cases","body":"<p>As it's name implies, a <code>BufferedReader</code> is buffered. You cannot use it as you do in that code.\nApart from that, avoid throwing exceptions out of a <code>main</code> method.\nAlso, use <code>StringBuilder</code>s instead of <code>StringBuffer</code> whenever you can: it's much faster.\nTry something like that:</p>\n<pre><code>    try (Reader reader = new InputStreamReader(System.in);\n            BufferedReader in = new BufferedReader(reader)) {\n        int t = Integer.parseInt(in.readLine());\n        while (t-- &gt; 0) {\n            long n = Long.parseLong(in.readLine());\n            if (n &lt; 9)\n                System.out.print(n + 1);\n            else {\n                while (true) {\n                    n++;\n                    String s = Long.toString(n);\n                    String r = new StringBuilder(s)\n                            .reverse()\n                            .toString();\n                    if (s.equals(r))\n                        break;\n\n                }\n                System.out.println(n);\n            }\n        }\n    } catch (IOException ex) {\n        Logger.getLogger(NextPalindrome_SPOJ .class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n"}],"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75243775,"answer_count":1,"score":-2,"last_activity_date":1674723498,"creation_date":1674720306,"question_id":75243476,"body_markdown":"\r\n[!(https://i.stack.imgur.com/UpHxf.png)](https://i.stack.imgur.com/UpHxf.png)\r\nWhen I run the code on my Eclipse IDE , it reads the input properly through the console but when I try to submit the code on SPOJ , the compiler throws NZEC error\r\n\r\nI have come to the conclusion that the error shows up because of the way I&#39;m trying to read the input \r\n\r\nLine 1 of input is the number of test cases followed by the inputs.\r\n**Eg:**\r\n\r\n    2 --&gt; No of test cases\r\n    123 --&gt; Input number\r\n    131 --&gt; Closest next palindrome\r\n    41\r\n    44\r\n\r\n\r\nPlease tell me the right way to accept inputs or some fix.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.io.BufferedReader;\r\nimport java.lang.*;\r\n\r\npublic class NextPalindrome_SPOJ {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tint t = Integer.valueOf((new BufferedReader(new InputStreamReader(System.in))).readLine());\r\n\t\t// BufferedReader r = new BufferedReader (new InputStreamReader (System.in));\r\n\t\t// String s;\r\n\t\t// while((s = r.readLine()) != null &amp;&amp; !s.isEmpty()) --&gt; alternate way to read\r\n\t\t// input\r\n\t\twhile (t-- &gt; 0) {\r\n\t\t\tlong n = Long.valueOf((new BufferedReader(new InputStreamReader(System.in)).readLine()));\r\n\t\t\tif (n &lt; 9)\r\n\t\t\t\tSystem.out.print(n + 1);\r\n\t\t\telse {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tn++;\r\n\t\t\t\t\tif (String.valueOf(n).equals(String.valueOf((new StringBuffer(String.valueOf(n)).reverse()))))\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**OUTPUT:** \r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: null\r\n\tat java.base/java.lang.Long.parseLong(Long.java:662)\r\n\tat java.base/java.lang.Long.valueOf(Long.java:1151)\r\n\tat Main.main(Main.java:11)\r\n```","title":"1. How to avoid NZEC error in java? 2. Is this the correct way to take inputs for test cases","body":"<p><a href=\"https://i.stack.imgur.com/UpHxf.png\" rel=\"nofollow noreferrer\">!(https://i.stack.imgur.com/UpHxf.png)</a>\nWhen I run the code on my Eclipse IDE , it reads the input properly through the console but when I try to submit the code on SPOJ , the compiler throws NZEC error</p>\n<p>I have come to the conclusion that the error shows up because of the way I'm trying to read the input</p>\n<p>Line 1 of input is the number of test cases followed by the inputs.\n<strong>Eg:</strong></p>\n<pre><code>2 --&gt; No of test cases\n123 --&gt; Input number\n131 --&gt; Closest next palindrome\n41\n44\n</code></pre>\n<p>Please tell me the right way to accept inputs or some fix.</p>\n<pre><code>import java.io.*;\nimport java.io.BufferedReader;\nimport java.lang.*;\n\npublic class NextPalindrome_SPOJ {\n\n    public static void main(String[] args) throws IOException {\n        int t = Integer.valueOf((new BufferedReader(new InputStreamReader(System.in))).readLine());\n        // BufferedReader r = new BufferedReader (new InputStreamReader (System.in));\n        // String s;\n        // while((s = r.readLine()) != null &amp;&amp; !s.isEmpty()) --&gt; alternate way to read\n        // input\n        while (t-- &gt; 0) {\n            long n = Long.valueOf((new BufferedReader(new InputStreamReader(System.in)).readLine()));\n            if (n &lt; 9)\n                System.out.print(n + 1);\n            else {\n                while (true) {\n                    n++;\n                    if (String.valueOf(n).equals(String.valueOf((new StringBuffer(String.valueOf(n)).reverse()))))\n                        break;\n\n                }\n                System.out.println(n);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\n    at java.base/java.lang.Long.parseLong(Long.java:662)\n    at java.base/java.lang.Long.valueOf(Long.java:1151)\n    at Main.main(Main.java:11)\n</code></pre>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674722954,"post_id":75242495,"comment_id":132775637,"body_markdown":"Try passing `server.port`, also I&#39;m not certain if embedded profiles are supported in property files.","body":"Try passing <code>server.port</code>, also I&#39;m not certain if embedded profiles are supported in property files."}],"answers":[{"comments":[{"owner":{"account_id":246040,"reputation":155,"user_id":519917,"display_name":"Alex"},"score":1,"creation_date":1681264546,"post_id":75243963,"comment_id":134027280,"body_markdown":"ENV var also works: `SPRING_PROFILES_ACTIVE=local ./target/&lt;app-executable&gt;`.","body":"ENV var also works: <code>SPRING_PROFILES_ACTIVE=local .&#47;target&#47;&lt;app-executable&gt;</code>."}],"tags":[],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674723407,"creation_date":1674723407,"answer_id":75243963,"question_id":75242495,"body_markdown":"Able to make it work by passing the arguments as -- instead of using -D. \r\n\r\nFor building the native image, no need to pass -D. \r\n```\r\n./mvnw -Pnative native:compile\r\n```\r\nAnd to run the executable with system properties, use the below command\r\n```\r\n./target/&lt;app-executable&gt; --spring.profiles.active=local\r\n```\r\n\r\nThis picked up the server.port=9093.","title":"Profile specific application properties not picked by Spring Boot 3 native executable","body":"<p>Able to make it work by passing the arguments as -- instead of using -D.</p>\n<p>For building the native image, no need to pass -D.</p>\n<pre><code>./mvnw -Pnative native:compile\n</code></pre>\n<p>And to run the executable with system properties, use the below command</p>\n<pre><code>./target/&lt;app-executable&gt; --spring.profiles.active=local\n</code></pre>\n<p>This picked up the server.port=9093.</p>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75243963,"answer_count":1,"score":3,"last_activity_date":1674723407,"creation_date":1674710620,"question_id":75242495,"body_markdown":"I am planning to use a native image with Spring Boot 3. My environment-specific properties are stored in the application.properties file. Sample file \r\n\r\n```\r\nspring.config.activate.on-profile=dev\r\nserver.port=9092\r\n#---\r\nspring.config.activate.on-profile=local\r\nserver.port=9093\r\n```\r\nI build the native executable using the following command \r\n\r\n```\r\n./mvnw -Pnative native:compile -Dspring.profiles.active=local\r\n```\r\n\r\nand run the executable using the below command\r\n\r\n```\r\n./target/&lt;app-executable&gt; -Dspring.profiles.active=local\r\n```\r\n\r\nIn the logs I see \r\n```\r\nNo active profile set, falling back to 1 default profile: &quot;default&quot;\r\n```\r\n\r\nAm I doing something wrong or Are profiles not supported with Spring Boot 3 native image? ","title":"Profile specific application properties not picked by Spring Boot 3 native executable","body":"<p>I am planning to use a native image with Spring Boot 3. My environment-specific properties are stored in the application.properties file. Sample file</p>\n<pre><code>spring.config.activate.on-profile=dev\nserver.port=9092\n#---\nspring.config.activate.on-profile=local\nserver.port=9093\n</code></pre>\n<p>I build the native executable using the following command</p>\n<pre><code>./mvnw -Pnative native:compile -Dspring.profiles.active=local\n</code></pre>\n<p>and run the executable using the below command</p>\n<pre><code>./target/&lt;app-executable&gt; -Dspring.profiles.active=local\n</code></pre>\n<p>In the logs I see</p>\n<pre><code>No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n<p>Am I doing something wrong or Are profiles not supported with Spring Boot 3 native image?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674717237,"post_id":75242995,"comment_id":132774270,"body_markdown":"`select from boat_cards where body_material = 2`","body":"<code>select from boat_cards where body_material = 2</code>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1674717255,"post_id":75242995,"comment_id":132774272,"body_markdown":"Shiow me your code","body":"Shiow me your code"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674717522,"post_id":75242995,"comment_id":132774321,"body_markdown":"Where&#39;s that &quot;nested table&quot; your title mentions? What you&#39;ve shown seems to be a simple select with a where condition - and we can&#39;t help with the JPA/Hibernate approach since you didn&#39;t share any code/mapping to Java entities. So all we can do is suggest a native SQL query like XtremeBaumer already did.","body":"Where&#39;s that &quot;nested table&quot; your title mentions? What you&#39;ve shown seems to be a simple select with a where condition - and we can&#39;t help with the JPA/Hibernate approach since you didn&#39;t share any code/mapping to Java entities. So all we can do is suggest a native SQL query like XtremeBaumer already did."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1674718448,"post_id":75242995,"comment_id":132774504,"body_markdown":"Please don&#39;t be lazy and post your code as text: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors)","body":"Please don&#39;t be lazy and post your code as text: <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674718705,"post_id":75242995,"comment_id":132774562,"body_markdown":"You might also elaborate on what issue you are facing. Also, since `body_material` is an integer in your table and you&#39;re passing a `BoatBodyMaterial` - there might be a mapping issue. You still didn&#39;t share the entities themselves. If I&#39;d need to guess I&#39;d assume your `BoatCard` entity just has an `int bodyMaterial` in which case you&#39;d need to map the `BoatBodyMaterial` to an `int` (maybe using `getId()`?) - or yet better: fix your mapping (which we don&#39;t know yet).","body":"You might also elaborate on what issue you are facing. Also, since <code>body_material</code> is an integer in your table and you&#39;re passing a <code>BoatBodyMaterial</code> - there might be a mapping issue. You still didn&#39;t share the entities themselves. If I&#39;d need to guess I&#39;d assume your <code>BoatCard</code> entity just has an <code>int bodyMaterial</code> in which case you&#39;d need to map the <code>BoatBodyMaterial</code> to an <code>int</code> (maybe using <code>getId()</code>?) - or yet better: fix your mapping (which we don&#39;t know yet)."},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674718915,"post_id":75242995,"comment_id":132774618,"body_markdown":"@Thomas I added entity and code, thank you!","body":"@Thomas I added entity and code, thank you!"},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674719178,"post_id":75242995,"comment_id":132774672,"body_markdown":"@Thomas i added error description","body":"@Thomas i added error description"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674719718,"post_id":75242995,"comment_id":132774827,"body_markdown":"It&#39;s hard to tell what the problem is from that single line of the stack trace you&#39;ve posted but this seems to be a conversion issue for `BoatBodyMaterial` rather than an issue with the query itself. Again, that single line doesn&#39;t help much, e.g. we can&#39;t see where exactly the problem arises.","body":"It&#39;s hard to tell what the problem is from that single line of the stack trace you&#39;ve posted but this seems to be a conversion issue for <code>BoatBodyMaterial</code> rather than an issue with the query itself. Again, that single line doesn&#39;t help much, e.g. we can&#39;t see where exactly the problem arises."},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674723502,"post_id":75242995,"comment_id":132775823,"body_markdown":"@Thomas thank you for answer! I resolved this problem. I added description","body":"@Thomas thank you for answer! I resolved this problem. I added description"}],"answers":[{"comments":[{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":1,"creation_date":1674723455,"post_id":75243443,"comment_id":132775810,"body_markdown":"thank you for answer! I resolved this problem. I added description","body":"thank you for answer! I resolved this problem. I added description"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1674724575,"post_id":75243443,"comment_id":132776131,"body_markdown":"@Yevgeniy yes: it&#39;s even simpler","body":"@Yevgeniy yes: it&#39;s even simpler"}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674720027,"creation_date":1674720027,"answer_id":75243443,"question_id":75242995,"body_markdown":"Try something like this:\r\n\r\n    public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\r\n    \r\n        @Query(value = &quot;SELECT card FROM BoatCards card&quot;\r\n                + &quot; JOIN card.bodyMaterial mat&quot;\r\n                + &quot; WHERE mat.matcode = :matcode&quot;)\r\n        List&lt;BoatCards&gt; findAllByBodyMaterial(@Param(&quot;matcode&quot;) int matcode);\r\n    }\r\n\r\n","title":"How to find a list of an object by a nested table?","body":"<p>Try something like this:</p>\n<pre><code>public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\n\n    @Query(value = &quot;SELECT card FROM BoatCards card&quot;\n            + &quot; JOIN card.bodyMaterial mat&quot;\n            + &quot; WHERE mat.matcode = :matcode&quot;)\n    List&lt;BoatCards&gt; findAllByBodyMaterial(@Param(&quot;matcode&quot;) int matcode);\n}\n</code></pre>\n"}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243443,"answer_count":1,"score":0,"last_activity_date":1674723401,"creation_date":1674716536,"question_id":75242995,"body_markdown":"Such a problem. I have an entity. I need to get a list of objects of this entity by selection, namely by the body_material field. That is, for example, find all BoatCards whose body_material index is 2. I do this in Java using Spring. I have added Dao, Service, Controller and entity&#39;s classes\r\n\r\nBoatBodyMaterial entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;boat_body_material&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n        public class BoatBodyMaterial {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;matcode&quot;)\r\n            private Integer matcode;\r\n        \r\n            @Column(name = &quot;matname&quot;)\r\n            private String matname;\r\n        \r\n            @Column(name = &quot;matnote&quot;)\r\n            private String matnote;\r\n        \r\n        }\r\n\r\nBoatCards entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;boat_cards&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n        public class BoatCards {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;cardid&quot;)\r\n            Long cardid;\r\n        \r\n            @Column(name = &quot;reg_num&quot;)\r\n            String regNum;\r\n        \r\n            @Column(name = &quot;tiket_num&quot;)\r\n            String tiketNum;\r\n        \r\n            @Column(name = &quot;boat_name&quot;)\r\n            String boatName;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;boat_type&quot;)\r\n            BoatTypes boatType;\r\n        \r\n            @Column(name = &quot;boat_year&quot;)\r\n            String boatYear;\r\n        \r\n            @Column(name = &quot;boat_vin&quot;)\r\n            String boatVin;\r\n        \r\n            @Column(name = &quot;parking_place&quot;)\r\n            String parkingPlace;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;sa_category&quot;)\r\n            SaCategory saCategory;\r\n        \r\n            @Column(name = &quot;boat_length&quot;)\r\n            String boatLength;\r\n        \r\n            @Column(name = &quot;boat_width&quot;)\r\n            String boatWidth;\r\n        \r\n            @Column(name = &quot;boat_height&quot;)\r\n            String boatHeight;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;body_material&quot;)\r\n            BoatBodyMaterial bodyMaterial;\r\n        \r\n            @Column(name = &quot;boat_payload&quot;)\r\n            Long boatPayload;\r\n        \r\n            @Column(name = &quot;passengers_num&quot;)\r\n            Long passengersNum;\r\n        \r\n            @Column(name = &quot;service_life&quot;)\r\n            String serviceLife;\r\n        \r\n            @Column(name = &quot;engine_num&quot;)\r\n            Long engineNum;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;owner&quot;)\r\n            PersonData owner;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;agent&quot;)\r\n            PersonData agent;\r\n        \r\n            @Column(name = &quot;note&quot;)\r\n            String note;\r\n        \r\n        }\r\n\r\nDao class:\r\n\r\n    public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\r\n    \r\n        @Query(value = &quot;SELECT * from gims.boat_body_material where matcode = 1&quot;, nativeQuery = true)\r\n        BoatBodyMaterial findByBodyMaterial ();\r\n    \r\n        List&lt;BoatCards&gt; findAllByBodyMaterial(BoatBodyMaterial list);\r\n    }\r\n\r\nService class:\r\n\r\n    public List&lt;BoatCards&gt; getAllByMaterial() {\r\n            BoatBodyMaterial matcodeFromTable = boatCardsDao.findByBodyMaterial();\r\n    \r\n            List&lt;BoatCards&gt; boatCards = boatCardsDao.findAllByBodyMaterial(matcodeFromTable);\r\n            return boatCards;\r\n        }\r\n\r\nController class:\r\n\r\n    @GetMapping(path=&quot;/get&quot;)\r\n        public List&lt;BoatCards&gt; get() {\r\n    \r\n            return boatCardsService.getAllByMaterial();\r\n        }\r\n\r\nI get ERROR:\r\n\r\n    2023-01-26T10:33:20.193+03:00 ERROR 20852 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [by.compit.gimsshd.model.BoatBodyMaterial] for value &#39;{1, metal, produce from metal}&#39;] with root cause\r\n\r\nI resolve this problem! Thank you!\r\n\r\n    public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\r\n    \r\n        List&lt;BoatCards&gt; findAllByBodyMaterialMatcode(Integer bodyMaterial);\r\n    \r\n    \r\n    }","title":"How to find a list of an object by a nested table?","body":"<p>Such a problem. I have an entity. I need to get a list of objects of this entity by selection, namely by the body_material field. That is, for example, find all BoatCards whose body_material index is 2. I do this in Java using Spring. I have added Dao, Service, Controller and entity's classes</p>\n<p>BoatBodyMaterial entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;boat_body_material&quot;)\n@Data\n@NoArgsConstructor\n    public class BoatBodyMaterial {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;matcode&quot;)\n        private Integer matcode;\n    \n        @Column(name = &quot;matname&quot;)\n        private String matname;\n    \n        @Column(name = &quot;matnote&quot;)\n        private String matnote;\n    \n    }\n</code></pre>\n<p>BoatCards entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;boat_cards&quot;)\n@Data\n@NoArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n    public class BoatCards {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;cardid&quot;)\n        Long cardid;\n    \n        @Column(name = &quot;reg_num&quot;)\n        String regNum;\n    \n        @Column(name = &quot;tiket_num&quot;)\n        String tiketNum;\n    \n        @Column(name = &quot;boat_name&quot;)\n        String boatName;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;boat_type&quot;)\n        BoatTypes boatType;\n    \n        @Column(name = &quot;boat_year&quot;)\n        String boatYear;\n    \n        @Column(name = &quot;boat_vin&quot;)\n        String boatVin;\n    \n        @Column(name = &quot;parking_place&quot;)\n        String parkingPlace;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;sa_category&quot;)\n        SaCategory saCategory;\n    \n        @Column(name = &quot;boat_length&quot;)\n        String boatLength;\n    \n        @Column(name = &quot;boat_width&quot;)\n        String boatWidth;\n    \n        @Column(name = &quot;boat_height&quot;)\n        String boatHeight;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;body_material&quot;)\n        BoatBodyMaterial bodyMaterial;\n    \n        @Column(name = &quot;boat_payload&quot;)\n        Long boatPayload;\n    \n        @Column(name = &quot;passengers_num&quot;)\n        Long passengersNum;\n    \n        @Column(name = &quot;service_life&quot;)\n        String serviceLife;\n    \n        @Column(name = &quot;engine_num&quot;)\n        Long engineNum;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;owner&quot;)\n        PersonData owner;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;agent&quot;)\n        PersonData agent;\n    \n        @Column(name = &quot;note&quot;)\n        String note;\n    \n    }\n</code></pre>\n<p>Dao class:</p>\n<pre><code>public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\n\n    @Query(value = &quot;SELECT * from gims.boat_body_material where matcode = 1&quot;, nativeQuery = true)\n    BoatBodyMaterial findByBodyMaterial ();\n\n    List&lt;BoatCards&gt; findAllByBodyMaterial(BoatBodyMaterial list);\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>public List&lt;BoatCards&gt; getAllByMaterial() {\n        BoatBodyMaterial matcodeFromTable = boatCardsDao.findByBodyMaterial();\n\n        List&lt;BoatCards&gt; boatCards = boatCardsDao.findAllByBodyMaterial(matcodeFromTable);\n        return boatCards;\n    }\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@GetMapping(path=&quot;/get&quot;)\n    public List&lt;BoatCards&gt; get() {\n\n        return boatCardsService.getAllByMaterial();\n    }\n</code></pre>\n<p>I get ERROR:</p>\n<pre><code>2023-01-26T10:33:20.193+03:00 ERROR 20852 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [by.compit.gimsshd.model.BoatBodyMaterial] for value '{1, metal, produce from metal}'] with root cause\n</code></pre>\n<p>I resolve this problem! Thank you!</p>\n<pre><code>public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\n\n    List&lt;BoatCards&gt; findAllByBodyMaterialMatcode(Integer bodyMaterial);\n\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9523,"page":700,"page_size":100}
