{"items":[{"tags":["java","multithreading","asynchronous","executorservice"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1658850325,"post_id":73126247,"comment_id":129151995,"body_markdown":"I don&#39;t think there&#39;s enough code here for us to say for sure.  Please show us which thread pool you&#39;re using and how it gets initialized, and also knowing what `lock` is and why we should care about it is handy as well.  I don&#39;t think anything at all about a thread pool is &quot;guaranteed&quot; but normally I&#39;d expect a thread to be available after an previous task exits.  But that&#39;s a weird way to use a thread pool.  It sounds like you&#39;re basically busy-waiting on the thread pool availability.  Which is... weird.","body":"I don&#39;t think there&#39;s enough code here for us to say for sure.  Please show us which thread pool you&#39;re using and how it gets initialized, and also knowing what <code>lock</code> is and why we should care about it is handy as well.  I don&#39;t think anything at all about a thread pool is &quot;guaranteed&quot; but normally I&#39;d expect a thread to be available after an previous task exits.  But that&#39;s a weird way to use a thread pool.  It sounds like you&#39;re basically busy-waiting on the thread pool availability.  Which is... weird."},{"owner":{"account_id":14294808,"reputation":53,"user_id":10325790,"display_name":"Welharden"},"score":0,"creation_date":1658850594,"post_id":73126247,"comment_id":129152103,"body_markdown":"I will add those info asap.I am not waiting on the thread pool availability, only saving some data that will be handled the next time we check for a free thread and there is one, for a bacthed processing this time.","body":"I will add those info asap.I am not waiting on the thread pool availability, only saving some data that will be handled the next time we check for a free thread and there is one, for a bacthed processing this time."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1658850928,"post_id":73126247,"comment_id":129152231,"body_markdown":"If you want returned data from a thread, look at the `Future` class and its `get()` method to return data from a thread.  If you&#39;re running a batch process, I&#39;d 1. Use a new thread pool to avoid conflicts, or 2. Use a special thread pool just for batch processes, or 3. Just run the batch process in the thread you already have.","body":"If you want returned data from a thread, look at the <code>Future</code> class and its <code>get()</code> method to return data from a thread.  If you&#39;re running a batch process, I&#39;d 1. Use a new thread pool to avoid conflicts, or 2. Use a special thread pool just for batch processes, or 3. Just run the batch process in the thread you already have."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1658851054,"post_id":73126247,"comment_id":129152272,"body_markdown":"It is depends on the thread poll type. It can be fixed or cashed thread pool. Poll exist until you are call for shutdown.","body":"It is depends on the thread poll type. It can be fixed or cashed thread pool. Poll exist until you are call for shutdown."},{"owner":{"account_id":14294808,"reputation":53,"user_id":10325790,"display_name":"Welharden"},"score":0,"creation_date":1658851087,"post_id":73126247,"comment_id":129152284,"body_markdown":"I&#39;ll think about those ideas thanks.","body":"I&#39;ll think about those ideas thanks."}],"owner":{"account_id":14294808,"reputation":53,"user_id":10325790,"display_name":"Welharden"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658850800,"creation_date":1658850007,"question_id":73126247,"body_markdown":"I need to take a thread from the ThreadPoolExecutor if one is free, otherwise I save the data for later (the ThreadPool has a 0-sized queue).\r\nIn the following code:\r\n\r\n```\r\nThreadPoolExecutor executor = new ThreadPoolExecutor(n, n,\r\n            60L, TimeUnit.SECONDS,\r\n            new SynchronousQueue&lt;Runnable&gt;());\r\nObject lock = new Object();\r\n\r\n// ...\r\n\r\nexecutor.execute(() -&gt; {\r\n    // ...\r\n    synchronized(lock) {\r\n        // ...\r\n        if (...) {\r\n            return;\r\n        }\r\n    }\r\n    // ...\r\n});\r\n\r\n// ...\r\n\r\nsynchronized(lock) {\r\n    if (executor.getCorePoolSize() - executor.getActiveCount() &gt; 0) {\r\n        // ...\r\n    } else {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nCan I be certain that the thread is considered not active once return statement is reached ? Can the process pause for any reason leading to the situation where:\r\n- return is done, thus lock is free (but thread still active)\r\n- we check for free threads and find out there is none\r\n- thread&#39;s run() method terminates (thread is now free)\r\n\r\nIn other words, can it take time for the process to go from the end of the first synchronized block&#39;s return to the end of the Runnable (even if there is no statement in-between) ?","title":"Is a thread from ThreadPool always available right after return in Java?","body":"<p>I need to take a thread from the ThreadPoolExecutor if one is free, otherwise I save the data for later (the ThreadPool has a 0-sized queue).\nIn the following code:</p>\n<pre><code>ThreadPoolExecutor executor = new ThreadPoolExecutor(n, n,\n            60L, TimeUnit.SECONDS,\n            new SynchronousQueue&lt;Runnable&gt;());\nObject lock = new Object();\n\n// ...\n\nexecutor.execute(() -&gt; {\n    // ...\n    synchronized(lock) {\n        // ...\n        if (...) {\n            return;\n        }\n    }\n    // ...\n});\n\n// ...\n\nsynchronized(lock) {\n    if (executor.getCorePoolSize() - executor.getActiveCount() &gt; 0) {\n        // ...\n    } else {\n        // ...\n    }\n}\n</code></pre>\n<p>Can I be certain that the thread is considered not active once return statement is reached ? Can the process pause for any reason leading to the situation where:</p>\n<ul>\n<li>return is done, thus lock is free (but thread still active)</li>\n<li>we check for free threads and find out there is none</li>\n<li>thread's run() method terminates (thread is now free)</li>\n</ul>\n<p>In other words, can it take time for the process to go from the end of the first synchronized block's return to the end of the Runnable (even if there is no statement in-between) ?</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":15094317,"reputation":383,"user_id":10893210,"display_name":"F. Salvini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658850778,"creation_date":1658850778,"answer_id":73126410,"question_id":73125255,"body_markdown":"You have `type` duplicated. It should be\r\n```\r\n{\r\n  &quot;name&quot;: &quot;leaving&quot;,\r\n  &quot;type&quot;: [&quot;null&quot; , {&quot;type&quot;: &quot;long&quot;, &quot;logicalType&quot;: &quot;timestamp-millis&quot;}],\r\n  &quot;doc&quot;: &quot;leaving timestamp&quot;\r\n}\r\n```","title":"Warning in Avro Schema definition","body":"<p>You have <code>type</code> duplicated. It should be</p>\n<pre><code>{\n  &quot;name&quot;: &quot;leaving&quot;,\n  &quot;type&quot;: [&quot;null&quot; , {&quot;type&quot;: &quot;long&quot;, &quot;logicalType&quot;: &quot;timestamp-millis&quot;}],\n  &quot;doc&quot;: &quot;leaving timestamp&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":2703232,"reputation":2839,"user_id":2333459,"accept_rate":72,"display_name":"Super Hornet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73126410,"answer_count":1,"score":0,"last_activity_date":1658850778,"creation_date":1658845873,"question_id":73125255,"body_markdown":"I got a warning for a defined field:\r\n\r\n    Ignored the logicalType property (&quot;timestamp-millis&quot;). It should probably be nested inside the &quot;type&quot; for the field.\r\n\r\n    {&quot;name&quot;: &quot;leaving&quot;, &quot;type&quot;: [&quot;null&quot; ,&quot;long&quot;], &quot;logicalType&quot;: &quot;timestamp-millis&quot;, &quot;default&quot;: null, &quot;doc&quot;: &quot;leaving timestamp&quot;}\r\n\r\nI tried to change it to:\r\n\r\n    {&quot;name&quot;: &quot;leaving&quot;, &quot;type&quot;: {&quot;type&quot;: [&quot;null&quot; ,{&quot;type&quot;: &quot;long&quot;, &quot;logicalType&quot;: &quot;timestamp-millis&quot;}]}, &quot;doc&quot;: &quot;leaving timestamp&quot;}\r\n\r\nnow it doesn&#39;t work at all because of invalid schema.\r\n\r\nError:\r\n\r\n    InvocationTargetException: No type: {&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;long&quot;,&quot;logicalType&quot;:&quot;timestamp-millis&quot;}]} \r\n\r\nAny idea how to resolve it?\r\n\r\n","title":"Warning in Avro Schema definition","body":"<p>I got a warning for a defined field:</p>\n<pre><code>Ignored the logicalType property (&quot;timestamp-millis&quot;). It should probably be nested inside the &quot;type&quot; for the field.\n\n{&quot;name&quot;: &quot;leaving&quot;, &quot;type&quot;: [&quot;null&quot; ,&quot;long&quot;], &quot;logicalType&quot;: &quot;timestamp-millis&quot;, &quot;default&quot;: null, &quot;doc&quot;: &quot;leaving timestamp&quot;}\n</code></pre>\n<p>I tried to change it to:</p>\n<pre><code>{&quot;name&quot;: &quot;leaving&quot;, &quot;type&quot;: {&quot;type&quot;: [&quot;null&quot; ,{&quot;type&quot;: &quot;long&quot;, &quot;logicalType&quot;: &quot;timestamp-millis&quot;}]}, &quot;doc&quot;: &quot;leaving timestamp&quot;}\n</code></pre>\n<p>now it doesn't work at all because of invalid schema.</p>\n<p>Error:</p>\n<pre><code>InvocationTargetException: No type: {&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;long&quot;,&quot;logicalType&quot;:&quot;timestamp-millis&quot;}]} \n</code></pre>\n<p>Any idea how to resolve it?</p>\n"},{"tags":["java","client-server","basic-authentication","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1423516625,"post_id":28417925,"comment_id":45172163,"body_markdown":"These are just the results of calling `byte[].toString()`. They aren&#39;t the contents.","body":"These are just the results of calling <code>byte[].toString()</code>. They aren&#39;t the contents."},{"owner":{"account_id":5761351,"reputation":43,"user_id":4547674,"display_name":"Gabriele Bazzotti"},"score":0,"creation_date":1423567288,"post_id":28417925,"comment_id":45191485,"body_markdown":"yes, I used this print only to see if they are the same to the Client and to the server. Because Eclipse return  javax.crypto.BadPaddingException: Given final block not properly padded. And I was thinking that this is the problem.","body":"yes, I used this print only to see if they are the same to the Client and to the server. Because Eclipse return  javax.crypto.BadPaddingException: Given final block not properly padded. And I was thinking that this is the problem."}],"owner":{"account_id":5761351,"reputation":43,"user_id":4547674,"display_name":"Gabriele Bazzotti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658850764,"creation_date":1423510930,"question_id":28417925,"body_markdown":"I try to realize a EKE with AES-256 for a university project.\r\nThe main problem is that when the client call `writeObject()` to the server, the last one receive a wrong object with different ciphertext to decrypt and different initialization vector.\r\n\r\nThis is the Client Alice:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package Secondo;\r\n    import java.math.BigInteger;\r\n\r\n\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n\r\n    import java.security.*;\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.crypto.*;\r\n\r\n    import java.security.spec.KeySpec;\r\n    import java.net.Socket;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n    /**\r\n     * \r\n     * @author Bazzotti \r\n     * \r\n     * Alice.\r\n     * \r\n     * rappresenta il client che si vuole autenticare al Server\r\n     *\r\n     */\r\n\r\n\r\n    public class Alice \r\n    {\r\n    \t\r\n    \tpublic static final int JabberServerPORT = 9999;\r\n    \t//public static final byte[] JabberServerADDRESS = new byte[]{127,0,0,1};\r\n    \t\r\n    \tpublic  static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t// p &#232; un numero primo in modo che qualsiasi g possa generare un insieme abbastanza grande\r\n    \t\t// inoltre perch&#232; Diffie-Hellman sia sicuro anche ((p-1)/2) deve essere primo\r\n    \t\t\r\n    \t\tint bitLength = 512; \r\n    \t    SecureRandom rnd = new SecureRandom();\r\n    \t    \r\n    \t    //Attributi per DH\r\n    \t    BigInteger p;\r\n    \t    BigInteger g = new BigInteger(bitLength, rnd);\r\n    \t\t   \r\n    \t\t\r\n    \t    BigInteger Sa=new BigInteger(bitLength, rnd);\r\n    \t    do{\r\n    \t    \t\r\n    \t    \tp = g.max(Sa).nextProbablePrime();\r\n    \t     \r\n    \t    } while (p.subtract(BigInteger.ONE).shiftRight(1).isProbablePrime(50));\r\n    \t    \r\n    \t    \r\n    \t    \r\n    \t    BigInteger Ta=g.modPow(Sa,p);\r\n    \t    \r\n    \t    \r\n    \t    \r\n    \t    //\r\n    \t    String Alice=MyUtil.leggiString(&quot;inserisci il nome&quot;);\r\n    \t    String password=MyUtil.leggiString(&quot;inserisci la password&quot;);\r\n    \t    \r\n    \t  // System.out.println(&quot;stringa del BigInteger Ta &quot;+Ta.toString());\r\n    \t    System.out.println(&quot;lunghezza bit Ta&quot;+Ta.bitCount()+&quot;lunghezza bit p&quot;+p.bitCount());\r\n    \t    DatiChipertext prima_cifratura= cifraturaAES( chiaveAES(password),Ta.toByteArray());\r\n    \t    \r\n    \t    byte[] A=prima_cifratura.getChipertext();\r\n    \t    byte[] iv=prima_cifratura.getIv();\r\n            Socket socket=null;\r\n            \r\n            \r\n           \r\n           System.out.println(Alice+&quot;,&quot;+A+&quot;,&quot;+g+p+&quot;,&quot;+iv);\r\n           \r\n            \r\n               \r\n            \r\n            try {\r\n            \t\r\n            \t\r\n        \t\tsocket = new Socket(&quot;localhost&quot;, JabberServerPORT);\r\n        \t\t\r\n            \t\r\n        \t\t\r\n               \r\n        \t\t\t\r\n                ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\r\n                out.flush();\r\n                ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\r\n        \tSystem.out.println(&quot;mi sto connettendo al server&quot;);\r\n            \r\n            \r\n            \r\n        \t\r\n           // System.out.println(&quot;lunghezza primo messaggio &quot;+primo_messaggio.length());\r\n             // Invio di A Alice g p\r\n           // System.out.println(&quot;lunghezza A&quot;+A.length());\r\n           // System.out.println(&quot;chiave primo messaggio&quot;+password);\r\n        \tPrimoMessaggioAlice primo_messaggio= new PrimoMessaggioAlice(Alice,A,g,p,iv);\r\n            out.writeObject(primo_messaggio);\r\n            out.reset();\r\n            \r\n            System.out.println(&quot;primo messaggio inviato&quot;);\r\n             // Ricezione di Bob e B\r\n             \r\n            PrimoMessaggioBob primo_messaggio_ricevuto = (PrimoMessaggioBob)in.readObject();\r\n            \r\n                   \r\n            \r\n            System.out.println(&quot;primo messaggio ricevuto&quot;);\r\n          \r\n            \r\n           //  Decifro ottenendo Tb e c1\r\n             \r\n           \r\n            String Bob=primo_messaggio_ricevuto.getBob();\r\n            byte[] iv2=primo_messaggio_ricevuto.getIv();\r\n            byte[] B=primo_messaggio_ricevuto.getB();\r\n           \r\n            \r\n            System.out.println(&quot;B ricevuto &quot;+B+&quot; iv &quot;+iv2);\r\n            /**Cipher mDecipher = Cipher.getInstance (&quot;AES/CBC/PKCS5Padding&quot;);\r\n            mDecipher.init (Cipher.DECRYPT_MODE, chiaveAES(password));\r\n            */\r\n           \r\n            byte[] B_decriptato=decifraturaAES(chiaveAES(password),B,iv2);\r\n           \r\n            byte[] c1= new byte [4];\r\n            byte[] Tb_decriptato= new byte[B_decriptato.length-4];\r\n            for(int i=0;i&lt;B_decriptato.length;i++)\r\n            {\r\n            \tif(i&lt;(B_decriptato.length-4))\r\n            \t\tTb_decriptato[i]=B_decriptato[i];\r\n            \telse\r\n            \t\tc1[i]=B_decriptato[i];\r\n            }\r\n          \r\n          //Sostituito con Tb dato da bob\r\n    \t    BigInteger Tb=new BigInteger(Tb_decriptato);\r\n    \t    \r\n    \t    //\r\n    \t    \r\n    \t    //Chiave per i metodi successivi\r\n    \t    BigInteger Kt=Tb.modPow(Sa,p);\r\n    \t    \r\n    \t    \r\n    \t    \r\n    \t    byte[] c2=(SecureRandom.getSeed(4));\r\n    \t    \r\n    \t  //creazione della chiave effimera\r\n    \t    \r\n    \t   \r\n            byte[] secondo_messaggio=concat(c1,c2);\r\n            SecretKeySpec ephimeral_key= new SecretKeySpec(Kt.toByteArray(),&quot;AES&quot;);\r\n            \r\n            \r\n         //   System.out.println(&quot;lunghezza Kt &quot;+Kt.bitLength()+&quot;lunghezza p &quot;+p.bitLength());\r\n            \r\n            \r\n            \r\n            DatiChipertext secondo_messaggio_chipertext=cifraturaAES(ephimeral_key,secondo_messaggio);\r\n            byte[] secondo_messaggio_criptato=secondo_messaggio_chipertext.getChipertext();\r\n            byte[] iv3=secondo_messaggio_chipertext.getIv();\r\n            System.out.println(iv3);\r\n        //   System.out.println(&quot;secondo messaggio inviato &quot;+secondo_messaggio_criptato.getBytes()+&quot;ephimeral key &quot;+Kt.toByteArray());\r\n            /**System.out.println(&quot;Tb &quot;+Tb.toString()+&quot; Ta &quot;+Ta.toString());\r\n            */\r\n            \r\n            SecondoMessaggioA secondo_messaggio_da_inviare=new SecondoMessaggioA(secondo_messaggio_criptato,iv3);\r\n            /**\r\n             * Invio del secondo messaggi ocriptato\r\n             */\r\n            \r\n             System.out.println(&quot;secondo messaggio inviato &quot;+secondo_messaggio_da_inviare.getC1C2()+secondo_messaggio_da_inviare.getIv());\r\n             \r\n            \r\n            out.writeObject(secondo_messaggio_da_inviare);\r\n            \r\n            out.flush();\r\n            /**\r\n             * Ricezione di c2&#39;\r\n             */\r\n            \r\n            System.out.println(&quot;secondo messaggio inviato &quot;);\r\n            \r\n            SecondoMessaggioBob secondo_messaggio_ricevuto= (SecondoMessaggioBob)in.readObject();\r\n           \r\n            System.out.println(&quot;secondo messaggio ricevuto &quot;);\r\n            System.out.println(secondo_messaggio_ricevuto);\r\n            /**\r\n             * Verifica che c2 sia uguale a c2&#39;\r\n             */\r\n            \r\n           /* Cipher mDecipher2 = Cipher.getInstance (&quot;AES/CBC/PKCS5Padding&quot;);\r\n            mDecipher2.init (Cipher.DECRYPT_MODE, chiaveAES(Kt.toByteArray().toString()));\r\n            */\r\n            \r\n           \r\n            \r\n            byte[] iv4=secondo_messaggio_ricevuto.getIv();\r\n            \r\n            byte[] c2_cifrato=secondo_messaggio_ricevuto.getC2();\r\n            byte[] c2_ricevuto=decifraturaAES(ephimeral_key,c2_cifrato,iv4);\r\n            \r\n            if(c2_ricevuto.equals(c2))\r\n            \tSystem.out.println(&quot;Server Autenticato&quot;);\r\n            else\r\n            \tSystem.out.println(&quot;Server NON Autenticato&quot;);\r\n            \t\r\n            \t\r\n          }finally {\r\n    \t\t\tSystem.out.println(&quot;********** Chiudo il socket...&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tsocket.close();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tSystem.out.println(&quot;********** Eccezione b&quot; + e);\r\n    \t\t\t}\r\n            }\r\n         \r\n            \r\n            \r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate static DatiChipertext cifraturaAES  (SecretKey secret, byte[] messaggio) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\t\r\n            //cifratura\r\n    \t\t\t \r\n            Cipher mEcipher = Cipher.getInstance (&quot;AES/CBC/PKCS5Padding&quot;);\r\n           /* byte[] iv = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\r\n    \t\t IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n            mEcipher.init (Cipher.ENCRYPT_MODE, secret,ivspec);\r\n            */\r\n            \r\n            mEcipher.init (Cipher.ENCRYPT_MODE, secret);\r\n            AlgorithmParameters params = mEcipher.getParameters();\r\n\r\n            byte []iv = params.getParameterSpec(IvParameterSpec.class).getIV();\r\n            System.out.println(&quot;iv usato &quot;+iv);\r\n           // byte[] messaggio_da_codificare = DatatypeConverter.parseBase64Binary(messaggio);\r\n           \r\n            //chipertext &#232; ok lungo 80 byte\r\n            \r\n            //String stringa_cifrata=new String (chiphertext);\r\n            \r\n            //Devono essere 80 caratteri o un multiplo\r\n            //System.out.println(&quot;lunghezza caratteri stringa messaggio&quot;+stringa_cifrata.length());\r\n    \t\t\r\n            \r\n            return new DatiChipertext (messaggio,iv);\r\n            \r\n            \r\n    \t}\r\n    \t \r\n    \tprivate static SecretKey chiaveAES (String chiave) throws Exception\r\n    \t{\r\n    \t\t//creazione della chiave\r\n    \t    //SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n    \t   // byte [] salt={0,0,0,0,0,0,0,0};\r\n    \t   // SecretKeySpec tmp = new SecretKeySpec (chiave.getBytes(&quot;UTF-8&quot;),&quot;AES&quot;);\r\n    \t  //  SecretKey tmp = factory.generateSecret (spec);\r\n    \t    \r\n    \t\t//calcolo sha-256 della chiave\r\n    \t\tMessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t\tbyte[] hash = digest.digest(chiave.getBytes());\r\n           \r\n    \t\tSecretKey secret = new SecretKeySpec (hash, &quot;AES&quot;);\r\n            return secret;\r\n    \t}\r\n    \t\r\n    \tprivate static byte[] decifraturaAES (SecretKey chiave, byte[] messaggio, byte[] iv) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\t\r\n    \t    \r\n    \t\t\r\n    \t\t Cipher mDecipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    \t\t\r\n    \t\t IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n    \t       mDecipher.init (Cipher.DECRYPT_MODE, chiave,ivspec);\r\n    \t\t\r\n    \t       // byte [] messaggio_da_decodificare=DatatypeConverter.parseBase64Binary(messaggio);\r\n    \t      \r\n    \t       // System.out.println(&quot;lunghezza byte chiper&quot;+messaggio_da_decodificare.length);\r\n    \t        //byte [] messaggio_da_decodificare=messaggio.getBytes(&quot;UTF-8&quot;);\r\n    \t        return mDecipher.doFinal(messaggio);\r\n    \t        \r\n    \t}\r\n    \t\r\n    \tpublic static byte[] concat(byte[] a, byte[] b) {\r\n    \t\t   int aLen = a.length;\r\n    \t\t   int bLen = b.length;\r\n    \t\t   byte[] c= new byte[aLen+bLen];\r\n    \t\t   System.arraycopy(a, 0, c, 0, aLen);\r\n    \t\t   System.arraycopy(b, 0, c, aLen, bLen);\r\n    \t\t   return c;\r\n    \t\t}\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is the Server Bob:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package Secondo;\r\n\r\n\r\n    import java.math.BigInteger;\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.security.MessageDigest;\r\n    import java.security.SecureRandom;\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.security.spec.KeySpec;\r\n    import java.net.Socket;\r\n    import java.math.BigInteger;\r\n\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n\r\n    import java.security.*;\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.crypto.*;\r\n\r\n    import java.security.spec.KeySpec;\r\n    import java.net.Socket;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n\r\n    /**\r\n     * \r\n     * @author Bazzotti \r\n     * \r\n     * Bob.\r\n     * \r\n     * rappresenta il Server che deve autenticare il Client\r\n     *\r\n     */\r\n\r\n\r\n    public class Bob \r\n    {\r\n    \t\r\n    \tprivate static String Bob =&quot;Bob&quot;;\r\n    \tpublic static final int JABBERSERVERPORT = 9999;\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\t\r\n    \t\tUtenti utenti=new Utenti();\r\n    \t\t\r\n    \t\tutenti.inizzializzazioneUtenti();\r\n    \t\t\r\n    \t\t\r\n    \t\tServerSocket ServS = new ServerSocket(JABBERSERVERPORT);\r\n    \t\tSocket socket = null;\r\n    \t\t\t\t\t\r\n    \t\tint bitLength = 256; \r\n    \t    SecureRandom rnd = new SecureRandom();\r\n    \t    \r\n    \t    try {\r\n    \t\t\t\r\n    \t\t\tsocket = ServS.accept();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n                ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\r\n             \r\n                out.flush();\r\n                \r\n                ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\r\n    \t\t    /**\r\n    \t\t     * Ricezione della stringa\r\n    \t\t     */\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;sto aspettando la connessione&quot;);\r\n    \t\t\t\r\n    \t\t   PrimoMessaggioAlice primo_messaggio_ricevuto=(PrimoMessaggioAlice)in.readObject() ;\r\n    \t\t   \r\n\r\n    \t\t   \r\n    \t\t   \r\n    \t\t   \r\n    \t\t    \r\n    \t\t  //  System.out.println(Alice_A_g_p.length);\r\n    \t\t    String Alice =primo_messaggio_ricevuto.getAlice();\r\n    \t\t    \r\n    \t\t    \r\n    \t\t    String password =utenti.cerca(Alice);\r\n    \t\t    \r\n    \t\t    byte[] iv1=primo_messaggio_ricevuto.getIv();\r\n    \t\t    \r\n    \t\t    BigInteger p= primo_messaggio_ricevuto.getP();\r\n    \t\t    BigInteger g= primo_messaggio_ricevuto.getG();\r\n    \t\t    \r\n    \t\t    byte[] A=primo_messaggio_ricevuto.getA();\r\n    \t\t//creazione della chiave\r\n    \t\t    \r\n    \t\t    SecretKey chiave=chiaveAES (password);\r\n    \t\t    \r\n    \t       \r\n    \t        System.out.println(&quot; A &#232; &quot;+A+&quot; iv byte &quot;+iv1);\r\n    \t       \r\n    \t\t//Decodifica di A\r\n    \t        \r\n    \t        \r\n    \t       // System.out.println(&quot;chiave primo messaggio&quot;+password);\r\n    \t        BigInteger Ta=new BigInteger(decifraturaAES(chiave,A,iv1));\r\n    \t        \r\n    \t        \r\n    \t\t    \r\n    \t\t//    byte [] salt =Alice_A_g_p_salt[4].getBytes(&quot;UTF-8&quot;);\r\n    \t\t//Calcolo Tb\r\n    \t\t    \r\n    \t\t    byte[] c1=(SecureRandom.getSeed(4));\r\n    \t\t    \r\n    \t\t    BigInteger Sb=new BigInteger(bitLength-1, rnd);\r\n    \t\t    \r\n    \t\t    BigInteger Tb=g.modPow(Sb,p);\r\n    \t\t//Crittografo messaggio\r\n    \t\t    \r\n    \t\t    byte[] primo_messaggio_da_crittografare=concat(Tb.toByteArray(),c1);\r\n    \t\t    \r\n    \t//\t    System.out.println(&quot;Tb, c1&quot;+primo_messaggio_da_crittografare.getBytes());\r\n    \t\t   \r\n    \t        \r\n    \t        DatiChipertext primo_chipertext=cifraturaAES(chiaveAES(password),primo_messaggio_da_crittografare);\r\n    \t\t    byte[] B=primo_chipertext.getChipertext();\r\n    \t\t    byte[] iv2=primo_chipertext.getIv();\r\n    \t        \r\n    \t\t    PrimoMessaggioBob Bob_B= new PrimoMessaggioBob(Bob,B,iv2);\r\n    \t\t    \r\n    \t\t//    System.out.println(&quot; B &quot;+B.getBytes());\r\n    \t\t    //System.out.println(&quot;Bob, B byte &quot;+primo_messaggio_inviato);\r\n    \t\t//    System.out.println(&quot;Bob, B stringa &quot;+Bob_B.getBytes()+&quot;\\n iv &quot;+iv);\r\n    \t\t    \r\n    \t\t    \r\n    \t\t    //Chiave per i metodi successivi\r\n    \t\t    BigInteger Kt=Ta.modPow(Sb,p);\r\n    \t\t    \r\n    \t\t    /**\r\n    \t\t     * Invio di Tb e Bob\r\n    \t\t     */\r\n    \t\t    out.writeObject(Bob_B);\r\n    \t        \r\n    \t        out.flush();\r\n    \t        \r\n    \t        System.out.println(&quot;primo messaggio inviato&quot;);\r\n    \t\t    /**\r\n    \t\t     * Ricevo secondo messaggio c1 e c2\r\n    \t\t     */\r\n    \t\t    \r\n    \t\t    SecondoMessaggioA secondo_messaggio_ricevuto=(SecondoMessaggioA)in.readObject();\r\n    \t\t    \r\n    \t\t    \r\n    \t\t    System.out.println(&quot;secondo messaggio ricevuto&quot;);\r\n    \t\t   \r\n    \t\t    \r\n    \t\t//Decodifico c1 e c2\r\n    \t\t    \r\n    \t\t    \r\n    \t\t    \r\n    \t\t    /**\r\n    \t\t     * Trasformazione in stringa non corretta, oppure dimensione non va bene\r\n    \t\t     */\r\n    \t\t    System.out.println(&quot;lunghezza Kt &quot;+Kt.bitLength()+&quot;lunghezza p &quot;+p.bitLength());\r\n    \t\t    SecretKeySpec ephimeral_key= new SecretKeySpec(Kt.toByteArray(),&quot;AES&quot;);\r\n    \t              \r\n    \t        \r\n    \t        \r\n    \t        // System.out.println(&quot;secondo messaggio ricevuto &quot;+secondo_messaggio_ricevuto_stringa.getBytes()+&quot;ephimeral key &quot;+Kt.toByteArray());\r\n    \t       //  System.out.println(&quot;Tb &quot;+Tb.toString()+&quot; Ta &quot;+Ta.toString());\r\n    \t         \r\n    \t        \r\n    \t         \r\n    \t         byte[] iv3=secondo_messaggio_ricevuto.getIv();\r\n    \t         \r\n    \t         System.out.println(iv3);\r\n    \t         \r\n    \t         byte[] secondo_messaggio_da_decodificare=secondo_messaggio_ricevuto.getC1C2();\r\n    \t         byte[] c1_c2=decifraturaAES(ephimeral_key,secondo_messaggio_da_decodificare,iv3);\r\n    \t         \r\n    \t         byte[] c1_ricevuto=new byte[4];\r\n    \t         byte[] c2=new byte[4];\r\n    \t         \r\n    \t         for (int i=0;i&lt;4;i++)\r\n    \t         {\r\n    \t        \t c1_ricevuto[i]=c1_c2[i];\r\n    \t         }\r\n    \t         for (int i=4;i&lt;9;i++)\r\n    \t         {\r\n    \t        \t c2[i]=c1_c2[i];\r\n    \t         }\r\n    \t         \r\n    \t        \r\n    \t         if(c1_ricevuto.equals(c1))\r\n    \t         {\r\n    \t        \t System.out.println(&quot;Autenticato il client&quot;);\r\n    \t        \t \r\n    \t        \t \r\n    \t             DatiChipertext secondo_messaggio_criptato=cifraturaAES(ephimeral_key,c2);\r\n    \t             \r\n    \t             byte[] c2_criptato=secondo_messaggio_criptato.getChipertext();\r\n    \t             byte[] iv4=secondo_messaggio_criptato.getIv();\r\n    \t            \r\n    \t             SecondoMessaggioBob secondo_messaggio_da_inviare=new SecondoMessaggioBob(c2_criptato,iv4);\r\n    \t             /**\r\n    \t              * invio di c2\r\n    \t              */\r\n    \t             \r\n    \t             \r\n    \t             out.writeObject(secondo_messaggio_da_inviare);\r\n    \t             out.flush();\r\n    \t         }\r\n    \t         \t\r\n    \t         else\r\n    \t        \t System.out.println(&quot;client sbagliato&quot;);\r\n    \t         \r\n    \t\t\r\n    \t\t\t}finally {\r\n    \t\t\t\tSystem.out.println(&quot;********** Chiudo il socket...&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tsocket.close();\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tSystem.out.println(&quot;********** Eccezione b&quot; + e);\r\n    \t\t\t\t}\r\n    \t\t\r\n    \t\tServS.close();\r\n    \t}\r\n\r\n    \t}\r\n    \tprivate static DatiChipertext cifraturaAES  (SecretKey secret, byte[] messaggio) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\t\r\n            //cifratura\r\n    \t\t\t \r\n            Cipher mEcipher = Cipher.getInstance (&quot;AES/CBC/PKCS5Padding&quot;);\r\n           /* byte[] iv = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\r\n    \t\t IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n            mEcipher.init (Cipher.ENCRYPT_MODE, secret,ivspec);\r\n            */\r\n            \r\n            mEcipher.init (Cipher.ENCRYPT_MODE, secret);\r\n            AlgorithmParameters params = mEcipher.getParameters();\r\n\r\n            byte []iv = params.getParameterSpec(IvParameterSpec.class).getIV();\r\n            System.out.println(&quot;iv usato &quot;+iv);\r\n           // byte[] messaggio_da_codificare = DatatypeConverter.parseBase64Binary(messaggio);\r\n           \r\n            //chipertext &#232; ok lungo 80 byte\r\n            \r\n            //String stringa_cifrata=new String (chiphertext);\r\n            \r\n            //Devono essere 80 caratteri o un multiplo\r\n            //System.out.println(&quot;lunghezza caratteri stringa messaggio&quot;+stringa_cifrata.length());\r\n    \t\t\r\n            \r\n            return new DatiChipertext (messaggio,iv);\r\n            \r\n            \r\n    \t}\r\n    \t \r\n    \tprivate static SecretKey chiaveAES (String chiave) throws Exception\r\n    \t{\r\n    \t\t//creazione della chiave\r\n    \t    //SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n    \t   // byte [] salt={0,0,0,0,0,0,0,0};\r\n    \t   // SecretKeySpec tmp = new SecretKeySpec (chiave.getBytes(&quot;UTF-8&quot;),&quot;AES&quot;);\r\n    \t  //  SecretKey tmp = factory.generateSecret (spec);\r\n    \t    \r\n    \t\t//calcolo sha-256 della chiave\r\n    \t\tMessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t\tbyte[] hash = digest.digest(chiave.getBytes());\r\n           \r\n    \t\tSecretKey secret = new SecretKeySpec (hash, &quot;AES&quot;);\r\n            return secret;\r\n    \t}\r\n    \t\r\n    \tprivate static byte[] decifraturaAES (SecretKey chiave, byte[] messaggio, byte[] iv) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\t\r\n    \t    \r\n    \t\t\r\n    \t\t Cipher mDecipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    \t\t\r\n    \t\t IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n    \t       mDecipher.init (Cipher.DECRYPT_MODE, chiave,ivspec);\r\n    \t\t\r\n    \t       // byte [] messaggio_da_decodificare=DatatypeConverter.parseBase64Binary(messaggio);\r\n    \t      \r\n    \t       // System.out.println(&quot;lunghezza byte chiper&quot;+messaggio_da_decodificare.length);\r\n    \t        //byte [] messaggio_da_decodificare=messaggio.getBytes(&quot;UTF-8&quot;);\r\n    \t        return mDecipher.doFinal(messaggio);\r\n    \t        \r\n    \t}\r\n    \t\r\n    \tpublic static byte[] concat(byte[] a, byte[] b)\r\n    \t{\r\n    \t\t   int aLen = a.length;\r\n    \t\t   int bLen = b.length;\r\n    \t\t   byte[] c= new byte[aLen+bLen];\r\n    \t\t   System.arraycopy(a, 0, c, 0, aLen);\r\n    \t\t   System.arraycopy(b, 0, c, aLen, bLen);\r\n    \t\t   return c;\r\n    \t\t}\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd the Object that i passed is PrimoMessaggioAlice (FirstMessageFromAlice)\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package Secondo;\r\n    import java.math.*;\r\n    import java.io.*;\r\n    public class PrimoMessaggioAlice implements Serializable {\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String Alice;\r\n    \tprivate byte[] A;\r\n    \tprivate BigInteger g;\r\n    \tprivate BigInteger p;\r\n    \tprivate byte [] iv;\r\n    \t\r\n    public PrimoMessaggioAlice(String _Alice, byte[] _A, BigInteger _g, BigInteger _p, byte[] _iv)\r\n    {\r\n    \tAlice=_Alice;\r\n    \tA=_A;\r\n    \tg=_g;\r\n    \tp=_p;\r\n    \tiv=_iv;\r\n    }\r\n\r\n\r\n    public String getAlice()\r\n    {\r\n    \treturn Alice;\r\n    \t\r\n    }\r\n\r\n    public byte[] getA()\r\n    {\r\n    \treturn A;\r\n    }\r\n\r\n    public byte[] getIv()\r\n    {\r\n    \treturn iv;\r\n    }\r\n    public BigInteger getP()\r\n    {\r\n    \treturn p;\r\n    }\r\n\r\n    public BigInteger getG()\r\n    {\r\n    \treturn g;\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThat is the same in the Client and in the server.\r\n\r\nwhent Alice send PrimoMessaggioAlice with (A=[B@6e56ae and  iv=[B@1b3967)\r\nBob read usually PrimoMessaggioAlice with (A=[B@19e8f17 and iv=[B@c44b88)\r\n\r\nThank for the Help\r\n","title":"Java EKE, ObjectInputStream wrong readObject()","body":"<p>I try to realize a EKE with AES-256 for a university project.\nThe main problem is that when the client call <code>writeObject()</code> to the server, the last one receive a wrong object with different ciphertext to decrypt and different initialization vector.</p>\n<p>This is the Client Alice:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package Secondo;\nimport java.math.BigInteger;\n\n\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\n\nimport java.security.*;\nimport java.io.*;\nimport java.net.*;\n\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.*;\n\nimport java.security.spec.KeySpec;\nimport java.net.Socket;\nimport javax.crypto.spec.IvParameterSpec;\n\nimport javax.xml.bind.DatatypeConverter;\n/**\n * \n * @author Bazzotti \n * \n * Alice.\n * \n * rappresenta il client che si vuole autenticare al Server\n *\n */\n\n\npublic class Alice \n{\n    \n    public static final int JabberServerPORT = 9999;\n    //public static final byte[] JabberServerADDRESS = new byte[]{127,0,0,1};\n    \n    public  static void main(String[] args) throws Exception {\n        \n        \n        \n        \n        \n        // p è un numero primo in modo che qualsiasi g possa generare un insieme abbastanza grande\n        // inoltre perchè Diffie-Hellman sia sicuro anche ((p-1)/2) deve essere primo\n        \n        int bitLength = 512; \n        SecureRandom rnd = new SecureRandom();\n        \n        //Attributi per DH\n        BigInteger p;\n        BigInteger g = new BigInteger(bitLength, rnd);\n           \n        \n        BigInteger Sa=new BigInteger(bitLength, rnd);\n        do{\n            \n            p = g.max(Sa).nextProbablePrime();\n         \n        } while (p.subtract(BigInteger.ONE).shiftRight(1).isProbablePrime(50));\n        \n        \n        \n        BigInteger Ta=g.modPow(Sa,p);\n        \n        \n        \n        //\n        String Alice=MyUtil.leggiString(\"inserisci il nome\");\n        String password=MyUtil.leggiString(\"inserisci la password\");\n        \n      // System.out.println(\"stringa del BigInteger Ta \"+Ta.toString());\n        System.out.println(\"lunghezza bit Ta\"+Ta.bitCount()+\"lunghezza bit p\"+p.bitCount());\n        DatiChipertext prima_cifratura= cifraturaAES( chiaveAES(password),Ta.toByteArray());\n        \n        byte[] A=prima_cifratura.getChipertext();\n        byte[] iv=prima_cifratura.getIv();\n        Socket socket=null;\n        \n        \n       \n       System.out.println(Alice+\",\"+A+\",\"+g+p+\",\"+iv);\n       \n        \n           \n        \n        try {\n            \n            \n            socket = new Socket(\"localhost\", JabberServerPORT);\n            \n            \n            \n           \n                \n            ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\n            out.flush();\n            ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\n        System.out.println(\"mi sto connettendo al server\");\n        \n        \n        \n        \n       // System.out.println(\"lunghezza primo messaggio \"+primo_messaggio.length());\n         // Invio di A Alice g p\n       // System.out.println(\"lunghezza A\"+A.length());\n       // System.out.println(\"chiave primo messaggio\"+password);\n        PrimoMessaggioAlice primo_messaggio= new PrimoMessaggioAlice(Alice,A,g,p,iv);\n        out.writeObject(primo_messaggio);\n        out.reset();\n        \n        System.out.println(\"primo messaggio inviato\");\n         // Ricezione di Bob e B\n         \n        PrimoMessaggioBob primo_messaggio_ricevuto = (PrimoMessaggioBob)in.readObject();\n        \n               \n        \n        System.out.println(\"primo messaggio ricevuto\");\n      \n        \n       //  Decifro ottenendo Tb e c1\n         \n       \n        String Bob=primo_messaggio_ricevuto.getBob();\n        byte[] iv2=primo_messaggio_ricevuto.getIv();\n        byte[] B=primo_messaggio_ricevuto.getB();\n       \n        \n        System.out.println(\"B ricevuto \"+B+\" iv \"+iv2);\n        /**Cipher mDecipher = Cipher.getInstance (\"AES/CBC/PKCS5Padding\");\n        mDecipher.init (Cipher.DECRYPT_MODE, chiaveAES(password));\n        */\n       \n        byte[] B_decriptato=decifraturaAES(chiaveAES(password),B,iv2);\n       \n        byte[] c1= new byte [4];\n        byte[] Tb_decriptato= new byte[B_decriptato.length-4];\n        for(int i=0;i&lt;B_decriptato.length;i++)\n        {\n            if(i&lt;(B_decriptato.length-4))\n                Tb_decriptato[i]=B_decriptato[i];\n            else\n                c1[i]=B_decriptato[i];\n        }\n      \n      //Sostituito con Tb dato da bob\n        BigInteger Tb=new BigInteger(Tb_decriptato);\n        \n        //\n        \n        //Chiave per i metodi successivi\n        BigInteger Kt=Tb.modPow(Sa,p);\n        \n        \n        \n        byte[] c2=(SecureRandom.getSeed(4));\n        \n      //creazione della chiave effimera\n        \n       \n        byte[] secondo_messaggio=concat(c1,c2);\n        SecretKeySpec ephimeral_key= new SecretKeySpec(Kt.toByteArray(),\"AES\");\n        \n        \n     //   System.out.println(\"lunghezza Kt \"+Kt.bitLength()+\"lunghezza p \"+p.bitLength());\n        \n        \n        \n        DatiChipertext secondo_messaggio_chipertext=cifraturaAES(ephimeral_key,secondo_messaggio);\n        byte[] secondo_messaggio_criptato=secondo_messaggio_chipertext.getChipertext();\n        byte[] iv3=secondo_messaggio_chipertext.getIv();\n        System.out.println(iv3);\n    //   System.out.println(\"secondo messaggio inviato \"+secondo_messaggio_criptato.getBytes()+\"ephimeral key \"+Kt.toByteArray());\n        /**System.out.println(\"Tb \"+Tb.toString()+\" Ta \"+Ta.toString());\n        */\n        \n        SecondoMessaggioA secondo_messaggio_da_inviare=new SecondoMessaggioA(secondo_messaggio_criptato,iv3);\n        /**\n         * Invio del secondo messaggi ocriptato\n         */\n        \n         System.out.println(\"secondo messaggio inviato \"+secondo_messaggio_da_inviare.getC1C2()+secondo_messaggio_da_inviare.getIv());\n         \n        \n        out.writeObject(secondo_messaggio_da_inviare);\n        \n        out.flush();\n        /**\n         * Ricezione di c2'\n         */\n        \n        System.out.println(\"secondo messaggio inviato \");\n        \n        SecondoMessaggioBob secondo_messaggio_ricevuto= (SecondoMessaggioBob)in.readObject();\n       \n        System.out.println(\"secondo messaggio ricevuto \");\n        System.out.println(secondo_messaggio_ricevuto);\n        /**\n         * Verifica che c2 sia uguale a c2'\n         */\n        \n       /* Cipher mDecipher2 = Cipher.getInstance (\"AES/CBC/PKCS5Padding\");\n        mDecipher2.init (Cipher.DECRYPT_MODE, chiaveAES(Kt.toByteArray().toString()));\n        */\n        \n       \n        \n        byte[] iv4=secondo_messaggio_ricevuto.getIv();\n        \n        byte[] c2_cifrato=secondo_messaggio_ricevuto.getC2();\n        byte[] c2_ricevuto=decifraturaAES(ephimeral_key,c2_cifrato,iv4);\n        \n        if(c2_ricevuto.equals(c2))\n            System.out.println(\"Server Autenticato\");\n        else\n            System.out.println(\"Server NON Autenticato\");\n            \n            \n      }finally {\n            System.out.println(\"********** Chiudo il socket...\");\n            try {\n                socket.close();\n            } catch (Exception e) {\n                System.out.println(\"********** Eccezione b\" + e);\n            }\n        }\n     \n        \n        \n    }\n    \n    \n    private static DatiChipertext cifraturaAES  (SecretKey secret, byte[] messaggio) throws Exception\n    {\n        \n        \n        //cifratura\n             \n        Cipher mEcipher = Cipher.getInstance (\"AES/CBC/PKCS5Padding\");\n       /* byte[] iv = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\n         IvParameterSpec ivspec = new IvParameterSpec(iv);\n        mEcipher.init (Cipher.ENCRYPT_MODE, secret,ivspec);\n        */\n        \n        mEcipher.init (Cipher.ENCRYPT_MODE, secret);\n        AlgorithmParameters params = mEcipher.getParameters();\n\n        byte []iv = params.getParameterSpec(IvParameterSpec.class).getIV();\n        System.out.println(\"iv usato \"+iv);\n       // byte[] messaggio_da_codificare = DatatypeConverter.parseBase64Binary(messaggio);\n       \n        //chipertext è ok lungo 80 byte\n        \n        //String stringa_cifrata=new String (chiphertext);\n        \n        //Devono essere 80 caratteri o un multiplo\n        //System.out.println(\"lunghezza caratteri stringa messaggio\"+stringa_cifrata.length());\n        \n        \n        return new DatiChipertext (messaggio,iv);\n        \n        \n    }\n     \n    private static SecretKey chiaveAES (String chiave) throws Exception\n    {\n        //creazione della chiave\n        //SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\");\n       // byte [] salt={0,0,0,0,0,0,0,0};\n       // SecretKeySpec tmp = new SecretKeySpec (chiave.getBytes(\"UTF-8\"),\"AES\");\n      //  SecretKey tmp = factory.generateSecret (spec);\n        \n        //calcolo sha-256 della chiave\n        MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n        byte[] hash = digest.digest(chiave.getBytes());\n       \n        SecretKey secret = new SecretKeySpec (hash, \"AES\");\n        return secret;\n    }\n    \n    private static byte[] decifraturaAES (SecretKey chiave, byte[] messaggio, byte[] iv) throws Exception\n    {\n        \n        \n        \n        \n         Cipher mDecipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n        \n         IvParameterSpec ivspec = new IvParameterSpec(iv);\n           mDecipher.init (Cipher.DECRYPT_MODE, chiave,ivspec);\n        \n           // byte [] messaggio_da_decodificare=DatatypeConverter.parseBase64Binary(messaggio);\n          \n           // System.out.println(\"lunghezza byte chiper\"+messaggio_da_decodificare.length);\n            //byte [] messaggio_da_decodificare=messaggio.getBytes(\"UTF-8\");\n            return mDecipher.doFinal(messaggio);\n            \n    }\n    \n    public static byte[] concat(byte[] a, byte[] b) {\n           int aLen = a.length;\n           int bLen = b.length;\n           byte[] c= new byte[aLen+bLen];\n           System.arraycopy(a, 0, c, 0, aLen);\n           System.arraycopy(b, 0, c, aLen, bLen);\n           return c;\n        }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is the Server Bob:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package Secondo;\n\n\nimport java.math.BigInteger;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\n\n\nimport javax.xml.bind.DatatypeConverter;\n\n\n\n\n\n\nimport java.security.MessageDigest;\nimport java.security.SecureRandom;\nimport java.io.*;\nimport java.net.*;\n\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\n\n\n\n\n\n\n\nimport java.security.spec.KeySpec;\nimport java.net.Socket;\nimport java.math.BigInteger;\n\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\n\nimport java.security.*;\nimport java.io.*;\nimport java.net.*;\n\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.*;\n\nimport java.security.spec.KeySpec;\nimport java.net.Socket;\nimport javax.crypto.spec.IvParameterSpec;\n\nimport javax.xml.bind.DatatypeConverter;\n\n\n/**\n * \n * @author Bazzotti \n * \n * Bob.\n * \n * rappresenta il Server che deve autenticare il Client\n *\n */\n\n\npublic class Bob \n{\n    \n    private static String Bob =\"Bob\";\n    public static final int JABBERSERVERPORT = 9999;\n    \n    public static void main(String[] args) throws Exception {\n        \n        \n        Utenti utenti=new Utenti();\n        \n        utenti.inizzializzazioneUtenti();\n        \n        \n        ServerSocket ServS = new ServerSocket(JABBERSERVERPORT);\n        Socket socket = null;\n                    \n        int bitLength = 256; \n        SecureRandom rnd = new SecureRandom();\n        \n        try {\n            \n            socket = ServS.accept();\n            \n            \n            \n            ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());\n         \n            out.flush();\n            \n            ObjectInputStream in = new ObjectInputStream(socket.getInputStream());\n            /**\n             * Ricezione della stringa\n             */\n            \n            System.out.println(\"sto aspettando la connessione\");\n            \n           PrimoMessaggioAlice primo_messaggio_ricevuto=(PrimoMessaggioAlice)in.readObject() ;\n           \n\n           \n           \n           \n            \n          //  System.out.println(Alice_A_g_p.length);\n            String Alice =primo_messaggio_ricevuto.getAlice();\n            \n            \n            String password =utenti.cerca(Alice);\n            \n            byte[] iv1=primo_messaggio_ricevuto.getIv();\n            \n            BigInteger p= primo_messaggio_ricevuto.getP();\n            BigInteger g= primo_messaggio_ricevuto.getG();\n            \n            byte[] A=primo_messaggio_ricevuto.getA();\n        //creazione della chiave\n            \n            SecretKey chiave=chiaveAES (password);\n            \n           \n            System.out.println(\" A è \"+A+\" iv byte \"+iv1);\n           \n        //Decodifica di A\n            \n            \n           // System.out.println(\"chiave primo messaggio\"+password);\n            BigInteger Ta=new BigInteger(decifraturaAES(chiave,A,iv1));\n            \n            \n            \n        //    byte [] salt =Alice_A_g_p_salt[4].getBytes(\"UTF-8\");\n        //Calcolo Tb\n            \n            byte[] c1=(SecureRandom.getSeed(4));\n            \n            BigInteger Sb=new BigInteger(bitLength-1, rnd);\n            \n            BigInteger Tb=g.modPow(Sb,p);\n        //Crittografo messaggio\n            \n            byte[] primo_messaggio_da_crittografare=concat(Tb.toByteArray(),c1);\n            \n    //      System.out.println(\"Tb, c1\"+primo_messaggio_da_crittografare.getBytes());\n           \n            \n            DatiChipertext primo_chipertext=cifraturaAES(chiaveAES(password),primo_messaggio_da_crittografare);\n            byte[] B=primo_chipertext.getChipertext();\n            byte[] iv2=primo_chipertext.getIv();\n            \n            PrimoMessaggioBob Bob_B= new PrimoMessaggioBob(Bob,B,iv2);\n            \n        //    System.out.println(\" B \"+B.getBytes());\n            //System.out.println(\"Bob, B byte \"+primo_messaggio_inviato);\n        //    System.out.println(\"Bob, B stringa \"+Bob_B.getBytes()+\"\\n iv \"+iv);\n            \n            \n            //Chiave per i metodi successivi\n            BigInteger Kt=Ta.modPow(Sb,p);\n            \n            /**\n             * Invio di Tb e Bob\n             */\n            out.writeObject(Bob_B);\n            \n            out.flush();\n            \n            System.out.println(\"primo messaggio inviato\");\n            /**\n             * Ricevo secondo messaggio c1 e c2\n             */\n            \n            SecondoMessaggioA secondo_messaggio_ricevuto=(SecondoMessaggioA)in.readObject();\n            \n            \n            System.out.println(\"secondo messaggio ricevuto\");\n           \n            \n        //Decodifico c1 e c2\n            \n            \n            \n            /**\n             * Trasformazione in stringa non corretta, oppure dimensione non va bene\n             */\n            System.out.println(\"lunghezza Kt \"+Kt.bitLength()+\"lunghezza p \"+p.bitLength());\n            SecretKeySpec ephimeral_key= new SecretKeySpec(Kt.toByteArray(),\"AES\");\n                  \n            \n            \n            // System.out.println(\"secondo messaggio ricevuto \"+secondo_messaggio_ricevuto_stringa.getBytes()+\"ephimeral key \"+Kt.toByteArray());\n           //  System.out.println(\"Tb \"+Tb.toString()+\" Ta \"+Ta.toString());\n             \n            \n             \n             byte[] iv3=secondo_messaggio_ricevuto.getIv();\n             \n             System.out.println(iv3);\n             \n             byte[] secondo_messaggio_da_decodificare=secondo_messaggio_ricevuto.getC1C2();\n             byte[] c1_c2=decifraturaAES(ephimeral_key,secondo_messaggio_da_decodificare,iv3);\n             \n             byte[] c1_ricevuto=new byte[4];\n             byte[] c2=new byte[4];\n             \n             for (int i=0;i&lt;4;i++)\n             {\n                 c1_ricevuto[i]=c1_c2[i];\n             }\n             for (int i=4;i&lt;9;i++)\n             {\n                 c2[i]=c1_c2[i];\n             }\n             \n            \n             if(c1_ricevuto.equals(c1))\n             {\n                 System.out.println(\"Autenticato il client\");\n                 \n                 \n                 DatiChipertext secondo_messaggio_criptato=cifraturaAES(ephimeral_key,c2);\n                 \n                 byte[] c2_criptato=secondo_messaggio_criptato.getChipertext();\n                 byte[] iv4=secondo_messaggio_criptato.getIv();\n                \n                 SecondoMessaggioBob secondo_messaggio_da_inviare=new SecondoMessaggioBob(c2_criptato,iv4);\n                 /**\n                  * invio di c2\n                  */\n                 \n                 \n                 out.writeObject(secondo_messaggio_da_inviare);\n                 out.flush();\n             }\n                \n             else\n                 System.out.println(\"client sbagliato\");\n             \n        \n            }finally {\n                System.out.println(\"********** Chiudo il socket...\");\n                try {\n                    socket.close();\n                } catch (Exception e) {\n                    System.out.println(\"********** Eccezione b\" + e);\n                }\n        \n        ServS.close();\n    }\n\n    }\n    private static DatiChipertext cifraturaAES  (SecretKey secret, byte[] messaggio) throws Exception\n    {\n        \n        \n        //cifratura\n             \n        Cipher mEcipher = Cipher.getInstance (\"AES/CBC/PKCS5Padding\");\n       /* byte[] iv = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\n         IvParameterSpec ivspec = new IvParameterSpec(iv);\n        mEcipher.init (Cipher.ENCRYPT_MODE, secret,ivspec);\n        */\n        \n        mEcipher.init (Cipher.ENCRYPT_MODE, secret);\n        AlgorithmParameters params = mEcipher.getParameters();\n\n        byte []iv = params.getParameterSpec(IvParameterSpec.class).getIV();\n        System.out.println(\"iv usato \"+iv);\n       // byte[] messaggio_da_codificare = DatatypeConverter.parseBase64Binary(messaggio);\n       \n        //chipertext è ok lungo 80 byte\n        \n        //String stringa_cifrata=new String (chiphertext);\n        \n        //Devono essere 80 caratteri o un multiplo\n        //System.out.println(\"lunghezza caratteri stringa messaggio\"+stringa_cifrata.length());\n        \n        \n        return new DatiChipertext (messaggio,iv);\n        \n        \n    }\n     \n    private static SecretKey chiaveAES (String chiave) throws Exception\n    {\n        //creazione della chiave\n        //SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\");\n       // byte [] salt={0,0,0,0,0,0,0,0};\n       // SecretKeySpec tmp = new SecretKeySpec (chiave.getBytes(\"UTF-8\"),\"AES\");\n      //  SecretKey tmp = factory.generateSecret (spec);\n        \n        //calcolo sha-256 della chiave\n        MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n        byte[] hash = digest.digest(chiave.getBytes());\n       \n        SecretKey secret = new SecretKeySpec (hash, \"AES\");\n        return secret;\n    }\n    \n    private static byte[] decifraturaAES (SecretKey chiave, byte[] messaggio, byte[] iv) throws Exception\n    {\n        \n        \n        \n        \n         Cipher mDecipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n        \n         IvParameterSpec ivspec = new IvParameterSpec(iv);\n           mDecipher.init (Cipher.DECRYPT_MODE, chiave,ivspec);\n        \n           // byte [] messaggio_da_decodificare=DatatypeConverter.parseBase64Binary(messaggio);\n          \n           // System.out.println(\"lunghezza byte chiper\"+messaggio_da_decodificare.length);\n            //byte [] messaggio_da_decodificare=messaggio.getBytes(\"UTF-8\");\n            return mDecipher.doFinal(messaggio);\n            \n    }\n    \n    public static byte[] concat(byte[] a, byte[] b)\n    {\n           int aLen = a.length;\n           int bLen = b.length;\n           byte[] c= new byte[aLen+bLen];\n           System.arraycopy(a, 0, c, 0, aLen);\n           System.arraycopy(b, 0, c, aLen, bLen);\n           return c;\n        }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And the Object that i passed is PrimoMessaggioAlice (FirstMessageFromAlice)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package Secondo;\nimport java.math.*;\nimport java.io.*;\npublic class PrimoMessaggioAlice implements Serializable {\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String Alice;\n    private byte[] A;\n    private BigInteger g;\n    private BigInteger p;\n    private byte [] iv;\n    \npublic PrimoMessaggioAlice(String _Alice, byte[] _A, BigInteger _g, BigInteger _p, byte[] _iv)\n{\n    Alice=_Alice;\n    A=_A;\n    g=_g;\n    p=_p;\n    iv=_iv;\n}\n\n\npublic String getAlice()\n{\n    return Alice;\n    \n}\n\npublic byte[] getA()\n{\n    return A;\n}\n\npublic byte[] getIv()\n{\n    return iv;\n}\npublic BigInteger getP()\n{\n    return p;\n}\n\npublic BigInteger getG()\n{\n    return g;\n}\n\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>That is the same in the Client and in the server.</p>\n<p>whent Alice send PrimoMessaggioAlice with (A=[B@6e56ae and  iv=[B@1b3967)\nBob read usually PrimoMessaggioAlice with (A=[B@19e8f17 and iv=[B@c44b88)</p>\n<p>Thank for the Help</p>\n"},{"tags":["java","spring","spring-data","spring-data-jpa","querydsl"],"comments":[{"owner":{"account_id":51942,"reputation":40143,"user_id":155213,"accept_rate":83,"display_name":"miensol"},"score":0,"creation_date":1463406278,"post_id":37254385,"comment_id":62038048,"body_markdown":"Can please share some code with us? The `count` query is usually part of pagination so that you can present number of total pages/results in the UI. Why is the `count` part slow in your case?","body":"Can please share some code with us? The <code>count</code> query is usually part of pagination so that you can present number of total pages/results in the UI. Why is the <code>count</code> part slow in your case?"},{"owner":{"account_id":3338406,"reputation":4475,"user_id":2805265,"accept_rate":73,"display_name":"geg"},"score":0,"creation_date":1576612859,"post_id":37254385,"comment_id":104954545,"body_markdown":"Same issue here, we have infinite scrolling so there&#39;s no need for the total count. It&#39;s  a wasted query","body":"Same issue here, we have infinite scrolling so there&#39;s no need for the total count. It&#39;s  a wasted query"}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1658850581,"creation_date":1463409483,"answer_id":37256544,"question_id":37254385,"body_markdown":"Since `QuerydslPredicateExecutor` does not support returning `Slice` as the return value of `findAll(Predicate, Pageable)`, so the *Count Query* seems unavoidable. But you can define a new base repository interface and implement the `findAll` method in a way that it does not issue a count query for pagination. For starters, you should define an interface which will be used as the base interface for all other *Repositories*:\r\n\r\n    /**\r\n     * Interface for adding one method to all repositories.\r\n     *\r\n     * &lt;p&gt;The main motivation of this interface is to provide a way\r\n     * to paginate list of items without issuing a count query\r\n     * beforehand. Basically we&#39;re going to get one element more\r\n     * than requested and form a {@link Page} object out of it.&lt;/p&gt;\r\n     */\r\n    @NoRepositoryBean\r\n    public interface SliceableRepository&lt;T, ID extends Serializable&gt;\r\n            extends JpaRepository&lt;T, ID&gt;,\r\n            QuerydslPredicateExecutor&lt;T&gt; {\r\n      \r\n        Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable);\r\n    }\r\n\r\nThen, implement this interface like:\r\n\r\n    public class SliceableRepositoryImpl&lt;T, ID extends Serializable&gt;\r\n            extends QueryDslJpaRepository&lt;T, ID&gt;\r\n            implements SliceableRepository&lt;T, ID&gt; {\r\n        private static final EntityPathResolver DEFAULT_ENTITY_PATH_RESOLVER = SimpleEntityPathResolver.INSTANCE;\r\n        private final EntityPath&lt;T&gt; path;\r\n        private final PathBuilder&lt;T&gt; builder;\r\n        private final Querydsl querydsl;\r\n    \r\n        public SliceableRepositoryImpl(JpaEntityInformation&lt;T, ID&gt; entityInformation, EntityManager entityManager) {\r\n            super(entityInformation, entityManager);\r\n            path = DEFAULT_ENTITY_PATH_RESOLVER.createPath(entityInformation.getJavaType());\r\n            this.builder = new PathBuilder&lt;&gt;(path.getType(), path.getMetadata());\r\n            this.querydsl = new Querydsl(entityManager, builder);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable) {\r\n            int oneMore = pageable.getPageSize() + 1;\r\n            JPQLQuery query = createQuery(predicate)\r\n                    .offset(pageable.getOffset())\r\n                    .limit(oneMore);\r\n    \r\n            Sort sort = pageable.getSort();\r\n            query = querydsl.applySorting(sort, query);\r\n    \r\n            List&lt;T&gt; entities = query.list(path);\r\n    \r\n            int size = entities.size();\r\n            if (size &gt; pageable.getPageSize())\r\n                entities.remove(size - 1);\r\n    \r\n            return new PageImpl&lt;&gt;(entities, pageable, pageable.getOffset() + size);\r\n        }\r\n    }\r\nBasically, this implementation would fetch one more element than requested size and use the result for constructing a `Page`. Then you should tell Spring Data to use this implementation as the repository base class:\r\n\r\n    @EnableJpaRepositories(repositoryBaseClass = SliceableRepositoryImpl.class)\r\nAnd finally extend the `SliceableRepository` as your base interface:\r\n\r\n    public SomeRepository extends SliceableRepository&lt;Some, SomeID&gt; {}","title":"QueryDsl SpringData Jpa findAll how to avoid count()","body":"<p>Since <code>QuerydslPredicateExecutor</code> does not support returning <code>Slice</code> as the return value of <code>findAll(Predicate, Pageable)</code>, so the <em>Count Query</em> seems unavoidable. But you can define a new base repository interface and implement the <code>findAll</code> method in a way that it does not issue a count query for pagination. For starters, you should define an interface which will be used as the base interface for all other <em>Repositories</em>:</p>\n<pre><code>/**\n * Interface for adding one method to all repositories.\n *\n * &lt;p&gt;The main motivation of this interface is to provide a way\n * to paginate list of items without issuing a count query\n * beforehand. Basically we're going to get one element more\n * than requested and form a {@link Page} object out of it.&lt;/p&gt;\n */\n@NoRepositoryBean\npublic interface SliceableRepository&lt;T, ID extends Serializable&gt;\n        extends JpaRepository&lt;T, ID&gt;,\n        QuerydslPredicateExecutor&lt;T&gt; {\n  \n    Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable);\n}\n</code></pre>\n<p>Then, implement this interface like:</p>\n<pre><code>public class SliceableRepositoryImpl&lt;T, ID extends Serializable&gt;\n        extends QueryDslJpaRepository&lt;T, ID&gt;\n        implements SliceableRepository&lt;T, ID&gt; {\n    private static final EntityPathResolver DEFAULT_ENTITY_PATH_RESOLVER = SimpleEntityPathResolver.INSTANCE;\n    private final EntityPath&lt;T&gt; path;\n    private final PathBuilder&lt;T&gt; builder;\n    private final Querydsl querydsl;\n\n    public SliceableRepositoryImpl(JpaEntityInformation&lt;T, ID&gt; entityInformation, EntityManager entityManager) {\n        super(entityInformation, entityManager);\n        path = DEFAULT_ENTITY_PATH_RESOLVER.createPath(entityInformation.getJavaType());\n        this.builder = new PathBuilder&lt;&gt;(path.getType(), path.getMetadata());\n        this.querydsl = new Querydsl(entityManager, builder);\n    }\n\n    @Override\n    public Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable) {\n        int oneMore = pageable.getPageSize() + 1;\n        JPQLQuery query = createQuery(predicate)\n                .offset(pageable.getOffset())\n                .limit(oneMore);\n\n        Sort sort = pageable.getSort();\n        query = querydsl.applySorting(sort, query);\n\n        List&lt;T&gt; entities = query.list(path);\n\n        int size = entities.size();\n        if (size &gt; pageable.getPageSize())\n            entities.remove(size - 1);\n\n        return new PageImpl&lt;&gt;(entities, pageable, pageable.getOffset() + size);\n    }\n}\n</code></pre>\n<p>Basically, this implementation would fetch one more element than requested size and use the result for constructing a <code>Page</code>. Then you should tell Spring Data to use this implementation as the repository base class:</p>\n<pre><code>@EnableJpaRepositories(repositoryBaseClass = SliceableRepositoryImpl.class)\n</code></pre>\n<p>And finally extend the <code>SliceableRepository</code> as your base interface:</p>\n<pre><code>public SomeRepository extends SliceableRepository&lt;Some, SomeID&gt; {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2583718,"reputation":13,"user_id":2239874,"display_name":"MattWMJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543220895,"creation_date":1543220895,"answer_id":53477185,"question_id":37254385,"body_markdown":"FYI there is a spring jira issue:\r\n\r\nhttps://jira.spring.io/browse/DATAJPA-289\r\n\r\nLet&#39;s vote for this improvement\r\n","title":"QueryDsl SpringData Jpa findAll how to avoid count()","body":"<p>FYI there is a spring jira issue:</p>\n\n<p><a href=\"https://jira.spring.io/browse/DATAJPA-289\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAJPA-289</a></p>\n\n<p>Let's vote for this improvement</p>\n"},{"tags":[],"owner":{"account_id":84468,"reputation":171,"user_id":236120,"display_name":"Nathaniel Mishkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612885768,"creation_date":1612885768,"answer_id":66122380,"question_id":37254385,"body_markdown":"In case anyone lands here looking for how to achieve the same affect in Spring Data MongoDB as Ali did above for Spring Data JPA, here&#39;s my solution modeled on his:\r\n\r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageImpl;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.domain.Slice;\r\n    import org.springframework.data.domain.Sort;\r\n    import org.springframework.data.domain.Sort.Order;\r\n    import org.springframework.data.mongodb.core.MongoOperations;\r\n    import org.springframework.data.mongodb.repository.query.MongoEntityInformation;\r\n    import org.springframework.data.mongodb.repository.support.QueryDslMongoRepository;\r\n    import org.springframework.data.mongodb.repository.support.SpringDataMongodbQuery;\r\n    import org.springframework.data.querydsl.EntityPathResolver;\r\n    import org.springframework.data.querydsl.QSort;\r\n    import org.springframework.data.querydsl.QueryDslPredicateExecutor;\r\n    import org.springframework.data.querydsl.SimpleEntityPathResolver;\r\n    import org.springframework.data.repository.core.EntityInformation;\r\n    \r\n    import com.querydsl.core.types.EntityPath;\r\n    import com.querydsl.core.types.Expression;\r\n    import com.querydsl.core.types.OrderSpecifier;\r\n    import com.querydsl.core.types.Predicate;\r\n    import com.querydsl.core.types.dsl.PathBuilder;\r\n    import com.querydsl.mongodb.AbstractMongodbQuery;\r\n    \r\n    /**\r\n     * Custom extension of {@link QueryDslMongoRepository} that avoids unnecessary MongoDB &quot;count&quot;\r\n     * operations\r\n     * &lt;p&gt;\r\n     * {@link QueryDslPredicateExecutor#findAll(Predicate, Pageable)} returns a {@link Page} at\r\n     * potentially great expense because determining the {@link Page}&#39;s &quot;totalElements&quot; property\r\n     * requires doing a potentially expensive MongoDB &quot;count&quot; operation. We&#39;d prefer a &quot;findAll&quot;-like\r\n     * method that returns a {@link Slice} (which doesn&#39;t have a &quot;totalElements&quot; property) but no such\r\n     * method exists. See {@link #findAll(Predicate, Pageable)} for more details.\r\n     *\r\n     * @see https://github.com/spring-projects/spring-data-commons/issues/1011\r\n     * @see https://stackoverflow.com/questions/37254385/querydsl-springdata-jpa-findall-how-to-avoid-count\r\n     */\r\n    public class MyQueryDslMongoRepository&lt;T, ID extends Serializable&gt; extends QueryDslMongoRepository&lt;T, ID&gt;\r\n                implements MyAbstractRepository&lt;T, ID&gt; {\r\n        private final PathBuilder&lt;T&gt; builder;\r\n        private final EntityInformation&lt;T, ID&gt; entityInformation;\r\n        private final MongoOperations mongoOperations;\r\n    \r\n        public BTQueryDslMongoRepository(MongoEntityInformation&lt;T, ID&gt; entityInformation, MongoOperations mongoOperations) {\r\n            this(entityInformation, mongoOperations, SimpleEntityPathResolver.INSTANCE);\r\n        }\r\n    \r\n        public BTQueryDslMongoRepository(MongoEntityInformation&lt;T, ID&gt; entityInformation, MongoOperations mongoOperations,\r\n                EntityPathResolver resolver) {\r\n            super(entityInformation, mongoOperations, resolver);\r\n            EntityPath&lt;T&gt; path = resolver.createPath(entityInformation.getJavaType());\r\n            this.builder = new PathBuilder&lt;T&gt;(path.getType(), path.getMetadata());\r\n            this.entityInformation = entityInformation;\r\n            this.mongoOperations = mongoOperations;\r\n        }\r\n    \r\n        /**\r\n         * An override of our superclass method to return a fake but cheaper-to-compute {@link Page}\r\n         * that&#39;s adequate for our purposes.\r\n         */\r\n        @Override\r\n        public Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable) {\r\n            int pageSize = pageable.getPageSize();\r\n            SpringDataMongodbQuery&lt;T&gt; query = new SpringDataMongodbQuery&lt;T&gt;(mongoOperations, entityInformation.getJavaType())\r\n                    .where(predicate)\r\n                    .offset(pageable.getOffset())\r\n                    .limit(pageSize + 1);\r\n            applySorting(query, pageable.getSort());\r\n    \r\n            List&lt;T&gt; entities = query.fetch();\r\n    \r\n            int numFetched = entities.size();\r\n            if (numFetched &gt; pageSize) {\r\n                entities.remove(numFetched - 1);\r\n            }\r\n    \r\n            return new PageImpl&lt;T&gt;(entities, pageable, pageable.getOffset() + numFetched);\r\n        }\r\n    \r\n        /**\r\n         * Applies the given {@link Sort} to the given {@link MongodbQuery}.\r\n         * &lt;p&gt;\r\n         * Copied from {@link QueryDslMongoRepository}\r\n         */\r\n        private AbstractMongodbQuery&lt;T, SpringDataMongodbQuery&lt;T&gt;&gt; applySorting(\r\n                AbstractMongodbQuery&lt;T, SpringDataMongodbQuery&lt;T&gt;&gt; query, Sort sort) {\r\n    \r\n            if (sort == null) {\r\n                return query;\r\n            }\r\n    \r\n            // TODO: find better solution than instanceof check\r\n            if (sort instanceof QSort) {\r\n    \r\n                List&lt;OrderSpecifier&lt;?&gt;&gt; orderSpecifiers = ((QSort) sort).getOrderSpecifiers();\r\n                query.orderBy(orderSpecifiers.toArray(new OrderSpecifier&lt;?&gt;[orderSpecifiers.size()]));\r\n    \r\n                return query;\r\n            }\r\n    \r\n            for (Order order : sort) {\r\n                query.orderBy(toOrder(order));\r\n            }\r\n    \r\n            return query;\r\n        }\r\n        /**\r\n         * Transforms a plain {@link Order} into a QueryDsl specific {@link OrderSpecifier}.\r\n         * &lt;p&gt;\r\n         * Copied from {@link QueryDslMongoRepository}\r\n         */\r\n        @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n        private OrderSpecifier&lt;?&gt; toOrder(Order order) {\r\n    \r\n            Expression&lt;Object&gt; property = builder.get(order.getProperty());\r\n    \r\n            return new OrderSpecifier(\r\n                    order.isAscending() ? com.querydsl.core.types.Order.ASC : com.querydsl.core.types.Order.DESC, property);\r\n        }\r\n    }\r\n\r\n    @NoRepositoryBean\r\n    public interface MyAbstractRepository&lt;T, ID extends Serializable&gt; extends Repository&lt;T, ID&gt;,\r\n            QueryDslPredicateExecutor&lt;T&gt; {\r\n    \r\n        @Override\r\n        Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable);\r\n    }\r\n\r\nThe above works for Spring Data MongoDB 1.10.23 but I assume can be modified to be made to work for more modern versions.\r\n\r\n\r\n\r\n\r\n","title":"QueryDsl SpringData Jpa findAll how to avoid count()","body":"<p>In case anyone lands here looking for how to achieve the same affect in Spring Data MongoDB as Ali did above for Spring Data JPA, here's my solution modeled on his:</p>\n<pre><code>import java.io.Serializable;\nimport java.util.List;\n\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Slice;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.domain.Sort.Order;\nimport org.springframework.data.mongodb.core.MongoOperations;\nimport org.springframework.data.mongodb.repository.query.MongoEntityInformation;\nimport org.springframework.data.mongodb.repository.support.QueryDslMongoRepository;\nimport org.springframework.data.mongodb.repository.support.SpringDataMongodbQuery;\nimport org.springframework.data.querydsl.EntityPathResolver;\nimport org.springframework.data.querydsl.QSort;\nimport org.springframework.data.querydsl.QueryDslPredicateExecutor;\nimport org.springframework.data.querydsl.SimpleEntityPathResolver;\nimport org.springframework.data.repository.core.EntityInformation;\n\nimport com.querydsl.core.types.EntityPath;\nimport com.querydsl.core.types.Expression;\nimport com.querydsl.core.types.OrderSpecifier;\nimport com.querydsl.core.types.Predicate;\nimport com.querydsl.core.types.dsl.PathBuilder;\nimport com.querydsl.mongodb.AbstractMongodbQuery;\n\n/**\n * Custom extension of {@link QueryDslMongoRepository} that avoids unnecessary MongoDB &quot;count&quot;\n * operations\n * &lt;p&gt;\n * {@link QueryDslPredicateExecutor#findAll(Predicate, Pageable)} returns a {@link Page} at\n * potentially great expense because determining the {@link Page}'s &quot;totalElements&quot; property\n * requires doing a potentially expensive MongoDB &quot;count&quot; operation. We'd prefer a &quot;findAll&quot;-like\n * method that returns a {@link Slice} (which doesn't have a &quot;totalElements&quot; property) but no such\n * method exists. See {@link #findAll(Predicate, Pageable)} for more details.\n *\n * @see https://github.com/spring-projects/spring-data-commons/issues/1011\n * @see https://stackoverflow.com/questions/37254385/querydsl-springdata-jpa-findall-how-to-avoid-count\n */\npublic class MyQueryDslMongoRepository&lt;T, ID extends Serializable&gt; extends QueryDslMongoRepository&lt;T, ID&gt;\n            implements MyAbstractRepository&lt;T, ID&gt; {\n    private final PathBuilder&lt;T&gt; builder;\n    private final EntityInformation&lt;T, ID&gt; entityInformation;\n    private final MongoOperations mongoOperations;\n\n    public BTQueryDslMongoRepository(MongoEntityInformation&lt;T, ID&gt; entityInformation, MongoOperations mongoOperations) {\n        this(entityInformation, mongoOperations, SimpleEntityPathResolver.INSTANCE);\n    }\n\n    public BTQueryDslMongoRepository(MongoEntityInformation&lt;T, ID&gt; entityInformation, MongoOperations mongoOperations,\n            EntityPathResolver resolver) {\n        super(entityInformation, mongoOperations, resolver);\n        EntityPath&lt;T&gt; path = resolver.createPath(entityInformation.getJavaType());\n        this.builder = new PathBuilder&lt;T&gt;(path.getType(), path.getMetadata());\n        this.entityInformation = entityInformation;\n        this.mongoOperations = mongoOperations;\n    }\n\n    /**\n     * An override of our superclass method to return a fake but cheaper-to-compute {@link Page}\n     * that's adequate for our purposes.\n     */\n    @Override\n    public Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable) {\n        int pageSize = pageable.getPageSize();\n        SpringDataMongodbQuery&lt;T&gt; query = new SpringDataMongodbQuery&lt;T&gt;(mongoOperations, entityInformation.getJavaType())\n                .where(predicate)\n                .offset(pageable.getOffset())\n                .limit(pageSize + 1);\n        applySorting(query, pageable.getSort());\n\n        List&lt;T&gt; entities = query.fetch();\n\n        int numFetched = entities.size();\n        if (numFetched &gt; pageSize) {\n            entities.remove(numFetched - 1);\n        }\n\n        return new PageImpl&lt;T&gt;(entities, pageable, pageable.getOffset() + numFetched);\n    }\n\n    /**\n     * Applies the given {@link Sort} to the given {@link MongodbQuery}.\n     * &lt;p&gt;\n     * Copied from {@link QueryDslMongoRepository}\n     */\n    private AbstractMongodbQuery&lt;T, SpringDataMongodbQuery&lt;T&gt;&gt; applySorting(\n            AbstractMongodbQuery&lt;T, SpringDataMongodbQuery&lt;T&gt;&gt; query, Sort sort) {\n\n        if (sort == null) {\n            return query;\n        }\n\n        // TODO: find better solution than instanceof check\n        if (sort instanceof QSort) {\n\n            List&lt;OrderSpecifier&lt;?&gt;&gt; orderSpecifiers = ((QSort) sort).getOrderSpecifiers();\n            query.orderBy(orderSpecifiers.toArray(new OrderSpecifier&lt;?&gt;[orderSpecifiers.size()]));\n\n            return query;\n        }\n\n        for (Order order : sort) {\n            query.orderBy(toOrder(order));\n        }\n\n        return query;\n    }\n    /**\n     * Transforms a plain {@link Order} into a QueryDsl specific {@link OrderSpecifier}.\n     * &lt;p&gt;\n     * Copied from {@link QueryDslMongoRepository}\n     */\n    @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\n    private OrderSpecifier&lt;?&gt; toOrder(Order order) {\n\n        Expression&lt;Object&gt; property = builder.get(order.getProperty());\n\n        return new OrderSpecifier(\n                order.isAscending() ? com.querydsl.core.types.Order.ASC : com.querydsl.core.types.Order.DESC, property);\n    }\n}\n\n@NoRepositoryBean\npublic interface MyAbstractRepository&lt;T, ID extends Serializable&gt; extends Repository&lt;T, ID&gt;,\n        QueryDslPredicateExecutor&lt;T&gt; {\n\n    @Override\n    Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable);\n}\n</code></pre>\n<p>The above works for Spring Data MongoDB 1.10.23 but I assume can be modified to be made to work for more modern versions.</p>\n"},{"tags":[],"owner":{"account_id":6600634,"reputation":444,"user_id":5099059,"display_name":"KeKru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632843777,"creation_date":1632843381,"answer_id":69364616,"question_id":37254385,"body_markdown":"Based on the answer of Ali Dehghani we build the following for querydsl 4.2.1, because the querydsl syntax changed in the current version 4.x\r\n\r\nRepository Interface:\r\n\r\n```java\r\nimport com.querydsl.core.types.EntityPath;\r\nimport com.querydsl.core.types.Predicate;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Slice;\r\n\r\npublic interface SliceableRepository&lt;T&gt; {\r\n\r\n  Slice&lt;T&gt; findAllSliced(EntityPath&lt;T&gt; entityPath, Predicate predicate, Pageable pageable);\r\n}\r\n```\r\n\r\nRepository Implementation:  \r\n(Must be named &quot;&amp;lt;Interface-Name&amp;gt;Impl&quot;)\r\n\r\n```java\r\nimport com.querydsl.core.types.EntityPath;\r\nimport com.querydsl.core.types.Predicate;\r\nimport com.querydsl.core.types.dsl.PathBuilder;\r\nimport com.querydsl.jpa.JPQLQuery;\r\nimport com.querydsl.jpa.impl.JPAQuery;\r\nimport com.querydsl.jpa.impl.JPAQueryFactory;\r\nimport java.util.List;\r\nimport javax.persistence.EntityManager;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Slice;\r\nimport org.springframework.data.domain.SliceImpl;\r\nimport org.springframework.data.jpa.repository.support.Querydsl;\r\n\r\n\r\npublic class SliceableRepositoryImpl&lt;T&gt; implements SliceableRepository&lt;T&gt; {\r\n\r\n  private final EntityManager entityManager;\r\n  private final JPAQueryFactory jpaQueryFactory;\r\n\r\n  public SliceableRepositoryImpl(EntityManager entityManager) {\r\n    this.entityManager = entityManager;\r\n    this.jpaQueryFactory = new JPAQueryFactory(entityManager);\r\n  }\r\n\r\n  @Override\r\n  public Slice&lt;T&gt; findAllSliced(final EntityPath&lt;T&gt; entityPath, final Predicate predicate,\r\n      final Pageable pageable) {\r\n\r\n    final Querydsl querydsl = new Querydsl(entityManager,\r\n        new PathBuilder&lt;&gt;(entityPath.getType(), entityPath.getMetadata()));\r\n\r\n    final int oneMore = pageable.getPageSize() + 1;\r\n\r\n    final JPAQuery&lt;T&gt; query = this.jpaQueryFactory.selectFrom(entityPath)\r\n        .where(predicate)\r\n        .offset(pageable.getOffset())\r\n        .limit(oneMore);\r\n\r\n    final JPQLQuery&lt;T&gt; querySorted = querydsl.applySorting(pageable.getSort(), query);\r\n\r\n    final List&lt;T&gt; entities = querySorted.fetch();\r\n\r\n    final int size = entities.size();\r\n    // If there was one more result than requested from the pageable,\r\n    // then the slice gets &quot;hasNext&quot;=true\r\n    final boolean hasNext = size &gt; pageable.getPageSize();\r\n    if (hasNext) {\r\n      entities.remove(size - 1);\r\n    }\r\n    return new SliceImpl&lt;&gt;(entities, pageable, hasNext);\r\n  }\r\n}\r\n```\r\n\r\nUse the new repository as fragment in your other repositories:\r\n\r\n```java\r\npublic SomeRepository extends JpaRepository&lt;Some, Long&gt;, SliceableRepository&lt;Some&gt; {\r\n}\r\n```\r\n\r\n`@EnableJpaRepositories(repositoryBaseClass = SliceableRepositoryImpl.class)` is **NOT** needed\r\n\r\nThen use it like:\r\n\r\n```java\r\npublic class MyService {\r\n  @Autowired\r\n  private final SomeRepository someRepository;\r\n\r\n  public void doSomething() {\r\n    Predicate predicate = ...\r\n    Pageable pageable = ...\r\n     // QSome is the generated model class from querydsl\r\n    Slice&lt;Some&gt; result = someRepository.findAllSliced(QSome.some, predicate, pageable);\r\n  }\r\n}\r\n```","title":"QueryDsl SpringData Jpa findAll how to avoid count()","body":"<p>Based on the answer of Ali Dehghani we build the following for querydsl 4.2.1, because the querydsl syntax changed in the current version 4.x</p>\n<p>Repository Interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.querydsl.core.types.EntityPath;\nimport com.querydsl.core.types.Predicate;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Slice;\n\npublic interface SliceableRepository&lt;T&gt; {\n\n  Slice&lt;T&gt; findAllSliced(EntityPath&lt;T&gt; entityPath, Predicate predicate, Pageable pageable);\n}\n</code></pre>\n<p>Repository Implementation:<br />\n(Must be named &quot;&lt;Interface-Name&gt;Impl&quot;)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.querydsl.core.types.EntityPath;\nimport com.querydsl.core.types.Predicate;\nimport com.querydsl.core.types.dsl.PathBuilder;\nimport com.querydsl.jpa.JPQLQuery;\nimport com.querydsl.jpa.impl.JPAQuery;\nimport com.querydsl.jpa.impl.JPAQueryFactory;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Slice;\nimport org.springframework.data.domain.SliceImpl;\nimport org.springframework.data.jpa.repository.support.Querydsl;\n\n\npublic class SliceableRepositoryImpl&lt;T&gt; implements SliceableRepository&lt;T&gt; {\n\n  private final EntityManager entityManager;\n  private final JPAQueryFactory jpaQueryFactory;\n\n  public SliceableRepositoryImpl(EntityManager entityManager) {\n    this.entityManager = entityManager;\n    this.jpaQueryFactory = new JPAQueryFactory(entityManager);\n  }\n\n  @Override\n  public Slice&lt;T&gt; findAllSliced(final EntityPath&lt;T&gt; entityPath, final Predicate predicate,\n      final Pageable pageable) {\n\n    final Querydsl querydsl = new Querydsl(entityManager,\n        new PathBuilder&lt;&gt;(entityPath.getType(), entityPath.getMetadata()));\n\n    final int oneMore = pageable.getPageSize() + 1;\n\n    final JPAQuery&lt;T&gt; query = this.jpaQueryFactory.selectFrom(entityPath)\n        .where(predicate)\n        .offset(pageable.getOffset())\n        .limit(oneMore);\n\n    final JPQLQuery&lt;T&gt; querySorted = querydsl.applySorting(pageable.getSort(), query);\n\n    final List&lt;T&gt; entities = querySorted.fetch();\n\n    final int size = entities.size();\n    // If there was one more result than requested from the pageable,\n    // then the slice gets &quot;hasNext&quot;=true\n    final boolean hasNext = size &gt; pageable.getPageSize();\n    if (hasNext) {\n      entities.remove(size - 1);\n    }\n    return new SliceImpl&lt;&gt;(entities, pageable, hasNext);\n  }\n}\n</code></pre>\n<p>Use the new repository as fragment in your other repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SomeRepository extends JpaRepository&lt;Some, Long&gt;, SliceableRepository&lt;Some&gt; {\n}\n</code></pre>\n<p><code>@EnableJpaRepositories(repositoryBaseClass = SliceableRepositoryImpl.class)</code> is <strong>NOT</strong> needed</p>\n<p>Then use it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n  @Autowired\n  private final SomeRepository someRepository;\n\n  public void doSomething() {\n    Predicate predicate = ...\n    Pageable pageable = ...\n     // QSome is the generated model class from querydsl\n    Slice&lt;Some&gt; result = someRepository.findAllSliced(QSome.some, predicate, pageable);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8432360,"reputation":359,"user_id":6327626,"accept_rate":0,"display_name":"Etantonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6642,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1658850581,"creation_date":1463403199,"question_id":37254385,"body_markdown":"I&#39;m trying to use QueryDSL with Spring Data JPA, I want to use `findAll` with pagination but the count is always performed, also if return type is a `List`.\r\nI don&#39;t need this count because it is really slow and I could loose the benefit of pagination.\r\n\r\nAny solutions for this problem?\r\n\r\nThis is the `count()`, it requires about 30 seconds on MySQL:\r\n  \r\nhttps://stackoverflow.com/questions/37204646/mysql-too-slow-on-simple-query-between-two-tables/37205411#37205411\r\n\r\nIn any case I don&#39;t want repeat the count for each page I require, this information is required just for first call.\r\n\r\n","title":"QueryDsl SpringData Jpa findAll how to avoid count()","body":"<p>I'm trying to use QueryDSL with Spring Data JPA, I want to use <code>findAll</code> with pagination but the count is always performed, also if return type is a <code>List</code>.\nI don't need this count because it is really slow and I could loose the benefit of pagination.</p>\n\n<p>Any solutions for this problem?</p>\n\n<p>This is the <code>count()</code>, it requires about 30 seconds on MySQL:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37204646/mysql-too-slow-on-simple-query-between-two-tables/37205411#37205411\">Mysql too slow on simple query between two tables</a></p>\n\n<p>In any case I don't want repeat the count for each page I require, this information is required just for first call.</p>\n"},{"tags":["java","ssl","amazon-web-services","amazon-s3","jets3t"],"comments":[{"owner":{"account_id":3677100,"reputation":682,"user_id":3062946,"display_name":"user3062946"},"score":0,"creation_date":1413394892,"post_id":26387980,"comment_id":41431014,"body_markdown":"Do you have access to the full stacktrace of the RunTimeException? This could a prime-size problem, like the one illustrated here: http://stackoverflow.com/questions/6851461/java-why-does-ssl-handshake-give-could-not-generate-dh-keypair-exception","body":"Do you have access to the full stacktrace of the RunTimeException? This could a prime-size problem, like the one illustrated here: <a href=\"http://stackoverflow.com/questions/6851461/java-why-does-ssl-handshake-give-could-not-generate-dh-keypair-exception\" title=\"java why does ssl handshake give could not generate dh keypair exception\">stackoverflow.com/questions/6851461/&hellip;</a>"}],"owner":{"account_id":42548,"reputation":11,"user_id":1681534,"display_name":"mcbrooks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658850536,"creation_date":1413392248,"question_id":26387980,"body_markdown":"We are experiencing SSL errors when using the Jets3t library to communicate with S3. \r\n\r\nWe had a similar issue about a year ago with the amazon simple email service that seemed to be caused by amazon upgrading their email servers, which caused SSL connections using `Diffie-Hellman (DH)` ciphers to throw exceptions. We resolved the issue by omitting DH ciphers from the list of accepted ciphers in making SSL connections.\r\n\r\nI have two questions:\r\n\r\n1. Have other users been experiencing these errors?\r\n2. If so, have you been able to resolve them? \r\n\r\nIt seems like users would be able to limit the ciphers used for jes3t SSL connections, but it is not immediately apparent how to do this from reading the [configuration page][1].\r\n\r\nHere is some more relevant information\r\n\r\n- We are using the 0.8.1 release of jets3t, running on Java 7\r\n- We get the following sequence of errors when attempting to retrieve an S3 object:\r\n\r\n        [2014-10-15 09:30:30,102][INFO][HttpMethodDirector:439] I/O exception     (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\r\n        [2014-10-15 09:30:30,103][INFO][HttpMethodDirector:445] Retrying request\r\n        [2014-10-15 09:30:30,112][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not     generate DH keypair\r\n        [2014-10-15 09:30:30,112][INFO][HttpMethodDirector:445] Retrying request\r\n        [2014-10-15 09:30:30,120][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\r\n        [2014-10-15 09:30:30,121][INFO][HttpMethodDirector:445] Retrying request\r\n        [2014-10-15 09:30:30,130][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\r\n        [2014-10-15 09:30:30,130][INFO][HttpMethodDirector:445] Retrying request\r\n        [2014-10-15 09:30:30,140][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\r\n        [2014-10-15 09:30:30,141][INFO][HttpMethodDirector:445] Retrying request\r\n        [2014-10-15 09:30:30,149][ERROR][ReportListServiceImpl:163] Exception retrieving report data, report_id=&quot;4466&quot;, data_source=&quot;S3&quot;\r\n        com.irhythm.algorithmdriver.s3service.exception.S3RetrievalException: Request Error: javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\r\n\r\n\r\nAny information or help would be appreciated.\r\n\r\n  [1]: http://www.jets3t.org/toolkit/configuration.html#jets3t","title":"Experiencing SSLException connecting to AWS S3 with jets3t library","body":"<p>We are experiencing SSL errors when using the Jets3t library to communicate with S3.</p>\n<p>We had a similar issue about a year ago with the amazon simple email service that seemed to be caused by amazon upgrading their email servers, which caused SSL connections using <code>Diffie-Hellman (DH)</code> ciphers to throw exceptions. We resolved the issue by omitting DH ciphers from the list of accepted ciphers in making SSL connections.</p>\n<p>I have two questions:</p>\n<ol>\n<li>Have other users been experiencing these errors?</li>\n<li>If so, have you been able to resolve them?</li>\n</ol>\n<p>It seems like users would be able to limit the ciphers used for jes3t SSL connections, but it is not immediately apparent how to do this from reading the <a href=\"http://www.jets3t.org/toolkit/configuration.html#jets3t\" rel=\"nofollow noreferrer\">configuration page</a>.</p>\n<p>Here is some more relevant information</p>\n<ul>\n<li><p>We are using the 0.8.1 release of jets3t, running on Java 7</p>\n</li>\n<li><p>We get the following sequence of errors when attempting to retrieve an S3 object:</p>\n<pre><code>  [2014-10-15 09:30:30,102][INFO][HttpMethodDirector:439] I/O exception     (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\n  [2014-10-15 09:30:30,103][INFO][HttpMethodDirector:445] Retrying request\n  [2014-10-15 09:30:30,112][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not     generate DH keypair\n  [2014-10-15 09:30:30,112][INFO][HttpMethodDirector:445] Retrying request\n  [2014-10-15 09:30:30,120][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\n  [2014-10-15 09:30:30,121][INFO][HttpMethodDirector:445] Retrying request\n  [2014-10-15 09:30:30,130][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\n  [2014-10-15 09:30:30,130][INFO][HttpMethodDirector:445] Retrying request\n  [2014-10-15 09:30:30,140][INFO][HttpMethodDirector:439] I/O exception (javax.net.ssl.SSLException) caught when processing request: java.lang.RuntimeException: Could not generate DH keypair\n  [2014-10-15 09:30:30,141][INFO][HttpMethodDirector:445] Retrying request\n  [2014-10-15 09:30:30,149][ERROR][ReportListServiceImpl:163] Exception retrieving report data, report_id=&quot;4466&quot;, data_source=&quot;S3&quot;\n  com.irhythm.algorithmdriver.s3service.exception.S3RetrievalException: Request Error: javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\n</code></pre>\n</li>\n</ul>\n<p>Any information or help would be appreciated.</p>\n"},{"tags":["java","diffie-hellman"],"comments":[{"owner":{"account_id":382652,"reputation":13566,"user_id":738017,"accept_rate":94,"display_name":"Vito Gentile"},"score":0,"creation_date":1363629903,"post_id":15483736,"comment_id":21917015,"body_markdown":"Can you post the line where you initialize the Random object used to create Xa?","body":"Can you post the line where you initialize the Random object used to create Xa?"},{"owner":{"account_id":1547713,"reputation":215,"user_id":1440844,"accept_rate":70,"display_name":"Adam Hinx"},"score":0,"creation_date":1363630079,"post_id":15483736,"comment_id":21917090,"body_markdown":"Edited original @VitoShadow - I&#39;ve outputted the random number and it works.","body":"Edited original @VitoShadow - I&#39;ve outputted the random number and it works."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1363631064,"post_id":15483736,"comment_id":21917652,"body_markdown":"You&#39;re probably better off using `BigInteger` and not `int` or `long`...","body":"You&#39;re probably better off using <code>BigInteger</code> and not <code>int</code> or <code>long</code>..."},{"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"score":0,"creation_date":1363631166,"post_id":15483736,"comment_id":21917711,"body_markdown":"What are the values of G and P?  I think you are overflowing double in your exponent and getting infinity resulting in the same result every time.","body":"What are the values of G and P?  I think you are overflowing double in your exponent and getting infinity resulting in the same result every time."},{"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"score":0,"creation_date":1363631511,"post_id":15483736,"comment_id":21917901,"body_markdown":"486^200 will get infinity with doubles, so 486^(random(10000)) will be infinity most of the time, resulting in the same value for your expression (see my answer below).","body":"486^200 will get infinity with doubles, so 486^(random(10000)) will be infinity most of the time, resulting in the same value for your expression (see my answer below)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1363673291,"post_id":15483736,"comment_id":21932713,"body_markdown":"You should certainly be using [javax.crypto.KeyAgreement](http://docs.oracle.com/javase/7/docs/api/javax/crypto/KeyAgreement.html) for this task rather than doing it by hand.","body":"You should certainly be using <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/KeyAgreement.html\" rel=\"nofollow noreferrer\">javax.crypto.KeyAgreement</a> for this task rather than doing it by hand."}],"answers":[{"tags":[],"owner":{"account_id":382652,"reputation":13566,"user_id":738017,"accept_rate":94,"display_name":"Vito Gentile"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363630558,"creation_date":1363630109,"answer_id":15483838,"question_id":15483736,"body_markdown":"The problem is that the `Random` class in Java has a constructor with one `long` argument (called *seed*) that allows you to start the pseudorandom number sequence in a particular way.\r\n\r\nIf you always use the same seed, you will always obtain the same sequence. \r\n\r\nTo solve the problem, try this:\r\n\r\n    Random randomNo = new Random(System.nanoTime());\r\n    int Xa = randomNo.nextInt(10000);\r\n\r\nIn this way, the seed is always different, and the sequence changes everytime you call the above line.","title":"Diffie-Hellman Private Key","body":"<p>The problem is that the <code>Random</code> class in Java has a constructor with one <code>long</code> argument (called <em>seed</em>) that allows you to start the pseudorandom number sequence in a particular way.</p>\n\n<p>If you always use the same seed, you will always obtain the same sequence. </p>\n\n<p>To solve the problem, try this:</p>\n\n<pre><code>Random randomNo = new Random(System.nanoTime());\nint Xa = randomNo.nextInt(10000);\n</code></pre>\n\n<p>In this way, the seed is always different, and the sequence changes everytime you call the above line.</p>\n"},{"tags":[],"owner":{"account_id":1495318,"reputation":615,"user_id":1401409,"accept_rate":75,"display_name":"scharette"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363630383,"creation_date":1363630283,"answer_id":15483889,"question_id":15483736,"body_markdown":"This can only give different results if `Xa` is different. How did you generate the value of `Xa`? Chances are you&#39;ve used a pseudo-random generator that typically need to be seeded. If you take the default seed each time (same seed each time) it will always return the same sequence of random numbers.\r\n\r\nTry seeding your generator with `System.currentTimeMillis();`","title":"Diffie-Hellman Private Key","body":"<p>This can only give different results if <code>Xa</code> is different. How did you generate the value of <code>Xa</code>? Chances are you've used a pseudo-random generator that typically need to be seeded. If you take the default seed each time (same seed each time) it will always return the same sequence of random numbers.</p>\n\n<p>Try seeding your generator with <code>System.currentTimeMillis();</code></p>\n"},{"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1363632793,"creation_date":1363630455,"answer_id":15483941,"question_id":15483736,"body_markdown":"I think the problem may be that you are overflowing double with your exponentiation, resulting in infinity, resulting in the same value every time (unless you are lucky enough to end up with a very low number returned for your exponent).\r\n\r\nAlso, be sure to use secure random to get your random value:\r\n\r\n    Random random = new SecureRandom();\r\n    \r\n    // If you use more than 100 here, then\r\n    // with your value of 486 for G you will\r\n    // end up with infinity when doing Math.pow(G,Xa).\r\n    // Of course, this does not provide enough possible\r\n    // values to be cryptographically secure.\r\n    int Xa = random.nextInt(100);\r\n    int Ya = (int) (Math.pow(G, Xa) % P);\r\n\r\n\r\nEdit:  Code with debugging (the below works for me):\r\n\r\n\tdouble G = 42;\r\n\tint P = 26;\r\n\t\t\r\n\t\t\r\n\tRandom random = new SecureRandom();\r\n\tint Xa = random.nextInt(100);\r\n\tdouble val = Math.pow(G, Xa);\r\n\tSystem.out.println(&quot;Xa: &quot; + Xa);\r\n\tSystem.out.println(&quot;(double) Math.pow: &quot; + val + &quot; (int): &quot; + (int) val);\r\n\tint Ya = (int) (val % P);\r\n\tSystem.out.println(&quot;Ya: &quot; + Ya);\r\n","title":"Diffie-Hellman Private Key","body":"<p>I think the problem may be that you are overflowing double with your exponentiation, resulting in infinity, resulting in the same value every time (unless you are lucky enough to end up with a very low number returned for your exponent).</p>\n\n<p>Also, be sure to use secure random to get your random value:</p>\n\n<pre><code>Random random = new SecureRandom();\n\n// If you use more than 100 here, then\n// with your value of 486 for G you will\n// end up with infinity when doing Math.pow(G,Xa).\n// Of course, this does not provide enough possible\n// values to be cryptographically secure.\nint Xa = random.nextInt(100);\nint Ya = (int) (Math.pow(G, Xa) % P);\n</code></pre>\n\n<p>Edit:  Code with debugging (the below works for me):</p>\n\n<pre><code>double G = 42;\nint P = 26;\n\n\nRandom random = new SecureRandom();\nint Xa = random.nextInt(100);\ndouble val = Math.pow(G, Xa);\nSystem.out.println(\"Xa: \" + Xa);\nSystem.out.println(\"(double) Math.pow: \" + val + \" (int): \" + (int) val);\nint Ya = (int) (val % P);\nSystem.out.println(\"Ya: \" + Ya);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2407234,"reputation":773,"user_id":2103349,"display_name":"2to1mux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658850401,"creation_date":1363631054,"answer_id":15484119,"question_id":15483736,"body_markdown":"Other people seem to have given good answers on the issue with your generation of random numbers, so I&#39;ll respond to your question &quot;Is this correct for Diffie-Hellman?&quot;\r\n\r\nYour understanding of Diffie-Hellman is a bit off I think. For one thing, you keep using the term &#39;private key&#39; as though there is also a &#39;public key&#39;. Diffie-Hellman key exchange is a technique used for exchanging one symmetric key. There isn&#39;t a private key and a public key, there is just a key that both parties are going to use to encrypt their messages. Moreover, you said that this is code for &#39;generating&#39; a key. With Diffie-Hellman, it takes two to tango. This code isn&#39;t enough to generate the final product of the key. You&#39;ll need to send `Ya` to a 2nd party and get something back from that second party to finish the process. See below for more info.\r\n\r\nYour formula for generating `Ya` is correct, assuming that `Xa` is what it is supposed to be. I&#39;m a little concerned about your understanding of what you&#39;re supposed to do with `Xa` because you&#39;re reassigning it to a random value after you&#39;ve generated `Ya`. You will need to hang on to `Xa` in order to create the final version of the key. \r\n\r\nAfter you&#39;ve generated `Ya`, you should be sending that to the other party. The other party will send you back some number in return (let&#39;s call that `R`). In order for you to create the final version of the symmetric key (let&#39;s call it `SK`), you will need to calculate it as \r\n    \r\n    SK = (int)Math.pow(R, Xa) % P;\r\n\r\nSo in a nutshell, don&#39;t recalculate `Xa` after you&#39;ve calculated `Ya`, otherwise you won&#39;t be able to generate the key. The process goes:\r\n\r\n1. Generate `Ya` (I&#39;m just using this variable name because it&#39;s what you used).\r\n2. Send `Ya` to some person.\r\n3. Receive some number from the person you sent `Ya` to (called this number `R` in example above).\r\n4. Calculate what the symmetric-key should be that you&#39;ll be using for encryption using `R`, `Xa`, and `P`. (See formula above for `SK`)","title":"Diffie-Hellman Private Key","body":"<p>Other people seem to have given good answers on the issue with your generation of random numbers, so I'll respond to your question &quot;Is this correct for Diffie-Hellman?&quot;</p>\n<p>Your understanding of Diffie-Hellman is a bit off I think. For one thing, you keep using the term 'private key' as though there is also a 'public key'. Diffie-Hellman key exchange is a technique used for exchanging one symmetric key. There isn't a private key and a public key, there is just a key that both parties are going to use to encrypt their messages. Moreover, you said that this is code for 'generating' a key. With Diffie-Hellman, it takes two to tango. This code isn't enough to generate the final product of the key. You'll need to send <code>Ya</code> to a 2nd party and get something back from that second party to finish the process. See below for more info.</p>\n<p>Your formula for generating <code>Ya</code> is correct, assuming that <code>Xa</code> is what it is supposed to be. I'm a little concerned about your understanding of what you're supposed to do with <code>Xa</code> because you're reassigning it to a random value after you've generated <code>Ya</code>. You will need to hang on to <code>Xa</code> in order to create the final version of the key.</p>\n<p>After you've generated <code>Ya</code>, you should be sending that to the other party. The other party will send you back some number in return (let's call that <code>R</code>). In order for you to create the final version of the symmetric key (let's call it <code>SK</code>), you will need to calculate it as</p>\n<pre><code>SK = (int)Math.pow(R, Xa) % P;\n</code></pre>\n<p>So in a nutshell, don't recalculate <code>Xa</code> after you've calculated <code>Ya</code>, otherwise you won't be able to generate the key. The process goes:</p>\n<ol>\n<li>Generate <code>Ya</code> (I'm just using this variable name because it's what you used).</li>\n<li>Send <code>Ya</code> to some person.</li>\n<li>Receive some number from the person you sent <code>Ya</code> to (called this number <code>R</code> in example above).</li>\n<li>Calculate what the symmetric-key should be that you'll be using for encryption using <code>R</code>, <code>Xa</code>, and <code>P</code>. (See formula above for <code>SK</code>)</li>\n</ol>\n"}],"owner":{"account_id":1547713,"reputation":215,"user_id":1440844,"accept_rate":70,"display_name":"Adam Hinx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15483941,"answer_count":4,"score":4,"last_activity_date":1658850401,"creation_date":1363629759,"question_id":15483736,"body_markdown":"I have the line of code below to generate a private key:\r\n\r\n    int Xa = randomNo.nextInt(10000);\r\n    int Ya = (int) Math.pow(G, Xa) % P;\r\n\r\n\r\n`G` and `P` are static numbers. Whereas `Xa` is randomly generated. Every time I run the program, it gives me the same result for `Ya`. Is this correct for Diffie-Hellman? I thought the private key had to be changed every time the algorithm was run.","title":"Diffie-Hellman Private Key","body":"<p>I have the line of code below to generate a private key:</p>\n\n<pre><code>int Xa = randomNo.nextInt(10000);\nint Ya = (int) Math.pow(G, Xa) % P;\n</code></pre>\n\n<p><code>G</code> and <code>P</code> are static numbers. Whereas <code>Xa</code> is randomly generated. Every time I run the program, it gives me the same result for <code>Ya</code>. Is this correct for Diffie-Hellman? I thought the private key had to be changed every time the algorithm was run.</p>\n"},{"tags":["java","mysql","libgdx"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658844738,"creation_date":1658844077,"answer_id":73124800,"question_id":73124607,"body_markdown":"The Database constructor uses a jdbc:sqlserver: subprotocol for MS-Server, but actually that is added in front of a jdbc:mysql: MySQL database URL. You must modify Database. Also close the PreparedStatement.\r\n\r\n    /** @return the update count. */\r\n    public int save(String username, int points) throws SQLException {\r\n       try (PreparedStatement pst = conn.prepareStatement(&quot;&quot;&quot;\r\n               insert into scores(username, points)\r\n               values(?, ?)\r\n           &quot;&quot;&quot;)) {\r\n           pst.setString(1, username);\r\n           pst.setInt(2, points);\r\n           return pst.executeUpdate();\r\n        } // Closes pst.\r\n    }","title":"I&#39;m trying to connect my java project with db, error No suitable driver found (I use libgdx gradle)","body":"<p>The Database constructor uses a jdbc:sqlserver: subprotocol for MS-Server, but actually that is added in front of a jdbc:mysql: MySQL database URL. You must modify Database. Also close the PreparedStatement.</p>\n<pre><code>/** @return the update count. */\npublic int save(String username, int points) throws SQLException {\n   try (PreparedStatement pst = conn.prepareStatement(&quot;&quot;&quot;\n           insert into scores(username, points)\n           values(?, ?)\n       &quot;&quot;&quot;)) {\n       pst.setString(1, username);\n       pst.setInt(2, points);\n       return pst.executeUpdate();\n    } // Closes pst.\n}\n</code></pre>\n"}],"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658850097,"creation_date":1658843381,"question_id":73124607,"body_markdown":"I am trying to link my project to the db with xampp and phpmyadmin but I get this error:\r\n\r\nNo suitable driver found for jdbc:sqlserver://jdbc:mysql://localhost:3306/test;databaseName=test;user=root;password=\r\n\r\n    package com.mygdx.game.tools;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n\r\n    public class DataBase {\r\n    \r\n        private String url;\r\n        private Connection conn;\r\n    \r\n        public DataBase(String address, String dbname, String dbuser, String password){\r\n           this.url = &quot;jdbc:sqlserver://&quot; + address + &quot;;databaseName=&quot; + dbname + &quot;;user=&quot; + dbuser + &quot;;password=&quot; + password;\r\n           this.conn = null;\r\n        }\r\n    \r\n        public void open() throws SQLException{\r\n           this.conn = DriverManager.getConnection(this.url);\r\n        }\r\n    \r\n        public void close() throws SQLException{\r\n           this.conn.close();\r\n        }\r\n    \r\n        public void save(String username, int points) throws SQLException{\r\n           PreparedStatement pst = this.conn.prepareStatement(&quot;insert into scores(username,points) values(?,?&quot;);\r\n           pst.setString(1, username);\r\n           pst.setInt(2, points);\r\n           pst.executeUpdate();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAnd in my main class:\r\n\r\n    try{\r\n       String url = &quot;jdbc:mysql://localhost:3306/test&quot;;  //Maybe is this the url\r\n       String dbname = &quot;test&quot;;\r\n       String user = &quot;root&quot;;\r\n       String password = &quot;&quot;;\r\n       DataBase db = new DataBase(url,dbname,user,password);\r\n       db.open();\r\n       db.save(textField.getText(),punteggio);\r\n       System.exit(0);\r\n       db.close();\r\n    }catch(SQLException e){\r\n       System.out.println(e.getMessage());\r\n    }","title":"I&#39;m trying to connect my java project with db, error No suitable driver found (I use libgdx gradle)","body":"<p>I am trying to link my project to the db with xampp and phpmyadmin but I get this error:</p>\n<p>No suitable driver found for jdbc:sqlserver://jdbc:mysql://localhost:3306/test;databaseName=test;user=root;password=</p>\n<pre><code>package com.mygdx.game.tools;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\npublic class DataBase {\n\n    private String url;\n    private Connection conn;\n\n    public DataBase(String address, String dbname, String dbuser, String password){\n       this.url = &quot;jdbc:sqlserver://&quot; + address + &quot;;databaseName=&quot; + dbname + &quot;;user=&quot; + dbuser + &quot;;password=&quot; + password;\n       this.conn = null;\n    }\n\n    public void open() throws SQLException{\n       this.conn = DriverManager.getConnection(this.url);\n    }\n\n    public void close() throws SQLException{\n       this.conn.close();\n    }\n\n    public void save(String username, int points) throws SQLException{\n       PreparedStatement pst = this.conn.prepareStatement(&quot;insert into scores(username,points) values(?,?&quot;);\n       pst.setString(1, username);\n       pst.setInt(2, points);\n       pst.executeUpdate();\n    }\n\n}\n</code></pre>\n<p>And in my main class:</p>\n<pre><code>try{\n   String url = &quot;jdbc:mysql://localhost:3306/test&quot;;  //Maybe is this the url\n   String dbname = &quot;test&quot;;\n   String user = &quot;root&quot;;\n   String password = &quot;&quot;;\n   DataBase db = new DataBase(url,dbname,user,password);\n   db.open();\n   db.save(textField.getText(),punteggio);\n   System.exit(0);\n   db.close();\n}catch(SQLException e){\n   System.out.println(e.getMessage());\n}\n</code></pre>\n"},{"tags":["java","pdf","printing"],"comments":[{"owner":{"account_id":4367744,"reputation":76,"user_id":3562918,"accept_rate":45,"display_name":"user3562918"},"score":0,"creation_date":1398247242,"post_id":22199097,"comment_id":35559734,"body_markdown":"try this preference [Here] http://stackoverflow.com/questions/2885173/java-how-to-create-and-write-to-a-file","body":"try this preference [Here] <a href=\"http://stackoverflow.com/questions/2885173/java-how-to-create-and-write-to-a-file\" title=\"java how to create and write to a file\">stackoverflow.com/questions/2885173/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4362555,"reputation":25,"user_id":3559165,"display_name":"alkaliexce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398169367,"creation_date":1398169367,"answer_id":23219448,"question_id":22199097,"body_markdown":"Might wanna take a look at your printer&#39;s capability to print pdf. I tried and had silence as well. Tend i found that the docflavors supported by my specific printer did not include pdf. Before anything you should try printing a image file and checking if its still silence.\r\n\r\nSecondly, I know for a fact that theres a printDialog method in the PrinterJob lib if you ever wanna try using that for a change. That brings up your requested dialog box, not too sure about docprintjob though.","title":"Cannot print to PDF printer from Java","body":"<p>Might wanna take a look at your printer's capability to print pdf. I tried and had silence as well. Tend i found that the docflavors supported by my specific printer did not include pdf. Before anything you should try printing a image file and checking if its still silence.</p>\n\n<p>Secondly, I know for a fact that theres a printDialog method in the PrinterJob lib if you ever wanna try using that for a change. That brings up your requested dialog box, not too sure about docprintjob though.</p>\n"}],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658849807,"creation_date":1394025913,"question_id":22199097,"body_markdown":"I want to print the string `&quot;Hello world&quot;` to PDF. This is my code:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.InputStream;\r\n    \r\n    import javax.print.Doc;\r\n    import javax.print.DocFlavor;\r\n    import javax.print.DocPrintJob;\r\n    import javax.print.PrintService;\r\n    import javax.print.PrintServiceLookup;\r\n    import javax.print.ServiceUI;\r\n    import javax.print.SimpleDoc;\r\n    import javax.print.attribute.HashPrintRequestAttributeSet;\r\n    import javax.print.attribute.PrintRequestAttributeSet;\r\n    import javax.print.event.PrintJobAdapter;\r\n    import javax.print.event.PrintJobEvent;\r\n\r\n    public class App {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;\r\n    \r\n            PrintService[] services = PrintServiceLookup.lookupPrintServices(flavor, null);\r\n    \r\n            PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();\r\n            PrintService service = ServiceUI.printDialog(null, 200, 200, services, null, flavor, pras);\r\n    \r\n            // prints the famous hello world! plus a form feed\r\n            InputStream is = new ByteArrayInputStream(&quot;hello world!\\f&quot;.getBytes(&quot;UTF8&quot;));\r\n    \r\n            Doc doc = new SimpleDoc(is, flavor, null);\r\n            DocPrintJob job = service.createPrintJob();\r\n    \r\n            job.print(doc, pras);\r\n        }\r\n    }\r\n\r\nWhen the &#39;Print&#39; dialog is shown I select &quot;Foxit Reader PDF Printer&quot;. The print job seems to be submitted, but I don&#39;t know where to find the printed PDF file. In theory, the printer should ask about the location of the PDF file (because when printing from Paint and Notepad it asks). But there are no dialogs. The job is silent.\r\n\r\nHow to make my code show the standard Windows &quot;Save as&quot; dialog when printing to PDF?","title":"Cannot print to PDF printer from Java","body":"<p>I want to print the string <code>&quot;Hello world&quot;</code> to PDF. This is my code:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.InputStream;\n\nimport javax.print.Doc;\nimport javax.print.DocFlavor;\nimport javax.print.DocPrintJob;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.ServiceUI;\nimport javax.print.SimpleDoc;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.print.event.PrintJobAdapter;\nimport javax.print.event.PrintJobEvent;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;\n\n        PrintService[] services = PrintServiceLookup.lookupPrintServices(flavor, null);\n\n        PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();\n        PrintService service = ServiceUI.printDialog(null, 200, 200, services, null, flavor, pras);\n\n        // prints the famous hello world! plus a form feed\n        InputStream is = new ByteArrayInputStream(&quot;hello world!\\f&quot;.getBytes(&quot;UTF8&quot;));\n\n        Doc doc = new SimpleDoc(is, flavor, null);\n        DocPrintJob job = service.createPrintJob();\n\n        job.print(doc, pras);\n    }\n}\n</code></pre>\n<p>When the 'Print' dialog is shown I select &quot;Foxit Reader PDF Printer&quot;. The print job seems to be submitted, but I don't know where to find the printed PDF file. In theory, the printer should ask about the location of the PDF file (because when printing from Paint and Notepad it asks). But there are no dialogs. The job is silent.</p>\n<p>How to make my code show the standard Windows &quot;Save as&quot; dialog when printing to PDF?</p>\n"},{"tags":["java","android","main-activity"],"answers":[{"tags":[],"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530655000,"creation_date":1530655000,"answer_id":51163299,"question_id":51163122,"body_markdown":"You have to `finish()` the **first activity** while starting the **second activity**, \r\n\r\n    startActivity(new Intent(FirstActivity.this, SecondActivity.class));\r\n    finish();\r\n\r\nand when the video play is completed in the second activity you have to call `onBackPressed()`\r\n\r\n    videoview.setVideoURI(uri);\r\n    videoview.start();\r\n    videoview.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n        @Override\r\n        public void onCompletion(MediaPlayer mediaPlayer) {\r\n            onBackPressed();\r\n        }\r\n    });\r\n\r\nand you don&#39;t have to call `FinishVideo()` method, you can    set `setOnCompletionListener` in `playvideo()` method itself\r\n\r\n","title":"activity that plays video and exit app when video is finished","body":"<p>You have to <code>finish()</code> the <strong>first activity</strong> while starting the <strong>second activity</strong>, </p>\n\n<pre><code>startActivity(new Intent(FirstActivity.this, SecondActivity.class));\nfinish();\n</code></pre>\n\n<p>and when the video play is completed in the second activity you have to call <code>onBackPressed()</code></p>\n\n<pre><code>videoview.setVideoURI(uri);\nvideoview.start();\nvideoview.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n    @Override\n    public void onCompletion(MediaPlayer mediaPlayer) {\n        onBackPressed();\n    }\n});\n</code></pre>\n\n<p>and you don't have to call <code>FinishVideo()</code> method, you can    set <code>setOnCompletionListener</code> in <code>playvideo()</code> method itself</p>\n"},{"tags":[],"owner":{"account_id":15735948,"reputation":31,"user_id":11354897,"display_name":"Sarmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658849758,"creation_date":1658849758,"answer_id":73126201,"question_id":51163122,"body_markdown":"try this, it works for me, and you do not need to add `finish();` function it will close the app if the FirstActivity is the MainActivity\r\n\r\n    Intent intent = new Intent(FirstActivity.this, SecondActivity.class);\r\n    startActivity(intent);\r\n\r\nand in Second Activity add this\r\n\r\n    videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                @Override\r\n                public void onCompletion(MediaPlayer mediaPlayer) {\r\n                    onBackPressed();\r\n                }\r\n            });","title":"activity that plays video and exit app when video is finished","body":"<p>try this, it works for me, and you do not need to add <code>finish();</code> function it will close the app if the FirstActivity is the MainActivity</p>\n<pre><code>Intent intent = new Intent(FirstActivity.this, SecondActivity.class);\nstartActivity(intent);\n</code></pre>\n<p>and in Second Activity add this</p>\n<pre><code>videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n                onBackPressed();\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":12503216,"reputation":11,"user_id":9100950,"display_name":"J.Edwardes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658849758,"creation_date":1530653946,"question_id":51163122,"body_markdown":"For the last 18 Months I have been building simple apps in android studio and I am really stuck trying to work this out so any help would be great  \r\n\r\nSo far my app works great, open the app on the first activity and press the play button and the 2nd activity opens and plays the video, at the end of the video it returns back to the first activity, but I am trying to exit the app  \r\n\r\nguessing I should be able to add something like  \r\n   \r\n\r\n    public void onCompletion(MediaPlayer player) {      \r\n    onStop();\r\n    onDestroy();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n \r\n\r\n     public class PlayVideo extends Activity {\r\n    \r\n        boolean videoPlayed ;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_play_video);\r\n    \r\n    \r\n            View decorView = getWindow().getDecorView();\r\n            decorView.setSystemUiVisibility(\r\n                            View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\r\n                            View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION |\r\n                            View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN |\r\n                            View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\r\n                            View.SYSTEM_UI_FLAG_FULLSCREEN |\r\n                            View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n            );\r\n    \r\n            videoPlayed = true;\r\n            playvideo();\r\n            FinishVideo();\r\n       }\r\n    \r\n        public void playvideo() {\r\n    \r\n    \r\n            VideoView videoview = (VideoView) findViewById(R.id.videoview);\r\n            Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() \r\n            + &quot;/&quot;+ R.raw.sound_2);\r\n            videoview.setVideoURI(uri);\r\n            videoview.start();\r\n        }\r\n    \r\n        public void FinishVideo() {\r\n            VideoView videoView = (VideoView) findViewById(R.id.videoview);\r\n                 videoView.setOnCompletionListener\r\n        (newMediaPlayer.OnCompletionListener() {\r\n                public void onCompletion(MediaPlayer player) {\r\n    \r\n                    //Log.i(&quot;VideoView&quot;, &quot;onCompletion()&quot;);\r\n                    //Intent intent = new  Intent\r\n        (PlayVideo.this,MainActivity.class);\r\n                    //startActivity(intent);\r\n                    System.exit(0);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n          }\r\n      }\r\n    \r\n    ----------------------------------------------------------------------------\r\n    \r\n     &lt;RelativeLayout xmlns:android=\r\n      &quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.PlayVideo&quot;&gt;\r\n    \r\n    \r\n        &lt;VideoView\r\n            android:id=&quot;@+id/videoview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            /&gt;\r\n    \r\n     &lt;/RelativeLayout&gt;","title":"activity that plays video and exit app when video is finished","body":"<p>For the last 18 Months I have been building simple apps in android studio and I am really stuck trying to work this out so any help would be great  </p>\n\n<p>So far my app works great, open the app on the first activity and press the play button and the 2nd activity opens and plays the video, at the end of the video it returns back to the first activity, but I am trying to exit the app  </p>\n\n<p>guessing I should be able to add something like  </p>\n\n<pre><code>public void onCompletion(MediaPlayer player) {      \nonStop();\nonDestroy();\n\n}\n\n\n\n\n\n\n public class PlayVideo extends Activity {\n\n    boolean videoPlayed ;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_play_video);\n\n\n        View decorView = getWindow().getDecorView();\n        decorView.setSystemUiVisibility(\n                        View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\n                        View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION |\n                        View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN |\n                        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\n                        View.SYSTEM_UI_FLAG_FULLSCREEN |\n                        View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n        );\n\n        videoPlayed = true;\n        playvideo();\n        FinishVideo();\n   }\n\n    public void playvideo() {\n\n\n        VideoView videoview = (VideoView) findViewById(R.id.videoview);\n        Uri uri = Uri.parse(\"android.resource://\" + getPackageName() \n        + \"/\"+ R.raw.sound_2);\n        videoview.setVideoURI(uri);\n        videoview.start();\n    }\n\n    public void FinishVideo() {\n        VideoView videoView = (VideoView) findViewById(R.id.videoview);\n             videoView.setOnCompletionListener\n    (newMediaPlayer.OnCompletionListener() {\n            public void onCompletion(MediaPlayer player) {\n\n                //Log.i(\"VideoView\", \"onCompletion()\");\n                //Intent intent = new  Intent\n    (PlayVideo.this,MainActivity.class);\n                //startActivity(intent);\n                System.exit(0);\n\n            }\n        });\n\n\n      }\n  }\n\n----------------------------------------------------------------------------\n\n &lt;RelativeLayout xmlns:android=\n  \"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".PlayVideo\"&gt;\n\n\n    &lt;VideoView\n        android:id=\"@+id/videoview\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentTop=\"true\"\n        /&gt;\n\n &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1454970828,"post_id":35280503,"comment_id":58272769,"body_markdown":"Your approach cannot work as it stands, because a shift of +7 or more will shift some uppercase letters into the the range of lowercase letters.  I suggest checking before shifting whether the letter is in the uppercase range.  If so, convert to lowercase, transform, and convert the result back.  Otherwise, just convert as you already do.","body":"Your approach cannot work as it stands, because a shift of +7 or more will shift some uppercase letters into the the range of lowercase letters.  I suggest checking before shifting whether the letter is in the uppercase range.  If so, convert to lowercase, transform, and convert the result back.  Otherwise, just convert as you already do."},{"owner":{"account_id":7716895,"reputation":5,"user_id":5844343,"display_name":"calvin phung"},"score":0,"creation_date":1454971261,"post_id":35280503,"comment_id":58272969,"body_markdown":"That does make sense, thank you john!","body":"That does make sense, thank you john!"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658849753,"creation_date":1454972797,"answer_id":35281060,"question_id":35280503,"body_markdown":"Let&#39;s implement a wrap-around function for a single character. This will be used by the other method. When you separate your tasks and sub-tasks wisely, you will observe that your problem becomes easier to solve. Here I have based my solution on the fact that `char` variables are represented as numbers, we know the number of letters and we can use that number as a modulo class, to make sure that algebra is aiding us.\r\n\r\n    private static char wrapChar(char input, int amount) {\r\n        //assume for now that we have an upper-case letter\r\n        char start = &#39;A&#39;;\r\n        //if the assumption is mistaken...\r\n        if ((&#39;a&#39; &lt;= input) &amp;&amp; (input &lt;= &#39;z&#39;)) {\r\n            //then, if it is lower-case, then use lower-case\r\n            start = &#39;a&#39;;\r\n        } else if (!((&#39;A&#39; &lt;= input) &amp;&amp; (input &lt;= &#39;Z&#39;))) {\r\n            //target is not letter\r\n            return input;\r\n        }\r\n        //Calculate total offset compared to the first letter of the alphabet\r\n        //be it lower or upper\r\n        int offset = ((input - start) + amount) % 26;\r\n        //If offset happens to be negative, then shift a modulo period of 26\r\n        //To get the correct positive offset\r\n        if (offset &lt; 0) {\r\n            offset += 26;\r\n        }\r\n        //Add the final offset to start and convert it to char\r\n        return ((char)(start + offset));\r\n    }\r\n\r\nNow, instead of\r\n\r\n        //apply the shift to each character\r\n        strChars[i] += numShift;\r\n\r\n        //wrap around if the shift is beyond Z\r\n        **if(strChars[i] &gt; &#39;z&#39;) \r\n            {\r\n            strChars[i] -= &#39;z&#39;;\r\n            strChars[i] += (&#39;a&#39; - 1);         \r\n            }**\r\n\r\nYou need just:\r\n\r\n    strChars[i] = wrapChar(strChars[i], numShift);\r\n\r\n\r\n\r\n","title":"Caesar Cipher Uppercase and Lowercase Wrap Around","body":"<p>Let's implement a wrap-around function for a single character. This will be used by the other method. When you separate your tasks and sub-tasks wisely, you will observe that your problem becomes easier to solve. Here I have based my solution on the fact that <code>char</code> variables are represented as numbers, we know the number of letters and we can use that number as a modulo class, to make sure that algebra is aiding us.</p>\n<pre><code>private static char wrapChar(char input, int amount) {\n    //assume for now that we have an upper-case letter\n    char start = 'A';\n    //if the assumption is mistaken...\n    if (('a' &lt;= input) &amp;&amp; (input &lt;= 'z')) {\n        //then, if it is lower-case, then use lower-case\n        start = 'a';\n    } else if (!(('A' &lt;= input) &amp;&amp; (input &lt;= 'Z'))) {\n        //target is not letter\n        return input;\n    }\n    //Calculate total offset compared to the first letter of the alphabet\n    //be it lower or upper\n    int offset = ((input - start) + amount) % 26;\n    //If offset happens to be negative, then shift a modulo period of 26\n    //To get the correct positive offset\n    if (offset &lt; 0) {\n        offset += 26;\n    }\n    //Add the final offset to start and convert it to char\n    return ((char)(start + offset));\n}\n</code></pre>\n<p>Now, instead of</p>\n<pre><code>    //apply the shift to each character\n    strChars[i] += numShift;\n\n    //wrap around if the shift is beyond Z\n    **if(strChars[i] &gt; 'z') \n        {\n        strChars[i] -= 'z';\n        strChars[i] += ('a' - 1);         \n        }**\n</code></pre>\n<p>You need just:</p>\n<pre><code>strChars[i] = wrapChar(strChars[i], numShift);\n</code></pre>\n"}],"owner":{"account_id":7716895,"reputation":5,"user_id":5844343,"display_name":"calvin phung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35281060,"answer_count":1,"score":0,"last_activity_date":1658849753,"creation_date":1454970154,"question_id":35280503,"body_markdown":"I am having a problem regarding wrapping around the alphabet with my Caesar Cipher Program.\r\n\r\nThe program works fine with all lowercase letters. Wraps around perfectly and is able to apply positive and negative shifts. When i try to input an uppercase letter, the uppercase letter does not wrap around.\r\n\r\nHere is my code:\r\n\r\n\tpublic static StringBuilder encode(String str, int numShift)\r\n\t{\r\n\r\n\t\tnumShift = numShift % 26;\r\n\r\n\t\t//assign each character of the string to a position in the character array\r\n\t\tchar[] strChars = str.toCharArray();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; strChars.length; i++)\r\n\t\t\t{\r\n\t\t\t\t//ignore and continue if the character is not within the alphabet\r\n\t\t\t\tif((strChars[i] &lt; &#39;a&#39; || strChars[i] &gt; &#39;z&#39;) &amp;&amp; (strChars[i]&lt;&#39;A&#39; || strChars[i] &gt; &#39;Z&#39;)) \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\t//apply the shift to each character\r\n\t\t\t\tstrChars[i] += numShift;\r\n\t\t\t\t\r\n\t\t\t\t//wrap around if the shift is beyond Z\r\n\t\t\t\t**if(strChars[i] &gt; &#39;z&#39;) \r\n\t\t\t\t\t{\r\n\t\t\t\t\tstrChars[i] -= &#39;z&#39;;\r\n\t\t\t\t\tstrChars[i] += (&#39;a&#39; - 1);         \r\n\t\t            }**\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\tStringBuilder encodedStr = new StringBuilder();\r\n\t\t\r\n\t\tencodedStr.append(strChars);\r\n\t\t\r\n\t\treturn encodedStr;\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic static void init(){\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter the string that you would like to  encode:&quot;);\r\n\t\tString str = scan.nextLine();\r\n\t\tSystem.out.println(&quot;Please enter the number of letters you would like to shift:&quot;);\r\n\t\tint strShift = scan.nextInt();\r\n\t\tscan.close();\r\n\r\n\t\tStringBuilder result = encode(str, strShift);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t\tinit();\r\n\t}\r\n}\r\n\r\nHints would be much appreciated! Of course, I am not asking anyone to do my work for me but some help would be appreciated! Thank you! :)\r\n\r\nEdit: here&#39;s the if statement that does the wrap around for lowercase letters only: \r\n\r\n    if(strChars[i] &gt; &#39;z&#39;) \r\n\t{\r\n\t strChars[i] -= &#39;z&#39;;\r\n\t strChars[i] += (&#39;a&#39; - 1);         \r\n    }","title":"Caesar Cipher Uppercase and Lowercase Wrap Around","body":"<p>I am having a problem regarding wrapping around the alphabet with my Caesar Cipher Program.</p>\n\n<p>The program works fine with all lowercase letters. Wraps around perfectly and is able to apply positive and negative shifts. When i try to input an uppercase letter, the uppercase letter does not wrap around.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static StringBuilder encode(String str, int numShift)\n{\n\n    numShift = numShift % 26;\n\n    //assign each character of the string to a position in the character array\n    char[] strChars = str.toCharArray();\n\n    for (int i = 0; i &lt; strChars.length; i++)\n        {\n            //ignore and continue if the character is not within the alphabet\n            if((strChars[i] &lt; 'a' || strChars[i] &gt; 'z') &amp;&amp; (strChars[i]&lt;'A' || strChars[i] &gt; 'Z')) \n                continue;\n\n            //apply the shift to each character\n            strChars[i] += numShift;\n\n            //wrap around if the shift is beyond Z\n            **if(strChars[i] &gt; 'z') \n                {\n                strChars[i] -= 'z';\n                strChars[i] += ('a' - 1);         \n                }**\n\n        }\n\n    StringBuilder encodedStr = new StringBuilder();\n\n    encodedStr.append(strChars);\n\n    return encodedStr;\n\n\n}\npublic static void init(){\n    Scanner scan = new Scanner(System.in);\n    System.out.println(\"Please enter the string that you would like to  encode:\");\n    String str = scan.nextLine();\n    System.out.println(\"Please enter the number of letters you would like to shift:\");\n    int strShift = scan.nextInt();\n    scan.close();\n\n    StringBuilder result = encode(str, strShift);\n    System.out.println(result);\n}\npublic static void main(String[] args)\n{\n        init();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hints would be much appreciated! Of course, I am not asking anyone to do my work for me but some help would be appreciated! Thank you! :)</p>\n\n<p>Edit: here's the if statement that does the wrap around for lowercase letters only: </p>\n\n<pre><code>if(strChars[i] &gt; 'z') \n{\n strChars[i] -= 'z';\n strChars[i] += ('a' - 1);         \n}\n</code></pre>\n"},{"tags":["java","microservices","netflix-eureka","service-discovery"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658849634,"creation_date":1658651750,"answer_id":73096866,"question_id":73094969,"body_markdown":"Discovery service such as `Eureka` is used for registry purpose so that client can get the address from the registry prior to making a call to the service so if your architecture fits the model where a client based load balancer is favored, Eureka can be a best fit for that. It&#39;s norm in microservices that each service can have multiple instances running at a moment for handling the load.\r\n\r\n&gt; why can’t we just store all the urls in the config server as\r\n&gt; properties?\r\n\r\nIf you put the address of the services in the property file of `config server`, how you&#39;ll register the address of another instance of the same service at run time and make a call to it. For scalability purpose you need to run more than one instance of service, so it is necessary to have discovery service where ***varying number (1...N)*** of instances of individual service get them registered and make themselves available to the clients with the help of discovery service. Of course, you&#39;ve to use some orchestration service such as `Kubernetes` to handle how many instances you want to run for the service. \r\n","title":"Purpose of Service Discovery such as Eureka","body":"<p>Discovery service such as <code>Eureka</code> is used for registry purpose so that client can get the address from the registry prior to making a call to the service so if your architecture fits the model where a client based load balancer is favored, Eureka can be a best fit for that. It's norm in microservices that each service can have multiple instances running at a moment for handling the load.</p>\n<blockquote>\n<p>why can’t we just store all the urls in the config server as\nproperties?</p>\n</blockquote>\n<p>If you put the address of the services in the property file of <code>config server</code>, how you'll register the address of another instance of the same service at run time and make a call to it. For scalability purpose you need to run more than one instance of service, so it is necessary to have discovery service where <em><strong>varying number (1...N)</strong></em> of instances of individual service get them registered and make themselves available to the clients with the help of discovery service. Of course, you've to use some orchestration service such as <code>Kubernetes</code> to handle how many instances you want to run for the service.</p>\n"},{"tags":[],"owner":{"account_id":8226798,"reputation":614,"user_id":6188863,"display_name":"Ross G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658665908,"creation_date":1658665908,"answer_id":73098423,"question_id":73094969,"body_markdown":"In your example of putting a URL into a config, clients still needs to do discovery to find other micro services . In this case DNS is acting like a discovery service by converting URLs into IP Addresses (to the load balancer).\r\n\r\nusing a load balancer as state is &quot;server side load balancing&quot; in which a consumer sends a message to the load balancer and the load balancer sends it to the appropriate back end, in this example the load balancer can become a bottle neck on a very busy service.\r\n\r\nAn alternative is that the clients do their own load balancing by having a list of instances and choosing which ones to send it to based on reports of how busy certain instances are.\r\n\r\nBoth of these solutions have strengths and weaknesses, but a discovery service such as Eureka are required for the client side load balancing approach.\r\n\r\nServices such as eureka often have other nice non-technical advantages, which DNS does not.\r\n\r\n - The ability to record metadata against a service such as, which team in the company owns it, what it does.\r\n - A central place to look up services when you are developing a new service.\r\n - Some discovery services can track which services are looking up other services making it easy to do dependency analysis to work out what might break if a service is changed.\r\n\r\nIf the load balancer/DNS approach is working for you, a dedicated discovery service like Eureka might not fit your architecture.\r\n","title":"Purpose of Service Discovery such as Eureka","body":"<p>In your example of putting a URL into a config, clients still needs to do discovery to find other micro services . In this case DNS is acting like a discovery service by converting URLs into IP Addresses (to the load balancer).</p>\n<p>using a load balancer as state is &quot;server side load balancing&quot; in which a consumer sends a message to the load balancer and the load balancer sends it to the appropriate back end, in this example the load balancer can become a bottle neck on a very busy service.</p>\n<p>An alternative is that the clients do their own load balancing by having a list of instances and choosing which ones to send it to based on reports of how busy certain instances are.</p>\n<p>Both of these solutions have strengths and weaknesses, but a discovery service such as Eureka are required for the client side load balancing approach.</p>\n<p>Services such as eureka often have other nice non-technical advantages, which DNS does not.</p>\n<ul>\n<li>The ability to record metadata against a service such as, which team in the company owns it, what it does.</li>\n<li>A central place to look up services when you are developing a new service.</li>\n<li>Some discovery services can track which services are looking up other services making it easy to do dependency analysis to work out what might break if a service is changed.</li>\n</ul>\n<p>If the load balancer/DNS approach is working for you, a dedicated discovery service like Eureka might not fit your architecture.</p>\n"}],"owner":{"account_id":15060836,"reputation":106,"user_id":10869670,"display_name":"user10869670"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658849634,"creation_date":1658621295,"question_id":73094969,"body_markdown":"I don’t understand the reasoning behind service discovery tools. I understand they are used so micro services can connect but why can’t we just store all the urls/load balancers in the config server as properties? Looking for some explanation for eureka over property file with the micro service urls.\r\n\r\nThanks \r\n","title":"Purpose of Service Discovery such as Eureka","body":"<p>I don’t understand the reasoning behind service discovery tools. I understand they are used so micro services can connect but why can’t we just store all the urls/load balancers in the config server as properties? Looking for some explanation for eureka over property file with the micro service urls.</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":3,"creation_date":1658845838,"post_id":73125220,"comment_id":129150110,"body_markdown":"Please include actual code in a [REPREX]","body":"Please include actual code in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1658846908,"post_id":73125220,"comment_id":129150632,"body_markdown":"Jenkins sets some environment variables like JOB_NAME or BUILD_URL when executing the jobs. Maybe you can get it from there?","body":"Jenkins sets some environment variables like JOB_NAME or BUILD_URL when executing the jobs. Maybe you can get it from there?"}],"owner":{"account_id":3884549,"reputation":11,"user_id":3216284,"display_name":"MikeyCarter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658849620,"creation_date":1658845725,"question_id":73125220,"body_markdown":"My challenge.   I have a class that is being accessed by third-party code, and I want to audit what&#39;s calling it.   To do this I need to access the object or at least the data of the calling objects.  Class name from the stack trace isn&#39;t far enough. \r\n\r\nThe real example:\r\n\r\nI&#39;ve extended the BaseStandardCredentials class from Jenkins.   I want to audit the `public Secret getPassword()` method.   But to audit, I need the job details.   Anyone using the more normal methods is audited elsewhere. But there are a few plugins/shared pipeline code which pull all credentials from the system, effectively hiding the job involved, and just cherry-pick the credential they need (http_request is the main culprit but there are others)\r\n\r\nMy basic thought is to audit the `getPassword()` function as that&#39;s exactly who/what is getting the data.  I can see in the stack trace the calling methods but that&#39;s no good if I can&#39;t get the job name/number from one of the execution objects.\r\n\r\nAny way to do this? Or any way to at least tag the object in a way it shows up in a stack trace?","title":"Need to access method/data from calling java methods","body":"<p>My challenge.   I have a class that is being accessed by third-party code, and I want to audit what's calling it.   To do this I need to access the object or at least the data of the calling objects.  Class name from the stack trace isn't far enough.</p>\n<p>The real example:</p>\n<p>I've extended the BaseStandardCredentials class from Jenkins.   I want to audit the <code>public Secret getPassword()</code> method.   But to audit, I need the job details.   Anyone using the more normal methods is audited elsewhere. But there are a few plugins/shared pipeline code which pull all credentials from the system, effectively hiding the job involved, and just cherry-pick the credential they need (http_request is the main culprit but there are others)</p>\n<p>My basic thought is to audit the <code>getPassword()</code> function as that's exactly who/what is getting the data.  I can see in the stack trace the calling methods but that's no good if I can't get the job name/number from one of the execution objects.</p>\n<p>Any way to do this? Or any way to at least tag the object in a way it shows up in a stack trace?</p>\n"},{"tags":["java","jvm","apache-kafka"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1527238010,"post_id":50524643,"comment_id":88062023,"body_markdown":"yes you can, have a look on how it is done in `/bin/kafka-server-start.sh`","body":"yes you can, have a look on how it is done in <code>&#47;bin&#47;kafka-server-start.sh</code>"}],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658849562,"creation_date":1527239110,"answer_id":50525444,"question_id":50524643,"body_markdown":"As you mentioned, `-Xmx8G -Xms8G` should be set using `KAFKA_HEAP_OPTS`.\r\n\r\nFor the other configurations you listed, you should probably use `KAFKA_JVM_PERFORMANCE_OPTS`.\r\n\r\nI&#39;m not aware of a place where all the supported environment variables are clearly described. The best is to check the [`kafka-run-class.sh`][1] tool, as it is called by all the tools, including `kafka-server-start.sh`.\r\n\r\nFor example:\r\n\r\n- `KAFKA_HEAP_OPTS` is used here: https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh#L273-L276\r\n\r\n- `KAFKA_JVM_PERFORMANCE_OPTS` is used here https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh#L278-L282\r\n\r\n  [1]: https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh","title":"Kafka Best Practices + how to set recommended setting for JVM","body":"<p>As you mentioned, <code>-Xmx8G -Xms8G</code> should be set using <code>KAFKA_HEAP_OPTS</code>.</p>\n<p>For the other configurations you listed, you should probably use <code>KAFKA_JVM_PERFORMANCE_OPTS</code>.</p>\n<p>I'm not aware of a place where all the supported environment variables are clearly described. The best is to check the <a href=\"https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh\" rel=\"nofollow noreferrer\"><code>kafka-run-class.sh</code></a> tool, as it is called by all the tools, including <code>kafka-server-start.sh</code>.</p>\n<p>For example:</p>\n<ul>\n<li><p><code>KAFKA_HEAP_OPTS</code> is used here: <a href=\"https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh#L273-L276\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh#L273-L276</a></p>\n</li>\n<li><p><code>KAFKA_JVM_PERFORMANCE_OPTS</code> is used here <a href=\"https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh#L278-L282\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/a63f464f5ec28cc4891b1b356355f4a0f08bb991/bin/kafka-run-class.sh#L278-L282</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1527249205,"creation_date":1527249205,"answer_id":50528622,"question_id":50524643,"body_markdown":"you can check `kafka-run-class.sh`, here you can see what env variables kafka uses to start the java process:\r\n\r\n - `$KAFKA_HEAP_OPTS`\r\n - `$KAFKA_JVM_PERFORMANCE_OPTS`\r\n - `$KAFKA_GC_LOG_OPTS`\r\n - `$KAFKA_JMX_OPTS`\r\n - `$KAFKA_LOG4J_OPTS`\r\n\r\nand then it run the java application passing them:\r\n\r\n`nohup $JAVA $KAFKA_HEAP_OPTS $KAFKA_JVM_PERFORMANCE_OPTS $KAFKA_GC_LOG_OPTS $KAFKA_JMX_OPTS $KAFKA_LOG4J_OPTS....`\r\n\r\nbasically the content of the env variables are just appended as is to the command, it does not really matter where you put the settings as soon as the jvm parameters are in the correct order.\r\n\r\nSo, you can simply change `$KAFKA_HEAP_OPTS` however to keep the variable names consistent with their content I would put `-Xmx8g -Xms8g` in `KAFKA_HEAP_OPTS` and the remaining optimization to `KAFKA_JVM_PERFORMANCE_OPTS`.","title":"Kafka Best Practices + how to set recommended setting for JVM","body":"<p>you can check <code>kafka-run-class.sh</code>, here you can see what env variables kafka uses to start the java process:</p>\n\n<ul>\n<li><code>$KAFKA_HEAP_OPTS</code></li>\n<li><code>$KAFKA_JVM_PERFORMANCE_OPTS</code></li>\n<li><code>$KAFKA_GC_LOG_OPTS</code></li>\n<li><code>$KAFKA_JMX_OPTS</code></li>\n<li><code>$KAFKA_LOG4J_OPTS</code></li>\n</ul>\n\n<p>and then it run the java application passing them:</p>\n\n<p><code>nohup $JAVA $KAFKA_HEAP_OPTS $KAFKA_JVM_PERFORMANCE_OPTS $KAFKA_GC_LOG_OPTS $KAFKA_JMX_OPTS $KAFKA_LOG4J_OPTS....</code></p>\n\n<p>basically the content of the env variables are just appended as is to the command, it does not really matter where you put the settings as soon as the jvm parameters are in the correct order.</p>\n\n<p>So, you can simply change <code>$KAFKA_HEAP_OPTS</code> however to keep the variable names consistent with their content I would put <code>-Xmx8g -Xms8g</code> in <code>KAFKA_HEAP_OPTS</code> and the remaining optimization to <code>KAFKA_JVM_PERFORMANCE_OPTS</code>.</p>\n"}],"owner":{"account_id":12525021,"reputation":463,"user_id":9115155,"accept_rate":73,"display_name":"enodmilvado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5289,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50528622,"answer_count":2,"score":7,"last_activity_date":1658849562,"creation_date":1527236418,"question_id":50524643,"body_markdown":"A recommended setting for JVM looks like following\r\n\r\n    -Xmx8g -Xms8g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80\r\n\r\n\r\nmy question is - How do I set the above Java options for Kafka?\r\n\r\n\r\nI know for sure that we can set \r\n\r\n    export KAFKA_HEAP_OPTS=&quot;-Xmx8G -Xms8G&quot;\r\n\r\nbut not sure if we can append the whole line \r\n\r\n    &quot;-Xmx8g -Xms8g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80&quot;\r\n\r\nto **KAFKA_HEAP_OPTS** variable\r\n\r\n\r\nreference - https://community.hortonworks.com/articles/80813/kafka-best-practices-1.html","title":"Kafka Best Practices + how to set recommended setting for JVM","body":"<p>A recommended setting for JVM looks like following</p>\n\n<pre><code>-Xmx8g -Xms8g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80\n</code></pre>\n\n<p>my question is - How do I set the above Java options for Kafka?</p>\n\n<p>I know for sure that we can set </p>\n\n<pre><code>export KAFKA_HEAP_OPTS=\"-Xmx8G -Xms8G\"\n</code></pre>\n\n<p>but not sure if we can append the whole line </p>\n\n<pre><code>\"-Xmx8g -Xms8g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80\"\n</code></pre>\n\n<p>to <strong>KAFKA_HEAP_OPTS</strong> variable</p>\n\n<p>reference - <a href=\"https://community.hortonworks.com/articles/80813/kafka-best-practices-1.html\" rel=\"noreferrer\">https://community.hortonworks.com/articles/80813/kafka-best-practices-1.html</a></p>\n"},{"tags":["java","eclipse","plugins","manifest.mf"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1658827800,"post_id":73120888,"comment_id":129142738,"body_markdown":"PLease add the stacktrace","body":"PLease add the stacktrace"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1658829792,"post_id":73120888,"comment_id":129143500,"body_markdown":"You will have to provide more information. Platform.getBundle works fine provided the plug-id id is correct and the plug-in is actually in the currently running RCP. Don&#39;t forget that when you test your plug-in using &quot;Run As &gt; Eclipse Application&quot; the set of plug-ins is the list specified in the Run Configuration (which may be different from the Eclipse you are using)","body":"You will have to provide more information. Platform.getBundle works fine provided the plug-id id is correct and the plug-in is actually in the currently running RCP. Don&#39;t forget that when you test your plug-in using &quot;Run As &gt; Eclipse Application&quot; the set of plug-ins is the list specified in the Run Configuration (which may be different from the Eclipse you are using)"},{"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"score":0,"creation_date":1658831826,"post_id":73120888,"comment_id":129144250,"body_markdown":"Please share more details (like stacktrace)","body":"Please share more details (like stacktrace)"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1658857094,"post_id":73120888,"comment_id":129154557,"body_markdown":"That looks like you are probably not running this in a plug-in. Platform.getBundle (and must other Eclipse APIs) will only work when run in a plug-in installed in Eclipse or an Eclipse RCP.","body":"That looks like you are probably not running this in a plug-in. Platform.getBundle (and must other Eclipse APIs) will only work when run in a plug-in installed in Eclipse or an Eclipse RCP."},{"owner":{"account_id":16499916,"reputation":11,"user_id":11921485,"display_name":"mahifan"},"score":0,"creation_date":1658857695,"post_id":73120888,"comment_id":129154757,"body_markdown":"Hello Greg,\nthanks for your reply am running this code in plugin only here is the pathin plugin-&gt;src-&gt;java class \nbut still am not able to solve this error","body":"Hello Greg, thanks for your reply am running this code in plugin only here is the pathin plugin-&gt;src-&gt;java class  but still am not able to solve this error"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1658867855,"post_id":73120888,"comment_id":129157859,"body_markdown":"The path is not really relevant. Show us the MANIFEST.MF of your plug-in. For testing you must run it using &quot;Run As &gt; Eclipse Application&quot; - are you doing that?","body":"The path is not really relevant. Show us the MANIFEST.MF of your plug-in. For testing you must run it using &quot;Run As &gt; Eclipse Application&quot; - are you doing that?"}],"owner":{"account_id":16499916,"reputation":11,"user_id":11921485,"display_name":"mahifan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658849484,"creation_date":1658827613,"question_id":73120888,"body_markdown":"    private void checkDependencyInBundle() throws Exception {\r\n    \r\n    \r\n        try { \r\n          Bundle bundle = Platform.getBundle(&quot;plugin name from Maniftst.MF file mentioned in Bundle-Symbolic name&quot;);\r\n    \r\n    \r\n          System.out.println(&quot;From checkDependency Method:::&quot; + bundle);\r\n        }\r\n        catch (Exception e) {\r\n          e.printstacktrace();\r\n        }\r\n    \r\n    \r\n      }\r\n\r\n// Pleas help if possible \r\n\r\n\r\n//Hi All added the stacktrace below\r\n\r\n/* java.lang.NullPointerException\r\n\tat org.eclipse.core.internal.runtime.InternalPlatform.getBundles(InternalPlatform.java:232)\r\n\tat org.eclipse.core.internal.runtime.InternalPlatform.getBundle(InternalPlatform.java:222)\r\n\tat org.eclipse.core.runtime.Platform.getBundle(Platform.java:1424)\r\n    */","title":"Edit: always getting null pointer exception for Platform.getBundle(&quot;some_plugin_id&quot;)","body":"<pre><code>private void checkDependencyInBundle() throws Exception {\n\n\n    try { \n      Bundle bundle = Platform.getBundle(&quot;plugin name from Maniftst.MF file mentioned in Bundle-Symbolic name&quot;);\n\n\n      System.out.println(&quot;From checkDependency Method:::&quot; + bundle);\n    }\n    catch (Exception e) {\n      e.printstacktrace();\n    }\n\n\n  }\n</code></pre>\n<p>// Pleas help if possible</p>\n<p>//Hi All added the stacktrace below</p>\n<p>/* java.lang.NullPointerException\nat org.eclipse.core.internal.runtime.InternalPlatform.getBundles(InternalPlatform.java:232)\nat org.eclipse.core.internal.runtime.InternalPlatform.getBundle(InternalPlatform.java:222)\nat org.eclipse.core.runtime.Platform.getBundle(Platform.java:1424)\n*/</p>\n"},{"tags":["java","android","unity-game-engine"],"comments":[{"owner":{"account_id":18617931,"reputation":329,"user_id":13568845,"display_name":"Максим Фисман"},"score":0,"creation_date":1658850455,"post_id":73126091,"comment_id":129152047,"body_markdown":"Unfortunately, I cannot help you with your question, but are these bubbles images yours or you downloaded it from an open source?","body":"Unfortunately, I cannot help you with your question, but are these bubbles images yours or you downloaded it from an open source?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1658851845,"post_id":73126091,"comment_id":129152627,"body_markdown":"We&#39;d likely need a code sample of what you are trying to do to be able to help you.  Also I think Unity runs C#, not Java.","body":"We&#39;d likely need a code sample of what you are trying to do to be able to help you.  Also I think Unity runs C#, not Java."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658860957,"post_id":73126091,"comment_id":129155782,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":14145413,"reputation":1,"user_id":10218892,"display_name":"Umair Mushtaq Qureshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658849214,"creation_date":1658849214,"question_id":73126091,"body_markdown":"How can i modify the timer of this unity game with gg.? every 10 seconds equals 1 point i want to alter the points without actually playing [click to see game image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HcFXb.jpg","title":"How to modify unity game data","body":"<p>How can i modify the timer of this unity game with gg.? every 10 seconds equals 1 point i want to alter the points without actually playing <a href=\"https://i.stack.imgur.com/HcFXb.jpg\" rel=\"nofollow noreferrer\">click to see game image</a></p>\n"},{"tags":["java","xml","xsd","saxon","xsd-validation"],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658762309,"creation_date":1658762309,"answer_id":73111600,"question_id":73111155,"body_markdown":"Your immediate problem can be solved by adding\r\n\r\n    elementFormDefault=&quot;qualified&quot;\r\n\r\nto the `xs:schema` elements of your XSDs.  For an in-depth explanation, see\r\nhttps://stackoverflow.com/q/1463138/290085\r\n\r\nThere remain additional validation issues.  If their resolution is not obvious to you, post a new question, preferably with a complete MCVE that&#39;s independent of off-site resources.","title":"Validation issues with polymorphic xml","body":"<p>Your immediate problem can be solved by adding</p>\n<pre><code>elementFormDefault=&quot;qualified&quot;\n</code></pre>\n<p>to the <code>xs:schema</code> elements of your XSDs.  For an in-depth explanation, see\n<a href=\"https://stackoverflow.com/q/1463138/290085\">What does elementFormDefault do in XSD?</a></p>\n<p>There remain additional validation issues.  If their resolution is not obvious to you, post a new question, preferably with a complete MCVE that's independent of off-site resources.</p>\n"}],"owner":{"account_id":17114594,"reputation":143,"user_id":12384457,"display_name":"FedSic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73111600,"answer_count":1,"score":1,"last_activity_date":1658849174,"creation_date":1658760365,"question_id":73111155,"body_markdown":"We have some abstract elements defined in our root schema e.g.:\r\n```\r\n&lt;xs:complexType name=&quot;Abstract1&quot; abstract=&quot;true&quot;&gt;\r\n   &lt;xs:sequence minOccurs=&quot;0&quot;&gt;\r\n      &lt;xs:element name=&quot;absName1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n   &lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\n... which are then extended as follows:\r\n```\r\n&lt;xs:complexType name=&quot;Extension1&quot;&gt;\r\n   &lt;xs:complexContent&gt;\r\n      &lt;xs:extension base=&quot;root:Abstract1&quot;&gt;\r\n         &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;extName1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n         &lt;/xs:sequence&gt;\r\n      &lt;/xs:extension&gt;\r\n   &lt;/xs:complexContent&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\nThese elements are used inside our xml file: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;root xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://example.com&quot;\r\n\txmlns:ext=&quot;https://ext.example.com&quot;\r\n\txsi:schemaLocation=&quot;https://example.com ../xsd/root.xsd\r\n      https://ext.example.com ../xsd/ext1.xsd&quot;&gt;\r\n\t&lt;test1\r\n\t\ttestTC=&quot;Test Case 1.1 - tag injection with same names using type casting, abstract type&quot;&gt;\r\n\t\t&lt;extension1 xsi:type=&quot;ext:Extension1&quot;&gt;\r\n\t\t\t&lt;absName1&gt;Test Case 1.1 - absName1 from Abstract1 Type inhereted by Extension1&lt;/absName1&gt;\r\n\t\t\t&lt;ext:extName1&gt;Test Case 1.1 - extName1 from Extension1&lt;/ext:extName1&gt;\r\n\t\t&lt;/extension1&gt;\r\n\t\t&lt;extension1 xsi:type=&quot;ext:Extension11&quot;&gt;\r\n\t\t\t&lt;absName1&gt;Test Case 1.1 - absName1 from Abstract1 Type inhereted by Extension11&lt;/absName1&gt;\r\n\t\t\t&lt;ext:extName11&gt;Test Case 1.1 - extName11 from Extension11&lt;/ext:extName11&gt;\r\n\t\t&lt;/extension1&gt;\r\n\t&lt;/test1&gt;\r\n&lt;/root&gt;\r\n```\r\nHowever, when I try to validate the xml using Saxon command line, I get the error message below:\r\n```\r\n$ java com.saxonica.Validate --multipleSchemaImports:on -s:tc1.xml -xsd:&quot;../xsd/ext1.xsd;../xsd/root.xsd&quot;\r\n\r\nValidation error on line 7 column 92 of tc1.xml:\r\n  FORG0001: In content of element &lt;root&gt;: The content model does not allow element &lt;test1&gt;\r\n  to appear as the first child. The element is in namespace https://example.com but it\r\n  should be in no namespace. \r\n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\r\nValidation error on line 9 column 14 of tc1.xml:\r\n  FORG0001: In content of element &lt;extension1&gt;: The content model does not allow element\r\n  &lt;absName1&gt; to appear as the first child. The element is in namespace https://example.com\r\n  but it should be in no namespace. \r\n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\r\nValidation error on line 13 column 14 of tc1.xml:\r\n  FORG0001: In content of element &lt;extension1&gt;: The content model does not allow element\r\n  &lt;absName1&gt; to appear as the first child. The element is in namespace https://example.com\r\n  but it should be in no namespace. \r\n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\r\nValidation error on line 20 column 17 of tc1.xml:\r\n  FORG0001: In content of element &lt;extension2&gt;: The content model does not allow element\r\n  &lt;nonAbsName2&gt; to appear as the first child. The element is in namespace\r\n  https://example.com but it should be in no namespace. \r\n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\r\nValidation error on line 24 column 17 of tc1.xml:\r\n  FORG0001: In content of element &lt;extension2&gt;: The content model does not allow element\r\n  &lt;nonAbsName2&gt; to appear as the first child. The element is in namespace\r\n  https://example.com but it should be in no namespace. \r\n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\r\nError on line 28 column 8 of tc1.xml:\r\n  XQDY0027  Five validation errors were reported. First error: In content of element &lt;root&gt;:\r\n  The content model does not allow element &lt;test1&gt; to appear as the first child. The element\r\n  is in namespace https://example.com but it should be in no namespace. \r\nValidation of file tc1.xml completed: errors found\r\n```\r\nHere is a link to the actual sample files for reference:\r\n[xml]() / [root schema]() - [ext schema]()\r\n\r\nAny help would be greatly appreciated :) ","title":"Validation issues with polymorphic xml","body":"<p>We have some abstract elements defined in our root schema e.g.:</p>\n<pre><code>&lt;xs:complexType name=&quot;Abstract1&quot; abstract=&quot;true&quot;&gt;\n   &lt;xs:sequence minOccurs=&quot;0&quot;&gt;\n      &lt;xs:element name=&quot;absName1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\n   &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>... which are then extended as follows:</p>\n<pre><code>&lt;xs:complexType name=&quot;Extension1&quot;&gt;\n   &lt;xs:complexContent&gt;\n      &lt;xs:extension base=&quot;root:Abstract1&quot;&gt;\n         &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;extName1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\n         &lt;/xs:sequence&gt;\n      &lt;/xs:extension&gt;\n   &lt;/xs:complexContent&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>These elements are used inside our xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;root xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://example.com&quot;\n    xmlns:ext=&quot;https://ext.example.com&quot;\n    xsi:schemaLocation=&quot;https://example.com ../xsd/root.xsd\n      https://ext.example.com ../xsd/ext1.xsd&quot;&gt;\n    &lt;test1\n        testTC=&quot;Test Case 1.1 - tag injection with same names using type casting, abstract type&quot;&gt;\n        &lt;extension1 xsi:type=&quot;ext:Extension1&quot;&gt;\n            &lt;absName1&gt;Test Case 1.1 - absName1 from Abstract1 Type inhereted by Extension1&lt;/absName1&gt;\n            &lt;ext:extName1&gt;Test Case 1.1 - extName1 from Extension1&lt;/ext:extName1&gt;\n        &lt;/extension1&gt;\n        &lt;extension1 xsi:type=&quot;ext:Extension11&quot;&gt;\n            &lt;absName1&gt;Test Case 1.1 - absName1 from Abstract1 Type inhereted by Extension11&lt;/absName1&gt;\n            &lt;ext:extName11&gt;Test Case 1.1 - extName11 from Extension11&lt;/ext:extName11&gt;\n        &lt;/extension1&gt;\n    &lt;/test1&gt;\n&lt;/root&gt;\n</code></pre>\n<p>However, when I try to validate the xml using Saxon command line, I get the error message below:</p>\n<pre><code>$ java com.saxonica.Validate --multipleSchemaImports:on -s:tc1.xml -xsd:&quot;../xsd/ext1.xsd;../xsd/root.xsd&quot;\n\nValidation error on line 7 column 92 of tc1.xml:\n  FORG0001: In content of element &lt;root&gt;: The content model does not allow element &lt;test1&gt;\n  to appear as the first child. The element is in namespace https://example.com but it\n  should be in no namespace. \n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\nValidation error on line 9 column 14 of tc1.xml:\n  FORG0001: In content of element &lt;extension1&gt;: The content model does not allow element\n  &lt;absName1&gt; to appear as the first child. The element is in namespace https://example.com\n  but it should be in no namespace. \n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\nValidation error on line 13 column 14 of tc1.xml:\n  FORG0001: In content of element &lt;extension1&gt;: The content model does not allow element\n  &lt;absName1&gt; to appear as the first child. The element is in namespace https://example.com\n  but it should be in no namespace. \n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\nValidation error on line 20 column 17 of tc1.xml:\n  FORG0001: In content of element &lt;extension2&gt;: The content model does not allow element\n  &lt;nonAbsName2&gt; to appear as the first child. The element is in namespace\n  https://example.com but it should be in no namespace. \n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\nValidation error on line 24 column 17 of tc1.xml:\n  FORG0001: In content of element &lt;extension2&gt;: The content model does not allow element\n  &lt;nonAbsName2&gt; to appear as the first child. The element is in namespace\n  https://example.com but it should be in no namespace. \n  See http://www.w3.org/TR/xmlschema-1/#cvc-complex-type clause 2.4\nError on line 28 column 8 of tc1.xml:\n  XQDY0027  Five validation errors were reported. First error: In content of element &lt;root&gt;:\n  The content model does not allow element &lt;test1&gt; to appear as the first child. The element\n  is in namespace https://example.com but it should be in no namespace. \nValidation of file tc1.xml completed: errors found\n</code></pre>\n<p>Here is a link to the actual sample files for reference:\nxml / root schema - ext schema</p>\n<p>Any help would be greatly appreciated :)</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1658848787,"post_id":73125792,"comment_id":129151431,"body_markdown":"The pipe symbol is a feature of the shell. Does windows&#39;s cmd even interpret it as in a linux shell?","body":"The pipe symbol is a feature of the shell. Does windows&#39;s cmd even interpret it as in a linux shell?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658851980,"post_id":73125792,"comment_id":129152688,"body_markdown":"@f1sh CMD.exe supports pipes, but if I recall correctly it doesn&#39;t run the programs in parallel.","body":"@f1sh CMD.exe supports pipes, but if I recall correctly it doesn&#39;t run the programs in parallel."},{"owner":{"account_id":13812072,"reputation":33,"user_id":9969583,"display_name":"Amir tagjvaii"},"score":0,"creation_date":1658902018,"post_id":73125792,"comment_id":129163905,"body_markdown":"i use windows cmd.if doesn&#39;t run the programs in parallel.What is the command and how to execute it?","body":"i use windows cmd.if doesn&#39;t run the programs in parallel.What is the command and how to execute it?"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658848946,"creation_date":1658848946,"answer_id":73126014,"question_id":73125792,"body_markdown":"You try to invoke several commands tied together with a pipe.  This is not supported by ProcessBuilder.  It only supports invoking a single command.\r\n\r\nThe reason why it works from the command line, is because the command interpreter supports invoking several commands tied together with a pipe, by invoking each of them with something similar to ProcessBuilder and tying the output from the first together with the input to the second.\r\n\r\nYou can either choose to 1) do the same by invoking two ProcessBuilders and tie them together, or 2) invoke the command line interpreter on your command line.\r\n\r\n\r\n\r\n","title":"How to command mysql dump from Java","body":"<p>You try to invoke several commands tied together with a pipe.  This is not supported by ProcessBuilder.  It only supports invoking a single command.</p>\n<p>The reason why it works from the command line, is because the command interpreter supports invoking several commands tied together with a pipe, by invoking each of them with something similar to ProcessBuilder and tying the output from the first together with the input to the second.</p>\n<p>You can either choose to 1) do the same by invoking two ProcessBuilders and tie them together, or 2) invoke the command line interpreter on your command line.</p>\n"}],"owner":{"account_id":13812072,"reputation":33,"user_id":9969583,"display_name":"Amir tagjvaii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658943352,"answer_count":1,"score":1,"last_activity_date":1658848946,"creation_date":1658848049,"question_id":73125792,"body_markdown":"The command works perfectly when I use the Windows cmd.exe but not with my Java application.\r\n\r\n    String[] command = new String[]{db.getMysqlpath()+&quot;\\\\mysqldump&quot;, &quot;-u&quot;+BuilderSession.getDbPropertice().get(&quot;username&quot;), &quot;-p&quot;+BuilderSession.getDbPropertice().get(&quot;password&quot;), s ,&quot;|&quot;,&quot;mysql&quot;, &quot;-u&quot;+BuilderSession.getDbPropertice().get(&quot;username&quot;), &quot;-p&quot;+BuilderSession.getDbPropertice().get(&quot;password&quot;),  dbname };\r\n        ProcessBuilder processBuilder = new ProcessBuilder(Arrays.asList(command));\r\n        processBuilder.redirectError(Redirect.INHERIT);        \r\n        Process process = processBuilder.start();\r\n        process.waitFor(); \r\nfor example commad is  :\r\nC:\\\\Program Files (x86)\\\\MySQL\\\\MySQL Server 5.0\\\\bin\\mysqldump -uroot -p123 stroe | mysql -uroot -p123 store_1401 \r\nI got the following error:\r\n\r\n    mysqldump: Couldn&#39;t find table: &quot;|&quot;\r\n\r\nDo you have any idea?\r\n\r\n ","title":"How to command mysql dump from Java","body":"<p>The command works perfectly when I use the Windows cmd.exe but not with my Java application.</p>\n<pre><code>String[] command = new String[]{db.getMysqlpath()+&quot;\\\\mysqldump&quot;, &quot;-u&quot;+BuilderSession.getDbPropertice().get(&quot;username&quot;), &quot;-p&quot;+BuilderSession.getDbPropertice().get(&quot;password&quot;), s ,&quot;|&quot;,&quot;mysql&quot;, &quot;-u&quot;+BuilderSession.getDbPropertice().get(&quot;username&quot;), &quot;-p&quot;+BuilderSession.getDbPropertice().get(&quot;password&quot;),  dbname };\n    ProcessBuilder processBuilder = new ProcessBuilder(Arrays.asList(command));\n    processBuilder.redirectError(Redirect.INHERIT);        \n    Process process = processBuilder.start();\n    process.waitFor(); \n</code></pre>\n<p>for example commad is  :\nC:\\Program Files (x86)\\MySQL\\MySQL Server 5.0\\bin\\mysqldump -uroot -p123 stroe | mysql -uroot -p123 store_1401\nI got the following error:</p>\n<pre><code>mysqldump: Couldn't find table: &quot;|&quot;\n</code></pre>\n<p>Do you have any idea?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567953141,"creation_date":1507132143,"answer_id":46569094,"question_id":46568970,"body_markdown":"`hibernate-jpamodelgen` is neither JPA nor hibernate. It is a maven plugin which helps to use JPA by auto-generating classes.\r\n\r\nFor example, if you have a class named `User`, `hibernate-jpamodelgen` will create a class `User_` that contains fields which are very useful when using the criteria API.\r\n\r\nFor your JPA version, you should look at another dependency. If you have this one, then you are using JPA &gt; 2.0\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What version of JPA am I using?","body":"<p><code>hibernate-jpamodelgen</code> is neither JPA nor hibernate. It is a maven plugin which helps to use JPA by auto-generating classes.</p>\n\n<p>For example, if you have a class named <code>User</code>, <code>hibernate-jpamodelgen</code> will create a class <code>User_</code> that contains fields which are very useful when using the criteria API.</p>\n\n<p>For your JPA version, you should look at another dependency. If you have this one, then you are using JPA > 2.0</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300715,"reputation":1715,"user_id":608011,"display_name":"zulqarnain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1507132261,"creation_date":1507132261,"answer_id":46569137,"question_id":46568970,"body_markdown":"I suggest you read the docs of the version you are using. As for hibernate and JPA compatibility see here: [Hibernate releases][1]\r\n\r\nHibernate 5.1 docs: [Hibernate 5.1 docs][2]\r\n\r\n\r\n  [1]: http://hibernate.org/orm/releases/\r\n  [2]: http://hibernate.org/orm/documentation/5.1/","title":"What version of JPA am I using?","body":"<p>I suggest you read the docs of the version you are using. As for hibernate and JPA compatibility see here: <a href=\"http://hibernate.org/orm/releases/\" rel=\"nofollow noreferrer\">Hibernate releases</a></p>\n\n<p>Hibernate 5.1 docs: <a href=\"http://hibernate.org/orm/documentation/5.1/\" rel=\"nofollow noreferrer\">Hibernate 5.1 docs</a></p>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658848870,"creation_date":1658848533,"answer_id":73125905,"question_id":46568970,"body_markdown":"Another simple way to discover what version you are using is to execute the maven command: \r\n\r\n`mvn dependency:tree`\r\n\r\nHere I can see I&#39;m running JPA 2.2.3:\r\n\r\n    &gt; mvn depedency:tree\r\n    ...\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.7.2:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.7.2:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.2:compile\r\n    [INFO] |  |  \\- com.zaxxer:HikariCP:jar:4.0.3:compile\r\n    [INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n    [INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile &lt;!-- JPA\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.6.10.Final:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.12:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\r\n    [INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.7.2:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.7.2:compile\r\n    [INFO] |  |  \\- org.springframework:spring-orm:jar:5.3.22:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:5.3.22:compile\r\n    ...","title":"What version of JPA am I using?","body":"<p>Another simple way to discover what version you are using is to execute the maven command:</p>\n<p><code>mvn dependency:tree</code></p>\n<p>Here I can see I'm running JPA 2.2.3:</p>\n<pre><code>&gt; mvn depedency:tree\n...\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.7.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.7.2:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.2:compile\n[INFO] |  |  \\- com.zaxxer:HikariCP:jar:4.0.3:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile &lt;!-- JPA\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.6.10.Final:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.12:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\n[INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.7.2:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.7.2:compile\n[INFO] |  |  \\- org.springframework:spring-orm:jar:5.3.22:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.22:compile\n...\n</code></pre>\n"}],"owner":{"account_id":3289738,"reputation":1428,"user_id":2768318,"accept_rate":83,"display_name":"Gaetano Piazzolla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46569137,"answer_count":3,"score":0,"last_activity_date":1658848870,"creation_date":1507131793,"question_id":46568970,"body_markdown":"I&#39;m using \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nin a apache-tomcat-8.0.41 web service.  \r\n\r\nIn this link they say &quot;Hibernate EntityManager implements the programming interfaces and lifecycle rules as defined by the JPA 2.0 specification&quot; \r\nhttps://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html_single/\r\n\r\nBut it&#39;s for the 3.6 version. \r\nIt&#39;s the same for 5.1 ? \r\n","title":"What version of JPA am I using?","body":"<p>I'm using </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>in a apache-tomcat-8.0.41 web service.  </p>\n\n<p>In this link they say \"Hibernate EntityManager implements the programming interfaces and lifecycle rules as defined by the JPA 2.0 specification\" \n<a href=\"https://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html_single/\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html_single/</a></p>\n\n<p>But it's for the 3.6 version. \nIt's the same for 5.1 ? </p>\n"},{"tags":["java","android-recyclerview"],"owner":{"account_id":25762196,"reputation":11,"user_id":19512932,"display_name":"Khushin Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658848661,"creation_date":1658848661,"question_id":73125940,"body_markdown":"```\r\nadd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                System.out.println(&quot;pressed&quot;);\r\n                if (selectedRadioButton() == R.id.RB_byAmount){\r\n                    setTransactionsByAmount();\r\n                }else if (selectedRadioButton() == R.id.RB_byDate){\r\n                    setTransactionsByDate();\r\n                }else if (selectedRadioButton() == R.id.RB_byID){\r\n                    setTransactions();\r\n                }else {\r\n                    System.out.println(&quot;its wrong&quot;);\r\n                }\r\n                MyAdapter1 adapter = new MyAdapter1(GetTransaction.this,transactions);\r\n                RecyclerView rv = findViewById(R.id.RV_get_show);\r\n                rv.setLayoutManager(new LinearLayoutManager(GetTransaction.this));\r\n                rv.setAdapter(adapter);\r\n            }\r\n        });\r\n```\r\nThis is the only place in my code that I&#39;m using RecyclerView but it doesn&#39;t seem to show the results on my screen and I think its because of the error I keep getting: E/RecyclerView: No adapter attached; skipping layout. Any suggestion on how to fix this? ","title":"I&#39;m trying to use RecyclerView in Android Studio and getting this error E/RecyclerView: No adapter attached; skipping layout","body":"<pre><code>add.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                System.out.println(&quot;pressed&quot;);\n                if (selectedRadioButton() == R.id.RB_byAmount){\n                    setTransactionsByAmount();\n                }else if (selectedRadioButton() == R.id.RB_byDate){\n                    setTransactionsByDate();\n                }else if (selectedRadioButton() == R.id.RB_byID){\n                    setTransactions();\n                }else {\n                    System.out.println(&quot;its wrong&quot;);\n                }\n                MyAdapter1 adapter = new MyAdapter1(GetTransaction.this,transactions);\n                RecyclerView rv = findViewById(R.id.RV_get_show);\n                rv.setLayoutManager(new LinearLayoutManager(GetTransaction.this));\n                rv.setAdapter(adapter);\n            }\n        });\n</code></pre>\n<p>This is the only place in my code that I'm using RecyclerView but it doesn't seem to show the results on my screen and I think its because of the error I keep getting: E/RecyclerView: No adapter attached; skipping layout. Any suggestion on how to fix this?</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1712006,"reputation":2649,"user_id":8951344,"display_name":"MuratOzkan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1527340642,"creation_date":1527340642,"answer_id":50543182,"question_id":50542300,"body_markdown":"You might try defining an `@Order()` for both your `@ControllerAdvice` and `@WebFilter` beans, and giving `@ControllerAdvice` higher precedence.\r\n\r\nHowever, I don&#39;t think that&#39;s the way to go, main reason being the `@ControllerAdvice` exception handlers don&#39;t return reactive types. Instead, I would define a bean which implements `ErrorWebExceptionHandler` instead. This handler is added to reactive flow by `spring-webflux, so you don&#39;t need to worry about the precedence. See [this answer][1] for details.\r\n\r\n  [1]: https://stackoverflow.com/questions/47958622/spring-security-webflux-reactive-exception-handling/49446038#49446038","title":"Throw an exception in a WebFilter class and handle it in a ControllerAdvice class","body":"<p>You might try defining an <code>@Order()</code> for both your <code>@ControllerAdvice</code> and <code>@WebFilter</code> beans, and giving <code>@ControllerAdvice</code> higher precedence.</p>\n\n<p>However, I don't think that's the way to go, main reason being the <code>@ControllerAdvice</code> exception handlers don't return reactive types. Instead, I would define a bean which implements <code>ErrorWebExceptionHandler</code> instead. This handler is added to reactive flow by `spring-webflux, so you don't need to worry about the precedence. See <a href=\"https://stackoverflow.com/questions/47958622/spring-security-webflux-reactive-exception-handling/49446038#49446038\">this answer</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":8604418,"reputation":31,"user_id":6445004,"display_name":"thomas Miller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658848658,"creation_date":1614922938,"answer_id":66487414,"question_id":50542300,"body_markdown":"I had the same issue in webflux, you do not want to throw a direct exception or return a mono error in the webfilter), however you want to set the response to be the mono error containing the exception (Close to what you have done). This will allow the exception to be thrown in the correct part of the requests workflow and hence it will bubble up to your rest Controller advice\r\n\r\n    public class YourFilter implements WebFilter{\r\n\r\n        @Override\r\n        public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final WebFilterChain chain){\r\n            return exchange.getResponse().writeWith(Mono.error(new YouException()));\r\n        }\r\n    }","title":"Throw an exception in a WebFilter class and handle it in a ControllerAdvice class","body":"<p>I had the same issue in webflux, you do not want to throw a direct exception or return a mono error in the webfilter), however you want to set the response to be the mono error containing the exception (Close to what you have done). This will allow the exception to be thrown in the correct part of the requests workflow and hence it will bubble up to your rest Controller advice</p>\n<pre><code>public class YourFilter implements WebFilter{\n\n    @Override\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final WebFilterChain chain){\n        return exchange.getResponse().writeWith(Mono.error(new YouException()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4485425,"reputation":169,"user_id":3648235,"accept_rate":0,"display_name":"user3648235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623691428,"creation_date":1623691428,"answer_id":67974665,"question_id":50542300,"body_markdown":"I have tried that and I have a CORS error\r\nHere is the error:\r\n\r\nAccess to XMLHttpRequest at &#39;http://localhost:8084/users/files&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.","title":"Throw an exception in a WebFilter class and handle it in a ControllerAdvice class","body":"<p>I have tried that and I have a CORS error\nHere is the error:</p>\n<p>Access to XMLHttpRequest at 'http://localhost:8084/users/files' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n"}],"owner":{"account_id":4398243,"reputation":105,"user_id":3584676,"display_name":"Miguel Fern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5015,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50543182,"answer_count":3,"score":3,"last_activity_date":1658848658,"creation_date":1527334388,"question_id":50542300,"body_markdown":"I&#39;m trying to implement a `WebFilter` that checks a JWT and throw an exception if the check fails or the result is not valid. And I&#39;ve a `@ControllerAdvice` class that handles those exceptions. But it doesn&#39;t work.\r\n\r\n### This is the `WebFilter` class:\r\n\r\n    @Component\r\n    public class OktaAccessTokenFilter implements WebFilter {\r\n\r\n\tprivate JwtVerifier jwtVerifier;\r\n\r\n\t   @Autowired\r\n\t   public OktaAccessTokenFilter(JwtVerifier jwtVerifier) {\r\n\t\t    this.jwtVerifier = jwtVerifier;\r\n\t   }\r\n\r\n\t   @Override\r\n\t   public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    \t\treturn Optional.ofNullable(exchange.getRequest().getHeaders().get(&quot;Authorization&quot;))\r\n\t\t\t\t.flatMap(list -&gt; list.stream().findFirst())\r\n\t\t\t\t.filter(authHeader -&gt; !authHeader.isEmpty() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;))\r\n\t\t\t\t.map(authHeader -&gt; authHeader.replaceFirst(&quot;^Bearer&quot;, &quot;&quot;))\r\n                .map(jwtString -&gt; {\r\n\t\t\t        try {\r\n\t\t\t\t        jwtVerifier.decodeAccessToken(jwtString);\r\n\t\t\t        } catch (JoseException e) {\r\n\t\t\t\t        throw new DecodeAccessTokenException();\r\n\t\t\t        }\r\n\t\t\t        return chain.filter(exchange);\r\n\t\t        }).orElseThrow(() -&gt; new AuthorizationException());\r\n\t      }\r\n    }\r\n\r\n\r\n### And the exception handler:\r\n\r\n    @ControllerAdvice\r\n    public class SecurityExceptionHandler {\r\n\r\n\t  @ExceptionHandler(AuthorizationException.class)\r\n\t  public ResponseEntity authorizationExceptionHandler(AuthorizationException ex) {\r\n\r\n\t\treturn ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n\r\n\t  }\r\n\r\n\t  @ExceptionHandler(DecodeAccessTokenException.class)\r\n\t  public ResponseEntity decodeAccessTokenExceptionHandler(DecodeAccessTokenException ex) {\r\n\r\n\t\treturn ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n\r\n\t  }\r\n\r\n    }\r\n\r\n\r\nI think, the `@ControllerAdvice` class can not handle exceptions that `WebFilter` throws. Because, if I move the exceptions to the controller, it works. \r\n\r\n### I&#39;ve change the code for this (for now):\r\n\r\n    @Override\r\n\tpublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\r\n\t\tOptional&lt;String&gt; authJwt = Optional.ofNullable(exchange.getRequest().getHeaders().get(&quot;Authorization&quot;))\r\n\t\t\t\t.flatMap(list -&gt; list.stream().findFirst())\r\n\t\t\t\t.filter(authHeader -&gt; !authHeader.isEmpty() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;))\r\n\t\t\t\t.map(authHeader -&gt; authHeader.replaceFirst(&quot;^Bearer&quot;, &quot;&quot;));\r\n\r\n\t\tif (authJwt.isPresent()) {\r\n\t\t\tString jwtString = authJwt.get();\r\n\t\t\ttry {\r\n\t\t\t\tjwtVerifier.decodeAccessToken(jwtString);\r\n\t\t\t} catch (JoseException e) {\r\n\t\t\t\texchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);\r\n\t\t\t\treturn exchange.getResponse().writeWith(Mono.empty());\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\texchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);\r\n\t\t\treturn exchange.getResponse().writeWith(Mono.empty());\r\n\t\t}\r\n\r\n\t\treturn chain.filter(exchange);\r\n\t}\r\n\r\n\r\nWhat do you think about the problem? Do you know another way to implement it?\r\n","title":"Throw an exception in a WebFilter class and handle it in a ControllerAdvice class","body":"<p>I'm trying to implement a <code>WebFilter</code> that checks a JWT and throw an exception if the check fails or the result is not valid. And I've a <code>@ControllerAdvice</code> class that handles those exceptions. But it doesn't work.</p>\n\n<h3>This is the <code>WebFilter</code> class:</h3>\n\n<pre><code>@Component\npublic class OktaAccessTokenFilter implements WebFilter {\n\nprivate JwtVerifier jwtVerifier;\n\n   @Autowired\n   public OktaAccessTokenFilter(JwtVerifier jwtVerifier) {\n        this.jwtVerifier = jwtVerifier;\n   }\n\n   @Override\n   public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        return Optional.ofNullable(exchange.getRequest().getHeaders().get(\"Authorization\"))\n            .flatMap(list -&gt; list.stream().findFirst())\n            .filter(authHeader -&gt; !authHeader.isEmpty() &amp;&amp; authHeader.startsWith(\"Bearer \"))\n            .map(authHeader -&gt; authHeader.replaceFirst(\"^Bearer\", \"\"))\n            .map(jwtString -&gt; {\n                try {\n                    jwtVerifier.decodeAccessToken(jwtString);\n                } catch (JoseException e) {\n                    throw new DecodeAccessTokenException();\n                }\n                return chain.filter(exchange);\n            }).orElseThrow(() -&gt; new AuthorizationException());\n      }\n}\n</code></pre>\n\n<h3>And the exception handler:</h3>\n\n<pre><code>@ControllerAdvice\npublic class SecurityExceptionHandler {\n\n  @ExceptionHandler(AuthorizationException.class)\n  public ResponseEntity authorizationExceptionHandler(AuthorizationException ex) {\n\n    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n\n  }\n\n  @ExceptionHandler(DecodeAccessTokenException.class)\n  public ResponseEntity decodeAccessTokenExceptionHandler(DecodeAccessTokenException ex) {\n\n    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n\n  }\n\n}\n</code></pre>\n\n<p>I think, the <code>@ControllerAdvice</code> class can not handle exceptions that <code>WebFilter</code> throws. Because, if I move the exceptions to the controller, it works. </p>\n\n<h3>I've change the code for this (for now):</h3>\n\n<pre><code>@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n    Optional&lt;String&gt; authJwt = Optional.ofNullable(exchange.getRequest().getHeaders().get(\"Authorization\"))\n            .flatMap(list -&gt; list.stream().findFirst())\n            .filter(authHeader -&gt; !authHeader.isEmpty() &amp;&amp; authHeader.startsWith(\"Bearer \"))\n            .map(authHeader -&gt; authHeader.replaceFirst(\"^Bearer\", \"\"));\n\n    if (authJwt.isPresent()) {\n        String jwtString = authJwt.get();\n        try {\n            jwtVerifier.decodeAccessToken(jwtString);\n        } catch (JoseException e) {\n            exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);\n            return exchange.getResponse().writeWith(Mono.empty());\n        }\n    } else {\n        exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);\n        return exchange.getResponse().writeWith(Mono.empty());\n    }\n\n    return chain.filter(exchange);\n}\n</code></pre>\n\n<p>What do you think about the problem? Do you know another way to implement it?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"score":1,"creation_date":1658848329,"post_id":73125797,"comment_id":129151226,"body_markdown":"Why not check if parentId == null is true and assign it the config value in the controller body?","body":"Why not check if parentId == null is true and assign it the config value in the controller body?"},{"owner":{"account_id":23433774,"reputation":37,"user_id":17492183,"display_name":"not today"},"score":0,"creation_date":1658848825,"post_id":73125797,"comment_id":129151441,"body_markdown":"It s working this way but I wanted to see if I can pass it to the @RequestParam  as someone below did , but I couldn&#39;t think of directly passing &quot;${app.property.rootFolder}&quot; . Also thanks !!","body":"It s working this way but I wanted to see if I can pass it to the @RequestParam  as someone below did , but I couldn&#39;t think of directly passing &quot;${app.property.rootFolder}&quot; . Also thanks !!"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1658848835,"post_id":73125797,"comment_id":129151450,"body_markdown":"If it&#39;s a property of the app, then not sure why it&#39;s being passed as a parameter to the controller method.  Seems like the property should be an injected value to a Controller field, then used within the method.","body":"If it&#39;s a property of the app, then not sure why it&#39;s being passed as a parameter to the controller method.  Seems like the property should be an injected value to a Controller field, then used within the method."},{"owner":{"account_id":23433774,"reputation":37,"user_id":17492183,"display_name":"not today"},"score":0,"creation_date":1658849312,"post_id":73125797,"comment_id":129151632,"body_markdown":"If the Get Request would not have any folderId I want to pass the rootFolderId and  though it would be the best way to pass it to Service .","body":"If the Get Request would not have any folderId I want to pass the rootFolderId and  though it would be the best way to pass it to Service ."}],"answers":[{"tags":[],"owner":{"account_id":17599760,"reputation":126,"user_id":12769984,"display_name":"hsoj48"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658848441,"creation_date":1658848441,"answer_id":73125880,"question_id":73125797,"body_markdown":"You can use property replacement in the `@RequestParam` field.  See below.\r\n\r\n```\r\n@GetMapping({&quot;/list&quot;})\r\npublic List&lt;File&gt; list(@RequestParam(defaultValue = &quot;${app.property.rootFolder}&quot;) String parentId) { ... }\r\n```","title":"Pass value with @Value to @RequestParam","body":"<p>You can use property replacement in the <code>@RequestParam</code> field.  See below.</p>\n<pre><code>@GetMapping({&quot;/list&quot;})\npublic List&lt;File&gt; list(@RequestParam(defaultValue = &quot;${app.property.rootFolder}&quot;) String parentId) { ... }\n</code></pre>\n"}],"owner":{"account_id":23433774,"reputation":37,"user_id":17492183,"display_name":"not today"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73125880,"answer_count":1,"score":1,"last_activity_date":1658848441,"creation_date":1658848082,"question_id":73125797,"body_markdown":"So basically I have my rootFolderId in my application.properties \r\n\r\n\r\n      app.property.rootFolder=&quot;some string &quot;\r\n\r\n and I need to get it in the Controller\r\n\r\n     @Value(&quot;${app.property.rootFolder}&quot;)\r\n        private static  String rootFolder ;\r\n\r\n and use it in @RequestParam like : \r\n\r\n    @GetMapping({&quot;/list&quot;})\r\n        public List&lt;File&gt; list(@RequestParam(defaultValue = rootFolder)  String parentId) \r\n    { ..../}\r\n\r\nbut I get the problem &quot;Attribute value must be constant&quot; .Is there any way to make it work ?\r\n\r\n","title":"Pass value with @Value to @RequestParam","body":"<p>So basically I have my rootFolderId in my application.properties</p>\n<pre><code>  app.property.rootFolder=&quot;some string &quot;\n</code></pre>\n<p>and I need to get it in the Controller</p>\n<pre><code> @Value(&quot;${app.property.rootFolder}&quot;)\n    private static  String rootFolder ;\n</code></pre>\n<p>and use it in @RequestParam like :</p>\n<pre><code>@GetMapping({&quot;/list&quot;})\n    public List&lt;File&gt; list(@RequestParam(defaultValue = rootFolder)  String parentId) \n{ ..../}\n</code></pre>\n<p>but I get the problem &quot;Attribute value must be constant&quot; .Is there any way to make it work ?</p>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1555741763,"post_id":55770857,"comment_id":98215014,"body_markdown":"Disable the `Wrap at right margin` setting?","body":"Disable the <code>Wrap at right margin</code> setting?"},{"owner":{"account_id":94158,"reputation":8434,"user_id":257233,"accept_rate":88,"display_name":"Robert Mark Bram"},"score":0,"creation_date":1555742187,"post_id":55770857,"comment_id":98215090,"body_markdown":"I want the word wrap.","body":"I want the word wrap."},{"owner":{"account_id":94158,"reputation":8434,"user_id":257233,"accept_rate":88,"display_name":"Robert Mark Bram"},"score":0,"creation_date":1555743037,"post_id":55770857,"comment_id":98215233,"body_markdown":"Actually disabling `Wrap at right margin` was correct; then `Wrapping and Braces` -&gt; `Hard wrap at` kicked in and it wraps correctly now. Care to put that as an answer? If so, I will accept it.","body":"Actually disabling <code>Wrap at right margin</code> was correct; then <code>Wrapping and Braces</code> -&gt; <code>Hard wrap at</code> kicked in and it wraps correctly now. Care to put that as an answer? If so, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555743625,"creation_date":1555743625,"answer_id":55771088,"question_id":55770857,"body_markdown":"You can disable the **Wrap at right margin** option and use the `Wrapping and Braces` | **Hard wrap at**. The current behavior is a bit confusing and there is [an open issue for that](https://youtrack.jetbrains.com/issue/IDEA-189748#focus=streamItem-27-2808035.0-0).","title":"Strange Javadoc wrapping in Intellij","body":"<p>You can disable the <strong>Wrap at right margin</strong> option and use the <code>Wrapping and Braces</code> | <strong>Hard wrap at</strong>. The current behavior is a bit confusing and there is <a href=\"https://youtrack.jetbrains.com/issue/IDEA-189748#focus=streamItem-27-2808035.0-0\" rel=\"nofollow noreferrer\">an open issue for that</a>.</p>\n"},{"tags":[],"owner":{"account_id":19387534,"reputation":449,"user_id":14176948,"display_name":"Alex Mandelias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658848080,"creation_date":1658848080,"answer_id":73125796,"question_id":55770857,"body_markdown":"I&#39;ve found that the answer that @CrazyCoder provided messes up with line continuation indents. Specifically, that javadoc lines that are wrapped with **Hard wrap at** are not indented properly, even if the `JavaDoc` | **Indent continuation lines** option is enabled.\r\n\r\nTo preserver the line continuation indents I followed the instructions provided on the [issue][1] (posted, again, by @CrazyCoder) and I have also enabled `Wrapping and Braces` | **Wrap if long** at any place I could find.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-189748#focus=streamItem-27-2808035.0-0","title":"Strange Javadoc wrapping in Intellij","body":"<p>I've found that the answer that @CrazyCoder provided messes up with line continuation indents. Specifically, that javadoc lines that are wrapped with <strong>Hard wrap at</strong> are not indented properly, even if the <code>JavaDoc</code> | <strong>Indent continuation lines</strong> option is enabled.</p>\n<p>To preserver the line continuation indents I followed the instructions provided on the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-189748#focus=streamItem-27-2808035.0-0\" rel=\"nofollow noreferrer\">issue</a> (posted, again, by @CrazyCoder) and I have also enabled <code>Wrapping and Braces</code> | <strong>Wrap if long</strong> at any place I could find.</p>\n"}],"owner":{"account_id":94158,"reputation":8434,"user_id":257233,"accept_rate":88,"display_name":"Robert Mark Bram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55771088,"answer_count":2,"score":1,"last_activity_date":1658848080,"creation_date":1555741164,"question_id":55770857,"body_markdown":"Why I am getting this strange formatting of Javadoc in Intellij? The wrapping is completely off:\r\n\r\n[![Strange Javadoc formatting in Intellij][2]][2]\r\n\r\nThis is my Intellij Javdoc Formatting rules\r\n\r\n[![Intellij Javdoc Formatting rules][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FuxSY.png\r\n  [2]: https://i.stack.imgur.com/d72g7.png","title":"Strange Javadoc wrapping in Intellij","body":"<p>Why I am getting this strange formatting of Javadoc in Intellij? The wrapping is completely off:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d72g7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d72g7.png\" alt=\"Strange Javadoc formatting in Intellij\"></a></p>\n\n<p>This is my Intellij Javdoc Formatting rules</p>\n\n<p><a href=\"https://i.stack.imgur.com/FuxSY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FuxSY.png\" alt=\"Intellij Javdoc Formatting rules\"></a></p>\n"},{"tags":["java","oracle-agile-plm"],"comments":[{"owner":{"account_id":15823311,"reputation":73,"user_id":11417027,"display_name":"netiv"},"score":0,"creation_date":1675454446,"post_id":73113822,"comment_id":132940147,"body_markdown":"Are you trying to set the date using change order (by rolling revision) otherwise it&#39;s not possible.","body":"Are you trying to set the date using change order (by rolling revision) otherwise it&#39;s not possible."}],"owner":{"account_id":25892667,"reputation":11,"user_id":19619817,"display_name":"DDOTS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658847787,"creation_date":1658773845,"question_id":73113822,"body_markdown":"If there are internal specifications in the Compliance tab of item, then by clicking &quot;calculate compliance&quot;, following title block fields are populated:\r\n\r\n - Compliance calculated date \r\n - Overall compliance\r\n\r\nBut when only external specifications are present, these fields are not set. Following sdk method can Populate &quot;overall compliance&quot;\r\n\r\n    Item.setOverallCompliance()\r\n\r\nBut date field is not populated, is there any way this filed can be populated?","title":"Set &quot;compliance calculated date&quot; on item title block in Oracle Agile PLM","body":"<p>If there are internal specifications in the Compliance tab of item, then by clicking &quot;calculate compliance&quot;, following title block fields are populated:</p>\n<ul>\n<li>Compliance calculated date</li>\n<li>Overall compliance</li>\n</ul>\n<p>But when only external specifications are present, these fields are not set. Following sdk method can Populate &quot;overall compliance&quot;</p>\n<pre><code>Item.setOverallCompliance()\n</code></pre>\n<p>But date field is not populated, is there any way this filed can be populated?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1658847945,"post_id":73124408,"comment_id":129151054,"body_markdown":"Are you sure you need DTOs? Are they also for writing the data? If you only need it for reading you can directly create JSON from the DB https://martinelli.ch/use-the-power-of-your-database-xml-and-json/","body":"Are you sure you need DTOs? Are they also for writing the data? If you only need it for reading you can directly create JSON from the DB <a href=\"https://martinelli.ch/use-the-power-of-your-database-xml-and-json/\" rel=\"nofollow noreferrer\">martinelli.ch/use-the-power-of-your-database-xml-and-json</a>"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658847440,"creation_date":1658843202,"answer_id":73124562,"question_id":73124408,"body_markdown":"&gt; When I try to access these entities in my service, it\r\n&gt; gives me StackOverflow Exception because of nested entities.\r\n\r\nThis should have been the case before you have added the annotations `@JsonManagedReference` and `@JsonBackReference`. If the SO error continues with those annotations then there is some other issue with your entities and not related with those nested fields. \r\n\r\n&gt; \r\n&gt; \r\n&gt; Now, how do I create DTOs for these two entities when I am doing unit\r\n&gt; testing?\r\n\r\nThe same way you have your now entities but you do one of the following:\r\n\r\n  * You place again the annotations `@JsonManagedReference` and `@JsonBackReference` on those DTOs same way you have them in your entities.\r\n\r\n * You break the relationship into a one sided relationship. So for example `UsersDto` does not have a field of `personData` or `PersonDto` does not have the `List&lt;UsersDto&gt; users`. \r\n\r\nHowever `DTOs` usually bring some more functionality in the table in order to consider using them. Just such small issue of stack overflow could be easily avoided only with the above annotations directly on entities.\r\n\r\n","title":"How do I create DTOs for nested entities referencing each other?","body":"<blockquote>\n<p>When I try to access these entities in my service, it\ngives me StackOverflow Exception because of nested entities.</p>\n</blockquote>\n<p>This should have been the case before you have added the annotations <code>@JsonManagedReference</code> and <code>@JsonBackReference</code>. If the SO error continues with those annotations then there is some other issue with your entities and not related with those nested fields.</p>\n<blockquote>\n<p>Now, how do I create DTOs for these two entities when I am doing unit\ntesting?</p>\n</blockquote>\n<p>The same way you have your now entities but you do one of the following:</p>\n<ul>\n<li><p>You place again the annotations <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> on those DTOs same way you have them in your entities.</p>\n</li>\n<li><p>You break the relationship into a one sided relationship. So for example <code>UsersDto</code> does not have a field of <code>personData</code> or <code>PersonDto</code> does not have the <code>List&lt;UsersDto&gt; users</code>.</p>\n</li>\n</ul>\n<p>However <code>DTOs</code> usually bring some more functionality in the table in order to consider using them. Just such small issue of stack overflow could be easily avoided only with the above annotations directly on entities.</p>\n"}],"owner":{"display_name":"user19590647"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658847440,"creation_date":1658842559,"question_id":73124408,"body_markdown":"Lets say if I have two entities like this,\r\n\r\nUsers Entity:\r\n\r\n    public class Users {\r\n      @Basic\r\n      @Column(name = &quot;USER_NAME&quot;)\r\n      private String name;\r\n    \r\n      @Basic\r\n      @Column(name = &quot;USER_ADDRESS&quot;)\r\n      private String address;\r\n    \r\n      @ManyToOne\r\n      @JsonBackReference\r\n      @JoinColumn(name = &quot;PERSON_ID&quot;)\r\n      private Person personData;\r\n    }\r\n\r\nPerson Entity:\r\n\r\n    public class Person {\r\n      @Id\r\n      @Column(name = &quot;PERSON_ID&quot;)\r\n      private Long personId\r\n    \r\n      @Basic\r\n      @Column(name = &quot;USER_ADDRESS&quot;)\r\n      private String address;\r\n    \r\n      @OneToMany(mappedBy=&quot;personData&quot;, cascase = CascadeType.ALL, orphanRemoval = true)\r\n      @JsonManagedReference\r\n      List&lt;Users&gt; users;\r\n    }\r\n\r\nNow, how do I create DTOs for these two entities when I am doing unit testing? Also, when I try to access these entities in my service, it gives me StackOverflow Exception because of nested entities.","title":"How do I create DTOs for nested entities referencing each other?","body":"<p>Lets say if I have two entities like this,</p>\n<p>Users Entity:</p>\n<pre><code>public class Users {\n  @Basic\n  @Column(name = &quot;USER_NAME&quot;)\n  private String name;\n\n  @Basic\n  @Column(name = &quot;USER_ADDRESS&quot;)\n  private String address;\n\n  @ManyToOne\n  @JsonBackReference\n  @JoinColumn(name = &quot;PERSON_ID&quot;)\n  private Person personData;\n}\n</code></pre>\n<p>Person Entity:</p>\n<pre><code>public class Person {\n  @Id\n  @Column(name = &quot;PERSON_ID&quot;)\n  private Long personId\n\n  @Basic\n  @Column(name = &quot;USER_ADDRESS&quot;)\n  private String address;\n\n  @OneToMany(mappedBy=&quot;personData&quot;, cascase = CascadeType.ALL, orphanRemoval = true)\n  @JsonManagedReference\n  List&lt;Users&gt; users;\n}\n</code></pre>\n<p>Now, how do I create DTOs for these two entities when I am doing unit testing? Also, when I try to access these entities in my service, it gives me StackOverflow Exception because of nested entities.</p>\n"},{"tags":["java","debugging"],"comments":[{"owner":{"account_id":5345891,"reputation":2894,"user_id":4261472,"accept_rate":88,"display_name":"Sergei Voitovich"},"score":2,"creation_date":1510133283,"post_id":5393403,"comment_id":81300940,"body_markdown":"Check this out\nhttps://stackoverflow.com/questions/25990147/check-if-a-debugger-is-attached-during-the-execution-of-a-unit-test","body":"Check this out <a href=\"https://stackoverflow.com/questions/25990147/check-if-a-debugger-is-attached-during-the-execution-of-a-unit-test\" title=\"check if a debugger is attached during the execution of a unit test\">stackoverflow.com/questions/25990147/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1300807307,"creation_date":1300807307,"answer_id":5393519,"question_id":5393403,"body_markdown":"No. The options are JVM options, and no Javacode is executed before the debugger connects. You can however let the app start, and spinloop on a getter for a variable, which you set from the debugger to let your app continue.","title":"Can a Java application detect that a debugger is attached?","body":"<p>No. The options are JVM options, and no Javacode is executed before the debugger connects. You can however let the app start, and spinloop on a getter for a variable, which you set from the debugger to let your app continue.</p>\n"},{"tags":[],"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300821831,"creation_date":1300821831,"answer_id":5396666,"question_id":5393403,"body_markdown":"Depending on what you&#39;d like to do, it might be worthwhile investigating the [`onthrow` JDWP sub-option][1]. I haven&#39;t actually tried this ;-) but it seems like you could create a special exception type that you throw and catch to trigger JVM suspension. As shown in the linked examples, combining with `launch` can provide for some interesting alternatives. Of course, the logic/workflow is different from what you&#39;ve expressed, but it&#39;s something to think about...\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/guides/jpda/conninv.html#Invocation","title":"Can a Java application detect that a debugger is attached?","body":"<p>Depending on what you'd like to do, it might be worthwhile investigating the <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/jpda/conninv.html#Invocation\" rel=\"nofollow\"><code>onthrow</code> JDWP sub-option</a>. I haven't actually tried this ;-) but it seems like you could create a special exception type that you throw and catch to trigger JVM suspension. As shown in the linked examples, combining with <code>launch</code> can provide for some interesting alternatives. Of course, the logic/workflow is different from what you've expressed, but it's something to think about...</p>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332961992,"creation_date":1332961992,"answer_id":9914156,"question_id":5393403,"body_markdown":"see https://stackoverflow.com/questions/1109019/determine-if-a-java-application-is-in-debug-mode-in-eclipse for detecting debugger\r\n\r\nYou could user  TimerTask to poll for attachment","title":"Can a Java application detect that a debugger is attached?","body":"<p>see <a href=\"https://stackoverflow.com/questions/1109019/determine-if-a-java-application-is-in-debug-mode-in-eclipse\">Determine if a java application is in debug mode in Eclipse</a> for detecting debugger</p>\n\n<p>You could user  TimerTask to poll for attachment</p>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658847288,"creation_date":1658845100,"answer_id":73125047,"question_id":5393403,"body_markdown":"The consensus is: *no*. Java does not have the equivalent of:\r\n\r\n- [IsDebuggerPresent][1] *(native Windows)*\r\n- [Debugger.IsAttached][2] *(.NET)*\r\n- [DebugHook][3] *(Delphi)*\r\n\r\nBut the consensus:\r\n\r\n- https://stackoverflow.com/questions/71308198/how-to-programmatically-detect-whether-current-jvm-is-connected-by-a-remote-debu\r\n- https://stackoverflow.com/questions/5393403/can-a-java-application-detect-that-a-debugger-is-attached\r\n- https://stackoverflow.com/questions/1109019/determine-if-a-java-application-is-in-debug-mode-in-eclipse\r\n- https://stackoverflow.com/questions/28754627/check-whether-we-are-in-intellij-idea-debugger\r\n- https://stackoverflow.com/questions/3776204/how-to-find-out-if-debug-mode-is-enabled\r\n\r\nagrees that the best (non-minified) hack is:\r\n\r\n```\r\npublic static boolean isDebuggerPresent() {\r\n\t// Get ahold of the Java Runtime Environment (JRE) management interface\r\n\tRuntimeMXBean runtime = java.lang.management.ManagementFactory.getRuntimeMXBean();\r\n\r\n\t// Get the command line arguments that we were originally passed in\r\n\tList&lt;String&gt; args = runtime.getInputArguments();\r\n\r\n\t// Check if the Java Debug Wire Protocol (JDWP) agent is used.\r\n\t// One of the items might contain something like &quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot;\r\n\t// We&#39;re looking for the string &quot;jdwp&quot;.\r\n\tboolean jdwpPresent = args.toString().contains(&quot;jdwp&quot;);\r\n\r\n\treturn jdwpPresent;\r\n}\r\n```\r\n\r\nWhich will have to suffice until Java officially adds one.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/debugapi/nf-debugapi-isdebuggerpresent\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.debugger.isattached?view=net-6.0\r\n  [3]: https://docwiki.embarcadero.com/Libraries/Alexandria/en/System.DebugHook","title":"Can a Java application detect that a debugger is attached?","body":"<p>The consensus is: <em>no</em>. Java does not have the equivalent of:</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/debugapi/nf-debugapi-isdebuggerpresent\" rel=\"nofollow noreferrer\">IsDebuggerPresent</a> <em>(native Windows)</em></li>\n<li><a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.debugger.isattached?view=net-6.0\" rel=\"nofollow noreferrer\">Debugger.IsAttached</a> <em>(.NET)</em></li>\n<li><a href=\"https://docwiki.embarcadero.com/Libraries/Alexandria/en/System.DebugHook\" rel=\"nofollow noreferrer\">DebugHook</a> <em>(Delphi)</em></li>\n</ul>\n<p>But the consensus:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71308198/how-to-programmatically-detect-whether-current-jvm-is-connected-by-a-remote-debu\">How to programmatically detect whether current JVM is connected by a remote debugger?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5393403/can-a-java-application-detect-that-a-debugger-is-attached\">Can a Java application detect that a debugger is attached?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1109019/determine-if-a-java-application-is-in-debug-mode-in-eclipse\">Determine if a java application is in debug mode in Eclipse</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28754627/check-whether-we-are-in-intellij-idea-debugger\">Check whether we are in Intellij IDEA Debugger</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3776204/how-to-find-out-if-debug-mode-is-enabled\">How to find out if &quot;debug mode&quot; is enabled</a></li>\n</ul>\n<p>agrees that the best (non-minified) hack is:</p>\n<pre><code>public static boolean isDebuggerPresent() {\n    // Get ahold of the Java Runtime Environment (JRE) management interface\n    RuntimeMXBean runtime = java.lang.management.ManagementFactory.getRuntimeMXBean();\n\n    // Get the command line arguments that we were originally passed in\n    List&lt;String&gt; args = runtime.getInputArguments();\n\n    // Check if the Java Debug Wire Protocol (JDWP) agent is used.\n    // One of the items might contain something like &quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot;\n    // We're looking for the string &quot;jdwp&quot;.\n    boolean jdwpPresent = args.toString().contains(&quot;jdwp&quot;);\n\n    return jdwpPresent;\n}\n</code></pre>\n<p>Which will have to suffice until Java officially adds one.</p>\n"}],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7012,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5393519,"answer_count":4,"score":13,"last_activity_date":1658847288,"creation_date":1300806888,"question_id":5393403,"body_markdown":"I know about the (jvm) startup options to have the jvm wait until a debugger is attached - this is not what I mean here.\r\n\r\nIs it possible from within Java code to also detect attachment of a debugger, so that I could e.g. write a &quot;script&quot; that is doing some stuff and then at a certain point make my app wait for the debugger?","title":"Can a Java application detect that a debugger is attached?","body":"<p>I know about the (jvm) startup options to have the jvm wait until a debugger is attached - this is not what I mean here.</p>\n\n<p>Is it possible from within Java code to also detect attachment of a debugger, so that I could e.g. write a \"script\" that is doing some stuff and then at a certain point make my app wait for the debugger?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7573059,"reputation":2286,"user_id":5746236,"display_name":"Yash Rami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658843893,"creation_date":1658843893,"answer_id":73124743,"question_id":73124129,"body_markdown":"**For adding controllers and services externally**:\r\n\r\n`@ComponentScan(basePackages = {&quot;com.path.to.class&quot;, &quot;com.path.to.class&quot;})`\r\n\r\n**For adding Entity**:\r\n\r\n`@EntityScan(basePackages = {&quot;com.path.to.class&quot;, &quot;com.path.to.class&quot;})`\r\n\r\n**For adding Repositories**:\r\n\r\n`@EnableJpaRepositories(basePackages = {&quot;com.path.to.class&quot;, &quot;com.path.to.class&quot;})`","title":"Spring Boot load extra Controllers and Services from a jar inside external folder","body":"<p><strong>For adding controllers and services externally</strong>:</p>\n<p><code>@ComponentScan(basePackages = {&quot;com.path.to.class&quot;, &quot;com.path.to.class&quot;})</code></p>\n<p><strong>For adding Entity</strong>:</p>\n<p><code>@EntityScan(basePackages = {&quot;com.path.to.class&quot;, &quot;com.path.to.class&quot;})</code></p>\n<p><strong>For adding Repositories</strong>:</p>\n<p><code>@EnableJpaRepositories(basePackages = {&quot;com.path.to.class&quot;, &quot;com.path.to.class&quot;})</code></p>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658846438,"creation_date":1658846438,"answer_id":73125421,"question_id":73124129,"body_markdown":"If you have control over these jars, I&#39;ll suggest to use custom spring boot starter in this way the jar autoconfigure itself and you don&#39;t need extra annotation.\r\n\r\n[custom spring boot starter][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-custom-starter","title":"Spring Boot load extra Controllers and Services from a jar inside external folder","body":"<p>If you have control over these jars, I'll suggest to use custom spring boot starter in this way the jar autoconfigure itself and you don't need extra annotation.</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-custom-starter\" rel=\"nofollow noreferrer\">custom spring boot starter</a></p>\n"}],"owner":{"account_id":22051617,"reputation":71,"user_id":16315834,"display_name":"ErSeraph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658846438,"creation_date":1658841512,"question_id":73124129,"body_markdown":"I have a Spring Boot Application with few Controllers, Services, Entities and Repositories, and I want to load at runtime some extra jars with Controllers, Services ecc. that I&#39;ll put in a directory, for example like this:\r\n\r\n    --MyFolder\r\n         |\r\n         SpringApp.jar\r\n         PluginsFolder\r\n            |\r\n            Plugin1.jar\r\n            Plugin2.jar\r\nSo while having SpringApp.jar as a base Spring Boot Application, is it possible to load some extra Controllers and so by simply putting jars in that folder? I don&#39;t care if it need to reboot, any help?","title":"Spring Boot load extra Controllers and Services from a jar inside external folder","body":"<p>I have a Spring Boot Application with few Controllers, Services, Entities and Repositories, and I want to load at runtime some extra jars with Controllers, Services ecc. that I'll put in a directory, for example like this:</p>\n<pre><code>--MyFolder\n     |\n     SpringApp.jar\n     PluginsFolder\n        |\n        Plugin1.jar\n        Plugin2.jar\n</code></pre>\n<p>So while having SpringApp.jar as a base Spring Boot Application, is it possible to load some extra Controllers and so by simply putting jars in that folder? I don't care if it need to reboot, any help?</p>\n"},{"tags":["java","arrays","reverse"],"comments":[{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":2,"creation_date":1333463702,"post_id":9995432,"comment_id":12774967,"body_markdown":"Is this homework?  If yes, please tagged as such.","body":"Is this homework?  If yes, please tagged as such."},{"owner":{"account_id":441736,"reputation":1442,"user_id":832000,"accept_rate":92,"display_name":"Osama Javed"},"score":2,"creation_date":1333463761,"post_id":9995432,"comment_id":12775003,"body_markdown":"consider swaping first and last items and then the second and second last items till you reach half the list... you will just need one temporary variable and will still go over the list once?","body":"consider swaping first and last items and then the second and second last items till you reach half the list... you will just need one temporary variable and will still go over the list once?"},{"owner":{"display_name":"user800014"},"score":2,"creation_date":1333463762,"post_id":9995432,"comment_id":12775004,"body_markdown":"http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java","body":"<a href=\"http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\" title=\"how do i reverse an int array in java\">stackoverflow.com/questions/2137755/&hellip;</a>"},{"owner":{"account_id":1112721,"reputation":4566,"user_id":1103702,"accept_rate":65,"display_name":"Churk"},"score":2,"creation_date":1333463852,"post_id":9995432,"comment_id":12775052,"body_markdown":"Can you use the java lib? `Collections.reverseOrder()`","body":"Can you use the java lib? <code>Collections.reverseOrder()</code>"},{"owner":{"account_id":1112721,"reputation":4566,"user_id":1103702,"accept_rate":65,"display_name":"Churk"},"score":0,"creation_date":1333463923,"post_id":9995432,"comment_id":12775089,"body_markdown":"Just loop through the original array in reverse order, and create a new container to contain the new order inserts. it&#39;s O(n)","body":"Just loop through the original array in reverse order, and create a new container to contain the new order inserts. it&#39;s O(n)"}],"answers":[{"tags":[],"owner":{"account_id":102096,"reputation":23160,"user_id":274261,"accept_rate":100,"display_name":"ArjunShankar"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1372026004,"creation_date":1333463783,"answer_id":9995487,"question_id":9995432,"body_markdown":"Use a single temp element.\r\n\r\n    int array[SIZE];\r\n    int temp;\r\n\r\n    for (int i = 0; i &lt; SIZE/2; i++)\r\n      {\r\n         temp = array[i];\r\n         array[i] = array[SIZE-1 - i];\r\n         array[SIZE-1 - i] = temp;\r\n      }","title":"Reverse Array Order","body":"<p>Use a single temp element.</p>\n\n<pre><code>int array[SIZE];\nint temp;\n\nfor (int i = 0; i &lt; SIZE/2; i++)\n  {\n     temp = array[i];\n     array[i] = array[SIZE-1 - i];\n     array[SIZE-1 - i] = temp;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1273026,"reputation":5676,"user_id":1228887,"display_name":"twain249"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1333463945,"creation_date":1333463783,"answer_id":9995488,"question_id":9995432,"body_markdown":"you can do it without needing a temp array\r\n\r\n- loop from the beginning (or end doesn&#39;t matter) to the middle of the array \r\n- swap element with element at (last element - index) (so 0 and `size - 1`, 1 and `size - 2` etc)\r\n- you&#39;ll do something like this to swap:\r\n\r\n&lt;pre&gt;\r\n    temp = a[i];\r\n    a[i] = a[end-i];\r\n    a[end-i] = temp;\r\n&lt;/pre&gt;\r\n\r\n- repeat","title":"Reverse Array Order","body":"<p>you can do it without needing a temp array</p>\n\n<ul>\n<li>loop from the beginning (or end doesn't matter) to the middle of the array </li>\n<li>swap element with element at (last element - index) (so 0 and <code>size - 1</code>, 1 and <code>size - 2</code> etc)</li>\n<li>you'll do something like this to swap:</li>\n</ul>\n\n<pre>\n    temp = a[i];\n    a[i] = a[end-i];\n    a[end-i] = temp;\n</pre>\n\n<ul>\n<li>repeat</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1333463812,"creation_date":1333463812,"answer_id":9995499,"question_id":9995432,"body_markdown":"You don&#39;t need to use a temporary array; just step through the array from the beginning to half-way through, swapping the element at `i` for the element at `array.length-i-1`. Be sure the handle the middle element correctly (not hard to do, but do make sure.)","title":"Reverse Array Order","body":"<p>You don't need to use a temporary array; just step through the array from the beginning to half-way through, swapping the element at <code>i</code> for the element at <code>array.length-i-1</code>. Be sure the handle the middle element correctly (not hard to do, but do make sure.)</p>\n"},{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1333463829,"creation_date":1333463829,"answer_id":9995510,"question_id":9995432,"body_markdown":"pseudocode, assuming 0-based-index arrays:\r\n\r\n    for i in range(0, len(array)/2):\r\n         swap(array[i], array[(len(array)-1)-i])\r\n","title":"Reverse Array Order","body":"<p>pseudocode, assuming 0-based-index arrays:</p>\n\n<pre><code>for i in range(0, len(array)/2):\n     swap(array[i], array[(len(array)-1)-i])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1334761,"reputation":10670,"user_id":1277769,"accept_rate":76,"display_name":"SirGuy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1333463837,"creation_date":1333463837,"answer_id":9995513,"question_id":9995432,"body_markdown":"Here&#39;s two solutions:\r\n\r\n        loop to N/2\r\n          swap each element at i with element at N - i\r\n\r\nAnother solution is (depending on your circumstances) fake reversing the array by indexing:\r\n\r\n        GetValueAt(int i){return array[N - i];}","title":"Reverse Array Order","body":"<p>Here's two solutions:</p>\n\n<pre><code>    loop to N/2\n      swap each element at i with element at N - i\n</code></pre>\n\n<p>Another solution is (depending on your circumstances) fake reversing the array by indexing:</p>\n\n<pre><code>    GetValueAt(int i){return array[N - i];}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1333469706,"creation_date":1333463955,"answer_id":9995552,"question_id":9995432,"body_markdown":"If it&#39;s an Object array, then `Collections.reverse(Arrays.asList(array))` will do the job with constant memory and linear time -- no temporary array required.","title":"Reverse Array Order","body":"<p>If it's an Object array, then <code>Collections.reverse(Arrays.asList(array))</code> will do the job with constant memory and linear time -- no temporary array required.</p>\n"},{"tags":[],"owner":{"account_id":3954273,"reputation":89,"user_id":3263402,"display_name":"Andy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658846402,"creation_date":1429523549,"answer_id":29744547,"question_id":9995432,"body_markdown":"Lets consider we have Integer array\r\narr[] - Integer array.\r\n\r\n    \r\n    for(int i=0,int J=arr.length-1 ; i&lt;j ; i++,j--)\r\n    {\r\n        temp =a[i];\r\n        a[i]=a[j];\r\n        a[j]=temp;\r\n     }\r\n\r\nthis algorithm has O(n/2) as we will perfrom n/2 swaps. and its space complexity is constant 1 , as we are taking on temp variable. \r\n\r\n","title":"Reverse Array Order","body":"<p>Lets consider we have Integer array\narr[] - Integer array.</p>\n<pre><code>for(int i=0,int J=arr.length-1 ; i&lt;j ; i++,j--)\n{\n    temp =a[i];\n    a[i]=a[j];\n    a[j]=temp;\n }\n</code></pre>\n<p>this algorithm has O(n/2) as we will perfrom n/2 swaps. and its space complexity is constant 1 , as we are taking on temp variable.</p>\n"},{"tags":[],"owner":{"account_id":11087987,"reputation":11,"user_id":8140957,"display_name":"Darshan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1498015972,"creation_date":1498015972,"answer_id":44666409,"question_id":9995432,"body_markdown":"You can Do this in just two steps \r\n\r\n    ArrayList&lt;Element&gt; YourTempElement= new ArrayList&lt;Element&gt;(mElements);\r\n    Collections.reverse(YourTempElement);\r\n","title":"Reverse Array Order","body":"<p>You can Do this in just two steps </p>\n\n<pre><code>ArrayList&lt;Element&gt; YourTempElement= new ArrayList&lt;Element&gt;(mElements);\nCollections.reverse(YourTempElement);\n</code></pre>\n"}],"owner":{"account_id":1276552,"reputation":839,"user_id":1231689,"accept_rate":90,"display_name":"marcoo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76274,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":9995552,"answer_count":8,"score":21,"last_activity_date":1658846402,"creation_date":1333463580,"question_id":9995432,"body_markdown":"I am trying to reverse the order of an Array in java.  \r\nWhat is the most efficient way to do so in O(n) with the least amount of memory used.   \r\nNo need to answer with code, pseudo code will be fine.  \r\nHere is my thought process:\r\n\r\n  \r\n\r\n      create a new temp array //I think this is a waste of memory, \r\n                              //but I am not sure if there&#39;s a better way\r\n     grab elements from the end of the original array -decrement this variable\r\n     insert element in beginning of temp array -increment this variable\r\n    then make the original array point to the temp array? //I am not sure \r\n                //if I can do this in java; so let&#39;s say the \r\n                //original array is Object[] arr; and the temp array is \r\n                //Object[] temp. Can I do temp = arr; ?\r\n\r\nIs there a better more efficient way to do this perhaps without using a temp array?\r\nand Lastly, assume that there are no nulls in the array, so everything can work.\r\nThank you\r\n\r\nEdit: no this is not homework.\r\n","title":"Reverse Array Order","body":"<p>I am trying to reverse the order of an Array in java.<br>\nWhat is the most efficient way to do so in O(n) with the least amount of memory used.<br>\nNo need to answer with code, pseudo code will be fine.<br>\nHere is my thought process:</p>\n\n<pre><code>  create a new temp array //I think this is a waste of memory, \n                          //but I am not sure if there's a better way\n grab elements from the end of the original array -decrement this variable\n insert element in beginning of temp array -increment this variable\nthen make the original array point to the temp array? //I am not sure \n            //if I can do this in java; so let's say the \n            //original array is Object[] arr; and the temp array is \n            //Object[] temp. Can I do temp = arr; ?\n</code></pre>\n\n<p>Is there a better more efficient way to do this perhaps without using a temp array?\nand Lastly, assume that there are no nulls in the array, so everything can work.\nThank you</p>\n\n<p>Edit: no this is not homework.</p>\n"},{"tags":["java","c","bit-manipulation","levenshtein-distance"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658839925,"post_id":73123553,"comment_id":129147376,"body_markdown":"My C is a bit rusty, I don&#39;t know the specific algorithm and I&#39;m not sure it matters, but isn&#39;t `uint64_t` 64-bits wide? Why did you use an `int` (32-bits wide) in the java version?","body":"My C is a bit rusty, I don&#39;t know the specific algorithm and I&#39;m not sure it matters, but isn&#39;t <code>uint64_t</code> 64-bits wide? Why did you use an <code>int</code> (32-bits wide) in the java version?"},{"owner":{"account_id":14691979,"reputation":61,"user_id":10610389,"display_name":"Jurian Baas"},"score":0,"creation_date":1658840221,"post_id":73123553,"comment_id":129147492,"body_markdown":"@FedericoklezCulloca I tried using longs, but with the same result. At the end I (perhaps wrongly) thought it wouldn&#39;t matter.","body":"@FedericoklezCulloca I tried using longs, but with the same result. At the end I (perhaps wrongly) thought it wouldn&#39;t matter."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658840501,"post_id":73123553,"comment_id":129147601,"body_markdown":"By the way I would try to print intermediate results to at least pin down where the difference is.","body":"By the way I would try to print intermediate results to at least pin down where the difference is."},{"owner":{"account_id":14691979,"reputation":61,"user_id":10610389,"display_name":"Jurian Baas"},"score":0,"creation_date":1658841676,"post_id":73123553,"comment_id":129148151,"body_markdown":"@FedericoklezCulloca Thanks for the suggestion, I added some console output to the code and got different results, I still don&#39;t get why they&#39;re different though. I will update the question with the console output.","body":"@FedericoklezCulloca Thanks for the suggestion, I added some console output to the code and got different results, I still don&#39;t get why they&#39;re different though. I will update the question with the console output."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1658843014,"post_id":73123553,"comment_id":129148852,"body_markdown":"In your code `pv = Integer.MAX_VALUE; // unsigned int = -1`. Well no. The C Code is setting all the bits to 1 by `(uint64_t) -1`. `Integer.MAX_VALUE` has the most significant digit set to 0.","body":"In your code <code>pv = Integer.MAX_VALUE; &#47;&#47; unsigned int = -1</code>. Well no. The C Code is setting all the bits to 1 by <code>(uint64_t) -1</code>. <code>Integer.MAX_VALUE</code> has the most significant digit set to 0."},{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":1,"creation_date":1658843040,"post_id":73123553,"comment_id":129148860,"body_markdown":"The first difference in the output is the first `Pv:` value. `pv = Integer.MAX_VALUE;` (`0x7FFFffff`) is not an equivalent of `Pv = (uint64_t) -1;` (`0xFFFFffffFFFFffff`)","body":"The first difference in the output is the first <code>Pv:</code> value. <code>pv = Integer.MAX_VALUE;</code> (<code>0x7FFFffff</code>) is not an equivalent of <code>Pv = (uint64_t) -1;</code> (<code>0xFFFFffffFFFFffff</code>)"},{"owner":{"account_id":14691979,"reputation":61,"user_id":10610389,"display_name":"Jurian Baas"},"score":1,"creation_date":1658843717,"post_id":73123553,"comment_id":129149139,"body_markdown":"Thank you all for the suggestions, I have updated the code to make use of longs and set the last variable to the correct value. I also updated the java code to print unsigned numbers. Console output was changed accordingly.","body":"Thank you all for the suggestions, I have updated the code to make use of longs and set the last variable to the correct value. I also updated the java code to print unsigned numbers. Console output was changed accordingly."},{"owner":{"account_id":14691979,"reputation":61,"user_id":10610389,"display_name":"Jurian Baas"},"score":0,"creation_date":1658846241,"post_id":73123553,"comment_id":129150320,"body_markdown":"I have found the problems. One of the issues was indeed the initial value of Pv. The other was that, with the correct value for Pv, the complement could be as in the C code","body":"I have found the problems. One of the issues was indeed the initial value of Pv. The other was that, with the correct value for Pv, the complement could be as in the C code"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658852836,"post_id":73123553,"comment_id":129153033,"body_markdown":"To recapitulate: none of the operators used it this specific code depends on the signedness of the datatype. They all have well defined results (bit patterns) for all inputs. That also applies to the mentioned `~` operator. But also to the `+` operator, which not everyone is aware of. There is also no reason to use a different literal for the “all bits set” value; using `-1` works. Though, it would be more idiomatic to use `~0` for this purpose; this would avoid casting a signed value to an unsigned type in `C`. But keep in mind that a Java `char` is 16 bit wide which this code doesn’t handle.","body":"To recapitulate: none of the operators used it this specific code depends on the signedness of the datatype. They all have well defined results (bit patterns) for all inputs. That also applies to the mentioned <code>~</code> operator. But also to the <code>+</code> operator, which not everyone is aware of. There is also no reason to use a different literal for the “all bits set” value; using <code>-1</code> works. Though, it would be more idiomatic to use <code>~0</code> for this purpose; this would avoid casting a signed value to an unsigned type in <code>C</code>. But keep in mind that a Java <code>char</code> is 16 bit wide which this code doesn’t handle."}],"answers":[{"tags":[],"owner":{"account_id":14691979,"reputation":61,"user_id":10610389,"display_name":"Jurian Baas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658846350,"creation_date":1658846350,"answer_id":73125407,"question_id":73123553,"body_markdown":"With the very helpful comments I have figured out what was wrong with my code. Below is a working Java version of the C code. If anyone ever needs it, I hope they find it here.\r\n\r\n```lang-java\r\n    private int myers(String s1, String s2) {\r\n\r\n        final int len1 = s1.length();\r\n        final int len2 = s2.length();\r\n\r\n        final long[] charIndex = new long[256];\r\n\r\n        long eq, xv, xh, ph, mh, pv, mv, last;\r\n        int i;\r\n        int score = len2;\r\n\r\n        for (i = 0; i &lt; len2; i++) {\r\n            charIndex[s2.charAt(i)] |= 1L &lt;&lt; i;\r\n        }\r\n\r\n        mv = 0;\r\n        pv = 0xFFFFffffFFFFffffL;\r\n        last = 1L &lt;&lt; (len2 - 1);\r\n\r\n        for (i = 0; i &lt; len1; i++) {\r\n            eq = charIndex[s1.charAt(i)];\r\n\r\n            xv = eq | mv;\r\n            xh = (((eq &amp; pv) + pv) ^ pv) | eq;\r\n\r\n            ph = mv | ~(xh | pv);\r\n            mh = pv &amp; xh;\r\n\r\n            if ((ph &amp; last) != 0) score++;\r\n            if ((mh &amp; last) != 0) score--;\r\n\r\n            ph = (ph &lt;&lt; 1) | 1;\r\n            mh = (mh &lt;&lt; 1);\r\n\r\n            pv = mh | ~(xv | ph);\r\n            mv = ph &amp; xv;\r\n        }\r\n\r\n        return score;\r\n    }\r\n````","title":"Myers Levenshtein in Java from C (Java unsigned bit manipulation)","body":"<p>With the very helpful comments I have figured out what was wrong with my code. Below is a working Java version of the C code. If anyone ever needs it, I hope they find it here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private int myers(String s1, String s2) {\n\n        final int len1 = s1.length();\n        final int len2 = s2.length();\n\n        final long[] charIndex = new long[256];\n\n        long eq, xv, xh, ph, mh, pv, mv, last;\n        int i;\n        int score = len2;\n\n        for (i = 0; i &lt; len2; i++) {\n            charIndex[s2.charAt(i)] |= 1L &lt;&lt; i;\n        }\n\n        mv = 0;\n        pv = 0xFFFFffffFFFFffffL;\n        last = 1L &lt;&lt; (len2 - 1);\n\n        for (i = 0; i &lt; len1; i++) {\n            eq = charIndex[s1.charAt(i)];\n\n            xv = eq | mv;\n            xh = (((eq &amp; pv) + pv) ^ pv) | eq;\n\n            ph = mv | ~(xh | pv);\n            mh = pv &amp; xh;\n\n            if ((ph &amp; last) != 0) score++;\n            if ((mh &amp; last) != 0) score--;\n\n            ph = (ph &lt;&lt; 1) | 1;\n            mh = (mh &lt;&lt; 1);\n\n            pv = mh | ~(xv | ph);\n            mv = ph &amp; xv;\n        }\n\n        return score;\n    }\n</code></pre>\n"}],"owner":{"account_id":14691979,"reputation":61,"user_id":10610389,"display_name":"Jurian Baas"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658846350,"creation_date":1658839240,"question_id":73123553,"body_markdown":"I&#39;m attempting to use the Myers bit-parallel algorithm to perform fast approximate string matching in Java. I found an excellent implementation in C, but am having issues with implementing it in Java. My version never seems to update the score variable.\r\n\r\nBelow is the C implementation: (credit goes to [Fujimoto Seiji][1])\r\n``` lang-c\r\nint8_t myers1999(char *s1, int8_t len1, char *s2, int8_t len2) {\r\n    // In the benchmarks, len1 and len2 are the same number (I assume this is k)\r\n    uint64_t Peq[256]; \r\n    uint64_t Eq, Xv, Xh, Ph, Mh, Pv, Mv, Last;\r\n    int8_t i;\r\n    int8_t Score = len2;\r\n\r\n    memset(Peq, 0, sizeof(Peq));\r\n\r\n    for (i = 0; i &lt; len2; i++)\r\n        Peq[s2[i]] |= (uint64_t) 1 &lt;&lt; i;\r\n\r\n    Mv = 0;\r\n    Pv = (uint64_t) -1;\r\n    Last = (uint64_t) 1 &lt;&lt; (len2 - 1);\r\n    printf(&quot;Last: %lu\\n&quot;, Last);\r\n    for (i = 0; i &lt; len1; i++) {\r\n        Eq = Peq[s1[i]];\r\n\r\n        Xv = Eq | Mv;\r\n        Xh = (((Eq &amp; Pv) + Pv) ^ Pv) | Eq;\r\n\r\n        Ph = Mv | ~ (Xh | Pv);\r\n        Mh = Pv &amp; Xh;\r\n\r\n        printf(&quot;Eq: %lu\\n&quot;, Eq);\r\n        printf(&quot;Xv: %lu\\n&quot;, Xv);\r\n        printf(&quot;Xh: %lu\\n&quot;, Xh);\r\n        printf(&quot;Ph: %lu\\n&quot;, Ph);\r\n        printf(&quot;Mh: %lu\\n&quot;, Mh);\r\n        printf(&quot;Pv: %lu\\n&quot;, Pv);\r\n        printf(&quot;Mv: %lu\\n&quot;, Mv);\r\n        printf(&quot;\\n&quot;);\r\n\r\n        if (Ph &amp; Last) Score++;\r\n        if (Mh &amp; Last) Score--;\r\n\r\n        Ph = (Ph &lt;&lt; 1) | 1;\r\n        Mh = (Mh &lt;&lt; 1);\r\n\r\n        Pv = Mh | ~ (Xv | Ph);\r\n        Mv = Ph &amp; Xv;\r\n     }\r\n     return Score;\r\n}\r\n```\r\nNow follows my version in Java:\r\n``` lang-java\r\nprivate int myers(String s1, String s2, int k) {\r\n\r\n    final long[] charIndex = new long[256];\r\n    long eq, xv, xh, ph, mh, pv, mv, last;\r\n    int i;\r\n    int score = k;\r\n\r\n    for (i = 0; i &lt; k; i++) {\r\n        charIndex[s2.charAt(i)] |= 1L &lt;&lt; i;\r\n    }\r\n\r\n    mv = 0;\r\n    pv = 0xFFFFffffFFFFffffL;\r\n    last = 1L &lt;&lt; (k - 1);\r\n    System.out.println(&quot;Last: &quot;+Long.toUnsignedString(last));\r\n    for (i = 0; i &lt; k; i++) {\r\n        eq = charIndex[s1.charAt(i)];\r\n\r\n        xv = eq | mv;\r\n        xh = (((eq &amp; pv) + pv) ^ pv) | eq;\r\n\r\n        ph = mv | (~(xh | pv) &amp; 0xff); // unsigned complement\r\n        mh = pv &amp; xh;\r\n\r\n        System.out.println(&quot;Eq: &quot;+Long.toUnsignedString(eq));\r\n        System.out.println(&quot;Xv: &quot;+Long.toUnsignedString(xv));\r\n        System.out.println(&quot;Xh: &quot;+Long.toUnsignedString(xh));\r\n        System.out.println(&quot;Ph: &quot;+Long.toUnsignedString(ph));\r\n        System.out.println(&quot;Mh: &quot;+Long.toUnsignedString(mh));\r\n        System.out.println(&quot;Pv: &quot;+Long.toUnsignedString(pv));\r\n        System.out.println(&quot;Mv: &quot;+Long.toUnsignedString(mv));\r\n        System.out.println();\r\n\r\n        if ((ph &amp; last) != 0) score++; // score is almost never updated\r\n        if ((mh &amp; last) != 0) score--;\r\n\r\n        ph = (ph &lt;&lt; 1) | 1;\r\n        mh = (mh &lt;&lt; 1);\r\n\r\n        pv = mh | (~(xv | ph) &amp; 0xff); // unsigned complement\r\n        mv = ph &amp; xv;\r\n    }\r\n\r\n    return score;\r\n}\r\n```\r\nAs far as I am aware, only the ~ operator is different for unsigned numbers. I am missing something with the overflow in bit manipulation? Can anyone help me with finding what is wrong?\r\n\r\nP.S. I wish I could add the tag &#39;Myers&#39; to give this question proper context, but I cannot.\r\n\r\n**Edit**\r\nAs Federico suggested, I added some console output to both programs. They are indeed different. Below is the output:\r\n\r\nFirst the main method in c:\r\n\r\n``` lang-c\r\nint main()\r\n{\r\n    \r\n    char test1[] = &quot;ABCDFGEGA&quot;;\r\n    char test2[] = &quot;BCDEFGEGA&quot;;\r\n    int8_t k = 7;\r\n    int8_t result1 = myers1999(test1, k, test2, k);\r\n    printf(&quot;%i\\n&quot;, result1);\r\n    return 0;\r\n}\r\n```\r\n\r\nThe Java code I won&#39;t add, it is equivalent to this (same strings, etc...)\r\n\r\nC output:\r\n```lang-yaml\r\nLast: 64\r\nEq: 0\r\nXv: 0\r\nXh: 0\r\nPh: 0\r\nMh: 0\r\nPv: 18446744073709551615\r\nMv: 0\r\n\r\nEq: 1\r\nXv: 1\r\nXh: 1\r\nPh: 0\r\nMh: 0\r\nPv: 18446744073709551614\r\nMv: 0\r\n\r\nEq: 2\r\nXv: 3\r\nXh: 18446744073709551614\r\nPh: 1\r\nMh: 18446744073709551614\r\nPv: 18446744073709551614\r\nMv: 1\r\n\r\nEq: 4\r\nXv: 7\r\nXh: 18446744073709551612\r\nPh: 3\r\nMh: 18446744073709551612\r\nPv: 18446744073709551612\r\nMv: 3\r\n\r\nEq: 16\r\nXv: 23\r\nXh: 18446744073709551600\r\nPh: 7\r\nMh: 18446744073709551600\r\nPv: 18446744073709551608\r\nMv: 7\r\n\r\nEq: 32\r\nXv: 39\r\nXh: 18446744073709551584\r\nPh: 31\r\nMh: 18446744073709551584\r\nPv: 18446744073709551584\r\nMv: 7\r\n\r\nEq: 72\r\nXv: 111\r\nXh: 18446744073709551560\r\nPh: 55\r\nMh: 18446744073709551552\r\nPv: 18446744073709551552\r\nMv: 39\r\n\r\n2\r\n```\r\nJava output:\r\n```lang-yaml\r\nLast: 64\r\nEq: 0\r\nXv: 0\r\nXh: 0\r\nPh: 0\r\nMh: 0\r\nPv: 18446744073709551615\r\nMv: 0\r\n\r\nEq: 1\r\nXv: 1\r\nXh: 1\r\nPh: 0\r\nMh: 0\r\nPv: 254\r\nMv: 0\r\n\r\nEq: 2\r\nXv: 3\r\nXh: 510\r\nPh: 1\r\nMh: 254\r\nPv: 254\r\nMv: 1\r\n\r\nEq: 4\r\nXv: 7\r\nXh: 1020\r\nPh: 3\r\nMh: 508\r\nPv: 508\r\nMv: 3\r\n\r\nEq: 16\r\nXv: 23\r\nXh: 2032\r\nPh: 7\r\nMh: 1008\r\nPv: 1016\r\nMv: 7\r\n\r\nEq: 32\r\nXv: 39\r\nXh: 4064\r\nPh: 31\r\nMh: 2016\r\nPv: 2016\r\nMv: 7\r\n\r\nEq: 72\r\nXv: 111\r\nXh: 8136\r\nPh: 55\r\nMh: 4032\r\nPv: 4032\r\nMv: 39\r\n\r\n2.0\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://ceptord.net/20200815-Comparison.html","title":"Myers Levenshtein in Java from C (Java unsigned bit manipulation)","body":"<p>I'm attempting to use the Myers bit-parallel algorithm to perform fast approximate string matching in Java. I found an excellent implementation in C, but am having issues with implementing it in Java. My version never seems to update the score variable.</p>\n<p>Below is the C implementation: (credit goes to <a href=\"https://ceptord.net/20200815-Comparison.html\" rel=\"nofollow noreferrer\">Fujimoto Seiji</a>)</p>\n<pre class=\"lang-c prettyprint-override\"><code>int8_t myers1999(char *s1, int8_t len1, char *s2, int8_t len2) {\n    // In the benchmarks, len1 and len2 are the same number (I assume this is k)\n    uint64_t Peq[256]; \n    uint64_t Eq, Xv, Xh, Ph, Mh, Pv, Mv, Last;\n    int8_t i;\n    int8_t Score = len2;\n\n    memset(Peq, 0, sizeof(Peq));\n\n    for (i = 0; i &lt; len2; i++)\n        Peq[s2[i]] |= (uint64_t) 1 &lt;&lt; i;\n\n    Mv = 0;\n    Pv = (uint64_t) -1;\n    Last = (uint64_t) 1 &lt;&lt; (len2 - 1);\n    printf(&quot;Last: %lu\\n&quot;, Last);\n    for (i = 0; i &lt; len1; i++) {\n        Eq = Peq[s1[i]];\n\n        Xv = Eq | Mv;\n        Xh = (((Eq &amp; Pv) + Pv) ^ Pv) | Eq;\n\n        Ph = Mv | ~ (Xh | Pv);\n        Mh = Pv &amp; Xh;\n\n        printf(&quot;Eq: %lu\\n&quot;, Eq);\n        printf(&quot;Xv: %lu\\n&quot;, Xv);\n        printf(&quot;Xh: %lu\\n&quot;, Xh);\n        printf(&quot;Ph: %lu\\n&quot;, Ph);\n        printf(&quot;Mh: %lu\\n&quot;, Mh);\n        printf(&quot;Pv: %lu\\n&quot;, Pv);\n        printf(&quot;Mv: %lu\\n&quot;, Mv);\n        printf(&quot;\\n&quot;);\n\n        if (Ph &amp; Last) Score++;\n        if (Mh &amp; Last) Score--;\n\n        Ph = (Ph &lt;&lt; 1) | 1;\n        Mh = (Mh &lt;&lt; 1);\n\n        Pv = Mh | ~ (Xv | Ph);\n        Mv = Ph &amp; Xv;\n     }\n     return Score;\n}\n</code></pre>\n<p>Now follows my version in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int myers(String s1, String s2, int k) {\n\n    final long[] charIndex = new long[256];\n    long eq, xv, xh, ph, mh, pv, mv, last;\n    int i;\n    int score = k;\n\n    for (i = 0; i &lt; k; i++) {\n        charIndex[s2.charAt(i)] |= 1L &lt;&lt; i;\n    }\n\n    mv = 0;\n    pv = 0xFFFFffffFFFFffffL;\n    last = 1L &lt;&lt; (k - 1);\n    System.out.println(&quot;Last: &quot;+Long.toUnsignedString(last));\n    for (i = 0; i &lt; k; i++) {\n        eq = charIndex[s1.charAt(i)];\n\n        xv = eq | mv;\n        xh = (((eq &amp; pv) + pv) ^ pv) | eq;\n\n        ph = mv | (~(xh | pv) &amp; 0xff); // unsigned complement\n        mh = pv &amp; xh;\n\n        System.out.println(&quot;Eq: &quot;+Long.toUnsignedString(eq));\n        System.out.println(&quot;Xv: &quot;+Long.toUnsignedString(xv));\n        System.out.println(&quot;Xh: &quot;+Long.toUnsignedString(xh));\n        System.out.println(&quot;Ph: &quot;+Long.toUnsignedString(ph));\n        System.out.println(&quot;Mh: &quot;+Long.toUnsignedString(mh));\n        System.out.println(&quot;Pv: &quot;+Long.toUnsignedString(pv));\n        System.out.println(&quot;Mv: &quot;+Long.toUnsignedString(mv));\n        System.out.println();\n\n        if ((ph &amp; last) != 0) score++; // score is almost never updated\n        if ((mh &amp; last) != 0) score--;\n\n        ph = (ph &lt;&lt; 1) | 1;\n        mh = (mh &lt;&lt; 1);\n\n        pv = mh | (~(xv | ph) &amp; 0xff); // unsigned complement\n        mv = ph &amp; xv;\n    }\n\n    return score;\n}\n</code></pre>\n<p>As far as I am aware, only the ~ operator is different for unsigned numbers. I am missing something with the overflow in bit manipulation? Can anyone help me with finding what is wrong?</p>\n<p>P.S. I wish I could add the tag 'Myers' to give this question proper context, but I cannot.</p>\n<p><strong>Edit</strong>\nAs Federico suggested, I added some console output to both programs. They are indeed different. Below is the output:</p>\n<p>First the main method in c:</p>\n<pre class=\"lang-c prettyprint-override\"><code>int main()\n{\n    \n    char test1[] = &quot;ABCDFGEGA&quot;;\n    char test2[] = &quot;BCDEFGEGA&quot;;\n    int8_t k = 7;\n    int8_t result1 = myers1999(test1, k, test2, k);\n    printf(&quot;%i\\n&quot;, result1);\n    return 0;\n}\n</code></pre>\n<p>The Java code I won't add, it is equivalent to this (same strings, etc...)</p>\n<p>C output:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Last: 64\nEq: 0\nXv: 0\nXh: 0\nPh: 0\nMh: 0\nPv: 18446744073709551615\nMv: 0\n\nEq: 1\nXv: 1\nXh: 1\nPh: 0\nMh: 0\nPv: 18446744073709551614\nMv: 0\n\nEq: 2\nXv: 3\nXh: 18446744073709551614\nPh: 1\nMh: 18446744073709551614\nPv: 18446744073709551614\nMv: 1\n\nEq: 4\nXv: 7\nXh: 18446744073709551612\nPh: 3\nMh: 18446744073709551612\nPv: 18446744073709551612\nMv: 3\n\nEq: 16\nXv: 23\nXh: 18446744073709551600\nPh: 7\nMh: 18446744073709551600\nPv: 18446744073709551608\nMv: 7\n\nEq: 32\nXv: 39\nXh: 18446744073709551584\nPh: 31\nMh: 18446744073709551584\nPv: 18446744073709551584\nMv: 7\n\nEq: 72\nXv: 111\nXh: 18446744073709551560\nPh: 55\nMh: 18446744073709551552\nPv: 18446744073709551552\nMv: 39\n\n2\n</code></pre>\n<p>Java output:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Last: 64\nEq: 0\nXv: 0\nXh: 0\nPh: 0\nMh: 0\nPv: 18446744073709551615\nMv: 0\n\nEq: 1\nXv: 1\nXh: 1\nPh: 0\nMh: 0\nPv: 254\nMv: 0\n\nEq: 2\nXv: 3\nXh: 510\nPh: 1\nMh: 254\nPv: 254\nMv: 1\n\nEq: 4\nXv: 7\nXh: 1020\nPh: 3\nMh: 508\nPv: 508\nMv: 3\n\nEq: 16\nXv: 23\nXh: 2032\nPh: 7\nMh: 1008\nPv: 1016\nMv: 7\n\nEq: 32\nXv: 39\nXh: 4064\nPh: 31\nMh: 2016\nPv: 2016\nMv: 7\n\nEq: 72\nXv: 111\nXh: 8136\nPh: 55\nMh: 4032\nPv: 4032\nMv: 39\n\n2.0\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","nativequery"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658846260,"creation_date":1658846260,"answer_id":73125374,"question_id":73125276,"body_markdown":"Sure!\r\n\r\nSimply place this part in a constant (final static in Java) an use it in the annotation. \r\n\r\nExample\r\n\r\n    @Query(nativeQuery = true,\r\n                value = &quot;SELECT TB.* &quot; +\r\n                        &quot;FROM TABLE_B TB &quot; +\r\n                        MyClass.WHERE +\r\n                        &quot;ORDER BY &quot; +\r\n                        &quot;      CASE &quot; +\r\n                        &quot;         WHEN :#{#filter.orderByColumn.index} = 4 AND :#{#filter.orderDirection.index} = -1 THEN VERSION &quot; +\r\n                        &quot;      END DESC, &quot; +\r\n                        &quot;      CASE &quot; +\r\n                        &quot;         WHEN :#{#filter.orderByColumn.index} = 10 AND :#{#filter.orderDirection.index} = -1 THEN PROGRESS &quot; +\r\n                        &quot;      END DESC &quot; +\r\n                        &quot;OFFSET LOWER(:#{#filter.pageSize} * :#{#filter.pageIndex}) ROWS FETCH NEXT LOWER(:#{#filter.pageSize}) ROWS ONLY &quot;)\r\n        List&lt;TableBItems&gt; findByFilter(@Param(value = &quot;filter&quot;) TBFilter filter);\r\n\r\nAnd then the constant\r\n\r\n    public final static String WHERE = &quot;WHERE &quot; +\r\n                        &quot;(LOWER(NAME) LIKE NVL(CONCAT(&#39;%&#39;, CONCAT(LOWER(:#{#filter.name}), &#39;%&#39;)), NAME) &quot; +\r\n                        &quot;OR LOWER(CODE) LIKE NVL(CONCAT(&#39;%&#39;, CONCAT(LOWER(:#{#filter.code}), &#39;%&#39;)), CODE)) &quot; +\r\n                        &quot;AND (TO_CHAR(USER_WORKFLOW_ID) IN (:#{#filter.userWorkFlowIds}) OR COALESCE(:#{#filter.userWorkFlowIds}, NULL) IS NULL) &quot; +\r\n\r\n","title":"How to reuse native query code for different tables and views?","body":"<p>Sure!</p>\n<p>Simply place this part in a constant (final static in Java) an use it in the annotation.</p>\n<p>Example</p>\n<pre><code>@Query(nativeQuery = true,\n            value = &quot;SELECT TB.* &quot; +\n                    &quot;FROM TABLE_B TB &quot; +\n                    MyClass.WHERE +\n                    &quot;ORDER BY &quot; +\n                    &quot;      CASE &quot; +\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 4 AND :#{#filter.orderDirection.index} = -1 THEN VERSION &quot; +\n                    &quot;      END DESC, &quot; +\n                    &quot;      CASE &quot; +\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 10 AND :#{#filter.orderDirection.index} = -1 THEN PROGRESS &quot; +\n                    &quot;      END DESC &quot; +\n                    &quot;OFFSET LOWER(:#{#filter.pageSize} * :#{#filter.pageIndex}) ROWS FETCH NEXT LOWER(:#{#filter.pageSize}) ROWS ONLY &quot;)\n    List&lt;TableBItems&gt; findByFilter(@Param(value = &quot;filter&quot;) TBFilter filter);\n</code></pre>\n<p>And then the constant</p>\n<pre><code>public final static String WHERE = &quot;WHERE &quot; +\n                    &quot;(LOWER(NAME) LIKE NVL(CONCAT('%', CONCAT(LOWER(:#{#filter.name}), '%')), NAME) &quot; +\n                    &quot;OR LOWER(CODE) LIKE NVL(CONCAT('%', CONCAT(LOWER(:#{#filter.code}), '%')), CODE)) &quot; +\n                    &quot;AND (TO_CHAR(USER_WORKFLOW_ID) IN (:#{#filter.userWorkFlowIds}) OR COALESCE(:#{#filter.userWorkFlowIds}, NULL) IS NULL) &quot; +\n</code></pre>\n"}],"owner":{"account_id":7359410,"reputation":804,"user_id":5603115,"accept_rate":86,"display_name":"nemostyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73125374,"answer_count":1,"score":1,"last_activity_date":1658846260,"creation_date":1658845966,"question_id":73125276,"body_markdown":"I was wondering if this is even possible. If we have situation like this:\r\n\r\n```\r\n@Query(nativeQuery = true,\r\n            value = &quot;SELECT TA.* &quot; +\r\n\t\t\t        &quot;FROM TABLE_A TA &quot; +\r\n                    &quot;WHERE &quot; +\r\n                    &quot;(LOWER(NAME) LIKE NVL(CONCAT(&#39;%&#39;, CONCAT(LOWER(:#{#filter.name}), &#39;%&#39;)), NAME) &quot; +\r\n                    &quot;OR LOWER(CODE) LIKE NVL(CONCAT(&#39;%&#39;, CONCAT(LOWER(:#{#filter.code}), &#39;%&#39;)), CODE)) &quot; +\r\n                    &quot;AND (TO_CHAR(USER_WORKFLOW_ID) IN (:#{#filter.userWorkFlowIds}) OR COALESCE(:#{#filter.userWorkFlowIds}, NULL) IS NULL) &quot; +\r\n                    &quot;ORDER BY &quot; +\r\n                    &quot;      CASE &quot; +\r\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 4 AND :#{#filter.orderDirection.index} = -1 THEN VERSION &quot; +\r\n                    &quot;      END DESC, &quot; +\r\n                    &quot;      CASE &quot; +\r\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 10 AND :#{#filter.orderDirection.index} = -1 THEN PROGRESS &quot; +\r\n                    &quot;      END DESC &quot; +\r\n                    &quot;OFFSET LOWER(:#{#filter.pageSize} * :#{#filter.pageIndex}) ROWS FETCH NEXT LOWER(:#{#filter.pageSize}) ROWS ONLY &quot;)\r\n    List&lt;TableAItems&gt; findByFilter(@Param(value = &quot;filter&quot;) TAFilter filter);\r\n```\r\n\r\nand\r\n\r\n```\r\n@Query(nativeQuery = true,\r\n            value = &quot;SELECT TB.* &quot; +\r\n\t\t\t        &quot;FROM TABLE_B TB &quot; +\r\n                    &quot;WHERE &quot; +\r\n                    &quot;(LOWER(NAME) LIKE NVL(CONCAT(&#39;%&#39;, CONCAT(LOWER(:#{#filter.name}), &#39;%&#39;)), NAME) &quot; +\r\n                    &quot;OR LOWER(CODE) LIKE NVL(CONCAT(&#39;%&#39;, CONCAT(LOWER(:#{#filter.code}), &#39;%&#39;)), CODE)) &quot; +\r\n                    &quot;AND (TO_CHAR(USER_WORKFLOW_ID) IN (:#{#filter.userWorkFlowIds}) OR COALESCE(:#{#filter.userWorkFlowIds}, NULL) IS NULL) &quot; +\r\n                    &quot;ORDER BY &quot; +\r\n                    &quot;      CASE &quot; +\r\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 4 AND :#{#filter.orderDirection.index} = -1 THEN VERSION &quot; +\r\n                    &quot;      END DESC, &quot; +\r\n                    &quot;      CASE &quot; +\r\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 10 AND :#{#filter.orderDirection.index} = -1 THEN PROGRESS &quot; +\r\n                    &quot;      END DESC &quot; +\r\n                    &quot;OFFSET LOWER(:#{#filter.pageSize} * :#{#filter.pageIndex}) ROWS FETCH NEXT LOWER(:#{#filter.pageSize}) ROWS ONLY &quot;)\r\n    List&lt;TableBItems&gt; findByFilter(@Param(value = &quot;filter&quot;) TBFilter filter);\r\n```\r\n\r\nwhere we have two exact same where clause, is there any way to create something to reuse this?\r\n\r\n","title":"How to reuse native query code for different tables and views?","body":"<p>I was wondering if this is even possible. If we have situation like this:</p>\n<pre><code>@Query(nativeQuery = true,\n            value = &quot;SELECT TA.* &quot; +\n                    &quot;FROM TABLE_A TA &quot; +\n                    &quot;WHERE &quot; +\n                    &quot;(LOWER(NAME) LIKE NVL(CONCAT('%', CONCAT(LOWER(:#{#filter.name}), '%')), NAME) &quot; +\n                    &quot;OR LOWER(CODE) LIKE NVL(CONCAT('%', CONCAT(LOWER(:#{#filter.code}), '%')), CODE)) &quot; +\n                    &quot;AND (TO_CHAR(USER_WORKFLOW_ID) IN (:#{#filter.userWorkFlowIds}) OR COALESCE(:#{#filter.userWorkFlowIds}, NULL) IS NULL) &quot; +\n                    &quot;ORDER BY &quot; +\n                    &quot;      CASE &quot; +\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 4 AND :#{#filter.orderDirection.index} = -1 THEN VERSION &quot; +\n                    &quot;      END DESC, &quot; +\n                    &quot;      CASE &quot; +\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 10 AND :#{#filter.orderDirection.index} = -1 THEN PROGRESS &quot; +\n                    &quot;      END DESC &quot; +\n                    &quot;OFFSET LOWER(:#{#filter.pageSize} * :#{#filter.pageIndex}) ROWS FETCH NEXT LOWER(:#{#filter.pageSize}) ROWS ONLY &quot;)\n    List&lt;TableAItems&gt; findByFilter(@Param(value = &quot;filter&quot;) TAFilter filter);\n</code></pre>\n<p>and</p>\n<pre><code>@Query(nativeQuery = true,\n            value = &quot;SELECT TB.* &quot; +\n                    &quot;FROM TABLE_B TB &quot; +\n                    &quot;WHERE &quot; +\n                    &quot;(LOWER(NAME) LIKE NVL(CONCAT('%', CONCAT(LOWER(:#{#filter.name}), '%')), NAME) &quot; +\n                    &quot;OR LOWER(CODE) LIKE NVL(CONCAT('%', CONCAT(LOWER(:#{#filter.code}), '%')), CODE)) &quot; +\n                    &quot;AND (TO_CHAR(USER_WORKFLOW_ID) IN (:#{#filter.userWorkFlowIds}) OR COALESCE(:#{#filter.userWorkFlowIds}, NULL) IS NULL) &quot; +\n                    &quot;ORDER BY &quot; +\n                    &quot;      CASE &quot; +\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 4 AND :#{#filter.orderDirection.index} = -1 THEN VERSION &quot; +\n                    &quot;      END DESC, &quot; +\n                    &quot;      CASE &quot; +\n                    &quot;         WHEN :#{#filter.orderByColumn.index} = 10 AND :#{#filter.orderDirection.index} = -1 THEN PROGRESS &quot; +\n                    &quot;      END DESC &quot; +\n                    &quot;OFFSET LOWER(:#{#filter.pageSize} * :#{#filter.pageIndex}) ROWS FETCH NEXT LOWER(:#{#filter.pageSize}) ROWS ONLY &quot;)\n    List&lt;TableBItems&gt; findByFilter(@Param(value = &quot;filter&quot;) TBFilter filter);\n</code></pre>\n<p>where we have two exact same where clause, is there any way to create something to reuse this?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658846122,"creation_date":1658846122,"answer_id":73125330,"question_id":73125039,"body_markdown":"The Insert, Update and Delete SQL statements are usually executed at commit.\r\n\r\nIf you want to force that you can call `flush()`.\r\n\r\nThis is for example useful if you have triggers in the database that should be executed just after you call save or delete and not wait until the commit.","title":"When use flush with JpaRepository","body":"<p>The Insert, Update and Delete SQL statements are usually executed at commit.</p>\n<p>If you want to force that you can call <code>flush()</code>.</p>\n<p>This is for example useful if you have triggers in the database that should be executed just after you call save or delete and not wait until the commit.</p>\n"}],"owner":{"account_id":11947723,"reputation":828,"user_id":8742358,"accept_rate":25,"display_name":"Bosshoss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658846122,"creation_date":1658845083,"question_id":73125039,"body_markdown":"I have a REST API project with Spring (5.7.2) Web / Security.\r\n\r\nI have just one table `discs`, it contain a id, and a name.\r\n\r\n    public class DiscsRepository extends JpaRepository&lt;Discs, Integer&gt; {\r\n    }\r\n\r\nWhen I delete a disc, my DiscsService do \r\n\r\n    discsRepository.deleteById(5);\r\n\r\nWhen I want insert or update I do : \r\n\r\n    discsRepository.save(myDisc);\r\n\r\n\r\nI read that `flush()` is used when you want use the value in same transaction (before commit) and that `flush()` will synchronize and empty the SQL cache.\r\n\r\nIn my case I see that I have the value inserted / updated or deleted in my database.\r\n\r\nShould I use `flush()` (I think no) but maybe I mistaken ?  ","title":"When use flush with JpaRepository","body":"<p>I have a REST API project with Spring (5.7.2) Web / Security.</p>\n<p>I have just one table <code>discs</code>, it contain a id, and a name.</p>\n<pre><code>public class DiscsRepository extends JpaRepository&lt;Discs, Integer&gt; {\n}\n</code></pre>\n<p>When I delete a disc, my DiscsService do</p>\n<pre><code>discsRepository.deleteById(5);\n</code></pre>\n<p>When I want insert or update I do :</p>\n<pre><code>discsRepository.save(myDisc);\n</code></pre>\n<p>I read that <code>flush()</code> is used when you want use the value in same transaction (before commit) and that <code>flush()</code> will synchronize and empty the SQL cache.</p>\n<p>In my case I see that I have the value inserted / updated or deleted in my database.</p>\n<p>Should I use <code>flush()</code> (I think no) but maybe I mistaken ?</p>\n"},{"tags":["java","hashmap","switch-statement"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1421447523,"post_id":27993819,"comment_id":44378302,"body_markdown":"As with pretty much every performance question: you must measure it. http://stackoverflow.com/q/504103/139010 I look forward to your results `:)`","body":"As with pretty much every performance question: you must measure it. <a href=\"http://stackoverflow.com/q/504103/139010\">stackoverflow.com/q/504103/139010</a> I look forward to your results <code>:)</code>"},{"owner":{"account_id":359017,"reputation":5838,"user_id":700170,"display_name":"Morten Jensen"},"score":1,"creation_date":1421447563,"post_id":27993819,"comment_id":44378317,"body_markdown":"A good default answer is to tell you to measure the difference... I would expect the switch statement to be faster, because it should amount to less instructions. With C and GCC, a switch gets implemented as if/elseif-chains, jump tables, or what not depending on the context (e.g. how many cases in the switch, indexing etc)","body":"A good default answer is to tell you to measure the difference... I would expect the switch statement to be faster, because it should amount to less instructions. With C and GCC, a switch gets implemented as if/elseif-chains, jump tables, or what not depending on the context (e.g. how many cases in the switch, indexing etc)"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1421448287,"post_id":27993819,"comment_id":44378587,"body_markdown":"In addition to far lesser complexity, the lookupswitch mechanism has the important advantage of locality of reference. The hashmap must 1. dereference your Integer key; 2. dereference the bucket array; 3. dereference the Node instance in the array at index derived from 1; 4. dereference the Integer key of the Node to make sure it&#39;s equal to the requested key; 5. finally dereference the return value from the Node.","body":"In addition to far lesser complexity, the lookupswitch mechanism has the important advantage of locality of reference. The hashmap must 1. dereference your Integer key; 2. dereference the bucket array; 3. dereference the Node instance in the array at index derived from 1; 4. dereference the Integer key of the Node to make sure it&#39;s equal to the requested key; 5. finally dereference the return value from the Node."},{"owner":{"account_id":359149,"reputation":1798,"user_id":700371,"accept_rate":100,"display_name":"Joe C"},"score":0,"creation_date":1421451446,"post_id":27993819,"comment_id":44379448,"body_markdown":"@MattBall I&#39;ll start a JMH and see how it goes for different sized switches/hashmaps.","body":"@MattBall I&#39;ll start a JMH and see how it goes for different sized switches/hashmaps."},{"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"score":0,"creation_date":1426836160,"post_id":27993819,"comment_id":46542258,"body_markdown":"It could be interesting to run the same with a String key instead of int.","body":"It could be interesting to run the same with a String key instead of int."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1513156689,"post_id":27993819,"comment_id":82539744,"body_markdown":"The benchmark would be more interesting if you randomised your access to the map keys. If the same key is accessed many times in a row, I would imagine the JIT might rewrite the switch statement...","body":"The benchmark would be more interesting if you randomised your access to the map keys. If the same key is accessed many times in a row, I would imagine the JIT might rewrite the switch statement..."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1523455352,"post_id":27993819,"comment_id":86569438,"body_markdown":"Another consideration: since the lookup key is a primitive integer, the HashMap technique will require boxing of the key.  This is highly optimized for small integers but still has overhead.  I would speculate based on my experience that the switch is faster until you get 100s of cases.","body":"Another consideration: since the lookup key is a primitive integer, the HashMap technique will require boxing of the key.  This is highly optimized for small integers but still has overhead.  I would speculate based on my experience that the switch is faster until you get 100s of cases."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1523457288,"post_id":27993819,"comment_id":86570901,"body_markdown":"I ran a simple test using about 100 switch/map values between 0 and 999.  Under java8 oracle JVM on Windows running 100M iterations: switch=280ms, map=490ms.  Takeaways: switch is mostly faster, but only rarified cases will notice.","body":"I ran a simple test using about 100 switch/map values between 0 and 999.  Under java8 oracle JVM on Windows running 100M iterations: switch=280ms, map=490ms.  Takeaways: switch is mostly faster, but only rarified cases will notice."},{"owner":{"account_id":2653964,"reputation":909,"user_id":2295051,"display_name":"Sergey Dryganets"},"score":0,"creation_date":1529533356,"post_id":27993819,"comment_id":88913128,"body_markdown":"It is the incorrect comparison - autoboxing eats up all the improvement.\nI tried the same test for Strings the HashMap looks a bit better even with a not too big set of the cases, but std deviation is lower for the switch.\n\nmapTest: 11.656 &#177; 3.711  ns/op\nswitchTest  15.689 &#177; 0.314  ns/op\n\nYou can easily try/tweak this project yourself:\nhttps://github.com/dryganets/switch-test\n\nI think the string length might make a difference.","body":"It is the incorrect comparison - autoboxing eats up all the improvement. I tried the same test for Strings the HashMap looks a bit better even with a not too big set of the cases, but std deviation is lower for the switch.  mapTest: 11.656 &#177; 3.711  ns/op switchTest  15.689 &#177; 0.314  ns/op  You can easily try/tweak this project yourself: <a href=\"https://github.com/dryganets/switch-test\" rel=\"nofollow noreferrer\">github.com/dryganets/switch-test</a>  I think the string length might make a difference."},{"owner":{"account_id":359149,"reputation":1798,"user_id":700371,"accept_rate":100,"display_name":"Joe C"},"score":0,"creation_date":1529787973,"post_id":27993819,"comment_id":89003562,"body_markdown":"@SergeyDryganets Strings in switches in Java are more of a special case, and boils down to a slightly better if/then/else chain where the comparison function is equals(). Using a hashmap vs a switch for strings is a much harder comparison since they&#39;re using fundamentally different methods for &quot;lookups&quot;. Length does make a difference. The JVM will likely cache the autoboxed references in the primitive case. A primitive hashmap could be used instead but I&#39;m doubtful it&#39;ll make a large difference.","body":"@SergeyDryganets Strings in switches in Java are more of a special case, and boils down to a slightly better if/then/else chain where the comparison function is equals(). Using a hashmap vs a switch for strings is a much harder comparison since they&#39;re using fundamentally different methods for &quot;lookups&quot;. Length does make a difference. The JVM will likely cache the autoboxed references in the primitive case. A primitive hashmap could be used instead but I&#39;m doubtful it&#39;ll make a large difference."},{"owner":{"account_id":2653964,"reputation":909,"user_id":2295051,"display_name":"Sergey Dryganets"},"score":0,"creation_date":1529878228,"post_id":27993819,"comment_id":89021461,"body_markdown":"@JoeC if it is that good how would you explain that worst case testing gives a better result with hashmap? I used java9 as my runtime.\n\nFor Dalivk and ART VM&#39;s on Android, I could say for sure that equals/hashcode are used in switch statement. I didn&#39;t profile it on JVM so couldn&#39;t say it for sure. Oracle docs say that more efficient algorithm is used for strings so probably you are right. As for Autoboxing, it is flaky statement. JVM does cache some of the integers by default 0-128. You can configure it with -XX:AutoBoxCacheMax. The original test&#39;s constants are not cached.","body":"@JoeC if it is that good how would you explain that worst case testing gives a better result with hashmap? I used java9 as my runtime.  For Dalivk and ART VM&#39;s on Android, I could say for sure that equals/hashcode are used in switch statement. I didn&#39;t profile it on JVM so couldn&#39;t say it for sure. Oracle docs say that more efficient algorithm is used for strings so probably you are right. As for Autoboxing, it is flaky statement. JVM does cache some of the integers by default 0-128. You can configure it with -XX:AutoBoxCacheMax. The original test&#39;s constants are not cached."}],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":4,"up_vote_count":47,"is_accepted":true,"score":43,"last_activity_date":1658846043,"creation_date":1421447974,"answer_id":27993932,"question_id":27993819,"body_markdown":"It depends:\r\n\r\n1. If there are a few items | fixed items. Using switch if you can ( worst case O(n))\r\n\r\n2. If there are a lot of items OR you want to add future items without modifying much code ---&gt; Using hash-map ( access time is considered as constant time)\r\n\r\n3. You should NOT try to improve performance for the case, because the difference in execution time is nanoseconds. Just focus on readability/maintainability of your code. Is it worth optimizing a simple case to improve a few nanoseconds?\r\n\r\n\r\n","title":"HashMap vs Switch statement performance","body":"<p>It depends:</p>\n<ol>\n<li><p>If there are a few items | fixed items. Using switch if you can ( worst case O(n))</p>\n</li>\n<li><p>If there are a lot of items OR you want to add future items without modifying much code ---&gt; Using hash-map ( access time is considered as constant time)</p>\n</li>\n<li><p>You should NOT try to improve performance for the case, because the difference in execution time is nanoseconds. Just focus on readability/maintainability of your code. Is it worth optimizing a simple case to improve a few nanoseconds?</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10636104,"reputation":52,"user_id":7832766,"display_name":"sqlsword"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495121315,"creation_date":1495111884,"answer_id":44048296,"question_id":27993819,"body_markdown":"In your case, since you are using an `Integer` key for your `HashMap` and a plain &#39;`int`&#39; for your `switch` statement, the best performing implementation will be the `switch` statement unless the number of passes through this section of code is very high (tens or hundreds of thousands).","title":"HashMap vs Switch statement performance","body":"<p>In your case, since you are using an <code>Integer</code> key for your <code>HashMap</code> and a plain '<code>int</code>' for your <code>switch</code> statement, the best performing implementation will be the <code>switch</code> statement unless the number of passes through this section of code is very high (tens or hundreds of thousands).</p>\n"},{"tags":[],"owner":{"account_id":939447,"reputation":2090,"user_id":967787,"accept_rate":71,"display_name":"Cogman"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1557400938,"creation_date":1536266986,"answer_id":52211976,"question_id":27993819,"body_markdown":"The accepted answer is wrong here.\r\n\r\n[http://java-performance.info/string-switch-implementation/][1]\r\n\r\nSwitches will always be as fast as if not faster than hash maps.  Switch statements are transformed into direct lookup tables.  In the case of Integer values (ints, enums, shorts, longs) it is a direct lookup/jmp to the statement.  There is no additional hashing that needs to happen.  In the case of a String, it precomputes the string hash for the case statements and uses the input String&#39;s hashcode to determine where to jump.  In the case of collision, it does an if/else chain.   Now you might think &quot;This is the same as HashMap, right?&quot;  But that isn&#39;t true.  The hash code for the lookup is computed at compile time and it isn&#39;t reduced based on the number of elements (lower chance of collision).\r\n\r\nSwitches have O(1) lookup, not O(n).  (Ok, in truth for a small number of items, switches are turned into if/else statements.  This provides better code locality and avoids additional memory lookups.  However, for many items, switches are changed into the lookup table I mentioned above).\r\n\r\nYou can read more about it here\r\nhttps://stackoverflow.com/questions/12020048/how-does-javas-switch-work-under-the-hood\r\n\r\n\r\n  [1]: https://web.archive.org/web/20180818151450/http://java-performance.info/string-switch-implementation/","title":"HashMap vs Switch statement performance","body":"<p>The accepted answer is wrong here.</p>\n\n<p><a href=\"https://web.archive.org/web/20180818151450/http://java-performance.info/string-switch-implementation/\" rel=\"noreferrer\">http://java-performance.info/string-switch-implementation/</a></p>\n\n<p>Switches will always be as fast as if not faster than hash maps.  Switch statements are transformed into direct lookup tables.  In the case of Integer values (ints, enums, shorts, longs) it is a direct lookup/jmp to the statement.  There is no additional hashing that needs to happen.  In the case of a String, it precomputes the string hash for the case statements and uses the input String's hashcode to determine where to jump.  In the case of collision, it does an if/else chain.   Now you might think \"This is the same as HashMap, right?\"  But that isn't true.  The hash code for the lookup is computed at compile time and it isn't reduced based on the number of elements (lower chance of collision).</p>\n\n<p>Switches have O(1) lookup, not O(n).  (Ok, in truth for a small number of items, switches are turned into if/else statements.  This provides better code locality and avoids additional memory lookups.  However, for many items, switches are changed into the lookup table I mentioned above).</p>\n\n<p>You can read more about it here\n<a href=\"https://stackoverflow.com/questions/12020048/how-does-javas-switch-work-under-the-hood\">How does Java&#39;s switch work under the hood?</a></p>\n"},{"tags":[],"owner":{"account_id":10302290,"reputation":1445,"user_id":7600634,"display_name":"John Tribe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543239540,"creation_date":1543238958,"answer_id":53482192,"question_id":27993819,"body_markdown":"If I have that kind of example I use Guava ImmutableMaps (sure You can use java 9 builder as well).\r\n\r\n    private static final Map&lt;String, String&gt; EXAMPLE = ImmutableMaps.&lt;String, String&gt;&gt;builder()\r\n        .put(&quot;a&quot;, &quot;100&quot;)\r\n        .put(&quot;b&quot;, &quot;200&quot;)\r\n        .build(); \r\n\r\nThat way they are immutable and initated only once. \r\n\r\nSometimes I use strategy pattern that way:\r\n\r\n    private static final Map&lt;String, Command&gt; EXAMPLE = ImmutableMaps.&lt;String, String&gt;&gt;builder()\r\n        .put(&quot;a&quot;, new SomethingCool())\r\n        .put(&quot;b&quot;, new BCool())\r\n        .build(); \r\n\r\n    private static final Command DEFAULT= new DefCommand();\r\n\r\nUse:\r\n\r\n    EXAMPLE.getOrDefault(&quot;a&quot;, DEFAULT).execute(); //java 8\r\n\r\n\r\nAbout performance just pick readability. You will thank me later (1 year later) :D. \r\n","title":"HashMap vs Switch statement performance","body":"<p>If I have that kind of example I use Guava ImmutableMaps (sure You can use java 9 builder as well).</p>\n\n<pre><code>private static final Map&lt;String, String&gt; EXAMPLE = ImmutableMaps.&lt;String, String&gt;&gt;builder()\n    .put(\"a\", \"100\")\n    .put(\"b\", \"200\")\n    .build(); \n</code></pre>\n\n<p>That way they are immutable and initated only once. </p>\n\n<p>Sometimes I use strategy pattern that way:</p>\n\n<pre><code>private static final Map&lt;String, Command&gt; EXAMPLE = ImmutableMaps.&lt;String, String&gt;&gt;builder()\n    .put(\"a\", new SomethingCool())\n    .put(\"b\", new BCool())\n    .build(); \n\nprivate static final Command DEFAULT= new DefCommand();\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>EXAMPLE.getOrDefault(\"a\", DEFAULT).execute(); //java 8\n</code></pre>\n\n<p>About performance just pick readability. You will thank me later (1 year later) :D. </p>\n"},{"tags":[],"owner":{"account_id":3896386,"reputation":151,"user_id":3225313,"display_name":"Steve Cook"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619374526,"creation_date":1619206425,"answer_id":67235890,"question_id":27993819,"body_markdown":"## TL/DR ##\r\nBase it on code readability and maintainability.  Both are cost O(1) and provide almost no difference (though switches generally will be slightly faster).\r\n\r\nIn this particular case a map would be faster, as a switch returns an address and then must go to that address to identify the return value. (A rare case example).  If your switch is just calling functions anyways, a Map would also be faster.\r\n\r\nTo make things faster, I would ensure using numeric cases and avoid using strings via constants or enumerators (typescript).\r\n\r\n(edited) I confirmed by expectation:  https://stackoverflow.com/questions/12020048/how-does-javas-switch-work-under-the-hood with switches.\r\n\r\n## More detailed answer ##\r\n### In the weeds: ###\r\n  A switch statement will usually be higher performance.  It creates a lookup table and goto reference and starts at that point.  However there are exceptions.  \r\n\r\n  When you utilize a simple switch such as return map.get(x) vs. switch(1=&gt;&#39;a&#39;, 2=&gt;&#39;b&#39;, etc).  That is because the map can directly return the value desired where the switch will stop map the addresses and continue until break or the end is met.\r\n\r\nIn any event, they should be extremely similar in execution cost.\r\n\r\n### Think about maintainability and readability of the code ###\r\n\r\nUsing a map decouples the data, which can gain the benefit of creating &quot;switch&quot; cases dynamically.  More detailed below.\r\n\r\nIf there are several complex functions/processes you need to handle, it may be easier to read/write if you utilize a map instead.  Especially if the switch statement starts to exceed 20 or 30 options.\r\n\r\n\r\n**Personally used case example for maps**: \r\n\r\nI have been utilize the following pattern for flux (Redux/useReducer) in React applications for some time.\r\n\r\nI create a central map where I map the trigger as the key, and the value is a functional reference. I can then load cases where and when it makes sense. \r\n\r\nInitially I used this to be able to break the use cases down to reduce file size and group cases of similar function together in a more organized fashion.  Although I later evolved it to be loaded in domains and configured the events and data in a domain hook, like useUser, useFeedback, useProfile, etc... \r\n\r\nDoing so allowed me to create the default state, initialization functions, events, and so forth into a logical file structure, it also allowed me to keep the footprint low until needed.\r\n\r\n***One note to keep in mind***\r\n\r\nUsing a map does not allow for drop through, though most people consider this code smell anyways.  At the same time it protects from accidental fall through.","title":"HashMap vs Switch statement performance","body":"<h2>TL/DR</h2>\n<p>Base it on code readability and maintainability.  Both are cost O(1) and provide almost no difference (though switches generally will be slightly faster).</p>\n<p>In this particular case a map would be faster, as a switch returns an address and then must go to that address to identify the return value. (A rare case example).  If your switch is just calling functions anyways, a Map would also be faster.</p>\n<p>To make things faster, I would ensure using numeric cases and avoid using strings via constants or enumerators (typescript).</p>\n<p>(edited) I confirmed by expectation:  <a href=\"https://stackoverflow.com/questions/12020048/how-does-javas-switch-work-under-the-hood\">How does Java&#39;s switch work under the hood?</a> with switches.</p>\n<h2>More detailed answer</h2>\n<h3>In the weeds:</h3>\n<p>A switch statement will usually be higher performance.  It creates a lookup table and goto reference and starts at that point.  However there are exceptions.</p>\n<p>When you utilize a simple switch such as return map.get(x) vs. switch(1=&gt;'a', 2=&gt;'b', etc).  That is because the map can directly return the value desired where the switch will stop map the addresses and continue until break or the end is met.</p>\n<p>In any event, they should be extremely similar in execution cost.</p>\n<h3>Think about maintainability and readability of the code</h3>\n<p>Using a map decouples the data, which can gain the benefit of creating &quot;switch&quot; cases dynamically.  More detailed below.</p>\n<p>If there are several complex functions/processes you need to handle, it may be easier to read/write if you utilize a map instead.  Especially if the switch statement starts to exceed 20 or 30 options.</p>\n<p><strong>Personally used case example for maps</strong>:</p>\n<p>I have been utilize the following pattern for flux (Redux/useReducer) in React applications for some time.</p>\n<p>I create a central map where I map the trigger as the key, and the value is a functional reference. I can then load cases where and when it makes sense.</p>\n<p>Initially I used this to be able to break the use cases down to reduce file size and group cases of similar function together in a more organized fashion.  Although I later evolved it to be loaded in domains and configured the events and data in a domain hook, like useUser, useFeedback, useProfile, etc...</p>\n<p>Doing so allowed me to create the default state, initialization functions, events, and so forth into a logical file structure, it also allowed me to keep the footprint low until needed.</p>\n<p><em><strong>One note to keep in mind</strong></em></p>\n<p>Using a map does not allow for drop through, though most people consider this code smell anyways.  At the same time it protects from accidental fall through.</p>\n"}],"owner":{"account_id":359149,"reputation":1798,"user_id":700371,"accept_rate":100,"display_name":"Joe C"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50088,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":27993932,"answer_count":5,"score":64,"last_activity_date":1658846043,"creation_date":1421447383,"question_id":27993819,"body_markdown":"A HashMap essentially has O(1) performance while a switch state can have either O(1) or O(log(n)) depending on if the compiler uses a tableswitch or lookup switch.\r\n\r\nUnderstandably, if a switch statement is written as such,\r\n\r\n    switch (int) {\r\n        case 1:\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n        default:\r\n    }\r\n\r\nthen it would use a tableswitch and clearly have a performance advantage over a standard HashMap. But what if the switch statement is sparse? These would be two examples that I would be comparing:\r\n\r\n    HashMap&lt;Integer, String&gt; example = new HashMap&lt;Integer, String&gt;() {{\r\n            put(1, &quot;a&quot;);\r\n            put(10, &quot;b&quot;);\r\n            put(100, &quot;c&quot;);\r\n            put(1000, &quot;d&quot;);\r\n    }};\r\n\r\n.\r\n\r\n    switch (int) {\r\n        case 1:\r\n            return &quot;a&quot;;\r\n        case 10:\r\n            return &quot;b&quot;;\r\n        case 100:\r\n            return &quot;c&quot;;\r\n        case 1000:\r\n            return &quot;d&quot;;\r\n        default:\r\n            return null;\r\n    }\r\n\r\nWhat would provide more throughput, a lookupswitch or HashMap?\r\nDoes the overhead of the HashMap give the lookupswitch an advantage early but eventually tapers off as the number of cases/entries increase?\r\n\r\n**Edit:** I tried some benchmarks using JMH, here are my results and code used. https://gist.github.com/mooman219/bebbdc047889c7cfe612\r\nAs you guys mentioned, the lookupswitch statement outperformed the HashTable. I&#39;m still wondering why though.","title":"HashMap vs Switch statement performance","body":"<p>A HashMap essentially has O(1) performance while a switch state can have either O(1) or O(log(n)) depending on if the compiler uses a tableswitch or lookup switch.</p>\n\n<p>Understandably, if a switch statement is written as such,</p>\n\n<pre><code>switch (int) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    default:\n}\n</code></pre>\n\n<p>then it would use a tableswitch and clearly have a performance advantage over a standard HashMap. But what if the switch statement is sparse? These would be two examples that I would be comparing:</p>\n\n<pre><code>HashMap&lt;Integer, String&gt; example = new HashMap&lt;Integer, String&gt;() {{\n        put(1, \"a\");\n        put(10, \"b\");\n        put(100, \"c\");\n        put(1000, \"d\");\n}};\n</code></pre>\n\n<p>.</p>\n\n<pre><code>switch (int) {\n    case 1:\n        return \"a\";\n    case 10:\n        return \"b\";\n    case 100:\n        return \"c\";\n    case 1000:\n        return \"d\";\n    default:\n        return null;\n}\n</code></pre>\n\n<p>What would provide more throughput, a lookupswitch or HashMap?\nDoes the overhead of the HashMap give the lookupswitch an advantage early but eventually tapers off as the number of cases/entries increase?</p>\n\n<p><strong>Edit:</strong> I tried some benchmarks using JMH, here are my results and code used. <a href=\"https://gist.github.com/mooman219/bebbdc047889c7cfe612\">https://gist.github.com/mooman219/bebbdc047889c7cfe612</a>\nAs you guys mentioned, the lookupswitch statement outperformed the HashTable. I'm still wondering why though.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1658849527,"post_id":73125262,"comment_id":129151709,"body_markdown":"I think the answer is: What you are seeing is how it works, for the reasons given here: [How to handle &quot;Property or field cannot be found on object in SpEL&quot;?](https://stackoverflow.com/q/52321764/12567365)","body":"I think the answer is: What you are seeing is how it works, for the reasons given here: <a href=\"https://stackoverflow.com/q/52321764/12567365\">How to handle &quot;Property or field cannot be found on object in SpEL&quot;?</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1658855802,"post_id":73125262,"comment_id":129154140,"body_markdown":"okay, while I don&#39;t get the difference between a field that is `null` in contrast to a missing field, obviously for thymeleaf it&#39;s not the same - which I thought.","body":"okay, while I don&#39;t get the difference between a field that is <code>null</code> in contrast to a missing field, obviously for thymeleaf it&#39;s not the same - which I thought."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1658857623,"post_id":73125262,"comment_id":129154734,"body_markdown":"I assume it&#39;s more about how Java handles these things, since Thymeleaf delegates invocation of the method to Java (using reflection, I assume). Your error is the error you get if you try to invoke a non-existent method (using reflection) with pure Java. Also, Thymeleaf does not have any `try-catch` syntax - which is what you would probably need, if you wanted to somehow handle the exception in your Thymeleaf template. (Someone with more knowledge about Thymeleaf internals can correct me where I may be wrong.)","body":"I assume it&#39;s more about how Java handles these things, since Thymeleaf delegates invocation of the method to Java (using reflection, I assume). Your error is the error you get if you try to invoke a non-existent method (using reflection) with pure Java. Also, Thymeleaf does not have any <code>try-catch</code> syntax - which is what you would probably need, if you wanted to somehow handle the exception in your Thymeleaf template. (Someone with more knowledge about Thymeleaf internals can correct me where I may be wrong.)"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1658908708,"post_id":73125262,"comment_id":129165888,"body_markdown":"@andrewJames You are right about Thymeleaf using reflection to access public properties and methods.","body":"@andrewJames You are right about Thymeleaf using reflection to access public properties and methods."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1658908858,"post_id":73125262,"comment_id":129165940,"body_markdown":"@membersound And that&#39;s why you get the message &quot;maybe not public or not valid?&quot; in your stacktrace : public access not found or method does not exists or invalid with more or less params (as an example). And they did not give deeper explanations in stacktrace because it is really easy and fast to check that kind of stuff as a developer.","body":"@membersound And that&#39;s why you get the message &quot;maybe not public or not valid?&quot; in your stacktrace : public access not found or method does not exists or invalid with more or less params (as an example). And they did not give deeper explanations in stacktrace because it is really easy and fast to check that kind of stuff as a developer."}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658845899,"creation_date":1658845899,"question_id":73125262,"body_markdown":"    &lt;nav th:if=&quot;${page} and ${page?.totalPages != null} and ${page?.totalPages &gt; 1}&quot;/&gt;\r\n\r\nWhat if the `page` object does not have a `getTotalPages()` method or `totalPages` field?\r\n\r\nThen I get the following error:\r\n\r\n        Caused by: org.thymeleaf.exceptions.TemplateProcessingException: \r\n           Exception evaluating SpringEL expression: &quot;page.totalPages != null&quot;\r\n        Caused by: org.springframework.expression.spel.SpelEvaluationException:\r\n           EL1008E: Property or field &#39;totalPages&#39; cannot be found on object of type\r\n           &#39;org.springframework.data.domain.SliceImpl&#39; - maybe not public or not valid?\r\n\r\nQuestion: how can I tell thymeleaf to validate if the property exists at all?","title":"How to check for field existance in Thymeleaf?","body":"<pre><code>&lt;nav th:if=&quot;${page} and ${page?.totalPages != null} and ${page?.totalPages &gt; 1}&quot;/&gt;\n</code></pre>\n<p>What if the <code>page</code> object does not have a <code>getTotalPages()</code> method or <code>totalPages</code> field?</p>\n<p>Then I get the following error:</p>\n<pre><code>    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: \n       Exception evaluating SpringEL expression: &quot;page.totalPages != null&quot;\n    Caused by: org.springframework.expression.spel.SpelEvaluationException:\n       EL1008E: Property or field 'totalPages' cannot be found on object of type\n       'org.springframework.data.domain.SliceImpl' - maybe not public or not valid?\n</code></pre>\n<p>Question: how can I tell thymeleaf to validate if the property exists at all?</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1263933937,"post_id":2096874,"comment_id":2030174,"body_markdown":"I am assuming you have a Server.java class? I know that UnknwnHostException gets thrown when the address lookup fails.","body":"I am assuming you have a Server.java class? I know that UnknwnHostException gets thrown when the address lookup fails."},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1263935595,"post_id":2096874,"comment_id":2030415,"body_markdown":"this code would be querying quake servers, whats your desired output?","body":"this code would be querying quake servers, whats your desired output?"},{"owner":{"account_id":51898,"reputation":79376,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"score":0,"creation_date":1263936649,"post_id":2096874,"comment_id":2030563,"body_markdown":"query monster.idsoftware.com on UDP by resolving the hostname, connecting to that IP via UDP on port 27950, sending &quot;&#255;&#255;&#255;&#255;getservers 68 &#39;all&#39;&quot; where 68 is the protocol version.\nReceiving a hostlist UTF-7 encoded, decoding it to a list of ip&#39;s+ports, displaying that list. But I&#39;m stuck at issue 1.","body":"query monster.idsoftware.com on UDP by resolving the hostname, connecting to that IP via UDP on port 27950, sending &quot;&#255;&#255;&#255;&#255;getservers 68 &#39;all&#39;&quot; where 68 is the protocol version. Receiving a hostlist UTF-7 encoded, decoding it to a list of ip&#39;s+ports, displaying that list. But I&#39;m stuck at issue 1."},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1263937694,"post_id":2096874,"comment_id":2030692,"body_markdown":"my best advice is try to load that onto an external android device and test from there, I don&#39;t know if you can work with UDP on the emulator","body":"my best advice is try to load that onto an external android device and test from there, I don&#39;t know if you can work with UDP on the emulator"},{"owner":{"account_id":51898,"reputation":79376,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"score":0,"creation_date":1263937961,"post_id":2096874,"comment_id":2030734,"body_markdown":"it might be an issue with the proxy, or nat.","body":"it might be an issue with the proxy, or nat."},{"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"score":0,"creation_date":1367838234,"post_id":2096874,"comment_id":23504659,"body_markdown":"I have the same issue, `InetAddress.getAllByName` doesn&#39;t work, but I can get the page source with `BufferedReader` etc.","body":"I have the same issue, <code>InetAddress.getAllByName</code> doesn&#39;t work, but I can get the page source with <code>BufferedReader</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":51898,"reputation":79376,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1658845862,"creation_date":1263939585,"answer_id":2097594,"question_id":2096874,"body_markdown":"I&#39;ve found the answer. For whatever reason, you have to use:&lt;br&gt;\r\n\r\n    java.net.InetAddress[] x = java.net.InetAddress.getAllByName(Server.SERVERNAME);\r\n    HelloWorldActivity.tv.setText(&quot;Address: &quot;+x[0].getHostAddress());\r\n\r\n\r\n","title":"InetAddress.getByName on Android","body":"<p>I've found the answer. For whatever reason, you have to use:<br></p>\n<pre><code>java.net.InetAddress[] x = java.net.InetAddress.getAllByName(Server.SERVERNAME);\nHelloWorldActivity.tv.setText(&quot;Address: &quot;+x[0].getHostAddress());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222362,"reputation":11,"user_id":480900,"display_name":"adn37"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290367712,"creation_date":1290367712,"answer_id":4239835,"question_id":2096874,"body_markdown":"It is strange that you have to do so. `java.net.InetAddress.getByName` works for me, out of the box.\r\n\r\nThere are some (on-going) issues related to DNS resolution in the Android emulator, so that might be it.","title":"InetAddress.getByName on Android","body":"<p>It is strange that you have to do so. <code>java.net.InetAddress.getByName</code> works for me, out of the box.</p>\n\n<p>There are some (on-going) issues related to DNS resolution in the Android emulator, so that might be it.</p>\n"},{"tags":[],"owner":{"account_id":24460,"reputation":42736,"user_id":62192,"accept_rate":65,"display_name":"alex2k8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308314433,"creation_date":1308314433,"answer_id":6385862,"question_id":2096874,"body_markdown":"Don&#39;t know if it was a typo, but you said you have:\r\n\r\n    &lt;use-permission id=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nBut it have to be:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nI tried getByName and it works fine.\r\n\r\nMay be you fixed your permissions and switched from getByName to getAllByName at the same time? Just curious, if you can confirm that getByName still does not work for you?","title":"InetAddress.getByName on Android","body":"<p>Don't know if it was a typo, but you said you have:</p>\n\n<pre><code>&lt;use-permission id=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>But it have to be:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>I tried getByName and it works fine.</p>\n\n<p>May be you fixed your permissions and switched from getByName to getAllByName at the same time? Just curious, if you can confirm that getByName still does not work for you?</p>\n"},{"tags":[],"owner":{"account_id":1447323,"reputation":114,"user_id":1365346,"display_name":"Reg Edit"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1345128934,"creation_date":1345128934,"answer_id":11989971,"question_id":2096874,"body_markdown":"I was having the similar issue and I found out that in some versions of android (from honeycombs) it&#39;s not allowed by default to perform network operation from main thread. So you can resolve it in 2 ways. Perform operation in different thread or allow to make network operation in main thread. To do that use something like this:\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n","title":"InetAddress.getByName on Android","body":"<p>I was having the similar issue and I found out that in some versions of android (from honeycombs) it's not allowed by default to perform network operation from main thread. So you can resolve it in 2 ways. Perform operation in different thread or allow to make network operation in main thread. To do that use something like this:</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18455703,"reputation":39,"user_id":14018325,"display_name":"Rattlefire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658763814,"creation_date":1658763814,"answer_id":73111942,"question_id":2096874,"body_markdown":"At the beginning, try to resolve dns-name of local PC from the default browser (Google Chrome). If he can&#39;t - trouble in the router settings or abilities...","title":"InetAddress.getByName on Android","body":"<p>At the beginning, try to resolve dns-name of local PC from the default browser (Google Chrome). If he can't - trouble in the router settings or abilities...</p>\n"}],"owner":{"account_id":51898,"reputation":79376,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27862,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2097594,"answer_count":5,"score":8,"last_activity_date":1658845862,"creation_date":1263933490,"question_id":2096874,"body_markdown":"I do a:\r\n\r\n    java.net.InetAddress serverAddr;\r\n    try {\r\n    \tserverAddr = java.net.InetAddress.getByName(Server.SERVERNAME);\r\n    }\r\n    catch (java.net.UnknownHostException exception) {\r\n    \t//System.err.println (&quot;wrong server name !!!&quot;);\r\n    \tHelloWorldActivity.tv.setText(&quot;wrong server name !!!&quot;);\r\n    \treturn;\r\n    }\r\n\r\nin my android application, but it&#39;s never resoling the hostname, it always throws an exception, no matter what name I use.\r\n\r\n&lt;br&gt;\r\nBut using the internet on the same emulator works, and I&#39;ve added\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nto AndoidManifest.xml\r\n\r\nand here&#39;s the server class for those who assume I have none\r\n\r\n    public class Server\r\n    {\r\n        public static String SERVERNAME = &quot;monster.idsoftware.com&quot;;\r\n        public static String SERVERIP = &quot;209.85.129.99&quot;;\r\n        public static int SERVERPORT = 27950;\r\n        public static int PROTOCOL = 68;\r\n    }\r\n\r\n\r\n","title":"InetAddress.getByName on Android","body":"<p>I do a:</p>\n\n<pre><code>java.net.InetAddress serverAddr;\ntry {\n    serverAddr = java.net.InetAddress.getByName(Server.SERVERNAME);\n}\ncatch (java.net.UnknownHostException exception) {\n    //System.err.println (\"wrong server name !!!\");\n    HelloWorldActivity.tv.setText(\"wrong server name !!!\");\n    return;\n}\n</code></pre>\n\n<p>in my android application, but it's never resoling the hostname, it always throws an exception, no matter what name I use.</p>\n\n<p><br>\nBut using the internet on the same emulator works, and I've added</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>to AndoidManifest.xml</p>\n\n<p>and here's the server class for those who assume I have none</p>\n\n<pre><code>public class Server\n{\n    public static String SERVERNAME = \"monster.idsoftware.com\";\n    public static String SERVERIP = \"209.85.129.99\";\n    public static int SERVERPORT = 27950;\n    public static int PROTOCOL = 68;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":0,"creation_date":1658071609,"post_id":73007464,"comment_id":128955003,"body_markdown":"Without the code of Mars, it&#39;s hard to tell. It&#39;s pretty sure you don&#39;t reinitialise your code properly.","body":"Without the code of Mars, it&#39;s hard to tell. It&#39;s pretty sure you don&#39;t reinitialise your code properly."},{"owner":{"account_id":12020434,"reputation":39,"user_id":8794027,"display_name":"Alan Vallv&#233;"},"score":0,"creation_date":1658136595,"post_id":73007464,"comment_id":128967236,"body_markdown":"@XavierBouclet Yes, that&#39;s what I think too, but I try it in different weys and I could not solve it, Mars is a Singleton class and MarsRover is just the typical main app","body":"@XavierBouclet Yes, that&#39;s what I think too, but I try it in different weys and I could not solve it, Mars is a Singleton class and MarsRover is just the typical main app"},{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":0,"creation_date":1658162828,"post_id":73007464,"comment_id":128977881,"body_markdown":"Could you add the error you get and the MarsRover code?","body":"Could you add the error you get and the MarsRover code?"},{"owner":{"account_id":16826591,"reputation":89,"user_id":12165732,"display_name":"Timo"},"score":0,"creation_date":1658231012,"post_id":73007464,"comment_id":128995153,"body_markdown":"Your asserts are going against the `String[][] mars`. I would expect that this array must be re-initialized.\nGenerally, a stateful singleton is not a good idea.","body":"Your asserts are going against the <code>String[][] mars</code>. I would expect that this array must be re-initialized. Generally, a stateful singleton is not a good idea."},{"owner":{"account_id":12020434,"reputation":39,"user_id":8794027,"display_name":"Alan Vallv&#233;"},"score":0,"creation_date":1658845734,"post_id":73007464,"comment_id":129150061,"body_markdown":"@Timo  I updated the question adding the code of MArs and part of the Main app","body":"@Timo  I updated the question adding the code of MArs and part of the Main app"},{"owner":{"account_id":12020434,"reputation":39,"user_id":8794027,"display_name":"Alan Vallv&#233;"},"score":0,"creation_date":1658845773,"post_id":73007464,"comment_id":129150081,"body_markdown":"@XavierBouclet The error is the test failing, is not an error itself, is that the position of the rover is not on the place it should be","body":"@XavierBouclet The error is the test failing, is not an error itself, is that the position of the rover is not on the place it should be"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658848611,"post_id":73007464,"comment_id":129151341,"body_markdown":"`System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_LEFT_OK)));` - you are breaking a lot of things due to poor design, check this: https://stackoverflow.com/questions/73108962/how-to-process-files-for-unit-testing/73109083#73109083","body":"<code>System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_LEFT_OK)))&zwnj;&#8203;;</code> - you are breaking a lot of things due to poor design, check this: <a href=\"https://stackoverflow.com/questions/73108962/how-to-process-files-for-unit-testing/73109083#73109083\" title=\"how to process files for unit testing\">stackoverflow.com/questions/73108962/&hellip;</a>"}],"owner":{"account_id":12020434,"reputation":39,"user_id":8794027,"display_name":"Alan Vallv&#233;"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658845651,"creation_date":1658003342,"question_id":73007464,"body_markdown":"Ok, so this test work individually fine, but for some reason, they fail when running together, as you can see, I real a String of values from a File.\r\n\r\nWhen running together, it looks like the app stops reading the commands of the file after a few entries.\r\n\r\nAny ideas?\r\n\r\nOne example of the file text: \r\n10\r\n10\r\n5\r\n5\r\ne\r\n3\r\n3\r\n3\r\n1\r\n5\r\n\r\nat the second 3 of the sequence, the app stops reading the values.\r\n\r\n\r\nAll this test work individually.\r\n\r\n ```\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_METHOD)\r\npublic class MarsRoverTest {\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        cleanUpMars();\r\n    }\r\n\r\n    //Test rover&#39;s movement\r\n    @Test\r\n    public void roverSetUp_OK() throws OutOfMarsException {\r\n        System.setIn(new ByteArrayInputStream(getInstructions(ROVER_SET_UP_OK)));\r\n\r\n        MarsRover.main(new String[]{});\r\n        assertEquals(RIGHT, Mars.getInstance().getMars()[5][5]);\r\n    }\r\n\r\n    @Test()\r\n    public void roverSetUp_OutOfMars() {\r\n        System.setIn(new ByteArrayInputStream(getInstructions(ROVER_SET_UP_ERROR)));\r\n\r\n        OutOfMarsException exception = assertThrows(OutOfMarsException.class, () -&gt;\r\n                MarsRover.main(new String[]{}));\r\n        assertEquals(&quot;You set the Rover in the Space!&quot;, exception.getMessage());\r\n    }\r\n\r\n    @Test\r\n    public void roverMoveAround_OK() throws OutOfMarsException {\r\n        System.setIn(new ByteArrayInputStream(getInstructions(ROVER_MOVE_AROUND_OK)));\r\n\r\n        MarsRover.main(new String[]{});\r\n\r\n        assertEquals(RIGHT, Mars.getInstance().getMars()[5][0]);\r\n    }\r\n\r\n\r\n    //Test rover&#39;s rotation\r\n    @Test\r\n    public void roverRotateUp_OK() throws OutOfMarsException {\r\n        System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_UP_OK)));\r\n\r\n        MarsRover.main(new String[]{});\r\n        assertEquals(UP, Mars.getInstance().getMars()[4][5]);\r\n    }\r\n\r\n\r\n    //Test rover&#39;s rotation\r\n    @Test\r\n    public void roverRotateLeft_OK() throws OutOfMarsException {\r\n        System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_LEFT_OK)));\r\n\r\n        MarsRover.main(new String[]{});\r\n        assertEquals(LEFT, Mars.getInstance().getMars()[5][4]);\r\n    }\r\n\r\n\r\n    //Test rover&#39;s rotation\r\n    @Test\r\n    public void roverRotateDown_OK() throws OutOfMarsException {\r\n        System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_DOWN_OK)));\r\n\r\n        MarsRover.main(new String[]{});\r\n        assertEquals(DOWN, Mars.getInstance().getMars()[6][5]);\r\n    }\r\n\r\n\r\n    private byte[] getInstructions(String path) {\r\n        try {\r\n            return Files.readString(Path.of(path)).getBytes();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void cleanUpMars() {\r\n        Mars.getInstance().setMarsReady(true);\r\n    }\r\n\r\n ```\r\n\r\nMars is a Singleton instance\r\n\r\n\r\n ```\r\n\r\n\r\npublic class Mars {\r\n\r\n    private static Mars INSTANCE;\r\n\r\n    private int sizeX;\r\n\r\n    private int sizeY;\r\n\r\n    private String[][] mars; //Map of Mars\r\n    private boolean marsReady = false; //I hade to add this for the testing, needs improvement\r\n    private Mars(){\r\n\r\n    }\r\n\r\n    public static Mars getInstance() {\r\n        if(INSTANCE == null) {\r\n            INSTANCE = new Mars();\r\n        }\r\n        return INSTANCE;\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\nMars class is this:\r\n\r\n```\r\n\r\npackage org.mars.entities;\r\n\r\nimport static org.mars.constants.MarsConstants.OBSTACLE;\r\nimport static org.mars.utils.ReaderUtils.requestInt;\r\n\r\n/**\r\n * Singleton class\r\n */\r\npublic class Mars {\r\n\r\n    private static Mars INSTANCE;\r\n\r\n    private int sizeX;\r\n\r\n    private int sizeY;\r\n\r\n    private String[][] mars; //Map of Mars\r\n    private boolean marsReady = false; //I hade to add this for the testing, needs improvement\r\n    private Mars(){\r\n\r\n    }\r\n\r\n    public static Mars getInstance() {\r\n        if(INSTANCE == null) {\r\n            INSTANCE = new Mars();\r\n        }\r\n        return INSTANCE;\r\n    }\r\n\r\n    public static void removeInstance() {\r\n        INSTANCE = null;\r\n    }\r\n\r\n    public int getSizeX() {\r\n        return sizeX;\r\n    }\r\n\r\n    public void setSizeX(int sizeX) {\r\n        this.sizeX = sizeX;\r\n    }\r\n\r\n    public int getSizeY() {\r\n        return sizeY;\r\n    }\r\n\r\n    public void setSizeY(int sizeY) {\r\n        this.sizeY = sizeY;\r\n    }\r\n\r\n    public String[][] getMars() {\r\n        return mars;\r\n    }\r\n\r\n    public void setMars(String[][] mars) {\r\n        this.mars = mars;\r\n    }\r\n\r\n    public boolean isMarsReady() {\r\n        return marsReady;\r\n    }\r\n\r\n    public void setMarsReady(boolean marsReady) {\r\n        this.marsReady = marsReady;\r\n    }\r\n\r\n    /**\r\n     * Define the size of the map for the rover\r\n     */\r\n    public static void setMarsSize() {\r\n        System.out.println(&quot;Insert horizontal map size:&quot;);\r\n        getInstance().sizeX = requestInt();\r\n        System.out.println(&quot;Insert vertical map size:&quot;);\r\n        getInstance().sizeY = requestInt();\r\n\r\n        getInstance().mars = new String[INSTANCE.sizeX][INSTANCE.sizeY];\r\n\r\n        if(!getInstance().isMarsReady())\r\n            addObstacles();\r\n    }\r\n\r\n    /**\r\n     * Shows the map of Mars with the rover and obstacles\r\n     */\r\n    public static void printMars(){\r\n        for (String[] placeX: INSTANCE.mars) {\r\n\r\n            System.out.print(&quot;|&quot;);\r\n\r\n            for (String placeY: placeX) {\r\n\r\n                if(placeY != null &amp;&amp; !placeY.isBlank())\r\n                    System.out.print(&quot;_&quot; + placeY + &quot;_&quot;);\r\n                else System.out.print(&quot;___&quot;);\r\n\r\n                System.out.print(&quot;|&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add obstacles for the mars Map\r\n     */\r\n    private static void addObstacles() {\r\n        int min = 0;\r\n        int numberOfObstacles = (int)(Math.random() * getInstance().sizeX * getInstance().sizeY / 10) + min;\r\n\r\n        for (int i = 0; i &lt; numberOfObstacles; i++) {\r\n            int randomX = (int)(Math.random() * getInstance().sizeX -1) + min;\r\n            int randomY = (int)(Math.random() * getInstance().sizeY -1) + min;\r\n\r\n            getInstance().mars[randomX][randomY] = OBSTACLE;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the main app:\r\n\r\n\r\n```\r\n\r\n    public static void main(String[] args) throws OutOfMarsException {\r\n\r\n        try {\r\n            reader = new Scanner(System.in);\r\n\r\n            //Map size configured\r\n            setMarsSize();\r\n            //Rover initial position\r\n            roverCar.setRoverPosition();\r\n            //Show mars map\r\n            printMars();","title":"Junit 5 test failing when running togheter","body":"<p>Ok, so this test work individually fine, but for some reason, they fail when running together, as you can see, I real a String of values from a File.</p>\n<p>When running together, it looks like the app stops reading the commands of the file after a few entries.</p>\n<p>Any ideas?</p>\n<p>One example of the file text:\n10\n10\n5\n5\ne\n3\n3\n3\n1\n5</p>\n<p>at the second 3 of the sequence, the app stops reading the values.</p>\n<p>All this test work individually.</p>\n<pre><code>\n@TestInstance(TestInstance.Lifecycle.PER_METHOD)\npublic class MarsRoverTest {\n\n   @BeforeEach\n   public void setUp() {\n       cleanUpMars();\n   }\n\n   //Test rover's movement\n   @Test\n   public void roverSetUp_OK() throws OutOfMarsException {\n       System.setIn(new ByteArrayInputStream(getInstructions(ROVER_SET_UP_OK)));\n\n       MarsRover.main(new String[]{});\n       assertEquals(RIGHT, Mars.getInstance().getMars()[5][5]);\n   }\n\n   @Test()\n   public void roverSetUp_OutOfMars() {\n       System.setIn(new ByteArrayInputStream(getInstructions(ROVER_SET_UP_ERROR)));\n\n       OutOfMarsException exception = assertThrows(OutOfMarsException.class, () -&gt;\n               MarsRover.main(new String[]{}));\n       assertEquals(&quot;You set the Rover in the Space!&quot;, exception.getMessage());\n   }\n\n   @Test\n   public void roverMoveAround_OK() throws OutOfMarsException {\n       System.setIn(new ByteArrayInputStream(getInstructions(ROVER_MOVE_AROUND_OK)));\n\n       MarsRover.main(new String[]{});\n\n       assertEquals(RIGHT, Mars.getInstance().getMars()[5][0]);\n   }\n\n\n   //Test rover's rotation\n   @Test\n   public void roverRotateUp_OK() throws OutOfMarsException {\n       System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_UP_OK)));\n\n       MarsRover.main(new String[]{});\n       assertEquals(UP, Mars.getInstance().getMars()[4][5]);\n   }\n\n\n   //Test rover's rotation\n   @Test\n   public void roverRotateLeft_OK() throws OutOfMarsException {\n       System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_LEFT_OK)));\n\n       MarsRover.main(new String[]{});\n       assertEquals(LEFT, Mars.getInstance().getMars()[5][4]);\n   }\n\n\n   //Test rover's rotation\n   @Test\n   public void roverRotateDown_OK() throws OutOfMarsException {\n       System.setIn(new ByteArrayInputStream(getInstructions(ROVER_ROTATE_DOWN_OK)));\n\n       MarsRover.main(new String[]{});\n       assertEquals(DOWN, Mars.getInstance().getMars()[6][5]);\n   }\n\n\n   private byte[] getInstructions(String path) {\n       try {\n           return Files.readString(Path.of(path)).getBytes();\n       } catch (IOException e) {\n           throw new RuntimeException(e);\n       }\n   }\n\n   private void cleanUpMars() {\n       Mars.getInstance().setMarsReady(true);\n   }\n\n</code></pre>\n<p>Mars is a Singleton instance</p>\n<pre><code>\n\npublic class Mars {\n\n   private static Mars INSTANCE;\n\n   private int sizeX;\n\n   private int sizeY;\n\n   private String[][] mars; //Map of Mars\n   private boolean marsReady = false; //I hade to add this for the testing, needs improvement\n   private Mars(){\n\n   }\n\n   public static Mars getInstance() {\n       if(INSTANCE == null) {\n           INSTANCE = new Mars();\n       }\n       return INSTANCE;\n   }\n\n\n</code></pre>\n<p>Mars class is this:</p>\n<pre><code>\npackage org.mars.entities;\n\nimport static org.mars.constants.MarsConstants.OBSTACLE;\nimport static org.mars.utils.ReaderUtils.requestInt;\n\n/**\n * Singleton class\n */\npublic class Mars {\n\n    private static Mars INSTANCE;\n\n    private int sizeX;\n\n    private int sizeY;\n\n    private String[][] mars; //Map of Mars\n    private boolean marsReady = false; //I hade to add this for the testing, needs improvement\n    private Mars(){\n\n    }\n\n    public static Mars getInstance() {\n        if(INSTANCE == null) {\n            INSTANCE = new Mars();\n        }\n        return INSTANCE;\n    }\n\n    public static void removeInstance() {\n        INSTANCE = null;\n    }\n\n    public int getSizeX() {\n        return sizeX;\n    }\n\n    public void setSizeX(int sizeX) {\n        this.sizeX = sizeX;\n    }\n\n    public int getSizeY() {\n        return sizeY;\n    }\n\n    public void setSizeY(int sizeY) {\n        this.sizeY = sizeY;\n    }\n\n    public String[][] getMars() {\n        return mars;\n    }\n\n    public void setMars(String[][] mars) {\n        this.mars = mars;\n    }\n\n    public boolean isMarsReady() {\n        return marsReady;\n    }\n\n    public void setMarsReady(boolean marsReady) {\n        this.marsReady = marsReady;\n    }\n\n    /**\n     * Define the size of the map for the rover\n     */\n    public static void setMarsSize() {\n        System.out.println(&quot;Insert horizontal map size:&quot;);\n        getInstance().sizeX = requestInt();\n        System.out.println(&quot;Insert vertical map size:&quot;);\n        getInstance().sizeY = requestInt();\n\n        getInstance().mars = new String[INSTANCE.sizeX][INSTANCE.sizeY];\n\n        if(!getInstance().isMarsReady())\n            addObstacles();\n    }\n\n    /**\n     * Shows the map of Mars with the rover and obstacles\n     */\n    public static void printMars(){\n        for (String[] placeX: INSTANCE.mars) {\n\n            System.out.print(&quot;|&quot;);\n\n            for (String placeY: placeX) {\n\n                if(placeY != null &amp;&amp; !placeY.isBlank())\n                    System.out.print(&quot;_&quot; + placeY + &quot;_&quot;);\n                else System.out.print(&quot;___&quot;);\n\n                System.out.print(&quot;|&quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    /**\n     * Add obstacles for the mars Map\n     */\n    private static void addObstacles() {\n        int min = 0;\n        int numberOfObstacles = (int)(Math.random() * getInstance().sizeX * getInstance().sizeY / 10) + min;\n\n        for (int i = 0; i &lt; numberOfObstacles; i++) {\n            int randomX = (int)(Math.random() * getInstance().sizeX -1) + min;\n            int randomY = (int)(Math.random() * getInstance().sizeY -1) + min;\n\n            getInstance().mars[randomX][randomY] = OBSTACLE;\n        }\n    }\n}\n\n</code></pre>\n<p>And the main app:</p>\n<pre><code>\n    public static void main(String[] args) throws OutOfMarsException {\n\n        try {\n            reader = new Scanner(System.in);\n\n            //Map size configured\n            setMarsSize();\n            //Rover initial position\n            roverCar.setRoverPosition();\n            //Show mars map\n            printMars();\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1658845145,"post_id":73125038,"comment_id":129149769,"body_markdown":"It sounds like you&#39;re looking for `CompletableFuture#join`, which will block the current thread until a result is available. From there, you can simply check the result directly, no loops needed. In essence, `if (!frozen.get()) { future.join(); }`","body":"It sounds like you&#39;re looking for <code>CompletableFuture#join</code>, which will block the current thread until a result is available. From there, you can simply check the result directly, no loops needed. In essence, <code>if (!frozen.get()) { future.join(); }</code>"},{"owner":{"account_id":14906761,"reputation":39,"user_id":10763710,"display_name":"Flytre 7"},"score":0,"creation_date":1658845470,"post_id":73125038,"comment_id":129149933,"body_markdown":"Hi Rogue! What the breakpoint command does is freeze the thread where it is when it is called, so if a breakpoint command is run join() will wait until resume is called elsewhere (this functionality already exists), which is fine. But that means I have to check frozen.get() while future is running because the breakpoint command will set the state of frozen during the execution of future.","body":"Hi Rogue! What the breakpoint command does is freeze the thread where it is when it is called, so if a breakpoint command is run join() will wait until resume is called elsewhere (this functionality already exists), which is fine. But that means I have to check frozen.get() while future is running because the breakpoint command will set the state of frozen during the execution of future."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1658847623,"post_id":73125038,"comment_id":129150926,"body_markdown":"I think a tick-based approach (and using `frozen`) might actually be harmful in this regard. In your custom scripting language, a loop could be introduced by the programmer, but otherwise should simply run start-to-finish. There&#39;s &quot;static&quot; breakpoints (ones set before the script is executed) and &quot;dynamic&quot; breakpoints (ones set while running), but in either case your interpreter will need to track the line that the breakpoint is set for, and _then_ freeze (via a `Future`) once that line is reached.","body":"I think a tick-based approach (and using <code>frozen</code>) might actually be harmful in this regard. In your custom scripting language, a loop could be introduced by the programmer, but otherwise should simply run start-to-finish. There&#39;s &quot;static&quot; breakpoints (ones set before the script is executed) and &quot;dynamic&quot; breakpoints (ones set while running), but in either case your interpreter will need to track the line that the breakpoint is set for, and <i>then</i> freeze (via a <code>Future</code>) once that line is reached."}],"owner":{"account_id":14906761,"reputation":39,"user_id":10763710,"display_name":"Flytre 7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658845519,"creation_date":1658845079,"question_id":73125038,"body_markdown":"I want to add a breakpoint command to this custom scripting language processed in Java. To this effect I want to implement logic like this:\r\n\r\n```java\r\n//frozen = AtomicBoolean\r\nvoid tick() {\r\n    CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(this::executeFunctions);\r\n    while(!frozen.get() &amp;&amp; !future.isDone());\r\n}\r\n```\r\n\r\nI want to run executeFunctions asynchronously with the logic described above but avoiding busy-waiting.\r\n\r\nIf no breakpoint function is called, wait for future to complete.\r\nElse, return from tick() early and don&#39;t wait for the remainder of executeFunctions to execute.\r\n\r\nThe problem I&#39;m having is I don&#39;t know how to join until either the thread finishes OR an external predicate is met (frozen.get() returns true)\r\n\r\nI need to check frozen while future is running because the breakpoint command will set frozen to true when it runs.","title":"Join thread while condition","body":"<p>I want to add a breakpoint command to this custom scripting language processed in Java. To this effect I want to implement logic like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//frozen = AtomicBoolean\nvoid tick() {\n    CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(this::executeFunctions);\n    while(!frozen.get() &amp;&amp; !future.isDone());\n}\n</code></pre>\n<p>I want to run executeFunctions asynchronously with the logic described above but avoiding busy-waiting.</p>\n<p>If no breakpoint function is called, wait for future to complete.\nElse, return from tick() early and don't wait for the remainder of executeFunctions to execute.</p>\n<p>The problem I'm having is I don't know how to join until either the thread finishes OR an external predicate is met (frozen.get() returns true)</p>\n<p>I need to check frozen while future is running because the breakpoint command will set frozen to true when it runs.</p>\n"},{"tags":["java","http","quarkus","resteasy","reactive"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1658815944,"post_id":73111188,"comment_id":129138391,"body_markdown":"Can you open a GitHub issue for this please?","body":"Can you open a GitHub issue for this please?"},{"owner":{"account_id":7228220,"reputation":1559,"user_id":5516057,"display_name":"Marc"},"score":1,"creation_date":1658823386,"post_id":73111188,"comment_id":129140832,"body_markdown":"Hi @geoand, I just opened [the issue](https://github.com/quarkusio/quarkus/issues/26922)","body":"Hi @geoand, I just opened <a href=\"https://github.com/quarkusio/quarkus/issues/26922\" rel=\"nofollow noreferrer\">the issue</a>"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658832633,"creation_date":1658832633,"answer_id":73122044,"question_id":73111188,"body_markdown":"This doesn&#39;t seem the right use case for `@Blocking`.\r\nDid you try the following?\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;hello&quot;)\r\n    @RolesAllowed({&quot;roleYouNeed&quot;})\r\n    public Response hello(){\r\n        return Response.ok(&quot;hello&quot;).build();\r\n    }\r\n```","title":"RestEasyReactive http response returns caught exception","body":"<p>This doesn't seem the right use case for <code>@Blocking</code>.\nDid you try the following?</p>\n<pre><code>    @GET\n    @Path(&quot;hello&quot;)\n    @RolesAllowed({&quot;roleYouNeed&quot;})\n    public Response hello(){\n        return Response.ok(&quot;hello&quot;).build();\n    }\n</code></pre>\n"}],"owner":{"account_id":7228220,"reputation":1559,"user_id":5516057,"display_name":"Marc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658845438,"creation_date":1658760495,"question_id":73111188,"body_markdown":"I have a simple quarkus reactive resteasy server\r\n\r\n```java\r\n@Path(&quot;/&quot;)\r\n@ApplicationScoped\r\npublic class Hello {\r\n\r\n    @GET\r\n    @Path(&quot;hello&quot;)\r\n    @RolesAllowed({&quot;roleYouNeed&quot;})\r\n    public Uni&lt;Response&gt; hello(){\r\n        return Uni.createFrom().item(Response.ok(&quot;hello&quot;).build());\r\n    }\r\n}\r\n        \r\n```\r\n\r\nFollowing the documentation found here I create several exception mappers to return a response body which elaborates on the status code. This one for example works when you do not provide a JWT token to a request that needs it:\r\n\r\n```java\r\n@Provider//register as JAXRS provider\r\n@Priority(1)//override the build-int mapper(which has 5001 prio)\r\n@Slf4j\r\npublic class UnauthorizedExceptionMapper implements ExceptionMapper&lt;UnauthorizedException&gt; {\r\n    @Override\r\n    public Response toResponse(UnauthorizedException exception) {\r\n        log.warn(&quot;There was an incoming request that did not have the correct Authorization&quot;);\r\n        return Response.status(Response.Status.UNAUTHORIZED)\r\n                .entity(new ErrorResponseObject().addErrorsItem(new ErrorResponseObjectErrorsInner()\r\n                        .code(String.valueOf(Response.Status.UNAUTHORIZED.getStatusCode()))\r\n                        .detail(&quot;Unauthorized&quot;)))\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis works as expected on my endpoint that uses quarkus-smallrye-jwt with the annotation `@RolesAllowed({&quot;roleYouNeed&quot;})`\r\n\r\nWhen someone sends a token that is truly worthless however a JWTParse Exception occurs and a different exception is raised, the `AuthenticationFailedException`\r\n\r\nTo catch this one I created \r\n\r\n```java\r\n@Provider\r\n@Priority(1)\r\n@Slf4j\r\npublic class AuthenticationExceptionMapper implements ExceptionMapper&lt;AuthenticationFailedException&gt; {\r\n    @Override\r\n    public Response toResponse(AuthenticationFailedException exception) {\r\n        log.warn(&quot;There was an incoming request that did not have the correct Authorization&quot;);\r\n        return Response.status(Response.Status.UNAUTHORIZED)\r\n                .entity(new ErrorResponseObject().addErrorsItem(new ErrorResponseObjectErrorsInner()\r\n                        .code(String.valueOf(Response.Status.UNAUTHORIZED.getStatusCode()))\r\n                        .detail(&quot;Unauthorized&quot;)))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nThis does catch the exception and my warning is logged: `[com.ene.odp.exc.AuthenticationExceptionMapper] (vert.x-eventloop-thread-0) There was an incoming request that did not have the correct Authorization\r\n`. The problem here is that a response has already been returned and I see the following error occurring:\r\n\r\n```\r\n2022-07-25 16:22:03,812 ERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (vert.x-eventloop-thread-1) Request failed: java.io.IOException: java.io.IOException: Failed to write\r\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:272)\r\n        at io.quarkus.resteasy.reactive.jackson.runtime.serialisers.BasicServerJacksonMessageBodyWriter.writeResponse(BasicServerJacksonMessageBodyWriter.java:44)\r\n        at org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:207)\r\n        at org.jboss.resteasy.reactive.server.core.serialization.DynamicEntityWriter.write(DynamicEntityWriter.java:104)\r\n        at org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:31)\r\n        at org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:15)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\r\n        at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:73)\r\n        at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:70)\r\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:63)\r\n        at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:38)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.io.IOException: Failed to write\r\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:109)\r\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.writeBlocking(ResteasyReactiveOutputStream.java:224)\r\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:270)\r\n        ... 18 more\r\nCaused by: java.lang.IllegalStateException: Response has already been written\r\n        at io.vertx.core.http.impl.Http1xServerResponse.checkValid(Http1xServerResponse.java:675)\r\n        at io.vertx.core.http.impl.Http1xServerResponse.writeQueueFull(Http1xServerResponse.java:274)\r\n        at io.quarkus.vertx.http.runtime.filters.AbstractResponseWrapper.writeQueueFull(AbstractResponseWrapper.java:486)\r\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.awaitWriteable(ResteasyReactiveOutputStream.java:116)\r\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:82)\r\n```\r\n\r\nWhy is the response already being returned while I catch this exception? How can I make sure nothing is returned except what I return from the `AuthenticationExceptionMapper`?","title":"RestEasyReactive http response returns caught exception","body":"<p>I have a simple quarkus reactive resteasy server</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/&quot;)\n@ApplicationScoped\npublic class Hello {\n\n    @GET\n    @Path(&quot;hello&quot;)\n    @RolesAllowed({&quot;roleYouNeed&quot;})\n    public Uni&lt;Response&gt; hello(){\n        return Uni.createFrom().item(Response.ok(&quot;hello&quot;).build());\n    }\n}\n        \n</code></pre>\n<p>Following the documentation found here I create several exception mappers to return a response body which elaborates on the status code. This one for example works when you do not provide a JWT token to a request that needs it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider//register as JAXRS provider\n@Priority(1)//override the build-int mapper(which has 5001 prio)\n@Slf4j\npublic class UnauthorizedExceptionMapper implements ExceptionMapper&lt;UnauthorizedException&gt; {\n    @Override\n    public Response toResponse(UnauthorizedException exception) {\n        log.warn(&quot;There was an incoming request that did not have the correct Authorization&quot;);\n        return Response.status(Response.Status.UNAUTHORIZED)\n                .entity(new ErrorResponseObject().addErrorsItem(new ErrorResponseObjectErrorsInner()\n                        .code(String.valueOf(Response.Status.UNAUTHORIZED.getStatusCode()))\n                        .detail(&quot;Unauthorized&quot;)))\n                .build();\n    }\n\n}\n</code></pre>\n<p>This works as expected on my endpoint that uses quarkus-smallrye-jwt with the annotation <code>@RolesAllowed({&quot;roleYouNeed&quot;})</code></p>\n<p>When someone sends a token that is truly worthless however a JWTParse Exception occurs and a different exception is raised, the <code>AuthenticationFailedException</code></p>\n<p>To catch this one I created</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\n@Priority(1)\n@Slf4j\npublic class AuthenticationExceptionMapper implements ExceptionMapper&lt;AuthenticationFailedException&gt; {\n    @Override\n    public Response toResponse(AuthenticationFailedException exception) {\n        log.warn(&quot;There was an incoming request that did not have the correct Authorization&quot;);\n        return Response.status(Response.Status.UNAUTHORIZED)\n                .entity(new ErrorResponseObject().addErrorsItem(new ErrorResponseObjectErrorsInner()\n                        .code(String.valueOf(Response.Status.UNAUTHORIZED.getStatusCode()))\n                        .detail(&quot;Unauthorized&quot;)))\n                .build();\n    }\n}\n</code></pre>\n<p>This does catch the exception and my warning is logged: <code>[com.ene.odp.exc.AuthenticationExceptionMapper] (vert.x-eventloop-thread-0) There was an incoming request that did not have the correct Authorization </code>. The problem here is that a response has already been returned and I see the following error occurring:</p>\n<pre><code>2022-07-25 16:22:03,812 ERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (vert.x-eventloop-thread-1) Request failed: java.io.IOException: java.io.IOException: Failed to write\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:272)\n        at io.quarkus.resteasy.reactive.jackson.runtime.serialisers.BasicServerJacksonMessageBodyWriter.writeResponse(BasicServerJacksonMessageBodyWriter.java:44)\n        at org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:207)\n        at org.jboss.resteasy.reactive.server.core.serialization.DynamicEntityWriter.write(DynamicEntityWriter.java:104)\n        at org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:31)\n        at org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:15)\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\n        at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:73)\n        at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:70)\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:63)\n        at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:38)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.io.IOException: Failed to write\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:109)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.writeBlocking(ResteasyReactiveOutputStream.java:224)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:270)\n        ... 18 more\nCaused by: java.lang.IllegalStateException: Response has already been written\n        at io.vertx.core.http.impl.Http1xServerResponse.checkValid(Http1xServerResponse.java:675)\n        at io.vertx.core.http.impl.Http1xServerResponse.writeQueueFull(Http1xServerResponse.java:274)\n        at io.quarkus.vertx.http.runtime.filters.AbstractResponseWrapper.writeQueueFull(AbstractResponseWrapper.java:486)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.awaitWriteable(ResteasyReactiveOutputStream.java:116)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:82)\n</code></pre>\n<p>Why is the response already being returned while I catch this exception? How can I make sure nothing is returned except what I return from the <code>AuthenticationExceptionMapper</code>?</p>\n"},{"tags":["java","apache-httpcomponents"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658840082,"post_id":73123420,"comment_id":129147437,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25898474,"reputation":11,"user_id":19624745,"display_name":"Yug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658845408,"creation_date":1658838614,"question_id":73123420,"body_markdown":"We are using Lever integration for developing a connector for one of our Client. While testing we are facing authentication error , the Authentication token is getting expired in every 1 hour , so when the token is expired and if we try to hit any other API it gives status code as 403 Forbidden which is expected but the response returned from Lever side is missing WWW-Authenticate parameter in response header which throws HttpResponseException:\r\n\r\n&gt; HTTP protocol violation: Authentication challenge without WWW-Authenticate header\r\n\r\nWe are using Http Client Library.\r\n\r\nIs there any way to disable www-authenticate protocol check? Is there any workaround to this error?\r\n\r\n\r\nError Log:\r\n```none\r\n{\r\n&quot;timestamp&quot;:&quot;15 Jul 2022 14:52:50,960&quot;, \r\n&quot;level&quot;:&quot;ERROR&quot;, \r\n&quot;class&quot;:&quot;LoginHelper.java:108&quot;, \r\n&quot;requestId&quot;:&quot;d725d5d3-0f13-4e9d-ba2c-300ca8885303&quot;, \r\n&quot;details&quot;:LogLine{logNamespace=LoginHelper, message=Error sending authentication request due to org.eclipse.jetty.client.HttpResponseException: HTTP protocol violation: Authentication challenge without WWW-Authenticate header, logData={RequestVersion=1, RequestId=470150876413-bd5c390c7b3e3ee742c965dd03dab117}} , \r\n&quot;exceptionTrace&quot;:&quot; org.eclipse.jetty.client.HttpResponseException: HTTP protocol violation: Authentication challenge without WWW-Authenticate header\r\n at org.eclipse.jetty.client.AuthenticationProtocolHandler$AuthenticationListener.onComplete(AuthenticationProtocolHandler.java:164) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:196) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:188) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:441) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:387) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:599) ~[jetty-http-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1669) ~[jetty-http-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1517) ~[jetty-http-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:427) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:321) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:159) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:698) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:804) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n ... 1 more\r\nWrapped by: java.util.concurrent.ExecutionException: org.eclipse.jetty.client.HttpResponseException: HTTP protocol violation: Authentication challenge without WWW-Authenticate header\r\n at org.eclipse.jetty.client.util.FutureResponseListener.getResult(FutureResponseListener.java:118) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.util.FutureResponseListener.get(FutureResponseListener.java:101) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:683) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\r\n at com.amazon.sandstonebridge.connector.rest.login.LoginHelper.login(LoginHelper.java:105) ~[SandstoneBridgeRestConnector-1.0.jar:?]\r\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.AbstractConnectorCredentialsRefreshProvider.login(AbstractConnectorCredentialsRefreshProvider.java:116) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\r\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.AbstractConnectorCredentialsRefreshProvider.getRefreshedTokens(AbstractConnectorCredentialsRefreshProvider.java:110) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\r\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.CustomConnectorCredentialsRefreshProvider.refreshAndUpdateSecretsArn(CustomConnectorCredentialsRefreshProvider.java:27) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\r\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.CustomConnectorCredentialsRefreshProvider.refreshAndUpdateSecretsArn(CustomConnectorCredentialsRefreshProvider.java:16) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\r\n at com.amazonaws.sandstone.connector.credentials.refresh.handler.ConnectorCredentialsRefreshHandler.refreshAndUpdateSecretsArn(ConnectorCredentialsRefreshHandler.java:91) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\r\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector.getRefreshedTokens(OAuth2CustomConnector.java:140) ~[SandstoneBridgeConnector-1.0.jar:?]\r\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector.refresh(OAuth2CustomConnector.java:122) ~[SandstoneBridgeConnector-1.0.jar:?]\r\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector$AbstractPagedRefreshableIterator.refreshAndGetNextPage(OAuth2CustomConnector.java:245) ~[SandstoneBridgeConnector-1.0.jar:?]\r\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector$AbstractPagedRefreshableIterator.getNextPage(OAuth2CustomConnector.java:233) ~[SandstoneBridgeConnector-1.0.jar:?]\r\n at com.amazon.sandstonebridge.connector.generic.AbstractPagedIterator.next(AbstractPagedIterator.java:19) ~[SandstoneBridgeGenericConnector-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.AbstractConnectorExecutor.tryNextPage(AbstractConnectorExecutor.java:465) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.AbstractConnectorExecutor.execute(AbstractConnectorExecutor.java:367) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorReadDataExecutor.execute(ConnectorReadDataExecutor.java:44) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorExecutorRetryHandler.execute(ConnectorExecutorRetryHandler.java:55) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorExecutionHandler.delegateToConnector(ConnectorExecutionHandler.java:130) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorExecutionHandler.executeConnector(ConnectorExecutionHandler.java:79) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.TaskExecutionHandler.execute(TaskExecutionHandler.java:93) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at com.amazonaws.sandstonebridge.worker.handler.TaskSubmissionHandler.lambda$submitToExecutorService$0(TaskSubmissionHandler.java:63) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_332]\r\n at com.amazonaws.sandstonebridge.worker.module.RequestHandlerModule$Log4jContextAwareRunnable.run(RequestHandlerModule.java:375) ~[SandstoneBridgeWorkerService-1.0.jar:?]\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_332]\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_332]\r\n at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_332]\r\n&quot; }\r\n```\r\n","title":"How to disable www-authenticate protocol?","body":"<p>We are using Lever integration for developing a connector for one of our Client. While testing we are facing authentication error , the Authentication token is getting expired in every 1 hour , so when the token is expired and if we try to hit any other API it gives status code as 403 Forbidden which is expected but the response returned from Lever side is missing WWW-Authenticate parameter in response header which throws HttpResponseException:</p>\n<blockquote>\n<p>HTTP protocol violation: Authentication challenge without WWW-Authenticate header</p>\n</blockquote>\n<p>We are using Http Client Library.</p>\n<p>Is there any way to disable www-authenticate protocol check? Is there any workaround to this error?</p>\n<p>Error Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n&quot;timestamp&quot;:&quot;15 Jul 2022 14:52:50,960&quot;, \n&quot;level&quot;:&quot;ERROR&quot;, \n&quot;class&quot;:&quot;LoginHelper.java:108&quot;, \n&quot;requestId&quot;:&quot;d725d5d3-0f13-4e9d-ba2c-300ca8885303&quot;, \n&quot;details&quot;:LogLine{logNamespace=LoginHelper, message=Error sending authentication request due to org.eclipse.jetty.client.HttpResponseException: HTTP protocol violation: Authentication challenge without WWW-Authenticate header, logData={RequestVersion=1, RequestId=470150876413-bd5c390c7b3e3ee742c965dd03dab117}} , \n&quot;exceptionTrace&quot;:&quot; org.eclipse.jetty.client.HttpResponseException: HTTP protocol violation: Authentication challenge without WWW-Authenticate header\n at org.eclipse.jetty.client.AuthenticationProtocolHandler$AuthenticationListener.onComplete(AuthenticationProtocolHandler.java:164) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:196) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:188) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:441) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:387) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:599) ~[jetty-http-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1669) ~[jetty-http-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1517) ~[jetty-http-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:427) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:321) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:159) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117) ~[jetty-io-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:698) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:804) ~[jetty-util-9.4.18.v20190429.jar:9.4.18.v20190429]\n ... 1 more\nWrapped by: java.util.concurrent.ExecutionException: org.eclipse.jetty.client.HttpResponseException: HTTP protocol violation: Authentication challenge without WWW-Authenticate header\n at org.eclipse.jetty.client.util.FutureResponseListener.getResult(FutureResponseListener.java:118) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.util.FutureResponseListener.get(FutureResponseListener.java:101) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:683) ~[jetty-client-9.4.18.v20190429.jar:9.4.18.v20190429]\n at com.amazon.sandstonebridge.connector.rest.login.LoginHelper.login(LoginHelper.java:105) ~[SandstoneBridgeRestConnector-1.0.jar:?]\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.AbstractConnectorCredentialsRefreshProvider.login(AbstractConnectorCredentialsRefreshProvider.java:116) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.AbstractConnectorCredentialsRefreshProvider.getRefreshedTokens(AbstractConnectorCredentialsRefreshProvider.java:110) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.CustomConnectorCredentialsRefreshProvider.refreshAndUpdateSecretsArn(CustomConnectorCredentialsRefreshProvider.java:27) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\n at com.amazonaws.sandstone.connector.credentials.refresh.provider.CustomConnectorCredentialsRefreshProvider.refreshAndUpdateSecretsArn(CustomConnectorCredentialsRefreshProvider.java:16) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\n at com.amazonaws.sandstone.connector.credentials.refresh.handler.ConnectorCredentialsRefreshHandler.refreshAndUpdateSecretsArn(ConnectorCredentialsRefreshHandler.java:91) ~[SandstoneConnectorCredentialsRefresh-1.0.jar:?]\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector.getRefreshedTokens(OAuth2CustomConnector.java:140) ~[SandstoneBridgeConnector-1.0.jar:?]\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector.refresh(OAuth2CustomConnector.java:122) ~[SandstoneBridgeConnector-1.0.jar:?]\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector$AbstractPagedRefreshableIterator.refreshAndGetNextPage(OAuth2CustomConnector.java:245) ~[SandstoneBridgeConnector-1.0.jar:?]\n at com.amazon.sandstonebridge.connector.impl.customconnector.OAuth2CustomConnector$AbstractPagedRefreshableIterator.getNextPage(OAuth2CustomConnector.java:233) ~[SandstoneBridgeConnector-1.0.jar:?]\n at com.amazon.sandstonebridge.connector.generic.AbstractPagedIterator.next(AbstractPagedIterator.java:19) ~[SandstoneBridgeGenericConnector-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.AbstractConnectorExecutor.tryNextPage(AbstractConnectorExecutor.java:465) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.AbstractConnectorExecutor.execute(AbstractConnectorExecutor.java:367) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorReadDataExecutor.execute(ConnectorReadDataExecutor.java:44) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorExecutorRetryHandler.execute(ConnectorExecutorRetryHandler.java:55) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorExecutionHandler.delegateToConnector(ConnectorExecutionHandler.java:130) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.ConnectorExecutionHandler.executeConnector(ConnectorExecutionHandler.java:79) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.TaskExecutionHandler.execute(TaskExecutionHandler.java:93) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at com.amazonaws.sandstonebridge.worker.handler.TaskSubmissionHandler.lambda$submitToExecutorService$0(TaskSubmissionHandler.java:63) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_332]\n at com.amazonaws.sandstonebridge.worker.module.RequestHandlerModule$Log4jContextAwareRunnable.run(RequestHandlerModule.java:375) ~[SandstoneBridgeWorkerService-1.0.jar:?]\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_332]\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_332]\n at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_332]\n&quot; }\n</code></pre>\n"},{"tags":["java","spring-boot","webserver"],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658845227,"creation_date":1658845227,"answer_id":73125101,"question_id":73124945,"body_markdown":"I don&#39;t see any dependency on \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthat starts the embedded tomcat. I think you should add this in your app pom.","title":"My SpringBoot Application dont start the TomCat","body":"<p>I don't see any dependency on</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>that starts the embedded tomcat. I think you should add this in your app pom.</p>\n"}],"owner":{"account_id":25899662,"reputation":43,"user_id":19625767,"display_name":"Chrisy455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73125101,"answer_count":1,"score":0,"last_activity_date":1658845227,"creation_date":1658844695,"question_id":73124945,"body_markdown":"My programm compiles everything and i got no errors, but i actually expected that the tomcat should be on port 8080 permanently. Also there is no Spring in the Output.\r\nOn a other project i did everything works fine. Thank u for helping me.\r\n         \r\nMy Parent-Pom:   \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CalculatorWithRest&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;app&lt;/module&gt;\r\n            &lt;module&gt;infrastructure&lt;/module&gt;\r\n            &lt;module&gt;domain-api&lt;/module&gt;\r\n            &lt;module&gt;domain-core&lt;/module&gt;\r\n            &lt;module&gt;rest-api&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n                    &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;true&lt;/skip&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nMy Starter.class:\r\n\r\n    package de.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class appstarter {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(appstarter.class, args);\r\n        }\r\n    }\r\n\r\nMy Starter-Pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;CalculatorWithRest&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nConsole Output:\r\n\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ rest-api ---\r\n    [INFO]\r\n    [INFO] CalculatorWithRest ................................. SUCCESS [  1.215 s]\r\n    [INFO] app ................................................ SUCCESS [  5.278 s]\r\n    [INFO] domain-api ......................................... SUCCESS [  3.251 s]\r\n    [INFO] infrastructure ..................................... SUCCESS [  3.075 s]\r\n    [INFO] domain-core ........................................ SUCCESS [  2.434 s]\r\n    [INFO] rest-api ........................................... SUCCESS [  2.871 s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  18.843 s\r\n    [INFO] Finished at: 2022-07-26T15:49:58+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nThen nothing happens anymore.\r\nTy for helping.","title":"My SpringBoot Application dont start the TomCat","body":"<p>My programm compiles everything and i got no errors, but i actually expected that the tomcat should be on port 8080 permanently. Also there is no Spring in the Output.\nOn a other project i did everything works fine. Thank u for helping me.</p>\n<p>My Parent-Pom:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;CalculatorWithRest&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;app&lt;/module&gt;\n        &lt;module&gt;infrastructure&lt;/module&gt;\n        &lt;module&gt;domain-api&lt;/module&gt;\n        &lt;module&gt;domain-core&lt;/module&gt;\n        &lt;module&gt;rest-api&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.example&lt;/groupId&gt;\n                &lt;artifactId&gt;app&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My Starter.class:</p>\n<pre><code>package de.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class appstarter {\n    public static void main(String[] args) {\n        SpringApplication.run(appstarter.class, args);\n    }\n}\n</code></pre>\n<p>My Starter-Pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;CalculatorWithRest&lt;/artifactId&gt;\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Console Output:</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ rest-api ---\n[INFO]\n[INFO] CalculatorWithRest ................................. SUCCESS [  1.215 s]\n[INFO] app ................................................ SUCCESS [  5.278 s]\n[INFO] domain-api ......................................... SUCCESS [  3.251 s]\n[INFO] infrastructure ..................................... SUCCESS [  3.075 s]\n[INFO] domain-core ........................................ SUCCESS [  2.434 s]\n[INFO] rest-api ........................................... SUCCESS [  2.871 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  18.843 s\n[INFO] Finished at: 2022-07-26T15:49:58+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Then nothing happens anymore.\nTy for helping.</p>\n"},{"tags":["java","zip","unzip"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658844356,"creation_date":1658843220,"answer_id":73124571,"question_id":73124352,"body_markdown":"`Path` was introduced as generalization of `File` (disk file). A Path can be inside a zip file, an URL, and more.\r\n\r\nYou can use [`Files`][1] with `Path` for similar File functionality.\r\n\r\n    for (Path p : fs.getRootDirectories()) {\r\n        System.out.println(&quot;root: &quot; + p);\r\n        System.out.println(Files.exists(p));\r\n        Files.list(p).forEach(f -&gt; System.out.println(f.toAbsolutePath()));\r\n    }\r\n\r\nNote that a Path, like from a zip will maintain its actual file system view (fs, the zip).\r\n\r\nSo avoid File.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html","title":"java zip filesystem reading zip entries","body":"<p><code>Path</code> was introduced as generalization of <code>File</code> (disk file). A Path can be inside a zip file, an URL, and more.</p>\n<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\"><code>Files</code></a> with <code>Path</code> for similar File functionality.</p>\n<pre><code>for (Path p : fs.getRootDirectories()) {\n    System.out.println(&quot;root: &quot; + p);\n    System.out.println(Files.exists(p));\n    Files.list(p).forEach(f -&gt; System.out.println(f.toAbsolutePath()));\n}\n</code></pre>\n<p>Note that a Path, like from a zip will maintain its actual file system view (fs, the zip).</p>\n<p>So avoid File.</p>\n"}],"owner":{"account_id":5228861,"reputation":843,"user_id":4179961,"accept_rate":59,"display_name":"Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73124571,"answer_count":1,"score":0,"last_activity_date":1658844356,"creation_date":1658842347,"question_id":73124352,"body_markdown":"SO, from what I&#39;ve gathered, one is supposed to be able to create a filesystem from a zip from java 7 and beyond. I&#39;m trying this, the ultimate goal is to use the File object and access these files, just as if I accessed an unzipped file.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.file.*;\r\n    import java.util.*;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipFile;\r\n\r\n    public class MainZipTest {\r\n\r\n\tpublic static void main(String[] args) throws IOException, URISyntaxException {\r\n\r\n\t\tMap&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n\t\tenv.put(&quot;read&quot;, &quot;true&quot;);\r\n\r\n\t\tFile file = new File(&quot;C:/pathtoazip/data.zip&quot;);\r\n\t\tURI uri = file.toURI();\r\n\t\tString path = &quot;jar:&quot; + uri;\r\n\t\tFileSystem fs = FileSystems.newFileSystem(URI.create(path), env);\r\n\r\n\t\tfor (Path p : fs.getRootDirectories()) {\r\n\t\t\tSystem.out.println(&quot;root&quot; + p);\r\n\t\t\t//says &quot;/&quot;\r\n\t\t\tSystem.out.println(new File(p.toString()).exists());\r\n\t\t\tfor (File f : new File(p.toString()).listFiles())\r\n\t\t\t\tSystem.out.println(f.getAbsolutePath());\r\n\t\t\t//lists the contents of my c drive!\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(new File(&quot;somefile.txt&quot;).exists());\r\n\t\tSystem.out.println(fs.getPath(&quot;somefile.txt&quot;).toFile().exists());\r\n\t\tSystem.out.println(new File(&quot;/somefile.txt&quot;).exists());\r\n\t\tSystem.out.println(fs.getPath(&quot;/somefile.txt&quot;).toFile().exists());\r\n\t}\r\n    }\r\n\r\nit all prints &quot;false&quot;. What am I doing wrong here? Or am I wrong in my assumption that I can access these files through the File object? If so, how does one access them?\r\n","title":"java zip filesystem reading zip entries","body":"<p>SO, from what I've gathered, one is supposed to be able to create a filesystem from a zip from java 7 and beyond. I'm trying this, the ultimate goal is to use the File object and access these files, just as if I accessed an unzipped file.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.file.*;\nimport java.util.*;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\n\npublic class MainZipTest {\n\npublic static void main(String[] args) throws IOException, URISyntaxException {\n\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n    env.put(&quot;read&quot;, &quot;true&quot;);\n\n    File file = new File(&quot;C:/pathtoazip/data.zip&quot;);\n    URI uri = file.toURI();\n    String path = &quot;jar:&quot; + uri;\n    FileSystem fs = FileSystems.newFileSystem(URI.create(path), env);\n\n    for (Path p : fs.getRootDirectories()) {\n        System.out.println(&quot;root&quot; + p);\n        //says &quot;/&quot;\n        System.out.println(new File(p.toString()).exists());\n        for (File f : new File(p.toString()).listFiles())\n            System.out.println(f.getAbsolutePath());\n        //lists the contents of my c drive!\n    }\n    \n    System.out.println(new File(&quot;somefile.txt&quot;).exists());\n    System.out.println(fs.getPath(&quot;somefile.txt&quot;).toFile().exists());\n    System.out.println(new File(&quot;/somefile.txt&quot;).exists());\n    System.out.println(fs.getPath(&quot;/somefile.txt&quot;).toFile().exists());\n}\n}\n</code></pre>\n<p>it all prints &quot;false&quot;. What am I doing wrong here? Or am I wrong in my assumption that I can access these files through the File object? If so, how does one access them?</p>\n"},{"tags":["java","jline","jline3"],"answers":[{"tags":[],"owner":{"account_id":8621446,"reputation":21,"user_id":6456232,"display_name":"Amol B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658844321,"creation_date":1658844321,"answer_id":73124865,"question_id":72998058,"body_markdown":"This is expected behavior. Here is the complete response\r\nhttps://github.com/jline/jline3/issues/792","title":"Jline with completion candidates having space giving unexpected output","body":"<p>This is expected behavior. Here is the complete response\n<a href=\"https://github.com/jline/jline3/issues/792\" rel=\"nofollow noreferrer\">https://github.com/jline/jline3/issues/792</a></p>\n"}],"owner":{"account_id":8621446,"reputation":21,"user_id":6456232,"display_name":"Amol B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658844321,"creation_date":1657908123,"question_id":72998058,"body_markdown":"I am using Jline 3.21.0 and trying to run a simple test with reference from\r\nhttps://github.com/jline/jline3/blob/master/reader/src/test/java/org/jline/reader/completer/StringsCompleterTest.java\r\n\r\nBelow is one of the modified testcase with candidates having spaces in them. After giving input as **&quot;foo b&quot;** without quote and pressing tab am expecting output to be **&quot;foo bar&quot;**. But I get output as **&quot;foo foo bar&quot;**. \r\n\r\nIs this expected behavior ? How can I fix it ? Thanks in advance.\r\n\r\n```\r\n        DefaultParser dp = (DefaultParser) reader.getParser();\r\n        dp.setEscapeChars(new char[]{});\r\n        reader.setVariable(LineReader.ERRORS, 0);\r\n        reader.setParser(dp);\r\n        reader.setCompleter(new StringsCompleter(&quot;foo bar&quot;, &quot;foo foo&quot;, &quot;foo shoo&quot;));\r\n\r\n        assertBuffer(&quot;foo bar &quot;, new TestBuffer(&quot;foo b&quot;).tab()); // fails actual is &quot;foo foo bar&quot;\r\n```","title":"Jline with completion candidates having space giving unexpected output","body":"<p>I am using Jline 3.21.0 and trying to run a simple test with reference from\n<a href=\"https://github.com/jline/jline3/blob/master/reader/src/test/java/org/jline/reader/completer/StringsCompleterTest.java\" rel=\"nofollow noreferrer\">https://github.com/jline/jline3/blob/master/reader/src/test/java/org/jline/reader/completer/StringsCompleterTest.java</a></p>\n<p>Below is one of the modified testcase with candidates having spaces in them. After giving input as <strong>&quot;foo b&quot;</strong> without quote and pressing tab am expecting output to be <strong>&quot;foo bar&quot;</strong>. But I get output as <strong>&quot;foo foo bar&quot;</strong>.</p>\n<p>Is this expected behavior ? How can I fix it ? Thanks in advance.</p>\n<pre><code>        DefaultParser dp = (DefaultParser) reader.getParser();\n        dp.setEscapeChars(new char[]{});\n        reader.setVariable(LineReader.ERRORS, 0);\n        reader.setParser(dp);\n        reader.setCompleter(new StringsCompleter(&quot;foo bar&quot;, &quot;foo foo&quot;, &quot;foo shoo&quot;));\n\n        assertBuffer(&quot;foo bar &quot;, new TestBuffer(&quot;foo b&quot;).tab()); // fails actual is &quot;foo foo bar&quot;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1580273171,"post_id":59960581,"comment_id":106039116,"body_markdown":"Do you want to restrict concurrent logins?","body":"Do you want to restrict concurrent logins?"},{"owner":{"account_id":9769139,"reputation":397,"user_id":7241652,"display_name":"Durlabh Sharma"},"score":0,"creation_date":1580273507,"post_id":59960581,"comment_id":106039183,"body_markdown":"How about using a caching mechanism like redis or something which will store logged in user details centrally?","body":"How about using a caching mechanism like redis or something which will store logged in user details centrally?"},{"owner":{"account_id":8809010,"reputation":502,"user_id":6582610,"display_name":"Meet Patel"},"score":0,"creation_date":1580273562,"post_id":59960581,"comment_id":106039193,"body_markdown":"Do you want same user login for only 5 different device ?","body":"Do you want same user login for only 5 different device ?"},{"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1580273714,"post_id":59960581,"comment_id":106039226,"body_markdown":"i want same user login for only 5 different devices @MeetPatel","body":"i want same user login for only 5 different devices @MeetPatel"},{"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1580273795,"post_id":59960581,"comment_id":106039247,"body_markdown":"no i don&#39;t want to strict concurrent logins. i just want to restrict same user login to 5 different devices.@DurlabhSharma","body":"no i don&#39;t want to strict concurrent logins. i just want to restrict same user login to 5 different devices.@DurlabhSharma"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1580273893,"post_id":59960581,"comment_id":106039265,"body_markdown":"What counts as a separate device? Browsers? Incognito sessions?","body":"What counts as a separate device? Browsers? Incognito sessions?"},{"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1580278955,"post_id":59960581,"comment_id":106040533,"body_markdown":"i am working on the back-end of an mobile application here device indicates-(Android device and IOS device)  @chrylis-onstrike-","body":"i am working on the back-end of an mobile application here device indicates-(Android device and IOS device)  @chrylis-onstrike-"}],"answers":[{"tags":[],"owner":{"account_id":8809010,"reputation":502,"user_id":6582610,"display_name":"Meet Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580275018,"creation_date":1580275018,"answer_id":59960851,"question_id":59960581,"body_markdown":"\r\nIn the case of device if you allow only 5 registered device to be able login than you have to maintain it in database.\r\n\r\nBut if you want any at most 5 device able to login at same time than try this - https://docs.spring.io/spring-session/docs/current-SNAPSHOT/reference/html/spring-security.html#spring-security-concurrent-sessions\r\n\r\nuse `maximumSessions(5)`\r\n\r\n    http\r\n    \t// other config goes here...\r\n        .sessionManagement()\r\n        \t\t\t\t.maximumSessions(5)\r\n\r\nThis will allow only 5 session at a time for same user ","title":"How to limit login only for 5 devices in spring boot?","body":"<p>In the case of device if you allow only 5 registered device to be able login than you have to maintain it in database.</p>\n\n<p>But if you want any at most 5 device able to login at same time than try this - <a href=\"https://docs.spring.io/spring-session/docs/current-SNAPSHOT/reference/html/spring-security.html#spring-security-concurrent-sessions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/docs/current-SNAPSHOT/reference/html/spring-security.html#spring-security-concurrent-sessions</a></p>\n\n<p>use <code>maximumSessions(5)</code></p>\n\n<pre><code>http\n    // other config goes here...\n    .sessionManagement()\n                    .maximumSessions(5)\n</code></pre>\n\n<p>This will allow only 5 session at a time for same user </p>\n"}],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59960851,"answer_count":1,"score":6,"last_activity_date":1658844077,"creation_date":1580272968,"question_id":59960581,"body_markdown":"I am working on an Api for login and logout (Spring boot).\r\n\r\nThere is requirement that an user is allowed to login only in 5 devices.\r\n\r\nHow i can implement this using spring boot?","title":"How to limit login only for 5 devices in spring boot?","body":"<p>I am working on an Api for login and logout (Spring boot).</p>\n\n<p>There is requirement that an user is allowed to login only in 5 devices.</p>\n\n<p>How i can implement this using spring boot?</p>\n"},{"tags":["java","javafx-11","javafx-webengine","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1653543723,"post_id":72387141,"comment_id":127878936,"body_markdown":"*&quot;How should this be done in 2022. Are there any other methods, or better methods?&quot;* - One method would be to procrastinate.  Wait until 2023.  :-)","body":"<i>&quot;How should this be done in 2022. Are there any other methods, or better methods?&quot;</i> - One method would be to procrastinate.  Wait until 2023.  :-)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1653543950,"post_id":72387141,"comment_id":127878992,"body_markdown":"However, if you are looking for bugs, this is wrong!   `} catch (Exception a) {  }`.  If it can&#39;t find the resource, you silently ignore it and return an empty string.  Squashing exceptions is a bad idea.","body":"However, if you are looking for bugs, this is wrong!   <code>} catch (Exception a) {  }</code>.  If it can&#39;t find the resource, you silently ignore it and return an empty string.  Squashing exceptions is a bad idea."},{"owner":{"account_id":25279886,"reputation":101,"user_id":19107903,"display_name":"Ivan Velikanov"},"score":0,"creation_date":1653544829,"post_id":72387141,"comment_id":127879156,"body_markdown":"@StephenC thanks for pointing out, this is a quick and dirty copy paste I gave. I am still working on it.","body":"@StephenC thanks for pointing out, this is a quick and dirty copy paste I gave. I am still working on it."},{"owner":{"account_id":25279886,"reputation":101,"user_id":19107903,"display_name":"Ivan Velikanov"},"score":0,"creation_date":1653552076,"post_id":72387141,"comment_id":127880978,"body_markdown":"@StephenC I modified the code quite a bit, it reflects the current state, where I am, I have added output also. Any tip, guide, or suggestion,  would be really appreciated.","body":"@StephenC I modified the code quite a bit, it reflects the current state, where I am, I have added output also. Any tip, guide, or suggestion,  would be really appreciated."}],"answers":[{"tags":[],"owner":{"account_id":1473144,"reputation":391,"user_id":1384194,"display_name":"Luc De pauw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658844066,"creation_date":1658844066,"answer_id":73124798,"question_id":72387141,"body_markdown":"You can simply inject firebug-lite after loading your webpage.\r\n\r\nI&#39;ve tested on windows 10 with correto 18.0.2 JDK.\r\n\r\nHere&#39;s an example: (Page can take some time to load)\r\n\r\n    package com.example.demo;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.concurrent.Worker.State;\r\n    \r\n    public class HelloApplication extends Application {\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage myStage) {\r\n            System.out.println(&quot;Demo for firebugLite&quot;);\r\n    \r\n            WebView myWebView = new WebView();\r\n            myWebView.minHeight(1050);\r\n            myWebView.prefWidth(1950);\r\n            myWebView.prefHeight(1070);\r\n            myWebView.minWidth(1050);\r\n            final WebEngine myWebEngine = myWebView.getEngine();\r\n            myWebEngine.getLoadWorker().stateProperty()\r\n                    .addListener((obs, oldValue, newValue) -&gt; {\r\n                        if (newValue == State.SUCCEEDED) {\r\n                            System.out.println(&quot;finished loading&quot;);\r\n                            myWebEngine.executeScript(&quot;var firebug=document.createElement(&#39;script&#39;);firebug.setAttribute(&#39;src&#39;,&#39;https://lupatec.eu/getfirebug/firebug-lite-compressed.js&#39;);document.body.appendChild(firebug);(function(){if(window.firebug.version){firebug.init();}else{setTimeout(arguments.callee);}})();void(firebug);&quot;);\r\n                        }\r\n                    });\r\n            myWebEngine.load(&quot;https://lupatec.eu/getfirebug/&quot;);\r\n            VBox myBox = new VBox(myWebView);\r\n            Scene myScene = new Scene(myBox, 1050, 600);\r\n            myStage.setScene(myScene);\r\n            myStage.show();\r\n        }\r\n    }\r\n\r\nResult:\r\n[![firebug lite in webview][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pqeh1.png","title":"How to debug JavaFX webview in 2022","body":"<p>You can simply inject firebug-lite after loading your webpage.</p>\n<p>I've tested on windows 10 with correto 18.0.2 JDK.</p>\n<p>Here's an example: (Page can take some time to load)</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\nimport javafx.scene.web.WebEngine;\nimport javafx.concurrent.Worker.State;\n\npublic class HelloApplication extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage myStage) {\n        System.out.println(&quot;Demo for firebugLite&quot;);\n\n        WebView myWebView = new WebView();\n        myWebView.minHeight(1050);\n        myWebView.prefWidth(1950);\n        myWebView.prefHeight(1070);\n        myWebView.minWidth(1050);\n        final WebEngine myWebEngine = myWebView.getEngine();\n        myWebEngine.getLoadWorker().stateProperty()\n                .addListener((obs, oldValue, newValue) -&gt; {\n                    if (newValue == State.SUCCEEDED) {\n                        System.out.println(&quot;finished loading&quot;);\n                        myWebEngine.executeScript(&quot;var firebug=document.createElement('script');firebug.setAttribute('src','https://lupatec.eu/getfirebug/firebug-lite-compressed.js');document.body.appendChild(firebug);(function(){if(window.firebug.version){firebug.init();}else{setTimeout(arguments.callee);}})();void(firebug);&quot;);\n                    }\n                });\n        myWebEngine.load(&quot;https://lupatec.eu/getfirebug/&quot;);\n        VBox myBox = new VBox(myWebView);\n        Scene myScene = new Scene(myBox, 1050, 600);\n        myStage.setScene(myScene);\n        myStage.show();\n    }\n}\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/pqeh1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pqeh1.png\" alt=\"firebug lite in webview\" /></a></p>\n"}],"owner":{"account_id":25279886,"reputation":101,"user_id":19107903,"display_name":"Ivan Velikanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1658844066,"creation_date":1653543159,"question_id":72387141,"body_markdown":"How to debug a JavaFX webview?\r\nI find two ways, \r\n 1. one is to attach external chrome debugger to JavaFX webview.\r\n 2. Another is to inject firebug javascript.\r\n\r\nMethod#1 seems to use a bit of hacks like set access to private fields etc.\r\nMethod#2 depends on firebuglite which seems to be obsolete now.\r\n\r\nHow should this be done in 2022. Are there any other methods, or better methods?\r\n\r\nI am trying firebug lite approach as of now, and have made the javascript part of the maven project and trying to inject it as a string versus an external URL, because firebug seems to be properly public hosted nowhere now.  \r\n\r\nRefering to https://stackoverflow.com/a/18396900/2448015\r\n\r\n**This is where I am right now :**\r\n```\r\npackage xyz.jphil.internal_browser;\r\n\r\nimport com.sun.net.httpserver.HttpContext;\r\nimport com.sun.net.httpserver.HttpServer;\r\nimport java.net.InetSocketAddress;\r\nimport javafx.scene.web.WebEngine;\r\nimport netscape.javascript.JSObject;\r\n\r\n/**\r\n *\r\n * @author Ivan\r\n */\r\npublic class WebkitDebugUtils {\r\n    private static int resourcesPort = 0;\r\n\r\n    public static void createHttpServerForLocalFiles() {\r\n        int portStart = 64321, endPort = 65534;\r\n        resourcesPort = portStart + (int) ((endPort * 1d - portStart * 1d) * Math.random());\r\n        System.out.println(&quot;Starting internal server on &quot; + resourcesPort);\r\n        try {\r\n            HttpServer server = HttpServer.create(new InetSocketAddress(resourcesPort), 0);\r\n            HttpContext context = server.createContext(&quot;/&quot;);\r\n            context.setHandler((req) -&gt; {\r\n                try (req) {\r\n                    var p = req.getRequestURI();\r\n                    System.out.println(&quot;Serving @ localhost:&quot;+resourcesPort+&quot; &quot;+p);\r\n                    var s = WebkitDebugUtils.class.getResourceAsStream(p.toString()).readAllBytes();\r\n                    req.sendResponseHeaders(200, s.length);\r\n                    req.getResponseBody().write(s);\r\n                }catch(Exception a){\r\n                    a.printStackTrace();\r\n                }\r\n            });\r\n            server.start();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static class JavaBridge {\r\n        public void log(String text) {\r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\n    // Maintain a strong reference to prevent garbage collection:\r\n    // https://bugs.openjdk.java.net/browse/JDK-8154127\r\n    private final static JavaBridge bridge = new JavaBridge();\r\n\r\n    public static void enableDebug(final WebEngine e) {\r\n        JSObject window = (JSObject) e.executeScript(&quot;window&quot;);\r\n        window.setMember(&quot;java&quot;, bridge);\r\n        e.executeScript(&quot;&quot;&quot;\r\n                        console.log = function(message)\r\n                        {\r\n                            java.log(message);\r\n                        };&quot;&quot;&quot;);\r\n        e.executeScript(&quot;console.log(&#39;console.log enabled&#39;);&quot;);\r\n    }\r\n    \r\n    public static void enableFirebug(final WebEngine e) {\r\n        var firebugurl = &quot;http://localhost:&quot;+resourcesPort+&quot;/firebug-lite/firebug-lite.js&quot;;\r\n        //https://raw.githubusercontent.com/stefanXO/firebug-lite/master/firebug-lite.js\r\n        //https://lupatec.eu/getfirebug/firebug-lite-compressed.js\r\n        var script= &quot;&quot;&quot;\r\n                    console.log(&quot;Inside script block&quot;);\r\n                    if (!document.getElementById(&quot;FirebugLite&quot;)) {\r\n                        E = document[&quot;createElement&quot; + &quot;NS&quot;] &amp;&amp; document.documentElement.namespaceURI;\r\n                        E = E ? \r\n                             document[&quot;createElement&quot; + &quot;NS&quot;](E, &quot;script&quot;) : \r\n                             document[&quot;createElement&quot;](&quot;script&quot;);\r\n                        E[&quot;setAttribute&quot;](&quot;id&quot;, &quot;FirebugLite&quot;);\r\n                        E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;{$firebugurl}#startOpened&quot;);\r\n                        E[&quot;setAttribute&quot;](&quot;FirebugLite&quot;, &quot;4&quot;);\r\n                        (\r\n                             document[&quot;getElementsByTagName&quot;](&quot;head&quot;)[0] \r\n                             || \r\n                             document[&quot;getElementsByTagName&quot;](&quot;body&quot;)[0]\r\n                        ).appendChild(E);\r\n                        E = new Image();\r\n                        E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;{$firebugurl}#startOpened&quot;);\r\n                    }\r\n                    console.log(&quot;executed script block&quot;);\r\n                    &quot;&quot;&quot;.replace(&quot;{$firebugurl}&quot;, firebugurl);\r\n        System.out.println(&quot;+++firebug thing+++&quot;);\r\n        System.out.println(script);\r\n        System.out.println(&quot;---firebug thing---&quot;);\r\n        e.executeScript(script);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Main method of the application**\r\n```\r\n    //...\r\n    public static void main(String[]args){\r\n        WebkitDebugUtils.createHttpServerForLocalFiles();\r\n        launch(args);\r\n    }\r\n    //...\r\n```\r\n\r\n**In the JavaFx Stage initializing code section**\r\n```\r\n    @Override\r\n    public void start(final Stage primaryStage) throws Exception {\r\n        // ....\r\n        wv = new WebView();\r\n        // ....\r\n        javafx.scene.web.WebEngine e = wv.getEngine();\r\n        // ....\r\n        e.getLoadWorker().stateProperty().addListener((ov, t, t1) -&gt; WebkitDebugUtils.enableDebug(e));\r\n        e.documentProperty().addListener((ov, t, t1) -&gt; WebkitDebugUtils.enableFirebug(e));\r\n        // ....\r\n    }\r\n```\r\n\r\nI am serving the files for firebug from the resources folder of the jar\r\n\r\n**Snippter of the custom firebug.js file**\r\n```\r\nconsole.log(&quot;inside firebug-lite&quot;);\r\n(function(){\r\n//...\r\n//firebug lite 1.4.0 code \r\n//..\r\n})();\r\nconsole.log(&quot;outside firebug-lite&quot;);\r\n```\r\n\r\n\r\n**Output**\r\n```\r\nStarting internal server on 65148\r\nconsole.log enabled\r\nconsole.log enabled\r\n\r\n// some application specific output\r\n\r\n+++firebug thing+++\r\nif (!document.getElementById(&quot;FirebugLite&quot;)) {\r\n    E = document[&quot;createElement&quot; + &quot;NS&quot;] &amp;&amp; document.documentElement.namespaceURI;\r\n    E = E ?\r\n         document[&quot;createElement&quot; + &quot;NS&quot;](E, &quot;script&quot;) :\r\n         document[&quot;createElement&quot;](&quot;script&quot;);\r\n    E[&quot;setAttribute&quot;](&quot;id&quot;, &quot;FirebugLite&quot;);\r\n    E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;http://localhost:65148/firebug-lite/firebug-lite.js#startOpened&quot;);\r\n    E[&quot;setAttribute&quot;](&quot;FirebugLite&quot;, &quot;4&quot;);\r\n    (\r\n         document[&quot;getElementsByTagName&quot;](&quot;head&quot;)[0]\r\n         ||\r\n         document[&quot;getElementsByTagName&quot;](&quot;body&quot;)[0]\r\n    ).appendChild(E);\r\n    E = new Image();\r\n    E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;http://localhost:65148/firebug-lite/firebug-lite.js#startOpened&quot;);\r\n}\r\n\r\n---firebug thing---\r\nInside script block\r\nexecuted script block\r\nServing @ localhost:65148 /firebug-lite/firebug-lite.js\r\n\r\n// some application specific output\r\n\r\nconsole.log enabled\r\n```\r\n\r\n**Summary:**\r\nnothing is happening, nothing is showing up in the console, I don&#39;t know the error, firebug is not even opening.\r\n\r\n**Update2:**\r\nI think I am using the wrong version of firebug 1.5 or something\r\nand the old version I don&#39;t see any HTML file and thus it is dependent on the default website which is down at the moment. ","title":"How to debug JavaFX webview in 2022","body":"<p>How to debug a JavaFX webview?\nI find two ways,</p>\n<ol>\n<li>one is to attach external chrome debugger to JavaFX webview.</li>\n<li>Another is to inject firebug javascript.</li>\n</ol>\n<p>Method#1 seems to use a bit of hacks like set access to private fields etc.\nMethod#2 depends on firebuglite which seems to be obsolete now.</p>\n<p>How should this be done in 2022. Are there any other methods, or better methods?</p>\n<p>I am trying firebug lite approach as of now, and have made the javascript part of the maven project and trying to inject it as a string versus an external URL, because firebug seems to be properly public hosted nowhere now.</p>\n<p>Refering to <a href=\"https://stackoverflow.com/a/18396900/2448015\">https://stackoverflow.com/a/18396900/2448015</a></p>\n<p><strong>This is where I am right now :</strong></p>\n<pre><code>package xyz.jphil.internal_browser;\n\nimport com.sun.net.httpserver.HttpContext;\nimport com.sun.net.httpserver.HttpServer;\nimport java.net.InetSocketAddress;\nimport javafx.scene.web.WebEngine;\nimport netscape.javascript.JSObject;\n\n/**\n *\n * @author Ivan\n */\npublic class WebkitDebugUtils {\n    private static int resourcesPort = 0;\n\n    public static void createHttpServerForLocalFiles() {\n        int portStart = 64321, endPort = 65534;\n        resourcesPort = portStart + (int) ((endPort * 1d - portStart * 1d) * Math.random());\n        System.out.println(&quot;Starting internal server on &quot; + resourcesPort);\n        try {\n            HttpServer server = HttpServer.create(new InetSocketAddress(resourcesPort), 0);\n            HttpContext context = server.createContext(&quot;/&quot;);\n            context.setHandler((req) -&gt; {\n                try (req) {\n                    var p = req.getRequestURI();\n                    System.out.println(&quot;Serving @ localhost:&quot;+resourcesPort+&quot; &quot;+p);\n                    var s = WebkitDebugUtils.class.getResourceAsStream(p.toString()).readAllBytes();\n                    req.sendResponseHeaders(200, s.length);\n                    req.getResponseBody().write(s);\n                }catch(Exception a){\n                    a.printStackTrace();\n                }\n            });\n            server.start();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static class JavaBridge {\n        public void log(String text) {\n            System.out.println(text);\n        }\n    }\n\n    // Maintain a strong reference to prevent garbage collection:\n    // https://bugs.openjdk.java.net/browse/JDK-8154127\n    private final static JavaBridge bridge = new JavaBridge();\n\n    public static void enableDebug(final WebEngine e) {\n        JSObject window = (JSObject) e.executeScript(&quot;window&quot;);\n        window.setMember(&quot;java&quot;, bridge);\n        e.executeScript(&quot;&quot;&quot;\n                        console.log = function(message)\n                        {\n                            java.log(message);\n                        };&quot;&quot;&quot;);\n        e.executeScript(&quot;console.log('console.log enabled');&quot;);\n    }\n    \n    public static void enableFirebug(final WebEngine e) {\n        var firebugurl = &quot;http://localhost:&quot;+resourcesPort+&quot;/firebug-lite/firebug-lite.js&quot;;\n        //https://raw.githubusercontent.com/stefanXO/firebug-lite/master/firebug-lite.js\n        //https://lupatec.eu/getfirebug/firebug-lite-compressed.js\n        var script= &quot;&quot;&quot;\n                    console.log(&quot;Inside script block&quot;);\n                    if (!document.getElementById(&quot;FirebugLite&quot;)) {\n                        E = document[&quot;createElement&quot; + &quot;NS&quot;] &amp;&amp; document.documentElement.namespaceURI;\n                        E = E ? \n                             document[&quot;createElement&quot; + &quot;NS&quot;](E, &quot;script&quot;) : \n                             document[&quot;createElement&quot;](&quot;script&quot;);\n                        E[&quot;setAttribute&quot;](&quot;id&quot;, &quot;FirebugLite&quot;);\n                        E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;{$firebugurl}#startOpened&quot;);\n                        E[&quot;setAttribute&quot;](&quot;FirebugLite&quot;, &quot;4&quot;);\n                        (\n                             document[&quot;getElementsByTagName&quot;](&quot;head&quot;)[0] \n                             || \n                             document[&quot;getElementsByTagName&quot;](&quot;body&quot;)[0]\n                        ).appendChild(E);\n                        E = new Image();\n                        E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;{$firebugurl}#startOpened&quot;);\n                    }\n                    console.log(&quot;executed script block&quot;);\n                    &quot;&quot;&quot;.replace(&quot;{$firebugurl}&quot;, firebugurl);\n        System.out.println(&quot;+++firebug thing+++&quot;);\n        System.out.println(script);\n        System.out.println(&quot;---firebug thing---&quot;);\n        e.executeScript(script);\n    }\n}\n</code></pre>\n<p><strong>Main method of the application</strong></p>\n<pre><code>    //...\n    public static void main(String[]args){\n        WebkitDebugUtils.createHttpServerForLocalFiles();\n        launch(args);\n    }\n    //...\n</code></pre>\n<p><strong>In the JavaFx Stage initializing code section</strong></p>\n<pre><code>    @Override\n    public void start(final Stage primaryStage) throws Exception {\n        // ....\n        wv = new WebView();\n        // ....\n        javafx.scene.web.WebEngine e = wv.getEngine();\n        // ....\n        e.getLoadWorker().stateProperty().addListener((ov, t, t1) -&gt; WebkitDebugUtils.enableDebug(e));\n        e.documentProperty().addListener((ov, t, t1) -&gt; WebkitDebugUtils.enableFirebug(e));\n        // ....\n    }\n</code></pre>\n<p>I am serving the files for firebug from the resources folder of the jar</p>\n<p><strong>Snippter of the custom firebug.js file</strong></p>\n<pre><code>console.log(&quot;inside firebug-lite&quot;);\n(function(){\n//...\n//firebug lite 1.4.0 code \n//..\n})();\nconsole.log(&quot;outside firebug-lite&quot;);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Starting internal server on 65148\nconsole.log enabled\nconsole.log enabled\n\n// some application specific output\n\n+++firebug thing+++\nif (!document.getElementById(&quot;FirebugLite&quot;)) {\n    E = document[&quot;createElement&quot; + &quot;NS&quot;] &amp;&amp; document.documentElement.namespaceURI;\n    E = E ?\n         document[&quot;createElement&quot; + &quot;NS&quot;](E, &quot;script&quot;) :\n         document[&quot;createElement&quot;](&quot;script&quot;);\n    E[&quot;setAttribute&quot;](&quot;id&quot;, &quot;FirebugLite&quot;);\n    E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;http://localhost:65148/firebug-lite/firebug-lite.js#startOpened&quot;);\n    E[&quot;setAttribute&quot;](&quot;FirebugLite&quot;, &quot;4&quot;);\n    (\n         document[&quot;getElementsByTagName&quot;](&quot;head&quot;)[0]\n         ||\n         document[&quot;getElementsByTagName&quot;](&quot;body&quot;)[0]\n    ).appendChild(E);\n    E = new Image();\n    E[&quot;setAttribute&quot;](&quot;src&quot;, &quot;http://localhost:65148/firebug-lite/firebug-lite.js#startOpened&quot;);\n}\n\n---firebug thing---\nInside script block\nexecuted script block\nServing @ localhost:65148 /firebug-lite/firebug-lite.js\n\n// some application specific output\n\nconsole.log enabled\n</code></pre>\n<p><strong>Summary:</strong>\nnothing is happening, nothing is showing up in the console, I don't know the error, firebug is not even opening.</p>\n<p><strong>Update2:</strong>\nI think I am using the wrong version of firebug 1.5 or something\nand the old version I don't see any HTML file and thus it is dependent on the default website which is down at the moment.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":544543,"reputation":1693,"user_id":914032,"display_name":"SurfMan"},"score":0,"creation_date":1529583917,"post_id":50968416,"comment_id":88933361,"body_markdown":"It&#39;s a problem with the SSL certificates. Is your antivirus intercepting SSL communications? They tend to do a MiTM attack to be able to scan your stuff over SSL.","body":"It&#39;s a problem with the SSL certificates. Is your antivirus intercepting SSL communications? They tend to do a MiTM attack to be able to scan your stuff over SSL."},{"owner":{"account_id":5471679,"reputation":585,"user_id":4350877,"accept_rate":38,"display_name":"Durgesh"},"score":0,"creation_date":1529642974,"post_id":50968416,"comment_id":88957103,"body_markdown":"I am not sure about this. However, I have installed the Mailosaur certificate in my jre. For that I have referred below stackoverflow issue.   https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\n\nHowever not getting any success.","body":"I am not sure about this. However, I have installed the Mailosaur certificate in my jre. For that I have referred below stackoverflow issue.   <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\" title=\"pkix path building failed and unable to find valid certification path to requ\">stackoverflow.com/questions/21076179/&hellip;</a>  However not getting any success."}],"owner":{"account_id":5471679,"reputation":585,"user_id":4350877,"accept_rate":38,"display_name":"Durgesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658843896,"creation_date":1529583527,"question_id":50968416,"body_markdown":"I am trying to read the email content with the help of Mailosaur. Below is my sample java code with Junit.\r\n\r\n    public class SampleEmailTest {\r\n    \r\n        @Test\r\n        public void readEmail(){\r\n            MailosaurClient client = new MailosaurClient(&quot;ABCDEFGHT&quot;);\r\n            SearchCriteria criteria = new SearchCriteria();\r\n            criteria.withSentTo(&quot;XXXXX.YYYYYY@MAILOSAUR.IO&quot;);\r\n            try {\r\n                List result = client.messages().search(&quot;&quot;, criteria).items();\r\n                MessageSummary latestEmail = (MessageSummary) result.get(0);\r\n                System.out.println(&quot;latestEmail&quot; + latestEmail);\r\n            }catch (Exception e){\r\n                System.out.println(&quot;Exceptio is &quot; + e); }            \r\n        }\r\n    }\r\n\r\nAfter running this code, I am receiving below exception. \r\n\r\n    com.mailosaur.MailosaurException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nCan anyone please help me on this front.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting error PKIX path building failed while using MailosaurClient with java","body":"<p>I am trying to read the email content with the help of Mailosaur. Below is my sample java code with Junit.</p>\n\n<pre><code>public class SampleEmailTest {\n\n    @Test\n    public void readEmail(){\n        MailosaurClient client = new MailosaurClient(\"ABCDEFGHT\");\n        SearchCriteria criteria = new SearchCriteria();\n        criteria.withSentTo(\"XXXXX.YYYYYY@MAILOSAUR.IO\");\n        try {\n            List result = client.messages().search(\"\", criteria).items();\n            MessageSummary latestEmail = (MessageSummary) result.get(0);\n            System.out.println(\"latestEmail\" + latestEmail);\n        }catch (Exception e){\n            System.out.println(\"Exceptio is \" + e); }            \n    }\n}\n</code></pre>\n\n<p>After running this code, I am receiving below exception. </p>\n\n<pre><code>com.mailosaur.MailosaurException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>Can anyone please help me on this front.</p>\n"},{"tags":["java","maven","junit","appium","maven-failsafe-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1658844322,"post_id":73124675,"comment_id":129149388,"body_markdown":"First: Why are you using such an old version of JUnit (12 years old) ? (currently 4.13.2 https://search.maven.org/artifact/junit/junit) furthermore why using such old version of maven-failsafe-plugin (2.19.1 from 2015?) https://search.maven.org/artifact/org.apache.maven.plugins/maven-failsafe-plugin. Also why using a listener in Junit 4 ? What is the purpose of that listener ? Why is the configuration contradicting itself...and the real question is: What means: `does not work` ? Give more information ...also some example tests/log output/maven version  etc..","body":"First: Why are you using such an old version of JUnit (12 years old) ? (currently 4.13.2 <a href=\"https://search.maven.org/artifact/junit/junit\" rel=\"nofollow noreferrer\">search.maven.org/artifact/junit/junit</a>) furthermore why using such old version of maven-failsafe-plugin (2.19.1 from 2015?) <a href=\"https://search.maven.org/artifact/org.apache.maven.plugins/maven-failsafe-plugin\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.apache.maven.plugins/&hellip;</a>. Also why using a listener in Junit 4 ? What is the purpose of that listener ? Why is the configuration contradicting itself...and the real question is: What means: <code>does not work</code> ? Give more information ...also some example tests/log output/maven version  etc.."},{"owner":{"account_id":2345508,"reputation":666,"user_id":2055879,"accept_rate":85,"display_name":"Avi Sasson"},"score":0,"creation_date":1658902982,"post_id":73124675,"comment_id":129164139,"body_markdown":"By &quot;not working&quot; I meant the listener class isn&#39;t being called at all, it&#39;s like failsafe-plugin straight up ignores it for some reason. The purpose of the listener is to aggregate the test run results and write out some JSON files with summaries, for internal company reporting purposes. As for the versions being old - it&#39;s a huge project in a huge company, I can&#39;t just go an update dependencies...","body":"By &quot;not working&quot; I meant the listener class isn&#39;t being called at all, it&#39;s like failsafe-plugin straight up ignores it for some reason. The purpose of the listener is to aggregate the test run results and write out some JSON files with summaries, for internal company reporting purposes. As for the versions being old - it&#39;s a huge project in a huge company, I can&#39;t just go an update dependencies..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658909054,"post_id":73124675,"comment_id":129166008,"body_markdown":"Can you create an example project on github or alike ..to demonstrate the problems ...","body":"Can you create an example project on github or alike ..to demonstrate the problems ..."}],"owner":{"account_id":2345508,"reputation":666,"user_id":2055879,"accept_rate":85,"display_name":"Avi Sasson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658843606,"creation_date":1658843606,"question_id":73124675,"body_markdown":"I have Appium tests, written in Java.\r\nThe tests run with Maven, using maven-failsafe-plugin 2.19.1, junit 4.8.2.\r\n\r\nWe&#39;re in the process of upgrading from jdk 1.8 to 11.0, and for some reason our `RunListener` isn&#39;t called anymore when using the new JDK.\r\n\r\nMy listener is pretty straightforward, looks something like this:\r\n\r\n    @RunListener.ThreadSafe\r\n    public class ReportingListener extends RunListener {\r\n    \t@Override\r\n    \tpublic void testRunStarted(Description description) throws Exception {\r\n    \t\tsuper.testRunStarted(description);\r\n    \t\t// do stuff...\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void testFailure(Failure failure) throws Exception {\r\n    \t\tsuper.testFailure(failure);\r\n    \t\t// do stuff...\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void testIgnored(Description description) throws Exception {\r\n    \t\tsuper.testIgnored(description);\r\n    \t\t// do stuff...\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void testAssumptionFailure(Failure failure) {\r\n    \t\tsuper.testAssumptionFailure(failure);\r\n    \t\t// do stuff...\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void testFinished(Description description) throws Exception {\r\n    \t\tsuper.testFinished(description);\r\n    \t\t// do stuff...\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testRunFinished(Result nativeResults) throws Exception {\r\n    \t\tsuper.testRunFinished(nativeResults);\r\n    \t\t// do stuff...\r\n    \t}\r\n    }\r\n\r\nThe test run is configured like this: (in the pom.xml)\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;runTestsInParallel&gt;${shouldRunParallel}&lt;/runTestsInParallel&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;test-run&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipITs&gt;${skipParallel}&lt;/skipITs&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/AA_*.java&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/ZZ_*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports&lt;/reportsDirectory&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;runTestsInParallel&gt;false&lt;/runTestsInParallel&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;listener&lt;/name&gt;\r\n                            &lt;value&gt;my.package.core.reporting.ReportingListener&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/properties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI couldn&#39;t find in Google anywhere that would explain this weird behavior, why would updating the JDK version break this feature?\r\n\r\nThanks.\r\n","title":"maven-failsafe-plugin listener not working with new JDK","body":"<p>I have Appium tests, written in Java.\nThe tests run with Maven, using maven-failsafe-plugin 2.19.1, junit 4.8.2.</p>\n<p>We're in the process of upgrading from jdk 1.8 to 11.0, and for some reason our <code>RunListener</code> isn't called anymore when using the new JDK.</p>\n<p>My listener is pretty straightforward, looks something like this:</p>\n<pre><code>@RunListener.ThreadSafe\npublic class ReportingListener extends RunListener {\n    @Override\n    public void testRunStarted(Description description) throws Exception {\n        super.testRunStarted(description);\n        // do stuff...\n    }\n    \n    @Override\n    public void testFailure(Failure failure) throws Exception {\n        super.testFailure(failure);\n        // do stuff...\n    }\n    \n    @Override\n    public void testIgnored(Description description) throws Exception {\n        super.testIgnored(description);\n        // do stuff...\n    }\n    \n    @Override\n    public void testAssumptionFailure(Failure failure) {\n        super.testAssumptionFailure(failure);\n        // do stuff...\n    }\n    \n    @Override\n    public void testFinished(Description description) throws Exception {\n        super.testFinished(description);\n        // do stuff...  \n    }\n\n    @Override\n    public void testRunFinished(Result nativeResults) throws Exception {\n        super.testRunFinished(nativeResults);\n        // do stuff...\n    }\n}\n</code></pre>\n<p>The test run is configured like this: (in the pom.xml)</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;runTestsInParallel&gt;${shouldRunParallel}&lt;/runTestsInParallel&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n        &lt;execution&gt;\n            &lt;id&gt;test-run&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;skipITs&gt;${skipParallel}&lt;/skipITs&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/AA_*.java&lt;/exclude&gt;\n                    &lt;exclude&gt;**/ZZ_*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports&lt;/reportsDirectory&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;runTestsInParallel&gt;false&lt;/runTestsInParallel&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n                &lt;properties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;listener&lt;/name&gt;\n                        &lt;value&gt;my.package.core.reporting.ReportingListener&lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/properties&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I couldn't find in Google anywhere that would explain this weird behavior, why would updating the JDK version break this feature?</p>\n<p>Thanks.</p>\n"},{"tags":["java","annotations","micronaut"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1658842138,"post_id":73124219,"comment_id":129148426,"body_markdown":"Assuming you are using Spring (if not it won&#39;t work) you can use `@AliasFor`. If not this isn&#39;t possible unless you write the synthesized annotations stuff in Spring again for use outside of Spring.","body":"Assuming you are using Spring (if not it won&#39;t work) you can use <code>@AliasFor</code>. If not this isn&#39;t possible unless you write the synthesized annotations stuff in Spring again for use outside of Spring."},{"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"score":0,"creation_date":1658842558,"post_id":73124219,"comment_id":129148617,"body_markdown":"Not using Spring. I see, let me what can be done, this is good place to start looking at..","body":"Not using Spring. I see, let me what can be done, this is good place to start looking at.."},{"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"score":0,"creation_date":1658842975,"post_id":73124219,"comment_id":129148827,"body_markdown":"Funfact: micronaut has it too :) Thank you @M.Deinum","body":"Funfact: micronaut has it too :) Thank you @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658843225,"post_id":73124219,"comment_id":129148938,"body_markdown":"You might want to include that in your question or at least the tags.","body":"You might want to include that in your question or at least the tags."},{"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"score":0,"creation_date":1658843382,"post_id":73124219,"comment_id":129149003,"body_markdown":"Sure, good idea. At first it seemed to me that this question is purely related to Java.","body":"Sure, good idea. At first it seemed to me that this question is purely related to Java."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1658854398,"post_id":73124219,"comment_id":129153674,"body_markdown":"&quot;At first it seemed to me that this question is purely related to Java&quot; - It is really related to Micronaut capabilities.  Those could be applied if you were using Java, Groovy, or Kotlin.","body":"&quot;At first it seemed to me that this question is purely related to Java&quot; - It is really related to Micronaut capabilities.  Those could be applied if you were using Java, Groovy, or Kotlin."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1658842139,"creation_date":1658842139,"answer_id":73124310,"question_id":73124219,"body_markdown":"I believe that should be [the same as in spring](https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/AliasFor.html)\r\n\r\n```java\r\n@Documented\r\n@Retention(RUNTIME)\r\n@Target({TYPE, METHOD})\r\n@Around\r\n@io.micronaut.tracing.annotation.NewSpan\r\npublic @interface NewSpan {\r\n  @AliasFor(annotation = io.micronaut.tracing.annotation.NewSpan.class, member=&quot;value&quot;)\r\n  String value() default &quot;&quot;;\r\n}\r\n```","title":"Pass down the argument value to an annotation","body":"<p>I believe that should be <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/AliasFor.html\" rel=\"nofollow noreferrer\">the same as in spring</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Retention(RUNTIME)\n@Target({TYPE, METHOD})\n@Around\n@io.micronaut.tracing.annotation.NewSpan\npublic @interface NewSpan {\n  @AliasFor(annotation = io.micronaut.tracing.annotation.NewSpan.class, member=&quot;value&quot;)\n  String value() default &quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73124310,"answer_count":1,"score":1,"last_activity_date":1658843396,"creation_date":1658841801,"question_id":73124219,"body_markdown":"I am trying to create an annotation by combining annother&#39;s functionality. Let&#39;s say as below:\r\n\r\n```java\r\n@Documented\r\n@Retention(RUNTIME)\r\n@Target({TYPE, METHOD})\r\n@Around\r\n@io.micronaut.tracing.annotation.NewSpan\r\npublic @interface NewSpan {\r\n  String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nNow it&#39;s seems impossible to pass the `value` to `io.micronaut.tracing.annotation.NewSpan`, after searching many other answers and java docs, it seems impossible to me, any help. \r\n\r\nSo when I use my `@NewSpan(&quot;val&quot;)`, it should be passed down to `io.micronaut.tracing.annotation.NewSpan`&#39;s `value`.\r\n\r\nThanks!","title":"Pass down the argument value to an annotation","body":"<p>I am trying to create an annotation by combining annother's functionality. Let's say as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Retention(RUNTIME)\n@Target({TYPE, METHOD})\n@Around\n@io.micronaut.tracing.annotation.NewSpan\npublic @interface NewSpan {\n  String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Now it's seems impossible to pass the <code>value</code> to <code>io.micronaut.tracing.annotation.NewSpan</code>, after searching many other answers and java docs, it seems impossible to me, any help.</p>\n<p>So when I use my <code>@NewSpan(&quot;val&quot;)</code>, it should be passed down to <code>io.micronaut.tracing.annotation.NewSpan</code>'s <code>value</code>.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","wordpress","rest","wordpress-rest-api"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1658343734,"post_id":73008524,"comment_id":129031170,"body_markdown":"You don&#39;t transmit any credentials when calling `/posts`, so this is expected behavior.","body":"You don&#39;t transmit any credentials when calling <code>&#47;posts</code>, so this is expected behavior."},{"owner":{"account_id":3634682,"reputation":1369,"user_id":3030060,"accept_rate":70,"display_name":"Brittany"},"score":0,"creation_date":1658420695,"post_id":73008524,"comment_id":129052878,"body_markdown":"@Olivier The user is already logged in when I call /posts? I receive the same error when I test this through Postman with my user credentials (and the user is an admin user).","body":"@Olivier The user is already logged in when I call /posts? I receive the same error when I test this through Postman with my user credentials (and the user is an admin user)."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1658804367,"post_id":73008524,"comment_id":129136597,"body_markdown":"Try to check if the plugin prohibits that","body":"Try to check if the plugin prohibits that"}],"answers":[{"tags":[],"owner":{"account_id":17209225,"reputation":67,"user_id":12459029,"display_name":"FAOZI"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658025634,"creation_date":1658025634,"answer_id":73008916,"question_id":73008524,"body_markdown":"You need to install and activate the [Application Passwords][1] plugin and then follow the instructions given\r\n[here.][2]\r\n\r\nBut you don’t need to actually set up any Application Passwords for your users.\r\n\r\n\r\n  [1]: https://wordpress.org/plugins/application-passwords/\r\n  [2]: https://github.com/WordPress/application-passwords/wiki/Basic-Authorization-Header----Missing","title":"Java/Wordpress REST API - Keep user authenticated?","body":"<p>You need to install and activate the <a href=\"https://wordpress.org/plugins/application-passwords/\" rel=\"nofollow noreferrer\">Application Passwords</a> plugin and then follow the instructions given\n<a href=\"https://github.com/WordPress/application-passwords/wiki/Basic-Authorization-Header----Missing\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>But you don’t need to actually set up any Application Passwords for your users.</p>\n"},{"tags":[],"owner":{"account_id":6867570,"reputation":817,"user_id":5279383,"display_name":"Cezary Butler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658840104,"creation_date":1658840104,"answer_id":73123736,"question_id":73008524,"body_markdown":"The problem you&#39;re having is caused by HTTP protocol being stateless.\r\nThat means whenever you perform request, server treats you as a new entity.\r\n\r\nIn case of most authenticated requests, the client is responsible for storing the tokens issued by the server during the login, and then passing them to following requests.\r\n\r\nWhen you are using the browser it is the client and usually is being responsible for handling this state (it ma also be a JavaScript code running in the browser).\r\n\r\nIn your code that is your responsibility to store this state.\r\nWhile you&#39;re using OkHttp, you could use [CookieJar](https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/) and it would probably work. However in the end using user credentials to authenticate application is not the best idea and using extension that would allow you to specify credentials for an application as @faozi suggested would probably be a better solution.\r\n","title":"Java/Wordpress REST API - Keep user authenticated?","body":"<p>The problem you're having is caused by HTTP protocol being stateless.\nThat means whenever you perform request, server treats you as a new entity.</p>\n<p>In case of most authenticated requests, the client is responsible for storing the tokens issued by the server during the login, and then passing them to following requests.</p>\n<p>When you are using the browser it is the client and usually is being responsible for handling this state (it ma also be a JavaScript code running in the browser).</p>\n<p>In your code that is your responsibility to store this state.\nWhile you're using OkHttp, you could use <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/\" rel=\"nofollow noreferrer\">CookieJar</a> and it would probably work. However in the end using user credentials to authenticate application is not the best idea and using extension that would allow you to specify credentials for an application as @faozi suggested would probably be a better solution.</p>\n"},{"tags":[],"owner":{"account_id":24772717,"reputation":485,"user_id":18656400,"display_name":"Ashok kumawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658843223,"creation_date":1658843223,"answer_id":73124572,"question_id":73008524,"body_markdown":"you need to authenticate it first : [here][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73120827/first-time-creating-a-rest-api-to-retrieve-data-that-authenticates-with-oauth-2/73120920#73120920\r\n\r\nyou can add code in WordPress file to authenticate it","title":"Java/Wordpress REST API - Keep user authenticated?","body":"<p>you need to authenticate it first : <a href=\"https://stackoverflow.com/questions/73120827/first-time-creating-a-rest-api-to-retrieve-data-that-authenticates-with-oauth-2/73120920#73120920\">here</a></p>\n<p>you can add code in WordPress file to authenticate it</p>\n"}],"owner":{"account_id":3634682,"reputation":1369,"user_id":3030060,"accept_rate":70,"display_name":"Brittany"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73123736,"answer_count":3,"score":2,"last_activity_date":1658843223,"creation_date":1658018054,"question_id":73008524,"body_markdown":"I&#39;m using the below code on my main activity to log the user into my app. The app&#39;s backend is Wordpress. The server returns a success message, and the user is authenticated, but as soon as I get to the next screen/activity, and attempt to have the user create a post to wordpress, the server returns the message \r\n\r\n&gt; &quot;Sorry, you are not allowed to create posts as this user.&quot;\r\n\r\nEspecially odd in this case because the user credentials I&#39;m using to login are the admin user.\r\n\r\nAny idea how I can fix this?\r\n\r\n**LoginActivity (my user logs in successfully):**\r\n\r\n  \r\n\r\n      private class UserNetwork extends AsyncTask&lt;Void, Void, Void&gt; {\r\n                @Override\r\n                protected Void doInBackground(Void... voids) {\r\n        \r\n                    JSONObject jsonObject = new JSONObject();\r\n                    try {\r\n                        jsonObject.put(&quot;username&quot;, &quot;admin&quot;);\r\n                        jsonObject.put(&quot;password&quot;, &quot;123456&quot;);\r\n        \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n        \r\n                    OkHttpClient client = new OkHttpClient();\r\n                    MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n                   \r\n                    RequestBody body = RequestBody.create(JSON, jsonObject.toString());\r\n                    Request request = new Request.Builder()\r\n                            .url(&quot;http://myurl.com/wp-json/wp/v2/custom-plugin/login&quot;)\r\n                            .post(body)\r\n                            .build();\r\n        \r\n                    Response response = null;\r\n                    try {\r\n                        response = client.newCall(request).execute();\r\n                        String resStr = response.body().string();\r\n                        Log.i(&quot;The response is&quot;, String.valueOf(response));\r\n                        int responseCode = response.code();\r\n                        Log.i(&quot;Check response code&quot;, String.valueOf(responseCode));\r\n        \r\n                        if (responseCode == 200) {\r\n        \r\n        \r\n                            Log.i(&quot;We&#39;re logged in!&quot;, String.valueOf(responseCode));\r\n        \r\n                            Intent i = new Intent(LoginActivity.this, DashboardActivity.class);\r\n                            startActivity(i);\r\n        \r\n        \r\n                    }\r\n        \r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n        \r\n        \r\n                    return null;\r\n                }\r\n\r\n**DashboardActivity** (user attempts to create post, and &#39;Unauthorized&#39; messsage is returned):\r\n\r\n  \r\n\r\n     private class UserPosts extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n    \r\n                JSONObject jsonObject = new JSONObject();\r\n                try {\r\n                    jsonObject.put(&quot;title&quot;, &quot;Our first post&quot;);\r\n                    jsonObject.put(&quot;content&quot;, &quot;this is a test&quot;);\r\n                    jsonObject.put(&quot;status&quot;, &quot;publish&quot;);\r\n    \r\n    \r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                OkHttpClient client = new OkHttpClient();\r\n                MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n                // put your json here\r\n                RequestBody body = RequestBody.create(JSON, jsonObject.toString());\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;http://myurl.com/wp-json/wp/v2/posts&quot;)\r\n                        .post(body)\r\n                        .build();\r\n    \r\n                Response response = null;\r\n                try {\r\n                    response = client.newCall(request).execute();\r\n                    String resStr = response.body().string();\r\n                    Log.i(&quot;The response is&quot;, String.valueOf(response));\r\n                    int responseCode = response.code();\r\n                    Log.i(&quot;Check response code&quot;, String.valueOf(responseCode));\r\n    \r\n                    if (responseCode == 200) {\r\n    \r\n    \r\n                        Log.i(&quot;Creating post!&quot;, String.valueOf(responseCode));\r\n    \r\n    \r\n    \r\n                    } else {\r\n    \r\n                        Log.i(&quot;Post not created.&quot;, String.valueOf(responseCode));\r\n    \r\n                    }\r\n    \r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n    \r\n                return null;\r\n            }\r\n        }","title":"Java/Wordpress REST API - Keep user authenticated?","body":"<p>I'm using the below code on my main activity to log the user into my app. The app's backend is Wordpress. The server returns a success message, and the user is authenticated, but as soon as I get to the next screen/activity, and attempt to have the user create a post to wordpress, the server returns the message</p>\n<blockquote>\n<p>&quot;Sorry, you are not allowed to create posts as this user.&quot;</p>\n</blockquote>\n<p>Especially odd in this case because the user credentials I'm using to login are the admin user.</p>\n<p>Any idea how I can fix this?</p>\n<p><strong>LoginActivity (my user logs in successfully):</strong></p>\n<pre><code>  private class UserNetwork extends AsyncTask&lt;Void, Void, Void&gt; {\n            @Override\n            protected Void doInBackground(Void... voids) {\n    \n                JSONObject jsonObject = new JSONObject();\n                try {\n                    jsonObject.put(&quot;username&quot;, &quot;admin&quot;);\n                    jsonObject.put(&quot;password&quot;, &quot;123456&quot;);\n    \n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n    \n                OkHttpClient client = new OkHttpClient();\n                MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n               \n                RequestBody body = RequestBody.create(JSON, jsonObject.toString());\n                Request request = new Request.Builder()\n                        .url(&quot;http://myurl.com/wp-json/wp/v2/custom-plugin/login&quot;)\n                        .post(body)\n                        .build();\n    \n                Response response = null;\n                try {\n                    response = client.newCall(request).execute();\n                    String resStr = response.body().string();\n                    Log.i(&quot;The response is&quot;, String.valueOf(response));\n                    int responseCode = response.code();\n                    Log.i(&quot;Check response code&quot;, String.valueOf(responseCode));\n    \n                    if (responseCode == 200) {\n    \n    \n                        Log.i(&quot;We're logged in!&quot;, String.valueOf(responseCode));\n    \n                        Intent i = new Intent(LoginActivity.this, DashboardActivity.class);\n                        startActivity(i);\n    \n    \n                }\n    \n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n    \n    \n                return null;\n            }\n</code></pre>\n<p><strong>DashboardActivity</strong> (user attempts to create post, and 'Unauthorized' messsage is returned):</p>\n<pre><code> private class UserPosts extends AsyncTask&lt;Void, Void, Void&gt; {\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            JSONObject jsonObject = new JSONObject();\n            try {\n                jsonObject.put(&quot;title&quot;, &quot;Our first post&quot;);\n                jsonObject.put(&quot;content&quot;, &quot;this is a test&quot;);\n                jsonObject.put(&quot;status&quot;, &quot;publish&quot;);\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n            OkHttpClient client = new OkHttpClient();\n            MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n            // put your json here\n            RequestBody body = RequestBody.create(JSON, jsonObject.toString());\n            Request request = new Request.Builder()\n                    .url(&quot;http://myurl.com/wp-json/wp/v2/posts&quot;)\n                    .post(body)\n                    .build();\n\n            Response response = null;\n            try {\n                response = client.newCall(request).execute();\n                String resStr = response.body().string();\n                Log.i(&quot;The response is&quot;, String.valueOf(response));\n                int responseCode = response.code();\n                Log.i(&quot;Check response code&quot;, String.valueOf(responseCode));\n\n                if (responseCode == 200) {\n\n\n                    Log.i(&quot;Creating post!&quot;, String.valueOf(responseCode));\n\n\n\n                } else {\n\n                    Log.i(&quot;Post not created.&quot;, String.valueOf(responseCode));\n\n                }\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["javascript","java","graalvm"],"answers":[{"tags":[],"owner":{"account_id":25891740,"reputation":11,"user_id":19619041,"display_name":"virtuoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658843094,"creation_date":1658843094,"answer_id":73124536,"question_id":73112298,"body_markdown":"The issue is resolved now after creating context only once.","title":"ExceptionInInitializerError when adding bindings to engine scope","body":"<p>The issue is resolved now after creating context only once.</p>\n"}],"owner":{"account_id":25891740,"reputation":11,"user_id":19619041,"display_name":"virtuoso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658843094,"creation_date":1658765403,"question_id":73112298,"body_markdown":"Upgrading from nashorn to graalvm with openjdk 17. getting a PolyglotException: java.lang.ExceptionInInitializerError when adding bindings to engine scope. my script engine is getting initialized in init method &amp; later used in different class. Wondering if its multi threading issue. unable to figure out the root cause\r\n\r\nscript engine gets initialized in init block of class 1 &amp; 2.\r\n\r\nClass 1\r\n\r\n    public void init() {\r\n    createScriptEngine\r\n    }\r\n\r\nClass 2\r\n\r\n    public static ScriptEngine createScriptEngine (){\r\n    ScriptEngineManager manager = new ScriptEngineManager();\r\n    ret = manager.getEngineByName(engineName);\r\n    if(ret instanceof GraalJSScriptEngine) {\r\n    Bindings bindings = ret.getBindings(ScriptContext.ENGINE_SCOPE);\r\n    bindings.put(&quot;polyglot.js.nashorn-compat&quot;, true);\r\n    }\r\n    }\r\n\r\nThe engine itself is used in class 3 to evaluate script\r\nclass 3\r\n\r\n      private object evaluateScript(ScriptEngine scriptEngine, String script){\r\n        Bindings bindings = scriptEngine.getContext().getBindings(ScriptContext.ENGINE_SCOPE);\r\n        bindings.put(SCRIPT_VAR_t1, this);\r\n        bindings.put(SCRIPT_VAR_t2, cTag);\r\n        bindings.put(SCRIPT_VAR_t3, tAttribs\r\n        Object ret = scriptEngine.eval(script, scriptEngine.getContext());\r\n        }","title":"ExceptionInInitializerError when adding bindings to engine scope","body":"<p>Upgrading from nashorn to graalvm with openjdk 17. getting a PolyglotException: java.lang.ExceptionInInitializerError when adding bindings to engine scope. my script engine is getting initialized in init method &amp; later used in different class. Wondering if its multi threading issue. unable to figure out the root cause</p>\n<p>script engine gets initialized in init block of class 1 &amp; 2.</p>\n<p>Class 1</p>\n<pre><code>public void init() {\ncreateScriptEngine\n}\n</code></pre>\n<p>Class 2</p>\n<pre><code>public static ScriptEngine createScriptEngine (){\nScriptEngineManager manager = new ScriptEngineManager();\nret = manager.getEngineByName(engineName);\nif(ret instanceof GraalJSScriptEngine) {\nBindings bindings = ret.getBindings(ScriptContext.ENGINE_SCOPE);\nbindings.put(&quot;polyglot.js.nashorn-compat&quot;, true);\n}\n}\n</code></pre>\n<p>The engine itself is used in class 3 to evaluate script\nclass 3</p>\n<pre><code>  private object evaluateScript(ScriptEngine scriptEngine, String script){\n    Bindings bindings = scriptEngine.getContext().getBindings(ScriptContext.ENGINE_SCOPE);\n    bindings.put(SCRIPT_VAR_t1, this);\n    bindings.put(SCRIPT_VAR_t2, cTag);\n    bindings.put(SCRIPT_VAR_t3, tAttribs\n    Object ret = scriptEngine.eval(script, scriptEngine.getContext());\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1924254,"reputation":58,"user_id":1735079,"display_name":"MVO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658843005,"creation_date":1658843005,"answer_id":73124511,"question_id":73118788,"body_markdown":"you might try putting *index1.html* in the [assets][1] directory of your Android project and then you can try accessing that file like so:\r\n\r\n    webView.loadUrl(&quot;file:///android_asset/index1.html&quot;);\r\n\r\nThe following answer shows the detailed steps: [https://stackoverflow.com/questions/70377444/where-and-how-to-put-html-files-in-android-app-resource-files][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/providing-resources#OriginalFiles\r\n  [2]: https://stackoverflow.com/questions/70377444/where-and-how-to-put-html-files-in-android-app-resource-files","title":"Replacing the &quot;Page Not Available&quot; WebView element with a custom one. java android","body":"<p>you might try putting <em>index1.html</em> in the <a href=\"https://developer.android.com/guide/topics/resources/providing-resources#OriginalFiles\" rel=\"nofollow noreferrer\">assets</a> directory of your Android project and then you can try accessing that file like so:</p>\n<pre><code>webView.loadUrl(&quot;file:///android_asset/index1.html&quot;);\n</code></pre>\n<p>The following answer shows the detailed steps: <a href=\"https://stackoverflow.com/questions/70377444/where-and-how-to-put-html-files-in-android-app-resource-files\">Where and how to put HTML files in Android app resource files?</a></p>\n"}],"owner":{"account_id":25862748,"reputation":1,"user_id":19600319,"display_name":"Юрий Панов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658843005,"creation_date":1658817835,"question_id":73118788,"body_markdown":"I am new to java. Strongly do not scold me dear programmers! I have an android application running on a WebView. I need to replace the &quot;Page not available&quot; display with the template, element I need. For this I used webView.loadUrl. But unfortunately all to no avail. I am attaching the code. What will be the advice? Thanks to all.\r\n\r\nWhat am I doing wrong?\r\n\r\n    enter code here\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        WebView webView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            webView = new WebView(this);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n    \r\n    \r\n            final Activity activity = this;\r\n    \r\n            webView.setWebViewClient(new WebViewClient() {\r\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                    if (url != null &amp;&amp; (url.startsWith(&quot;http://ya.ru/&quot;) || url.startsWith(&quot;https://ya.ru/&quot;))) {\r\n                        view.getContext().startActivity(\r\n                                new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n                        return true;\r\n                    } else if (url != null &amp;&amp; (url.startsWith(&quot;http://play.google.com/&quot;) || url.startsWith(&quot;https://play.google.com/&quot;))){\r\n                            view.getContext().startActivity(\r\n                                    new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n                        return true;\r\n                        }\r\n                     else {\r\n                        return false;\r\n                    }\r\n                }\r\n                @SuppressWarnings(&quot;deprecation&quot;)\r\n                @Override\r\n                public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n                    webView.loadUrl(&quot;src/main/res/index1.html&quot;);\r\n                    Toast.makeText(activity, description, Toast.LENGTH_SHORT);\r\n                    //webView.loadUrl(&quot;src/main/res/error_page/index1.html&quot;);\r\n                    try {\r\n                        view.stopLoading();\r\n                    }\r\n                    catch(Exception e){}\r\n                    view.clearView();\r\n                }\r\n                @TargetApi(android.os.Build.VERSION_CODES.M)\r\n                @Override\r\n                public void onReceivedError(WebView view, WebResourceRequest req, WebResourceError rerr) {\r\n                    // Redirect to deprecated method, so you can use it in all SDK versions\r\n                    onReceivedError(view, rerr.getErrorCode(), rerr.getDescription().toString(), req.getUrl().toString());\r\n                }\r\n    \r\n            });\r\n    \r\n            webView.setOnKeyListener(new View.OnKeyListener()\r\n            {\r\n                @Override\r\n                public boolean onKey(View v, int keyCode, KeyEvent event)\r\n                {\r\n                    if(event.getAction() == KeyEvent.ACTION_DOWN)\r\n                    {\r\n                        WebView webView = (WebView) v;\r\n    \r\n                        switch(keyCode)\r\n                        {\r\n                            case KeyEvent.KEYCODE_BACK:\r\n                                if(webView.canGoBack())\r\n                                {\r\n                                    webView.goBack();\r\n                                    return true;\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n    \r\n                    return false;\r\n                }\r\n            });\r\n    \r\n     webView.loadUrl(&quot;https://saluut.ru/&quot;);\r\n            setContentView(webView);\r\n        }\r\n    }\r\n    enter code here","title":"Replacing the &quot;Page Not Available&quot; WebView element with a custom one. java android","body":"<p>I am new to java. Strongly do not scold me dear programmers! I have an android application running on a WebView. I need to replace the &quot;Page not available&quot; display with the template, element I need. For this I used webView.loadUrl. But unfortunately all to no avail. I am attaching the code. What will be the advice? Thanks to all.</p>\n<p>What am I doing wrong?</p>\n<pre><code>enter code here\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        webView = new WebView(this);\n        webView.getSettings().setJavaScriptEnabled(true);\n\n\n        final Activity activity = this;\n\n        webView.setWebViewClient(new WebViewClient() {\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                if (url != null &amp;&amp; (url.startsWith(&quot;http://ya.ru/&quot;) || url.startsWith(&quot;https://ya.ru/&quot;))) {\n                    view.getContext().startActivity(\n                            new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n                    return true;\n                } else if (url != null &amp;&amp; (url.startsWith(&quot;http://play.google.com/&quot;) || url.startsWith(&quot;https://play.google.com/&quot;))){\n                        view.getContext().startActivity(\n                                new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n                    return true;\n                    }\n                 else {\n                    return false;\n                }\n            }\n            @SuppressWarnings(&quot;deprecation&quot;)\n            @Override\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                webView.loadUrl(&quot;src/main/res/index1.html&quot;);\n                Toast.makeText(activity, description, Toast.LENGTH_SHORT);\n                //webView.loadUrl(&quot;src/main/res/error_page/index1.html&quot;);\n                try {\n                    view.stopLoading();\n                }\n                catch(Exception e){}\n                view.clearView();\n            }\n            @TargetApi(android.os.Build.VERSION_CODES.M)\n            @Override\n            public void onReceivedError(WebView view, WebResourceRequest req, WebResourceError rerr) {\n                // Redirect to deprecated method, so you can use it in all SDK versions\n                onReceivedError(view, rerr.getErrorCode(), rerr.getDescription().toString(), req.getUrl().toString());\n            }\n\n        });\n\n        webView.setOnKeyListener(new View.OnKeyListener()\n        {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event)\n            {\n                if(event.getAction() == KeyEvent.ACTION_DOWN)\n                {\n                    WebView webView = (WebView) v;\n\n                    switch(keyCode)\n                    {\n                        case KeyEvent.KEYCODE_BACK:\n                            if(webView.canGoBack())\n                            {\n                                webView.goBack();\n                                return true;\n                            }\n                            break;\n                    }\n                }\n\n                return false;\n            }\n        });\n\n webView.loadUrl(&quot;https://saluut.ru/&quot;);\n        setContentView(webView);\n    }\n}\nenter code here\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1658838094,"post_id":73123172,"comment_id":129146675,"body_markdown":"The error isn&#39;t wrong, so you created the table in the wrong database.","body":"The error isn&#39;t wrong, so you created the table in the wrong database."},{"owner":{"account_id":15415925,"reputation":71,"user_id":11121415,"display_name":"J. Roovers"},"score":0,"creation_date":1658840003,"post_id":73123172,"comment_id":129147411,"body_markdown":"I have manually created the user table &#39;users&#39; in TablePlus with the columns:\n\nDid you created the table in the default &#39;postgres&#39; database?","body":"I have manually created the user table &#39;users&#39; in TablePlus with the columns:  Did you created the table in the default &#39;postgres&#39; database?"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1658852803,"post_id":73123172,"comment_id":129153018,"body_markdown":"Since docker by design runs a bunch of virtual machines and every machine is the &#39;localhost&#39; of itself, what does &#39;localhost&#39; mean in this context?  Is spring running in its own container?  In the same container as postgres?  On the physical host machine?  How is your docker network configured?","body":"Since docker by design runs a bunch of virtual machines and every machine is the &#39;localhost&#39; of itself, what does &#39;localhost&#39; mean in this context?  Is spring running in its own container?  In the same container as postgres?  On the physical host machine?  How is your docker network configured?"}],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658842880,"creation_date":1658842880,"answer_id":73124482,"question_id":73123172,"body_markdown":"You should have your databases like this:\r\n[![you should have the databases][1]][1]\r\n\r\n\r\nAnd inside rmqa for example the tables under the public schema:\r\n[![tables in schema public][2]][2]\r\n\r\nand then the properties:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/rmqa\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n\r\nif you have schema different then public u can tell spring witch one to use:\r\n\r\n    spring.jpa.properties.hibernate.default_schema=alternate_schema\r\n\r\nPS: you don&#39;t need:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nif you are using jpa starter\r\n\r\n  [1]: https://i.stack.imgur.com/1Rr3Y.png\r\n  [2]: https://i.stack.imgur.com/3ITPf.png","title":"Hibernate/JDBC connection from spring to postgres in docker container","body":"<p>You should have your databases like this:\n<a href=\"https://i.stack.imgur.com/1Rr3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Rr3Y.png\" alt=\"you should have the databases\" /></a></p>\n<p>And inside rmqa for example the tables under the public schema:\n<a href=\"https://i.stack.imgur.com/3ITPf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ITPf.png\" alt=\"tables in schema public\" /></a></p>\n<p>and then the properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/rmqa\nspring.datasource.username=postgres\nspring.datasource.password=postgres\n</code></pre>\n<p>if you have schema different then public u can tell spring witch one to use:</p>\n<pre><code>spring.jpa.properties.hibernate.default_schema=alternate_schema\n</code></pre>\n<p>PS: you don't need:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>if you are using jpa starter</p>\n"}],"owner":{"account_id":25296938,"reputation":85,"user_id":19121922,"display_name":"Phi Tiet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73124482,"answer_count":1,"score":1,"last_activity_date":1658842880,"creation_date":1658837403,"question_id":73123172,"body_markdown":"I&#39;m trying to get spring security to work using JDBC authentication. I have a postgres server running in a docker container which is receiving the requests, but keeps throwing an error.\r\n\r\nHere is my application.properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\nspring.datasource.username=phi\r\nspring.datasource.password=kalkoen\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\r\n```\r\nmy security config:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Bean\r\n    public UserDetailsManager users(DataSource dataSource) {\r\n        UserDetails user = User.withDefaultPasswordEncoder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        JdbcUserDetailsManager users = new JdbcUserDetailsManager(dataSource);\r\n        users.createUser(user);\r\n        return users;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand lastly, my pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;nl.phi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webAutoChess&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;webAutoChess&lt;/name&gt;\r\n    &lt;description&gt;webAutoChess&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nUsing this setup, I keep running in to this error:\r\n\r\n```2022-07-25 18:23:19.326 ERROR 16334 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;defaultSecurityFilterChain&#39; defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration.class]: Unsatisfied dependency expressed through method &#39;defaultSecurityFilterChain&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;users&#39; defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method &#39;users&#39; threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat nl.phi.webautochess.WebAutoChessApplication.main(WebAutoChessApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;defaultSecurityFilterChain&#39; defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration.class]: Unsatisfied dependency expressed through method &#39;defaultSecurityFilterChain&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;users&#39; defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method &#39;users&#39; threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;users&#39; defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method &#39;users&#39; threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 36 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;users&#39; defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method &#39;users&#39; threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 48 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;users&#39; defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method &#39;users&#39; threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.getBeanOrNull(InitializeUserDetailsBeanManagerConfigurer.java:89) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure(InitializeUserDetailsBeanManagerConfigurer.java:62) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure(InitializeUserDetailsBeanManagerConfigurer.java:55) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:121) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.authenticationManager(HttpSecurityConfiguration.java:109) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:87) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 49 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method &#39;users&#39; threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 71 common frames omitted\r\nCaused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.provisioning.JdbcUserDetailsManager.createUser(JdbcUserDetailsManager.java:200) ~[spring-security-core-5.7.2.jar:5.7.2]\r\n\tat nl.phi.webautochess.config.SecurityConfig.users(SecurityConfig.java:29) ~[classes/:na]\r\n\tat nl.phi.webautochess.config.SecurityConfig$$EnhancerBySpringCGLIB$$a4bd1756.CGLIB$users$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat nl.phi.webautochess.config.SecurityConfig$$EnhancerBySpringCGLIB$$a4bd1756$$FastClassBySpringCGLIB$$81d3684b.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat nl.phi.webautochess.config.SecurityConfig$$EnhancerBySpringCGLIB$$a4bd1756.users(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 72 common frames omitted\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\r\n  Position: 13\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:315) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.getParameterMetaData(PgPreparedStatement.java:1670) ~[postgresql-42.3.6.jar:42.3.6]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.getParameterMetaData(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.security.provisioning.JdbcUserDetailsManager.lambda$createUser$0(JdbcUserDetailsManager.java:204) ~[spring-security-core-5.7.2.jar:5.7.2]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:963) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651) ~[spring-jdbc-5.3.22.jar:5.3.22]\r\n\t... 84 common frames omitted\r\n```\r\n\r\nAny help would be appreciated!\r\n\r\nhaving tried the solution presented in [this post][1]\r\nI still get the same error: \r\n```\r\n2022-07-26 11:59:28.318 UTC [33] ERROR:  relation &quot;users&quot; does not exist at character 13\r\n2022-07-26 11:59:28.318 UTC [33] STATEMENT:  insert into users (username, password, enabled) values ($1,$2,$3)\r\n2022-07-26 11:59:57.758 UTC [45] ERROR:  relation &quot;users&quot; does not exist at character 13\r\n2022-07-26 11:59:57.758 UTC [45] STATEMENT:  insert into users (username, password, enabled) values ($1,$2,$3)\r\n```\r\nI have manually created the user table &#39;users&#39; in TablePlus with the columns: username(varchar(256)), password(varchar(256)), and enabled(boolean). I&#39;ve also tried to use\r\n```java\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres?createDatabaseIfNotExist=true\r\n```\r\nbut to no avail\r\n\r\n  [1]: https://stackoverflow.com/questions/50938476/relation-users-does-not-exist-postgresql","title":"Hibernate/JDBC connection from spring to postgres in docker container","body":"<p>I'm trying to get spring security to work using JDBC authentication. I have a postgres server running in a docker container which is receiving the requests, but keeps throwing an error.</p>\n<p>Here is my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=phi\nspring.datasource.password=kalkoen\nspring.datasource.driver-class-name=org.postgresql.Driver\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\n</code></pre>\n<p>my security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public UserDetailsManager users(DataSource dataSource) {\n        UserDetails user = User.withDefaultPasswordEncoder()\n                .username(&quot;user&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        JdbcUserDetailsManager users = new JdbcUserDetailsManager(dataSource);\n        users.createUser(user);\n        return users;\n    }\n\n}\n</code></pre>\n<p>and lastly, my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;nl.phi&lt;/groupId&gt;\n    &lt;artifactId&gt;webAutoChess&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;webAutoChess&lt;/name&gt;\n    &lt;description&gt;webAutoChess&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Using this setup, I keep running in to this error:</p>\n<pre><code>\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'defaultSecurityFilterChain' defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration.class]: Unsatisfied dependency expressed through method 'defaultSecurityFilterChain' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'users' defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method 'users' threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\n    at nl.phi.webautochess.WebAutoChessApplication.main(WebAutoChessApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'defaultSecurityFilterChain' defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration.class]: Unsatisfied dependency expressed through method 'defaultSecurityFilterChain' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'users' defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method 'users' threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'users' defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method 'users' threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 36 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'users' defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method 'users' threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 48 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'users' defined in class path resource [nl/phi/webautochess/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method 'users' threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.getBeanOrNull(InitializeUserDetailsBeanManagerConfigurer.java:89) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure(InitializeUserDetailsBeanManagerConfigurer.java:62) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure(InitializeUserDetailsBeanManagerConfigurer.java:55) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:121) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.authenticationManager(HttpSecurityConfiguration.java:109) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:87) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 49 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.UserDetailsManager]: Factory method 'users' threw exception; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 71 common frames omitted\nCaused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [insert into users (username, password, enabled) values (?,?,?)]; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1015) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.security.provisioning.JdbcUserDetailsManager.createUser(JdbcUserDetailsManager.java:200) ~[spring-security-core-5.7.2.jar:5.7.2]\n    at nl.phi.webautochess.config.SecurityConfig.users(SecurityConfig.java:29) ~[classes/:na]\n    at nl.phi.webautochess.config.SecurityConfig$$EnhancerBySpringCGLIB$$a4bd1756.CGLIB$users$0(&lt;generated&gt;) ~[classes/:na]\n    at nl.phi.webautochess.config.SecurityConfig$$EnhancerBySpringCGLIB$$a4bd1756$$FastClassBySpringCGLIB$$81d3684b.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.22.jar:5.3.22]\n    at nl.phi.webautochess.config.SecurityConfig$$EnhancerBySpringCGLIB$$a4bd1756.users(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 72 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;users&quot; does not exist\n  Position: 13\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:315) ~[postgresql-42.3.6.jar:42.3.6]\n    at org.postgresql.jdbc.PgPreparedStatement.getParameterMetaData(PgPreparedStatement.java:1670) ~[postgresql-42.3.6.jar:42.3.6]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.getParameterMetaData(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.security.provisioning.JdbcUserDetailsManager.lambda$createUser$0(JdbcUserDetailsManager.java:204) ~[spring-security-core-5.7.2.jar:5.7.2]\n    at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:963) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651) ~[spring-jdbc-5.3.22.jar:5.3.22]\n    ... 84 common frames omitted\n</code></pre>\n<p>Any help would be appreciated!</p>\n<p>having tried the solution presented in <a href=\"https://stackoverflow.com/questions/50938476/relation-users-does-not-exist-postgresql\">this post</a>\nI still get the same error:</p>\n<pre><code>2022-07-26 11:59:28.318 UTC [33] ERROR:  relation &quot;users&quot; does not exist at character 13\n2022-07-26 11:59:28.318 UTC [33] STATEMENT:  insert into users (username, password, enabled) values ($1,$2,$3)\n2022-07-26 11:59:57.758 UTC [45] ERROR:  relation &quot;users&quot; does not exist at character 13\n2022-07-26 11:59:57.758 UTC [45] STATEMENT:  insert into users (username, password, enabled) values ($1,$2,$3)\n</code></pre>\n<p>I have manually created the user table 'users' in TablePlus with the columns: username(varchar(256)), password(varchar(256)), and enabled(boolean). I've also tried to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.datasource.url=jdbc:postgresql://localhost:5432/postgres?createDatabaseIfNotExist=true\n</code></pre>\n<p>but to no avail</p>\n"},{"tags":["java","logback","slf4j","lombok","logback-classic"],"answers":[{"tags":[],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658842845,"creation_date":1658773769,"answer_id":73113811,"question_id":73112221,"body_markdown":"One major miss in that Baeldung article is the fact that you need to call the custom appender&#39;s `start()` method, otherwise log messages will not be logged by the `AppenderBase` subclass.\r\n\r\nIn my case I just call `start()` from inside the CatAppender constructor and everything works:\r\n```\r\npublic class CatAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    public CatAppender() {\r\n        super();\r\n        start();\r\n    }\r\n\r\n    @Override\r\n    protected void append(ILoggingEvent eventObject) {\r\n        System.out.println(&quot;meow&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFWIW the `start()` is considered an initialization or constructor-level check. You should make sure everything inside your appender subclass is &quot;healthy&quot; enough to begin logging, and only then, call `start()`.\r\n\r\nSo in the case of my `CatAppender` since its just &quot;meowing&quot; to STDOUT I can do that from inside the constructor. Other, more complicated subclasses will have to figure out when/where its appropriate to activate the appender via `start()`.","title":"Custom Logback Appender not activated","body":"<p>One major miss in that Baeldung article is the fact that you need to call the custom appender's <code>start()</code> method, otherwise log messages will not be logged by the <code>AppenderBase</code> subclass.</p>\n<p>In my case I just call <code>start()</code> from inside the CatAppender constructor and everything works:</p>\n<pre><code>public class CatAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n    public CatAppender() {\n        super();\n        start();\n    }\n\n    @Override\n    protected void append(ILoggingEvent eventObject) {\n        System.out.println(&quot;meow&quot;);\n    }\n}\n</code></pre>\n<p>FWIW the <code>start()</code> is considered an initialization or constructor-level check. You should make sure everything inside your appender subclass is &quot;healthy&quot; enough to begin logging, and only then, call <code>start()</code>.</p>\n<p>So in the case of my <code>CatAppender</code> since its just &quot;meowing&quot; to STDOUT I can do that from inside the constructor. Other, more complicated subclasses will have to figure out when/where its appropriate to activate the appender via <code>start()</code>.</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73113811,"answer_count":1,"score":1,"last_activity_date":1658842845,"creation_date":1658765059,"question_id":73112221,"body_markdown":"Java 11 and logback-classic-1.2.11 here. I&#39;m trying to write my own custom appender and am following [this Baeldung article](https://www.baeldung.com/custom-logback-appender) to test it out.\r\n\r\nMy `src/main/java/myapp/logging/CatAppender` appender (on the runtime classpath):\r\n```\r\npublic class CatAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    @Override\r\n    protected void append(ILoggingEvent eventObject) {\r\n        System.out.println(&quot;meow&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy `src/main/resources/logback.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n\r\n    &lt;appender name=&quot;cat&quot; class=&quot;myapp.logging.CatAppender&quot;/&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;cat&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nIn my `build.gradle` I specify to use logback and Lombok:\r\n```\r\nplugins {\r\n    id &quot;io.freefair.lombok&quot; version &#39;6.4.0&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation (\r\n        &#39;ch.qos.logback:logback-classic:1.2.11&#39;\r\n        ,&#39;org.projectlombok:lombok:1.18.16&#39;\r\n    )\r\n}\r\n```\r\n\r\nAnd then in my Java code I use Lombok to inject an SLF4J logger like so:\r\n```\r\n@Slf4j\r\npublic class SomethingDoer {\r\n\r\n    public void doSomething() {\r\n        log.info(&quot;this should invoke the CatAppender...&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut when `SomethingDoer#doSomething()` runs, I don&#39;t see a `meow` printed to my STDOUT console. Have I wired anything up incorrectly here?","title":"Custom Logback Appender not activated","body":"<p>Java 11 and logback-classic-1.2.11 here. I'm trying to write my own custom appender and am following <a href=\"https://www.baeldung.com/custom-logback-appender\" rel=\"nofollow noreferrer\">this Baeldung article</a> to test it out.</p>\n<p>My <code>src/main/java/myapp/logging/CatAppender</code> appender (on the runtime classpath):</p>\n<pre><code>public class CatAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n    @Override\n    protected void append(ILoggingEvent eventObject) {\n        System.out.println(&quot;meow&quot;);\n    }\n}\n</code></pre>\n<p>My <code>src/main/resources/logback.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration debug=&quot;true&quot;&gt;\n\n    &lt;appender name=&quot;cat&quot; class=&quot;myapp.logging.CatAppender&quot;/&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;cat&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>In my <code>build.gradle</code> I specify to use logback and Lombok:</p>\n<pre><code>plugins {\n    id &quot;io.freefair.lombok&quot; version '6.4.0'\n}\n\ndependencies {\n    implementation (\n        'ch.qos.logback:logback-classic:1.2.11'\n        ,'org.projectlombok:lombok:1.18.16'\n    )\n}\n</code></pre>\n<p>And then in my Java code I use Lombok to inject an SLF4J logger like so:</p>\n<pre><code>@Slf4j\npublic class SomethingDoer {\n\n    public void doSomething() {\n        log.info(&quot;this should invoke the CatAppender...&quot;);\n    }\n\n}\n</code></pre>\n<p>But when <code>SomethingDoer#doSomething()</code> runs, I don't see a <code>meow</code> printed to my STDOUT console. Have I wired anything up incorrectly here?</p>\n"},{"tags":["java","android","kotlin","video","camera"],"comments":[{"owner":{"account_id":21101320,"reputation":362,"user_id":15511159,"display_name":"Faizan Ahmad"},"score":0,"creation_date":1673620060,"post_id":73098711,"comment_id":132546390,"body_markdown":"Hi, can you please share its java code, specifically code for the captureListener in Java? And please help me that how to get recorded video?","body":"Hi, can you please share its java code, specifically code for the captureListener in Java? And please help me that how to get recorded video?"},{"owner":{"account_id":14322053,"reputation":443,"user_id":10375741,"display_name":"normidar"},"score":0,"creation_date":1673756215,"post_id":73098711,"comment_id":132567648,"body_markdown":"I am sorry that I finished this project, you can check the type to find some hints, good luck.","body":"I am sorry that I finished this project, you can check the type to find some hints, good luck."}],"answers":[{"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658842805,"creation_date":1658842805,"answer_id":73124469,"question_id":73098711,"body_markdown":"There are two different `VideoCapture` classes.\r\n\r\nOne is in `&quot;androidx.camera:camera-core:$version&quot;` imported as `androidx.camera.core.VideoCapture`.\r\n\r\nThe other one is in `&quot;androidx.camera:camera-video:$version&quot;` imported as `androidx.camera.video.VideoCapture`.\r\n\r\nOnly the second one has the methods you need. And since you are using Java you have to replace `output` with `getOutput()`.","title":"How can I save the video to MediaStore by CameraX on Java?","body":"<p>There are two different <code>VideoCapture</code> classes.</p>\n<p>One is in <code>&quot;androidx.camera:camera-core:$version&quot;</code> imported as <code>androidx.camera.core.VideoCapture</code>.</p>\n<p>The other one is in <code>&quot;androidx.camera:camera-video:$version&quot;</code> imported as <code>androidx.camera.video.VideoCapture</code>.</p>\n<p>Only the second one has the methods you need. And since you are using Java you have to replace <code>output</code> with <code>getOutput()</code>.</p>\n"}],"owner":{"account_id":14322053,"reputation":443,"user_id":10375741,"display_name":"normidar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73124469,"answer_count":1,"score":1,"last_activity_date":1658842805,"creation_date":1658668361,"question_id":73098711,"body_markdown":"I saw [this page](https://developer.android.com/training/camerax/video-capture#configure-and-create-recording) to learn how to take some video captures and save them to a device.\r\n\r\n\r\nthe Android official code:\r\n```\r\n// Create MediaStoreOutputOptions for our recorder\r\nval name = &quot;CameraX-recording-&quot; +\r\n        SimpleDateFormat(FILENAME_FORMAT, Locale.US)\r\n                .format(System.currentTimeMillis()) + &quot;.mp4&quot;\r\nval contentValues = ContentValues().apply {\r\n   put(MediaStore.Video.Media.DISPLAY_NAME, name)\r\n}\r\nval mediaStoreOutput = MediaStoreOutputOptions.Builder(this.contentResolver,\r\n                              MediaStore.Video.Media.EXTERNAL_CONTENT_URI)\r\n                              .setContentValues(contentValues)\r\n                              .build()\r\n\r\n// 2. Configure Recorder and Start recording to the mediaStoreOutput.\r\nval recording = videoCapture.output\r\n                .prepareRecording(context, mediaStoreOutput)\r\n                .withAudioEnabled()\r\n                .start(ContextCompat.getMainExecutor(this), captureListener)\r\n```\r\n\r\n\r\nbut I am using Java and I can’t find the `output` member on Java(if this is a Kotlin keyword, can you tell me what it means?).\r\n\r\nI want to save the video that was captured by `CameraX` but my project is not using Kotlin.\r\n\r\nCan somebody translate it to java for me? \r\n\r\nthanks!!\r\n\r\n","title":"How can I save the video to MediaStore by CameraX on Java?","body":"<p>I saw <a href=\"https://developer.android.com/training/camerax/video-capture#configure-and-create-recording\" rel=\"nofollow noreferrer\">this page</a> to learn how to take some video captures and save them to a device.</p>\n<p>the Android official code:</p>\n<pre><code>// Create MediaStoreOutputOptions for our recorder\nval name = &quot;CameraX-recording-&quot; +\n        SimpleDateFormat(FILENAME_FORMAT, Locale.US)\n                .format(System.currentTimeMillis()) + &quot;.mp4&quot;\nval contentValues = ContentValues().apply {\n   put(MediaStore.Video.Media.DISPLAY_NAME, name)\n}\nval mediaStoreOutput = MediaStoreOutputOptions.Builder(this.contentResolver,\n                              MediaStore.Video.Media.EXTERNAL_CONTENT_URI)\n                              .setContentValues(contentValues)\n                              .build()\n\n// 2. Configure Recorder and Start recording to the mediaStoreOutput.\nval recording = videoCapture.output\n                .prepareRecording(context, mediaStoreOutput)\n                .withAudioEnabled()\n                .start(ContextCompat.getMainExecutor(this), captureListener)\n</code></pre>\n<p>but I am using Java and I can’t find the <code>output</code> member on Java(if this is a Kotlin keyword, can you tell me what it means?).</p>\n<p>I want to save the video that was captured by <code>CameraX</code> but my project is not using Kotlin.</p>\n<p>Can somebody translate it to java for me?</p>\n<p>thanks!!</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":1311937,"reputation":1459,"user_id":1259763,"accept_rate":73,"display_name":"Federico Alvarez"},"score":50,"creation_date":1524147021,"post_id":24098494,"comment_id":86862128,"body_markdown":"All answers seem to be either not to check for errors or not to abort on errors, but what about finding the problem and correcting it??? Android Studio shows no information about what is wrong... Any one was able to fix this with out ignoring errors?","body":"All answers seem to be either not to check for errors or not to abort on errors, but what about finding the problem and correcting it??? Android Studio shows no information about what is wrong... Any one was able to fix this with out ignoring errors?"},{"owner":{"account_id":13858745,"reputation":467,"user_id":10004902,"display_name":"Halim Bezek"},"score":0,"creation_date":1530907513,"post_id":24098494,"comment_id":89415116,"body_markdown":"https://stackoverflow.com/questions/43203415/error-while-generating-signed-apk-when-i-use-google-map go on this page fr answer. its work for me","body":"<a href=\"https://stackoverflow.com/questions/43203415/error-while-generating-signed-apk-when-i-use-google-map\" title=\"error while generating signed apk when i use google map\">stackoverflow.com/questions/43203415/&hellip;</a> go on this page fr answer. its work for me"},{"owner":{"account_id":1946027,"reputation":617,"user_id":1751166,"display_name":"PravyNandas"},"score":6,"creation_date":1532176558,"post_id":24098494,"comment_id":89881675,"body_markdown":"&quot;but what about finding the problem and correcting it???&quot; I thought same but I always overlooked &#39;Inspection Results&#39; tab on the bottom bar and also build\\report folder contents. Please check.","body":"&quot;but what about finding the problem and correcting it???&quot; I thought same but I always overlooked &#39;Inspection Results&#39; tab on the bottom bar and also build\\report folder contents. Please check."},{"owner":{"account_id":4957388,"reputation":280,"user_id":3989599,"display_name":"Pete"},"score":1,"creation_date":1535495777,"post_id":24098494,"comment_id":91084431,"body_markdown":"build/report folder is a very good tip. For me the problem was missing translations, and it was clear from the html report.","body":"build/report folder is a very good tip. For me the problem was missing translations, and it was clear from the html report."},{"owner":{"account_id":10336459,"reputation":1090,"user_id":7624402,"accept_rate":0,"display_name":"Mafujul"},"score":0,"creation_date":1538074736,"post_id":24098494,"comment_id":92026782,"body_markdown":"on the error google give you the solution, why didn&#39;t you try this???? at first try to understand the error as well as error message","body":"on the error google give you the solution, why didn&#39;t you try this???? at first try to understand the error as well as error message"},{"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"score":0,"creation_date":1557233177,"post_id":24098494,"comment_id":98689581,"body_markdown":"I did answer this question in the following link, and it is working perfect https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk/52140460#52140460","body":"I did answer this question in the following link, and it is working perfect <a href=\"https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk/52140460#52140460\" title=\"error when generate signed apk\">stackoverflow.com/questions/24098494/&hellip;</a>"},{"owner":{"account_id":5344810,"reputation":1346,"user_id":4260651,"accept_rate":62,"display_name":"AKASH WANGALWAR"},"score":0,"creation_date":1563188689,"post_id":24098494,"comment_id":100604647,"body_markdown":"downgrading my android gradle work for me. ( &quot; com.android.tools.build:gradle:3.3.2 &quot; )","body":"downgrading my android gradle work for me. ( &quot; com.android.tools.build:gradle:3.3.2 &quot; )"}],"answers":[{"tags":[],"owner":{"account_id":1619498,"reputation":980,"user_id":1496386,"accept_rate":75,"display_name":"Eran Goldin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402153608,"creation_date":1402153608,"answer_id":24098575,"question_id":24098494,"body_markdown":"Remove that statement from your manifest altogether, Eclipse will handle that for you on the fly.","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Remove that statement from your manifest altogether, Eclipse will handle that for you on the fly.</p>\n"},{"tags":[],"owner":{"account_id":4642132,"reputation":2329,"user_id":3761663,"display_name":"naile"},"down_vote_count":11,"up_vote_count":235,"is_accepted":false,"score":224,"last_activity_date":1592613761,"creation_date":1403300362,"answer_id":24336042,"question_id":24098494,"body_markdown":"I had this problem and solved it by adding:\r\n\r\n    lintOptions { \r\n \r\n        checkReleaseBuilds false\r\n\r\n    }\r\n\r\nto my `build.gradle` file within the `android{ }` section.&#160;&#160;&#160;&#160;        &#160;&#160;","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>I had this problem and solved it by adding:</p>\n\n<pre><code>lintOptions { \n\n    checkReleaseBuilds false\n\n}\n</code></pre>\n\n<p>to my <code>build.gradle</code> file within the <code>android{ }</code> section.              </p>\n"},{"tags":[],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423199471,"creation_date":1423199471,"answer_id":28358963,"question_id":24098494,"body_markdown":"Windows -&gt; references -&gt;Android-&gt;lint error checking.\r\n\r\nun tick Run full error.......\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UgBw2.png","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Windows -> references ->Android->lint error checking.</p>\n\n<p>un tick Run full error.......</p>\n\n<p><img src=\"https://i.stack.imgur.com/UgBw2.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5008880,"reputation":4964,"user_id":4025692,"accept_rate":40,"display_name":"Dhruv Raval"},"down_vote_count":4,"up_vote_count":42,"is_accepted":false,"score":38,"last_activity_date":1505464143,"creation_date":1432549248,"answer_id":30436088,"question_id":24098494,"body_markdown":"I have faced same issue when creating signed apk from android studio. I just change little bit change on **build.gradle** file inside **android {}**\r\n\r\n    lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>I have faced same issue when creating signed apk from android studio. I just change little bit change on <strong>build.gradle</strong> file inside <strong>android {}</strong></p>\n\n<pre><code>lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5038154,"reputation":245,"user_id":4046387,"display_name":"Kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487406347,"creation_date":1487406347,"answer_id":42312888,"question_id":24098494,"body_markdown":"You should add the code in project level gradle file for generating apk overwriting over errors","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>You should add the code in project level gradle file for generating apk overwriting over errors</p>\n"},{"tags":[],"owner":{"account_id":8581787,"reputation":400,"user_id":6429159,"display_name":"Amit raj"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1501832872,"creation_date":1501832872,"answer_id":45501043,"question_id":24098494,"body_markdown":"    ***Try this***\r\n    \r\n     buildTypes {\r\n            release {\r\n                lintOptions {\r\n                    disable &#39;MissingTranslation&#39;\r\n                    checkReleaseBuilds false\r\n                    abortOnError false\r\n                }\r\n                minifyEnabled false\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<pre><code>***Try this***\n\n buildTypes {\n        release {\n            lintOptions {\n                disable 'MissingTranslation'\n                checkReleaseBuilds false\n                abortOnError false\n            }\n            minifyEnabled false\n            signingConfig signingConfigs.release\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5305317,"reputation":994,"user_id":4233479,"accept_rate":22,"display_name":"Rehan Sarwar"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1511950508,"creation_date":1511950508,"answer_id":47550232,"question_id":24098494,"body_markdown":"Try These 3 lines in your app.gradle file.\r\n\r\n    android {\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Try These 3 lines in your app.gradle file.</p>\n\n<pre><code>android {\nlintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298276,"reputation":4624,"user_id":604218,"display_name":"Roberto"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1524733023,"creation_date":1524733023,"answer_id":50038853,"question_id":24098494,"body_markdown":"Make sure you defined all the translations in all the `string.xml` files","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Make sure you defined all the translations in all the <code>string.xml</code> files</p>\n"},{"tags":[],"owner":{"account_id":2266680,"reputation":5051,"user_id":1995157,"display_name":"Graydyn Young"},"down_vote_count":0,"up_vote_count":447,"is_accepted":true,"score":447,"last_activity_date":1531256777,"creation_date":1525800310,"answer_id":50239165,"question_id":24098494,"body_markdown":"I wouldn&#39;t recommend turning off the lint checks, they&#39;re there for a reason. Instead, check what the error is and fix it. \r\n\r\nThe error report is saved to `[app module]/build/reports/lint-results-yourBuildName-fatal.html`. You can open this file in a browser to read about the errors.\r\n\r\nIt would be nice if Gradle could make it a little more clear where the error report is generated.","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>I wouldn't recommend turning off the lint checks, they're there for a reason. Instead, check what the error is and fix it. </p>\n\n<p>The error report is saved to <code>[app module]/build/reports/lint-results-yourBuildName-fatal.html</code>. You can open this file in a browser to read about the errors.</p>\n\n<p>It would be nice if Gradle could make it a little more clear where the error report is generated.</p>\n"},{"tags":[],"owner":{"account_id":13568027,"reputation":431,"user_id":9787505,"display_name":"Pecolyte Wang"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1526292417,"creation_date":1526292417,"answer_id":50327773,"question_id":24098494,"body_markdown":"In case that you may trying to locate where the problem is, I found mine in the following path of my project: */app/build/reports/lint-results-release-fatal.html*(or .xml).\r\n\r\nHope this helps!","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>In case that you may trying to locate where the problem is, I found mine in the following path of my project: <em>/app/build/reports/lint-results-release-fatal.html</em>(or .xml).</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":935326,"reputation":5630,"user_id":964345,"accept_rate":68,"display_name":"tomDev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532631710,"creation_date":1532630433,"answer_id":51545577,"question_id":24098494,"body_markdown":"My problem was a missing translation. I had a settings.xml that was not translated as it was not needed, so I had to add &quot;translatable=&quot;false&quot; to the strings:\r\n\r\n    &lt;string translatable=&quot;false&quot; name=&quot;stringname&quot;&gt;This string doesn&#39;t need translation&lt;/string&gt;\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>My problem was a missing translation. I had a settings.xml that was not translated as it was not needed, so I had to add \"translatable=\"false\" to the strings:</p>\n\n<pre><code>&lt;string translatable=\"false\" name=\"stringname\"&gt;This string doesn't need translation&lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1630260760,"creation_date":1535917250,"answer_id":52140460,"question_id":24098494,"body_markdown":"if you want to find out the exact error go to the following path in your project: /app/build/reports/lint-results-release-fatal.html(or .xml). The easiest way is if you go to the xml file, it will show you exactly what the error is including its position of the error in your either java class or xml file. Turning off the lint checks is not a good idea, they&#39;re there for a reason. Instead, go to:\r\n\r\n        /app/build/reports/lint-results-release-fatal.html or \r\n        /app/build/reports/lint-results-release-fatal.xml\r\n\r\n and fix it. \r\n\r\nIn Kotlin is different. First you need to set the following code in Android section of build.gradel of the app folder.\r\n\r\n\r\n         android {\r\n              :\r\n              lintOptions {\r\n                baseline(file(&quot;lint-baseline.xml&quot;))\r\n              }\r\n          }\r\n\r\nThen run lint from the IDE (Analyze &gt; Inspect Code) or from the command line as follows. \r\n\r\n          $ ./gradlew lintDebug\r\n\r\n...\r\n\r\nThe output prints the location of the lint-baseline.xml file within app folder but sometimes within app/src folder as well /app/lint-baseline.xml\r\n    ","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>if you want to find out the exact error go to the following path in your project: /app/build/reports/lint-results-release-fatal.html(or .xml). The easiest way is if you go to the xml file, it will show you exactly what the error is including its position of the error in your either java class or xml file. Turning off the lint checks is not a good idea, they're there for a reason. Instead, go to:</p>\n<pre><code>    /app/build/reports/lint-results-release-fatal.html or \n    /app/build/reports/lint-results-release-fatal.xml\n</code></pre>\n<p>and fix it.</p>\n<p>In Kotlin is different. First you need to set the following code in Android section of build.gradel of the app folder.</p>\n<pre><code>     android {\n          :\n          lintOptions {\n            baseline(file(&quot;lint-baseline.xml&quot;))\n          }\n      }\n</code></pre>\n<p>Then run lint from the IDE (Analyze &gt; Inspect Code) or from the command line as follows.</p>\n<pre><code>      $ ./gradlew lintDebug\n</code></pre>\n<p>...</p>\n<p>The output prints the location of the lint-baseline.xml file within app folder but sometimes within app/src folder as well /app/lint-baseline.xml</p>\n"},{"tags":[],"owner":{"account_id":13156050,"reputation":131,"user_id":9503194,"display_name":"Harsh Masand"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1654501647,"creation_date":1537352644,"answer_id":52403664,"question_id":24098494,"body_markdown":"My problem was a missing translation. I had a settings.xml that was not translated as it was not needed, so I had to add `&quot;translatable=&quot;false&quot;` to the strings:\r\n\r\n`&lt;string translatable=&quot;false&quot; name=&quot;stringname&quot;&gt;This string doesn&#39;t need translation&lt;/string&gt;`\r\n\r\n\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>My problem was a missing translation. I had a settings.xml that was not translated as it was not needed, so I had to add <code>&quot;translatable=&quot;false&quot;</code> to the strings:</p>\n<p><code>&lt;string translatable=&quot;false&quot; name=&quot;stringname&quot;&gt;This string doesn't need translation&lt;/string&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1756356,"reputation":2251,"user_id":1604309,"accept_rate":64,"display_name":"Mateusz Kaflowski"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1658842608,"creation_date":1538560268,"answer_id":52624305,"question_id":24098494,"body_markdown":"You can find more info choosing assemble from gradle build tab:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k0opI.png\r\n\r\n**EDIT 2022:**\r\n\r\nYou can run after clicking elephant button:\r\n\r\n    gradle assembleDebug","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>You can find more info choosing assemble from gradle build tab:<a href=\"https://i.stack.imgur.com/k0opI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k0opI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 2022:</strong></p>\n<p>You can run after clicking elephant button:</p>\n<pre><code>gradle assembleDebug\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14583947,"reputation":31,"user_id":10533432,"display_name":"Sheikh Ahmed Qureshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540054403,"creation_date":1540048883,"answer_id":52907167,"question_id":24098494,"body_markdown":"***Try below code***\r\n\r\n    buildTypes {\r\n\t\trelease {\r\n\t\t\tlintOptions {\r\n\t\t\t\tdisable &#39;MissingTranslation&#39;\r\n\t\t\t\tcheckReleaseBuilds false\r\n\t\t\t\tabortOnError false\r\n\t\t\t}\r\n\t\t\tminifyEnabled false\r\n\t\t\tsigningConfig signingConfigs.release\r\n\t\t}\r\n\t}\r\n\r\n  \r\n\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p><strong><em>Try below code</em></strong></p>\n\n<pre><code>buildTypes {\n    release {\n        lintOptions {\n            disable 'MissingTranslation'\n            checkReleaseBuilds false\n            abortOnError false\n        }\n        minifyEnabled false\n        signingConfig signingConfigs.release\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1580204179,"creation_date":1540880062,"answer_id":53058386,"question_id":24098494,"body_markdown":"**Solve this Issue Using this in build.gradle (app) File Inside main Android { inside }**\r\n\r\n      buildTypes {\r\n          //  crunchPngs false // or true   when png error\r\n            release {\r\n                lintOptions {\r\n                    checkReleaseBuilds false\r\n                    abortOnError false\r\n                }\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p><strong>Solve this Issue Using this in build.gradle (app) File Inside main Android { inside }</strong></p>\n\n<pre><code>  buildTypes {\n      //  crunchPngs false // or true   when png error\n        release {\n            lintOptions {\n                checkReleaseBuilds false\n                abortOnError false\n            }\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9679340,"reputation":235,"user_id":7181623,"display_name":"DoctorDroid Haiti"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1654501583,"creation_date":1541207912,"answer_id":53127560,"question_id":24098494,"body_markdown":"This worked for me, I just modified my BuildTypes like this: \r\n\r\n    buildTypes {\r\n        release {\r\n            android {\r\n                lintOptions {\r\n                    checkReleaseBuilds false\r\n                    // Or, if you prefer, you can continue to check for errors in release builds,\r\n                    // but continue the build even when errors are found:\r\n                    abortOnError false\r\n                }\r\n            }\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>This worked for me, I just modified my BuildTypes like this:</p>\n<pre><code>buildTypes {\n    release {\n        android {\n            lintOptions {\n                checkReleaseBuilds false\n                // Or, if you prefer, you can continue to check for errors in release builds,\n                // but continue the build even when errors are found:\n                abortOnError false\n            }\n        }\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1541964093,"creation_date":1541962973,"answer_id":53252151,"question_id":24098494,"body_markdown":"**Go to build.gradle(Module:app)** \r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p><strong>Go to build.gradle(Module:app)</strong> </p>\n\n<pre><code>lintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1130275,"reputation":510,"user_id":7904606,"display_name":"Alpesh Sorathiya"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1542908294,"creation_date":1542908294,"answer_id":53435973,"question_id":24098494,"body_markdown":"If you add in app.gradle under android{\r\n\r\n\r\n    lintOptions {\r\n\r\n        quiet true\r\n        abortOnError false\r\n    }\r\n}\r\n\r\nIt will get work\r\n\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>If you add in app.gradle under android{</p>\n\n<pre><code>lintOptions {\n\n    quiet true\n    abortOnError false\n}\n</code></pre>\n\n<p>}</p>\n\n<p>It will get work</p>\n"},{"tags":[],"owner":{"account_id":6258909,"reputation":2791,"user_id":4866667,"accept_rate":64,"display_name":"Mikhail"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1548574710,"creation_date":1548574710,"answer_id":54386047,"question_id":24098494,"body_markdown":"**How to find error details**\r\n\r\nAnylyze -&gt; Inspect Code\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen in Inspection Results you will see an error\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn my case build failed due to unresolved javadoc reference in Google IAP &#128528;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j8us4.png\r\n  [2]: https://i.stack.imgur.com/hm0pA.png","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p><strong>How to find error details</strong></p>\n\n<p>Anylyze -> Inspect Code</p>\n\n<p><a href=\"https://i.stack.imgur.com/j8us4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j8us4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then in Inspection Results you will see an error</p>\n\n<p><a href=\"https://i.stack.imgur.com/hm0pA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hm0pA.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my case build failed due to unresolved javadoc reference in Google IAP 😐</p>\n"},{"tags":[],"owner":{"account_id":1518111,"reputation":754,"user_id":1418584,"display_name":"mdicosimo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552511457,"creation_date":1552511457,"answer_id":55151273,"question_id":24098494,"body_markdown":"In my case the problem was related to minimum target API level that is required by Google Play. It was set less than 26.\r\n\r\nIssue disappeared when I set minimum target API level to 26. ","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>In my case the problem was related to minimum target API level that is required by Google Play. It was set less than 26.</p>\n\n<p>Issue disappeared when I set minimum target API level to 26. </p>\n"},{"tags":[],"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557233780,"creation_date":1557233780,"answer_id":56023139,"question_id":24098494,"body_markdown":"\r\n        lintOptions {\r\n          checkReleaseBuilds false\r\n          abortOnError false\r\n        }\r\n\r\nThe above code can fix the problem by ignoring it, but it may result in crashing the app as well.\r\n\r\nThe good answer is in the following link:\r\n\r\nhttps://stackoverflow.com/questions/24098494/error-when-generate-signed-apk/52140460#52140460","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<pre><code>    lintOptions {\n      checkReleaseBuilds false\n      abortOnError false\n    }\n</code></pre>\n\n<p>The above code can fix the problem by ignoring it, but it may result in crashing the app as well.</p>\n\n<p>The good answer is in the following link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk/52140460#52140460\">Error when generate signed apk</a></p>\n"},{"tags":[],"owner":{"account_id":3135843,"reputation":21202,"user_id":2652368,"accept_rate":57,"display_name":"Amirhossein Ghasemi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1570207230,"creation_date":1570207230,"answer_id":58240282,"question_id":24098494,"body_markdown":"Just find the error reason in here and fix it.\r\n\r\n    yourProject/app/build/reports/lint-results-release-fatal.xml","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Just find the error reason in here and fix it.</p>\n\n<pre><code>yourProject/app/build/reports/lint-results-release-fatal.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11445722,"reputation":361,"user_id":8389687,"display_name":"Quwaysim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576963286,"creation_date":1576963286,"answer_id":59439925,"question_id":24098494,"body_markdown":"As many people have suggested, it is always better to try and fix the error from the source. check the lint generated file \r\n```\r\n/app/build/reports/lint-results-release-fatal.html\r\n```\r\n\r\nread the file and you will be guided to where the error is coming from. Check out mine: the error came from improper view constraint.","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>As many people have suggested, it is always better to try and fix the error from the source. check the lint generated file </p>\n\n<pre><code>/app/build/reports/lint-results-release-fatal.html\n</code></pre>\n\n<p>read the file and you will be guided to where the error is coming from. Check out mine: the error came from improper view constraint.</p>\n"},{"tags":[],"owner":{"account_id":5916555,"reputation":612,"user_id":4655186,"display_name":"Panneerchelvam Piratheepan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1582085143,"creation_date":1582085143,"answer_id":60292847,"question_id":24098494,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JATGv.png\r\n\r\nAdd this inside android {}\r\nbuild.gradle(Module:App)\r\n   \r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p><a href=\"https://i.stack.imgur.com/JATGv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JATGv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Add this inside android {}\nbuild.gradle(Module:App)</p>\n\n<pre><code>lintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8448761,"reputation":129,"user_id":6338347,"display_name":"Jeiel Junio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1596425430,"creation_date":1596425430,"answer_id":63223341,"question_id":24098494,"body_markdown":"This problem came to me when I updated the `Android Gradle Plugin Version` to `4.0.1` and the `Gradle version` to `6.1.1`.\r\n\r\nIf someone is in a hurry, just downgrade the `Gradle Plugin Version` to `3.6.3` and the `Gradle version` to `5.6.4`. It worked for me.","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>This problem came to me when I updated the <code>Android Gradle Plugin Version</code> to <code>4.0.1</code> and the <code>Gradle version</code> to <code>6.1.1</code>.</p>\n<p>If someone is in a hurry, just downgrade the <code>Gradle Plugin Version</code> to <code>3.6.3</code> and the <code>Gradle version</code> to <code>5.6.4</code>. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":12540704,"reputation":147,"user_id":9125727,"display_name":"Swarnava Chakraborty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618559411,"creation_date":1618559411,"answer_id":67121177,"question_id":24098494,"body_markdown":"Don&#39;t disable the lint option\r\n\r\nCheck the Lint Report for error and warning\r\n\r\nPATH: \r\n&gt; **YourAppProjectFolder\\app\\build\\reports**\r\n\r\nSolve all error and warning:)\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Don't disable the lint option</p>\n<p>Check the Lint Report for error and warning</p>\n<p>PATH:</p>\n<blockquote>\n<p><strong>YourAppProjectFolder\\app\\build\\reports</strong></p>\n</blockquote>\n<p>Solve all error and warning:)</p>\n"},{"tags":[],"owner":{"account_id":12027442,"reputation":1960,"user_id":8798818,"display_name":"Alish Giri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639310872,"creation_date":1639310872,"answer_id":70323388,"question_id":24098494,"body_markdown":"Upgrading gradle distribution url to,\r\n\r\n    // android/gradle/wrapper/gradle-wrapper.properties\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\r\n\r\nand upgrading buildscript -&gt; dependencies -&gt; classpath to,\r\n\r\n    // android/build.gradle\r\n    classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n\r\nfixed the issue for me\r\n\r\n\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>Upgrading gradle distribution url to,</p>\n<pre><code>// android/gradle/wrapper/gradle-wrapper.properties\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\n</code></pre>\n<p>and upgrading buildscript -&gt; dependencies -&gt; classpath to,</p>\n<pre><code>// android/build.gradle\nclasspath 'com.android.tools.build:gradle:7.0.0'\n</code></pre>\n<p>fixed the issue for me</p>\n"}],"owner":{"account_id":4578592,"reputation":2781,"user_id":3716366,"display_name":"user3716366"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218462,"favorite_count":0,"down_vote_count":1,"up_vote_count":278,"accepted_answer_id":50239165,"answer_count":28,"score":277,"last_activity_date":1658842608,"creation_date":1402153082,"question_id":24098494,"body_markdown":"I&#39;ve tried to upload my apk on google play and encountered an error message: &quot;You uploaded a debuggable APK. For security reasons you need to disable debugging before it can be published in Google Play. Learn more about debuggable APKs.&quot;\r\n\r\nThen I wrote `android:debuggable=&quot;false&quot;` in my manifest and tried again. I&#39;ve encountered the same error, so I&#39;ve set the build variant from my module to release and tried generated an apk again, but this time, this error is generated:\r\n\r\n    Error:Gradle: Execution failed for task &#39;:app:lintVitalRelease&#39;.\r\n    Lint found fatal errors while assembling a release target.\r\n      To proceed, either fix the issues identified by lint, or modify your build script as follows:\r\n      ...\r\n      android {\r\n          lintOptions {\r\n              checkReleaseBuilds false\r\n              // Or, if you prefer, you can continue to check for errors in release builds,\r\n              // but continue the build even when errors are found:\r\n              abortOnError false\r\n          }\r\n      }\r\n      ...\r\n\r\n","title":"&#39;:app:lintVitalRelease&#39; error when generating signed apk","body":"<p>I've tried to upload my apk on google play and encountered an error message: &quot;You uploaded a debuggable APK. For security reasons you need to disable debugging before it can be published in Google Play. Learn more about debuggable APKs.&quot;</p>\n<p>Then I wrote <code>android:debuggable=&quot;false&quot;</code> in my manifest and tried again. I've encountered the same error, so I've set the build variant from my module to release and tried generated an apk again, but this time, this error is generated:</p>\n<pre><code>Error:Gradle: Execution failed for task ':app:lintVitalRelease'.\nLint found fatal errors while assembling a release target.\n  To proceed, either fix the issues identified by lint, or modify your build script as follows:\n  ...\n  android {\n      lintOptions {\n          checkReleaseBuilds false\n          // Or, if you prefer, you can continue to check for errors in release builds,\n          // but continue the build even when errors are found:\n          abortOnError false\n      }\n  }\n  ...\n</code></pre>\n"},{"tags":["java","testing","datastage"],"owner":{"account_id":25898882,"reputation":11,"user_id":19625100,"display_name":"R&#233;mi De Wispelaere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658841470,"creation_date":1658840819,"question_id":73123928,"body_markdown":"I am new to the DataStage world and I am trying to start the `process()` method by myself.\r\n\r\n*&quot;Why do you want to do that?&quot;*\r\n\r\nSadly, I have not the hands on DataStage directly, I am &quot;just&quot; the Java developer in charge of creating the Java classes that will be used by DataStage. My goal is to know what my classes do exactly without the DataStage treatment in the picture to be able to debug and explain the process.\r\n\r\n*&quot;What have you tried?&quot;*\r\n\r\nMy approach so far was to &quot;simulate&quot; the Configuration interface in order to call the `validateConfiguration()` method to have the InputLink set up before calling the `process()` method. But I don&#39;t know how to &quot;simulate&quot; a Configuration object with my data.\r\n\r\nI have considered use a mock of my Configuration or of my InputLink objects but I don&#39;t know how to do that either.\r\n\r\n**It&#39;s time to show you some code:**\r\n\r\nFirst, the class that extends `com.ibm.is.cc.javastage.api.Processor` class:\r\n```\r\npublic class DownloadExportOutputDatastage extends Processor {\r\n    @Override\r\n    public boolean validateConfiguration(Configuration configuration, boolean b) throws Exception \r\n    {\r\n        this.m_inputLink = configuration.getInputLink(0);\r\n        this.m_outputLink = configuration.getOutputLink(0);\r\n\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Capabilities getCapabilities() {\r\n        Capabilities capabilities = new Capabilities();\r\n        // ...\r\n        return capabilities;\r\n    }\r\n\r\n    @Override\r\n    public void process() throws Exception {\r\n        InputRecord inputRecord;\r\n        while ((inputRecord = this.m_inputLink.readRecord()) != null) { // How to use a custom inputLink with my data in it\r\n            DownloadExportOutput objDownloadExportOutput = new DownloadExportOutput();\r\n            objDownloadExportOutput.setRequestId((String) inputRecord.getValue(&quot;idrequest&quot;)); // The only value that I need in my Record\r\n\r\n            // My custom process here\r\n\r\n            OutputRecord outputRecord = this.m_outputLink.getOutputRecord();\r\n            outputRecord.setValue(&quot;body&quot;, soapContent);\r\n            this.m_outputLink.writeRecord(outputRecord);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFinally, what I have tried:\r\n```\r\npublic class main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        StandaloneConfiguration standaloneConfiguration = new StandaloneConfiguration(); // A custom implementation of the DataStage Configuration interface\r\n        DownloadExportOutputDatastage sample = new DownloadExportOutputDatastage(); // The class that you can see above\r\n        sample.validateConfiguration(standaloneConfiguration, true); // I try to load an InputLink but don&#39;t know what to put in it\r\n        sample.getCapabilities();\r\n        sample.process(); // Get a NPE because of my empty InputLink\r\n    }\r\n}\r\n```","title":"DataStage Java Code - How to test process() method without DataStage in the picture","body":"<p>I am new to the DataStage world and I am trying to start the <code>process()</code> method by myself.</p>\n<p><em>&quot;Why do you want to do that?&quot;</em></p>\n<p>Sadly, I have not the hands on DataStage directly, I am &quot;just&quot; the Java developer in charge of creating the Java classes that will be used by DataStage. My goal is to know what my classes do exactly without the DataStage treatment in the picture to be able to debug and explain the process.</p>\n<p><em>&quot;What have you tried?&quot;</em></p>\n<p>My approach so far was to &quot;simulate&quot; the Configuration interface in order to call the <code>validateConfiguration()</code> method to have the InputLink set up before calling the <code>process()</code> method. But I don't know how to &quot;simulate&quot; a Configuration object with my data.</p>\n<p>I have considered use a mock of my Configuration or of my InputLink objects but I don't know how to do that either.</p>\n<p><strong>It's time to show you some code:</strong></p>\n<p>First, the class that extends <code>com.ibm.is.cc.javastage.api.Processor</code> class:</p>\n<pre><code>public class DownloadExportOutputDatastage extends Processor {\n    @Override\n    public boolean validateConfiguration(Configuration configuration, boolean b) throws Exception \n    {\n        this.m_inputLink = configuration.getInputLink(0);\n        this.m_outputLink = configuration.getOutputLink(0);\n\n        return true;\n    }\n\n    @Override\n    public Capabilities getCapabilities() {\n        Capabilities capabilities = new Capabilities();\n        // ...\n        return capabilities;\n    }\n\n    @Override\n    public void process() throws Exception {\n        InputRecord inputRecord;\n        while ((inputRecord = this.m_inputLink.readRecord()) != null) { // How to use a custom inputLink with my data in it\n            DownloadExportOutput objDownloadExportOutput = new DownloadExportOutput();\n            objDownloadExportOutput.setRequestId((String) inputRecord.getValue(&quot;idrequest&quot;)); // The only value that I need in my Record\n\n            // My custom process here\n\n            OutputRecord outputRecord = this.m_outputLink.getOutputRecord();\n            outputRecord.setValue(&quot;body&quot;, soapContent);\n            this.m_outputLink.writeRecord(outputRecord);\n        }\n    }\n}\n</code></pre>\n<p>Finally, what I have tried:</p>\n<pre><code>public class main {\n\n    public static void main(String[] args) throws Exception {\n        StandaloneConfiguration standaloneConfiguration = new StandaloneConfiguration(); // A custom implementation of the DataStage Configuration interface\n        DownloadExportOutputDatastage sample = new DownloadExportOutputDatastage(); // The class that you can see above\n        sample.validateConfiguration(standaloneConfiguration, true); // I try to load an InputLink but don't know what to put in it\n        sample.getCapabilities();\n        sample.process(); // Get a NPE because of my empty InputLink\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","drools","hashset"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1658849787,"post_id":73124102,"comment_id":129151796,"body_markdown":"Do not use HashMap in rules. It&#39;s extremely non-performant. A Hashmap serializes to more than 20x times its original size.","body":"Do not use HashMap in rules. It&#39;s extremely non-performant. A Hashmap serializes to more than 20x times its original size."},{"owner":{"account_id":15731644,"reputation":13,"user_id":11351828,"display_name":"Aleridia"},"score":0,"creation_date":1659939854,"post_id":73124102,"comment_id":129404975,"body_markdown":"Thanks for this tips I didn&#39;t knew it. I will try to bypass my problem by not using the Hashmap, but not sure it will works.","body":"Thanks for this tips I didn&#39;t knew it. I will try to bypass my problem by not using the Hashmap, but not sure it will works."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1659972309,"post_id":73124102,"comment_id":129416406,"body_markdown":"My company learned the hard way that HashMaps were the root of a lot of our problems.  Especially once you get into nested maps, though, it&#39;s always a good practice to consider refactoring to a simple data-carrier POJO or Record (if using newer Java).","body":"My company learned the hard way that HashMaps were the root of a lot of our problems.  Especially once you get into nested maps, though, it&#39;s always a good practice to consider refactoring to a simple data-carrier POJO or Record (if using newer Java)."},{"owner":{"account_id":15731644,"reputation":13,"user_id":11351828,"display_name":"Aleridia"},"score":0,"creation_date":1660024771,"post_id":73124102,"comment_id":129428288,"body_markdown":"I found a solution : I created a Java class with my HashMap and then surcharge all the methods. Then I created an object of this class in Drools and called the methods.","body":"I found a solution : I created a Java class with my HashMap and then surcharge all the methods. Then I created an object of this class in Drools and called the methods."},{"owner":{"account_id":15731644,"reputation":13,"user_id":11351828,"display_name":"Aleridia"},"score":0,"creation_date":1660024936,"post_id":73124102,"comment_id":129428316,"body_markdown":"And thanks you for giving me another solution with the Record :)","body":"And thanks you for giving me another solution with the Record :)"}],"owner":{"account_id":15731644,"reputation":13,"user_id":11351828,"display_name":"Aleridia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658841437,"creation_date":1658841437,"question_id":73124102,"body_markdown":"I have a problem when I want to make a complex data structure in Drools.\r\n\r\nI have this data structure : ```HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt;``` and I want to use it in Drools (in my .drl file).\r\n\r\nWhen I tried in a simple java file it works perfectly with the code below.\r\n``` \r\n    HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt; tmp = new HashMap&lt;&gt;();\r\n    tmp.put(1,\r\n        new HashMap&lt;&gt;(Map.ofEntries(\r\n            Map.entry(&quot;A&quot;,\r\n                new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,\r\n                    27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40))),\r\n            Map.entry(&quot;B&quot;,\r\n                new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,\r\n                    27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56,\r\n                    57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70))))));\r\n    System.out.println(tmp);\r\n```\r\nBut the following code in Drools wont work :\r\n```\r\ndeclare type testMap\r\n\tdata : HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt;\r\nend\r\n\r\nrule &quot;Init&quot;\r\n\tsalience(100)\r\n\twhen\r\n\t\tnot (exists (inrMap()))\r\n\tthen\r\n\t\tHashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt; tmpMap = new HashMap&lt;&gt;();\r\n\t\ttmpMap.put(1, new HashMap&lt;&gt;(Map.ofEntries(entry(&quot;A&quot;, new HashSet&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70))),entry(&quot;B&quot;, new HashSet&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40))))));\r\n\t\tinsert(new testMap(tmpMap));\r\nend\r\n```\r\nI&#39;m getting this error : ```Cannot resolve type &#39;HashMap&lt;Integer,HashMap&lt;String,HashSet&lt;Integer&gt;&gt;&gt; for field chunks in declared type testMap```\r\n\r\nThe problem is the data structure, because \r\n* When I&#39;m trying to declare the structure in a rule only to test if it works I get this error ```Rule Compilation error : [Rule name=&#39;Init&#39;] org.drools.compiler.kie.builder.impl.CompilationProblemAdapter@441a1f8f```\r\n* I have other complex structure like ```HashMap&lt;HashSet&lt;Integer&gt;, HashSet&lt;Integer&gt;&gt;``` which are working.\r\n\r\nDo you have any clue why it&#39;s not working ?\r\n\r\nI&#39;ve read the documentation too but didn&#39;t see anything.\r\n\r\nI&#39;m using Java 11 and Drools 7.59.0.FINAL.\r\n\r\nThanks","title":"Drools wont take complex data structure","body":"<p>I have a problem when I want to make a complex data structure in Drools.</p>\n<p>I have this data structure : <code>HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt;</code> and I want to use it in Drools (in my .drl file).</p>\n<p>When I tried in a simple java file it works perfectly with the code below.</p>\n<pre><code>    HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt; tmp = new HashMap&lt;&gt;();\n    tmp.put(1,\n        new HashMap&lt;&gt;(Map.ofEntries(\n            Map.entry(&quot;A&quot;,\n                new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,\n                    27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40))),\n            Map.entry(&quot;B&quot;,\n                new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,\n                    27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56,\n                    57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70))))));\n    System.out.println(tmp);\n</code></pre>\n<p>But the following code in Drools wont work :</p>\n<pre><code>declare type testMap\n    data : HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt;\nend\n\nrule &quot;Init&quot;\n    salience(100)\n    when\n        not (exists (inrMap()))\n    then\n        HashMap&lt;Integer, HashMap&lt;String, HashSet&lt;Integer&gt;&gt;&gt; tmpMap = new HashMap&lt;&gt;();\n        tmpMap.put(1, new HashMap&lt;&gt;(Map.ofEntries(entry(&quot;A&quot;, new HashSet&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70))),entry(&quot;B&quot;, new HashSet&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40))))));\n        insert(new testMap(tmpMap));\nend\n</code></pre>\n<p>I'm getting this error : <code>Cannot resolve type 'HashMap&lt;Integer,HashMap&lt;String,HashSet&lt;Integer&gt;&gt;&gt; for field chunks in declared type testMap</code></p>\n<p>The problem is the data structure, because</p>\n<ul>\n<li>When I'm trying to declare the structure in a rule only to test if it works I get this error <code>Rule Compilation error : [Rule name='Init'] org.drools.compiler.kie.builder.impl.CompilationProblemAdapter@441a1f8f</code></li>\n<li>I have other complex structure like <code>HashMap&lt;HashSet&lt;Integer&gt;, HashSet&lt;Integer&gt;&gt;</code> which are working.</li>\n</ul>\n<p>Do you have any clue why it's not working ?</p>\n<p>I've read the documentation too but didn't see anything.</p>\n<p>I'm using Java 11 and Drools 7.59.0.FINAL.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","xml","android-intent","android-alertdialog"],"comments":[{"owner":{"account_id":15537850,"reputation":95,"user_id":11209575,"display_name":"Farhan Muhammad"},"score":0,"creation_date":1658841256,"post_id":73123756,"comment_id":129147921,"body_markdown":"I think, you have to set the builder.setView(R.layout.new_game_dialog); after defining all views (below this line -&gt; enterLocation = myView.findViewById(R.id.etLocation);)","body":"I think, you have to set the builder.setView(R.layout.new_game_dialog); after defining all views (below this line -&gt; enterLocation = myView.findViewById(R.id.etLocation);)"}],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658841372,"creation_date":1658841372,"answer_id":73124086,"question_id":73123756,"body_markdown":"I believe you are having this problem because you are actually inflating 2 views. And referencing the wrong one when you use `findById`.\r\n\r\n                LayoutInflater inflater= getLayoutInflater();\r\n                builder.setView(R.layout.new_game_dialog);\r\n                final View myView= inflater.inflate(R.layout.new_game_dialog, null);\r\n\r\nshould look like this\r\n\r\n                LayoutInflater inflater= getLayoutInflater();\r\n                final View myView= inflater.inflate(R.layout.new_game_dialog, null);\r\n                builder.setView(myView);\r\n                ","title":"Sending Data from Alert Dialog to New Activity","body":"<p>I believe you are having this problem because you are actually inflating 2 views. And referencing the wrong one when you use <code>findById</code>.</p>\n<pre><code>            LayoutInflater inflater= getLayoutInflater();\n            builder.setView(R.layout.new_game_dialog);\n            final View myView= inflater.inflate(R.layout.new_game_dialog, null);\n</code></pre>\n<p>should look like this</p>\n<pre><code>            LayoutInflater inflater= getLayoutInflater();\n            final View myView= inflater.inflate(R.layout.new_game_dialog, null);\n            builder.setView(myView);\n            \n</code></pre>\n"}],"owner":{"account_id":25898960,"reputation":1,"user_id":19625165,"display_name":"ct338"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73124086,"answer_count":1,"score":-1,"last_activity_date":1658841372,"creation_date":1658840165,"question_id":73123756,"body_markdown":"I am new to Android development and I am trying to send data via EditText to TextView from an alert dialog inflated in the MainActivity to a different activity (NewGame.java). I have tried intent.putExtra (see below) however I am getting null pointer exceptions as it seems I cannot access the views from the dialog layout xml file.\r\n\r\nI know there are a few other ways to create an alert dialog so perhaps this way is not best for what i am trying to achieve?\r\n\r\n**MainActivity.java** \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button newGame, prevGames, newSquad, savedSquads;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        newGame = findViewById(R.id.buttonNewGame);\r\n        newGame.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n                LayoutInflater inflater= getLayoutInflater();\r\n                builder.setView(R.layout.new_game_dialog);\r\n                final View myView= inflater.inflate(R.layout.new_game_dialog, null);\r\n\r\n                EditText enterTeam1, enterTeam2, enterDate, enterTime, enterLocation;\r\n                enterTeam1 = myView.findViewById(R.id.etTeam1);\r\n                enterTeam2 = myView.findViewById(R.id.etTeam2);\r\n                enterDate = myView.findViewById(R.id.etDate);\r\n                enterTime = myView.findViewById(R.id.etTime);\r\n                enterLocation = myView.findViewById(R.id.etLocation);\r\n\r\n                builder.setTitle(&quot;New Game&quot;)\r\n                        .setCancelable(true)\r\n                        .setPositiveButton(&quot;Start&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                Intent intent = new Intent(MainActivity.this, NewGame.class);\r\n                                intent.putExtra(&quot;TEAM1&quot;, enterTeam1.getText().toString());\r\n                                intent.putExtra(&quot;TEAM2&quot;, enterTeam2.getText().toString());\r\n                                intent.putExtra(&quot;DATE&quot;, enterDate.getText().toString());\r\n                                intent.putExtra(&quot;TIME&quot;, enterTime.getText().toString());\r\n                                intent.putExtra(&quot;LOCATION&quot;, enterLocation.getText().toString());\r\n                                startActivity(intent);\r\n                            }\r\n                        })\r\n                        .setNegativeButton(&quot;Cancel&quot;, null);\r\n\r\n                builder.create();\r\n                builder.show();\r\n            }\r\n        });\r\n```\r\n**NewGame.java**\r\n ```\r\npublic class NewGame extends AppCompatActivity {\r\n\r\n    TextView team1, team2, date, time, location;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_game);\r\n\r\n        team1 = findViewById(R.id.tvTeam1);\r\n        team2 = findViewById(R.id.tvTeam2);\r\n        date = findViewById(R.id.tvDate);\r\n        time = findViewById(R.id.tvTime);\r\n        location = findViewById(R.id.tvLocation);\r\n\r\n        team1.setText(getIntent().getStringExtra(&quot;TEAM1&quot;));\r\n        team2.setText(getIntent().getStringExtra(&quot;TEAM2&quot;));\r\n        date.setText(getIntent().getStringExtra(&quot;DATE&quot;));\r\n        time.setText(getIntent().getStringExtra(&quot;TIME&quot;));\r\n        location.setText(getIntent().getStringExtra(&quot;LOCATION&quot;));\r\n\r\n    }\r\n}\r\n\r\n ```\r\n**dialog.xml**\r\n ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;20dp&quot;\r\n    android:paddingRight=&quot;20dp&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvNewGame&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;New Game&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etTeam1&quot;\r\n        android:layout_width=&quot;211dp&quot;\r\n        android:layout_height=&quot;53dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Team 1&quot;\r\n        android:inputType=&quot;textPersonName&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etTeam2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Team 2&quot;\r\n        android:inputType=&quot;textPersonName&quot;/&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etDate&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Date&quot;\r\n        android:inputType=&quot;date&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Time&quot;\r\n        android:inputType=&quot;textPersonName&quot; /&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etLocation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Location&quot;\r\n        android:inputType=&quot;textPersonName&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n ```\r\n**activity_new_game.xml**\r\n ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.NewGame&quot;&gt;\r\n\r\n &lt;TextView\r\n        android:id=&quot;@+id/tvTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:text=&quot;time&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvNewGame&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;New Game&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.085&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvTeam1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:text=&quot;team1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.192&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Sending Data from Alert Dialog to New Activity","body":"<p>I am new to Android development and I am trying to send data via EditText to TextView from an alert dialog inflated in the MainActivity to a different activity (NewGame.java). I have tried intent.putExtra (see below) however I am getting null pointer exceptions as it seems I cannot access the views from the dialog layout xml file.</p>\n<p>I know there are a few other ways to create an alert dialog so perhaps this way is not best for what i am trying to achieve?</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button newGame, prevGames, newSquad, savedSquads;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        newGame = findViewById(R.id.buttonNewGame);\n        newGame.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n                LayoutInflater inflater= getLayoutInflater();\n                builder.setView(R.layout.new_game_dialog);\n                final View myView= inflater.inflate(R.layout.new_game_dialog, null);\n\n                EditText enterTeam1, enterTeam2, enterDate, enterTime, enterLocation;\n                enterTeam1 = myView.findViewById(R.id.etTeam1);\n                enterTeam2 = myView.findViewById(R.id.etTeam2);\n                enterDate = myView.findViewById(R.id.etDate);\n                enterTime = myView.findViewById(R.id.etTime);\n                enterLocation = myView.findViewById(R.id.etLocation);\n\n                builder.setTitle(&quot;New Game&quot;)\n                        .setCancelable(true)\n                        .setPositiveButton(&quot;Start&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                Intent intent = new Intent(MainActivity.this, NewGame.class);\n                                intent.putExtra(&quot;TEAM1&quot;, enterTeam1.getText().toString());\n                                intent.putExtra(&quot;TEAM2&quot;, enterTeam2.getText().toString());\n                                intent.putExtra(&quot;DATE&quot;, enterDate.getText().toString());\n                                intent.putExtra(&quot;TIME&quot;, enterTime.getText().toString());\n                                intent.putExtra(&quot;LOCATION&quot;, enterLocation.getText().toString());\n                                startActivity(intent);\n                            }\n                        })\n                        .setNegativeButton(&quot;Cancel&quot;, null);\n\n                builder.create();\n                builder.show();\n            }\n        });\n</code></pre>\n<p><strong>NewGame.java</strong></p>\n<pre><code>public class NewGame extends AppCompatActivity {\n\n   TextView team1, team2, date, time, location;\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_new_game);\n\n       team1 = findViewById(R.id.tvTeam1);\n       team2 = findViewById(R.id.tvTeam2);\n       date = findViewById(R.id.tvDate);\n       time = findViewById(R.id.tvTime);\n       location = findViewById(R.id.tvLocation);\n\n       team1.setText(getIntent().getStringExtra(&quot;TEAM1&quot;));\n       team2.setText(getIntent().getStringExtra(&quot;TEAM2&quot;));\n       date.setText(getIntent().getStringExtra(&quot;DATE&quot;));\n       time.setText(getIntent().getStringExtra(&quot;TIME&quot;));\n       location.setText(getIntent().getStringExtra(&quot;LOCATION&quot;));\n\n   }\n}\n\n</code></pre>\n<p><strong>dialog.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:orientation=&quot;vertical&quot;\n   android:paddingLeft=&quot;20dp&quot;\n   android:paddingRight=&quot;20dp&quot;\n   android:layout_width=&quot;wrap_content&quot;\n   android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n   &lt;TextView\n       android:id=&quot;@+id/tvNewGame&quot;\n       android:textAlignment=&quot;center&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:text=&quot;New Game&quot;\n       android:textColor=&quot;@color/black&quot;\n       android:textSize=&quot;30dp&quot; /&gt;\n\n   &lt;EditText\n       android:id=&quot;@+id/etTeam1&quot;\n       android:layout_width=&quot;211dp&quot;\n       android:layout_height=&quot;53dp&quot;\n       android:ems=&quot;10&quot;\n       android:hint=&quot;Team 1&quot;\n       android:inputType=&quot;textPersonName&quot; /&gt;\n\n   &lt;EditText\n       android:id=&quot;@+id/etTeam2&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:ems=&quot;10&quot;\n       android:hint=&quot;Team 2&quot;\n       android:inputType=&quot;textPersonName&quot;/&gt;\n\n\n   &lt;EditText\n       android:id=&quot;@+id/etDate&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:ems=&quot;10&quot;\n       android:hint=&quot;Date&quot;\n       android:inputType=&quot;date&quot; /&gt;\n\n   &lt;EditText\n       android:id=&quot;@+id/etTime&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:ems=&quot;10&quot;\n       android:hint=&quot;Time&quot;\n       android:inputType=&quot;textPersonName&quot; /&gt;\n\n\n   &lt;EditText\n       android:id=&quot;@+id/etLocation&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:ems=&quot;10&quot;\n       android:hint=&quot;Location&quot;\n       android:inputType=&quot;textPersonName&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>activity_new_game.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;match_parent&quot;\n   tools:context=&quot;.NewGame&quot;&gt;\n\n&lt;TextView\n       android:id=&quot;@+id/tvTime&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:ems=&quot;10&quot;\n       android:text=&quot;time&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n       app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n   &lt;TextView\n       android:id=&quot;@+id/tvNewGame&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:text=&quot;New Game&quot;\n       android:textColor=&quot;@color/black&quot;\n       android:textSize=&quot;30dp&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\n       app:layout_constraintVertical_bias=&quot;0.085&quot; /&gt;\n\n   &lt;TextView\n       android:id=&quot;@+id/tvTeam1&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:ems=&quot;10&quot;\n       android:text=&quot;team1&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n       app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\n       app:layout_constraintVertical_bias=&quot;0.192&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android","api"],"answers":[{"tags":[],"owner":{"account_id":2634106,"reputation":49,"user_id":4791128,"accept_rate":80,"display_name":"Austris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658841361,"creation_date":1658841361,"answer_id":73124082,"question_id":73115745,"body_markdown":"This is how it can be solved\r\n\r\n```java\r\nint simSlot = 0\r\n\r\nSubscriptionManager subscriptionManager = this.getSystemService(TELEPHONY_SUBSCRIPTION_SERVICE);\r\nSubscriptionInfo subscriptionInformation = sm.getActiveSubscriptionInfoForSimSlotIndex(simSlot);\r\nsubscriptionInformation.getSubscriptionId();\r\n```","title":"Can&#39;t properly initialize Subscription ID API","body":"<p>This is how it can be solved</p>\n<pre class=\"lang-java prettyprint-override\"><code>int simSlot = 0\n\nSubscriptionManager subscriptionManager = this.getSystemService(TELEPHONY_SUBSCRIPTION_SERVICE);\nSubscriptionInfo subscriptionInformation = sm.getActiveSubscriptionInfoForSimSlotIndex(simSlot);\nsubscriptionInformation.getSubscriptionId();\n</code></pre>\n"}],"owner":{"account_id":2634106,"reputation":49,"user_id":4791128,"accept_rate":80,"display_name":"Austris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658841361,"creation_date":1658786225,"question_id":73115745,"body_markdown":"Trying to get unique identifier of SIM card as described [here][1]. So I am trying to get this value on a phone with one sim, my code looks like this:\r\n\r\n```java\r\n\r\npackage com.example.app;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.telephony.SubscriptionInfo;\r\nimport android.util.Log;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    SubscriptionInfo subscriptionInfo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //checking for permissions\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_SMS) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_NUMBERS) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                    Manifest.permission.READ_PHONE_STATE, Manifest.permission.READ_PHONE_NUMBERS, Manifest.permission.READ_SMS\r\n            }, 121);\r\n        } else {\r\n            int id = this.subscriptionInfo.getSubscriptionId();\r\n            Log.e(&quot;Get_subscription_ID&quot;, Integer.toString(id));\r\n        }\r\n        \r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode==121 &amp;&amp; resultCode == RESULT_OK){\r\n            //permision granted\r\n            startActivity(new Intent(MainActivity.this, MainActivity.class));\r\n            int id = this.subscriptionInfo.getSubscriptionId();\r\n            Log.e(&quot;Get_subscription_ID&quot;, Integer.toString(id));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have added also these lines to manifest\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_NUMBERS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n```\r\n\r\nHowever, when I run this app and allow all of the permissions I get an error:\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.telephony.SubscriptionInfo.getSubscriptionId()&#39; on a null object reference\r\n``` \r\n\r\nAs far as I understand I am calling `getSubscriptionId()` on the null object. Then I have tried to add `subscriptionInfo = new SubscriptionInfo();` to initialize object but then I get the error:\r\n```\r\n&#39;SubscriptionInfo()&#39; is not public in &#39;android.telephony.SubscriptionInfo&#39;. Cannot be accessed from outside package\r\n```\r\nBut when I check documentation I can see that this class is public ([link][2])\r\n\r\nWhat I am doing wrong here? I think I am missing something important\r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/user-data-ids#mobile-service-subscriptions\r\n  [2]: https://developer.android.com/reference/android/telephony/SubscriptionInfo#getSubscriptionId()","title":"Can&#39;t properly initialize Subscription ID API","body":"<p>Trying to get unique identifier of SIM card as described <a href=\"https://developer.android.com/training/articles/user-data-ids#mobile-service-subscriptions\" rel=\"nofollow noreferrer\">here</a>. So I am trying to get this value on a phone with one sim, my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.app;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.telephony.SubscriptionInfo;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity {\n\n    SubscriptionInfo subscriptionInfo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //checking for permissions\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_SMS) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_NUMBERS) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                    Manifest.permission.READ_PHONE_STATE, Manifest.permission.READ_PHONE_NUMBERS, Manifest.permission.READ_SMS\n            }, 121);\n        } else {\n            int id = this.subscriptionInfo.getSubscriptionId();\n            Log.e(&quot;Get_subscription_ID&quot;, Integer.toString(id));\n        }\n        \n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode==121 &amp;&amp; resultCode == RESULT_OK){\n            //permision granted\n            startActivity(new Intent(MainActivity.this, MainActivity.class));\n            int id = this.subscriptionInfo.getSubscriptionId();\n            Log.e(&quot;Get_subscription_ID&quot;, Integer.toString(id));\n        }\n    }\n}\n\n</code></pre>\n<p>I have added also these lines to manifest</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_NUMBERS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>However, when I run this app and allow all of the permissions I get an error:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.telephony.SubscriptionInfo.getSubscriptionId()' on a null object reference\n</code></pre>\n<p>As far as I understand I am calling <code>getSubscriptionId()</code> on the null object. Then I have tried to add <code>subscriptionInfo = new SubscriptionInfo();</code> to initialize object but then I get the error:</p>\n<pre><code>'SubscriptionInfo()' is not public in 'android.telephony.SubscriptionInfo'. Cannot be accessed from outside package\n</code></pre>\n<p>But when I check documentation I can see that this class is public (<a href=\"https://developer.android.com/reference/android/telephony/SubscriptionInfo#getSubscriptionId()\" rel=\"nofollow noreferrer\">link</a>)</p>\n<p>What I am doing wrong here? I think I am missing something important</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1658838960,"post_id":73123385,"comment_id":129147030,"body_markdown":"What is your logical reason for returning true as soon as you reach a `&#39;-&#39;`, `&#39; &#39;`? You can&#39;t just treat every String as an isogram as soon as you find one of those characters. And what do you intend to do with the line `else if (ch == &#39;_&#39; &amp; ch == &#39; &#39;  ....`. how can a character be `&#39;_&#39;` and  `&#39; &#39;` at the same time?","body":"What is your logical reason for returning true as soon as you reach a <code>&#39;-&#39;</code>, <code>&#39; &#39;</code>? You can&#39;t just treat every String as an isogram as soon as you find one of those characters. And what do you intend to do with the line <code>else if (ch == &#39;_&#39; &amp; ch == &#39; &#39;  ....</code>. how can a character be <code>&#39;_&#39;</code> and  <code>&#39; &#39;</code> at the same time?"}],"answers":[{"tags":[],"owner":{"account_id":15985067,"reputation":368,"user_id":11535786,"display_name":"Ren&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658839833,"creation_date":1658839833,"answer_id":73123679,"question_id":73123385,"body_markdown":"I tried your example and my code passes the test:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass IsogramChecker {\r\n    boolean isIsogram(String phrase) {\r\n        if (phrase == null) return false;\r\n\r\n        phrase = phrase.toLowerCase();\r\n        // Key is the character, value is equivalent to the amount of occurenses\r\n        // E.g.: Otto -&gt; {&quot;o&quot;: 2, &quot;t&quot;: 2}\r\n        HashMap&lt;Character, Integer&gt; counter = new HashMap&lt;&gt;();\r\n        \r\n        // Count the occurences of all characters\r\n        for (char c : phrase.toCharArray()) {\r\n            if (counter.containsKey(c)) {\r\n                counter.put(c, counter.get(c) + 1);\r\n            } else {\r\n                counter.put(c, 1);\r\n            }\r\n        }\r\n        \r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(counter.values());\r\n        \r\n        // Check if all characters occur the same amount of time\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (i != list.size() - 1 &amp;&amp; list.get(i) != list.get(i + 1)) {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        return true;        \r\n    }\r\n}\r\n```","title":"checking to see if a phrase without underscores is an isogram in java","body":"<p>I tried your example and my code passes the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass IsogramChecker {\n    boolean isIsogram(String phrase) {\n        if (phrase == null) return false;\n\n        phrase = phrase.toLowerCase();\n        // Key is the character, value is equivalent to the amount of occurenses\n        // E.g.: Otto -&gt; {&quot;o&quot;: 2, &quot;t&quot;: 2}\n        HashMap&lt;Character, Integer&gt; counter = new HashMap&lt;&gt;();\n        \n        // Count the occurences of all characters\n        for (char c : phrase.toCharArray()) {\n            if (counter.containsKey(c)) {\n                counter.put(c, counter.get(c) + 1);\n            } else {\n                counter.put(c, 1);\n            }\n        }\n        \n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(counter.values());\n        \n        // Check if all characters occur the same amount of time\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (i != list.size() - 1 &amp;&amp; list.get(i) != list.get(i + 1)) {\n                return false;\n            }\n        }\n        \n        return true;        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658841315,"creation_date":1658841315,"answer_id":73124064,"question_id":73123385,"body_markdown":"**isogram** = every char occurs only once (with the exception of the irrelevant space, hyphen and underscore).\r\n\r\nThe problem is that you return true on the first irrelevant char in the _for_ loop.\r\n\r\nSome minor things:\r\n\r\n- In java the type is kept together, without the variable in the middle.\r\n  For backward C/C++ compatibility you may write `char x[10];` but you will always encounter only `char[] x;`.\r\n- `&amp;` must be `&amp;&amp;` and was a bit misplaced there.\r\n- The pattern `CASE_A &amp;&amp; CASE_B &amp;&amp; CASE_C` is always wrong: at least one of the cases is false, hence the entire expression is false. A negation for every case is missing.\r\n\r\nSo\r\n\r\n    boolean isIsogram(String phrase) {\r\n        if (phrase == null)\r\n            return false;\r\n        phrase = phrase.toLowerCase();\r\n        char[] phraseArray = phrase.toCharArray();\r\n        for (char ch:phraseArray) {\r\n            if (ch != &#39;_&#39; &amp;&amp; ch != &#39; &#39; &amp;&amp; ch != &#39;-&#39;) {\r\n                if (phrase.indexOf(ch) != phrase.lastIndexOf(ch)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nAnd your Stream version:\r\n\r\n        phrase = phrase.replaceAll(&quot;[-_ ]&quot;, &quot;&quot;);\r\n        return phrase.length() == phrase.toLowerCase().chars().distinct().count();\r\n\r\nFor Chinese and such you might want to use `codePoints` instead of `chars`:\r\n\r\n        return phrase.toLowerCase().codePoints().count()\r\n            == phrase.toLowerCase().codePoints().distinct().count();\r\n\r\nAnd there are languages where the (defaulted) Locale gives other character lengths. In German the uppercase of `&#223;` is `SS`.","title":"checking to see if a phrase without underscores is an isogram in java","body":"<p><strong>isogram</strong> = every char occurs only once (with the exception of the irrelevant space, hyphen and underscore).</p>\n<p>The problem is that you return true on the first irrelevant char in the <em>for</em> loop.</p>\n<p>Some minor things:</p>\n<ul>\n<li>In java the type is kept together, without the variable in the middle.\nFor backward C/C++ compatibility you may write <code>char x[10];</code> but you will always encounter only <code>char[] x;</code>.</li>\n<li><code>&amp;</code> must be <code>&amp;&amp;</code> and was a bit misplaced there.</li>\n<li>The pattern <code>CASE_A &amp;&amp; CASE_B &amp;&amp; CASE_C</code> is always wrong: at least one of the cases is false, hence the entire expression is false. A negation for every case is missing.</li>\n</ul>\n<p>So</p>\n<pre><code>boolean isIsogram(String phrase) {\n    if (phrase == null)\n        return false;\n    phrase = phrase.toLowerCase();\n    char[] phraseArray = phrase.toCharArray();\n    for (char ch:phraseArray) {\n        if (ch != '_' &amp;&amp; ch != ' ' &amp;&amp; ch != '-') {\n            if (phrase.indexOf(ch) != phrase.lastIndexOf(ch)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>And your Stream version:</p>\n<pre><code>    phrase = phrase.replaceAll(&quot;[-_ ]&quot;, &quot;&quot;);\n    return phrase.length() == phrase.toLowerCase().chars().distinct().count();\n</code></pre>\n<p>For Chinese and such you might want to use <code>codePoints</code> instead of <code>chars</code>:</p>\n<pre><code>    return phrase.toLowerCase().codePoints().count()\n        == phrase.toLowerCase().codePoints().distinct().count();\n</code></pre>\n<p>And there are languages where the (defaulted) Locale gives other character lengths. In German the uppercase of <code>ß</code> is <code>SS</code>.</p>\n"}],"owner":{"account_id":22610163,"reputation":23,"user_id":16790478,"display_name":"user16790478"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658841315,"creation_date":1658838428,"question_id":73123385,"body_markdown":"    class IsogramChecker {\r\n    \r\n        boolean isIsogram(String phrase) {\r\n            if (phrase == null)\r\n                return false;\r\n            phrase = phrase.toLowerCase();\r\n            char phraseArray [] = phrase.toCharArray();\r\n            for (char ch:phraseArray)\r\n                if (ch == &#39;-&#39;)\r\n                    return true;\r\n                else if (ch == &#39; &#39;)\r\n                    return true;\r\n                else if (ch == &#39;_&#39; &amp; ch == &#39; &#39; || ch == &#39;-&#39;)\r\n                    return true;\r\n                else if (phrase.indexOf(ch) != phrase.lastIndexOf(ch))\r\n                    return false;\r\n            return true;\r\n            // return phrase.length() == phrase.toLowerCase().chars().distinct().count();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis code arrangement passed all every test cases with the exception of \r\n\r\n    testIsogramWithDuplicatedCharAfterHyphen() {\r\n        assertThat(isogramChecker.isIsogram(&quot;thumbscrew-jappingly&quot;)).isFalse();\r\n    }\r\n\r\nCan someone help explain this?","title":"checking to see if a phrase without underscores is an isogram in java","body":"<pre><code>class IsogramChecker {\n\n    boolean isIsogram(String phrase) {\n        if (phrase == null)\n            return false;\n        phrase = phrase.toLowerCase();\n        char phraseArray [] = phrase.toCharArray();\n        for (char ch:phraseArray)\n            if (ch == '-')\n                return true;\n            else if (ch == ' ')\n                return true;\n            else if (ch == '_' &amp; ch == ' ' || ch == '-')\n                return true;\n            else if (phrase.indexOf(ch) != phrase.lastIndexOf(ch))\n                return false;\n        return true;\n        // return phrase.length() == phrase.toLowerCase().chars().distinct().count();\n    }\n\n}\n</code></pre>\n<p>This code arrangement passed all every test cases with the exception of</p>\n<pre><code>testIsogramWithDuplicatedCharAfterHyphen() {\n    assertThat(isogramChecker.isIsogram(&quot;thumbscrew-jappingly&quot;)).isFalse();\n}\n</code></pre>\n<p>Can someone help explain this?</p>\n"},{"tags":["java","oracle12c","jndi","liferay-service-builder","liferay-7.2"],"answers":[{"tags":[],"owner":{"account_id":2396098,"reputation":602,"user_id":2094860,"accept_rate":40,"display_name":"Joy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607845757,"creation_date":1607845757,"answer_id":65273468,"question_id":65273467,"body_markdown":"Here is a simple way I have identified and using:\r\n\r\n**Step (1)**: Define/Map Entities into service.xml based on existing external databases. If tables are not present create all tables and fields manually because Liferay Service builder will not generate SQL code to automatically create tables in external database. If you want to use namespace, map manually below entities and define the same in database as well.\r\n\r\n**Service.xml**\r\n\r\n    &lt;entity local-service=&quot;true&quot; name=&quot;Employee&quot; table=&quot;employee&quot; data-source=&quot;extDataSource&quot; remote-service=&quot;false&quot; uuid=&quot;false&quot;&gt;\r\n    \t\t&lt;column name=&quot;employeeId&quot; db-name=&quot;employeeid&quot; primary=&quot;true&quot; type=&quot;long&quot; /&gt;\r\n    \t\t&lt;column name=&quot;groupId&quot; db-name=&quot;groupid&quot; type=&quot;long&quot; /&gt;\r\n    \t\t&lt;column name=&quot;userName&quot; db-name=&quot;username&quot; type=&quot;String&quot; /&gt;\r\n    \t&lt;/entity&gt;\r\n    &lt;/service-builder&gt;\r\n\r\n**Step (2)**: Put following in LIFERAY-HOME\\tomcat-9.0.17\\conf\\server.xml under \r\n**&lt;GlobalNamingResources&gt;**\r\n\r\n  \r\n\r\n    &lt;Resource\r\n        name=&quot;jdbc/myDataSource&quot;\r\n        auth=&quot;Container&quot;\r\n        type=&quot;javax.sql.DataSource&quot;\r\n        factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n        driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;\r\n        url=&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;\r\n        username=&quot;USERNAME&quot;\r\n        password=&quot;PASSWORD&quot;\r\n        maxActive=&quot;20&quot;\r\n        maxIdle=&quot;5&quot;\r\n        maxWait=&quot;10000&quot;\r\n    /&gt;\r\n\r\n**Step (3)**: Put following in LIFERAY-HOME\\tomcat-9.0.17\\conf\\context.xml under **Context**\r\n\r\n    &lt;ResourceLink name=&quot;jdbc/myDataSource&quot; global=&quot;jdbc/myDataSource&quot; type=&quot;javax.sql.DataSource&quot;/&gt;\r\n\r\n**Step (4)**: To connect with Oracle or any proprietary database following 2 JARs are needed:\r\n\r\n - **Oracle Driver**: get the driver and put under liferay-ce-portal-7.2.1-ga2\\tomcat-9.0.17\\lib\\ext\r\n - **External DB Support Library**: Download the latest \r\n\r\n&gt; Liferay Portal Database All In One Support JAR\r\n\r\nfrom Maven repository\r\n\r\nhttps://mvnrepository.com/artifact/it.dontesta.labs.liferay.portal.db/liferay-portal-database-all-in-one-support/1.2.1  \r\n\r\nDownload the JAR **liferay-portal-database-all-in-one-support-1.2.1.jar** and put under\r\nLIFERAY-HOME\\tomcat-9.0.17\\webapps\\ROOT\\WEB-INF\\lib \r\n\r\n**Step (5)**: Define followings into **portal-ext.properties**\r\n\r\n    jdbc.mydb.jndi.name=jdbc/myDataSource\r\n\r\n**Step (6)**: Create a DataSourceProviderImpl class under ***-service**:\r\n \r\n\r\n    package com.demo4.external.data.source.spi;\r\n    \r\n    import javax.naming.InitialContext;\r\n    import javax.sql.DataSource;\r\n    \r\n    import com.liferay.portal.kernel.dao.jdbc.DataSourceFactoryUtil;\r\n    import com.liferay.portal.kernel.dao.jdbc.DataSourceProvider;\r\n    import com.liferay.portal.kernel.util.PropsUtil;\r\n    \r\n    public class DataSourceProviderImpl implements DataSourceProvider {\r\n    \r\n    @Override\r\n    public DataSource getDataSource() {\r\n    \r\n    DataSource dataSource = null;\r\n    \r\n    try {\r\n    \t\t\t\r\n    dataSource = DataSourceFactoryUtil.initDataSource(PropsUtil.getProperties(&quot;jdbc.mydb.&quot;, true));\r\n    \r\n    \t\t\t\r\n    //  **Note:** Sometimes above line dosn&#39;t work in some environments, then follow below approach. In this case above Step(5) is not required because it&#39;s directly making lookup into server&#39;s context.\r\n    \r\n    \r\n    //\tInitialContext initialContext = new InitialContext();\r\n    //\tdataSource = (DataSource) initialContext.lookup(&quot;java:comp/env/jdbc/myDataSource&quot;);\r\n    \r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn dataSource;\r\n    \t}\r\n    }\r\n\r\n\r\n**Step (7)**: Register above implementation with **JDK SPI** (Service Provider Interface). To do this, create following folder/file under ***-service**\r\n\r\n    META-INF/services/com.liferay.portal.kernel.dao.jdbc.DataSourceProvider\r\n\r\nPut following line under this file:\r\n\r\n    com.demo4.external.data.source.spi.DataSourceProviderImpl\r\n\r\n\r\nAll done. Just build the service, do Gradle refresh and start the server. This will work perfectly.\r\n \r\nHappy Learning!\r\n","title":"How to connect Liferay 7.2 CE with Oracle database using JNDI","body":"<p>Here is a simple way I have identified and using:</p>\n<p><strong>Step (1)</strong>: Define/Map Entities into service.xml based on existing external databases. If tables are not present create all tables and fields manually because Liferay Service builder will not generate SQL code to automatically create tables in external database. If you want to use namespace, map manually below entities and define the same in database as well.</p>\n<p><strong>Service.xml</strong></p>\n<pre><code>&lt;entity local-service=&quot;true&quot; name=&quot;Employee&quot; table=&quot;employee&quot; data-source=&quot;extDataSource&quot; remote-service=&quot;false&quot; uuid=&quot;false&quot;&gt;\n        &lt;column name=&quot;employeeId&quot; db-name=&quot;employeeid&quot; primary=&quot;true&quot; type=&quot;long&quot; /&gt;\n        &lt;column name=&quot;groupId&quot; db-name=&quot;groupid&quot; type=&quot;long&quot; /&gt;\n        &lt;column name=&quot;userName&quot; db-name=&quot;username&quot; type=&quot;String&quot; /&gt;\n    &lt;/entity&gt;\n&lt;/service-builder&gt;\n</code></pre>\n<p><strong>Step (2)</strong>: Put following in LIFERAY-HOME\\tomcat-9.0.17\\conf\\server.xml under\n<strong></strong></p>\n<pre><code>&lt;Resource\n    name=&quot;jdbc/myDataSource&quot;\n    auth=&quot;Container&quot;\n    type=&quot;javax.sql.DataSource&quot;\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n    driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;\n    url=&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;\n    username=&quot;USERNAME&quot;\n    password=&quot;PASSWORD&quot;\n    maxActive=&quot;20&quot;\n    maxIdle=&quot;5&quot;\n    maxWait=&quot;10000&quot;\n/&gt;\n</code></pre>\n<p><strong>Step (3)</strong>: Put following in LIFERAY-HOME\\tomcat-9.0.17\\conf\\context.xml under <strong>Context</strong></p>\n<pre><code>&lt;ResourceLink name=&quot;jdbc/myDataSource&quot; global=&quot;jdbc/myDataSource&quot; type=&quot;javax.sql.DataSource&quot;/&gt;\n</code></pre>\n<p><strong>Step (4)</strong>: To connect with Oracle or any proprietary database following 2 JARs are needed:</p>\n<ul>\n<li><strong>Oracle Driver</strong>: get the driver and put under liferay-ce-portal-7.2.1-ga2\\tomcat-9.0.17\\lib\\ext</li>\n<li><strong>External DB Support Library</strong>: Download the latest</li>\n</ul>\n<blockquote>\n<p>Liferay Portal Database All In One Support JAR</p>\n</blockquote>\n<p>from Maven repository</p>\n<p><a href=\"https://mvnrepository.com/artifact/it.dontesta.labs.liferay.portal.db/liferay-portal-database-all-in-one-support/1.2.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/it.dontesta.labs.liferay.portal.db/liferay-portal-database-all-in-one-support/1.2.1</a></p>\n<p>Download the JAR <strong>liferay-portal-database-all-in-one-support-1.2.1.jar</strong> and put under\nLIFERAY-HOME\\tomcat-9.0.17\\webapps\\ROOT\\WEB-INF\\lib</p>\n<p><strong>Step (5)</strong>: Define followings into <strong>portal-ext.properties</strong></p>\n<pre><code>jdbc.mydb.jndi.name=jdbc/myDataSource\n</code></pre>\n<p><strong>Step (6)</strong>: Create a DataSourceProviderImpl class under *<strong>-service</strong>:</p>\n<pre><code>package com.demo4.external.data.source.spi;\n\nimport javax.naming.InitialContext;\nimport javax.sql.DataSource;\n\nimport com.liferay.portal.kernel.dao.jdbc.DataSourceFactoryUtil;\nimport com.liferay.portal.kernel.dao.jdbc.DataSourceProvider;\nimport com.liferay.portal.kernel.util.PropsUtil;\n\npublic class DataSourceProviderImpl implements DataSourceProvider {\n\n@Override\npublic DataSource getDataSource() {\n\nDataSource dataSource = null;\n\ntry {\n            \ndataSource = DataSourceFactoryUtil.initDataSource(PropsUtil.getProperties(&quot;jdbc.mydb.&quot;, true));\n\n            \n//  **Note:** Sometimes above line dosn't work in some environments, then follow below approach. In this case above Step(5) is not required because it's directly making lookup into server's context.\n\n\n//  InitialContext initialContext = new InitialContext();\n//  dataSource = (DataSource) initialContext.lookup(&quot;java:comp/env/jdbc/myDataSource&quot;);\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return dataSource;\n    }\n}\n</code></pre>\n<p><strong>Step (7)</strong>: Register above implementation with <strong>JDK SPI</strong> (Service Provider Interface). To do this, create following folder/file under *<strong>-service</strong></p>\n<pre><code>META-INF/services/com.liferay.portal.kernel.dao.jdbc.DataSourceProvider\n</code></pre>\n<p>Put following line under this file:</p>\n<pre><code>com.demo4.external.data.source.spi.DataSourceProviderImpl\n</code></pre>\n<p>All done. Just build the service, do Gradle refresh and start the server. This will work perfectly.</p>\n<p>Happy Learning!</p>\n"}],"owner":{"account_id":2396098,"reputation":602,"user_id":2094860,"accept_rate":40,"display_name":"Joy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65273468,"answer_count":1,"score":0,"last_activity_date":1658841302,"creation_date":1607845757,"question_id":65273467,"body_markdown":"If I have **Liferay 7.2 Community Edition** and want to use **Oracle 12c** as an external database for my business data then what would be the simplest and best way to connect using **JNDI**? Can I create **DataSource** in Tomcat and use JNDI lookup to connect with Liferay **Service Builder**?","title":"How to connect Liferay 7.2 CE with Oracle database using JNDI","body":"<p>If I have <strong>Liferay 7.2 Community Edition</strong> and want to use <strong>Oracle 12c</strong> as an external database for my business data then what would be the simplest and best way to connect using <strong>JNDI</strong>? Can I create <strong>DataSource</strong> in Tomcat and use JNDI lookup to connect with Liferay <strong>Service Builder</strong>?</p>\n"},{"tags":["java","annotations","quarkus","java-annotations"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1658742049,"post_id":73106652,"comment_id":129117800,"body_markdown":"You can do that with annotation processing. You&#39;ll need to create your own Paths annotation (like you did but without the for loop), then when you compile the code with annotation processing, you will get the method annotated with Paths and generate a different method with a single Path annotation for each value. It is feasible. Even though if you only have 12 and this number is not dynamically changing, you&#39;d spend less time in duplicating the methods manually and call always the same factorized method.","body":"You can do that with annotation processing. You&#39;ll need to create your own Paths annotation (like you did but without the for loop), then when you compile the code with annotation processing, you will get the method annotated with Paths and generate a different method with a single Path annotation for each value. It is feasible. Even though if you only have 12 and this number is not dynamically changing, you&#39;d spend less time in duplicating the methods manually and call always the same factorized method."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1658758676,"post_id":73106652,"comment_id":129124643,"body_markdown":"`@Path` and `@PathParam` accept regular expression (https://docs.jboss.org/resteasy/docs/6.1.0.Beta3/userguide/html_single/index.html#_Path_and_regular_expression_mappings) and may be useful","body":"<code>@Path</code> and <code>@PathParam</code> accept regular expression (<a href=\"https://docs.jboss.org/resteasy/docs/6.1.0.Beta3/userguide/html_single/index.html#_Path_and_regular_expression_mappings\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/6.1.0.Beta3/userguide/html_sin&zwnj;&#8203;gle/&hellip;</a>) and may be useful"},{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1658760016,"post_id":73106652,"comment_id":129125200,"body_markdown":"@LucaBassoRicci I am using ```@javax.ws.rs.Path``` these appear not to use regex","body":"@LucaBassoRicci I am using <code>@javax.ws.rs.Path</code> these appear not to use regex"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1658818218,"post_id":73106652,"comment_id":129138999,"body_markdown":"AFAIK Quarkus allows regex in `@Path` annotation","body":"AFAIK Quarkus allows regex in <code>@Path</code> annotation"}],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658841204,"creation_date":1658841204,"answer_id":73124033,"question_id":73106652,"body_markdown":"You want multiple `@PathParam` annotations.  You can write these directly in Java, using the [repeating annotations feature](https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html).  There is a slightly better explanation at [Baeldung](https://www.baeldung.com/java-default-annotations#5-repeatable).\r\n\r\nYou will still need to make your annotation processor cognizant of the wrapper annotation.  It is named as the argument to the `@Repeatable` meta-annotation.\r\n","title":"Is it possible to make an Annotation &quot;wrapper&quot;?","body":"<p>You want multiple <code>@PathParam</code> annotations.  You can write these directly in Java, using the <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\" rel=\"nofollow noreferrer\">repeating annotations feature</a>.  There is a slightly better explanation at <a href=\"https://www.baeldung.com/java-default-annotations#5-repeatable\" rel=\"nofollow noreferrer\">Baeldung</a>.</p>\n<p>You will still need to make your annotation processor cognizant of the wrapper annotation.  It is named as the argument to the <code>@Repeatable</code> meta-annotation.</p>\n"}],"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73124033,"answer_count":1,"score":1,"last_activity_date":1658841204,"creation_date":1658740250,"question_id":73106652,"body_markdown":"To prevent an [XY Problem][1] I am gonna state my real issue first but my question focuses on my solution for that problem.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XY_problem\r\n\r\nI am using Quarkus to build a controller which contains this method:\r\n````\r\n    @GET\r\n    @Path(&quot;image/{user}&quot;)\r\n    @Produces(&quot;image/png&quot;)\r\n    @PermitAll\r\n    public Response getImageUser(@PathParam(&quot;user&quot;) String user)\r\n````\r\n\r\nFor some implementation reasons out of my control this method needs to handle about a dozen different possible ``@PathParam``, so I&#39;d like to do something like this;\r\n````\r\n    @Path(value = {&quot;image/{user}&quot;, &quot;image/{user}/{foo}&quot;, &quot;image/{user}/{bar}&quot;})\r\n````\r\nwhich is not possible in Quarkus as far as I know. For this purpose I would like to write an Annotation &quot;wrapper&quot; for the @Path Annotation that would accept an array of Strings and then just annotates each of them with @Path and duplicates the method which was annotated with this. Think this;\r\n\r\n````\r\npublic @interface Paths {\r\n    public String[] value();\r\n    for String value : values {\r\n        @Path(value)\r\n    }\r\n}\r\n````\r\n\r\nThis, of course, does not work for many reasons, (one being that annotations need to be processed) but this question is more if this is even possible. A proof of concept so to speak.","title":"Is it possible to make an Annotation &quot;wrapper&quot;?","body":"<p>To prevent an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a> I am gonna state my real issue first but my question focuses on my solution for that problem.</p>\n<p>I am using Quarkus to build a controller which contains this method:</p>\n<pre><code>    @GET\n    @Path(&quot;image/{user}&quot;)\n    @Produces(&quot;image/png&quot;)\n    @PermitAll\n    public Response getImageUser(@PathParam(&quot;user&quot;) String user)\n</code></pre>\n<p>For some implementation reasons out of my control this method needs to handle about a dozen different possible <code>@PathParam</code>, so I'd like to do something like this;</p>\n<pre><code>    @Path(value = {&quot;image/{user}&quot;, &quot;image/{user}/{foo}&quot;, &quot;image/{user}/{bar}&quot;})\n</code></pre>\n<p>which is not possible in Quarkus as far as I know. For this purpose I would like to write an Annotation &quot;wrapper&quot; for the @Path Annotation that would accept an array of Strings and then just annotates each of them with @Path and duplicates the method which was annotated with this. Think this;</p>\n<pre><code>public @interface Paths {\n    public String[] value();\n    for String value : values {\n        @Path(value)\n    }\n}\n</code></pre>\n<p>This, of course, does not work for many reasons, (one being that annotations need to be processed) but this question is more if this is even possible. A proof of concept so to speak.</p>\n"},{"tags":["java","websocket","spring-security"],"comments":[{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1658791808,"post_id":73115989,"comment_id":129134910,"body_markdown":"What is &quot;MessageController.java:28&quot;?","body":"What is &quot;MessageController.java:28&quot;?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658793661,"post_id":73115989,"comment_id":129135191,"body_markdown":"have you tried injecting the principal into the function instead","body":"have you tried injecting the principal into the function instead"},{"owner":{"account_id":18886166,"reputation":15,"user_id":13777555,"display_name":"ZZBL"},"score":0,"creation_date":1658827064,"post_id":73115989,"comment_id":129142413,"body_markdown":"@cliff2310 MessageController.java:28 is the line where i print the accessor.getUser().getName().","body":"@cliff2310 MessageController.java:28 is the line where i print the accessor.getUser().getName()."},{"owner":{"account_id":18886166,"reputation":15,"user_id":13777555,"display_name":"ZZBL"},"score":0,"creation_date":1658827170,"post_id":73115989,"comment_id":129142471,"body_markdown":"@Toerktumlare Yes I have, the Principal is still null","body":"@Toerktumlare Yes I have, the Principal is still null"}],"answers":[{"tags":[],"owner":{"account_id":18886166,"reputation":15,"user_id":13777555,"display_name":"ZZBL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658840924,"creation_date":1658840924,"answer_id":73123949,"question_id":73115989,"body_markdown":"So after looking things up on YouTube and Google i found the `DefaultHandshakeHandler` Class which has the `determineUser` method that returns a Principal. I basically made my own implementation of the Principal assignment and added it via the SocketConfig `registerStompEndpoints.setHandshakeHandler()` method.\r\n\r\nAfter doing that I was able to retrieve my Principal in the `@MessageMapping` annotated method!","title":"How to access Principal of WebSocket that was set in a ChannelInterceptor? Principal is null","body":"<p>So after looking things up on YouTube and Google i found the <code>DefaultHandshakeHandler</code> Class which has the <code>determineUser</code> method that returns a Principal. I basically made my own implementation of the Principal assignment and added it via the SocketConfig <code>registerStompEndpoints.setHandshakeHandler()</code> method.</p>\n<p>After doing that I was able to retrieve my Principal in the <code>@MessageMapping</code> annotated method!</p>\n"}],"owner":{"account_id":18886166,"reputation":15,"user_id":13777555,"display_name":"ZZBL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73123949,"answer_count":1,"score":0,"last_activity_date":1658840924,"creation_date":1658788306,"question_id":73115989,"body_markdown":"I&#39;m trying to get the Principal from the SimpMessageHeaderAccessor in my @MessageMapping annotated method. \r\n\r\nThe Principal is being set with a ChannelInterceptor on connection.\r\n\r\nEven though when I console.log the connection frames and see the &quot;user-name&quot; header, the Principal is always null in my @MessageMapping method.\r\n\r\nThanks for any advice :)\r\n\r\nMessageController class:\r\n\r\n```\r\n@Controller\r\npublic class MessageController {\r\n\r\n    private SimpMessagingTemplate template;\r\n\r\n    public MessageController(SimpMessagingTemplate template) {\r\n        this.template = template;\r\n    }\r\n\r\n    @MessageMapping(&quot;/private&quot;)\r\n    public void message(SimpMessageHeaderAccessor accessor, @Payload Message message){\r\n        System.out.println(accessor.getUser().getName());\r\n    }\r\n\r\n}\r\n```\r\n\r\nChannelInterceptor class:\r\n```\r\n@Service\r\npublic class CustomHandshakeInterceptor implements ChannelInterceptor {\r\n\r\n    private JwtUtil jwtUtil;\r\n\r\n    public CustomHandshakeInterceptor(JwtUtil jwtUtil) {\r\n        this.jwtUtil = jwtUtil;\r\n    }\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n        if(StompCommand.CONNECT.equals(accessor.getCommand())){\r\n            Object raw = message.getHeaders().get(SimpMessageHeaderAccessor.NATIVE_HEADERS);\r\n            if(raw instanceof Map){\r\n                Object token = ((Map) raw).get(&quot;JWT_TOKEN&quot;);\r\n                if(token instanceof ArrayList){\r\n                    System.out.println(((ArrayList&lt;?&gt;) token).get(0).toString());\r\n                    accessor.setUser(new Principal() {\r\n                        @Override\r\n                        public String getName() {\r\n                            return jwtUtil.extractUsername(((ArrayList&lt;?&gt;) token).get(0).toString());\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            System.out.println(&quot;FROM INTERCEPTOR &quot; + accessor.getUser().getName());\r\n        }\r\n        return message;\r\n    }\r\n}\r\n\r\n```\r\n\r\nSocketConfig class:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class SocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    private CustomHandshakeInterceptor handshakeInterceptor;\r\n\r\n    public SocketConfig(CustomHandshakeInterceptor handshakeInterceptor) {\r\n        this.handshakeInterceptor = handshakeInterceptor;\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/stomp&quot;)\r\n                .setAllowedOrigins(&quot;http://localhost:3000&quot;)\r\n                .withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;queue&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.setUserDestinationPrefix(&quot;/users&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(handshakeInterceptor);\r\n    }\r\n}\r\n```\r\nClient console:\r\n```\r\nFrame\r\nbody: &quot;&quot;\r\ncommand: &quot;CONNECTED&quot;\r\nheaders: {user-name: &#39;david&#39;, heart-beat: &#39;0,0&#39;, version: &#39;1.1&#39;}\r\n[[Prototype]]: Object\r\n```\r\n\r\nError Message:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.security.Principal.getName()&quot; because the return value of &quot;org.springframework.messaging.simp.SimpMessageHeaderAccessor.getUser()&quot; is null\r\n\tat eu.filip.backend.socket.MessageController.message(MessageController.java:28) ~[classes/:na]\r\n```","title":"How to access Principal of WebSocket that was set in a ChannelInterceptor? Principal is null","body":"<p>I'm trying to get the Principal from the SimpMessageHeaderAccessor in my @MessageMapping annotated method.</p>\n<p>The Principal is being set with a ChannelInterceptor on connection.</p>\n<p>Even though when I console.log the connection frames and see the &quot;user-name&quot; header, the Principal is always null in my @MessageMapping method.</p>\n<p>Thanks for any advice :)</p>\n<p>MessageController class:</p>\n<pre><code>@Controller\npublic class MessageController {\n\n    private SimpMessagingTemplate template;\n\n    public MessageController(SimpMessagingTemplate template) {\n        this.template = template;\n    }\n\n    @MessageMapping(&quot;/private&quot;)\n    public void message(SimpMessageHeaderAccessor accessor, @Payload Message message){\n        System.out.println(accessor.getUser().getName());\n    }\n\n}\n</code></pre>\n<p>ChannelInterceptor class:</p>\n<pre><code>@Service\npublic class CustomHandshakeInterceptor implements ChannelInterceptor {\n\n    private JwtUtil jwtUtil;\n\n    public CustomHandshakeInterceptor(JwtUtil jwtUtil) {\n        this.jwtUtil = jwtUtil;\n    }\n\n    @Override\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n        if(StompCommand.CONNECT.equals(accessor.getCommand())){\n            Object raw = message.getHeaders().get(SimpMessageHeaderAccessor.NATIVE_HEADERS);\n            if(raw instanceof Map){\n                Object token = ((Map) raw).get(&quot;JWT_TOKEN&quot;);\n                if(token instanceof ArrayList){\n                    System.out.println(((ArrayList&lt;?&gt;) token).get(0).toString());\n                    accessor.setUser(new Principal() {\n                        @Override\n                        public String getName() {\n                            return jwtUtil.extractUsername(((ArrayList&lt;?&gt;) token).get(0).toString());\n                        }\n                    });\n                }\n            }\n            System.out.println(&quot;FROM INTERCEPTOR &quot; + accessor.getUser().getName());\n        }\n        return message;\n    }\n}\n\n</code></pre>\n<p>SocketConfig class:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class SocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    private CustomHandshakeInterceptor handshakeInterceptor;\n\n    public SocketConfig(CustomHandshakeInterceptor handshakeInterceptor) {\n        this.handshakeInterceptor = handshakeInterceptor;\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/stomp&quot;)\n                .setAllowedOrigins(&quot;http://localhost:3000&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;queue&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        registry.setUserDestinationPrefix(&quot;/users&quot;);\n    }\n\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(handshakeInterceptor);\n    }\n}\n</code></pre>\n<p>Client console:</p>\n<pre><code>Frame\nbody: &quot;&quot;\ncommand: &quot;CONNECTED&quot;\nheaders: {user-name: 'david', heart-beat: '0,0', version: '1.1'}\n[[Prototype]]: Object\n</code></pre>\n<p>Error Message:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.security.Principal.getName()&quot; because the return value of &quot;org.springframework.messaging.simp.SimpMessageHeaderAccessor.getUser()&quot; is null\n    at eu.filip.backend.socket.MessageController.message(MessageController.java:28) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","servlets","bitbucket-api"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":1,"creation_date":1658840879,"post_id":73123907,"comment_id":129147753,"body_markdown":"(I removed the JavaScript tag, since it&#39;s only mentioned)","body":"(I removed the JavaScript tag, since it&#39;s only mentioned)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658853441,"post_id":73123907,"comment_id":129153277,"body_markdown":"You are trying to add a `String` to an `ArrayList&lt;File&gt;`. I don’t understand why you are trying all that processing in `onTreeNode`, instead of just doing `files.add(node.getPath());`","body":"You are trying to add a <code>String</code> to an <code>ArrayList&lt;File&gt;</code>. I don’t understand why you are trying all that processing in <code>onTreeNode</code>, instead of just doing <code>files.add(node.getPath());</code>"},{"owner":{"account_id":14424348,"reputation":31,"user_id":10419578,"display_name":"MillieJA"},"score":0,"creation_date":1658915467,"post_id":73123907,"comment_id":129168393,"body_markdown":"@Holger I have tried that but getPath() returns a path so I cannot add it to ArrayList&lt;File&gt;","body":"@Holger I have tried that but getPath() returns a path so I cannot add it to ArrayList&lt;File&gt;"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658925029,"post_id":73123907,"comment_id":129172212,"body_markdown":"Well, in [this comment](https://stackoverflow.com/questions/72741059/best-way-to-sort-strings-of-filepaths-into-a-directory-structure?noredirect=1&amp;lq=1#comment128484766_72741059) you created the impression to have instances of `File` which is a subclass of `ContentTreeNode`. The solution, however, does not depend on `File` at all. So just replace all occurrences of `File` in this code by `ContentTreeNode` and change `onTreeNode` to `files.add(node);` You could even get rid of the `ArrayList` by creating the root `Node` first and let the callback invoke `add` directly on it.","body":"Well, in <a href=\"https://stackoverflow.com/questions/72741059/best-way-to-sort-strings-of-filepaths-into-a-directory-structure?noredirect=1&amp;lq=1#comment128484766_72741059\">this comment</a> you created the impression to have instances of <code>File</code> which is a subclass of <code>ContentTreeNode</code>. The solution, however, does not depend on <code>File</code> at all. So just replace all occurrences of <code>File</code> in this code by <code>ContentTreeNode</code> and change <code>onTreeNode</code> to <code>files.add(node);</code> You could even get rid of the <code>ArrayList</code> by creating the root <code>Node</code> first and let the callback invoke <code>add</code> directly on it."},{"owner":{"account_id":14424348,"reputation":31,"user_id":10419578,"display_name":"MillieJA"},"score":0,"creation_date":1658926472,"post_id":73123907,"comment_id":129172887,"body_markdown":"Omg of course, I just totally missed the fact that file is not necessary. Yep with changing the array to contain ContentTreeNodes it works how it should now. thanks for all of the help man","body":"Omg of course, I just totally missed the fact that file is not necessary. Yep with changing the array to contain ContentTreeNodes it works how it should now. thanks for all of the help man"},{"owner":{"account_id":14424348,"reputation":31,"user_id":10419578,"display_name":"MillieJA"},"score":0,"creation_date":1659428180,"post_id":73123907,"comment_id":129286260,"body_markdown":"@Holger sorry to keep coming back to this, but with this approach is there any way to create a path so I can link to each location within the tree? I have the main address, I would just need to append each level in the list followed by the file name, but I cant see how this would work with the way writeTo calls back to itself","body":"@Holger sorry to keep coming back to this, but with this approach is there any way to create a path so I can link to each location within the tree? I have the main address, I would just need to append each level in the list followed by the file name, but I cant see how this would work with the way writeTo calls back to itself"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661152583,"post_id":73123907,"comment_id":129694733,"body_markdown":"I’m afraid I didn’t understand what you want to change.","body":"I’m afraid I didn’t understand what you want to change."}],"owner":{"account_id":14424348,"reputation":31,"user_id":10419578,"display_name":"MillieJA"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658840843,"creation_date":1658840747,"question_id":73123907,"body_markdown":"I am trying to create a BitBucket plugin to get the repository structure and print it out in a structured format. The plugin creates a button on the repo page and when clicked it connects with a servlet to produce an output, however I cannot get my formatting code to work.\r\n\r\nE.g \r\nInstead of: \r\n- Folder 1\r\n- File 1\r\n- File 2\r\n\r\nI want it to indent children:\r\n- Folder 1\r\n    - File 1\r\n    - File 2\r\n\r\nI currently have a JS file which controls the button and makes an ajax call to a Java file, and also passes the servlet URL including the parameters for the repo (Project, Repo). \r\nIn my Java file I have a doGet which gets the repo from the parameters and uses a custom contentTreeCallback() to get the files within the repo in order to print them out, using callback.getFiles(). Within this same Java file, I have defined a node class which creates a linked hash map which takes each file, splits it into components, and with a recursive loop appends children to nested lists in order to create the file structure. This should work, however my custom contentTreeCallback() gets a string rather than the file array it needs to return. I cannot figure out what changes I need to make to get this to work. I&#39;m guessing I either adjust the callback to get the files or I move the node class functionality into the callback class. I would prefer the second option since this class already splits the string, it seems a bit redundant to do it twice.\r\n\r\nThe servlet java class:\r\n```\r\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\r\n\r\n\t\t// Get values from the URL \r\n\t\tprojectName= req.getParameter(&quot;project&quot;);\r\n\t\trepoName = req.getParameter(&quot;repository&quot;); \r\n\r\n\t\trepo = repositoryService.getBySlug(projectName, repoName);\r\n\r\n\t\t// ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\tMyContentTreeCallback callback = new MyContentTreeCallback();\r\n\t\tPageRequestImpl pr = new PageRequestImpl(0, 1000);\r\n\r\n\t\t// Get information from the defined location, store in ByteArrayOutputStream\r\n\t\tcontentService.streamDirectory(repo, &quot;Master&quot;, &quot;&quot;, true, callback, pr);\r\n\r\n\t\tresp.setContentType(&quot;text/html&quot;);\r\n\t\tresp.getWriter().print(&quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;Repository: &quot; + repo.getName() + &quot;&lt;/p&gt;&quot;);\r\n\r\n\t\tNode root = new Node(null);\r\n\r\n\t\tfor(int i = 0; i &lt; callback.getFiles().size(); i++) {\r\n\t\t\troot.add(callback.getFiles().get(i));\r\n\t\t}\r\n\r\n\t\troot.writeTo(resp.getWriter());\r\n\t\tresp.getWriter().print(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\n\t}\r\n\r\n\tstatic final class Node {\r\n\t\tfinal String name;\r\n\t\tfinal Map&lt;String, Node&gt; children = new LinkedHashMap&lt;&gt;();\r\n\r\n\t\tNode(String name) { \r\n\t\t\tthis.name = name; \r\n\t\t}\r\n\r\n\t\tvoid add(File file) {\r\n\t\t\tNode n = this;\r\n\t\t\tfor(String component: file.getPath().getComponents())\r\n\t\t\t\tn = n.children.computeIfAbsent(component, Node::new);\r\n\t\t}\r\n\t\tvoid writeTo(Appendable w) throws IOException {\r\n\t\t\tif(name != null) w.append(&quot;&lt;li&gt;&lt;a href=&#39;/&#39;&gt;&quot;).append(name).append(&quot;&lt;/a&gt;&lt;/li&gt;\\n&quot;);\r\n\t\t\tif(!children.isEmpty()) {\r\n\t\t\t\tw.append(&quot;&lt;ul&gt;\\n&quot;);\r\n\t\t\t\tfor(Node ch: children.values()) ch.writeTo(w);\r\n\t\t\t\tw.append(&quot;&lt;/ul&gt;\\n&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nAnd the custom callback class:\r\n```\r\npublic class MyContentTreeCallback extends AbstractContentTreeCallback {\r\n    \r\n    ArrayList&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\t\r\n    ContentTreeSummary fileSummary;\r\n    public MyContentTreeCallback() {\r\n\r\n    }\r\n    \r\n    @Override\r\n    public void onEnd(@Nonnull ContentTreeSummary summary) {\r\n\r\n        fileSummary = summary;\r\n    }\r\n    \r\n  @Override\r\n    public void onStart(@Nonnull ContentTreeContext context) {\r\n\t  System.out.print(&quot;On start&quot;);\r\n       \r\n    }\r\n    \r\n  @Override\r\n  public boolean onTreeNode(@Nonnull ContentTreeNode node) {\r\n\r\n\t  String filePath = &quot;&quot;;\r\n\t  if (node.getPath().getComponents().length&gt;1) { \r\n\t\t  for(int i=0;i&lt;node.getPath().getComponents().length;i++) {\r\n\t\t\t  filePath+=node.getPath().getComponents()[i]+&quot;/&quot;;\r\n\t\t\t  //filePath=filePath.substring(0,filePath.length() - 1) \r\n\t\t  } \r\n\t  } \r\n\t  else {\r\n\r\n\t\t  filePath+=node.getPath().getName(); \r\n\t  }\r\n\r\n\t  String lastChar = String.valueOf(filePath.charAt(filePath.length() - 1));\r\n\t  if(lastChar.equals(&quot;/&quot;)){ filePath=filePath.substring(0,filePath.length() -\r\n\t\t\t  1); }\r\n\r\n\t  files.add(filePath);\r\n\r\n\t  return true;\r\n\t  \r\n    }\r\n  \r\n    public ArrayList&lt;File&gt; getFiles(){\r\n        return files;\r\n    }\r\n    \r\n}\r\n```\r\nfiles.add(filePath); Is where the issue is in the callback class.\r\n\r\nI&#39;m sure it&#39;s simpler than I am making it out to be... Thanks for any help you can give","title":"Create file structure from strings","body":"<p>I am trying to create a BitBucket plugin to get the repository structure and print it out in a structured format. The plugin creates a button on the repo page and when clicked it connects with a servlet to produce an output, however I cannot get my formatting code to work.</p>\n<p>E.g\nInstead of:</p>\n<ul>\n<li>Folder 1</li>\n<li>File 1</li>\n<li>File 2</li>\n</ul>\n<p>I want it to indent children:</p>\n<ul>\n<li>Folder 1\n<ul>\n<li>File 1</li>\n<li>File 2</li>\n</ul>\n</li>\n</ul>\n<p>I currently have a JS file which controls the button and makes an ajax call to a Java file, and also passes the servlet URL including the parameters for the repo (Project, Repo).\nIn my Java file I have a doGet which gets the repo from the parameters and uses a custom contentTreeCallback() to get the files within the repo in order to print them out, using callback.getFiles(). Within this same Java file, I have defined a node class which creates a linked hash map which takes each file, splits it into components, and with a recursive loop appends children to nested lists in order to create the file structure. This should work, however my custom contentTreeCallback() gets a string rather than the file array it needs to return. I cannot figure out what changes I need to make to get this to work. I'm guessing I either adjust the callback to get the files or I move the node class functionality into the callback class. I would prefer the second option since this class already splits the string, it seems a bit redundant to do it twice.</p>\n<p>The servlet java class:</p>\n<pre><code>protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n\n        // Get values from the URL \n        projectName= req.getParameter(&quot;project&quot;);\n        repoName = req.getParameter(&quot;repository&quot;); \n\n        repo = repositoryService.getBySlug(projectName, repoName);\n\n        // ByteArrayOutputStream out = new ByteArrayOutputStream();\n        MyContentTreeCallback callback = new MyContentTreeCallback();\n        PageRequestImpl pr = new PageRequestImpl(0, 1000);\n\n        // Get information from the defined location, store in ByteArrayOutputStream\n        contentService.streamDirectory(repo, &quot;Master&quot;, &quot;&quot;, true, callback, pr);\n\n        resp.setContentType(&quot;text/html&quot;);\n        resp.getWriter().print(&quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;Repository: &quot; + repo.getName() + &quot;&lt;/p&gt;&quot;);\n\n        Node root = new Node(null);\n\n        for(int i = 0; i &lt; callback.getFiles().size(); i++) {\n            root.add(callback.getFiles().get(i));\n        }\n\n        root.writeTo(resp.getWriter());\n        resp.getWriter().print(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n\n    }\n\n    static final class Node {\n        final String name;\n        final Map&lt;String, Node&gt; children = new LinkedHashMap&lt;&gt;();\n\n        Node(String name) { \n            this.name = name; \n        }\n\n        void add(File file) {\n            Node n = this;\n            for(String component: file.getPath().getComponents())\n                n = n.children.computeIfAbsent(component, Node::new);\n        }\n        void writeTo(Appendable w) throws IOException {\n            if(name != null) w.append(&quot;&lt;li&gt;&lt;a href='/'&gt;&quot;).append(name).append(&quot;&lt;/a&gt;&lt;/li&gt;\\n&quot;);\n            if(!children.isEmpty()) {\n                w.append(&quot;&lt;ul&gt;\\n&quot;);\n                for(Node ch: children.values()) ch.writeTo(w);\n                w.append(&quot;&lt;/ul&gt;\\n&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>And the custom callback class:</p>\n<pre><code>public class MyContentTreeCallback extends AbstractContentTreeCallback {\n    \n    ArrayList&lt;File&gt; files = new ArrayList&lt;File&gt;();\n    \n    ContentTreeSummary fileSummary;\n    public MyContentTreeCallback() {\n\n    }\n    \n    @Override\n    public void onEnd(@Nonnull ContentTreeSummary summary) {\n\n        fileSummary = summary;\n    }\n    \n  @Override\n    public void onStart(@Nonnull ContentTreeContext context) {\n      System.out.print(&quot;On start&quot;);\n       \n    }\n    \n  @Override\n  public boolean onTreeNode(@Nonnull ContentTreeNode node) {\n\n      String filePath = &quot;&quot;;\n      if (node.getPath().getComponents().length&gt;1) { \n          for(int i=0;i&lt;node.getPath().getComponents().length;i++) {\n              filePath+=node.getPath().getComponents()[i]+&quot;/&quot;;\n              //filePath=filePath.substring(0,filePath.length() - 1) \n          } \n      } \n      else {\n\n          filePath+=node.getPath().getName(); \n      }\n\n      String lastChar = String.valueOf(filePath.charAt(filePath.length() - 1));\n      if(lastChar.equals(&quot;/&quot;)){ filePath=filePath.substring(0,filePath.length() -\n              1); }\n\n      files.add(filePath);\n\n      return true;\n      \n    }\n  \n    public ArrayList&lt;File&gt; getFiles(){\n        return files;\n    }\n    \n}\n</code></pre>\n<p>files.add(filePath); Is where the issue is in the callback class.</p>\n<p>I'm sure it's simpler than I am making it out to be... Thanks for any help you can give</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1658842577,"post_id":73123783,"comment_id":129148628,"body_markdown":"If you evaluate each cell individually (by looping over all the rows and cells), can you identify the formula that triggers the issue?","body":"If you evaluate each cell individually (by looping over all the rows and cells), can you identify the formula that triggers the issue?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1658842786,"post_id":73123783,"comment_id":129148721,"body_markdown":"Must be a formula referencing another sheet (which probably no longer exists) or even an external workbook with a sheet that no longer exists","body":"Must be a formula referencing another sheet (which probably no longer exists) or even an external workbook with a sheet that no longer exists"},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":0,"creation_date":1658842877,"post_id":73123783,"comment_id":129148769,"body_markdown":"@Gagravarr plz how can i identify it ?","body":"@Gagravarr plz how can i identify it ?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1658843100,"post_id":73123783,"comment_id":129148886,"body_markdown":"As he said, `by looping over all the rows and cells`. `FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator(); for(int i=0; i&lt;wb.getNumberOfSheets(); i++) {Sheet sheet = wb.getSheetAt(i);for(Row r : sheet) {for (Cell c : r) {if (c.getCellType() == CellType.FORMULA) {evaluator.evaluateFormulaCell(c);}}}}` &lt;-- taken from `BaseFormulaEvaluator` source code","body":"As he said, <code>by looping over all the rows and cells</code>. <code>FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator(); for(int i=0; i&lt;wb.getNumberOfSheets(); i++) {Sheet sheet = wb.getSheetAt(i);for(Row r : sheet) {for (Cell c : r) {if (c.getCellType() == CellType.FORMULA) {evaluator.evaluateFormulaCell(c);}}}}</code> &lt;-- taken from <code>BaseFormulaEvaluator</code> source code"}],"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658840750,"creation_date":1658840266,"question_id":73123783,"body_markdown":"For the past couple of days, this has been driving me crazy.\r\nHere are the codes that are supposed to evaluate cells in an attached template  test.xlsx \r\n\r\n    \tpublic static void updateFormule(String testcode, byte[] excelFile, String fileName, \r\n    \t\t\tString testcode, Boolean update, Test test){\r\n    \t\tWorkbook wb = null;\r\n    \t\tBufferedWriter writer = null;  \r\n    \t\tString testerror= &quot;&quot;;\r\n    \tSomeCode...\r\n    \t\ttry {\r\n    \t\t\tif(fileName != null)\r\n    \t\t\t\twriter = new BufferedWriter(new OutputStreamWriter( new FileOutputStream(fileName), &quot;UTF8&quot;)); \r\n    \t\t\t\twb = getWorkbookReader(getSrcInputStream(excelFile));\r\n    \t\t\t\t\r\n    //\t\t\tAverageIF averageIF = new AverageIF();\r\n    \t\t\ttry {\r\n    \t\t\t\tWorkbookEvaluator.registerFunction(&quot;AVERAGEIF&quot;, AverageIF.instance);\r\n    \t\t\t\tWorkbookEvaluator.registerFunction(&quot;EOMONTH&quot;, EOMonth.instance);\r\n    \t\t\t} catch (Exception e) { \r\n    \t\t\t\t// TODO: handle exception\r\n    //\t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\twb.getCreationHelper().createFormulaEvaluator().evaluateAll();\r\n\r\nWhen it comes to \r\n\r\n&gt; wb.getCreationHelper().createFormulaEvaluator().evaluateAll();\r\n\r\n Unfortunately this is what I get upon execution:\r\n\r\n    Invalid sheetIndex: -1","title":"RuntimeException using Apache POI to export excel file","body":"<p>For the past couple of days, this has been driving me crazy.\nHere are the codes that are supposed to evaluate cells in an attached template  test.xlsx</p>\n<pre><code>    public static void updateFormule(String testcode, byte[] excelFile, String fileName, \n            String testcode, Boolean update, Test test){\n        Workbook wb = null;\n        BufferedWriter writer = null;  \n        String testerror= &quot;&quot;;\n    SomeCode...\n        try {\n            if(fileName != null)\n                writer = new BufferedWriter(new OutputStreamWriter( new FileOutputStream(fileName), &quot;UTF8&quot;)); \n                wb = getWorkbookReader(getSrcInputStream(excelFile));\n                \n//          AverageIF averageIF = new AverageIF();\n            try {\n                WorkbookEvaluator.registerFunction(&quot;AVERAGEIF&quot;, AverageIF.instance);\n                WorkbookEvaluator.registerFunction(&quot;EOMONTH&quot;, EOMonth.instance);\n            } catch (Exception e) { \n                // TODO: handle exception\n//              e.printStackTrace();\n            }\n            \n            wb.getCreationHelper().createFormulaEvaluator().evaluateAll();\n</code></pre>\n<p>When it comes to</p>\n<blockquote>\n<p>wb.getCreationHelper().createFormulaEvaluator().evaluateAll();</p>\n</blockquote>\n<p>Unfortunately this is what I get upon execution:</p>\n<pre><code>Invalid sheetIndex: -1\n</code></pre>\n"},{"tags":["java","intellij-idea","export","minecraft","redundancy"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1655715889,"post_id":72680088,"comment_id":128389197,"body_markdown":"Does it work on the first try from the command line outside of IntelliJ?","body":"Does it work on the first try from the command line outside of IntelliJ?"},{"owner":{"account_id":24974541,"reputation":1,"user_id":19120049,"display_name":"1somorph"},"score":0,"creation_date":1655720349,"post_id":72680088,"comment_id":128390652,"body_markdown":"Oh well, I have not tested this yet. Which command do I have to use?","body":"Oh well, I have not tested this yet. Which command do I have to use?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1655720678,"post_id":72680088,"comment_id":128390759,"body_markdown":"Try `mvn package` - https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#build-the-project Make sure that Maven is installed on your PC and added to the PATH","body":"Try <code>mvn package</code> - <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#build-the-project\" rel=\"nofollow noreferrer\">maven.apache.org/guides/getting-started/&hellip;</a> Make sure that Maven is installed on your PC and added to the PATH"},{"owner":{"account_id":24974541,"reputation":1,"user_id":19120049,"display_name":"1somorph"},"score":0,"creation_date":1655721159,"post_id":72680088,"comment_id":128390926,"body_markdown":"I actually fixed it.. I try to answer my own question now with my solution, even its a bit weird.","body":"I actually fixed it.. I try to answer my own question now with my solution, even its a bit weird."}],"answers":[{"tags":[],"owner":{"account_id":24974541,"reputation":1,"user_id":19120049,"display_name":"1somorph"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1658840666,"creation_date":1655721275,"answer_id":72685743,"question_id":72680088,"body_markdown":"Okay, I found a solution. I had to organise my project \r\n![project structure][1].\r\n\r\nNow my project is getting exported every time I click on package.\r\n\r\n\r\n[1]: https://i.stack.imgur.com/ydcSw.png\r\n","title":"Why do I have to package my IntelliJ-project twice to get it exported?","body":"<p>Okay, I found a solution. I had to organise my project\n<img src=\"https://i.stack.imgur.com/ydcSw.png\" alt=\"project structure\" />.</p>\n<p>Now my project is getting exported every time I click on package.</p>\n"}],"owner":{"account_id":24974541,"reputation":1,"user_id":19120049,"display_name":"1somorph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72685743,"answer_count":1,"score":-1,"last_activity_date":1658840666,"creation_date":1655670042,"question_id":72680088,"body_markdown":"Currently I am working on a plugin for a minecraft-server. I use maven, so when I made a change and I want to test it out on my server, i double-click on &#39;package&#39; on the right hand side. Then my Jar will be exported right into my pluginsfolder. BUT everytime I reload my server its still the previous version of the plugin not the version I wanted to expoert and test. However, if I export my plugin twice, it is the new version of the plugin. How can I fix this? ","title":"Why do I have to package my IntelliJ-project twice to get it exported?","body":"<p>Currently I am working on a plugin for a minecraft-server. I use maven, so when I made a change and I want to test it out on my server, i double-click on 'package' on the right hand side. Then my Jar will be exported right into my pluginsfolder. BUT everytime I reload my server its still the previous version of the plugin not the version I wanted to expoert and test. However, if I export my plugin twice, it is the new version of the plugin. How can I fix this?</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658839263,"post_id":73123500,"comment_id":129147141,"body_markdown":"Please post the entire stacktrace.","body":"Please post the entire stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658839436,"creation_date":1658839436,"answer_id":73123590,"question_id":73123500,"body_markdown":"You need to remove `MV_STORE=FALSE` from JDBC connection URL, there is no such setting in H2 2.\\*.\\*. These versions have only MVStore-based backed.","title":"org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;java.lang.UnsupportedOperationException&quot; [50000-214]","body":"<p>You need to remove <code>MV_STORE=FALSE</code> from JDBC connection URL, there is no such setting in H2 2.*.*. These versions have only MVStore-based backed.</p>\n"}],"owner":{"account_id":25898811,"reputation":13,"user_id":19625031,"display_name":"Pranay Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73123590,"answer_count":1,"score":1,"last_activity_date":1658839436,"creation_date":1658839029,"question_id":73123500,"body_markdown":"I am creating an application using Springboot. I am using H2 database as a dependency of version 2.1.214. I am getting below error-\r\n\r\n    2022-07-26 17:38:24.039  INFO 5308 --- [           main] c.e.E.EmployeeApplication                : Starting EmployeeApplication using Java 17.0.4 on DESKTOP-2NJA7RF with PID 5308 (E:\\SpringBoot Projects\\EmployeeApplication\\target\\classes started by HP in E:\\SpringBoot Projects\\EmployeeApplication)\r\n    2022-07-26 17:38:24.039  INFO 5308 --- [           main] c.e.E.EmployeeApplication                : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-07-26 17:38:25.334  INFO 5308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-07-26 17:38:25.427  INFO 5308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 1 JPA repository interfaces.\r\n    2022-07-26 17:38:26.521  INFO 5308 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-07-26 17:38:26.536  INFO 5308 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-07-26 17:38:26.536  INFO 5308 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-07-26 17:38:26.724  INFO 5308 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-07-26 17:38:26.724  INFO 5308 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2566 ms\r\n    2022-07-26 17:38:26.849  INFO 5308 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-07-26 17:38:27.993 ERROR 5308 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;java.lang.UnsupportedOperationException&quot; [50000-214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:554) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n    \t\r\nI can&#39;t understand what it means. I have searched the stack overflow about Hikaripool, but was unable to find a solution for this issue.\r\nThe application.properties are-\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.platform=h2\r\n    spring.datasource.url=jdbc:h2:mem:course-library-management-system;MV_STORE=false\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\nThe pom.xml dependencies are-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.employee&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;EmployeeApplication&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;EmployeeApplication&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.214&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;java.lang.UnsupportedOperationException&quot; [50000-214]","body":"<p>I am creating an application using Springboot. I am using H2 database as a dependency of version 2.1.214. I am getting below error-</p>\n<pre><code>2022-07-26 17:38:24.039  INFO 5308 --- [           main] c.e.E.EmployeeApplication                : Starting EmployeeApplication using Java 17.0.4 on DESKTOP-2NJA7RF with PID 5308 (E:\\SpringBoot Projects\\EmployeeApplication\\target\\classes started by HP in E:\\SpringBoot Projects\\EmployeeApplication)\n2022-07-26 17:38:24.039  INFO 5308 --- [           main] c.e.E.EmployeeApplication                : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-07-26 17:38:25.334  INFO 5308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-07-26 17:38:25.427  INFO 5308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 1 JPA repository interfaces.\n2022-07-26 17:38:26.521  INFO 5308 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-07-26 17:38:26.536  INFO 5308 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-07-26 17:38:26.536  INFO 5308 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-07-26 17:38:26.724  INFO 5308 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-07-26 17:38:26.724  INFO 5308 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2566 ms\n2022-07-26 17:38:26.849  INFO 5308 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-07-26 17:38:27.993 ERROR 5308 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;java.lang.UnsupportedOperationException&quot; [50000-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:554) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    \n</code></pre>\n<p>I can't understand what it means. I have searched the stack overflow about Hikaripool, but was unable to find a solution for this issue.\nThe application.properties are-</p>\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.platform=h2\nspring.datasource.url=jdbc:h2:mem:course-library-management-system;MV_STORE=false\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>The pom.xml dependencies are-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.employee&lt;/groupId&gt;\n    &lt;artifactId&gt;EmployeeApplication&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;EmployeeApplication&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658701407,"creation_date":1658701407,"answer_id":73102494,"question_id":73099794,"body_markdown":"If you are using the latest version of the Android SDK, the source code is not yet available, you must downgrade to version 32 if you want to see the source code.\r\n\r\ncheck &#39;sources for Android 32&#39; if you haven&#39;t already, as shown in the image below (click on the SKD Manager button in the upper right edge to see this image):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd then in build.gradle make sure you have compileSdk 32 as shown in the code below:\r\n\r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.abdo.texteditorapp&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/CjeY8.png","title":"How to Configure Android Studio to Show Java 11 Code (Not Decompiled Code) When Using Control Click","body":"<p>If you are using the latest version of the Android SDK, the source code is not yet available, you must downgrade to version 32 if you want to see the source code.</p>\n<p>check 'sources for Android 32' if you haven't already, as shown in the image below (click on the SKD Manager button in the upper right edge to see this image):</p>\n<p><a href=\"https://i.stack.imgur.com/CjeY8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CjeY8.png\" alt=\"enter image description here\" /></a></p>\n<p>And then in build.gradle make sure you have compileSdk 32 as shown in the code below:</p>\n<pre><code>android {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.abdo.texteditorapp&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19581607,"reputation":1,"user_id":14330546,"display_name":"TonyinFL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658839392,"creation_date":1658677171,"question_id":73099794,"body_markdown":"When using Android Studio, I would like to be able to control click on a standard Java 11 class or method and see the underlying code.  When I do it now I get the decompiled Java code, which is nice.  But from a debugging and learning perspective I would rather see the real Java source code along with embedded documentation.  I am using Android Studio&#39;s built in Java 11.\r\n\r\nEdit #1:\r\nI have the box checked for Sources for Android 32 and my build.gradle for Android contains &quot;compileSdkVersion 32&quot;. \r\n\r\nI probably need to take a step back to explain that I am using libGDX, which typically contains multiple modules.  When working with Android, libGDX will use a module for each of the following - Android, desktop, and core.  It seems that the ability to access the actual source via control click on a standard Java 11 class or method, such as String or ArrayList, works fine in the Android module, but not in the other modules (where I get decompiled code). \r\n\r\nI suspect I need to update the build.gradle for each of the other modules to somehow let Android Studio know where the Java source resides, in this case in the default JDK that comes with Android Studio?","title":"How to Configure Android Studio to Show Java 11 Code (Not Decompiled Code) When Using Control Click","body":"<p>When using Android Studio, I would like to be able to control click on a standard Java 11 class or method and see the underlying code.  When I do it now I get the decompiled Java code, which is nice.  But from a debugging and learning perspective I would rather see the real Java source code along with embedded documentation.  I am using Android Studio's built in Java 11.</p>\n<p>Edit #1:\nI have the box checked for Sources for Android 32 and my build.gradle for Android contains &quot;compileSdkVersion 32&quot;.</p>\n<p>I probably need to take a step back to explain that I am using libGDX, which typically contains multiple modules.  When working with Android, libGDX will use a module for each of the following - Android, desktop, and core.  It seems that the ability to access the actual source via control click on a standard Java 11 class or method, such as String or ArrayList, works fine in the Android module, but not in the other modules (where I get decompiled code).</p>\n<p>I suspect I need to update the build.gradle for each of the other modules to somehow let Android Studio know where the Java source resides, in this case in the default JDK that comes with Android Studio?</p>\n"},{"tags":["java","android","android-viewpager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658839975,"post_id":73123399,"comment_id":129147396,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12488095,"reputation":1057,"user_id":9090647,"display_name":"Bilal Naeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658838726,"creation_date":1658838726,"answer_id":73123444,"question_id":73123399,"body_markdown":"You can use `ViewPager.onPageChangeListener`. The method you could use is the `onPageScrolled` method.\r\n\r\n    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n        //Move other viewpager by the same positionOffset\r\n    }\r\n\r\nYou can set this listener for both ViewPagers, and by changing one, you can make the same change on the other as well.","title":"Scroll two dirreferent viewpagers same time in android","body":"<p>You can use <code>ViewPager.onPageChangeListener</code>. The method you could use is the <code>onPageScrolled</code> method.</p>\n<pre><code>public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n    //Move other viewpager by the same positionOffset\n}\n</code></pre>\n<p>You can set this listener for both ViewPagers, and by changing one, you can make the same change on the other as well.</p>\n"}],"owner":{"account_id":24082191,"reputation":54,"user_id":18056715,"display_name":"Isuru udayanga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658838726,"creation_date":1658838491,"question_id":73123399,"body_markdown":"i need scroll my view pagers same time when scroll one view pager. also those viewpagers has different item width. bottom view pager is full width content and top view pager smaller than bottom view pager item.","title":"Scroll two dirreferent viewpagers same time in android","body":"<p>i need scroll my view pagers same time when scroll one view pager. also those viewpagers has different item width. bottom view pager is full width content and top view pager smaller than bottom view pager item.</p>\n"},{"tags":["java","special-characters","zipoutputstream","zip4j"],"comments":[{"owner":{"account_id":3243986,"reputation":1956,"user_id":2736153,"display_name":"Srikanth Reddy Lingala"},"score":0,"creation_date":1658909725,"post_id":73123170,"comment_id":129166234,"body_markdown":"If a file name in a zip ends with /, zip4j considers it to be a directory and extracts it as a directory (and hence size 0)","body":"If a file name in a zip ends with /, zip4j considers it to be a directory and extracts it as a directory (and hence size 0)"},{"owner":{"account_id":3243986,"reputation":1956,"user_id":2736153,"display_name":"Srikanth Reddy Lingala"},"score":0,"creation_date":1658909782,"post_id":73123170,"comment_id":129166264,"body_markdown":"On a side note, I highly recommend upgrading to the latest version of zip4j (2.x) instead of using v1.x. There have been a lot of critical bug fixes in 2.x","body":"On a side note, I highly recommend upgrading to the latest version of zip4j (2.x) instead of using v1.x. There have been a lot of critical bug fixes in 2.x"}],"owner":{"account_id":25270120,"reputation":11,"user_id":19099564,"display_name":"im_who_code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658838150,"creation_date":1658837394,"question_id":73123170,"body_markdown":"  I am creating encrypted zip using zip4j_1.3.2.jar. below is my rough code. `zipParameters.setFileNameInZip(fileName);`\r\n in this line if fileName is containing slash special character or filename equals to &quot;/&quot;\r\n after downloading zip file, file size is 0 bytes. with others specials its working fine.I am unable to fine any documentation regarding this special character restriction. I want to know what are the others restriction we have in `net.lingala.zip4j.io.ZipOutputStream`, `net.lingala.zip4j.model.ZipParameters`.\r\n\r\n         ZipOutputStream zout = new ZipOutputStream(ous);\r\n                ZipParameters zipParameters = new ZipParameters();\r\n                zipParameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\r\n                zipParameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_FASTEST);\r\n                zipParameters.setEncryptFiles(true);\r\n                zipParameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_STANDARD);\r\n                zipParameters.setPassword(password);\r\n                zipParameters.setSourceExternalStream(true);\r\n                zipParameters.setFileNameInZip(fileName);\r\n                zout.putNextEntry(null, zipParameters);\r\n                try {\r\n                    byte[] buffer = new byte[4096];\r\n                    int num;\r\n                    while ((num = bis.read(buffer)) != -1) {\r\n                        zout.write(buffer, 0, num);\r\n                    }\r\n                    zout.flush();\r\n                    zout.closeEntry();\r\n                    zout.finish();\r\n                } finally {\r\n                    //closing all streams \r\n                }\r\n\r\nif some one knows about this restriction or documentation. please share to me thanks  ","title":"what are special characters not allowed to set in net.lingala.zip4j.model.ZipParameters.setFileNameInZip?","body":"<p>I am creating encrypted zip using zip4j_1.3.2.jar. below is my rough code. <code>zipParameters.setFileNameInZip(fileName);</code>\nin this line if fileName is containing slash special character or filename equals to &quot;/&quot;\nafter downloading zip file, file size is 0 bytes. with others specials its working fine.I am unable to fine any documentation regarding this special character restriction. I want to know what are the others restriction we have in <code>net.lingala.zip4j.io.ZipOutputStream</code>, <code>net.lingala.zip4j.model.ZipParameters</code>.</p>\n<pre><code>     ZipOutputStream zout = new ZipOutputStream(ous);\n            ZipParameters zipParameters = new ZipParameters();\n            zipParameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\n            zipParameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_FASTEST);\n            zipParameters.setEncryptFiles(true);\n            zipParameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_STANDARD);\n            zipParameters.setPassword(password);\n            zipParameters.setSourceExternalStream(true);\n            zipParameters.setFileNameInZip(fileName);\n            zout.putNextEntry(null, zipParameters);\n            try {\n                byte[] buffer = new byte[4096];\n                int num;\n                while ((num = bis.read(buffer)) != -1) {\n                    zout.write(buffer, 0, num);\n                }\n                zout.flush();\n                zout.closeEntry();\n                zout.finish();\n            } finally {\n                //closing all streams \n            }\n</code></pre>\n<p>if some one knows about this restriction or documentation. please share to me thanks</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657990125,"creation_date":1657989783,"answer_id":73006012,"question_id":73005890,"body_markdown":"You are looping over things multiple times where you probably don&#39;t need to be. If you want to get multiple documents from a collection and have each document be a single row in the spreadsheet where the document fields fill the columns within that row, then you only need a single loop - over documents. It would look something like this:\r\n\r\n```java\r\nHSSFWorkbook hssfWorkbook = new HSSFWorkbook();\r\nHSSFSheet hssfSheet = hssfWorkbook.createSheet(TeacherDash.subjectName1);\r\n\r\nint rowNum = 0;\r\nfor (DocumentSnapshot documentSnapshot : task.getResult()){\r\n\r\n    // Create a new row for each document\r\n    HSSFRow row = hssfSheet.createRow(rowNum);\r\n    ++rowNum;\r\n\r\n    // Get the data from the firestore document \r\n    // you want to put in this row\r\n    String name = documentSnapshot.getString(&quot;Name&quot;);\r\n    String date = documentSnapshot.getString(&quot;Date&quot;);\r\n    String time = documentSnapshot.getString(&quot;Time&quot;);\r\n    String num  = documentSnapshot.getString(&quot;StudentNumber&quot;);\r\n    String course = documentSnapshot.getString(&quot;Course&quot;);\r\n    String sub = documentSnapshot.getString(&quot;Subject&quot;);\r\n    String room = documentSnapshot.getString(&quot;Room&quot;);\r\n    String sched = documentSnapshot.getString(&quot;Schedule&quot;);\r\n\r\n    // Fill the contents of that row\r\n    row.createCell(0).setCellValue(name);\r\n    row.createCell(1).setCellValue(date);\r\n    row.createCell(2).setCellValue(time);\r\n    row.createCell(3).setCellValue(num);\r\n    row.createCell(4).setCellValue(course);\r\n    row.createCell(5).setCellValue(sub);\r\n    row.createCell(6).setCellValue(room);\r\n    row.createCell(7).setCellValue(sched);\r\n}\r\n```","title":"how can i get all the data in document firestore?","body":"<p>You are looping over things multiple times where you probably don't need to be. If you want to get multiple documents from a collection and have each document be a single row in the spreadsheet where the document fields fill the columns within that row, then you only need a single loop - over documents. It would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HSSFWorkbook hssfWorkbook = new HSSFWorkbook();\nHSSFSheet hssfSheet = hssfWorkbook.createSheet(TeacherDash.subjectName1);\n\nint rowNum = 0;\nfor (DocumentSnapshot documentSnapshot : task.getResult()){\n\n    // Create a new row for each document\n    HSSFRow row = hssfSheet.createRow(rowNum);\n    ++rowNum;\n\n    // Get the data from the firestore document \n    // you want to put in this row\n    String name = documentSnapshot.getString(&quot;Name&quot;);\n    String date = documentSnapshot.getString(&quot;Date&quot;);\n    String time = documentSnapshot.getString(&quot;Time&quot;);\n    String num  = documentSnapshot.getString(&quot;StudentNumber&quot;);\n    String course = documentSnapshot.getString(&quot;Course&quot;);\n    String sub = documentSnapshot.getString(&quot;Subject&quot;);\n    String room = documentSnapshot.getString(&quot;Room&quot;);\n    String sched = documentSnapshot.getString(&quot;Schedule&quot;);\n\n    // Fill the contents of that row\n    row.createCell(0).setCellValue(name);\n    row.createCell(1).setCellValue(date);\n    row.createCell(2).setCellValue(time);\n    row.createCell(3).setCellValue(num);\n    row.createCell(4).setCellValue(course);\n    row.createCell(5).setCellValue(sub);\n    row.createCell(6).setCellValue(room);\n    row.createCell(7).setCellValue(sched);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822155,"reputation":3,"user_id":19561044,"display_name":"Janz Harvey Sacdalan Ortega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658837368,"creation_date":1658837368,"answer_id":73123163,"question_id":73005890,"body_markdown":"Update: Can we filter the student document record by date range? Ex: get all the students data ONLY from 7-26-2022 upto 7-27-2022 (which will comes from a date range picker). We need to generate a report on where the student go from 7-26 to 7-27 by looking at the field room and time. It is basically a contact tracing feature. We also need to put it in an excel file.\r\n\r\nI believe we can also use the code that we have above but with a few modifications. We are thinking on replacing our database structure from:\r\n\r\nfirebaseFirestore.collection(&quot;QR&quot;).document(&quot;QRScanned&quot;).collection(LoginProfessorTabFragment.superName).document(TeacherDash.subjectName1).collection(&quot;Record of Attendance&quot;)\r\n\r\nand replace the last .collection(&quot;Record of Attendance) to .collection(&lt;current date&gt;) so that we can have an organized data. Then starts to query by the date range?\r\n\r\nThank you for answering our question.","title":"how can i get all the data in document firestore?","body":"<p>Update: Can we filter the student document record by date range? Ex: get all the students data ONLY from 7-26-2022 upto 7-27-2022 (which will comes from a date range picker). We need to generate a report on where the student go from 7-26 to 7-27 by looking at the field room and time. It is basically a contact tracing feature. We also need to put it in an excel file.</p>\n<p>I believe we can also use the code that we have above but with a few modifications. We are thinking on replacing our database structure from:</p>\n<p>firebaseFirestore.collection(&quot;QR&quot;).document(&quot;QRScanned&quot;).collection(LoginProfessorTabFragment.superName).document(TeacherDash.subjectName1).collection(&quot;Record of Attendance&quot;)</p>\n<p>and replace the last .collection(&quot;Record of Attendance) to .collection() so that we can have an organized data. Then starts to query by the date range?</p>\n<p>Thank you for answering our question.</p>\n"}],"owner":{"account_id":25822155,"reputation":3,"user_id":19561044,"display_name":"Janz Harvey Sacdalan Ortega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73006012,"answer_count":2,"score":0,"last_activity_date":1658837368,"creation_date":1657988849,"question_id":73005890,"body_markdown":"current i am working to my school project using android studio, it is an attendance system where I store my data to Firestore and the user are able to download/export the data to become Excel file. What I am trying to do is how can I get the all data in a single document of a Collection in firestore\r\n\r\n\r\nhere&#39;s the code but it is only getting the first data in a document and it is showing in all the rows\r\n\r\n     export.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            firebaseFirestore.collection(&quot;QR&quot;).document(&quot;QRScanned&quot;).collection(LoginProfessorTabFragment.superName)\r\n                    .document(TeacherDash.subjectName1).collection(&quot;Record of Attendance&quot;)\r\n                    .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()){\r\n                        HSSFWorkbook hssfWorkbook = new HSSFWorkbook();\r\n                        HSSFSheet hssfSheet = hssfWorkbook.createSheet(TeacherDash.subjectName1);\r\n\r\n                        for (int i = 0; i &lt; 4; i++) {//for creating equal amount of row from the database\r\n                            HSSFRow row = hssfSheet.createRow(i);\r\n\r\n                            for (int j = 0; j &lt;= cellCount; j++) {//creating each cell depends on the cell counter\r\n                                for (DocumentSnapshot documentSnapshot : task.getResult()){\r\n\r\n                                    String a = documentSnapshot.getString(&quot;Name&quot;);\r\n                                    String b = documentSnapshot.getString(&quot;Date&quot;);\r\n                                    String c = documentSnapshot.getString(&quot;Time&quot;);\r\n                                    String d = documentSnapshot.getString(&quot;StudentNumber&quot;);\r\n                                    String e = documentSnapshot.getString(&quot;Course&quot;);\r\n                                    String f = documentSnapshot.getString(&quot;Subject&quot;);\r\n                                    String g = documentSnapshot.getString(&quot;Room&quot;);\r\n                                    String h = documentSnapshot.getString(&quot;Schedule&quot;);\r\n\r\n                                    arrayExport.add(a);\r\n                                    arrayExport.add(b);\r\n                                    arrayExport.add(c);\r\n                                    arrayExport.add(d);\r\n                                    arrayExport.add(e);\r\n                                    arrayExport.add(f);\r\n                                    arrayExport.add(g);\r\n                                    arrayExport.add(h);\r\n\r\n                                    arrayRemoveAll.add(a);\r\n                                    arrayRemoveAll.add(b);\r\n                                    arrayRemoveAll.add(c);\r\n                                    arrayRemoveAll.add(d);\r\n                                    arrayRemoveAll.add(e);\r\n                                    arrayRemoveAll.add(f);\r\n                                    arrayRemoveAll.add(g);\r\n                                    arrayRemoveAll.add(h);\r\n\r\n                                    row.createCell(0).setCellValue(arrayExport.get(0));\r\n                                    row.createCell(1).setCellValue(arrayExport.get(1));\r\n                                    row.createCell(2).setCellValue(arrayExport.get(2));\r\n                                    row.createCell(3).setCellValue(arrayExport.get(3));\r\n                                    row.createCell(4).setCellValue(arrayExport.get(4));\r\n                                    row.createCell(5).setCellValue(arrayExport.get(5));\r\n                                    row.createCell(6).setCellValue(arrayExport.get(6));\r\n                                    row.createCell(7).setCellValue(arrayExport.get(7));\r\n\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        try {\r\n                            if (!filePath.exists()) {\r\n                                filePath.createNewFile();\r\n                                Toast.makeText(TeacherDash.this, &quot;Download success&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            }\r\n\r\n                            FileOutputStream fileOutputStream = new FileOutputStream(filePath);\r\n                            hssfWorkbook.write(fileOutputStream);\r\n\r\n                            if (fileOutputStream != null) {\r\n                                fileOutputStream.flush();\r\n                                fileOutputStream.close();\r\n                            }\r\n                        } catch (Exception exception) {\r\n                            exception.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n\r\n","title":"how can i get all the data in document firestore?","body":"<p>current i am working to my school project using android studio, it is an attendance system where I store my data to Firestore and the user are able to download/export the data to become Excel file. What I am trying to do is how can I get the all data in a single document of a Collection in firestore</p>\n<p>here's the code but it is only getting the first data in a document and it is showing in all the rows</p>\n<pre><code> export.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        firebaseFirestore.collection(&quot;QR&quot;).document(&quot;QRScanned&quot;).collection(LoginProfessorTabFragment.superName)\n                .document(TeacherDash.subjectName1).collection(&quot;Record of Attendance&quot;)\n                .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()){\n                    HSSFWorkbook hssfWorkbook = new HSSFWorkbook();\n                    HSSFSheet hssfSheet = hssfWorkbook.createSheet(TeacherDash.subjectName1);\n\n                    for (int i = 0; i &lt; 4; i++) {//for creating equal amount of row from the database\n                        HSSFRow row = hssfSheet.createRow(i);\n\n                        for (int j = 0; j &lt;= cellCount; j++) {//creating each cell depends on the cell counter\n                            for (DocumentSnapshot documentSnapshot : task.getResult()){\n\n                                String a = documentSnapshot.getString(&quot;Name&quot;);\n                                String b = documentSnapshot.getString(&quot;Date&quot;);\n                                String c = documentSnapshot.getString(&quot;Time&quot;);\n                                String d = documentSnapshot.getString(&quot;StudentNumber&quot;);\n                                String e = documentSnapshot.getString(&quot;Course&quot;);\n                                String f = documentSnapshot.getString(&quot;Subject&quot;);\n                                String g = documentSnapshot.getString(&quot;Room&quot;);\n                                String h = documentSnapshot.getString(&quot;Schedule&quot;);\n\n                                arrayExport.add(a);\n                                arrayExport.add(b);\n                                arrayExport.add(c);\n                                arrayExport.add(d);\n                                arrayExport.add(e);\n                                arrayExport.add(f);\n                                arrayExport.add(g);\n                                arrayExport.add(h);\n\n                                arrayRemoveAll.add(a);\n                                arrayRemoveAll.add(b);\n                                arrayRemoveAll.add(c);\n                                arrayRemoveAll.add(d);\n                                arrayRemoveAll.add(e);\n                                arrayRemoveAll.add(f);\n                                arrayRemoveAll.add(g);\n                                arrayRemoveAll.add(h);\n\n                                row.createCell(0).setCellValue(arrayExport.get(0));\n                                row.createCell(1).setCellValue(arrayExport.get(1));\n                                row.createCell(2).setCellValue(arrayExport.get(2));\n                                row.createCell(3).setCellValue(arrayExport.get(3));\n                                row.createCell(4).setCellValue(arrayExport.get(4));\n                                row.createCell(5).setCellValue(arrayExport.get(5));\n                                row.createCell(6).setCellValue(arrayExport.get(6));\n                                row.createCell(7).setCellValue(arrayExport.get(7));\n\n                            }\n                        }\n                    }\n\n                    try {\n                        if (!filePath.exists()) {\n                            filePath.createNewFile();\n                            Toast.makeText(TeacherDash.this, &quot;Download success&quot;, Toast.LENGTH_SHORT).show();\n\n                        }\n\n                        FileOutputStream fileOutputStream = new FileOutputStream(filePath);\n                        hssfWorkbook.write(fileOutputStream);\n\n                        if (fileOutputStream != null) {\n                            fileOutputStream.flush();\n                            fileOutputStream.close();\n                        }\n                    } catch (Exception exception) {\n                        exception.printStackTrace();\n                    }\n                }\n            }\n        });\n    }\n});\n</code></pre>\n"},{"tags":["java","image","insert"],"answers":[{"tags":[],"owner":{"account_id":2059047,"reputation":11,"user_id":1836102,"display_name":"Jarabid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353337421,"creation_date":1353336118,"answer_id":13456066,"question_id":10215968,"body_markdown":"Create a `ImageSource`-object in your class.\r\n\r\n    ImageSource imagen =\r\n    new RenderedImageSource(ImageIO.read(new File(ruta_fisica_imagen)));\r\n Add this object into Map object\r\n\r\nIn template define `jooscript.image(name)`\r\n\r\nMore information, the document is Spanish\r\nhttp://www.montesinos.org.es/2010/11/jodreports-mini-how-to.html","title":"How to insert on runtime on odt document using jodreports and java","body":"<p>Create a <code>ImageSource</code>-object in your class.</p>\n\n<pre><code>ImageSource imagen =\nnew RenderedImageSource(ImageIO.read(new File(ruta_fisica_imagen)));\n</code></pre>\n\n<p>Add this object into Map object</p>\n\n<p>In template define <code>jooscript.image(name)</code></p>\n\n<p>More information, the document is Spanish\n<a href=\"http://www.montesinos.org.es/2010/11/jodreports-mini-how-to.html\" rel=\"nofollow\">http://www.montesinos.org.es/2010/11/jodreports-mini-how-to.html</a></p>\n"},{"tags":[],"owner":{"account_id":36386,"reputation":512,"user_id":103777,"display_name":"RefuX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396533707,"creation_date":1396533086,"answer_id":22839848,"question_id":10215968,"body_markdown":"Just want to confirm that approach from @Jarabid works.\r\n\r\n    //visual signature\r\n    ImageSource signatureImage = \r\n          new RenderedImageSource(ImageIO.read(new File(&quot;resources/Signature.png&quot;)));\r\n    data.put(&quot;signature&quot;, signatureImage);\r\n\r\nI&#39;m using LibreOffice on the Mac and what I did was:\r\n\r\n - Insert Image From File (used placeholder image)\r\n - Double click on image to bring up Picture properties\r\n - Select the &quot;Options&quot; tab\r\n - In name paste: jooscript.image(signature)\r\n\r\n\r\n\r\nWorked perfectly first try. Happy :)","title":"How to insert on runtime on odt document using jodreports and java","body":"<p>Just want to confirm that approach from @Jarabid works.</p>\n\n<pre><code>//visual signature\nImageSource signatureImage = \n      new RenderedImageSource(ImageIO.read(new File(\"resources/Signature.png\")));\ndata.put(\"signature\", signatureImage);\n</code></pre>\n\n<p>I'm using LibreOffice on the Mac and what I did was:</p>\n\n<ul>\n<li>Insert Image From File (used placeholder image)</li>\n<li>Double click on image to bring up Picture properties</li>\n<li>Select the \"Options\" tab</li>\n<li>In name paste: jooscript.image(signature)</li>\n</ul>\n\n<p>Worked perfectly first try. Happy :)</p>\n"},{"tags":[],"owner":{"account_id":12444146,"reputation":31,"user_id":9060934,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512553947,"creation_date":1512553415,"answer_id":47671147,"question_id":10215968,"body_markdown":"In my page https://xbrowser.altervista.org/informatica-portata/odt-converter/\r\nyou can find step by step how to implement your question.\r\n\r\nLibraries are:\r\n\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Map;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.IOUtils;\r\n    import net.sf.jooreports.templates.DocumentTemplate;\r\n    import net.sf.jooreports.templates.DocumentTemplateException;\r\n    import net.sf.jooreports.templates.DocumentTemplateFactory;\r\n    import net.sf.jooreports.templates.image.FileImageSource;\r\n\r\nThis is the method\r\n\r\n    private Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();;\r\n    private Logger log = Logger.getLogger(this.getClass().getName());\r\n    \r\n    private void createOdt() {\r\n    \r\n    DocumentTemplateFactory documentTemplateFactory = new DocumentTemplateFactory();\r\n    DocumentTemplate template = null;\r\n    \r\n    File inputFile = new File(&quot;/path/template.odt&quot;); //inserire il path relativo alla posizione del template .odt\r\n    try {\r\n    template = documentTemplateFactory.getTemplate(inputFile);\r\n    log.debug(&quot;input file ok -&gt; &quot; + inputFile);\r\n    } catch (IOException e) {\r\n    log.error(e);\r\n    }\r\n    try {\r\n    tmpFile = File.createTempFile(&quot;odt_&quot;, &quot;.odt&quot;);\r\n    \r\n    data.put(&quot;qrcode&quot;, new FileImageSource(new File(&quot;/img/src/qrcode.jpg&quot;))); //qui &#232; possibile generare per esempio un qrcode\r\n    template.createDocument(data, new FileOutputStream(tmpFile));\r\n    \r\n    log.debug(&quot;output file temporaneo creato (&quot;+ tmpFile.getAbsolutePath() + &quot;)..&quot;);\r\n    } catch (FileNotFoundException e) {\r\n    log.error(e);\r\n    } catch (IOException e) {\r\n    log.error(e);\r\n    } catch (DocumentTemplateException e) {\r\n    log.error(e);\r\n    }\r\n    }\r\n\r\nAt this point it is necessary that in the .odt template an image is inserted with the following modality:\r\n\r\n 1. Insert an image\r\n 2. Double click on the image to go into properties of image\r\n 3. Select &quot;options&quot; tab\r\n 4. In the field &quot;Name&quot; insert: jooscript.image(qrcode)\r\n\r\nAs you can see the name of the image shows qrcode which is exactly the name of the hashmap key in our code(`data.put(&quot;qrcode&quot;)`).\r\n\r\nIn this way it is possible to show dynamically generated images from the java code in a template defined in .odt.\r\n\r\nI hope you have been helpful\r\n","title":"How to insert on runtime on odt document using jodreports and java","body":"<p>In my page <a href=\"https://xbrowser.altervista.org/informatica-portata/odt-converter/\" rel=\"nofollow noreferrer\">https://xbrowser.altervista.org/informatica-portata/odt-converter/</a>\nyou can find step by step how to implement your question.</p>\n\n<p>Libraries are:</p>\n\n<pre><code>import java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Map;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.IOUtils;\nimport net.sf.jooreports.templates.DocumentTemplate;\nimport net.sf.jooreports.templates.DocumentTemplateException;\nimport net.sf.jooreports.templates.DocumentTemplateFactory;\nimport net.sf.jooreports.templates.image.FileImageSource;\n</code></pre>\n\n<p>This is the method</p>\n\n<pre><code>private Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();;\nprivate Logger log = Logger.getLogger(this.getClass().getName());\n\nprivate void createOdt() {\n\nDocumentTemplateFactory documentTemplateFactory = new DocumentTemplateFactory();\nDocumentTemplate template = null;\n\nFile inputFile = new File(\"/path/template.odt\"); //inserire il path relativo alla posizione del template .odt\ntry {\ntemplate = documentTemplateFactory.getTemplate(inputFile);\nlog.debug(\"input file ok -&gt; \" + inputFile);\n} catch (IOException e) {\nlog.error(e);\n}\ntry {\ntmpFile = File.createTempFile(\"odt_\", \".odt\");\n\ndata.put(\"qrcode\", new FileImageSource(new File(\"/img/src/qrcode.jpg\"))); //qui è possibile generare per esempio un qrcode\ntemplate.createDocument(data, new FileOutputStream(tmpFile));\n\nlog.debug(\"output file temporaneo creato (\"+ tmpFile.getAbsolutePath() + \")..\");\n} catch (FileNotFoundException e) {\nlog.error(e);\n} catch (IOException e) {\nlog.error(e);\n} catch (DocumentTemplateException e) {\nlog.error(e);\n}\n}\n</code></pre>\n\n<p>At this point it is necessary that in the .odt template an image is inserted with the following modality:</p>\n\n<ol>\n<li>Insert an image</li>\n<li>Double click on the image to go into properties of image</li>\n<li>Select \"options\" tab</li>\n<li>In the field \"Name\" insert: jooscript.image(qrcode)</li>\n</ol>\n\n<p>As you can see the name of the image shows qrcode which is exactly the name of the hashmap key in our code(<code>data.put(\"qrcode\")</code>).</p>\n\n<p>In this way it is possible to show dynamically generated images from the java code in a template defined in .odt.</p>\n\n<p>I hope you have been helpful</p>\n"}],"owner":{"account_id":1292668,"reputation":93,"user_id":1244450,"display_name":"crusader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658837210,"creation_date":1334775001,"question_id":10215968,"body_markdown":"I need to insert various images in a doc or odt document using java, the images are generated on runtime. At the time I am tempted to use jodreports because it is very easy to generate the template of the final document, but I am stuck because I cannot find any kind of documentation telling me how to insert images. If you can answer my question please post a code snippet or tell me which other library I can use.\r\n\r\nThanks a lot for your help(and sorry for my bad English).","title":"How to insert on runtime on odt document using jodreports and java","body":"<p>I need to insert various images in a doc or odt document using java, the images are generated on runtime. At the time I am tempted to use jodreports because it is very easy to generate the template of the final document, but I am stuck because I cannot find any kind of documentation telling me how to insert images. If you can answer my question please post a code snippet or tell me which other library I can use.</p>\n\n<p>Thanks a lot for your help(and sorry for my bad English).</p>\n"},{"tags":["java","xml","apache","solr"],"answers":[{"tags":[],"owner":{"account_id":6942613,"reputation":2485,"user_id":5328378,"accept_rate":60,"display_name":"achabahe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455537917,"creation_date":1455537917,"answer_id":35408943,"question_id":35407796,"body_markdown":"As it is mentionned in the wiki that you referenced in the link , instanceDir parameter in the http request is a required parameter. config, schema &amp; dataDir parameters are optional. (Default is to look for solrconfig.xml/schema.xml inside instanceDir. Default place to look for dataDir depends on solrconfig.xml.)\r\nExample of \r\n**Create Request**\r\n\r\n        http://localhost:8983/solr/admin/cores?action=CREATE&amp;name=coreX&amp;instanceDir=path_to_instance_directory&amp;\r\n    config=config_file_name.xml&amp;schema=schema_file_name.xml&amp;dataDir=data","title":"Can&#39;t find resource &#39;solrconfig.xml&#39; in classpath in solr","body":"<p>As it is mentionned in the wiki that you referenced in the link , instanceDir parameter in the http request is a required parameter. config, schema &amp; dataDir parameters are optional. (Default is to look for solrconfig.xml/schema.xml inside instanceDir. Default place to look for dataDir depends on solrconfig.xml.)\nExample of \n<strong>Create Request</strong></p>\n\n<pre><code>    http://localhost:8983/solr/admin/cores?action=CREATE&amp;name=coreX&amp;instanceDir=path_to_instance_directory&amp;\nconfig=config_file_name.xml&amp;schema=schema_file_name.xml&amp;dataDir=data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4428309,"reputation":776,"user_id":3606125,"display_name":"zak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606038532,"creation_date":1606038532,"answer_id":64952724,"question_id":35407796,"body_markdown":"4 Years on but this was never answered. \r\n\r\nThe example from the [documentation][1] worked for me with version 8.6: \r\n\r\nhttp://:localhost:8983/solr/admin/cores?action=CREATE&amp;name=core-name&amp;instanceDir=path/to/dir&amp;config=solrconfig.xml&amp;dataDir=data\r\n\r\n\r\n  [1]: https://lucene.apache.org/solr/guide/8_6/coreadmin-api.html#coreadmin-create","title":"Can&#39;t find resource &#39;solrconfig.xml&#39; in classpath in solr","body":"<p>4 Years on but this was never answered.</p>\n<p>The example from the <a href=\"https://lucene.apache.org/solr/guide/8_6/coreadmin-api.html#coreadmin-create\" rel=\"nofollow noreferrer\">documentation</a> worked for me with version 8.6:</p>\n<p>http://:localhost:8983/solr/admin/cores?action=CREATE&amp;name=core-name&amp;instanceDir=path/to/dir&amp;config=solrconfig.xml&amp;dataDir=data</p>\n"},{"tags":[],"owner":{"account_id":25898606,"reputation":81,"user_id":19624866,"display_name":"killshot"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1658836460,"creation_date":1658836460,"answer_id":73122939,"question_id":35407796,"body_markdown":"Go to solr core admin folder. &lt;br&gt;\r\nIn mac if you installed it from homebrew, it is `/opt/homebrew/var/lib/solr`\r\n\r\nNow delete the core, that you tried to create and recreate from terminal\r\n\r\n    solr delete -c my_solr\r\n\r\n    solr create_core -c y_solr\r\n\r\nHope it helps","title":"Can&#39;t find resource &#39;solrconfig.xml&#39; in classpath in solr","body":"<p>Go to solr core admin folder. <br>\nIn mac if you installed it from homebrew, it is <code>/opt/homebrew/var/lib/solr</code></p>\n<p>Now delete the core, that you tried to create and recreate from terminal</p>\n<pre><code>solr delete -c my_solr\n\nsolr create_core -c y_solr\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":7667133,"reputation":151,"user_id":5810551,"display_name":"Mohd Afeef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25081,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1658836460,"creation_date":1455534526,"question_id":35407796,"body_markdown":"problem\r\n\r\n* i cannot access solr admin page.\r\n* when i run url on localsystem: \r\nhttp://localhost:8983/solr/admin/cores?action=CREATE&amp;name=new_core&amp;configSet=basic_configs\r\n\r\nresponse\r\n\r\n        &lt;response&gt;\r\n\t\t&lt;lst name=&quot;responseHeader&quot;&gt;\r\n\t\t&lt;int name=&quot;status&quot;&gt;400&lt;/int&gt;\r\n\t\t&lt;int name=&quot;QTime&quot;&gt;17&lt;/int&gt;\r\n\t\t&lt;/lst&gt;\r\n\t\t&lt;lst name=&quot;error&quot;&gt;\r\n\t\t&lt;str name=&quot;msg&quot;&gt;\r\n\t\tError CREATEing SolrCore &#39;new_core&#39;: Unable to create core: new_core Caused by: Can&#39;t find resource &#39;solrconfig.xml&#39; in classpath or &#39;/var/lib/tomcat7/solr/new_core/conf&#39;\r\n\t\t&lt;/str&gt;\r\n\t\t&lt;int name=&quot;code&quot;&gt;400&lt;/int&gt;\r\n\t\t&lt;/lst&gt;\r\n\t\t&lt;/response&gt;\r\n\r\n* i have reffered link : https://wiki.apache.org/solr/CoreAdmin\r\n\r\n* solr.xml  code\r\n\r\n        &lt;solr persistent=&quot;false&quot;&gt;\r\n\t\t\t&lt;cores adminPath=&quot;/admin/cores&quot;&gt;\r\n\t\t\t\t&lt;core name=&quot;afeef&quot; instanceDir=&quot;afeef&quot; /&gt;\r\n\t\t\t&lt;/cores&gt;\r\n\t\t&lt;/solr&gt;\r\n\r\nerror:\r\n\r\n\r\n      SolrCore Initialization Failures\r\n\t\tafeef: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load config file /var/lib/tomcat7/solr/afeef/solrconfig.xml\r\n\t\tcoreX: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load config file /var/lib/tomcat7/solr/path_to_instance_directory/config_file_name.xml\r\n\t\tnew_core: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load config file /var/lib/tomcat7/solr/new_core/solrconfig.xml\r\n\r\n* when i run this cmd\r\n  \r\n     ps aux|grep java\r\n\r\n    tomcat7  23192  0.7  2.0 2579744 161852 ?      Sl   16:22   0:11 /usr/lib/jvm/default-java/bin/java -Djava.util.logging.config.file=/var/lib/tomcat7/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Xmx128m -XX:+UseConcMarkSweepGC -Djava.endorsed.dirs=/usr/share/tomcat7/endorsed -classpath /usr/share/tomcat7/bin/bootstrap.jar:/usr/share/tomcat7/bin/tomcat-juli.jar -Dcatalina.base=/var/lib/tomcat7 -Dcatalina.home=/usr/share/tomcat7 -Djava.io.tmpdir=/tmp/tomcat7-tomcat7-tmp org.apache.catalina.startup.Bootstrap start\r\nmohd     24047  0.0  0.0  15948  2276 pts/14   S+   16:45   0:00 grep --color=auto java\r\n\r\n\r\n* it was working properly suddenly it throws error .","title":"Can&#39;t find resource &#39;solrconfig.xml&#39; in classpath in solr","body":"<p>problem</p>\n\n<ul>\n<li>i cannot access solr admin page.</li>\n<li>when i run url on localsystem: \n<a href=\"http://localhost:8983/solr/admin/cores?action=CREATE&amp;name=new_core&amp;configSet=basic_configs\" rel=\"noreferrer\">http://localhost:8983/solr/admin/cores?action=CREATE&amp;name=new_core&amp;configSet=basic_configs</a></li>\n</ul>\n\n<p>response</p>\n\n<pre><code>    &lt;response&gt;\n    &lt;lst name=\"responseHeader\"&gt;\n    &lt;int name=\"status\"&gt;400&lt;/int&gt;\n    &lt;int name=\"QTime\"&gt;17&lt;/int&gt;\n    &lt;/lst&gt;\n    &lt;lst name=\"error\"&gt;\n    &lt;str name=\"msg\"&gt;\n    Error CREATEing SolrCore 'new_core': Unable to create core: new_core Caused by: Can't find resource 'solrconfig.xml' in classpath or '/var/lib/tomcat7/solr/new_core/conf'\n    &lt;/str&gt;\n    &lt;int name=\"code\"&gt;400&lt;/int&gt;\n    &lt;/lst&gt;\n    &lt;/response&gt;\n</code></pre>\n\n<ul>\n<li><p>i have reffered link : <a href=\"https://wiki.apache.org/solr/CoreAdmin\" rel=\"noreferrer\">https://wiki.apache.org/solr/CoreAdmin</a></p></li>\n<li><p>solr.xml  code</p>\n\n<pre><code>&lt;solr persistent=\"false\"&gt;\n    &lt;cores adminPath=\"/admin/cores\"&gt;\n        &lt;core name=\"afeef\" instanceDir=\"afeef\" /&gt;\n    &lt;/cores&gt;\n&lt;/solr&gt;\n</code></pre></li>\n</ul>\n\n<p>error:</p>\n\n<pre><code>  SolrCore Initialization Failures\n    afeef: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load config file /var/lib/tomcat7/solr/afeef/solrconfig.xml\n    coreX: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load config file /var/lib/tomcat7/solr/path_to_instance_directory/config_file_name.xml\n    new_core: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load config file /var/lib/tomcat7/solr/new_core/solrconfig.xml\n</code></pre>\n\n<ul>\n<li><p>when i run this cmd</p>\n\n<p>ps aux|grep java</p>\n\n<p>tomcat7  23192  0.7  2.0 2579744 161852 ?      Sl   16:22   0:11 /usr/lib/jvm/default-java/bin/java -Djava.util.logging.config.file=/var/lib/tomcat7/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Xmx128m -XX:+UseConcMarkSweepGC -Djava.endorsed.dirs=/usr/share/tomcat7/endorsed -classpath /usr/share/tomcat7/bin/bootstrap.jar:/usr/share/tomcat7/bin/tomcat-juli.jar -Dcatalina.base=/var/lib/tomcat7 -Dcatalina.home=/usr/share/tomcat7 -Djava.io.tmpdir=/tmp/tomcat7-tomcat7-tmp org.apache.catalina.startup.Bootstrap start\nmohd     24047  0.0  0.0  15948  2276 pts/14   S+   16:45   0:00 grep --color=auto java</p></li>\n<li><p>it was working properly suddenly it throws error .</p></li>\n</ul>\n"},{"tags":["java","angular","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1658832251,"post_id":73121856,"comment_id":129144409,"body_markdown":"Might have to to see the complete tutorial, you are compiling with java version 17 ? Sure the dependencies and everything is compatible ?","body":"Might have to to see the complete tutorial, you are compiling with java version 17 ? Sure the dependencies and everything is compatible ?"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1658833337,"post_id":73121856,"comment_id":129144835,"body_markdown":"You tried browser debug ?","body":"You tried browser debug ?"},{"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"score":0,"creation_date":1658834331,"post_id":73121856,"comment_id":129145213,"body_markdown":"@AchillesVan yes i tried,, there are not a single error in the whole project and still not running correctly","body":"@AchillesVan yes i tried,, there are not a single error in the whole project and still not running correctly"},{"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"score":0,"creation_date":1658834417,"post_id":73121856,"comment_id":129145255,"body_markdown":"@Harsh can version incompatibility  be a problem ? how do i know the what versions are compatible ?","body":"@Harsh can version incompatibility  be a problem ? how do i know the what versions are compatible ?"},{"owner":{"account_id":15415925,"reputation":71,"user_id":11121415,"display_name":"J. Roovers"},"score":0,"creation_date":1658837248,"post_id":73121856,"comment_id":129146333,"body_markdown":"Can you show us the product and controller class in java? Are you using getters (via lombok)?","body":"Can you show us the product and controller class in java? Are you using getters (via lombok)?"}],"answers":[{"tags":[],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658836346,"creation_date":1658836346,"answer_id":73122907,"question_id":73121856,"body_markdown":"Im doing exactly the same Chad project now, everything works, Java 17 and spring 2.6.1\r\n\r\nhere is application properties (i changed username, password):\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/full-stack-ecommerce?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=angfullecom\r\nspring.datasource.password=angfullecom\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n\r\nspring.data.rest.base-path=/api\r\n\r\n```\r\n\r\nAs you see i dont have your line: server.port=9091\r\n\r\nmy pom file: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ilze&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;full-ang-ecommerce&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;full-ang-ecommerce&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot Angular Ecommerce Project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nDid you accessed the project using address http://localhost:8080/api/products ?","title":"Spring boot project not reloading data from database","body":"<p>Im doing exactly the same Chad project now, everything works, Java 17 and spring 2.6.1</p>\n<p>here is application properties (i changed username, password):</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/full-stack-ecommerce?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=angfullecom\nspring.datasource.password=angfullecom\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n\nspring.data.rest.base-path=/api\n\n</code></pre>\n<p>As you see i dont have your line: server.port=9091</p>\n<p>my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ilze&lt;/groupId&gt;\n    &lt;artifactId&gt;full-ang-ecommerce&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;full-ang-ecommerce&lt;/name&gt;\n    &lt;description&gt;Spring Boot Angular Ecommerce Project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Did you accessed the project using address http://localhost:8080/api/products ?</p>\n"}],"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658836346,"creation_date":1658831744,"question_id":73121856,"body_markdown":"i have been working on a full stack application using angular and spring boot for the first time (i&#39;m following a full project tutorial),\r\n\r\ni downloaded a project from https://start.spring.io/ and added the following dependencies; mySQL driver , lombok, spring data JPA and REST repositories .after working on my project and executing it ,i found out that the data are not loaded from the database (PS: database not empty)    :[and here&#39;s my execution result][1]\r\n\r\n\r\n : [while this is the tutor&#39;s result][2]\r\n\r\n\r\ni ingore it and tried to consume the data in the front end using angular [and this is my result ][3]\r\n\r\n[while this is my tutor&#39;s results ][4]\r\n\r\ni&#39;ll share with you my application propreties here :\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/full-stack-ecommerce?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=ecommerceapp\r\nspring.datasource.password=ecommerceapp\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n\r\nspring.data.rest.base-path=/api\r\n\r\nserver.port=9091\r\n```\r\n\r\n\r\nand my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.luv2code&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-ecommerce&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-boot-ecommerce&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot Ecommerce Project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \r\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; \r\n                     \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; \r\n                      &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \r\n                      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \r\n                      &lt;/dependency&gt;\r\n&lt;dependency&gt; \r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; \r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; \r\n                        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\ni truly appreciate any help \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XejiO.png\r\n  [2]: https://i.stack.imgur.com/CRoZ4.png\r\n  [3]: https://i.stack.imgur.com/cA53K.png\r\n  [4]: https://i.stack.imgur.com/iRvT5.png\r\n ","title":"Spring boot project not reloading data from database","body":"<p>i have been working on a full stack application using angular and spring boot for the first time (i'm following a full project tutorial),</p>\n<p>i downloaded a project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> and added the following dependencies; mySQL driver , lombok, spring data JPA and REST repositories .after working on my project and executing it ,i found out that the data are not loaded from the database (PS: database not empty)    :<a href=\"https://i.stack.imgur.com/XejiO.png\" rel=\"nofollow noreferrer\">and here's my execution result</a></p>\n<p>: <a href=\"https://i.stack.imgur.com/CRoZ4.png\" rel=\"nofollow noreferrer\">while this is the tutor's result</a></p>\n<p>i ingore it and tried to consume the data in the front end using angular <a href=\"https://i.stack.imgur.com/cA53K.png\" rel=\"nofollow noreferrer\">and this is my result </a></p>\n<p><a href=\"https://i.stack.imgur.com/iRvT5.png\" rel=\"nofollow noreferrer\">while this is my tutor's results </a></p>\n<p>i'll share with you my application propreties here :</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/full-stack-ecommerce?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=ecommerceapp\nspring.datasource.password=ecommerceapp\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n\nspring.data.rest.base-path=/api\n\nserver.port=9091\n</code></pre>\n<p>and my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.luv2code&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-ecommerce&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-ecommerce&lt;/name&gt;\n    &lt;description&gt;Spring Boot Ecommerce Project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; \n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; \n                     \n&lt;/dependency&gt;\n&lt;dependency&gt; \n                      &lt;groupId&gt;org.hibernate&lt;/groupId&gt; \n                      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \n                      &lt;/dependency&gt;\n&lt;dependency&gt; \n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; \n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; \n                        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>i truly appreciate any help</p>\n"},{"tags":["java","android","properties","apk"],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361514078,"creation_date":1361514078,"answer_id":15018121,"question_id":15018074,"body_markdown":"If you can configure the location where the 3rd party library reads the config file from, you can put it in `res/assets`. The files in this directory will be packaged into your .apk file and installed as files in the Android file system.","title":"How to put java property file in apk?","body":"<p>If you can configure the location where the 3rd party library reads the config file from, you can put it in <code>res/assets</code>. The files in this directory will be packaged into your .apk file and installed as files in the Android file system.</p>\n"},{"tags":[],"owner":{"account_id":4459551,"reputation":1,"user_id":3628856,"display_name":"tarcom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400156921,"creation_date":1400156921,"answer_id":23678247,"question_id":15018074,"body_markdown":"I had the excact same problem. The solution i found usefull is explained here:\r\n\r\nhttp://www.maxters.net/2012/08/android-source-apk-x-res/\r\n\r\nYou will have to modify 3 files under build/core, then you can add any file/folder to your apk after updating your Android.mk file.","title":"How to put java property file in apk?","body":"<p>I had the excact same problem. The solution i found usefull is explained here:</p>\n\n<p><a href=\"http://www.maxters.net/2012/08/android-source-apk-x-res/\" rel=\"nofollow\">http://www.maxters.net/2012/08/android-source-apk-x-res/</a></p>\n\n<p>You will have to modify 3 files under build/core, then you can add any file/folder to your apk after updating your Android.mk file.</p>\n"}],"owner":{"account_id":1579215,"reputation":1336,"user_id":1464938,"accept_rate":58,"display_name":"brewphone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658836090,"creation_date":1361513919,"question_id":15018074,"body_markdown":"I have an android app project that uses an android lib project from third party (don&#39;t have source). The &quot;ant clean release&quot; generates the apk and the app runs well.\r\nNow a java property file is added into the lib project, locates under the root of the project folder. Build and install apk, log shows the newly added property file is not loaded. Unzip and dex2jar the apk, cannot see the property file from anywhere. So seems like the property file is not included in the apk build. So my question is how to include the property file into apk, should I do anything extra? Thanks for the help.","title":"How to put java property file in apk?","body":"<p>I have an android app project that uses an android lib project from third party (don't have source). The \"ant clean release\" generates the apk and the app runs well.\nNow a java property file is added into the lib project, locates under the root of the project folder. Build and install apk, log shows the newly added property file is not loaded. Unzip and dex2jar the apk, cannot see the property file from anywhere. So seems like the property file is not included in the apk build. So my question is how to include the property file into apk, should I do anything extra? Thanks for the help.</p>\n"},{"tags":["java","spring","unit-testing","autowired","javax-inject"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1658419297,"post_id":73025394,"comment_id":129052373,"body_markdown":"how did you annotate the Spring configuration?","body":"how did you annotate the Spring configuration?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1658439894,"post_id":73025394,"comment_id":129058680,"body_markdown":"Could you please describe the full code of your unit test?","body":"Could you please describe the full code of your unit test?"}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658835948,"creation_date":1658776535,"answer_id":73114292,"question_id":73025394,"body_markdown":"`@ComponentScan` does not work with `@ExtendWith`, use `@ContextConfiguration` instead\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes={ResourceProviders.class, ResourceProviderUtils.class, Beans.class})\r\npublic class ResourceProvidersTest {\r\n @Autowire ResourceProviders resourceProviders;\r\n @Autowire ResourceProviderUtils resourceProviderUtil;\r\n @Autowire Beans beans;\r\n ...\r\n}\r\n```\r\n\r\nOr use `@SpringJUnitConfig`; this annotation combines `@ExtendWith(SpringExtension.class)` with `@ContextConfiguration`\r\n\r\n```java\r\n@SpringJUnitConfig(classes={ResourceProviders.class, ResourceProviderUtils.class, Beans.class})\r\npublic class ResourceProvidersTest {\r\n @Autowire ResourceProviders resourceProviders;\r\n @Autowire ResourceProviderUtils resourceProviderUtil;\r\n @Autowire Beans beans;\r\n ...\r\n}\r\n\r\n```","title":"Autowiring a javax.inject.provider in a unit-test with spring context","body":"<p><code>@ComponentScan</code> does not work with <code>@ExtendWith</code>, use <code>@ContextConfiguration</code> instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes={ResourceProviders.class, ResourceProviderUtils.class, Beans.class})\npublic class ResourceProvidersTest {\n @Autowire ResourceProviders resourceProviders;\n @Autowire ResourceProviderUtils resourceProviderUtil;\n @Autowire Beans beans;\n ...\n}\n</code></pre>\n<p>Or use <code>@SpringJUnitConfig</code>; this annotation combines <code>@ExtendWith(SpringExtension.class)</code> with <code>@ContextConfiguration</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringJUnitConfig(classes={ResourceProviders.class, ResourceProviderUtils.class, Beans.class})\npublic class ResourceProvidersTest {\n @Autowire ResourceProviders resourceProviders;\n @Autowire ResourceProviderUtils resourceProviderUtil;\n @Autowire Beans beans;\n ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":15087658,"reputation":84,"user_id":10888409,"display_name":"Turtle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73114292,"answer_count":1,"score":1,"last_activity_date":1658835948,"creation_date":1658160511,"question_id":73025394,"body_markdown":"While playing around with the javax provider, I have created a spring configuration file with the following two Beans:\r\n     \r\n    @Bean\r\n    Provider&lt;Map&lt;Integer, JsonNode&gt;&gt; worldMapDataProvider() {\r\n      //code here\r\n    }\r\n\r\n    @Bean\r\n    Provider&lt;List&lt;Building&gt;&gt; buildingsDataProvider() {\r\n      //code here\r\n    }\r\n\r\nI am injecting these two beans in two different services like so:\r\n\r\n    @Resource\r\n    private Provider&lt;Map&lt;Integer, JsonNode&gt;&gt; worldMapDataProvider;\r\n\r\n    @Resource\r\n    private Provider&lt;List&lt;Building&gt;&gt; buildingsDataProvider;\r\n\r\nThe implementation works as expected and my depending controllers also return the data in the anticipated format. Now I wanted to add a few unit-tests for my implementation, by autowiring the providers &quot;into my test-setup&quot;.\r\n\r\nThe configuration for my test-class which worked at the end looks as follows:\r\n\r\n    @SpringBootTest(classes={ResourceProviders.class, ResourceProviderUtils.class, Beans.class})\r\n    class ResourceProvidersTest {\r\nResourceProvider is what I want to use; this class depends on ResourceProviderUtils which in turn depends on a jackson objectMapper which I have defined in Beans. Thus, the required dependency-chain is ResourceProviders -&gt; ResourceProviderUtils -&gt; Beans\r\n\r\nNow, to get to my **question**.\r\n\r\nI was trying to create an annotation-based solution for my test without using @SpringBootTest. To be precise, this is the configuration which I expected to work:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ComponentScan(&quot;{myBasePackage}&quot;)\r\n\r\nI injected the two Beans exactly the same way as I did in my services with the @Resource annotation. But in the test-case, I get the following exception:\r\n\r\n     No qualifying bean of type &#39;java.util.List&lt;{myBasePackage}.game.data.model.economy.buildings.Building&gt;&#39; available\r\n\r\nYou can see that it is not looking for a bean of type Provider&lt;List&lt;Building&gt;&gt;, but for one of type List&lt;Building&gt;. I have never delcared such a bean though and as such do not require it anywhere either. I always inject the provider into my services (and this test-case) and access the data using provider.get().\r\n\r\nI have a feeling that the provider is implicitly being resolved somehow, but this is just an assumption. Could anybody explain to me what exactly is happening here and why? I would like to get a better understanding of why this is happening with the given configuration.","title":"Autowiring a javax.inject.provider in a unit-test with spring context","body":"<p>While playing around with the javax provider, I have created a spring configuration file with the following two Beans:</p>\n<pre><code>@Bean\nProvider&lt;Map&lt;Integer, JsonNode&gt;&gt; worldMapDataProvider() {\n  //code here\n}\n\n@Bean\nProvider&lt;List&lt;Building&gt;&gt; buildingsDataProvider() {\n  //code here\n}\n</code></pre>\n<p>I am injecting these two beans in two different services like so:</p>\n<pre><code>@Resource\nprivate Provider&lt;Map&lt;Integer, JsonNode&gt;&gt; worldMapDataProvider;\n\n@Resource\nprivate Provider&lt;List&lt;Building&gt;&gt; buildingsDataProvider;\n</code></pre>\n<p>The implementation works as expected and my depending controllers also return the data in the anticipated format. Now I wanted to add a few unit-tests for my implementation, by autowiring the providers &quot;into my test-setup&quot;.</p>\n<p>The configuration for my test-class which worked at the end looks as follows:</p>\n<pre><code>@SpringBootTest(classes={ResourceProviders.class, ResourceProviderUtils.class, Beans.class})\nclass ResourceProvidersTest {\n</code></pre>\n<p>ResourceProvider is what I want to use; this class depends on ResourceProviderUtils which in turn depends on a jackson objectMapper which I have defined in Beans. Thus, the required dependency-chain is ResourceProviders -&gt; ResourceProviderUtils -&gt; Beans</p>\n<p>Now, to get to my <strong>question</strong>.</p>\n<p>I was trying to create an annotation-based solution for my test without using @SpringBootTest. To be precise, this is the configuration which I expected to work:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ComponentScan(&quot;{myBasePackage}&quot;)\n</code></pre>\n<p>I injected the two Beans exactly the same way as I did in my services with the @Resource annotation. But in the test-case, I get the following exception:</p>\n<pre><code> No qualifying bean of type 'java.util.List&lt;{myBasePackage}.game.data.model.economy.buildings.Building&gt;' available\n</code></pre>\n<p>You can see that it is not looking for a bean of type Provider&lt;List&gt;, but for one of type List. I have never delcared such a bean though and as such do not require it anywhere either. I always inject the provider into my services (and this test-case) and access the data using provider.get().</p>\n<p>I have a feeling that the provider is implicitly being resolved somehow, but this is just an assumption. Could anybody explain to me what exactly is happening here and why? I would like to get a better understanding of why this is happening with the given configuration.</p>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1658491068,"post_id":73079676,"comment_id":129070572,"body_markdown":"If I uncomment those parts I get Exceptions","body":"If I uncomment those parts I get Exceptions"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1658493433,"post_id":73079676,"comment_id":129071363,"body_markdown":"yes, &#39;Invalid key code&#39;","body":"yes, &#39;Invalid key code&#39;"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1658494013,"post_id":73079676,"comment_id":129071555,"body_markdown":"several kinds of treatments apart of actual showed in comments also didn&#39;t work","body":"several kinds of treatments apart of actual showed in comments also didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658835887,"creation_date":1658835887,"answer_id":73122785,"question_id":73079676,"body_markdown":"    &#39;{&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 129\r\n    &#39;}&#39;\r\n    &#39;[&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 128\r\n    &#39;]&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 521\r\n    &#39;~&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 52\r\n    &#39;@&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 50\r\n    &#39;#&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 51\r\n    &#39;^&#39; KeyEvent.VK_SHIFT, 128\r\n    &#39;\\&#39;\r\n    &#39;|&#39; KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 49\r\n\r\n","title":"Unable to write some symbols with java.awt.Robot in a Spanish Keyboard","body":"<pre><code>'{' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 129\n'}'\n'[' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 128\n']' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 521\n'~' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 52\n'@' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 50\n'#' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 51\n'^' KeyEvent.VK_SHIFT, 128\n'\\'\n'|' KeyEvent.VK_CONTROL, KeyEvent.VK_ALT, 49\n</code></pre>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658835887,"creation_date":1658489518,"question_id":73079676,"body_markdown":"Using java.awt.Robot class in Java with a Spanish Keyboard like that show in the image, I was unable to simulate the keyPress of the following symbols:\r\n\r\n\r\n    {\r\n    }\r\n    [\r\n    ]\r\n    ~\r\n    @\r\n    #\r\n    ^\r\n    \\\r\n    |\r\n\r\n\r\n\r\nHere is the code I am using:\r\n\r\n    package test;\r\n    \r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    public class Principal5 {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tRuntime.getRuntime().exec(&quot;notepad.exe&quot;);\r\n    \r\n    \t\tsleep(2000);\r\n    \r\n    \t\twriteString(&quot;aAbBcC012345();{} -=_+\\t\\n[]:\\&quot;,&lt;.&gt;~!@#$%^&amp;*\\\\|\\&#39;/?&#191;&#241;&#161;&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void writeString(String str) throws Exception {\r\n    \t\tRobot robot = new Robot();\r\n    \r\n    \t\t// Press keys using robot\r\n    \t\tchar car;\r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\tcar = str.charAt(i);\r\n    \t\t\ttry {\r\n    \t\t\t\t// Check if the current character is a capital letter\r\n    \t\t\t\tif (Character.isUpperCase(car)) {\r\n    \t\t\t\t\t// Press shift key\r\n    \t\t\t\t\trobot.keyPress(KeyEvent.VK_SHIFT);\r\n    \t\t\t\t\t// Press the current character\r\n    \t\t\t\t\trobot.keyPress(Character.toUpperCase(car));\r\n    \t\t\t\t\t// Release shift key\r\n    \t\t\t\t\trobot.keyRelease(KeyEvent.VK_SHIFT);\r\n    \t\t\t\t} else if (Character.isLetter(car)) {\r\n    \t\t\t\t\t// else display the character as it is\r\n    \t\t\t\t\trobot.keyPress(Character.toUpperCase(car));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsymbolPress(car);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t\tSystem.out.println(&quot;Exception for character &quot; + car + &quot; &quot; + e1.getMessage());\r\n    \t\t\t}\r\n    \r\n    \t\t\t// wait for 200ms\r\n    \t\t\tsleep(200);\r\n    \t\t}\r\n    \r\n    \t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n    \t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n    \t}\r\n    \r\n    \tprivate static void symbolPress(char car) throws Exception {\r\n    \t\tswitch (car) {\r\n    \t\t\tcase &#39;;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_COMMA);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase &#39;(&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_8);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;)&#39;:\t\t\t\t\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_9);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\t/*\r\n    \t\t\tcase &#39;{&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_BACK_QUOTE);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;}&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_DEAD_CEDILLA);\r\n    \t\t\t\tbreak;\r\n    \t\t\t*/\r\n    \t\t\r\n    \t\t\tcase &#39; &#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SPACE);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;-&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_MINUS);\r\n    \t\t\t\tbreak;\t\t\t\r\n    \t\t\tcase &#39;=&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_0);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;_&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_MINUS);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;+&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_PLUS);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;\\t&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_TAB);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;\\n&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ENTER);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\r\n    \t\t\t/*\r\n    \t\t\tcase &#39;[&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_OPEN_BRACKET);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;]&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_PLUS);\r\n    \t\t\t\tbreak;\r\n    \t\t\t*/\r\n    \t\t\t\r\n    \t\t\tcase &#39;:&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_PERIOD);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;&quot;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_2);\r\n    \t\t\t\tbreak;\t\t\t\t\r\n    \t\t\tcase &#39;,&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_COMMA);\r\n    \t\t\t\tbreak;\t\t\t\r\n    \t\t\tcase &#39;&lt;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_LESS);\r\n    \t\t\t\tbreak;\t\t\t\t\r\n    \t\t\tcase &#39;.&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_PERIOD);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;&gt;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_LESS);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tcase &#39;0&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_0);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;1&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_1);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;2&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_2);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;3&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_3);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;4&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_4);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;5&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_5);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;6&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_6);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;7&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_7);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;8&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_8);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;9&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_9);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\r\n    \t\t\t/*\r\n    \t\t\tcase &#39;~&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_4, KeyEvent.VK_ENTER);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;@&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_2);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;#&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_3);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;^&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_OPEN_BRACKET);\r\n    \t\t\t\tbreak;\t\t\t\t\r\n    \t\t\tcase &#39;\\\\&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_BACK_SLASH);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;|&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_BACK_SLASH);\r\n    \t\t\t\tbreak;\t\t\t\t\r\n    \t\t\t*/\r\n    \t\t\t\t\r\n    \t\t\tcase &#39;!&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_1);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;&#161;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_INVERTED_EXCLAMATION_MARK);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase &#39;$&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_4);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;%&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_5);\r\n    \t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\tcase &#39;&amp;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_6);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;*&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_PLUS);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;\\&#39;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_QUOTE);\r\n    \t\t\t\tbreak;\t\t\t\r\n    \t\t\tcase &#39;/&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_7);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;?&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_QUOTE);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;&#191;&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_SHIFT, KeyEvent.VK_INVERTED_EXCLAMATION_MARK);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\t/*\r\n    \t\t\tcase &#39;`&#39;:\r\n    \t\t\t\tdoType(KeyEvent.VK_BACK_QUOTE);\r\n    \t\t\t\tbreak;\r\n    \t\t\t*/\r\n    \t\t\t\t\r\n    \t\t\tdefault:\r\n    \t\t\t\tSystem.out.println(&quot;Not cathegorized character &quot; + car);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void doType(int... keyCodes) throws Exception {\r\n    \t\tdoType(keyCodes, 0, keyCodes.length);\r\n    \t}\r\n    \r\n    \tprivate static void doType(int[] keyCodes, int offset, int length) throws Exception {\r\n    \t\tif (length &gt; 0) {\r\n    \t\t\tRobot robot = new Robot();\r\n    \t\t\trobot.keyPress(keyCodes[offset]);\r\n    \t\t\tdoType(keyCodes, offset + 1, length - 1);\r\n    \t\t\trobot.keyRelease(keyCodes[offset]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Our custom sleep method\r\n    \tpublic static void sleep(long ms) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(ms);\r\n    \t\t} catch (Exception ignored) {\r\n    \t\t\t// Se ignora\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uaq3s.png","title":"Unable to write some symbols with java.awt.Robot in a Spanish Keyboard","body":"<p>Using java.awt.Robot class in Java with a Spanish Keyboard like that show in the image, I was unable to simulate the keyPress of the following symbols:</p>\n<pre><code>{\n}\n[\n]\n~\n@\n#\n^\n\\\n|\n</code></pre>\n<p>Here is the code I am using:</p>\n<pre><code>package test;\n\nimport java.awt.Robot;\nimport java.awt.event.KeyEvent;\n\npublic class Principal5 {\n\n    public static void main(String[] args) throws Exception {\n        Runtime.getRuntime().exec(&quot;notepad.exe&quot;);\n\n        sleep(2000);\n\n        writeString(&quot;aAbBcC012345();{} -=_+\\t\\n[]:\\&quot;,&lt;.&gt;~!@#$%^&amp;*\\\\|\\'/?¿ñ¡&quot;);\n    }\n\n    private static void writeString(String str) throws Exception {\n        Robot robot = new Robot();\n\n        // Press keys using robot\n        char car;\n        for (int i = 0; i &lt; str.length(); i++) {\n            car = str.charAt(i);\n            try {\n                // Check if the current character is a capital letter\n                if (Character.isUpperCase(car)) {\n                    // Press shift key\n                    robot.keyPress(KeyEvent.VK_SHIFT);\n                    // Press the current character\n                    robot.keyPress(Character.toUpperCase(car));\n                    // Release shift key\n                    robot.keyRelease(KeyEvent.VK_SHIFT);\n                } else if (Character.isLetter(car)) {\n                    // else display the character as it is\n                    robot.keyPress(Character.toUpperCase(car));\n                } else {\n                    symbolPress(car);\n                }\n            } catch (Exception e1) {\n                System.out.println(&quot;Exception for character &quot; + car + &quot; &quot; + e1.getMessage());\n            }\n\n            // wait for 200ms\n            sleep(200);\n        }\n\n        robot.keyPress(KeyEvent.VK_ENTER);\n        robot.keyRelease(KeyEvent.VK_ENTER);\n    }\n\n    private static void symbolPress(char car) throws Exception {\n        switch (car) {\n            case ';':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_COMMA);\n                break;\n\n            case '(':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_8);\n                break;\n            case ')':               \n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_9);\n                break;\n                \n            /*\n            case '{':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_BACK_QUOTE);\n                break;\n            case '}':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_DEAD_CEDILLA);\n                break;\n            */\n        \n            case ' ':\n                doType(KeyEvent.VK_SPACE);\n                break;\n            case '-':\n                doType(KeyEvent.VK_MINUS);\n                break;          \n            case '=':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_0);\n                break;\n            case '_':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_MINUS);\n                break;\n            case '+':\n                doType(KeyEvent.VK_PLUS);\n                break;\n            case '\\t':\n                doType(KeyEvent.VK_TAB);\n                break;\n            case '\\n':\n                doType(KeyEvent.VK_ENTER);\n                break;\n            \n            /*\n            case '[':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_OPEN_BRACKET);\n                break;\n            case ']':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_PLUS);\n                break;\n            */\n            \n            case ':':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_PERIOD);\n                break;\n            case '&quot;':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_2);\n                break;              \n            case ',':\n                doType(KeyEvent.VK_COMMA);\n                break;          \n            case '&lt;':\n                doType(KeyEvent.VK_LESS);\n                break;              \n            case '.':\n                doType(KeyEvent.VK_PERIOD);\n                break;\n            case '&gt;':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_LESS);\n                break;\n                \n            case '0':\n                doType(KeyEvent.VK_0);\n                break;\n            case '1':\n                doType(KeyEvent.VK_1);\n                break;\n            case '2':\n                doType(KeyEvent.VK_2);\n                break;\n            case '3':\n                doType(KeyEvent.VK_3);\n                break;\n            case '4':\n                doType(KeyEvent.VK_4);\n                break;\n            case '5':\n                doType(KeyEvent.VK_5);\n                break;\n            case '6':\n                doType(KeyEvent.VK_6);\n                break;\n            case '7':\n                doType(KeyEvent.VK_7);\n                break;\n            case '8':\n                doType(KeyEvent.VK_8);\n                break;\n            case '9':\n                doType(KeyEvent.VK_9);\n                break;\n            \n            /*\n            case '~':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_4, KeyEvent.VK_ENTER);\n                break;\n            case '@':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_2);\n                break;\n            case '#':\n                doType(KeyEvent.VK_ALT_GRAPH, KeyEvent.VK_3);\n                break;\n            case '^':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_OPEN_BRACKET);\n                break;              \n            case '\\\\':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_BACK_SLASH);\n                break;\n            case '|':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_BACK_SLASH);\n                break;              \n            */\n                \n            case '!':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_1);\n                break;\n            case '¡':\n                doType(KeyEvent.VK_INVERTED_EXCLAMATION_MARK);\n                break;\n\n            case '$':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_4);\n                break;\n            case '%':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_5);\n                break;                                          \n            case '&amp;':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_6);\n                break;\n            case '*':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_PLUS);\n                break;\n            case '\\'':\n                doType(KeyEvent.VK_QUOTE);\n                break;          \n            case '/':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_7);\n                break;\n            case '?':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_QUOTE);\n                break;\n            case '¿':\n                doType(KeyEvent.VK_SHIFT, KeyEvent.VK_INVERTED_EXCLAMATION_MARK);\n                break;\n\n            /*\n            case '`':\n                doType(KeyEvent.VK_BACK_QUOTE);\n                break;\n            */\n                \n            default:\n                System.out.println(&quot;Not cathegorized character &quot; + car);\n        }\n\n    }\n\n    private static void doType(int... keyCodes) throws Exception {\n        doType(keyCodes, 0, keyCodes.length);\n    }\n\n    private static void doType(int[] keyCodes, int offset, int length) throws Exception {\n        if (length &gt; 0) {\n            Robot robot = new Robot();\n            robot.keyPress(keyCodes[offset]);\n            doType(keyCodes, offset + 1, length - 1);\n            robot.keyRelease(keyCodes[offset]);\n        }\n    }\n\n    // Our custom sleep method\n    public static void sleep(long ms) {\n        try {\n            Thread.sleep(ms);\n        } catch (Exception ignored) {\n            // Se ignora\n        }\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Uaq3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uaq3s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","ssl","swagger-codegen","swagger-codegen-maven-plugin"],"owner":{"account_id":11277369,"reputation":11,"user_id":8271050,"display_name":"favisan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658835826,"creation_date":1658804931,"question_id":73117336,"body_markdown":"I&#39;m trying to change the default protocol of ApiClient generated by codegen from TLS to TLSv1.2.\r\nI&#39;m using swagger-codegen-maven-plugin. Is there any property I could use in my pom.xml? \r\nI tryed to use -Dhttps.protocols=TLSv1.2 in maven command line but no success.\r\n\r\nGenerated default ApiClient:\r\n\r\n    ...\r\n    private void applySslSettings() {\r\n            try {\r\n                TrustManager[] trustManagers = null;\r\n                HostnameVerifier hostnameVerifier = null;\r\n                if (!verifyingSsl) {\r\n                    TrustManager trustAll = new X509TrustManager() {\r\n                        @Override\r\n                        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\r\n                        @Override\r\n                        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\r\n                        @Override\r\n                        public X509Certificate[] getAcceptedIssuers() { return null; }\r\n                    };\r\n                    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                    trustManagers = new TrustManager[]{ trustAll };\r\n        ...\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;${project.basedir}/src/main/resources/admin.yaml&lt;/inputSpec&gt;\r\n                                &lt;output&gt;${generation.path}&lt;/output&gt;\r\n                                &lt;language&gt;java&lt;/language&gt;\r\n                                &lt;addCompileSourceRoot&gt;false&lt;/addCompileSourceRoot&gt;\r\n                                &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                                &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                                &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;dateLibrary&gt;joda&lt;/dateLibrary&gt;\r\n                                    &lt;modelPackage&gt;${codegen.model}&lt;/modelPackage&gt;\r\n                                    &lt;apiPackage&gt;${codegen.api}&lt;/apiPackage&gt;\r\n                                    &lt;configPackage&gt;${codegen.configuration}&lt;/configPackage&gt;\r\n                                    &lt;basePackage&gt;${codegen.base}&lt;/basePackage&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n       &lt;/plugin&gt;\r\n\r\nI read the docs but I didn&#39;t find any clue: https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen-maven-plugin/README.md\r\n\r\nConfigs:\r\nJava 11,\r\nswagger-codegen-maven-plugin v3.0.33","title":"maven plugin swagger-codegen-maven-plugin issue","body":"<p>I'm trying to change the default protocol of ApiClient generated by codegen from TLS to TLSv1.2.\nI'm using swagger-codegen-maven-plugin. Is there any property I could use in my pom.xml?\nI tryed to use -Dhttps.protocols=TLSv1.2 in maven command line but no success.</p>\n<p>Generated default ApiClient:</p>\n<pre><code>...\nprivate void applySslSettings() {\n        try {\n            TrustManager[] trustManagers = null;\n            HostnameVerifier hostnameVerifier = null;\n            if (!verifyingSsl) {\n                TrustManager trustAll = new X509TrustManager() {\n                    @Override\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\n                    @Override\n                    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {}\n                    @Override\n                    public X509Certificate[] getAcceptedIssuers() { return null; }\n                };\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n                trustManagers = new TrustManager[]{ trustAll };\n    ...\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/admin.yaml&lt;/inputSpec&gt;\n                            &lt;output&gt;${generation.path}&lt;/output&gt;\n                            &lt;language&gt;java&lt;/language&gt;\n                            &lt;addCompileSourceRoot&gt;false&lt;/addCompileSourceRoot&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;joda&lt;/dateLibrary&gt;\n                                &lt;modelPackage&gt;${codegen.model}&lt;/modelPackage&gt;\n                                &lt;apiPackage&gt;${codegen.api}&lt;/apiPackage&gt;\n                                &lt;configPackage&gt;${codegen.configuration}&lt;/configPackage&gt;\n                                &lt;basePackage&gt;${codegen.base}&lt;/basePackage&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre>\n<p>I read the docs but I didn't find any clue: <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen-maven-plugin/README.md\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen-maven-plugin/README.md</a></p>\n<p>Configs:\nJava 11,\nswagger-codegen-maven-plugin v3.0.33</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658828512,"post_id":73120812,"comment_id":129143017,"body_markdown":"You don&#39;t as JUnit5 doesn&#39;t know anything about Spring nor are those listeners executed or managed by Spring. You can use a Spring `TestExecutionLIstener` to do additional work.","body":"You don&#39;t as JUnit5 doesn&#39;t know anything about Spring nor are those listeners executed or managed by Spring. You can use a Spring <code>TestExecutionLIstener</code> to do additional work."},{"owner":{"account_id":4098502,"reputation":480,"user_id":3364652,"accept_rate":34,"display_name":"user3364652"},"score":0,"creation_date":1658828589,"post_id":73120812,"comment_id":129143054,"body_markdown":"The problem for me with Spring&#39;s &#39;AbstractTestExecutionListener&#39; is that it doesn&#39;t support events at the beginning/end of the whole suite like JUnit&#39;s &#39;TestExecutionListener&#39;","body":"The problem for me with Spring&#39;s &#39;AbstractTestExecutionListener&#39; is that it doesn&#39;t support events at the beginning/end of the whole suite like JUnit&#39;s &#39;TestExecutionListener&#39;"}],"answers":[{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658835631,"creation_date":1658835631,"answer_id":73122725,"question_id":73120812,"body_markdown":"You can achieve this by passing the `SpringExtension` class inside the junit `@ExtendWith` annotation.\r\n\r\nReference:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @TestPropertySource(locations = &quot;classpath:application.properties&quot;)\r\n    class TestApplicationProperty {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment environment;\r\n    \r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t\tassertNotNull(environment);\r\n    \t\tassertNotNull(environment.getProperty(&quot;spring.platform&quot;));\r\n    \t\tassertEquals(&quot;testplatform&quot;, environment.getProperty(&quot;spring.platform&quot;));\r\n    \t}\r\n    }\r\n\r\nIn my `application.properties` , i have these property\r\n\r\n    spring.platform: testplatform\r\n\r\n\r\n**Note:** `classpath:application.properties` refers to `src/test/resources/application.properties`\r\n","title":"How to inject Spring configuration into TestExecutionListener of JUnit5?","body":"<p>You can achieve this by passing the <code>SpringExtension</code> class inside the junit <code>@ExtendWith</code> annotation.</p>\n<p>Reference:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.env.Environment;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\n@ExtendWith(SpringExtension.class)\n@TestPropertySource(locations = &quot;classpath:application.properties&quot;)\nclass TestApplicationProperty {\n\n    @Autowired\n    private Environment environment;\n\n    @Test\n    void contextLoads() {\n        assertNotNull(environment);\n        assertNotNull(environment.getProperty(&quot;spring.platform&quot;));\n        assertEquals(&quot;testplatform&quot;, environment.getProperty(&quot;spring.platform&quot;));\n    }\n}\n</code></pre>\n<p>In my <code>application.properties</code> , i have these property</p>\n<pre><code>spring.platform: testplatform\n</code></pre>\n<p><strong>Note:</strong> <code>classpath:application.properties</code> refers to <code>src/test/resources/application.properties</code></p>\n"}],"owner":{"account_id":4098502,"reputation":480,"user_id":3364652,"accept_rate":34,"display_name":"user3364652"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658835631,"creation_date":1658827284,"question_id":73120812,"body_markdown":"I&#39;m running tests with JUnit5 + Spring Boot.\r\n\r\nI&#39;ve implemented a custom TestExecutionListener.\r\n\r\nI&#39;m trying to autowire the Environment object of Spring to this custom listener.\r\n\r\n\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.stereotype.Component;\r\n    import org.junit.platform.launcher.TestExecutionListener;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    @Component\r\n    public class MyListener implements TestExecutionListener {\r\n    \r\n      @Autowired\r\n      Environment env;\r\n    \r\n      @Override\r\n      public void testPlanExecutionStarted(TestPlan testPlan) {\r\n        System.out.println(&quot;Hi!&quot;);\r\n      }\r\n    }\r\n\r\nThis is not working and I&#39;m getting null for `env`.\r\n\r\nAs I understand, it is because JUnit is the one responsible to load this listener and not Spring.\r\n\r\nAlso the Spring context is loaded after that class is loaded and it is too late to inject.\r\n\r\nIs there a way to achieve what I&#39;m trying to do?\r\n\r\nThank you\r\n\r\n\r\n\r\n","title":"How to inject Spring configuration into TestExecutionListener of JUnit5?","body":"<p>I'm running tests with JUnit5 + Spring Boot.</p>\n<p>I've implemented a custom TestExecutionListener.</p>\n<p>I'm trying to autowire the Environment object of Spring to this custom listener.</p>\n<pre><code>import org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Component;\nimport org.junit.platform.launcher.TestExecutionListener;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@Component\npublic class MyListener implements TestExecutionListener {\n\n  @Autowired\n  Environment env;\n\n  @Override\n  public void testPlanExecutionStarted(TestPlan testPlan) {\n    System.out.println(&quot;Hi!&quot;);\n  }\n}\n</code></pre>\n<p>This is not working and I'm getting null for <code>env</code>.</p>\n<p>As I understand, it is because JUnit is the one responsible to load this listener and not Spring.</p>\n<p>Also the Spring context is loaded after that class is loaded and it is too late to inject.</p>\n<p>Is there a way to achieve what I'm trying to do?</p>\n<p>Thank you</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1435357,"reputation":1406,"user_id":1356874,"accept_rate":79,"display_name":"http8086"},"score":0,"creation_date":1658905942,"post_id":73122342,"comment_id":129165017,"body_markdown":"you are comparing apple to orange, the two methods are totally different things","body":"you are comparing apple to orange, the two methods are totally different things"}],"answers":[{"tags":[],"owner":{"account_id":16904606,"reputation":561,"user_id":12225165,"display_name":"Jaydeep parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658835595,"creation_date":1658835595,"answer_id":73122718,"question_id":73122342,"body_markdown":"`isFile()` and `exists()` both have different purpose or usage.\r\n\r\n**1. isFile()**\r\nIt will return true if the file is a normal file, not a directory/folder (returns false for folder or directory(.\r\n\r\n**2. exists()**\r\nIt will return true if the path (file or folder) exists, otherwise return false.","title":"Android Whether the file exists File.isFile() / flie.exists() Advantages and disadvantages Which one is recommended","body":"<p><code>isFile()</code> and <code>exists()</code> both have different purpose or usage.</p>\n<p><strong>1. isFile()</strong>\nIt will return true if the file is a normal file, not a directory/folder (returns false for folder or directory(.</p>\n<p><strong>2. exists()</strong>\nIt will return true if the path (file or folder) exists, otherwise return false.</p>\n"}],"owner":{"account_id":25755033,"reputation":1,"user_id":19506868,"display_name":"ye luo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658835595,"creation_date":1658833964,"question_id":73122342,"body_markdown":"Which scheme is recommended for judging the existence of files\r\n\r\n1.\r\n```\r\n if(new File(path).isFile()){\r\n            Log.i(TAG, &quot;path: YES&quot;);\r\n        }else {\r\n            Log.i(TAG, &quot;path: NO&quot;);\r\n        }\r\n``` \r\n2.\r\n```\r\n if(new File(path).exists()){\r\n            Log.i(TAG, &quot;path: YES&quot;);\r\n        }else {\r\n            Log.i(TAG, &quot;path: NO&quot;);\r\n        }\r\n\r\n```\r\n","title":"Android Whether the file exists File.isFile() / flie.exists() Advantages and disadvantages Which one is recommended","body":"<p>Which scheme is recommended for judging the existence of files</p>\n<p>1.</p>\n<pre><code> if(new File(path).isFile()){\n            Log.i(TAG, &quot;path: YES&quot;);\n        }else {\n            Log.i(TAG, &quot;path: NO&quot;);\n        }\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code> if(new File(path).exists()){\n            Log.i(TAG, &quot;path: YES&quot;);\n        }else {\n            Log.i(TAG, &quot;path: NO&quot;);\n        }\n\n</code></pre>\n"},{"tags":["java","hazelcast","distributed-caching","hazelcast-imap","composite-index"],"answers":[{"tags":[],"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646384227,"creation_date":1646384227,"answer_id":71348867,"question_id":71308212,"body_markdown":"&gt;The code is working fine with and without the index.\r\n\r\nThat&#39;s obvious, because the index isn&#39;t required. \r\n\r\nI didn&#39;t test, but index should be used in this case, all three columns should be used. There&#39;s no public API to see if an index is actually used. What you can do is to put a large number of entries into the map and the query should be much faster with the index. The other way is debugging the query execution, e.g. put a breakpoint in `Indexes.matchIndex()`, but I&#39;m not sure this class was the same in 3.12.","title":"How to create Composite index in Hazelcast","body":"<blockquote>\n<p>The code is working fine with and without the index.</p>\n</blockquote>\n<p>That's obvious, because the index isn't required.</p>\n<p>I didn't test, but index should be used in this case, all three columns should be used. There's no public API to see if an index is actually used. What you can do is to put a large number of entries into the map and the query should be much faster with the index. The other way is debugging the query execution, e.g. put a breakpoint in <code>Indexes.matchIndex()</code>, but I'm not sure this class was the same in 3.12.</p>\n"},{"tags":[],"owner":{"account_id":25898463,"reputation":66,"user_id":19624734,"display_name":"lpettinato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658835299,"creation_date":1658834871,"answer_id":73122567,"question_id":71308212,"body_markdown":"The only way I&#39;ve found is `IMap.getLocalMapStats().getIndexStats()` as described here: &lt;https://docs.hazelcast.org/docs/3.12.1/manual/html-single/index.html#map-index-statistics&gt;","title":"How to create Composite index in Hazelcast","body":"<p>The only way I've found is <code>IMap.getLocalMapStats().getIndexStats()</code> as described here: <a href=\"https://docs.hazelcast.org/docs/3.12.1/manual/html-single/index.html#map-index-statistics\" rel=\"nofollow noreferrer\">https://docs.hazelcast.org/docs/3.12.1/manual/html-single/index.html#map-index-statistics</a></p>\n"}],"owner":{"account_id":8043740,"reputation":675,"user_id":6064549,"accept_rate":67,"display_name":"Pratap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73122567,"answer_count":2,"score":0,"last_activity_date":1658835299,"creation_date":1646136206,"question_id":71308212,"body_markdown":"I am trying to improve performance of Hazelcast lookup by using composite key. I have a class entity\r\n\r\n```java\r\nClass Entity {\r\n    private Long id;\r\n    private String field1;\r\n    private String field2;\r\n    private String field3;\r\n    // getter and setters\r\n}\r\n```\r\n\r\nI have added a composite index comprising of above 3 fields in `hazelcast-server.xml`\r\n\r\n```xml\r\n...\r\n&lt;map name=&quot;Entity&quot;&gt;\r\n    &lt;max-idle-seconds&gt;2678400&lt;/max-idle-seconds&gt;\r\n    &lt;time-to-live-seconds&gt;2678400&lt;/time-to-live-seconds&gt;\r\n    &lt;backup-count&gt;3&lt;/backup-count&gt;\r\n    &lt;async-backup-count&gt;3&lt;/async-backup-count&gt;\r\n    &lt;read-backup-data&gt;true&lt;/read-backup-data&gt;\r\n        &lt;indexes&gt;\r\n        &lt;index ordered=&quot;false&quot;&gt;field1, field2, field3&lt;/index&gt;\r\n    &lt;/indexes&gt;\r\n&lt;/map&gt;\r\n...\r\n```\r\nQuerying Hazelcast map\r\n```java\r\nEntryObject entryObject = new PredicateBuilder().getEntryObject();\r\nPredicateBuilder predicate = entryObject.get(&quot;field1&quot;).equal(&quot;value1&quot;)\r\n    .and(entryObject.get(&quot;field2&quot;).equal(&quot;value2&quot;))\r\n    .and(entryObject.get(&quot;field3&quot;).equal(&quot;value3&quot;));\r\nIMap&lt;Long, Entity&gt; entityCache = hazelcastInstance.getMap(&quot;Entity&quot;)\r\nList&lt;Entity&gt; routings = new ArrayList&lt;&gt;(entityCache.values(predicate));\r\n```\r\nThe code is working fine with and without the index.\r\n\r\nQuestions\r\n 1. Is this the correct way of creating and using composite index?\r\n 2. Is there a way to check if the index is actually being used by the query? (I could not get any index related info on hazelcast management-center console)\r\n\r\nI have scanned a lot hazelcast documentation and internet forums but could not find concrete answers. Hazelcast version: 3.12; Java version: 8","title":"How to create Composite index in Hazelcast","body":"<p>I am trying to improve performance of Hazelcast lookup by using composite key. I have a class entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class Entity {\n    private Long id;\n    private String field1;\n    private String field2;\n    private String field3;\n    // getter and setters\n}\n</code></pre>\n<p>I have added a composite index comprising of above 3 fields in <code>hazelcast-server.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;map name=&quot;Entity&quot;&gt;\n    &lt;max-idle-seconds&gt;2678400&lt;/max-idle-seconds&gt;\n    &lt;time-to-live-seconds&gt;2678400&lt;/time-to-live-seconds&gt;\n    &lt;backup-count&gt;3&lt;/backup-count&gt;\n    &lt;async-backup-count&gt;3&lt;/async-backup-count&gt;\n    &lt;read-backup-data&gt;true&lt;/read-backup-data&gt;\n        &lt;indexes&gt;\n        &lt;index ordered=&quot;false&quot;&gt;field1, field2, field3&lt;/index&gt;\n    &lt;/indexes&gt;\n&lt;/map&gt;\n...\n</code></pre>\n<p>Querying Hazelcast map</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntryObject entryObject = new PredicateBuilder().getEntryObject();\nPredicateBuilder predicate = entryObject.get(&quot;field1&quot;).equal(&quot;value1&quot;)\n    .and(entryObject.get(&quot;field2&quot;).equal(&quot;value2&quot;))\n    .and(entryObject.get(&quot;field3&quot;).equal(&quot;value3&quot;));\nIMap&lt;Long, Entity&gt; entityCache = hazelcastInstance.getMap(&quot;Entity&quot;)\nList&lt;Entity&gt; routings = new ArrayList&lt;&gt;(entityCache.values(predicate));\n</code></pre>\n<p>The code is working fine with and without the index.</p>\n<p>Questions</p>\n<ol>\n<li>Is this the correct way of creating and using composite index?</li>\n<li>Is there a way to check if the index is actually being used by the query? (I could not get any index related info on hazelcast management-center console)</li>\n</ol>\n<p>I have scanned a lot hazelcast documentation and internet forums but could not find concrete answers. Hazelcast version: 3.12; Java version: 8</p>\n"},{"tags":["java","itext","pdf-generation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1658830622,"post_id":73119579,"comment_id":129143791,"body_markdown":"What have you tried, what stopped you?","body":"What have you tried, what stopped you?"},{"owner":{"account_id":25779200,"reputation":3,"user_id":19525054,"display_name":"shubham mahadik"},"score":0,"creation_date":1658833452,"post_id":73119579,"comment_id":129144875,"body_markdown":"Rectangle linkLocation = new Rectangle(x, y, x + w, y + h);\n  PdfDestination destination = new PdfDestination(PdfDestination.FIT);\n  PdfAnnotation link = PdfAnnotation.createLink(stamper.getWriter(),linkLocation,\n  PdfAnnotation.HIGHLIGHT_INVERT, reader.getNumberOfPages(), destination);\n  link.setBorder(new PdfBorderArray(0, 0, 0));\n  stamper.addAnnotation(link, 2);\n  stamper.getOverContent(2).addImage(img); //using this code i&#39;m able to addimg but its redirecting to last page i want it to redirect to brower how to do that?","body":"Rectangle linkLocation = new Rectangle(x, y, x + w, y + h);   PdfDestination destination = new PdfDestination(PdfDestination.FIT);   PdfAnnotation link = PdfAnnotation.createLink(stamper.getWriter(),linkLocation,   PdfAnnotation.HIGHLIGHT_INVERT, reader.getNumberOfPages(), destination);   link.setBorder(new PdfBorderArray(0, 0, 0));   stamper.addAnnotation(link, 2);   stamper.getOverContent(2).addImage(img); //using this code i&#39;m able to addimg but its redirecting to last page i want it to redirect to brower how to do that?"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658834897,"creation_date":1658834897,"answer_id":73122574,"question_id":73119579,"body_markdown":"In a comment you wrote \r\n\r\n&gt;     Rectangle linkLocation = new Rectangle(x, y, x + w, y + h);\r\n&gt;     PdfDestination destination = new PdfDestination(PdfDestination.FIT);\r\n&gt;     PdfAnnotation link = PdfAnnotation.createLink(stamper.getWriter(),linkLocation, PdfAnnotation.HIGHLIGHT_INVERT, reader.getNumberOfPages(), destination);\r\n&gt;     link.setBorder(new PdfBorderArray(0, 0, 0));\r\n&gt;     stamper.addAnnotation(link, 2);\r\n&gt;     stamper.getOverContent(2).addImage(img);\r\n&gt;\r\n&gt;using this code i&#39;m able to addimg but its redirecting to last page i want it to redirect to brower how to do that?\r\n\r\nIn your code you use a `PdfDestination` as target for the link. That kind of target, though, is only _a reference to a location in a PDF file_, see the JavaDocs of that class.\r\n\r\nInstead you should use an overload of `PdfAnnotation.createLink` that accepts a `PdfAction`, and use a `PdfAction` you created with a constructor that accepts an `URL` or a `String` containing your target URL.","title":"I want to create a multiple internal link &amp; external link in existing PDF using Java itext 5. How can i do that?","body":"<p>In a comment you wrote</p>\n<blockquote>\n<pre><code>Rectangle linkLocation = new Rectangle(x, y, x + w, y + h);\nPdfDestination destination = new PdfDestination(PdfDestination.FIT);\nPdfAnnotation link = PdfAnnotation.createLink(stamper.getWriter(),linkLocation, PdfAnnotation.HIGHLIGHT_INVERT, reader.getNumberOfPages(), destination);\nlink.setBorder(new PdfBorderArray(0, 0, 0));\nstamper.addAnnotation(link, 2);\nstamper.getOverContent(2).addImage(img);\n</code></pre>\n<p>using this code i'm able to addimg but its redirecting to last page i want it to redirect to brower how to do that?</p>\n</blockquote>\n<p>In your code you use a <code>PdfDestination</code> as target for the link. That kind of target, though, is only <em>a reference to a location in a PDF file</em>, see the JavaDocs of that class.</p>\n<p>Instead you should use an overload of <code>PdfAnnotation.createLink</code> that accepts a <code>PdfAction</code>, and use a <code>PdfAction</code> you created with a constructor that accepts an <code>URL</code> or a <code>String</code> containing your target URL.</p>\n"}],"owner":{"account_id":25779200,"reputation":3,"user_id":19525054,"display_name":"shubham mahadik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73122574,"answer_count":1,"score":0,"last_activity_date":1658834897,"creation_date":1658821836,"question_id":73119579,"body_markdown":"I want to add internal and external links in existing PDF using Itext5 for my task how can I do that ?","title":"I want to create a multiple internal link &amp; external link in existing PDF using Java itext 5. How can i do that?","body":"<p>I want to add internal and external links in existing PDF using Itext5 for my task how can I do that ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1658834297,"post_id":73122016,"comment_id":129145203,"body_markdown":"You can this validation with spring AOP.","body":"You can this validation with spring AOP."},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1658837836,"post_id":73122016,"comment_id":129146562,"body_markdown":"Share your code so we can have an idea of your use case","body":"Share your code so we can have an idea of your use case"}],"answers":[{"tags":[],"owner":{"account_id":24234668,"reputation":111,"user_id":18187974,"display_name":"Lazaros Chatzimichalakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658834793,"creation_date":1658834793,"answer_id":73122551,"question_id":73122016,"body_markdown":"You could let some endpoints to require no authorization/authentication like this\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable().authorizeRequests()\r\n                    .antMatchers(&quot;/endpoint1&quot;,&quot;/endpoint2&quot;).permitAll();\r\n        }\r\n\r\nin `WebSecurityConfigurerAdapter` class.","title":"Using roles only in certain endpoints | Spring Boot Security","body":"<p>You could let some endpoints to require no authorization/authentication like this</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(&quot;/endpoint1&quot;,&quot;/endpoint2&quot;).permitAll();\n    }\n</code></pre>\n<p>in <code>WebSecurityConfigurerAdapter</code> class.</p>\n"}],"owner":{"account_id":25898130,"reputation":23,"user_id":19624434,"display_name":"soudiogo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73122551,"answer_count":1,"score":-1,"last_activity_date":1658834793,"creation_date":1658832525,"question_id":73122016,"body_markdown":"context: I added a role admin to certain endpoints, and now, I need the role client, to call the other endpoints that don&#39;t require the admin role. \r\n \r\nmy question is : is it possible to call the endpoints that dont need the admin role with no role ? \r\n\r\nis my question clear ? thanks in advance ! ","title":"Using roles only in certain endpoints | Spring Boot Security","body":"<p>context: I added a role admin to certain endpoints, and now, I need the role client, to call the other endpoints that don't require the admin role.</p>\n<p>my question is : is it possible to call the endpoints that dont need the admin role with no role ?</p>\n<p>is my question clear ? thanks in advance !</p>\n"},{"tags":["java","class","inheritance","methods"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1658832511,"post_id":73121805,"comment_id":129144494,"body_markdown":"Possibly related: [Java Static and Dynamic Binding, Overloading](https://stackoverflow.com/q/34866199)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/34866199\">Java Static and Dynamic Binding, Overloading</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658831813,"creation_date":1658831813,"answer_id":73121872,"question_id":73121805,"body_markdown":"There are two aspects involved here:\r\n\r\n- *Overloading*, which occurs at compile-time, and which selects the appropriate method *signature* based on the compile-time method target and arguments\r\n- *Overriding*, which occurs at execution-time, and which selects the *implementation* of the method (with the compile-time-selected signature) based on the execution-time type of the object.\r\n\r\nIn your specific example, `x.m(special)` needs to resolve a call with a target type of `Top` (the *compile-time* type of `x`) and an argument of `Special` (the compile-time type of `special`).\r\n\r\nThere&#39;s only one method called `m` in `Top`, and that&#39;s `m(All)`, so that&#39;s what the compiler selects (after validating that there&#39;s an implicit conversion from `Special` to `All`). At execution time, the type of the object that `x` refers to is `Middle`, so it executes the implementation of `m(All)` in `Middle`. Likewise the compile-time type of `y` is `Top`, so the `m(All)` signature is picked, and it doesn&#39;t matter that `y` is actually an instance of `Bottom`, because `Bottom` doesn&#39;t override `m(All)`.","title":"Java class inheritance how does the compiler know which method needs to be used","body":"<p>There are two aspects involved here:</p>\n<ul>\n<li><em>Overloading</em>, which occurs at compile-time, and which selects the appropriate method <em>signature</em> based on the compile-time method target and arguments</li>\n<li><em>Overriding</em>, which occurs at execution-time, and which selects the <em>implementation</em> of the method (with the compile-time-selected signature) based on the execution-time type of the object.</li>\n</ul>\n<p>In your specific example, <code>x.m(special)</code> needs to resolve a call with a target type of <code>Top</code> (the <em>compile-time</em> type of <code>x</code>) and an argument of <code>Special</code> (the compile-time type of <code>special</code>).</p>\n<p>There's only one method called <code>m</code> in <code>Top</code>, and that's <code>m(All)</code>, so that's what the compiler selects (after validating that there's an implicit conversion from <code>Special</code> to <code>All</code>). At execution time, the type of the object that <code>x</code> refers to is <code>Middle</code>, so it executes the implementation of <code>m(All)</code> in <code>Middle</code>. Likewise the compile-time type of <code>y</code> is <code>Top</code>, so the <code>m(All)</code> signature is picked, and it doesn't matter that <code>y</code> is actually an instance of <code>Bottom</code>, because <code>Bottom</code> doesn't override <code>m(All)</code>.</p>\n"}],"owner":{"account_id":25897686,"reputation":1,"user_id":19624046,"display_name":"Niklas S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658834666,"creation_date":1658831522,"question_id":73121805,"body_markdown":"Can someone explain how does the compiler works out which method he should take \r\n\r\n```\r\nclass All { /* ... */ }\r\nclass Most extends All { /* ... */ }\r\nclass Special extends Most { /* ... */ }\r\n\r\nclass Top {\r\n    public void m( All p ) { System.out.print(&quot;A &quot;); }\r\n}\r\n\r\nclass Middle extends Top {\r\n    public void m( All p ) { System.out.print(&quot;M &quot;); }\r\n    public void m( Special p ) { System.out.print(&quot;L &quot;); }\r\n}\r\n\r\nclass Bottom extends Middle {\r\n    public void m( Most p ) { System.out.print(&quot;V &quot;); }\r\n    public void m( Special p ) { System.out.print(&quot;X &quot;); }\r\n}\r\n\r\nclass Test {\r\n    public static void run() {\r\n\r\n        All all = new All();\r\n        Most most = new Most();\r\n        Special special = new Special();\r\n    \r\n        Top x = new Middle();\r\n        Top y = new Bottom();\r\n        Middle z = new Bottom();\r\n    \r\n        x.m( most );\r\n        x.m( special );\r\n        y.m( all );\r\n        y.m( special );\r\n        z.m( all );\r\n        z.m( most );\r\n    }\r\n}\r\n```\r\n\r\nFor example you see a class inheritance of `top`, `middle` and `bottom`  and `all`, `most` and `special` in this code. If I run this I get the output of `M M M M M M`. \r\n\r\nI need to know why the compiler always takes the method m() of the middle class.\r\n\r\nWhy `x.M(special)` doesn&#39;t print out L?  \r\nWhy does `y.M(all)` and `y.M(special)` print out M again?  ","title":"Java class inheritance how does the compiler know which method needs to be used","body":"<p>Can someone explain how does the compiler works out which method he should take</p>\n<pre><code>class All { /* ... */ }\nclass Most extends All { /* ... */ }\nclass Special extends Most { /* ... */ }\n\nclass Top {\n    public void m( All p ) { System.out.print(&quot;A &quot;); }\n}\n\nclass Middle extends Top {\n    public void m( All p ) { System.out.print(&quot;M &quot;); }\n    public void m( Special p ) { System.out.print(&quot;L &quot;); }\n}\n\nclass Bottom extends Middle {\n    public void m( Most p ) { System.out.print(&quot;V &quot;); }\n    public void m( Special p ) { System.out.print(&quot;X &quot;); }\n}\n\nclass Test {\n    public static void run() {\n\n        All all = new All();\n        Most most = new Most();\n        Special special = new Special();\n    \n        Top x = new Middle();\n        Top y = new Bottom();\n        Middle z = new Bottom();\n    \n        x.m( most );\n        x.m( special );\n        y.m( all );\n        y.m( special );\n        z.m( all );\n        z.m( most );\n    }\n}\n</code></pre>\n<p>For example you see a class inheritance of <code>top</code>, <code>middle</code> and <code>bottom</code>  and <code>all</code>, <code>most</code> and <code>special</code> in this code. If I run this I get the output of <code>M M M M M M</code>.</p>\n<p>I need to know why the compiler always takes the method m() of the middle class.</p>\n<p>Why <code>x.M(special)</code> doesn't print out L?<br />\nWhy does <code>y.M(all)</code> and <code>y.M(special)</code> print out M again?</p>\n"},{"tags":["java","mockito","token","okhttp"],"comments":[{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1658834042,"post_id":73122304,"comment_id":129145113,"body_markdown":"Obtain a token, save it, wait until it expires, and you have a token that expired in the past.","body":"Obtain a token, save it, wait until it expires, and you have a token that expired in the past."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1658834631,"post_id":73122304,"comment_id":129145355,"body_markdown":"Usually the expiry time is also stored inside the token - at least from my experience with JWT (json web token) - but your token might be different.","body":"Usually the expiry time is also stored inside the token - at least from my experience with JWT (json web token) - but your token might be different."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1658834646,"post_id":73122304,"comment_id":129145364,"body_markdown":"@Bal&#225;zsN&#233;meth but that will make my tests last longer which I do not want","body":"@Bal&#225;zsN&#233;meth but that will make my tests last longer which I do not want"},{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1658837405,"post_id":73122304,"comment_id":129146391,"body_markdown":"the first answer is the same... it won&#39;t make tests longer.","body":"the first answer is the same... it won&#39;t make tests longer."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658834567,"creation_date":1658834567,"answer_id":73122487,"question_id":73122304,"body_markdown":"You can obtain a token once (manually?) and store it with your test code as resource. You could even set the computers date and time to some ancient point in time for just that single retrieval of the token.\r\n\r\nThen use that stored token in that test - once it is too old, it will keep that property for all subsequent test executions.\r\n\r\nTo make it clear: don&#39;t obtain the &quot;too old&quot; token dynamically with every test execution, but use a pre-stored one.","title":"Java | okhttp3 | how to test expired token","body":"<p>You can obtain a token once (manually?) and store it with your test code as resource. You could even set the computers date and time to some ancient point in time for just that single retrieval of the token.</p>\n<p>Then use that stored token in that test - once it is too old, it will keep that property for all subsequent test executions.</p>\n<p>To make it clear: don't obtain the &quot;too old&quot; token dynamically with every test execution, but use a pre-stored one.</p>\n"}],"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73122487,"answer_count":1,"score":1,"last_activity_date":1658834567,"creation_date":1658833770,"question_id":73122304,"body_markdown":"I am a tester and want to check: when I call endpoint with expired token (obtained from different endpoint) I obtain code 401 however I cannot manage that somehow and Im constantly getting 200.\r\n\r\nWhen I get token at endpoint **A** I have response like follows:\r\n\r\n    {\r\n       &quot;token&quot;: [token],\r\n       &quot;expiry&quot;: 1658832662994\r\n    }\r\n\r\nI have tried to fake callout to next method at some time however even though the time do is put to future (I have tested with printouts to console) I still cannot receive 401. Has anyone had alike issue? How can I call my okhttp3 method after my token has expired without making my tests last longer?\r\n\r\n     public void myMethod {\r\n            Clock clock = Clock\r\n                    .fixed(Instant\r\n                            .parse(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.US)\r\n                                    .format(new Date(timestampExpiry))\r\n                            .plusSeconds(1), ZoneId.of(&quot;UTC&quot;));\r\n    \r\n            Instant instant = Instant.now(clock);\r\n    \r\n            try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class)) {\r\n                mockedStatic.when(Instant::now).thenReturn(instant);\r\n                Instant now = Instant.now();\r\n    \r\n                [call out my okhttp3 method for my endpoint B using my token from endpoint A]\r\n            }\r\n        }","title":"Java | okhttp3 | how to test expired token","body":"<p>I am a tester and want to check: when I call endpoint with expired token (obtained from different endpoint) I obtain code 401 however I cannot manage that somehow and Im constantly getting 200.</p>\n<p>When I get token at endpoint <strong>A</strong> I have response like follows:</p>\n<pre><code>{\n   &quot;token&quot;: [token],\n   &quot;expiry&quot;: 1658832662994\n}\n</code></pre>\n<p>I have tried to fake callout to next method at some time however even though the time do is put to future (I have tested with printouts to console) I still cannot receive 401. Has anyone had alike issue? How can I call my okhttp3 method after my token has expired without making my tests last longer?</p>\n<pre><code> public void myMethod {\n        Clock clock = Clock\n                .fixed(Instant\n                        .parse(new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.US)\n                                .format(new Date(timestampExpiry))\n                        .plusSeconds(1), ZoneId.of(&quot;UTC&quot;));\n\n        Instant instant = Instant.now(clock);\n\n        try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class)) {\n            mockedStatic.when(Instant::now).thenReturn(instant);\n            Instant now = Instant.now();\n\n            [call out my okhttp3 method for my endpoint B using my token from endpoint A]\n        }\n    }\n</code></pre>\n"},{"tags":["java","elasticsearch","query-builder"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1658831416,"post_id":73121616,"comment_id":129144087,"body_markdown":"Can you add the code for `findAll()`?","body":"Can you add the code for <code>findAll()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658832652,"creation_date":1658832652,"answer_id":73122049,"question_id":73121616,"body_markdown":"Refer [source filtering][1] to fetch only few fields from Elasticsearch query results. \r\n\r\nAs explained in the same document example below code shows which fields to include and which to exclude.\r\n\r\n```\r\nString[] includeFields = new String[] {&quot;title&quot;, &quot;innerObject.*&quot;};\r\nString[] excludeFields = new String[] {&quot;user&quot;};\r\nsourceBuilder.fetchSource(includeFields, excludeFields);\r\n```\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html#_source_filtering","title":"Do not retrieve all columns with Elastic search query","body":"<p>Refer <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html#_source_filtering\" rel=\"nofollow noreferrer\">source filtering</a> to fetch only few fields from Elasticsearch query results.</p>\n<p>As explained in the same document example below code shows which fields to include and which to exclude.</p>\n<pre><code>String[] includeFields = new String[] {&quot;title&quot;, &quot;innerObject.*&quot;};\nString[] excludeFields = new String[] {&quot;user&quot;};\nsourceBuilder.fetchSource(includeFields, excludeFields);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658834105,"creation_date":1658834105,"answer_id":73122373,"question_id":73121616,"body_markdown":"With Spring Data Elasticsearch, you should try this instead:\r\n\r\n    ...\r\n\r\n    //include only specific fields\r\n    final SourceFilter sourceFilter = new FetchSourceFilter(new String[]{&quot;column_one&quot;, &quot;column_two&quot;}, null);\r\n\r\n    // assemble the query\r\n    Query searchQuery = new NativeSearchQueryBuilder().withQuery(query).build();        \r\n    searchQuery.addSourceFilter(sourceFilter);\r\n\r\n    ...\r\n","title":"Do not retrieve all columns with Elastic search query","body":"<p>With Spring Data Elasticsearch, you should try this instead:</p>\n<pre><code>...\n\n//include only specific fields\nfinal SourceFilter sourceFilter = new FetchSourceFilter(new String[]{&quot;column_one&quot;, &quot;column_two&quot;}, null);\n\n// assemble the query\nQuery searchQuery = new NativeSearchQueryBuilder().withQuery(query).build();        \nsearchQuery.addSourceFilter(sourceFilter);\n\n...\n</code></pre>\n"}],"owner":{"account_id":21198846,"reputation":47,"user_id":15589865,"display_name":"EleXorZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73122373,"answer_count":2,"score":0,"last_activity_date":1658834105,"creation_date":1658830705,"question_id":73121616,"body_markdown":"I have an Elastic search query and I would like to retrieve a certain column, not all.\r\n\r\nI make my request in java with BoolQUEryBuilder which gives:\r\n```\r\nBoolQueryBuilder query = boolQuery();\r\nquery.must(wildcardQuery(&#39;value&#39;, value + &quot;*&quot;));\r\nreturn findAll(query);\r\n```\r\nThe method findAll :\r\n\r\n```\r\nprotected List&lt;T&gt; findAll(final BoolQueryBuilder query) {\r\n    Query searchQuery = (new NativeSearchQueryBuilder()).withQuery(query).build();\r\n    SearchHits&lt;T&gt; searchHits = this.elasticsearchRestTemplate.search(searchQuery, this.getClazz(), this.elasticsearchRestTemplate.getIndexCoordinatesFor(this.getClazz()));\r\n    return (List)SearchHitSupport.unwrapSearchHits(searchHits);\r\n}\r\n```\r\n\r\nI would like to add a filter on the columns. To illustrate in SQL this gives:\r\n\r\n```\r\nSelect column_one, column_two from table;\r\n```","title":"Do not retrieve all columns with Elastic search query","body":"<p>I have an Elastic search query and I would like to retrieve a certain column, not all.</p>\n<p>I make my request in java with BoolQUEryBuilder which gives:</p>\n<pre><code>BoolQueryBuilder query = boolQuery();\nquery.must(wildcardQuery('value', value + &quot;*&quot;));\nreturn findAll(query);\n</code></pre>\n<p>The method findAll :</p>\n<pre><code>protected List&lt;T&gt; findAll(final BoolQueryBuilder query) {\n    Query searchQuery = (new NativeSearchQueryBuilder()).withQuery(query).build();\n    SearchHits&lt;T&gt; searchHits = this.elasticsearchRestTemplate.search(searchQuery, this.getClazz(), this.elasticsearchRestTemplate.getIndexCoordinatesFor(this.getClazz()));\n    return (List)SearchHitSupport.unwrapSearchHits(searchHits);\n}\n</code></pre>\n<p>I would like to add a filter on the columns. To illustrate in SQL this gives:</p>\n<pre><code>Select column_one, column_two from table;\n</code></pre>\n"},{"tags":["java","android","multithreading"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658834064,"creation_date":1658834064,"answer_id":73122365,"question_id":73122272,"body_markdown":"Easiest way would be to have the `Runnable` call some method when it completes, like this:\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            try {\r\n                ...\r\n            } catch (InterruptedException e) {\r\n                ...\r\n            }\r\n        }\r\n        // notify that I am done\r\n        notifyThreadDone();\r\n\r\n    private void notifyThreadDone() {\r\n        // Do whatever you want to do here\r\n    }\r\n\r\nNote that `notifyThreadDone()` will be called on the other `Thread`, **not** on the main (UI) thread. If you want to do something with UI elements (display something, etc.), make sure that you call `notifyThreadDone()` on the main (UI) thread by wrapping the call in `runOnUiThread()`.\r\n        ","title":"How can I find when Android Java thread finishes its task?","body":"<p>Easiest way would be to have the <code>Runnable</code> call some method when it completes, like this:</p>\n<pre><code>    for (int i = 0; i &lt; 10; i++) {\n        try {\n            ...\n        } catch (InterruptedException e) {\n            ...\n        }\n    }\n    // notify that I am done\n    notifyThreadDone();\n\nprivate void notifyThreadDone() {\n    // Do whatever you want to do here\n}\n</code></pre>\n<p>Note that <code>notifyThreadDone()</code> will be called on the other <code>Thread</code>, <strong>not</strong> on the main (UI) thread. If you want to do something with UI elements (display something, etc.), make sure that you call <code>notifyThreadDone()</code> on the main (UI) thread by wrapping the call in <code>runOnUiThread()</code>.</p>\n"}],"owner":{"account_id":3493872,"reputation":267,"user_id":2922740,"accept_rate":29,"display_name":"Kanishka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73122365,"answer_count":1,"score":2,"last_activity_date":1658834064,"creation_date":1658833615,"question_id":73122272,"body_markdown":"I have start a thread in my Android Apllication - in Java like bellow\r\n\r\n    new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    for (int i = 0; i &lt; 10; i++) {\r\n                        try {\r\n                            Log.d(TAG, &quot;startThread: &quot; + i);\r\n                            if (i == 5) {\r\n                                runOnUiThread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        buttonStartThread.setText(&quot;50%&quot;);\r\n                                    }\r\n                                });\r\n                            }\r\n                            Thread.sleep(1000);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }).start();\r\n\r\nHow I can find when the thread finishes its task when written like this.","title":"How can I find when Android Java thread finishes its task?","body":"<p>I have start a thread in my Android Apllication - in Java like bellow</p>\n<pre><code>new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for (int i = 0; i &lt; 10; i++) {\n                    try {\n                        Log.d(TAG, &quot;startThread: &quot; + i);\n                        if (i == 5) {\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    buttonStartThread.setText(&quot;50%&quot;);\n                                }\n                            });\n                        }\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }).start();\n</code></pre>\n<p>How I can find when the thread finishes its task when written like this.</p>\n"},{"tags":["java","pdf","favicon"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318153938,"creation_date":1318152781,"answer_id":7702596,"question_id":7702569,"body_markdown":"You can try the default favicon location - i.e. place `favicon.ico` on the root of server (which is normally the ROOT application). In production you will almost always be running as ROOT. But I don&#39;t know if browsers will recognize that - if they don&#39;t, it means you can&#39;t do it. PDFs are read in the browser only if there&#39;s a plugin, so perhaps the normal favicon resolution doesn&#39;t happen.","title":"How to set favicon.ico on a pdf link?","body":"<p>You can try the default favicon location - i.e. place <code>favicon.ico</code> on the root of server (which is normally the ROOT application). In production you will almost always be running as ROOT. But I don't know if browsers will recognize that - if they don't, it means you can't do it. PDFs are read in the browser only if there's a plugin, so perhaps the normal favicon resolution doesn't happen.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1318152828,"creation_date":1318152828,"answer_id":7702604,"question_id":7702569,"body_markdown":"You can&#39;t. A favicon is something that can be set on a HTML page, but not on a PDF file. You might be able to do that by linking to a HTML page which has a favicon and contains an iframe containing the PDF file, but it seems overkill for just a favicon.","title":"How to set favicon.ico on a pdf link?","body":"<p>You can't. A favicon is something that can be set on a HTML page, but not on a PDF file. You might be able to do that by linking to a HTML page which has a favicon and contains an iframe containing the PDF file, but it seems overkill for just a favicon.</p>\n"},{"tags":[],"owner":{"account_id":425142,"reputation":2778,"user_id":805569,"accept_rate":43,"display_name":"NCode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318154102,"creation_date":1318154102,"answer_id":7702696,"question_id":7702569,"body_markdown":"You could try using a php script to deliver the pdf and setting a favicon in the header there.\r\nBut I don&#39;t think thats worth the effort.","title":"How to set favicon.ico on a pdf link?","body":"<p>You could try using a php script to deliver the pdf and setting a favicon in the header there.\nBut I don't think thats worth the effort.</p>\n"},{"tags":[],"owner":{"account_id":4019790,"reputation":179,"user_id":3310566,"display_name":"Noji"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1392390703,"creation_date":1392390703,"answer_id":21782906,"question_id":7702569,"body_markdown":"In Chrome, do the following:\r\n\r\n1.  Place the favicon in the root of your website, and call it favicon.ico\r\n\r\n2.  Clear the cache\r\n\r\n3.  Load the PDF from your website","title":"How to set favicon.ico on a pdf link?","body":"<p>In Chrome, do the following:</p>\n\n<ol>\n<li><p>Place the favicon in the root of your website, and call it favicon.ico</p></li>\n<li><p>Clear the cache</p></li>\n<li><p>Load the PDF from your website</p></li>\n</ol>\n"}],"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12556,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1658834045,"creation_date":1318152458,"question_id":7702569,"body_markdown":"I am working on web project in java where i have to open a pdf file by the link :\r\n\r\n`&lt;a href=&quot;files/help.pdf&quot; target=&quot;_blank&quot; title=&quot;User Manual (pdf)&quot;&gt;View User Manual&lt;/a&gt;`\r\n\r\nI know how to set `favicon` on the links but didn&#39;t know how to set it on this pdf file..\r\n\r\nCan anyone have the answer?\r\n\r\nThanks in advance...\r\n","title":"How to set favicon.ico on a pdf link?","body":"<p>I am working on web project in java where i have to open a pdf file by the link :</p>\n\n<p><code>&lt;a href=\"files/help.pdf\" target=\"_blank\" title=\"User Manual (pdf)\"&gt;View User Manual&lt;/a&gt;</code></p>\n\n<p>I know how to set <code>favicon</code> on the links but didn't know how to set it on this pdf file..</p>\n\n<p>Can anyone have the answer?</p>\n\n<p>Thanks in advance...</p>\n"},{"tags":["java","elasticsearch","document"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1658829266,"post_id":73121211,"comment_id":129143299,"body_markdown":"recently I provided answer to similar question https://stackoverflow.com/a/73079487/4039431","body":"recently I provided answer to similar question <a href=\"https://stackoverflow.com/a/73079487/4039431\">stackoverflow.com/a/73079487/4039431</a>"},{"owner":{"account_id":25304395,"reputation":25,"user_id":19128164,"display_name":"David"},"score":0,"creation_date":1658829895,"post_id":73121211,"comment_id":129143536,"body_markdown":"So if i understand correctly, the answer is that there is no bulit-in way, not even for the paid version.","body":"So if i understand correctly, the answer is that there is no bulit-in way, not even for the paid version."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1658830017,"post_id":73121211,"comment_id":129143579,"body_markdown":"yes , there is long pending issue to implement it","body":"yes , there is long pending issue to implement it"},{"owner":{"account_id":25304395,"reputation":25,"user_id":19128164,"display_name":"David"},"score":0,"creation_date":1658830678,"post_id":73121211,"comment_id":129143817,"body_markdown":"Thanks a lot. So what do you recommend I should do to achive my goal? Should I change my Api so it will save my older document in the history index before it deletes it from the regular index?","body":"Thanks a lot. So what do you recommend I should do to achive my goal? Should I change my Api so it will save my older document in the history index before it deletes it from the regular index?"}],"answers":[{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658833567,"creation_date":1658831480,"answer_id":73121794,"question_id":73121211,"body_markdown":"There does not appear to be any built-in functionality for this. The easiest approach might be to copy the old version to the history index with the `_reindex` API, then write the new version:\r\n\r\n```\r\nPOST /_reindex\r\n{\r\n  &quot;source&quot;: {\r\n    &quot;index&quot;: &quot;your_index&quot;,\r\n    &quot;query&quot;: {\r\n      &quot;ids&quot;: {\r\n        &quot;values&quot;: [&quot;&lt;id&gt;&quot;]\r\n      }\r\n    }\r\n  },\r\n  &quot;dest&quot;: {\r\n    &quot;index&quot;: &quot;your_history_index&quot;\r\n  },\r\n  &quot;script&quot;: {\r\n    &quot;source&quot;: &quot;ctx.remove(\\&quot;_id\\&quot;)&quot;\r\n  }\r\n}\r\n\r\nPUT /your_index/_doc/&lt;id&gt;\r\n{\r\n   ...\r\n}\r\n```\r\n\r\nNote the script `ctx.remove(&quot;_id&quot;)` done as part of the `_reindex` operation, which ensures Elasticsearch will generate a new ID for the document instead of reusing the existing ID. This way, `your_history_index` will have one copy for each version of the document. Without this script, `_reindex` would preserve the ID and overwrite older copies.\r\n\r\nI assume that the documents contain an identifier that can be used to search `your_history_index` for all versions of a document, even though `_id` is reset.","title":"Moving older versions of documents to an history index when saving new ones (elasticsearch)","body":"<p>There does not appear to be any built-in functionality for this. The easiest approach might be to copy the old version to the history index with the <code>_reindex</code> API, then write the new version:</p>\n<pre><code>POST /_reindex\n{\n  &quot;source&quot;: {\n    &quot;index&quot;: &quot;your_index&quot;,\n    &quot;query&quot;: {\n      &quot;ids&quot;: {\n        &quot;values&quot;: [&quot;&lt;id&gt;&quot;]\n      }\n    }\n  },\n  &quot;dest&quot;: {\n    &quot;index&quot;: &quot;your_history_index&quot;\n  },\n  &quot;script&quot;: {\n    &quot;source&quot;: &quot;ctx.remove(\\&quot;_id\\&quot;)&quot;\n  }\n}\n\nPUT /your_index/_doc/&lt;id&gt;\n{\n   ...\n}\n</code></pre>\n<p>Note the script <code>ctx.remove(&quot;_id&quot;)</code> done as part of the <code>_reindex</code> operation, which ensures Elasticsearch will generate a new ID for the document instead of reusing the existing ID. This way, <code>your_history_index</code> will have one copy for each version of the document. Without this script, <code>_reindex</code> would preserve the ID and overwrite older copies.</p>\n<p>I assume that the documents contain an identifier that can be used to search <code>your_history_index</code> for all versions of a document, even though <code>_id</code> is reset.</p>\n"},{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658832350,"creation_date":1658832350,"answer_id":73121977,"question_id":73121211,"body_markdown":"As there is no in built method for your use-case, you need to do it yourself in your application, I don&#39;t think Elasticsearch is best suited for creating the history of a document as as soon as you update the document in the history_index you will loose its previous history and if I understand correctly you want to have the complete history of a document.\r\n\r\nI guess best is to use any RDBMS or NoSQL where you create a new history entry of a document (document_id of Elasticsearch and its version number will help you to construct the complete history of your Elasticsearch document).\r\n\r\nAbove DB you can update as soon as you get a update on Elasticsearch document .","title":"Moving older versions of documents to an history index when saving new ones (elasticsearch)","body":"<p>As there is no in built method for your use-case, you need to do it yourself in your application, I don't think Elasticsearch is best suited for creating the history of a document as as soon as you update the document in the history_index you will loose its previous history and if I understand correctly you want to have the complete history of a document.</p>\n<p>I guess best is to use any RDBMS or NoSQL where you create a new history entry of a document (document_id of Elasticsearch and its version number will help you to construct the complete history of your Elasticsearch document).</p>\n<p>Above DB you can update as soon as you get a update on Elasticsearch document .</p>\n"}],"owner":{"account_id":25304395,"reputation":25,"user_id":19128164,"display_name":"David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73121977,"answer_count":2,"score":2,"last_activity_date":1658833567,"creation_date":1658828914,"question_id":73121211,"body_markdown":"I want to know if there is a built-in solution for something i need in Elasticsearch.\r\nI want that everytime that my document is being replaced by a newer version of itself (with the same ID), the older version will not be deleted, but moved to an history index.\r\nIn that history index, I dont want replacments of older versions, but accumulation of them.\r\nDo you know if there is a built-in solution for this, or will I need to program it myself in my API?\r\nThank you.","title":"Moving older versions of documents to an history index when saving new ones (elasticsearch)","body":"<p>I want to know if there is a built-in solution for something i need in Elasticsearch.\nI want that everytime that my document is being replaced by a newer version of itself (with the same ID), the older version will not be deleted, but moved to an history index.\nIn that history index, I dont want replacments of older versions, but accumulation of them.\nDo you know if there is a built-in solution for this, or will I need to program it myself in my API?\nThank you.</p>\n"},{"tags":["java","android","android-searchmanager"],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658833149,"creation_date":1658833149,"answer_id":73122154,"question_id":73121730,"body_markdown":"In the [SearchView guide](https://developer.android.com/guide/topics/search/search-dialog#LifeCycle) says:\r\n&gt;If the user cancels search by pressing the Back button, the search dialog closes and the activity regains input focus. You can register to be notified when the search dialog is closed with setOnDismissListener() and/or setOnCancelListener(). You should need to register only the OnDismissListener, because it is called every time the search dialog closes. The OnCancelListener only pertains to events in which the user explicitly exited the search dialog, so it is not called when a search is executed (in which case, the search dialog naturally disappears).\r\n\r\nSo if you want to handle **dismissal that occurs after user has searched (search is executed)** then you must handle it by implementing [OnDismissListener](https://developer.android.com/reference/android/app/SearchManager.OnDismissListener).  \r\n\r\nIf you want to handle **cancellation that occurs when the searchview is closed without doing any search (search is not executed)** then you handle it in an [OnCancelListener](https://developer.android.com/reference/android/app/SearchManager.OnCancelListener).\r\n\r\nYou can handle the both as well.","title":"android development java searchManager OnCancelListener fails to start activity onCancel method","body":"<p>In the <a href=\"https://developer.android.com/guide/topics/search/search-dialog#LifeCycle\" rel=\"nofollow noreferrer\">SearchView guide</a> says:</p>\n<blockquote>\n<p>If the user cancels search by pressing the Back button, the search dialog closes and the activity regains input focus. You can register to be notified when the search dialog is closed with setOnDismissListener() and/or setOnCancelListener(). You should need to register only the OnDismissListener, because it is called every time the search dialog closes. The OnCancelListener only pertains to events in which the user explicitly exited the search dialog, so it is not called when a search is executed (in which case, the search dialog naturally disappears).</p>\n</blockquote>\n<p>So if you want to handle <strong>dismissal that occurs after user has searched (search is executed)</strong> then you must handle it by implementing <a href=\"https://developer.android.com/reference/android/app/SearchManager.OnDismissListener\" rel=\"nofollow noreferrer\">OnDismissListener</a>.</p>\n<p>If you want to handle <strong>cancellation that occurs when the searchview is closed without doing any search (search is not executed)</strong> then you handle it in an <a href=\"https://developer.android.com/reference/android/app/SearchManager.OnCancelListener\" rel=\"nofollow noreferrer\">OnCancelListener</a>.</p>\n<p>You can handle the both as well.</p>\n"}],"owner":{"account_id":25897954,"reputation":1,"user_id":19624285,"display_name":"Jean Bain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658833149,"creation_date":1658831224,"question_id":73121730,"body_markdown":"I am trying to trigger an onCancel() when the user exit of the search dialog by pressing the left arrow button, but this never occurs. I tried register the cancel listener in the main activity OnCreate(), or in onViewCreated() ; also in the fragment using the search box. The code :\r\n\r\n    final SearchManager searchManager = (SearchManager)getSystemService(SEARCH_SERVICE);\r\n    searchManager.setOnCancelListener(\r\n    \tnew SearchManager.OnCancelListener() {\r\n    \t    @Override\r\n    \t    public void onCancel() {\r\n    \t\t    Log.e(&quot;cancel&quot;,&quot;--------------&quot;);\r\n    \t    }\r\n    \t}\r\n    );\r\n\r\nThe Log.e line is never called.\r\nThanks","title":"android development java searchManager OnCancelListener fails to start activity onCancel method","body":"<p>I am trying to trigger an onCancel() when the user exit of the search dialog by pressing the left arrow button, but this never occurs. I tried register the cancel listener in the main activity OnCreate(), or in onViewCreated() ; also in the fragment using the search box. The code :</p>\n<pre><code>final SearchManager searchManager = (SearchManager)getSystemService(SEARCH_SERVICE);\nsearchManager.setOnCancelListener(\n    new SearchManager.OnCancelListener() {\n        @Override\n        public void onCancel() {\n            Log.e(&quot;cancel&quot;,&quot;--------------&quot;);\n        }\n    }\n);\n</code></pre>\n<p>The Log.e line is never called.\nThanks</p>\n"},{"tags":["java","spring","transactions","connection-pooling","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658818909,"post_id":73115380,"comment_id":129139214,"body_markdown":"There are no limitations per thread, only pool sizes. If the pool is exhausted you will get this exception. However the fact that you use certain code to close a connection makes me wonder why you are even messing around with connections yourself. It seems like you are opening double the amount of connections due to Spring opening and using them and you youself that is messing around with it.","body":"There are no limitations per thread, only pool sizes. If the pool is exhausted you will get this exception. However the fact that you use certain code to close a connection makes me wonder why you are even messing around with connections yourself. It seems like you are opening double the amount of connections due to Spring opening and using them and you youself that is messing around with it."},{"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"score":0,"creation_date":1658823109,"post_id":73115380,"comment_id":129140727,"body_markdown":"@M.Deinum when we use ```Propagation.REQUIRES_NEW```  as transaction propagation type, It will create a new database connection and if the first transaction has dirty commits it&#39;s not usable that&#39;s why we&#39;re creating a new connection through using ```Propagation.REQUIRES_NEW```","body":"@M.Deinum when we use <code>Propagation.REQUIRES_NEW</code>  as transaction propagation type, It will create a new database connection and if the first transaction has dirty commits it&#39;s not usable that&#39;s why we&#39;re creating a new connection through using <code>Propagation.REQUIRES_NEW</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658823576,"post_id":73115380,"comment_id":129140908,"body_markdown":"I don&#39;t need to explain to me what `REQUIRES_NEW` entails. My concern is that when you are mangling the connection yourself you are already doing the wrong thing. Manually closing it is doing the wrong thing, as that will influence the current ongoing transaction.","body":"I don&#39;t need to explain to me what <code>REQUIRES_NEW</code> entails. My concern is that when you are mangling the connection yourself you are already doing the wrong thing. Manually closing it is doing the wrong thing, as that will influence the current ongoing transaction."}],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658794178,"creation_date":1658794178,"answer_id":73116510,"question_id":73115380,"body_markdown":"if you are using spring boot add below property in the application.property to define pool size\r\n\r\n    spring.datasource.hikari.minimum-idle= 10 \r\n    spring.datasource.hikari.maximum-pool-size= 100","title":"Java Spring Number of database connections per thread","body":"<p>if you are using spring boot add below property in the application.property to define pool size</p>\n<pre><code>spring.datasource.hikari.minimum-idle= 10 \nspring.datasource.hikari.maximum-pool-size= 100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658833010,"creation_date":1658806258,"answer_id":73117448,"question_id":73115380,"body_markdown":"&gt; How I close the current (previous) connection :\r\n&gt;\r\n&gt; ``` \r\n&gt; c = DataSourceUtils.getConnection(dataSource); \r\n&gt; c.close(); \r\n&gt; ```\r\n\r\ndidn&#39;t get that point, if you are using `spring-tx` why do not use it&#39;s `JdbcTemplate`? Moreover, make sure that you are closing connection in finally block:\r\n\r\n```java\r\nConnection c = null;\r\ntry {\r\n  c = DataSourceUtils.getConnection(dataSource);\r\n  ...\r\n} finally {\r\n  if (c != null) {\r\n     c.close();\r\n  }\r\n}\r\n```\r\nor using try-with-resources:\r\n```java\r\ntry (Connection c = DataSourceUtils.getConnection(dataSource)) {\r\n   ...\r\n}\r\n```\r\n\r\nin regards to `@Transactional(Propagation.REQUIRES_NEW)` - [consider refactoring you code](https://stackoverflow.com/questions/72163950/overriding-transaction-propagation-levels-for-methods-having-springs-transacti/72165975#72165975).\r\n\r\n\r\n----------\r\n\r\nUPD. The correct pattern to release DB connection acquired via `DataSourceUtils#getConnection` is following:\r\n\r\n```java\r\ntry {\r\n  c = DataSourceUtils.getConnection(dataSource);\r\n  ...\r\n} finally {\r\n  if (c != null) {\r\n     DataSourceUtils.releaseConnection(c, dataSource);\r\n  }\r\n}\r\n```","title":"Java Spring Number of database connections per thread","body":"<blockquote>\n<p>How I close the current (previous) connection :</p>\n<pre><code>c = DataSourceUtils.getConnection(dataSource); \nc.close(); \n</code></pre>\n</blockquote>\n<p>didn't get that point, if you are using <code>spring-tx</code> why do not use it's <code>JdbcTemplate</code>? Moreover, make sure that you are closing connection in finally block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection c = null;\ntry {\n  c = DataSourceUtils.getConnection(dataSource);\n  ...\n} finally {\n  if (c != null) {\n     c.close();\n  }\n}\n</code></pre>\n<p>or using try-with-resources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection c = DataSourceUtils.getConnection(dataSource)) {\n   ...\n}\n</code></pre>\n<p>in regards to <code>@Transactional(Propagation.REQUIRES_NEW)</code> - <a href=\"https://stackoverflow.com/questions/72163950/overriding-transaction-propagation-levels-for-methods-having-springs-transacti/72165975#72165975\">consider refactoring you code</a>.</p>\n<hr />\n<p>UPD. The correct pattern to release DB connection acquired via <code>DataSourceUtils#getConnection</code> is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  c = DataSourceUtils.getConnection(dataSource);\n  ...\n} finally {\n  if (c != null) {\n     DataSourceUtils.releaseConnection(c, dataSource);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658833010,"creation_date":1658783399,"question_id":73115380,"body_markdown":"I was wondering whether we have a limitation on number of connection each Java thread can open to the database.\r\nBecause when I try to execute a transaction using ```Propagation.REQUIRES_NEW``` which I believe opens a new connection to the database, I get following error: \r\n```\r\njava.sql.SQLTransientConnectionException: HikariPool Connection is not available, request timed out after\r\n```\r\nBased on my search it seems that Hikari is not giving my thread a new connection.\r\nand when I try to manually close the previous connection I no longer get this error.\r\nHow I close the current (previous) connection :\r\n```java\r\nc = DataSourceUtils.getConnection(dataSource);\r\nc.close();\r\n```\r\nSo what is the workaround? and if there is a limitation for number of connections per thread can I change this setting ?","title":"Java Spring Number of database connections per thread","body":"<p>I was wondering whether we have a limitation on number of connection each Java thread can open to the database.\nBecause when I try to execute a transaction using <code>Propagation.REQUIRES_NEW</code> which I believe opens a new connection to the database, I get following error:</p>\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool Connection is not available, request timed out after\n</code></pre>\n<p>Based on my search it seems that Hikari is not giving my thread a new connection.\nand when I try to manually close the previous connection I no longer get this error.\nHow I close the current (previous) connection :</p>\n<pre class=\"lang-java prettyprint-override\"><code>c = DataSourceUtils.getConnection(dataSource);\nc.close();\n</code></pre>\n<p>So what is the workaround? and if there is a limitation for number of connections per thread can I change this setting ?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658832671,"post_id":73122033,"comment_id":129144564,"body_markdown":"What do you mean it stops? What&#39;s after that? Could it just be that it&#39;s looping and waiting for input again?","body":"What do you mean it stops? What&#39;s after that? Could it just be that it&#39;s looping and waiting for input again?"},{"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"score":0,"creation_date":1658832766,"post_id":73122033,"comment_id":129144600,"body_markdown":"Now this isn&#39;t the end of the code but I just had to cut most of it off to be able to post.","body":"Now this isn&#39;t the end of the code but I just had to cut most of it off to be able to post."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1658832810,"post_id":73122033,"comment_id":129144621,"body_markdown":"Did you enter a number into your console and confirm it by pressing enter?","body":"Did you enter a number into your console and confirm it by pressing enter?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1658832814,"post_id":73122033,"comment_id":129144625,"body_markdown":"Do not try with resources with a scanner on System.in it closes System.in","body":"Do not try with resources with a scanner on System.in it closes System.in"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658832847,"post_id":73122033,"comment_id":129144629,"body_markdown":"Please add a [mcve]","body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"score":0,"creation_date":1658832860,"post_id":73122033,"comment_id":129144637,"body_markdown":"@FedericoklezCulloca Yeah I get an error after it prints &quot;Enter the first number&quot;. It says &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n\tat MyClass.main(MyClass.java:10)&quot;","body":"@FedericoklezCulloca Yeah I get an error after it prints &quot;Enter the first number&quot;. It says &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException \tat java.base/java.util.Scanner.throwFor(Scanner.java:937) \tat java.base/java.util.Scanner.next(Scanner.java:1594) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212) \tat MyClass.main(MyClass.java:10)&quot;"},{"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"score":0,"creation_date":1658832915,"post_id":73122033,"comment_id":129144663,"body_markdown":"I didn&#39;t get to do that because it gave me an error @maloomeister","body":"I didn&#39;t get to do that because it gave me an error @maloomeister"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658832979,"post_id":73122033,"comment_id":129144689,"body_markdown":"@MarkAshibuogwu Like Jens says, we need to see a minimal reproducible example, because that code **by itself** (and assuming you just close the loop and the `try` after reading) shouldn&#39;t throw that exception)","body":"@MarkAshibuogwu Like Jens says, we need to see a minimal reproducible example, because that code <b>by itself</b> (and assuming you just close the loop and the <code>try</code> after reading) shouldn&#39;t throw that exception)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658832987,"post_id":73122033,"comment_id":129144693,"body_markdown":"Duplicate of https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input\" title=\"java util nosuchelementexception scanner reading user input\">stackoverflow.com/questions/13042008/&hellip;</a>"},{"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"score":0,"creation_date":1658833324,"post_id":73122033,"comment_id":129144830,"body_markdown":"What comes after it is this:\n\nSystem.out.println(&quot;Enter the first number&quot;);\nint x = sc.nextInt();\nSystem.out.print(&quot;Enter the second number&quot;);\nint y = sc.nextInt();\nSystem.out.println(&quot;Choose the operation you want to peform&quot;);\nSystem.out.println(&quot;Choose 1 for ADDITION&quot;);\nSystem.out.println(&quot;Choose 2 for SUBTRACTION&quot;);\nSystem.out.println(&quot;Choose 3 for MULTIPLICATION&quot;);\nSystem.out.println(&quot;Choose 4 for DIVISION&quot;);\nSystem.out.println(&quot;Choose 5 for MODULUS&quot;);\nSystem.out.println(&quot;Choose 6 for EXIT&quot;);\n\nint n = sc.nextInt ();\nswitch (n) {\n\nAfter that I just have the switch cases.","body":"What comes after it is this:  System.out.println(&quot;Enter the first number&quot;); int x = sc.nextInt(); System.out.print(&quot;Enter the second number&quot;); int y = sc.nextInt(); System.out.println(&quot;Choose the operation you want to peform&quot;); System.out.println(&quot;Choose 1 for ADDITION&quot;); System.out.println(&quot;Choose 2 for SUBTRACTION&quot;); System.out.println(&quot;Choose 3 for MULTIPLICATION&quot;); System.out.println(&quot;Choose 4 for DIVISION&quot;); System.out.println(&quot;Choose 5 for MODULUS&quot;); System.out.println(&quot;Choose 6 for EXIT&quot;);  int n = sc.nextInt (); switch (n) {  After that I just have the switch cases."},{"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"score":0,"creation_date":1658833374,"post_id":73122033,"comment_id":129144847,"body_markdown":"Really sorry if I&#39;m a bit messy right now. I&#39;m new to Stack Overflow","body":"Really sorry if I&#39;m a bit messy right now. I&#39;m new to Stack Overflow"},{"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"score":0,"creation_date":1658833600,"post_id":73122033,"comment_id":129144936,"body_markdown":"Oh you mean the &quot;try&quot; loop I put in. Ok I think I know what to do now thanks. @Jens","body":"Oh you mean the &quot;try&quot; loop I put in. Ok I think I know what to do now thanks. @Jens"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658833875,"post_id":73122033,"comment_id":129145038,"body_markdown":"@MarkAshibuogwu for future reference, that code should have gone in the question (using the [edit] link) and not in the comments.","body":"@MarkAshibuogwu for future reference, that code should have gone in the question (using the <a href=\"https://stackoverflow.com/posts/73122033/edit\">edit</a> link) and not in the comments."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658833948,"post_id":73122033,"comment_id":129145068,"body_markdown":"there is no `try`-loop","body":"there is no <code>try</code>-loop"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658834299,"post_id":73122033,"comment_id":129145204,"body_markdown":"@Jens there&#39;s only `do`-loop or `do not`-loop?","body":"@Jens there&#39;s only <code>do</code>-loop or <code>do not</code>-loop?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658834646,"post_id":73122033,"comment_id":129145365,"body_markdown":"@FedericoklezCulloca sorry can not get you","body":"@FedericoklezCulloca sorry can not get you"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658835823,"post_id":73122033,"comment_id":129145827,"body_markdown":"@Jens it was a Star Wars joke (see https://www.youtube.com/watch?v=BQ4yd2W50No)","body":"@Jens it was a Star Wars joke (see <a href=\"https://www.youtube.com/watch?v=BQ4yd2W50No\" rel=\"nofollow noreferrer\">youtube.com/watch?v=BQ4yd2W50No</a>)"}],"owner":{"account_id":25898034,"reputation":1,"user_id":19624354,"display_name":"Mark Ashibuogwu"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658832905,"creation_date":1658832581,"question_id":73122033,"body_markdown":" \r\n\r\n     import java.util.Scanner;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          {  try (Scanner sc = new Scanner(System.in)) { \r\n\r\n      while (true) {\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Enter the numbers to peform operations&quot;);\r\n        System.out.println(&quot;Enter the first number&quot;);\r\n        int x = sc.nextInt();\r\n/This is where my code stops^. I just need to see the error thats here because I can&#39;t see it.\r\n    \r\n\r\n  ","title":"My code contains a scanner but refuses to go past the first line","body":"<pre><code> import java.util.Scanner;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      {  try (Scanner sc = new Scanner(System.in)) { \n\n  while (true) {\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;Enter the numbers to peform operations&quot;);\n    System.out.println(&quot;Enter the first number&quot;);\n    int x = sc.nextInt();\n</code></pre>\n<p>/This is where my code stops^. I just need to see the error thats here because I can't see it.</p>\n"},{"tags":["java","spring","spring-boot","ubuntu"],"comments":[{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1658830400,"post_id":73121477,"comment_id":129143709,"body_markdown":"Have you tried to set spring profile argument first. `java -Dspring.profiles.active=test`","body":"Have you tried to set spring profile argument first. <code>java -Dspring.profiles.active=test</code>"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658832885,"creation_date":1658832885,"answer_id":73122102,"question_id":73121477,"body_markdown":"`myapp.jar --spring.profiles.active=test`","title":"How to add command line args to java systemd service?","body":"<p><code>myapp.jar --spring.profiles.active=test</code></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658832885,"creation_date":1658829979,"question_id":73121477,"body_markdown":"How can I add command line arguments correctly to a java systemd service? In the following example, `-Dspring.profiles.active=test` is not taken into account. Thus the location is maybe wrong?\r\n\r\n    [Unit]\r\n    Description=Manage Java service\r\n    \r\n    [Service]\r\n    WorkingDirectory=/opt/prod\r\n    ExecStart=/bin/java -Xms128m -Xmx256m -jar myapp.jar -Dspring.profiles.active=test\r\n    User=java\r\n    Type=simple\r\n    Restart=on-failure\r\n    RestartSec=10\r\n    \r\n    [Install]\r\n    WantedBy=multi-user.target","title":"How to add command line args to java systemd service?","body":"<p>How can I add command line arguments correctly to a java systemd service? In the following example, <code>-Dspring.profiles.active=test</code> is not taken into account. Thus the location is maybe wrong?</p>\n<pre><code>[Unit]\nDescription=Manage Java service\n\n[Service]\nWorkingDirectory=/opt/prod\nExecStart=/bin/java -Xms128m -Xmx256m -jar myapp.jar -Dspring.profiles.active=test\nUser=java\nType=simple\nRestart=on-failure\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n"},{"tags":["java","session","tomcat"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1394743561,"post_id":959174,"comment_id":34040066,"body_markdown":"What did you find to be the cause?","body":"What did you find to be the cause?"}],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1244273132,"creation_date":1244273132,"answer_id":959178,"question_id":959174,"body_markdown":"there is a timeout, that you can configure in your web.xml:\r\n\r\n    &lt;web-app&gt;\r\n      ...\r\n      &lt;session-config&gt;\r\n        &lt;session-timeout&gt;-1&lt;/session-timeout&gt; \r\n      &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\nuse -1 for no timeout","title":"Tomcat sessions expiring unexpectedly","body":"<p>there is a timeout, that you can configure in your web.xml:</p>\n\n<pre><code>&lt;web-app&gt;\n  ...\n  &lt;session-config&gt;\n    &lt;session-timeout&gt;-1&lt;/session-timeout&gt; \n  &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>use -1 for no timeout</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1658404815,"creation_date":1244289121,"answer_id":959530,"question_id":959174,"body_markdown":"If there has been no code change triggering this, I would look at memory usage.  This _might_ be the effect of Tomcat running out of memory and invalidating sessions to recover.\r\n\r\nIf at all possible monitor garbage collections, and/or put surveillance on with &lt;strike&gt;jconsole&lt;/strike&gt; Java Flight Recorder or jvisualvm.","title":"Tomcat sessions expiring unexpectedly","body":"<p>If there has been no code change triggering this, I would look at memory usage.  This <em>might</em> be the effect of Tomcat running out of memory and invalidating sessions to recover.</p>\n<p>If at all possible monitor garbage collections, and/or put surveillance on with <strike>jconsole</strike> Java Flight Recorder or jvisualvm.</p>\n"},{"tags":[],"owner":{"account_id":15708,"reputation":2381,"user_id":33436,"accept_rate":64,"display_name":"Sathya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1244293932,"creation_date":1244293932,"answer_id":959645,"question_id":959174,"body_markdown":"Eventhough I do not know the cause of the problem, one possible fix (which I had done at my previous project) would be to run the application on a tomcat cluster and have session failover. Sessions can be by default sticky and when one node goes down, the healthy nodes pick up the sessions and all this is transparent to the end user.","title":"Tomcat sessions expiring unexpectedly","body":"<p>Eventhough I do not know the cause of the problem, one possible fix (which I had done at my previous project) would be to run the application on a tomcat cluster and have session failover. Sessions can be by default sticky and when one node goes down, the healthy nodes pick up the sessions and all this is transparent to the end user.</p>\n"},{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244358507,"creation_date":1244358507,"answer_id":961376,"question_id":959174,"body_markdown":"Increase your logging of sessions, which may shed some light onto your problem.\r\n\r\nThe Tomcat config page&#39;s [Logging in Tomcat][1] includes an example of increasing logging of sessions.\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/logging.html","title":"Tomcat sessions expiring unexpectedly","body":"<p>Increase your logging of sessions, which may shed some light onto your problem.</p>\n\n<p>The Tomcat config page's <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/logging.html\" rel=\"nofollow noreferrer\">Logging in Tomcat</a> includes an example of increasing logging of sessions.</p>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244404818,"creation_date":1244404818,"answer_id":962692,"question_id":959174,"body_markdown":"You can search Tomcat&#39;s bug database, but it would be better to have another look at your web application first. The chances that there is something wrong with Tomcat are very low.\r\n\r\nTry to investigate what causes session invalidation. Are you using filters? Do you have cross-context requests? Try adding logging information for every request to find out, when exactly the session is lost.","title":"Tomcat sessions expiring unexpectedly","body":"<p>You can search Tomcat's bug database, but it would be better to have another look at your web application first. The chances that there is something wrong with Tomcat are very low.</p>\n\n<p>Try to investigate what causes session invalidation. Are you using filters? Do you have cross-context requests? Try adding logging information for every request to find out, when exactly the session is lost.</p>\n"},{"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1332593244,"creation_date":1244404845,"answer_id":962695,"question_id":959174,"body_markdown":"I would increase the monitoring of the server in general and the sessions specifically. \n\nA good monitoring application is [lambda probe][1] - it allows you to view the current sessions and their data. I would also add a [HttpSessionListener][2] to log session creation and destruction. \n\n**Edit**\n\nIs is possible that you add some non serializble objects to the session and Tomcat fails to passivate them to the disk?\n\n\n**Edit 2**\n\nLambda probe seems to be dead, and there a much better fork of the project over at http://code.google.com/p/psi-probe/\n\n  [1]: http://www.google.com/search?q=lambda+probe&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=com.ubuntu:en-US:unofficial&amp;client=firefox-a\n  [2]: http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpSessionListener.html","title":"Tomcat sessions expiring unexpectedly","body":"<p>I would increase the monitoring of the server in general and the sessions specifically.</p>\n<p>A good monitoring application is <a href=\"http://www.google.com/search?q=lambda+probe&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=com.ubuntu:en-US:unofficial&amp;client=firefox-a\" rel=\"nofollow noreferrer\">lambda probe</a> - it allows you to view the current sessions and their data. I would also add a <a href=\"http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpSessionListener.html\" rel=\"nofollow noreferrer\">HttpSessionListener</a> to log session creation and destruction.</p>\n<p><strong>Edit</strong></p>\n<p>Is is possible that you add some non serializble objects to the session and Tomcat fails to passivate them to the disk?</p>\n<p><strong>Edit 2</strong></p>\n<p>Lambda probe seems to be dead, and there a much better fork of the project over at <a href=\"http://code.google.com/p/psi-probe/\" rel=\"nofollow noreferrer\">http://code.google.com/p/psi-probe/</a></p>\n"},{"tags":[],"owner":{"account_id":9631,"reputation":7981,"user_id":17876,"accept_rate":70,"display_name":"idrosid"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1248382647,"creation_date":1248382647,"answer_id":1174455,"question_id":959174,"body_markdown":"A possible cause is that you put in the session an object that does NOT implement the Serializable interface. Tomcat occasionally writes some of the sessions on the disk. If a session contains non-serializable objects it will simply be removed from the container (because of the NotSerializableException). If this is happening you should see the Exception in the tomcat log file.","title":"Tomcat sessions expiring unexpectedly","body":"<p>A possible cause is that you put in the session an object that does NOT implement the Serializable interface. Tomcat occasionally writes some of the sessions on the disk. If a session contains non-serializable objects it will simply be removed from the container (because of the NotSerializableException). If this is happening you should see the Exception in the tomcat log file.</p>\n"},{"tags":[],"owner":{"account_id":133982,"reputation":1666,"user_id":335770,"display_name":"Pete Brumm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280442516,"creation_date":1280442516,"answer_id":3367474,"question_id":959174,"body_markdown":"We just ran into this with tomcat 6_0_18 and ibm 1.5 jvm\r\n\r\nturns out it was an ibm jvm issue with atomic operations.\r\n\r\nThere is a fix in tomcats greater than 6_0_19 to handle it.\r\n\r\nIt also doesn&#39;t occur in sun 1.5 jvm\r\n\r\nhere are some more details\r\n\r\n[tomcat bugzilla case][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=46085","title":"Tomcat sessions expiring unexpectedly","body":"<p>We just ran into this with tomcat 6_0_18 and ibm 1.5 jvm</p>\n\n<p>turns out it was an ibm jvm issue with atomic operations.</p>\n\n<p>There is a fix in tomcats greater than 6_0_19 to handle it.</p>\n\n<p>It also doesn't occur in sun 1.5 jvm</p>\n\n<p>here are some more details</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=46085\" rel=\"nofollow noreferrer\">tomcat bugzilla case</a></p>\n"},{"tags":[],"owner":{"account_id":263607,"reputation":21,"user_id":549285,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292887466,"creation_date":1292887466,"answer_id":4494991,"question_id":959174,"body_markdown":"I have seen similar problems when the following prerequisites exist:\r\n\r\n - multiple instances of the tomcat app are installed across multiple JVMs\r\n - load balancing (between the web server and the Tomcat JVMs) is not configured correctly.  \r\n - Tomcat&#39;s session replication feature is **not** enabled \r\n\r\nDue to the incorrect load balancing config, the web server may randomly decide to break session affinity and send an incoming request to a Tomcat JVM that has never seen the session before.  The Tomcat JVM will issue a new session and the user will lose all of their previouS session data and effectively start over.","title":"Tomcat sessions expiring unexpectedly","body":"<p>I have seen similar problems when the following prerequisites exist:</p>\n\n<ul>\n<li>multiple instances of the tomcat app are installed across multiple JVMs</li>\n<li>load balancing (between the web server and the Tomcat JVMs) is not configured correctly.  </li>\n<li>Tomcat's session replication feature is <strong>not</strong> enabled </li>\n</ul>\n\n<p>Due to the incorrect load balancing config, the web server may randomly decide to break session affinity and send an incoming request to a Tomcat JVM that has never seen the session before.  The Tomcat JVM will issue a new session and the user will lose all of their previouS session data and effectively start over.</p>\n"},{"tags":[],"owner":{"account_id":15271668,"reputation":1,"user_id":11018695,"display_name":"IanB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658832578,"creation_date":1658501245,"answer_id":73082202,"question_id":959174,"body_markdown":"I had a similar symptom (but more consistent). Users would sign in ok, go to the dashboard ok, then loose the session.&lt;br /&gt;\r\nI realized I had done a Java 16 to 18 upgrade and had not recompiled everything. Cleaned (`mvn clean`) and recompiled the code for ALL my `.jars/.war`.\r\n\r\nProblem solved, for me.&lt;br /&gt;\r\nI hope this helps someone.","title":"Tomcat sessions expiring unexpectedly","body":"<p>I had a similar symptom (but more consistent). Users would sign in ok, go to the dashboard ok, then loose the session.<br />\nI realized I had done a Java 16 to 18 upgrade and had not recompiled everything. Cleaned (<code>mvn clean</code>) and recompiled the code for ALL my <code>.jars/.war</code>.</p>\n<p>Problem solved, for me.<br />\nI hope this helps someone.</p>\n"}],"owner":{"account_id":32898,"reputation":8067,"user_id":91610,"accept_rate":77,"display_name":"Bogdan Gusiev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21352,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":959530,"answer_count":10,"score":16,"last_activity_date":1658832578,"creation_date":1244273033,"question_id":959174,"body_markdown":"We are running tomcat application server that handle over 100 concurrent sessions.\r\nIn the last 2 months the most active users noticed that sometimes they are getting kicked off from the system. \r\n\r\nAs I understood from the log tomcat sessions are getting expired without any reason. \r\n\r\nI see no problems from the web application side.\r\nIs there any problem from the tomcat side?\r\n\r\nTomcat 6.0.18.\r\n ","title":"Tomcat sessions expiring unexpectedly","body":"<p>We are running tomcat application server that handle over 100 concurrent sessions.\nIn the last 2 months the most active users noticed that sometimes they are getting kicked off from the system. </p>\n\n<p>As I understood from the log tomcat sessions are getting expired without any reason. </p>\n\n<p>I see no problems from the web application side.\nIs there any problem from the tomcat side?</p>\n\n<p>Tomcat 6.0.18.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658832036,"creation_date":1658832036,"answer_id":73121923,"question_id":73121857,"body_markdown":"Your understanding is correct.\r\n\r\nExcept that the method `public void setSalary(int salary)` in class `Manager` is not overriding the method `public void setSalary(double salary)`, because `double` and `int` are two different types.\r\n\r\nDeclare `public void setSalary(double salary)` in the class `Manager` and it will work as you expect. \r\n\r\nLittle tip: use `@Override` annotation on overridden methods. If you were doing so, you would have spotted the issue right after.\r\n","title":"issue with java late binding and method overload","body":"<p>Your understanding is correct.</p>\n<p>Except that the method <code>public void setSalary(int salary)</code> in class <code>Manager</code> is not overriding the method <code>public void setSalary(double salary)</code>, because <code>double</code> and <code>int</code> are two different types.</p>\n<p>Declare <code>public void setSalary(double salary)</code> in the class <code>Manager</code> and it will work as you expect.</p>\n<p>Little tip: use <code>@Override</code> annotation on overridden methods. If you were doing so, you would have spotted the issue right after.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658832075,"creation_date":1658832075,"answer_id":73121936,"question_id":73121857,"body_markdown":"Look carefully at the `setSalary` method in class `Employee`:\r\n\r\n    public void setSalary(double salary)\r\n\r\nAnd now look carefully at the `setSalary` method in class `Manager`:\r\n\r\n    public void setSalary(int salary)\r\n\r\nDo you see the difference? The one in class `Employee` takes a `double`, while the one in class `Manager` takes an `int`.\r\n\r\nTherefore, the one in class `Manager` does *not* override the one in class `Employee`.\r\n\r\nFor a method to override a method from a superclass, it must conform to the following rules:\r\n\r\n* The name of the method must be the same\r\n* The number and types of the parameters must be the same\r\n\r\nYou could have caught this error if you had used the `@Override` annotation in class `Manager`:\r\n\r\n    class Manager extends Employee {\r\n        @Override\r\n        public void setSalary(int salary) {\r\n            System.out.println(&quot;Manager.setSalary():&quot; + salary);\r\n        }\r\n    }\r\n\r\nBy using the `@Override` annotation, you tell the compiler that the method is supposed to override a method from its superclass. If it doesn&#39;t, then the compiler will give you an error.","title":"issue with java late binding and method overload","body":"<p>Look carefully at the <code>setSalary</code> method in class <code>Employee</code>:</p>\n<pre><code>public void setSalary(double salary)\n</code></pre>\n<p>And now look carefully at the <code>setSalary</code> method in class <code>Manager</code>:</p>\n<pre><code>public void setSalary(int salary)\n</code></pre>\n<p>Do you see the difference? The one in class <code>Employee</code> takes a <code>double</code>, while the one in class <code>Manager</code> takes an <code>int</code>.</p>\n<p>Therefore, the one in class <code>Manager</code> does <em>not</em> override the one in class <code>Employee</code>.</p>\n<p>For a method to override a method from a superclass, it must conform to the following rules:</p>\n<ul>\n<li>The name of the method must be the same</li>\n<li>The number and types of the parameters must be the same</li>\n</ul>\n<p>You could have caught this error if you had used the <code>@Override</code> annotation in class <code>Manager</code>:</p>\n<pre><code>class Manager extends Employee {\n    @Override\n    public void setSalary(int salary) {\n        System.out.println(&quot;Manager.setSalary():&quot; + salary);\n    }\n}\n</code></pre>\n<p>By using the <code>@Override</code> annotation, you tell the compiler that the method is supposed to override a method from its superclass. If it doesn't, then the compiler will give you an error.</p>\n"}],"owner":{"account_id":9980374,"reputation":4060,"user_id":7383520,"display_name":"Alan Omar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73121936,"answer_count":2,"score":0,"last_activity_date":1658832075,"creation_date":1658831754,"question_id":73121857,"body_markdown":"I am just starting out with Java and came cross this code snippet:\r\n\r\n```\r\nclass Employee {\r\n    public void setSalary(double salary) {\r\n        System.out.println(&quot;Employee.setSalary():&quot; + salary);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Employee ken = new Manager();\r\n        int salary = 200;\r\n        ken.setSalary(salary);  // *\r\n\r\n    }\r\n\r\n}\r\n\r\nclass Manager extends Employee {\r\n    public void setSalary(int salary) {\r\n        System.out.println(&quot;Manager.setSalary():&quot; + salary);\r\n    }\r\n}\r\n```\r\n\r\nAccording to my understanding of java late binding rule, the line on `*` should invoke the `setSalary` of the `Manager` class because it&#39;s the &quot;runtime type&quot; of `ken`, but it calls the `setSalary` of the `Employee` class. can someone explain what&#39;s is going on here thanks.","title":"issue with java late binding and method overload","body":"<p>I am just starting out with Java and came cross this code snippet:</p>\n<pre><code>class Employee {\n    public void setSalary(double salary) {\n        System.out.println(&quot;Employee.setSalary():&quot; + salary);\n    }\n\n    public static void main(String[] args) {\n        Employee ken = new Manager();\n        int salary = 200;\n        ken.setSalary(salary);  // *\n\n    }\n\n}\n\nclass Manager extends Employee {\n    public void setSalary(int salary) {\n        System.out.println(&quot;Manager.setSalary():&quot; + salary);\n    }\n}\n</code></pre>\n<p>According to my understanding of java late binding rule, the line on <code>*</code> should invoke the <code>setSalary</code> of the <code>Manager</code> class because it's the &quot;runtime type&quot; of <code>ken</code>, but it calls the <code>setSalary</code> of the <code>Employee</code> class. can someone explain what's is going on here thanks.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658776209,"post_id":73114199,"comment_id":129131121,"body_markdown":"@MyStackRunnethOver How do you group by multiple fields? Listed question only does one","body":"@MyStackRunnethOver How do you group by multiple fields? Listed question only does one"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1658776312,"post_id":73114199,"comment_id":129131157,"body_markdown":"Did you tried implement it (with streams or without) ? Please share your attempt and describe the problems you&#39;ve faced.","body":"Did you tried implement it (with streams or without) ? Please share your attempt and describe the problems you&#39;ve faced."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658776758,"creation_date":1658776758,"answer_id":73114329,"question_id":73114199,"body_markdown":"Use `Collectors.groupingBy` and create a common key. This returns a Map that needs iterated to get the groups. \r\n\r\n    final Map&lt;String, List&lt;Student&gt;&gt; collect = list.stream()\r\n        .collect(Collectors.groupingBy(student -&gt; String.format(&quot;%s:%d:%s&quot;, student.getSection(), student.getAge(), student.getCity())));\r\n    int group = 0;\r\n    for (Map.Entry&lt;String, List&lt;Student&gt;&gt; e : collect.entrySet()) {\r\n      System.out.println(++group + &quot;: &quot; + e.getValue());\r\n    }\r\n\r\n---\r\n\r\n    1: [Student{id=1, section=&#39;Biology&#39;, age=23, city=&#39;New York&#39;}, Student{id=4, section=&#39;Biology&#39;, age=23, city=&#39;New York&#39;}]\r\n    2: [Student{id=3, section=&#39;Technology&#39;, age=23, city=&#39;New York&#39;}, Student{id=5, section=&#39;Technology&#39;, age=23, city=&#39;New York&#39;}]\r\n    3: [Student{id=6, section=&#39;Biology&#39;, age=21, city=&#39;Chicago&#39;}]\r\n    4: [Student{id=2, section=&#39;Mathematics&#39;, age=22, city=&#39;Chicago&#39;}]","title":"Split object list according to some fields","body":"<p>Use <code>Collectors.groupingBy</code> and create a common key. This returns a Map that needs iterated to get the groups.</p>\n<pre><code>final Map&lt;String, List&lt;Student&gt;&gt; collect = list.stream()\n    .collect(Collectors.groupingBy(student -&gt; String.format(&quot;%s:%d:%s&quot;, student.getSection(), student.getAge(), student.getCity())));\nint group = 0;\nfor (Map.Entry&lt;String, List&lt;Student&gt;&gt; e : collect.entrySet()) {\n  System.out.println(++group + &quot;: &quot; + e.getValue());\n}\n</code></pre>\n<hr />\n<pre><code>1: [Student{id=1, section='Biology', age=23, city='New York'}, Student{id=4, section='Biology', age=23, city='New York'}]\n2: [Student{id=3, section='Technology', age=23, city='New York'}, Student{id=5, section='Technology', age=23, city='New York'}]\n3: [Student{id=6, section='Biology', age=21, city='Chicago'}]\n4: [Student{id=2, section='Mathematics', age=22, city='Chicago'}]\n</code></pre>\n"}],"owner":{"account_id":25892795,"reputation":11,"user_id":19619928,"display_name":"Nerfy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658831742,"answer_count":1,"score":1,"last_activity_date":1658831709,"creation_date":1658776026,"question_id":73114199,"body_markdown":"I need to split an object list according to the value of certain fields by grouping them.\r\n\r\nFor a student object :\r\n\r\n    public class Student {\r\n       private int id;\r\n       private String section;\r\n       private Integer age;\r\n       private String city;\r\n    }\r\n\r\nI had a list of \r\n\r\n    List&lt;Student&gt; list = new ArrayList()&lt;&gt;;\r\n    list.add(new Student(1,&quot;Biology&quot;, 23, &quot;New York&quot;));\r\n    list.add(new Student(2,&quot;Mathematics&quot;, 22, &quot;Chicago&quot;));\r\n    list.add(new Student(3,&quot;Technology&quot;, 23, &quot;New York&quot;));\r\n    list.add(new Student(4,&quot;Biology&quot;, 23, &quot;New York&quot;));\r\n    list.add(new Student(5,&quot;Technology&quot;, 23, &quot;New York&quot;));\r\n    list.add(new Student(6,&quot;Biology&quot;, 21, &quot;Chicago&quot;));\r\n\r\nAnd I want to split it on lists with the same section/age/city.\r\n\r\nMeans that in my example I&#39;ll have 4 lists : (1 and 4), 2, (3 and 5), 6.\r\n\r\nThere is any easy way to do it with Streams?\r\n\r\n","title":"Split object list according to some fields","body":"<p>I need to split an object list according to the value of certain fields by grouping them.</p>\n<p>For a student object :</p>\n<pre><code>public class Student {\n   private int id;\n   private String section;\n   private Integer age;\n   private String city;\n}\n</code></pre>\n<p>I had a list of</p>\n<pre><code>List&lt;Student&gt; list = new ArrayList()&lt;&gt;;\nlist.add(new Student(1,&quot;Biology&quot;, 23, &quot;New York&quot;));\nlist.add(new Student(2,&quot;Mathematics&quot;, 22, &quot;Chicago&quot;));\nlist.add(new Student(3,&quot;Technology&quot;, 23, &quot;New York&quot;));\nlist.add(new Student(4,&quot;Biology&quot;, 23, &quot;New York&quot;));\nlist.add(new Student(5,&quot;Technology&quot;, 23, &quot;New York&quot;));\nlist.add(new Student(6,&quot;Biology&quot;, 21, &quot;Chicago&quot;));\n</code></pre>\n<p>And I want to split it on lists with the same section/age/city.</p>\n<p>Means that in my example I'll have 4 lists : (1 and 4), 2, (3 and 5), 6.</p>\n<p>There is any easy way to do it with Streams?</p>\n"},{"tags":["java","swing","arraylist"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1658686806,"post_id":73100544,"comment_id":129107326,"body_markdown":"Could you share the overall code?","body":"Could you share the overall code?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1658687307,"post_id":73100544,"comment_id":129107429,"body_markdown":"Your best bet is to show us compilable and runnable code. We don&#39;t want to see your whole program, but rather you should condense your code into the smallest bit that still compiles, has no extra code that&#39;s not relevant to your problem, but still demonstrates your problem, in other words, a [mre]. Please check out the link for the details of this useful construct.  Again, if the code is very small and still is compilable and runnable more people will be able to fully understand the code and the problem and help provide a decent answer.","body":"Your best bet is to show us compilable and runnable code. We don&#39;t want to see your whole program, but rather you should condense your code into the smallest bit that still compiles, has no extra code that&#39;s not relevant to your problem, but still demonstrates your problem, in other words, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please check out the link for the details of this useful construct.  Again, if the code is very small and still is compilable and runnable more people will be able to fully understand the code and the problem and help provide a decent answer."},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1658687759,"post_id":73100544,"comment_id":129107537,"body_markdown":"I have Edited and give the code perfectly so that everyone can now understand easily.","body":"I have Edited and give the code perfectly so that everyone can now understand easily."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1658687887,"post_id":73100544,"comment_id":129107561,"body_markdown":"Your code does not compile for me as there is a method, `initComponents()` that is called but is not present in your posted code.","body":"Your code does not compile for me as there is a method, <code>initComponents()</code> that is called but is not present in your posted code."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1658687970,"post_id":73100544,"comment_id":129107581,"body_markdown":"And you have an `ArrayList&lt;String&gt;` which won&#39;t work. You need an `ArrayList&lt;JTextField&gt;`, and then add each JTextField on creation to this list, so that you can extract the text from each JTextField when the result button is pushed.","body":"And you have an <code>ArrayList&lt;String&gt;</code> which won&#39;t work. You need an <code>ArrayList&lt;JTextField&gt;</code>, and then add each JTextField on creation to this list, so that you can extract the text from each JTextField when the result button is pushed."},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1658688566,"post_id":73100544,"comment_id":129107704,"body_markdown":"I Hope this time you will face no problem to run it. I mistake to copying the codes that time. sorry.","body":"I Hope this time you will face no problem to run it. I mistake to copying the codes that time. sorry."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1658689256,"post_id":73100544,"comment_id":129107847,"body_markdown":"Again, you need an ArrayList of all JTextFields created, and you&#39;re not yet doing this. Side note to avoid null layouts and setBounds.","body":"Again, you need an ArrayList of all JTextFields created, and you&#39;re not yet doing this. Side note to avoid null layouts and setBounds."},{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1658689689,"post_id":73100544,"comment_id":129107939,"body_markdown":"I change the `ArrayList` into `ArrayList&lt;JTextField&gt;` and then inside `Result` button i do this `arr.add(field);\n     sum += Integer.parseInt(arr.get(i).toString());`\nbut it still show `0`","body":"I change the <code>ArrayList</code> into <code>ArrayList&lt;JTextField&gt;</code> and then inside <code>Result</code> button i do this <code>arr.add(field);      sum += Integer.parseInt(arr.get(i).toString());</code> but it still show <code>0</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1658690160,"post_id":73100544,"comment_id":129108046,"body_markdown":"you need to 1) add the text fields to the array list as you create it. 2) get the ***text*** from the jtextfield in the for loop. 3) then parse that text. Note: better to not even use a JTextField but rather a JSpinner that uses a SpinnerNumberModel so that non-numeric Strings can&#39;t be entered.","body":"you need to 1) add the text fields to the array list as you create it. 2) get the <b><i>text</i></b> from the jtextfield in the for loop. 3) then parse that text. Note: better to not even use a JTextField but rather a JSpinner that uses a SpinnerNumberModel so that non-numeric Strings can&#39;t be entered."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1658831440,"post_id":73100544,"comment_id":129144096,"body_markdown":"btw: __never-ever__ do any manual sizing/positioning - that&#39;s the __exclusive__ task of a LayoutManager (which must not be set to null, obviously :)","body":"btw: <b>never-ever</b> do any manual sizing/positioning - that&#39;s the <b>exclusive</b> task of a LayoutManager (which must not be set to null, obviously :)"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658690537,"creation_date":1658690537,"answer_id":73101364,"question_id":73100544,"body_markdown":"Suggestions:\r\n* Again, when you create a data-entry text field, add it to the GUI and add it to an `ArrayList` of the data entry field type.\r\n* Then in the result button&#39;s ActionListener, iterate through this list using a for loop.\r\n* Inside of the for loop, get the entry field, get its text (via `.getText()` if using a JTextField), parse it to number via `Integer.parseInt(...)`, and add it to a sum variable that is initialized to 0 prior to the for loop. Then display the result after the loop.\r\n\r\nAlso,\r\n* Best to use JSpinners that use a SpinnerNumberModel such as `JSpinner spinner = new JSpinner(new SpinnerNumberModel(0, 0, 1000, 1));` instead of JTextField for number entry. This will limit the user to entering numbers only, and won&#39;t allow non-numeric text entry, a danger inherent in your current design.\r\n* Having to add your entry fields by button may be an over-complication\r\n* But if it is necessary, then best to add the spinners (or text fields if you must) to a JPanel that uses a proper layout manager, such a `new GridLayout(0, 1)` (variable number of rows, 1 column) and then add that to a JScrollPane so that you can see as many fields as has been entered.\r\n* If using a JSpinner, then you don&#39;t even need a &quot;calculate result&quot; button, since if you add a ChangeListener to each JSpinner, you can calculate the result on the fly whenever a spinner has had its data changed.\r\n\r\n______________________\r\n\r\ne.g.,\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Button2 extends JPanel {\r\n    private List&lt;JSpinner&gt; spinnerList = new ArrayList&lt;&gt;();\r\n    private JButton resultButton = new JButton(&quot;Result&quot;);\r\n    private JButton addEntryFieldBtn = new JButton(&quot;Add Entry Field&quot;);\r\n    private JTextField resultField = new JTextField(6);\r\n    private JPanel fieldPanel = new JPanel(new GridLayout(0, 1, 4, 4));\r\n\r\n    public Button2() {\r\n        resultField.setFocusable(false);\r\n        resultButton.addActionListener(e -&gt; calcResult());\r\n        resultButton.setMnemonic(KeyEvent.VK_R);\r\n        addEntryFieldBtn.addActionListener(e -&gt; addEntryField());\r\n\r\n        JPanel topPanel = new JPanel();\r\n        topPanel.add(addEntryFieldBtn);\r\n        topPanel.add(resultButton);\r\n        topPanel.add(new JLabel(&quot;Result:&quot;));\r\n        topPanel.add(resultField);\r\n        \r\n        JPanel centerPanel = new JPanel(new BorderLayout());\r\n        centerPanel.add(fieldPanel, BorderLayout.PAGE_START);\r\n        JScrollPane scrollPane = new JScrollPane(centerPanel);\r\n        scrollPane.setPreferredSize(new Dimension(300, 300));\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\r\n        setBorder(BorderFactory.createEmptyBorder(4, 4, 4, 4));\r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(scrollPane);\r\n    }\r\n\r\n    private void calcResult() {\r\n        int sum = 0;\r\n        for (JSpinner spinner : spinnerList) {\r\n            sum += (int) spinner.getValue();\r\n        }\r\n        resultField.setText(String.valueOf(sum));\r\n    }\r\n\r\n    private void addEntryField() {\r\n        JSpinner spinner = new JSpinner(new SpinnerNumberModel(0, 0, 1000, 1));\r\n        spinner.addChangeListener(evt -&gt; {\r\n            calcResult();\r\n        });\r\n        \r\n        fieldPanel.add(spinner);\r\n        spinnerList.add(spinner);\r\n        revalidate();\r\n        repaint();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            Button2 mainPanel = new Button2();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```","title":"How to calculate summation values from multiple JTextFields using loop in java","body":"<p>Suggestions:</p>\n<ul>\n<li>Again, when you create a data-entry text field, add it to the GUI and add it to an <code>ArrayList</code> of the data entry field type.</li>\n<li>Then in the result button's ActionListener, iterate through this list using a for loop.</li>\n<li>Inside of the for loop, get the entry field, get its text (via <code>.getText()</code> if using a JTextField), parse it to number via <code>Integer.parseInt(...)</code>, and add it to a sum variable that is initialized to 0 prior to the for loop. Then display the result after the loop.</li>\n</ul>\n<p>Also,</p>\n<ul>\n<li>Best to use JSpinners that use a SpinnerNumberModel such as <code>JSpinner spinner = new JSpinner(new SpinnerNumberModel(0, 0, 1000, 1));</code> instead of JTextField for number entry. This will limit the user to entering numbers only, and won't allow non-numeric text entry, a danger inherent in your current design.</li>\n<li>Having to add your entry fields by button may be an over-complication</li>\n<li>But if it is necessary, then best to add the spinners (or text fields if you must) to a JPanel that uses a proper layout manager, such a <code>new GridLayout(0, 1)</code> (variable number of rows, 1 column) and then add that to a JScrollPane so that you can see as many fields as has been entered.</li>\n<li>If using a JSpinner, then you don't even need a &quot;calculate result&quot; button, since if you add a ChangeListener to each JSpinner, you can calculate the result on the fly whenever a spinner has had its data changed.</li>\n</ul>\n<hr />\n<p>e.g.,</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Button2 extends JPanel {\n    private List&lt;JSpinner&gt; spinnerList = new ArrayList&lt;&gt;();\n    private JButton resultButton = new JButton(&quot;Result&quot;);\n    private JButton addEntryFieldBtn = new JButton(&quot;Add Entry Field&quot;);\n    private JTextField resultField = new JTextField(6);\n    private JPanel fieldPanel = new JPanel(new GridLayout(0, 1, 4, 4));\n\n    public Button2() {\n        resultField.setFocusable(false);\n        resultButton.addActionListener(e -&gt; calcResult());\n        resultButton.setMnemonic(KeyEvent.VK_R);\n        addEntryFieldBtn.addActionListener(e -&gt; addEntryField());\n\n        JPanel topPanel = new JPanel();\n        topPanel.add(addEntryFieldBtn);\n        topPanel.add(resultButton);\n        topPanel.add(new JLabel(&quot;Result:&quot;));\n        topPanel.add(resultField);\n        \n        JPanel centerPanel = new JPanel(new BorderLayout());\n        centerPanel.add(fieldPanel, BorderLayout.PAGE_START);\n        JScrollPane scrollPane = new JScrollPane(centerPanel);\n        scrollPane.setPreferredSize(new Dimension(300, 300));\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n        setBorder(BorderFactory.createEmptyBorder(4, 4, 4, 4));\n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);\n        add(scrollPane);\n    }\n\n    private void calcResult() {\n        int sum = 0;\n        for (JSpinner spinner : spinnerList) {\n            sum += (int) spinner.getValue();\n        }\n        resultField.setText(String.valueOf(sum));\n    }\n\n    private void addEntryField() {\n        JSpinner spinner = new JSpinner(new SpinnerNumberModel(0, 0, 1000, 1));\n        spinner.addChangeListener(evt -&gt; {\n            calcResult();\n        });\n        \n        fieldPanel.add(spinner);\n        spinnerList.add(spinner);\n        revalidate();\n        repaint();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Button2 mainPanel = new Button2();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73101364,"answer_count":1,"score":0,"last_activity_date":1658831462,"creation_date":1658683290,"question_id":73100544,"body_markdown":"I am trying to making a calculator.\r\nHere the user can add `multiple` `JTextFields` to take his/her desired input with just one button click.\r\n\r\nNow I want that the user will take the input in `multiple` `JTextFields` added by him and on clicking the Result button will show the sum of all. But I am always getting `0` as output.\r\n\r\nCode:\r\n\r\n    public class Button extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\tprivate JButton btnAdd;\r\n\tprivate JButton btnResult;\r\n\tprivate JTextField resultField;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tButton frame = new Button();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic Button() {\r\n\t\tinitComponents();\r\n\t}\r\n\t\r\n\tstatic JTextField field = null;\r\n    //static JTextField fields[] = new JTextField[10];\r\n    private static int y = 0;\r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    \r\n    int ans, sum = 0;\r\n\r\n\tprivate void initComponents() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 527, 414);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\tbtnAdd = new JButton(&quot;Add&quot;);\r\n\t\tbtnAdd.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tfield = new JTextField();\r\n\t\t\t\tfield.setBounds(45, y += 60, 284, 32);\r\n\t\t\t\tfield.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\t\t\t\tcontentPane.add(field);\r\n\t\t\t\tcontentPane.revalidate();\r\n\t\t\t\tcontentPane.repaint();\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnAdd.setBounds(170, 341, 89, 23);\r\n\t\tcontentPane.add(btnAdd);\r\n\t\t\r\n\t\tbtnResult = new JButton(&quot;Result&quot;);\r\n\t\tbtnResult.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tfor (int i = 0; i &lt; arr.size(); i++) {\r\n\t\t\t        arr.add(field.getText());\r\n\t\t\t        sum += Integer.parseInt(arr.get(i));\r\n\t\t\t    }\r\n\t\t\t    resultField.setText(String.valueOf(sum));\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnResult.setBounds(383, 306, 89, 23);\r\n\t\tcontentPane.add(btnResult);\r\n\t\t\r\n\t\tresultField = new JTextField();\r\n\t\tresultField.setBounds(361, 275, 129, 20);\r\n\t\tcontentPane.add(resultField);\r\n\t\tresultField.setColumns(10);\r\n\t}\r\n}\r\n\r\n\r\n**Please help how can I find the correct output?**","title":"How to calculate summation values from multiple JTextFields using loop in java","body":"<p>I am trying to making a calculator.\nHere the user can add <code>multiple</code> <code>JTextFields</code> to take his/her desired input with just one button click.</p>\n<p>Now I want that the user will take the input in <code>multiple</code> <code>JTextFields</code> added by him and on clicking the Result button will show the sum of all. But I am always getting <code>0</code> as output.</p>\n<p>Code:</p>\n<pre><code>public class Button extends JFrame {\n\nprivate JPanel contentPane;\nprivate JButton btnAdd;\nprivate JButton btnResult;\nprivate JTextField resultField;\n\npublic static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n                Button frame = new Button();\n                frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n\npublic Button() {\n    initComponents();\n}\n\nstatic JTextField field = null;\n//static JTextField fields[] = new JTextField[10];\nprivate static int y = 0;\nArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n\nint ans, sum = 0;\n\nprivate void initComponents() {\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBounds(100, 100, 527, 414);\n    contentPane = new JPanel();\n    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n    setContentPane(contentPane);\n    contentPane.setLayout(null);\n    \n    btnAdd = new JButton(&quot;Add&quot;);\n    btnAdd.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            field = new JTextField();\n            field.setBounds(45, y += 60, 284, 32);\n            field.setAlignmentX(Component.CENTER_ALIGNMENT);\n            contentPane.add(field);\n            contentPane.revalidate();\n            contentPane.repaint();\n        }\n    });\n    btnAdd.setBounds(170, 341, 89, 23);\n    contentPane.add(btnAdd);\n    \n    btnResult = new JButton(&quot;Result&quot;);\n    btnResult.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            for (int i = 0; i &lt; arr.size(); i++) {\n                arr.add(field.getText());\n                sum += Integer.parseInt(arr.get(i));\n            }\n            resultField.setText(String.valueOf(sum));\n        }\n    });\n    btnResult.setBounds(383, 306, 89, 23);\n    contentPane.add(btnResult);\n    \n    resultField = new JTextField();\n    resultField.setBounds(361, 275, 129, 20);\n    contentPane.add(resultField);\n    resultField.setColumns(10);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Please help how can I find the correct output?</strong></p>\n"},{"tags":["java","maven","grails"],"answers":[{"tags":[],"owner":{"account_id":6437440,"reputation":313,"user_id":4988478,"display_name":"Andr&#233; Peregrina"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492630765,"creation_date":1492630765,"answer_id":43504684,"question_id":40326906,"body_markdown":"Sometimes the library of jasper in the grails repo get broken.\r\n\r\nTo solve this problem you just need to add this repo:\r\n\r\n`http://jaspersoft.artifactoryonline.com/jaspersoft/third-party-ce-artifacts`\r\n\r\nI hope this solve your problem\r\n\r\n**Reference:** http://community.jaspersoft.com/questions/826431/failure-find-orgolap4jolap4jjar097309-js-3","title":"Grails - Jasper plugin dependency download error","body":"<p>Sometimes the library of jasper in the grails repo get broken.</p>\n\n<p>To solve this problem you just need to add this repo:</p>\n\n<p><code>http://jaspersoft.artifactoryonline.com/jaspersoft/third-party-ce-artifacts</code></p>\n\n<p>I hope this solve your problem</p>\n\n<p><strong>Reference:</strong> <a href=\"http://community.jaspersoft.com/questions/826431/failure-find-orgolap4jolap4jjar097309-js-3\" rel=\"noreferrer\">http://community.jaspersoft.com/questions/826431/failure-find-orgolap4jolap4jjar097309-js-3</a></p>\n"},{"tags":[],"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623228977,"creation_date":1623228977,"answer_id":67900794,"question_id":40326906,"body_markdown":"At today I am answering, the following link works\r\n\r\n    mavenRepo(&quot;https://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/&quot;)","title":"Grails - Jasper plugin dependency download error","body":"<p>At today I am answering, the following link works</p>\n<pre><code>mavenRepo(&quot;https://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21986199,"reputation":1,"user_id":16260415,"display_name":"Javier Lurqui"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658831435,"creation_date":1624015232,"answer_id":68034252,"question_id":40326906,"body_markdown":"Jaspersoft has changed his repository to https:\r\n\r\nhttps://jaspersoft.jfrog.io/ui/native/third-party-ce-artifacts\r\n(Edited)","title":"Grails - Jasper plugin dependency download error","body":"<p>Jaspersoft has changed his repository to https:</p>\n<p><a href=\"https://jaspersoft.jfrog.io/ui/native/third-party-ce-artifacts\" rel=\"nofollow noreferrer\">https://jaspersoft.jfrog.io/ui/native/third-party-ce-artifacts</a>\n(Edited)</p>\n"},{"tags":[],"owner":{"account_id":5186630,"reputation":177,"user_id":4150831,"display_name":"UDS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628748502,"creation_date":1628748502,"answer_id":68752419,"question_id":40326906,"body_markdown":"You can try excluding olap4j.\r\n\r\n    implementation(group: &#39;net.sf.jasperreports&#39;, name: &#39;jasperreports&#39;, version: &#39;6.1.0&#39;){\r\n        \t\texclude module:&#39;olap4j&#39;\r\n        \t}","title":"Grails - Jasper plugin dependency download error","body":"<p>You can try excluding olap4j.</p>\n<pre><code>implementation(group: 'net.sf.jasperreports', name: 'jasperreports', version: '6.1.0'){\n            exclude module:'olap4j'\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10247066,"reputation":121,"user_id":8115060,"display_name":"Guilherme Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635173848,"creation_date":1635173848,"answer_id":69710327,"question_id":40326906,"body_markdown":"Import maven \r\n\r\n       &lt;repository&gt;\r\n            &lt;id&gt;jr-ce-releases&lt;/id&gt;\r\n            &lt;url&gt;https://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/&lt;/url&gt;\r\n        &lt;/repository&gt;","title":"Grails - Jasper plugin dependency download error","body":"<p>Import maven</p>\n<pre><code>   &lt;repository&gt;\n        &lt;id&gt;jr-ce-releases&lt;/id&gt;\n        &lt;url&gt;https://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n"}],"owner":{"account_id":8445054,"reputation":599,"user_id":6336045,"accept_rate":44,"display_name":"xSlok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7038,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1658831435,"creation_date":1477812663,"question_id":40326906,"body_markdown":"I&#39;m trying to download jasper plugin for grails but if I put the dependency in my build.gradle I keep getting this error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;Eventos Unipar&#39;.\r\n    &gt; Could not resolve all dependencies for configuration &#39;:runtime&#39;.\r\n       &gt; Could not find org.olap4j:olap4j:0.9.7.309-JS-3.\r\n         Searched in the following locations:\r\n             file:/C:/Users/xSlok/.m2/repository/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.pom\r\n             file:/C:/Users/xSlok/.m2/repository/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.jar\r\n             http://repo.grails.org/grails/repo/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.pom\r\n             http://repo.grails.org/grails/repo/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.jar\r\n         Required by:\r\n             eventosunipar:Eventos Unipar:0.1 &gt; org.grails.plugins:jasper:1.11.0 &gt; net.sf.jasperreports:jasperreports:5.6.1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output\r\n\r\nthe dependency I&#39;m using is \r\n\r\n    compile &quot;org.grails.plugins:jasper:1.11.0&quot; \r\n\r\nand the url for the maven repository I&#39;m using is \r\n\r\n    http://repo.grails.org/grails/repo\r\n\r\nalready tried with this one too\r\n\r\n    http://repo.grails.org/grails/core\r\n\r\ndoes anyone know what&#39;s happening?","title":"Grails - Jasper plugin dependency download error","body":"<p>I'm trying to download jasper plugin for grails but if I put the dependency in my build.gradle I keep getting this error:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'Eventos Unipar'.\n&gt; Could not resolve all dependencies for configuration ':runtime'.\n   &gt; Could not find org.olap4j:olap4j:0.9.7.309-JS-3.\n     Searched in the following locations:\n         file:/C:/Users/xSlok/.m2/repository/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.pom\n         file:/C:/Users/xSlok/.m2/repository/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.jar\n         http://repo.grails.org/grails/repo/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.pom\n         http://repo.grails.org/grails/repo/org/olap4j/olap4j/0.9.7.309-JS-3/olap4j-0.9.7.309-JS-3.jar\n     Required by:\n         eventosunipar:Eventos Unipar:0.1 &gt; org.grails.plugins:jasper:1.11.0 &gt; net.sf.jasperreports:jasperreports:5.6.1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output\n</code></pre>\n\n<p>the dependency I'm using is </p>\n\n<pre><code>compile \"org.grails.plugins:jasper:1.11.0\" \n</code></pre>\n\n<p>and the url for the maven repository I'm using is </p>\n\n<pre><code>http://repo.grails.org/grails/repo\n</code></pre>\n\n<p>already tried with this one too</p>\n\n<pre><code>http://repo.grails.org/grails/core\n</code></pre>\n\n<p>does anyone know what's happening?</p>\n"},{"tags":["java","spring","spring-boot","conditional-statements"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":1,"creation_date":1658822083,"post_id":73110559,"comment_id":129140347,"body_markdown":"What&#39;s the point in a `@DependsOnBean` annotation if your `TestController` explicitly uses `TestProvider` in its constructor? How did you tell Spring not to create the controller class? Without seeing the relevant code it&#39;s hard to tell what&#39;s going on.","body":"What&#39;s the point in a <code>@DependsOnBean</code> annotation if your <code>TestController</code> explicitly uses <code>TestProvider</code> in its constructor? How did you tell Spring not to create the controller class? Without seeing the relevant code it&#39;s hard to tell what&#39;s going on."},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1658831181,"post_id":73110559,"comment_id":129144004,"body_markdown":"From what I understand @DependsOnBeran prevents creation if the given Bean does not exist. It&#39;s worked that way for 4 years, and like I said it works great from IntelliJ, it just doesn&#39;t work in Docker for some reason. It&#39;s this project: https://github.com/actoaps/fafnir-sso","body":"From what I understand @DependsOnBeran prevents creation if the given Bean does not exist. It&#39;s worked that way for 4 years, and like I said it works great from IntelliJ, it just doesn&#39;t work in Docker for some reason. It&#39;s this project: <a href=\"https://github.com/actoaps/fafnir-sso\" rel=\"nofollow noreferrer\">github.com/actoaps/fafnir-sso</a>"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1658831309,"post_id":73110559,"comment_id":129144054,"body_markdown":"Sorry, @ConditionalOnBean. I will edit.","body":"Sorry, @ConditionalOnBean. I will edit."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658831713,"post_id":73110559,"comment_id":129144210,"body_markdown":"`it just doesn&#39;t work in Docker for some reason` - the reason is described in [javadoc](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnBean.html): `The condition can only match the bean definitions that have been processed by the application context so far and, as such, it is strongly recommended to use this condition on auto-configuration classes only`","body":"<code>it just doesn&#39;t work in Docker for some reason</code> - the reason is described in <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnBean.html\" rel=\"nofollow noreferrer\">javadoc</a>: <code>The condition can only match the bean definitions that have been processed by the application context so far and, as such, it is strongly recommended to use this condition on auto-configuration classes only</code>"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1658846529,"post_id":73110559,"comment_id":129150459,"body_markdown":"Yeah. That doesn&#39;t really explain it tho&#39;, at least not in a way that makes sense (to me).\n\nIt goes to look for a Bean, it discovers one doesn&#39;t exist, and somehow that satisfies the conditional, and it goes on to create the controller anyway?\n\nIs there some other way to prevent a (Controller) bean from being created if a (dependency) bean does not currently exist in the IoC context?","body":"Yeah. That doesn&#39;t really explain it tho&#39;, at least not in a way that makes sense (to me).  It goes to look for a Bean, it discovers one doesn&#39;t exist, and somehow that satisfies the conditional, and it goes on to create the controller anyway?  Is there some other way to prevent a (Controller) bean from being created if a (dependency) bean does not currently exist in the IoC context?"}],"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658831363,"creation_date":1658757718,"question_id":73110559,"body_markdown":"So basically I&#39;m getting the error.\r\n\r\n`Parameter 0 of constructor in TestController required a bean of type TestProvider that could not be found.`\r\n\r\nHowever the TestController class is annotated with `@ConditionalOnBean(TestProvider.class)`. Even better, this only happens when run in a Docker container. When running from IntelliJ, everything works as I would expect. What am I doing wrong?\r\n\r\nWhy is spring insisting on creating my controller class, when I explicitly told it not to?\r\n\r\nSpring Boot 2.7.2 if it matters.","title":"Parameter 0 of constructor in TestController required a bean of type TestProvider that could not be found","body":"<p>So basically I'm getting the error.</p>\n<p><code>Parameter 0 of constructor in TestController required a bean of type TestProvider that could not be found.</code></p>\n<p>However the TestController class is annotated with <code>@ConditionalOnBean(TestProvider.class)</code>. Even better, this only happens when run in a Docker container. When running from IntelliJ, everything works as I would expect. What am I doing wrong?</p>\n<p>Why is spring insisting on creating my controller class, when I explicitly told it not to?</p>\n<p>Spring Boot 2.7.2 if it matters.</p>\n"},{"tags":["java","regex","search","substring","search-engine"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1377015589,"post_id":18340097,"comment_id":26920644,"body_markdown":"Why do you think that the substring search is a performance problem?","body":"Why do you think that the substring search is a performance problem?"},{"owner":{"account_id":227691,"reputation":15026,"user_id":489512,"accept_rate":89,"display_name":"Venkata Krishna"},"score":0,"creation_date":1377015609,"post_id":18340097,"comment_id":26920662,"body_markdown":"good one here http://stackoverflow.com/questions/5296268/fastest-way-to-check-a-string-contain-another-substring-in-javascript","body":"good one here <a href=\"http://stackoverflow.com/questions/5296268/fastest-way-to-check-a-string-contain-another-substring-in-javascript\" title=\"fastest way to check a string contain another substring in javascript\">stackoverflow.com/questions/5296268/&hellip;</a>"},{"owner":{"account_id":2247195,"reputation":13200,"user_id":1980282,"accept_rate":67,"display_name":"FrankPl"},"score":2,"creation_date":1377015827,"post_id":18340097,"comment_id":26920803,"body_markdown":"It should not be to complicated to set up some simple performance tests yourself!","body":"It should not be to complicated to set up some simple performance tests yourself!"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1377016701,"post_id":18340097,"comment_id":26921290,"body_markdown":"You may also want to look into a trie: http://en.wikipedia.org/wiki/Trie","body":"You may also want to look into a trie: <a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Trie</a>"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377016182,"creation_date":1377015741,"answer_id":18340188,"question_id":18340097,"body_markdown":"As far as the three you asked about, a regular expression is going to be much slower because it requires putting together a full state machine when you have a much simpler target. For `contains` vs `indexOf`...\r\n\r\n    2114 public boolean contains(CharSequence s) {\r\n    2115     return indexOf(s.toString()) &gt; -1;\r\n    2116 }\r\n\r\n(i.e., `contains` just calls `indexOf`, but you might incur an extra `String` creation on each invocation. This is just one implementation of `contains`, but since the contract of `contains` is a simplification of `indexOf`, this is probably how every implementation will work.)","title":"what is the fastest substring search method in Java","body":"<p>As far as the three you asked about, a regular expression is going to be much slower because it requires putting together a full state machine when you have a much simpler target. For <code>contains</code> vs <code>indexOf</code>...</p>\n\n<pre><code>2114 public boolean contains(CharSequence s) {\n2115     return indexOf(s.toString()) &gt; -1;\n2116 }\n</code></pre>\n\n<p>(i.e., <code>contains</code> just calls <code>indexOf</code>, but you might incur an extra <code>String</code> creation on each invocation. This is just one implementation of <code>contains</code>, but since the contract of <code>contains</code> is a simplification of <code>indexOf</code>, this is probably how every implementation will work.)</p>\n"},{"tags":[],"owner":{"account_id":3120538,"reputation":498,"user_id":2640379,"display_name":"Veronica Cornejo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377016363,"creation_date":1377015824,"answer_id":18340218,"question_id":18340097,"body_markdown":"This is dependent on specific JRE (and even JDK) make/version.  It also depends / could depend on factors as string length, probability of being contained, in what position, etc.  The only way of obtaining precise performance data requires setting up your exact context.\r\n\r\nHowever, in general `aString.contains()` and `aString.indexOf()` should be exactly the same.  And even if a regular expression was superbly optimized, it wouldn&#39;t exceed the performance of the first two.\r\n\r\nNo, Java doesn&#39;t use extremely specialized algorithms either.\r\n\r\n","title":"what is the fastest substring search method in Java","body":"<p>This is dependent on specific JRE (and even JDK) make/version.  It also depends / could depend on factors as string length, probability of being contained, in what position, etc.  The only way of obtaining precise performance data requires setting up your exact context.</p>\n\n<p>However, in general <code>aString.contains()</code> and <code>aString.indexOf()</code> should be exactly the same.  And even if a regular expression was superbly optimized, it wouldn't exceed the performance of the first two.</p>\n\n<p>No, Java doesn't use extremely specialized algorithms either.</p>\n"},{"tags":[],"owner":{"account_id":1528164,"reputation":906,"user_id":1426079,"display_name":"Brinnis"},"down_vote_count":8,"up_vote_count":12,"is_accepted":true,"score":4,"last_activity_date":1526920473,"creation_date":1377016000,"answer_id":18340277,"question_id":18340097,"body_markdown":"    String[] names = new String[]{&quot;jack&quot;, &quot;jackson&quot;, &quot;jason&quot;, &quot;dijafu&quot;};\r\n\tlong start = 0;\r\n\tlong stop = 0;\r\n\t\t\r\n\t//Contains\r\n\tstart = System.nanoTime();\r\n\tfor (int i = 0; i &lt; names.length; i++){\r\n\t\tnames[i].contains(&quot;ja&quot;);\r\n\t}\r\n\tstop = System.nanoTime();\r\n\tSystem.out.println(&quot;Contains: &quot; + (stop-start));\r\n\t\t\r\n\t//IndexOf\r\n\tstart = System.nanoTime();\r\n\tfor (int i = 0; i &lt; names.length; i++){\r\n\t\tnames[i].indexOf(&quot;ja&quot;);\r\n\t}\r\n\tstop = System.nanoTime();\r\n\tSystem.out.println(&quot;IndexOf: &quot; + (stop-start));\r\n\t\t\r\n\t//Matches\r\n\tstart = System.nanoTime();\r\n\tfor (int i = 0; i &lt; names.length; i++){\r\n\t\tnames[i].matches(&quot;ja&quot;);\r\n\t}\r\n\tstop = System.nanoTime();\r\n\tSystem.out.println(&quot;Matches: &quot; + (stop-start));\r\n\r\nOutput:\r\n\r\n    Contains: 16677\r\n    IndexOf: 4491\r\n    Matches: 864018\r\n","title":"what is the fastest substring search method in Java","body":"<pre><code>String[] names = new String[]{\"jack\", \"jackson\", \"jason\", \"dijafu\"};\nlong start = 0;\nlong stop = 0;\n\n//Contains\nstart = System.nanoTime();\nfor (int i = 0; i &lt; names.length; i++){\n    names[i].contains(\"ja\");\n}\nstop = System.nanoTime();\nSystem.out.println(\"Contains: \" + (stop-start));\n\n//IndexOf\nstart = System.nanoTime();\nfor (int i = 0; i &lt; names.length; i++){\n    names[i].indexOf(\"ja\");\n}\nstop = System.nanoTime();\nSystem.out.println(\"IndexOf: \" + (stop-start));\n\n//Matches\nstart = System.nanoTime();\nfor (int i = 0; i &lt; names.length; i++){\n    names[i].matches(\"ja\");\n}\nstop = System.nanoTime();\nSystem.out.println(\"Matches: \" + (stop-start));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Contains: 16677\nIndexOf: 4491\nMatches: 864018\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2247195,"reputation":13200,"user_id":1980282,"accept_rate":67,"display_name":"FrankPl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377016093,"creation_date":1377016093,"answer_id":18340304,"question_id":18340097,"body_markdown":"From the example in your question, I assume you want to do case insensitive comparisons. Those slow down the process considerably. Hence, if you can live with some inaccuracies - which might depend on the locale in which you need to do the comparison, and your long text is searched again and again, it might make sense to convert the long text one time to uppercase, and the search string as well, and then search case-insensitive.","title":"what is the fastest substring search method in Java","body":"<p>From the example in your question, I assume you want to do case insensitive comparisons. Those slow down the process considerably. Hence, if you can live with some inaccuracies - which might depend on the locale in which you need to do the comparison, and your long text is searched again and again, it might make sense to convert the long text one time to uppercase, and the search string as well, and then search case-insensitive.</p>\n"},{"tags":[],"owner":{"account_id":2845799,"reputation":2706,"user_id":2444240,"accept_rate":89,"display_name":"Skylion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658831165,"creation_date":1377016095,"answer_id":18340305,"question_id":18340097,"body_markdown":"If you are searching a large amount of Strings I&#39;ve read the [Aho-Corasick][1] algorithm is pretty fast, but it&#39;s a natively implemented in Java. It&#39;s the same algorithm used by GREP in Unix-based systems if that helps and it&#39;s pretty efficient. [Here][2] is a Java implementation courtesy of Berkley. \r\n\r\nSee also: https://stackoverflow.com/a/1765616/59087\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Aho-Corasick\r\n  [2]: https://www.hashcollision.org/hkn/java/index.html","title":"what is the fastest substring search method in Java","body":"<p>If you are searching a large amount of Strings I've read the <a href=\"https://en.wikipedia.org/wiki/Aho-Corasick\" rel=\"nofollow noreferrer\">Aho-Corasick</a> algorithm is pretty fast, but it's a natively implemented in Java. It's the same algorithm used by GREP in Unix-based systems if that helps and it's pretty efficient. <a href=\"https://www.hashcollision.org/hkn/java/index.html\" rel=\"nofollow noreferrer\">Here</a> is a Java implementation courtesy of Berkley.</p>\n<p>See also: <a href=\"https://stackoverflow.com/a/1765616/59087\">https://stackoverflow.com/a/1765616/59087</a></p>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1471242808,"creation_date":1471242808,"answer_id":38950317,"question_id":18340097,"body_markdown":"The accepted answer is not correct and not complete.\r\n\r\n- `indexOf()` does a naive string search using backtracking on mismatches. This is **quite fast on small patterns/texts** but shows very poor performance on large texts\r\n- `contains(&quot;ja&quot;)` should be comparable to indexOf (because it delegates to it)\r\n- `matches(&quot;ja&quot;)` will not deliver the correct result, because it searches for an exact match (only the string `&quot;ja&quot;` will match exactly)\r\n- `Pattern p = Pattern.compile(&quot;ja&quot;); Matcher m = p.matcher(&quot;jack&quot;); m.find();` would be the correct way to find texts with regular expressions. In practice **(using large texts) it will be the most efficient** way using only the java api. This is because a constant pattern (like `&quot;ja&quot;`) will not be processed by the regex engine (which is slow) but by an Boyer-Moore-Algorithm (which is fast)\r\n\r\n\r\n","title":"what is the fastest substring search method in Java","body":"<p>The accepted answer is not correct and not complete.</p>\n\n<ul>\n<li><code>indexOf()</code> does a naive string search using backtracking on mismatches. This is <strong>quite fast on small patterns/texts</strong> but shows very poor performance on large texts</li>\n<li><code>contains(\"ja\")</code> should be comparable to indexOf (because it delegates to it)</li>\n<li><code>matches(\"ja\")</code> will not deliver the correct result, because it searches for an exact match (only the string <code>\"ja\"</code> will match exactly)</li>\n<li><code>Pattern p = Pattern.compile(\"ja\"); Matcher m = p.matcher(\"jack\"); m.find();</code> would be the correct way to find texts with regular expressions. In practice <strong>(using large texts) it will be the most efficient</strong> way using only the java api. This is because a constant pattern (like <code>\"ja\"</code>) will not be processed by the regex engine (which is slow) but by an Boyer-Moore-Algorithm (which is fast)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565867534,"creation_date":1565867534,"answer_id":57508798,"question_id":18340097,"body_markdown":"A benchmark in Kotlin (which uses Java anyway, so results are about the same), on Android, using similar approach as stated above, shows that indeed `contains` is similar to `indexOf`, but for some reason faster, even though it uses it.\r\n\r\nAs for regular expressions, because it creates real objects, and allows to go further, it&#39;s slower.\r\n\r\nSample results (time in ms) :\r\n\r\n    Contains: 0\r\n    IndexOf: 5\r\n    Matches: 45\r\n\r\n\r\nCode:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            AsyncTask.execute {\r\n                val itemsCount = 1000\r\n                val minStringLength = 1000\r\n                val maxStringLength = 1000\r\n                val list = ArrayList&lt;String&gt;(itemsCount)\r\n                val r = Random()\r\n                val stringToSearchFor = prepareFakeString(r, 5, 10, ALPHABET_LOWERCASE + ALPHABET_UPPERCASE + DIGITS)\r\n                for (i in 0 until itemsCount)\r\n                    list.add(prepareFakeString(r, minStringLength, maxStringLength, ALPHABET_LOWERCASE + ALPHABET_UPPERCASE + DIGITS))\r\n                val resultsContains = ArrayList&lt;Boolean&gt;(itemsCount)\r\n                val resultsIndexOf = ArrayList&lt;Boolean&gt;(itemsCount)\r\n                val resultsRegEx = ArrayList&lt;Boolean&gt;(itemsCount)\r\n                //Contains\r\n                var start: Long = System.currentTimeMillis()\r\n                var stop: Long = System.currentTimeMillis()\r\n                for (str in list) {\r\n                    resultsContains.add(str.contains(stringToSearchFor))\r\n                }\r\n                Log.d(&quot;AppLog&quot;, &quot;Contains: &quot; + (stop - start))\r\n                //IndexOf\r\n                start = System.currentTimeMillis()\r\n                for (str in list) {\r\n                    resultsIndexOf.add(str.indexOf(stringToSearchFor) &gt;= 0)\r\n                }\r\n                stop = System.currentTimeMillis()\r\n                Log.d(&quot;AppLog&quot;, &quot;IndexOf: &quot; + (stop - start))\r\n                //Matches\r\n                val regex = stringToSearchFor.toRegex()\r\n                start = System.currentTimeMillis()\r\n                for (str in list) {\r\n                    resultsRegEx.add(regex.find(str) != null)\r\n                }\r\n                stop = System.currentTimeMillis()\r\n                Log.d(&quot;AppLog&quot;, &quot;Matches: &quot; + (stop - start))\r\n                Log.d(&quot;AppLog&quot;, &quot;checking results...&quot;)\r\n                var foundIssue = false\r\n                for (i in 0 until itemsCount) {\r\n                    if (resultsContains[i] != resultsIndexOf[i] || resultsContains[i] != resultsRegEx[i]) {\r\n                        foundIssue = true\r\n                        break\r\n                    }\r\n                }\r\n                Log.d(&quot;AppLog&quot;, &quot;done. All results are the same?${!foundIssue}&quot;)\r\n            }\r\n        }\r\n    \r\n        companion object {\r\n            const val ALPHABET_LOWERCASE = &quot;qwertyuiopasdfghjklzxcvbnm&quot;\r\n            const val ALPHABET_UPPERCASE = &quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;\r\n            const val DIGITS = &quot;1234567890&quot;\r\n    \r\n            fun prepareFakeString(r: Random, minLength: Int, maxLength: Int, charactersToChooseFrom: String): String {\r\n                val length = if (maxLength == minLength) maxLength else r.nextInt(maxLength - minLength) + minLength\r\n                val sb = StringBuilder(length)\r\n                for (i in 0 until length)\r\n                    sb.append(charactersToChooseFrom[r.nextInt(charactersToChooseFrom.length)])\r\n                return sb.toString()\r\n            }\r\n        }\r\n    }","title":"what is the fastest substring search method in Java","body":"<p>A benchmark in Kotlin (which uses Java anyway, so results are about the same), on Android, using similar approach as stated above, shows that indeed <code>contains</code> is similar to <code>indexOf</code>, but for some reason faster, even though it uses it.</p>\n\n<p>As for regular expressions, because it creates real objects, and allows to go further, it's slower.</p>\n\n<p>Sample results (time in ms) :</p>\n\n<pre><code>Contains: 0\nIndexOf: 5\nMatches: 45\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        AsyncTask.execute {\n            val itemsCount = 1000\n            val minStringLength = 1000\n            val maxStringLength = 1000\n            val list = ArrayList&lt;String&gt;(itemsCount)\n            val r = Random()\n            val stringToSearchFor = prepareFakeString(r, 5, 10, ALPHABET_LOWERCASE + ALPHABET_UPPERCASE + DIGITS)\n            for (i in 0 until itemsCount)\n                list.add(prepareFakeString(r, minStringLength, maxStringLength, ALPHABET_LOWERCASE + ALPHABET_UPPERCASE + DIGITS))\n            val resultsContains = ArrayList&lt;Boolean&gt;(itemsCount)\n            val resultsIndexOf = ArrayList&lt;Boolean&gt;(itemsCount)\n            val resultsRegEx = ArrayList&lt;Boolean&gt;(itemsCount)\n            //Contains\n            var start: Long = System.currentTimeMillis()\n            var stop: Long = System.currentTimeMillis()\n            for (str in list) {\n                resultsContains.add(str.contains(stringToSearchFor))\n            }\n            Log.d(\"AppLog\", \"Contains: \" + (stop - start))\n            //IndexOf\n            start = System.currentTimeMillis()\n            for (str in list) {\n                resultsIndexOf.add(str.indexOf(stringToSearchFor) &gt;= 0)\n            }\n            stop = System.currentTimeMillis()\n            Log.d(\"AppLog\", \"IndexOf: \" + (stop - start))\n            //Matches\n            val regex = stringToSearchFor.toRegex()\n            start = System.currentTimeMillis()\n            for (str in list) {\n                resultsRegEx.add(regex.find(str) != null)\n            }\n            stop = System.currentTimeMillis()\n            Log.d(\"AppLog\", \"Matches: \" + (stop - start))\n            Log.d(\"AppLog\", \"checking results...\")\n            var foundIssue = false\n            for (i in 0 until itemsCount) {\n                if (resultsContains[i] != resultsIndexOf[i] || resultsContains[i] != resultsRegEx[i]) {\n                    foundIssue = true\n                    break\n                }\n            }\n            Log.d(\"AppLog\", \"done. All results are the same?${!foundIssue}\")\n        }\n    }\n\n    companion object {\n        const val ALPHABET_LOWERCASE = \"qwertyuiopasdfghjklzxcvbnm\"\n        const val ALPHABET_UPPERCASE = \"QWERTYUIOPASDFGHJKLZXCVBNM\"\n        const val DIGITS = \"1234567890\"\n\n        fun prepareFakeString(r: Random, minLength: Int, maxLength: Int, charactersToChooseFrom: String): String {\n            val length = if (maxLength == minLength) maxLength else r.nextInt(maxLength - minLength) + minLength\n            val sb = StringBuilder(length)\n            for (i in 0 until length)\n                sb.append(charactersToChooseFrom[r.nextInt(charactersToChooseFrom.length)])\n            return sb.toString()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1477710,"reputation":2762,"user_id":1387727,"accept_rate":84,"display_name":"Joey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28567,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":18340277,"answer_count":7,"score":15,"last_activity_date":1658831165,"creation_date":1377015407,"question_id":18340097,"body_markdown":"I need to implement a way to search substring (needles) in a list of string (haystack) using Java.\r\n\r\nMore specifically, my app has a list of user profiles. If I type some letters, for example, &quot;Ja&quot;, and then search, then all the users whose name contains &quot;ja&quot; should show up. For instance, the result could be &quot;Jack&quot;, &quot;Jackson&quot;, &quot;Jason&quot;, &quot;Dijafu&quot;.\r\n\r\nIn Java, as I know, there are 3 build-in method to see search substring in a string.\r\n\r\n1. string.contains()\r\n\r\n2. string.indexOf()\r\n\r\n3. regular expression. it is something like string.matches(&quot;ja&quot;)) \r\n\r\n**My question is:**  What are the runtimes of each method above? which one is the fastest or most efficient or most popular way to check if the list of string contains a given substring.\r\n\r\nI know there exists some algorithms that do the same thing, such as Boyer–Moore string search algorithm, Knuth–Morris–Pratt algorithm and so on. I do not want to use them because I just have a small list of strings, and I think using them is kind of overkill for me right now. Also I have to type a lot of extra coding for such a non-build-in algorithm. \r\nIf you think my thoughts is not correct, please feel free to correct me. ","title":"what is the fastest substring search method in Java","body":"<p>I need to implement a way to search substring (needles) in a list of string (haystack) using Java.</p>\n\n<p>More specifically, my app has a list of user profiles. If I type some letters, for example, \"Ja\", and then search, then all the users whose name contains \"ja\" should show up. For instance, the result could be \"Jack\", \"Jackson\", \"Jason\", \"Dijafu\".</p>\n\n<p>In Java, as I know, there are 3 build-in method to see search substring in a string.</p>\n\n<ol>\n<li><p>string.contains()</p></li>\n<li><p>string.indexOf()</p></li>\n<li><p>regular expression. it is something like string.matches(\"ja\")) </p></li>\n</ol>\n\n<p><strong>My question is:</strong>  What are the runtimes of each method above? which one is the fastest or most efficient or most popular way to check if the list of string contains a given substring.</p>\n\n<p>I know there exists some algorithms that do the same thing, such as Boyer–Moore string search algorithm, Knuth–Morris–Pratt algorithm and so on. I do not want to use them because I just have a small list of strings, and I think using them is kind of overkill for me right now. Also I have to type a lot of extra coding for such a non-build-in algorithm. \nIf you think my thoughts is not correct, please feel free to correct me. </p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658830868,"creation_date":1658830868,"answer_id":73121657,"question_id":73121571,"body_markdown":"You can use a type witness:\r\n\r\n    Flux.range(0, 10)\r\n        .&lt;Integer&gt;handle((x, sink) -&gt; {\r\n            if (x % 2 == 0)\r\n                sink.next(x);\r\n        });\r\n\r\nThis resolves to `Flux&lt;Integer&gt;`\r\n\r\nThis is a deficiency in Java&#39;s type inference, rather than a specific flaw of this class. Type witnesses are Java&#39;s way of explicitly declaring the generic type parameters, rather than relying on them being inferred.","title":"How to specify the generics when using Flux.handle()","body":"<p>You can use a type witness:</p>\n<pre><code>Flux.range(0, 10)\n    .&lt;Integer&gt;handle((x, sink) -&gt; {\n        if (x % 2 == 0)\n            sink.next(x);\n    });\n</code></pre>\n<p>This resolves to <code>Flux&lt;Integer&gt;</code></p>\n<p>This is a deficiency in Java's type inference, rather than a specific flaw of this class. Type witnesses are Java's way of explicitly declaring the generic type parameters, rather than relying on them being inferred.</p>\n"}],"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73121657,"answer_count":1,"score":0,"last_activity_date":1658830868,"creation_date":1658830485,"question_id":73121571,"body_markdown":"As title, I don&#39;t know how to specify the generics when I using `Flux.handle()`.\r\nIt will return a `Flux&lt;Object&gt;` after the `handle()` method like below example.\r\n```\r\nFlux.range(0, 10) // 1\r\n        .handle((x, sink) -&gt; {\r\n            if (x % 2 == 0)\r\n                sink.next(x);\r\n        }) // 2\r\n        .map(o -&gt; Integer.valueOf(o.toString()))\r\n        .subscribe(System.out::println);\r\n```\r\nIt&#39;s a simple example to express the problem I&#39;m facing so please don&#39;t care whether the content could be better.\r\n\r\nThe IDE shows `Flux&lt;Integer&gt;` at 1 and `Flux&lt;Object&gt;` at 2, so I need to add a `map()` method to transform the type which I want to use.\r\n\r\nIs there any way to specify the return type without using `map()`?","title":"How to specify the generics when using Flux.handle()","body":"<p>As title, I don't know how to specify the generics when I using <code>Flux.handle()</code>.\nIt will return a <code>Flux&lt;Object&gt;</code> after the <code>handle()</code> method like below example.</p>\n<pre><code>Flux.range(0, 10) // 1\n        .handle((x, sink) -&gt; {\n            if (x % 2 == 0)\n                sink.next(x);\n        }) // 2\n        .map(o -&gt; Integer.valueOf(o.toString()))\n        .subscribe(System.out::println);\n</code></pre>\n<p>It's a simple example to express the problem I'm facing so please don't care whether the content could be better.</p>\n<p>The IDE shows <code>Flux&lt;Integer&gt;</code> at 1 and <code>Flux&lt;Object&gt;</code> at 2, so I need to add a <code>map()</code> method to transform the type which I want to use.</p>\n<p>Is there any way to specify the return type without using <code>map()</code>?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"score":0,"creation_date":1548562238,"post_id":54384986,"comment_id":95582664,"body_markdown":"what studio is this?","body":"what studio is this?"},{"owner":{"account_id":14967377,"reputation":2042,"user_id":10805230,"display_name":"Ratish Bansal"},"score":0,"creation_date":1548574879,"post_id":54384986,"comment_id":95584398,"body_markdown":"You can always maintain a global static variable and use it across multiple activities in your app.","body":"You can always maintain a global static variable and use it across multiple activities in your app."}],"answers":[{"tags":[],"owner":{"account_id":9170880,"reputation":612,"user_id":6818446,"display_name":"S. Czop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548562633,"creation_date":1548562633,"answer_id":54385040,"question_id":54384986,"body_markdown":"You might want to try SharedPreferences, which saves information into the phone. \r\n\r\nFrom [Android guides][1]:\r\n\r\n&gt; If you don&#39;t need to store a lot of data and it doesn&#39;t require\r\n&gt; structure, you should use SharedPreferences. The SharedPreferences\r\n&gt; APIs allow you to read and write persistent key-value pairs of\r\n&gt; primitive data types: booleans, floats, ints, longs, and strings.\r\n\r\nYou can find more than enough tutorials online. Some of them are:\r\n\r\n - [Save Key-Value Data with SharedPreferences - Developer Android][2]\r\n - [Android Shared preferences example - StackoverFlow ][3]\r\n\r\n  [1]: https://developer.android.com/guide/topics/data/data-storage\r\n  [2]: https://developer.android.com/training/data-storage/shared-preferences\r\n  [3]: https://stackoverflow.com/questions/23024831/android-shared-preferences-example","title":"Send data to multiple activites","body":"<p>You might want to try SharedPreferences, which saves information into the phone. </p>\n\n<p>From <a href=\"https://developer.android.com/guide/topics/data/data-storage\" rel=\"nofollow noreferrer\">Android guides</a>:</p>\n\n<blockquote>\n  <p>If you don't need to store a lot of data and it doesn't require\n  structure, you should use SharedPreferences. The SharedPreferences\n  APIs allow you to read and write persistent key-value pairs of\n  primitive data types: booleans, floats, ints, longs, and strings.</p>\n</blockquote>\n\n<p>You can find more than enough tutorials online. Some of them are:</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">Save Key-Value Data with SharedPreferences - Developer Android</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23024831/android-shared-preferences-example\">Android Shared preferences example - StackoverFlow </a></li>\n</ul>\n"}],"owner":{"account_id":15207760,"reputation":1,"user_id":10973573,"display_name":"NewtoStudio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1658830788,"answer_count":1,"score":-1,"last_activity_date":1658830837,"creation_date":1548562060,"question_id":54384986,"body_markdown":"I new to android studio and java in general. I am wondering if there is a good way to send data to multiple activities. I have 6 activities in my app right now, on the first activity the user will enter text. I have figured out how to make this text go from the first activity to the second activity. But I also want this text to show up on my 6th activity which is a summary page. Is there an easy way to do this?\r\n\r\nThanks in advance!","title":"Send data to multiple activites","body":"<p>I new to android studio and java in general. I am wondering if there is a good way to send data to multiple activities. I have 6 activities in my app right now, on the first activity the user will enter text. I have figured out how to make this text go from the first activity to the second activity. But I also want this text to show up on my 6th activity which is a summary page. Is there an easy way to do this?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","eclipse","maven","proguard"],"comments":[{"owner":{"account_id":323048,"reputation":889,"user_id":642823,"display_name":"gpapaz"},"score":1,"creation_date":1429606276,"post_id":29767073,"comment_id":47665479,"body_markdown":"possible duplicate of [CreateProcess error=206, The filename or extension is too long when running main() method](http://stackoverflow.com/questions/10519558/createprocess-error-206-the-filename-or-extension-is-too-long-when-running-main)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10519558/createprocess-error-206-the-filename-or-extension-is-too-long-when-running-main\">CreateProcess error=206, The filename or extension is too long when running main() method</a>"},{"owner":{"account_id":3288147,"reputation":321,"user_id":2767041,"display_name":"bookhuntress"},"score":0,"creation_date":1429613658,"post_id":29767073,"comment_id":47670806,"body_markdown":"actually, i&#39;ve seen that post before i posted my question. the answer &#39;you can add useexternalfile=&quot;yes&quot;&#39; by Brad Mace is not applicable to my case. i&#39;m thinking that at least 1 of the 7 options presented by espinchi can solve my problem but i&#39;m not sure which one.","body":"actually, i&#39;ve seen that post before i posted my question. the answer &#39;you can add useexternalfile=&quot;yes&quot;&#39; by Brad Mace is not applicable to my case. i&#39;m thinking that at least 1 of the 7 options presented by espinchi can solve my problem but i&#39;m not sure which one."},{"owner":{"account_id":323048,"reputation":889,"user_id":642823,"display_name":"gpapaz"},"score":2,"creation_date":1429613864,"post_id":29767073,"comment_id":47670968,"body_markdown":"Then, either update your question to get help to determine which of the 7 options will work for your case, or go to that question and ask on comments? As it is, you are asking the same question as the ones presented as duplicates.","body":"Then, either update your question to get help to determine which of the 7 options will work for your case, or go to that question and ask on comments? As it is, you are asking the same question as the ones presented as duplicates."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1444121106,"post_id":29767073,"comment_id":53755632,"body_markdown":"Have you tried to get more information running maven in debug mode `mvn -X ...`?","body":"Have you tried to get more information running maven in debug mode <code>mvn -X ...</code>?"},{"owner":{"account_id":1068073,"reputation":875,"user_id":1068054,"display_name":"Jan Henke"},"score":0,"creation_date":1444135899,"post_id":29767073,"comment_id":53765693,"body_markdown":"Are you possible running into the 255 character limit on file path lengths?","body":"Are you possible running into the 255 character limit on file path lengths?"},{"owner":{"account_id":3288147,"reputation":321,"user_id":2767041,"display_name":"bookhuntress"},"score":0,"creation_date":1444380915,"post_id":29767073,"comment_id":53889344,"body_markdown":"@JanHenke yes, we have run out of the 255 character limit on file path lengths. however, we cannot correct this due to the naming convention of the plug-ins that we develop. a significant number of these plug-ins are also legacy ones and other teams are using them so we cannot change their names. any suggestions?","body":"@JanHenke yes, we have run out of the 255 character limit on file path lengths. however, we cannot correct this due to the naming convention of the plug-ins that we develop. a significant number of these plug-ins are also legacy ones and other teams are using them so we cannot change their names. any suggestions?"},{"owner":{"account_id":1068073,"reputation":875,"user_id":1068054,"display_name":"Jan Henke"},"score":0,"creation_date":1444383459,"post_id":29767073,"comment_id":53890919,"body_markdown":"Compile on a Unix platform, which does not have the 255 character limit. There is no easy way to go around the 255 character limit on Windows.","body":"Compile on a Unix platform, which does not have the 255 character limit. There is no easy way to go around the 255 character limit on Windows."},{"owner":{"account_id":96101,"reputation":3895,"user_id":261378,"accept_rate":75,"display_name":"Verhagen"},"score":0,"creation_date":1444649611,"post_id":29767073,"comment_id":53976565,"body_markdown":"What OS are you using ?","body":"What OS are you using ?"},{"owner":{"account_id":3288147,"reputation":321,"user_id":2767041,"display_name":"bookhuntress"},"score":0,"creation_date":1445530882,"post_id":29767073,"comment_id":54371821,"body_markdown":"We are using Windows 7. Since our target users are Windows users only (for now), compiling on a UNIX platform does not make sense for us.","body":"We are using Windows 7. Since our target users are Windows users only (for now), compiling on a UNIX platform does not make sense for us."}],"answers":[{"tags":[],"owner":{"account_id":3288147,"reputation":321,"user_id":2767041,"display_name":"bookhuntress"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445531736,"creation_date":1445531429,"answer_id":33286000,"question_id":29767073,"body_markdown":"Somehow, for our case, the ff. steps eliminated the error: \r\n\r\n1. Compare the dependencies in the component&#39;s pom.xml and the dependencies identified by proguard-maven-plugin. In our case, we noticed that proguard-maven-plugin identified some dependencies that are not really need by the component. In fact, these dependencies are not even specified in the component&#39;s pom.xml. \r\n\r\n2. After performing Step 1, modify the component&#39;s pom.xml such that it will exclude the unnecessary dependencies that Proguard has identified (i.e., use the [exclusion][1] parameter). Below is a sample snippet:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;proguard&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;maxMemory&gt;1024m&lt;/maxMemory&gt;\r\n                    &lt;proguardInclude&gt;${basedir}/proguard.conf&lt;/proguardInclude&gt;\r\n                    &lt;libs&gt;\r\n                        &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}/lib/jce.jar&lt;/lib&gt;\r\n                    &lt;/libs&gt;\r\n                    &lt;!-- For some reason, these components are included by the plugin even if they are not dependencies of SES components so we need to explicitly indicate to proguard-maven-plugin to exclude them. --&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;p2.eclipse-plugin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;org.apache.geronimo.specs.geronimo-jms_1.1_spec&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                        &lt;!-- other exclusions here --&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.2&lt;/version&gt;\r\n                        &lt;scope&gt;runtime&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n  [1]: http://pyx4me.com/pyx4me-maven-plugins/proguard-maven-plugin/","title":"When executing proguard-maven-plugin, &quot;CreateProcess error=206, The filename or extension is too long&quot; occurs","body":"<p>Somehow, for our case, the ff. steps eliminated the error: </p>\n\n<ol>\n<li><p>Compare the dependencies in the component's pom.xml and the dependencies identified by proguard-maven-plugin. In our case, we noticed that proguard-maven-plugin identified some dependencies that are not really need by the component. In fact, these dependencies are not even specified in the component's pom.xml. </p></li>\n<li><p>After performing Step 1, modify the component's pom.xml such that it will exclude the unnecessary dependencies that Proguard has identified (i.e., use the <a href=\"http://pyx4me.com/pyx4me-maven-plugins/proguard-maven-plugin/\" rel=\"nofollow\">exclusion</a> parameter). Below is a sample snippet:</p></li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n            &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.10&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;proguard&lt;/goal&gt;\n                        &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;maxMemory&gt;1024m&lt;/maxMemory&gt;\n                &lt;proguardInclude&gt;${basedir}/proguard.conf&lt;/proguardInclude&gt;\n                &lt;libs&gt;\n                    &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;\n                    &lt;lib&gt;${java.home}/lib/jce.jar&lt;/lib&gt;\n                &lt;/libs&gt;\n                &lt;!-- For some reason, these components are included by the plugin even if they are not dependencies of SES components so we need to explicitly indicate to proguard-maven-plugin to exclude them. --&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;p2.eclipse-plugin&lt;/groupId&gt;\n                        &lt;artifactId&gt;org.apache.geronimo.specs.geronimo-jms_1.1_spec&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                    &lt;!-- other exclusions here --&gt;\n                &lt;/exclusions&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\n                    &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n                    &lt;version&gt;5.2&lt;/version&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11439295,"reputation":679,"user_id":8385477,"display_name":"srp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521029707,"creation_date":1521008949,"answer_id":49271047,"question_id":29767073,"body_markdown":"If you have a huge list of dependencies the list of -libraryjars the resulting command line to execute ProGaurd could become too long. On Windows the error message could look like CreateProcess error=206, The filename or extension is too long.\r\n\r\n    &lt;putLibraryJarsInTempDir&gt;true&lt;/putLibraryJarsInTempDir&gt;\r\n\r\nin plugin configuration makes the plugin copy all the library jars to a single temporary directory and pass that directory as the only -libraryjars argument to ProGuard. Build performance will be a bit worse, but the command line will be much shorter.\r\n\r\nfor detailed information about proguard maven plugin usage please refer their [here][1]\r\n\r\n\r\n  [1]: http://wvengen.github.io/proguard-maven-plugin/","title":"When executing proguard-maven-plugin, &quot;CreateProcess error=206, The filename or extension is too long&quot; occurs","body":"<p>If you have a huge list of dependencies the list of -libraryjars the resulting command line to execute ProGaurd could become too long. On Windows the error message could look like CreateProcess error=206, The filename or extension is too long.</p>\n\n<pre><code>&lt;putLibraryJarsInTempDir&gt;true&lt;/putLibraryJarsInTempDir&gt;\n</code></pre>\n\n<p>in plugin configuration makes the plugin copy all the library jars to a single temporary directory and pass that directory as the only -libraryjars argument to ProGuard. Build performance will be a bit worse, but the command line will be much shorter.</p>\n\n<p>for detailed information about proguard maven plugin usage please refer their <a href=\"http://wvengen.github.io/proguard-maven-plugin/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":16002904,"reputation":11,"user_id":11549104,"display_name":"Sanjeev Hemnani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558686535,"creation_date":1558686535,"answer_id":56288669,"question_id":29767073,"body_markdown":"The reason to that is that generally maven repo is in user’s directory and that path adds on for every jar on the ‘classpath’ which makes it big enough for windows to handle. \r\n\r\nThe solution is that you need to move your maven repo to a shorter path – say C:\\. To do that you will need to edit maven settings.xml and add a tag &lt;localRepository&gt; as shown in the image link below. Once you do this, you can run maven clean install. This should solve the issue. \r\n\r\n[Maven Issue][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/akN7R.png","title":"When executing proguard-maven-plugin, &quot;CreateProcess error=206, The filename or extension is too long&quot; occurs","body":"<p>The reason to that is that generally maven repo is in user’s directory and that path adds on for every jar on the ‘classpath’ which makes it big enough for windows to handle. </p>\n\n<p>The solution is that you need to move your maven repo to a shorter path – say C:. To do that you will need to edit maven settings.xml and add a tag  as shown in the image link below. Once you do this, you can run maven clean install. This should solve the issue. </p>\n\n<p><a href=\"https://i.stack.imgur.com/akN7R.png\" rel=\"nofollow noreferrer\">Maven Issue</a></p>\n"},{"tags":[],"owner":{"account_id":6744686,"reputation":11,"user_id":5196649,"display_name":"grimwall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658830288,"creation_date":1658830288,"answer_id":73121534,"question_id":29767073,"body_markdown":"Apparently this issue was solved in newer versions of the plug-in:\r\n\r\nhttps://github.com/wvengen/proguard-maven-plugin/issues/113\r\n\r\nUse this newly added config option, solved our case:\r\n\r\n                        &lt;configuration&gt;\r\n                            &lt;generateTemporaryConfigurationFile&gt;true&lt;/generateTemporaryConfigurationFile&gt;\r\n                        &lt;/configuration&gt;","title":"When executing proguard-maven-plugin, &quot;CreateProcess error=206, The filename or extension is too long&quot; occurs","body":"<p>Apparently this issue was solved in newer versions of the plug-in:</p>\n<p><a href=\"https://github.com/wvengen/proguard-maven-plugin/issues/113\" rel=\"nofollow noreferrer\">https://github.com/wvengen/proguard-maven-plugin/issues/113</a></p>\n<p>Use this newly added config option, solved our case:</p>\n<pre><code>                    &lt;configuration&gt;\n                        &lt;generateTemporaryConfigurationFile&gt;true&lt;/generateTemporaryConfigurationFile&gt;\n                    &lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":3288147,"reputation":321,"user_id":2767041,"display_name":"bookhuntress"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5020,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":33286000,"answer_count":4,"score":14,"last_activity_date":1658830288,"creation_date":1429605679,"question_id":29767073,"body_markdown":"We are developing our own Eclipse plugin jars used by our Eclipse-based application. We are currently using &lt;code&gt;proguard-maven-plugin&lt;/code&gt; version 2.0.8 to obfuscate them. However, when running &lt;code&gt;mvn install&lt;/code&gt; on some plugins, we are currently encountering the following error:\r\n\r\n    [INFO] ---------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ---------------------------------------------------------------------\r\n    [INFO] Total time: 1:34.297s\r\n    [INFO] Finished at: Tue Apr 21 16:03:51 SGT 2015\r\n    [INFO] Final Memory: 88M/210M\r\n    [INFO] ---------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.0.8:proguard (default) on project com.x.y: Execution default of goal com.github.wvengen:proguard-maven-plugin:2.0.8:proguard failed: java.io.IOException: Cannot run program &quot;C:\\Program Files (x86)\\Java\\jdk1.7.0_55\\jre\\bin\\java.exe&quot;: CreateProcess error=206, The filename or extension is too long -&gt; [Help 1]\r\n\r\nHas anyone ever encountered this? If so, how did you solve the problem?\r\n\r\nNote that I have actually seen [this question][1] and other related questions before deciding to ask but the answer by Brad Mace is not applicable to my case as the &quot;CreateProcess error=206, The filename or extension is too long&quot; is generated by Proguard and not by Javadoc. Initially, I think (correct me if I&#39;m wrong) that either 1 of the 7 options given by espinchi or a variation of them might work but I&#39;m not sure which one. Just to let you know my constraints in determining the solution:\r\n\r\n1. I&#39;m not sure if all of the classpaths in this particular plugin are\r\n    valid since this has been developed by someone else many, many years\r\n    ago so I don&#39;t think I can still contact the developer. This makes\r\n    me hesitant to reduce the classpaths for fear that it might actually\r\n    do more harm than good.\r\n2. I cannot use the switch to &quot;use IntelliJ&quot; option since this problem occurred on the Windows command line when doing mvn install\r\n    and not in Eclipse IDE.\r\n3. I think the other options are too tedious for me. I&#39;m hoping there&#39;s a simpler solution.\r\n\r\nFor reference, below is the Proguard-related snippet from my pom file:\r\n\t\t\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n\t    &lt;plugins&gt;\r\n\t\t    &lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n   \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n\t    \t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t    \t\t\t&lt;goals&gt;\r\n\t\t\t    \t\t\t&lt;goal&gt;proguard&lt;/goal&gt;\r\n\t\t\t\t    \t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n   \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n\t    \t\t\t&lt;maxMemory&gt;1024m&lt;/maxMemory&gt;\r\n\t\t\t\t\t&lt;proguardInclude&gt;${basedir}/proguard.conf&lt;/proguardInclude&gt;\r\n\t\t\t\t\t&lt;libs&gt;\r\n   \t\t\t\t\t\t&lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;\r\n    \t\t\t\t&lt;/libs&gt;\r\n\t    \t\t\t&lt;exclusions&gt;\r\n\t\t    \t\t\t&lt;exclusion&gt;\r\n\t\t\t    \t\t\t&lt;groupId&gt;com.company.package&lt;/groupId&gt;\r\n\t\t\t\t    \t&lt;/exclusion&gt;\r\n\t\t\t\t    &lt;/exclusions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n   \t\t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/10519558/createprocess-error-206-the-filename-or-extension-is-too-long-when-running-main","title":"When executing proguard-maven-plugin, &quot;CreateProcess error=206, The filename or extension is too long&quot; occurs","body":"<p>We are developing our own Eclipse plugin jars used by our Eclipse-based application. We are currently using <code>proguard-maven-plugin</code> version 2.0.8 to obfuscate them. However, when running <code>mvn install</code> on some plugins, we are currently encountering the following error:</p>\n\n<pre><code>[INFO] ---------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ---------------------------------------------------------------------\n[INFO] Total time: 1:34.297s\n[INFO] Finished at: Tue Apr 21 16:03:51 SGT 2015\n[INFO] Final Memory: 88M/210M\n[INFO] ---------------------------------------------------------------------\n[ERROR] Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.0.8:proguard (default) on project com.x.y: Execution default of goal com.github.wvengen:proguard-maven-plugin:2.0.8:proguard failed: java.io.IOException: Cannot run program \"C:\\Program Files (x86)\\Java\\jdk1.7.0_55\\jre\\bin\\java.exe\": CreateProcess error=206, The filename or extension is too long -&gt; [Help 1]\n</code></pre>\n\n<p>Has anyone ever encountered this? If so, how did you solve the problem?</p>\n\n<p>Note that I have actually seen <a href=\"https://stackoverflow.com/questions/10519558/createprocess-error-206-the-filename-or-extension-is-too-long-when-running-main\">this question</a> and other related questions before deciding to ask but the answer by Brad Mace is not applicable to my case as the \"CreateProcess error=206, The filename or extension is too long\" is generated by Proguard and not by Javadoc. Initially, I think (correct me if I'm wrong) that either 1 of the 7 options given by espinchi or a variation of them might work but I'm not sure which one. Just to let you know my constraints in determining the solution:</p>\n\n<ol>\n<li>I'm not sure if all of the classpaths in this particular plugin are\nvalid since this has been developed by someone else many, many years\nago so I don't think I can still contact the developer. This makes\nme hesitant to reduce the classpaths for fear that it might actually\ndo more harm than good.</li>\n<li>I cannot use the switch to \"use IntelliJ\" option since this problem occurred on the Windows command line when doing mvn install\nand not in Eclipse IDE.</li>\n<li>I think the other options are too tedious for me. I'm hoping there's a simpler solution.</li>\n</ol>\n\n<p>For reference, below is the Proguard-related snippet from my pom file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n            &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;proguard&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;maxMemory&gt;1024m&lt;/maxMemory&gt;\n                &lt;proguardInclude&gt;${basedir}/proguard.conf&lt;/proguardInclude&gt;\n                &lt;libs&gt;\n                    &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;\n                &lt;/libs&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.company.package&lt;/groupId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8835,"page":1157,"page_size":100}
