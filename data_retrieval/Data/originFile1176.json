{"items":[{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1658217937,"post_id":73033154,"comment_id":128990288,"body_markdown":"How would you join `PersonDetail` to `Person` in a plain SQL query?","body":"How would you join <code>PersonDetail</code> to <code>Person</code> in a plain SQL query?"},{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1658218401,"post_id":73033154,"comment_id":128990469,"body_markdown":"@XtremeBaumer based on REG_CODE and PERSON_CODE. That&#39;s what I tried initially. But it got me the error I added in last.","body":"@XtremeBaumer based on REG_CODE and PERSON_CODE. That&#39;s what I tried initially. But it got me the error I added in last."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1658219398,"post_id":73033154,"comment_id":128990802,"body_markdown":"Then simply remove the `@EmbeddedId`, move the properties of `PersonDetailId` out into `PersonDetail` and annotate the fields with `@Id`. Then it should work. There has been no need for `@Embeddable` for quite some time","body":"Then simply remove the <code>@EmbeddedId</code>, move the properties of <code>PersonDetailId</code> out into <code>PersonDetail</code> and annotate the fields with <code>@Id</code>. Then it should work. There has been no need for <code>@Embeddable</code> for quite some time"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1658236358,"post_id":73033154,"comment_id":128997436,"body_markdown":"This set of keys to uniquely identify person and personDetail don&#39;t make sense - Did someone intend Person to have a 1:M to PersonDetail? If so, use a OneToMany with a &#39;mappedby= person&#39; designation to have it use the existing foreign keys. Otherwise, if this can really be a OneToOne, PersonDetail should just use the PERSON_CODE and REG_CODE as its unique identifier.","body":"This set of keys to uniquely identify person and personDetail don&#39;t make sense - Did someone intend Person to have a 1:M to PersonDetail? If so, use a OneToMany with a &#39;mappedby= person&#39; designation to have it use the existing foreign keys. Otherwise, if this can really be a OneToOne, PersonDetail should just use the PERSON_CODE and REG_CODE as its unique identifier."},{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1658724169,"post_id":73033154,"comment_id":129113003,"body_markdown":"@Chris unfortunately this is the DB design and it&#39;s legacy we can&#39;t change. Only code is getting migrated.","body":"@Chris unfortunately this is the DB design and it&#39;s legacy we can&#39;t change. Only code is getting migrated."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1658760350,"post_id":73033154,"comment_id":129125358,"body_markdown":"If this is a 1:1, then yes, you do have the power to change. The ID in JPA does NOT need to match the primary keys in the database. The only restrictions are that what is marked as the ID uniquely identifies the entity, and can be used for foreign keys. There is no reason to use LAN_CODE as the ID if PersonDetail is unique using the PERSON_CODE and REG_CODE data. But doesn&#39;t matter - just use a bidirectional 1:1 - again, just use &#39;mappedby=&quot;person&quot;&#39; in the Person-&gt;PersonDetail mapping","body":"If this is a 1:1, then yes, you do have the power to change. The ID in JPA does NOT need to match the primary keys in the database. The only restrictions are that what is marked as the ID uniquely identifies the entity, and can be used for foreign keys. There is no reason to use LAN_CODE as the ID if PersonDetail is unique using the PERSON_CODE and REG_CODE data. But doesn&#39;t matter - just use a bidirectional 1:1 - again, just use &#39;mappedby=&quot;person&quot;&#39; in the Person-&gt;PersonDetail mapping"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658217365,"creation_date":1658217365,"question_id":73033154,"body_markdown":"I&#39;m new to JPA. I couldn&#39;t find a solution to my problem yet. I&#39;m using spring boot. I have 2 entities *Person and PersonDetail*. Both have one to one relationship. And has composite primary key in both. My entities as follows. \r\n\r\n**Person.java**\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;Person&quot;)\r\n    public class Person {\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate PersonId id;\r\n    \t\r\n    \t@Column(name = &quot;CREATED_ON&quot;)\r\n    \tprivate Date createdOn;\r\n    \t\r\n    //\t@OneToOne(cascade = CascadeType.ALL)\r\n    //\t@JoinColumns({ @JoinColumn(name = &quot;person_code&quot;, referencedColumnName = &quot;PERSON_CODE&quot;),\r\n    //\t\t\t@JoinColumn(name = &quot;reg_code&quot;, referencedColumnName = &quot;REG_CODE&quot;),\r\n    //\t\t\t@JoinColumn(name = &quot;lan_code&quot;, referencedColumnName = &quot;LAN_CODE&quot;)})\r\n    //\tprivate PersonDetail personDetail;\r\n    }\r\n    \r\n\r\n**PersonId.java**\r\n\r\n    @Embeddable\r\n    @Data\r\n    public class PersonId implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Column(name = &quot;PERSON_CODE&quot;)\r\n    \tprivate String personCode;\r\n    \t\r\n    \t@Column(name = &quot;REG_CODE&quot;)\r\n    \tprivate String regCode;\r\n    }\r\n\r\n**PersonDetail.java**\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;PersonDetail&quot;)\r\n    public class PersonDetail {\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate PersonDetailId id;\r\n    \t\r\n    \t@Column(name = &quot;REMARKS&quot;)\r\n    \tprivate String remarks;\r\n    \t\r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumns({ @JoinColumn(name = &quot;person_code&quot;, referencedColumnName = &quot;PERSON_CODE&quot;),\r\n    \t\t\t@JoinColumn(name = &quot;reg_code&quot;, referencedColumnName = &quot;REG_CODE&quot;) })\r\n    \tprivate Person person;\r\n    }\r\n    \r\n**PersonDetailId.java**\r\n\r\n    @Embeddable\r\n    @Data\r\n    public class PersonDetailId implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Column(name = &quot;PERSON_CODE&quot;)\r\n    \tprivate String personCode;\r\n    \t\r\n    \t@Column(name = &quot;REG_CODE&quot;)\r\n    \tprivate String regCode;\r\n    \t\r\n    \t@Column(name = &quot;LAN_CODE&quot;)\r\n    \tprivate String lanCode;\r\n    }\r\n\r\nAs you see lanCode is not present in Person.java. With PersonDetail repository I&#39;m able to get list of person details along with Person data. \r\n\r\nBut what if I want to get person list/object and get corresponding person detail. Since it&#39;s one to one mapping I can get by PersonDetail but wanted to know how to map the other way. \r\n\r\nIn Person class I had added mapping (lines commented). But when I try to fetch data I get exception. \r\n\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n    .\r\n    .\r\n    .\r\n    Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-206, SQLSTATE=42703, SQLERRMC=PERSON0_.LAN_CODE, DRIVER=4.31.10\r\n    \tat com.ibm.db2.jcc.am.b7.a(b7.java:810)\r\n    \tat com.ibm.db2.jcc.am.b7.a(b7.java:66)\r\n    \tat com.ibm.db2.jcc.am.b7.a(b7.java:140)\r\n\r\nIf I remove LAN_CODE mapping from Person class, I get below error on startup. \r\n\r\n    Invocation of init method failed; nested exception is org.hibernate.AnnotationException: referencedColumnNames(PERSON_CODE, REG_CODE) of com.ss.model.Person.personDetail referencing com.ss.model.PersonDetail not mapped to a single property\r\n\r\nHow to map it properly? Is it possible?","title":"One to one Mapping on composite key referenced by column which is not present in Entity","body":"<p>I'm new to JPA. I couldn't find a solution to my problem yet. I'm using spring boot. I have 2 entities <em>Person and PersonDetail</em>. Both have one to one relationship. And has composite primary key in both. My entities as follows.</p>\n<p><strong>Person.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;Person&quot;)\npublic class Person {\n    \n    @EmbeddedId\n    private PersonId id;\n    \n    @Column(name = &quot;CREATED_ON&quot;)\n    private Date createdOn;\n    \n//  @OneToOne(cascade = CascadeType.ALL)\n//  @JoinColumns({ @JoinColumn(name = &quot;person_code&quot;, referencedColumnName = &quot;PERSON_CODE&quot;),\n//          @JoinColumn(name = &quot;reg_code&quot;, referencedColumnName = &quot;REG_CODE&quot;),\n//          @JoinColumn(name = &quot;lan_code&quot;, referencedColumnName = &quot;LAN_CODE&quot;)})\n//  private PersonDetail personDetail;\n}\n</code></pre>\n<p><strong>PersonId.java</strong></p>\n<pre><code>@Embeddable\n@Data\npublic class PersonId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    @Column(name = &quot;PERSON_CODE&quot;)\n    private String personCode;\n    \n    @Column(name = &quot;REG_CODE&quot;)\n    private String regCode;\n}\n</code></pre>\n<p><strong>PersonDetail.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;PersonDetail&quot;)\npublic class PersonDetail {\n    \n    @EmbeddedId\n    private PersonDetailId id;\n    \n    @Column(name = &quot;REMARKS&quot;)\n    private String remarks;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumns({ @JoinColumn(name = &quot;person_code&quot;, referencedColumnName = &quot;PERSON_CODE&quot;),\n            @JoinColumn(name = &quot;reg_code&quot;, referencedColumnName = &quot;REG_CODE&quot;) })\n    private Person person;\n}\n</code></pre>\n<p><strong>PersonDetailId.java</strong></p>\n<pre><code>@Embeddable\n@Data\npublic class PersonDetailId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    @Column(name = &quot;PERSON_CODE&quot;)\n    private String personCode;\n    \n    @Column(name = &quot;REG_CODE&quot;)\n    private String regCode;\n    \n    @Column(name = &quot;LAN_CODE&quot;)\n    private String lanCode;\n}\n</code></pre>\n<p>As you see lanCode is not present in Person.java. With PersonDetail repository I'm able to get list of person details along with Person data.</p>\n<p>But what if I want to get person list/object and get corresponding person detail. Since it's one to one mapping I can get by PersonDetail but wanted to know how to map the other way.</p>\n<p>In Person class I had added mapping (lines commented). But when I try to fetch data I get exception.</p>\n<pre><code>Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n.\n.\n.\nCaused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-206, SQLSTATE=42703, SQLERRMC=PERSON0_.LAN_CODE, DRIVER=4.31.10\n    at com.ibm.db2.jcc.am.b7.a(b7.java:810)\n    at com.ibm.db2.jcc.am.b7.a(b7.java:66)\n    at com.ibm.db2.jcc.am.b7.a(b7.java:140)\n</code></pre>\n<p>If I remove LAN_CODE mapping from Person class, I get below error on startup.</p>\n<pre><code>Invocation of init method failed; nested exception is org.hibernate.AnnotationException: referencedColumnNames(PERSON_CODE, REG_CODE) of com.ss.model.Person.personDetail referencing com.ss.model.PersonDetail not mapped to a single property\n</code></pre>\n<p>How to map it properly? Is it possible?</p>\n"},{"tags":["java","xml","security","sonarqube","builder"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658217067,"creation_date":1658217067,"answer_id":73033084,"question_id":73031712,"body_markdown":"[Refer this for general XXE information][1]\r\n\r\nDisable DOCTYPE declaration - Disables processing of DOCTYPE, possible impact is the document may not be validated only wellformedness check would be done\r\n\r\nDisable External Entity - External entities if declared in the document will not be de-referenced, the values of the entities (if used in the document) would be null or (depending on the underlying parser configured) could through parse exception\r\n\r\nProhibit use of protocol - The parser will not use any protocol to access external DTD or Schema. All external DTD, schema should be available locally through SYSTEM identifier or registered with the parser\r\n\r\nThe method you choose would be largely dependent on the document you are parsing. If it uses schema, disabling DOCTYPE could be a good solution. If the document is guaranteed not to use external entities, disabling both DOCTYPE and external entities could be a better approach \r\n\r\n\r\n  [1]: https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing","title":"XML parsers should not be vulnerable to XXE attacks. Best way to solve with ZERO impact?","body":"<p><a href=\"https://owasp.org/www-community/vulnerabilities/XML_External_Entity_(XXE)_Processing\" rel=\"nofollow noreferrer\">Refer this for general XXE information</a></p>\n<p>Disable DOCTYPE declaration - Disables processing of DOCTYPE, possible impact is the document may not be validated only wellformedness check would be done</p>\n<p>Disable External Entity - External entities if declared in the document will not be de-referenced, the values of the entities (if used in the document) would be null or (depending on the underlying parser configured) could through parse exception</p>\n<p>Prohibit use of protocol - The parser will not use any protocol to access external DTD or Schema. All external DTD, schema should be available locally through SYSTEM identifier or registered with the parser</p>\n<p>The method you choose would be largely dependent on the document you are parsing. If it uses schema, disabling DOCTYPE could be a good solution. If the document is guaranteed not to use external entities, disabling both DOCTYPE and external entities could be a better approach</p>\n"}],"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2300,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73033084,"answer_count":1,"score":5,"last_activity_date":1658217067,"creation_date":1658209625,"question_id":73031712,"body_markdown":"I have a few SonarQube vulnerabilities and one of them caught my eye.\r\n\r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    try {           \r\n        DocumentBuilder db = dbf.newDocumentBuilder();\r\n        dom = db.parse(sIn);\r\n    } catch (ParserConfigurationException pce) {\r\n    \tlog.error(&quot;ERROR-pce***************************&quot;+pce.getMessage(),pce);\r\n        throw pce;\r\n    } catch (SAXException se) {\r\n    \tlog.error(&quot;ERROR-se**********************&quot;+se.getMessage(),se);\r\n        throw se;\r\n    } catch (IOException ioe) {\r\n    \tlog.error(&quot;ERROR-ioe*********************&quot;+ioe.getMessage(),ioe);\r\n        throw ioe;\r\n    }\r\n\r\nAs you can see in my code, I have a new DocumentBuilder(); and then I parse this: \t\t\r\n\r\n    InputStream sIn = new ByteArrayInputStream(contenidoXml.getBytes(StandardCharsets.UTF_8));\r\n\r\nThe Sonar &quot;solution&quot; is to do one of the following things: \r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    // to be compliant, completely disable DOCTYPE declaration:\r\n    factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n    // or completely disable external entities declarations:\r\n    factory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n    factory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n    // or prohibit the use of all protocols by external entities:\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n\r\nThis is legacy code and I am quite lost here. Could someone explain me the differences between the three solutions and which one is more possible to have zero impact in the code (we have to update a different classes but last time this was deployed SQ didn&#39;t even exist in my company).\r\n\r\n","title":"XML parsers should not be vulnerable to XXE attacks. Best way to solve with ZERO impact?","body":"<p>I have a few SonarQube vulnerabilities and one of them caught my eye.</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ntry {           \n    DocumentBuilder db = dbf.newDocumentBuilder();\n    dom = db.parse(sIn);\n} catch (ParserConfigurationException pce) {\n    log.error(&quot;ERROR-pce***************************&quot;+pce.getMessage(),pce);\n    throw pce;\n} catch (SAXException se) {\n    log.error(&quot;ERROR-se**********************&quot;+se.getMessage(),se);\n    throw se;\n} catch (IOException ioe) {\n    log.error(&quot;ERROR-ioe*********************&quot;+ioe.getMessage(),ioe);\n    throw ioe;\n}\n</code></pre>\n<p>As you can see in my code, I have a new DocumentBuilder(); and then I parse this:</p>\n<pre><code>InputStream sIn = new ByteArrayInputStream(contenidoXml.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>The Sonar &quot;solution&quot; is to do one of the following things:</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n// to be compliant, completely disable DOCTYPE declaration:\nfactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n// or completely disable external entities declarations:\nfactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\nfactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n// or prohibit the use of all protocols by external entities:\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n</code></pre>\n<p>This is legacy code and I am quite lost here. Could someone explain me the differences between the three solutions and which one is more possible to have zero impact in the code (we have to update a different classes but last time this was deployed SQ didn't even exist in my company).</p>\n"},{"tags":["java","spring","spring-boot","protobuf-java"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658218038,"post_id":73033018,"comment_id":128990339,"body_markdown":"Does this answer your question? [How to consume protobuf parameters using Spring REST?](https://stackoverflow.com/questions/40023714/how-to-consume-protobuf-parameters-using-spring-rest)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40023714/how-to-consume-protobuf-parameters-using-spring-rest\">How to consume protobuf parameters using Spring REST?</a>"},{"owner":{"account_id":6909368,"reputation":99,"user_id":5305894,"accept_rate":20,"display_name":"Saran"},"score":0,"creation_date":1658218677,"post_id":73033018,"comment_id":128990556,"body_markdown":"I tried this solution, it works fine, but it is returning status code `406` now. Also, it looks like this is applicable for MVC, is it ok to use this for rest API only.","body":"I tried this solution, it works fine, but it is returning status code <code>406</code> now. Also, it looks like this is applicable for MVC, is it ok to use this for rest API only."}],"owner":{"account_id":6909368,"reputation":99,"user_id":5305894,"accept_rate":20,"display_name":"Saran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658216762,"creation_date":1658216762,"question_id":73033018,"body_markdown":"I have the following application details, where I am adding protobuf to an existing spring boot application.\r\n\r\npom.xml dependencies\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.21.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.protobuf-java-format&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-java-format&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nApplication.java\r\nI have added the formatter as given below in Application.java\r\n\r\n    @Bean\r\n        ProtobufHttpMessageConverter protobufHttpMessageConverter() {\r\n            return new ProtobufHttpMessageConverter();\r\n        }\r\n\r\nSpring boot version used: `2.6.9`\r\n\r\nThe below is the API controller\r\n\r\n     @PostMapping(value = &quot;/reports/process&quot;, consumes = &quot;application/x-protobuf&quot;)\r\n        public ResponseEntity&lt;Boolean&gt; processReports(\r\n                @Parameter(description = &quot;Process report data&quot;, required = true)\r\n                @RequestBody ReportCollection executionReports) {\r\n\r\nI have written and generated the `.proto` file for Java (above application)\r\nThe same .proto file is used in python and python generated the data and posted to the above API using `application/x-protobuf` in both the `Accept` and `Content-Type` headers.\r\n\r\nHowever the Spring boot API that received the payload throws the below exception\r\n\r\n \r\n\r\n    Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Boolean&gt; com.*.ReportsApiController.processReports(com.*.ReportCollection): Content type &#39;application/x-protobuf;charset=UTF-8&#39; not supported\r\n\r\nI have been googling for solution and not able to get this fixed, can you please help me","title":"java spring boot with Protobuf is not working","body":"<p>I have the following application details, where I am adding protobuf to an existing spring boot application.</p>\n<p>pom.xml dependencies</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.protobuf-java-format&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-format&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Application.java\nI have added the formatter as given below in Application.java</p>\n<pre><code>@Bean\n    ProtobufHttpMessageConverter protobufHttpMessageConverter() {\n        return new ProtobufHttpMessageConverter();\n    }\n</code></pre>\n<p>Spring boot version used: <code>2.6.9</code></p>\n<p>The below is the API controller</p>\n<pre><code> @PostMapping(value = &quot;/reports/process&quot;, consumes = &quot;application/x-protobuf&quot;)\n    public ResponseEntity&lt;Boolean&gt; processReports(\n            @Parameter(description = &quot;Process report data&quot;, required = true)\n            @RequestBody ReportCollection executionReports) {\n</code></pre>\n<p>I have written and generated the <code>.proto</code> file for Java (above application)\nThe same .proto file is used in python and python generated the data and posted to the above API using <code>application/x-protobuf</code> in both the <code>Accept</code> and <code>Content-Type</code> headers.</p>\n<p>However the Spring boot API that received the payload throws the below exception</p>\n<pre><code>Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Boolean&gt; com.*.ReportsApiController.processReports(com.*.ReportCollection): Content type 'application/x-protobuf;charset=UTF-8' not supported\n</code></pre>\n<p>I have been googling for solution and not able to get this fixed, can you please help me</p>\n"},{"tags":["java","querydsl"],"answers":[{"tags":[],"owner":{"account_id":4485228,"reputation":311,"user_id":3648096,"accept_rate":71,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1516709626,"creation_date":1516709626,"answer_id":48401468,"question_id":48400869,"body_markdown":"Let&#39;s assume we have three `BooleanExpression`s and we want to express `(q1 || q2) &amp;&amp; q3`. \r\n\r\nIf you write `q1.or(q2).and(q3)`, than the `and` statement is the top level operand and `q1.or(q2)` is first evaluated and then used as the left-side of the expression. This is due to the fact that the operations are evaluated in the order they appear. Remember, this is Java syntax. Hence, it would be valid to use the statement.\r\n\r\nHowever, if you do not like the notation, an alternative would be to simply write the following:\r\n\r\n    q3.and(q1.or(q2)); \r\n\r\nSee [these examples][1] for further information.\r\n\r\n  [1]: https://gist.github.com/timowest/5098112","title":"How to add parenthesis to queries in querydsl?","body":"<p>Let's assume we have three <code>BooleanExpression</code>s and we want to express <code>(q1 || q2) &amp;&amp; q3</code>. </p>\n\n<p>If you write <code>q1.or(q2).and(q3)</code>, than the <code>and</code> statement is the top level operand and <code>q1.or(q2)</code> is first evaluated and then used as the left-side of the expression. This is due to the fact that the operations are evaluated in the order they appear. Remember, this is Java syntax. Hence, it would be valid to use the statement.</p>\n\n<p>However, if you do not like the notation, an alternative would be to simply write the following:</p>\n\n<pre><code>q3.and(q1.or(q2)); \n</code></pre>\n\n<p>See <a href=\"https://gist.github.com/timowest/5098112\" rel=\"noreferrer\">these examples</a> for further information.</p>\n"},{"tags":[],"owner":{"account_id":25842078,"reputation":11,"user_id":19577484,"display_name":"teddyPark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658216359,"creation_date":1658216007,"answer_id":73032834,"question_id":48400869,"body_markdown":"use orAllOf , andAnyOf function\r\n\r\n```\r\n((q1 AND q2) OR (q3 AND q4)) AND q5\r\n```\r\n\r\nis \r\n```\r\nquery.where( q5.orAllOf(andAnyOf(q1,q2), andAnyOf(q3,q4)) )\r\n```","title":"How to add parenthesis to queries in querydsl?","body":"<p>use orAllOf , andAnyOf function</p>\n<pre><code>((q1 AND q2) OR (q3 AND q4)) AND q5\n</code></pre>\n<p>is</p>\n<pre><code>query.where( q5.orAllOf(andAnyOf(q1,q2), andAnyOf(q3,q4)) )\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48401468,"answer_count":2,"score":2,"last_activity_date":1658216359,"creation_date":1516707690,"question_id":48400869,"body_markdown":"I&#39;m using `querydsl` for sql selects. Now I have native query that I want to transform to querydsl. It consists of two OR statements in parenthesis, followed by and AND query that applies thereby to both OR parts.\r\n\r\nI need the following:\r\n\r\n    ((q1 AND q2) OR (q3 AND q4)) AND q5\r\n\r\nIn querydsl I can write for example:\r\n\r\n`BooleanExpression query = q1.and(q2).or(q3.and(q4)).and(q5)`\r\n\r\nBut that&#39;s not the same. What I really want is (note parenthesis):\r\n\r\n`BooleanExpression query = ((q1.and(q2)).or((q3.and(q4))).and(q5)`\r\n\r\nQuestion: how can I achieve this in java? How can I add those parenthesis logically to a querydsl expression.","title":"How to add parenthesis to queries in querydsl?","body":"<p>I'm using <code>querydsl</code> for sql selects. Now I have native query that I want to transform to querydsl. It consists of two OR statements in parenthesis, followed by and AND query that applies thereby to both OR parts.</p>\n\n<p>I need the following:</p>\n\n<pre><code>((q1 AND q2) OR (q3 AND q4)) AND q5\n</code></pre>\n\n<p>In querydsl I can write for example:</p>\n\n<p><code>BooleanExpression query = q1.and(q2).or(q3.and(q4)).and(q5)</code></p>\n\n<p>But that's not the same. What I really want is (note parenthesis):</p>\n\n<p><code>BooleanExpression query = ((q1.and(q2)).or((q3.and(q4))).and(q5)</code></p>\n\n<p>Question: how can I achieve this in java? How can I add those parenthesis logically to a querydsl expression.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1658216369,"post_id":73032864,"comment_id":128989771,"body_markdown":"How about using `JSONArray` instead of a list of `JSONObject`?","body":"How about using <code>JSONArray</code> instead of a list of <code>JSONObject</code>?"},{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1658216373,"post_id":73032864,"comment_id":128989774,"body_markdown":"Try using .add in your listofcontact instead of saving with equals (==).","body":"Try using .add in your listofcontact instead of saving with equals (==)."},{"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"score":0,"creation_date":1658216708,"post_id":73032864,"comment_id":128989895,"body_markdown":"@TrietDoan same using JSONArray { &quot;empty&quot;: false }","body":"@TrietDoan same using JSONArray { &quot;empty&quot;: false }"},{"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"score":0,"creation_date":1658239533,"post_id":73032864,"comment_id":128999002,"body_markdown":"Try hard-coding the `listofcontact` instead of calling to `searchService.searchProcessing(a,b)`. If the problem is still there, then maybe you have a wrong Spring Boot configuration somewhere. Otherwise, the `searchService.searchProcessing(a,b)` is the problem.","body":"Try hard-coding the <code>listofcontact</code> instead of calling to <code>searchService.searchProcessing(a,b)</code>. If the problem is still there, then maybe you have a wrong Spring Boot configuration somewhere. Otherwise, the <code>searchService.searchProcessing(a,b)</code> is the problem."}],"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658216197,"creation_date":1658216149,"question_id":73032864,"body_markdown":"    @ResponseBody\r\n\t@GetMapping(&quot;/search&quot;)\r\n\tpublic List&lt;JSONObject&gt;  search(\r\n\t\t\t@RequestParam(required = false) String a, @RequestParam(required = false) String b){\r\n\t\tList&lt;JSONObject&gt;listofcontact=new ArrayList&lt;&gt;();\r\n\t\tlistofcontact=searchService.searchProcessing(a,b);\r\n\t\treturn listofcontact;\r\nWhen i put debugg point all data will show in listofcontact but it return  { &quot;empty&quot;: false }  ","title":"I want to return List&lt;JSONObject&gt; but it will return { &quot;empty&quot;: false }","body":"<pre><code>@ResponseBody\n@GetMapping(&quot;/search&quot;)\npublic List&lt;JSONObject&gt;  search(\n        @RequestParam(required = false) String a, @RequestParam(required = false) String b){\n    List&lt;JSONObject&gt;listofcontact=new ArrayList&lt;&gt;();\n    listofcontact=searchService.searchProcessing(a,b);\n    return listofcontact;\n</code></pre>\n<p>When i put debugg point all data will show in listofcontact but it return  { &quot;empty&quot;: false }</p>\n"},{"tags":["java","docker","quarkus","alpine-linux"],"answers":[{"tags":[],"owner":{"account_id":312369,"reputation":741,"user_id":626395,"accept_rate":65,"display_name":"Michael S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658216096,"creation_date":1658216096,"answer_id":73032857,"question_id":72799808,"body_markdown":"I was not able to solve the problem so I found a second &quot;workaround&quot;.\r\nWorkarounds\r\n1.Use 2 containers with different configuration.2\r\n2.Use an other OS than alpin.\r\n\r\nI used debian instead of alpin and the problem disappear.\r\n\r\n    FROM debian:11.3\r\n    \r\n    ARG RUN_JAVA_VERSION=1.3.8\r\n    ENV LANG=&#39;en_US.UTF-8&#39; LANGUAGE=&#39;en_US:en&#39;\r\n    \r\n    \r\n    #debian special--------------------------------------------\r\n    #install curl -y=send yes to input\r\n    RUN apt-get update; apt-get install curl -y\r\n    \r\n    \r\n    #install jdk\r\n    RUN mkdir -p /usr/share/man/man1 /usr/share/man/man2\r\n    RUN apt-get install -y --no-install-recommends openjdk-11-jre\r\n    #----------------------------------------------------------\r\n    \r\n    RUN mkdir /deployments\r\n    RUN chmod &quot;g+rwX&quot; /deployments\r\n    RUN curl https://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh -o /deployments/run-java.sh\r\n    RUN chmod 540 /deployments/run-java.sh\r\n    \r\n    \r\n    # Configure the JAVA_OPTIONS, you can add -XshowSettings:vm to also display the heap size.\r\n    ENV JAVA_OPTIONS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n    \r\n    \r\n    # We make four distinct layers so if there are application changes the library layers can be re-used\r\n    COPY target/quarkus-app/lib/ /deployments/lib/\r\n    COPY target/quarkus-app/*.jar /deployments/\r\n    COPY target/quarkus-app/app/ /deployments/app/\r\n    COPY target/quarkus-app/quarkus/ /deployments/quarkus/\r\n    \r\n    \r\n    EXPOSE 8080 \r\n    ENTRYPOINT [ &quot;/deployments/run-java.sh&quot; ] ","title":"Docker ENV LD_PRELOAD prevent container crash but throw java.io.IOException: Cannot run program &quot;ls&quot;: error=2, No such file or directory","body":"<p>I was not able to solve the problem so I found a second &quot;workaround&quot;.\nWorkarounds\n1.Use 2 containers with different configuration.2\n2.Use an other OS than alpin.</p>\n<p>I used debian instead of alpin and the problem disappear.</p>\n<pre><code>FROM debian:11.3\n\nARG RUN_JAVA_VERSION=1.3.8\nENV LANG='en_US.UTF-8' LANGUAGE='en_US:en'\n\n\n#debian special--------------------------------------------\n#install curl -y=send yes to input\nRUN apt-get update; apt-get install curl -y\n\n\n#install jdk\nRUN mkdir -p /usr/share/man/man1 /usr/share/man/man2\nRUN apt-get install -y --no-install-recommends openjdk-11-jre\n#----------------------------------------------------------\n\nRUN mkdir /deployments\nRUN chmod &quot;g+rwX&quot; /deployments\nRUN curl https://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh -o /deployments/run-java.sh\nRUN chmod 540 /deployments/run-java.sh\n\n\n# Configure the JAVA_OPTIONS, you can add -XshowSettings:vm to also display the heap size.\nENV JAVA_OPTIONS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\n\n\n# We make four distinct layers so if there are application changes the library layers can be re-used\nCOPY target/quarkus-app/lib/ /deployments/lib/\nCOPY target/quarkus-app/*.jar /deployments/\nCOPY target/quarkus-app/app/ /deployments/app/\nCOPY target/quarkus-app/quarkus/ /deployments/quarkus/\n\n\nEXPOSE 8080 \nENTRYPOINT [ &quot;/deployments/run-java.sh&quot; ] \n</code></pre>\n"}],"owner":{"account_id":312369,"reputation":741,"user_id":626395,"accept_rate":65,"display_name":"Michael S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73032857,"answer_count":1,"score":1,"last_activity_date":1658216096,"creation_date":1656498400,"question_id":72799808,"body_markdown":"I have a problem while call `com.google.firebase.cloud.FirestoreClient.getFirestore()` in a Java Application inside a Quarkus Server which is Running on an Alpine 3.15.4 inside a Docker container.\r\n\r\nI have created a small demo. The results are:\r\n\r\n**Configuration 1**  \r\nEnable in the docker file\r\n\r\n    RUN apk update\r\n    RUN apk --no-cache add curl ca-certificates openjdk11-jre-headless\r\n\r\n\r\nResults:  \r\ninit ok  \r\nshell fail\r\n\r\n**Configuration2**  \r\nDisable in the docker file\r\n\r\n    #RUN apk update\r\n    #RUN apk --no-cache add curl ca-certificates openjdk11-jre-headless\r\n\r\nResults:  \r\ninit fail  \r\nshell ok\r\n\r\n**If init fail this error is logged**\r\n\r\n    [de.ibe.DemoResource] (executor-thread-0) getFirestore\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x0000000000003efe, pid=1, tid=142\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (11.0.15+10) (build 11.0.15+10-alpine-r0)\r\n    # Java VM: OpenJDK 64-Bit Server VM (11.0.15+10-alpine-r0, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\r\n    # Problematic frame:\r\n    # C  0x0000000000003efe\r\n    #\r\n    # No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /deployments/hs_err_pid1.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://gitlab.alpinelinux.org/alpine/aports/issues\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n\r\n\r\n**If shell fail this error is logged**\r\n\r\n\r\n    java.io.IOException: Cannot run program &quot;ls&quot;: error=2, No such file or directory\r\n            at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n            at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n            at de.ibe.DemoResource.shell(DemoResource.java:72)\r\n            at de.ibe.DemoResource.demo(DemoResource.java:37)\r\n\r\n\r\nIf found some bug reports e.g.  \r\n\r\n    https://github.com/grpc/grpc-java/issues/8751 (see varpa89 commented on 28 Apr)  \r\n    https://github.com/micrometer-metrics/micrometer/issues/2776  \r\n\r\nOne workaround would be to create two container with different docker files. But I would prefer one container..\r\n\r\nHope someone can held me!\r\n\r\n\r\nHere is the code of the demo  \r\n\r\n    package de.ibe;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    import org.jboss.logging.Logger;\r\n    import org.jboss.resteasy.annotations.jaxrs.PathParam;\r\n    \r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    import com.google.firebase.FirebaseApp;\r\n    import com.google.firebase.FirebaseOptions;\r\n    import com.google.firebase.cloud.FirestoreClient;\r\n    \r\n    @Path(&quot;/demo&quot;)\r\n    public class DemoResource {\r\n    \r\n    \tprivate static final Logger LOG = Logger.getLogger(DemoResource.class);\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/{command}&quot;)\r\n    \tpublic String demo(@PathParam String command) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tif (command == null || command.equals(&quot;&quot;)) {\r\n    \t\t\t\treturn &quot;command null or empty&quot;;\r\n    \t\t\t} else if (command.equals(&quot;init&quot;)) {\r\n    \t\t\t\tLOG.info(&quot;run init&quot;);\r\n    \t\t\t\treturn this.init();\r\n    \t\t\t} else if (command.equals(&quot;shell&quot;)) {\r\n    \t\t\t\tLOG.info(&quot;run shell&quot;);\r\n    \t\t\t\treturn this.shell();\r\n    \t\t\t} else {\r\n    \t\t\t\treturn &quot;unkown command&quot;;\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOG.error(e);\r\n    \t\t\treturn e.getMessage();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate String init() throws IOException {\r\n    \t\ttry (InputStream in = this.getClass().getResourceAsStream(&quot;/demo-b9aa8a6.json&quot;)) {\r\n    \t\t\tif (in == null) {\r\n    \t\t\t\treturn &quot;init in is null&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t\tGoogleCredentials credentials = GoogleCredentials.fromStream(in);\r\n    \r\n    \t\t\tLOG.info(&quot;options&quot;);\r\n    \t\t\tFirebaseOptions options = new FirebaseOptions.Builder().setCredentials(credentials).build();\r\n    \r\n    \t\t\tLOG.info(&quot;initializeApp&quot;);\r\n    \t\t\tFirebaseApp.initializeApp(options);\r\n    \r\n    \t\t\tLOG.info(&quot;getFirestore&quot;);\r\n    \t\t\tFirestoreClient.getFirestore();\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn &quot;init ok&quot;;\r\n    \t}\r\n    \r\n    \tprivate String shell() {\r\n    \t\ttry {\r\n    \t\t\tfinal ProcessBuilder builder = new ProcessBuilder(&quot;ls&quot;);\r\n    \t\t\tbuilder.start();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn &quot;shell error&quot;;\r\n    \t\t}\r\n    \r\n    \t\treturn &quot;shell ok&quot;;\r\n    \t}\r\n    \r\n    }  \r\n\r\nDocker file  \r\n\r\n    FROM alpine:3.15.4\r\n    \r\n    ARG RUN_JAVA_VERSION=1.3.8\r\n    ENV LANG=&#39;en_US.UTF-8&#39; LANGUAGE=&#39;en_US:en&#39;\r\n    \r\n    # Install java and the run-java script\r\n    RUN apk update\r\n    RUN apk --no-cache add curl ca-certificates openjdk11-jre-headless\r\n    \r\n    # init ok but shell false, enable\r\n    #RUN apk add gcompat\r\n    #ENV LD_PRELOAD=/lib/libgcompat.so.0\r\n    \r\n    RUN mkdir /deployments\r\n    RUN chmod &quot;g+rwX&quot; /deployments\r\n    RUN curl https://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh -o /deployments/run-java.sh\r\n    RUN chmod 540 /deployments/run-java.sh\r\n    \r\n    # Configure the JAVA_OPTIONS, you can add -XshowSettings:vm to also display the heap size.\r\n    ENV JAVA_OPTIONS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n    \r\n    # We make four distinct layers so if there are application changes the library layers can be re-used\r\n    COPY target/quarkus-app/lib/ /deployments/lib/\r\n    COPY target/quarkus-app/*.jar /deployments/\r\n    COPY target/quarkus-app/app/ /deployments/app/\r\n    COPY target/quarkus-app/quarkus/ /deployments/quarkus/\r\n    \r\n    EXPOSE 8080\r\n    ENTRYPOINT [ &quot;/deployments/run-java.sh&quot; ]\r\n","title":"Docker ENV LD_PRELOAD prevent container crash but throw java.io.IOException: Cannot run program &quot;ls&quot;: error=2, No such file or directory","body":"<p>I have a problem while call <code>com.google.firebase.cloud.FirestoreClient.getFirestore()</code> in a Java Application inside a Quarkus Server which is Running on an Alpine 3.15.4 inside a Docker container.</p>\n<p>I have created a small demo. The results are:</p>\n<p><strong>Configuration 1</strong><br />\nEnable in the docker file</p>\n<pre><code>RUN apk update\nRUN apk --no-cache add curl ca-certificates openjdk11-jre-headless\n</code></pre>\n<p>Results:<br />\ninit ok<br />\nshell fail</p>\n<p><strong>Configuration2</strong><br />\nDisable in the docker file</p>\n<pre><code>#RUN apk update\n#RUN apk --no-cache add curl ca-certificates openjdk11-jre-headless\n</code></pre>\n<p>Results:<br />\ninit fail<br />\nshell ok</p>\n<p><strong>If init fail this error is logged</strong></p>\n<pre><code>[de.ibe.DemoResource] (executor-thread-0) getFirestore\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000000003efe, pid=1, tid=142\n#\n# JRE version: OpenJDK Runtime Environment (11.0.15+10) (build 11.0.15+10-alpine-r0)\n# Java VM: OpenJDK 64-Bit Server VM (11.0.15+10-alpine-r0, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  0x0000000000003efe\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /deployments/hs_err_pid1.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://gitlab.alpinelinux.org/alpine/aports/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n</code></pre>\n<p><strong>If shell fail this error is logged</strong></p>\n<pre><code>java.io.IOException: Cannot run program &quot;ls&quot;: error=2, No such file or directory\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n        at de.ibe.DemoResource.shell(DemoResource.java:72)\n        at de.ibe.DemoResource.demo(DemoResource.java:37)\n</code></pre>\n<p>If found some bug reports e.g.</p>\n<pre><code>https://github.com/grpc/grpc-java/issues/8751 (see varpa89 commented on 28 Apr)  \nhttps://github.com/micrometer-metrics/micrometer/issues/2776  \n</code></pre>\n<p>One workaround would be to create two container with different docker files. But I would prefer one container..</p>\n<p>Hope someone can held me!</p>\n<p>Here is the code of the demo</p>\n<pre><code>package de.ibe;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport org.jboss.logging.Logger;\nimport org.jboss.resteasy.annotations.jaxrs.PathParam;\n\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.FirebaseOptions;\nimport com.google.firebase.cloud.FirestoreClient;\n\n@Path(&quot;/demo&quot;)\npublic class DemoResource {\n\n    private static final Logger LOG = Logger.getLogger(DemoResource.class);\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/{command}&quot;)\n    public String demo(@PathParam String command) {\n\n        try {\n            if (command == null || command.equals(&quot;&quot;)) {\n                return &quot;command null or empty&quot;;\n            } else if (command.equals(&quot;init&quot;)) {\n                LOG.info(&quot;run init&quot;);\n                return this.init();\n            } else if (command.equals(&quot;shell&quot;)) {\n                LOG.info(&quot;run shell&quot;);\n                return this.shell();\n            } else {\n                return &quot;unkown command&quot;;\n            }\n        } catch (Exception e) {\n            LOG.error(e);\n            return e.getMessage();\n        }\n    }\n\n    private String init() throws IOException {\n        try (InputStream in = this.getClass().getResourceAsStream(&quot;/demo-b9aa8a6.json&quot;)) {\n            if (in == null) {\n                return &quot;init in is null&quot;;\n            }\n\n            GoogleCredentials credentials = GoogleCredentials.fromStream(in);\n\n            LOG.info(&quot;options&quot;);\n            FirebaseOptions options = new FirebaseOptions.Builder().setCredentials(credentials).build();\n\n            LOG.info(&quot;initializeApp&quot;);\n            FirebaseApp.initializeApp(options);\n\n            LOG.info(&quot;getFirestore&quot;);\n            FirestoreClient.getFirestore();\n\n        }\n\n        return &quot;init ok&quot;;\n    }\n\n    private String shell() {\n        try {\n            final ProcessBuilder builder = new ProcessBuilder(&quot;ls&quot;);\n            builder.start();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return &quot;shell error&quot;;\n        }\n\n        return &quot;shell ok&quot;;\n    }\n\n}  \n</code></pre>\n<p>Docker file</p>\n<pre><code>FROM alpine:3.15.4\n\nARG RUN_JAVA_VERSION=1.3.8\nENV LANG='en_US.UTF-8' LANGUAGE='en_US:en'\n\n# Install java and the run-java script\nRUN apk update\nRUN apk --no-cache add curl ca-certificates openjdk11-jre-headless\n\n# init ok but shell false, enable\n#RUN apk add gcompat\n#ENV LD_PRELOAD=/lib/libgcompat.so.0\n\nRUN mkdir /deployments\nRUN chmod &quot;g+rwX&quot; /deployments\nRUN curl https://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh -o /deployments/run-java.sh\nRUN chmod 540 /deployments/run-java.sh\n\n# Configure the JAVA_OPTIONS, you can add -XshowSettings:vm to also display the heap size.\nENV JAVA_OPTIONS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\n\n# We make four distinct layers so if there are application changes the library layers can be re-used\nCOPY target/quarkus-app/lib/ /deployments/lib/\nCOPY target/quarkus-app/*.jar /deployments/\nCOPY target/quarkus-app/app/ /deployments/app/\nCOPY target/quarkus-app/quarkus/ /deployments/quarkus/\n\nEXPOSE 8080\nENTRYPOINT [ &quot;/deployments/run-java.sh&quot; ]\n</code></pre>\n"},{"tags":["java","scala","apache-spark","apache-spark-mllib"],"comments":[{"owner":{"account_id":6515954,"reputation":853,"user_id":5041779,"display_name":"sebszyller"},"score":2,"creation_date":1470777271,"post_id":38206166,"comment_id":65085056,"body_markdown":"Could you provide a complete exception trace?","body":"Could you provide a complete exception trace?"},{"owner":{"account_id":7782385,"reputation":712,"user_id":5888396,"display_name":"anshul_cached"},"score":0,"creation_date":1470901854,"post_id":38206166,"comment_id":65140681,"body_markdown":"Which  version of JDK are you using?","body":"Which  version of JDK are you using?"},{"owner":{"account_id":8021168,"reputation":258,"user_id":6049788,"display_name":"Andrew Tsibin"},"score":0,"creation_date":1471300802,"post_id":38206166,"comment_id":65283001,"body_markdown":"I tried jdk 1.8.0_60 and 1.8.0_101. Here full trace http://pastebin.com/g9MsNtDp","body":"I tried jdk 1.8.0_60 and 1.8.0_101. Here full trace <a href=\"http://pastebin.com/g9MsNtDp\" rel=\"nofollow noreferrer\">pastebin.com/g9MsNtDp</a>"}],"answers":[{"tags":[],"owner":{"account_id":6648075,"reputation":536,"user_id":5131373,"display_name":"Gangadhar Kadam"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1470937044,"creation_date":1470937044,"answer_id":38902792,"question_id":38206166,"body_markdown":"The StackOverflowError in Java\r\nWhen a function call is invoked by a Java application, a stack frame is allocated on the call stack. The stack frame contains the parameters of the invoked method, its local parameters, and the return address of the method. The return address denotes the execution point from which, the program execution shall continue after the invoked method returns. If there is no space for a new stack frame then, the StackOverflowError is thrown by the Java Virtual Machine (JVM).\r\nThe most common case that can possibly exhaust a Java application’s stack is recursion. In recursion, a method invokes itself during its execution. Recursion is considered as a powerful general-purpose programming technique, but must be used with caution, in order for the StackOverflowError to be avoided.\r\n\r\nThe possible solution is \r\n1.By default, Spark use memory only RDD serialization. try with a persist on disk option\r\n\r\n2.to try to increase the driver&#39;s JVM stack size, adding something like -Xss5m to the driver options. It is likely that some recursing is happening when you are checking the column types in the data.schema\r\n\r\n--driver-java-options &quot;-Xss 100M&quot;\r\n\r\nif possible share the file and complete exception trace.","title":"Apache Spark: StackOverflowError when trying to indexing string columns","body":"<p>The StackOverflowError in Java\nWhen a function call is invoked by a Java application, a stack frame is allocated on the call stack. The stack frame contains the parameters of the invoked method, its local parameters, and the return address of the method. The return address denotes the execution point from which, the program execution shall continue after the invoked method returns. If there is no space for a new stack frame then, the StackOverflowError is thrown by the Java Virtual Machine (JVM).\nThe most common case that can possibly exhaust a Java application’s stack is recursion. In recursion, a method invokes itself during its execution. Recursion is considered as a powerful general-purpose programming technique, but must be used with caution, in order for the StackOverflowError to be avoided.</p>\n\n<p>The possible solution is \n1.By default, Spark use memory only RDD serialization. try with a persist on disk option</p>\n\n<p>2.to try to increase the driver's JVM stack size, adding something like -Xss5m to the driver options. It is likely that some recursing is happening when you are checking the column types in the data.schema</p>\n\n<p>--driver-java-options \"-Xss 100M\"</p>\n\n<p>if possible share the file and complete exception trace.</p>\n"},{"tags":[],"owner":{"account_id":544099,"reputation":1215,"user_id":4780303,"display_name":"evgenii"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658215557,"creation_date":1470960493,"answer_id":38907938,"question_id":38206166,"body_markdown":"Most probably there is just not enough memory to keep all stack frames. I experienced something similar when trained RandomForestModel. The workaround that works for me is is to run my driver application (that&#39;s web service) with additional parameters:\r\n\r\n    -XX:ThreadStackSize=81920 -Dspark.executor.extraJavaOptions=&#39;-XX:ThreadStackSize=81920&#39;","title":"Apache Spark: StackOverflowError when trying to indexing string columns","body":"<p>Most probably there is just not enough memory to keep all stack frames. I experienced something similar when trained RandomForestModel. The workaround that works for me is is to run my driver application (that's web service) with additional parameters:</p>\n<pre><code>-XX:ThreadStackSize=81920 -Dspark.executor.extraJavaOptions='-XX:ThreadStackSize=81920'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8021168,"reputation":258,"user_id":6049788,"display_name":"Andrew Tsibin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1471304408,"creation_date":1471303872,"answer_id":38964513,"question_id":38206166,"body_markdown":"Seems like I found the kind of solution - use spark 2.0. Previously, I used 1.6.2 - it was the latest version at the time of issue. I tried to use the preview version of 2.0, but there is also the problem reproduced.","title":"Apache Spark: StackOverflowError when trying to indexing string columns","body":"<p>Seems like I found the kind of solution - use spark 2.0. Previously, I used 1.6.2 - it was the latest version at the time of issue. I tried to use the preview version of 2.0, but there is also the problem reproduced.</p>\n"}],"owner":{"account_id":8021168,"reputation":258,"user_id":6049788,"display_name":"Andrew Tsibin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6912,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":38964513,"answer_count":3,"score":18,"last_activity_date":1658215557,"creation_date":1467729259,"question_id":38206166,"body_markdown":"I have csv file with about 5000 rows and 950 columns. First I load it to DataFrame:\r\n\r\n    val data = sqlContext.read\r\n      .format(csvFormat)\r\n      .option(&quot;header&quot;, &quot;true&quot;)\r\n      .option(&quot;inferSchema&quot;, &quot;true&quot;)\r\n      .load(file)\r\n      .cache()\r\nAfter that I search all string columns\r\n\r\n    val featuresToIndex = data.schema\r\n      .filter(_.dataType == StringType)\r\n      .map(field =&gt; field.name)\r\nand want to index them. For that I create indexers for each string column\r\n\r\n    val stringIndexers = featuresToIndex.map(colName =&gt;\r\n      new StringIndexer()\r\n        .setInputCol(colName)\r\n        .setOutputCol(colName + &quot;Indexed&quot;))\r\nand create pipeline\r\n\r\n    val pipeline = new Pipeline().setStages(stringIndexers.toArray)\r\nBut when I try to transform my initial dataframe with this pipeline\r\n\r\n    val indexedDf = pipeline.fit(data).transform(data)\r\nI get StackOverflowError\r\n\r\n    16/07/05 16:55:12 INFO DAGScheduler: Job 4 finished: countByValue at StringIndexer.scala:86, took 7.882774 s\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat scala.collection.immutable.Set$Set1.contains(Set.scala:84)\r\n\tat scala.collection.immutable.Set$Set1.$plus(Set.scala:86)\r\n\tat scala.collection.immutable.Set$Set1.$plus(Set.scala:81)\r\n\tat scala.collection.mutable.SetBuilder.$plus$eq(SetBuilder.scala:22)\r\n\tat scala.collection.mutable.SetBuilder.$plus$eq(SetBuilder.scala:20)\r\n\tat scala.collection.generic.Growable$class.loop$1(Growable.scala:53)\r\n\tat scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:57)\r\n\tat scala.collection.mutable.SetBuilder.$plus$plus$eq(SetBuilder.scala:20)\r\n\tat scala.collection.TraversableLike$class.to(TraversableLike.scala:590)\r\n\tat scala.collection.AbstractTraversable.to(Traversable.scala:104)\r\n\tat scala.collection.TraversableOnce$class.toSet(TraversableOnce.scala:304)\r\n\tat scala.collection.AbstractTraversable.toSet(Traversable.scala:104)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.containsChild$lzycompute(TreeNode.scala:86)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.containsChild(TreeNode.scala:86)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$4.apply(TreeNode.scala:280)\r\n\tat scala.collection.Iterator$$anon$11.next(Iterator.scala:409)\r\n    ...\r\nWhat am I doing wrong?\r\nThanks.\r\n","title":"Apache Spark: StackOverflowError when trying to indexing string columns","body":"<p>I have csv file with about 5000 rows and 950 columns. First I load it to DataFrame:</p>\n\n<pre><code>val data = sqlContext.read\n  .format(csvFormat)\n  .option(\"header\", \"true\")\n  .option(\"inferSchema\", \"true\")\n  .load(file)\n  .cache()\n</code></pre>\n\n<p>After that I search all string columns</p>\n\n<pre><code>val featuresToIndex = data.schema\n  .filter(_.dataType == StringType)\n  .map(field =&gt; field.name)\n</code></pre>\n\n<p>and want to index them. For that I create indexers for each string column</p>\n\n<pre><code>val stringIndexers = featuresToIndex.map(colName =&gt;\n  new StringIndexer()\n    .setInputCol(colName)\n    .setOutputCol(colName + \"Indexed\"))\n</code></pre>\n\n<p>and create pipeline</p>\n\n<pre><code>val pipeline = new Pipeline().setStages(stringIndexers.toArray)\n</code></pre>\n\n<p>But when I try to transform my initial dataframe with this pipeline</p>\n\n<pre><code>val indexedDf = pipeline.fit(data).transform(data)\n</code></pre>\n\n<p>I get StackOverflowError</p>\n\n<pre><code>16/07/05 16:55:12 INFO DAGScheduler: Job 4 finished: countByValue at StringIndexer.scala:86, took 7.882774 s\nException in thread \"main\" java.lang.StackOverflowError\nat scala.collection.immutable.Set$Set1.contains(Set.scala:84)\nat scala.collection.immutable.Set$Set1.$plus(Set.scala:86)\nat scala.collection.immutable.Set$Set1.$plus(Set.scala:81)\nat scala.collection.mutable.SetBuilder.$plus$eq(SetBuilder.scala:22)\nat scala.collection.mutable.SetBuilder.$plus$eq(SetBuilder.scala:20)\nat scala.collection.generic.Growable$class.loop$1(Growable.scala:53)\nat scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:57)\nat scala.collection.mutable.SetBuilder.$plus$plus$eq(SetBuilder.scala:20)\nat scala.collection.TraversableLike$class.to(TraversableLike.scala:590)\nat scala.collection.AbstractTraversable.to(Traversable.scala:104)\nat scala.collection.TraversableOnce$class.toSet(TraversableOnce.scala:304)\nat scala.collection.AbstractTraversable.toSet(Traversable.scala:104)\nat org.apache.spark.sql.catalyst.trees.TreeNode.containsChild$lzycompute(TreeNode.scala:86)\nat org.apache.spark.sql.catalyst.trees.TreeNode.containsChild(TreeNode.scala:86)\nat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$4.apply(TreeNode.scala:280)\nat scala.collection.Iterator$$anon$11.next(Iterator.scala:409)\n...\n</code></pre>\n\n<p>What am I doing wrong?\nThanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658208638,"post_id":73031467,"comment_id":128987668,"body_markdown":"That sounds quite achievable to me. Provided you never explicitly write it to file, then it will remain in memory by default. What have you tried so far? What did you get stuck on? You could also convert the blob to an input stream like so `InputStream is = resultSet.getBinaryStream(&quot;...&quot;);` and if you media player library supports an input stream then just feed it directly into the library. You could still write it to a temp file and use `file.deleteOnExit();` to delete it when the VM closes.","body":"That sounds quite achievable to me. Provided you never explicitly write it to file, then it will remain in memory by default. What have you tried so far? What did you get stuck on? You could also convert the blob to an input stream like so <code>InputStream is = resultSet.getBinaryStream(&quot;...&quot;);</code> and if you media player library supports an input stream then just feed it directly into the library. You could still write it to a temp file and use <code>file.deleteOnExit();</code> to delete it when the VM closes."},{"owner":{"account_id":24315027,"reputation":17,"user_id":18256357,"display_name":"S0laris_Kn1ght"},"score":0,"creation_date":1658209777,"post_id":73031467,"comment_id":128987879,"body_markdown":"Hi , thanks for the reply , in the beginning I got the BLOB from the database using getBinaryStream(&quot;&quot;); , but had no idea of how to have the byte data converted to mp3 and then play it, I am using javafx.media and mediaplayer library and I am not sure if it has a method that would accept InputStream data. And are you suggesting that I write it to disk and then load into memory by adding it to an array and then playing it from there , once it has loaded I use file.deleteOnExist() ?\nOnce Again Thanks,","body":"Hi , thanks for the reply , in the beginning I got the BLOB from the database using getBinaryStream(&quot;&quot;); , but had no idea of how to have the byte data converted to mp3 and then play it, I am using javafx.media and mediaplayer library and I am not sure if it has a method that would accept InputStream data. And are you suggesting that I write it to disk and then load into memory by adding it to an array and then playing it from there , once it has loaded I use file.deleteOnExist() ? Once Again Thanks,"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1658211284,"post_id":73031467,"comment_id":128988231,"body_markdown":"You need to explicitly state what api is used to play the mp3 and where you are stuck with feeding the blob data to it. What audio format is the blob? Is that already mp3 data","body":"You need to explicitly state what api is used to play the mp3 and where you are stuck with feeding the blob data to it. What audio format is the blob? Is that already mp3 data"},{"owner":{"account_id":24315027,"reputation":17,"user_id":18256357,"display_name":"S0laris_Kn1ght"},"score":0,"creation_date":1658211799,"post_id":73031467,"comment_id":128988365,"body_markdown":"@SpaceTrucker I am using jdbc driver with mysql workbench ce to store my data , the mp3 files are converted to byte stream and then pushed into the database as a MEDIUM BLOB column , the goal is to take that BLOB from the database convert it back to mp3 and then play it . I am currently using mediaplayer which is a part of javafx.media library . The BLOB is mp3 format data , which needs to be written to a file in memory location in order to play it from that memory location . The goal is to not to have to store that  file(BLOB  -&gt; mp3 file) on user computer which saves space.","body":"@SpaceTrucker I am using jdbc driver with mysql workbench ce to store my data , the mp3 files are converted to byte stream and then pushed into the database as a MEDIUM BLOB column , the goal is to take that BLOB from the database convert it back to mp3 and then play it . I am currently using mediaplayer which is a part of javafx.media library . The BLOB is mp3 format data , which needs to be written to a file in memory location in order to play it from that memory location . The goal is to not to have to store that  file(BLOB  -&gt; mp3 file) on user computer which saves space."},{"owner":{"account_id":24315027,"reputation":17,"user_id":18256357,"display_name":"S0laris_Kn1ght"},"score":0,"creation_date":1658211852,"post_id":73031467,"comment_id":128988386,"body_markdown":"@SpaceTrucker I currently have no idea on how to write that byte stream data into a file in memory location and then being able to play it.","body":"@SpaceTrucker I currently have no idea on how to write that byte stream data into a file in memory location and then being able to play it."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1658214635,"post_id":73031467,"comment_id":128989158,"body_markdown":"Does this answer your question? [Playing a mp3 file in a client program](https://stackoverflow.com/questions/15400231/playing-a-mp3-file-in-a-client-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15400231/playing-a-mp3-file-in-a-client-program\">Playing a mp3 file in a client program</a>"}],"answers":[{"tags":[],"owner":{"account_id":22588348,"reputation":13,"user_id":16771883,"display_name":"c0nD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658211607,"creation_date":1658211607,"answer_id":73032011,"question_id":73031467,"body_markdown":"From my understanding you&#39;re looking to take this mp3 file stored in BLOB and play it back as audio.\r\n\r\nAs far as I know, something like this should work.\r\n```\r\n// &quot;Opens&quot; up the mp3 file and stores it in memory like you said\r\nFile blobMp3File = new File(&quot;your mp3 audio filepath&quot;).getAbsoluteFile();\r\nClip clip = AudioSystem.getClip();\r\nclip.open(blobMp3File);\r\nclip.start(); // Plays the audio once\r\nclip.close(); // Closes it whenever you&#39;re done\r\n```\r\n\r\nAs mentioned in a comment, this might also work with `InputStream is = resultSet.getBinaryStream(&quot;...&quot;);`, but I have not tested this.","title":"How to store a mp3 file in memory and then play it from there in Java","body":"<p>From my understanding you're looking to take this mp3 file stored in BLOB and play it back as audio.</p>\n<p>As far as I know, something like this should work.</p>\n<pre><code>// &quot;Opens&quot; up the mp3 file and stores it in memory like you said\nFile blobMp3File = new File(&quot;your mp3 audio filepath&quot;).getAbsoluteFile();\nClip clip = AudioSystem.getClip();\nclip.open(blobMp3File);\nclip.start(); // Plays the audio once\nclip.close(); // Closes it whenever you're done\n</code></pre>\n<p>As mentioned in a comment, this might also work with <code>InputStream is = resultSet.getBinaryStream(&quot;...&quot;);</code>, but I have not tested this.</p>\n"}],"owner":{"account_id":24315027,"reputation":17,"user_id":18256357,"display_name":"S0laris_Kn1ght"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1658215376,"creation_date":1658207945,"question_id":73031467,"body_markdown":"I have a database that stores mp3 files in BLOB format. I would like to retrieve those BLOBs from the database and instead of writing them to the hard disk, I want to convert them, from BLOB format to an MP3 file in memory and then play it from that memory location. The whole idea of it is not to store it on local machine. Please guide me with any articles or tutorials in achieving so.\r\n","title":"How to store a mp3 file in memory and then play it from there in Java","body":"<p>I have a database that stores mp3 files in BLOB format. I would like to retrieve those BLOBs from the database and instead of writing them to the hard disk, I want to convert them, from BLOB format to an MP3 file in memory and then play it from that memory location. The whole idea of it is not to store it on local machine. Please guide me with any articles or tutorials in achieving so.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658209135,"post_id":73031611,"comment_id":128987760,"body_markdown":"You do not copy it. X and y points to the same array","body":"You do not copy it. X and y points to the same array"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658215108,"post_id":73031611,"comment_id":128989332,"body_markdown":"Even though Java allows you to use `int x[]`, that syntax is discouraged (and IMHO a historic mistake). The general convention is to use `int[] x`, as that is far more clear and readable to most Java programmers.","body":"Even though Java allows you to use <code>int x[]</code>, that syntax is discouraged (and IMHO a historic mistake). The general convention is to use <code>int[] x</code>, as that is far more clear and readable to most Java programmers."}],"answers":[{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658209363,"creation_date":1658209363,"answer_id":73031671,"question_id":73031611,"body_markdown":"You are pointing to same array location hence updating one will update the second.\r\n\r\nUse clone() method to create copy of the array.\r\n\r\n        int x[] = {1,2,3,4};\r\n        \r\n        int y[] = x.clone();\r\n        y[0] = 100;\r\n        System.out.println(x[0]);\r\n        System.out.println(y[0]);\r\n\r\n**Output :**\r\n\r\n    1\r\n    100 \r\n\r\n      \r\n","title":"When I copy an array, the first array will change when I change a value of the second array?","body":"<p>You are pointing to same array location hence updating one will update the second.</p>\n<p>Use clone() method to create copy of the array.</p>\n<pre><code>    int x[] = {1,2,3,4};\n    \n    int y[] = x.clone();\n    y[0] = 100;\n    System.out.println(x[0]);\n    System.out.println(y[0]);\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>1\n100 \n\n  \n</code></pre>\n"}],"owner":{"account_id":25319625,"reputation":1,"user_id":19141096,"display_name":"AbDullA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1658215170,"answer_count":1,"score":-2,"last_activity_date":1658215252,"creation_date":1658209046,"question_id":73031611,"body_markdown":"In Java for example:\r\n```java  \r\nint x[] = {1,2,3,4};\r\n    \r\nint y[] = x;\r\ny[0] = 100;\r\nSystem.out.println(x[0]);\r\nSystem.out.println(y[0]);\r\n```  \r\n\r\nOutput:  \r\n\r\n```none\r\n100\r\n100\r\n```\r\n\r\nHow can I change the values of `int y` without changing values of `int x`?","title":"When I copy an array, the first array will change when I change a value of the second array?","body":"<p>In Java for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x[] = {1,2,3,4};\n    \nint y[] = x;\ny[0] = 100;\nSystem.out.println(x[0]);\nSystem.out.println(y[0]);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>100\n100\n</code></pre>\n<p>How can I change the values of <code>int y</code> without changing values of <code>int x</code>?</p>\n"},{"tags":["java","android","android-studio","itext"],"comments":[{"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"score":0,"creation_date":1657529437,"post_id":72934917,"comment_id":128822899,"body_markdown":"How you opened image picker?","body":"How you opened image picker?"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1657530302,"post_id":72934917,"comment_id":128823181,"body_markdown":"Please add the code of that where you started your activity for result.","body":"Please add the code of that where you started your activity for result."},{"owner":{"account_id":19444350,"reputation":85,"user_id":14222222,"display_name":"vikram Choudhary"},"score":0,"creation_date":1657530851,"post_id":72934917,"comment_id":128823398,"body_markdown":"yes I m opening image picker on a button click (code added)","body":"yes I m opening image picker on a button click (code added)"}],"answers":[{"tags":[],"owner":{"account_id":19444350,"reputation":85,"user_id":14222222,"display_name":"vikram Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658214927,"creation_date":1658205919,"answer_id":73031235,"question_id":72934917,"body_markdown":"solved Intent.ACTION_PICK solved  my issue.\r\n\r\ni was using this answer https://stackoverflow.com/questions/16438067/how-to-convert-images-to-pdf-using-itext/73030991#73030991 , as he used action ACTION_GET_CONTENT\r\n\r\ncan any one tell me why ACTION_GET_CONTENT not working here?","title":"how to get full image path via image picker android","body":"<p>solved Intent.ACTION_PICK solved  my issue.</p>\n<p>i was using this answer <a href=\"https://stackoverflow.com/questions/16438067/how-to-convert-images-to-pdf-using-itext/73030991#73030991\">How to convert images to pdf using iText</a> , as he used action ACTION_GET_CONTENT</p>\n<p>can any one tell me why ACTION_GET_CONTENT not working here?</p>\n"}],"owner":{"account_id":19444350,"reputation":85,"user_id":14222222,"display_name":"vikram Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73031235,"answer_count":1,"score":1,"last_activity_date":1658214927,"creation_date":1657523613,"question_id":72934917,"body_markdown":"I am selecting a image  from gallery and trying to covert it into pdf using itext , but  when i selecting the image its app crashes  with null pointer excetion \r\n[![enter image description here][1]][1] when i logged the picture path getting null( String picturePath = cursor.getString(columnIndex);)\r\n\r\ncode for the same\r\n\r\n  \r\n\r\n     final  private  int  SELECT_PICTURE = 201;\r\n\r\n       select_img.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), SELECT_PICTURE);\r\n            }\r\n        });\r\n\r\n      protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (resultCode == RESULT_OK) {\r\n\r\n\r\n            switch(requestCode){\r\n\r\n                case SELECT_PICTURE:\r\n                    Uri selectedImageUri = data.getData();\r\n                    String[] filePathColumn = { MediaStore.Images.Media.DATA };\r\n\r\n                    Cursor cursor = getContentResolver().query(selectedImageUri,filePathColumn, null, null, null);\r\n                    cursor.moveToFirst();\r\n                    int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n                    String picturePath = cursor.getString(columnIndex);\r\n                    cursor.close();\r\n                    Bitmap bmp = BitmapFactory.decodeFile(picturePath);\r\n                    ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n\r\nerror \r\n\r\n      java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=201, result=-1, data=Intent { dat=content://com.android.providers.media.documents/document/image:87703 flg=0x1 }} to activity {com.example.pdfcreator/com.example.pdfcreator.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)&#39; on a null object reference\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4423)\r\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4465)\r\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:201)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)&#39; on a null object reference\r\n        at com.example.pdfcreator.MainActivity.onActivityResult(MainActivity.java:159)\r\n        at android.app.Activity.dispatchActivityResult(Activity.java:7590)\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:441\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YLN5g.png","title":"how to get full image path via image picker android","body":"<p>I am selecting a image  from gallery and trying to covert it into pdf using itext , but  when i selecting the image its app crashes  with null pointer excetion\n<a href=\"https://i.stack.imgur.com/YLN5g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YLN5g.png\" alt=\"enter image description here\" /></a> when i logged the picture path getting null( String picturePath = cursor.getString(columnIndex);)</p>\n<p>code for the same</p>\n<pre><code> final  private  int  SELECT_PICTURE = 201;\n\n   select_img.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), SELECT_PICTURE);\n        }\n    });\n\n  protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (resultCode == RESULT_OK) {\n\n\n        switch(requestCode){\n\n            case SELECT_PICTURE:\n                Uri selectedImageUri = data.getData();\n                String[] filePathColumn = { MediaStore.Images.Media.DATA };\n\n                Cursor cursor = getContentResolver().query(selectedImageUri,filePathColumn, null, null, null);\n                cursor.moveToFirst();\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n                String picturePath = cursor.getString(columnIndex);\n                cursor.close();\n                Bitmap bmp = BitmapFactory.decodeFile(picturePath);\n                ByteArrayOutputStream stream = new ByteArrayOutputStream();\n                bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\n</code></pre>\n<p>error</p>\n<pre><code>  java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=201, result=-1, data=Intent { dat=content://com.android.providers.media.documents/document/image:87703 flg=0x1 }} to activity {com.example.pdfcreator/com.example.pdfcreator.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)' on a null object reference\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4423)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4465)\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:201)\n    at android.app.ActivityThread.main(ActivityThread.java:6810)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)' on a null object reference\n    at com.example.pdfcreator.MainActivity.onActivityResult(MainActivity.java:159)\n    at android.app.Activity.dispatchActivityResult(Activity.java:7590)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:441\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","keycloak-rest-api"],"comments":[{"owner":{"account_id":7673758,"reputation":815,"user_id":6171578,"accept_rate":45,"display_name":"botscripter"},"score":0,"creation_date":1624402874,"post_id":68089023,"comment_id":120348334,"body_markdown":"Just as a quick idea, have you thought about setting the application/json value as content type?","body":"Just as a quick idea, have you thought about setting the application/json value as content type?"},{"owner":{"account_id":22023696,"reputation":23,"user_id":16292076,"display_name":"Ali_Ahmed"},"score":0,"creation_date":1624551694,"post_id":68089023,"comment_id":120396151,"body_markdown":"Thank you for your response! @rimesc resolved my problem below. \n\nAccording to the KeycloakRestTemplate class all of it&#39;s methods are inherited from Spring&#39;s RestTemplate and \n\n&quot;The main advantage to using this class over Spring&#39;s &lt;code&gt;RestTemplate&lt;/code&gt; is that authentication is handled automatically when both the service making the API call and the service being called are protected by Keycloak authentication.&quot;\n\nso i believe this class automatically appends the application/json header with every request.","body":"Thank you for your response! @rimesc resolved my problem below.   According to the KeycloakRestTemplate class all of it&#39;s methods are inherited from Spring&#39;s RestTemplate and   &quot;The main advantage to using this class over Spring&#39;s &lt;code&gt;RestTemplate&lt;/code&gt; is that authentication is handled automatically when both the service making the API call and the service being called are protected by Keycloak authentication.&quot;  so i believe this class automatically appends the application/json header with every request."}],"answers":[{"tags":[],"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1624405093,"creation_date":1624403673,"answer_id":68091669,"question_id":68089023,"body_markdown":"`KeycloakRestTemplate` [appears to inherit][1] all of its methods directly from Spring’s `RestTemplate`.  According to the [documentation][2] for that class, the second argument to `delete` isn’t a request body, as I think you’re intending.  Rather, it’s a vararg of objects used to expand template variables in the URI.\r\n\r\nThere doesn’t appear to be a variant of the `delete` method that allows you to supply a body, so you’ll probably need to use one of the variants of the `execute` or `exchange` methods that accepts an HTTP method and a request entity instead.  In fact, the `RestTemplate` API makes this quite difficult to do, because it’s generally assumed that `DELETE` requests don’t have bodies.\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/master/adapters/oidc/spring-security/src/main/java/org/keycloak/adapters/springsecurity/client/KeycloakRestTemplate.java\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#delete-java.lang.String-java.lang.Object...-","title":"Keycloak REST API Unable to Delete client-level roles from user role mapping","body":"<p><code>KeycloakRestTemplate</code> <a href=\"https://github.com/keycloak/keycloak/blob/master/adapters/oidc/spring-security/src/main/java/org/keycloak/adapters/springsecurity/client/KeycloakRestTemplate.java\" rel=\"nofollow noreferrer\">appears to inherit</a> all of its methods directly from Spring’s <code>RestTemplate</code>.  According to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#delete-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">documentation</a> for that class, the second argument to <code>delete</code> isn’t a request body, as I think you’re intending.  Rather, it’s a vararg of objects used to expand template variables in the URI.</p>\n<p>There doesn’t appear to be a variant of the <code>delete</code> method that allows you to supply a body, so you’ll probably need to use one of the variants of the <code>execute</code> or <code>exchange</code> methods that accepts an HTTP method and a request entity instead.  In fact, the <code>RestTemplate</code> API makes this quite difficult to do, because it’s generally assumed that <code>DELETE</code> requests don’t have bodies.</p>\n"},{"tags":[],"owner":{"account_id":17763146,"reputation":352,"user_id":12898692,"display_name":"Akhilesh Magdum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658214909,"creation_date":1658214909,"answer_id":73032618,"question_id":68089023,"body_markdown":"The alternate way to interact with Keycloak can be using the [keycloak starter dependency][1] and the [keycloak admin client][2].\r\n\r\n[1]: https://mvnrepository.com/artifact/org.keycloak/keycloak-spring-boot-starter\r\n  [2]: https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client\r\n\r\n 1. Add the dependencies mentioned above.\r\n 2. Configure the Keycloak admin user.\r\n\r\n        public Keycloak getAdminKeycloakUser() {\r\n        return KeycloakBuilder.builder()\r\n            .serverUrl(keycloakAuthUrl)\r\n            .grantType(OAuth2Constants.PASSWORD)\r\n            .realm(masterRealm).clientId(masterClient)\r\n            .username(adminUsername).password(adminPassword)\r\n            .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build())\r\n            .build();\r\n        }\r\n\r\nWith this admin user we can delete the client user along with other actions.\r\n\r\n    getAdminKeycloakUser().realm(realm).clients().roles().deleteRole(roleName);","title":"Keycloak REST API Unable to Delete client-level roles from user role mapping","body":"<p>The alternate way to interact with Keycloak can be using the <a href=\"https://mvnrepository.com/artifact/org.keycloak/keycloak-spring-boot-starter\" rel=\"nofollow noreferrer\">keycloak starter dependency</a> and the <a href=\"https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client\" rel=\"nofollow noreferrer\">keycloak admin client</a>.</p>\n<ol>\n<li><p>Add the dependencies mentioned above.</p>\n</li>\n<li><p>Configure the Keycloak admin user.</p>\n<pre><code>public Keycloak getAdminKeycloakUser() {\nreturn KeycloakBuilder.builder()\n    .serverUrl(keycloakAuthUrl)\n    .grantType(OAuth2Constants.PASSWORD)\n    .realm(masterRealm).clientId(masterClient)\n    .username(adminUsername).password(adminPassword)\n    .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build())\n    .build();\n}\n</code></pre>\n</li>\n</ol>\n<p>With this admin user we can delete the client user along with other actions.</p>\n<pre><code>getAdminKeycloakUser().realm(realm).clients().roles().deleteRole(roleName);\n</code></pre>\n"}],"owner":{"account_id":22023696,"reputation":23,"user_id":16292076,"display_name":"Ali_Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2040,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68091669,"answer_count":2,"score":2,"last_activity_date":1658214909,"creation_date":1624386473,"question_id":68089023,"body_markdown":"Hoping someone can help me on this. I&#39;ve created my own Keycloak Realm, and client. I am using Spring boot and KeycloakRestTemplate from org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate; to make all my calls. \r\n\r\nI&#39;ve been successful in adding client-level roles to the user role mapping to any given user. \r\n\r\nI prefix my URI with /admin/realms/ when using the Keycloak API docs. So far all my requests have worked (getting a list of users from my client, getting a list of users that have a particular client-level role, and even adding client-level roles to a user as described above)\r\n\r\nMy problem is I cannot delete client-level roles from a user. I&#39;ve looked at the keycloak docs and it looks like I&#39;ve followed everything correctly. I also made sure the user had applicable client roles available to be deleted. I really appreciate any comments or help given!! \r\n\r\nhttps://www.keycloak.org/docs-api/14.0/rest-api/index.html \r\n\r\n&quot;Delete client-level roles from user role mapping\r\nDELETE /{realm}/users/{id}/role-mappings/clients/{client}&quot;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate;\r\n\r\n    .\r\n    .\r\n    .\r\n\r\n\r\n        @Autowired\r\n    \t\tprivate KeycloakRestTemplate restTemplate;\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n\r\n\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(keycloakServerUrl + &quot;/admin/realms/&quot;+keycloakRealm+&quot;/users/&quot;+userId+&quot;/role-mappings/clients/&quot;+keycloakClientId);\r\n\r\n    this.restTemplate.postForEntity(builder.toUriString(), rolesList, List.class);\t// this works! Note: rolesList is an List&lt;RoleRepresentation&gt; object\r\n\r\n    .\r\n    .\r\n    .\r\n\r\n    this.restTemplate.delete(builder.toUriString(), rolesList); // Does not work!\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nURI: http://XXXXXXXXXXXXXXX:8180/auth/admin/realms/VLS/users/2144cc43-59f4-4406-9527-2a59ee0c3751/role-mappings/clients/53e659e1-7cef-4dbb-8cdd-b786ca3a44a4\r\n\r\nError when calling Delete API: org.springframework.web.client.HttpClientErrorException$UnsupportedMediaType: 415 Unsupported Media Type: [{&quot;error&quot;:&quot;RESTEASY003065: Cannot consume content type&quot;}]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nEdit 1: I have also given myself ALL available roles from all clients as a precaution beforehand. I understand some roles are needed to perform certain tasks even through the API. I&#39;ve taken this into account.","title":"Keycloak REST API Unable to Delete client-level roles from user role mapping","body":"<p>Hoping someone can help me on this. I've created my own Keycloak Realm, and client. I am using Spring boot and KeycloakRestTemplate from org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate; to make all my calls.</p>\n<p>I've been successful in adding client-level roles to the user role mapping to any given user.</p>\n<p>I prefix my URI with /admin/realms/ when using the Keycloak API docs. So far all my requests have worked (getting a list of users from my client, getting a list of users that have a particular client-level role, and even adding client-level roles to a user as described above)</p>\n<p>My problem is I cannot delete client-level roles from a user. I've looked at the keycloak docs and it looks like I've followed everything correctly. I also made sure the user had applicable client roles available to be deleted. I really appreciate any comments or help given!!</p>\n<p><a href=\"https://www.keycloak.org/docs-api/14.0/rest-api/index.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/14.0/rest-api/index.html</a></p>\n<p>&quot;Delete client-level roles from user role mapping\nDELETE /{realm}/users/{id}/role-mappings/clients/{client}&quot;</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate;\n\n.\n.\n.\n\n\n    @Autowired\n        private KeycloakRestTemplate restTemplate;\n.\n.\n.\n.\n.\n\n\nUriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(keycloakServerUrl + \"/admin/realms/\"+keycloakRealm+\"/users/\"+userId+\"/role-mappings/clients/\"+keycloakClientId);\n\nthis.restTemplate.postForEntity(builder.toUriString(), rolesList, List.class);  // this works! Note: rolesList is an List&lt;RoleRepresentation&gt; object\n\n.\n.\n.\n\nthis.restTemplate.delete(builder.toUriString(), rolesList); // Does not work!</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>URI: http://XXXXXXXXXXXXXXX:8180/auth/admin/realms/VLS/users/2144cc43-59f4-4406-9527-2a59ee0c3751/role-mappings/clients/53e659e1-7cef-4dbb-8cdd-b786ca3a44a4</p>\n<p>Error when calling Delete API: org.springframework.web.client.HttpClientErrorException$UnsupportedMediaType: 415 Unsupported Media Type: [{&quot;error&quot;:&quot;RESTEASY003065: Cannot consume content type&quot;}]</p>\n<p>Edit 1: I have also given myself ALL available roles from all clients as a precaution beforehand. I understand some roles are needed to perform certain tasks even through the API. I've taken this into account.</p>\n"},{"tags":["java","performance","optimization","java-8","refactoring"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655825804,"post_id":72703427,"comment_id":128421083,"body_markdown":"What do you think about the answers here: https://stackoverflow.com/q/41816264/61158","body":"What do you think about the answers here: <a href=\"https://stackoverflow.com/q/41816264/61158\">stackoverflow.com/q/41816264/61158</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1655825907,"post_id":72703427,"comment_id":128421119,"body_markdown":"&quot;Thousands&quot; isn&#39;t huge. Have you actually measured to determine whether a &quot;simple&quot; solution would be good enough?","body":"&quot;Thousands&quot; isn&#39;t huge. Have you actually measured to determine whether a &quot;simple&quot; solution would be good enough?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1655826118,"post_id":72703427,"comment_id":128421190,"body_markdown":"By the way: `stream.collect(groupingBy(item -&gt; item, counting()))` is a better way of counting items, and it directly returns the `Map`.","body":"By the way: <code>stream.collect(groupingBy(item -&gt; item, counting()))</code> is a better way of counting items, and it directly returns the <code>Map</code>."},{"owner":{"account_id":17815984,"reputation":43421,"user_id":12939557,"display_name":"J&#233;r&#244;me Richard"},"score":0,"creation_date":1655853399,"post_id":72703427,"comment_id":128429105,"body_markdown":"Note that data oriented design is particularly useful in Java since collections are slow (due to object inheritence, boxing, compaction and many things). See: https://stackoverflow.com/questions/1641580/what-is-data-oriented-design . But this generally requires to deeply redesign your application (better sooner because then there is not much to do when the application is huge and cache misses appear everywhere).","body":"Note that data oriented design is particularly useful in Java since collections are slow (due to object inheritence, boxing, compaction and many things). See: <a href=\"https://stackoverflow.com/questions/1641580/what-is-data-oriented-design\" title=\"what is data oriented design\">stackoverflow.com/questions/1641580/&hellip;</a> . But this generally requires to deeply redesign your application (better sooner because then there is not much to do when the application is huge and cache misses appear everywhere)."}],"answers":[{"tags":[],"owner":{"account_id":14837517,"reputation":172,"user_id":10715144,"display_name":"P Mittal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658214872,"creation_date":1658214872,"answer_id":73032609,"question_id":72703427,"body_markdown":"You can optimize your code to perform the min and max ordered items calculations at run-time that is as you add items in the different order. Please find below the sample code. Using this approach you can retrieve min and max ordered item in O(1) constant time.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n\r\n    public class Test {\r\n        private static HashMap&lt;Item, Long&gt; itemFrequencyMap = new HashMap&lt;&gt;();\r\n        private static ItemFrequency minOrder;\r\n        private static ItemFrequency maxOrder;\r\n\r\n\r\n       public ItemFrequency getMinOrder() {\r\n           return minOrder;\r\n       }\r\n\r\n       public ItemFrequency getMaxOrder() {\r\n           return maxOrder;\r\n       }\r\n\r\n       public static class Item {\r\n           private Long product_id;\r\n           String title;\r\n           String name;\r\n           String price;\r\n\r\n           @Override\r\n           public boolean equals(Object o) {\r\n               if (this == o) return true;\r\n               if (!(o instanceof Item)) return false;\r\n               Item item = (Item) o;\r\n               return product_id.equals(item.product_id);\r\n           }\r\n\r\n           @Override\r\n           public int hashCode() {\r\n               return Objects.hash(product_id);\r\n           }\r\n       }\r\n\r\n          public static class Order {\r\n           private Long id;\r\n           private String created_at, current_total_price, currency;\r\n           private Double total_price;\r\n           private List&lt;Item&gt; items;\r\n\r\n\r\n           public List&lt;Item&gt; getItems() {\r\n               return items;\r\n           }\r\n\r\n           public void addItem(Item item) {\r\n               this.items.add(item);\r\n               long frequency = itemFrequencyMap.getOrDefault(item, 0L) + 1;\r\n               itemFrequencyMap.put(item, frequency);\r\n               if (minOrder.frequency &gt; frequency)\r\n                   minOrder = new ItemFrequency(item, frequency);\r\n   \r\n               if (maxOrder.frequency &lt; frequency)\r\n                   maxOrder = new ItemFrequency(item, frequency);\r\n           }\r\n       }\r\n       \r\n       public static class ItemFrequency {\r\n           private Item item;\r\n           private Long frequency;\r\n           public ItemFrequency(Item item, Long frequency) {\r\n               this.item = item;\r\n               this.frequency = frequency;\r\n           }\r\n       }\r\n      }\r\n","title":"Java 8 : Optimal Way to Compute Min and Max in Large List","body":"<p>You can optimize your code to perform the min and max ordered items calculations at run-time that is as you add items in the different order. Please find below the sample code. Using this approach you can retrieve min and max ordered item in O(1) constant time.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class Test {\n    private static HashMap&lt;Item, Long&gt; itemFrequencyMap = new HashMap&lt;&gt;();\n    private static ItemFrequency minOrder;\n    private static ItemFrequency maxOrder;\n\n\n   public ItemFrequency getMinOrder() {\n       return minOrder;\n   }\n\n   public ItemFrequency getMaxOrder() {\n       return maxOrder;\n   }\n\n   public static class Item {\n       private Long product_id;\n       String title;\n       String name;\n       String price;\n\n       @Override\n       public boolean equals(Object o) {\n           if (this == o) return true;\n           if (!(o instanceof Item)) return false;\n           Item item = (Item) o;\n           return product_id.equals(item.product_id);\n       }\n\n       @Override\n       public int hashCode() {\n           return Objects.hash(product_id);\n       }\n   }\n\n      public static class Order {\n       private Long id;\n       private String created_at, current_total_price, currency;\n       private Double total_price;\n       private List&lt;Item&gt; items;\n\n\n       public List&lt;Item&gt; getItems() {\n           return items;\n       }\n\n       public void addItem(Item item) {\n           this.items.add(item);\n           long frequency = itemFrequencyMap.getOrDefault(item, 0L) + 1;\n           itemFrequencyMap.put(item, frequency);\n           if (minOrder.frequency &gt; frequency)\n               minOrder = new ItemFrequency(item, frequency);\n\n           if (maxOrder.frequency &lt; frequency)\n               maxOrder = new ItemFrequency(item, frequency);\n       }\n   }\n   \n   public static class ItemFrequency {\n       private Item item;\n       private Long frequency;\n       public ItemFrequency(Item item, Long frequency) {\n           this.item = item;\n           this.frequency = frequency;\n       }\n   }\n  }\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73032609,"answer_count":1,"score":1,"last_activity_date":1658214872,"creation_date":1655825203,"question_id":72703427,"body_markdown":"I have the below code in which am computing Min and Max ordered items from list of `Orders` and works as expected. Am wondering if this can be refactored/improved any further to make it more optimal and performant to deal with thousands or orders list in prod.\r\n\r\nI intentionally did not do `Collections.min(itemFrequencyMap.values())` and `Collections.max(itemFrequencyMap.values())` since it would require iteration of all values twice and then looping over `itemFrequencyMap` again to find entry with `Min` and `Max` value.\r\n\r\n\t@Data\r\n\tpublic class Order {\r\n\t    private Long id;\r\n\t    private String created_at, current_total_price, currency;\r\n\t    Double total_price;\t    \r\n\t    private List&lt;Item&gt; items;\r\n\t}\r\n\r\n\t@Data\r\n\tpublic class Item {\r\n    private Long product_id;\r\n    String title, name, price;\r\n    }\r\n\r\n    @Data\r\n\tpublic class ItemFrequency {\r\n    private Item item;\r\n    Long frequency;\r\n    }\r\n\r\n    public void minMaxItems(List&lt;Order&gt; orders) {       \r\n\r\n        ItemFrequency minOrder = null;\r\n        ItemFrequency maxOrder = null;\r\n        Map&lt;Item, Long&gt; itemFrequencyMap = new TreeMap&lt;&gt;();\r\n        orders.stream()\r\n                .map(o -&gt; o.getLine_items())\r\n                .flatMap(List::stream)\r\n                .forEach(Item -&gt; {\r\n                    itemFrequencyMap.compute(Item, (k, v) -&gt; v == null ? 1 : v + 1);\r\n                });\r\n\r\n        boolean isFirstEntry = true;\r\n        Long max = Long.MIN_VALUE, min = Long.MAX_VALUE;\r\n        for (Map.Entry&lt;Item, Long&gt; itemFrequency : itemFrequencyMap.entrySet()) {\r\n            Item Item = itemFrequency.getKey();\r\n            if (isFirstEntry) {\r\n                max = itemFrequency.getValue();\r\n                min = itemFrequency.getValue();\r\n                isFirstEntry = false;\r\n                continue;\r\n            }\r\n            if (itemFrequency.getValue() &gt; max) {                \r\n                max = itemFrequency.getValue();\r\n                maxOrder = new ItemFrequency(Item,max);\r\n            } else if (itemFrequency.getValue() &lt; min) {                \r\n                min = itemFrequency.getValue();\r\n                minOrder = new ItemFrequency(Item,min);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n","title":"Java 8 : Optimal Way to Compute Min and Max in Large List","body":"<p>I have the below code in which am computing Min and Max ordered items from list of <code>Orders</code> and works as expected. Am wondering if this can be refactored/improved any further to make it more optimal and performant to deal with thousands or orders list in prod.</p>\n<p>I intentionally did not do <code>Collections.min(itemFrequencyMap.values())</code> and <code>Collections.max(itemFrequencyMap.values())</code> since it would require iteration of all values twice and then looping over <code>itemFrequencyMap</code> again to find entry with <code>Min</code> and <code>Max</code> value.</p>\n<pre><code>@Data\npublic class Order {\n    private Long id;\n    private String created_at, current_total_price, currency;\n    Double total_price;     \n    private List&lt;Item&gt; items;\n}\n\n@Data\npublic class Item {\nprivate Long product_id;\nString title, name, price;\n}\n\n@Data\npublic class ItemFrequency {\nprivate Item item;\nLong frequency;\n}\n\npublic void minMaxItems(List&lt;Order&gt; orders) {       \n\n    ItemFrequency minOrder = null;\n    ItemFrequency maxOrder = null;\n    Map&lt;Item, Long&gt; itemFrequencyMap = new TreeMap&lt;&gt;();\n    orders.stream()\n            .map(o -&gt; o.getLine_items())\n            .flatMap(List::stream)\n            .forEach(Item -&gt; {\n                itemFrequencyMap.compute(Item, (k, v) -&gt; v == null ? 1 : v + 1);\n            });\n\n    boolean isFirstEntry = true;\n    Long max = Long.MIN_VALUE, min = Long.MAX_VALUE;\n    for (Map.Entry&lt;Item, Long&gt; itemFrequency : itemFrequencyMap.entrySet()) {\n        Item Item = itemFrequency.getKey();\n        if (isFirstEntry) {\n            max = itemFrequency.getValue();\n            min = itemFrequency.getValue();\n            isFirstEntry = false;\n            continue;\n        }\n        if (itemFrequency.getValue() &gt; max) {                \n            max = itemFrequency.getValue();\n            maxOrder = new ItemFrequency(Item,max);\n        } else if (itemFrequency.getValue() &lt; min) {                \n            min = itemFrequency.getValue();\n            minOrder = new ItemFrequency(Item,min);\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","manifest"],"comments":[{"owner":{"account_id":312423,"reputation":5491,"user_id":626481,"accept_rate":53,"display_name":"Hanry"},"score":0,"creation_date":1317363601,"post_id":7606471,"comment_id":9230097,"body_markdown":"do you want change title bar????","body":"do you want change title bar????"},{"owner":{"account_id":263171,"reputation":31519,"user_id":548568,"accept_rate":82,"display_name":"blessanm86"},"score":0,"creation_date":1317364252,"post_id":7606471,"comment_id":9230193,"body_markdown":"Why do you want to change the name programatically? Isnt it always supposed to be fixed.","body":"Why do you want to change the name programatically? Isnt it always supposed to be fixed."},{"owner":{"account_id":4526288,"reputation":1409,"user_id":3677997,"accept_rate":17,"display_name":"ersks"},"score":0,"creation_date":1468901674,"post_id":7606471,"comment_id":64303903,"body_markdown":"@blessenm I also want to change the App Name. Actually, I want to append some values to title bar.","body":"@blessenm I also want to change the App Name. Actually, I want to append some values to title bar."},{"owner":{"account_id":4526288,"reputation":1409,"user_id":3677997,"accept_rate":17,"display_name":"ersks"},"score":0,"creation_date":1468901726,"post_id":7606471,"comment_id":64303917,"body_markdown":"@hanry Any solution for changing App Name Pragmatically?","body":"@hanry Any solution for changing App Name Pragmatically?"},{"owner":{"account_id":2814496,"reputation":3516,"user_id":2419960,"accept_rate":71,"display_name":"Moradnejad"},"score":0,"creation_date":1469619180,"post_id":7606471,"comment_id":64609719,"body_markdown":"In [this question](http://stackoverflow.com/questions/1103027/how-to-change-an-application-icon-programmatically-in-android/15249542#15249542) there are interesting answers and they work.","body":"In <a href=\"http://stackoverflow.com/questions/1103027/how-to-change-an-application-icon-programmatically-in-android/15249542#15249542\">this question</a> there are interesting answers and they work."}],"answers":[{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":3,"up_vote_count":19,"is_accepted":true,"score":16,"last_activity_date":1418845825,"creation_date":1317370973,"answer_id":7607769,"question_id":7606471,"body_markdown":"It&#39;s not possible by the moment. It is a fixed string in the AndroidManifest.xml file which cannot be changed at runtime.","title":"Android : Change App Label programmatically","body":"<p>It's not possible by the moment. It is a fixed string in the AndroidManifest.xml file which cannot be changed at runtime.</p>\n"},{"tags":[],"owner":{"account_id":400621,"reputation":681,"user_id":766695,"accept_rate":100,"display_name":"think01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317735800,"creation_date":1317735800,"answer_id":7648862,"question_id":7606471,"body_markdown":"To anyone interested: https://stackoverflow.com/questions/3975550/android-how-to-change-the-application-title\r\nBut it&#39;s not clear if it changes the &quot;application label&quot; (that is, the name of the icon in the application list) or only the window title.","title":"Android : Change App Label programmatically","body":"<p>To anyone interested: <a href=\"https://stackoverflow.com/questions/3975550/android-how-to-change-the-application-title\">Android How to change the application title</a>\nBut it's not clear if it changes the \"application label\" (that is, the name of the icon in the application list) or only the window title.</p>\n"},{"tags":[],"owner":{"account_id":226484,"reputation":1033,"user_id":487561,"accept_rate":75,"display_name":"Mark"},"down_vote_count":14,"up_vote_count":66,"is_accepted":false,"score":52,"last_activity_date":1334654454,"creation_date":1334654454,"answer_id":10188502,"question_id":7606471,"body_markdown":"in the activity, i tried \r\n\r\n    this.setTitle(&quot;your text&quot;);\r\n\r\nand it worked. I hope it&#39;s a common solution","title":"Android : Change App Label programmatically","body":"<p>in the activity, i tried </p>\n\n<pre><code>this.setTitle(\"your text\");\n</code></pre>\n\n<p>and it worked. I hope it's a common solution</p>\n"},{"tags":[],"owner":{"account_id":1390440,"reputation":5490,"user_id":1321401,"display_name":"Luten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350297884,"creation_date":1350297884,"answer_id":12893962,"question_id":7606471,"body_markdown":"Application&#39;s android:label is a fixed resource referrer.\r\n\r\nBut the string under this referrer could have multiple values, depending on configuration qualifier names (values-en, -large, -land, etc.), according to\r\n[Providing Alternative Resources](http://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources).","title":"Android : Change App Label programmatically","body":"<p>Application's android:label is a fixed resource referrer.</p>\n\n<p>But the string under this referrer could have multiple values, depending on configuration qualifier names (values-en, -large, -land, etc.), according to\n<a href=\"http://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources\" rel=\"nofollow\">Providing Alternative Resources</a>.</p>\n"},{"tags":[],"owner":{"account_id":3555697,"reputation":2170,"user_id":2969535,"display_name":"Olaia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457970389,"creation_date":1457970389,"answer_id":35992021,"question_id":7606471,"body_markdown":"If you are extending the firmware, you can actually accomplish this by changing IconCache.java file and make it show a string with some internal value of the phone.\r\n\r\nFor example if you want the SIM Toolkit to show the name of the carrier, you can do that this way.\r\n\r\nBut for regular apps, as it&#39;s been said, it&#39;s currently not posible.","title":"Android : Change App Label programmatically","body":"<p>If you are extending the firmware, you can actually accomplish this by changing IconCache.java file and make it show a string with some internal value of the phone.</p>\n\n<p>For example if you want the SIM Toolkit to show the name of the carrier, you can do that this way.</p>\n\n<p>But for regular apps, as it's been said, it's currently not posible.</p>\n"},{"tags":[],"owner":{"account_id":3078852,"reputation":3366,"user_id":2607567,"accept_rate":85,"display_name":"JacksOnF1re"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461328984,"creation_date":1461328984,"answer_id":36794183,"question_id":7606471,"body_markdown":"As Mister Smith said, it is not possible, \r\n\r\nbut you could use multiple `ActivityAlias`, which can be enabled/disabled dynamically and point to the same targetActivity. Therefore create your chooser for the app name - let the user select one and enable the `ActivityAlias` via the `packageManager`:\r\n\r\n    ComponentName componentName = new ComponentName(context, context.getPackageName() + &quot;.&quot; + aliasName);\r\n            context.getPackageManager().setComponentEnabledSetting(componentName,\r\n                                                                   PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\r\n                                                                   PackageManager.DONT_KILL_APP);\r\n\r\n\r\nTo hide the old alias, use the same code with the flag : `COMPONENT_ENABLED_STATE_DISABLED`\r\n\r\nYou can also add the possibility to directly add a shortcut to the home launcher, after you enabled the alias. There are plenty ways described here on sow.","title":"Android : Change App Label programmatically","body":"<p>As Mister Smith said, it is not possible, </p>\n\n<p>but you could use multiple <code>ActivityAlias</code>, which can be enabled/disabled dynamically and point to the same targetActivity. Therefore create your chooser for the app name - let the user select one and enable the <code>ActivityAlias</code> via the <code>packageManager</code>:</p>\n\n<pre><code>ComponentName componentName = new ComponentName(context, context.getPackageName() + \".\" + aliasName);\n        context.getPackageManager().setComponentEnabledSetting(componentName,\n                                                               PackageManager.COMPONENT_ENABLED_STATE_ENABLED,\n                                                               PackageManager.DONT_KILL_APP);\n</code></pre>\n\n<p>To hide the old alias, use the same code with the flag : <code>COMPONENT_ENABLED_STATE_DISABLED</code></p>\n\n<p>You can also add the possibility to directly add a shortcut to the home launcher, after you enabled the alias. There are plenty ways described here on sow.</p>\n"},{"tags":[],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1493932083,"creation_date":1493932083,"answer_id":43792801,"question_id":7606471,"body_markdown":"Using `&lt;activity-alias&gt;` you can change App icon and name to few predefined by you.\r\n\r\nCreate such config in `Mannifest.xml`\r\n\r\n    &lt;activity android:name=&quot;package.name.MainActivity&quot;\r\n     android:screenOrientation=&quot;portrait&quot;\r\n     android:label=&quot;@string/app_name&quot;\r\n     android:theme=&quot;@style/CustomTheme&quot;\r\n     android:launchMode=&quot;singleTask&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity-alias android:label=&quot;@string/app_name_default&quot; \r\n     android:icon=&quot;@drawable/icon_default&quot; \r\n     android:name=&quot;.MainActivity-Default&quot;\r\n     android:enabled=&quot;true&quot;\r\n     android:targetActivity=&quot;.MainActivity&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;   \r\n    &lt;/activity-alias&gt;\r\n\r\n    &lt;activity-alias android:label=&quot;@string/app_name_flavor_one&quot; \r\n     android:icon=&quot;@drawable/icon_flavor_one&quot; \r\n     android:name=&quot;.MainActivity-Flavor-One&quot;\r\n     android:enabled=&quot;false&quot;\r\n     android:targetActivity=&quot;.MainActivity&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;   \r\n    &lt;/activity-alias&gt;\r\n\r\nNow you can switch between those two aliases, therefore we will change app icon or/and name.\r\nTo switch from Default to Flavor-One use this code.\r\n\r\n     getPackageManager().setComponentEnabledSetting(\r\n        new ComponentName(&quot;package.name&quot;, &quot;package.name.MainActivity-Flavor-One&quot;), \r\n            PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\r\n     getPackageManager().setComponentEnabledSetting(\r\n        new ComponentName(&quot;package.name&quot;, &quot;package.name.MainActivity-Default&quot;), \r\n            PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\r\n\r\n**Keep in mind that you have to track that only one alias will be enabled at a time**\r\n","title":"Android : Change App Label programmatically","body":"<p>Using <code>&lt;activity-alias&gt;</code> you can change App icon and name to few predefined by you.</p>\n\n<p>Create such config in <code>Mannifest.xml</code></p>\n\n<pre><code>&lt;activity android:name=\"package.name.MainActivity\"\n android:screenOrientation=\"portrait\"\n android:label=\"@string/app_name\"\n android:theme=\"@style/CustomTheme\"\n android:launchMode=\"singleTask\"&gt;\n  &lt;intent-filter&gt;\n    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n  &lt;/intent-filter&gt;\n&lt;/activity&gt;\n\n&lt;activity-alias android:label=\"@string/app_name_default\" \n android:icon=\"@drawable/icon_default\" \n android:name=\".MainActivity-Default\"\n android:enabled=\"true\"\n android:targetActivity=\".MainActivity\"&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n  &lt;/intent-filter&gt;   \n&lt;/activity-alias&gt;\n\n&lt;activity-alias android:label=\"@string/app_name_flavor_one\" \n android:icon=\"@drawable/icon_flavor_one\" \n android:name=\".MainActivity-Flavor-One\"\n android:enabled=\"false\"\n android:targetActivity=\".MainActivity\"&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n  &lt;/intent-filter&gt;   \n&lt;/activity-alias&gt;\n</code></pre>\n\n<p>Now you can switch between those two aliases, therefore we will change app icon or/and name.\nTo switch from Default to Flavor-One use this code.</p>\n\n<pre><code> getPackageManager().setComponentEnabledSetting(\n    new ComponentName(\"package.name\", \"package.name.MainActivity-Flavor-One\"), \n        PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\n getPackageManager().setComponentEnabledSetting(\n    new ComponentName(\"package.name\", \"package.name.MainActivity-Default\"), \n        PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\n</code></pre>\n\n<p><strong>Keep in mind that you have to track that only one alias will be enabled at a time</strong></p>\n"},{"tags":[],"owner":{"account_id":9420106,"reputation":117,"user_id":7006744,"display_name":"Vivek Modi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1534506509,"creation_date":1495711503,"answer_id":44179402,"question_id":7606471,"body_markdown":"In Launcher Activity,Before `setContentView()` write this,\r\n\r\n    setTitle(&quot;Your Title&quot;);\r\n\r\nI don&#39;t know how it&#39;s possible, But it&#39;s surely works.","title":"Android : Change App Label programmatically","body":"<p>In Launcher Activity,Before <code>setContentView()</code> write this,</p>\n\n<pre><code>setTitle(\"Your Title\");\n</code></pre>\n\n<p>I don't know how it's possible, But it's surely works.</p>\n"},{"tags":[],"owner":{"account_id":6746145,"reputation":4817,"user_id":5197712,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658214579,"creation_date":1658214579,"answer_id":73032554,"question_id":7606471,"body_markdown":"Yes, Its possible, In this question everyone mentioned like\r\n\r\n    this.setTitle(&quot;your text&quot;);\r\nthis will change only your activity name not app logo here I show you how to **change the app logo and appname dynamicly**\r\n\r\nFirst add your dynamic app icons in the mipmap folder , after that add the below code in your `AndroidManifest.xml` file \r\n\r\n**Add `&lt;activity-alias&gt;`  for your app icon**\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;!-- Disable the original activity app icon in launcher --&gt;\r\n                    &lt;!-- &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; --&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n    \r\n            &lt;activity-alias android:label=&quot;Anand&quot;\r\n                android:icon=&quot;@mipmap/ic_launcher&quot;\r\n                android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n                android:name=&quot;.MainActivityAlias1&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:targetActivity=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity-alias&gt;\r\n    \r\n            &lt;activity-alias android:label=&quot;Anand 1&quot;\r\n                android:icon=&quot;@mipmap/ic_launcher2&quot;\r\n                android:roundIcon=&quot;@mipmap/ic_launcher2_round&quot;\r\n                android:name=&quot;.MainActivityAlias2&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:targetActivity=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity-alias&gt;\r\n    \r\n        &lt;/application&gt;\r\n\r\n\r\nAfter doing these methods on your activity, just do below things on button click\r\n\r\n\r\n\r\n    import android.content.ComponentName\r\n    import android.content.pm.PackageManager\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import kotlinx.android.synthetic.main.activity_main.*\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            button1.setOnClickListener{\r\n                packageManager?.setComponentEnabledSetting(\r\n                        ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias1&quot;),\r\n                        PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP\r\n                )\r\n    \r\n                packageManager?.setComponentEnabledSetting(\r\n                        ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias2&quot;),\r\n                        PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP\r\n                )\r\n            }\r\n    \r\n            button2.setOnClickListener{\r\n                packageManager?.setComponentEnabledSetting(\r\n                        ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias1&quot;),\r\n                        PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP\r\n                )\r\n    \r\n                packageManager?.setComponentEnabledSetting(\r\n                        ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias2&quot;),\r\n                        PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\nfor more details refer this [github][1] project\r\n\r\n\r\n  [1]: https://github.com/Katecca/android-dynamic-app-icon.git","title":"Android : Change App Label programmatically","body":"<p>Yes, Its possible, In this question everyone mentioned like</p>\n<pre><code>this.setTitle(&quot;your text&quot;);\n</code></pre>\n<p>this will change only your activity name not app logo here I show you how to <strong>change the app logo and appname dynamicly</strong></p>\n<p>First add your dynamic app icons in the mipmap folder , after that add the below code in your <code>AndroidManifest.xml</code> file</p>\n<p><strong>Add <code>&lt;activity-alias&gt;</code>  for your app icon</strong></p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;!-- Disable the original activity app icon in launcher --&gt;\n                &lt;!-- &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; --&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n        &lt;activity-alias android:label=&quot;Anand&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n            android:name=&quot;.MainActivityAlias1&quot;\n            android:enabled=&quot;true&quot;\n            android:targetActivity=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n\n        &lt;activity-alias android:label=&quot;Anand 1&quot;\n            android:icon=&quot;@mipmap/ic_launcher2&quot;\n            android:roundIcon=&quot;@mipmap/ic_launcher2_round&quot;\n            android:name=&quot;.MainActivityAlias2&quot;\n            android:enabled=&quot;false&quot;\n            android:targetActivity=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity-alias&gt;\n\n    &lt;/application&gt;\n</code></pre>\n<p>After doing these methods on your activity, just do below things on button click</p>\n<pre><code>import android.content.ComponentName\nimport android.content.pm.PackageManager\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button1.setOnClickListener{\n            packageManager?.setComponentEnabledSetting(\n                    ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias1&quot;),\n                    PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP\n            )\n\n            packageManager?.setComponentEnabledSetting(\n                    ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias2&quot;),\n                    PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP\n            )\n        }\n\n        button2.setOnClickListener{\n            packageManager?.setComponentEnabledSetting(\n                    ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias1&quot;),\n                    PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP\n            )\n\n            packageManager?.setComponentEnabledSetting(\n                    ComponentName(applicationContext.packageName, applicationContext.packageName + &quot;.MainActivityAlias2&quot;),\n                    PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP\n            )\n        }\n    }\n}\n</code></pre>\n<p>for more details refer this <a href=\"https://github.com/Katecca/android-dynamic-app-icon.git\" rel=\"nofollow noreferrer\">github</a> project</p>\n"}],"owner":{"account_id":472345,"reputation":600,"user_id":880780,"accept_rate":55,"display_name":"Soul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44116,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":7607769,"answer_count":9,"score":29,"last_activity_date":1658214579,"creation_date":1317362445,"question_id":7606471,"body_markdown":"How can I change application label to change app name shown from java code in android?\r\nI&#39;m refering to:\r\n\r\n    &lt;application android:icon=&quot;@drawable/icon&quot; android:label=&quot;@string/app_name&quot;&gt;\r\n\r\nin the Android Manifest\r\n\r\nIs there any way to update values in **strings.xml** file?\r\n","title":"Android : Change App Label programmatically","body":"<p>How can I change application label to change app name shown from java code in android?\nI'm refering to:</p>\n\n<pre><code>&lt;application android:icon=\"@drawable/icon\" android:label=\"@string/app_name\"&gt;\n</code></pre>\n\n<p>in the Android Manifest</p>\n\n<p>Is there any way to update values in <strong>strings.xml</strong> file?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658272675,"post_id":73032511,"comment_id":129009448,"body_markdown":"What is the question exactly?","body":"What is the question exactly?"},{"owner":{"account_id":19491151,"reputation":11,"user_id":14259332,"display_name":"Razvan Calina"},"score":0,"creation_date":1658299102,"post_id":73032511,"comment_id":129013762,"body_markdown":"So I need to find the neighbors of the marked places (please see the picture I inserted) in a 2D array of strings.","body":"So I need to find the neighbors of the marked places (please see the picture I inserted) in a 2D array of strings."}],"owner":{"account_id":19491151,"reputation":11,"user_id":14259332,"display_name":"Razvan Calina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658214412,"creation_date":1658214286,"question_id":73032511,"body_markdown":"I have an exercise where I have a 2D array in Java. I take user input, a String, that looks something like &quot;F3 F7&quot; and I mark the coordinates given on the array. Please see below picture. \r\n\r\n[2DArray][1]\r\n\r\nMy problem is the fact that I need to check the neighbors of the input to make sure that future inputs do not touch (neither vertically, nor horizontally).\r\n\r\nI found the below code in a post here, but I simply do not have the inspiration on how to implement it in order to check only for a specific set in the array.\r\n\r\n```java\r\nfor (i = 0; i &lt; array.length; i++) {\r\n    for (j = 0; j &lt; array[i].length; j++) {\r\n        for (x = Math.max(0, i - 1); x &lt;= Math.min(i + 1, array.length); x++) {\r\n            for (y = Math.max(0, j - 1); y &lt;= Math.min(j + 1,\r\n                    array[i].length); y++) {\r\n                if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; x &lt; array.length\r\n                        &amp;&amp; y &lt; array[i].length) {\r\n                    if(x!=i || y!=j){\r\n                    System.out.print(array[x][y] + &quot; &quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;\\n&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ussZ4.png","title":"How to find specific neighbors in a two-dimensional array","body":"<p>I have an exercise where I have a 2D array in Java. I take user input, a String, that looks something like &quot;F3 F7&quot; and I mark the coordinates given on the array. Please see below picture.</p>\n<p><a href=\"https://i.stack.imgur.com/ussZ4.png\" rel=\"nofollow noreferrer\">2DArray</a></p>\n<p>My problem is the fact that I need to check the neighbors of the input to make sure that future inputs do not touch (neither vertically, nor horizontally).</p>\n<p>I found the below code in a post here, but I simply do not have the inspiration on how to implement it in order to check only for a specific set in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (i = 0; i &lt; array.length; i++) {\n    for (j = 0; j &lt; array[i].length; j++) {\n        for (x = Math.max(0, i - 1); x &lt;= Math.min(i + 1, array.length); x++) {\n            for (y = Math.max(0, j - 1); y &lt;= Math.min(j + 1,\n                    array[i].length); y++) {\n                if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; x &lt; array.length\n                        &amp;&amp; y &lt; array[i].length) {\n                    if(x!=i || y!=j){\n                    System.out.print(array[x][y] + &quot; &quot;);\n                    }\n                }\n            }\n        }\n        System.out.println(&quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","jar","package"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1658189252,"post_id":73029776,"comment_id":128984740,"body_markdown":"How are you packaging / building your code? Are you using maven? Can we see your pom?","body":"How are you packaging / building your code? Are you using maven? Can we see your pom?"},{"owner":{"account_id":17010702,"reputation":13,"user_id":12316883,"display_name":"bitsexcel"},"score":0,"creation_date":1658189466,"post_id":73029776,"comment_id":128984763,"body_markdown":"The jar i&#39;m using is a java library builded from Maven Central but have this line slf4j but no have any dependency in to jar","body":"The jar i&#39;m using is a java library builded from Maven Central but have this line slf4j but no have any dependency in to jar"},{"owner":{"account_id":17010702,"reputation":13,"user_id":12316883,"display_name":"bitsexcel"},"score":0,"creation_date":1658190664,"post_id":73029776,"comment_id":128984926,"body_markdown":"I no have pom, only is added to external libraries slf4j-api-1.7.8.jar; slf4j-api-1.7.9.jar","body":"I no have pom, only is added to external libraries slf4j-api-1.7.8.jar; slf4j-api-1.7.9.jar"},{"owner":{"account_id":17495620,"reputation":61,"user_id":12686871,"display_name":"linhx"},"score":0,"creation_date":1658202462,"post_id":73029776,"comment_id":128986623,"body_markdown":"you should specify the slf4j-api-1.7.9.jar to the classpath. like: java -cp your-app.jar:lib/slf4j-api-1.7.9.jar your.package.MainClass","body":"you should specify the slf4j-api-1.7.9.jar to the classpath. like: java -cp your-app.jar:lib/slf4j-api-1.7.9.jar your.package.MainClass"}],"answers":[{"tags":[],"owner":{"account_id":17994254,"reputation":26,"user_id":13077673,"display_name":"D. Mueka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658214181,"creation_date":1658214181,"answer_id":73032487,"question_id":73029776,"body_markdown":"You also need an slf4j implementation, just as your error said. There are multiple. Here are a two: \r\n\r\n[slf4j-simple][1]: it prints out to your console/terminal\r\n\r\n[log4j-slf4j-impl][2]: The Apache Log4j SLF4J API binding to Log4j 2 Core \r\n\r\nIf you need just the .jar, choose your needed version and you can download it under files. \r\n\r\n\r\nIf you need more help, [the official manual][3] explains it quite good.\r\n\r\nHope I could help you\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\r\n  [2]: https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\r\n  [3]: https://www.slf4j.org/manual.html","title":"Package dependencies in a jar","body":"<p>You also need an slf4j implementation, just as your error said. There are multiple. Here are a two:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\" rel=\"nofollow noreferrer\">slf4j-simple</a>: it prints out to your console/terminal</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\" rel=\"nofollow noreferrer\">log4j-slf4j-impl</a>: The Apache Log4j SLF4J API binding to Log4j 2 Core</p>\n<p>If you need just the .jar, choose your needed version and you can download it under files.</p>\n<p>If you need more help, <a href=\"https://www.slf4j.org/manual.html\" rel=\"nofollow noreferrer\">the official manual</a> explains it quite good.</p>\n<p>Hope I could help you</p>\n"}],"owner":{"account_id":17010702,"reputation":13,"user_id":12316883,"display_name":"bitsexcel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73032487,"answer_count":1,"score":1,"last_activity_date":1658214181,"creation_date":1658189049,"question_id":73029776,"body_markdown":"I&#39;m trying with a .jar library but the `init` method has a call to slf4j. I have added slf4j to my dependencies Project but I believe that I need to repackage the library with the dependency inside the jar.  \r\nThe method I&#39;m calling in the jar has this line:\r\n```\r\nprivate static final org.slf4j.Logger LOG =\r\n       org.slf4j.LoggerFactory.getLogger(Init.class);\r\n```\r\nBut I have this error:\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\r\n```\r\n    ","title":"Package dependencies in a jar","body":"<p>I'm trying with a .jar library but the <code>init</code> method has a call to slf4j. I have added slf4j to my dependencies Project but I believe that I need to repackage the library with the dependency inside the jar.<br />\nThe method I'm calling in the jar has this line:</p>\n<pre><code>private static final org.slf4j.Logger LOG =\n       org.slf4j.LoggerFactory.getLogger(Init.class);\n</code></pre>\n<p>But I have this error:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\n</code></pre>\n"},{"tags":["java","bean-validation","hibernate-validator"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1658213605,"post_id":73032350,"comment_id":128988880,"body_markdown":"Does this answer your question? [How can I validate two or more fields in combination?](https://stackoverflow.com/questions/2781771/how-can-i-validate-two-or-more-fields-in-combination)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2781771/how-can-i-validate-two-or-more-fields-in-combination\">How can I validate two or more fields in combination?</a>"},{"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"score":0,"creation_date":1658213690,"post_id":73032350,"comment_id":128988904,"body_markdown":"`if (order.getA().isEmpty() ^ order.getB().isEmpty() {\n// ...\n}\n`","body":"<code>if (order.getA().isEmpty() ^ order.getB().isEmpty() { &#47;&#47; ... } </code>"},{"owner":{"account_id":25841515,"reputation":1,"user_id":19576987,"display_name":"Ulimp"},"score":0,"creation_date":1658214220,"post_id":73032350,"comment_id":128989036,"body_markdown":"@XtremeBaumer Can I use ConstraintValidator to set the message according to different validations?","body":"@XtremeBaumer Can I use ConstraintValidator to set the message according to different validations?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1658219021,"post_id":73032350,"comment_id":128990667,"body_markdown":"@Ulimp you can pass the message as a property of the annotation.","body":"@Ulimp you can pass the message as a property of the annotation."}],"answers":[{"tags":[],"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658213684,"creation_date":1658213684,"answer_id":73032390,"question_id":73032350,"body_markdown":"well it is because when A is empty B is not even checked because the check goes around. To improve your if I would use this:\r\n\r\n    public class Order\r\n    {\r\n        private String a;\r\n        private String b;\r\n        \r\n        //.... other fields\r\n    }\r\n    \r\n    public class Validation\r\n    {\r\n        public void valid(Order order) throws Exception\r\n        {\r\n            if (order.getA().isEmpty() || order.getB().isEmpty())\r\n            {\r\n                throw new Exception(&quot;xxx message &quot;);\r\n            }\r\n            \r\n            //....\r\n        }\r\n    }\r\n\r\nOr you could use annotations to check whether the field is empty or null. ","title":"Hibernate validator - field A or B can be empty, but both A and B cannot be empty","body":"<p>well it is because when A is empty B is not even checked because the check goes around. To improve your if I would use this:</p>\n<pre><code>public class Order\n{\n    private String a;\n    private String b;\n    \n    //.... other fields\n}\n\npublic class Validation\n{\n    public void valid(Order order) throws Exception\n    {\n        if (order.getA().isEmpty() || order.getB().isEmpty())\n        {\n            throw new Exception(&quot;xxx message &quot;);\n        }\n        \n        //....\n    }\n}\n</code></pre>\n<p>Or you could use annotations to check whether the field is empty or null.</p>\n"}],"owner":{"account_id":25841515,"reputation":1,"user_id":19576987,"display_name":"Ulimp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658213684,"creation_date":1658213443,"question_id":73032350,"body_markdown":"A bean class with multiple fields. When checking, if A is empty, check B, otherwise do not check B. And I need to set the message according to different checks.\r\n\r\nI have many such validations, can hibernate validator be easily implemented?\r\n\r\nNow I write like this\r\n```java\r\npublic class Order\r\n{\r\n    private String a;\r\n    private String b;\r\n    \r\n    //.... other fields\r\n}\r\n\r\npublic class Validation\r\n{\r\n    public void valid(Order order) throws Exception\r\n    {\r\n        if (order.getA().isEmpty())\r\n        {\r\n            if (order.getB().isEmpty())\r\n            {\r\n                throw new Exception(&quot;xxx message &quot;);\r\n            }\r\n        }\r\n        \r\n        //....\r\n    }\r\n}\r\n```","title":"Hibernate validator - field A or B can be empty, but both A and B cannot be empty","body":"<p>A bean class with multiple fields. When checking, if A is empty, check B, otherwise do not check B. And I need to set the message according to different checks.</p>\n<p>I have many such validations, can hibernate validator be easily implemented?</p>\n<p>Now I write like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Order\n{\n    private String a;\n    private String b;\n    \n    //.... other fields\n}\n\npublic class Validation\n{\n    public void valid(Order order) throws Exception\n    {\n        if (order.getA().isEmpty())\n        {\n            if (order.getB().isEmpty())\n            {\n                throw new Exception(&quot;xxx message &quot;);\n            }\n        }\n        \n        //....\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","triggers","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1657632271,"post_id":72941920,"comment_id":128853012,"body_markdown":"Did you try the constraint trigger? Constraints are not just for foreign keys, and this type of trigger seems like it can be used for any logic.","body":"Did you try the constraint trigger? Constraints are not just for foreign keys, and this type of trigger seems like it can be used for any logic."}],"answers":[{"tags":[],"owner":{"account_id":2474795,"reputation":734,"user_id":2155645,"accept_rate":20,"display_name":"FourtyTwo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658213345,"creation_date":1658213345,"answer_id":73032327,"question_id":72941920,"body_markdown":"I ended up having to add this line:\r\n\r\n`&lt;property name=&quot;eclipselink.persistence-context.flush-mode&quot; value=&quot;COMMIT&quot; /&gt;`\r\n\r\nto the `persistence.xml` file as documented in [persistence-context.flush-mode][1] and [this answer][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/middleware/1212/toplink/TLJPA/p_persistence_context_flushmode.htm#TLJPA1005\r\n  [2]: https://stackoverflow.com/a/40956753/2155645","title":"Is there a way to prevent Postgres triggers from triggering before Java/EclipseLink transaction commits","body":"<p>I ended up having to add this line:</p>\n<p><code>&lt;property name=&quot;eclipselink.persistence-context.flush-mode&quot; value=&quot;COMMIT&quot; /&gt;</code></p>\n<p>to the <code>persistence.xml</code> file as documented in <a href=\"https://docs.oracle.com/middleware/1212/toplink/TLJPA/p_persistence_context_flushmode.htm#TLJPA1005\" rel=\"nofollow noreferrer\">persistence-context.flush-mode</a> and <a href=\"https://stackoverflow.com/a/40956753/2155645\">this answer</a>.</p>\n"}],"owner":{"account_id":2474795,"reputation":734,"user_id":2155645,"accept_rate":20,"display_name":"FourtyTwo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73032327,"answer_count":1,"score":0,"last_activity_date":1658213345,"creation_date":1657557806,"question_id":72941920,"body_markdown":"I have a Java application that connects to a **Postgres DB** using EclipseLink.\r\n\r\nMy problem is that database triggers are triggered before the *Java/EclipseLink* transaction is completed causing the data to be incorrect.\r\n\r\n**Example**:\r\n\r\n&gt;There is a trigger to update a `order_logs` table every time there is an `insert` or `update` on the `orders` table.\r\n\r\n**Problem**: \r\n&gt;When a `setter()` method is called on an `OrderEntity` instance, the database logs indicate that the trigger is run for every two `setter()` method calls within the same transaction. This results in the `order_logs` table having multiple rows for only one update.\r\n\r\nMy question is that is there a way to force/ensure that the trigger is triggered only at the end of a transaction. I had a look at [this page][1] but deferring looks like it&#39;s just for foreign keys. My methods are wrapped with the `@Transactional` annotation.\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-createtrigger.html","title":"Is there a way to prevent Postgres triggers from triggering before Java/EclipseLink transaction commits","body":"<p>I have a Java application that connects to a <strong>Postgres DB</strong> using EclipseLink.</p>\n<p>My problem is that database triggers are triggered before the <em>Java/EclipseLink</em> transaction is completed causing the data to be incorrect.</p>\n<p><strong>Example</strong>:</p>\n<blockquote>\n<p>There is a trigger to update a <code>order_logs</code> table every time there is an <code>insert</code> or <code>update</code> on the <code>orders</code> table.</p>\n</blockquote>\n<p><strong>Problem</strong>:</p>\n<blockquote>\n<p>When a <code>setter()</code> method is called on an <code>OrderEntity</code> instance, the database logs indicate that the trigger is run for every two <code>setter()</code> method calls within the same transaction. This results in the <code>order_logs</code> table having multiple rows for only one update.</p>\n</blockquote>\n<p>My question is that is there a way to force/ensure that the trigger is triggered only at the end of a transaction. I had a look at <a href=\"https://www.postgresql.org/docs/current/sql-createtrigger.html\" rel=\"nofollow noreferrer\">this page</a> but deferring looks like it's just for foreign keys. My methods are wrapped with the <code>@Transactional</code> annotation.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1658211630,"post_id":73031937,"comment_id":128988325,"body_markdown":"Basically, you just need to browse the relevant javadocs and the information you need to work it out is all there.","body":"Basically, you just need to browse the relevant javadocs and the information you need to work it out is all there."},{"owner":{"account_id":13220025,"reputation":569,"user_id":9547104,"display_name":"Timor"},"score":0,"creation_date":1658211934,"post_id":73031937,"comment_id":128988407,"body_markdown":"As @StephenC already mentioned , Java docs are powerful . I think that what you are looking for https://docs.oracle.com/javase/8/docs/api/java/util/Random.html","body":"As @StephenC already mentioned , Java docs are powerful . I think that what you are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Random.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658213292,"creation_date":1658212003,"answer_id":73032072,"question_id":73031937,"body_markdown":"# tl;dr\r\n\r\n    ThreadLocalRandom.current().ints( 30L , 101 , 300 ).toArray();\r\n\r\n# Details\r\n\r\nUse [`IntStream.generate`][1].\r\n\r\n```java\r\nIntStream stream = IntStream.generate( ( ) -&gt; { return ThreadLocalRandom.current().nextInt( 101 , 300 ); } ); // ( inclusive , exclusive )\r\nstream.limit( 30 ).forEach( System.out :: println );\r\n```\r\n\r\nWe can combine those lines, and collect into an array.\r\n\r\n```java\r\nint[] randomIntegers =\r\n        IntStream\r\n                .generate( ( ) -&gt; { return ThreadLocalRandom.current().nextInt( 101 , 300 ); } )\r\n                .limit( 30 )\r\n                .toArray();\r\n```\r\n\r\nAnd we can further abbreviate by calling the convenience method [`Random.ints`][2].\r\n\r\n    int[] randomIntegers = \r\n            ThreadLocalRandom\r\n            .current()\r\n            .ints( 30L, 101 , 300 ) \r\n            .toArray();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#generate(java.util.function.IntSupplier)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#ints(long,int,int)","title":"How to generate a list of N random integers in a range using Stream?","body":"<h1>tl;dr</h1>\n<pre><code>ThreadLocalRandom.current().ints( 30L , 101 , 300 ).toArray();\n</code></pre>\n<h1>Details</h1>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#generate(java.util.function.IntSupplier)\" rel=\"nofollow noreferrer\"><code>IntStream.generate</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream stream = IntStream.generate( ( ) -&gt; { return ThreadLocalRandom.current().nextInt( 101 , 300 ); } ); // ( inclusive , exclusive )\nstream.limit( 30 ).forEach( System.out :: println );\n</code></pre>\n<p>We can combine those lines, and collect into an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] randomIntegers =\n        IntStream\n                .generate( ( ) -&gt; { return ThreadLocalRandom.current().nextInt( 101 , 300 ); } )\n                .limit( 30 )\n                .toArray();\n</code></pre>\n<p>And we can further abbreviate by calling the convenience method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#ints(long,int,int)\" rel=\"nofollow noreferrer\"><code>Random.ints</code></a>.</p>\n<pre><code>int[] randomIntegers = \n        ThreadLocalRandom\n        .current()\n        .ints( 30L, 101 , 300 ) \n        .toArray();\n</code></pre>\n"}],"owner":{"account_id":7618795,"reputation":419,"user_id":5777370,"accept_rate":0,"display_name":"OwlR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1658212272,"answer_count":1,"score":0,"last_activity_date":1658213292,"creation_date":1658211071,"question_id":73031937,"body_markdown":"How can we generate a list of 30 random integers in range (for example `[101, 299]`) with Java 8 stream?\r\n\r\nBasically I don&#39;t want to iterate through a loop 30 times to generate and want to use Java stream api to accomplish this.","title":"How to generate a list of N random integers in a range using Stream?","body":"<p>How can we generate a list of 30 random integers in range (for example <code>[101, 299]</code>) with Java 8 stream?</p>\n<p>Basically I don't want to iterate through a loop 30 times to generate and want to use Java stream api to accomplish this.</p>\n"},{"tags":["java","methodhandle"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1658229972,"post_id":73032309,"comment_id":128994772,"body_markdown":"Can you expand on your use-case a bit? Are you generating code (e.g. with ASM) to generate `invokedynamic` instructions? `LambdaForms` are initially shared, but as long as you go through an invoker lambda form the lambda form will be customized after 127 invokations.","body":"Can you expand on your use-case a bit? Are you generating code (e.g. with ASM) to generate <code>invokedynamic</code> instructions? <code>LambdaForms</code> are initially shared, but as long as you go through an invoker lambda form the lambda form will be customized after 127 invokations."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1658233044,"post_id":73032309,"comment_id":128996000,"body_markdown":"I once [wrote something like this](https://stackoverflow.com/questions/71224833/lambda-expressions-and-anonymous-classes-dont-work-when-loaded-as-hidden-classe/71249339#71249339) - it uses `MethodHandles.invokeExact` as direct MethodHandle and passes the non-direct MethodHandle as argument to the constructor.","body":"I once <a href=\"https://stackoverflow.com/questions/71224833/lambda-expressions-and-anonymous-classes-dont-work-when-loaded-as-hidden-classe/71249339#71249339\">wrote something like this</a> - it uses <code>MethodHandles.invokeExact</code> as direct MethodHandle and passes the non-direct MethodHandle as argument to the constructor."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661440028,"post_id":73032309,"comment_id":129778174,"body_markdown":"@JohannesKuhn yeah, I did something similar [before](https://stackoverflow.com/a/53708132/2711488)","body":"@JohannesKuhn yeah, I did something similar <a href=\"https://stackoverflow.com/a/53708132/2711488\">before</a>"}],"owner":{"account_id":7023980,"reputation":4823,"user_id":5382150,"accept_rate":86,"display_name":"Gilgamesz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658213250,"creation_date":1658213250,"question_id":73032309,"body_markdown":"there is a possibility to transform `MethodHandle` to the instance of `LambdaForm` via:\r\n```LambdaMetaFactory.metafactory()``` and invoke it via `invokeinterface` call. I know that it is possible to make it for direct `MethodHandle`. Is it possible to do it for non-direct?\r\n\r\nWhy I want do it? I have a method `m` that makes 6 different calls to different composed methods called via `invokedynamic`. I see that my calls share same `LambdaForm` and it looks like there is a performance degradation. ","title":"Transform non-direct MethodHandle to instance of interface","body":"<p>there is a possibility to transform <code>MethodHandle</code> to the instance of <code>LambdaForm</code> via:\n<code>LambdaMetaFactory.metafactory()</code> and invoke it via <code>invokeinterface</code> call. I know that it is possible to make it for direct <code>MethodHandle</code>. Is it possible to do it for non-direct?</p>\n<p>Why I want do it? I have a method <code>m</code> that makes 6 different calls to different composed methods called via <code>invokedynamic</code>. I see that my calls share same <code>LambdaForm</code> and it looks like there is a performance degradation.</p>\n"},{"tags":["java","android","android-studio","kotlin","timepicker"],"answers":[{"tags":[],"owner":{"account_id":17004840,"reputation":1429,"user_id":12301279,"display_name":"minchaej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626484721,"creation_date":1626480225,"answer_id":68416381,"question_id":68415682,"body_markdown":"You were almost there, just **change the value** of `setHour` and `setMinute` to the hour and minute you want respectively.\r\n\r\nI made few changes to your code to show default time of **3:34am**:\r\n\r\n    picker = MaterialTimePicker.Builder()\r\n        .setTimeFormat(TimeFormat.CLOCK_12H)\r\n        .setHour(3) //3 hour\r\n        .setMinute(34) //34 minutes, so 3:34am\r\n        .setTitleText(&quot;حدد الموعد الذي تريدة&quot;)\r\n        .build()\r\n\r\nIf you want to show hour in **PM**, just **add 12** to the hour. For example:\r\n\r\n    setHour(15)// will show 3pm\r\n\r\nLet me know if you have any questions. Thanks.\r\n\r\n## EDIT\r\n\r\nIf you want to show time in **strict** `HH:MM` format you can keep your code and **go as-is**. But if you **do not** wish to be strict, then use the following code:\r\n\r\nFor example, this will show `9:3PM` instead of `09:03PM`.\r\n\r\n    //removed unnecesarry String.format\r\n    if(picker.hour &gt; 12){\r\n        fajrEditTxt.setHint((picker.hour - 12).toString() + &quot;:&quot; + (picker.minute).toString() + &quot; PM&quot;)\r\n    }else{\r\n        fajrEditTxt.setHint((picker.hour).toString() + &quot;:&quot; + (picker.minute).toString() + &quot; AM&quot;)\r\n    }\r\n\r\n**OP** asked how to access time:\r\n\r\n    val time = if(picker.hour &gt; 12){\r\n        String.format(&quot;%02d&quot;,picker.hour - 12) + &quot;:&quot; + String.format(&quot;%02d&quot;, picker.minute) + &quot; PM&quot;\r\n    }else{\r\n        String.format(&quot;%02d&quot;,picker.hour) + &quot;:&quot; + String.format(&quot;%02d&quot;, picker.minute) + &quot; AM&quot;\r\n    }\r\n    time //use time, its in HH:MM format\r\n    fajrEditTxt.setHint(time)","title":"How do I set a default time to my timepicker?","body":"<p>You were almost there, just <strong>change the value</strong> of <code>setHour</code> and <code>setMinute</code> to the hour and minute you want respectively.</p>\n<p>I made few changes to your code to show default time of <strong>3:34am</strong>:</p>\n<pre><code>picker = MaterialTimePicker.Builder()\n    .setTimeFormat(TimeFormat.CLOCK_12H)\n    .setHour(3) //3 hour\n    .setMinute(34) //34 minutes, so 3:34am\n    .setTitleText(&quot;حدد الموعد الذي تريدة&quot;)\n    .build()\n</code></pre>\n<p>If you want to show hour in <strong>PM</strong>, just <strong>add 12</strong> to the hour. For example:</p>\n<pre><code>setHour(15)// will show 3pm\n</code></pre>\n<p>Let me know if you have any questions. Thanks.</p>\n<h2 id=\"edit-iy3i\">EDIT</h2>\n<p>If you want to show time in <strong>strict</strong> <code>HH:MM</code> format you can keep your code and <strong>go as-is</strong>. But if you <strong>do not</strong> wish to be strict, then use the following code:</p>\n<p>For example, this will show <code>9:3PM</code> instead of <code>09:03PM</code>.</p>\n<pre><code>//removed unnecesarry String.format\nif(picker.hour &gt; 12){\n    fajrEditTxt.setHint((picker.hour - 12).toString() + &quot;:&quot; + (picker.minute).toString() + &quot; PM&quot;)\n}else{\n    fajrEditTxt.setHint((picker.hour).toString() + &quot;:&quot; + (picker.minute).toString() + &quot; AM&quot;)\n}\n</code></pre>\n<p><strong>OP</strong> asked how to access time:</p>\n<pre><code>val time = if(picker.hour &gt; 12){\n    String.format(&quot;%02d&quot;,picker.hour - 12) + &quot;:&quot; + String.format(&quot;%02d&quot;, picker.minute) + &quot; PM&quot;\n}else{\n    String.format(&quot;%02d&quot;,picker.hour) + &quot;:&quot; + String.format(&quot;%02d&quot;, picker.minute) + &quot; AM&quot;\n}\ntime //use time, its in HH:MM format\nfajrEditTxt.setHint(time)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22838317,"reputation":1,"user_id":16985766,"display_name":"Zylacone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658213146,"creation_date":1657875396,"answer_id":72991504,"question_id":68415682,"body_markdown":"I&#39;m not understanding what it is you&#39;re asking, but if you&#39;re trying to sort the times in the library, you could place the times in a list and then sort the list, or if you just want to compare the magnitude values of two different times with just a couple of lines of code, you could remove the time separators from the time strings, convert those values to numbers ( of your choice ) and compare. The numbers generated from the conversions have no real world values, but their magnitudes with respect to one another will always be valid. \r\n\r\nOh. Snippet editor does not support touch devices.\r\n\r\n\r\nOk then.\r\n\r\n\r\n  \r\n\r\n    String time = &quot;00:00&quot;;\r\n    \r\n      time.replace( &quot;:&quot;, &quot;&quot; );\r\n    \r\n      Double d = Double.parseDouble( time );\r\n\r\n\r\n\r\nSo now you can do with d as you wish. As you can see you don&#39;t have to bother with whether any of the values are to great. If you&#39;re dealing with a pair of valid times it&#39;s their relative magnitudes that matters. Of course if the time is in 12 Hr format, you&#39;ll need to strip the time modifier ( A, a, P, p, Am, AM .... ) too. ","title":"How do I set a default time to my timepicker?","body":"<p>I'm not understanding what it is you're asking, but if you're trying to sort the times in the library, you could place the times in a list and then sort the list, or if you just want to compare the magnitude values of two different times with just a couple of lines of code, you could remove the time separators from the time strings, convert those values to numbers ( of your choice ) and compare. The numbers generated from the conversions have no real world values, but their magnitudes with respect to one another will always be valid.</p>\n<p>Oh. Snippet editor does not support touch devices.</p>\n<p>Ok then.</p>\n<pre><code>String time = &quot;00:00&quot;;\n\n  time.replace( &quot;:&quot;, &quot;&quot; );\n\n  Double d = Double.parseDouble( time );\n</code></pre>\n<p>So now you can do with d as you wish. As you can see you don't have to bother with whether any of the values are to great. If you're dealing with a pair of valid times it's their relative magnitudes that matters. Of course if the time is in 12 Hr format, you'll need to strip the time modifier ( A, a, P, p, Am, AM .... ) too.</p>\n"}],"owner":{"account_id":14702429,"reputation":266,"user_id":13321964,"display_name":"Abood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68416381,"answer_count":2,"score":2,"last_activity_date":1658213146,"creation_date":1626473007,"question_id":68415682,"body_markdown":"I have I time picker in my code and when I press the edit text it shows up and everything looks good but I want to set a default time for my time picker so when the user opens the time picker it will be shown a specific time like &quot;3:34 am&quot; as a default time for the user, how can I do that?. Any help will be appreciated. { you can use java and kotlin}\r\n\r\n**My time picker**\r\n\r\n    private fun showTimePicker() {\r\n        picker = MaterialTimePicker.Builder()\r\n                .setTimeFormat(TimeFormat.CLOCK_12H)\r\n                .setHour(12)\r\n                .setMinute(0)\r\n                .setTitleText(&quot;حدد الموعد الذي تريدة&quot;)\r\n                .build()\r\n\r\n        picker.show(supportFragmentManager, &quot;AdhanNotifacations&quot;)\r\n        picker.addOnPositiveButtonClickListener {\r\n            if (picker.hour &gt; 12) {\r\n                fajrEditTxt.setHint(String.format(&quot;%02d&quot;, picker.hour - 12) + &quot;:&quot;\r\n                        + String.format(&quot;%02d&quot;, picker.minute) + &quot; PM&quot;)\r\n            } else {\r\n                fajrEditTxt.setHint(String.format(&quot;%02d&quot;, picker.hour) + &quot;:&quot;\r\n                        + String.format(&quot;%02d&quot;, picker.minute) + &quot; AM&quot;)\r\n            }\r\n            calender = Calendar.getInstance()\r\n            calender[Calendar.HOUR_OF_DAY] = picker.hour\r\n            calender[Calendar.MINUTE] = picker.minute\r\n            calender[Calendar.SECOND] = 0\r\n            calender[Calendar.MILLISECOND] = 0\r\n        }\r\n    }","title":"How do I set a default time to my timepicker?","body":"<p>I have I time picker in my code and when I press the edit text it shows up and everything looks good but I want to set a default time for my time picker so when the user opens the time picker it will be shown a specific time like &quot;3:34 am&quot; as a default time for the user, how can I do that?. Any help will be appreciated. { you can use java and kotlin}</p>\n<p><strong>My time picker</strong></p>\n<pre><code>private fun showTimePicker() {\n    picker = MaterialTimePicker.Builder()\n            .setTimeFormat(TimeFormat.CLOCK_12H)\n            .setHour(12)\n            .setMinute(0)\n            .setTitleText(&quot;حدد الموعد الذي تريدة&quot;)\n            .build()\n\n    picker.show(supportFragmentManager, &quot;AdhanNotifacations&quot;)\n    picker.addOnPositiveButtonClickListener {\n        if (picker.hour &gt; 12) {\n            fajrEditTxt.setHint(String.format(&quot;%02d&quot;, picker.hour - 12) + &quot;:&quot;\n                    + String.format(&quot;%02d&quot;, picker.minute) + &quot; PM&quot;)\n        } else {\n            fajrEditTxt.setHint(String.format(&quot;%02d&quot;, picker.hour) + &quot;:&quot;\n                    + String.format(&quot;%02d&quot;, picker.minute) + &quot; AM&quot;)\n        }\n        calender = Calendar.getInstance()\n        calender[Calendar.HOUR_OF_DAY] = picker.hour\n        calender[Calendar.MINUTE] = picker.minute\n        calender[Calendar.SECOND] = 0\n        calender[Calendar.MILLISECOND] = 0\n    }\n}\n</code></pre>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"score":0,"creation_date":1364891929,"post_id":15759446,"comment_id":22398248,"body_markdown":"PDF cannot be store inside a variable, save it to specific location store it&#39;s full path into a variable and pass that path to download file function to download it.","body":"PDF cannot be store inside a variable, save it to specific location store it&#39;s full path into a variable and pass that path to download file function to download it."}],"answers":[{"tags":[],"owner":{"account_id":2138896,"reputation":747,"user_id":1898054,"accept_rate":60,"display_name":"gogognome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1364892275,"creation_date":1364892275,"answer_id":15759690,"question_id":15759446,"body_markdown":"`PdfWriter` has a static method `getInstance(Document document, OutputStream os)`. Use a `ByteArrayOutputStream` to store the contents to a byte array. Later on, use this array to send the file to the user. Perhaps you need to wrap the array into a `ByteArrayInputStream`.\r\n\r\nThis way, you do not need to store the file on the file system.","title":"Creating a PDF using iText without saving it to a temp file","body":"<p><code>PdfWriter</code> has a static method <code>getInstance(Document document, OutputStream os)</code>. Use a <code>ByteArrayOutputStream</code> to store the contents to a byte array. Later on, use this array to send the file to the user. Perhaps you need to wrap the array into a <code>ByteArrayInputStream</code>.</p>\n\n<p>This way, you do not need to store the file on the file system.</p>\n"},{"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364892314,"creation_date":1364892314,"answer_id":15759709,"question_id":15759446,"body_markdown":"You can write the `document` to an `OutputStream` instead of a file. If you want to be able to generate and download the PDF file dynamically (i.e. if it doesn;t take more than a second or so to generate), then you could create a servlet and write to `HttpServletResponse.getOutputStream()`.\r\n\r\n    PdfWriter.getInstance(document, response.getOutputStream())","title":"Creating a PDF using iText without saving it to a temp file","body":"<p>You can write the <code>document</code> to an <code>OutputStream</code> instead of a file. If you want to be able to generate and download the PDF file dynamically (i.e. if it doesn;t take more than a second or so to generate), then you could create a servlet and write to <code>HttpServletResponse.getOutputStream()</code>.</p>\n\n<pre><code>PdfWriter.getInstance(document, response.getOutputStream())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1688397,"reputation":6151,"user_id":1551233,"accept_rate":84,"display_name":"Bhushan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1364892319,"creation_date":1364892319,"answer_id":15759713,"question_id":15759446,"body_markdown":"You can use `ByteArrayOutputStream`, if you dont want to save the `PDF`. take a look at this [ example][1]\r\n\r\n\r\n  [1]: http://itextpdf.com/examples/iia.php?id=173","title":"Creating a PDF using iText without saving it to a temp file","body":"<p>You can use <code>ByteArrayOutputStream</code>, if you dont want to save the <code>PDF</code>. take a look at this <a href=\"http://itextpdf.com/examples/iia.php?id=173\" rel=\"nofollow\"> example</a></p>\n"},{"tags":[],"owner":{"account_id":10529375,"reputation":1,"user_id":7759300,"display_name":"Gagan Wamankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658212976,"creation_date":1657865400,"answer_id":72989700,"question_id":15759446,"body_markdown":"you can use ByteArrayOutputStream to convert any image to pdf with out saving into a temp file.\r\n\r\n\r\n\r\n    public static byte[] imageToPDFConverterByteArray(byte[] sourcFileURL) {\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\tPdfWriter writer = new PdfWriter(byteArrayOutputStream);\r\n\t\t\tPdfDocument pdf = new PdfDocument(writer);\r\n\t\t\tDocument document = new Document(pdf);\r\n\t\t\tImageData data = ImageDataFactory.create(sourcFileURL);\r\n\t\t\tImage image = new Image(data);\r\n\t\t\tdocument.add(image);\r\n\t\t\tdocument.close();\r\n\t\t\treturn byteArrayOutputStream.toByteArray();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\t\treturn sourcFileURL;\r\n\t}\r\n\r\n","title":"Creating a PDF using iText without saving it to a temp file","body":"<p>you can use ByteArrayOutputStream to convert any image to pdf with out saving into a temp file.</p>\n<pre><code>public static byte[] imageToPDFConverterByteArray(byte[] sourcFileURL) {\n    try {\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        PdfWriter writer = new PdfWriter(byteArrayOutputStream);\n        PdfDocument pdf = new PdfDocument(writer);\n        Document document = new Document(pdf);\n        ImageData data = ImageDataFactory.create(sourcFileURL);\n        Image image = new Image(data);\n        document.add(image);\n        document.close();\n        return byteArrayOutputStream.toByteArray();\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n    return sourcFileURL;\n}\n</code></pre>\n"}],"owner":{"account_id":1796114,"reputation":1281,"user_id":1635480,"accept_rate":53,"display_name":"galao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12464,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":15759690,"answer_count":4,"score":1,"last_activity_date":1658212976,"creation_date":1364891428,"question_id":15759446,"body_markdown":"code:\r\n\r\n    private String FILE = &quot;e:/FirstPdf.pdf&quot;;\r\n    \r\n    public void preparePDF() {\r\n            try {\r\n                Document document = new Document();\r\n                PdfWriter.getInstance(document, pdfFile);\r\n                document.open();\r\n                addTitlePage(document);\r\n                document.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\neverything works fine but what i want is to not save the pdf into a temporary folder but rather just insert it to a `private File` or something. I&#39;m creating a web application that has a function to download PDF files, i just need the pdf to be inside a variable.","title":"Creating a PDF using iText without saving it to a temp file","body":"<p>code:</p>\n\n<pre><code>private String FILE = \"e:/FirstPdf.pdf\";\n\npublic void preparePDF() {\n        try {\n            Document document = new Document();\n            PdfWriter.getInstance(document, pdfFile);\n            document.open();\n            addTitlePage(document);\n            document.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>everything works fine but what i want is to not save the pdf into a temporary folder but rather just insert it to a <code>private File</code> or something. I'm creating a web application that has a function to download PDF files, i just need the pdf to be inside a variable.</p>\n"},{"tags":["java","shell","health-monitoring","health-check","network-monitoring"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1658213905,"post_id":73032249,"comment_id":128988963,"body_markdown":"Have a look at prometheus. We use it extensively, with our microservices setup to output some metrics, using annotations in Spring Boot.","body":"Have a look at prometheus. We use it extensively, with our microservices setup to output some metrics, using annotations in Spring Boot."},{"owner":{"account_id":4649780,"reputation":669,"user_id":3766983,"display_name":"Sreek521"},"score":0,"creation_date":1658230129,"post_id":73032249,"comment_id":128994832,"body_markdown":"@Muddassir If you are hosted on AWS, you can make use of AWS Event Bridge. Through EventBridge, you can configure a rule to invoke a lambda on scheduled intervals. The lambda can invoke your APIs and send email if your health check fails.","body":"@Muddassir If you are hosted on AWS, you can make use of AWS Event Bridge. Through EventBridge, you can configure a rule to invoke a lambda on scheduled intervals. The lambda can invoke your APIs and send email if your health check fails."},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1658291973,"post_id":73032249,"comment_id":129012241,"body_markdown":"@Sreek521 No! we are not on AWS","body":"@Sreek521 No! we are not on AWS"}],"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658212972,"creation_date":1658212972,"question_id":73032249,"body_markdown":"We have a micro service architecture java applications. There are scenarios where our java application services stops running or gets killed or hung due to various reasons like server reboot or thread issues or space issues on server.\r\n\r\nWe want to have a monitoring tool(which can run without internet) which can check the health of java services on timely basis and if the services are stopped and it can alert the users through mail/messages and restart the same.\r\n\r\nNote: Currently we are doing this by creating a shell script which executes the healthcheck api of each services. If the response is not received it calls another java service(Communication service) and triggers the mail/message api to alert the users. But this whole monitoring script goes for a toss if our communication services itself goes down. \r\nWe are looking for some much better way to do it. \r\n\r\nAny suggestions will be appreciated.","title":"java applications monitoring tool","body":"<p>We have a micro service architecture java applications. There are scenarios where our java application services stops running or gets killed or hung due to various reasons like server reboot or thread issues or space issues on server.</p>\n<p>We want to have a monitoring tool(which can run without internet) which can check the health of java services on timely basis and if the services are stopped and it can alert the users through mail/messages and restart the same.</p>\n<p>Note: Currently we are doing this by creating a shell script which executes the healthcheck api of each services. If the response is not received it calls another java service(Communication service) and triggers the mail/message api to alert the users. But this whole monitoring script goes for a toss if our communication services itself goes down.\nWe are looking for some much better way to do it.</p>\n<p>Any suggestions will be appreciated.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652707053,"post_id":72155443,"comment_id":127663697,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1658163434,"post_id":72155443,"comment_id":128978088,"body_markdown":"Try to change the IDE [system](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#system-directory) and [configuration](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory) directories to any path, without `C:\\Users\\Вік` in the name. If you have antivirus/firewall, try with them disabled or make sure to exclude the mentioned directories and the IDE installation from the scan.","body":"Try to change the IDE <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#system-directory\" rel=\"nofollow noreferrer\">system</a> and <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory\" rel=\"nofollow noreferrer\">configuration</a> directories to any path, without <code>C:\\Users\\Вік</code> in the name. If you have antivirus/firewall, try with them disabled or make sure to exclude the mentioned directories and the IDE installation from the scan."}],"answers":[{"tags":[],"owner":{"account_id":21665788,"reputation":1,"user_id":15984212,"display_name":"Yvan TY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656524888,"creation_date":1656419220,"answer_id":72786415,"question_id":72155443,"body_markdown":"The access to write or read from this directory has been denied by your computer while mishandling a program or another app.\r\nClose all opened projects from Intellij and close all running applications on your computer.\r\nMake sure all of them are well closed then restart your PC. This should solve the problem.","title":"Internal error (java.nio.file.AccessDeniedException): C:\\Users\\Р’С–Рє","body":"<p>The access to write or read from this directory has been denied by your computer while mishandling a program or another app.\nClose all opened projects from Intellij and close all running applications on your computer.\nMake sure all of them are well closed then restart your PC. This should solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":12459760,"reputation":393,"user_id":9071773,"display_name":"Igris Dankey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658212599,"creation_date":1658066333,"answer_id":73012409,"question_id":72155443,"body_markdown":"It said that you dont have permission to execute action on that path. Try to set your permission, example in linux:\r\n\r\n    chmod -R 777 YOUR_APTH\r\n\r\nIn window, you can try this: \r\nhttps://v2cloud.com/tutorials/how-to-change-folder-permissions-on-windows","title":"Internal error (java.nio.file.AccessDeniedException): C:\\Users\\Р’С–Рє","body":"<p>It said that you dont have permission to execute action on that path. Try to set your permission, example in linux:</p>\n<pre><code>chmod -R 777 YOUR_APTH\n</code></pre>\n<p>In window, you can try this:\n<a href=\"https://v2cloud.com/tutorials/how-to-change-folder-permissions-on-windows\" rel=\"nofollow noreferrer\">https://v2cloud.com/tutorials/how-to-change-folder-permissions-on-windows</a></p>\n"}],"owner":{"account_id":22747243,"reputation":11,"user_id":16907866,"display_name":"NeoVendano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658212599,"creation_date":1651948686,"question_id":72155443,"body_markdown":"While tryin` to build any project (even empty) in Intellij Idea, I get this error:\r\n\r\n    Internal error (java.nio.file.AccessDeniedException): C:\\Users\\Р’С–Рє\r\n    java.nio.file.AccessDeniedException: C:\\Users\\Р’С–Рє\r\n    \tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n    \tat java.base/sun.nio.fs.WindowsFileSystemProvider.createDirectory(WindowsFileSystemProvider.java:509)\r\n    \tat java.base/java.nio.file.Files.createDirectory(Files.java:690)\r\n    \tat java.base/java.nio.file.Files.createAndCheckIsDirectory(Files.java:797)\r\n    \tat java.base/java.nio.file.Files.createDirectories(Files.java:783)\r\n    \tat com.intellij.util.io.ResizeableMappedFile.ensureParentDirectoryExists(ResizeableMappedFile.java:181)\r\n    \tat com.intellij.util.io.ResizeableMappedFile.&lt;init&gt;(ResizeableMappedFile.java:67)\r\n    \tat com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:93)\r\n    \tat com.intellij.util.io.PersistentEnumerator.createDefaultEnumerator(PersistentEnumerator.java:66)\r\n    \tat com.intellij.util.io.PersistentMapImpl.&lt;init&gt;(PersistentMapImpl.java:136)\r\n    \tat com.intellij.util.io.PersistentMapBuilder.buildImplementation(PersistentMapBuilder.java:62)\r\n    \tat com.intellij.util.io.PersistentMapBuilder.build(PersistentMapBuilder.java:44)\r\n    \tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:39)\r\n    \tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:54)\r\n    \tat org.jetbrains.jps.incremental.storage.AbstractStateStorage.createMap(AbstractStateStorage.java:116)\r\n    \tat org.jetbrains.jps.incremental.storage.AbstractStateStorage.&lt;init&gt;(AbstractStateStorage.java:29)\r\n    \tat org.jetbrains.jps.incremental.storage.FileTimestampStorage.&lt;init&gt;(FileTimestampStorage.java:27)\r\n    \tat org.jetbrains.jps.incremental.storage.ProjectStamps.&lt;init&gt;(ProjectStamps.java:41)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:97)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:311)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:162)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:218)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    \r\n    Please perform full project rebuild (Build | Rebuild Project)\r\n\r\nIt must be C:\\Users\\Вік instead of C:\\Users\\Р’С–Рє, but i don`t know how to make Intellij read it correctly\r\n","title":"Internal error (java.nio.file.AccessDeniedException): C:\\Users\\Р’С–Рє","body":"<p>While tryin` to build any project (even empty) in Intellij Idea, I get this error:</p>\n<pre><code>Internal error (java.nio.file.AccessDeniedException): C:\\Users\\Р’С–Рє\njava.nio.file.AccessDeniedException: C:\\Users\\Р’С–Рє\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.createDirectory(WindowsFileSystemProvider.java:509)\n    at java.base/java.nio.file.Files.createDirectory(Files.java:690)\n    at java.base/java.nio.file.Files.createAndCheckIsDirectory(Files.java:797)\n    at java.base/java.nio.file.Files.createDirectories(Files.java:783)\n    at com.intellij.util.io.ResizeableMappedFile.ensureParentDirectoryExists(ResizeableMappedFile.java:181)\n    at com.intellij.util.io.ResizeableMappedFile.&lt;init&gt;(ResizeableMappedFile.java:67)\n    at com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:93)\n    at com.intellij.util.io.PersistentEnumerator.createDefaultEnumerator(PersistentEnumerator.java:66)\n    at com.intellij.util.io.PersistentMapImpl.&lt;init&gt;(PersistentMapImpl.java:136)\n    at com.intellij.util.io.PersistentMapBuilder.buildImplementation(PersistentMapBuilder.java:62)\n    at com.intellij.util.io.PersistentMapBuilder.build(PersistentMapBuilder.java:44)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:39)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:54)\n    at org.jetbrains.jps.incremental.storage.AbstractStateStorage.createMap(AbstractStateStorage.java:116)\n    at org.jetbrains.jps.incremental.storage.AbstractStateStorage.&lt;init&gt;(AbstractStateStorage.java:29)\n    at org.jetbrains.jps.incremental.storage.FileTimestampStorage.&lt;init&gt;(FileTimestampStorage.java:27)\n    at org.jetbrains.jps.incremental.storage.ProjectStamps.&lt;init&gt;(ProjectStamps.java:41)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:97)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:311)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:162)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:218)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\nPlease perform full project rebuild (Build | Rebuild Project)\n</code></pre>\n<p>It must be C:\\Users\\Вік instead of C:\\Users\\Р’С–Рє, but i don`t know how to make Intellij read it correctly</p>\n"},{"tags":["java","android","in-app-billing"],"comments":[{"owner":{"account_id":283183,"reputation":9890,"user_id":580552,"accept_rate":52,"display_name":"sebastianf182"},"score":14,"creation_date":1325722422,"post_id":8735931,"comment_id":10880071,"body_markdown":"+1 The Android example is really complicated, has many layers and it covers all the features, whether you should start with something smaller and simpler, but there is no documentation whatsoever. I do have a stripped version of that example working. Please explain where are you stuck, since the basics is that you should bind the activity to a billing service and make calls. The broadcast receiver will do the rest.","body":"+1 The Android example is really complicated, has many layers and it covers all the features, whether you should start with something smaller and simpler, but there is no documentation whatsoever. I do have a stripped version of that example working. Please explain where are you stuck, since the basics is that you should bind the activity to a billing service and make calls. The broadcast receiver will do the rest."},{"owner":{"account_id":270645,"reputation":3968,"user_id":560722,"accept_rate":98,"display_name":"Shlomo Zalman Heigh"},"score":0,"creation_date":1325722964,"post_id":8735931,"comment_id":10880182,"body_markdown":"@sfratini Can you post your example please? Thanks!","body":"@sfratini Can you post your example please? Thanks!"},{"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"score":0,"creation_date":1351164314,"post_id":8735931,"comment_id":17749317,"body_markdown":"Its a pain to get working. If nothing else, it take hours to debug and get right. I have a project setup, like a working hello world. Try it out http://mcondev.wordpress.com/2011/06/26/integrate-in-app-billing-just-3-lines-of-code-in-your-app/","body":"Its a pain to get working. If nothing else, it take hours to debug and get right. I have a project setup, like a working hello world. Try it out <a href=\"http://mcondev.wordpress.com/2011/06/26/integrate-in-app-billing-just-3-lines-of-code-in-your-app/\" rel=\"nofollow noreferrer\">mcondev.wordpress.com/2011/06/26/&hellip;</a>"},{"owner":{"account_id":6993660,"reputation":8646,"user_id":5361964,"accept_rate":40,"display_name":"Zohab Ali"},"score":1,"creation_date":1505213929,"post_id":8735931,"comment_id":79311328,"body_markdown":"I think this tutorial (https://youtu.be/El7q_1a_WVc ) is best for In-App Billing. It teaches how to Implement In-App Billing Feature within 5 minutes!","body":"I think this tutorial (<a href=\"https://youtu.be/El7q_1a_WVc\" rel=\"nofollow noreferrer\">youtu.be/El7q_1a_WVc</a> ) is best for In-App Billing. It teaches how to Implement In-App Billing Feature within 5 minutes!"},{"owner":{"account_id":48916,"reputation":474,"user_id":145456,"accept_rate":73,"display_name":"Keith Loughnane"},"score":0,"creation_date":1554102000,"post_id":8735931,"comment_id":97613438,"body_markdown":"this is out of date.","body":"this is out of date."}],"answers":[{"tags":[],"owner":{"account_id":283183,"reputation":9890,"user_id":580552,"accept_rate":52,"display_name":"sebastianf182"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1329900821,"creation_date":1325728105,"answer_id":8736643,"question_id":8735931,"body_markdown":"Well, I&#39;ll try to explain what I experienced. I don&#39;t consider myself an expert on this but I broke my head several days. \r\n\r\nFor starters, I had a very bad time trying to understand the workflow of the example and the application. I thought it should be better to start with a simple example however its much difficult to separate the code in small pieces and not knowing if you are breaking anything. I&#39;ll tell you what I have and what I changed from the example to make it work. \r\n\r\nI have a single Activity where all my purchases come from. It&#39;s called Pro. \r\n\r\nFirst, you should update the variable base64EncodedPublicKey in your Security class with your public Market developer key or you will see a nice Exception. \r\n\r\nWell, I bind my Activity to my BillingService like so:\r\n\r\n      \r\n \r\n\r\n   \r\n          public class Pro extends TrackedActivity implements OnItemClickListener {\r\n            \t\r\n            \tprivate BillingService mBillingService;\r\n            \tprivate BillingPurchaseObserver mBillingPurchaseObserver;\r\n            \tprivate Handler mHandler;\r\n            \t\r\n            \t@Override\r\n            \tprotected void onCreate(Bundle savedInstanceState) {\t\r\n            \t\tsuper.onCreate(savedInstanceState);\t\t\r\n            \t\tsetContentView(R.layout.pro);\r\n            \t\t\r\n            \t\t\r\n            \t\t//Do my stuff\r\n            \t\t\r\n            \t\tmBillingService = new BillingService();\r\n            \t\tmBillingService.setContext(getApplicationContext());\r\n            \t\t\r\n            \t\tmHandler = new Handler();\r\n            \t\tmBillingPurchaseObserver = new BillingPurchaseObserver(mHandler);\r\n            \t\t\r\n            \t}\r\n            \r\n            }\r\n    \r\n       \r\n        \r\n        @Override\r\n        protected void onStart() {\r\n           //Register the observer to the service\r\n            super.onStart();\r\n            ResponseHandler.register(mBillingPurchaseObserver);   \r\n        }\r\n    \r\n        \r\n        @Override\r\n        protected void onStop() {\r\n            //Unregister the observer since you dont need anymore\r\n            super.onStop();\r\n            ResponseHandler.unregister(mBillingPurchaseObserver);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n           //Unbind the service\r\n            super.onDestroy();\r\n            mBillingService.unbind();\r\n        }\r\n\r\nThat way, all the purchases talk to this service, that will then, send the JSON requests to the market. You might think that the purchases are made on the same instant but no. You send the request and the purchase might come minutes or hours later. I think this is mainly to server overload and approval of the credit cards. \r\n\r\nThen I have a ListView with my items, and I open a AlertDialog on each one, inviting them to buy the item. When they click on an item, I do this:\r\n\r\n\r\n\r\n  \r\n\r\n      private class BuyButton implements DialogInterface.OnClickListener {\r\n        \r\n           private BillingItem item = null;\r\n           private String developerPayload;\r\n        \t\t\r\n           public BuyButton(BillingItem item, String developerPayload) {\r\n        \tthis.item = item;\r\n        \tthis.developerPayload = developerPayload;\r\n            }\r\n        \t\t\r\n        \t\t@Override\r\n        \t\tpublic void onClick(DialogInterface dialog, int which) {\r\n        \t\t\t\r\n        \t\t\tif (GeneralHelper.isOnline(getApplicationContext())){\r\n        \t\t\t\t//I track the buy here with GA SDK. \r\n        \r\n        \tmBillingService.requestPurchase(this.item.getSku(), this.developerPayload);\t\t\t\t\r\n        \t\t\t} else {\t\t\t\t\r\n        \t\t\t\tToast.makeText(getApplicationContext(), R.string.msg_not_online, Toast.LENGTH_SHORT).show();\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n        \t\t\r\n        \t}\r\n\r\nAlright, you should see that the Market opens and the user either finishes or cancels the buy. \r\n\r\n\r\nWhats then important is my PurChaseObserver, which handles all the events that market sends. This is a stripped version of it but you should get the point (See my comments throught the code):\r\n\r\n\r\n\r\n  \r\n\r\n  \r\n\r\n    private class BillingPurchaseObserver extends PurchaseObserver {\r\n            public BillingPurchaseObserver(Handler handler) {\r\n                super(Pro.this, handler);\r\n            }\r\n    \r\n            @Override\r\n            public void onBillingSupported(boolean supported) {\r\n               \r\n                if (supported) {\r\n                    //Enable buy functions. Not required, but you can do stuff here. The market first checks if billing is supported. Maybe your country is not supported, for example. \r\n                } else {\r\n                \tToast.makeText(getApplicationContext(), R.string.billing_not_supported, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onPurchaseStateChange(PurchaseState purchaseState, String itemId,\r\n                    int quantity, long purchaseTime, String developerPayload) {\r\n    \r\n    //This is the method that is called when the buy is completed or refunded I believe. \r\n    // Here you can do something with the developerPayload. Its basically a Tag you can use to follow your transactions. i dont use it. \r\n    \r\n           \tBillingItem item = BillingItem.getBySku(getApplicationContext(), itemId);\r\n            \t\r\n            if (purchaseState == PurchaseState.PURCHASED) {\r\n               \tif (item != null){\r\n    //This is my own implementation that sets the item purchased in my database. BillingHelper is a class with methods I use to check if the user bought an option and update the UI. You should also check for refunded. You can see the Consts class to find what you need to check for. \r\n    \r\n                \t\tboolean resu = item.makePurchased(getApplicationContext());\r\n                \t\tif (resu){            \t\t\t\r\n                \t\t\tToast.makeText(getApplicationContext(), R.string.billing_item_purchased, Toast.LENGTH_LONG).show();\r\n                \t\t}\r\n                \t}\r\n                }\r\n            }\r\n    \r\n            private void trackPurchase(BillingItem item, long purchaseTime) {\t\t\t\r\n            \t//My code to track the purchase in GA\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n            public void onRequestPurchaseResponse(RequestPurchase request,\r\n                    ResponseCode responseCode) {\r\n    \r\n                   //This is the callback that happens when you sent the request. It doesnt mean you bought something. Just that the Market received it. \r\n    \r\n            \tif (responseCode == ResponseCode.RESULT_OK) {        \t\t\r\n            \t\t\r\n                \tToast.makeText(getApplicationContext(), R.string.billing_item_request_sent, Toast.LENGTH_SHORT).show();\r\n    \r\n                } else if (responseCode == ResponseCode.RESULT_USER_CANCELED) {\r\n                    //The user canceled the item. \r\n                } else {\r\n                //If it got here, the Market had an unexpected problem. \r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onRestoreTransactionsResponse(RestoreTransactions request,\r\n                    ResponseCode responseCode) {\r\n                if (responseCode == ResponseCode.RESULT_OK) {\r\n    //Restore transactions should only be run once in the lifecycle of your application unless you reinstalled the app or wipe the data. \r\n    \r\n                    SharedPreferences.Editor edit = PreferencesHelper.getInstance().getDefaultSettings(getApplicationContext()).edit();\r\n                    edit.putBoolean(Consts.DB_INITIALIZED, true);\r\n                    edit.commit();\r\n    \r\n                } else {\r\n        //Something went wrong\r\n                }\r\n            }\r\n        }\r\n\r\nAnd I believe you shouldn&#39;t need to edit anything else. The rest of the code &quot;works&quot;. \r\nYou can try using the sample SKU at first in your own items &quot;android.test.purchased&quot;. So far I have tested this and it works however I still need to cover everything like the refunded state. In this case, I am letting the user keep the features but I want to make sure it works perfect before modyfing it. \r\n\r\nI hope it helps you and others. \r\n\r\n\r\n\r\n","title":"How to implement In-App Billing in an Android application?","body":"<p>Well, I'll try to explain what I experienced. I don't consider myself an expert on this but I broke my head several days. </p>\n\n<p>For starters, I had a very bad time trying to understand the workflow of the example and the application. I thought it should be better to start with a simple example however its much difficult to separate the code in small pieces and not knowing if you are breaking anything. I'll tell you what I have and what I changed from the example to make it work. </p>\n\n<p>I have a single Activity where all my purchases come from. It's called Pro. </p>\n\n<p>First, you should update the variable base64EncodedPublicKey in your Security class with your public Market developer key or you will see a nice Exception. </p>\n\n<p>Well, I bind my Activity to my BillingService like so:</p>\n\n<pre><code>      public class Pro extends TrackedActivity implements OnItemClickListener {\n\n            private BillingService mBillingService;\n            private BillingPurchaseObserver mBillingPurchaseObserver;\n            private Handler mHandler;\n\n            @Override\n            protected void onCreate(Bundle savedInstanceState) {    \n                super.onCreate(savedInstanceState);     \n                setContentView(R.layout.pro);\n\n\n                //Do my stuff\n\n                mBillingService = new BillingService();\n                mBillingService.setContext(getApplicationContext());\n\n                mHandler = new Handler();\n                mBillingPurchaseObserver = new BillingPurchaseObserver(mHandler);\n\n            }\n\n        }\n\n\n\n    @Override\n    protected void onStart() {\n       //Register the observer to the service\n        super.onStart();\n        ResponseHandler.register(mBillingPurchaseObserver);   \n    }\n\n\n    @Override\n    protected void onStop() {\n        //Unregister the observer since you dont need anymore\n        super.onStop();\n        ResponseHandler.unregister(mBillingPurchaseObserver);\n    }\n\n    @Override\n    protected void onDestroy() {\n       //Unbind the service\n        super.onDestroy();\n        mBillingService.unbind();\n    }\n</code></pre>\n\n<p>That way, all the purchases talk to this service, that will then, send the JSON requests to the market. You might think that the purchases are made on the same instant but no. You send the request and the purchase might come minutes or hours later. I think this is mainly to server overload and approval of the credit cards. </p>\n\n<p>Then I have a ListView with my items, and I open a AlertDialog on each one, inviting them to buy the item. When they click on an item, I do this:</p>\n\n<pre><code>  private class BuyButton implements DialogInterface.OnClickListener {\n\n       private BillingItem item = null;\n       private String developerPayload;\n\n       public BuyButton(BillingItem item, String developerPayload) {\n        this.item = item;\n        this.developerPayload = developerPayload;\n        }\n\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                if (GeneralHelper.isOnline(getApplicationContext())){\n                    //I track the buy here with GA SDK. \n\n        mBillingService.requestPurchase(this.item.getSku(), this.developerPayload);             \n                } else {                \n                    Toast.makeText(getApplicationContext(), R.string.msg_not_online, Toast.LENGTH_SHORT).show();\n                }\n\n            }\n\n        }\n</code></pre>\n\n<p>Alright, you should see that the Market opens and the user either finishes or cancels the buy. </p>\n\n<p>Whats then important is my PurChaseObserver, which handles all the events that market sends. This is a stripped version of it but you should get the point (See my comments throught the code):</p>\n\n<pre><code>private class BillingPurchaseObserver extends PurchaseObserver {\n        public BillingPurchaseObserver(Handler handler) {\n            super(Pro.this, handler);\n        }\n\n        @Override\n        public void onBillingSupported(boolean supported) {\n\n            if (supported) {\n                //Enable buy functions. Not required, but you can do stuff here. The market first checks if billing is supported. Maybe your country is not supported, for example. \n            } else {\n                Toast.makeText(getApplicationContext(), R.string.billing_not_supported, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onPurchaseStateChange(PurchaseState purchaseState, String itemId,\n                int quantity, long purchaseTime, String developerPayload) {\n\n//This is the method that is called when the buy is completed or refunded I believe. \n// Here you can do something with the developerPayload. Its basically a Tag you can use to follow your transactions. i dont use it. \n\n        BillingItem item = BillingItem.getBySku(getApplicationContext(), itemId);\n\n        if (purchaseState == PurchaseState.PURCHASED) {\n            if (item != null){\n//This is my own implementation that sets the item purchased in my database. BillingHelper is a class with methods I use to check if the user bought an option and update the UI. You should also check for refunded. You can see the Consts class to find what you need to check for. \n\n                    boolean resu = item.makePurchased(getApplicationContext());\n                    if (resu){                      \n                        Toast.makeText(getApplicationContext(), R.string.billing_item_purchased, Toast.LENGTH_LONG).show();\n                    }\n                }\n            }\n        }\n\n        private void trackPurchase(BillingItem item, long purchaseTime) {           \n            //My code to track the purchase in GA\n        }\n\n        @Override\n        public void onRequestPurchaseResponse(RequestPurchase request,\n                ResponseCode responseCode) {\n\n               //This is the callback that happens when you sent the request. It doesnt mean you bought something. Just that the Market received it. \n\n            if (responseCode == ResponseCode.RESULT_OK) {               \n\n                Toast.makeText(getApplicationContext(), R.string.billing_item_request_sent, Toast.LENGTH_SHORT).show();\n\n            } else if (responseCode == ResponseCode.RESULT_USER_CANCELED) {\n                //The user canceled the item. \n            } else {\n            //If it got here, the Market had an unexpected problem. \n            }\n        }\n\n        @Override\n        public void onRestoreTransactionsResponse(RestoreTransactions request,\n                ResponseCode responseCode) {\n            if (responseCode == ResponseCode.RESULT_OK) {\n//Restore transactions should only be run once in the lifecycle of your application unless you reinstalled the app or wipe the data. \n\n                SharedPreferences.Editor edit = PreferencesHelper.getInstance().getDefaultSettings(getApplicationContext()).edit();\n                edit.putBoolean(Consts.DB_INITIALIZED, true);\n                edit.commit();\n\n            } else {\n    //Something went wrong\n            }\n        }\n    }\n</code></pre>\n\n<p>And I believe you shouldn't need to edit anything else. The rest of the code \"works\". \nYou can try using the sample SKU at first in your own items \"android.test.purchased\". So far I have tested this and it works however I still need to cover everything like the refunded state. In this case, I am letting the user keep the features but I want to make sure it works perfect before modyfing it. </p>\n\n<p>I hope it helps you and others. </p>\n"},{"tags":[],"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480013009,"creation_date":1348934536,"answer_id":12654228,"question_id":8735931,"body_markdown":"If you want to use an easy library to publish across Google Play and the Amazon Appstore, you could go with [RoboBillingLibrary][1]. It abstracts the details of both into one easy to use library. Detailed instructions are on the Github page.\r\n\r\n  [1]: https://github.com/christopherperry/RoboBillingLibrary","title":"How to implement In-App Billing in an Android application?","body":"<p>If you want to use an easy library to publish across Google Play and the Amazon Appstore, you could go with <a href=\"https://github.com/christopherperry/RoboBillingLibrary\" rel=\"nofollow noreferrer\">RoboBillingLibrary</a>. It abstracts the details of both into one easy to use library. Detailed instructions are on the Github page.</p>\n"},{"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1374848841,"creation_date":1374848841,"answer_id":17884022,"question_id":8735931,"body_markdown":"**V3:**  here is an tutorial for a quick start.. He&#180;s using the helper-classes from the google example (Trivial Drive) ... Good as first &quot;Hello Billing&quot; .. \r\n\r\nhttp://www.techotopia.com/index.php/Integrating_Google_Play_In-app_Billing_into_an_Android_Application_%E2%80%93_A_Tutorial","title":"How to implement In-App Billing in an Android application?","body":"<p><strong>V3:</strong>  here is an tutorial for a quick start.. He´s using the helper-classes from the google example (Trivial Drive) ... Good as first \"Hello Billing\" .. </p>\n\n<p><a href=\"http://www.techotopia.com/index.php/Integrating_Google_Play_In-app_Billing_into_an_Android_Application_%E2%80%93_A_Tutorial\">http://www.techotopia.com/index.php/Integrating_Google_Play_In-app_Billing_into_an_Android_Application_%E2%80%93_A_Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1480172366,"creation_date":1480013635,"answer_id":40793010,"question_id":8735931,"body_markdown":"There is a full example of **Android In-App Billing v3** step by step is given here with screenshot. Please check the tutorial: \r\n[Android In-App Billing v3 using ServiceConnection Class][1]\r\n\r\nHope it will help.\r\n\r\nFor more clarification, go through this tutorial: [Implementing In-app Billing in Version 3 API][2]\r\n\r\nSteps to follow to Integrate In-app Billing library in our project\r\n\r\nUpdate your AndroidManifest.xml file.\r\n\r\nCreate a ServiceConnection and bind it to IInAppBillingService.\r\n\r\nSend In-app Billing requests from your application to IInAppBillingService.\r\n\r\nHandle In-app Billing responses from Google Play.\r\n\r\n \r\nUpdate AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n\r\nAdd the permissions in Manifest.xml file \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.inducesmile.androidinapppurchase&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.InAppPurchaseActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.PrivateContentActivity&quot;&gt; &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n \r\nAdding the AIDL file to your project\r\n---\r\n\r\nBuild your application. You should see a generated file named IInAppBillingService.java in the /gen directory of your project.\r\n\r\n \r\nUpdate Dependencies in build.gradle file\r\n---\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.0&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.inducesmile.androidinapppurchase&quot;\r\n            minSdkVersion 14\r\n            targetSdkVersion 24\r\n            versionCode 2\r\n            versionName &quot;1.1&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:24.1.1&#39;\r\n        compile &#39;com.intuit.sdp:sdp-android:1.0.3&#39;\r\n        compile &#39;com.android.support:support-annotations:24.1.1&#39;\r\n        compile &#39;org.jetbrains:annotations-java5:15.0&#39;\r\n    }\r\n\r\n\r\nInAppPurchaseActivity.java and activity_in_app_purchase.xml\r\n\r\nThis is where will offer our app users the opportunity to to make in-app purchase. In the layout file, we will give the user the opportunity to make purchase in different denominations.\r\n\r\n \r\n**InAppPurchaseActivity.java**\r\n\r\nNote: getAllUserPurchase() and itemPurchaseAvailability() methods should be called in non UI Thread to avoid app crashing.\r\n\r\n\r\n    public class InAppPurchaseActivity extends AppCompatActivity {\r\n        private static final String TAG = InAppPurchaseActivity.class.getSimpleName();\r\n        private IInAppBillingService mService;\r\n        private CustomSharedPreference customSharedPreference;\r\n        String[] productIds = new String[]{Helper.ITEM_ONE_ID, Helper.ITEM_TWO_ID, Helper.ITEM_THREE_ID};\r\n        private ImageView buyOneButton, buyTwoButton, buyThreeButton;\r\n        private static final char[] symbols = new char[36];\r\n        static {\r\n            for (int idx = 0; idx &lt; 10; ++idx)\r\n                symbols[idx] = (char) (&#39;0&#39; + idx);\r\n            for (int idx = 10; idx &lt; 36; ++idx)\r\n                symbols[idx] = (char) (&#39;a&#39; + idx - 10);\r\n        }\r\n        private String appPackageName;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_in_app_purchase);\r\n            appPackageName = this.getPackageName();\r\n            Intent serviceIntent = new Intent(&quot;com.android.vending.billing.InAppBillingService.BIND&quot;);\r\n            serviceIntent.setPackage(&quot;com.android.vending&quot;);\r\n            bindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\r\n            customSharedPreference = new CustomSharedPreference(InAppPurchaseActivity.this);\r\n            buyOneButton = (ImageView)findViewById(R.id.buy_one);\r\n            buyOneButton.setVisibility(View.GONE);\r\n            assert buyOneButton != null;\r\n            buyOneButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(!isBillingSupported()){\r\n                        Helper.displayMessage(InAppPurchaseActivity.this, getString(R.string.in_app_support));\r\n                        return;\r\n                    }\r\n                    purchaseItem(Helper.ITEM_ONE_ID);\r\n                }\r\n            });\r\n            buyTwoButton = (ImageView)findViewById(R.id.buy_two);\r\n            buyTwoButton.setVisibility(View.GONE);\r\n            assert buyTwoButton != null;\r\n            buyTwoButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(!isBillingSupported()){\r\n                        Helper.displayMessage(InAppPurchaseActivity.this, getString(R.string.in_app_support));\r\n                        return;\r\n                    }\r\n                    purchaseItem(Helper.ITEM_TWO_ID);\r\n                }\r\n            });\r\n            buyThreeButton = (ImageView)findViewById(R.id.buy_three);\r\n            buyThreeButton.setVisibility(View.GONE);\r\n            assert buyThreeButton != null;\r\n            buyThreeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(!isBillingSupported()){\r\n                        Helper.displayMessage(InAppPurchaseActivity.this, getString(R.string.in_app_support));\r\n                        return;\r\n                    }\r\n                    purchaseItem(Helper.ITEM_THREE_ID);\r\n                }\r\n            });\r\n        }\r\n        ServiceConnection mServiceConn = new ServiceConnection() {\r\n            @Override\r\n            public void onServiceDisconnected(ComponentName name) {\r\n                mService = null;\r\n            }\r\n            @Override\r\n            public void onServiceConnected(ComponentName name, IBinder service) {\r\n                mService = IInAppBillingService.Stub.asInterface(service);\r\n                AvailablePurchaseAsyncTask mAsyncTask = new AvailablePurchaseAsyncTask(appPackageName);\r\n                mAsyncTask.execute();\r\n            }\r\n        };\r\n        private void purchaseItem(String sku){\r\n            String generatedPayload = getPayLoad();\r\n            customSharedPreference.setDeveloperPayLoad(generatedPayload);\r\n            try {\r\n                Bundle buyIntentBundle = mService.getBuyIntent(3, getPackageName(), sku, &quot;inapp&quot;, generatedPayload);\r\n                PendingIntent pendingIntent = buyIntentBundle.getParcelable(&quot;BUY_INTENT&quot;);\r\n                try {\r\n                    startIntentSenderForResult(pendingIntent.getIntentSender(), Helper.RESPONSE_CODE, new Intent(), Integer.valueOf(0), Integer.valueOf(0), Integer.valueOf(0));\r\n                } catch (IntentSender.SendIntentException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } catch (RemoteException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            if (requestCode == Helper.RESPONSE_CODE) {\r\n                int responseCode = data.getIntExtra(&quot;RESPONSE_CODE&quot;, 0);\r\n                String purchaseData = data.getStringExtra(&quot;INAPP_PURCHASE_DATA&quot;);\r\n                String dataSignature = data.getStringExtra(&quot;INAPP_DATA_SIGNATURE&quot;);\r\n                if (resultCode == RESULT_OK) {\r\n                    try {\r\n                        JSONObject purchaseJsonObject = new JSONObject(purchaseData);\r\n                        String sku = purchaseJsonObject.getString(&quot;productId&quot;);\r\n                        String developerPayload = purchaseJsonObject.getString(&quot;developerPayload&quot;);\r\n                        String purchaseToken = purchaseJsonObject.getString(&quot;purchaseToken&quot;);\r\n                        //the developerPayload value is better stored in remote database but in this tutorial\r\n                        //we will use a shared preference\r\n                        for(int i = 0; i &lt; productIds.length; i++){\r\n                            if(productIds[i].equals(sku) &amp;&amp; developerPayload.equals(customSharedPreference.getDeveloperPayload())){\r\n                                customSharedPreference.setPurchaseToken(purchaseToken);\r\n                                //access to private content\r\n                                Intent contentIntent = new Intent(InAppPurchaseActivity.this, PrivateContentActivity.class);\r\n                                startActivity(contentIntent);\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        private String getPayLoad(){\r\n            RandomString randomString = new RandomString(36);\r\n            String payload = randomString.nextString();\r\n            return payload;\r\n        }\r\n        public class RandomString {\r\n            private final Random random = new Random();\r\n            private final char[] buf;\r\n            public RandomString(int length) {\r\n                if (length &lt; 1)\r\n                    throw new IllegalArgumentException(&quot;length &lt; 1: &quot; + length);\r\n                buf = new char[length];\r\n            }\r\n            public String nextString() {\r\n                for (int idx = 0; idx &lt; buf.length; ++idx)\r\n                    buf[idx] = symbols[random.nextInt(symbols.length)];\r\n                return new String(buf);\r\n            }\r\n        }\r\n        public final class SessionIdentifierGenerator {\r\n            private SecureRandom random = new SecureRandom();\r\n            public String nextSessionId() {\r\n                return new BigInteger(130, random).toString(32);\r\n            }\r\n        }\r\n        private class AvailablePurchaseAsyncTask extends AsyncTask&lt;Void, Void, Bundle&gt; {\r\n            String packageName;\r\n            public AvailablePurchaseAsyncTask(String packageName){\r\n                this.packageName = packageName;\r\n            }\r\n            @Override\r\n            protected Bundle doInBackground(Void... voids) {\r\n                ArrayList&lt;String&gt; skuList = new ArrayList&lt;String&gt;();\r\n                skuList.add(Helper.ITEM_ONE_ID);\r\n                skuList.add(Helper.ITEM_TWO_ID);\r\n                skuList.add(Helper.ITEM_THREE_ID);\r\n                Bundle query = new Bundle();\r\n                query.putStringArrayList(Helper.ITEM_ID_LIST, skuList);\r\n                Bundle skuDetails = null;\r\n                try {\r\n                    skuDetails = mService.getSkuDetails(3, packageName, &quot;inapp&quot;, query);\r\n                } catch (RemoteException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return skuDetails;\r\n            }\r\n            @Override\r\n            protected void onPostExecute(Bundle skuDetails) {\r\n                List&lt;AvailablePurchase&gt; canPurchase = new ArrayList&lt;AvailablePurchase&gt;();\r\n                int response = skuDetails.getInt(&quot;RESPONSE_CODE&quot;);\r\n                if (response == 0) {\r\n                    ArrayList&lt;String&gt; responseList = skuDetails.getStringArrayList(&quot;DETAILS_LIST&quot;);\r\n                    if(responseList != null){\r\n                        for (String thisResponse : responseList) {\r\n                            JSONObject object = null;\r\n                            try {\r\n                                object = new JSONObject(thisResponse);\r\n                                String sku = object.getString(&quot;productId&quot;);\r\n                                String price = object.getString(&quot;price&quot;);\r\n                                canPurchase.add(new AvailablePurchase(sku, price));\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(checkIfPurchaseIsAvailable(canPurchase, productIds[0])){\r\n                    buyOneButton.setVisibility(View.VISIBLE);\r\n                }else{\r\n                    buyOneButton.setVisibility(View.GONE);\r\n                }\r\n                if(checkIfPurchaseIsAvailable(canPurchase, productIds[1])){\r\n                    buyTwoButton.setVisibility(View.VISIBLE);\r\n                }else{\r\n                    buyTwoButton.setVisibility(View.GONE);\r\n                }\r\n                if(checkIfPurchaseIsAvailable(canPurchase, productIds[2])){\r\n                    buyThreeButton.setVisibility(View.VISIBLE);\r\n                }else{\r\n                    buyThreeButton.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        }\r\n        @org.jetbrains.annotations.Contract(&quot;null, _ -&gt; false&quot;)\r\n        private boolean checkIfPurchaseIsAvailable(List&lt;AvailablePurchase&gt; all, String productId){\r\n            if(all == null){ return false;}\r\n            for(int i = 0; i &lt; all.size(); i++){\r\n                if(all.get(i).getSku().equals(productId)){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        public boolean isBillingSupported(){\r\n            int response = 1;\r\n            try {\r\n                response = mService.isBillingSupported(3, getPackageName(), &quot;inapp&quot;);\r\n            } catch (RemoteException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if(response &gt; 0){\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        public void consumePurchaseItem(String purchaseToken){\r\n            try {\r\n                int response = mService.consumePurchase(3, getPackageName(), purchaseToken);\r\n                if(response != 0){\r\n                    return;\r\n                }\r\n            } catch (RemoteException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        public Bundle getAllUserPurchase(){\r\n            Bundle ownedItems = null;\r\n            try {\r\n                ownedItems = mService.getPurchases(3, getPackageName(), &quot;inapp&quot;, null);\r\n            } catch (RemoteException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return ownedItems;\r\n        }\r\n        public List&lt;UserPurchaseItems&gt; extractAllUserPurchase(Bundle ownedItems){\r\n            List&lt;UserPurchaseItems&gt; mUserItems = new ArrayList&lt;UserPurchaseItems&gt;();\r\n            int response = ownedItems.getInt(&quot;RESPONSE_CODE&quot;);\r\n            if (response == 0) {\r\n                ArrayList&lt;String&gt; ownedSkus = ownedItems.getStringArrayList(&quot;INAPP_PURCHASE_ITEM_LIST&quot;);\r\n                ArrayList&lt;String&gt;  purchaseDataList = ownedItems.getStringArrayList(&quot;INAPP_PURCHASE_DATA_LIST&quot;);\r\n                ArrayList&lt;String&gt;  signatureList = ownedItems.getStringArrayList(&quot;INAPP_DATA_SIGNATURE_LIST&quot;);\r\n                String continuationToken = ownedItems.getString(&quot;INAPP_CONTINUATION_TOKEN&quot;);\r\n                if(purchaseDataList != null){\r\n                    for (int i = 0; i &lt; purchaseDataList.size(); ++i) {\r\n                        String purchaseData = purchaseDataList.get(i);\r\n                        assert signatureList != null;\r\n                        String signature = signatureList.get(i);\r\n                        assert ownedSkus != null;\r\n                        String sku = ownedSkus.get(i);\r\n                        UserPurchaseItems allItems = new UserPurchaseItems(sku, purchaseData, signature);\r\n                        mUserItems.add(allItems);\r\n                    }\r\n                }\r\n            }\r\n            return mUserItems;\r\n        }\r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            if (mService != null) {\r\n                unbindService(mServiceConn);\r\n            }\r\n        }\r\n    }\r\n\r\n \r\n\r\n**Create Helper Package Directory**\r\n\r\nCreate a new package folder and name it helpers. Inside the package, create a new java file Helper.java.\r\n\r\n**Helper.java**\r\n\r\n    public class Helper {\r\n        public static final String ITEM_ID_LIST = &quot;ITEM_ID_LIST&quot;;\r\n        public static final String ITEM_ONE_ID = &quot;productone&quot;;\r\n        public static final String ITEM_TWO_ID = &quot;producttwo&quot;;\r\n        public static final String ITEM_THREE_ID = &quot;productthree&quot;;\r\n        public static final int RESPONSE_CODE = 1001;\r\n        public static final String SHARED_PREF = &quot;shared_pref&quot;;\r\n        public static final String DEVELOPER_PAYLOAD = &quot;developer_payload&quot;;\r\n        public static final String PURCHASE_TOKEN = &quot;purchase_token&quot;;\r\n        public static void displayMessage(Context context, String message){\r\n            Toast.makeText(context.getApplicationContext(), message, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n \r\nTesting In-App Billing Purchase\r\n\r\n 1. Create a Google+ account(don&#39;t use main account)\r\n 2. Add the users that will test the app in your group or community.\r\n\r\n \r\nErrors You might encounter during In-App purchase testing\r\n\r\nthe item you requested is not available for purchase\r\n\r\nSolution – [According to AndreiBogdan in Stackoverflow][4],\r\n\r\n&gt; All credit goes to [Inducesmile][5] for his [tutorial][1]\r\n\r\nAndroid Developer Blog also recommends a training class on Selling In-app Products. To see a complete implementation and learn how to test the application, Please check this tutorial: [Selling In-app Products][6]\r\n\r\n\r\n  [1]: https://inducesmile.com/android/android-in-app-billing-v3-purchase-using-serviceconnection-example-tutorial/\r\n  [2]: https://developer.android.com/google/play/billing/billing_integrate.html\r\n  [3]: https://i.stack.imgur.com/qkmB6.jpg\r\n  [4]: https://stackoverflow.com/questions/13117081/the-item-you-requested-is-not-available-for-purchase\r\n  [5]: https://stackoverflow.com/users/879035/inducesmile\r\n  [6]: https://developer.android.com/training/in-app-billing/index.html","title":"How to implement In-App Billing in an Android application?","body":"<p>There is a full example of <strong>Android In-App Billing v3</strong> step by step is given here with screenshot. Please check the tutorial: \n<a href=\"https://inducesmile.com/android/android-in-app-billing-v3-purchase-using-serviceconnection-example-tutorial/\" rel=\"noreferrer\">Android In-App Billing v3 using ServiceConnection Class</a></p>\n\n<p>Hope it will help.</p>\n\n<p>For more clarification, go through this tutorial: <a href=\"https://developer.android.com/google/play/billing/billing_integrate.html\" rel=\"noreferrer\">Implementing In-app Billing in Version 3 API</a></p>\n\n<p>Steps to follow to Integrate In-app Billing library in our project</p>\n\n<p>Update your AndroidManifest.xml file.</p>\n\n<p>Create a ServiceConnection and bind it to IInAppBillingService.</p>\n\n<p>Send In-app Billing requests from your application to IInAppBillingService.</p>\n\n<p>Handle In-app Billing responses from Google Play.</p>\n\n<p>Update AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"com.android.vending.BILLING\" /&gt;\n</code></pre>\n\n<p>Add the permissions in Manifest.xml file </p>\n\n<p>\n\n    \n    \n    \n        \n            \n                \n                \n            \n        \n        \n         \n    \n</p>\n\n<h2>Adding the AIDL file to your project</h2>\n\n<p>Build your application. You should see a generated file named IInAppBillingService.java in the /gen directory of your project.</p>\n\n<h2>Update Dependencies in build.gradle file</h2>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.0\"\n    defaultConfig {\n        applicationId \"com.inducesmile.androidinapppurchase\"\n        minSdkVersion 14\n        targetSdkVersion 24\n        versionCode 2\n        versionName \"1.1\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:24.1.1'\n    compile 'com.intuit.sdp:sdp-android:1.0.3'\n    compile 'com.android.support:support-annotations:24.1.1'\n    compile 'org.jetbrains:annotations-java5:15.0'\n}\n</code></pre>\n\n<p>InAppPurchaseActivity.java and activity_in_app_purchase.xml</p>\n\n<p>This is where will offer our app users the opportunity to to make in-app purchase. In the layout file, we will give the user the opportunity to make purchase in different denominations.</p>\n\n<p><strong>InAppPurchaseActivity.java</strong></p>\n\n<p>Note: getAllUserPurchase() and itemPurchaseAvailability() methods should be called in non UI Thread to avoid app crashing.</p>\n\n<pre><code>public class InAppPurchaseActivity extends AppCompatActivity {\n    private static final String TAG = InAppPurchaseActivity.class.getSimpleName();\n    private IInAppBillingService mService;\n    private CustomSharedPreference customSharedPreference;\n    String[] productIds = new String[]{Helper.ITEM_ONE_ID, Helper.ITEM_TWO_ID, Helper.ITEM_THREE_ID};\n    private ImageView buyOneButton, buyTwoButton, buyThreeButton;\n    private static final char[] symbols = new char[36];\n    static {\n        for (int idx = 0; idx &lt; 10; ++idx)\n            symbols[idx] = (char) ('0' + idx);\n        for (int idx = 10; idx &lt; 36; ++idx)\n            symbols[idx] = (char) ('a' + idx - 10);\n    }\n    private String appPackageName;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_in_app_purchase);\n        appPackageName = this.getPackageName();\n        Intent serviceIntent = new Intent(\"com.android.vending.billing.InAppBillingService.BIND\");\n        serviceIntent.setPackage(\"com.android.vending\");\n        bindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\n        customSharedPreference = new CustomSharedPreference(InAppPurchaseActivity.this);\n        buyOneButton = (ImageView)findViewById(R.id.buy_one);\n        buyOneButton.setVisibility(View.GONE);\n        assert buyOneButton != null;\n        buyOneButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!isBillingSupported()){\n                    Helper.displayMessage(InAppPurchaseActivity.this, getString(R.string.in_app_support));\n                    return;\n                }\n                purchaseItem(Helper.ITEM_ONE_ID);\n            }\n        });\n        buyTwoButton = (ImageView)findViewById(R.id.buy_two);\n        buyTwoButton.setVisibility(View.GONE);\n        assert buyTwoButton != null;\n        buyTwoButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!isBillingSupported()){\n                    Helper.displayMessage(InAppPurchaseActivity.this, getString(R.string.in_app_support));\n                    return;\n                }\n                purchaseItem(Helper.ITEM_TWO_ID);\n            }\n        });\n        buyThreeButton = (ImageView)findViewById(R.id.buy_three);\n        buyThreeButton.setVisibility(View.GONE);\n        assert buyThreeButton != null;\n        buyThreeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!isBillingSupported()){\n                    Helper.displayMessage(InAppPurchaseActivity.this, getString(R.string.in_app_support));\n                    return;\n                }\n                purchaseItem(Helper.ITEM_THREE_ID);\n            }\n        });\n    }\n    ServiceConnection mServiceConn = new ServiceConnection() {\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            mService = null;\n        }\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            mService = IInAppBillingService.Stub.asInterface(service);\n            AvailablePurchaseAsyncTask mAsyncTask = new AvailablePurchaseAsyncTask(appPackageName);\n            mAsyncTask.execute();\n        }\n    };\n    private void purchaseItem(String sku){\n        String generatedPayload = getPayLoad();\n        customSharedPreference.setDeveloperPayLoad(generatedPayload);\n        try {\n            Bundle buyIntentBundle = mService.getBuyIntent(3, getPackageName(), sku, \"inapp\", generatedPayload);\n            PendingIntent pendingIntent = buyIntentBundle.getParcelable(\"BUY_INTENT\");\n            try {\n                startIntentSenderForResult(pendingIntent.getIntentSender(), Helper.RESPONSE_CODE, new Intent(), Integer.valueOf(0), Integer.valueOf(0), Integer.valueOf(0));\n            } catch (IntentSender.SendIntentException e) {\n                e.printStackTrace();\n            }\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (requestCode == Helper.RESPONSE_CODE) {\n            int responseCode = data.getIntExtra(\"RESPONSE_CODE\", 0);\n            String purchaseData = data.getStringExtra(\"INAPP_PURCHASE_DATA\");\n            String dataSignature = data.getStringExtra(\"INAPP_DATA_SIGNATURE\");\n            if (resultCode == RESULT_OK) {\n                try {\n                    JSONObject purchaseJsonObject = new JSONObject(purchaseData);\n                    String sku = purchaseJsonObject.getString(\"productId\");\n                    String developerPayload = purchaseJsonObject.getString(\"developerPayload\");\n                    String purchaseToken = purchaseJsonObject.getString(\"purchaseToken\");\n                    //the developerPayload value is better stored in remote database but in this tutorial\n                    //we will use a shared preference\n                    for(int i = 0; i &lt; productIds.length; i++){\n                        if(productIds[i].equals(sku) &amp;&amp; developerPayload.equals(customSharedPreference.getDeveloperPayload())){\n                            customSharedPreference.setPurchaseToken(purchaseToken);\n                            //access to private content\n                            Intent contentIntent = new Intent(InAppPurchaseActivity.this, PrivateContentActivity.class);\n                            startActivity(contentIntent);\n                        }\n                    }\n                }\n                catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    private String getPayLoad(){\n        RandomString randomString = new RandomString(36);\n        String payload = randomString.nextString();\n        return payload;\n    }\n    public class RandomString {\n        private final Random random = new Random();\n        private final char[] buf;\n        public RandomString(int length) {\n            if (length &lt; 1)\n                throw new IllegalArgumentException(\"length &lt; 1: \" + length);\n            buf = new char[length];\n        }\n        public String nextString() {\n            for (int idx = 0; idx &lt; buf.length; ++idx)\n                buf[idx] = symbols[random.nextInt(symbols.length)];\n            return new String(buf);\n        }\n    }\n    public final class SessionIdentifierGenerator {\n        private SecureRandom random = new SecureRandom();\n        public String nextSessionId() {\n            return new BigInteger(130, random).toString(32);\n        }\n    }\n    private class AvailablePurchaseAsyncTask extends AsyncTask&lt;Void, Void, Bundle&gt; {\n        String packageName;\n        public AvailablePurchaseAsyncTask(String packageName){\n            this.packageName = packageName;\n        }\n        @Override\n        protected Bundle doInBackground(Void... voids) {\n            ArrayList&lt;String&gt; skuList = new ArrayList&lt;String&gt;();\n            skuList.add(Helper.ITEM_ONE_ID);\n            skuList.add(Helper.ITEM_TWO_ID);\n            skuList.add(Helper.ITEM_THREE_ID);\n            Bundle query = new Bundle();\n            query.putStringArrayList(Helper.ITEM_ID_LIST, skuList);\n            Bundle skuDetails = null;\n            try {\n                skuDetails = mService.getSkuDetails(3, packageName, \"inapp\", query);\n            } catch (RemoteException e) {\n                e.printStackTrace();\n            }\n            return skuDetails;\n        }\n        @Override\n        protected void onPostExecute(Bundle skuDetails) {\n            List&lt;AvailablePurchase&gt; canPurchase = new ArrayList&lt;AvailablePurchase&gt;();\n            int response = skuDetails.getInt(\"RESPONSE_CODE\");\n            if (response == 0) {\n                ArrayList&lt;String&gt; responseList = skuDetails.getStringArrayList(\"DETAILS_LIST\");\n                if(responseList != null){\n                    for (String thisResponse : responseList) {\n                        JSONObject object = null;\n                        try {\n                            object = new JSONObject(thisResponse);\n                            String sku = object.getString(\"productId\");\n                            String price = object.getString(\"price\");\n                            canPurchase.add(new AvailablePurchase(sku, price));\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n            if(checkIfPurchaseIsAvailable(canPurchase, productIds[0])){\n                buyOneButton.setVisibility(View.VISIBLE);\n            }else{\n                buyOneButton.setVisibility(View.GONE);\n            }\n            if(checkIfPurchaseIsAvailable(canPurchase, productIds[1])){\n                buyTwoButton.setVisibility(View.VISIBLE);\n            }else{\n                buyTwoButton.setVisibility(View.GONE);\n            }\n            if(checkIfPurchaseIsAvailable(canPurchase, productIds[2])){\n                buyThreeButton.setVisibility(View.VISIBLE);\n            }else{\n                buyThreeButton.setVisibility(View.GONE);\n            }\n        }\n    }\n    @org.jetbrains.annotations.Contract(\"null, _ -&gt; false\")\n    private boolean checkIfPurchaseIsAvailable(List&lt;AvailablePurchase&gt; all, String productId){\n        if(all == null){ return false;}\n        for(int i = 0; i &lt; all.size(); i++){\n            if(all.get(i).getSku().equals(productId)){\n                return true;\n            }\n        }\n        return false;\n    }\n    public boolean isBillingSupported(){\n        int response = 1;\n        try {\n            response = mService.isBillingSupported(3, getPackageName(), \"inapp\");\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }\n        if(response &gt; 0){\n            return false;\n        }\n        return true;\n    }\n    public void consumePurchaseItem(String purchaseToken){\n        try {\n            int response = mService.consumePurchase(3, getPackageName(), purchaseToken);\n            if(response != 0){\n                return;\n            }\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }\n    }\n    public Bundle getAllUserPurchase(){\n        Bundle ownedItems = null;\n        try {\n            ownedItems = mService.getPurchases(3, getPackageName(), \"inapp\", null);\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }\n        return ownedItems;\n    }\n    public List&lt;UserPurchaseItems&gt; extractAllUserPurchase(Bundle ownedItems){\n        List&lt;UserPurchaseItems&gt; mUserItems = new ArrayList&lt;UserPurchaseItems&gt;();\n        int response = ownedItems.getInt(\"RESPONSE_CODE\");\n        if (response == 0) {\n            ArrayList&lt;String&gt; ownedSkus = ownedItems.getStringArrayList(\"INAPP_PURCHASE_ITEM_LIST\");\n            ArrayList&lt;String&gt;  purchaseDataList = ownedItems.getStringArrayList(\"INAPP_PURCHASE_DATA_LIST\");\n            ArrayList&lt;String&gt;  signatureList = ownedItems.getStringArrayList(\"INAPP_DATA_SIGNATURE_LIST\");\n            String continuationToken = ownedItems.getString(\"INAPP_CONTINUATION_TOKEN\");\n            if(purchaseDataList != null){\n                for (int i = 0; i &lt; purchaseDataList.size(); ++i) {\n                    String purchaseData = purchaseDataList.get(i);\n                    assert signatureList != null;\n                    String signature = signatureList.get(i);\n                    assert ownedSkus != null;\n                    String sku = ownedSkus.get(i);\n                    UserPurchaseItems allItems = new UserPurchaseItems(sku, purchaseData, signature);\n                    mUserItems.add(allItems);\n                }\n            }\n        }\n        return mUserItems;\n    }\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (mService != null) {\n            unbindService(mServiceConn);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Create Helper Package Directory</strong></p>\n\n<p>Create a new package folder and name it helpers. Inside the package, create a new java file Helper.java.</p>\n\n<p><strong>Helper.java</strong></p>\n\n<pre><code>public class Helper {\n    public static final String ITEM_ID_LIST = \"ITEM_ID_LIST\";\n    public static final String ITEM_ONE_ID = \"productone\";\n    public static final String ITEM_TWO_ID = \"producttwo\";\n    public static final String ITEM_THREE_ID = \"productthree\";\n    public static final int RESPONSE_CODE = 1001;\n    public static final String SHARED_PREF = \"shared_pref\";\n    public static final String DEVELOPER_PAYLOAD = \"developer_payload\";\n    public static final String PURCHASE_TOKEN = \"purchase_token\";\n    public static void displayMessage(Context context, String message){\n        Toast.makeText(context.getApplicationContext(), message, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n\n<p>Testing In-App Billing Purchase</p>\n\n<ol>\n<li>Create a Google+ account(don't use main account)</li>\n<li>Add the users that will test the app in your group or community.</li>\n</ol>\n\n<p>Errors You might encounter during In-App purchase testing</p>\n\n<p>the item you requested is not available for purchase</p>\n\n<p>Solution – <a href=\"https://stackoverflow.com/questions/13117081/the-item-you-requested-is-not-available-for-purchase\">According to AndreiBogdan in Stackoverflow</a>,</p>\n\n<blockquote>\n  <p>All credit goes to <a href=\"https://stackoverflow.com/users/879035/inducesmile\">Inducesmile</a> for his <a href=\"https://inducesmile.com/android/android-in-app-billing-v3-purchase-using-serviceconnection-example-tutorial/\" rel=\"noreferrer\">tutorial</a></p>\n</blockquote>\n\n<p>Android Developer Blog also recommends a training class on Selling In-app Products. To see a complete implementation and learn how to test the application, Please check this tutorial: <a href=\"https://developer.android.com/training/in-app-billing/index.html\" rel=\"noreferrer\">Selling In-app Products</a></p>\n"},{"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531521914,"creation_date":1531521914,"answer_id":51333674,"question_id":8735931,"body_markdown":"Okay this is one of those things that doesn&#39;t have very much documentation available online, so I&#39;m going to do my best to explain everything step by step. Taken from my blog post, which is a more detailed version of this (with screenshots), [here on The Millibit][1]. Without further ado,\r\n\r\n**Step One:** Permissions\r\nThis is the easiest step. Navigate to your manifest.xml file and add the following line under your &lt;Manifest&gt; tag:\r\n\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n\r\nThis will give your app the permissions to access In-App Billing. If you are targetting versions above API 22, you will need to make sure that this permission is granted at runtime.\r\n\r\n**Step Two:** Play Console\r\nNow you need to upload your app to the Google Play Console. We are not publishing our app to the public yet (don’t worry), we are just uploading it to the BETA RELEASE section, which will allow us to test In-App Purchases. The reason we need to do this is that Google needs to have some version of your APK uploaded for the billing processes to actually work.\r\n\r\n1. Go to https://play.google.com/apps/publish/\r\n\r\n2. Create the Application\r\n\r\n \r\n\r\n3. Follow the steps to set up your app\r\n\r\n\r\n\r\n4. Go to App Releases\r\n\r\n\r\n\r\n5. Navigate to Beta\r\n\r\n\r\n\r\n6. Create an APK of your app in Android studio and upload it to the Beta production in the Play Console\r\n\r\n\r\n\r\n(before releasing make sure that you have already filled out the Store Listing ,Content Rating and Pricing and Distribution)\r\n\r\n7. Hit the magic button (publish!)\r\n\r\n\r\n\r\n \r\n\r\n**Step Three:** Setup Project\r\nOkay this is the part where you have to copy and paste a bunch of files.\r\n\r\nFirst, grab [this][2] file, download it, and place it under `src/main`It should build itself into a folder\r\nNext, grab [this entire][3] util folder and paste it into `src/java folder.` Then rebuild your project to resolve errors. \r\nThe Util Folder Contains The Following Classes:\r\n\r\n - IabBroadcastReceiver \r\n - IabException \r\n - IabHelper  \r\n - IabResult  \r\n - Inventory    \r\n - Purchase  \r\n - Security  \r\n - SkuDetails\r\n\r\n \r\n\r\n**Step Four:** Create Products\r\n\r\n\r\n1. Create Managed Product\r\n\r\n\r\n\r\n2. Click save and make a “pricing template”\r\n\r\nHere, you will select the price of this product. You can choose the price for different countries, or have it automatically adjust if you just select all countries under your price:\r\n\r\n3. Make sure the in-app product is activated and linked with the correct application in the console one last time.\r\n\r\n\r\n\r\nFinally, note the ID of your product. We will use this ID in the next few steps.\r\n\r\n4. Get your Base64EncodedString\r\n\r\nHead over to “Services &amp; APIs” and grab your Base64EncodedString. Copy and paste this to a notepad somewhere so that you have access to it. Do not share this with anyone, they will be able to do malicious things with it.\r\n\r\n\r\n\r\n**Step Five:** Finally! We can start coding:\r\nWe will first bind to the in-app billing library, and query for what the user has/hasn’t bought. Then, we will buy the product that we set up earlier.\r\n\r\nFirst, import everything we set up earlier:\r\n\r\n    import util.*;\r\n\r\nNow we will use an IabHelper object called mHelper, and we will do everything with this.\r\n\r\n    base64EncodedPublicKey = &quot;&quot;; //PUT YOUR BASE64KEY HERE\r\n    \r\n    mHelper = new IabHelper(this, base64EncodedPublicKey);\r\n    mHelper.enableDebugLogging(false); //set to false in real app\r\n    \r\n    \r\n    mHelper.startSetup(new IabHelper.OnIabSetupFinishedListener() {\r\n        public void onIabSetupFinished(IabResult result) {\r\n            if (!result.isSuccess()) {\r\n                // Oh no, there was a problem.\r\n    \r\n                if (result.getResponse() == 3) {\r\n                    new AlertDialog.Builder(MainActivity.this)\r\n                            .setTitle(&quot;In app billing&quot;)\r\n                            .setMessage(&quot;This device is not compatible with In App Billing, so&quot; +\r\n                                    &quot; you may not be able to buy the premium version on your phone. &quot;)\r\n                            .setPositiveButton(&quot;Okay&quot;, null)\r\n                            .show();\r\n                }\r\n    \r\n                Log.v(TAG, &quot;Problem setting up In-app Billing: &quot; + result);\r\n            } else {\r\n                Log.v(TAG, &quot;YAY, in app billing set up! &quot; + result);\r\n                try {\r\n                    mHelper.queryInventoryAsync(mGotInventoryListener); //Getting inventory of purchases and assigning listener\r\n                } catch (IabHelper.IabAsyncInProgressException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nOkay, let me break down what’s going on here. Basically, we are calling “startSetup” to initialize our “IabHelper”. If the setup is successful, we query what purchases the user already has and store the responses in `mGotInventoryListener`, which we will code next:\r\n\r\n    IabHelper.QueryInventoryFinishedListener mGotInventoryListener\r\n            = new IabHelper.QueryInventoryFinishedListener() {\r\n        public void onQueryInventoryFinished(IabResult result,\r\n                                             Inventory inventory) {\r\n    \r\n            i = inventory;\r\n    \r\n            if (result.isFailure()) {\r\n                // handle error here\r\n    \r\n                Log.v(TAG, &quot;failure in checking if user has purchases&quot;);\r\n            } else {\r\n                // does the user have the premium upgrade?\r\n                if (inventory.hasPurchase(&quot;premium_version&quot;)) {\r\n    \r\n                    premiumEditor.putBoolean(&quot;hasPremium&quot;, true);\r\n                    premiumEditor.commit(); \r\n    \r\n                    Log.v(TAG, &quot;Has purchase, saving in storage&quot;);\r\n    \r\n                } else {\r\n    \r\n                    premiumEditor.putBoolean(&quot;hasPremium&quot;, false);\r\n                    premiumEditor.commit();\r\n    \r\n                    Log.v(TAG, &quot;Doesn&#39;t have purchase, saving in storage&quot;);\r\n    \r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\nThe above code is pretty self-explanatory. Basically, it just checks what purchases the user already has. Now that we know whether or not the user has already purchased our product, we know whether or not to ask them to purchase our item! If they’ve never bought our product before, let’s start a purchase request:\r\n\r\n    public void buyPremium() {\r\n        try {\r\n    \r\n         mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\r\n         mHelper.launchPurchaseFlow(this, &quot;premium_version&quot;, 9, mPurchaseFinishedListener, &quot;SECURITYSTRING&quot;); //Making purchase request and attaching listener\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n    \r\n    mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\r\n    \r\n    \r\n    \r\n    \r\n            new AlertDialog.Builder(MainActivity.this)\r\n                    .setTitle(&quot;Error&quot;)\r\n                    .setMessage(&quot;An error occurred in buying the premium version. Please try again.&quot;)\r\n                    .setPositiveButton(&quot;Okay&quot;, null)\r\n                    .show();\r\n        }\r\n    }\r\n    \r\n    \r\n        @Override\r\n    \r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \r\n        Log.d(TAG, &quot;onActivityResult(&quot; + requestCode + &quot;,&quot; + resultCode + &quot;,&quot; + data);\r\n    \r\n        // Pass on the activity result to the helper for handling\r\n    \r\n        if (!mHelper.handleActivityResult(requestCode, resultCode, data)) {\r\n          \r\n        }\r\n    \r\n        else \r\n            Log.d(TAG, &quot;onActivityResult handled by IABUtil.&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    IabHelper.OnIabPurchaseFinishedListener mPurchaseFinishedListener\r\n            = new IabHelper.OnIabPurchaseFinishedListener() {\r\n        public void onIabPurchaseFinished(IabResult result, Purchase purchase) {\r\n    \r\n            Log.v(TAG, &quot;purchase finished&quot;);\r\n    \r\n            if (purchase != null) {\r\n    \r\n                if (purchase.getSku().equals(&quot;premium_version&quot;)) {\r\n    \r\n                    Toast.makeText(MainActivity.this, &quot;Purchase successful!&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    premiumEditor.putBoolean(&quot;hasPremium&quot;, true);\r\n                    premiumEditor.commit();\r\n                }\r\n            } else {\r\n                return;\r\n            }\r\n            if (result.isFailure()) {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\nHere we purchase the item (with the ID we generated in the play console earlier) with the following:\r\n\r\n   \r\n\r\n     mHelper.launchPurchaseFlow(this, &quot;premium_version&quot;, 9, mPurchaseFinishedListener, &quot;SECURITYSTRING&quot;); //Making purchase request and attaching listener\r\n\r\nNotice that we passed `mPurchaseFinishedListener` into the parameters. This means that the result of the purchase will be returned to this listener. Then, we simply check if the purchase is null, and if not, award the user with whatever feature they bought.\r\n\r\n \r\n\r\nDon’t let the listeners leak! We must destroy them when the app destroys.\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (mHelper != null)\r\n            try {\r\n                mHelper.dispose();\r\n                mHelper = null;\r\n    \r\n            } catch (IabHelper.IabAsyncInProgressException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\nFinally, if you’d like to consume your purchase, making it available for purchase again, you can do so easily. An example of this is if a user bought gas for a virtual car, and it ran out. They need to purchase the same product again, and you can make it available for a second purchase by consuming it:\r\n\r\n    public void consume(){\r\n        \r\n        //MAKING A QUERY TO GET AN ACCURATE INVENTORY\r\n        try {\r\n            mHelper.flagEndAsync(); //If any async is going, make sure we have it stop eventually\r\n    \r\n            mHelper.queryInventoryAsync(mGotInventoryListener); //Getting inventory of purchases and assigning listener\r\n    \r\n            if(i.getPurchase(&quot;gas&quot;)==null){\r\n                Toast.makeText(this, &quot;Already consumed!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } catch (IabHelper.IabAsyncInProgressException e) {\r\n            e.printStackTrace();\r\n    \r\n            Toast.makeText(this, &quot;Error, try again&quot;, Toast.LENGTH_SHORT).show();\r\n            mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\r\n        }\r\n        \r\n        //ACTUALLY CONSUMING\r\n        try {\r\n            mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\r\n            \r\n            this.mHelper.consumeAsync(this.i.getPurchase(&quot;gas&quot;), new IabHelper.OnConsumeFinishedListener() {\r\n                public void onConsumeFinished(Purchase paramAnonymousPurchase, IabResult paramAnonymousIabResult) {\r\n    //resell the gas to them\r\n                }\r\n            });\r\n    \r\n            return;\r\n        } catch (IabHelper.IabAsyncInProgressException localIabAsyncInProgressException) {\r\n            localIabAsyncInProgressException.printStackTrace();\r\n            Toast.makeText(this, &quot;ASYNC IN PROGRESS ALREADY!!!!&quot; +localIabAsyncInProgressException, Toast.LENGTH_LONG).show();\r\n            Log.v(&quot;myTag&quot;, &quot;ASYNC IN PROGRESS ALREADY!!!&quot;);\r\n    \r\n            mHelper.flagEndAsync();\r\n        }\r\n    }\r\n\r\n \r\n\r\nThat’s it! You can now start making money. It’s really that simple!\r\n\r\n\r\n\r\nAgain, if you want a more detailed version of this tutorial, with screenshots and pictures, visit the [original post here][1]. Let me know in the comments if you have any more questions.\r\n \r\n\r\n\r\n  [1]: http://themillibit.com/2018/07/13/how-to-make-money-with-your-android-app/\r\n  [2]: https://github.com/googlesamples/android-play-billing/blob/master/TrivialDrive/app/src/main/aidl/com/android/vending/billing/IInAppBillingService.aidl\r\n  [3]: https://github.com/googlesamples/android-play-billing/tree/master/TrivialDrive/app/src/main/java/com/example/android/trivialdrivesample/util","title":"How to implement In-App Billing in an Android application?","body":"<p>Okay this is one of those things that doesn't have very much documentation available online, so I'm going to do my best to explain everything step by step. Taken from my blog post, which is a more detailed version of this (with screenshots), <a href=\"http://themillibit.com/2018/07/13/how-to-make-money-with-your-android-app/\" rel=\"noreferrer\">here on The Millibit</a>. Without further ado,</p>\n\n<p><strong>Step One:</strong> Permissions\nThis is the easiest step. Navigate to your manifest.xml file and add the following line under your  tag:</p>\n\n<pre><code>&lt;uses-permission android:name=\"com.android.vending.BILLING\" /&gt;\n</code></pre>\n\n<p>This will give your app the permissions to access In-App Billing. If you are targetting versions above API 22, you will need to make sure that this permission is granted at runtime.</p>\n\n<p><strong>Step Two:</strong> Play Console\nNow you need to upload your app to the Google Play Console. We are not publishing our app to the public yet (don’t worry), we are just uploading it to the BETA RELEASE section, which will allow us to test In-App Purchases. The reason we need to do this is that Google needs to have some version of your APK uploaded for the billing processes to actually work.</p>\n\n<ol>\n<li><p>Go to <a href=\"https://play.google.com/apps/publish/\" rel=\"noreferrer\">https://play.google.com/apps/publish/</a></p></li>\n<li><p>Create the Application</p></li>\n<li><p>Follow the steps to set up your app</p></li>\n<li><p>Go to App Releases</p></li>\n<li><p>Navigate to Beta</p></li>\n<li><p>Create an APK of your app in Android studio and upload it to the Beta production in the Play Console</p></li>\n</ol>\n\n<p>(before releasing make sure that you have already filled out the Store Listing ,Content Rating and Pricing and Distribution)</p>\n\n<ol start=\"7\">\n<li>Hit the magic button (publish!)</li>\n</ol>\n\n<p><strong>Step Three:</strong> Setup Project\nOkay this is the part where you have to copy and paste a bunch of files.</p>\n\n<p>First, grab <a href=\"https://github.com/googlesamples/android-play-billing/blob/master/TrivialDrive/app/src/main/aidl/com/android/vending/billing/IInAppBillingService.aidl\" rel=\"noreferrer\">this</a> file, download it, and place it under <code>src/main</code>It should build itself into a folder\nNext, grab <a href=\"https://github.com/googlesamples/android-play-billing/tree/master/TrivialDrive/app/src/main/java/com/example/android/trivialdrivesample/util\" rel=\"noreferrer\">this entire</a> util folder and paste it into <code>src/java folder.</code> Then rebuild your project to resolve errors. \nThe Util Folder Contains The Following Classes:</p>\n\n<ul>\n<li>IabBroadcastReceiver </li>\n<li>IabException </li>\n<li>IabHelper  </li>\n<li>IabResult  </li>\n<li>Inventory    </li>\n<li>Purchase  </li>\n<li>Security  </li>\n<li>SkuDetails</li>\n</ul>\n\n<p><strong>Step Four:</strong> Create Products</p>\n\n<ol>\n<li><p>Create Managed Product</p></li>\n<li><p>Click save and make a “pricing template”</p></li>\n</ol>\n\n<p>Here, you will select the price of this product. You can choose the price for different countries, or have it automatically adjust if you just select all countries under your price:</p>\n\n<ol start=\"3\">\n<li>Make sure the in-app product is activated and linked with the correct application in the console one last time.</li>\n</ol>\n\n<p>Finally, note the ID of your product. We will use this ID in the next few steps.</p>\n\n<ol start=\"4\">\n<li>Get your Base64EncodedString</li>\n</ol>\n\n<p>Head over to “Services &amp; APIs” and grab your Base64EncodedString. Copy and paste this to a notepad somewhere so that you have access to it. Do not share this with anyone, they will be able to do malicious things with it.</p>\n\n<p><strong>Step Five:</strong> Finally! We can start coding:\nWe will first bind to the in-app billing library, and query for what the user has/hasn’t bought. Then, we will buy the product that we set up earlier.</p>\n\n<p>First, import everything we set up earlier:</p>\n\n<pre><code>import util.*;\n</code></pre>\n\n<p>Now we will use an IabHelper object called mHelper, and we will do everything with this.</p>\n\n<pre><code>base64EncodedPublicKey = \"\"; //PUT YOUR BASE64KEY HERE\n\nmHelper = new IabHelper(this, base64EncodedPublicKey);\nmHelper.enableDebugLogging(false); //set to false in real app\n\n\nmHelper.startSetup(new IabHelper.OnIabSetupFinishedListener() {\n    public void onIabSetupFinished(IabResult result) {\n        if (!result.isSuccess()) {\n            // Oh no, there was a problem.\n\n            if (result.getResponse() == 3) {\n                new AlertDialog.Builder(MainActivity.this)\n                        .setTitle(\"In app billing\")\n                        .setMessage(\"This device is not compatible with In App Billing, so\" +\n                                \" you may not be able to buy the premium version on your phone. \")\n                        .setPositiveButton(\"Okay\", null)\n                        .show();\n            }\n\n            Log.v(TAG, \"Problem setting up In-app Billing: \" + result);\n        } else {\n            Log.v(TAG, \"YAY, in app billing set up! \" + result);\n            try {\n                mHelper.queryInventoryAsync(mGotInventoryListener); //Getting inventory of purchases and assigning listener\n            } catch (IabHelper.IabAsyncInProgressException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>Okay, let me break down what’s going on here. Basically, we are calling “startSetup” to initialize our “IabHelper”. If the setup is successful, we query what purchases the user already has and store the responses in <code>mGotInventoryListener</code>, which we will code next:</p>\n\n<pre><code>IabHelper.QueryInventoryFinishedListener mGotInventoryListener\n        = new IabHelper.QueryInventoryFinishedListener() {\n    public void onQueryInventoryFinished(IabResult result,\n                                         Inventory inventory) {\n\n        i = inventory;\n\n        if (result.isFailure()) {\n            // handle error here\n\n            Log.v(TAG, \"failure in checking if user has purchases\");\n        } else {\n            // does the user have the premium upgrade?\n            if (inventory.hasPurchase(\"premium_version\")) {\n\n                premiumEditor.putBoolean(\"hasPremium\", true);\n                premiumEditor.commit(); \n\n                Log.v(TAG, \"Has purchase, saving in storage\");\n\n            } else {\n\n                premiumEditor.putBoolean(\"hasPremium\", false);\n                premiumEditor.commit();\n\n                Log.v(TAG, \"Doesn't have purchase, saving in storage\");\n\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>The above code is pretty self-explanatory. Basically, it just checks what purchases the user already has. Now that we know whether or not the user has already purchased our product, we know whether or not to ask them to purchase our item! If they’ve never bought our product before, let’s start a purchase request:</p>\n\n<pre><code>public void buyPremium() {\n    try {\n\n     mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\n     mHelper.launchPurchaseFlow(this, \"premium_version\", 9, mPurchaseFinishedListener, \"SECURITYSTRING\"); //Making purchase request and attaching listener\n    } catch (Exception e) {\n        e.printStackTrace();\n\nmHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\n\n\n\n\n        new AlertDialog.Builder(MainActivity.this)\n                .setTitle(\"Error\")\n                .setMessage(\"An error occurred in buying the premium version. Please try again.\")\n                .setPositiveButton(\"Okay\", null)\n                .show();\n    }\n}\n\n\n    @Override\n\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n    Log.d(TAG, \"onActivityResult(\" + requestCode + \",\" + resultCode + \",\" + data);\n\n    // Pass on the activity result to the helper for handling\n\n    if (!mHelper.handleActivityResult(requestCode, resultCode, data)) {\n\n    }\n\n    else \n        Log.d(TAG, \"onActivityResult handled by IABUtil.\");\n    }\n\n}\n\nIabHelper.OnIabPurchaseFinishedListener mPurchaseFinishedListener\n        = new IabHelper.OnIabPurchaseFinishedListener() {\n    public void onIabPurchaseFinished(IabResult result, Purchase purchase) {\n\n        Log.v(TAG, \"purchase finished\");\n\n        if (purchase != null) {\n\n            if (purchase.getSku().equals(\"premium_version\")) {\n\n                Toast.makeText(MainActivity.this, \"Purchase successful!\", Toast.LENGTH_SHORT).show();\n\n                premiumEditor.putBoolean(\"hasPremium\", true);\n                premiumEditor.commit();\n            }\n        } else {\n            return;\n        }\n        if (result.isFailure()) {\n            return;\n        }\n    }\n};\n</code></pre>\n\n<p>Here we purchase the item (with the ID we generated in the play console earlier) with the following:</p>\n\n<pre><code> mHelper.launchPurchaseFlow(this, \"premium_version\", 9, mPurchaseFinishedListener, \"SECURITYSTRING\"); //Making purchase request and attaching listener\n</code></pre>\n\n<p>Notice that we passed <code>mPurchaseFinishedListener</code> into the parameters. This means that the result of the purchase will be returned to this listener. Then, we simply check if the purchase is null, and if not, award the user with whatever feature they bought.</p>\n\n<p>Don’t let the listeners leak! We must destroy them when the app destroys.</p>\n\n<pre><code>@Override\npublic void onDestroy() {\n    super.onDestroy();\n    if (mHelper != null)\n        try {\n            mHelper.dispose();\n            mHelper = null;\n\n        } catch (IabHelper.IabAsyncInProgressException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>Finally, if you’d like to consume your purchase, making it available for purchase again, you can do so easily. An example of this is if a user bought gas for a virtual car, and it ran out. They need to purchase the same product again, and you can make it available for a second purchase by consuming it:</p>\n\n<pre><code>public void consume(){\n\n    //MAKING A QUERY TO GET AN ACCURATE INVENTORY\n    try {\n        mHelper.flagEndAsync(); //If any async is going, make sure we have it stop eventually\n\n        mHelper.queryInventoryAsync(mGotInventoryListener); //Getting inventory of purchases and assigning listener\n\n        if(i.getPurchase(\"gas\")==null){\n            Toast.makeText(this, \"Already consumed!\", Toast.LENGTH_SHORT).show();\n        }\n    } catch (IabHelper.IabAsyncInProgressException e) {\n        e.printStackTrace();\n\n        Toast.makeText(this, \"Error, try again\", Toast.LENGTH_SHORT).show();\n        mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\n    }\n\n    //ACTUALLY CONSUMING\n    try {\n        mHelper.flagEndAsync();//If any async is going, make sure we have it stop eventually\n\n        this.mHelper.consumeAsync(this.i.getPurchase(\"gas\"), new IabHelper.OnConsumeFinishedListener() {\n            public void onConsumeFinished(Purchase paramAnonymousPurchase, IabResult paramAnonymousIabResult) {\n//resell the gas to them\n            }\n        });\n\n        return;\n    } catch (IabHelper.IabAsyncInProgressException localIabAsyncInProgressException) {\n        localIabAsyncInProgressException.printStackTrace();\n        Toast.makeText(this, \"ASYNC IN PROGRESS ALREADY!!!!\" +localIabAsyncInProgressException, Toast.LENGTH_LONG).show();\n        Log.v(\"myTag\", \"ASYNC IN PROGRESS ALREADY!!!\");\n\n        mHelper.flagEndAsync();\n    }\n}\n</code></pre>\n\n<p>That’s it! You can now start making money. It’s really that simple!</p>\n\n<p>Again, if you want a more detailed version of this tutorial, with screenshots and pictures, visit the <a href=\"http://themillibit.com/2018/07/13/how-to-make-money-with-your-android-app/\" rel=\"noreferrer\">original post here</a>. Let me know in the comments if you have any more questions.</p>\n"},{"tags":[],"owner":{"account_id":4366153,"reputation":2931,"user_id":3561889,"accept_rate":59,"display_name":"Ucdemir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585765775,"creation_date":1585765775,"answer_id":60977881,"question_id":8735931,"body_markdown":"I have developed Android In app billing library which uses &quot;com.android.billingclient:billing:2.1.0&quot; \r\n\r\nHere are its properties:\r\n\r\n 1. Library is supported for &quot;INAPP&quot;\r\n 2. Subscription will be supported later!\r\n 3. Library use Roomdb for your products, You don’t need implementation to check status of your products\r\n 4. Library use Shared dependency. Your app will be less sized and no multidex needed\r\n 5. Library checks your products status on every time app starts. You can get status(bought or not)!\r\n 6. Every product bought by client need to be &quot; Acknowledged&quot; in SUCCES State. Library is making this for you!\r\n 7. Library support (immediate buy, response late purchase succus, response late purchase reject, user canceled purchase)\r\n\r\n\r\n\r\n[library source][1]\r\n\r\n\r\n  [1]: https://github.com/Ucdemir/Ucdemir-Inn_App_Purchase_v2","title":"How to implement In-App Billing in an Android application?","body":"<p>I have developed Android In app billing library which uses \"com.android.billingclient:billing:2.1.0\" </p>\n\n<p>Here are its properties:</p>\n\n<ol>\n<li>Library is supported for \"INAPP\"</li>\n<li>Subscription will be supported later!</li>\n<li>Library use Roomdb for your products, You don’t need implementation to check status of your products</li>\n<li>Library use Shared dependency. Your app will be less sized and no multidex needed</li>\n<li>Library checks your products status on every time app starts. You can get status(bought or not)!</li>\n<li>Every product bought by client need to be \" Acknowledged\" in SUCCES State. Library is making this for you!</li>\n<li>Library support (immediate buy, response late purchase succus, response late purchase reject, user canceled purchase)</li>\n</ol>\n\n<p><a href=\"https://github.com/Ucdemir/Ucdemir-Inn_App_Purchase_v2\" rel=\"nofollow noreferrer\">library source</a></p>\n"},{"tags":[],"owner":{"account_id":9766935,"reputation":538,"user_id":7240059,"accept_rate":83,"display_name":"Surabhi Choudhary"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1585802462,"creation_date":1585802462,"answer_id":60984341,"question_id":8735931,"body_markdown":"For better understanding of how in-app billing works using google play billing library, refer to the flow chart below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can follow the integration step by step that I have explained in this article :\r\n\r\nhttps://medium.com/@surabhichoudhary/in-app-purchasing-with-google-play-billing-library-6a72e289a78e\r\n\r\nIf you need demo on this, this is the project link : https://github.com/surabhi6/InAppPurchaseDemo\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wvt5s.png","title":"How to implement In-App Billing in an Android application?","body":"<p>For better understanding of how in-app billing works using google play billing library, refer to the flow chart below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wvt5s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wvt5s.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can follow the integration step by step that I have explained in this article :</p>\n\n<p><a href=\"https://medium.com/@surabhichoudhary/in-app-purchasing-with-google-play-billing-library-6a72e289a78e\" rel=\"noreferrer\">https://medium.com/@surabhichoudhary/in-app-purchasing-with-google-play-billing-library-6a72e289a78e</a></p>\n\n<p>If you need demo on this, this is the project link : <a href=\"https://github.com/surabhi6/InAppPurchaseDemo\" rel=\"noreferrer\">https://github.com/surabhi6/InAppPurchaseDemo</a></p>\n"},{"tags":[],"owner":{"account_id":17508398,"reputation":11,"user_id":12697061,"display_name":"Ideal Developer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658212219,"creation_date":1658176803,"answer_id":73028365,"question_id":8735931,"body_markdown":"Basically you need purchase code at two places\r\n\r\nFirstly at your MainActivity where\r\nyour app opens every time, so check purchase statuses there. Need to implement purchasesupdated listener. \r\n\r\nSecondly when button is clicked to initiate purchase. So where your button reside its activity need to \r\nimplement purchasesupdated listener. \r\nIf your button reside under MainActivity then you just need purchase code at one place i.e MainActivity. \r\n\r\nFor more you can follow my working tutorial here:\r\n\r\nhttps://programtown.com/how-to-make-multiple-in-app-purchase-in-android-using-google-play-billing-library/","title":"How to implement In-App Billing in an Android application?","body":"<p>Basically you need purchase code at two places</p>\n<p>Firstly at your MainActivity where\nyour app opens every time, so check purchase statuses there. Need to implement purchasesupdated listener.</p>\n<p>Secondly when button is clicked to initiate purchase. So where your button reside its activity need to\nimplement purchasesupdated listener.\nIf your button reside under MainActivity then you just need purchase code at one place i.e MainActivity.</p>\n<p>For more you can follow my working tutorial here:</p>\n<p><a href=\"https://programtown.com/how-to-make-multiple-in-app-purchase-in-android-using-google-play-billing-library/\" rel=\"nofollow noreferrer\">https://programtown.com/how-to-make-multiple-in-app-purchase-in-android-using-google-play-billing-library/</a></p>\n"}],"owner":{"account_id":270645,"reputation":3968,"user_id":560722,"accept_rate":98,"display_name":"Shlomo Zalman Heigh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53466,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":8736643,"answer_count":8,"score":75,"last_activity_date":1658212219,"creation_date":1325722162,"question_id":8735931,"body_markdown":"It seems that it is quite complicated to implement In-App Billing in an Android app. How could I do this? The sample app from the SDK only has one Activity, which kind of over-simplifies it for an application like mine that has multiple Activities.","title":"How to implement In-App Billing in an Android application?","body":"<p>It seems that it is quite complicated to implement In-App Billing in an Android app. How could I do this? The sample app from the SDK only has one Activity, which kind of over-simplifies it for an application like mine that has multiple Activities.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658212028,"creation_date":1658212028,"answer_id":73032078,"question_id":73030565,"body_markdown":"You&#39;re using a very outdated version of the Protobuf Gradle plugin. Version `0.8.10` (2019) predates Gradle 7 (2021). The issue you&#39;re facing is likely to be fixed by upgrading the plugin.\r\n\r\n```gradle\r\nplugins {\r\n  id &quot;com.google.protobuf&quot; version &quot;0.8.19&quot;\r\n}\r\n```","title":"Gradle 7.5 cannot build project with compile configuration problem","body":"<p>You're using a very outdated version of the Protobuf Gradle plugin. Version <code>0.8.10</code> (2019) predates Gradle 7 (2021). The issue you're facing is likely to be fixed by upgrading the plugin.</p>\n<pre><code>plugins {\n  id &quot;com.google.protobuf&quot; version &quot;0.8.19&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":24490447,"reputation":13,"user_id":18407592,"display_name":"Joe Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73032078,"answer_count":1,"score":1,"last_activity_date":1658212028,"creation_date":1658198726,"question_id":73030565,"body_markdown":"I got a project and it is built with gradle 6 or older version.\r\n\r\nI&#39;ve checked the other stakeoverflow discussion with compile/testCompile problem in gradle 7, and I change all the dependencies from compile/testCompile to api/testImplementation. \r\n\r\nBut it still doesn&#39;t work when I&#39;m doing gradle build.\r\n\r\nIt still return with `Configuration with name &#39;compile&#39; not found`\r\n\r\nI&#39;ve checked this:\r\n1. https://stackoverflow.com/questions/38385680/build-error-with-gradle-could-not-find-method-testcompile\r\n2. https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-api-and-compile-in-gradle\r\n\r\nHere is my root gradle configuration:\r\n\r\n```java\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        // https://github.com/google/protobuf-gradle-plugin\r\n        classpath &#39;com.google.protobuf:protobuf-gradle-plugin:0.8.10&#39;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;java&#39;\r\n    id &#39;java-library&#39;\r\n    id &quot;com.google.protobuf&quot; version &quot;0.8.10&quot;\r\n}\r\n\r\ngroup &#39;com.ght&#39;\r\nversion &#39;61&#39;\r\n\r\nmainClassName = &#39;com.application&#39;\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\nrepositories {\r\n    // jcenter() is no longer support.\r\n//    jcenter()\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        proto {\r\n            srcDir &#39;src/main/protobuf&#39;\r\n            include &#39;**/*.protodevel&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\r\n    implementation group: &#39;com.google.protobuf&#39;, name: &#39;protobuf-java&#39;, version: &#39;3.0.0&#39;\r\n\r\n    // https://mvnrepository.com/artifact/ch.qos.logback/logback-classic\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.1.3&#39;\r\n\r\n    // https://mvnrepository.com/artifact/ch.qos.logback/logback-core\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-core&#39;, version: &#39;1.1.3&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.slf4j/slf4j-implementation\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-implementation&#39;, version: &#39;1.7.26&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.2.1&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.locationtech.jts/jts-core\r\n    implementation group: &#39;org.locationtech.jts&#39;, name: &#39;jts-core&#39;, version: &#39;1.16.0&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.4&#39;\r\n\r\n    // https://mvnrepository.com/artifact/com.vividsolutions/jts\r\n    implementation group: &#39;com.vividsolutions&#39;, name: &#39;jts&#39;, version: &#39;1.13&#39;\r\n\r\n    // https://mvnrepository.com/artifact/com.google.guava/guava\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;19.0&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-math3\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-math3&#39;, version: &#39;3.5&#39;\r\n\r\n    // https://mvnrepository.com/artifact/commons-logging/commons-logging\r\n    implementation group: &#39;commons-logging&#39;, name: &#39;commons-logging&#39;, version: &#39;1.2&#39;\r\n\r\n}\r\n\r\nprotobuf {\r\n    // Configure the protoc executable\r\n    protoc {\r\n        // Download from repositories\r\n        artifact = &#39;com.google.protobuf:protoc:3.0.0&#39;\r\n    }\r\n    generatedFilesBaseDir = &quot;$projectDir/gen&quot;\r\n}\r\n\r\nclean {\r\n    delete protobuf.generatedFilesBaseDir\r\n}\r\n\r\njar{\r\n\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n\r\n    manifest {\r\n        attributes(&#39;Manifest-Version&#39;: archiveVersion, &#39;Main-Class&#39;: &#39;com.application&#39;)\r\n    }\r\n\r\n    exclude &#39;logback-test.xml&#39;\r\n    exclude &#39;**/schema/**&#39;\r\n    exclude &#39;**.proto&#39;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nHere is build error message:\r\n```\r\nA problem occurred configuring root project &#39;application&#39;.\r\n&gt; Configuration with name &#39;compile&#39; not found.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n* Exception is:\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;application&#39;.\r\nat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:84)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:77)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:55)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:255)\r\n.\r\n.\r\n.\r\nCaused by: org.gradle.api.artifacts.UnknownConfigurationException: Configuration with name &#39;compile&#39; not found.\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.createNotFoundException(DefaultConfigurationContainer.java:108)\r\n\tat org.gradle.api.internal.DefaultNamedDomainObjectCollection.getByName(DefaultNamedDomainObjectCollection.java:333)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.getByName(DefaultConfigurationContainer.java:98)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.getByName(DefaultConfigurationContainer.java:50)\r\n.\r\n.\r\n.\r\nat com.google.protobuf.gradle.ProtobufPlugin$_setupExtractIncludeProtosTask_closure21.doCall(ProtobufPlugin.groovy:369)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.util.internal.ClosureBackedAction.execute(ClosureBackedAction.java:73)\r\n\tat org.gradle.util.internal.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\r\n\tat org.gradle.util.internal.ConfigureUtil.configureSelf(ConfigureUtil.java:131)\r\n\tat org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:666)\r\n\tat org.gradle.api.DefaultTask.configure(DefaultTask.java:309)\r\n.\r\n.\r\n.\r\n\r\n\r\n```\r\n\r\ngradle version: gradle 7.5\r\n\r\ngradle JVM version: GraalVM version 17.0.3\r\n\r\nIDE: intellij ide 2022.1.3\r\n\r\nThank you for any help.","title":"Gradle 7.5 cannot build project with compile configuration problem","body":"<p>I got a project and it is built with gradle 6 or older version.</p>\n<p>I've checked the other stakeoverflow discussion with compile/testCompile problem in gradle 7, and I change all the dependencies from compile/testCompile to api/testImplementation.</p>\n<p>But it still doesn't work when I'm doing gradle build.</p>\n<p>It still return with <code>Configuration with name 'compile' not found</code></p>\n<p>I've checked this:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/38385680/build-error-with-gradle-could-not-find-method-testcompile\">Build error with gradle Could not find method testCompile()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-api-and-compile-in-gradle\">What&#39;s the difference between implementation, api and compile in Gradle?</a></li>\n</ol>\n<p>Here is my root gradle configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        // https://github.com/google/protobuf-gradle-plugin\n        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.10'\n    }\n}\n\nplugins {\n    id 'application'\n    id 'java'\n    id 'java-library'\n    id &quot;com.google.protobuf&quot; version &quot;0.8.10&quot;\n}\n\ngroup 'com.ght'\nversion '61'\n\nmainClassName = 'com.application'\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    // jcenter() is no longer support.\n//    jcenter()\n    mavenCentral()\n}\n\nsourceSets {\n    main {\n        proto {\n            srcDir 'src/main/protobuf'\n            include '**/*.protodevel'\n        }\n    }\n}\n\ndependencies {\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n\n    implementation group: 'com.google.protobuf', name: 'protobuf-java', version: '3.0.0'\n\n    // https://mvnrepository.com/artifact/ch.qos.logback/logback-classic\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.1.3'\n\n    // https://mvnrepository.com/artifact/ch.qos.logback/logback-core\n    implementation group: 'ch.qos.logback', name: 'logback-core', version: '1.1.3'\n\n    // https://mvnrepository.com/artifact/org.slf4j/slf4j-implementation\n    implementation group: 'org.slf4j', name: 'slf4j-implementation', version: '1.7.26'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.2.1'\n\n    // https://mvnrepository.com/artifact/org.locationtech.jts/jts-core\n    implementation group: 'org.locationtech.jts', name: 'jts-core', version: '1.16.0'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.4'\n\n    // https://mvnrepository.com/artifact/com.vividsolutions/jts\n    implementation group: 'com.vividsolutions', name: 'jts', version: '1.13'\n\n    // https://mvnrepository.com/artifact/com.google.guava/guava\n    implementation group: 'com.google.guava', name: 'guava', version: '19.0'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-math3\n    implementation group: 'org.apache.commons', name: 'commons-math3', version: '3.5'\n\n    // https://mvnrepository.com/artifact/commons-logging/commons-logging\n    implementation group: 'commons-logging', name: 'commons-logging', version: '1.2'\n\n}\n\nprotobuf {\n    // Configure the protoc executable\n    protoc {\n        // Download from repositories\n        artifact = 'com.google.protobuf:protoc:3.0.0'\n    }\n    generatedFilesBaseDir = &quot;$projectDir/gen&quot;\n}\n\nclean {\n    delete protobuf.generatedFilesBaseDir\n}\n\njar{\n\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n\n    manifest {\n        attributes('Manifest-Version': archiveVersion, 'Main-Class': 'com.application')\n    }\n\n    exclude 'logback-test.xml'\n    exclude '**/schema/**'\n    exclude '**.proto'\n\n\n}\n\n</code></pre>\n<p>Here is build error message:</p>\n<pre><code>A problem occurred configuring root project 'application'.\n&gt; Configuration with name 'compile' not found.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'application'.\nat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:84)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:77)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:55)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:255)\n.\n.\n.\nCaused by: org.gradle.api.artifacts.UnknownConfigurationException: Configuration with name 'compile' not found.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.createNotFoundException(DefaultConfigurationContainer.java:108)\n    at org.gradle.api.internal.DefaultNamedDomainObjectCollection.getByName(DefaultNamedDomainObjectCollection.java:333)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.getByName(DefaultConfigurationContainer.java:98)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.getByName(DefaultConfigurationContainer.java:50)\n.\n.\n.\nat com.google.protobuf.gradle.ProtobufPlugin$_setupExtractIncludeProtosTask_closure21.doCall(ProtobufPlugin.groovy:369)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.util.internal.ClosureBackedAction.execute(ClosureBackedAction.java:73)\n    at org.gradle.util.internal.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\n    at org.gradle.util.internal.ConfigureUtil.configureSelf(ConfigureUtil.java:131)\n    at org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:666)\n    at org.gradle.api.DefaultTask.configure(DefaultTask.java:309)\n.\n.\n.\n\n\n</code></pre>\n<p>gradle version: gradle 7.5</p>\n<p>gradle JVM version: GraalVM version 17.0.3</p>\n<p>IDE: intellij ide 2022.1.3</p>\n<p>Thank you for any help.</p>\n"},{"tags":["java","spring-boot","rest","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658210621,"creation_date":1658210621,"answer_id":73031853,"question_id":73031790,"body_markdown":"&gt; What I want to ask is how efficient it is to be able to copy a lot of data and save it perfectly?\r\n\r\nAs you noted this is not very efficient for large amounts of data.\r\nThe first to improve performance could be to break it into multiple transactions.\r\nDue to JPAs caching behavior it will keep all your changes in the `EntityManager` which might cause high memory consumption and bad performance.\r\n\r\nBut really JPA is the wrong tool for this kind of work in the first place.\r\n\r\nI recommend using straight SQL through a JDBC template. \r\nUsing [`INSERT INTO SELECT` statements][1] you should be able to perform the same actions in a few percent of the time you need using JPA, because you are not loading all the data into memory, but keeping it in the database all the time.\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/sql_insert_into_select.asp","title":"delayed while creating data because it fetched a lot of data beforehand and had to be saved","body":"<blockquote>\n<p>What I want to ask is how efficient it is to be able to copy a lot of data and save it perfectly?</p>\n</blockquote>\n<p>As you noted this is not very efficient for large amounts of data.\nThe first to improve performance could be to break it into multiple transactions.\nDue to JPAs caching behavior it will keep all your changes in the <code>EntityManager</code> which might cause high memory consumption and bad performance.</p>\n<p>But really JPA is the wrong tool for this kind of work in the first place.</p>\n<p>I recommend using straight SQL through a JDBC template.\nUsing <a href=\"https://www.w3schools.com/sql/sql_insert_into_select.asp\" rel=\"nofollow noreferrer\"><code>INSERT INTO SELECT</code> statements</a> you should be able to perform the same actions in a few percent of the time you need using JPA, because you are not loading all the data into memory, but keeping it in the database all the time.</p>\n"},{"tags":[],"owner":{"account_id":12226275,"reputation":102,"user_id":8923778,"display_name":"Bacem W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658211928,"creation_date":1658211586,"answer_id":73032007,"question_id":73031790,"body_markdown":" - You should remove all the intermediate saves and replace them by only\r\n   one in the end of the method \r\n   \r\n   some thing like this :\r\n\r\n\r\n\r\n```\r\n\r\n\t@Transactional\r\n\t@Override\r\n\tpublic void create(String status, String revision) {\r\n\t\tTableA tableA = new TableA();\r\n\t\ttableA.setStatus(status);\r\n\r\n\t\tif (status.equals(&quot;Revision&quot;)) {\r\n\t\t\ttableA.setRevision(revision);\r\n\r\n\t\t\t//Clone Field 2\r\n\t\t\tField2 field2Prev = tableAPrev.getField2();\r\n\t\t\tField2 field2Next = new Field2();\r\n\t\t\tBeanUtils.copyProperties(field2Prev, field2Next, &quot;id&quot;);\r\n\t\t\tfield2Next.setTableA(tableANext);\r\n\t\t\ttableANext.setField2(field2Next);\r\n\r\n\t\t\t//Clone Field 3\r\n\t\t\tField3 field3Prev = tableAPrev.getField3();\r\n\t\t\tField3 field3Next = new Field3();\r\n\t\t\tBeanUtils.copyProperties(field3Prev, field3Next, &quot;id&quot;);\r\n\t\t\tfield3Next.setTableA(tableANext);\r\n\t\t\ttableANext.setField3(field3Next);\r\n\r\n\t\t\t//Clone Field 4\r\n\t\t\tList&lt;Field4&gt; field4Prev = tableAPrev.getField4();\r\n\t\t\tList&lt;Field4&gt; field4Next = new ArrayList&lt;&gt;();\r\n\t\t\tif (!field4Prev.isEmpty()) {\r\n\t\t\t\tfor (int i = 0; i &lt; field4Prev.size(); i++) {\r\n\t\t\t\t\tField4 field4 = new Field4();\r\n\t\t\t\t\tBeanUtils.copyProperties(field4Prev.get(i), field4, &quot;id&quot;, &quot;tableA&quot;);\r\n\t\t\t\t\tfield4.setTableA(tableANext);\r\n\t\t\t\t\tfield4Next.add(field4);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Clone Field 5\r\n\t\t\tField5 field5Prev = tableAPrev.getField5();\r\n\t\t\tField5 field5Next = new Field5();\r\n\t\t\tBeanUtils.copyProperties(field5Prev, field5Next, &quot;id&quot;);\r\n\t\t\tfield5Next.setTableA(tableANext);\r\n\t\t\ttableANext.setField5(field5Next);\r\n\r\n\t\t\t//Clone Field 6\r\n\t\t\tList&lt;Field6&gt; field6Prev = tableAPrev.getField6();\r\n\t\t\tList&lt;Field6&gt; field6Next = new ArrayList&lt;&gt;();\r\n\t\t\tif (!field6Prev.isEmpty()) {\r\n\t\t\t\tfor (int i = 0; i &lt; field6Prev.size(); i++) {\r\n\t\t\t\t\tField6 field6 = new Field6();\r\n\t\t\t\t\tBeanUtils.copyProperties(field6Prev.get(i), field6, &quot;id&quot;, &quot;tableA&quot;);\r\n\t\t\t\t\tfield6.setTableA(tableANext);\r\n\t\t\t\t\tfield6Next.add(field6);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Clone Field 7\r\n\t\t\tField7 field7Prev = tableAPrev.getField7();\r\n\t\t\tField7 field7Next = new Field7();\r\n\t\t\tBeanUtils.copyProperties(field7Prev, field7Next, &quot;id&quot;);\r\n\t\t\tfield7Next.setTableA(tableANext);\r\n\t\t\ttableANext.setField7(field7Next);\r\n\r\n\t\t\t//Clone Field 8\r\n\t\t\tField8 field8Prev = tableAPrev.getField8();\r\n\t\t\tif (field8Prev != null) {\r\n\t\t\t\tField8 field8Next = new Field8();\r\n\t\t\t\tList&lt;Field8A&gt; field8ANext = new ArrayList&lt;&gt;();\r\n\t\t\t\tBeanUtils.copyProperties(field8Prev, field8Next, &quot;id&quot;, &quot;tableA&quot;, &quot;dataChild8A&quot;);\r\n\t\t\t\tfield8Next.setTableA(tableANext);\r\n\t\t\t\tfield8Next.setDataChild8A(field8ANext);\r\n\t\t\t\tfield8Repository.save(field8Next);\r\n\r\n\t\t\t\tList&lt;Field8A&gt; field8APrev = field8Prev.getDataChild8A();\r\n\t\t\t\tif (!field8APrev.isEmpty()) {\r\n\t\t\t\t\tfor (int i = 0; i &lt; field8APrev.size(); i++) {\r\n\t\t\t\t\t\tField8A field8A = new Field8A();\r\n\t\t\t\t\t\tBeanUtils.copyProperties(field8APrev, field8A, &quot;id&quot;, &quot;field8&quot;);\r\n\t\t\t\t\t\tfield8A.setField8(field8Next);\r\n\t\t\t\t\t\tfield8ANext.add(field8A);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// etc until Field 13\r\n\r\n\t\t} \r\n\r\n\t\tsave(tableANext);\r\n\t\tsave(tableA);\r\n    }\r\n\r\n```","title":"delayed while creating data because it fetched a lot of data beforehand and had to be saved","body":"<ul>\n<li><p>You should remove all the intermediate saves and replace them by only\none in the end of the method</p>\n<p>some thing like this :</p>\n</li>\n</ul>\n<pre><code>\n    @Transactional\n    @Override\n    public void create(String status, String revision) {\n        TableA tableA = new TableA();\n        tableA.setStatus(status);\n\n        if (status.equals(&quot;Revision&quot;)) {\n            tableA.setRevision(revision);\n\n            //Clone Field 2\n            Field2 field2Prev = tableAPrev.getField2();\n            Field2 field2Next = new Field2();\n            BeanUtils.copyProperties(field2Prev, field2Next, &quot;id&quot;);\n            field2Next.setTableA(tableANext);\n            tableANext.setField2(field2Next);\n\n            //Clone Field 3\n            Field3 field3Prev = tableAPrev.getField3();\n            Field3 field3Next = new Field3();\n            BeanUtils.copyProperties(field3Prev, field3Next, &quot;id&quot;);\n            field3Next.setTableA(tableANext);\n            tableANext.setField3(field3Next);\n\n            //Clone Field 4\n            List&lt;Field4&gt; field4Prev = tableAPrev.getField4();\n            List&lt;Field4&gt; field4Next = new ArrayList&lt;&gt;();\n            if (!field4Prev.isEmpty()) {\n                for (int i = 0; i &lt; field4Prev.size(); i++) {\n                    Field4 field4 = new Field4();\n                    BeanUtils.copyProperties(field4Prev.get(i), field4, &quot;id&quot;, &quot;tableA&quot;);\n                    field4.setTableA(tableANext);\n                    field4Next.add(field4);\n                }\n            }\n\n            //Clone Field 5\n            Field5 field5Prev = tableAPrev.getField5();\n            Field5 field5Next = new Field5();\n            BeanUtils.copyProperties(field5Prev, field5Next, &quot;id&quot;);\n            field5Next.setTableA(tableANext);\n            tableANext.setField5(field5Next);\n\n            //Clone Field 6\n            List&lt;Field6&gt; field6Prev = tableAPrev.getField6();\n            List&lt;Field6&gt; field6Next = new ArrayList&lt;&gt;();\n            if (!field6Prev.isEmpty()) {\n                for (int i = 0; i &lt; field6Prev.size(); i++) {\n                    Field6 field6 = new Field6();\n                    BeanUtils.copyProperties(field6Prev.get(i), field6, &quot;id&quot;, &quot;tableA&quot;);\n                    field6.setTableA(tableANext);\n                    field6Next.add(field6);\n                }\n            }\n\n            //Clone Field 7\n            Field7 field7Prev = tableAPrev.getField7();\n            Field7 field7Next = new Field7();\n            BeanUtils.copyProperties(field7Prev, field7Next, &quot;id&quot;);\n            field7Next.setTableA(tableANext);\n            tableANext.setField7(field7Next);\n\n            //Clone Field 8\n            Field8 field8Prev = tableAPrev.getField8();\n            if (field8Prev != null) {\n                Field8 field8Next = new Field8();\n                List&lt;Field8A&gt; field8ANext = new ArrayList&lt;&gt;();\n                BeanUtils.copyProperties(field8Prev, field8Next, &quot;id&quot;, &quot;tableA&quot;, &quot;dataChild8A&quot;);\n                field8Next.setTableA(tableANext);\n                field8Next.setDataChild8A(field8ANext);\n                field8Repository.save(field8Next);\n\n                List&lt;Field8A&gt; field8APrev = field8Prev.getDataChild8A();\n                if (!field8APrev.isEmpty()) {\n                    for (int i = 0; i &lt; field8APrev.size(); i++) {\n                        Field8A field8A = new Field8A();\n                        BeanUtils.copyProperties(field8APrev, field8A, &quot;id&quot;, &quot;field8&quot;);\n                        field8A.setField8(field8Next);\n                        field8ANext.add(field8A);\n                    }\n                }\n            }\n\n            // etc until Field 13\n\n        } \n\n        save(tableANext);\n        save(tableA);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73032007,"answer_count":2,"score":0,"last_activity_date":1658211928,"creation_date":1658210172,"question_id":73031790,"body_markdown":"I want to create data from a copy of the previous data and save it with the new data.\r\n\r\n    @Entity\r\n    @Table(name = &quot;tableA&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class TableA {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = javax.persistence.GenerationType.IDENTITY)\r\n        private Long id; \r\n    \r\n        private String status;\r\n        \r\n        private int revision;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnoreProperties(&quot;phMt&quot;)\r\n        private Field1 field1;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnore\r\n        private Field2 field2;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnore\r\n        private Field3 field3;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\r\n        @JsonIgnore\r\n        private List&lt;Field4&gt; field4;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnore\r\n        private Field5 field5;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\r\n        @JsonIgnore\r\n        private List&lt;Field6&gt; field6;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnore\r\n        private Field7 field7;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;)\r\n        @JsonIgnore\r\n        private Field8 field8;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnore\r\n        private Field9 field9;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\r\n        @PrimaryKeyJoinColumn\r\n        @JsonIgnore\r\n        private Field10 field10;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\r\n        @JsonIgnore\r\n        private List&lt;Field11&gt; field11;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\r\n        @JsonIgnore\r\n        private List&lt;Field12&gt; field12;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\r\n        @JsonIgnore\r\n        private List&lt;Field13&gt; field13;\r\n    \r\n    }\r\n\r\nFor example I want to create data in table A with revision 1, what I want is when the data is created automatically copy data from revision 0 that was previously in tableA. Here&#39;s a function that I created to create new data that is the same as the data in revision 0.\r\n\r\n    @Transactional\r\n    @Override\r\n    public void create(String status, String revision) {\r\n        TableA tableA = new TableA();\r\n        tableA.setStatus(status);\r\n    \r\n        if (status.equals(&quot;Revision&quot;)) {\r\n            tableA.setRevision(revision);\r\n    \r\n            //Clone Field 2\r\n            Field2 field2Prev = tableAPrev.getField2();\r\n            Field2 field2Next = new Field2();\r\n            BeanUtils.copyProperties(field2Prev, field2Next, &quot;id&quot;);\r\n            field2Next.setTableA(tableANext);\r\n            tableANext.setField2(field2Next);\r\n            save(tableANext);\r\n    \r\n            //Clone Field 3\r\n            Field3 field3Prev = tableAPrev.getField3();\r\n            Field3 field3Next = new Field3();\r\n            BeanUtils.copyProperties(field3Prev, field3Next, &quot;id&quot;);\r\n            field3Next.setTableA(tableANext);\r\n            tableANext.setField3(field3Next);\r\n            save(tableANext);\r\n    \r\n            //Clone Field 4\r\n            List&lt;Field4&gt; field4Prev = tableAPrev.getField4();\r\n            List&lt;Field4&gt; field4Next = new ArrayList&lt;&gt;();\r\n            if (!field4Prev.isEmpty()) {\r\n                for (int i = 0; i &lt; field4Prev.size(); i++) {\r\n                    Field4 field4 = new Field4();\r\n                    BeanUtils.copyProperties(field4Prev.get(i), field4, &quot;id&quot;, &quot;tableA&quot;);\r\n                    field4.setTableA(tableANext);\r\n                    field4Next.add(field4);\r\n                }\r\n                field4Repository.saveAll(field4Next);\r\n            }\r\n    \r\n            //Clone Field 5\r\n            Field5 field5Prev = tableAPrev.getField5();\r\n            Field5 field5Next = new Field5();\r\n            BeanUtils.copyProperties(field5Prev, field5Next, &quot;id&quot;);\r\n            field5Next.setTableA(tableANext);\r\n            tableANext.setField5(field5Next);\r\n            save(tableANext);\r\n    \r\n            //Clone Field 6\r\n            List&lt;Field6&gt; field6Prev = tableAPrev.getField6();\r\n            List&lt;Field6&gt; field6Next = new ArrayList&lt;&gt;();\r\n            if (!field6Prev.isEmpty()) {\r\n                for (int i = 0; i &lt; field6Prev.size(); i++) {\r\n                    Field6 field6 = new Field6();\r\n                    BeanUtils.copyProperties(field6Prev.get(i), field6, &quot;id&quot;, &quot;tableA&quot;);\r\n                    field6.setTableA(tableANext);\r\n                    field6Next.add(field6);\r\n                }\r\n                field6Repository.saveAll(field6Next);\r\n            }\r\n    \r\n            //Clone Field 7\r\n            Field7 field7Prev = tableAPrev.getField7();\r\n            Field7 field7Next = new Field7();\r\n            BeanUtils.copyProperties(field7Prev, field7Next, &quot;id&quot;);\r\n            field7Next.setTableA(tableANext);\r\n            tableANext.setField7(field7Next);\r\n            save(tableANext);\r\n    \r\n            //Clone Field 8\r\n            Field8 field8Prev = tableAPrev.getField8();\r\n            if (field8Prev != null) {\r\n                Field8 field8Next = new Field8();\r\n                List&lt;Field8A&gt; field8ANext = new ArrayList&lt;&gt;();\r\n                BeanUtils.copyProperties(field8Prev, field8Next, &quot;id&quot;, &quot;tableA&quot;, &quot;dataChild8A&quot;);\r\n                field8Next.setTableA(tableANext);\r\n                field8Next.setDataChild8A(field8ANext);\r\n                field8Repository.save(field8Next);\r\n    \r\n                List&lt;Field8A&gt; field8APrev = field8Prev.getDataChild8A();\r\n                if (!field8APrev.isEmpty()) {\r\n                    for (int i = 0; i &lt; field8APrev.size(); i++) {\r\n                        Field8A field8A = new Field8A();\r\n                        BeanUtils.copyProperties(field8APrev, field8A, &quot;id&quot;, &quot;field8&quot;);\r\n                        field8A.setField8(field8Next);\r\n                        field8ANext.add(field8A);\r\n                    }\r\n                    field8ARepository.saveAll(field8ANext);\r\n                }\r\n            }\r\n    \r\n            // etc until Field 13\r\n    \r\n        } \r\n        save(tableA);\r\n    }\r\n\r\nBut when the API is hit it doesn&#39;t show a response and is delayed. And the process takes up a lot of memory. What I want to ask is how efficient it is to be able to copy a lot of data and save it perfectly?\r\n\r\n","title":"delayed while creating data because it fetched a lot of data beforehand and had to be saved","body":"<p>I want to create data from a copy of the previous data and save it with the new data.</p>\n<pre><code>@Entity\n@Table(name = &quot;tableA&quot;)\n@Getter\n@Setter\npublic class TableA {\n\n    @Id\n    @GeneratedValue(strategy = javax.persistence.GenerationType.IDENTITY)\n    private Long id; \n\n    private String status;\n    \n    private int revision;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnoreProperties(&quot;phMt&quot;)\n    private Field1 field1;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnore\n    private Field2 field2;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnore\n    private Field3 field3;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\n    @JsonIgnore\n    private List&lt;Field4&gt; field4;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnore\n    private Field5 field5;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\n    @JsonIgnore\n    private List&lt;Field6&gt; field6;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnore\n    private Field7 field7;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;)\n    @JsonIgnore\n    private Field8 field8;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnore\n    private Field9 field9;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tableA&quot;)\n    @PrimaryKeyJoinColumn\n    @JsonIgnore\n    private Field10 field10;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\n    @JsonIgnore\n    private List&lt;Field11&gt; field11;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\n    @JsonIgnore\n    private List&lt;Field12&gt; field12;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;tableA&quot;, orphanRemoval = true)\n    @JsonIgnore\n    private List&lt;Field13&gt; field13;\n\n}\n</code></pre>\n<p>For example I want to create data in table A with revision 1, what I want is when the data is created automatically copy data from revision 0 that was previously in tableA. Here's a function that I created to create new data that is the same as the data in revision 0.</p>\n<pre><code>@Transactional\n@Override\npublic void create(String status, String revision) {\n    TableA tableA = new TableA();\n    tableA.setStatus(status);\n\n    if (status.equals(&quot;Revision&quot;)) {\n        tableA.setRevision(revision);\n\n        //Clone Field 2\n        Field2 field2Prev = tableAPrev.getField2();\n        Field2 field2Next = new Field2();\n        BeanUtils.copyProperties(field2Prev, field2Next, &quot;id&quot;);\n        field2Next.setTableA(tableANext);\n        tableANext.setField2(field2Next);\n        save(tableANext);\n\n        //Clone Field 3\n        Field3 field3Prev = tableAPrev.getField3();\n        Field3 field3Next = new Field3();\n        BeanUtils.copyProperties(field3Prev, field3Next, &quot;id&quot;);\n        field3Next.setTableA(tableANext);\n        tableANext.setField3(field3Next);\n        save(tableANext);\n\n        //Clone Field 4\n        List&lt;Field4&gt; field4Prev = tableAPrev.getField4();\n        List&lt;Field4&gt; field4Next = new ArrayList&lt;&gt;();\n        if (!field4Prev.isEmpty()) {\n            for (int i = 0; i &lt; field4Prev.size(); i++) {\n                Field4 field4 = new Field4();\n                BeanUtils.copyProperties(field4Prev.get(i), field4, &quot;id&quot;, &quot;tableA&quot;);\n                field4.setTableA(tableANext);\n                field4Next.add(field4);\n            }\n            field4Repository.saveAll(field4Next);\n        }\n\n        //Clone Field 5\n        Field5 field5Prev = tableAPrev.getField5();\n        Field5 field5Next = new Field5();\n        BeanUtils.copyProperties(field5Prev, field5Next, &quot;id&quot;);\n        field5Next.setTableA(tableANext);\n        tableANext.setField5(field5Next);\n        save(tableANext);\n\n        //Clone Field 6\n        List&lt;Field6&gt; field6Prev = tableAPrev.getField6();\n        List&lt;Field6&gt; field6Next = new ArrayList&lt;&gt;();\n        if (!field6Prev.isEmpty()) {\n            for (int i = 0; i &lt; field6Prev.size(); i++) {\n                Field6 field6 = new Field6();\n                BeanUtils.copyProperties(field6Prev.get(i), field6, &quot;id&quot;, &quot;tableA&quot;);\n                field6.setTableA(tableANext);\n                field6Next.add(field6);\n            }\n            field6Repository.saveAll(field6Next);\n        }\n\n        //Clone Field 7\n        Field7 field7Prev = tableAPrev.getField7();\n        Field7 field7Next = new Field7();\n        BeanUtils.copyProperties(field7Prev, field7Next, &quot;id&quot;);\n        field7Next.setTableA(tableANext);\n        tableANext.setField7(field7Next);\n        save(tableANext);\n\n        //Clone Field 8\n        Field8 field8Prev = tableAPrev.getField8();\n        if (field8Prev != null) {\n            Field8 field8Next = new Field8();\n            List&lt;Field8A&gt; field8ANext = new ArrayList&lt;&gt;();\n            BeanUtils.copyProperties(field8Prev, field8Next, &quot;id&quot;, &quot;tableA&quot;, &quot;dataChild8A&quot;);\n            field8Next.setTableA(tableANext);\n            field8Next.setDataChild8A(field8ANext);\n            field8Repository.save(field8Next);\n\n            List&lt;Field8A&gt; field8APrev = field8Prev.getDataChild8A();\n            if (!field8APrev.isEmpty()) {\n                for (int i = 0; i &lt; field8APrev.size(); i++) {\n                    Field8A field8A = new Field8A();\n                    BeanUtils.copyProperties(field8APrev, field8A, &quot;id&quot;, &quot;field8&quot;);\n                    field8A.setField8(field8Next);\n                    field8ANext.add(field8A);\n                }\n                field8ARepository.saveAll(field8ANext);\n            }\n        }\n\n        // etc until Field 13\n\n    } \n    save(tableA);\n}\n</code></pre>\n<p>But when the API is hit it doesn't show a response and is delayed. And the process takes up a lot of memory. What I want to ask is how efficient it is to be able to copy a lot of data and save it perfectly?</p>\n"},{"tags":["java","android","android-studio","android-layout","android-source"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1657738937,"post_id":72942873,"comment_id":128884640,"body_markdown":"Please add more details like maybe some basic code, and the error trace log","body":"Please add more details like maybe some basic code, and the error trace log"},{"owner":{"display_name":"user14349738"},"score":0,"creation_date":1657790170,"post_id":72942873,"comment_id":128895884,"body_markdown":"Unable to create application com.sasken.libservice.SaskenLibraryApplication: java.lang.SecurityException:\n07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6767)\n07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.app.ActivityThread.access$1500(ActivityThread.java:256)\n07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2091)\n07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:106)","body":"Unable to create application com.sasken.libservice.SaskenLibraryApplication: java.lang.SecurityException: 07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.app.ActivityThread.handleBindApplication(ActivityThr&zwnj;&#8203;ead.java:6767) 07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.app.ActivityThread.access$1500(ActivityThread.java:2&zwnj;&#8203;56) 07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.app.ActivityThread$H.handleMessage(ActivityThread.ja&zwnj;&#8203;va:2091) 07-14 20:06:10.718  8314  8314 E AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:106)"},{"owner":{"display_name":"user14349738"},"score":0,"creation_date":1657790232,"post_id":72942873,"comment_id":128895906,"body_markdown":"These are the crash logs im getting","body":"These are the crash logs im getting"},{"owner":{"account_id":3477541,"reputation":1048,"user_id":9042612,"accept_rate":62,"display_name":"GNK"},"score":0,"creation_date":1658123859,"post_id":72942873,"comment_id":128963407,"body_markdown":"Can you snip your code?","body":"Can you snip your code?"},{"owner":{"display_name":"user14349738"},"score":0,"creation_date":1658210858,"post_id":72942873,"comment_id":128988112,"body_markdown":"Thank you all for your response, it&#39;s solved, actually.","body":"Thank you all for your response, it&#39;s solved, actually."}],"answers":[{"tags":[],"owner":{"display_name":"user14349738"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658211332,"creation_date":1658211332,"answer_id":73031973,"question_id":72942873,"body_markdown":"Initially, there were some updates for the branch, so I updated those. After that, I started the &quot;make clobber&quot; not &quot;make clean&quot; and then I did the &quot;make&quot;. During the make, there were two options for config.txt file to choose(one is to update this file and other is to modify), here i did the update &amp; again did the make. Now it&#39;s working fine.","title":"Unable to create application in AOSP","body":"<p>Initially, there were some updates for the branch, so I updated those. After that, I started the &quot;make clobber&quot; not &quot;make clean&quot; and then I did the &quot;make&quot;. During the make, there were two options for config.txt file to choose(one is to update this file and other is to modify), here i did the update &amp; again did the make. Now it's working fine.</p>\n"}],"owner":{"display_name":"user14349738"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658211332,"creation_date":1657562750,"question_id":72942873,"body_markdown":"Actually, im trying to add a source code of app in the AOSP but when i do the &quot;make&quot; and launch the emulator, the app is there but it&#39;s crashing, in the logcat it says &quot;unable to create application&quot; securityException. Each and every mk file is correct but the app is crashing. ","title":"Unable to create application in AOSP","body":"<p>Actually, im trying to add a source code of app in the AOSP but when i do the &quot;make&quot; and launch the emulator, the app is there but it's crashing, in the logcat it says &quot;unable to create application&quot; securityException. Each and every mk file is correct but the app is crashing.</p>\n"},{"tags":["java","string","bufferedreader"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658204035,"post_id":73030931,"comment_id":128986917,"body_markdown":"If you want to be efficient you could construct a regex expression that contains all the ENUM and does a single check on the line rather than a `for` loof that loops each line for every ENUM. See here for how that might be done [Java regular expression OR operator](https://stackoverflow.com/questions/2031805/java-regular-expression-or-operator)","body":"If you want to be efficient you could construct a regex expression that contains all the ENUM and does a single check on the line rather than a <code>for</code> loof that loops each line for every ENUM. See here for how that might be done <a href=\"https://stackoverflow.com/questions/2031805/java-regular-expression-or-operator\">Java regular expression OR operator</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658204158,"post_id":73030931,"comment_id":128986938,"body_markdown":"If all of the methods to be called on the line had the same signature, I&#39;d suggest putting that on the enum, but it looks like they don&#39;t.","body":"If all of the methods to be called on the line had the same signature, I&#39;d suggest putting that on the enum, but it looks like they don&#39;t."},{"owner":{"account_id":24669153,"reputation":3,"user_id":18564366,"display_name":"Another Joe"},"score":0,"creation_date":1658204259,"post_id":73030931,"comment_id":128986963,"body_markdown":"Thanks for the response! I looked into regex expressions but it seems that would just return a boolean. Do you have any suggestions for if the regex evaluates to true? In particular, how would I gather which one of my ENUM values matched?","body":"Thanks for the response! I looked into regex expressions but it seems that would just return a boolean. Do you have any suggestions for if the regex evaluates to true? In particular, how would I gather which one of my ENUM values matched?"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1658204382,"post_id":73030931,"comment_id":128986985,"body_markdown":"Could one line have multiple matches (from Enum).  From your current implementation it seems you are only interested in first match?","body":"Could one line have multiple matches (from Enum).  From your current implementation it seems you are only interested in first match?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658204506,"post_id":73030931,"comment_id":128987000,"body_markdown":"For the regex idea it would just help you work out quickly if a line contained one of you ENUM or not. By doing that you only do heavy processing on the lines that require it, rather than on all lines. Unless you are running mission-critical code or serving thousands of simultaneous connections then your current option works just fine, and there is no reason to make it more efficient.","body":"For the regex idea it would just help you work out quickly if a line contained one of you ENUM or not. By doing that you only do heavy processing on the lines that require it, rather than on all lines. Unless you are running mission-critical code or serving thousands of simultaneous connections then your current option works just fine, and there is no reason to make it more efficient."},{"owner":{"account_id":24669153,"reputation":3,"user_id":18564366,"display_name":"Another Joe"},"score":0,"creation_date":1658204526,"post_id":73030931,"comment_id":128987004,"body_markdown":"@Tintin No, each line will only have exactly one ENUM match. These are generated text files with a predictable output.","body":"@Tintin No, each line will only have exactly one ENUM match. These are generated text files with a predictable output."},{"owner":{"account_id":24669153,"reputation":3,"user_id":18564366,"display_name":"Another Joe"},"score":0,"creation_date":1658204594,"post_id":73030931,"comment_id":128987019,"body_markdown":"@sorifiend I understand what you are saying now, thank you for all your assistance!","body":"@sorifiend I understand what you are saying now, thank you for all your assistance!"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658204776,"post_id":73030931,"comment_id":128987047,"body_markdown":"Further reading on `switch` vs `if/else` chains here: [if else vs switch performance in java](https://stackoverflow.com/questions/33051931/if-else-vs-switch-performance-in-java)","body":"Further reading on <code>switch</code> vs <code>if&#47;else</code> chains here: <a href=\"https://stackoverflow.com/questions/33051931/if-else-vs-switch-performance-in-java\">if else vs switch performance in java</a>"},{"owner":{"account_id":24669153,"reputation":3,"user_id":18564366,"display_name":"Another Joe"},"score":0,"creation_date":1658205133,"post_id":73030931,"comment_id":128987104,"body_markdown":"@sorifiend Thank you again, this is a great explination.","body":"@sorifiend Thank you again, this is a great explination."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658211100,"creation_date":1658210668,"answer_id":73031864,"question_id":73030931,"body_markdown":"I cannot improve over the core of your code: the looping on `values()` of the enum, performing a `String#contains` for each enum object’s string, and using a `switch`.  I can make a few minor suggestions.\r\n\r\nI suggest you *not* override the `toString` method on your enum. The `Object#toString` method is generally best used only for debugging and logging, not logic or presentation. \r\n\r\nYour string passed to constructor of the enum is likely similar to the idea of a *display name* commonly seen in such enums. The formal enum name (all caps) is used internally within Java, while the display name is used for display to the user or exchanged with external systems. See the [`Month`][1] and [`DayOfWeek`][2] enums as examples offering a `getDisplayName` method.\r\n\r\nAlso, an enum should be named in the singular. This avoids confusion with any collections of the enum’s objects.\r\n\r\nBy the way, looks like you have a stray SPACE in your second enum&#39;s argument.\r\n\r\nAt first I thought it would help to have a list of all the display names, and a map of display name to enum object. However, in the end neither is needed for your purpose. I kept those as they might prove interesting. \r\n\r\n```java\r\npublic enum GameFileKey\r\n{\r\n    ANTE( &quot;posts ante&quot; ),\r\n    SEAT( &quot;Seat&quot; );\r\n\r\n    private String displayName = null;\r\n\r\n    private static final List &lt; String &gt; allDisplayNames = Arrays.stream( GameFileKey.values() ).map( GameFileKey :: getDisplayName ).toList();\r\n    private static final Map &lt; String, GameFileKey &gt; mapOfDisplayNameToGameFileKey = Arrays.stream( GameFileKey.values() ).collect( Collectors.toUnmodifiableMap( GameFileKey :: getDisplayName , Function.identity() ) );\r\n\r\n    GameFileKey ( String str ) { this.displayName = str; }\r\n\r\n    public String getDisplayName ( ) { return this.displayName; }\r\n\r\n    public static GameFileKey forDisplayName ( final String displayName )\r\n    {\r\n        return\r\n                Objects.requireNonNull(\r\n                        GameFileKey.mapOfDisplayNameToGameFileKey.get( displayName ) ,\r\n                        &quot;None of the &quot; + GameFileKey.class.getCanonicalName() + &quot; enum objects has a display name of: &quot; + displayName + &quot;. Message # 4dcefee2-4aa2-48cf-bf66-9a4bde02ac37.&quot; );\r\n    }\r\n\r\n    public static List &lt; String &gt; allDisplayNames ( ) { return GameFileKey.allDisplayNames; }\r\n}\r\n```\r\n\r\nYou can use a stream of the lines of your file being processed. Just FYI, not necessarily better than your code.\r\n\r\n```java\r\npublic class Demo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        Demo app = new Demo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        try\r\n        {\r\n            Path path = Demo.getFilePathToRead();\r\n            Stream &lt; String &gt; lines = Files.lines( path );\r\n            lines.forEach(\r\n                    line -&gt; {\r\n                        for ( GameFileKey gameKey : GameFileKey.values() )\r\n                        {\r\n                            if ( line.contains( gameKey.getDisplayName() ) )\r\n                            {\r\n                                switch ( gameKey )\r\n                                {\r\n                                    case SEAT -&gt; this.seatAndPlayerAssignment( line );\r\n                                    case ANTE -&gt; this.playerJoinLate( line );\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n        catch ( IOException e )\r\n        {\r\n            throw new RuntimeException( e );\r\n        }\r\n    }\r\n\r\n    private void playerJoinLate ( String line )\r\n    {\r\n        System.out.println( &quot;line = &quot; + line );\r\n    }\r\n\r\n    private void seatAndPlayerAssignment ( String line )\r\n    {\r\n        System.out.println( &quot;line = &quot; + line );\r\n    }\r\n\r\n    public static Path getFilePathToRead ( ) throws IOException\r\n    {\r\n        Path tempFile = Files.createTempFile( &quot;bogus&quot; , &quot;.txt&quot; );\r\n        Files.write( tempFile , &quot;apple\\nSeat\\norange\\nposts ante\\n&quot;.getBytes() );\r\n        return tempFile;\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;line = Seat\r\n&gt;\r\n&gt;line = posts ante\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html","title":"How to efficiently check if read line from Buffered reader contains a string from an enum list","body":"<p>I cannot improve over the core of your code: the looping on <code>values()</code> of the enum, performing a <code>String#contains</code> for each enum object’s string, and using a <code>switch</code>.  I can make a few minor suggestions.</p>\n<p>I suggest you <em>not</em> override the <code>toString</code> method on your enum. The <code>Object#toString</code> method is generally best used only for debugging and logging, not logic or presentation.</p>\n<p>Your string passed to constructor of the enum is likely similar to the idea of a <em>display name</em> commonly seen in such enums. The formal enum name (all caps) is used internally within Java, while the display name is used for display to the user or exchanged with external systems. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>DayOfWeek</code></a> enums as examples offering a <code>getDisplayName</code> method.</p>\n<p>Also, an enum should be named in the singular. This avoids confusion with any collections of the enum’s objects.</p>\n<p>By the way, looks like you have a stray SPACE in your second enum's argument.</p>\n<p>At first I thought it would help to have a list of all the display names, and a map of display name to enum object. However, in the end neither is needed for your purpose. I kept those as they might prove interesting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum GameFileKey\n{\n    ANTE( &quot;posts ante&quot; ),\n    SEAT( &quot;Seat&quot; );\n\n    private String displayName = null;\n\n    private static final List &lt; String &gt; allDisplayNames = Arrays.stream( GameFileKey.values() ).map( GameFileKey :: getDisplayName ).toList();\n    private static final Map &lt; String, GameFileKey &gt; mapOfDisplayNameToGameFileKey = Arrays.stream( GameFileKey.values() ).collect( Collectors.toUnmodifiableMap( GameFileKey :: getDisplayName , Function.identity() ) );\n\n    GameFileKey ( String str ) { this.displayName = str; }\n\n    public String getDisplayName ( ) { return this.displayName; }\n\n    public static GameFileKey forDisplayName ( final String displayName )\n    {\n        return\n                Objects.requireNonNull(\n                        GameFileKey.mapOfDisplayNameToGameFileKey.get( displayName ) ,\n                        &quot;None of the &quot; + GameFileKey.class.getCanonicalName() + &quot; enum objects has a display name of: &quot; + displayName + &quot;. Message # 4dcefee2-4aa2-48cf-bf66-9a4bde02ac37.&quot; );\n    }\n\n    public static List &lt; String &gt; allDisplayNames ( ) { return GameFileKey.allDisplayNames; }\n}\n</code></pre>\n<p>You can use a stream of the lines of your file being processed. Just FYI, not necessarily better than your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo\n{\n    public static void main ( String[] args )\n    {\n        Demo app = new Demo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        try\n        {\n            Path path = Demo.getFilePathToRead();\n            Stream &lt; String &gt; lines = Files.lines( path );\n            lines.forEach(\n                    line -&gt; {\n                        for ( GameFileKey gameKey : GameFileKey.values() )\n                        {\n                            if ( line.contains( gameKey.getDisplayName() ) )\n                            {\n                                switch ( gameKey )\n                                {\n                                    case SEAT -&gt; this.seatAndPlayerAssignment( line );\n                                    case ANTE -&gt; this.playerJoinLate( line );\n                                }\n                            }\n                        }\n                    }\n            );\n        }\n        catch ( IOException e )\n        {\n            throw new RuntimeException( e );\n        }\n    }\n\n    private void playerJoinLate ( String line )\n    {\n        System.out.println( &quot;line = &quot; + line );\n    }\n\n    private void seatAndPlayerAssignment ( String line )\n    {\n        System.out.println( &quot;line = &quot; + line );\n    }\n\n    public static Path getFilePathToRead ( ) throws IOException\n    {\n        Path tempFile = Files.createTempFile( &quot;bogus&quot; , &quot;.txt&quot; );\n        Files.write( tempFile , &quot;apple\\nSeat\\norange\\nposts ante\\n&quot;.getBytes() );\n        return tempFile;\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>line = Seat</p>\n<p>line = posts ante</p>\n</blockquote>\n"}],"owner":{"account_id":24669153,"reputation":3,"user_id":18564366,"display_name":"Another Joe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73031864,"answer_count":1,"score":0,"last_activity_date":1658211100,"creation_date":1658202796,"question_id":73030931,"body_markdown":"I am a computer science university student working on my first &#39;big&#39; project outside of class. I&#39;m attempting to read through large text files (2,000 - 3,000 lines of text), line by line with buffered reader. When a keyword from a list of enums is located, I want it to send the current line from buffered reader to its appropriate method to be handled appropriatley. \r\n\r\nI have a solution, but I have a feeling in my gut that there is a much better way to handle this situation. Any suggestions or feedback would be greatly appreciated.\r\n\r\n**Current Solution**\r\nI am looping through the the list of enums, then checking if the current enum&#39;s toString return is in the current line from buffered reader using the String.contains method. \r\nIf the enum is located, the enum is used in a switch statement for the appropriate method call. (I have 13 total cases just wanted to keep the code sample short). \r\n\r\n``` \r\ntry (BufferedReader reader = new BufferedReader(new FileReader(inputFile.getAbsoluteFile()))){\r\n\r\n    while ((currentLine = reader.readLine()) != null) {\r\n        \r\n        for (GameFileKeys gameKey : GameFileKeys.values()) {\r\n            \r\n            if (currentLine.contains(gameKey.toString())) {\r\n                switch (gameKey) {\r\n                    case SEAT -&gt; seatAndPlayerAssignment(currentTableArr, currentLine);\r\n                    case ANTE -&gt; playerJoinLate(currentLine);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n***Previous Solution*** \r\nOriginally, I had a nasty list of if statements checking if the current line contained one of the keywords and then handled it appropriatley. Clearly that is far from optimal, but my gut tells me that my current solution is also less than optimal. \r\n\r\n***\r\n\r\n```\r\ntry (BufferedReader reader = new BufferedReader(new FileReader(inputFile.getAbsoluteFile()))){\r\n\r\n    while ((currentLine = reader.readLine()) != null) {\r\n        \r\n        if(currentLine.contains(GameFileKey.SEAT){\r\n            seatAndPlayerAssignment(currentTableArr, currentLine);\r\n        }\r\n        else if(currentLine.contains(GameFileKey.ANTE){\r\n            playerJoinLate(currentLine);           \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n***Enum Class*** \r\nIn case you need this, or have any general feedback for how I&#39;m implementing my enums. \r\n\r\n```\r\npublic enum GameFileKeys {\r\n    ANTE(&quot;posts ante&quot;),\r\n    SEAT(&quot;Seat &quot;);\r\n\r\n    private final String gameKey;\r\n\r\n    GameFileKeys(String str) {\r\n        this.gameKey = str;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return gameKey;\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to efficiently check if read line from Buffered reader contains a string from an enum list","body":"<p>I am a computer science university student working on my first 'big' project outside of class. I'm attempting to read through large text files (2,000 - 3,000 lines of text), line by line with buffered reader. When a keyword from a list of enums is located, I want it to send the current line from buffered reader to its appropriate method to be handled appropriatley.</p>\n<p>I have a solution, but I have a feeling in my gut that there is a much better way to handle this situation. Any suggestions or feedback would be greatly appreciated.</p>\n<p><strong>Current Solution</strong>\nI am looping through the the list of enums, then checking if the current enum's toString return is in the current line from buffered reader using the String.contains method.\nIf the enum is located, the enum is used in a switch statement for the appropriate method call. (I have 13 total cases just wanted to keep the code sample short).</p>\n<pre><code>try (BufferedReader reader = new BufferedReader(new FileReader(inputFile.getAbsoluteFile()))){\n\n    while ((currentLine = reader.readLine()) != null) {\n        \n        for (GameFileKeys gameKey : GameFileKeys.values()) {\n            \n            if (currentLine.contains(gameKey.toString())) {\n                switch (gameKey) {\n                    case SEAT -&gt; seatAndPlayerAssignment(currentTableArr, currentLine);\n                    case ANTE -&gt; playerJoinLate(currentLine);\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p><em><strong>Previous Solution</strong></em>\nOriginally, I had a nasty list of if statements checking if the current line contained one of the keywords and then handled it appropriatley. Clearly that is far from optimal, but my gut tells me that my current solution is also less than optimal.</p>\n<hr />\n<pre><code>try (BufferedReader reader = new BufferedReader(new FileReader(inputFile.getAbsoluteFile()))){\n\n    while ((currentLine = reader.readLine()) != null) {\n        \n        if(currentLine.contains(GameFileKey.SEAT){\n            seatAndPlayerAssignment(currentTableArr, currentLine);\n        }\n        else if(currentLine.contains(GameFileKey.ANTE){\n            playerJoinLate(currentLine);           \n        }\n    }\n}\n</code></pre>\n<p><em><strong>Enum Class</strong></em>\nIn case you need this, or have any general feedback for how I'm implementing my enums.</p>\n<pre><code>public enum GameFileKeys {\n    ANTE(&quot;posts ante&quot;),\n    SEAT(&quot;Seat &quot;);\n\n    private final String gameKey;\n\n    GameFileKeys(String str) {\n        this.gameKey = str;\n    }\n\n    @Override\n    public String toString() {\n        return gameKey;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","jdbc","failover"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1658145950,"post_id":73021995,"comment_id":128970565,"body_markdown":"maybe mysql proxy is a better approach, so the client doesn&#39;t notice when one is down.","body":"maybe mysql proxy is a better approach, so the client doesn&#39;t notice when one is down."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658202152,"post_id":73021995,"comment_id":128986582,"body_markdown":"Would you post some code?","body":"Would you post some code?"},{"owner":{"account_id":4852940,"reputation":23,"user_id":3914774,"display_name":"Abid Hasan"},"score":0,"creation_date":1658210546,"post_id":73021995,"comment_id":128988044,"body_markdown":"Hi @HoRn Updated in main post","body":"Hi @HoRn Updated in main post"}],"owner":{"account_id":4852940,"reputation":23,"user_id":3914774,"display_name":"Abid Hasan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658210967,"creation_date":1658145646,"question_id":73021995,"body_markdown":"I have an application that uses MySQL fail-over via a connection url: \r\n\r\n    jdbc:mysql://172.17.0.4:3306,172.17.0.3:3306/db_name?autoReconnect=true&amp;failOverReadOnly=false \r\n\r\nNow when primary db is down then it should move to secondary connection and application flow should work as expected. \r\n\r\nNow the problem happens when moving to secondary db. It takes too long to move/execute the queries, causing the flow to take much longer than expected. \r\n\r\nI have checked already with db and there&#39;s no slow query issues. I guess it&#39;s something to do with fail-over and with checking the states. So, any idea what might be causing this issue or how to resolve this delay?\r\n\r\nI am also using c3p0 to manage the connections pools. Already tried with `initialTimeout` and `maxReconnects` but no luck so far.\r\n\r\nDataSource\r\n\r\n      &lt;bean id=&quot;productionDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n        &lt;property name=&quot;description&quot; value=&quot;integration_ds&quot;/&gt;\r\n        &lt;!-- configuration pool via c3p0--&gt;\r\n        &lt;property name=&quot;acquireIncrement&quot; value=&quot;${datasource.acquireIncrement}&quot;/&gt;\r\n        &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;${datasource.idleConnectionTestPeriod}&quot;/&gt;\r\n        &lt;!-- seconds --&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;${datasource.maxPoolSize}&quot;/&gt;\r\n        &lt;property name=&quot;maxStatements&quot; value=&quot;${datasource.maxStatements}&quot;/&gt;\r\n        &lt;property name=&quot;maxStatementsPerConnection&quot; value=&quot;${datasource.maxStatementsPerConnection}&quot;/&gt;\r\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;${datasource.minPoolSize}&quot;/&gt;\r\n        &lt;property name=&quot;initialPoolSize&quot; value=&quot;${datasource.initialPoolSize}&quot;/&gt;\r\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;${datasource.maxIdleTime}&quot;/&gt;\r\n        &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;${datasource.acquireRetryAttempts}&quot;/&gt;\r\n        &lt;property name=&quot;acquireRetryDelay&quot; value=&quot;${datasource.acquireRetryDelay}&quot;/&gt;\r\n        &lt;property name=&quot;breakAfterAcquireFailure&quot; value=&quot;${datasource.breakAfterAcquireFailure}&quot;/&gt;\r\n        &lt;property name=&quot;debugUnreturnedConnectionStackTraces&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nProperties\r\n\r\n\r\n    datasource.acquireIncrement=1\r\n    datasource.idleConnectionTestPeriod=1000\r\n    datasource.maxPoolSize=10\r\n    datasource.maxStatements=600\r\n    datasource.minPoolSize=5\r\n    datasource.initialPoolSize=5\r\n    datasource.maxIdleTime=7200\r\n    #datasource.acquireRetryAttempts=5\r\n    datasource.acquireRetryAttempts=1\r\n    #datasource.acquireRetryDelay=5000\r\n    #datasource.acquireRetryDelay=1000\r\n    datasource.acquireRetryDelay=100\r\n    datasource.breakAfterAcquireFailure=false\r\n    datasource.maxStatementsPerConnection=3\r\n    datasource.checkoutTimeout=100\r\n\r\nDAO\r\n\r\n        private static final String findByAppIdHql = &quot;select app from AppImpl app where app.appId = ?&quot;;\r\n        final Query query = sf.getCurrentSession().createQuery(findByAppIdHql).setString(0, appId);\r\n        query.setCacheable(true);\r\n        query.setCacheRegion(&quot;app_query_cache&quot;);\r\n        query.setCacheMode(CacheMode.NORMAL);\r\n        List&lt;App&gt; apps = query.list();","title":"Queries take too long after MySQL fail-over","body":"<p>I have an application that uses MySQL fail-over via a connection url:</p>\n<pre><code>jdbc:mysql://172.17.0.4:3306,172.17.0.3:3306/db_name?autoReconnect=true&amp;failOverReadOnly=false \n</code></pre>\n<p>Now when primary db is down then it should move to secondary connection and application flow should work as expected.</p>\n<p>Now the problem happens when moving to secondary db. It takes too long to move/execute the queries, causing the flow to take much longer than expected.</p>\n<p>I have checked already with db and there's no slow query issues. I guess it's something to do with fail-over and with checking the states. So, any idea what might be causing this issue or how to resolve this delay?</p>\n<p>I am also using c3p0 to manage the connections pools. Already tried with <code>initialTimeout</code> and <code>maxReconnects</code> but no luck so far.</p>\n<p>DataSource</p>\n<pre><code>  &lt;bean id=&quot;productionDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\n    &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt;\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt;\n    &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\n    &lt;property name=&quot;description&quot; value=&quot;integration_ds&quot;/&gt;\n    &lt;!-- configuration pool via c3p0--&gt;\n    &lt;property name=&quot;acquireIncrement&quot; value=&quot;${datasource.acquireIncrement}&quot;/&gt;\n    &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;${datasource.idleConnectionTestPeriod}&quot;/&gt;\n    &lt;!-- seconds --&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;${datasource.maxPoolSize}&quot;/&gt;\n    &lt;property name=&quot;maxStatements&quot; value=&quot;${datasource.maxStatements}&quot;/&gt;\n    &lt;property name=&quot;maxStatementsPerConnection&quot; value=&quot;${datasource.maxStatementsPerConnection}&quot;/&gt;\n    &lt;property name=&quot;minPoolSize&quot; value=&quot;${datasource.minPoolSize}&quot;/&gt;\n    &lt;property name=&quot;initialPoolSize&quot; value=&quot;${datasource.initialPoolSize}&quot;/&gt;\n    &lt;property name=&quot;maxIdleTime&quot; value=&quot;${datasource.maxIdleTime}&quot;/&gt;\n    &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;${datasource.acquireRetryAttempts}&quot;/&gt;\n    &lt;property name=&quot;acquireRetryDelay&quot; value=&quot;${datasource.acquireRetryDelay}&quot;/&gt;\n    &lt;property name=&quot;breakAfterAcquireFailure&quot; value=&quot;${datasource.breakAfterAcquireFailure}&quot;/&gt;\n    &lt;property name=&quot;debugUnreturnedConnectionStackTraces&quot; value=&quot;true&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Properties</p>\n<pre><code>datasource.acquireIncrement=1\ndatasource.idleConnectionTestPeriod=1000\ndatasource.maxPoolSize=10\ndatasource.maxStatements=600\ndatasource.minPoolSize=5\ndatasource.initialPoolSize=5\ndatasource.maxIdleTime=7200\n#datasource.acquireRetryAttempts=5\ndatasource.acquireRetryAttempts=1\n#datasource.acquireRetryDelay=5000\n#datasource.acquireRetryDelay=1000\ndatasource.acquireRetryDelay=100\ndatasource.breakAfterAcquireFailure=false\ndatasource.maxStatementsPerConnection=3\ndatasource.checkoutTimeout=100\n</code></pre>\n<p>DAO</p>\n<pre><code>    private static final String findByAppIdHql = &quot;select app from AppImpl app where app.appId = ?&quot;;\n    final Query query = sf.getCurrentSession().createQuery(findByAppIdHql).setString(0, appId);\n    query.setCacheable(true);\n    query.setCacheRegion(&quot;app_query_cache&quot;);\n    query.setCacheMode(CacheMode.NORMAL);\n    List&lt;App&gt; apps = query.list();\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":20227615,"reputation":959,"user_id":14835041,"display_name":"SeungwooLee"},"score":0,"creation_date":1608539801,"post_id":65389124,"comment_id":115605115,"body_markdown":"Check pub/usb backlog metric at cloud monitoring. Is it lower than 10 sec?","body":"Check pub/usb backlog metric at cloud monitoring. Is it lower than 10 sec?"},{"owner":{"account_id":8831621,"reputation":691,"user_id":6597774,"accept_rate":60,"display_name":"jlyh"},"score":0,"creation_date":1608540526,"post_id":65389124,"comment_id":115605362,"body_markdown":"Yes, it looks like the oldest unacked message is something like 1-2s","body":"Yes, it looks like the oldest unacked message is something like 1-2s"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1608553869,"post_id":65389124,"comment_id":115610710,"body_markdown":"Do you use windows in your pipeline? If so, which type? Do you use feature such as allow lateness (if so, what&#39;s the value) or aggregation such as average?","body":"Do you use windows in your pipeline? If so, which type? Do you use feature such as allow lateness (if so, what&#39;s the value) or aggregation such as average?"},{"owner":{"account_id":397854,"reputation":195,"user_id":762220,"accept_rate":57,"display_name":"sees"},"score":0,"creation_date":1608725756,"post_id":65389124,"comment_id":115666737,"body_markdown":"I use fixed_window type and allow_lateness set to 7 days. I have the same problem. Can you give me some advices?","body":"I use fixed_window type and allow_lateness set to 7 days. I have the same problem. Can you give me some advices?"},{"owner":{"account_id":8831621,"reputation":691,"user_id":6597774,"accept_rate":60,"display_name":"jlyh"},"score":0,"creation_date":1608961065,"post_id":65389124,"comment_id":115719324,"body_markdown":"I&#39;m not currently doing any windowing or batching, its a purely streaming job..","body":"I&#39;m not currently doing any windowing or batching, its a purely streaming job.."}],"answers":[{"tags":[],"owner":{"account_id":20227615,"reputation":959,"user_id":14835041,"display_name":"SeungwooLee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608621452,"creation_date":1608618604,"answer_id":65404143,"question_id":65389124,"body_markdown":"I searched Google dataflow document, and found a clue.\r\n\r\nAccording to [document][1], Dataflow tends to balance between the number of workers and the number of persistent disks.\r\n\r\nThis could be a cause of problem.\r\n\r\nIf you don&#39;t use Streaming Engine, the Dataflow service allocates between 1 to 15 Persistent Disks to each worker.\r\n\r\nWhen your Dataflow needs specific number of worker node(9~14), It tends to be maintain 15 worker nodes because persistent disk will be distributed equally at 15 worker nodes(1 PD per nodes).\r\n\r\nBefore 11-12 DEC, Your Dataflow would have needed 8 or less number of workers so downscale process succeed because PD will be distributed well at that numbers.\r\n\r\nThis process is described in Dataflow document.\r\n\r\n&gt; For example, if your pipeline needs 3 or 4 workers in steady state,\r\n&gt; you could set --maxNumWorkers=15. The pipeline automatically scales\r\n&gt; between 1 and 15 workers, using 1, 2, 3, 4, 5, 8, or 15 workers, which\r\n&gt; corresponds to 15, 8, 5, 4, 3, 2, or 1 Persistent Disks per worker,\r\n&gt; respectively.\r\n\r\nAs a result, Your Dataflow have maintained the number of worker nodes at 15 until it needs 8 or less workers nodes.\r\n\r\nTo resolve this problem, Raise your maxNumworkers more than 15.\r\n\r\nIt will be incur slight increase in cost, but downscale will be successfully proceed.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/resources/faq#what_is_the_scaling_range_for_streaming_autoscaling_pipelines","title":"Dataflow streaming job not scaling down","body":"<p>I searched Google dataflow document, and found a clue.</p>\n<p>According to <a href=\"https://cloud.google.com/dataflow/docs/resources/faq#what_is_the_scaling_range_for_streaming_autoscaling_pipelines\" rel=\"nofollow noreferrer\">document</a>, Dataflow tends to balance between the number of workers and the number of persistent disks.</p>\n<p>This could be a cause of problem.</p>\n<p>If you don't use Streaming Engine, the Dataflow service allocates between 1 to 15 Persistent Disks to each worker.</p>\n<p>When your Dataflow needs specific number of worker node(9~14), It tends to be maintain 15 worker nodes because persistent disk will be distributed equally at 15 worker nodes(1 PD per nodes).</p>\n<p>Before 11-12 DEC, Your Dataflow would have needed 8 or less number of workers so downscale process succeed because PD will be distributed well at that numbers.</p>\n<p>This process is described in Dataflow document.</p>\n<blockquote>\n<p>For example, if your pipeline needs 3 or 4 workers in steady state,\nyou could set --maxNumWorkers=15. The pipeline automatically scales\nbetween 1 and 15 workers, using 1, 2, 3, 4, 5, 8, or 15 workers, which\ncorresponds to 15, 8, 5, 4, 3, 2, or 1 Persistent Disks per worker,\nrespectively.</p>\n</blockquote>\n<p>As a result, Your Dataflow have maintained the number of worker nodes at 15 until it needs 8 or less workers nodes.</p>\n<p>To resolve this problem, Raise your maxNumworkers more than 15.</p>\n<p>It will be incur slight increase in cost, but downscale will be successfully proceed.</p>\n"},{"tags":[],"owner":{"account_id":11363220,"reputation":241,"user_id":8330850,"display_name":"Somnath De"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610360346,"creation_date":1610360346,"answer_id":65664969,"question_id":65389124,"body_markdown":"This issue was faced by us as well. The streaming dataflow jobs get drained automatically yesterday night and the issue is not resolved. Looks like a google issue. Please restart your dataflows.","title":"Dataflow streaming job not scaling down","body":"<p>This issue was faced by us as well. The streaming dataflow jobs get drained automatically yesterday night and the issue is not resolved. Looks like a google issue. Please restart your dataflows.</p>\n"},{"tags":[],"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658210172,"creation_date":1658210172,"answer_id":73031789,"question_id":65389124,"body_markdown":"Dataflow is pretty unstable I guess, we face such issues once in every two months. Only option is to restart the job.","title":"Dataflow streaming job not scaling down","body":"<p>Dataflow is pretty unstable I guess, we face such issues once in every two months. Only option is to restart the job.</p>\n"}],"owner":{"account_id":8831621,"reputation":691,"user_id":6597774,"accept_rate":60,"display_name":"jlyh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1658210172,"creation_date":1608536825,"question_id":65389124,"body_markdown":"I have a dataflow streaming job that is processing data consumed from a pubsub topic and transforms/ writes the data to a bigtable instance. Autoscaling settings are: \r\n\r\n```\r\nautoscalingAlgorithm=THROUGHPUT_BASED\r\nmaxNumWorkers=15\r\n```\r\n\r\nThe last job had been running for about 1 month (Job ID: 2020-11-22_23_08_42-17274274260380601237). Prior to ~11-12 Dec (2020), it was running okay, i.e. the autoscaling works as expected, with higher throughput (higher CPU utilization) more workers are being utilized, and when the throughput decreases (correspondingly CPU utilization), it scales back to 1 worker. However, since 11-12 Dec, there has been a permanent increase in dataflow workers to the maximum number (15) which don&#39;t scale back down, resulting in high cost for our Dataflow usage.\r\n\r\nAs mentioned in the documentation (Ref: https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#autoscaling): If a streaming pipeline backlog is lower than 10 seconds and workers are utilizing on average less than 75% of the CPUs for a period of a couple minutes, Dataflow scales down. After scaling down, workers utilize on average, 75% of their CPUs. However, since 11-12 Dec this has not been happening. After stabilizing, the CPU utilization for workers are around ~6%, which is way below the levels for scaling down, except it doesn&#39;t.\r\n\r\nLooking at the throughput traffic for the particular pubsub topic, published messages remained quite consistent over the past 1 month with no particular spikes in traffic. There are also no particular errors with writing to bigtable that I can observe. \r\n\r\nTried redeploying the dataflow streaming job twice with the same effect. Not sure whether anyone else is facing similar issues, appreciate any advice on where else I can look or troubleshoot. Thanks in advance!","title":"Dataflow streaming job not scaling down","body":"<p>I have a dataflow streaming job that is processing data consumed from a pubsub topic and transforms/ writes the data to a bigtable instance. Autoscaling settings are:</p>\n<pre><code>autoscalingAlgorithm=THROUGHPUT_BASED\nmaxNumWorkers=15\n</code></pre>\n<p>The last job had been running for about 1 month (Job ID: 2020-11-22_23_08_42-17274274260380601237). Prior to ~11-12 Dec (2020), it was running okay, i.e. the autoscaling works as expected, with higher throughput (higher CPU utilization) more workers are being utilized, and when the throughput decreases (correspondingly CPU utilization), it scales back to 1 worker. However, since 11-12 Dec, there has been a permanent increase in dataflow workers to the maximum number (15) which don't scale back down, resulting in high cost for our Dataflow usage.</p>\n<p>As mentioned in the documentation (Ref: <a href=\"https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#autoscaling\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#autoscaling</a>): If a streaming pipeline backlog is lower than 10 seconds and workers are utilizing on average less than 75% of the CPUs for a period of a couple minutes, Dataflow scales down. After scaling down, workers utilize on average, 75% of their CPUs. However, since 11-12 Dec this has not been happening. After stabilizing, the CPU utilization for workers are around ~6%, which is way below the levels for scaling down, except it doesn't.</p>\n<p>Looking at the throughput traffic for the particular pubsub topic, published messages remained quite consistent over the past 1 month with no particular spikes in traffic. There are also no particular errors with writing to bigtable that I can observe.</p>\n<p>Tried redeploying the dataflow streaming job twice with the same effect. Not sure whether anyone else is facing similar issues, appreciate any advice on where else I can look or troubleshoot. Thanks in advance!</p>\n"},{"tags":["java","swing","jframe","rounded-corners","antialiasing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1658208684,"post_id":73029490,"comment_id":128987678,"body_markdown":"The code that paints a JFrame (Window) is native system code.  You can try larger circles (50, 50) or (100 100).","body":"The code that paints a JFrame (Window) is native system code.  You can try larger circles (50, 50) or (100 100)."}],"owner":{"account_id":21188398,"reputation":29,"user_id":15581318,"display_name":"Peeyur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658208696,"creation_date":1658185477,"question_id":73029490,"body_markdown":"Good day!\r\nSo I like the idea of having rounded corners. So I added them. But there&#39;s quite a big catch! The corners look pretty terrible. They bring a new definition to &#39;jagged&#39;. That&#39;s why I&#39;m here! I just couldn&#39;t find anyone who had the same problem.\r\n\r\nCode I used: `frame.setShape(new RoundRectangle2D.Double(0, 0, 500, 325, 20, 20));`\r\n\r\nMy problem is that I can&#39;t figure out how to antialias the rounded corners of a JFrame. You can do it with images, but that&#39;s different. Any ideas?\r\n\r\nThanks in advance!\r\n-Me","title":"How to give JFrame antialiased rounded corners?","body":"<p>Good day!\nSo I like the idea of having rounded corners. So I added them. But there's quite a big catch! The corners look pretty terrible. They bring a new definition to 'jagged'. That's why I'm here! I just couldn't find anyone who had the same problem.</p>\n<p>Code I used: <code>frame.setShape(new RoundRectangle2D.Double(0, 0, 500, 325, 20, 20));</code></p>\n<p>My problem is that I can't figure out how to antialias the rounded corners of a JFrame. You can do it with images, but that's different. Any ideas?</p>\n<p>Thanks in advance!\n-Me</p>\n"},{"tags":["java","android","gif","android-glide"],"answers":[{"tags":[],"owner":{"account_id":12701027,"reputation":894,"user_id":9227755,"display_name":"Subhasmith Thapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658179434,"creation_date":1658176836,"answer_id":73028373,"question_id":73028118,"body_markdown":"Change your code when you are initialising Glide with this. \r\n\r\n```\r\nGlide.with(this).asGif().load(R.raw. earth).into(img_1);\r\n```\r\n","title":"Gif is not working for the first time using glide","body":"<p>Change your code when you are initialising Glide with this.</p>\n<pre><code>Glide.with(this).asGif().load(R.raw. earth).into(img_1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658208094,"creation_date":1658208094,"answer_id":73031490,"question_id":73028118,"body_markdown":"Try this!\r\n\r\n \r\n\r\n     Glide.with(this)\r\n                    .asGif()\r\n                    .load(R.raw._img)\r\n                    .centerCrop()\r\n                    .into(new ImageViewTarget&lt;GifDrawable&gt;(img) {\r\n                        @Override\r\n                        protected void setResource(@Nullable GifDrawable resource) {\r\n                            img.setImageDrawable(resource);\r\n                        }\r\n                    });\r\n\r\nAdd dependencies build.gradle(App Level) \r\n\r\n  \r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.13.2&#39;","title":"Gif is not working for the first time using glide","body":"<p>Try this!</p>\n<pre><code> Glide.with(this)\n                .asGif()\n                .load(R.raw._img)\n                .centerCrop()\n                .into(new ImageViewTarget&lt;GifDrawable&gt;(img) {\n                    @Override\n                    protected void setResource(@Nullable GifDrawable resource) {\n                        img.setImageDrawable(resource);\n                    }\n                });\n</code></pre>\n<p>Add dependencies build.gradle(App Level)</p>\n<pre><code>implementation 'com.github.bumptech.glide:glide:4.13.2'\n</code></pre>\n"}],"owner":{"account_id":25065028,"reputation":19,"user_id":18919463,"display_name":"Elparaguas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658208094,"creation_date":1658175286,"question_id":73028118,"body_markdown":"I am making an app that has a list of two items that have two gifs, one in each (the same gif). As you can see in the video, when you click on the gif, the gif is not shown in motion and it is shown as a solid image, but when you click the right or left arrow it is shown correctly in motion despite that the function to load the gif is called in both the OnCreate function and the btn_next.setOnClickListener() function and the btn_prev.setOnClickListener() function. So the same thing is done but onCreate() the gif is not shown in motion and on btn_next and btn_prev setOnClickListener() it is shown. Please, someone could tell me what could be happening here? Bcause actually the same code is executed but on the first clikc is not working\r\nVideo: https://youtube.com/shorts/S5fDsqu3CeI?feature=share\r\n\r\n```\r\n @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dialog);\r\n        \r\n        \r\n        init();\r\n        glide();\r\n    }\r\n\r\n    private void init() {\r\n\r\n        img_1 = findViewById(R.id.img_image1);\r\n        btn_prev = findViewById(R.id.dialog_btn_prev);\r\n        btn_next = findViewById(R.id.dialog_btn_next);\r\n       \r\n        btn_next.setOnClickListener(view -&gt; {\r\n            glide();\r\n        });\r\n        btn_prev.setOnClickListener(view -&gt; {\r\n            glide();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void glide() {\r\n       \r\n        Glide.with(getApplicationContext()).load(R.drawable.earth).into(img_1);\r\n\r\n\r\n\r\n    }\r\n\r\n```","title":"Gif is not working for the first time using glide","body":"<p>I am making an app that has a list of two items that have two gifs, one in each (the same gif). As you can see in the video, when you click on the gif, the gif is not shown in motion and it is shown as a solid image, but when you click the right or left arrow it is shown correctly in motion despite that the function to load the gif is called in both the OnCreate function and the btn_next.setOnClickListener() function and the btn_prev.setOnClickListener() function. So the same thing is done but onCreate() the gif is not shown in motion and on btn_next and btn_prev setOnClickListener() it is shown. Please, someone could tell me what could be happening here? Bcause actually the same code is executed but on the first clikc is not working\nVideo: <a href=\"https://youtube.com/shorts/S5fDsqu3CeI?feature=share\" rel=\"nofollow noreferrer\">https://youtube.com/shorts/S5fDsqu3CeI?feature=share</a></p>\n<pre><code> @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_dialog);\n        \n        \n        init();\n        glide();\n    }\n\n    private void init() {\n\n        img_1 = findViewById(R.id.img_image1);\n        btn_prev = findViewById(R.id.dialog_btn_prev);\n        btn_next = findViewById(R.id.dialog_btn_next);\n       \n        btn_next.setOnClickListener(view -&gt; {\n            glide();\n        });\n        btn_prev.setOnClickListener(view -&gt; {\n            glide();\n            }\n        });\n    }\n\n    public void glide() {\n       \n        Glide.with(getApplicationContext()).load(R.drawable.earth).into(img_1);\n\n\n\n    }\n\n</code></pre>\n"},{"tags":["java","class","reflection","field","private"],"answers":[{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":3,"up_vote_count":751,"is_accepted":true,"score":748,"last_activity_date":1582247242,"creation_date":1248808932,"answer_id":1196207,"question_id":1196192,"body_markdown":"In order to access private fields, you need to get them from the class&#39;s *declared* fields and then make them accessible:\r\n\r\n    Field f = obj.getClass().getDeclaredField(&quot;stuffIWant&quot;); //NoSuchFieldException\r\n    f.setAccessible(true);\r\n    Hashtable iWantThis = (Hashtable) f.get(obj); //IllegalAccessException\r\n\r\n**EDIT**: as has been commented by *aperkins*, both accessing the field, setting it as accessible and retrieving the value can throw `Exception`s, although the only *checked* exceptions you need to be mindful of are commented above.\r\n\r\nThe `NoSuchFieldException` would be thrown if you asked for a field by a name which did not correspond to a declared field. \r\n\r\n    obj.getClass().getDeclaredField(&quot;misspelled&quot;); //will throw NoSuchFieldException\r\n\r\nThe `IllegalAccessException` would be thrown if the field was not accessible (for example, if it is private and has not been made accessible via missing out the `f.setAccessible(true)` line.\r\n\r\nThe `RuntimeException`s which may be thrown are either `SecurityException`s (if the JVM&#39;s `SecurityManager` will not allow you to change a field&#39;s accessibility), or `IllegalArgumentException`s, if you try and access the field on an object not of the field&#39;s class&#39;s type:\r\n\r\n    f.get(&quot;BOB&quot;); //will throw IllegalArgumentException, as String is of the wrong type\r\n","title":"How to read the value of a private field from a different class in Java?","body":"<p>In order to access private fields, you need to get them from the class's <em>declared</em> fields and then make them accessible:</p>\n\n<pre><code>Field f = obj.getClass().getDeclaredField(\"stuffIWant\"); //NoSuchFieldException\nf.setAccessible(true);\nHashtable iWantThis = (Hashtable) f.get(obj); //IllegalAccessException\n</code></pre>\n\n<p><strong>EDIT</strong>: as has been commented by <em>aperkins</em>, both accessing the field, setting it as accessible and retrieving the value can throw <code>Exception</code>s, although the only <em>checked</em> exceptions you need to be mindful of are commented above.</p>\n\n<p>The <code>NoSuchFieldException</code> would be thrown if you asked for a field by a name which did not correspond to a declared field. </p>\n\n<pre><code>obj.getClass().getDeclaredField(\"misspelled\"); //will throw NoSuchFieldException\n</code></pre>\n\n<p>The <code>IllegalAccessException</code> would be thrown if the field was not accessible (for example, if it is private and has not been made accessible via missing out the <code>f.setAccessible(true)</code> line.</p>\n\n<p>The <code>RuntimeException</code>s which may be thrown are either <code>SecurityException</code>s (if the JVM's <code>SecurityManager</code> will not allow you to change a field's accessibility), or <code>IllegalArgumentException</code>s, if you try and access the field on an object not of the field's class's type:</p>\n\n<pre><code>f.get(\"BOB\"); //will throw IllegalArgumentException, as String is of the wrong type\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1248809818,"creation_date":1248809818,"answer_id":1196297,"question_id":1196192,"body_markdown":"As oxbow_lakes mentions, you can use reflection to get around the access restrictions (assuming your SecurityManager will let you).\r\n\r\nThat said, if this class is so badly designed that it makes you resort to such hackery, maybe you should look for an alternative. Sure this little hack might be saving you a few hours now, but how much will it cost you down the road?","title":"How to read the value of a private field from a different class in Java?","body":"<p>As oxbow_lakes mentions, you can use reflection to get around the access restrictions (assuming your SecurityManager will let you).</p>\n\n<p>That said, if this class is so badly designed that it makes you resort to such hackery, maybe you should look for an alternative. Sure this little hack might be saving you a few hours now, but how much will it cost you down the road?</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":11,"up_vote_count":39,"is_accepted":false,"score":28,"last_activity_date":1508927806,"creation_date":1248815797,"answer_id":1196784,"question_id":1196192,"body_markdown":"Reflection isn&#39;t the only way to resolve your issue (which is to access the private functionality/behaviour of a class/component)\r\n\r\nAn alternative solution is to extract the class from the .jar, decompile it using (say) [Jode][1] or [Jad][2], change the field (or add an accessor), and recompile it against the original .jar. Then put the new .class ahead of the `.jar` in the classpath, or reinsert it in the `.jar`. (the jar utility allows you to extract and reinsert to an existing .jar)\r\n\r\nAs noted below, this resolves the wider issue of accessing/changing private state rather than simply accessing/changing a field.\r\n\r\nThis requires the `.jar` not to be signed, of course.\r\n\r\n\r\n  [1]: http://jode.sourceforge.net/\r\n  [2]: http://www.varaneckas.com/jad","title":"How to read the value of a private field from a different class in Java?","body":"<p>Reflection isn't the only way to resolve your issue (which is to access the private functionality/behaviour of a class/component)</p>\n\n<p>An alternative solution is to extract the class from the .jar, decompile it using (say) <a href=\"http://jode.sourceforge.net/\" rel=\"noreferrer\">Jode</a> or <a href=\"http://www.varaneckas.com/jad\" rel=\"noreferrer\">Jad</a>, change the field (or add an accessor), and recompile it against the original .jar. Then put the new .class ahead of the <code>.jar</code> in the classpath, or reinsert it in the <code>.jar</code>. (the jar utility allows you to extract and reinsert to an existing .jar)</p>\n\n<p>As noted below, this resolves the wider issue of accessing/changing private state rather than simply accessing/changing a field.</p>\n\n<p>This requires the <code>.jar</code> not to be signed, of course.</p>\n"},{"tags":[],"owner":{"account_id":92767,"reputation":388,"user_id":254080,"display_name":"pcpratts"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1263912171,"creation_date":1263912171,"answer_id":2094209,"question_id":1196192,"body_markdown":"Use the Soot Java Optimization framework to directly modify the bytecode.\r\nhttp://www.sable.mcgill.ca/soot/\r\n\r\nSoot is completely written in Java and works with new Java versions.","title":"How to read the value of a private field from a different class in Java?","body":"<p>Use the Soot Java Optimization framework to directly modify the bytecode.\n<a href=\"http://www.sable.mcgill.ca/soot/\" rel=\"nofollow noreferrer\">http://www.sable.mcgill.ca/soot/</a></p>\n\n<p>Soot is completely written in Java and works with new Java versions.</p>\n"},{"tags":[],"owner":{"account_id":14971,"reputation":6961,"user_id":31172,"accept_rate":86,"display_name":"lucas"},"down_vote_count":6,"up_vote_count":24,"is_accepted":false,"score":18,"last_activity_date":1355389648,"creation_date":1263912496,"answer_id":2094258,"question_id":1196192,"body_markdown":"One other option that hasn&#39;t been mentioned yet: use **Groovy**.  Groovy allows you to access private instance variables as a side effect of the design of the language.  Whether or not you have a getter for the field, you can just use \r\n\r\n    def obj = new IWasDesignedPoorly()\r\n    def hashTable = obj.getStuffIWant()","title":"How to read the value of a private field from a different class in Java?","body":"<p>One other option that hasn't been mentioned yet: use <strong>Groovy</strong>.  Groovy allows you to access private instance variables as a side effect of the design of the language.  Whether or not you have a getter for the field, you can just use </p>\n\n<pre><code>def obj = new IWasDesignedPoorly()\ndef hashTable = obj.getStuffIWant()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":1,"up_vote_count":210,"is_accepted":false,"score":209,"last_activity_date":1658207039,"creation_date":1398411648,"answer_id":23287005,"question_id":1196192,"body_markdown":"Try [`FieldUtils`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#readField-java.lang.reflect.Field-java.lang.Object-boolean-) from Apache [commons-lang3](https://commons.apache.org/proper/commons-lang/):\r\n\r\n~~~java\r\nFieldUtils.readField(object, fieldName, true);\r\n~~~\r\n\r\nP.S. In my opinion, [reflection is evil](https://www.yegor256.com/2022/06/05/reflection-means-hidden-coupling.html).","title":"How to read the value of a private field from a different class in Java?","body":"<p>Try <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#readField-java.lang.reflect.Field-java.lang.Object-boolean-\" rel=\"noreferrer\"><code>FieldUtils</code></a> from Apache <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">commons-lang3</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FieldUtils.readField(object, fieldName, true);\n</code></pre>\n<p>P.S. In my opinion, <a href=\"https://www.yegor256.com/2022/06/05/reflection-means-hidden-coupling.html\" rel=\"noreferrer\">reflection is evil</a>.</p>\n"},{"tags":[],"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1411621799,"creation_date":1411541652,"answer_id":26010427,"question_id":1196192,"body_markdown":"Using the **Reflection in Java** you can access all the `private/public` fields and methods of one class to another .But as per the **Oracle** [documentation][1]  in the section **drawbacks** they recommended that : \r\n\r\n   \r\n *&quot;Since reflection allows code to perform operations that would be illegal in non-reflective code, such as accessing private fields and methods, the use of reflection can result in unexpected side-effects, which may render code dysfunctional and may destroy portability. Reflective code breaks abstractions and therefore may change behavior with upgrades of the platform&quot;*\r\n\r\nhere is following code snapts to demonstrate basic concepts of **Reflection** \r\n\r\nReflection1.java\r\n\r\n\r\n    public class Reflection1{\r\n    \r\n    \tprivate int i = 10;\r\n    \t\r\n    \tpublic void methoda()\r\n    \t{\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;method1&quot;);\r\n    \t}\r\n    \tpublic void methodb()\r\n    \t{\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;method2&quot;);\r\n    \t}\r\n    \tpublic void methodc()\r\n    \t{\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;method3&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n\r\nReflection2.java\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    \r\n    \r\n    public class Reflection2{\r\n    \r\n    \tpublic static void main(String ar[]) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException\r\n    \t{\r\n    \t\tMethod[] mthd = Reflection1.class.getMethods(); // for axis the methods \r\n    \t\t\r\n    \t\tField[] fld = Reflection1.class.getDeclaredFields();  // for axis the fields  \r\n    \t\t\r\n    \t\t// Loop for get all the methods in class\r\n    \t\tfor(Method mthd1:mthd)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;method :&quot;+mthd1.getName());\r\n    \t\t\tSystem.out.println(&quot;parametes :&quot;+mthd1.getReturnType());\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Loop for get all the Field in class\r\n    \t\tfor(Field fld1:fld)\r\n    \t\t{\r\n    \t\t\tfld1.setAccessible(true);\r\n    \t\t\tSystem.out.println(&quot;field :&quot;+fld1.getName());\r\n    \t\t\tSystem.out.println(&quot;type :&quot;+fld1.getType());\r\n    \t\t\tSystem.out.println(&quot;value :&quot;+fld1.getInt(new Reflaction1()));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHope it will help.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/index.html","title":"How to read the value of a private field from a different class in Java?","body":"<p>Using the <strong>Reflection in Java</strong> you can access all the <code>private/public</code> fields and methods of one class to another .But as per the <strong>Oracle</strong> <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"noreferrer\">documentation</a>  in the section <strong>drawbacks</strong> they recommended that : </p>\n\n<p><em>\"Since reflection allows code to perform operations that would be illegal in non-reflective code, such as accessing private fields and methods, the use of reflection can result in unexpected side-effects, which may render code dysfunctional and may destroy portability. Reflective code breaks abstractions and therefore may change behavior with upgrades of the platform\"</em></p>\n\n<p>here is following code snapts to demonstrate basic concepts of <strong>Reflection</strong> </p>\n\n<p>Reflection1.java</p>\n\n<pre><code>public class Reflection1{\n\n    private int i = 10;\n\n    public void methoda()\n    {\n\n        System.out.println(\"method1\");\n    }\n    public void methodb()\n    {\n\n        System.out.println(\"method2\");\n    }\n    public void methodc()\n    {\n\n        System.out.println(\"method3\");\n    }\n\n}\n</code></pre>\n\n<p>Reflection2.java</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n\npublic class Reflection2{\n\n    public static void main(String ar[]) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException\n    {\n        Method[] mthd = Reflection1.class.getMethods(); // for axis the methods \n\n        Field[] fld = Reflection1.class.getDeclaredFields();  // for axis the fields  \n\n        // Loop for get all the methods in class\n        for(Method mthd1:mthd)\n        {\n\n            System.out.println(\"method :\"+mthd1.getName());\n            System.out.println(\"parametes :\"+mthd1.getReturnType());\n        }\n\n        // Loop for get all the Field in class\n        for(Field fld1:fld)\n        {\n            fld1.setAccessible(true);\n            System.out.println(\"field :\"+fld1.getName());\n            System.out.println(\"type :\"+fld1.getType());\n            System.out.println(\"value :\"+fld1.getInt(new Reflaction1()));\n        }\n    }\n\n}\n</code></pre>\n\n<p>Hope it will help.</p>\n"},{"tags":[],"owner":{"account_id":3116481,"reputation":1263,"user_id":2637126,"display_name":"xtof54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441785582,"creation_date":1441785582,"answer_id":32474069,"question_id":1196192,"body_markdown":"Just an additional note about reflection: I have observed in some special cases, when several classes with the same name exist in different packages, that reflection as used in the top answer may fail to pick the correct class from the object. So if you know what is the package.class of the object, then it&#39;s better to access its private field values as follows:\r\n\r\n    org.deeplearning4j.nn.layers.BaseOutputLayer ll = (org.deeplearning4j.nn.layers.BaseOutputLayer) model.getLayer(0);\r\n    Field f = Class.forName(&quot;org.deeplearning4j.nn.layers.BaseOutputLayer&quot;).getDeclaredField(&quot;solver&quot;);\r\n    f.setAccessible(true);\r\n    Solver s = (Solver) f.get(ll);\r\n\r\n(This is the example class that was not working for me)\r\n","title":"How to read the value of a private field from a different class in Java?","body":"<p>Just an additional note about reflection: I have observed in some special cases, when several classes with the same name exist in different packages, that reflection as used in the top answer may fail to pick the correct class from the object. So if you know what is the package.class of the object, then it's better to access its private field values as follows:</p>\n\n<pre><code>org.deeplearning4j.nn.layers.BaseOutputLayer ll = (org.deeplearning4j.nn.layers.BaseOutputLayer) model.getLayer(0);\nField f = Class.forName(\"org.deeplearning4j.nn.layers.BaseOutputLayer\").getDeclaredField(\"solver\");\nf.setAccessible(true);\nSolver s = (Solver) f.get(ll);\n</code></pre>\n\n<p>(This is the example class that was not working for me)</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486976891,"creation_date":1486976891,"answer_id":42200293,"question_id":1196192,"body_markdown":"You need to do the following:\r\n\r\n    private static Field getField(Class&lt;?&gt; cls, String fieldName) {\r\n        for (Class&lt;?&gt; c = cls; c != null; c = c.getSuperclass()) {\r\n            try {\r\n                final Field field = c.getDeclaredField(fieldName);\r\n                field.setAccessible(true);\r\n                return field;\r\n            } catch (final NoSuchFieldException e) {\r\n                // Try parent\r\n            } catch (Exception e) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Cannot access field &quot; + cls.getName() + &quot;.&quot; + fieldName, e);\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(\r\n                &quot;Cannot find field &quot; + cls.getName() + &quot;.&quot; + fieldName);\r\n    }\r\n","title":"How to read the value of a private field from a different class in Java?","body":"<p>You need to do the following:</p>\n\n<pre><code>private static Field getField(Class&lt;?&gt; cls, String fieldName) {\n    for (Class&lt;?&gt; c = cls; c != null; c = c.getSuperclass()) {\n        try {\n            final Field field = c.getDeclaredField(fieldName);\n            field.setAccessible(true);\n            return field;\n        } catch (final NoSuchFieldException e) {\n            // Try parent\n        } catch (Exception e) {\n            throw new IllegalArgumentException(\n                    \"Cannot access field \" + cls.getName() + \".\" + fieldName, e);\n        }\n    }\n    throw new IllegalArgumentException(\n            \"Cannot find field \" + cls.getName() + \".\" + fieldName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607683444,"creation_date":1508765120,"answer_id":46890521,"question_id":1196192,"body_markdown":"**If using Spring:**\r\n\r\nIn a **testing context**, [ReflectionTestUtils](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html) provides some handy tools that can help out here with minimal effort. It&#39;s described as being *&quot;for use in unit and integration testing scenarios&quot;*.\r\n\r\nIn a **non-testing context**, there is also a similar class named [ReflectionUtils](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html) but this is described as *&quot;Only intended for internal use&quot;* - see [this answer](https://stackoverflow.com/questions/31852237#31852508) for a good interpretation of what this means.\r\n\r\nTo address the example in the original post:\r\n\r\n    Hashtable iWantThis = (Hashtable)ReflectionTestUtils.getField(obj, &quot;stuffIWant&quot;);","title":"How to read the value of a private field from a different class in Java?","body":"<p><strong>If using Spring:</strong></p>\n<p>In a <strong>testing context</strong>, <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"nofollow noreferrer\">ReflectionTestUtils</a> provides some handy tools that can help out here with minimal effort. It's described as being <em>&quot;for use in unit and integration testing scenarios&quot;</em>.</p>\n<p>In a <strong>non-testing context</strong>, there is also a similar class named <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> but this is described as <em>&quot;Only intended for internal use&quot;</em> - see <a href=\"https://stackoverflow.com/questions/31852237#31852508\">this answer</a> for a good interpretation of what this means.</p>\n<p>To address the example in the original post:</p>\n<pre><code>Hashtable iWantThis = (Hashtable)ReflectionTestUtils.getField(obj, &quot;stuffIWant&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9967981,"reputation":125,"user_id":7375080,"accept_rate":50,"display_name":"karldegen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1574694329,"creation_date":1574694329,"answer_id":59034723,"question_id":1196192,"body_markdown":"Try to go around the problem for the case, the calass of which you want to set/get data is one of your own classes.\r\n\r\nJust create a `public setter(Field f, Object value)` and `public Object getter(Field f)` for that. You can even do some securoty check on your own inside theses member functions. E.g. for the setter:\r\n\r\n```lang-java\r\nclass myClassName {\r\n    private String aString;\r\n\r\n    public set(Field field, Object value) {\r\n        // (A) do some checkings here  for security\r\n\r\n        // (B) set the value\r\n        field.set(this, value);\r\n    }\r\n}\r\n```\r\n\r\nOf course, now you have to find out the `java.lang.reflect.Field` for `sString` prior to setting of field value.\r\n\r\nI do use this technique in a generic ResultSet-to-and-from-model-mapper.\r\n","title":"How to read the value of a private field from a different class in Java?","body":"<p>Try to go around the problem for the case, the calass of which you want to set/get data is one of your own classes.</p>\n\n<p>Just create a <code>public setter(Field f, Object value)</code> and <code>public Object getter(Field f)</code> for that. You can even do some securoty check on your own inside theses member functions. E.g. for the setter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class myClassName {\n    private String aString;\n\n    public set(Field field, Object value) {\n        // (A) do some checkings here  for security\n\n        // (B) set the value\n        field.set(this, value);\n    }\n}\n</code></pre>\n\n<p>Of course, now you have to find out the <code>java.lang.reflect.Field</code> for <code>sString</code> prior to setting of field value.</p>\n\n<p>I do use this technique in a generic ResultSet-to-and-from-model-mapper.</p>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574858393,"creation_date":1574858393,"answer_id":59070461,"question_id":1196192,"body_markdown":"It is quite easy with the tool [XrayInterface](http://xrayinterface.amygdalum.net/). Just define the missing getters/setters, e.g.\r\n\r\n    interface BetterDesigned {\r\n\t  Hashtable getStuffIWant(); //is mapped by convention to stuffIWant\r\n    }\r\n\r\nand xray your poor designed project:\r\n\r\n    IWasDesignedPoorly obj = new IWasDesignedPoorly();\r\n    BetterDesigned better = ...;\r\n    System.out.println(better.getStuffIWant());\r\n\r\nInternally this relies on reflection.","title":"How to read the value of a private field from a different class in Java?","body":"<p>It is quite easy with the tool <a href=\"http://xrayinterface.amygdalum.net/\" rel=\"nofollow noreferrer\">XrayInterface</a>. Just define the missing getters/setters, e.g.</p>\n\n<pre><code>interface BetterDesigned {\n  Hashtable getStuffIWant(); //is mapped by convention to stuffIWant\n}\n</code></pre>\n\n<p>and xray your poor designed project:</p>\n\n<pre><code>IWasDesignedPoorly obj = new IWasDesignedPoorly();\nBetterDesigned better = ...;\nSystem.out.println(better.getStuffIWant());\n</code></pre>\n\n<p>Internally this relies on reflection.</p>\n"},{"tags":[],"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593642149,"creation_date":1593642149,"answer_id":62686187,"question_id":1196192,"body_markdown":"You can use [*jOOR*](https://github.com/jOOQ/jOOR) for that. \r\n```java\r\nclass Foo {\r\n    private final String value = &quot;ABC&quot;;\r\n}\r\nclass Bar {\r\n    private final Foo foo = new Foo();\r\n    public String value() {\r\n        return org.joor.Reflect\r\n            .on(this.foo)\r\n            .field(&quot;value&quot;)\r\n            .get();\r\n    }\r\n}\r\nclass BarTest {\r\n    @Test\r\n    void accessPrivateField() {\r\n        Assertions.assertEquals(new Bar().value(), &quot;ABC&quot;);\r\n    }\r\n}\r\n```","title":"How to read the value of a private field from a different class in Java?","body":"<p>You can use <a href=\"https://github.com/jOOQ/jOOR\" rel=\"nofollow noreferrer\"><em>jOOR</em></a> for that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n    private final String value = &quot;ABC&quot;;\n}\nclass Bar {\n    private final Foo foo = new Foo();\n    public String value() {\n        return org.joor.Reflect\n            .on(this.foo)\n            .field(&quot;value&quot;)\n            .get();\n    }\n}\nclass BarTest {\n    @Test\n    void accessPrivateField() {\n        Assertions.assertEquals(new Bar().value(), &quot;ABC&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638518992,"creation_date":1638372337,"answer_id":70186859,"question_id":1196192,"body_markdown":"Java 9 introduced [Variable Handles][1]. You can access a private field of a class using them.\r\n\r\nThe code for your example will look like following:\r\n\r\n    var lookup = MethodHandles.lookup();\r\n    var handle = MethodHandles\r\n        .privateLookupIn(IWasDesignedPoorly.class, lookup)\r\n        .findVarHandle(IWasDesignedPoorly.class, &quot;stuffIWant&quot;, Hashtable.class);\r\n    var value = handle.get(obj);\r\n\r\nIt is also advisable to use `Lookup` and `VarHandle` objects as `static final` fields.\r\n\r\n  [1]: http://openjdk.java.net/jeps/193","title":"How to read the value of a private field from a different class in Java?","body":"<p>Java 9 introduced <a href=\"http://openjdk.java.net/jeps/193\" rel=\"noreferrer\">Variable Handles</a>. You can access a private field of a class using them.</p>\n<p>The code for your example will look like following:</p>\n<pre><code>var lookup = MethodHandles.lookup();\nvar handle = MethodHandles\n    .privateLookupIn(IWasDesignedPoorly.class, lookup)\n    .findVarHandle(IWasDesignedPoorly.class, &quot;stuffIWant&quot;, Hashtable.class);\nvar value = handle.get(obj);\n</code></pre>\n<p>It is also advisable to use <code>Lookup</code> and <code>VarHandle</code> objects as <code>static final</code> fields.</p>\n"}],"owner":{"account_id":272,"reputation":69902,"user_id":338,"accept_rate":85,"display_name":"Frank Krueger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371767,"favorite_count":0,"down_vote_count":1,"up_vote_count":561,"accepted_answer_id":1196207,"answer_count":14,"score":560,"last_activity_date":1658207039,"creation_date":1248808800,"question_id":1196192,"body_markdown":"I have a poorly designed class in a 3rd-party `JAR` and I need to access one of its **private** fields. For example,\r\nwhy should I need to choose private field is it necessary?\r\n\r\n    class IWasDesignedPoorly {\r\n        private Hashtable stuffIWant;\r\n    }\r\n\r\n    IWasDesignedPoorly obj = ...;\r\n\r\nHow can I use reflection to get the value of `stuffIWant`?","title":"How to read the value of a private field from a different class in Java?","body":"<p>I have a poorly designed class in a 3rd-party <code>JAR</code> and I need to access one of its <strong>private</strong> fields. For example,\nwhy should I need to choose private field is it necessary?</p>\n\n<pre><code>class IWasDesignedPoorly {\n    private Hashtable stuffIWant;\n}\n\nIWasDesignedPoorly obj = ...;\n</code></pre>\n\n<p>How can I use reflection to get the value of <code>stuffIWant</code>?</p>\n"},{"tags":["java","jmeter","architecture","client-server","scalability"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658206761,"creation_date":1658206761,"answer_id":73031334,"question_id":73025857,"body_markdown":"In general these 2 implementations look like 2 separate products so comparing their performance is not something you should be doing. \r\n\r\nWhatever.\r\n\r\nYour &quot;Presentation&quot; statement for the 2-tier architecture doesn&#39;t tell the full story:\r\n\r\n - if it&#39;s some form of a [thin client][1] - then you can use JMeter for simulating load onto &quot;Controller&quot; by impersonating real users, check out [How to Do Desktop Performance Testing][2] for more details\r\n - if the whole &quot;Client&quot; is a standalone application which just communicates with the database you can:\r\n\r\n     - use a [profiler tool][3] to ensure that your &quot;Client&quot; is doing its best in terms of [algorithms efficiency][4], absence of [memory leaks][5], etc. \r\n     - the [database can be load tested separately][6] using the aforementioned JMeter \r\n\r\n - separate functions or larger code blocks can be tested for concurrency using microbenchmark frameworks like [jmh][7]\r\n\r\n \r\n\r\n\r\n  [1]: https://www.fortinet.com/resources/cyberglossary/thin-client\r\n  [2]: https://www.blazemeter.com/blog/desktop-performance-testing\r\n  [3]: https://www.baeldung.com/java-profilers\r\n  [4]: https://en.wikipedia.org/wiki/Big_O_notation\r\n  [5]: https://en.wikipedia.org/wiki/Memory_leak\r\n  [6]: https://jmeter.apache.org/usermanual/build-db-test-plan.html\r\n  [7]: https://github.com/openjdk/jmh","title":"JMeter: In search of a meaningful 2-tier architecture","body":"<p>In general these 2 implementations look like 2 separate products so comparing their performance is not something you should be doing.</p>\n<p>Whatever.</p>\n<p>Your &quot;Presentation&quot; statement for the 2-tier architecture doesn't tell the full story:</p>\n<ul>\n<li><p>if it's some form of a <a href=\"https://www.fortinet.com/resources/cyberglossary/thin-client\" rel=\"nofollow noreferrer\">thin client</a> - then you can use JMeter for simulating load onto &quot;Controller&quot; by impersonating real users, check out <a href=\"https://www.blazemeter.com/blog/desktop-performance-testing\" rel=\"nofollow noreferrer\">How to Do Desktop Performance Testing</a> for more details</p>\n</li>\n<li><p>if the whole &quot;Client&quot; is a standalone application which just communicates with the database you can:</p>\n<ul>\n<li>use a <a href=\"https://www.baeldung.com/java-profilers\" rel=\"nofollow noreferrer\">profiler tool</a> to ensure that your &quot;Client&quot; is doing its best in terms of <a href=\"https://en.wikipedia.org/wiki/Big_O_notation\" rel=\"nofollow noreferrer\">algorithms efficiency</a>, absence of <a href=\"https://en.wikipedia.org/wiki/Memory_leak\" rel=\"nofollow noreferrer\">memory leaks</a>, etc.</li>\n<li>the <a href=\"https://jmeter.apache.org/usermanual/build-db-test-plan.html\" rel=\"nofollow noreferrer\">database can be load tested separately</a> using the aforementioned JMeter</li>\n</ul>\n</li>\n<li><p>separate functions or larger code blocks can be tested for concurrency using microbenchmark frameworks like <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">jmh</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":18291745,"reputation":21,"user_id":13318397,"display_name":"judo_&#252;rgens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658206761,"creation_date":1658162856,"question_id":73025857,"body_markdown":"For a project, I need to build two client-server-architecture prototypes (2-tier and 3-tier). In a second step I want to test them in terms of performance &amp; scalability with JMeter. In a third step I want to compare the performance of both and give recommendations on the architecture.\r\n\r\nI have already built a 3-tier application, which looks like this:\r\n\r\n[![3-tier][1]][1]\r\n\r\n\r\nWhat I had in mind was to build a 2-tier application, which looks like this:\r\n\r\n[![2-tier][2]][2]\r\n\r\nBut then I realized that I cannot compare them properly. Since there is no possibility to start a function with a HTTP-request in the 2-tier-architecture.\r\n\r\nMy question now, what would a meaningful implementation of a 2-tier-prototype look like? So that I can make a fair comparison of both.\r\nand if I could use Java that would be great too.\r\n\r\nI&#39;m very inexperienced, so I am happy with any input!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eWElS.png\r\n  [2]: https://i.stack.imgur.com/r9oGN.png","title":"JMeter: In search of a meaningful 2-tier architecture","body":"<p>For a project, I need to build two client-server-architecture prototypes (2-tier and 3-tier). In a second step I want to test them in terms of performance &amp; scalability with JMeter. In a third step I want to compare the performance of both and give recommendations on the architecture.</p>\n<p>I have already built a 3-tier application, which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/eWElS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eWElS.png\" alt=\"3-tier\" /></a></p>\n<p>What I had in mind was to build a 2-tier application, which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/r9oGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r9oGN.png\" alt=\"2-tier\" /></a></p>\n<p>But then I realized that I cannot compare them properly. Since there is no possibility to start a function with a HTTP-request in the 2-tier-architecture.</p>\n<p>My question now, what would a meaningful implementation of a 2-tier-prototype look like? So that I can make a fair comparison of both.\nand if I could use Java that would be great too.</p>\n<p>I'm very inexperienced, so I am happy with any input!</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658255688,"post_id":73028181,"comment_id":129005091,"body_markdown":"Please make sure to follow [ask]","body":"Please make sure to follow <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":12701027,"reputation":894,"user_id":9227755,"display_name":"Subhasmith Thapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658179051,"creation_date":1658179051,"answer_id":73028737,"question_id":73028181,"body_markdown":"Go to build.gradle(Module)\r\n\r\nand inside dependencies add the following line. \r\n\r\n```\r\nclasspath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&#39;\r\n```\r\n\r\n\r\nIt should look something like this\r\n\r\n\r\n```\r\n\r\nbuildscript {\r\n\r\n    repositories {\r\n        jcenter()\r\n        google()\r\n\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.0.0-beta6&#39;\r\n        classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        jcenter()\r\n        google()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```","title":"Gradle Issues in Android Studio","body":"<p>Go to build.gradle(Module)</p>\n<p>and inside dependencies add the following line.</p>\n<pre><code>classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10'\n</code></pre>\n<p>It should look something like this</p>\n<pre><code>\nbuildscript {\n\n    repositories {\n        jcenter()\n        google()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta6'\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n"}],"owner":{"account_id":21430325,"reputation":13,"user_id":15786874,"display_name":"Ikechukwu Uguwanyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73028737,"answer_count":1,"score":0,"last_activity_date":1658206422,"creation_date":1658175722,"question_id":73028181,"body_markdown":"There&#39;s a Java file I&#39;m meant to convert to Kotlin. I&#39;m stuck with this Gradle problem and can&#39;t find my way around it. What can I do to resolve this issue?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ITCER.jpg","title":"Gradle Issues in Android Studio","body":"<p>There's a Java file I'm meant to convert to Kotlin. I'm stuck with this Gradle problem and can't find my way around it. What can I do to resolve this issue?</p>\n<p><a href=\"https://i.stack.imgur.com/ITCER.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITCER.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658212168,"post_id":73031049,"comment_id":128988474,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658206272,"creation_date":1658206272,"answer_id":73031280,"question_id":73031049,"body_markdown":"You typically can&#39;t open two writers to the same file at the same time. Either one will fail entirely or they will be saved in the order that they are written, it depends on how the buffer works and when the write takes place.\r\n\r\nAdd this to the end of your code:\r\n\r\n    fw.flush();\r\n    fw.close();\r\n    pw.flush();\r\n    pw.close();\r\n\r\nIf we do the above then `pw` will close last and that will be what you see in the file, however, if we do the below then `fw` will close last and be what you see in the file:\r\n\r\n    pw.flush();\r\n    pw.close();\r\n    fw.flush();\r\n    fw.close();\r\n\r\nYou can verify this by changing your code to add extra characters and seeing what happens when you close one before the other:\r\n\r\n    fw.write(input + &quot; AA\\r\\n&quot;);\r\n    pw.println(input+&quot; BB&quot;);","title":"I wonder why FileWiter.write and PrintWrite.println cannot be executed together in the code","body":"<p>You typically can't open two writers to the same file at the same time. Either one will fail entirely or they will be saved in the order that they are written, it depends on how the buffer works and when the write takes place.</p>\n<p>Add this to the end of your code:</p>\n<pre><code>fw.flush();\nfw.close();\npw.flush();\npw.close();\n</code></pre>\n<p>If we do the above then <code>pw</code> will close last and that will be what you see in the file, however, if we do the below then <code>fw</code> will close last and be what you see in the file:</p>\n<pre><code>pw.flush();\npw.close();\nfw.flush();\nfw.close();\n</code></pre>\n<p>You can verify this by changing your code to add extra characters and seeing what happens when you close one before the other:</p>\n<pre><code>fw.write(input + &quot; AA\\r\\n&quot;);\npw.println(input+&quot; BB&quot;);\n</code></pre>\n"}],"owner":{"account_id":25840890,"reputation":1,"user_id":19576441,"display_name":"noob1231"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658206272,"creation_date":1658204160,"question_id":73031049,"body_markdown":"            fw = new FileWriter(f);\r\n\t\t\tpw = new PrintWriter(f);\r\n\t\t\twhile (true) {\r\n\t\t\t\tSystem.out.println(&quot;값을 입력하세요&quot;);\r\n\t\t\t\tString input = br.readLine();\r\n\t\t\t\tif (input.equals(&quot;exit&quot;)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfw.write(input + &quot;\\r\\n&quot;);\r\n\t\t\t\t// \\r 커서를 맨앞으로 이동시켜줌. 이젠 \\n하면 자동으로 된다.\r\n\t\t\t\tpw.println(input);\r\n\t\t\t\t// PrintWrite의 경우 println을 써서 \\r이나 \\n등을 안써도 된다.\r\n\t\t\t}\r\n\r\nI thought that the input value would be entered twice in the file, but I am curious as to why it is entered only once.\r\n\r\nOnce i guess, it seems that it is inputted only once because it is separately input to the pw object and the fw object.\r\n\r\nis this right?","title":"I wonder why FileWiter.write and PrintWrite.println cannot be executed together in the code","body":"<pre><code>        fw = new FileWriter(f);\n        pw = new PrintWriter(f);\n        while (true) {\n            System.out.println(&quot;값을 입력하세요&quot;);\n            String input = br.readLine();\n            if (input.equals(&quot;exit&quot;)) {\n                break;\n            }\n            fw.write(input + &quot;\\r\\n&quot;);\n            // \\r 커서를 맨앞으로 이동시켜줌. 이젠 \\n하면 자동으로 된다.\n            pw.println(input);\n            // PrintWrite의 경우 println을 써서 \\r이나 \\n등을 안써도 된다.\n        }\n</code></pre>\n<p>I thought that the input value would be entered twice in the file, but I am curious as to why it is entered only once.</p>\n<p>Once i guess, it seems that it is inputted only once because it is separately input to the pw object and the fw object.</p>\n<p>is this right?</p>\n"},{"tags":["java","syntax","coding-style","access-modifiers"],"comments":[{"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"score":1,"creation_date":1335274890,"post_id":10299067,"comment_id":13253387,"body_markdown":"Sounds like a question of mine that got booted to http://programmers.stackexchange.com/... But personally I use `[public/private/protected] [final/abstract/static] [synchronized] [type] func()`...","body":"Sounds like a question of mine that got booted to <a href=\"http://programmers.stackexchange.com/\">programmers.stackexchange.com</a>... But personally I use <code>[public&#47;private&#47;protected] [final&#47;abstract&#47;static] [synchronized] [type] func()</code>..."}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1335274806,"creation_date":1335274806,"answer_id":10299102,"question_id":10299067,"body_markdown":"The best order is the one that the rest of your code uses.","title":"Modifier Keyword order in Java","body":"<p>The best order is the one that the rest of your code uses.</p>\n"},{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335274826,"creation_date":1335274826,"answer_id":10299114,"question_id":10299067,"body_markdown":"Like this:\r\n\r\n`public static final synchronized void calculate()`\r\n","title":"Modifier Keyword order in Java","body":"<p>Like this:</p>\n\n<p><code>public static final synchronized void calculate()</code></p>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":3,"up_vote_count":80,"is_accepted":false,"score":77,"last_activity_date":1500312195,"creation_date":1335274855,"answer_id":10299123,"question_id":10299067,"body_markdown":"In theory it does not matter if you say public static final or final static public, but if you follow the usual convention, other people will able to read your code more easily. Here is the preferred order:\n&gt;[ public | protected | private ] \n&gt;\n&gt;static \n&gt;\n&gt;abstract \n&gt;\n&gt;synchronized \n&gt;\n&gt;[ transient | volatile ] \n&gt;\n&gt;final \n&gt;\n&gt;native\n&gt;\n&gt;strictfp\n&gt;\n&gt;[ int | long | String | class | enum | interface etc. ]","title":"Modifier Keyword order in Java","body":"<p>In theory it does not matter if you say public static final or final static public, but if you follow the usual convention, other people will able to read your code more easily. Here is the preferred order:</p>\n<blockquote>\n<p>[ public | protected | private ]</p>\n<p>static</p>\n<p>abstract</p>\n<p>synchronized</p>\n<p>[ transient | volatile ]</p>\n<p>final</p>\n<p>native</p>\n<p>strictfp</p>\n<p>[ int | long | String | class | enum | interface etc. ]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":773917,"reputation":2085,"user_id":818316,"accept_rate":68,"display_name":"kabal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1335275017,"creation_date":1335275017,"answer_id":10299163,"question_id":10299067,"body_markdown":"This is my personal choice\r\n\r\n    public static final void method() { }\r\n    public void method() { }\r\n    public abstract void method() { }\r\n\r\n\r\nthis seems in line too with the java documentation\r\n","title":"Modifier Keyword order in Java","body":"<p>This is my personal choice</p>\n\n<pre><code>public static final void method() { }\npublic void method() { }\npublic abstract void method() { }\n</code></pre>\n\n<p>this seems in line too with the java documentation</p>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528121101,"creation_date":1335275032,"answer_id":10299169,"question_id":10299067,"body_markdown":"The &quot;best&quot; would be to follow the [Java Coding Style Guide][1], that states in 6.2 (method declaration):\r\n\r\n    public static final synchronized long methodName()\r\n        throws ArithmeticException, InterruptedException {\r\n        static int count;\r\n    }\r\n\r\n  [1]: https://web.archive.org/web/20130425142804/http://www.oracle.com/technetwork/java/codeconv-138413.html\r\n","title":"Modifier Keyword order in Java","body":"<p>The \"best\" would be to follow the <a href=\"https://web.archive.org/web/20130425142804/http://www.oracle.com/technetwork/java/codeconv-138413.html\" rel=\"nofollow noreferrer\">Java Coding Style Guide</a>, that states in 6.2 (method declaration):</p>\n\n<pre><code>public static final synchronized long methodName()\n    throws ArithmeticException, InterruptedException {\n    static int count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231541,"reputation":3509,"user_id":495832,"accept_rate":71,"display_name":"Alan Escreet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335275051,"creation_date":1335275051,"answer_id":10299177,"question_id":10299067,"body_markdown":"Yes, there is a standard ordering.\r\n\r\nIf you use an IDE, you can set it up to format your code for you, i.e. in Eclipse in Preferences -&gt; Java -&gt; Editor -&gt; Save Actions you can check the box &quot;Format source code&quot;\r\n\r\nThen you don&#39;t have to worry about it any more. It will be done automatically whenever the file is saved and if your whole project uses this, then for the whole project has code that is formatted in the same way.","title":"Modifier Keyword order in Java","body":"<p>Yes, there is a standard ordering.</p>\n\n<p>If you use an IDE, you can set it up to format your code for you, i.e. in Eclipse in Preferences -> Java -> Editor -> Save Actions you can check the box \"Format source code\"</p>\n\n<p>Then you don't have to worry about it any more. It will be done automatically whenever the file is saved and if your whole project uses this, then for the whole project has code that is formatted in the same way.</p>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1539329606,"creation_date":1369390210,"answer_id":16732537,"question_id":10299067,"body_markdown":"The custom usage order of the modifiers is mentioned in the [Java Language Specification][1]  (so no need to have an own opinion ;-)) e.g. for [method modifiers][2] you will find the following definition (extract):\r\n\r\n&gt;     MethodModifiers:\r\n&gt;         MethodModifier\r\n&gt;         MethodModifiers MethodModifier\r\n&gt;     \r\n&gt;     MethodModifier: one of\r\n&gt;         Annotation public protected private abstract\r\n&gt;         static final synchronized native strictfp\r\n&gt; \r\n&gt; If two or more (distinct) method modifiers appear in a method declaration, it is customary, though not required, that they appear in the order consistent with that shown above in the production for MethodModifier. \r\n\r\nYou will find this sentence at several other places where the usage of modifiers is specified, e.g. [here][3] for field modifiers.\r\n\r\n(This is mostly copied from another answer of mine [here][4]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/index.html\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.4.3\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.3.1\r\n  [4]: https://stackoverflow.com/a/16732059/367285","title":"Modifier Keyword order in Java","body":"<p>The custom usage order of the modifiers is mentioned in the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/index.html\" rel=\"noreferrer\">Java Language Specification</a>  (so no need to have an own opinion ;-)) e.g. for <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.4.3\" rel=\"noreferrer\">method modifiers</a> you will find the following definition (extract):</p>\n\n<blockquote>\n<pre><code>MethodModifiers:\n    MethodModifier\n    MethodModifiers MethodModifier\n\nMethodModifier: one of\n    Annotation public protected private abstract\n    static final synchronized native strictfp\n</code></pre>\n  \n  <p>If two or more (distinct) method modifiers appear in a method declaration, it is customary, though not required, that they appear in the order consistent with that shown above in the production for MethodModifier. </p>\n</blockquote>\n\n<p>You will find this sentence at several other places where the usage of modifiers is specified, e.g. <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.3.1\" rel=\"noreferrer\">here</a> for field modifiers.</p>\n\n<p>(This is mostly copied from another answer of mine <a href=\"https://stackoverflow.com/a/16732059/367285\">here</a>).</p>\n"},{"tags":[],"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1539614102,"creation_date":1374262876,"answer_id":17754224,"question_id":10299067,"body_markdown":"[Checkstyle](http://checkstyle.sourceforge.net/config_modifier.html) (which implements the suggestions of the Java Language Specifications sections, [8.1.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1), [8.3.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1), and [8.4.3](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.3)) says:\r\n\r\n1. public\r\n1. protected\r\n1. private\r\n1. abstract\r\n1. default\r\n1. static\r\n1. final\r\n1. transient\r\n1. volatile\r\n1. synchronized\r\n1. native\r\n1. strictfp\r\n","title":"Modifier Keyword order in Java","body":"<p><a href=\"http://checkstyle.sourceforge.net/config_modifier.html\" rel=\"noreferrer\">Checkstyle</a> (which implements the suggestions of the Java Language Specifications sections, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1\" rel=\"noreferrer\">8.1.1</a>, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1\" rel=\"noreferrer\">8.3.1</a>, and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.3\" rel=\"noreferrer\">8.4.3</a>) says:</p>\n\n<ol>\n<li>public</li>\n<li>protected</li>\n<li>private</li>\n<li>abstract</li>\n<li>default</li>\n<li>static</li>\n<li>final</li>\n<li>transient</li>\n<li>volatile</li>\n<li>synchronized</li>\n<li>native</li>\n<li>strictfp</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3347267,"reputation":781,"user_id":2812189,"display_name":"fbastien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658148616,"creation_date":1658148616,"answer_id":73022585,"question_id":10299067,"body_markdown":"If you use SonarQube static analysis tool, or choose to follow its conventions, it should be:\r\n\r\n 1. public\r\n 1. protected\r\n 1. private\r\n 1. abstract\r\n 1. static\r\n 1. final\r\n 1. transient\r\n 1. volatile\r\n 1. synchronized\r\n 1. native\r\n 1. default\r\n 1. strictfp\r\n\r\nSee https://rules.sonarsource.com/java/tag/convention/RSPEC-1124","title":"Modifier Keyword order in Java","body":"<p>If you use SonarQube static analysis tool, or choose to follow its conventions, it should be:</p>\n<ol>\n<li>public</li>\n<li>protected</li>\n<li>private</li>\n<li>abstract</li>\n<li>static</li>\n<li>final</li>\n<li>transient</li>\n<li>volatile</li>\n<li>synchronized</li>\n<li>native</li>\n<li>default</li>\n<li>strictfp</li>\n</ol>\n<p>See <a href=\"https://rules.sonarsource.com/java/tag/convention/RSPEC-1124\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/tag/convention/RSPEC-1124</a></p>\n"}],"owner":{"account_id":1270793,"reputation":853,"user_id":1227115,"display_name":"user1227115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32959,"favorite_count":0,"down_vote_count":1,"up_vote_count":67,"answer_count":9,"score":66,"last_activity_date":1658206022,"creation_date":1335274704,"question_id":10299067,"body_markdown":"Every time I write a method in Java with more keywords than `public void`, every time I write it another way. Sometimes &quot;`static public void`&quot; sometimes &quot;`public static void`&quot; etc.\r\n\r\nWhat is the best order (best practices) for these keywords?\r\n\r\n[`abstract/static`] [`final`] [`synchronized`] [`public/private/protected`] [`result_type`]?","title":"Modifier Keyword order in Java","body":"<p>Every time I write a method in Java with more keywords than <code>public void</code>, every time I write it another way. Sometimes &quot;<code>static public void</code>&quot; sometimes &quot;<code>public static void</code>&quot; etc.</p>\n<p>What is the best order (best practices) for these keywords?</p>\n<p>[<code>abstract/static</code>] [<code>final</code>] [<code>synchronized</code>] [<code>public/private/protected</code>] [<code>result_type</code>]?</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658204613,"creation_date":1658204613,"answer_id":73031096,"question_id":73026732,"body_markdown":"Using [this answer](https://stackoverflow.com/a/56528298/242042) but removing the `last()` call so I get all events.\r\n\r\n\r\n```\r\nFlux&lt;MyResp&gt; requestSomethingSlowFlux(MyReqObjectNotRelevant request, Duration delay) {\r\n\r\n   return requestSomethingSlow(request)\r\n     .flatMapMany(initialResponse -&gt; {\r\n       if (initialResponse.getStatus() == COMPLETE) {\r\n         return Flux.just(initialResponse);\r\n       } else if (initialResponse.getStatus() == ERROR) {\r\n         return Flux.error(\r\n           new IllegalStateException(\r\n             initialResponse.getErrorMessage()));\r\n       } else {\r\n         return checkIfDone(initialResponse.getRequestId())\r\n           .repeatWhen(repeat -&gt; repeat.delayElements(delay))\r\n           .doNext(response -&gt; {\r\n             if (response.getStatus() == ERROR) {\r\n               throw new IllegalStateException(\r\n                 initialResponse.getErrorMessage());\r\n             }\r\n           })\r\n           .takeUntil(response -&gt; response.getStatus() != PROCESSING)\r\n       }\r\n     });\r\n     \r\n}\r\n```\r\n\r\nIt has a few flaws though\r\n\r\n1. the status processing is more or less repeated from the initial response\r\n2. the delay is part of the Mono and not part of the Flux.  Therefore, I cannot make it return the flux and have the delayElements on the flux.  I think it&#39;s the choice of `repeatWhen`","title":"How do I create a Flux where each element of the flux is a polling operation and terminate the flux on success or error?","body":"<p>Using <a href=\"https://stackoverflow.com/a/56528298/242042\">this answer</a> but removing the <code>last()</code> call so I get all events.</p>\n<pre><code>Flux&lt;MyResp&gt; requestSomethingSlowFlux(MyReqObjectNotRelevant request, Duration delay) {\n\n   return requestSomethingSlow(request)\n     .flatMapMany(initialResponse -&gt; {\n       if (initialResponse.getStatus() == COMPLETE) {\n         return Flux.just(initialResponse);\n       } else if (initialResponse.getStatus() == ERROR) {\n         return Flux.error(\n           new IllegalStateException(\n             initialResponse.getErrorMessage()));\n       } else {\n         return checkIfDone(initialResponse.getRequestId())\n           .repeatWhen(repeat -&gt; repeat.delayElements(delay))\n           .doNext(response -&gt; {\n             if (response.getStatus() == ERROR) {\n               throw new IllegalStateException(\n                 initialResponse.getErrorMessage());\n             }\n           })\n           .takeUntil(response -&gt; response.getStatus() != PROCESSING)\n       }\n     });\n     \n}\n</code></pre>\n<p>It has a few flaws though</p>\n<ol>\n<li>the status processing is more or less repeated from the initial response</li>\n<li>the delay is part of the Mono and not part of the Flux.  Therefore, I cannot make it return the flux and have the delayElements on the flux.  I think it's the choice of <code>repeatWhen</code></li>\n</ol>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73031096,"answer_count":1,"score":0,"last_activity_date":1658204613,"creation_date":1658167559,"question_id":73026732,"body_markdown":"Similar to https://stackoverflow.com/questions/56701550/how-to-process-each-product-one-by-one-with-incremental-progress-update-using-sp\r\n\r\nThe thing I want to do is given\r\n\r\n```\r\nenum Status {\r\n  PROCESSING,\r\n  ERROR,\r\n  COMPLETE\r\n}\r\nrecord MyResp {\r\n  String requestId;\r\n  Status status;\r\n  double progress;\r\n  URI result;\r\n  String errorMessage;\r\n};\r\n\r\nMono&lt;MyResp&gt; requestSomethingSlow(MyReqObjectNotRelevant request);\r\n/**\r\n * Sets status to SUCCESS or return a Mono.error()\r\n */\r\nMono&lt;MyResp&gt; checkIfDone(String requestId);\r\n```\r\n\r\nI want a method like:\r\n\r\n```\r\nFlux&lt;MyResp&gt; requestSomethingSlowFlux(MyReqObjectNotRelevant request, Duration delay) {\r\n\r\n   return ...???\r\n     ??? requestSomethingSlow(request)\r\n     . ???\r\n     .delayElements(delay)\r\n     . ???\r\n     . checkIfDone(...?)\r\n     ...???\r\n\r\n}\r\n```\r\n\r\nI am thinking it&#39;s something like `Flux.generate` but how do I convert the `Mono&lt;MyResp&gt;` to a Callable and use it with the generator function?\r\n\r\nI was also looking at `Mono.expand` as shown in https://stackoverflow.com/questions/70204206/how-do-i-create-a-flux-using-generate-wrapping-calls-that-return-a-mono but that wouldn&#39;t work because I don&#39;t have a finite set of calls.\r\n\r\nSo far my implementation attempt looks like\r\n\r\n```\r\nFlux&lt;MyResp&gt; requestSomethingSlowFlux(MyReqObjectNotRelevant request, Duration delay) {\r\n\r\n   return requestSomethingSlow(request)\r\n     .flatMapMany(initialResponse -&gt; {\r\n       if (initialResponse.getStatus() == COMPLETE) {\r\n         return Flux.just(initialResponse);\r\n       } else if (initialResponse.getStatus() == ERROR) {\r\n         return Flux.error(\r\n           new IllegalStateException(\r\n             initialResponse.getErrorMessage()));\r\n       } else {\r\n         ... still figuring this part out\r\n       }\r\n     }\r\n     .delayElements(delay)\r\n     \r\n}\r\n```\r\n\r\nAlso similar to https://stackoverflow.com/questions/56519394/how-do-you-implement-polling-logic-in-project-reactor but I want it as a flux of events that show progress rather than all or none.","title":"How do I create a Flux where each element of the flux is a polling operation and terminate the flux on success or error?","body":"<p>Similar to <a href=\"https://stackoverflow.com/questions/56701550/how-to-process-each-product-one-by-one-with-incremental-progress-update-using-sp\">How to process each product one by one with incremental progress update using Spring reactive?</a></p>\n<p>The thing I want to do is given</p>\n<pre><code>enum Status {\n  PROCESSING,\n  ERROR,\n  COMPLETE\n}\nrecord MyResp {\n  String requestId;\n  Status status;\n  double progress;\n  URI result;\n  String errorMessage;\n};\n\nMono&lt;MyResp&gt; requestSomethingSlow(MyReqObjectNotRelevant request);\n/**\n * Sets status to SUCCESS or return a Mono.error()\n */\nMono&lt;MyResp&gt; checkIfDone(String requestId);\n</code></pre>\n<p>I want a method like:</p>\n<pre><code>Flux&lt;MyResp&gt; requestSomethingSlowFlux(MyReqObjectNotRelevant request, Duration delay) {\n\n   return ...???\n     ??? requestSomethingSlow(request)\n     . ???\n     .delayElements(delay)\n     . ???\n     . checkIfDone(...?)\n     ...???\n\n}\n</code></pre>\n<p>I am thinking it's something like <code>Flux.generate</code> but how do I convert the <code>Mono&lt;MyResp&gt;</code> to a Callable and use it with the generator function?</p>\n<p>I was also looking at <code>Mono.expand</code> as shown in <a href=\"https://stackoverflow.com/questions/70204206/how-do-i-create-a-flux-using-generate-wrapping-calls-that-return-a-mono\">How do I create a Flux using generate wrapping calls that return a Mono</a> but that wouldn't work because I don't have a finite set of calls.</p>\n<p>So far my implementation attempt looks like</p>\n<pre><code>Flux&lt;MyResp&gt; requestSomethingSlowFlux(MyReqObjectNotRelevant request, Duration delay) {\n\n   return requestSomethingSlow(request)\n     .flatMapMany(initialResponse -&gt; {\n       if (initialResponse.getStatus() == COMPLETE) {\n         return Flux.just(initialResponse);\n       } else if (initialResponse.getStatus() == ERROR) {\n         return Flux.error(\n           new IllegalStateException(\n             initialResponse.getErrorMessage()));\n       } else {\n         ... still figuring this part out\n       }\n     }\n     .delayElements(delay)\n     \n}\n</code></pre>\n<p>Also similar to <a href=\"https://stackoverflow.com/questions/56519394/how-do-you-implement-polling-logic-in-project-reactor\">How do you implement Polling Logic in Project Reactor?</a> but I want it as a flux of events that show progress rather than all or none.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1658193954,"post_id":73030046,"comment_id":128985396,"body_markdown":"If you use maven to manage dependency, you can try with cmd `mvn dependency:tree` to show the dependency tree of your project. Or use dependency plugin of your idea to manage it.","body":"If you use maven to manage dependency, you can try with cmd <code>mvn dependency:tree</code> to show the dependency tree of your project. Or use dependency plugin of your idea to manage it."},{"owner":{"account_id":22359615,"reputation":551,"user_id":16576319,"display_name":"Mahesh"},"score":0,"creation_date":1658196623,"post_id":73030046,"comment_id":128985789,"body_markdown":"Hi, \nThanks for your comment. I wish to know about adding new dependencies not check the existing once.","body":"Hi,  Thanks for your comment. I wish to know about adding new dependencies not check the existing once."}],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658204470,"creation_date":1658202206,"answer_id":73030860,"question_id":73030046,"body_markdown":"You can find them in public repositories like [https://mvnrepository.com][1] or search for *Maven Central* alternatives.\r\n\r\nAlso, you can find your needed dependency on that third-party library&#39;s official website, for example, if you want to add *Lombok* dependency to your project simply find it in [https://projectlombok.org/setup/maven][2]\r\n\r\nOne the other way is [Spring Initializr][3] ad you said. Just find and add the dependency inside this website and then click on the **Explore** link at the bottom of the main page:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAnd take a look at the `pom.xml` file. You can see the dependency:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nThere are absolutely multiple other ways like finding and adding the dependency in your **IDE** (IntelliJ, Eclipse ...) and ...\r\n\r\n\r\n  [1]: https://mvnrepository.com\r\n  [2]: https://projectlombok.org/setup/maven\r\n  [3]: https://start.spring.io/\r\n  [4]: https://i.stack.imgur.com/8oXb8.png\r\n  [5]: https://i.stack.imgur.com/lDrA6.jpg","title":"How to find Spring dependencies after project is initialized?","body":"<p>You can find them in public repositories like <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">https://mvnrepository.com</a> or search for <em>Maven Central</em> alternatives.</p>\n<p>Also, you can find your needed dependency on that third-party library's official website, for example, if you want to add <em>Lombok</em> dependency to your project simply find it in <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/maven</a></p>\n<p>One the other way is <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a> ad you said. Just find and add the dependency inside this website and then click on the <strong>Explore</strong> link at the bottom of the main page:</p>\n<p><a href=\"https://i.stack.imgur.com/8oXb8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8oXb8.png\" alt=\"enter image description here\" /></a></p>\n<p>And take a look at the <code>pom.xml</code> file. You can see the dependency:</p>\n<p><a href=\"https://i.stack.imgur.com/lDrA6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lDrA6.jpg\" alt=\"enter image description here\" /></a></p>\n<p>There are absolutely multiple other ways like finding and adding the dependency in your <strong>IDE</strong> (IntelliJ, Eclipse ...) and ...</p>\n"}],"owner":{"account_id":22359615,"reputation":551,"user_id":16576319,"display_name":"Mahesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73030860,"answer_count":1,"score":2,"last_activity_date":1658204535,"creation_date":1658192529,"question_id":73030046,"body_markdown":"I&#39;m new to Spring world. I am following Spring Microservices in Action, where they recommend to use Spring Intializr to get Spring dependencies. However, post that whenever we need to add new dependencies, maven dependencies are provided in book. What would professionals do in such situation? How will new dependencies be found and added to the `pom.xml`?","title":"How to find Spring dependencies after project is initialized?","body":"<p>I'm new to Spring world. I am following Spring Microservices in Action, where they recommend to use Spring Intializr to get Spring dependencies. However, post that whenever we need to add new dependencies, maven dependencies are provided in book. What would professionals do in such situation? How will new dependencies be found and added to the <code>pom.xml</code>?</p>\n"},{"tags":["java","spring-boot","jboss","redhat"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1658273069,"post_id":73024169,"comment_id":129009513,"body_markdown":"Is there a stack trace associated with the logged error?","body":"Is there a stack trace associated with the logged error?"},{"owner":{"account_id":18664868,"reputation":11,"user_id":13605106,"display_name":"Dante666z"},"score":0,"creation_date":1658279493,"post_id":73024169,"comment_id":129010482,"body_markdown":"like which one sorry?","body":"like which one sorry?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1658324243,"post_id":73024169,"comment_id":129023565,"body_markdown":"Is there more than one stack trace?","body":"Is there more than one stack trace?"},{"owner":{"account_id":18664868,"reputation":11,"user_id":13605106,"display_name":"Dante666z"},"score":0,"creation_date":1658435312,"post_id":73024169,"comment_id":129057478,"body_markdown":"like this? https://docs.google.com/document/d/1gJ4_L841Tz2_-dQOR9--1ivoXPm31zCUWNwVldSMMhU/edit?usp=sharing","body":"like this? <a href=\"https://docs.google.com/document/d/1gJ4_L841Tz2_-dQOR9--1ivoXPm31zCUWNwVldSMMhU/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1658436116,"post_id":73024169,"comment_id":129057692,"body_markdown":"Yes. You&#39;d want to look to see what the resource behind /proteccion/actuacion/1. It seems to be coming from Spring which I don&#39;t really know much about.","body":"Yes. You&#39;d want to look to see what the resource behind /proteccion/actuacion/1. It seems to be coming from Spring which I don&#39;t really know much about."},{"owner":{"account_id":18664868,"reputation":11,"user_id":13605106,"display_name":"Dante666z"},"score":0,"creation_date":1658441052,"post_id":73024169,"comment_id":129058915,"body_markdown":"Sure, I&#39;ve updated the document. https://docs.google.com/document/d/1gJ4_L841Tz2_-dQOR9--1ivoXPm31zCUWNwVldSMMhU/edit?usp=sharing","body":"Sure, I&#39;ve updated the document. <a href=\"https://docs.google.com/document/d/1gJ4_L841Tz2_-dQOR9--1ivoXPm31zCUWNwVldSMMhU/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}],"owner":{"account_id":18664868,"reputation":11,"user_id":13605106,"display_name":"Dante666z"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658204239,"creation_date":1658155258,"question_id":73024169,"body_markdown":"I hope you can help me, I have a springboot application which starts on a redhat jboss eap 7.3 server (This is already a project in which I started to collaborate and in the others if it works for them). The server starts fine, the application is the same, but when I try to make a request through PostMan I get the following error:\r\n\r\n```lang-shell\r\nERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /proteccion/actuacion/1: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.io.IOError: java.io.FileNotFoundException: Invalid file path.\r\n```\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.5&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;co.gov.sic.proteccion&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;api-proteccion&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;api-proteccion&lt;/name&gt;\r\n\t&lt;description&gt;Api Proteccion&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;docx4j&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;6.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20210307&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Se evita el uso del tomcat --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.50.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;proteccion&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```lang-shell\r\nError: \r\n09:18:06,637 INFO  [io.undertow.servlet] (default task-1) Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n09:18:06,637 INFO  [org.springframework.web.servlet.DispatcherServlet] (default task-1) Initializing Servlet &#39;dispatcherServlet&#39;\r\n09:18:06,641 INFO  [org.springframework.web.servlet.DispatcherServlet] (default task-1) Completed initialization in 3 ms\r\n09:18:06,728 INFO  [stdout] (default task-1) Hibernate: select actuacion0_.codi_actu as codi_act1_0_0_, actuacion0_.desc_actu as desc_act2_0_0_, actuacion0_.esta_actu as esta_act3_0_0_, actuacion0_.fech_crea as fech_cre4_0_0_, actuacion0_.fech_vige as fech_vig5_0_0_, actuacion0_.noab_actu as noab_act6_0_0_, actuacion0_.nomb_actu as nomb_act7_0_0_, actuacion0_.novi_actu as novi_act8_0_0_, actuacion0_.tipo_actu as tipo_act9_0_0_ from actuacion actuacion0_ where actuacion0_.codi_actu=?\r\n\r\n09:18:09,561 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /proteccion/actuacion/1: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.io.IOError: java.io.FileNotFoundException: Invalid file path\r\n```","title":"Handler dispatch failed; nested exception is java.io.IOError: java.io.FileNotFoundException: Invalid file path","body":"<p>I hope you can help me, I have a springboot application which starts on a redhat jboss eap 7.3 server (This is already a project in which I started to collaborate and in the others if it works for them). The server starts fine, the application is the same, but when I try to make a request through PostMan I get the following error:</p>\n<pre class=\"lang-shell prettyprint-override\"><code>ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /proteccion/actuacion/1: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.io.IOError: java.io.FileNotFoundException: Invalid file path.\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;co.gov.sic.proteccion&lt;/groupId&gt;\n    &lt;artifactId&gt;api-proteccion&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;api-proteccion&lt;/name&gt;\n    &lt;description&gt;Api Proteccion&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Se evita el uso del tomcat --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\n            &lt;artifactId&gt;jdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.50.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;proteccion&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-shell prettyprint-override\"><code>Error: \n09:18:06,637 INFO  [io.undertow.servlet] (default task-1) Initializing Spring DispatcherServlet 'dispatcherServlet'\n09:18:06,637 INFO  [org.springframework.web.servlet.DispatcherServlet] (default task-1) Initializing Servlet 'dispatcherServlet'\n09:18:06,641 INFO  [org.springframework.web.servlet.DispatcherServlet] (default task-1) Completed initialization in 3 ms\n09:18:06,728 INFO  [stdout] (default task-1) Hibernate: select actuacion0_.codi_actu as codi_act1_0_0_, actuacion0_.desc_actu as desc_act2_0_0_, actuacion0_.esta_actu as esta_act3_0_0_, actuacion0_.fech_crea as fech_cre4_0_0_, actuacion0_.fech_vige as fech_vig5_0_0_, actuacion0_.noab_actu as noab_act6_0_0_, actuacion0_.nomb_actu as nomb_act7_0_0_, actuacion0_.novi_actu as novi_act8_0_0_, actuacion0_.tipo_actu as tipo_act9_0_0_ from actuacion actuacion0_ where actuacion0_.codi_actu=?\n\n09:18:09,561 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /proteccion/actuacion/1: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.io.IOError: java.io.FileNotFoundException: Invalid file path\n</code></pre>\n"},{"tags":["java","c#","kotlin","go","concurrency"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1657921482,"post_id":72999845,"comment_id":128933034,"body_markdown":"You are correct: coroutines are basically the same thing as completable futures, just with a much simpler and more straightforward syntax.  There&#39;s not necessarily that much difference between that and green threads.","body":"You are correct: coroutines are basically the same thing as completable futures, just with a much simpler and more straightforward syntax.  There&#39;s not necessarily that much difference between that and green threads."},{"owner":{"account_id":1520553,"reputation":5908,"user_id":1420332,"accept_rate":75,"display_name":"Dmitry Harnitski"},"score":0,"creation_date":1657934489,"post_id":72999845,"comment_id":128934725,"body_markdown":"Last paragraph is correct, except it is not one OS Thread. Goroutines are executed on multiple threads if necessary - https://stackoverflow.com/a/39246575/1420332","body":"Last paragraph is correct, except it is not one OS Thread. Goroutines are executed on multiple threads if necessary - <a href=\"https://stackoverflow.com/a/39246575/1420332\">stackoverflow.com/a/39246575/1420332</a>"},{"owner":{"account_id":18844138,"reputation":197,"user_id":13744872,"display_name":"eren arslan"},"score":0,"creation_date":1657938130,"post_id":72999845,"comment_id":128935047,"body_markdown":"yes, I know. I focused only for one logical processer","body":"yes, I know. I focused only for one logical processer"}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657923561,"creation_date":1657923561,"answer_id":73000095,"question_id":72999845,"body_markdown":"Making things simple:\r\n\r\n1. Thread - easy to use, because it is sequential. Reading from the network and writing to a file is as simple as: `writeToDisk(readFromNetwork())`. On the other hand, it is expensive to run each task in a separate thread.\r\n2. Executors/CompletableFuture - more performant, it makes better use of both CPU and memory. On the other hand, it requires using callbacks and the code quickly becomes hard to read and maintain.\r\n3. Coroutines - both sequential and performant.\r\n\r\nI ignore other features of coroutines like structured concurrency, because this was not your main concern.","title":"Kotlin Concurrency againts Goroutine, Task, CompletableFuture","body":"<p>Making things simple:</p>\n<ol>\n<li>Thread - easy to use, because it is sequential. Reading from the network and writing to a file is as simple as: <code>writeToDisk(readFromNetwork())</code>. On the other hand, it is expensive to run each task in a separate thread.</li>\n<li>Executors/CompletableFuture - more performant, it makes better use of both CPU and memory. On the other hand, it requires using callbacks and the code quickly becomes hard to read and maintain.</li>\n<li>Coroutines - both sequential and performant.</li>\n</ol>\n<p>I ignore other features of coroutines like structured concurrency, because this was not your main concern.</p>\n"}],"owner":{"account_id":18844138,"reputation":197,"user_id":13744872,"display_name":"eren arslan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1658204201,"creation_date":1657921313,"question_id":72999845,"body_markdown":"\r\nPeople always show the same example when I read articles about concurrency in kotlin coroutine or golang goroutine.\r\n\r\nCreate 100_000 Threads in Java or C#, ooopps Stackoverflow.\r\n\r\nYes. but anyone Who uses directly Thread classes in Java or C#?\r\n\r\n\r\nIn java and C#, There are thread pools for CompletableFuture and Task.\r\n\r\nWhen We try to create 100_000 Task or CompletableFuture, We can do that easily with ExecuterService/ForkJoinPool or dotnet DefaultThread Pool. They will reuse the threads. If there is no available thread. Tasks will wait in the queue.\r\n\r\nMy Questions;\r\n\r\n1) yes structured concurrency is good for cancellations. But Kotlin uses the Thread Pool like CompletableFuture. But unlike Java Callbacks, It provides natural code syntax. The only Difference is Syntax for Kotlin coroutine between c# Task or Java CompletableFuture?\r\n\r\n2) Kotlin runs on JVM. as far as I know, JVM doesn&#39;t support green Threads. But people talk like kotlin uses Green Threads. How is that possible with JVM? And Why Coroutines are called Lightweight Threads.  Then We can say  CompletableFuture and Task are Lightweight Thread too. Right?\r\n\r\nYes, golang has a scheduler. goroutines are user-level threads. When we create a goroutine it goes to localrunqueue. And a dedicated OS thread gets goroutines one by one from that queue and executes.  There are no context switch operations. All of them run on the same OS Thread until blocking. Goroutines are cheap and We can say that YES goroutines are Lightweight Threads.\r\n\r\nMaybe I&#39;m completely wrong about coroutines. please correct me.\r\n\r\n\r\n","title":"Kotlin Concurrency againts Goroutine, Task, CompletableFuture","body":"<p>People always show the same example when I read articles about concurrency in kotlin coroutine or golang goroutine.</p>\n<p>Create 100_000 Threads in Java or C#, ooopps Stackoverflow.</p>\n<p>Yes. but anyone Who uses directly Thread classes in Java or C#?</p>\n<p>In java and C#, There are thread pools for CompletableFuture and Task.</p>\n<p>When We try to create 100_000 Task or CompletableFuture, We can do that easily with ExecuterService/ForkJoinPool or dotnet DefaultThread Pool. They will reuse the threads. If there is no available thread. Tasks will wait in the queue.</p>\n<p>My Questions;</p>\n<ol>\n<li><p>yes structured concurrency is good for cancellations. But Kotlin uses the Thread Pool like CompletableFuture. But unlike Java Callbacks, It provides natural code syntax. The only Difference is Syntax for Kotlin coroutine between c# Task or Java CompletableFuture?</p>\n</li>\n<li><p>Kotlin runs on JVM. as far as I know, JVM doesn't support green Threads. But people talk like kotlin uses Green Threads. How is that possible with JVM? And Why Coroutines are called Lightweight Threads.  Then We can say  CompletableFuture and Task are Lightweight Thread too. Right?</p>\n</li>\n</ol>\n<p>Yes, golang has a scheduler. goroutines are user-level threads. When we create a goroutine it goes to localrunqueue. And a dedicated OS thread gets goroutines one by one from that queue and executes.  There are no context switch operations. All of them run on the same OS Thread until blocking. Goroutines are cheap and We can say that YES goroutines are Lightweight Threads.</p>\n<p>Maybe I'm completely wrong about coroutines. please correct me.</p>\n"},{"tags":["java","netbeans","jar"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657876533,"post_id":72991513,"comment_id":128918891,"body_markdown":"Have you looked at the stack trace? `at ClaseFondo.ImagenFondo.&lt;init&gt;(ImagenFondo.java:19)` - that&#39;s where the NPE happens. You haven&#39;t showed us that code. Also, the stack trace says `ImagenFondo` is constructed on line 25 of MenuMD.java but I don&#39;t see that in the listing you&#39;ve posted, so your listing is not what you&#39;re executing.","body":"Have you looked at the stack trace? <code>at ClaseFondo.ImagenFondo.&lt;init&gt;(ImagenFondo.java:19)</code> - that&#39;s where the NPE happens. You haven&#39;t showed us that code. Also, the stack trace says <code>ImagenFondo</code> is constructed on line 25 of MenuMD.java but I don&#39;t see that in the listing you&#39;ve posted, so your listing is not what you&#39;re executing."},{"owner":{"account_id":9206739,"reputation":145,"user_id":7546123,"display_name":"Fran.J"},"score":0,"creation_date":1658203474,"post_id":72991513,"comment_id":128986824,"body_markdown":"@k314159 , Thanks for answering, actually it was my mistake to delete some lines in the code, that&#39;s why they don&#39;t match the stack message. That line 25 refers to: `escritorioMD.setBorder(new ImagenFondo());` . I also add the code of ImagenFondo.java as you suggest. Sorry if this is not the correct way to do it.","body":"@k314159 , Thanks for answering, actually it was my mistake to delete some lines in the code, that&#39;s why they don&#39;t match the stack message. That line 25 refers to: <code>escritorioMD.setBorder(new ImagenFondo());</code> . I also add the code of ImagenFondo.java as you suggest. Sorry if this is not the correct way to do it."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1658221632,"post_id":72991513,"comment_id":128991666,"body_markdown":"I think the problem is that `getClass().getResource(&quot;../Iconos/FondoUnacFIIS.jpg&quot;)` is returning null. Check the location of your resource in the jar (use a zip file viewer or just `jar --list`). Check the documentation of [getResource](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)) - it has special rules for the use of &quot;/&quot;.","body":"I think the problem is that <code>getClass().getResource(&quot;..&#47;Iconos&#47;FondoUnacFIIS.jpg&quot;)</code> is returning null. Check the location of your resource in the jar (use a zip file viewer or just <code>jar --list</code>). Check the documentation of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">getResource</a> - it has special rules for the use of &quot;/&quot;."}],"owner":{"account_id":9206739,"reputation":145,"user_id":7546123,"display_name":"Fran.J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658204168,"answer_count":0,"score":0,"last_activity_date":1658203908,"creation_date":1657875442,"question_id":72991513,"body_markdown":"I have a pending problem of years without being able to solve regarding the execution of a small project (desktop) made in java with NetBeans. Generating the `.jar` file and running it with the `.bat` file gives me the following error message:\r\n\r\n    D:\\01 Documentos\\00 MI BIBLIOTECA\\PROYECTOS PROG\\NetbeansProyect\\MateDiscreta\\dist&gt;java -jar MateDiscreta.jar\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n            at ClaseFondo.ImagenFondo.&lt;init&gt;(ImagenFondo.java:19)\r\n            at Interfaz.MenuMD.&lt;init&gt;(MenuMD.java:25)\r\n            at Interfaz.MenuMD$9.run(MenuMD.java:215)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n\r\nThat is to say, the program runs without problems from the IDE. Next, I will show you the general structure of the project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, the file to be executed (main) is the **MenuMD.java**, which is the one that calls the other windows that are inside the **Interfaz** folder through the **Programas** button .\r\n\r\nThe following code is from **MenuMD.java**:\r\n\r\n    package Interfaz;\r\n\r\n    import ClaseFondo.ImagenFondo;\r\n    import java.net.URISyntaxException;\r\n    import javax.swing.ImageIcon;\r\n\r\n    public class MenuMD extends javax.swing.JFrame {\r\n\r\n    public MenuMD() {\r\n               \r\n        initComponents();\r\n        \r\n        //Allows to change the window icon\r\n        setIconImage(new ImageIcon(getClass().getResource(&quot;/Iconos/IconoMD.jpg&quot;)).getImage());\r\n        \r\n        //The background class is called, to implement it on the desktop\r\n        escritorioMD.setBorder(new ImagenFondo());\r\n        \r\n        //Allows you to maximize the form\r\n        this.setExtendedState(MenuMD.MAXIMIZED_BOTH);\r\n        \r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents\r\n    private void initComponents() {\r\n\r\n        escritorioMD = new javax.swing.JDesktopPane();\r\n        menuherraMD = new javax.swing.JMenuBar();\r\n        menuprog = new javax.swing.JMenu();\r\n        jSeparator1 = new javax.swing.JPopupMenu.Separator();\r\n        jSeparator2 = new javax.swing.JPopupMenu.Separator();\r\n        menuinfnum = new javax.swing.JMenuItem();\r\n        jSeparator3 = new javax.swing.JPopupMenu.Separator();\r\n        menunumpri = new javax.swing.JMenuItem();\r\n        jSeparator4 = new javax.swing.JPopupMenu.Separator();\r\n        progmcdmcm = new javax.swing.JMenuItem();\r\n        jSeparator5 = new javax.swing.JPopupMenu.Separator();\r\n        menuecudio = new javax.swing.JMenuItem();\r\n        jSeparator6 = new javax.swing.JPopupMenu.Separator();\r\n        menusalir = new javax.swing.JMenuItem();\r\n        menucred = new javax.swing.JMenu();\r\n        menudatos = new javax.swing.JMenuItem();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        escritorioMD.setBackground(new java.awt.Color(0, 204, 204));\r\n\r\n        javax.swing.GroupLayout escritorioMDLayout = new javax.swing.GroupLayout(escritorioMD);\r\n        escritorioMD.setLayout(escritorioMDLayout);\r\n        escritorioMDLayout.setHorizontalGroup(\r\n            escritorioMDLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGap(0, 744, Short.MAX_VALUE)\r\n        );\r\n        escritorioMDLayout.setVerticalGroup(\r\n            escritorioMDLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGap(0, 221, Short.MAX_VALUE)\r\n        );\r\n\r\n        menuprog.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/System.png&quot;))); // NOI18N\r\n        menuprog.setText(&quot;Programas&quot;);\r\n        menuprog.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menuprogActionPerformed(evt);\r\n            }\r\n        });\r\n        menuprog.add(jSeparator1);\r\n        menuprog.add(jSeparator2);\r\n\r\n        menuinfnum.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Search.png&quot;))); // NOI18N\r\n        menuinfnum.setText(&quot;Info N&#250;mero&quot;);\r\n        menuinfnum.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menuinfnumActionPerformed(evt);\r\n            }\r\n        });\r\n        menuprog.add(menuinfnum);\r\n        menuprog.add(jSeparator3);\r\n\r\n        menunumpri.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Undo.png&quot;))); // NOI18N\r\n        menunumpri.setText(&quot;Generar Num. Primos&quot;);\r\n        menunumpri.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menunumpriActionPerformed(evt);\r\n            }\r\n        });\r\n        menuprog.add(menunumpri);\r\n        menuprog.add(jSeparator4);\r\n\r\n        progmcdmcm.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Tip.png&quot;))); // NOI18N\r\n        progmcdmcm.setText(&quot;MCD y MCM&quot;);\r\n        progmcdmcm.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                progmcdmcmActionPerformed(evt);\r\n            }\r\n        });\r\n        menuprog.add(progmcdmcm);\r\n        menuprog.add(jSeparator5);\r\n\r\n        menuecudio.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Stationery.png&quot;))); // NOI18N\r\n        menuecudio.setText(&quot;Ecuaciones Diof&#225;nticas&quot;);\r\n        menuecudio.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menuecudioActionPerformed(evt);\r\n            }\r\n        });\r\n        menuprog.add(menuecudio);\r\n        menuprog.add(jSeparator6);\r\n\r\n        menusalir.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Close.png&quot;))); // NOI18N\r\n        menusalir.setText(&quot;Salir&quot;);\r\n        menusalir.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menusalirActionPerformed(evt);\r\n            }\r\n        });\r\n        menuprog.add(menusalir);\r\n\r\n        menuherraMD.add(menuprog);\r\n\r\n        menucred.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/user.png&quot;))); // NOI18N\r\n        menucred.setText(&quot;Cr&#233;dito&quot;);\r\n        menucred.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menucredActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        menudatos.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Info.png&quot;))); // NOI18N\r\n        menudatos.setText(&quot;Datos del Programa&quot;);\r\n        menudatos.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                menudatosActionPerformed(evt);\r\n            }\r\n        });\r\n        menucred.add(menudatos);\r\n\r\n        menuherraMD.add(menucred);\r\n\r\n        setJMenuBar(menuherraMD);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(escritorioMD)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(escritorioMD)\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;//GEN-END:initComponents\r\n\r\n    private void menucredActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menucredActionPerformed\r\n      \r\n    }//GEN-LAST:event_menucredActionPerformed\r\n\r\n    private void menudatosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menudatosActionPerformed\r\n        Cr&#233;dito cred = new Cr&#233;dito();\r\n        escritorioMD.add(cred);\r\n        cred.setVisible(true);\r\n    }//GEN-LAST:event_menudatosActionPerformed\r\n\r\n    private void menuprogActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuprogActionPerformed\r\n        // TODO add your handling code here:\r\n    }//GEN-LAST:event_menuprogActionPerformed\r\n\r\n    private void menusalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menusalirActionPerformed\r\n        System.exit(0);\r\n    }//GEN-LAST:event_menusalirActionPerformed\r\n\r\n    private void menuecudioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuecudioActionPerformed\r\n        Diofanto dio=new Diofanto();\r\n        escritorioMD.add(dio);\r\n        dio.setVisible(true);\r\n    }//GEN-LAST:event_menuecudioActionPerformed\r\n\r\n    private void progmcdmcmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_progmcdmcmActionPerformed\r\n        McdMcm mm = new McdMcm();\r\n        escritorioMD.add(mm);\r\n        mm.setVisible(true);\r\n    }//GEN-LAST:event_progmcdmcmActionPerformed\r\n\r\n    private void menunumpriActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menunumpriActionPerformed\r\n        GenNumPrim gnp = new GenNumPrim();\r\n        escritorioMD.add(gnp);\r\n        gnp.setVisible(true);\r\n    }//GEN-LAST:event_menunumpriActionPerformed\r\n\r\n    private void menuinfnumActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuinfnumActionPerformed\r\n        NatNum inf = new NatNum();\r\n        escritorioMD.add(inf);\r\n        inf.setVisible(true);\r\n    }//GEN-LAST:event_menuinfnumActionPerformed\r\n\r\n    public static void main(String args[]) {\r\n               \r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n           \r\n            public void run() {\r\n                new MenuMD().setVisible(true);\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    // Variables declaration - do not modify//GEN-BEGIN:variables\r\n    private javax.swing.JDesktopPane escritorioMD;\r\n    private javax.swing.JPopupMenu.Separator jSeparator1;\r\n    private javax.swing.JPopupMenu.Separator jSeparator2;\r\n    private javax.swing.JPopupMenu.Separator jSeparator3;\r\n    private javax.swing.JPopupMenu.Separator jSeparator4;\r\n    private javax.swing.JPopupMenu.Separator jSeparator5;\r\n    private javax.swing.JPopupMenu.Separator jSeparator6;\r\n    private javax.swing.JMenu menucred;\r\n    private javax.swing.JMenuItem menudatos;\r\n    private javax.swing.JMenuItem menuecudio;\r\n    private javax.swing.JMenuBar menuherraMD;\r\n    private javax.swing.JMenuItem menuinfnum;\r\n    private javax.swing.JMenuItem menunumpri;\r\n    private javax.swing.JMenu menuprog;\r\n    private javax.swing.JMenuItem menusalir;\r\n    private javax.swing.JMenuItem progmcdmcm;\r\n    // End of variables declaration//GEN-END:variables\r\n    }\r\n\r\n\r\nAnd then the code for the `ImagenFondo.java` class:\r\n\r\n        \r\n    package ClaseFondo;\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Graphics;\r\n    import java.awt.Insets;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.border.Border;\r\n \r\n\r\n    public class ImagenFondo implements Border{\r\n    public BufferedImage back;\r\n \r\n    public ImagenFondo(){\r\n        try {\r\n            URL imagePath = new URL(getClass().getResource(&quot;../Iconos/FondoUnacFIIS.jpg&quot;).toString());\r\n            back = ImageIO.read(imagePath);\r\n        } catch (IOException ex) {            \r\n          }\r\n    }\r\n\r\n    @Override\r\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n        g.drawImage(back, (x + (width - back.getWidth())/2),(y + (height - back.getHeight())/2), null);\r\n    }\r\n \r\n    @Override\r\n    public Insets getBorderInsets(Component c) {\r\n        return new Insets(0,0,0,0);\r\n    }\r\n \r\n    @Override\r\n    public boolean isBorderOpaque() {\r\n        return false;\r\n    }\r\n \r\n}\r\n\r\n\r\nBelieve me that I have tried in every possible way with information from the network and with similar cases exposed on this platform, but without success. I don&#39;t know how or where to apply the obtaining of the path of the resources that the execution of the **.jar** mentions when executing it.\r\n\r\nIt would be very helpful, since it would allow me to close and complete this project that I have pending since university.\r\n\r\nThank you.\r\n\r\n  [1]: https://i.stack.imgur.com/Zj88T.png","title":"&quot;Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null&quot; - NetBeans (Jar)","body":"<p>I have a pending problem of years without being able to solve regarding the execution of a small project (desktop) made in java with NetBeans. Generating the <code>.jar</code> file and running it with the <code>.bat</code> file gives me the following error message:</p>\n<pre><code>D:\\01 Documentos\\00 MI BIBLIOTECA\\PROYECTOS PROG\\NetbeansProyect\\MateDiscreta\\dist&gt;java -jar MateDiscreta.jar\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n        at ClaseFondo.ImagenFondo.&lt;init&gt;(ImagenFondo.java:19)\n        at Interfaz.MenuMD.&lt;init&gt;(MenuMD.java:25)\n        at Interfaz.MenuMD$9.run(MenuMD.java:215)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>That is to say, the program runs without problems from the IDE. Next, I will show you the general structure of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/Zj88T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zj88T.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the file to be executed (main) is the <strong>MenuMD.java</strong>, which is the one that calls the other windows that are inside the <strong>Interfaz</strong> folder through the <strong>Programas</strong> button .</p>\n<p>The following code is from <strong>MenuMD.java</strong>:</p>\n<pre><code>package Interfaz;\n\nimport ClaseFondo.ImagenFondo;\nimport java.net.URISyntaxException;\nimport javax.swing.ImageIcon;\n\npublic class MenuMD extends javax.swing.JFrame {\n\npublic MenuMD() {\n           \n    initComponents();\n    \n    //Allows to change the window icon\n    setIconImage(new ImageIcon(getClass().getResource(&quot;/Iconos/IconoMD.jpg&quot;)).getImage());\n    \n    //The background class is called, to implement it on the desktop\n    escritorioMD.setBorder(new ImagenFondo());\n    \n    //Allows you to maximize the form\n    this.setExtendedState(MenuMD.MAXIMIZED_BOTH);\n    \n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents\nprivate void initComponents() {\n\n    escritorioMD = new javax.swing.JDesktopPane();\n    menuherraMD = new javax.swing.JMenuBar();\n    menuprog = new javax.swing.JMenu();\n    jSeparator1 = new javax.swing.JPopupMenu.Separator();\n    jSeparator2 = new javax.swing.JPopupMenu.Separator();\n    menuinfnum = new javax.swing.JMenuItem();\n    jSeparator3 = new javax.swing.JPopupMenu.Separator();\n    menunumpri = new javax.swing.JMenuItem();\n    jSeparator4 = new javax.swing.JPopupMenu.Separator();\n    progmcdmcm = new javax.swing.JMenuItem();\n    jSeparator5 = new javax.swing.JPopupMenu.Separator();\n    menuecudio = new javax.swing.JMenuItem();\n    jSeparator6 = new javax.swing.JPopupMenu.Separator();\n    menusalir = new javax.swing.JMenuItem();\n    menucred = new javax.swing.JMenu();\n    menudatos = new javax.swing.JMenuItem();\n\n    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n    escritorioMD.setBackground(new java.awt.Color(0, 204, 204));\n\n    javax.swing.GroupLayout escritorioMDLayout = new javax.swing.GroupLayout(escritorioMD);\n    escritorioMD.setLayout(escritorioMDLayout);\n    escritorioMDLayout.setHorizontalGroup(\n        escritorioMDLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGap(0, 744, Short.MAX_VALUE)\n    );\n    escritorioMDLayout.setVerticalGroup(\n        escritorioMDLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGap(0, 221, Short.MAX_VALUE)\n    );\n\n    menuprog.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/System.png&quot;))); // NOI18N\n    menuprog.setText(&quot;Programas&quot;);\n    menuprog.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menuprogActionPerformed(evt);\n        }\n    });\n    menuprog.add(jSeparator1);\n    menuprog.add(jSeparator2);\n\n    menuinfnum.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Search.png&quot;))); // NOI18N\n    menuinfnum.setText(&quot;Info Número&quot;);\n    menuinfnum.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menuinfnumActionPerformed(evt);\n        }\n    });\n    menuprog.add(menuinfnum);\n    menuprog.add(jSeparator3);\n\n    menunumpri.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Undo.png&quot;))); // NOI18N\n    menunumpri.setText(&quot;Generar Num. Primos&quot;);\n    menunumpri.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menunumpriActionPerformed(evt);\n        }\n    });\n    menuprog.add(menunumpri);\n    menuprog.add(jSeparator4);\n\n    progmcdmcm.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Tip.png&quot;))); // NOI18N\n    progmcdmcm.setText(&quot;MCD y MCM&quot;);\n    progmcdmcm.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            progmcdmcmActionPerformed(evt);\n        }\n    });\n    menuprog.add(progmcdmcm);\n    menuprog.add(jSeparator5);\n\n    menuecudio.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Stationery.png&quot;))); // NOI18N\n    menuecudio.setText(&quot;Ecuaciones Diofánticas&quot;);\n    menuecudio.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menuecudioActionPerformed(evt);\n        }\n    });\n    menuprog.add(menuecudio);\n    menuprog.add(jSeparator6);\n\n    menusalir.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Close.png&quot;))); // NOI18N\n    menusalir.setText(&quot;Salir&quot;);\n    menusalir.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menusalirActionPerformed(evt);\n        }\n    });\n    menuprog.add(menusalir);\n\n    menuherraMD.add(menuprog);\n\n    menucred.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/user.png&quot;))); // NOI18N\n    menucred.setText(&quot;Crédito&quot;);\n    menucred.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menucredActionPerformed(evt);\n        }\n    });\n\n    menudatos.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Iconos/Info.png&quot;))); // NOI18N\n    menudatos.setText(&quot;Datos del Programa&quot;);\n    menudatos.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            menudatosActionPerformed(evt);\n        }\n    });\n    menucred.add(menudatos);\n\n    menuherraMD.add(menucred);\n\n    setJMenuBar(menuherraMD);\n\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n    getContentPane().setLayout(layout);\n    layout.setHorizontalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addComponent(escritorioMD)\n    );\n    layout.setVerticalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addComponent(escritorioMD)\n    );\n\n    pack();\n}// &lt;/editor-fold&gt;//GEN-END:initComponents\n\nprivate void menucredActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menucredActionPerformed\n  \n}//GEN-LAST:event_menucredActionPerformed\n\nprivate void menudatosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menudatosActionPerformed\n    Crédito cred = new Crédito();\n    escritorioMD.add(cred);\n    cred.setVisible(true);\n}//GEN-LAST:event_menudatosActionPerformed\n\nprivate void menuprogActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuprogActionPerformed\n    // TODO add your handling code here:\n}//GEN-LAST:event_menuprogActionPerformed\n\nprivate void menusalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menusalirActionPerformed\n    System.exit(0);\n}//GEN-LAST:event_menusalirActionPerformed\n\nprivate void menuecudioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuecudioActionPerformed\n    Diofanto dio=new Diofanto();\n    escritorioMD.add(dio);\n    dio.setVisible(true);\n}//GEN-LAST:event_menuecudioActionPerformed\n\nprivate void progmcdmcmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_progmcdmcmActionPerformed\n    McdMcm mm = new McdMcm();\n    escritorioMD.add(mm);\n    mm.setVisible(true);\n}//GEN-LAST:event_progmcdmcmActionPerformed\n\nprivate void menunumpriActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menunumpriActionPerformed\n    GenNumPrim gnp = new GenNumPrim();\n    escritorioMD.add(gnp);\n    gnp.setVisible(true);\n}//GEN-LAST:event_menunumpriActionPerformed\n\nprivate void menuinfnumActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuinfnumActionPerformed\n    NatNum inf = new NatNum();\n    escritorioMD.add(inf);\n    inf.setVisible(true);\n}//GEN-LAST:event_menuinfnumActionPerformed\n\npublic static void main(String args[]) {\n           \n    java.awt.EventQueue.invokeLater(new Runnable() {\n       \n        public void run() {\n            new MenuMD().setVisible(true);\n        }\n    });\n    \n}\n\n// Variables declaration - do not modify//GEN-BEGIN:variables\nprivate javax.swing.JDesktopPane escritorioMD;\nprivate javax.swing.JPopupMenu.Separator jSeparator1;\nprivate javax.swing.JPopupMenu.Separator jSeparator2;\nprivate javax.swing.JPopupMenu.Separator jSeparator3;\nprivate javax.swing.JPopupMenu.Separator jSeparator4;\nprivate javax.swing.JPopupMenu.Separator jSeparator5;\nprivate javax.swing.JPopupMenu.Separator jSeparator6;\nprivate javax.swing.JMenu menucred;\nprivate javax.swing.JMenuItem menudatos;\nprivate javax.swing.JMenuItem menuecudio;\nprivate javax.swing.JMenuBar menuherraMD;\nprivate javax.swing.JMenuItem menuinfnum;\nprivate javax.swing.JMenuItem menunumpri;\nprivate javax.swing.JMenu menuprog;\nprivate javax.swing.JMenuItem menusalir;\nprivate javax.swing.JMenuItem progmcdmcm;\n// End of variables declaration//GEN-END:variables\n}\n</code></pre>\n<p>And then the code for the <code>ImagenFondo.java</code> class:</p>\n<pre><code>package ClaseFondo;\n\nimport java.awt.Component;\nimport java.awt.Graphics;\nimport java.awt.Insets;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport javax.imageio.ImageIO;\nimport javax.swing.border.Border;\n\n\npublic class ImagenFondo implements Border{\npublic BufferedImage back;\n\npublic ImagenFondo(){\n    try {\n        URL imagePath = new URL(getClass().getResource(&quot;../Iconos/FondoUnacFIIS.jpg&quot;).toString());\n        back = ImageIO.read(imagePath);\n    } catch (IOException ex) {            \n      }\n}\n\n@Override\npublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n    g.drawImage(back, (x + (width - back.getWidth())/2),(y + (height - back.getHeight())/2), null);\n}\n\n@Override\npublic Insets getBorderInsets(Component c) {\n    return new Insets(0,0,0,0);\n}\n\n@Override\npublic boolean isBorderOpaque() {\n    return false;\n}\n</code></pre>\n<p>}</p>\n<p>Believe me that I have tried in every possible way with information from the network and with similar cases exposed on this platform, but without success. I don't know how or where to apply the obtaining of the path of the resources that the execution of the <strong>.jar</strong> mentions when executing it.</p>\n<p>It would be very helpful, since it would allow me to close and complete this project that I have pending since university.</p>\n<p>Thank you.</p>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1440714548,"post_id":32260445,"comment_id":52400718,"body_markdown":"Is the array in sorted order when you call `binarySearch`?","body":"Is the array in sorted order when you call <code>binarySearch</code>?"},{"owner":{"account_id":6860623,"reputation":61,"user_id":5274758,"display_name":"user5274758"},"score":0,"creation_date":1440714916,"post_id":32260445,"comment_id":52400831,"body_markdown":"Yea their sorted. When the elements in the array are printed their all coming out as null for some reason.","body":"Yea their sorted. When the elements in the array are printed their all coming out as null for some reason."},{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":1,"creation_date":1440715045,"post_id":32260445,"comment_id":52400872,"body_markdown":"In what way is this not working? What is the expected behavior vs the actual behavior? What have you tried?","body":"In what way is this not working? What is the expected behavior vs the actual behavior? What have you tried?"},{"owner":{"account_id":28117,"reputation":105582,"user_id":74757,"accept_rate":79,"display_name":"Cᴏʀʏ"},"score":1,"creation_date":1440715442,"post_id":32260445,"comment_id":52400976,"body_markdown":"Just curious, is this a homework assignment? `Arrays.sort(numArray); Arrays.binarySearch(numArray, &quot;The&quot;);` could replace most of this code.","body":"Just curious, is this a homework assignment? <code>Arrays.sort(numArray); Arrays.binarySearch(numArray, &quot;The&quot;);</code> could replace most of this code."}],"answers":[{"tags":[],"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440716032,"creation_date":1440716032,"answer_id":32260688,"question_id":32260445,"body_markdown":"I believe that your problem is that you forgot to output the results. Try replacing `binarySearch(numArray, searchItem);` with  `System.out.println(binarySearch(numArray, searchItem));`","title":"Implementing binary search on an array of Strings","body":"<p>I believe that your problem is that you forgot to output the results. Try replacing <code>binarySearch(numArray, searchItem);</code> with  <code>System.out.println(binarySearch(numArray, searchItem));</code></p>\n"},{"tags":[],"owner":{"account_id":4768808,"reputation":138,"user_id":3854212,"display_name":"bombe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440773071,"creation_date":1440773071,"answer_id":32273713,"question_id":32260445,"body_markdown":"There are four issues that I can spot in addition to the already mentioned missing print of the result.\r\n\r\n1: You have a `String[]` called `numArray` and you are searching for a `String`, `&quot;The&quot;` the name `numArray` is possibly a bit mis-leading.\r\n\r\n2: I assume you have some sort of specified input file format where the number of `String` in the file are specified by an `integer` as the first token in the file. This is ok however, as a condition in the for loop that populates the `numArray` there is `in.hasNextInt()`, and the next token is taken out of the `Scanner` using `in.nextLine()`. You should use complementing check/removal methods such as `in.hasNext()` with `in.next()`. Check out the `Scanner` [API](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html).\r\n\r\n3: The `binarySearch(String[], String)` method uses `String.compareTo(String)`. This is determines a lexicographical ordering of this `String` to the parameter `String`. Trying to compare upper case to lower case may not yield what you expect, as `&quot;the&quot;.compareTo(&quot;The&quot;)` will not result in `0`. You should check out the `String` [API](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)) for options to either force all of your input to one case, maybe while reading the file, or use a different flavor of a compare to method.\r\n\r\n4: The last thing that I see may be considered a bit of a corner case, however with a sufficiently large `String` array, and a search string that may reside far in the right side, ie. high index side, of the array you may get an `ArrayIndexOutOfBoundsException`. This is because `(low + high)` can result in a negative value, when the result &quot;should&quot; be greater than `Integer.MAX_VALUE`. Then the result is divided by two and still yields a negative value. This can be solved by bit shifting the result instead of dividing by 2, `(low + high) &gt;&gt;&gt; 1`. Joshua Bloch has a great [article](http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html) about this common flaw in divide and conquer algorithms.","title":"Implementing binary search on an array of Strings","body":"<p>There are four issues that I can spot in addition to the already mentioned missing print of the result.</p>\n\n<p>1: You have a <code>String[]</code> called <code>numArray</code> and you are searching for a <code>String</code>, <code>\"The\"</code> the name <code>numArray</code> is possibly a bit mis-leading.</p>\n\n<p>2: I assume you have some sort of specified input file format where the number of <code>String</code> in the file are specified by an <code>integer</code> as the first token in the file. This is ok however, as a condition in the for loop that populates the <code>numArray</code> there is <code>in.hasNextInt()</code>, and the next token is taken out of the <code>Scanner</code> using <code>in.nextLine()</code>. You should use complementing check/removal methods such as <code>in.hasNext()</code> with <code>in.next()</code>. Check out the <code>Scanner</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow\">API</a>.</p>\n\n<p>3: The <code>binarySearch(String[], String)</code> method uses <code>String.compareTo(String)</code>. This is determines a lexicographical ordering of this <code>String</code> to the parameter <code>String</code>. Trying to compare upper case to lower case may not yield what you expect, as <code>\"the\".compareTo(\"The\")</code> will not result in <code>0</code>. You should check out the <code>String</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow\">API</a> for options to either force all of your input to one case, maybe while reading the file, or use a different flavor of a compare to method.</p>\n\n<p>4: The last thing that I see may be considered a bit of a corner case, however with a sufficiently large <code>String</code> array, and a search string that may reside far in the right side, ie. high index side, of the array you may get an <code>ArrayIndexOutOfBoundsException</code>. This is because <code>(low + high)</code> can result in a negative value, when the result \"should\" be greater than <code>Integer.MAX_VALUE</code>. Then the result is divided by two and still yields a negative value. This can be solved by bit shifting the result instead of dividing by 2, <code>(low + high) &gt;&gt;&gt; 1</code>. Joshua Bloch has a great <a href=\"http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html\" rel=\"nofollow\">article</a> about this common flaw in divide and conquer algorithms.</p>\n"},{"tags":[],"owner":{"account_id":9149133,"reputation":832,"user_id":6804284,"accept_rate":83,"display_name":"Thusitha Indunil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1501721243,"creation_date":1494312931,"answer_id":43863087,"question_id":32260445,"body_markdown":"I have added following example for your further referance.   \r\n\r\n    import java.util.Arrays;\r\n\r\n    public class BinaryStringSearch {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString array[] ={&quot;EWRSFSFSFSB&quot;,&quot;BB&quot;,&quot;AA&quot;,&quot;SDFSFJ&quot;,&quot;WRTG&quot;,&quot;FF&quot;,&quot;ERF&quot;,&quot;FED&quot;,&quot;TGH&quot;};\r\n    \t\tString search = &quot;BB&quot;;\r\n    \t\t\r\n    \t\tArrays.sort(array);\r\n    \r\n    \t\tint searchIndex = binarySearch(array,search);\r\n    \t\t\r\n    \t\tSystem.out.println(searchIndex != -1 ? array[searchIndex]+ &quot; - Index is &quot;+searchIndex : &quot;Not found&quot;);\r\n    \t}\r\n    \r\n    \tpublic static int binarySearch(String[] a, String x) {\r\n    \t\tint low = 0;\r\n    \t\tint high = a.length - 1;\r\n    \t\tint mid;\r\n    \r\n    \t\twhile (low &lt;= high) {\r\n    \t\t\tmid = (low + high) / 2;\r\n    \r\n    \t\t\tif (a[mid].compareTo(x) &lt; 0) {\r\n    \t\t\t\tlow = mid + 1;\r\n    \t\t\t} else if (a[mid].compareTo(x) &gt; 0) {\r\n    \t\t\t\thigh = mid - 1;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn mid;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn -1;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Implementing binary search on an array of Strings","body":"<p>I have added following example for your further referance.   </p>\n\n<pre><code>import java.util.Arrays;\n\npublic class BinaryStringSearch {\n\n    public static void main(String[] args) {\n\n        String array[] ={\"EWRSFSFSFSB\",\"BB\",\"AA\",\"SDFSFJ\",\"WRTG\",\"FF\",\"ERF\",\"FED\",\"TGH\"};\n        String search = \"BB\";\n\n        Arrays.sort(array);\n\n        int searchIndex = binarySearch(array,search);\n\n        System.out.println(searchIndex != -1 ? array[searchIndex]+ \" - Index is \"+searchIndex : \"Not found\");\n    }\n\n    public static int binarySearch(String[] a, String x) {\n        int low = 0;\n        int high = a.length - 1;\n        int mid;\n\n        while (low &lt;= high) {\n            mid = (low + high) / 2;\n\n            if (a[mid].compareTo(x) &lt; 0) {\n                low = mid + 1;\n            } else if (a[mid].compareTo(x) &gt; 0) {\n                high = mid - 1;\n            } else {\n                return mid;\n            }\n        }\n\n        return -1;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11025170,"reputation":31,"user_id":8098300,"display_name":"Vaibhav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509013953,"creation_date":1503810577,"answer_id":45901866,"question_id":32260445,"body_markdown":"I hope it will help: \r\n\r\n     public static void main(String ar[]){\r\n        \r\n        String str[] = {&quot;account&quot;,&quot;angel&quot;,&quot;apple&quot;,&quot;application&quot;,&quot;black&quot;};\r\n        String search= &quot;application&quot;;\r\n        int length = str.length-1;\r\n        BinarySearchInString findStrin = new BinarySearchInString();\r\n        int i = findStrin.find(str, 0, length, search);\r\n        System.out.println(i);\r\n    }\r\n\r\n      public int find(String first[], int start, int end, String searchString){\r\n        int mid = start + (end-start)/2;\r\n        \r\n        if(first[mid].compareTo(searchString)==0){\r\n            return mid;\r\n        }\r\n        if(first[mid].compareTo(searchString)&gt; 0){\r\n            return find(first, start, mid-1, searchString);\r\n        }else if(first[mid].compareTo(searchString)&lt; 0){\r\n            return find(first, mid+1, end, searchString);\r\n        }\r\n        return -1;\r\n      }","title":"Implementing binary search on an array of Strings","body":"<p>I hope it will help: </p>\n\n<pre><code> public static void main(String ar[]){\n\n    String str[] = {\"account\",\"angel\",\"apple\",\"application\",\"black\"};\n    String search= \"application\";\n    int length = str.length-1;\n    BinarySearchInString findStrin = new BinarySearchInString();\n    int i = findStrin.find(str, 0, length, search);\n    System.out.println(i);\n}\n\n  public int find(String first[], int start, int end, String searchString){\n    int mid = start + (end-start)/2;\n\n    if(first[mid].compareTo(searchString)==0){\n        return mid;\n    }\n    if(first[mid].compareTo(searchString)&gt; 0){\n        return find(first, start, mid-1, searchString);\n    }else if(first[mid].compareTo(searchString)&lt; 0){\n        return find(first, mid+1, end, searchString);\n    }\n    return -1;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171446,"reputation":1301,"user_id":1923328,"display_name":"Laurent Caillette"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535479348,"creation_date":1535479348,"answer_id":52063883,"question_id":32260445,"body_markdown":"As spotted by @Mike Rylander you forgot to output the result.\r\n\r\nYou should use [`Arrays.binarySearch`][1] instead of your own implementation. \r\n\r\n(As a general rule, JRE libraries are well-tested, well-documented and fast. I googled &quot;java binary search&quot; and this question is well-ranked. I had a try with @Thusitha Indunil&#39;s code, which didn&#39;t appear to work. I googled harder and found `Arrays.binarySearch`, which worked.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-java.lang.Object:A-java.lang.Object-","title":"Implementing binary search on an array of Strings","body":"<p>As spotted by @Mike Rylander you forgot to output the result.</p>\n\n<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-java.lang.Object:A-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Arrays.binarySearch</code></a> instead of your own implementation. </p>\n\n<p>(As a general rule, JRE libraries are well-tested, well-documented and fast. I googled \"java binary search\" and this question is well-ranked. I had a try with @Thusitha Indunil's code, which didn't appear to work. I googled harder and found <code>Arrays.binarySearch</code>, which worked.)</p>\n"},{"tags":[],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658203383,"creation_date":1658203341,"answer_id":73030984,"question_id":32260445,"body_markdown":"        int low = fromIndex;\r\n        int high = toIndex - 1;\r\n\r\n        while (low &lt;= high) {\r\n            int mid = (low + high) &gt;&gt;&gt; 1;\r\n\r\n            Comparable midVal = (Comparable) a[mid];\r\n\r\n            int cmp = midVal.compareTo(key);\r\n   \r\n            if (cmp &lt; 0)\r\n                low = mid + 1;\r\n            else if (cmp &gt; 0)\r\n                high = mid - 1;\r\n            else\r\n                return mid;\r\n        }\r\n        return -(low + 1);\r\n    }","title":"Implementing binary search on an array of Strings","body":"<pre><code>    int low = fromIndex;\n    int high = toIndex - 1;\n\n    while (low &lt;= high) {\n        int mid = (low + high) &gt;&gt;&gt; 1;\n\n        Comparable midVal = (Comparable) a[mid];\n\n        int cmp = midVal.compareTo(key);\n\n        if (cmp &lt; 0)\n            low = mid + 1;\n        else if (cmp &gt; 0)\n            high = mid - 1;\n        else\n            return mid;\n    }\n    return -(low + 1);\n}\n</code></pre>\n"}],"owner":{"account_id":6860623,"reputation":61,"user_id":5274758,"display_name":"user5274758"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47933,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1658203383,"creation_date":1440714429,"question_id":32260445,"body_markdown":"I&#39;m having a bit of trouble with this. The input array is based on file input and the size of the array is specified by the first line in the file. The binarySearch method seems to look alright but it doesn&#39;t seem to be working would. Anybody be able to help? Thanks.\r\n\r\n    public static int binarySearch(String[] a, String x) {\r\n        int low = 0;\r\n        int high = a.length - 1;\r\n        int mid;\r\n\r\n        while (low &lt;= high) {\r\n            mid = (low + high) / 2;\r\n\r\n            if (a[mid].compareTo(x) &lt; 0) {\r\n                low = mid + 1;\r\n            } else if (a[mid].compareTo(x) &gt; 0) {\r\n                high = mid - 1;\r\n            } else {\r\n                return mid;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter the name of your file (including file extension): &quot;);\r\n        String filename = input.next();\r\n\r\n        String[] numArray;\r\n        try (Scanner in = new Scanner(new File(filename))) {\r\n            int count = in.nextInt();\r\n\r\n            numArray = new String[count];\r\n\r\n            for (int i = 0; in.hasNextInt() &amp;&amp; count != -1 &amp;&amp; i &lt; count; i++) {\r\n                numArray[i] = in.nextLine();\r\n            }\r\n\r\n            for (int i = 0; i &lt; count; i++) //printing all the elements\r\n            {\r\n                System.out.println(numArray[i]);\r\n            }\r\n\r\n            String searchItem = &quot;The&quot;;\r\n\r\n            System.out.println(&quot;The position of the String is:&quot;);\r\n            binarySearch(numArray, searchItem);\r\n\r\n        } catch (final FileNotFoundException e) {\r\n            System.out.println(&quot;That file was not found. Program terminating...&quot;);\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n    }\r\n","title":"Implementing binary search on an array of Strings","body":"<p>I'm having a bit of trouble with this. The input array is based on file input and the size of the array is specified by the first line in the file. The binarySearch method seems to look alright but it doesn't seem to be working would. Anybody be able to help? Thanks.</p>\n\n<pre><code>public static int binarySearch(String[] a, String x) {\n    int low = 0;\n    int high = a.length - 1;\n    int mid;\n\n    while (low &lt;= high) {\n        mid = (low + high) / 2;\n\n        if (a[mid].compareTo(x) &lt; 0) {\n            low = mid + 1;\n        } else if (a[mid].compareTo(x) &gt; 0) {\n            high = mid - 1;\n        } else {\n            return mid;\n        }\n    }\n\n    return -1;\n}\n\npublic static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n\n    System.out.println(\"Enter the name of your file (including file extension): \");\n    String filename = input.next();\n\n    String[] numArray;\n    try (Scanner in = new Scanner(new File(filename))) {\n        int count = in.nextInt();\n\n        numArray = new String[count];\n\n        for (int i = 0; in.hasNextInt() &amp;&amp; count != -1 &amp;&amp; i &lt; count; i++) {\n            numArray[i] = in.nextLine();\n        }\n\n        for (int i = 0; i &lt; count; i++) //printing all the elements\n        {\n            System.out.println(numArray[i]);\n        }\n\n        String searchItem = \"The\";\n\n        System.out.println(\"The position of the String is:\");\n        binarySearch(numArray, searchItem);\n\n    } catch (final FileNotFoundException e) {\n        System.out.println(\"That file was not found. Program terminating...\");\n        e.printStackTrace();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":120267,"reputation":17409,"user_id":312594,"accept_rate":100,"display_name":"par"},"score":2,"creation_date":1658203148,"post_id":73030958,"comment_id":128986777,"body_markdown":"Looks like an array index is out of bounds. That&#39;s a programming error... contact the software vendor.","body":"Looks like an array index is out of bounds. That&#39;s a programming error... contact the software vendor."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658212050,"post_id":73030958,"comment_id":128988440,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25840765,"reputation":1,"user_id":19576338,"display_name":"Sami A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658203042,"creation_date":1658203042,"question_id":73030958,"body_markdown":"Type Exception Report\r\n\r\nMessage java.lang.ArrayIndexOutOfBoundsException\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: java.lang.ArrayIndexOutOfBoundsException\r\n\torg.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)\r\n\torg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)\r\n\torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\r\n\torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:125)\r\n\tcom.microsoft.azure.appservice.filters.AppServiceFilter.doFilter(AppServiceFilter.java:59)\r\n\tcom.microsoft.azure.appservice.EasyAuthFilter.doFilter(EasyAuthFilter.java:42)\r\nRoot Cause\r\n\r\njava.lang.ArrayIndexOutOfBoundsException\r\nNote The full stack trace of the root cause is available in the server logs.","title":"I have been trying to open a PDF data file from an approved court system, which I have used before. This is the error msg on all devices used","body":"<p>Type Exception Report</p>\n<p>Message java.lang.ArrayIndexOutOfBoundsException</p>\n<p>Description The server encountered an unexpected condition that prevented it from fulfilling the request.</p>\n<p>Exception</p>\n<p>javax.servlet.ServletException: java.lang.ArrayIndexOutOfBoundsException\norg.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)\norg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)\norg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\norg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:681)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\norg.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:125)\ncom.microsoft.azure.appservice.filters.AppServiceFilter.doFilter(AppServiceFilter.java:59)\ncom.microsoft.azure.appservice.EasyAuthFilter.doFilter(EasyAuthFilter.java:42)\nRoot Cause</p>\n<p>java.lang.ArrayIndexOutOfBoundsException\nNote The full stack trace of the root cause is available in the server logs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1657687828,"post_id":72961070,"comment_id":128867056,"body_markdown":"The error message is telling you exactly what to do. Either rename your file to `primeno.java` or rename your class to `Main`.","body":"The error message is telling you exactly what to do. Either rename your file to <code>primeno.java</code> or rename your class to <code>Main</code>."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1657688426,"post_id":72961070,"comment_id":128867157,"body_markdown":"&quot;class primeno is public, should be declared in a file named primeno.java&quot; I don&#39;t think there&#39;s anything left to explain?","body":"&quot;class primeno is public, should be declared in a file named primeno.java&quot; I don&#39;t think there&#39;s anything left to explain?"},{"owner":{"account_id":23042754,"reputation":1,"user_id":17160703,"display_name":"Joby Augustine"},"score":0,"creation_date":1657689375,"post_id":72961070,"comment_id":128867318,"body_markdown":"I get that the file name and the class name must be the same ,but the problem is, I&#39;m executing this code on an online compiler. so how could I save before I executing?","body":"I get that the file name and the class name must be the same ,but the problem is, I&#39;m executing this code on an online compiler. so how could I save before I executing?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1657769372,"post_id":72961070,"comment_id":128890678,"body_markdown":"And please pick a better title for your next questions. See [ask].","body":"And please pick a better title for your next questions. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":1600853,"reputation":520,"user_id":1481901,"accept_rate":38,"display_name":"tripleblep"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657687821,"creation_date":1657687821,"answer_id":72961089,"question_id":72961070,"body_markdown":"The name of a public class should match the file name. In this case, your class `primeno` should be in a file called `primeno.java`. Inner classes can be called whatever you desire.","title":"While using an online compiler, how can we solve this &#39; the class name and file name should be same &#39; error?","body":"<p>The name of a public class should match the file name. In this case, your class <code>primeno</code> should be in a file called <code>primeno.java</code>. Inner classes can be called whatever you desire.</p>\n"}],"owner":{"account_id":23042754,"reputation":1,"user_id":17160703,"display_name":"Joby Augustine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1657687913,"answer_count":1,"score":-5,"last_activity_date":1658202956,"creation_date":1657687657,"question_id":72961070,"body_markdown":"Main.java:2: error: class primeno is public, should be declared in a file named primeno.java\r\npublic class primeno\r\n\r\n\r\n** Here is  my code (I used an online compiler) **,\r\n\r\n    import java.util.Scanner;\r\n    public class primeno\r\n    {\r\n      public static void main (String args[])\r\n      {","title":"While using an online compiler, how can we solve this &#39; the class name and file name should be same &#39; error?","body":"<p>Main.java:2: error: class primeno is public, should be declared in a file named primeno.java\npublic class primeno</p>\n<p>** Here is  my code (I used an online compiler) **,</p>\n<pre><code>import java.util.Scanner;\npublic class primeno\n{\n  public static void main (String args[])\n  {\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5977552,"reputation":141,"user_id":4697862,"display_name":"Richard Locke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430687019,"creation_date":1430687019,"answer_id":30019376,"question_id":30018899,"body_markdown":"I don&#39;t know much about Bridge, so I&#39;m just going on your description, but give this a go:\r\n\r\n    public int countDistributionPoints()\r\n\t{\r\n\t    int points = 0;\r\n\t    int cCards = 0, dCards = 0, hCards = 0, sCards = 0;\r\n\r\n\t    for (int i = 0; i &lt; cards.length; i++) {\r\n\t        char suit = cards[i].getSuit();\r\n\r\n\t        if (suit == &#39;C&#39;)\r\n\t            cCards++;\r\n\t        else if (suit == &#39;D&#39;)\r\n\t            dCards++;\r\n\t        else if (suit == &#39;H&#39;)\r\n\t            hCards++;\r\n\t        else if (suit == &#39;S&#39;)\r\n\t            sCards++;\r\n\t    }\r\n\t    \r\n\t    points += calculateSuitScore(cCards);\r\n\t    points += calculateSuitScore(dCards);\r\n\t    points += calculateSuitScore(hCards);\r\n\t    points += calculateSuitScore(sCards);\r\n\r\n\t    return points;\r\n\t}\r\n\t\r\n\tint calculateSuitScore(int numCards) {\r\n\t\tint points = 0;\r\n\t\t\r\n\t\tif (numCards &gt;= 3)\r\n\t\t\tpoints = 0;\r\n        else if (numCards == 2)\r\n        \tpoints++;\r\n        else if (numCards == 1)\r\n        \tpoints += 2;\r\n        else if (numCards == 0)\r\n        \tpoints += 3;\r\n\t\t\r\n\t\treturn points;\r\n\t}\r\n\r\nBasically, I think your problem was that you needed a separate count for each of the suits.","title":"counting suit points for bridge game","body":"<p>I don't know much about Bridge, so I'm just going on your description, but give this a go:</p>\n\n<pre><code>public int countDistributionPoints()\n{\n    int points = 0;\n    int cCards = 0, dCards = 0, hCards = 0, sCards = 0;\n\n    for (int i = 0; i &lt; cards.length; i++) {\n        char suit = cards[i].getSuit();\n\n        if (suit == 'C')\n            cCards++;\n        else if (suit == 'D')\n            dCards++;\n        else if (suit == 'H')\n            hCards++;\n        else if (suit == 'S')\n            sCards++;\n    }\n\n    points += calculateSuitScore(cCards);\n    points += calculateSuitScore(dCards);\n    points += calculateSuitScore(hCards);\n    points += calculateSuitScore(sCards);\n\n    return points;\n}\n\nint calculateSuitScore(int numCards) {\n    int points = 0;\n\n    if (numCards &gt;= 3)\n        points = 0;\n    else if (numCards == 2)\n        points++;\n    else if (numCards == 1)\n        points += 2;\n    else if (numCards == 0)\n        points += 3;\n\n    return points;\n}\n</code></pre>\n\n<p>Basically, I think your problem was that you needed a separate count for each of the suits.</p>\n"}],"owner":{"account_id":6126840,"reputation":155,"user_id":4778483,"accept_rate":67,"display_name":"KrakenJaws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658202942,"creation_date":1430684191,"question_id":30018899,"body_markdown":"So my **Hand** class contains this instance, and I am currently not getting any points to be distributed, and since I have a getter inside my **Card** class cards called `char getSuit()` I assume my code would work if I check for each suit and then counted how many cards dealt were from the suit and then distributed points accordingly.\r\n\r\nSome more info on what `int countDistributionPoints()` should be doing...\r\n\r\nTakes no parameters and returns an integer. It needs to count the number of Cards in each suit:\r\n\r\n1. A suit with 3 cards or more counts for zero points.\r\n\r\n2. A suit with 2 cards counts one point (this is called a doubleton)\r\n\r\n3. A suit with 1 card counts 2 points (this is called a singleton)\r\n\r\n4. A suit with 0 cards counts 3 points (this is called a void)\r\n\r\nThis method will add the points together and return that number.\r\n\r\n\r\n    /**\r\n     * Counts the number of cards in each suit and will add points\r\n     * for the suits value, so if 3 or more suits zero points,\r\n     * 2 suits 1 point, 1 suit 2 points, 0 suits 3 points\r\n     */\r\n    public int countDistributionPoints()\r\n    {\r\n        int countPoints = 0;\r\n        int count = 0;\r\n        \r\n        for (int i = 0; i &lt; cards.length; i++) {\r\n            char suit = cards[i].getSuit();\r\n\r\n            if (cards[i].getSuit() == &#39;C&#39;)\r\n                count++;\r\n            else if (cards[i].getSuit() == &#39;D&#39;)\r\n                count++;\r\n            else if (cards[i].getSuit() == &#39;H&#39;)\r\n                count++;\r\n            else if (cards[i].getSuit() == &#39;S&#39;)\r\n                count++;\r\n            \r\n            if (count &gt;= 3)\r\n                countPoints = 0;\r\n            else if (count == 2)\r\n                countPoints++;\r\n            else if (count == 1)\r\n                countPoints += 2;\r\n            else if (count == 0)\r\n                countPoints += 3;\r\n        }\r\n\r\n        return countPoints;\r\n    }","title":"counting suit points for bridge game","body":"<p>So my <strong>Hand</strong> class contains this instance, and I am currently not getting any points to be distributed, and since I have a getter inside my <strong>Card</strong> class cards called <code>char getSuit()</code> I assume my code would work if I check for each suit and then counted how many cards dealt were from the suit and then distributed points accordingly.</p>\n<p>Some more info on what <code>int countDistributionPoints()</code> should be doing...</p>\n<p>Takes no parameters and returns an integer. It needs to count the number of Cards in each suit:</p>\n<ol>\n<li><p>A suit with 3 cards or more counts for zero points.</p>\n</li>\n<li><p>A suit with 2 cards counts one point (this is called a doubleton)</p>\n</li>\n<li><p>A suit with 1 card counts 2 points (this is called a singleton)</p>\n</li>\n<li><p>A suit with 0 cards counts 3 points (this is called a void)</p>\n</li>\n</ol>\n<p>This method will add the points together and return that number.</p>\n<pre><code>/**\n * Counts the number of cards in each suit and will add points\n * for the suits value, so if 3 or more suits zero points,\n * 2 suits 1 point, 1 suit 2 points, 0 suits 3 points\n */\npublic int countDistributionPoints()\n{\n    int countPoints = 0;\n    int count = 0;\n    \n    for (int i = 0; i &lt; cards.length; i++) {\n        char suit = cards[i].getSuit();\n\n        if (cards[i].getSuit() == 'C')\n            count++;\n        else if (cards[i].getSuit() == 'D')\n            count++;\n        else if (cards[i].getSuit() == 'H')\n            count++;\n        else if (cards[i].getSuit() == 'S')\n            count++;\n        \n        if (count &gt;= 3)\n            countPoints = 0;\n        else if (count == 2)\n            countPoints++;\n        else if (count == 1)\n            countPoints += 2;\n        else if (count == 0)\n            countPoints += 3;\n    }\n\n    return countPoints;\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1657991646,"post_id":73005568,"comment_id":128943349,"body_markdown":"please read (and edit the question accordingly) [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/a/285557/16320675)","body":"please read (and edit the question accordingly) <a href=\"https://meta.stackoverflow.com/a/285557/16320675\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1658007006,"post_id":73005568,"comment_id":128945984,"body_markdown":"Edit your question and include your code as text, not as images.","body":"Edit your question and include your code as text, not as images."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1658080184,"post_id":73005568,"comment_id":128956833,"body_markdown":"Voted to reopen. At the code now stands, you are attempting to load from a relative address (indicated by lack of starting &quot;/&quot;) so the code is looking for a subdirectory &quot;src/main/resources/...&quot; from the directory where the GameGUI resides. There&#39;s a good chance if you use &quot;/&quot; at the beginning (which indicates start looking at the project root directory) you can use (&quot;CheskePic.png&quot;) as your argument. I sometimes used to test the root location by writing a file to an adjacent address to see where it would turn up. Will move this to an answer if question reopens.","body":"Voted to reopen. At the code now stands, you are attempting to load from a relative address (indicated by lack of starting &quot;/&quot;) so the code is looking for a subdirectory &quot;src/main/resources/...&quot; from the directory where the GameGUI resides. There&#39;s a good chance if you use &quot;/&quot; at the beginning (which indicates start looking at the project root directory) you can use (&quot;CheskePic.png&quot;) as your argument. I sometimes used to test the root location by writing a file to an adjacent address to see where it would turn up. Will move this to an answer if question reopens."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658141078,"post_id":73005568,"comment_id":128968774,"body_markdown":"Remove `src/main/resources`, use `/CheskePic.png`. Resources are **rooted** in the `resources` directory. The contents of the resource directory is copied to the root of your JAR, and therefor on the root of your classpath/modulepath.","body":"Remove <code>src&#47;main&#47;resources</code>, use <code>&#47;CheskePic.png</code>. Resources are <b>rooted</b> in the <code>resources</code> directory. The contents of the resource directory is copied to the root of your JAR, and therefor on the root of your classpath/modulepath."}],"answers":[{"tags":[],"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657988712,"creation_date":1657988712,"answer_id":73005870,"question_id":73005568,"body_markdown":"Firstly, please use the code option of stack overflow to share code, so that others can copy, edit and run the code in their IDE.\r\n\r\nYou have two options:\r\n\r\n**Bad way:**\r\nTry to access the image by:\r\n\r\n    new Image(&quot;images/CheskePic.png&quot;);\r\n\r\n**Better way:**\r\nInstead of saving the image in the `src` folder, create a `resource` folder and save the image there. IntelliJ should create such a folder automatically. If not create a folder named &#39;resources&#39;, right-click on it &#39;Mark Directory as&#39; and click on &#39;Resource Root&#39;\r\n\r\nThen access the image by:\r\n\r\n    new Image(getClass().getResourceAsStream(&quot;path/to/image.png&quot;)));\r\n\r\nor:\r\n\r\n    new Image(YourClass.class.getResourceAsStream(&quot;path/to/image.png&quot;)));","title":"Why isn&#39;t my image visible when using javafx?","body":"<p>Firstly, please use the code option of stack overflow to share code, so that others can copy, edit and run the code in their IDE.</p>\n<p>You have two options:</p>\n<p><strong>Bad way:</strong>\nTry to access the image by:</p>\n<pre><code>new Image(&quot;images/CheskePic.png&quot;);\n</code></pre>\n<p><strong>Better way:</strong>\nInstead of saving the image in the <code>src</code> folder, create a <code>resource</code> folder and save the image there. IntelliJ should create such a folder automatically. If not create a folder named 'resources', right-click on it 'Mark Directory as' and click on 'Resource Root'</p>\n<p>Then access the image by:</p>\n<pre><code>new Image(getClass().getResourceAsStream(&quot;path/to/image.png&quot;)));\n</code></pre>\n<p>or:</p>\n<pre><code>new Image(YourClass.class.getResourceAsStream(&quot;path/to/image.png&quot;)));\n</code></pre>\n"}],"owner":{"account_id":25823970,"reputation":3,"user_id":19562533,"display_name":"Aegent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1658202167,"answer_count":1,"score":-4,"last_activity_date":1658202195,"creation_date":1657986328,"question_id":73005568,"body_markdown":"Whenever I run it, it shows an error because it can&#39;t find the file.\r\n\r\nThis is with intelliJ, I&#39;ve tried many solutions but they aren&#39;t working.\r\n\r\nSomeone replied before but I&#39;m pretty sure I did their fix wrong because before it was showing a blank part where the image should be, but now it is giving me errors.\r\n\r\n[Library][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kvkUn.png\r\n\r\n    package GUI;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    \r\n    import java.io.File;\r\n    import java.util.Objects;\r\n    \r\n    public class GameGUI extends Application{\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            //Sets the stage\r\n            //Stage Menu = new Stage();\r\n    \r\n            //Cheske Pic\r\n            Image cheske = new Image(getClass().getResourceAsStream(&quot;src/main/resources/CheskePic.png&quot;));\r\n            ImageView cheskePic = new ImageView(cheske);\r\n            cheskePic.setFitHeight(200);\r\n            cheskePic.setFitWidth(200);\r\n    \r\n            //Choose Pieces Button\r\n            Button Pieces = new Button(&quot;Choose Your Pieces&quot;);\r\n            Pieces.setOnAction(e -&gt; {\r\n                //Edit the 2-D Array\r\n            });\r\n    \r\n            //Start Game Button\r\n            Button Start = new Button(&quot;Start&quot;);\r\n            Start.setOnAction(e -&gt; {\r\n                //BoardGUI.show();\r\n            });\r\n    \r\n            //Quit Game Button\r\n            Button Quit = new Button(&quot;Quit&quot;);\r\n            Quit.setOnAction(e -&gt; {\r\n                primaryStage.close();\r\n            });\r\n    \r\n            //Sets the layout with all the buttons / pic\r\n            VBox layout = new VBox(10);\r\n            layout.getChildren().addAll(cheskePic,Pieces,Start,Quit);\r\n            layout.setAlignment(Pos.CENTER);\r\n    \r\n            //Sets the scene with the layout we have given it\r\n            Scene scene = new Scene(layout, 400, 400);\r\n    \r\n            //Sets all stage settings then shows the Menu\r\n            primaryStage.setTitle(&quot;Hello!&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n        public static void main(String[] args){\r\n            launch();\r\n        }\r\n    }\r\n","title":"Why isn&#39;t my image visible when using javafx?","body":"<p>Whenever I run it, it shows an error because it can't find the file.</p>\n<p>This is with intelliJ, I've tried many solutions but they aren't working.</p>\n<p>Someone replied before but I'm pretty sure I did their fix wrong because before it was showing a blank part where the image should be, but now it is giving me errors.</p>\n<p><a href=\"https://i.stack.imgur.com/kvkUn.png\" rel=\"nofollow noreferrer\">Library</a></p>\n<pre><code>package GUI;\n\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\nimport java.io.File;\nimport java.util.Objects;\n\npublic class GameGUI extends Application{\n    @Override\n    public void start(Stage primaryStage) {\n        //Sets the stage\n        //Stage Menu = new Stage();\n\n        //Cheske Pic\n        Image cheske = new Image(getClass().getResourceAsStream(&quot;src/main/resources/CheskePic.png&quot;));\n        ImageView cheskePic = new ImageView(cheske);\n        cheskePic.setFitHeight(200);\n        cheskePic.setFitWidth(200);\n\n        //Choose Pieces Button\n        Button Pieces = new Button(&quot;Choose Your Pieces&quot;);\n        Pieces.setOnAction(e -&gt; {\n            //Edit the 2-D Array\n        });\n\n        //Start Game Button\n        Button Start = new Button(&quot;Start&quot;);\n        Start.setOnAction(e -&gt; {\n            //BoardGUI.show();\n        });\n\n        //Quit Game Button\n        Button Quit = new Button(&quot;Quit&quot;);\n        Quit.setOnAction(e -&gt; {\n            primaryStage.close();\n        });\n\n        //Sets the layout with all the buttons / pic\n        VBox layout = new VBox(10);\n        layout.getChildren().addAll(cheskePic,Pieces,Start,Quit);\n        layout.setAlignment(Pos.CENTER);\n\n        //Sets the scene with the layout we have given it\n        Scene scene = new Scene(layout, 400, 400);\n\n        //Sets all stage settings then shows the Menu\n        primaryStage.setTitle(&quot;Hello!&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n    public static void main(String[] args){\n        launch();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2481825,"reputation":1381,"user_id":2231632,"display_name":"Praba"},"score":1,"creation_date":1398794813,"post_id":23371928,"comment_id":35800722,"body_markdown":"can you try `@PathVariable(&quot;Id&quot;) String Id, @PathVariable(&quot;Name&quot;) String Name` in your method signature?","body":"can you try <code>@PathVariable(&quot;Id&quot;) String Id, @PathVariable(&quot;Name&quot;) String Name</code> in your method signature?"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1398794692,"creation_date":1398794692,"answer_id":23372057,"question_id":23371928,"body_markdown":"This might depend on the way you are compiling your source code. If the parameter names are not included in the byte code, I don&#39;t think the behavior of [`@PathVariable`][1] without a `value` attribute is defined. Add it explicitly\r\n\r\n    @RequestMapping(value = &quot;/Id/{Id}/Name/{Name}&quot;, method = RequestMethod.GET)\r\n    public String getGreeting(@PathVariable(value = &quot;Id&quot;) String Id, @PathVariable(value = &quot;Name&quot;) String Name) {\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/PathVariable.html","title":"How can i pass multiple variables in the Url for the Spring controller?","body":"<p>This might depend on the way you are compiling your source code. If the parameter names are not included in the byte code, I don't think the behavior of <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/PathVariable.html\" rel=\"nofollow\"><code>@PathVariable</code></a> without a <code>value</code> attribute is defined. Add it explicitly</p>\n\n<pre><code>@RequestMapping(value = \"/Id/{Id}/Name/{Name}\", method = RequestMethod.GET)\npublic String getGreeting(@PathVariable(value = \"Id\") String Id, @PathVariable(value = \"Name\") String Name) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185198,"reputation":7184,"user_id":421753,"accept_rate":78,"display_name":"Krishna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1398837152,"creation_date":1398837152,"answer_id":23380611,"question_id":23371928,"body_markdown":"You can use @PathVariable to pass any number of values to the controller. You can read this simple [example][1].\r\n\r\n\r\n  [1]: http://www.javabeat.net/pathvariable-template-patterns-spring-mvc/","title":"How can i pass multiple variables in the Url for the Spring controller?","body":"<p>You can use @PathVariable to pass any number of values to the controller. You can read this simple <a href=\"http://www.javabeat.net/pathvariable-template-patterns-spring-mvc/\" rel=\"nofollow\">example</a>.</p>\n"},{"tags":[],"owner":{"account_id":11661021,"reputation":21,"user_id":8539329,"display_name":"vivek hegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658201648,"creation_date":1658201648,"answer_id":73030800,"question_id":23371928,"body_markdown":"Instead of declaring multiple @pathVariable for each of the variables in URL, you can make use of Map interface to pass the multiple variables from URL.\r\nFor example :\r\n```\r\n @RequestMapping(&quot;/student/{rollNo}/{class}&quot;)\r\n public void college(@PathVariable Map&lt;String, String&gt; pathVariables) {\r\n    String rollNo = pathVariables.get(&quot;rollNo&quot;);\r\n    String classNo = pathVariables.get(&quot;class&quot;);\r\n }\r\n```","title":"How can i pass multiple variables in the Url for the Spring controller?","body":"<p>Instead of declaring multiple @pathVariable for each of the variables in URL, you can make use of Map interface to pass the multiple variables from URL.\nFor example :</p>\n<pre><code> @RequestMapping(&quot;/student/{rollNo}/{class}&quot;)\n public void college(@PathVariable Map&lt;String, String&gt; pathVariables) {\n    String rollNo = pathVariables.get(&quot;rollNo&quot;);\n    String classNo = pathVariables.get(&quot;class&quot;);\n }\n</code></pre>\n"}],"owner":{"account_id":3503755,"reputation":1025,"user_id":2929813,"accept_rate":76,"display_name":"webExplorer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23372057,"answer_count":3,"score":2,"last_activity_date":1658201648,"creation_date":1398794219,"question_id":23371928,"body_markdown":"I want to pass two variables in the url to my Spring Controller.    \r\n\r\nI&#39;m trying to achieve this using the following code. \r\nThe controller though reads just the second param. \r\n\r\nWhat am i missing here? \r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/service/getVars&quot;)\r\n    public class SpringServiceController {\r\n    \t@RequestMapping(value = &quot;/Id/{Id}/Name/{Name}&quot;, method = RequestMethod.GET)\r\n    \tpublic String getGreeting(@PathVariable String Id, @PathVariable String Name) {\r\n             //Both id and name now holds Name variables value. \r\n             System.out.println(&quot;Id: &quot;+ Id + &quot; &gt;&gt; Name: &quot; + Name);\r\n              \r\n        }\r\n    } \r\n\r\ni/p:  `localhost:8080/service/getVars/Id/111/Name/222` \r\n\r\no/p: `Id: 222 &gt;&gt; Name: 222`\r\n\r\nExpected o/p: `Id: 111 &gt;&gt; Name: 222`\r\n\r\n","title":"How can i pass multiple variables in the Url for the Spring controller?","body":"<p>I want to pass two variables in the url to my Spring Controller.    </p>\n\n<p>I'm trying to achieve this using the following code. \nThe controller though reads just the second param. </p>\n\n<p>What am i missing here? </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/service/getVars\")\npublic class SpringServiceController {\n    @RequestMapping(value = \"/Id/{Id}/Name/{Name}\", method = RequestMethod.GET)\n    public String getGreeting(@PathVariable String Id, @PathVariable String Name) {\n         //Both id and name now holds Name variables value. \n         System.out.println(\"Id: \"+ Id + \" &gt;&gt; Name: \" + Name);\n\n    }\n} \n</code></pre>\n\n<p>i/p:  <code>localhost:8080/service/getVars/Id/111/Name/222</code> </p>\n\n<p>o/p: <code>Id: 222 &gt;&gt; Name: 222</code></p>\n\n<p>Expected o/p: <code>Id: 111 &gt;&gt; Name: 222</code></p>\n"},{"tags":["java","spring","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599043141,"creation_date":1599043141,"answer_id":63703806,"question_id":63698575,"body_markdown":"What are your application properties? \r\n\r\nThe syntax changed for SDN6, but might not have made it into the docs\r\n\r\nSee: \r\n\r\nhttps://github.com/michael-simons/neo4j-sdn-ogm-tips/blob/master/examples/sdn6/src/main/resources/application.properties\r\n\r\nah it actually has it in the readme (but not yet in the docs):\r\n\r\nhttps://github.com/spring-projects/spring-data-neo4j\r\n\r\n\r\nAlso in the boot docs:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.4.0-SNAPSHOT/reference/htmlsingle/#boot-features-connecting-to-neo4j","title":"Getting connection errors to in-memory neo4j instance during testing using the new spring-data-neo4j 6.0.0-SNAPSHOT","body":"<p>What are your application properties?</p>\n<p>The syntax changed for SDN6, but might not have made it into the docs</p>\n<p>See:</p>\n<p><a href=\"https://github.com/michael-simons/neo4j-sdn-ogm-tips/blob/master/examples/sdn6/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/michael-simons/neo4j-sdn-ogm-tips/blob/master/examples/sdn6/src/main/resources/application.properties</a></p>\n<p>ah it actually has it in the readme (but not yet in the docs):</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-neo4j\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-neo4j</a></p>\n<p>Also in the boot docs:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.4.0-SNAPSHOT/reference/htmlsingle/#boot-features-connecting-to-neo4j\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.4.0-SNAPSHOT/reference/htmlsingle/#boot-features-connecting-to-neo4j</a></p>\n"}],"owner":{"account_id":2659559,"reputation":189,"user_id":2299563,"display_name":"Dennis Crissman II"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658201603,"creation_date":1599019693,"question_id":63698575,"body_markdown":"Using the release versions, this application code works. However, switching to the newer snapshots, I am now getting exceptions.\r\n\r\nThe exception messages lead me to think a config change is needed to get my test cases working again, but for the life of me I cannot figure out what they would need to be.\r\n\r\nAny help would be appreciated.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nMy test case is using annotations:\r\n* @SpringBootTest\r\n* @EnableAutoConfiguration\r\n* @AutoConfigureDataNeo4j\r\n\r\n```\r\nCaused by: org.springframework.dao.PermissionDeniedDataAccessException: Unsupported authentication token, scheme &#39;none&#39; is only allowed when auth is disabled.; Error code &#39;Neo.ClientError.Security.Unauthorized&#39;\r\n\tat org.springframework.data.neo4j.repository.support.Neo4jPersistenceExceptionTranslator.translateImpl(Neo4jPersistenceExceptionTranslator.java:105) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.repository.support.Neo4jPersistenceExceptionTranslator.translateExceptionIfPossible(Neo4jPersistenceExceptionTranslator.java:83) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.core.DefaultNeo4jClient.potentiallyConvertRuntimeException(DefaultNeo4jClient.java:187) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.core.DefaultNeo4jClient.access$400(DefaultNeo4jClient.java:59) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.one(DefaultNeo4jClient.java:298) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getSingleResult(Neo4jTemplate.java:525) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:53) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:68) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:135) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:119) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:151) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367) ~[spring-tx-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\r\n\tat com.sun.proxy.$Proxy133.findByName(Unknown Source) ~[na:na]\r\n\tat ...\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1847) ~[spring-beans-5.3.0-M2.jar:5.3.0-M2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-5.3.0-M2.jar:5.3.0-M2]\r\n\t... 81 common frames omitted\r\n```\r\n\r\nIn some variations of my testing, I get:\r\n&quot;Note that the default encryption setting has changed in Neo4j 4.0&quot;","title":"Getting connection errors to in-memory neo4j instance during testing using the new spring-data-neo4j 6.0.0-SNAPSHOT","body":"<p>Using the release versions, this application code works. However, switching to the newer snapshots, I am now getting exceptions.</p>\n<p>The exception messages lead me to think a config change is needed to get my test cases working again, but for the life of me I cannot figure out what they would need to be.</p>\n<p>Any help would be appreciated.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>My test case is using annotations:</p>\n<ul>\n<li>@SpringBootTest</li>\n<li>@EnableAutoConfiguration</li>\n<li>@AutoConfigureDataNeo4j</li>\n</ul>\n<pre><code>Caused by: org.springframework.dao.PermissionDeniedDataAccessException: Unsupported authentication token, scheme 'none' is only allowed when auth is disabled.; Error code 'Neo.ClientError.Security.Unauthorized'\n    at org.springframework.data.neo4j.repository.support.Neo4jPersistenceExceptionTranslator.translateImpl(Neo4jPersistenceExceptionTranslator.java:105) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.repository.support.Neo4jPersistenceExceptionTranslator.translateExceptionIfPossible(Neo4jPersistenceExceptionTranslator.java:83) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.core.DefaultNeo4jClient.potentiallyConvertRuntimeException(DefaultNeo4jClient.java:187) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.core.DefaultNeo4jClient.access$400(DefaultNeo4jClient.java:59) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.one(DefaultNeo4jClient.java:298) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getSingleResult(Neo4jTemplate.java:525) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:53) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:68) ~[spring-data-neo4j-6.0.0-SNAPSHOT.jar:6.0.0-SNAPSHOT]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:135) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:119) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:151) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.0-M2.jar:2.4.0-M2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367) ~[spring-tx-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.3.0-M2.jar:5.3.0-M2]\n    at com.sun.proxy.$Proxy133.findByName(Unknown Source) ~[na:na]\n    at ...\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1847) ~[spring-beans-5.3.0-M2.jar:5.3.0-M2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-5.3.0-M2.jar:5.3.0-M2]\n    ... 81 common frames omitted\n</code></pre>\n<p>In some variations of my testing, I get:\n&quot;Note that the default encryption setting has changed in Neo4j 4.0&quot;</p>\n"},{"tags":["java","arrays","algorithm","recursion","dynamic-programming"],"comments":[{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":2,"creation_date":1640447877,"post_id":70481040,"comment_id":124589039,"body_markdown":"When currentValue exceeds maxValue, there is no need to keep searching on that branch. But depending on the range of the inputs, you may have to use dynamic programming.","body":"When currentValue exceeds maxValue, there is no need to keep searching on that branch. But depending on the range of the inputs, you may have to use dynamic programming."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1640449506,"post_id":70481040,"comment_id":124589337,"body_markdown":"Your code is at least exponential in n, and you can solve this problem using a greedy algorithm in O(n) time quite easily once you view the problem in the right way.  See my answer.","body":"Your code is at least exponential in n, and you can solve this problem using a greedy algorithm in O(n) time quite easily once you view the problem in the right way.  See my answer."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":1,"creation_date":1640453829,"post_id":70481040,"comment_id":124590105,"body_markdown":"For your N=2, K=51 question, you can insert as many *3 operations as you want before the first +2 operation.  0-&gt;0-&gt;0 ... 0-&gt;2 etc.","body":"For your N=2, K=51 question, you can insert as many *3 operations as you want before the first +2 operation.  0-&gt;0-&gt;0 ... 0-&gt;2 etc."}],"answers":[{"tags":[],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640447860,"creation_date":1640447860,"answer_id":70481151,"question_id":70481040,"body_markdown":"I tried something like this. it seems to work fine.\r\n\r\n    getMaxNumber(2, 5)  ==&gt; 72\r\n    getMaxNumber(2, 51) ==&gt; 98\r\n\r\n\r\n\tprivate int getMaxNumber(int n, int k){\r\n\t\tint N = 0;\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tN = N * 10 + 9;\r\n\t\t}\r\n\t\tint[] result = new int[1];\r\n\t\thelper(N, k, 0, 0, result);\r\n\t\treturn result[0];\r\n\t}\r\n\r\n\t\r\n\tprivate void helper(int N, int K, int n, int k, int[] result){\r\n\t\tif(n &gt; N) return;\r\n\t\tif(k &lt;= K){\r\n\t\t\tresult[0] = Math.max(result[0], n);\r\n\t\t}\r\n\t\tif(n &gt; 0)\r\n\t\t\thelper(N, K, n * 3, k + 1, result);\r\n\t\thelper(N, K, n + 2, k + 1, result);\r\n\t}","title":"the maximum n digit number possible in K steps","body":"<p>I tried something like this. it seems to work fine.</p>\n<pre><code>getMaxNumber(2, 5)  ==&gt; 72\ngetMaxNumber(2, 51) ==&gt; 98\n\n\nprivate int getMaxNumber(int n, int k){\n    int N = 0;\n    for (int i = 0; i &lt; n; i++) {\n        N = N * 10 + 9;\n    }\n    int[] result = new int[1];\n    helper(N, k, 0, 0, result);\n    return result[0];\n}\n\n\nprivate void helper(int N, int K, int n, int k, int[] result){\n    if(n &gt; N) return;\n    if(k &lt;= K){\n        result[0] = Math.max(result[0], n);\n    }\n    if(n &gt; 0)\n        helper(N, K, n * 3, k + 1, result);\n    helper(N, K, n + 2, k + 1, result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640449091,"creation_date":1640449091,"answer_id":70481271,"question_id":70481040,"body_markdown":"Keeping with the style of your original recursive method. I modified it a bit to produce a working solution:\r\n```\r\npublic static long largestNDigitNumber(int n, long currentK, long maxK, long currentValue) {\r\n    if (currentK &gt; maxK || n &lt; 1 || maxK &lt; 1) return 0;\r\n    if (currentValue &gt;= Math.pow(10, n))\r\n        return 0;\r\n    \r\n    long c1 = largestNDigitNumber(n, currentK + 1, maxK, currentValue * 3);\r\n    long c2 = largestNDigitNumber(n, currentK + 1, maxK, currentValue + 2);\r\n\r\n    if (c1 == 0 &amp;&amp; c2 == 0)\r\n        return currentValue;\r\n    return c1 &gt; c2 ? c1 : c2;\r\n}\r\n\r\n\r\npublic static void main(String[] args) {\r\n    int n = 2;\r\n    long k = 51;\r\n    long largest = largestNDigitNumber(n, 0, k, 0);\r\n    System.out.println(largest); //98\r\n}\r\n```\r\nThis recursive method returns values here instead of using an array. Hence the check if one returned value is bigger than the other or they are both 0 before returning.\r\n","title":"the maximum n digit number possible in K steps","body":"<p>Keeping with the style of your original recursive method. I modified it a bit to produce a working solution:</p>\n<pre><code>public static long largestNDigitNumber(int n, long currentK, long maxK, long currentValue) {\n    if (currentK &gt; maxK || n &lt; 1 || maxK &lt; 1) return 0;\n    if (currentValue &gt;= Math.pow(10, n))\n        return 0;\n    \n    long c1 = largestNDigitNumber(n, currentK + 1, maxK, currentValue * 3);\n    long c2 = largestNDigitNumber(n, currentK + 1, maxK, currentValue + 2);\n\n    if (c1 == 0 &amp;&amp; c2 == 0)\n        return currentValue;\n    return c1 &gt; c2 ? c1 : c2;\n}\n\n\npublic static void main(String[] args) {\n    int n = 2;\n    long k = 51;\n    long largest = largestNDigitNumber(n, 0, k, 0);\n    System.out.println(largest); //98\n}\n</code></pre>\n<p>This recursive method returns values here instead of using an array. Hence the check if one returned value is bigger than the other or they are both 0 before returning.</p>\n"},{"tags":[],"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640457965,"creation_date":1640449371,"answer_id":70481299,"question_id":70481040,"body_markdown":"The question is equivalent to asking what is the largest base 3 number that is less than 10^n/2, and has digit sum plus length less than or equal to k+1. (The answer is then double the base 3 number).\r\n\r\n\r\nFor example, N=2 K=5. What&#39;s the largest base 3 number that&#39;s less than 50, with length plus digit sum less than or equal to 6. Answer: 1100 (36 decimal), so the answer to the original question is 36*2=72.\r\n\r\nFor N=2, K=51, the largest base-3 number that&#39;s less than 50 is 2001 (49 decimal) and has length sum plus digit sum = 7, which is way less than K+1.\r\n\r\nGiven this representation, it&#39;s easy to solve the problem in O(n) time (in fact, you can solve it using pencil and paper). The length d of the base-3 number is as large as possible such that 3^d &lt; 10^n/2 and d&lt;=K. Then fill in the digits of the number greedily from the most-significant first until you have digit sum K+1-d (or you run out of digits).\r\n\r\n\r\n## Equivalence\r\n\r\nFirst note that without loss of generality you can assume you never have three `+2` operations in a row, since that can be done more efficiently by inserting a single `+2` operation to before the most recent `*3` (or simply replacing it by `+2 * 3` if there&#39;s no `*3` operation). Suppose you have represented the current number as a doubled base-3 number. A `+2` operation corresponds to adding 1 to the bottom digit (this never overflows into the next column thanks to the observation above). A `*3` operation moves all the digits up one column, introducing a 0 as the bottom digit. Note that because the number is doubled, the `+2` operation adds just 1 to the base-3 number!\r\n\r\nFrom this, you can see that you can count the number of operations from observation of the doubled base-3 number. Because `*3` introduces a new digit, and `+2` increases the digit sum by 1, so the number of operations is equal to the number of digits plus 1, plus the digit sum.\r\n\r\nAs an example. Suppose you have the doubled base-3 number 2 * 2101, then this is equivalent to `2 * (1+3*3*(1+3*(1+1)))) = (2 + 3*3*(2+3*(2+2)))`.","title":"the maximum n digit number possible in K steps","body":"<p>The question is equivalent to asking what is the largest base 3 number that is less than 10^n/2, and has digit sum plus length less than or equal to k+1. (The answer is then double the base 3 number).</p>\n<p>For example, N=2 K=5. What's the largest base 3 number that's less than 50, with length plus digit sum less than or equal to 6. Answer: 1100 (36 decimal), so the answer to the original question is 36*2=72.</p>\n<p>For N=2, K=51, the largest base-3 number that's less than 50 is 2001 (49 decimal) and has length sum plus digit sum = 7, which is way less than K+1.</p>\n<p>Given this representation, it's easy to solve the problem in O(n) time (in fact, you can solve it using pencil and paper). The length d of the base-3 number is as large as possible such that 3^d &lt; 10^n/2 and d&lt;=K. Then fill in the digits of the number greedily from the most-significant first until you have digit sum K+1-d (or you run out of digits).</p>\n<h2>Equivalence</h2>\n<p>First note that without loss of generality you can assume you never have three <code>+2</code> operations in a row, since that can be done more efficiently by inserting a single <code>+2</code> operation to before the most recent <code>*3</code> (or simply replacing it by <code>+2 * 3</code> if there's no <code>*3</code> operation). Suppose you have represented the current number as a doubled base-3 number. A <code>+2</code> operation corresponds to adding 1 to the bottom digit (this never overflows into the next column thanks to the observation above). A <code>*3</code> operation moves all the digits up one column, introducing a 0 as the bottom digit. Note that because the number is doubled, the <code>+2</code> operation adds just 1 to the base-3 number!</p>\n<p>From this, you can see that you can count the number of operations from observation of the doubled base-3 number. Because <code>*3</code> introduces a new digit, and <code>+2</code> increases the digit sum by 1, so the number of operations is equal to the number of digits plus 1, plus the digit sum.</p>\n<p>As an example. Suppose you have the doubled base-3 number 2 * 2101, then this is equivalent to <code>2 * (1+3*3*(1+3*(1+1)))) = (2 + 3*3*(2+3*(2+2)))</code>.</p>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640522562,"creation_date":1640522562,"answer_id":70486527,"question_id":70481040,"body_markdown":"Both the +2 and *3 operations preserve odd/even parity, so starting from 0 we can only reach even numbers.  We could start our search at the highest even number: 8, 98, 998, 9998 etc. and see what the shortest distance to 0 is.\r\n\r\nIf we are looking for the shortest distance, then there are less choices to make.  If the current number is a multiple of 3 then there are two choices, either we divide by 3 or subtract 2. Otherwise the only choice is to subtract 2.  I suspect that in the majority of cases, dividing by 3 is the better option, so that might be the first to try to keep the tree smaller.\r\n\r\nIf the minimum number of steps is less than K then as many divide by 3 operations as needed can be used to make the correct K\r\n\r\nIf the minimum number of steps is equal to K then the problem is solved.\r\n\r\nIf the minimum number of steps is more than K then you need to pick a lower starting number.  Some even numbers will already have been covered as part of the initial calculation.  You get those &#39;for free&#39;, provide you include a small amount of record keeping.  You only need to examine large even numbers that were missed earlier due to a &#39;divide by 3&#39; step.\r\n","title":"the maximum n digit number possible in K steps","body":"<p>Both the +2 and *3 operations preserve odd/even parity, so starting from 0 we can only reach even numbers.  We could start our search at the highest even number: 8, 98, 998, 9998 etc. and see what the shortest distance to 0 is.</p>\n<p>If we are looking for the shortest distance, then there are less choices to make.  If the current number is a multiple of 3 then there are two choices, either we divide by 3 or subtract 2. Otherwise the only choice is to subtract 2.  I suspect that in the majority of cases, dividing by 3 is the better option, so that might be the first to try to keep the tree smaller.</p>\n<p>If the minimum number of steps is less than K then as many divide by 3 operations as needed can be used to make the correct K</p>\n<p>If the minimum number of steps is equal to K then the problem is solved.</p>\n<p>If the minimum number of steps is more than K then you need to pick a lower starting number.  Some even numbers will already have been covered as part of the initial calculation.  You get those 'for free', provide you include a small amount of record keeping.  You only need to examine large even numbers that were missed earlier due to a 'divide by 3' step.</p>\n"}],"owner":{"account_id":22264241,"reputation":11,"user_id":16495257,"display_name":"KaaL-EL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1658201213,"creation_date":1640446851,"question_id":70481040,"body_markdown":"**Can somebody help me with this problem?**\r\n\r\n**Statement: - What is the maximum possible n digit number starting from 0 we can make in K steps\r\nusing only 2 operations:-\r\n  multiplying by 3 or incrementing by 2.**\r\n\r\nEXAMPLE : \r\n N =2 K = 5;\r\n -&gt; (0-&gt;2-&gt;6-&gt;8-&gt;24-&gt;72) 72 IS THE ANSWER\r\n\r\n**N = 2 , K = 51 -&gt; (0-&gt;2-&gt;6-&gt;8-&gt;10-&gt;30-&gt;32-&gt;96-&gt;98). 98 is the maximum we can get so need to check for rest of the moves.**\r\n\r\n**My 2 state-recursive solution:-**\r\n\r\n    public static void largestNDigitNumber(long[] highest, long maxValue, long k, long currentValue) {\r\n        if (highest[0] == (maxValue - 2)) return; //no need to do anything as we get 98 as highest.\r\n        if (k &lt; 0) return; //checking for steps\r\n\r\n        if (highest[0] &lt; currentValue &amp;&amp; currentValue &lt;= (maxValue - 2)) {\r\n            highest[0] = currentValue;\r\n        }\r\n\r\n        largestNDigitNumber(highest, maxValue, (k - 1), (currentValue * 3));\r\n        largestNDigitNumber(highest, maxValue, (k - 1), (currentValue + 2));\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        int n = 2;\r\n        long k = 51;\r\n        long maxValue = (long) Math.pow(10, n);\r\n        long[] highest = new long[1];\r\n        largestNDigitNumber(highest, maxValue, (k - 1), 2);\r\n        if (highest[0] &lt; (long) Math.pow(10, (n - 1))) {\r\n            System.out.println(&quot;-1&quot;); // if it is not possible to make n digit in given steps\r\n        } else System.out.println(highest[0]);\r\n    }\r\n\r\nwhen &quot;k&quot; is small it is giving the correct answer but for bigger values of &quot;k&quot;, it does not show any input. for n=2 and k = 51, it does not show anything.\r\n\r\nplease help me to improve this code ","title":"the maximum n digit number possible in K steps","body":"<p><strong>Can somebody help me with this problem?</strong></p>\n<p><strong>Statement: - What is the maximum possible n digit number starting from 0 we can make in K steps\nusing only 2 operations:-\nmultiplying by 3 or incrementing by 2.</strong></p>\n<p>EXAMPLE :\nN =2 K = 5;\n-&gt; (0-&gt;2-&gt;6-&gt;8-&gt;24-&gt;72) 72 IS THE ANSWER</p>\n<p><strong>N = 2 , K = 51 -&gt; (0-&gt;2-&gt;6-&gt;8-&gt;10-&gt;30-&gt;32-&gt;96-&gt;98). 98 is the maximum we can get so need to check for rest of the moves.</strong></p>\n<p><strong>My 2 state-recursive solution:-</strong></p>\n<pre><code>public static void largestNDigitNumber(long[] highest, long maxValue, long k, long currentValue) {\n    if (highest[0] == (maxValue - 2)) return; //no need to do anything as we get 98 as highest.\n    if (k &lt; 0) return; //checking for steps\n\n    if (highest[0] &lt; currentValue &amp;&amp; currentValue &lt;= (maxValue - 2)) {\n        highest[0] = currentValue;\n    }\n\n    largestNDigitNumber(highest, maxValue, (k - 1), (currentValue * 3));\n    largestNDigitNumber(highest, maxValue, (k - 1), (currentValue + 2));\n}\n\n\npublic static void main(String[] args) {\n    int n = 2;\n    long k = 51;\n    long maxValue = (long) Math.pow(10, n);\n    long[] highest = new long[1];\n    largestNDigitNumber(highest, maxValue, (k - 1), 2);\n    if (highest[0] &lt; (long) Math.pow(10, (n - 1))) {\n        System.out.println(&quot;-1&quot;); // if it is not possible to make n digit in given steps\n    } else System.out.println(highest[0]);\n}\n</code></pre>\n<p>when &quot;k&quot; is small it is giving the correct answer but for bigger values of &quot;k&quot;, it does not show any input. for n=2 and k = 51, it does not show anything.</p>\n<p>please help me to improve this code</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6091910,"reputation":2056,"user_id":4753904,"accept_rate":75,"display_name":"CoderNeji"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433396282,"creation_date":1433396064,"answer_id":30635668,"question_id":30635605,"body_markdown":"You can try with:\r\n\r\n    if(this.currency.equals(&quot;\\u20B9&quot;)) {\r\n        r=&quot;₹ &quot;+r;\r\n    }\r\n\r\n\r\n`&quot;\\u20B9&quot;` is the java encoding for rupee symbol. \r\n\r\nMore info: \r\n\r\n - [Unicode Character &#39;INDIAN RUPEE SIGN&#39; ][1].\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/char/20b9/index.htm","title":"How to display rupee symbol in my java class?","body":"<p>You can try with:</p>\n\n<pre><code>if(this.currency.equals(\"\\u20B9\")) {\n    r=\"₹ \"+r;\n}\n</code></pre>\n\n<p><code>\"\\u20B9\"</code> is the java encoding for rupee symbol. </p>\n\n<p>More info: </p>\n\n<ul>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/20b9/index.htm\" rel=\"noreferrer\">Unicode Character 'INDIAN RUPEE SIGN' </a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433396309,"creation_date":1433396309,"answer_id":30635721,"question_id":30635605,"body_markdown":"Your problem seems to be not much about the compare part of that snippet but mainly related to the printing, to display that characters correctly wrap `System.out` in an `OutputPrintWriter` with an UTF-8 encoding, it&#39;s needed on some OS configuration:\r\n\r\n    OutputStreamWriter stdOut=new OutputStreamWriter(System.out,&quot;UTF8&quot;);\r\n    stdOut.println(&quot;₹&quot;);","title":"How to display rupee symbol in my java class?","body":"<p>Your problem seems to be not much about the compare part of that snippet but mainly related to the printing, to display that characters correctly wrap <code>System.out</code> in an <code>OutputPrintWriter</code> with an UTF-8 encoding, it's needed on some OS configuration:</p>\n\n<pre><code>OutputStreamWriter stdOut=new OutputStreamWriter(System.out,\"UTF8\");\nstdOut.println(\"₹\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6287746,"reputation":505,"user_id":4886349,"accept_rate":86,"display_name":"Chandu D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483195216,"creation_date":1433405837,"answer_id":30638514,"question_id":30635605,"body_markdown":"Try this:\r\n\r\n    String s=&quot;₹&quot;;\r\n\r\n    if(s.equalsIgnoreCase(&quot;₹&quot;)) {\r\n      System.out.println(&quot;if condition&quot;+s);\r\n    }\r\n\r\n","title":"How to display rupee symbol in my java class?","body":"<p>Try this:</p>\n\n<pre><code>String s=\"₹\";\n\nif(s.equalsIgnoreCase(\"₹\")) {\n  System.out.println(\"if condition\"+s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6287746,"reputation":505,"user_id":4886349,"accept_rate":86,"display_name":"Chandu D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433480534,"creation_date":1433480534,"answer_id":30658672,"question_id":30635605,"body_markdown":"\t\r\n\t\tString string = &quot;\\u20B9&quot;;\r\n\t    byte[] utf8 = string.getBytes(&quot;UTF-8&quot;);\r\n\t    \r\n\t    string = new String(utf8, &quot;UTF-8&quot;);\r\n\t    System.out.println(string);","title":"How to display rupee symbol in my java class?","body":"<pre><code>    String string = \"\\u20B9\";\n    byte[] utf8 = string.getBytes(\"UTF-8\");\n\n    string = new String(utf8, \"UTF-8\");\n    System.out.println(string);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3141252,"reputation":491,"user_id":2656677,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507705203,"creation_date":1507705203,"answer_id":46681754,"question_id":30635605,"body_markdown":" - Enable &quot;UTF-8&quot; in your editor (eclipse/netbean) \r\n - Or use unicode (&quot;\\u20B9&quot;).","title":"How to display rupee symbol in my java class?","body":"<ul>\n<li>Enable \"UTF-8\" in your editor (eclipse/netbean) </li>\n<li>Or use unicode (\"\\u20B9\").</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23836351,"reputation":1,"user_id":17842041,"display_name":"Rehan Nizami"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658201104,"creation_date":1658158329,"answer_id":73024912,"question_id":30635605,"body_markdown":"```java\r\nString string = &quot;\\u20B9&quot;;\r\nbyte[] utf8 = string.getBytes(&quot;UTF-8&quot;);\r\n\r\nstring = new String(utf8, &quot;UTF-8&quot;);\r\nSystem.out.println(string);\r\n```","title":"How to display rupee symbol in my java class?","body":"<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;\\u20B9&quot;;\nbyte[] utf8 = string.getBytes(&quot;UTF-8&quot;);\n\nstring = new String(utf8, &quot;UTF-8&quot;);\nSystem.out.println(string);\n</code></pre>\n"}],"owner":{"account_id":6287742,"reputation":347,"user_id":4886346,"accept_rate":25,"display_name":"Lakshmi Prasanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23705,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":6,"score":4,"last_activity_date":1658201104,"creation_date":1433395775,"question_id":30635605,"body_markdown":"\r\n\r\n\r\n    if(this.currency.equalsIgnoreCase(&quot;₹&quot;)) {\r\n        r=&quot;₹ &quot;+r;\r\n    }\r\n\r\nI want to compare `₹`(Indian rupee symbol) in java. Here I am trying to print currency rupee symbol, but instead it is displaying the symbol like `&#226;?&#185;`.  \r\n\r\nHow to overcome this problem?\r\n\r\n","title":"How to display rupee symbol in my java class?","body":"<pre><code>if(this.currency.equalsIgnoreCase(\"₹\")) {\n    r=\"₹ \"+r;\n}\n</code></pre>\n\n<p>I want to compare <code>₹</code>(Indian rupee symbol) in java. Here I am trying to print currency rupee symbol, but instead it is displaying the symbol like <code>â?¹</code>.  </p>\n\n<p>How to overcome this problem?</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1658124782,"post_id":73017572,"comment_id":128963578,"body_markdown":"Your question title says you want to create a rectangle with text and your question body says that you already have such a rectangle and now want to rotate it. Please clarify.","body":"Your question title says you want to create a rectangle with text and your question body says that you already have such a rectangle and now want to rotate it. Please clarify."},{"owner":{"account_id":25832588,"reputation":33,"user_id":19569487,"display_name":"ANKUSH GUPTA"},"score":0,"creation_date":1658131122,"post_id":73017572,"comment_id":128965296,"body_markdown":"@mkl i have changed the title.","body":"@mkl i have changed the title."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1658134742,"post_id":73017572,"comment_id":128966594,"body_markdown":"Ah, ok, so you have as input a PDF with a rectangle and with image and text which happen to be positioned inside that rectangle. And you want to rotate the rectangle and everything inside. So first off, how can that rectangle be recognized? Is it the only rectangle on the page? Or is it at a specific location? And is it drawn using vector graphics? Is the rectangle filled? Or does it have a stroked border? Or is the rectangle itself actually a bitmap image? Are you sure the elements inside and outside the rectangle are drawn as separate entities, so their angle can be independently changed?","body":"Ah, ok, so you have as input a PDF with a rectangle and with image and text which happen to be positioned inside that rectangle. And you want to rotate the rectangle and everything inside. So first off, how can that rectangle be recognized? Is it the only rectangle on the page? Or is it at a specific location? And is it drawn using vector graphics? Is the rectangle filled? Or does it have a stroked border? Or is the rectangle itself actually a bitmap image? Are you sure the elements inside and outside the rectangle are drawn as separate entities, so their angle can be independently changed?"},{"owner":{"account_id":25832588,"reputation":33,"user_id":19569487,"display_name":"ANKUSH GUPTA"},"score":0,"creation_date":1658135264,"post_id":73017572,"comment_id":128966776,"body_markdown":"there is only a single spearate rectangle and image and text are filled using canvas in it. so i guess they are somehow independent. the rectangle is drawn using a specific position of x and y cordinates.","body":"there is only a single spearate rectangle and image and text are filled using canvas in it. so i guess they are somehow independent. the rectangle is drawn using a specific position of x and y cordinates."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1658158268,"post_id":73017572,"comment_id":128976125,"body_markdown":"*&quot;the rectangle is drawn using a specific position of x and y cordinates.&quot;* - ok, but what is technically drawn at that specific coordinates? Is it a bitmap image showing a rectangle? Or a vector graphics rectangle? (It would be easiest if you shared a representative example PDF.)","body":"<i>&quot;the rectangle is drawn using a specific position of x and y cordinates.&quot;</i> - ok, but what is technically drawn at that specific coordinates? Is it a bitmap image showing a rectangle? Or a vector graphics rectangle? (It would be easiest if you shared a representative example PDF.)"},{"owner":{"account_id":25832588,"reputation":33,"user_id":19569487,"display_name":"ANKUSH GUPTA"},"score":0,"creation_date":1658200966,"post_id":73017572,"comment_id":128986404,"body_markdown":"i have paste the image of code above.","body":"i have paste the image of code above."}],"owner":{"account_id":25832588,"reputation":33,"user_id":19569487,"display_name":"ANKUSH GUPTA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658231164,"answer_count":0,"score":1,"last_activity_date":1658201080,"creation_date":1658121128,"question_id":73017572,"body_markdown":"i have a rectangle that contains image  as well as text. i have to rotate that rectangle such that the image and text is rotated as well at a certain angle. Basically a replication of the same rectangle with the same content at some angle.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OIS80.png","title":"Rotate a rectangle with paragraph or image as content in itext7 version 7.1.0","body":"<p>i have a rectangle that contains image  as well as text. i have to rotate that rectangle such that the image and text is rotated as well at a certain angle. Basically a replication of the same rectangle with the same content at some angle.</p>\n<p><a href=\"https://i.stack.imgur.com/OIS80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OIS80.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","android-mediacodec","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658201007,"creation_date":1657894173,"answer_id":72995306,"question_id":72991787,"body_markdown":"A somewhat efficient way to do that is first converting your `YUV_420_888` image to `NV21`, then use Android&#39;s `YuvImage#compressToJpeg` API to convert it.\r\n\r\nFor the `YUV_420_888` -&gt; `NV21` conversion, you can see the code sample [here](https://github.com/androidx/androidx/blob/6ca377f0b2acb8305a38cbe512a96256944c713d/camera/camera-core/src/main/java/androidx/camera/core/internal/utils/ImageUtil.java#L143). The performance of this step can be optimized by using `libyuv` for the format conversion: https://chromium.googlesource.com/libyuv/libyuv\r\n\r\nFor compressing `NV21` to `JPEG` with `YuvImage`, you can see the code sample [here](https://github.com/androidx/androidx/blob/420648a3c8ed86bac820aa39536c46a0beec22f3/camera/camera-core/src/main/java/androidx/camera/core/internal/YuvToJpegProcessor.java#L170).","title":"What is the fastest way to encode a bytebuffer image in jpg format?","body":"<p>A somewhat efficient way to do that is first converting your <code>YUV_420_888</code> image to <code>NV21</code>, then use Android's <code>YuvImage#compressToJpeg</code> API to convert it.</p>\n<p>For the <code>YUV_420_888</code> -&gt; <code>NV21</code> conversion, you can see the code sample <a href=\"https://github.com/androidx/androidx/blob/6ca377f0b2acb8305a38cbe512a96256944c713d/camera/camera-core/src/main/java/androidx/camera/core/internal/utils/ImageUtil.java#L143\" rel=\"nofollow noreferrer\">here</a>. The performance of this step can be optimized by using <code>libyuv</code> for the format conversion: <a href=\"https://chromium.googlesource.com/libyuv/libyuv\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/libyuv/libyuv</a></p>\n<p>For compressing <code>NV21</code> to <code>JPEG</code> with <code>YuvImage</code>, you can see the code sample <a href=\"https://github.com/androidx/androidx/blob/420648a3c8ed86bac820aa39536c46a0beec22f3/camera/camera-core/src/main/java/androidx/camera/core/internal/YuvToJpegProcessor.java#L170\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72995306,"answer_count":1,"score":0,"last_activity_date":1658201007,"creation_date":1657876883,"question_id":72991787,"body_markdown":"I use [CameraX][1] to capture an image from the camera using [ImageAnalysis][2]. The image is received as 3 ByteBuffers (respectively for the Y, U and V planes). I only keep the Y plane ByteBuffer. The other 2 are discarded.\r\n\r\nI would like to reduce the size of this ByteBuffer, for example by encoding it in the jpg format.\r\n\r\nIs it better to use **MediaCodec** or **BitmapFactory**? Knowing that the encoding time should be as small as possible. Is there another (better or faster) solution?\r\n\r\n\r\n  [1]: https://developer.android.com/training/camerax\r\n  [2]: https://developer.android.com/training/camerax/analyze","title":"What is the fastest way to encode a bytebuffer image in jpg format?","body":"<p>I use <a href=\"https://developer.android.com/training/camerax\" rel=\"nofollow noreferrer\">CameraX</a> to capture an image from the camera using <a href=\"https://developer.android.com/training/camerax/analyze\" rel=\"nofollow noreferrer\">ImageAnalysis</a>. The image is received as 3 ByteBuffers (respectively for the Y, U and V planes). I only keep the Y plane ByteBuffer. The other 2 are discarded.</p>\n<p>I would like to reduce the size of this ByteBuffer, for example by encoding it in the jpg format.</p>\n<p>Is it better to use <strong>MediaCodec</strong> or <strong>BitmapFactory</strong>? Knowing that the encoding time should be as small as possible. Is there another (better or faster) solution?</p>\n"},{"tags":["java","spring","file","file-upload","mime-types"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658197934,"creation_date":1658197934,"answer_id":73030494,"question_id":73030283,"body_markdown":"instead of length need to check bytes \r\n\r\n    if (image.getBytes()&lt;100)\r\n    then throw","title":"File upload HTTP API, Should I check zero file size and MIME type both?","body":"<p>instead of length need to check bytes</p>\n<pre><code>if (image.getBytes()&lt;100)\nthen throw\n</code></pre>\n"}],"owner":{"account_id":9783376,"reputation":245,"user_id":7250473,"display_name":"양정훈"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658197934,"creation_date":1658195439,"question_id":73030283,"body_markdown":"In image upload API (Spring)\r\n\r\nI validate file like this\r\n\r\n```\r\n// pseudocode\r\n\r\nMultipartFile image\r\nif image.contentType != &quot;image/~&quot;\r\nthen throw\r\n\r\nif image.size == 0\r\nthen throw\r\n```\r\n\r\nShould I check size zero?\r\n\r\nI already check MIME type\r\n\r\nIs it possible to make image MIME file with zero size?\r\n\r\n\r\n```\r\n(I validate maximum size with properties file)\r\n\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\n```","title":"File upload HTTP API, Should I check zero file size and MIME type both?","body":"<p>In image upload API (Spring)</p>\n<p>I validate file like this</p>\n<pre><code>// pseudocode\n\nMultipartFile image\nif image.contentType != &quot;image/~&quot;\nthen throw\n\nif image.size == 0\nthen throw\n</code></pre>\n<p>Should I check size zero?</p>\n<p>I already check MIME type</p>\n<p>Is it possible to make image MIME file with zero size?</p>\n<pre><code>(I validate maximum size with properties file)\n\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n"},{"tags":["java","redis","spring-data","queue","lettuce"],"comments":[{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":0,"creation_date":1657586149,"post_id":72944310,"comment_id":128840999,"body_markdown":"Your redis client might have a bug. Since you want to block for 8 seconds, while the connection timeout is 30 seconds (which is larger than the blocking timeout), you should get a null reply, instead of timeout.","body":"Your redis client might have a bug. Since you want to block for 8 seconds, while the connection timeout is 30 seconds (which is larger than the blocking timeout), you should get a null reply, instead of timeout."},{"owner":{"account_id":4025121,"reputation":4341,"user_id":5372462,"display_name":"ofirule"},"score":0,"creation_date":1658149682,"post_id":72944310,"comment_id":128972076,"body_markdown":"Maybe your disc has no available sapce and/or all of your ram is used and thrashing occurs at this moment. Another suspect is the CPU.","body":"Maybe your disc has no available sapce and/or all of your ram is used and thrashing occurs at this moment. Another suspect is the CPU."}],"answers":[{"tags":[],"owner":{"account_id":179602,"reputation":655,"user_id":412372,"accept_rate":57,"display_name":"Sandeep More"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658197730,"creation_date":1658197730,"answer_id":73030472,"question_id":72944310,"body_markdown":"There are a few ways to solve this issue:\r\n\r\n1) Use a REDIS SENTINEL with failover capabilities. This way, if the primary REDIS instance goes down, the sentinel will automatically failover to the replica instance and your elements will not be lost.\r\n\r\n2) Use a REDIS CLUSTER. This will provide you with high availability and will ensure that your elements are not lost in the event of a failure.\r\n\r\n3) Use a REDIS Replication setup. This will provide you with a hot standby REDIS instance that can take over if the primary instance goes down.\r\n\r\n4) Use a REDIS Persistence setup. This will ensure that your elements are not lost in the event of a failure.\r\n\r\n5) Use a REDIS Backup setup. This will ensure that your elements are not lost in the event of a failure.\r\n","title":"REDIS LIST MOVE recovery/rollback strategy","body":"<p>There are a few ways to solve this issue:</p>\n<ol>\n<li><p>Use a REDIS SENTINEL with failover capabilities. This way, if the primary REDIS instance goes down, the sentinel will automatically failover to the replica instance and your elements will not be lost.</p>\n</li>\n<li><p>Use a REDIS CLUSTER. This will provide you with high availability and will ensure that your elements are not lost in the event of a failure.</p>\n</li>\n<li><p>Use a REDIS Replication setup. This will provide you with a hot standby REDIS instance that can take over if the primary instance goes down.</p>\n</li>\n<li><p>Use a REDIS Persistence setup. This will ensure that your elements are not lost in the event of a failure.</p>\n</li>\n<li><p>Use a REDIS Backup setup. This will ensure that your elements are not lost in the event of a failure.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73030472,"answer_count":1,"score":1,"last_activity_date":1658197730,"creation_date":1657571255,"question_id":72944310,"body_markdown":"I have the following scenario:\r\n\r\n 1. Redis SENTINEL with one main REDIs and two replicas\r\n 2.  Redis Connection timeout configured to 30 seconds\r\n 3. Lettuce&#39;s Java REDIS client\r\n 4. Spring Data on top of Lettuce&#39;s REDIS client\r\n\r\nI have a REDIS LIST which I am using as a QUEUE. As expected, each element on the queue must be processed by one and only one element processor. However, in some weird corner cases, I sometimes experience THIS:\r\n\r\n    -&gt; BLMOVE A B 8\r\n         (*) I get a timeout here after 30 seconds\r\n\r\n(this is, move from list `A` to list `B` and block for `8 seconds`\r\n\r\nThe problem I have is that the ELEMENT actually moves from list `A` to list `B` and I still get the timeout, so after this exception the element gets lost in queue `B` and never gets processed. I understand that this might be a network issue with the REDIS CONNECTION.\r\n\r\nMy question is: What&#39;s the best way to handle cases like this? Is there a way to &quot;recover&quot; the unprocessed element and try again?\r\n","title":"REDIS LIST MOVE recovery/rollback strategy","body":"<p>I have the following scenario:</p>\n<ol>\n<li>Redis SENTINEL with one main REDIs and two replicas</li>\n<li>Redis Connection timeout configured to 30 seconds</li>\n<li>Lettuce's Java REDIS client</li>\n<li>Spring Data on top of Lettuce's REDIS client</li>\n</ol>\n<p>I have a REDIS LIST which I am using as a QUEUE. As expected, each element on the queue must be processed by one and only one element processor. However, in some weird corner cases, I sometimes experience THIS:</p>\n<pre><code>-&gt; BLMOVE A B 8\n     (*) I get a timeout here after 30 seconds\n</code></pre>\n<p>(this is, move from list <code>A</code> to list <code>B</code> and block for <code>8 seconds</code></p>\n<p>The problem I have is that the ELEMENT actually moves from list <code>A</code> to list <code>B</code> and I still get the timeout, so after this exception the element gets lost in queue <code>B</code> and never gets processed. I understand that this might be a network issue with the REDIS CONNECTION.</p>\n<p>My question is: What's the best way to handle cases like this? Is there a way to &quot;recover&quot; the unprocessed element and try again?</p>\n"},{"tags":["java","random"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658193352,"creation_date":1658193352,"answer_id":73030119,"question_id":73029989,"body_markdown":"    double num = max - Math.random() * (max - min);\r\n\r\nThis will produce numbers whose upper limit, `max` is inclusive, but whose lower limit, `min` is exclusive, because `max` is returned when `Math.random()` returns zero.","title":"Java generate random double between exclusive starting range and inclusive ending range","body":"<pre><code>double num = max - Math.random() * (max - min);\n</code></pre>\n<p>This will produce numbers whose upper limit, <code>max</code> is inclusive, but whose lower limit, <code>min</code> is exclusive, because <code>max</code> is returned when <code>Math.random()</code> returns zero.</p>\n"}],"owner":{"account_id":10848506,"reputation":306,"user_id":17978724,"display_name":"swamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73030119,"answer_count":1,"score":0,"last_activity_date":1658193352,"creation_date":1658191688,"question_id":73029989,"body_markdown":"```lang-java\r\ndouble num = min + Math.random() * (max - min);\r\n```\r\nThis creates random double between `[min, max)`. I would like to create random double between `(min, max]`. \r\n\r\nI have seen an [approach](https://stackoverflow.com/a/363732/17978724) that generates integers between `[min, max]`, but the number here is integer and the starting range is inclusive.","title":"Java generate random double between exclusive starting range and inclusive ending range","body":"<pre class=\"lang-java prettyprint-override\"><code>double num = min + Math.random() * (max - min);\n</code></pre>\n<p>This creates random double between <code>[min, max)</code>. I would like to create random double between <code>(min, max]</code>.</p>\n<p>I have seen an <a href=\"https://stackoverflow.com/a/363732/17978724\">approach</a> that generates integers between <code>[min, max]</code>, but the number here is integer and the starting range is inclusive.</p>\n"},{"tags":["java","nlp","stanford-nlp"],"answers":[{"tags":[],"owner":{"display_name":"user2752661"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1390914234,"creation_date":1390914234,"answer_id":21406307,"question_id":20907909,"body_markdown":"Depending on your program context, you can just drop all text from the error stream&#39;s output during corenlp execution.\r\n\r\n&lt;pre&gt;\r\n// this is your print stream, store the reference\r\nPrintStream err = System.err;\r\n\r\n// now make all writes to the System.err stream silent \r\nSystem.setErr(new PrintStream(new OutputStream() {\r\n    public void write(int b) {\r\n    }\r\n}));\r\n\r\n// YOUR CODE HERE\r\n\t\t\r\n// set everything bck to its original state afterwards\r\nSystem.setErr(err); \t\t\r\n&lt;/pre&gt;","title":"Stanford CoreNLP remove/stop red information print outs","body":"<p>Depending on your program context, you can just drop all text from the error stream's output during corenlp execution.</p>\n\n<pre>\n// this is your print stream, store the reference\nPrintStream err = System.err;\n\n// now make all writes to the System.err stream silent \nSystem.setErr(new PrintStream(new OutputStream() {\n    public void write(int b) {\n    }\n}));\n\n// YOUR CODE HERE\n\n// set everything bck to its original state afterwards\nSystem.setErr(err);         \n</pre>\n"}],"owner":{"account_id":3426113,"reputation":754,"user_id":2871826,"accept_rate":90,"display_name":"Greg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2191,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":21406307,"answer_count":1,"score":6,"last_activity_date":1658192883,"creation_date":1388765390,"question_id":20907909,"body_markdown":"I&#39;m using Stanford&#39;s CoreNLP Java API and while running it prints out information in red.\r\nIt just fills up the command lines when i don&#39;t want to see it.\r\nis there anyway of disabling this feature?\r\n\r\nExample of the red info lines:\r\n\r\n    Searching for resource: StanfordCoreNLP.properties\r\n    Searching for resource: edu/stanford/nlp/pipeline/StanfordCoreNLP.properties\r\n    Adding annotator tokenize\r\n    Adding annotator ssplit\r\n    Adding annotator pos\r\n    Reading POS tagger model from edu/stanford/nlp/models/pos-tagger/english-left3words/english-left3words-distsim.tagger ... done [1.2 sec].\r\n    Adding annotator lemma\r\n    Adding annotator ner\r\n    Loading classifier from edu/stanford/nlp/models/ner/english.all.3class.distsim.crf.ser.gz ... done [3.0 sec].\r\n    Loading classifier from edu/stanford/nlp/models/ner/english.muc.7class.distsim.crf.ser.gz ... done [2.7 sec].\r\n    Loading classifier from edu/stanford/nlp/models/ner/english.conll.4class.distsim.crf.ser.gz ... done [2.0 sec].\r\n    Initializing JollyDayHoliday for sutime\r\n    Reading TokensRegex rules from edu/stanford/nlp/models/sutime/defs.sutime.txt\r\n    Reading TokensRegex rules from edu/stanford/nlp/models/sutime/english.sutime.txt\r\n    Jan 03, 2014 3:52:37 PM edu.stanford.nlp.ling.tokensregex.CoreMapExpressionExtractor appendRules\r\n    INFO: Ignoring inactive rule: temporal-composite-8:ranges\r\n    Reading TokensRegex rules from edu/stanford/nlp/models/sutime/english.holidays.sutime.txt\r\n    Adding annotator parse\r\n    Loading parser from serialized file edu/stanford/nlp/models/lexparser/englishPCFG.ser.gz ... done [0.8 sec].\r\n    Adding annotator dcoref\r\n    Searching for resource: StanfordCoreNLP.properties\r\n    Searching for resource: edu/stanford/nlp/pipeline/StanfordCoreNLP.properties\r\n    Adding annotator tokenize\r\n    Adding annotator ssplit\r\n    Adding annotator pos\r\n    Adding annotator lemma\r\n    Adding annotator ner\r\n    Adding annotator parse\r\n    Adding annotator dcoref\r\n    Searching for resource: StanfordCoreNLP.properties\r\n    Searching for resource: edu/stanford/nlp/pipeline/StanfordCoreNLP.properties\r\n    Adding annotator tokenize\r\n    Adding annotator ssplit\r\n    Adding annotator pos\r\n    Adding annotator lemma\r\n    Adding annotator ner\r\n    Adding annotator parse\r\n    Adding annotator dcoref\r\n\r\n","title":"Stanford CoreNLP remove/stop red information print outs","body":"<p>I'm using Stanford's CoreNLP Java API and while running it prints out information in red.\nIt just fills up the command lines when i don't want to see it.\nis there anyway of disabling this feature?</p>\n<p>Example of the red info lines:</p>\n<pre><code>Searching for resource: StanfordCoreNLP.properties\nSearching for resource: edu/stanford/nlp/pipeline/StanfordCoreNLP.properties\nAdding annotator tokenize\nAdding annotator ssplit\nAdding annotator pos\nReading POS tagger model from edu/stanford/nlp/models/pos-tagger/english-left3words/english-left3words-distsim.tagger ... done [1.2 sec].\nAdding annotator lemma\nAdding annotator ner\nLoading classifier from edu/stanford/nlp/models/ner/english.all.3class.distsim.crf.ser.gz ... done [3.0 sec].\nLoading classifier from edu/stanford/nlp/models/ner/english.muc.7class.distsim.crf.ser.gz ... done [2.7 sec].\nLoading classifier from edu/stanford/nlp/models/ner/english.conll.4class.distsim.crf.ser.gz ... done [2.0 sec].\nInitializing JollyDayHoliday for sutime\nReading TokensRegex rules from edu/stanford/nlp/models/sutime/defs.sutime.txt\nReading TokensRegex rules from edu/stanford/nlp/models/sutime/english.sutime.txt\nJan 03, 2014 3:52:37 PM edu.stanford.nlp.ling.tokensregex.CoreMapExpressionExtractor appendRules\nINFO: Ignoring inactive rule: temporal-composite-8:ranges\nReading TokensRegex rules from edu/stanford/nlp/models/sutime/english.holidays.sutime.txt\nAdding annotator parse\nLoading parser from serialized file edu/stanford/nlp/models/lexparser/englishPCFG.ser.gz ... done [0.8 sec].\nAdding annotator dcoref\nSearching for resource: StanfordCoreNLP.properties\nSearching for resource: edu/stanford/nlp/pipeline/StanfordCoreNLP.properties\nAdding annotator tokenize\nAdding annotator ssplit\nAdding annotator pos\nAdding annotator lemma\nAdding annotator ner\nAdding annotator parse\nAdding annotator dcoref\nSearching for resource: StanfordCoreNLP.properties\nSearching for resource: edu/stanford/nlp/pipeline/StanfordCoreNLP.properties\nAdding annotator tokenize\nAdding annotator ssplit\nAdding annotator pos\nAdding annotator lemma\nAdding annotator ner\nAdding annotator parse\nAdding annotator dcoref\n</code></pre>\n"},{"tags":["java","multithreading","wait","notify","starvation"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1658191085,"post_id":73029851,"comment_id":128984976,"body_markdown":"It&#39;s &quot;random&quot; but it&#39;s not like the computer rolls a fair die or something.  The OS wakes up whichever thread it wants, and that&#39;s implementation dependent, not really &quot;random.&quot;  If the implementation wants to wake up the same thread each time, it can.  If you want a fair algorithm, use a `Semaphore` that&#39;s has the &quot;fair&quot; parameter set.","body":"It&#39;s &quot;random&quot; but it&#39;s not like the computer rolls a fair die or something.  The OS wakes up whichever thread it wants, and that&#39;s implementation dependent, not really &quot;random.&quot;  If the implementation wants to wake up the same thread each time, it can.  If you want a fair algorithm, use a <code>Semaphore</code> that&#39;s has the &quot;fair&quot; parameter set."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1658191152,"post_id":73029851,"comment_id":128984989,"body_markdown":"Fair Semaphore: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/concurrent/Semaphore.html#%3Cinit%3E(int,boolean)","body":"Fair Semaphore: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/concurrent/Semaphore.html#%3Cinit%3E(int,boolean)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api//java.base/java/u&zwnj;&#8203;til/&hellip;</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1658242605,"post_id":73029851,"comment_id":129000308,"body_markdown":"Note: This program has potential to hang. If, by some amazing coincidence, all five threads enter `wait()` at the same time, then there will be no live thread left to `notifyAll()` them.","body":"Note: This program has potential to hang. If, by some amazing coincidence, all five threads enter <code>wait()</code> at the same time, then there will be no live thread left to <code>notifyAll()</code> them."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658192306,"creation_date":1658192306,"answer_id":73030033,"question_id":73029851,"body_markdown":"This isn&#39;t &#39;starvation&#39;. Your 5 threads are all doing nothing. They all want to &#39;wake up&#39; - `notify()` will wake up an arbitrary one. It is neither unreliably random: The JMM does not ascribe an order to this, so one of them will wake up, you can&#39;t rely on it being random (do not use this to generate random numbers), nor can you rely on specific ordering behaviour.\r\n\r\nIt&#39;s not starvation (it&#39;s not: Oh no! Thread 2 and 3 are doing all the work and 4 and 5 are just hanging out doing nothing! That&#39;s bad - the system could be more efficient!) - because it doesn&#39;t matter which thread &#39;does the work&#39;. A CPU core is a CPU core, it cares not which thread it ends up running.\r\n\r\nStarvation is a different principle. Imagine instead of `Thread.sleep` (which means the threads aren&#39;t waiting for anything specific, other than some time to elapse), instead the threads want to print the result of some expensiv-ish math operation. If you just let 2 threads each say &#39;Hello!&#39;, then the impl of System.out says that it would be acceptable for the JVM to produce:\r\n\r\n`HelHellloo!!`\r\n\r\nSo to prevent this, you use locks to create a &#39;talking stick&#39; of sorts: A thread only gets to print if it has the talking stick. Each of 5 threads will all perform, in a loop, the following operation:\r\n\r\n* Do an expensive math operation.\r\n* Acquire the talking stick.\r\n* Print the result of the operation.\r\n* Release the talking stick.\r\n* Loop back to the top.\r\n\r\nNow imagine that, despite the fact that the math operation is quite expensive, for whatever reason you have an excruciatingly slow terminal, and the &#39;print the result of the operation&#39; job takes a really long time to finish.\r\n\r\nNow you can run into starvation. Imagine this scenario:\r\n\r\n* Threads 1-5 all do their expensive math simultaneously.\r\n* Arbitrarily, thread 4 ends up nabbing the talking stick.\r\n* The other 4 threads soon too want the talking stick but they have to wait; t4 has it. They do nothing now. Twiddling their thumbs (they could be calculating, but they are not!)\r\n* after the excruciatingly long time, 4 is done and releases the stick. 1, 2, 3, and 5 dogpile on like its the All-Blacks and 2 so happens to win the scrum and crawls out of the pile with the stick. 1, 3, and 5 gnash their teeth and go back yet again to waiting for the stick, still not doing any work. Whilst 2 is busy spending the really long time printing results, 4 goes back to the top of the loop and calculates another result. It ends up doing this faster than 2 manages to print, so 4 ends up wanting the talking stick again before 2 is done.\r\n* 2 is finally done and 1, 3, 4, and 5 all scrum into a pile again. 4 happens to get the stick - java makes absolutely no guarantees about fairness, any one of them can get it, there is also no guarantee of randomness or lack thereof. A JVM is not broken if 4 is destined to win this fight.\r\n\r\n* Repeat ad nauseam. 2 and 4 keep trading the stick back and forth. 1, 3, and 5 never get to talk.\r\n\r\nThe above is, as per the JMM, __valid__ - a JVM is not broken if it behaves like this (it would be a tad weird). Any bugs filed about this behaviour would be denied: The lock isn&#39;t so-called &quot;fair&quot;. Java has fair locks if you want them - in the `java.util.concurrent` package. Fair locks incur some slight extra bookkeeping cost, the assumption made by the `synchronized` and wait/notify system is that you don&#39;t want to pay this extra cost.\r\n\r\nA better solution to the above scenario is possibly to make a 6th thread that _JUST_ prints, with 5 threads _JUST_ filling a buffer, at least then the &#39;print&#39; part is left to a single thread and that might be faster. But mostly, the bottleneck in this getup is simply that printing - the code has zero benefit from being multicore (just having ONE thread do ONE math calculation, print it, do another, and so forth would be better. Or possibly 2 threads: Whilst printing, the other thread calculates a number, but there&#39;s no point in having more than one; even a single thread can calculate faster than results can be printed). Thus in some ways this is just what the situation honestly requires: This hypothetical scenario still prints as fast as it can. _IF_ you need the printing to be &#39;fair&#39; (and who says that? It&#39;s not intrinsic to the problem description that fairness is a requirement. Maybe all the various calculations are equally useful so it doesn&#39;t matter that one thread gets to print more than others; let&#39;s say its bitcoin miners, generating a random number and checking if that results in a hash with the requisite 7 zeroes at the end or whatever bitcoin is up to now - who cares that one thread gets more time than another? A &#39;fair&#39; system is no more likely to successfully mine a block).\r\n\r\nThus, &#39;fairness&#39; is something you need to explicitly determine you actually need. If you do, _AND_ starvation is an issue, use a fair lock. `new ReentrantLock(true)` is all you need (that boolean parameter is the `fair` parameter - `true` means you want fairness).\r\n","title":"why the starvation is caused by notifyAll()?","body":"<p>This isn't 'starvation'. Your 5 threads are all doing nothing. They all want to 'wake up' - <code>notify()</code> will wake up an arbitrary one. It is neither unreliably random: The JMM does not ascribe an order to this, so one of them will wake up, you can't rely on it being random (do not use this to generate random numbers), nor can you rely on specific ordering behaviour.</p>\n<p>It's not starvation (it's not: Oh no! Thread 2 and 3 are doing all the work and 4 and 5 are just hanging out doing nothing! That's bad - the system could be more efficient!) - because it doesn't matter which thread 'does the work'. A CPU core is a CPU core, it cares not which thread it ends up running.</p>\n<p>Starvation is a different principle. Imagine instead of <code>Thread.sleep</code> (which means the threads aren't waiting for anything specific, other than some time to elapse), instead the threads want to print the result of some expensiv-ish math operation. If you just let 2 threads each say 'Hello!', then the impl of System.out says that it would be acceptable for the JVM to produce:</p>\n<p><code>HelHellloo!!</code></p>\n<p>So to prevent this, you use locks to create a 'talking stick' of sorts: A thread only gets to print if it has the talking stick. Each of 5 threads will all perform, in a loop, the following operation:</p>\n<ul>\n<li>Do an expensive math operation.</li>\n<li>Acquire the talking stick.</li>\n<li>Print the result of the operation.</li>\n<li>Release the talking stick.</li>\n<li>Loop back to the top.</li>\n</ul>\n<p>Now imagine that, despite the fact that the math operation is quite expensive, for whatever reason you have an excruciatingly slow terminal, and the 'print the result of the operation' job takes a really long time to finish.</p>\n<p>Now you can run into starvation. Imagine this scenario:</p>\n<ul>\n<li><p>Threads 1-5 all do their expensive math simultaneously.</p>\n</li>\n<li><p>Arbitrarily, thread 4 ends up nabbing the talking stick.</p>\n</li>\n<li><p>The other 4 threads soon too want the talking stick but they have to wait; t4 has it. They do nothing now. Twiddling their thumbs (they could be calculating, but they are not!)</p>\n</li>\n<li><p>after the excruciatingly long time, 4 is done and releases the stick. 1, 2, 3, and 5 dogpile on like its the All-Blacks and 2 so happens to win the scrum and crawls out of the pile with the stick. 1, 3, and 5 gnash their teeth and go back yet again to waiting for the stick, still not doing any work. Whilst 2 is busy spending the really long time printing results, 4 goes back to the top of the loop and calculates another result. It ends up doing this faster than 2 manages to print, so 4 ends up wanting the talking stick again before 2 is done.</p>\n</li>\n<li><p>2 is finally done and 1, 3, 4, and 5 all scrum into a pile again. 4 happens to get the stick - java makes absolutely no guarantees about fairness, any one of them can get it, there is also no guarantee of randomness or lack thereof. A JVM is not broken if 4 is destined to win this fight.</p>\n</li>\n<li><p>Repeat ad nauseam. 2 and 4 keep trading the stick back and forth. 1, 3, and 5 never get to talk.</p>\n</li>\n</ul>\n<p>The above is, as per the JMM, <strong>valid</strong> - a JVM is not broken if it behaves like this (it would be a tad weird). Any bugs filed about this behaviour would be denied: The lock isn't so-called &quot;fair&quot;. Java has fair locks if you want them - in the <code>java.util.concurrent</code> package. Fair locks incur some slight extra bookkeeping cost, the assumption made by the <code>synchronized</code> and wait/notify system is that you don't want to pay this extra cost.</p>\n<p>A better solution to the above scenario is possibly to make a 6th thread that <em>JUST</em> prints, with 5 threads <em>JUST</em> filling a buffer, at least then the 'print' part is left to a single thread and that might be faster. But mostly, the bottleneck in this getup is simply that printing - the code has zero benefit from being multicore (just having ONE thread do ONE math calculation, print it, do another, and so forth would be better. Or possibly 2 threads: Whilst printing, the other thread calculates a number, but there's no point in having more than one; even a single thread can calculate faster than results can be printed). Thus in some ways this is just what the situation honestly requires: This hypothetical scenario still prints as fast as it can. <em>IF</em> you need the printing to be 'fair' (and who says that? It's not intrinsic to the problem description that fairness is a requirement. Maybe all the various calculations are equally useful so it doesn't matter that one thread gets to print more than others; let's say its bitcoin miners, generating a random number and checking if that results in a hash with the requisite 7 zeroes at the end or whatever bitcoin is up to now - who cares that one thread gets more time than another? A 'fair' system is no more likely to successfully mine a block).</p>\n<p>Thus, 'fairness' is something you need to explicitly determine you actually need. If you do, <em>AND</em> starvation is an issue, use a fair lock. <code>new ReentrantLock(true)</code> is all you need (that boolean parameter is the <code>fair</code> parameter - <code>true</code> means you want fairness).</p>\n"}],"owner":{"account_id":25839912,"reputation":3,"user_id":19575634,"display_name":"HongPro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73030033,"answer_count":1,"score":0,"last_activity_date":1658192306,"creation_date":1658189984,"question_id":73029851,"body_markdown":"Here is my code,\r\n```java\r\nclass Shared {\r\n    private static int index = 0;\r\n    public synchronized void printThread() {\r\n        try {\r\n            while(true) {\r\n                Thread.sleep(1000);\r\n                System.out.println(Thread.currentThread().getName() + &quot;: &quot; + index++);\r\n\r\n            notifyAll();\r\n//            notify();\r\n                wait();\r\n            }\r\n\r\n        } catch (InterruptedException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass Example13 implements Runnable {\r\n    private Shared shared = new Shared();\r\n\r\n    @Override\r\n    public void run() {\r\n        shared.printThread();\r\n    }\r\n}\r\n\r\npublic class tetest {\r\n    public static void main(String[] args) {\r\n        Example13 r = new Example13();\r\n        Thread t1 = new Thread(r, &quot;Thread 1&quot;);\r\n        Thread t2 = new Thread(r, &quot;Thread 2&quot;);\r\n        Thread t3 = new Thread(r, &quot;Thread 3&quot;);\r\n        Thread t4 = new Thread(r, &quot;Thread 4&quot;);\r\n        Thread t5 = new Thread(r, &quot;Thread 5&quot;);\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n        t4.start();\r\n        t5.start();\r\n    }\r\n}\r\n```\r\nand the result is here\r\n```java \r\nThread 1: 0\r\nThread 5: 1\r\nThread 4: 2\r\nThread 3: 3\r\nThread 2: 4\r\nThread 3: 5\r\nThread 2: 6\r\nThread 3: 7\r\nThread 2: 8\r\nThread 3: 9\r\n```\r\n\r\nthe question is, why only two of the threads are working? I&#39;m so confused, I thought `notify()` is randomly wake up one of the waiting threads, but it&#39;s not.\r\n\r\nis this starvation? then, why the starvation is caused? I tried `notify()` and `notifyAll()`, but got same results for both. \r\n\r\nCan any one help my toasted brain?\r\n","title":"why the starvation is caused by notifyAll()?","body":"<p>Here is my code,</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Shared {\n    private static int index = 0;\n    public synchronized void printThread() {\n        try {\n            while(true) {\n                Thread.sleep(1000);\n                System.out.println(Thread.currentThread().getName() + &quot;: &quot; + index++);\n\n            notifyAll();\n//            notify();\n                wait();\n            }\n\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n\n\nclass Example13 implements Runnable {\n    private Shared shared = new Shared();\n\n    @Override\n    public void run() {\n        shared.printThread();\n    }\n}\n\npublic class tetest {\n    public static void main(String[] args) {\n        Example13 r = new Example13();\n        Thread t1 = new Thread(r, &quot;Thread 1&quot;);\n        Thread t2 = new Thread(r, &quot;Thread 2&quot;);\n        Thread t3 = new Thread(r, &quot;Thread 3&quot;);\n        Thread t4 = new Thread(r, &quot;Thread 4&quot;);\n        Thread t5 = new Thread(r, &quot;Thread 5&quot;);\n        t1.start();\n        t2.start();\n        t3.start();\n        t4.start();\n        t5.start();\n    }\n}\n</code></pre>\n<p>and the result is here</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread 1: 0\nThread 5: 1\nThread 4: 2\nThread 3: 3\nThread 2: 4\nThread 3: 5\nThread 2: 6\nThread 3: 7\nThread 2: 8\nThread 3: 9\n</code></pre>\n<p>the question is, why only two of the threads are working? I'm so confused, I thought <code>notify()</code> is randomly wake up one of the waiting threads, but it's not.</p>\n<p>is this starvation? then, why the starvation is caused? I tried <code>notify()</code> and <code>notifyAll()</code>, but got same results for both.</p>\n<p>Can any one help my toasted brain?</p>\n"},{"tags":["java","android","multithreading","service","timer"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658192084,"creation_date":1658192084,"answer_id":73030020,"question_id":73029906,"body_markdown":"Services end after 2 minutes in modern Android.  If you just need a 5 minute timer, use an Alarm and AlarmManager to set one.","title":"android service stops when main activity is destroyed","body":"<p>Services end after 2 minutes in modern Android.  If you just need a 5 minute timer, use an Alarm and AlarmManager to set one.</p>\n"}],"owner":{"account_id":25576781,"reputation":31,"user_id":19356087,"display_name":"hipstercat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658192084,"creation_date":1658190590,"question_id":73029906,"body_markdown":"I am making an app that gives the user a notification when it is time for a monster egg to be hatched again. Up to 10 eggs can be hatched per day every 5 minutes. I thought I&#39;d make a service that keeps a track of how much time has passed, but every time MainActivity closes on the emulator the service stops and calls onDestroy(). I made a test service to see if I could get the service to display log messages, or do something when onDestroy() is called. I was able to get the service to run a thread in onDestroy(), but obviously this is dangerous if I were to implement it.\r\n\r\nI was also reading around the site and notice people recommend either Handler or Alarm Manager. Should I use these instead of service? And could someone also explain why my service stops when MainActivity is destroyed? Also would it be recommended to retrieve/store data from app preferences within this service or whatever class I end up using so that the service and MainActivity can talk to each other? Like for example a seed based on whenever the timer is up so that MainActivity can create an egg from the seed whenever it is started?\r\n\r\n(edit)oops almost forgot: I also need it so that notifications appear whenever an egg is ready to hatch and whenever another batch of eggs is ready for the day. Whenever the user starts the app, the app should also display how long is left for another egg or another batch if the user has already used up their eggs for the day. Figured this context was important in determining whether I should use a service, alarm manager, or handler.\r\n\r\n```\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class egg_notifications extends Service {\r\n\r\n    public static int time = -1;\r\n\r\n    \r\n    public egg_notifications() {\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        AsyncTask datatask = new AsyncTask() {\r\n            @Override\r\n            protected Object doInBackground(Object[] objects) {\r\n                for(int c=0;c&lt;300;c++){\r\n                    Log.i(&quot;d&quot;,&quot;Time is &quot;+c);\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (Exception e) { }\r\n                }\r\n                return null;\r\n            }\r\n        }.execute();\r\n        return Service.START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.i(&quot;d&quot;,&quot;Service onDestroy&quot;);\r\n        AsyncTask datatask = new AsyncTask() {\r\n            @Override\r\n            protected Object doInBackground(Object[] objects) {\r\n                for(int c=0;c&lt;300;c++){\r\n                    Log.i(&quot;d&quot;,&quot;Time is &quot;+c);\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (Exception e) { }\r\n                }\r\n                return null;\r\n            }\r\n        }.execute();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n}\r\n```","title":"android service stops when main activity is destroyed","body":"<p>I am making an app that gives the user a notification when it is time for a monster egg to be hatched again. Up to 10 eggs can be hatched per day every 5 minutes. I thought I'd make a service that keeps a track of how much time has passed, but every time MainActivity closes on the emulator the service stops and calls onDestroy(). I made a test service to see if I could get the service to display log messages, or do something when onDestroy() is called. I was able to get the service to run a thread in onDestroy(), but obviously this is dangerous if I were to implement it.</p>\n<p>I was also reading around the site and notice people recommend either Handler or Alarm Manager. Should I use these instead of service? And could someone also explain why my service stops when MainActivity is destroyed? Also would it be recommended to retrieve/store data from app preferences within this service or whatever class I end up using so that the service and MainActivity can talk to each other? Like for example a seed based on whenever the timer is up so that MainActivity can create an egg from the seed whenever it is started?</p>\n<p>(edit)oops almost forgot: I also need it so that notifications appear whenever an egg is ready to hatch and whenever another batch of eggs is ready for the day. Whenever the user starts the app, the app should also display how long is left for another egg or another batch if the user has already used up their eggs for the day. Figured this context was important in determining whether I should use a service, alarm manager, or handler.</p>\n<pre><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.IBinder;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\npublic class egg_notifications extends Service {\n\n    public static int time = -1;\n\n    \n    public egg_notifications() {\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        AsyncTask datatask = new AsyncTask() {\n            @Override\n            protected Object doInBackground(Object[] objects) {\n                for(int c=0;c&lt;300;c++){\n                    Log.i(&quot;d&quot;,&quot;Time is &quot;+c);\n                    try {\n                        Thread.sleep(1000);\n                    } catch (Exception e) { }\n                }\n                return null;\n            }\n        }.execute();\n        return Service.START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        Log.i(&quot;d&quot;,&quot;Service onDestroy&quot;);\n        AsyncTask datatask = new AsyncTask() {\n            @Override\n            protected Object doInBackground(Object[] objects) {\n                for(int c=0;c&lt;300;c++){\n                    Log.i(&quot;d&quot;,&quot;Time is &quot;+c);\n                    try {\n                        Thread.sleep(1000);\n                    } catch (Exception e) { }\n                }\n                return null;\n            }\n        }.execute();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658190988,"creation_date":1658190988,"answer_id":73029934,"question_id":73029822,"body_markdown":"Create an xml file in `drawable` folder, for example:\r\n\r\n**editText_background.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;stroke android:color=&quot;@color/desired_color&quot; android:width=&quot;2dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\nThen asign to the `EditText`:\r\n\r\n```\r\n&lt;EditText\r\n    ...\r\n    android:background=&quot;@drawable/editText_background&quot;\r\n    ... /&gt;\r\n\r\n","title":"Changing EditText Layout Color","body":"<p>Create an xml file in <code>drawable</code> folder, for example:</p>\n<p><strong>editText_background.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;stroke android:color=&quot;@color/desired_color&quot; android:width=&quot;2dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>Then asign to the <code>EditText</code>:</p>\n<pre><code>&lt;EditText\n    ...\n    android:background=&quot;@drawable/editText_background&quot;\n    ... /&gt;\n\n</code></pre>\n"}],"owner":{"account_id":25033495,"reputation":19,"user_id":18891083,"display_name":"Danison Auza Nu&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658190988,"creation_date":1658189598,"question_id":73029822,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W63O8.png\r\n**How to change the color orange of the edittext?**\r\n","title":"Changing EditText Layout Color","body":"<p><a href=\"https://i.stack.imgur.com/W63O8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W63O8.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>How to change the color orange of the edittext?</strong></p>\n"},{"tags":["java","multithreading","thread-safety","static-initializer"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1658188032,"post_id":73029675,"comment_id":128984571,"body_markdown":"The best way to avoid threading problems with `SimpleDateFormat` _specifically_ is to not use `java.util.Date` at all and to use the modern `java.time` instead.","body":"The best way to avoid threading problems with <code>SimpleDateFormat</code> <i>specifically</i> is to not use <code>java.util.Date</code> at all and to use the modern <code>java.time</code> instead."},{"owner":{"account_id":2451089,"reputation":1950,"user_id":2137370,"accept_rate":100,"display_name":"evolved"},"score":0,"creation_date":1658188256,"post_id":73029675,"comment_id":128984602,"body_markdown":"Thanks for the hint. I understand that `SimpleDateFormat` isn&#39;t the best method to use when dealing with multi threading and we should use other methods like you mention. But I would like to understand the specific example of the book better.","body":"Thanks for the hint. I understand that <code>SimpleDateFormat</code> isn&#39;t the best method to use when dealing with multi threading and we should use other methods like you mention. But I would like to understand the specific example of the book better."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658202899,"post_id":73029675,"comment_id":128986716,"body_markdown":"The code above doesn&#39;t make SimpleDateFormat  threadsafe.  Two threads having a reference to the same SimpleDateFormat  object would cause problem if they concurrently modifying it.  I imagine that author meant to say each thread has its own copy of a SimpleDateFormat  object.","body":"The code above doesn&#39;t make SimpleDateFormat  threadsafe.  Two threads having a reference to the same SimpleDateFormat  object would cause problem if they concurrently modifying it.  I imagine that author meant to say each thread has its own copy of a SimpleDateFormat  object."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658190018,"creation_date":1658190018,"answer_id":73029855,"question_id":73029675,"body_markdown":"There isn&#39;t anything about the static-ness, or anything about the factory method, that magically makes something thread-safe that otherwise isn&#39;t.\r\n\r\nI assume the strategy he&#39;s trying to recommend is that every time a piece of code wants a `SimpleDateFormat` which represents that format, then rather than rely on some instance which is lying around (which may be used by any number of threads), then it should call this factory method instead. i.e. almost every `SimpleDateFormat` will get used exactly once, then garbage collected.\r\n\r\nI&#39;m not sure why he&#39;s contrasting that with a static initializer specifically. I suppose this is what he had in mind. \r\nSince multiple threads may access `FORMAT`, any that do are not thread-safe.\r\n\r\n    class Foo {\r\n        private static final SimpleDateFormat FORMAT = new SimpleDateFormat();\r\n\r\n        static {\r\n            // Uncle Bob disapproves\r\n            format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n        } \r\n    }\r\n\r\n\r\nThe factory method is one strategy, but it&#39;s not a great one. It ensures that every caller that relies on `makeStandardHttpDateFormat` as intended will be thread-safe, but it does not guarantee that *every caller* will rely on `makeStandardHttpDateFormat`.\r\n\r\nA much better strategy would be to use some immutable variant, like [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html).","title":"Java static factory to create not thread safe object","body":"<p>There isn't anything about the static-ness, or anything about the factory method, that magically makes something thread-safe that otherwise isn't.</p>\n<p>I assume the strategy he's trying to recommend is that every time a piece of code wants a <code>SimpleDateFormat</code> which represents that format, then rather than rely on some instance which is lying around (which may be used by any number of threads), then it should call this factory method instead. i.e. almost every <code>SimpleDateFormat</code> will get used exactly once, then garbage collected.</p>\n<p>I'm not sure why he's contrasting that with a static initializer specifically. I suppose this is what he had in mind.\nSince multiple threads may access <code>FORMAT</code>, any that do are not thread-safe.</p>\n<pre><code>class Foo {\n    private static final SimpleDateFormat FORMAT = new SimpleDateFormat();\n\n    static {\n        // Uncle Bob disapproves\n        format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n    } \n}\n</code></pre>\n<p>The factory method is one strategy, but it's not a great one. It ensures that every caller that relies on <code>makeStandardHttpDateFormat</code> as intended will be thread-safe, but it does not guarantee that <em>every caller</em> will rely on <code>makeStandardHttpDateFormat</code>.</p>\n<p>A much better strategy would be to use some immutable variant, like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n"}],"owner":{"account_id":2451089,"reputation":1950,"user_id":2137370,"accept_rate":100,"display_name":"evolved"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73029855,"answer_count":1,"score":0,"last_activity_date":1658190018,"creation_date":1658187690,"question_id":73029675,"body_markdown":"In the Clean Code book there is an example which I would like to understand better:\r\n\r\n```\r\npublic static SimpleDateFormat makeStandardHttpDateFormat() {\r\n    // SimpleDateFormat is not thread safe, so we need to create each instance independently\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    return df\r\n}\r\n```\r\n\r\nI read that `SimpleDateFormat` is not thread-safe because it: [stores intermediate results in instance fields. So if one instance is used by two threads they can mess each other&#39;s results](https://stackoverflow.com/a/6840856/2137370). Now I am interested in why using a static factory method is one solution (probably not the best) to avoid thread safety issues with classes like `SimpleDateFormat` that are not thread-safe? \r\n\r\nIn case we have two threads A and B, why should it help to make `makeStandardHttpDateFormat()` a static method? Wouldn&#39;t it be the same if `makeStandardHttpDateFormat()` wasn&#39;t static because we create a new instance of `SimpleDateFormat` anyway for each thread?\r\n\r\nThe book states that \r\n\r\n&gt; [...] the comment is perfectly reasonable. It will prevent some overly eager programmer from using a static initializer in the name of efficiency.\r\n\r\nAre static methods really that slow? And what does this statement mean? Why should an &quot;overly eager programmer&quot; be stopped from using this static method just because of the comment? The IDE probably wouldn&#39;t even display the comment. However, it will probably show that the method is static. So for me the comment makes no sense. At least, not as mentioned in the book.","title":"Java static factory to create not thread safe object","body":"<p>In the Clean Code book there is an example which I would like to understand better:</p>\n<pre><code>public static SimpleDateFormat makeStandardHttpDateFormat() {\n    // SimpleDateFormat is not thread safe, so we need to create each instance independently\n    SimpleDateFormat df = new SimpleDateFormat(&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;);\n    df.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n    return df\n}\n</code></pre>\n<p>I read that <code>SimpleDateFormat</code> is not thread-safe because it: <a href=\"https://stackoverflow.com/a/6840856/2137370\">stores intermediate results in instance fields. So if one instance is used by two threads they can mess each other's results</a>. Now I am interested in why using a static factory method is one solution (probably not the best) to avoid thread safety issues with classes like <code>SimpleDateFormat</code> that are not thread-safe?</p>\n<p>In case we have two threads A and B, why should it help to make <code>makeStandardHttpDateFormat()</code> a static method? Wouldn't it be the same if <code>makeStandardHttpDateFormat()</code> wasn't static because we create a new instance of <code>SimpleDateFormat</code> anyway for each thread?</p>\n<p>The book states that</p>\n<blockquote>\n<p>[...] the comment is perfectly reasonable. It will prevent some overly eager programmer from using a static initializer in the name of efficiency.</p>\n</blockquote>\n<p>Are static methods really that slow? And what does this statement mean? Why should an &quot;overly eager programmer&quot; be stopped from using this static method just because of the comment? The IDE probably wouldn't even display the comment. However, it will probably show that the method is static. So for me the comment makes no sense. At least, not as mentioned in the book.</p>\n"},{"tags":["java","android-studio","esp32"],"answers":[{"tags":[],"owner":{"account_id":3158561,"reputation":6405,"user_id":2670348,"display_name":"romkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658189748,"creation_date":1658116726,"answer_id":73017173,"question_id":73016713,"body_markdown":"Besides the messy code in your app required to fire off multiple requests, the ESP32 has very limited network stack and resources, and cannot handle many simultaneous connections. If your app opens too many HTTP connections to the ESP32 at once, some will likely fail or have to wait for others to close.\r\n\r\nInstead, you can do it all in a single request and tell the ESP32 to do multiple things at once. Pass the requests as parameters in the URL, like so:\r\n\r\nhttp://ip-address/cmd?step=1&amp;dir=0&amp;ledGREEN=0&amp;ledRED=1\r\n\r\nJust have the handler on the ESP32 for the path `/cmd` look for the presence of each possible parameter and respond to it appropriately.","title":"How to make multiple okhttp3 requests at the same time Android Studio","body":"<p>Besides the messy code in your app required to fire off multiple requests, the ESP32 has very limited network stack and resources, and cannot handle many simultaneous connections. If your app opens too many HTTP connections to the ESP32 at once, some will likely fail or have to wait for others to close.</p>\n<p>Instead, you can do it all in a single request and tell the ESP32 to do multiple things at once. Pass the requests as parameters in the URL, like so:</p>\n<p>http://ip-address/cmd?step=1&amp;dir=0&amp;ledGREEN=0&amp;ledRED=1</p>\n<p>Just have the handler on the ESP32 for the path <code>/cmd</code> look for the presence of each possible parameter and respond to it appropriately.</p>\n"}],"owner":{"account_id":25803295,"reputation":1,"user_id":19545299,"display_name":"ChillinCruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658189748,"creation_date":1658110726,"question_id":73016713,"body_markdown":"Good Afternoon, I am still very new to ESP32/android studio coding so I apologize for my beginner terminology. I am currently coding a project where I can control multiple stepper motors at the same exact time from the press of a button on my android application and the motors are connected to certain ESP32 GPIO pins, I am using the okhttp3 client as well. My code is below.\r\n\r\n    public class Connectivity {\r\n    public static String geturl (String url_esp32){\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n                .url(url_esp32)\r\n                .build();\r\n\r\n\r\n        try\r\n        {\r\n            Response response = client.newCall(request).execute();\r\n            return response.body().string();\r\n\r\n        } catch(IOException error) {\r\n\r\n            return error.toString();\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\nabove is my connectivity page for connecting to the requests for the esp32.\r\n\r\n      PBNow.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // request information from esp32\r\n                // PB sandwich now, disable jelly motor\r\n                request_to_url(&quot;STEP&quot;);\r\n                request_to_url(&quot;DIR&quot;);\r\n                request_to_url(&quot;STEP2&quot;);\r\n                request_to_url(&quot;DIR2&quot;);\r\n                request_to_url(&quot;STEP4&quot;);\r\n                request_to_url(&quot;DIR4&quot;);\r\n                request_to_url(&quot;ledRED&quot;);\r\n                request_to_url(&quot;ledGREEN&quot;);\r\n            }\r\n        });\r\n\r\nabove is how im calling the requests for the esp32. \r\nThe problem I am having is that when these request_to_url lines are going line by line but I want them to all run at the exact same time. Is this possible.\r\n\r\nBelow are also my request_to_url function and request_data function.\r\n\r\n   \r\n\r\n    public void request_to_url (String command) {\r\n        ConnectivityManager connMgr = (ConnectivityManager)\r\n                getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo networkInfo = connMgr.getActiveNetworkInfo();\r\n\r\n        if(networkInfo != null &amp;&amp; networkInfo.isConnected()) {\r\n\r\n            new request_data().execute(&quot;http://&quot; + ip_address + &quot;/&quot; + command);\r\n\r\n        }else {\r\n            Toast.makeText(activity_2.this, &quot;Not connected  &quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private class request_data extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... url)\r\n        {\r\n            return Connectivity.geturl(url[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result_data) {\r\n            if(result_data != null)\r\n            {\r\n\r\n            }else{\r\n                Toast.makeText(activity_2.this, &quot;Null data&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI apologize if the code is very sloppy, I am still very new. Thank you very much.\r\n ","title":"How to make multiple okhttp3 requests at the same time Android Studio","body":"<p>Good Afternoon, I am still very new to ESP32/android studio coding so I apologize for my beginner terminology. I am currently coding a project where I can control multiple stepper motors at the same exact time from the press of a button on my android application and the motors are connected to certain ESP32 GPIO pins, I am using the okhttp3 client as well. My code is below.</p>\n<pre><code>public class Connectivity {\npublic static String geturl (String url_esp32){\n    OkHttpClient client = new OkHttpClient();\n    Request request = new Request.Builder()\n            .url(url_esp32)\n            .build();\n\n\n    try\n    {\n        Response response = client.newCall(request).execute();\n        return response.body().string();\n\n    } catch(IOException error) {\n\n        return error.toString();\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>above is my connectivity page for connecting to the requests for the esp32.</p>\n<pre><code>  PBNow.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // request information from esp32\n            // PB sandwich now, disable jelly motor\n            request_to_url(&quot;STEP&quot;);\n            request_to_url(&quot;DIR&quot;);\n            request_to_url(&quot;STEP2&quot;);\n            request_to_url(&quot;DIR2&quot;);\n            request_to_url(&quot;STEP4&quot;);\n            request_to_url(&quot;DIR4&quot;);\n            request_to_url(&quot;ledRED&quot;);\n            request_to_url(&quot;ledGREEN&quot;);\n        }\n    });\n</code></pre>\n<p>above is how im calling the requests for the esp32.\nThe problem I am having is that when these request_to_url lines are going line by line but I want them to all run at the exact same time. Is this possible.</p>\n<p>Below are also my request_to_url function and request_data function.</p>\n<pre><code>public void request_to_url (String command) {\n    ConnectivityManager connMgr = (ConnectivityManager)\n            getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo networkInfo = connMgr.getActiveNetworkInfo();\n\n    if(networkInfo != null &amp;&amp; networkInfo.isConnected()) {\n\n        new request_data().execute(&quot;http://&quot; + ip_address + &quot;/&quot; + command);\n\n    }else {\n        Toast.makeText(activity_2.this, &quot;Not connected  &quot;, Toast.LENGTH_LONG).show();\n\n    }\n}\n\n\nprivate class request_data extends AsyncTask&lt;String, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(String... url)\n    {\n        return Connectivity.geturl(url[0]);\n    }\n\n    @Override\n    protected void onPostExecute(String result_data) {\n        if(result_data != null)\n        {\n\n        }else{\n            Toast.makeText(activity_2.this, &quot;Null data&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n<p>I apologize if the code is very sloppy, I am still very new. Thank you very much.</p>\n"},{"tags":["java","jdbc","connection-pooling","apache-commons-dbcp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658189854,"post_id":73029704,"comment_id":128984809,"body_markdown":"Turn on abandonedUsageTracking and logAbandoned, take a thread dump/attach a debugger when your server is &quot;locked up&quot; and see who has the connections/what the state of the connection pool is","body":"Turn on abandonedUsageTracking and logAbandoned, take a thread dump/attach a debugger when your server is &quot;locked up&quot; and see who has the connections/what the state of the connection pool is"},{"owner":{"account_id":2822833,"reputation":1347,"user_id":3624489,"accept_rate":0,"display_name":"Flarosa"},"score":0,"creation_date":1658324473,"post_id":73029704,"comment_id":129023669,"body_markdown":"Thanks for the response. The problem appears to have been caused by an old version of db connection pool. I upgraded it to the most recent version and the problem disappeared.","body":"Thanks for the response. The problem appears to have been caused by an old version of db connection pool. I upgraded it to the most recent version and the problem disappeared."}],"owner":{"account_id":2822833,"reputation":1347,"user_id":3624489,"accept_rate":0,"display_name":"Flarosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658188035,"creation_date":1658188035,"question_id":73029704,"body_markdown":"I&#39;m using BasicDataSource (org.apache.commons.dbcp2.BasicDataSource) with a local MySQL database. My application is a Java web service running under Tomcat 8 on an AWS Linux server.\r\n\r\nNo matter how I configure the connection pool, 8 is the maximum number of connections I can get at once. When I try to retrieve the 9th connection, not only does it fail, but it basically locks up the entire Tomcat instance. This happens even if I configure a short maximum wait time.\r\n\r\nI&#39;ve isolated the problem by writing a test function that tries to allocate and close 10 connections. I&#39;m running the test on an isolated dev server that is not processing any other requests. I know that the same problem is happening on my production server because it fails intermittently and when it does I have noticed that 8 database connections are allocated and a thread dump shows many other threads waiting for a connection.\r\n\r\nThe MySQL database is configured as default, which should permit up to 150 connections. I&#39;ve checked this by signing in to the database and looking at the variables.\r\n\r\nWhat can I do to diagnose this problem?\r\n\r\n","title":"BasicDataSource fails after 8 connections allocated","body":"<p>I'm using BasicDataSource (org.apache.commons.dbcp2.BasicDataSource) with a local MySQL database. My application is a Java web service running under Tomcat 8 on an AWS Linux server.</p>\n<p>No matter how I configure the connection pool, 8 is the maximum number of connections I can get at once. When I try to retrieve the 9th connection, not only does it fail, but it basically locks up the entire Tomcat instance. This happens even if I configure a short maximum wait time.</p>\n<p>I've isolated the problem by writing a test function that tries to allocate and close 10 connections. I'm running the test on an isolated dev server that is not processing any other requests. I know that the same problem is happening on my production server because it fails intermittently and when it does I have noticed that 8 database connections are allocated and a thread dump shows many other threads waiting for a connection.</p>\n<p>The MySQL database is configured as default, which should permit up to 150 connections. I've checked this by signing in to the database and looking at the variables.</p>\n<p>What can I do to diagnose this problem?</p>\n"},{"tags":["java","constructor","parent-child","default-constructor"],"comments":[{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":1,"creation_date":1658186814,"post_id":73029486,"comment_id":128984363,"body_markdown":"When you call a constructor in a child class it always gona call the constructor of the parent class first then it gona execute the rest of the code inside the child class constructor.","body":"When you call a constructor in a child class it always gona call the constructor of the parent class first then it gona execute the rest of the code inside the child class constructor."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1658187963,"post_id":73029486,"comment_id":128984559,"body_markdown":"Don&#39;t duplicate all the fields!  That&#39;s not the point of the exercise.  A `Cow` doesn&#39;t need its own `name` field or `sound` field, or its own method.","body":"Don&#39;t duplicate all the fields!  That&#39;s not the point of the exercise.  A <code>Cow</code> doesn&#39;t need its own <code>name</code> field or <code>sound</code> field, or its own method."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658187030,"creation_date":1658187030,"answer_id":73029622,"question_id":73029486,"body_markdown":"The question why the superclass constructor is called, even without explicit `super();` call is answered [here](https://stackoverflow.com/q/7173019). One of the constructors of the superclass must always be called. If the superclass has a (possibly implicit) default constructor then the `super();` call from the subclass can be omitted, but the constructor is called implicitly. Your `Cow` constructor is the same as this one:\r\n```java\r\npublic Cow() {\r\n    // Calls the `Animal()` superclass constructor\r\n    super();\r\n    System.out.println(&quot;I am a cow&quot;);\r\n}\r\n```\r\n\r\nIn your specific situation it might make sense to add an additional `Animal` constructor which takes the `name` and `sound` values as parameters and initializes the fields. If you still need a default `Animal()` constructor, you can have that delegate to the other constructor:\r\n```java\r\nclass Animal {\r\n    public String name;\r\n    public String sound;\r\n\r\n    public Animal(String name, String sound) {\r\n        // `this.name` refers to the field, `name` refers to the parameter\r\n        this.name = name;\r\n        this.sound = sound;\r\n    }\r\n\r\n    public Animal() {\r\n        // Uses `this(...)` to call the other constructor\r\n        this(\r\n            &quot;animal&quot;,\r\n            &quot;an animal makes a sound based on what animal that it is&quot;\r\n        );\r\n        System.out.println(&quot;I am an animal&quot;);\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\nNote: If you don&#39;t expect these fields to be reassigned, then you should make them `final` to protect against bugs and for thread-safety improvements.\r\n\r\nYour subclasses can then call the `Animal(String, String)` constructor:\r\n```java\r\npublic class Cow extends Animal {\r\n    public Cow() {\r\n        // Calls the `Animal(String, String)` superclass constructor\r\n        super(&quot;Cow&quot;, &quot;Moo&quot;);\r\n    }\r\n}\r\n```\r\nThis does _not_ declare additional `name` and `sound` fields because the ones from `Animal` are inherited and accessible to `Cow`. Your current code for `Cow` actually introduces additional fields which _hide_ the ones from `Animal`, see [this answer](https://stackoverflow.com/a/16941254).","title":"NOT wanting to call the default constructor from child class","body":"<p>The question why the superclass constructor is called, even without explicit <code>super();</code> call is answered <a href=\"https://stackoverflow.com/q/7173019\">here</a>. One of the constructors of the superclass must always be called. If the superclass has a (possibly implicit) default constructor then the <code>super();</code> call from the subclass can be omitted, but the constructor is called implicitly. Your <code>Cow</code> constructor is the same as this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Cow() {\n    // Calls the `Animal()` superclass constructor\n    super();\n    System.out.println(&quot;I am a cow&quot;);\n}\n</code></pre>\n<p>In your specific situation it might make sense to add an additional <code>Animal</code> constructor which takes the <code>name</code> and <code>sound</code> values as parameters and initializes the fields. If you still need a default <code>Animal()</code> constructor, you can have that delegate to the other constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Animal {\n    public String name;\n    public String sound;\n\n    public Animal(String name, String sound) {\n        // `this.name` refers to the field, `name` refers to the parameter\n        this.name = name;\n        this.sound = sound;\n    }\n\n    public Animal() {\n        // Uses `this(...)` to call the other constructor\n        this(\n            &quot;animal&quot;,\n            &quot;an animal makes a sound based on what animal that it is&quot;\n        );\n        System.out.println(&quot;I am an animal&quot;);\n    }\n\n    ...\n}\n</code></pre>\n<p>Note: If you don't expect these fields to be reassigned, then you should make them <code>final</code> to protect against bugs and for thread-safety improvements.</p>\n<p>Your subclasses can then call the <code>Animal(String, String)</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cow extends Animal {\n    public Cow() {\n        // Calls the `Animal(String, String)` superclass constructor\n        super(&quot;Cow&quot;, &quot;Moo&quot;);\n    }\n}\n</code></pre>\n<p>This does <em>not</em> declare additional <code>name</code> and <code>sound</code> fields because the ones from <code>Animal</code> are inherited and accessible to <code>Cow</code>. Your current code for <code>Cow</code> actually introduces additional fields which <em>hide</em> the ones from <code>Animal</code>, see <a href=\"https://stackoverflow.com/a/16941254\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658187129,"creation_date":1658187129,"answer_id":73029627,"question_id":73029486,"body_markdown":"**What You Can Do in a Subclass**\r\n&gt;A subclass inherits all of the public and protected members of its parent, no matter what package the subclass is in. If the subclass is in the same package as its parent, it also inherits the package-private members of the parent. You can use the inherited members as is, replace them, hide them, or supplement them with new members:\r\n\r\n- The inherited fields can be used directly, just like any other fields.\r\n- You can declare a field in the subclass with the same name as the one in the \r\n  superclass, thus hiding it (not recommended).\r\n- You can declare new fields in the subclass that are not in the superclass.\r\n- The inherited methods can be used directly as they are.\r\n- You can write a new instance method in the subclass that has the same signature as \r\n  the one in the superclass, thus overriding it.\r\n- You can write a new static method in the subclass that has the same signature as \r\n  the one in the superclass, thus hiding it.\r\n- You can declare new methods in the subclass that are not in the superclass.\r\n- You can write a subclass constructor that invokes the constructor of the superclass, either implicitly or by using the keyword super.","title":"NOT wanting to call the default constructor from child class","body":"<p><strong>What You Can Do in a Subclass</strong></p>\n<blockquote>\n<p>A subclass inherits all of the public and protected members of its parent, no matter what package the subclass is in. If the subclass is in the same package as its parent, it also inherits the package-private members of the parent. You can use the inherited members as is, replace them, hide them, or supplement them with new members:</p>\n</blockquote>\n<ul>\n<li>The inherited fields can be used directly, just like any other fields.</li>\n<li>You can declare a field in the subclass with the same name as the one in the\nsuperclass, thus hiding it (not recommended).</li>\n<li>You can declare new fields in the subclass that are not in the superclass.</li>\n<li>The inherited methods can be used directly as they are.</li>\n<li>You can write a new instance method in the subclass that has the same signature as\nthe one in the superclass, thus overriding it.</li>\n<li>You can write a new static method in the subclass that has the same signature as\nthe one in the superclass, thus hiding it.</li>\n<li>You can declare new methods in the subclass that are not in the superclass.</li>\n<li>You can write a subclass constructor that invokes the constructor of the superclass, either implicitly or by using the keyword super.</li>\n</ul>\n"}],"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73029622,"answer_count":2,"score":0,"last_activity_date":1658187129,"creation_date":1658185456,"question_id":73029486,"body_markdown":"I am working on an animal class which needs a default constructor. I also need to extend the animal class with specific animals as well, with their own names and sounds.\r\n\r\nMy Animal class is as follows:\r\n\r\n    public class Animal {\r\n\t\r\n\tpublic String name;\r\n\tpublic String sound;\r\n\t\r\n    public Animal() {\r\n\t\tthis.name = &quot;animal&quot;;\r\n\t\tthis.sound = &quot;an animal makes a sound based on what animal that it is&quot;;\r\n\t\tSystem.out.println(&quot;I am an animal&quot;);\r\n\t}\r\n\t\t\t\r\n\tpublic void sound() {\r\n\t\tSystem.out.println(&quot;The &quot; + name + &quot; says &quot; + sound);\r\n\t}\r\n\r\nAfter I wrote the other animal classes such as Sheep, pig and cow, I wrote a test class to verify if it was working. They&#39;re carbon copies basically but here is the first one I wrote, the cow class:\r\n\r\n     \r\n\tpublic class Cow extends Animal {\r\n\tpublic String name = &quot;Cow&quot;;\r\n\tpublic String sound = &quot;Moo&quot;;\r\n\t\r\n\t\r\n\tpublic Cow() {\r\n\t\tSystem.out.println(&quot;I am a cow&quot;);\r\n\t}\r\n\t \r\n\t\r\n\tpublic void sound () {\r\n\t\tSystem.out.println(&quot;The &quot; + name + &quot; says &quot; + sound);\r\n\t}\r\n\t\t\r\n}\r\n\r\nMy issue is that after making new &quot;cows&quot;, or any of the other animals they all start out by saying &quot;I am an animal&quot; which is from the default constructor within the animal class and not needed. How can I avoid this? I was under the impression the default constructor would only be called when creating a new animal via `Animal animal1 = new Animal();` but clearly, that is not the case.\r\n\r\nI&#39;ve been reading my textbook, looking over YouTube as well as here on Stack but to no avail.\r\n\r\nThought maybe I had to override something but I am not sure.\r\n\r\nHere is my Test class and output:\r\n\r\n    \r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAnimal animal = new Animal();\r\n\t\tanimal.sound();\r\n\t\tCow cow = new Cow();\r\n\t\tcow.sound();\r\n\t\t\t\t\t\r\n\t}\r\n\r\n}\r\n\r\nOutput: \r\n\r\n    I am an animal\r\n    The animal says an animal makes a sound based on what animal that it is\r\n    I am an animal\r\n    I am a cow\r\n    The Cow says Moo\r\n\r\n\r\nBecause I am actively trying to learn java I would very much appreciate being guided towards an answer, as well as an explanation to help me understand why this is happening.","title":"NOT wanting to call the default constructor from child class","body":"<p>I am working on an animal class which needs a default constructor. I also need to extend the animal class with specific animals as well, with their own names and sounds.</p>\n<p>My Animal class is as follows:</p>\n<pre><code>public class Animal {\n\npublic String name;\npublic String sound;\n\npublic Animal() {\n    this.name = &quot;animal&quot;;\n    this.sound = &quot;an animal makes a sound based on what animal that it is&quot;;\n    System.out.println(&quot;I am an animal&quot;);\n}\n        \npublic void sound() {\n    System.out.println(&quot;The &quot; + name + &quot; says &quot; + sound);\n}\n</code></pre>\n<p>After I wrote the other animal classes such as Sheep, pig and cow, I wrote a test class to verify if it was working. They're carbon copies basically but here is the first one I wrote, the cow class:</p>\n<pre><code>public class Cow extends Animal {\npublic String name = &quot;Cow&quot;;\npublic String sound = &quot;Moo&quot;;\n\n\npublic Cow() {\n    System.out.println(&quot;I am a cow&quot;);\n}\n \n\npublic void sound () {\n    System.out.println(&quot;The &quot; + name + &quot; says &quot; + sound);\n}\n    \n</code></pre>\n<p>}</p>\n<p>My issue is that after making new &quot;cows&quot;, or any of the other animals they all start out by saying &quot;I am an animal&quot; which is from the default constructor within the animal class and not needed. How can I avoid this? I was under the impression the default constructor would only be called when creating a new animal via <code>Animal animal1 = new Animal();</code> but clearly, that is not the case.</p>\n<p>I've been reading my textbook, looking over YouTube as well as here on Stack but to no avail.</p>\n<p>Thought maybe I had to override something but I am not sure.</p>\n<p>Here is my Test class and output:</p>\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n    Animal animal = new Animal();\n    animal.sound();\n    Cow cow = new Cow();\n    cow.sound();\n                \n}\n</code></pre>\n<p>}</p>\n<p>Output:</p>\n<pre><code>I am an animal\nThe animal says an animal makes a sound based on what animal that it is\nI am an animal\nI am a cow\nThe Cow says Moo\n</code></pre>\n<p>Because I am actively trying to learn java I would very much appreciate being guided towards an answer, as well as an explanation to help me understand why this is happening.</p>\n"},{"tags":["java","object","constructor","super","default-constructor"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1658157060,"post_id":73024523,"comment_id":128975593,"body_markdown":"Because consistency, I guess. Why should I have to check whether a class has an empty constructor *and* is a direct child of `Object` to know how I instantiate it when I can simply call `new Gen()` and not care about the constructor&#39;s implementation?","body":"Because consistency, I guess. Why should I have to check whether a class has an empty constructor <i>and</i> is a direct child of <code>Object</code> to know how I instantiate it when I can simply call <code>new Gen()</code> and not care about the constructor&#39;s implementation?"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1658157088,"post_id":73024523,"comment_id":128975612,"body_markdown":"Your proposed solution sounds more complicated to me. The current situation in Java is &quot;constructors are always called for everything in the inheritance hierarchy&quot;, and that&#39;s the end of it. If some of those do nothing, then fine. Your proposed solution is &quot;constructors are called except in situations A, B, and C which occur when D, E, or F happen&quot; and involves doing a lot of ad hoc conditional checks against different classes.","body":"Your proposed solution sounds more complicated to me. The current situation in Java is &quot;constructors are always called for everything in the inheritance hierarchy&quot;, and that&#39;s the end of it. If some of those do nothing, then fine. Your proposed solution is &quot;constructors are called except in situations A, B, and C which occur when D, E, or F happen&quot; and involves doing a lot of ad hoc conditional checks against different classes."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1658157144,"post_id":73024523,"comment_id":128975647,"body_markdown":"&quot;*But java.lang.object&#39;s constructor literally has an empty body*&quot; You&#39;ll also note that it&#39;s annotated with `@IntrinsicCandidate`. &quot;*A method is intrinsified if the HotSpot VM replaces the annotated method with hand-written assembly and/or hand-written compiler IR -- a compiler intrinsic -- to improve performance.&quot;* [source](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/jdk/internal/vm/annotation/IntrinsicCandidate.java)","body":"&quot;<i>But java.lang.object&#39;s constructor literally has an empty body</i>&quot; You&#39;ll also note that it&#39;s annotated with <code>@IntrinsicCandidate</code>. &quot;<i>A method is intrinsified if the HotSpot VM replaces the annotated method with hand-written assembly and/or hand-written compiler IR -- a compiler intrinsic -- to improve performance.&quot;</i> <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/jdk/internal/vm/annotation/IntrinsicCandidate.java\" rel=\"nofollow noreferrer\">source</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1658157830,"post_id":73024523,"comment_id":128975924,"body_markdown":"And regarding the *why* — because it was designed that way. Java uses this object-oriented model where each class always has a parent (except for `Object`, of course), and since a class instance is initialized through the constructor, all super constructors should be called. And yes, the language designers have set some defaults (implicit no-args constructor and implicit call to `super()`) because this was the least confusing.","body":"And regarding the <i>why</i> — because it was designed that way. Java uses this object-oriented model where each class always has a parent (except for <code>Object</code>, of course), and since a class instance is initialized through the constructor, all super constructors should be called. And yes, the language designers have set some defaults (implicit no-args constructor and implicit call to <code>super()</code>) because this was the least confusing."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1658158324,"post_id":73024523,"comment_id":128976147,"body_markdown":"@Michael Yes, that is correct, I mixed up inheritance (`extends`) and calling constructors. I simply couldn&#39;t imagine inheritance without actually calling parent constructors. But in theory, it could exist.","body":"@Michael Yes, that is correct, I mixed up inheritance (<code>extends</code>) and calling constructors. I simply couldn&#39;t imagine inheritance without actually calling parent constructors. But in theory, it could exist."},{"owner":{"account_id":25307780,"reputation":13,"user_id":19131000,"display_name":"voltamatron"},"score":0,"creation_date":1658330413,"post_id":73024523,"comment_id":129026396,"body_markdown":"@Michael Interesting...so it&#39;s not purely for the sake of consistency like others have said. There&#39;s something actually going on at a lower level. I think this is the best explanation, but alas I cannot mark it so","body":"@Michael Interesting...so it&#39;s not purely for the sake of consistency like others have said. There&#39;s something actually going on at a lower level. I think this is the best explanation, but alas I cannot mark it so"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658186587,"creation_date":1658157841,"answer_id":73024787,"question_id":73024523,"body_markdown":"First of all, it is NOT necessary to write this:\r\n\r\n     public class Gen extends Object {\r\n\r\nIf a class doesn&#39;t explicitly have some other class as its direct superclass, then it *implicitly* extends `Object`.  There is not need to tell the compiler that.\r\n\r\n------------------\r\n\r\nYes ... all classes (apart from `Object`) constructors will call a constructor of their superclass.  Even if the superclass is `Object`.\r\n\r\nBut it doesn&#39;t matter to the programmer.  As the spec says, if the constructor to be called is a no-args constructor, then you don&#39;t need an explicit `super` call.  The compiler injects a missing `super()` call for you if you don&#39;t include one.\r\n\r\nYes ... the `Object` constructor has an empty body in all Java implementations I have come across.  \r\n\r\nBut I don&#39;t think that the JLS mandates that.  \r\n\r\nThe JLS section on how objects are created states that the constructor will be called.\r\n\r\nBut it doesn&#39;t say that the compilers can&#39;t optimize away the call to the `Object()` constructor.  And that is what they do.  (The bytecode compiler is required to emit instructions for the call by JVM spec, but the JIT compiler can and will optimize it away.)\r\n\r\nWhy do they specify it in these terms?  \r\n\r\n- Primarily because the spec is easier to understand and the language is easier to use if there are fewer special cases in the Java syntax and semantics.  \r\n\r\n  *&quot;You can&#39;t have a `super()` class if the superclass is `Object`&quot;* would be a special case.  But this complexity is not needed to make the language work, and it certainly doesn&#39;t help programmers if you *force* them to leave out a `super()` call in this context.\r\n\r\n- In addition, the current way permits a Java implementation to have a non-empty `Object()` constructor, if there was a good reason for doing that.  (But I doubt that that was serious consideration when they designed Java.)\r\n\r\n-----------------------\r\n\r\nEither way, this is the way that Java has been since before Java 1.0, and they won&#39;t change it now.  The current way doesn&#39;t actually cause any problems, or add any appreciable overheads.\r\n","title":"What is the purpose of calling the constructor of the object class in Java?","body":"<p>First of all, it is NOT necessary to write this:</p>\n<pre><code> public class Gen extends Object {\n</code></pre>\n<p>If a class doesn't explicitly have some other class as its direct superclass, then it <em>implicitly</em> extends <code>Object</code>.  There is not need to tell the compiler that.</p>\n<hr />\n<p>Yes ... all classes (apart from <code>Object</code>) constructors will call a constructor of their superclass.  Even if the superclass is <code>Object</code>.</p>\n<p>But it doesn't matter to the programmer.  As the spec says, if the constructor to be called is a no-args constructor, then you don't need an explicit <code>super</code> call.  The compiler injects a missing <code>super()</code> call for you if you don't include one.</p>\n<p>Yes ... the <code>Object</code> constructor has an empty body in all Java implementations I have come across.</p>\n<p>But I don't think that the JLS mandates that.</p>\n<p>The JLS section on how objects are created states that the constructor will be called.</p>\n<p>But it doesn't say that the compilers can't optimize away the call to the <code>Object()</code> constructor.  And that is what they do.  (The bytecode compiler is required to emit instructions for the call by JVM spec, but the JIT compiler can and will optimize it away.)</p>\n<p>Why do they specify it in these terms?</p>\n<ul>\n<li><p>Primarily because the spec is easier to understand and the language is easier to use if there are fewer special cases in the Java syntax and semantics.</p>\n<p><em>&quot;You can't have a <code>super()</code> class if the superclass is <code>Object</code>&quot;</em> would be a special case.  But this complexity is not needed to make the language work, and it certainly doesn't help programmers if you <em>force</em> them to leave out a <code>super()</code> call in this context.</p>\n</li>\n<li><p>In addition, the current way permits a Java implementation to have a non-empty <code>Object()</code> constructor, if there was a good reason for doing that.  (But I doubt that that was serious consideration when they designed Java.)</p>\n</li>\n</ul>\n<hr />\n<p>Either way, this is the way that Java has been since before Java 1.0, and they won't change it now.  The current way doesn't actually cause any problems, or add any appreciable overheads.</p>\n"}],"owner":{"account_id":25307780,"reputation":13,"user_id":19131000,"display_name":"voltamatron"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73024787,"answer_count":1,"score":0,"last_activity_date":1658186587,"creation_date":1658156725,"question_id":73024523,"body_markdown":"Take this simple class...\r\n```\r\npublic class Gen\r\n{\r\n\tpublic static void main (String[] Args)\r\n\t{\r\n\t\tGen genny = new Gen();\r\n\t}\r\n}\r\n```\r\n[Section 8.8.9](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9) of the JLS states that &quot;If a class contains no constructor declarations, then a default constructor is **implicitly declared**.&quot; It also says that as long as we&#39;re not in the `java.lang.object` class, then the &quot;default constructor simply **invokes the superclass constructor with no arguments**.&quot;\r\n\r\nSo because the class `Gen` extends `java.lang.object`, we are forced to call `java.lang.object`&#39;s constructor through `super()` as part of the implicitly-created default constructor.\r\n\r\nLikewise...\r\n```\r\npublic class Gen extends Object\r\n{\t\r\n\tpublic static void main (String[] Args)\r\n\t{\r\n\t\tGen genny = new Gen();\r\n\t}\r\n\t\r\n\tpublic Gen()\r\n\t{\r\n\t\t\r\n\t}\r\n}\r\n```\r\nEven if we explicitly declare a constructor for `Gen`, [Section 8.8.7](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.7) of the JLS mandates that &quot;if a constructor body does not begin with an explicit constructor invocation and the constructor being declared is not part of the primordial class `Object`, then the constructor body implicitly **begins with a superclass constructor invocation &quot;super()**;&quot;, an invocation of the constructor of its direct superclass that takes no arguments.&quot;\r\n\r\nSo once again, Java is going above and beyond to get us to call `java.lang.object`&#39;s constructor through `super()`. But `java.lang.object`&#39;s constructor literally has an [**empty body**](https://github.com/openjdk/jdk/blob/522b65743ca10fcba0a27d25b8fa11319999e228/src/java.base/share/classes/java/lang/Object.java). It doesn&#39;t do anything. A constructor has actual purpose only 1) if you write it such that it initializes a class&#39; instance variables or 2) if it directly/indirectly calls its superclass(es)&#39;s constructors to initialize *their* instance variables. `java.lang.object`&#39;s constructor does neither of these things because it 1) has no instance variables and 2) is the root of the inheritance hierarchy. So it&#39;s a pointless constructor. And now, in our class `Gen`, we are being **pointlessly forced to call a pointless constructor**. \r\n\r\nWhy do this? Why can&#39;t the Java people just say &quot;right, if the class is a direct subclass of `java.lang.object` then we won&#39;t implicitly define a constructor and neither will we implicitly call `super()` if a constructor explicitly exists.&quot; Honestly, why even have a constructor for `java.lang.object` in the first place if it&#39;s gonna be empty?","title":"What is the purpose of calling the constructor of the object class in Java?","body":"<p>Take this simple class...</p>\n<pre><code>public class Gen\n{\n    public static void main (String[] Args)\n    {\n        Gen genny = new Gen();\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9\" rel=\"nofollow noreferrer\">Section 8.8.9</a> of the JLS states that &quot;If a class contains no constructor declarations, then a default constructor is <strong>implicitly declared</strong>.&quot; It also says that as long as we're not in the <code>java.lang.object</code> class, then the &quot;default constructor simply <strong>invokes the superclass constructor with no arguments</strong>.&quot;</p>\n<p>So because the class <code>Gen</code> extends <code>java.lang.object</code>, we are forced to call <code>java.lang.object</code>'s constructor through <code>super()</code> as part of the implicitly-created default constructor.</p>\n<p>Likewise...</p>\n<pre><code>public class Gen extends Object\n{   \n    public static void main (String[] Args)\n    {\n        Gen genny = new Gen();\n    }\n    \n    public Gen()\n    {\n        \n    }\n}\n</code></pre>\n<p>Even if we explicitly declare a constructor for <code>Gen</code>, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.7\" rel=\"nofollow noreferrer\">Section 8.8.7</a> of the JLS mandates that &quot;if a constructor body does not begin with an explicit constructor invocation and the constructor being declared is not part of the primordial class <code>Object</code>, then the constructor body implicitly <strong>begins with a superclass constructor invocation &quot;super()</strong>;&quot;, an invocation of the constructor of its direct superclass that takes no arguments.&quot;</p>\n<p>So once again, Java is going above and beyond to get us to call <code>java.lang.object</code>'s constructor through <code>super()</code>. But <code>java.lang.object</code>'s constructor literally has an <a href=\"https://github.com/openjdk/jdk/blob/522b65743ca10fcba0a27d25b8fa11319999e228/src/java.base/share/classes/java/lang/Object.java\" rel=\"nofollow noreferrer\"><strong>empty body</strong></a>. It doesn't do anything. A constructor has actual purpose only 1) if you write it such that it initializes a class' instance variables or 2) if it directly/indirectly calls its superclass(es)'s constructors to initialize <em>their</em> instance variables. <code>java.lang.object</code>'s constructor does neither of these things because it 1) has no instance variables and 2) is the root of the inheritance hierarchy. So it's a pointless constructor. And now, in our class <code>Gen</code>, we are being <strong>pointlessly forced to call a pointless constructor</strong>.</p>\n<p>Why do this? Why can't the Java people just say &quot;right, if the class is a direct subclass of <code>java.lang.object</code> then we won't implicitly define a constructor and neither will we implicitly call <code>super()</code> if a constructor explicitly exists.&quot; Honestly, why even have a constructor for <code>java.lang.object</code> in the first place if it's gonna be empty?</p>\n"},{"tags":["java","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658186577,"creation_date":1658186577,"answer_id":73029586,"question_id":73025895,"body_markdown":"I hope without registering filter it will not enabled .\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;RequestResponseLoggingFilter&gt;","title":"Do dependency filters and interceptors get applied","body":"<p>I hope without registering filter it will not enabled .</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;RequestResponseLoggingFilter&gt;\n</code></pre>\n"}],"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658186577,"creation_date":1658163049,"question_id":73025895,"body_markdown":"I&#39;ve got a Java spring boot app A that&#39;s got a maven dependency B. Let&#39;s assume B has got filters, resolvers or interceptors that I have not specifically called anywhere in my app A. Would there be a scenario in which they would still be applied to the incoming requests in app A?\r\n\r\nMy main class in app A has only got the `@SpringBootApplication` annotation and no further `@Configuration`, `@Bean` or `@ComponentScanning` happening anywhere in the app.\r\n\r\nCheers,\r\nKris","title":"Do dependency filters and interceptors get applied","body":"<p>I've got a Java spring boot app A that's got a maven dependency B. Let's assume B has got filters, resolvers or interceptors that I have not specifically called anywhere in my app A. Would there be a scenario in which they would still be applied to the incoming requests in app A?</p>\n<p>My main class in app A has only got the <code>@SpringBootApplication</code> annotation and no further <code>@Configuration</code>, <code>@Bean</code> or <code>@ComponentScanning</code> happening anywhere in the app.</p>\n<p>Cheers,\nKris</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1658174761,"post_id":73028004,"comment_id":128981794,"body_markdown":"A different question: why are you using `double`s as indexes for loops?","body":"A different question: why are you using <code>double</code>s as indexes for loops?"},{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658174820,"post_id":73028004,"comment_id":128981815,"body_markdown":"so that i would be able to input decimals as elements","body":"so that i would be able to input decimals as elements"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1658174893,"post_id":73028004,"comment_id":128981831,"body_markdown":"After a quick read, you can split it into 3 methods: one to read the array, one to sort it, and one to print it out.","body":"After a quick read, you can split it into 3 methods: one to read the array, one to sort it, and one to print it out."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1658174975,"post_id":73028004,"comment_id":128981862,"body_markdown":"@Qurthala FYI, that&#39;s not needed (in fact it doesn&#39;t work, and that&#39;s why you need to  cast them so you can use them as array indexes). The important thing is that `num` is declared as an array of `double`s, but array indexes are **always** (non-negative) `int`s","body":"@Qurthala FYI, that&#39;s not needed (in fact it doesn&#39;t work, and that&#39;s why you need to  cast them so you can use them as array indexes). The important thing is that <code>num</code> is declared as an array of <code>double</code>s, but array indexes are <b>always</b> (non-negative) <code>int</code>s"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1658178335,"post_id":73028004,"comment_id":128982769,"body_markdown":"Always use ints to index arrays regardless of the array type.    The index and the type of array (double, long, Object, etc) are completely unrelated.","body":"Always use ints to index arrays regardless of the array type.    The index and the type of array (double, long, Object, etc) are completely unrelated."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658186431,"creation_date":1658185627,"answer_id":73029499,"question_id":73028004,"body_markdown":"Yes, it is possible to split this up into multiple methods. And you should.\r\n\r\nThink about the various tasks being accomplished by your app. Think about responsibilities, think about jobs to be performed. And think about data to be kept and managed. Then think about naming —&#160;naming that fits well helps to clarify one’s thinking.\r\n\r\nAs [commented][1] by Kuhn, I too see three jobs here: \r\n\r\n - Gathering input from a user\r\n - Tracking that input, and sorting the data.\r\n - Reporting that data.\r\n\r\nWith that in mind, I wrote this example class.\r\n\r\n```java\r\npackage work.basil.example.num;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class DoublesMachine\r\n{\r\n    private final int limit = 3;  // Or 10 as in Question, whatever.\r\n    private double[] doubles;\r\n\r\n    public DoublesMachine ( ) { doubles = new double[ limit ]; }\r\n\r\n    private void demo ( )\r\n    {\r\n        this.gather();\r\n        this.sort();\r\n        this.report();\r\n    }\r\n\r\n    // Use console to gather inputs for a series of double primitive values, collected inta an array.\r\n    private void gather ( )\r\n    {\r\n        try (\r\n                Scanner scanner = new Scanner( System.in ) ;\r\n        )\r\n        {\r\n            System.out.println( &quot;Tracking &quot; + this.limit + &quot; numbers.&quot; );\r\n            int index = 0;\r\n            do\r\n            {\r\n                int ordinal = index + 1;\r\n                System.out.println( &quot;Enter number # &quot; + ordinal + &quot; of &quot; + this.limit + &quot;: &quot; );\r\n                double input = scanner.nextDouble();\r\n                this.doubles[ index ] = input;\r\n                index = index + 1;  // Increment.\r\n            } while ( ( index + 1 ) &lt;= this.limit );\r\n        }\r\n    }\r\n\r\n    private void sort ( )\r\n    {\r\n        Arrays.sort( this.doubles );\r\n    }\r\n\r\n    private void report ( )\r\n    {\r\n        String output = Arrays.toString( this.doubles );\r\n        System.out.println( &quot;output = &quot; + output );\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        DoublesMachine app = new DoublesMachine();\r\n        app.demo();\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nTracking 3 numbers.\r\nEnter number # 1 of 3: \r\n2.2\r\nEnter number # 2 of 3: \r\n1.1\r\nEnter number # 3 of 3: \r\n3.3\r\noutput = [1.1, 2.2, 3.3]\r\n```\r\n\r\nNotice that we moved virtually all the code outside of the `main` method. The `main` method is *not* [object-oriented][2]. It is basically a hack, a necessary evil, to jump-start the execution of your app. Try to minimize code there, and start using objects as soon as possible.\r\n\r\nAs explained in the comments, always use an integer as the counter of your `for` loop, not a floating-point type like `double`.\r\n\r\nNotice how we placed the [`Scanner`][3] instantiation within [try-with-resources][4] syntax. This ensures a [`Closeable`][5] resource such as `Scanner` is automatically closed even if an exception is thrown.\r\n\r\n----------\r\n\r\nFor learning purposes, I suggest you give the above example only a quick glance. Get the general idea, then try writing your own. The learning is in the doing.\r\n\r\nBy the way, in real work, we would write separate classes. This gives more flexibility, and allows for writing tests. For example, gathering input from a user should be entirely separate from the management of state (the collection of `double` numbers), in a class of its own. But that is beyond the scope of a Java 101 student assignment.\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73028004/is-it-possible-to-split-this-up-into-multiple-methods/73029499#comment128981831_73028004\r\n  [2]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html","title":"Is it possible to split this up into multiple methods?","body":"<p>Yes, it is possible to split this up into multiple methods. And you should.</p>\n<p>Think about the various tasks being accomplished by your app. Think about responsibilities, think about jobs to be performed. And think about data to be kept and managed. Then think about naming — naming that fits well helps to clarify one’s thinking.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/73028004/is-it-possible-to-split-this-up-into-multiple-methods/73029499#comment128981831_73028004\">commented</a> by Kuhn, I too see three jobs here:</p>\n<ul>\n<li>Gathering input from a user</li>\n<li>Tracking that input, and sorting the data.</li>\n<li>Reporting that data.</li>\n</ul>\n<p>With that in mind, I wrote this example class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.num;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class DoublesMachine\n{\n    private final int limit = 3;  // Or 10 as in Question, whatever.\n    private double[] doubles;\n\n    public DoublesMachine ( ) { doubles = new double[ limit ]; }\n\n    private void demo ( )\n    {\n        this.gather();\n        this.sort();\n        this.report();\n    }\n\n    // Use console to gather inputs for a series of double primitive values, collected inta an array.\n    private void gather ( )\n    {\n        try (\n                Scanner scanner = new Scanner( System.in ) ;\n        )\n        {\n            System.out.println( &quot;Tracking &quot; + this.limit + &quot; numbers.&quot; );\n            int index = 0;\n            do\n            {\n                int ordinal = index + 1;\n                System.out.println( &quot;Enter number # &quot; + ordinal + &quot; of &quot; + this.limit + &quot;: &quot; );\n                double input = scanner.nextDouble();\n                this.doubles[ index ] = input;\n                index = index + 1;  // Increment.\n            } while ( ( index + 1 ) &lt;= this.limit );\n        }\n    }\n\n    private void sort ( )\n    {\n        Arrays.sort( this.doubles );\n    }\n\n    private void report ( )\n    {\n        String output = Arrays.toString( this.doubles );\n        System.out.println( &quot;output = &quot; + output );\n    }\n\n    public static void main ( String[] args )\n    {\n        DoublesMachine app = new DoublesMachine();\n        app.demo();\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Tracking 3 numbers.\nEnter number # 1 of 3: \n2.2\nEnter number # 2 of 3: \n1.1\nEnter number # 3 of 3: \n3.3\noutput = [1.1, 2.2, 3.3]\n</code></pre>\n<p>Notice that we moved virtually all the code outside of the <code>main</code> method. The <code>main</code> method is <em>not</em> <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>. It is basically a hack, a necessary evil, to jump-start the execution of your app. Try to minimize code there, and start using objects as soon as possible.</p>\n<p>As explained in the comments, always use an integer as the counter of your <code>for</code> loop, not a floating-point type like <code>double</code>.</p>\n<p>Notice how we placed the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code></a> instantiation within <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax. This ensures a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a> resource such as <code>Scanner</code> is automatically closed even if an exception is thrown.</p>\n<hr />\n<p>For learning purposes, I suggest you give the above example only a quick glance. Get the general idea, then try writing your own. The learning is in the doing.</p>\n<p>By the way, in real work, we would write separate classes. This gives more flexibility, and allows for writing tests. For example, gathering input from a user should be entirely separate from the management of state (the collection of <code>double</code> numbers), in a class of its own. But that is beyond the scope of a Java 101 student assignment.</p>\n"}],"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658186431,"creation_date":1658174706,"question_id":73028004,"body_markdown":"I was working on an array program where the program would accept 10 numbers and output them in ascending order. The code itself works fine, but I was wondering if I could get help with splitting the code into 2 different methods. (eg: sorting as a separate method)\r\n\r\nHere is my code\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass arrayProgram {\r\n    public static void main(String[] args) {\r\n        double count;\r\n        count = 10;\r\n        double temp;\r\n\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        try {\r\n            double num[] = new double[(int) count];\r\n            System.out.println(&quot;Enter array elements:&quot;);\r\n            for (double i = 0; i &lt; count; i++) {\r\n                num[(int) i] = scan.nextDouble();\r\n            }\r\n            scan.close();\r\n            for (double i = 0; i &lt; count; i++) {\r\n                for (double j = i + 1; j &lt; count; j++) {\r\n                    if (num[(int) i] &gt; num[(int) j]) {\r\n                        temp = num[(int) i];\r\n                        num[(int) i] = num[(int) j];\r\n                        num[(int) j] = temp;\r\n                    }\r\n                }\r\n            }\r\n            System.out.print(&quot;Array Elements in Ascending Order: &quot;);\r\n            for (int i = 0; i &lt; count - 1; i++) {\r\n                System.out.print(num[i] + &quot;, &quot;);\r\n            }\r\n            System.out.print(num[(int) (count - 1)]);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Is it possible to split this up into multiple methods?","body":"<p>I was working on an array program where the program would accept 10 numbers and output them in ascending order. The code itself works fine, but I was wondering if I could get help with splitting the code into 2 different methods. (eg: sorting as a separate method)</p>\n<p>Here is my code</p>\n<pre><code>import java.util.Scanner;\nclass arrayProgram {\n    public static void main(String[] args) {\n        double count;\n        count = 10;\n        double temp;\n\n\n        Scanner scan = new Scanner(System.in);\n\n        try {\n            double num[] = new double[(int) count];\n            System.out.println(&quot;Enter array elements:&quot;);\n            for (double i = 0; i &lt; count; i++) {\n                num[(int) i] = scan.nextDouble();\n            }\n            scan.close();\n            for (double i = 0; i &lt; count; i++) {\n                for (double j = i + 1; j &lt; count; j++) {\n                    if (num[(int) i] &gt; num[(int) j]) {\n                        temp = num[(int) i];\n                        num[(int) i] = num[(int) j];\n                        num[(int) j] = temp;\n                    }\n                }\n            }\n            System.out.print(&quot;Array Elements in Ascending Order: &quot;);\n            for (int i = 0; i &lt; count - 1; i++) {\n                System.out.print(num[i] + &quot;, &quot;);\n            }\n            System.out.print(num[(int) (count - 1)]);\n        } catch (Exception e) {\n            System.out.println(&quot;Error!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","criteria-api","nativequery"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658186021,"creation_date":1658186021,"answer_id":73029534,"question_id":73027317,"body_markdown":"I hope log4j configuration is enough for that purpose.\r\nhttps://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/","title":"How to get SQL Query with parameter values from TypedQuery?","body":"<p>I hope log4j configuration is enough for that purpose.\n<a href=\"https://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/</a></p>\n"}],"owner":{"account_id":9630272,"reputation":33,"user_id":7148436,"display_name":"igortorati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658186021,"creation_date":1658170754,"question_id":73027317,"body_markdown":"I would like to know if it is possible to retrieve the **(Native) SQL Query, with parameter values**, from a TypedQuery. The code would be something like:\r\n```\r\npublic String getNativeSQLString(){\r\n\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\tCriteriaQuery&lt;Foo&gt; criteriaQuery = criteriaBuilder.createQuery(Foo.class);\r\n\tRoot&lt;Foo&gt; root = criteriaQuery.from(Foo);\r\n\r\n\tcriteriaQuery.select(root);\r\n\tcriteriaQuery.where(getPredicatesArray());\r\n\tTypedQuery&lt;GhSummary&gt; typedQuery = entityManager.createQuery(criteriaQuery);\r\n\r\n\t// magic to transform typedQuery to Native SQL\r\n\r\n\treturn nativeSql;\r\n}\r\n```\r\n\r\nAn example of return would be: `&quot;SELECT * FROM foo WHERE id = 2 AND name IN (&#39;name1&#39;, &#39;name2&#39;) ORDER BY name DESC&quot;`.\r\n\r\nI&#39;m aware that using `String sqlQueryString = new BasicFormatterImpl().format(typedQuery.unwrap(Query.class).getQueryString());` I&#39;m able to retrieve the HQL `SELECT * FROM foo WHERE id =:param0 AND name IN (:param1, :param2) ORDER BY name DESC`, but it does not contain the values.\r\n\r\nThanks in advance.","title":"How to get SQL Query with parameter values from TypedQuery?","body":"<p>I would like to know if it is possible to retrieve the <strong>(Native) SQL Query, with parameter values</strong>, from a TypedQuery. The code would be something like:</p>\n<pre><code>public String getNativeSQLString(){\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Foo&gt; criteriaQuery = criteriaBuilder.createQuery(Foo.class);\n    Root&lt;Foo&gt; root = criteriaQuery.from(Foo);\n\n    criteriaQuery.select(root);\n    criteriaQuery.where(getPredicatesArray());\n    TypedQuery&lt;GhSummary&gt; typedQuery = entityManager.createQuery(criteriaQuery);\n\n    // magic to transform typedQuery to Native SQL\n\n    return nativeSql;\n}\n</code></pre>\n<p>An example of return would be: <code>&quot;SELECT * FROM foo WHERE id = 2 AND name IN ('name1', 'name2') ORDER BY name DESC&quot;</code>.</p>\n<p>I'm aware that using <code>String sqlQueryString = new BasicFormatterImpl().format(typedQuery.unwrap(Query.class).getQueryString());</code> I'm able to retrieve the HQL <code>SELECT * FROM foo WHERE id =:param0 AND name IN (:param1, :param2) ORDER BY name DESC</code>, but it does not contain the values.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","list","java-stream","nested-lists"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658171116,"creation_date":1658167469,"answer_id":73026715,"question_id":73026511,"body_markdown":"You can apply `filter()` with a nested stream (*exactly the same as you&#39;ve used as a condition in your code*) passed to it as a `Predicate` to verify that a list consists of only *non-empty* tiles.\r\n\r\nAnd then collect all the lists (*rows*) that have passed the *predicate* into a List using `collect()`.\r\n\r\n    public static List&lt;List&lt;Tile&gt;&gt; getNonEmptyRows(List&lt;List&lt;Tile&gt;&gt; rows) {\r\n        \r\n        return rows.stream()\r\n            .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\r\n            .collect(Collectors.toList()); // or .toList() with Java 16+\r\n    }\r\n\r\n&gt; I have tried using `flatMap`\r\n\r\nYou need to use `flatMap` when your goal is to flatten the steam of collections (*or objects holding a reference to a collection*) to a stream of elements of these collections. In these case, turn a stream of lists of tiles `Stream&lt;List&lt;Tile&gt;&gt;` into a stream of tiles `Stream&lt;Tile&gt;`.\r\n\r\nJudging by your code, it&#39;s not you what you want because you&#39;re accumulating the *rows* (lists of tiles) into another list and not *&quot;flattening&quot;* them.\r\n\r\nBut just in case, that&#39;s how it can be done:\r\n\r\n    public static List&lt;Tile&gt; getNonEmptyTiles(List&lt;List&lt;Tile&gt;&gt; rows) {\r\n        \r\n        return rows.stream()\r\n            .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.toList()); // or .toList() with Java 16+\r\n    }\r\n\r\n*Sidenote:* leverage abstract data types - write your code against interfaces. https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to use Stream to get all Lists from a nested List that match a specific condition?","body":"<p>You can apply <code>filter()</code> with a nested stream (<em>exactly the same as you've used as a condition in your code</em>) passed to it as a <code>Predicate</code> to verify that a list consists of only <em>non-empty</em> tiles.</p>\n<p>And then collect all the lists (<em>rows</em>) that have passed the <em>predicate</em> into a List using <code>collect()</code>.</p>\n<pre><code>public static List&lt;List&lt;Tile&gt;&gt; getNonEmptyRows(List&lt;List&lt;Tile&gt;&gt; rows) {\n    \n    return rows.stream()\n        .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\n        .collect(Collectors.toList()); // or .toList() with Java 16+\n}\n</code></pre>\n<blockquote>\n<p>I have tried using <code>flatMap</code></p>\n</blockquote>\n<p>You need to use <code>flatMap</code> when your goal is to flatten the steam of collections (<em>or objects holding a reference to a collection</em>) to a stream of elements of these collections. In these case, turn a stream of lists of tiles <code>Stream&lt;List&lt;Tile&gt;&gt;</code> into a stream of tiles <code>Stream&lt;Tile&gt;</code>.</p>\n<p>Judging by your code, it's not you what you want because you're accumulating the <em>rows</em> (lists of tiles) into another list and not <em>&quot;flattening&quot;</em> them.</p>\n<p>But just in case, that's how it can be done:</p>\n<pre><code>public static List&lt;Tile&gt; getNonEmptyTiles(List&lt;List&lt;Tile&gt;&gt; rows) {\n    \n    return rows.stream()\n        .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\n        .flatMap(List::stream)\n        .collect(Collectors.toList()); // or .toList() with Java 16+\n}\n</code></pre>\n<p><em>Sidenote:</em> leverage abstract data types - write your code against interfaces. <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"}],"owner":{"account_id":25766864,"reputation":43,"user_id":19516617,"display_name":"camelCase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73026715,"answer_count":1,"score":3,"last_activity_date":1658185927,"creation_date":1658166452,"question_id":73026511,"body_markdown":"How can I achieve the same logic in my code using only Streams, without the `for` loop as shown in my code below?\r\n\r\nI have tried using `flatMap`, but I get stuck on the condition part, since `allMatch()` only returns a `boolean`.\r\n\r\nHow can I retrieve all the rows from the nested `ArrayList` that passes the condition without using `for` loop?\r\n\r\n```java\r\nArrayList&lt;ArrayList&lt;Tile&gt;&gt; completeRows = new ArrayList&lt;&gt;();\r\nfor (ArrayList&lt;Tile&gt; rows: getGridTiles()) {\r\n    if (rows.stream().allMatch(p -&gt; p.getOccupiedBlockType() != BlockType.EMPTY)) {\r\n        completeRows.add(rows);\r\n    }\r\n}\r\n```","title":"How to use Stream to get all Lists from a nested List that match a specific condition?","body":"<p>How can I achieve the same logic in my code using only Streams, without the <code>for</code> loop as shown in my code below?</p>\n<p>I have tried using <code>flatMap</code>, but I get stuck on the condition part, since <code>allMatch()</code> only returns a <code>boolean</code>.</p>\n<p>How can I retrieve all the rows from the nested <code>ArrayList</code> that passes the condition without using <code>for</code> loop?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;ArrayList&lt;Tile&gt;&gt; completeRows = new ArrayList&lt;&gt;();\nfor (ArrayList&lt;Tile&gt; rows: getGridTiles()) {\n    if (rows.stream().allMatch(p -&gt; p.getOccupiedBlockType() != BlockType.EMPTY)) {\n        completeRows.add(rows);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1658176271,"post_id":73028121,"comment_id":128982246,"body_markdown":"Why not just pass in an object with the changes? Even if you can do this, I wouldn&#39;t; what stops someone mistakenly &#39;update employee set salary = 0&#39;? That IN clause takes in ids is an awful lot of potential failure.  Otherwise, look at JPA criteria queries, which you can build on the fly from parameters programatically and are going to give you better errors if the properties/fields don&#39;t exist or match up with the value types. Criteria queries would let you pass in a map of property/value pairs to build the query with how ever you might need.","body":"Why not just pass in an object with the changes? Even if you can do this, I wouldn&#39;t; what stops someone mistakenly &#39;update employee set salary = 0&#39;? That IN clause takes in ids is an awful lot of potential failure.  Otherwise, look at JPA criteria queries, which you can build on the fly from parameters programatically and are going to give you better errors if the properties/fields don&#39;t exist or match up with the value types. Criteria queries would let you pass in a map of property/value pairs to build the query with how ever you might need."},{"owner":{"account_id":7092607,"reputation":550,"user_id":5427344,"accept_rate":80,"display_name":"user453575457"},"score":0,"creation_date":1658177028,"post_id":73028121,"comment_id":128982448,"body_markdown":"@Cris selection of field names is fetch from db, so can&#39;t be mistaken, all other mistakes - on users (admin level) conscience, who is properly alerted, and can revert actually last changes, i will save prev list\n\nIf i do that with object changes - i can think only about ugly `switch (fieldNme) case address -  for(id : idlist) object getById; object.setAdress(); object save();`\nAnd it will be about 15 fields - so 15 hardcoded switch cases.","body":"@Cris selection of field names is fetch from db, so can&#39;t be mistaken, all other mistakes - on users (admin level) conscience, who is properly alerted, and can revert actually last changes, i will save prev list  If i do that with object changes - i can think only about ugly <code>switch (fieldNme) case address -  for(id : idlist) object getById; object.setAdress(); object save();</code> And it will be about 15 fields - so 15 hardcoded switch cases."}],"owner":{"account_id":7092607,"reputation":550,"user_id":5427344,"accept_rate":80,"display_name":"user453575457"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658185345,"creation_date":1658175292,"question_id":73028121,"body_markdown":"I am trying to create a JPA query to update filed for the value - both field name and value are params. \r\n\r\nlike \r\n\r\n    @Query(&quot;UPDATE tableName SET :field = :value WHERE id IN (:idList)&quot;) \r\n\r\nbut getting validation fail oon start.\r\nIs it possible to construct such query with JPA?","title":"How to create jpa query to update any(param) field to any(param) value?","body":"<p>I am trying to create a JPA query to update filed for the value - both field name and value are params.</p>\n<p>like</p>\n<pre><code>@Query(&quot;UPDATE tableName SET :field = :value WHERE id IN (:idList)&quot;) \n</code></pre>\n<p>but getting validation fail oon start.\nIs it possible to construct such query with JPA?</p>\n"},{"tags":["java","quarkus","testcontainers","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658185275,"creation_date":1658185275,"answer_id":73029462,"question_id":73027902,"body_markdown":"[QuarkusTest][1] annotation uses JUnit Jupiter&#39;s ExtendWith annotation so in this case you should use `@Container` instead of `@ClassRule`, add @Testcontainer at class level and add `org.testcontainers:junit-jupiter` to your `pom.xml` or `gradle.build`\r\n\r\nYour test should looks like\r\n\r\n```java\r\n@Testcontainers\r\n@QuarkusTest\r\n@TestTransaction\r\n@TestHTTPEndpoint(CompanyController.class)\r\npublic class CompanyControllerIntegrationTest {\r\n\r\n    @Inject\r\n    CompanyService service;\r\n\r\n    @Container\r\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\r\n            .withDatabaseName(&quot;db&quot;)\r\n            .withUsername(&quot;user&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n}\r\n\r\n```\r\n\r\nThe container can be started/stopped manually too\r\n\r\n```java\r\n@QuarkusTest\r\n@TestTransaction\r\n@TestHTTPEndpoint(CompanyController.class)\r\npublic class CompanyControllerIntegrationTest {\r\n\r\n    @Inject\r\n    CompanyService service;\r\n\r\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\r\n            .withDatabaseName(&quot;db&quot;)\r\n            .withUsername(&quot;user&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n\r\n    @BeforeAll\r\n    void beforeAll() {\r\n        db.start();\r\n    }\r\n\r\n    @AfterAll\r\n    void beforeAll() {\r\n        db.stop();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/blob/main/test-framework/junit5/src/main/java/io/quarkus/test/junit/QuarkusTest.java","title":"DB test entries not showing when called via api","body":"<p><a href=\"https://github.com/quarkusio/quarkus/blob/main/test-framework/junit5/src/main/java/io/quarkus/test/junit/QuarkusTest.java\" rel=\"nofollow noreferrer\">QuarkusTest</a> annotation uses JUnit Jupiter's ExtendWith annotation so in this case you should use <code>@Container</code> instead of <code>@ClassRule</code>, add @Testcontainer at class level and add <code>org.testcontainers:junit-jupiter</code> to your <code>pom.xml</code> or <code>gradle.build</code></p>\n<p>Your test should looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Testcontainers\n@QuarkusTest\n@TestTransaction\n@TestHTTPEndpoint(CompanyController.class)\npublic class CompanyControllerIntegrationTest {\n\n    @Inject\n    CompanyService service;\n\n    @Container\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;password&quot;);\n}\n\n</code></pre>\n<p>The container can be started/stopped manually too</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\n@TestTransaction\n@TestHTTPEndpoint(CompanyController.class)\npublic class CompanyControllerIntegrationTest {\n\n    @Inject\n    CompanyService service;\n\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;password&quot;);\n\n    @BeforeAll\n    void beforeAll() {\n        db.start();\n    }\n\n    @AfterAll\n    void beforeAll() {\n        db.stop();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658185275,"creation_date":1658174130,"question_id":73027902,"body_markdown":"I am trying to test my API in a Quarkus APP. \r\nMy test setup is I define an object and persist it to the DB with a direct call to the service object. I then call the API and expect to get the object back, but I don&#39;t....\r\n\r\nMy test class setup is;\r\n\r\n```\r\n@QuarkusTest\r\n@TestTransaction\r\n@TestHTTPEndpoint(CompanyController.class)\r\npublic class CompanyControllerIntegrationTest {\r\n\r\n    @Inject\r\n    CompanyService service;\r\n\r\n    @ClassRule\r\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\r\n            .withDatabaseName(&quot;db&quot;)\r\n            .withUsername(&quot;user&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n\r\n    @Test\r\n    void test_getCompanyThatExist() {\r\n        service.createCompany(createCompany());\r\n\r\n        given()\r\n                .when().get(&quot;/1&quot;)\r\n                .then().statusCode(200)\r\n                .body(&quot;size()&quot;, is(1));\r\n    }\r\n\r\n    private Company createCompany() {\r\n        Company company = new Company();\r\n        return company;\r\n    }\r\n}\r\n```\r\n\r\nController endpoint is;\r\n\r\n```\r\n@GET\r\n@Path(&quot;/{id}&quot;)\r\npublic Response getCompany(@PathParam(&quot;id&quot;) Long id) {\r\n    System.out.println(&quot;[CompanyController] Getting company with id - &quot; + id);\r\n    Company company = service.getCompany(id);\r\n    System.out.println(&quot;[CompanyController] Company got was &quot; + company);\r\n    return Response\r\n            .ok()\r\n            .entity(company)\r\n            .build();\r\n```\r\n\r\nService call is;\r\n\r\n```\r\npublic Company getCompany(Long id) {\r\n    Company company = repository.findById(id);\r\n    System.out.println(&quot;[CompanyService] Got company - &quot; + company);\r\n    return company;\r\n}\r\n```\r\n\r\nAnd the print outs, which really confuses me....\r\n[![console.logs][1]][1]\r\n\r\nSo the object is persisted with an ID of 1, but when I go to get the object with the ID of 1 its null. Any ideas why? As I am completely stumped at this stage. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OGWZn.png","title":"DB test entries not showing when called via api","body":"<p>I am trying to test my API in a Quarkus APP.\nMy test setup is I define an object and persist it to the DB with a direct call to the service object. I then call the API and expect to get the object back, but I don't....</p>\n<p>My test class setup is;</p>\n<pre><code>@QuarkusTest\n@TestTransaction\n@TestHTTPEndpoint(CompanyController.class)\npublic class CompanyControllerIntegrationTest {\n\n    @Inject\n    CompanyService service;\n\n    @ClassRule\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;password&quot;);\n\n    @Test\n    void test_getCompanyThatExist() {\n        service.createCompany(createCompany());\n\n        given()\n                .when().get(&quot;/1&quot;)\n                .then().statusCode(200)\n                .body(&quot;size()&quot;, is(1));\n    }\n\n    private Company createCompany() {\n        Company company = new Company();\n        return company;\n    }\n}\n</code></pre>\n<p>Controller endpoint is;</p>\n<pre><code>@GET\n@Path(&quot;/{id}&quot;)\npublic Response getCompany(@PathParam(&quot;id&quot;) Long id) {\n    System.out.println(&quot;[CompanyController] Getting company with id - &quot; + id);\n    Company company = service.getCompany(id);\n    System.out.println(&quot;[CompanyController] Company got was &quot; + company);\n    return Response\n            .ok()\n            .entity(company)\n            .build();\n</code></pre>\n<p>Service call is;</p>\n<pre><code>public Company getCompany(Long id) {\n    Company company = repository.findById(id);\n    System.out.println(&quot;[CompanyService] Got company - &quot; + company);\n    return company;\n}\n</code></pre>\n<p>And the print outs, which really confuses me....\n<a href=\"https://i.stack.imgur.com/OGWZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGWZn.png\" alt=\"console.logs\" /></a></p>\n<p>So the object is persisted with an ID of 1, but when I go to get the object with the ID of 1 its null. Any ideas why? As I am completely stumped at this stage.</p>\n"},{"tags":["java","spring","spring-data-rest","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":3382229,"reputation":81,"user_id":2839037,"display_name":"LucasJC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658184965,"creation_date":1658184965,"answer_id":73029429,"question_id":72868869,"body_markdown":"What you need is to annotate your MVC Controller with @RepositoryRestController instead of @RestController\r\n\r\nhttps://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers","title":"Spring Data Rest and Rest Controller together","body":"<p>What you need is to annotate your MVC Controller with @RepositoryRestController instead of @RestController</p>\n<p><a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers</a></p>\n"}],"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184965,"creation_date":1657021439,"question_id":72868869,"body_markdown":"I&#39;m using Spring Data Rest and have ```@RepositoryRestResource``` defined with the path is ```&quot;pathXYZ&quot;```. Now I have a class with ```@RestController``` and defined a ```@GetMapping``` with ```&quot;pathXYZ/custom&quot;```.\r\n\r\nIt seems ```&quot;pathXYZ/custom&quot;``` is not able to serve. \r\n\r\nIf I changed ```&quot;pathXYZ/custom&quot;``` to ```&quot;pathABC/custom&quot;```, it is working as normal.\r\n\r\nIs that the way to have ```@RestController``` and ```@RespositoryRestResource``` working on the same &#39;base&#39; context path?","title":"Spring Data Rest and Rest Controller together","body":"<p>I'm using Spring Data Rest and have <code>@RepositoryRestResource</code> defined with the path is <code>&quot;pathXYZ&quot;</code>. Now I have a class with <code>@RestController</code> and defined a <code>@GetMapping</code> with <code>&quot;pathXYZ/custom&quot;</code>.</p>\n<p>It seems <code>&quot;pathXYZ/custom&quot;</code> is not able to serve.</p>\n<p>If I changed <code>&quot;pathXYZ/custom&quot;</code> to <code>&quot;pathABC/custom&quot;</code>, it is working as normal.</p>\n<p>Is that the way to have <code>@RestController</code> and <code>@RespositoryRestResource</code> working on the same 'base' context path?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1658179411,"post_id":73028637,"comment_id":128983037,"body_markdown":"Could you share the class declaration of Xls_Reader? One reason for this not to work might be that the package access is not possible (was it declared private?)","body":"Could you share the class declaration of Xls_Reader? One reason for this not to work might be that the package access is not possible (was it declared private?)"},{"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"score":0,"creation_date":1658182070,"post_id":73028637,"comment_id":128983617,"body_markdown":"It is a bit long so I just edited my post.","body":"It is a bit long so I just edited my post."},{"owner":{"account_id":3226023,"reputation":632,"user_id":2722391,"display_name":"Tena"},"score":0,"creation_date":1658184041,"post_id":73028637,"comment_id":128983990,"body_markdown":"If they are just a few files without a project (handled by maven or gradle) then you need to specify the classpath properly when running the compiler (https://docs.oracle.com/javase/tutorial/essential/environment/paths.html)","body":"If they are just a few files without a project (handled by maven or gradle) then you need to specify the classpath properly when running the compiler (<a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/&hellip;</a>)"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658204197,"post_id":73028637,"comment_id":128986953,"body_markdown":"If two classes are in the same package and one classes uses the other class, there&#39;s no need to import.","body":"If two classes are in the same package and one classes uses the other class, there&#39;s no need to import."},{"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"score":0,"creation_date":1658204906,"post_id":73028637,"comment_id":128987065,"body_markdown":"It is a project without Maven I am using different jar files....","body":"It is a project without Maven I am using different jar files...."}],"answers":[{"tags":[],"owner":{"account_id":3226023,"reputation":632,"user_id":2722391,"display_name":"Tena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658184590,"creation_date":1658184590,"answer_id":73029386,"question_id":73028637,"body_markdown":"In order to let the compiler knows about the classes to be compiled, you need to specify the classes explicitly. The compiler won&#39;t use the same folder to know that. You can read more about how ClassPath works here (https://docs.oracle.com/javase/tutorial/essential/environment/paths.html)\r\n\r\nAn example of compiling multiple files from the command line here:\r\nhttps://www.baeldung.com/java-compile-multiple-files\r\n\r\nI see that you are using another libraries like Apache POI, therefore it would be more convenient to use Maven or Gradle to handle both dependencies and deployments. \r\n\r\n\r\n\r\n","title":"Class imported in the same package is not being recognized","body":"<p>In order to let the compiler knows about the classes to be compiled, you need to specify the classes explicitly. The compiler won't use the same folder to know that. You can read more about how ClassPath works here (<a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/environment/paths.html</a>)</p>\n<p>An example of compiling multiple files from the command line here:\n<a href=\"https://www.baeldung.com/java-compile-multiple-files\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-compile-multiple-files</a></p>\n<p>I see that you are using another libraries like Apache POI, therefore it would be more convenient to use Maven or Gradle to handle both dependencies and deployments.</p>\n"}],"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73029386,"answer_count":1,"score":0,"last_activity_date":1658184590,"creation_date":1658178403,"question_id":73028637,"body_markdown":"I have these two java files: `Xls_Reader.java` and `WriteXMLFile.java` in the same directory called `filegeneration`. I am trying to use `Xls_Reader` class in `WriteXMLFile.java` so I did this \r\n\r\n    package fileGeneration;\r\n    import fileGeneration.Xls_Reader;\r\nHowever I keep getting this error when trying to compile \r\n\r\n    WriteXMLFile.java:27: error: cannot find symbol\r\n    import fileGeneration.Xls_Reader;\r\n      symbol:   class Xls_Reader\r\n      location: class WriteXMLFile\r\n    WriteXMLFile.java:65: error: cannot find symbol\r\n                            Xls_Reader xlsDataSheet = new Xls_Reader(dataSheetPath);\r\n\r\nWhy is Xls_Reader not being found?\r\n\r\nUpdate: the following is in Xls_Reader\r\n\r\n    package fileGeneration;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Calendar;\r\n    import org.apache.poi.ss.usermodel.DateUtil;\r\n    import org.apache.poi.hssf.usermodel.HSSFDateUtil;\r\n    //import org.apache.poi.openxml4j.util.ZipSecureFile;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    \r\n    public class Xls_Reader {","title":"Class imported in the same package is not being recognized","body":"<p>I have these two java files: <code>Xls_Reader.java</code> and <code>WriteXMLFile.java</code> in the same directory called <code>filegeneration</code>. I am trying to use <code>Xls_Reader</code> class in <code>WriteXMLFile.java</code> so I did this</p>\n<pre><code>package fileGeneration;\nimport fileGeneration.Xls_Reader;\n</code></pre>\n<p>However I keep getting this error when trying to compile</p>\n<pre><code>WriteXMLFile.java:27: error: cannot find symbol\nimport fileGeneration.Xls_Reader;\n  symbol:   class Xls_Reader\n  location: class WriteXMLFile\nWriteXMLFile.java:65: error: cannot find symbol\n                        Xls_Reader xlsDataSheet = new Xls_Reader(dataSheetPath);\n</code></pre>\n<p>Why is Xls_Reader not being found?</p>\n<p>Update: the following is in Xls_Reader</p>\n<pre><code>package fileGeneration;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Calendar;\nimport org.apache.poi.ss.usermodel.DateUtil;\nimport org.apache.poi.hssf.usermodel.HSSFDateUtil;\n//import org.apache.poi.openxml4j.util.ZipSecureFile;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n\npublic class Xls_Reader {\n</code></pre>\n"},{"tags":["java","spring-boot","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":18774298,"reputation":11,"user_id":13690446,"display_name":"Razvan Prichici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658184468,"creation_date":1658184468,"answer_id":73029372,"question_id":71503490,"body_markdown":"I also identified this issue and raised a bug: https://github.com/jobrunr/jobrunr/issues/473, which is solved with version 5.1.4 . \r\n\r\nHope this helps.","title":"JobRunr not triggering the jobs after db connection lost and restarted again","body":"<p>I also identified this issue and raised a bug: <a href=\"https://github.com/jobrunr/jobrunr/issues/473\" rel=\"nofollow noreferrer\">https://github.com/jobrunr/jobrunr/issues/473</a>, which is solved with version 5.1.4 .</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":22301614,"reputation":23,"user_id":16526760,"display_name":"Arvind Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184468,"creation_date":1647460461,"question_id":71503490,"body_markdown":"I am using Jobrunr(4.0.1) free version. we have upgraded our postgres database so it went down for some time and after this jobrunr stop working. Now i have schedule a corn job and checking if BackgroundJobServer is running or not. if not then i am restarting again.\r\n\r\n    @Scheduled(cron = &quot;0/180 * * ? * *&quot;)\r\n    @SchedulerLock(\r\n            name = &quot;job_lock&quot;,\r\n            lockAtLeastFor = &quot;30s&quot;,\r\n            lockAtMostFor = &quot;40s&quot;\r\n    )\r\n    @Trace(dispatcher=true)\r\n    public void restartJobs(){\r\n        log.error(&quot;in Job Runner&quot;);\r\n        if(JobRunr.getBackgroundJobServer() != null &amp;&amp; !JobRunr.getBackgroundJobServer().isRunning()) {\r\n            JobRunr.getBackgroundJobServer().start();\r\n        }\r\n\r\n it successfully restarted but now it&#39;s not triggering the jobs.\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jobrunr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jobrunr&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n``` ","title":"JobRunr not triggering the jobs after db connection lost and restarted again","body":"<p>I am using Jobrunr(4.0.1) free version. we have upgraded our postgres database so it went down for some time and after this jobrunr stop working. Now i have schedule a corn job and checking if BackgroundJobServer is running or not. if not then i am restarting again.</p>\n<pre><code>@Scheduled(cron = &quot;0/180 * * ? * *&quot;)\n@SchedulerLock(\n        name = &quot;job_lock&quot;,\n        lockAtLeastFor = &quot;30s&quot;,\n        lockAtMostFor = &quot;40s&quot;\n)\n@Trace(dispatcher=true)\npublic void restartJobs(){\n    log.error(&quot;in Job Runner&quot;);\n    if(JobRunr.getBackgroundJobServer() != null &amp;&amp; !JobRunr.getBackgroundJobServer().isRunning()) {\n        JobRunr.getBackgroundJobServer().start();\n    }\n</code></pre>\n<p>it successfully restarted but now it's not triggering the jobs.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.jobrunr&lt;/groupId&gt;\n            &lt;artifactId&gt;jobrunr&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1658160496,"post_id":73023821,"comment_id":128977023,"body_markdown":"the TabPane&#39;s skin thinks there is not enough vertical space to show all tabs completely (look at the implementation, it&#39;s in tabsFit() of TabHeaderArea) - a hack might be to reduce the tab widths by some pixel. At the end of the day, you would need a custom skin to customize the layout (which is basically trivial .. except that everything is package-/private, so not much leeway to hook in)","body":"the TabPane&#39;s skin thinks there is not enough vertical space to show all tabs completely (look at the implementation, it&#39;s in tabsFit() of TabHeaderArea) - a hack might be to reduce the tab widths by some pixel. At the end of the day, you would need a custom skin to customize the layout (which is basically trivial .. except that everything is package-/private, so not much leeway to hook in)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658165701,"post_id":73023821,"comment_id":128978865,"body_markdown":".. _vertical_ should be _horizontal_ ..","body":".. <i>vertical</i> should be <i>horizontal</i> .."}],"owner":{"account_id":5943193,"reputation":111,"user_id":4917438,"display_name":"meschi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1658188954,"answer_count":0,"score":2,"last_activity_date":1658184396,"creation_date":1658153802,"question_id":73023821,"body_markdown":"I&#39;m trying to get a Tabpane with two equally big tabs, that fill the whole space. I&#39;m using this solution:\r\nhttps://stackoverflow.com/a/51230536/4917438\r\n\r\n    tabPane.widthProperty().addListener((observable, oldValue, newValue) -&gt;\r\n    {\r\n        tabPane.setTabMinWidth(tabPane.getWidth() / tabPane.getTabs().size());\r\n        tabPane.setTabMaxWidth(tabPane.getWidth() / tabPane.getTabs().size());      \r\n    });\r\n\r\nJavaFX displays a drop-down arrow on the right tab now, however. How can the drop-down arrow be disabled?\r\nI would prefer a solution that works with code, since I currently don&#39;t use FXML.\r\n[![image of TabView][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x7MMR.png","title":"Hide the drop down Arrow of a TabPane in JavaFX","body":"<p>I'm trying to get a Tabpane with two equally big tabs, that fill the whole space. I'm using this solution:\n<a href=\"https://stackoverflow.com/a/51230536/4917438\">https://stackoverflow.com/a/51230536/4917438</a></p>\n<pre><code>tabPane.widthProperty().addListener((observable, oldValue, newValue) -&gt;\n{\n    tabPane.setTabMinWidth(tabPane.getWidth() / tabPane.getTabs().size());\n    tabPane.setTabMaxWidth(tabPane.getWidth() / tabPane.getTabs().size());      \n});\n</code></pre>\n<p>JavaFX displays a drop-down arrow on the right tab now, however. How can the drop-down arrow be disabled?\nI would prefer a solution that works with code, since I currently don't use FXML.\n<a href=\"https://i.stack.imgur.com/x7MMR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x7MMR.png\" alt=\"image of TabView\" /></a></p>\n"},{"tags":["java","mysql","spring","jdbctemplate"],"comments":[{"owner":{"account_id":7898769,"reputation":473,"user_id":5966499,"accept_rate":100,"display_name":"Ann"},"score":0,"creation_date":1525333222,"post_id":50149425,"comment_id":87316736,"body_markdown":"change code as follows jdbcTemplate.query(sql,new Object{id});","body":"change code as follows jdbcTemplate.query(sql,new Object{id});"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1525333316,"post_id":50149425,"comment_id":87316791,"body_markdown":"Possible duplicate of [Return Type for jdbcTemplate.queryForList(sql, object, classType)](https://stackoverflow.com/questions/6917906/return-type-for-jdbctemplate-queryforlistsql-object-classtype)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6917906/return-type-for-jdbctemplate-queryforlistsql-object-classtype\">Return Type for jdbcTemplate.queryForList(sql, object, classType)</a>"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1525333394,"post_id":50149425,"comment_id":87316838,"body_markdown":"If u meant to do like this: \nList&lt;UserInfo&gt; list = jdbcTemplate.query(sql,id,new UserInfoMapper()); it won&#39;t work :(","body":"If u meant to do like this:  List&lt;UserInfo&gt; list = jdbcTemplate.query(sql,id,new UserInfoMapper()); it won&#39;t work :("},{"owner":{"account_id":9799435,"reputation":66,"user_id":7261235,"display_name":"Anupam Biswas"},"score":0,"creation_date":1525333426,"post_id":50149425,"comment_id":87316860,"body_markdown":"Mapper would be the last param","body":"Mapper would be the last param"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1525334249,"post_id":50149425,"comment_id":87317337,"body_markdown":"Show `UserInfoMapper` and `UserInfo` please.","body":"Show <code>UserInfoMapper</code> and <code>UserInfo</code> please."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1525334537,"post_id":50149425,"comment_id":87317509,"body_markdown":"Last thing, do you have multiple DB ? Are you sure you are running the query on the correct DB ?","body":"Last thing, do you have multiple DB ? Are you sure you are running the query on the correct DB ?"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1525334890,"post_id":50149425,"comment_id":87317712,"body_markdown":"In Spring config method getDataSource I specifed schema:\n        dataSource.setSchema(&quot;airline&quot;); Is that enough to be sure that queries are executed on airline.users?","body":"In Spring config method getDataSource I specifed schema:         dataSource.setSchema(&quot;airline&quot;); Is that enough to be sure that queries are executed on airline.users?"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1525336846,"post_id":50149425,"comment_id":87318868,"body_markdown":"no suggestions? :c","body":"no suggestions? :c"},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":0,"creation_date":1602771738,"post_id":50149425,"comment_id":113830979,"body_markdown":"I see this is a 2 year old question, however in the odd chance that you still remember the solution - did you ever figure this out?","body":"I see this is a 2 year old question, however in the odd chance that you still remember the solution - did you ever figure this out?"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1602825085,"post_id":50149425,"comment_id":113847316,"body_markdown":"I used Hibernate :)","body":"I used Hibernate :)"}],"answers":[{"tags":[],"owner":{"account_id":25839639,"reputation":11,"user_id":19575408,"display_name":"Jani Syed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658184383,"creation_date":1658184383,"answer_id":73029359,"question_id":50149425,"body_markdown":"Check user credentials that you are using to connect database from your application and the user credentials in console. And also check owner schema , table owner schema in your application. ","title":"Jdbc returns empty list but SQL query succesfully gets data [Spring]","body":"<p>Check user credentials that you are using to connect database from your application and the user credentials in console. And also check owner schema , table owner schema in your application.</p>\n"}],"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184383,"creation_date":1525333081,"question_id":50149425,"body_markdown":"I am trying to execute this query:\r\n\r\n    @Override\r\n    public UserInfo get(Long id) {\r\n        String sql = &quot;SELECT * FROM users WHERE id = ? &quot;;\r\n        List&lt;UserInfo&gt; list = jdbcTemplate.query(sql,new UserInfoMapper(),id);\r\n        return list.get(0);\r\n    }\r\nbut jdbc return empty list and I get exception at return line. \r\nBut if try to execute directly though the console it returns:\r\n[Query,][1] [Answer][2]\r\n\r\n\r\nQuery was executed with id 1 and retured correct anwser;\r\nBut in method its returned [this][3]\r\n\r\n\r\nI couldn&#39;t find any same questions so that may be point at my inattention to something. But I can&#39;t see any problem that may cause this. Thanks in advance;\r\n\r\n\r\n**Updated 1**\r\nChanging code to\r\n\r\n    @Override\r\n    public UserInfo get(Long id) {\r\n        String sql = &quot;SELECT * FROM users WHERE id = ? &quot;;\r\n        List&lt;UserInfo&gt; list = jdbcTemplate.query(sql, new Object[] {id},new UserInfoMapper());\r\n        return list.get(0);\r\n    }\r\n   resulted in same: [result][4]\r\nUpdated 2\r\n\r\n    @Override\r\n    public UserInfo mapRow(ResultSet resultSet, int i) throws SQLException {\r\n        UserInfo info = new UserInfo();\r\n        info.setId(resultSet.getLong(&quot;id&quot;));\r\n        info.setFirstname(resultSet.getString(&quot;firstname&quot;));\r\n        info.setMiddlename(resultSet.getString(&quot;middlename&quot;));\r\n        info.setLastname(resultSet.getString(&quot;lastname&quot;));\r\n        info.setUsername(resultSet.getString(&quot;username&quot;));\r\n        info.setPassword(resultSet.getString(&quot;password&quot;));\r\n        info.setEmail(resultSet.getString(&quot;email&quot;));\r\n        info.setMobilephone(resultSet.getString(&quot;mobilephone&quot;));\r\n        info.setPosition(resultSet.getString(&quot;position&quot;));\r\n        return info;\r\n    }\r\n    public class UserInfo {\r\n        private Long id;\r\n        private String firstname;\r\n        private String middlename;\r\n        private String lastname;\r\n        private String username;\r\n        private String password;\r\n        private String email;\r\n        private String mobilephone;\r\n        private String position;\r\n    \r\n        public UserInfo() {\r\n        }\r\n    }\r\n\r\nGetter and setters for each field is there but I think there is no need to show them up.\r\n\r\n  [1]: https://i.stack.imgur.com/wm0hO.png\r\n  [2]: https://i.stack.imgur.com/zmv4c.png\r\n  [3]: https://i.stack.imgur.com/ZzZa0.png\r\n  [4]: https://i.stack.imgur.com/LhttD.png","title":"Jdbc returns empty list but SQL query succesfully gets data [Spring]","body":"<p>I am trying to execute this query:</p>\n\n<pre><code>@Override\npublic UserInfo get(Long id) {\n    String sql = \"SELECT * FROM users WHERE id = ? \";\n    List&lt;UserInfo&gt; list = jdbcTemplate.query(sql,new UserInfoMapper(),id);\n    return list.get(0);\n}\n</code></pre>\n\n<p>but jdbc return empty list and I get exception at return line. \nBut if try to execute directly though the console it returns:\n<a href=\"https://i.stack.imgur.com/wm0hO.png\" rel=\"nofollow noreferrer\">Query,</a> <a href=\"https://i.stack.imgur.com/zmv4c.png\" rel=\"nofollow noreferrer\">Answer</a></p>\n\n<p>Query was executed with id 1 and retured correct anwser;\nBut in method its returned <a href=\"https://i.stack.imgur.com/ZzZa0.png\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>I couldn't find any same questions so that may be point at my inattention to something. But I can't see any problem that may cause this. Thanks in advance;</p>\n\n<p><strong>Updated 1</strong>\nChanging code to</p>\n\n<pre><code>@Override\npublic UserInfo get(Long id) {\n    String sql = \"SELECT * FROM users WHERE id = ? \";\n    List&lt;UserInfo&gt; list = jdbcTemplate.query(sql, new Object[] {id},new UserInfoMapper());\n    return list.get(0);\n}\n</code></pre>\n\n<p>resulted in same: <a href=\"https://i.stack.imgur.com/LhttD.png\" rel=\"nofollow noreferrer\">result</a>\nUpdated 2</p>\n\n<pre><code>@Override\npublic UserInfo mapRow(ResultSet resultSet, int i) throws SQLException {\n    UserInfo info = new UserInfo();\n    info.setId(resultSet.getLong(\"id\"));\n    info.setFirstname(resultSet.getString(\"firstname\"));\n    info.setMiddlename(resultSet.getString(\"middlename\"));\n    info.setLastname(resultSet.getString(\"lastname\"));\n    info.setUsername(resultSet.getString(\"username\"));\n    info.setPassword(resultSet.getString(\"password\"));\n    info.setEmail(resultSet.getString(\"email\"));\n    info.setMobilephone(resultSet.getString(\"mobilephone\"));\n    info.setPosition(resultSet.getString(\"position\"));\n    return info;\n}\npublic class UserInfo {\n    private Long id;\n    private String firstname;\n    private String middlename;\n    private String lastname;\n    private String username;\n    private String password;\n    private String email;\n    private String mobilephone;\n    private String position;\n\n    public UserInfo() {\n    }\n}\n</code></pre>\n\n<p>Getter and setters for each field is there but I think there is no need to show them up.</p>\n"},{"tags":["java","android","firebase","android-studio","kotlin"],"comments":[{"owner":{"account_id":157741,"reputation":1944,"user_id":375912,"accept_rate":50,"display_name":"iWantSimpleLife"},"score":4,"creation_date":1635471638,"post_id":69758175,"comment_id":123313796,"body_markdown":"It may be a lot more helpful if you can list down the errors you are getting. If you just say there are a lot of errors or bugs, no one will be able to help you, as we do not know what the error is.","body":"It may be a lot more helpful if you can list down the errors you are getting. If you just say there are a lot of errors or bugs, no one will be able to help you, as we do not know what the error is."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635477291,"post_id":69758175,"comment_id":123314664,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16481797,"reputation":1,"user_id":11908382,"display_name":"Mohammed Mustaq"},"score":0,"creation_date":1635484447,"post_id":69758175,"comment_id":123315824,"body_markdown":"As I said it&#39;s a social media app. There is a login and registration form. The registration form works fine The data is uploading on database and firebase authentication is also working fine. The problems come when I try to login it says incorrect password even when it&#39;s correct. Application crashes on uploading a post. The data in my profile page shows as null. But I don&#39;t get these kind of bugs in debug apk.","body":"As I said it&#39;s a social media app. There is a login and registration form. The registration form works fine The data is uploading on database and firebase authentication is also working fine. The problems come when I try to login it says incorrect password even when it&#39;s correct. Application crashes on uploading a post. The data in my profile page shows as null. But I don&#39;t get these kind of bugs in debug apk."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1635488797,"post_id":69758175,"comment_id":123316756,"body_markdown":"try investigating with logcat for example to see any stack traces","body":"try investigating with logcat for example to see any stack traces"},{"owner":{"account_id":16481797,"reputation":1,"user_id":11908382,"display_name":"Mohammed Mustaq"},"score":0,"creation_date":1635498012,"post_id":69758175,"comment_id":123319778,"body_markdown":"already tried but not quiet working","body":"already tried but not quiet working"}],"answers":[{"tags":[],"owner":{"account_id":25801852,"reputation":1,"user_id":19544120,"display_name":"Carlos Augusto Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658184291,"creation_date":1657735113,"answer_id":72970683,"question_id":69758175,"body_markdown":"I had similar problem. Only now I discovered that the standard intellIj and Android Studio mode are debug mode. \r\n\r\nI reviewed the threads of my application on release mode, and replaced the threads of type 1 for threads of type 2:\r\n\r\nThreads Type 1:\r\n\r\n    class TimeCheckURL extends TimerTask\r\n    {\r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        public void run()\r\n        {\r\n            \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    Data = null;       \r\n                    Data = new JsonTask().execute(urlBase);\r\n                    threadEnd = true;\r\n                }\r\n            }).start();        \r\n        }\r\n    }\r\n\r\nThreads Type 2:\r\n\r\n    Thread threadReadHexBsvTx = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n\r\n                Data = JsonTask(urlBase);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n\r\n    private void renewThread()\r\n    {\r\n        threadReadHexBsvTx = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n\r\n                    Data = JsonTask(urlBase);\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nTo monitor if threads type 1 were still alive I used the following approach;\r\n\r\n        while (!threadEnd) {\r\n            //do something\r\n        } \r\nIt worked very well when I unknowingly developed under Build Variant Debug, however when I put it on playstore I discovered that there was a release variant, and that my application did not worked properly on release mode.\r\n\r\nIt happened because everytime the processes using threads type 1 were called for the second time, the thread did not updated &quot;threadEnd&quot; and it looped forever.\r\n\r\nI discovered that I could monitor the state of thread type 2 using this aproach.\r\n\r\n     while (bsvTX.threadBroadCast.isAlive()) {\r\n            //do something\r\n        }\r\n\r\nThis solved the problem in my application. However, I could not use approach of thread type 2 on thread type 1.\r\n\r\nIt might sound very noob, but I also discovered that for threads type 2 to work the second time the processes called them, they had to be renewed, that is why I use the method renewThread().","title":"Signed apk is not working as debug apk java androidstudio","body":"<p>I had similar problem. Only now I discovered that the standard intellIj and Android Studio mode are debug mode.</p>\n<p>I reviewed the threads of my application on release mode, and replaced the threads of type 1 for threads of type 2:</p>\n<p>Threads Type 1:</p>\n<pre><code>class TimeCheckURL extends TimerTask\n{\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    public void run()\n    {\n        \n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n\n                Data = null;       \n                Data = new JsonTask().execute(urlBase);\n                threadEnd = true;\n            }\n        }).start();        \n    }\n}\n</code></pre>\n<p>Threads Type 2:</p>\n<pre><code>Thread threadReadHexBsvTx = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n\n            Data = JsonTask(urlBase);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nprivate void renewThread()\n{\n    threadReadHexBsvTx = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n\n                Data = JsonTask(urlBase);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n<p>To monitor if threads type 1 were still alive I used the following approach;</p>\n<pre><code>    while (!threadEnd) {\n        //do something\n    } \n</code></pre>\n<p>It worked very well when I unknowingly developed under Build Variant Debug, however when I put it on playstore I discovered that there was a release variant, and that my application did not worked properly on release mode.</p>\n<p>It happened because everytime the processes using threads type 1 were called for the second time, the thread did not updated &quot;threadEnd&quot; and it looped forever.</p>\n<p>I discovered that I could monitor the state of thread type 2 using this aproach.</p>\n<pre><code> while (bsvTX.threadBroadCast.isAlive()) {\n        //do something\n    }\n</code></pre>\n<p>This solved the problem in my application. However, I could not use approach of thread type 2 on thread type 1.</p>\n<p>It might sound very noob, but I also discovered that for threads type 2 to work the second time the processes called them, they had to be renewed, that is why I use the method renewThread().</p>\n"}],"owner":{"account_id":16481797,"reputation":1,"user_id":11908382,"display_name":"Mohammed Mustaq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184291,"creation_date":1635440292,"question_id":69758175,"body_markdown":"I have been developing a project for my client. It is a type of social media application.\r\nThe database is firebase and it is written in java and some kotlin. \r\nThe debug apk was fine. \r\nI have tested it and also used it but when I try to release the app on playstore, I have to generate a signed apk, but the signed apk is not like debug apk it has many bugs.\r\nI don’t know what’s happening, please help me. \r\n\r\n                                              Thank you in advance.","title":"Signed apk is not working as debug apk java androidstudio","body":"<p>I have been developing a project for my client. It is a type of social media application.\nThe database is firebase and it is written in java and some kotlin.\nThe debug apk was fine.\nI have tested it and also used it but when I try to release the app on playstore, I have to generate a signed apk, but the signed apk is not like debug apk it has many bugs.\nI don’t know what’s happening, please help me.</p>\n<pre><code>                                          Thank you in advance.\n</code></pre>\n"},{"tags":["java","hibernate","spring","exception"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1262732161,"post_id":2007097,"comment_id":1930347,"body_markdown":"That particular exception is only thrown in certain specific circumstances, from within the Spring TX infrastructure. What message was contained within the `UnexpectedRollbackException`? That will help us track it down.","body":"That particular exception is only thrown in certain specific circumstances, from within the Spring TX infrastructure. What message was contained within the <code>UnexpectedRollbackException</code>? That will help us track it down."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1262725445,"creation_date":1262706747,"answer_id":2007165,"question_id":2007097,"body_markdown":"Scroll a little more back in the log (or increase it&#39;s buffer-size) and you will see what exactly caused the exception.\r\n\r\nIf it happens not to be there, check the `getMostSpecificCause()` and `getRootCause()` methods of `UnexpectedRollbackException`- they might be useful.","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>Scroll a little more back in the log (or increase it's buffer-size) and you will see what exactly caused the exception.</p>\n\n<p>If it happens not to be there, check the <code>getMostSpecificCause()</code> and <code>getRootCause()</code> methods of <code>UnexpectedRollbackException</code>- they might be useful.</p>\n"},{"tags":[],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1263474727,"creation_date":1263031635,"answer_id":2032984,"question_id":2007097,"body_markdown":"I found this to be answering the rest of question: https://jira.springsource.org/browse/SPR-3452\r\n\r\n&gt; I guess we need to differentiate\r\n&gt; between &#39;logical&#39; transaction scopes\r\n&gt; and &#39;physical&#39; transactions here...\r\n&gt; \r\n&gt; What PROPAGATION_REQUIRED creates is a\r\n&gt; logical transaction scope for each\r\n&gt; method that it gets applied to. Each\r\n&gt; such logical transaction scope can\r\n&gt; individually decide on rollback-only\r\n&gt; status, with an outer transaction\r\n&gt; scope being logically independent from\r\n&gt; the inner transaction scope. Of\r\n&gt; course, in case of standard\r\n&gt; PROPAGATION_REQUIRED behavior, they\r\n&gt; will be mapped to the same physical\r\n&gt; transaction. So a rollback-only marker\r\n&gt; set in the inner transaction scope\r\n&gt; does affect the outer transaction&#39;s\r\n&gt; chance to actually commit. However,\r\n&gt; since the outer transaction scope did\r\n&gt; not decide on a rollback itself, the\r\n&gt; rollback (silently triggered by the\r\n&gt; inner transaction scope) comes\r\n&gt; unexpected at that level - which is\r\n&gt; why an UnexpectedRollbackException\r\n&gt; gets thrown.\r\n&gt; \r\n&gt; PROPAGATION_REQUIRES_NEW, in contrast,\r\n&gt; uses a completely independent\r\n&gt; transaction for each affected\r\n&gt; transaction scope. In that case, the\r\n&gt; underlying physical transactions will\r\n&gt; be different and hence can commit or\r\n&gt; rollback independently, with an outer\r\n&gt; transaction not affected by an inner\r\n&gt; transaction&#39;s rollback status.\r\n&gt; \r\n&gt; PROPAGATION_NESTED is different again\r\n&gt; in that it uses a single physical\r\n&gt; transaction with multiple savepoints\r\n&gt; that it can roll back to. Such partial\r\n&gt; rollbacks allow an inner transaction\r\n&gt; scope to trigger a rollback for its\r\n&gt; scope, with the outer transaction\r\n&gt; being able to continue the physical\r\n&gt; transaction despite some operations\r\n&gt; having been rolled back. This is\r\n&gt; typically mapped onto JDBC savepoints,\r\n&gt; so will only work with JDBC resource\r\n&gt; transactions (Spring&#39;s\r\n&gt; DataSourceTransactionManager).\r\n&gt; \r\n&gt; To complete the discussion:\r\n&gt; UnexpectedRollbackException may also\r\n&gt; be thrown without the application ever\r\n&gt; having set a rollback-only marker\r\n&gt; itself. Instead, the transaction\r\n&gt; infrastructure may have decided that\r\n&gt; the only possible outcome is a\r\n&gt; rollback, due to constraints in the\r\n&gt; current transaction state. This is\r\n&gt; particularly relevant with XA\r\n&gt; transactions.\r\n&gt; \r\n&gt; As I suggested above, throwing an\r\n&gt; exception at the inner transaction\r\n&gt; scope, then catching that exception at\r\n&gt; the outer scope and translating it\r\n&gt; into a silent setRollbackOnly call\r\n&gt; there should work for your scenario. A\r\n&gt; caller of the outer transaction will\r\n&gt; never see an exception then. Since you\r\n&gt; only worry about such silent rollbacks\r\n&gt; because of special requirements\r\n&gt; imposed by a caller, I would even\r\n&gt; argue that the correct architectural\r\n&gt; solution is to use exceptions within\r\n&gt; the service layer, and to translate\r\n&gt; those exceptions into silent rollbacks\r\n&gt; at the service facade level (right\r\n&gt; before returning to that special\r\n&gt; caller).\r\n&gt; \r\n&gt; Since your problem is possibly not\r\n&gt; only about rollback exceptions, but\r\n&gt; rather about any exceptions thrown\r\n&gt; from your service layer, you could\r\n&gt; even use standard exception-driven\r\n&gt; rollbacks all the way throughout you\r\n&gt; service layer, and then catch and log\r\n&gt; such exceptions once the transaction\r\n&gt; has already completed, in some\r\n&gt; adapting service facade that\r\n&gt; translates your service layer&#39;s\r\n&gt; exceptions into UI-specific error\r\n&gt; states.\r\n&gt; \r\n&gt; Juergen","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>I found this to be answering the rest of question: <a href=\"https://jira.springsource.org/browse/SPR-3452\" rel=\"noreferrer\">https://jira.springsource.org/browse/SPR-3452</a></p>\n\n<blockquote>\n  <p>I guess we need to differentiate\n  between 'logical' transaction scopes\n  and 'physical' transactions here...</p>\n  \n  <p>What PROPAGATION_REQUIRED creates is a\n  logical transaction scope for each\n  method that it gets applied to. Each\n  such logical transaction scope can\n  individually decide on rollback-only\n  status, with an outer transaction\n  scope being logically independent from\n  the inner transaction scope. Of\n  course, in case of standard\n  PROPAGATION_REQUIRED behavior, they\n  will be mapped to the same physical\n  transaction. So a rollback-only marker\n  set in the inner transaction scope\n  does affect the outer transaction's\n  chance to actually commit. However,\n  since the outer transaction scope did\n  not decide on a rollback itself, the\n  rollback (silently triggered by the\n  inner transaction scope) comes\n  unexpected at that level - which is\n  why an UnexpectedRollbackException\n  gets thrown.</p>\n  \n  <p>PROPAGATION_REQUIRES_NEW, in contrast,\n  uses a completely independent\n  transaction for each affected\n  transaction scope. In that case, the\n  underlying physical transactions will\n  be different and hence can commit or\n  rollback independently, with an outer\n  transaction not affected by an inner\n  transaction's rollback status.</p>\n  \n  <p>PROPAGATION_NESTED is different again\n  in that it uses a single physical\n  transaction with multiple savepoints\n  that it can roll back to. Such partial\n  rollbacks allow an inner transaction\n  scope to trigger a rollback for its\n  scope, with the outer transaction\n  being able to continue the physical\n  transaction despite some operations\n  having been rolled back. This is\n  typically mapped onto JDBC savepoints,\n  so will only work with JDBC resource\n  transactions (Spring's\n  DataSourceTransactionManager).</p>\n  \n  <p>To complete the discussion:\n  UnexpectedRollbackException may also\n  be thrown without the application ever\n  having set a rollback-only marker\n  itself. Instead, the transaction\n  infrastructure may have decided that\n  the only possible outcome is a\n  rollback, due to constraints in the\n  current transaction state. This is\n  particularly relevant with XA\n  transactions.</p>\n  \n  <p>As I suggested above, throwing an\n  exception at the inner transaction\n  scope, then catching that exception at\n  the outer scope and translating it\n  into a silent setRollbackOnly call\n  there should work for your scenario. A\n  caller of the outer transaction will\n  never see an exception then. Since you\n  only worry about such silent rollbacks\n  because of special requirements\n  imposed by a caller, I would even\n  argue that the correct architectural\n  solution is to use exceptions within\n  the service layer, and to translate\n  those exceptions into silent rollbacks\n  at the service facade level (right\n  before returning to that special\n  caller).</p>\n  \n  <p>Since your problem is possibly not\n  only about rollback exceptions, but\n  rather about any exceptions thrown\n  from your service layer, you could\n  even use standard exception-driven\n  rollbacks all the way throughout you\n  service layer, and then catch and log\n  such exceptions once the transaction\n  has already completed, in some\n  adapting service facade that\n  translates your service layer's\n  exceptions into UI-specific error\n  states.</p>\n  \n  <p>Juergen</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1334065618,"creation_date":1334065618,"answer_id":10090034,"question_id":2007097,"body_markdown":"Well I can tell you how to reproduce the UnexpectedRollbackException. I was working on my project, and I got this UnexpectedRollbackException in following situation. I am having controller, service and dao layers in my project.\r\nWhat I did is in my service layer class,\r\n\r\n    class SomeServiceClass {\r\n    \tvoid outerTransaction() {\r\n    \t\t// some lines of code\r\n    \t\tinnerTransaction();\r\n    \t\t//AbstractPlatformTransactionManager tries to commit but UnexpectedRollbackException is thrown, not here but in controller layer class that uses SomeServiceClass.\r\n    \t}\r\n    \t\r\n    \tvoid innerTransaction() {\r\n    \t\ttry {\r\n    \t\t\t// someDaoMethod or someDaoOperation that throws exception\r\n    \t\t} catch(Exception e) {\r\n    \t\t\t// when exception is caught, transaction is rolled back, outer transaction does not know about it.\r\n    \t\t\t// I got this point where inner transaction gets rolled back when I set HibernateTransactionManager.setFailEarlyOnGlobalRollbackOnly(true)\r\n    \t\t\t// FYI : use of following second dao access is wrong, \r\n    \t\t\ttry {\r\n    \t\t\t\t// again some dao operation\r\n    \t\t\t} catch(Exception e1) {\r\n    \t\t\t\tthrow e2;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>Well I can tell you how to reproduce the UnexpectedRollbackException. I was working on my project, and I got this UnexpectedRollbackException in following situation. I am having controller, service and dao layers in my project.\nWhat I did is in my service layer class,</p>\n\n<pre><code>class SomeServiceClass {\n    void outerTransaction() {\n        // some lines of code\n        innerTransaction();\n        //AbstractPlatformTransactionManager tries to commit but UnexpectedRollbackException is thrown, not here but in controller layer class that uses SomeServiceClass.\n    }\n\n    void innerTransaction() {\n        try {\n            // someDaoMethod or someDaoOperation that throws exception\n        } catch(Exception e) {\n            // when exception is caught, transaction is rolled back, outer transaction does not know about it.\n            // I got this point where inner transaction gets rolled back when I set HibernateTransactionManager.setFailEarlyOnGlobalRollbackOnly(true)\n            // FYI : use of following second dao access is wrong, \n            try {\n                // again some dao operation\n            } catch(Exception e1) {\n                throw e2;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9940297,"reputation":1,"user_id":7384525,"display_name":"KiS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658182704,"creation_date":1658182704,"answer_id":73029197,"question_id":2007097,"body_markdown":"I had this problem with Spring Framework 4 + Java 1.8 for this exception.\r\nI solved it.\r\n&#128522; \r\n\r\nI know that runtime exceptions rollbacks.\r\nBut in my case, project do not use runtime exceptions.\r\n\r\nFor example, we have code. \r\n\r\n```\r\n@Transactional \r\n@Service\r\nUserFacadeIml implements UserFacade\r\n{\r\n@Autowired\r\nprivate UserService userService;\r\n\r\n//throws  UnexpectedRollbackException \r\n//instead NotRuntimeEx\r\n@Override\r\npublic void saveUser(User user)\r\nthrows NotRuntimeEx\r\n{\r\n return userService.saveUser(user);\r\n}\r\n}\r\n```\r\n\r\nI solved it, when add &quot;Transactional(rollBackFor=NotRuntimeEx.class)&quot; for facade.\r\nIt works, because Spring use proxy for facade and proxy for service.\r\nWhen transactional rollback, proxy of service send context to facade.\r\nBut facade proxy does not understand, why transaction rollback.\r\n\r\n```\r\n@Transactional(rollBackFor=NotRuntimeEx.class)\r\n@Service\r\nUserServiceIml implements UserService\r\n{\r\n@Override\r\npublic void saveUser(User user)\r\nthrows NotRuntimeEx\r\n{\r\n throw new NotRuntimeEx(user);\r\n}\r\n}\r\n```","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>I had this problem with Spring Framework 4 + Java 1.8 for this exception.\nI solved it.\n😊</p>\n<p>I know that runtime exceptions rollbacks.\nBut in my case, project do not use runtime exceptions.</p>\n<p>For example, we have code.</p>\n<pre><code>@Transactional \n@Service\nUserFacadeIml implements UserFacade\n{\n@Autowired\nprivate UserService userService;\n\n//throws  UnexpectedRollbackException \n//instead NotRuntimeEx\n@Override\npublic void saveUser(User user)\nthrows NotRuntimeEx\n{\n return userService.saveUser(user);\n}\n}\n</code></pre>\n<p>I solved it, when add &quot;Transactional(rollBackFor=NotRuntimeEx.class)&quot; for facade.\nIt works, because Spring use proxy for facade and proxy for service.\nWhen transactional rollback, proxy of service send context to facade.\nBut facade proxy does not understand, why transaction rollback.</p>\n<pre><code>@Transactional(rollBackFor=NotRuntimeEx.class)\n@Service\nUserServiceIml implements UserService\n{\n@Override\npublic void saveUser(User user)\nthrows NotRuntimeEx\n{\n throw new NotRuntimeEx(user);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29189,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2007165,"answer_count":4,"score":26,"last_activity_date":1658182704,"creation_date":1262706166,"question_id":2007097,"body_markdown":"All I know about this exception is from Spring&#39;s [documentation][1] and some forum posts with frostrated developers pasting huge stack traces, and no replies.\r\n\r\nFrom Spring&#39;s documentation:\r\n\r\n&gt; Thrown when an attempt to commit a transaction resulted in an unexpected rollback\r\n\r\n\r\nI want to understand once and for all \r\n\r\n 1. **Exactly what causes it?**\r\n    - Where did the rollback occur? in the App Server code or in the Database?\r\n    - Was it caused due to a specific underlying exception (e.g. something from java.sql.*)?\r\n    - Is it related to Hibernate? Is it related to Spring Transaction Manager (non JTA in my case)?\r\n\r\n 2. **How to avoid it?** is there any best practice to avoid it?\r\n 3. **How to debug it?** it seems to be hard to reproduce, any proven ways to troubleshoot it?\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/transaction/UnexpectedRollbackException.html","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>All I know about this exception is from Spring's <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/transaction/UnexpectedRollbackException.html\" rel=\"noreferrer\">documentation</a> and some forum posts with frostrated developers pasting huge stack traces, and no replies.</p>\n\n<p>From Spring's documentation:</p>\n\n<blockquote>\n  <p>Thrown when an attempt to commit a transaction resulted in an unexpected rollback</p>\n</blockquote>\n\n<p>I want to understand once and for all </p>\n\n<ol>\n<li><p><strong>Exactly what causes it?</strong></p>\n\n<ul>\n<li>Where did the rollback occur? in the App Server code or in the Database?</li>\n<li>Was it caused due to a specific underlying exception (e.g. something from java.sql.*)?</li>\n<li>Is it related to Hibernate? Is it related to Spring Transaction Manager (non JTA in my case)?</li>\n</ul></li>\n<li><p><strong>How to avoid it?</strong> is there any best practice to avoid it?</p></li>\n<li><strong>How to debug it?</strong> it seems to be hard to reproduce, any proven ways to troubleshoot it?</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":22069108,"reputation":19,"user_id":16330416,"display_name":"Lacoudasse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658181947,"creation_date":1658181947,"answer_id":73029104,"question_id":73028981,"body_markdown":"You need to request the permission and verify if it was allowed with a broadcast listnener I think","title":"Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 Read_Contacts and I don&#39;t have a write permission","body":"<p>You need to request the permission and verify if it was allowed with a broadcast listnener I think</p>\n"}],"owner":{"account_id":7714918,"reputation":121,"user_id":5843030,"display_name":"N MZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658181947,"creation_date":1658180967,"question_id":73028981,"body_markdown":"I try to build Retrieving a List of Contacts from android website,\r\n  https://android-doc.github.io/training/contacts-provider/retrieve-names.html#Permissions\r\n  and I try to configure this to 31 target api. \r\n   I got this error\r\n    \r\n E/AndroidRuntime: FATAL EXCEPTION: ModernAsyncTask #1\r\n   Process: com.example.contactlistandroid, PID: 15844\r\n        java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n               Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 from ProcessRecord{b4e47ee 15844:com.example.contactlistandroid/u0a160} (pid=15844, uid=10160) requires android.permission.READ_CONTACTS or android.permission.WRITE_CONTACTS\r\n    \r\n    \r\nhere is my main activity\r\n```    \r\n  /*\r\n * Copyright (C) 2013 The Android Open Source Project\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\npackage com.example.contactlistandroid.ui;\r\n\r\nimport android.app.SearchManager;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.example.contactlistandroid.BuildConfig;\r\nimport com.example.contactlistandroid.R;\r\nimport com.example.contactlistandroid.util.Utils;\r\n\r\n/**\r\n * FragmentActivity to hold the main {@link ContactsListFragment}. On larger screen devices which\r\n * can fit two panes also load {@link ContactDetailFragment}.\r\n */\r\npublic class ContactsListActivity extends FragmentActivity implements\r\n        ContactsListFragment.OnContactsInteractionListener {\r\n\r\n    // Defines a tag for identifying log entries\r\n    private static final String TAG = &quot;ContactsListActivity&quot;;\r\n\r\n    private ContactDetailFragment mContactDetailFragment;\r\n\r\n    // If true, this is a larger screen device which fits two panes\r\n    private boolean isTwoPaneLayout;\r\n\r\n    // True if this activity instance is a search result view (used on pre-HC devices that load\r\n    // search results in a separate instance of the activity rather than loading results in-line\r\n    // as the query is typed.\r\n    private boolean isSearchResultView = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        if (BuildConfig.DEBUG) {\r\n            Utils.enableStrictMode();\r\n        }\r\n        super.onCreate(savedInstanceState);\r\n\r\n        // Set main content view. On smaller screen devices this is a single pane view with one\r\n        // fragment. One larger screen devices this is a two pane view with two fragments.\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Check if two pane bool is set based on resource directories\r\n        isTwoPaneLayout = getResources().getBoolean(R.bool.has_two_panes);\r\n\r\n        // Check if this activity instance has been triggered as a result of a search query. This\r\n        // will only happen on pre-HC OS versions as from HC onward search is carried out using\r\n        // an ActionBar SearchView which carries out the search in-line without loading a new\r\n        // Activity.\r\n        if (Intent.ACTION_SEARCH.equals(getIntent().getAction())) {\r\n\r\n            // Fetch query from intent and notify the fragment that it should display search\r\n            // results instead of all contacts.\r\n            String searchQuery = getIntent().getStringExtra(SearchManager.QUERY);\r\n            ContactsListFragment mContactsListFragment = (ContactsListFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.contact_list);\r\n\r\n            // This flag notes that the Activity is doing a search, and so the result will be\r\n            // search results rather than all contacts. This prevents the Activity and Fragment\r\n            // from trying to a search on search results.\r\n            isSearchResultView = true;\r\n            mContactsListFragment.setSearchQuery(searchQuery);\r\n\r\n            // Set special title for search results\r\n            String title = getString(R.string.contacts_list_search_results_title, searchQuery);\r\n            setTitle(title);\r\n        }\r\n\r\n        if (isTwoPaneLayout) {\r\n            // If two pane layout, locate the contact detail fragment\r\n            mContactDetailFragment = (ContactDetailFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.contact_detail);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This interface callback lets the main contacts list fragment notify\r\n     * this activity that a contact has been selected.\r\n     *\r\n     * @param contactUri The contact Uri to the selected contact.\r\n     */\r\n    @Override\r\n    public void onContactSelected(Uri contactUri) {\r\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\r\n            // If two pane layout then update the detail fragment to show the selected contact\r\n            mContactDetailFragment.setContact(contactUri);\r\n        } else {\r\n            // Otherwise single pane layout, start a new ContactDetailActivity with\r\n            // the contact Uri\r\n            Intent intent = new Intent(this, ContactDetailActivity.class);\r\n            intent.setData(contactUri);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This interface callback lets the main contacts list fragment notify\r\n     * this activity that a contact is no longer selected.\r\n     */\r\n    @Override\r\n    public void onSelectionCleared() {\r\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\r\n            mContactDetailFragment.setContact(null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onSearchRequested() {\r\n        // Don&#39;t allow another search if this activity instance is already showing\r\n        // search results. Only used pre-HC.\r\n        return !isSearchResultView &amp;&amp; super.onSearchRequested();\r\n    }\r\n}\r\n```\r\nmainfest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.contactlistandroid&quot;&gt;\r\n&lt;!--\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n--&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ContactListAndroid&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.ContactsListActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;!-- Add intent-filter for search intent action and specify searchable configuration\r\n                via meta-data tag. This allows this activity to receive search intents via the\r\n                system hooks. In this sample this is only used on older OS versions (pre-Honeycomb)\r\n                via the activity search dialog. See the Search API guide for more information:\r\n                http://developer.android.com/guide/topics/search/search-dialog.html --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;android.app.searchable&quot;\r\n                android:resource=&quot;@xml/searchable_contacts&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.ContactDetailActivity&quot;\r\n            android:label=&quot;@string/activity_contact_detail&quot;\r\n            android:parentActivityName=&quot;.ui.ContactsListActivity&quot;&gt;\r\n            &lt;!-- Define hierarchical parent of this activity, both via the system\r\n                 parentActivityName attribute (added in API Level 16) and via meta-data annotation.\r\n                 This allows use of the support library NavUtils class in a way that works over\r\n                 all Android versions. See the &quot;Tasks and Back Stack&quot; guide for more information:\r\n                 http://developer.android.com/guide/components/tasks-and-back-stack.html\r\n            --&gt;\r\n            &lt;meta-data android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                android:value=&quot;.ui.ContactsListActivity&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nThanks for the assistance\r\n\r\n","title":"Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 Read_Contacts and I don&#39;t have a write permission","body":"<p>I try to build Retrieving a List of Contacts from android website,\n<a href=\"https://android-doc.github.io/training/contacts-provider/retrieve-names.html#Permissions\" rel=\"nofollow noreferrer\">https://android-doc.github.io/training/contacts-provider/retrieve-names.html#Permissions</a>\nand I try to configure this to 31 target api.\nI got this error</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: ModernAsyncTask #1\nProcess: com.example.contactlistandroid, PID: 15844\njava.lang.RuntimeException: An error occurred while executing doInBackground()\nCaused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 from ProcessRecord{b4e47ee 15844:com.example.contactlistandroid/u0a160} (pid=15844, uid=10160) requires android.permission.READ_CONTACTS or android.permission.WRITE_CONTACTS</p>\n<p>here is my main activity</p>\n<pre><code>  /*\n * Copyright (C) 2013 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage com.example.contactlistandroid.ui;\n\nimport android.app.SearchManager;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.example.contactlistandroid.BuildConfig;\nimport com.example.contactlistandroid.R;\nimport com.example.contactlistandroid.util.Utils;\n\n/**\n * FragmentActivity to hold the main {@link ContactsListFragment}. On larger screen devices which\n * can fit two panes also load {@link ContactDetailFragment}.\n */\npublic class ContactsListActivity extends FragmentActivity implements\n        ContactsListFragment.OnContactsInteractionListener {\n\n    // Defines a tag for identifying log entries\n    private static final String TAG = &quot;ContactsListActivity&quot;;\n\n    private ContactDetailFragment mContactDetailFragment;\n\n    // If true, this is a larger screen device which fits two panes\n    private boolean isTwoPaneLayout;\n\n    // True if this activity instance is a search result view (used on pre-HC devices that load\n    // search results in a separate instance of the activity rather than loading results in-line\n    // as the query is typed.\n    private boolean isSearchResultView = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        if (BuildConfig.DEBUG) {\n            Utils.enableStrictMode();\n        }\n        super.onCreate(savedInstanceState);\n\n        // Set main content view. On smaller screen devices this is a single pane view with one\n        // fragment. One larger screen devices this is a two pane view with two fragments.\n        setContentView(R.layout.activity_main);\n\n        // Check if two pane bool is set based on resource directories\n        isTwoPaneLayout = getResources().getBoolean(R.bool.has_two_panes);\n\n        // Check if this activity instance has been triggered as a result of a search query. This\n        // will only happen on pre-HC OS versions as from HC onward search is carried out using\n        // an ActionBar SearchView which carries out the search in-line without loading a new\n        // Activity.\n        if (Intent.ACTION_SEARCH.equals(getIntent().getAction())) {\n\n            // Fetch query from intent and notify the fragment that it should display search\n            // results instead of all contacts.\n            String searchQuery = getIntent().getStringExtra(SearchManager.QUERY);\n            ContactsListFragment mContactsListFragment = (ContactsListFragment)\n                    getSupportFragmentManager().findFragmentById(R.id.contact_list);\n\n            // This flag notes that the Activity is doing a search, and so the result will be\n            // search results rather than all contacts. This prevents the Activity and Fragment\n            // from trying to a search on search results.\n            isSearchResultView = true;\n            mContactsListFragment.setSearchQuery(searchQuery);\n\n            // Set special title for search results\n            String title = getString(R.string.contacts_list_search_results_title, searchQuery);\n            setTitle(title);\n        }\n\n        if (isTwoPaneLayout) {\n            // If two pane layout, locate the contact detail fragment\n            mContactDetailFragment = (ContactDetailFragment)\n                    getSupportFragmentManager().findFragmentById(R.id.contact_detail);\n        }\n    }\n\n    /**\n     * This interface callback lets the main contacts list fragment notify\n     * this activity that a contact has been selected.\n     *\n     * @param contactUri The contact Uri to the selected contact.\n     */\n    @Override\n    public void onContactSelected(Uri contactUri) {\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\n            // If two pane layout then update the detail fragment to show the selected contact\n            mContactDetailFragment.setContact(contactUri);\n        } else {\n            // Otherwise single pane layout, start a new ContactDetailActivity with\n            // the contact Uri\n            Intent intent = new Intent(this, ContactDetailActivity.class);\n            intent.setData(contactUri);\n            startActivity(intent);\n        }\n    }\n\n    /**\n     * This interface callback lets the main contacts list fragment notify\n     * this activity that a contact is no longer selected.\n     */\n    @Override\n    public void onSelectionCleared() {\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\n            mContactDetailFragment.setContact(null);\n        }\n    }\n\n    @Override\n    public boolean onSearchRequested() {\n        // Don't allow another search if this activity instance is already showing\n        // search results. Only used pre-HC.\n        return !isSearchResultView &amp;&amp; super.onSearchRequested();\n    }\n}\n</code></pre>\n<p>mainfest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.contactlistandroid&quot;&gt;\n&lt;!--\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n--&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ContactListAndroid&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.ui.ContactsListActivity&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;!-- Add intent-filter for search intent action and specify searchable configuration\n                via meta-data tag. This allows this activity to receive search intents via the\n                system hooks. In this sample this is only used on older OS versions (pre-Honeycomb)\n                via the activity search dialog. See the Search API guide for more information:\n                http://developer.android.com/guide/topics/search/search-dialog.html --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.app.searchable&quot;\n                android:resource=&quot;@xml/searchable_contacts&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.ui.ContactDetailActivity&quot;\n            android:label=&quot;@string/activity_contact_detail&quot;\n            android:parentActivityName=&quot;.ui.ContactsListActivity&quot;&gt;\n            &lt;!-- Define hierarchical parent of this activity, both via the system\n                 parentActivityName attribute (added in API Level 16) and via meta-data annotation.\n                 This allows use of the support library NavUtils class in a way that works over\n                 all Android versions. See the &quot;Tasks and Back Stack&quot; guide for more information:\n                 http://developer.android.com/guide/components/tasks-and-back-stack.html\n            --&gt;\n            &lt;meta-data android:name=&quot;android.support.PARENT_ACTIVITY&quot;\n                android:value=&quot;.ui.ContactsListActivity&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Thanks for the assistance</p>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1576572232,"post_id":59370156,"comment_id":104933711,"body_markdown":"That looks quite a lot like a `.doc` style hyperlink, with the field parts encoded as XML, which is not the normal `.docx` way to store them. Any idea how this file was generated?","body":"That looks quite a lot like a <code>.doc</code> style hyperlink, with the field parts encoded as XML, which is not the normal <code>.docx</code> way to store them. Any idea how this file was generated?"},{"owner":{"account_id":6592879,"reputation":792,"user_id":5093548,"accept_rate":40,"display_name":"Vasco"},"score":0,"creation_date":1576572683,"post_id":59370156,"comment_id":104933913,"body_markdown":"Unfortunately I do not. These are legacy documents and i do not have trace of their origins.","body":"Unfortunately I do not. These are legacy documents and i do not have trace of their origins."}],"answers":[{"tags":[],"owner":{"account_id":8494000,"reputation":1108,"user_id":6454838,"display_name":"NickAth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658181705,"creation_date":1658181705,"answer_id":73029074,"question_id":59370156,"body_markdown":"Having faced a similar problem with that, where in my case I had to extract all `hyperlinks` of my .docx file in order to **edit their url**, I noticed that I had too a &quot;strangely formatted link&quot; encoded as \r\n\r\n    &lt;w:r&gt;\r\n        &lt;w:instrText xml:space=&quot;preserve&quot;&gt; HYPERLINK &quot;file//.....&quot; &lt;/w:instrText&gt;\r\n    &lt;/w:r&gt;\r\n\r\nSince I noticed through debugging that this kind of link was an instance of `XWPFRun` and not `XWPFHyperlinkRun`, I did the following to &quot;handle it&quot; through the document parsing.\r\n\r\n    private void traverseToBodyElements(List&lt;IBodyElement&gt; bodyElements, XWPFDocument document) throws Exception {\r\n        for (IBodyElement bodyElement : bodyElements) {\r\n            if (bodyElement instanceof XWPFParagraph) {\r\n                XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\r\n                traverseRunElements(paragraph.getIRuns(), paragraph, document);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void traverseRunElements(List&lt;IRunElement&gt; runElements, XWPFParagraph paragraph, XWPFDocument document) {\r\n       for (int rIndex = 0; rIndex &lt; runElements.size(); rIndex++) {\r\n          IRunElement runElement = runElements.get(rIndex);\r\n          if (runElement instanceof XWPFHyperlinkRun) {\r\n              // handle the hyperlink\r\n          } else if (runElement instanceof XWPFRun) {\r\n              // fix for .doc &lt;w:instrText&gt;HYPERLINK&gt;... hyperlinks extracting\r\n              XWPFRun run = (XWPFRun) runElement;\r\n              CTR ctr = run.getCTR();\r\n              CTText[] ctrInstrTextArray = ctr.getInstrTextArray();\r\n              if (ctrInstrTextArray.length &gt; 0) {\r\n                  XmlCursor c = ctr.newCursor();\r\n                  c.selectPath(&quot;./*&quot;);\r\n                  while (c.toNextSelection()) {\r\n                      XmlObject o = c.getObject();\r\n                      if (o instanceof CTText) {\r\n                          String tagName = o.getDomNode().getNodeName();\r\n                          if (&quot;w:instrText&quot;.equals(tagName)) {\r\n                              Node node = o.getDomNode();\r\n                              int childLength = node.getChildNodes().getLength();\r\n                              for (int nodeIndex = 0; nodeIndex &lt; childLength; nodeIndex++) {\r\n                                  Node n = node.getChildNodes().item(nodeIndex);\r\n                                  if (n != null) {\r\n                                      if (n.getNodeValue().contains(&quot;HYPERLINK&quot;)) {\r\n                                          // this is the &quot;strange&quot; formatted hyperlink, do what you want\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } \r\n                }\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Extracting hyperlinks from .doc using Apache POI","body":"<p>Having faced a similar problem with that, where in my case I had to extract all <code>hyperlinks</code> of my .docx file in order to <strong>edit their url</strong>, I noticed that I had too a &quot;strangely formatted link&quot; encoded as</p>\n<pre><code>&lt;w:r&gt;\n    &lt;w:instrText xml:space=&quot;preserve&quot;&gt; HYPERLINK &quot;file//.....&quot; &lt;/w:instrText&gt;\n&lt;/w:r&gt;\n</code></pre>\n<p>Since I noticed through debugging that this kind of link was an instance of <code>XWPFRun</code> and not <code>XWPFHyperlinkRun</code>, I did the following to &quot;handle it&quot; through the document parsing.</p>\n<pre><code>private void traverseToBodyElements(List&lt;IBodyElement&gt; bodyElements, XWPFDocument document) throws Exception {\n    for (IBodyElement bodyElement : bodyElements) {\n        if (bodyElement instanceof XWPFParagraph) {\n            XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\n            traverseRunElements(paragraph.getIRuns(), paragraph, document);\n        }\n    }\n}\n\nprivate void traverseRunElements(List&lt;IRunElement&gt; runElements, XWPFParagraph paragraph, XWPFDocument document) {\n   for (int rIndex = 0; rIndex &lt; runElements.size(); rIndex++) {\n      IRunElement runElement = runElements.get(rIndex);\n      if (runElement instanceof XWPFHyperlinkRun) {\n          // handle the hyperlink\n      } else if (runElement instanceof XWPFRun) {\n          // fix for .doc &lt;w:instrText&gt;HYPERLINK&gt;... hyperlinks extracting\n          XWPFRun run = (XWPFRun) runElement;\n          CTR ctr = run.getCTR();\n          CTText[] ctrInstrTextArray = ctr.getInstrTextArray();\n          if (ctrInstrTextArray.length &gt; 0) {\n              XmlCursor c = ctr.newCursor();\n              c.selectPath(&quot;./*&quot;);\n              while (c.toNextSelection()) {\n                  XmlObject o = c.getObject();\n                  if (o instanceof CTText) {\n                      String tagName = o.getDomNode().getNodeName();\n                      if (&quot;w:instrText&quot;.equals(tagName)) {\n                          Node node = o.getDomNode();\n                          int childLength = node.getChildNodes().getLength();\n                          for (int nodeIndex = 0; nodeIndex &lt; childLength; nodeIndex++) {\n                              Node n = node.getChildNodes().item(nodeIndex);\n                              if (n != null) {\n                                  if (n.getNodeValue().contains(&quot;HYPERLINK&quot;)) {\n                                      // this is the &quot;strange&quot; formatted hyperlink, do what you want\n                                }\n                            }\n                        }\n                    }\n                } \n            }\n        }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6592879,"reputation":792,"user_id":5093548,"accept_rate":40,"display_name":"Vasco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658181705,"creation_date":1576571108,"question_id":59370156,"body_markdown":"I am extracting content from Word documents with Apache POI when I ran into this problem.\r\n\r\nI was using below code to extract hyperlinks.\r\n\r\n     XWPFDocument document = ...\r\n        var it = this.document.getBodyElementsIterator();\r\n    \tXWPFParagraph para;\r\n    \tIBodyElement be;\r\n    \twhile(it.hasNext()){\r\n    \t\tbe=it.next();\r\n    \t\tString et = be.getElementType().name();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;element type&gt;&gt;&quot;+et);\r\n    \t\tswitch (et) {\r\n    \t\tcase &quot;PARAGRAPH&quot;:\r\n    \t\t\tpara = (XWPFParagraph) be;\r\n    \t\t\tresult.addContent(this.parseParagraph(para));\r\n    \t\t\tbreak;\r\n    \t\tcase &quot;TABLE&quot;:\r\n    ......\r\n    ......\r\n    \r\n        var runsIt = para.getIRuns().iterator();\r\n    \twhile(runsIt.hasNext()) {\r\n    \r\n    \t\tvar irun = runsIt.next();\t\r\n    \t\tif (irun instanceof XWPFSDT) {\r\n                var fsdt = (XWPFSDT) irun;\r\n                System.out.println(&quot;FSDT&quot;+fsdt.toString());\r\n    \t\t} else {\r\n    \t\t\t// it is xwpfrun\r\n    \t\t\tvar run = (XWPFRun) irun;\r\n    \t\t\t\r\n    \t\t\tif (irun instanceof XWPFHyperlinkRun) {\r\n    \t\t\t\tsb.append(extractHyperLink(run));\r\n    \t\t\t}else if(irun instanceof XWPFFieldRun) {\r\n    \t\t\t\tvar fieldRun= (XWPFFieldRun)irun;\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;FieldRun:  Instruction&gt;&quot;+fieldRun.getFieldInstruction()+&quot;Text&gt;&quot;+fieldRun.getText(0));\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tsb.append(run);\r\n    \t\t\t} \r\n\r\n \r\n\r\nThis works fine, but then I came across a document where the hyperlinks are not extracted. The XML extract from the relevant section is below:\r\n\r\n    &lt;w:p w:rsidP=&quot;005F1646&quot; w:rsidRDefault=&quot;00A20D69&quot; w:rsidR=&quot;005F1646&quot;&gt;\r\n        &lt;w:pPr&gt;\r\n        &lt;w:r&gt;\r\n            &lt;w:fldChar w:fldCharType=&quot;begin&quot;/&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r&gt;\r\n            &lt;w:instrText xml:space=&quot;preserve&quot;&gt; HYPERLINK &quot;https://stackoverflow.com&quot; &lt;/w:instrText&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r&gt;\r\n          &lt;w:fldChar w:fldCharType=&quot;separate&quot;/&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r w:rsidR=&quot;005F1646&quot; w:rsidRPr=&quot;00D4262C&quot;&gt;\r\n           &lt;w:rPr&gt;\r\n              &lt;w:rStyle w:val=&quot;Hyperlink&quot;/&gt;\r\n            &lt;/w:rPr&gt;\r\n            &lt;w:t&gt;Ask on StackOverFlow&lt;/w:t&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r&gt;\r\n           &lt;w:rPr&gt;\r\n             &lt;w:rStyle w:val=&quot;Hyperlink&quot;/&gt;\r\n           &lt;/w:rPr&gt;\r\n           &lt;w:fldChar w:fldCharType=&quot;end&quot;/&gt;\r\n         &lt;/w:r&gt;\r\n    &lt;/w:p&gt;\r\n\r\nApache POI does not extract the runs in this paragraph as XWPFHyperlinkRun and my code fails to extract the hyperlink.\r\nHow can I use Apache POI to extract hyperlink information in this case?","title":"Extracting hyperlinks from .doc using Apache POI","body":"<p>I am extracting content from Word documents with Apache POI when I ran into this problem.</p>\n\n<p>I was using below code to extract hyperlinks.</p>\n\n<pre><code> XWPFDocument document = ...\n    var it = this.document.getBodyElementsIterator();\n    XWPFParagraph para;\n    IBodyElement be;\n    while(it.hasNext()){\n        be=it.next();\n        String et = be.getElementType().name();\n\n        System.out.println(\"element type&gt;&gt;\"+et);\n        switch (et) {\n        case \"PARAGRAPH\":\n            para = (XWPFParagraph) be;\n            result.addContent(this.parseParagraph(para));\n            break;\n        case \"TABLE\":\n......\n......\n\n    var runsIt = para.getIRuns().iterator();\n    while(runsIt.hasNext()) {\n\n        var irun = runsIt.next();   \n        if (irun instanceof XWPFSDT) {\n            var fsdt = (XWPFSDT) irun;\n            System.out.println(\"FSDT\"+fsdt.toString());\n        } else {\n            // it is xwpfrun\n            var run = (XWPFRun) irun;\n\n            if (irun instanceof XWPFHyperlinkRun) {\n                sb.append(extractHyperLink(run));\n            }else if(irun instanceof XWPFFieldRun) {\n                var fieldRun= (XWPFFieldRun)irun;\n\n                System.out.println(\"FieldRun:  Instruction&gt;\"+fieldRun.getFieldInstruction()+\"Text&gt;\"+fieldRun.getText(0));\n            }\n            else {\n                sb.append(run);\n            } \n</code></pre>\n\n<p>This works fine, but then I came across a document where the hyperlinks are not extracted. The XML extract from the relevant section is below:</p>\n\n<pre><code>&lt;w:p w:rsidP=\"005F1646\" w:rsidRDefault=\"00A20D69\" w:rsidR=\"005F1646\"&gt;\n    &lt;w:pPr&gt;\n    &lt;w:r&gt;\n        &lt;w:fldChar w:fldCharType=\"begin\"/&gt;\n    &lt;/w:r&gt;\n    &lt;w:r&gt;\n        &lt;w:instrText xml:space=\"preserve\"&gt; HYPERLINK \"https://stackoverflow.com\" &lt;/w:instrText&gt;\n    &lt;/w:r&gt;\n    &lt;w:r&gt;\n      &lt;w:fldChar w:fldCharType=\"separate\"/&gt;\n    &lt;/w:r&gt;\n    &lt;w:r w:rsidR=\"005F1646\" w:rsidRPr=\"00D4262C\"&gt;\n       &lt;w:rPr&gt;\n          &lt;w:rStyle w:val=\"Hyperlink\"/&gt;\n        &lt;/w:rPr&gt;\n        &lt;w:t&gt;Ask on StackOverFlow&lt;/w:t&gt;\n    &lt;/w:r&gt;\n    &lt;w:r&gt;\n       &lt;w:rPr&gt;\n         &lt;w:rStyle w:val=\"Hyperlink\"/&gt;\n       &lt;/w:rPr&gt;\n       &lt;w:fldChar w:fldCharType=\"end\"/&gt;\n     &lt;/w:r&gt;\n&lt;/w:p&gt;\n</code></pre>\n\n<p>Apache POI does not extract the runs in this paragraph as XWPFHyperlinkRun and my code fails to extract the hyperlink.\nHow can I use Apache POI to extract hyperlink information in this case?</p>\n"},{"tags":["java","sql","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1658178359,"post_id":73028288,"comment_id":128982777,"body_markdown":"The usual first step for problems like this is to turn on `show_sql` and examine the statements being generated.","body":"The usual first step for problems like this is to turn on <code>show_sql</code> and examine the statements being generated."},{"owner":{"account_id":2681065,"reputation":55,"user_id":2316454,"accept_rate":0,"display_name":"mstabosz"},"score":0,"creation_date":1658241878,"post_id":73028288,"comment_id":128999998,"body_markdown":"It&#39;s already set.  Doesn&#39;t work for some reason.  Our code base is a real mess.","body":"It&#39;s already set.  Doesn&#39;t work for some reason.  Our code base is a real mess."}],"answers":[{"tags":[],"owner":{"account_id":23083282,"reputation":156,"user_id":17195225,"display_name":"Ivar Harris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658181642,"creation_date":1658181642,"answer_id":73029066,"question_id":73028288,"body_markdown":"I think I see a typo in the original code.\r\nI see an upper case and lower spelling of FILE_TYPE_FILTER\r\n\r\nI would try changing the class to:\r\n\r\n    &lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;file_type_filter&quot;&gt;\r\n\r\nOr I would try changing the column in the database table to:\r\n\r\n    FILE_TYPE_FILTER\r\n\r\nI suggest this because you are getting results with:\r\n\r\n    select * from file_type_filter where extension = &#39;pdf&#39;;\r\n\r\nAnd you get a Null value with:\r\n\r\n    &lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\r\n\r\n","title":"Hibernate is not pulling correct values from database","body":"<p>I think I see a typo in the original code.\nI see an upper case and lower spelling of FILE_TYPE_FILTER</p>\n<p>I would try changing the class to:</p>\n<pre><code>&lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;file_type_filter&quot;&gt;\n</code></pre>\n<p>Or I would try changing the column in the database table to:</p>\n<pre><code>FILE_TYPE_FILTER\n</code></pre>\n<p>I suggest this because you are getting results with:</p>\n<pre><code>select * from file_type_filter where extension = 'pdf';\n</code></pre>\n<p>And you get a Null value with:</p>\n<pre><code>&lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2681065,"reputation":55,"user_id":2316454,"accept_rate":0,"display_name":"mstabosz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658181642,"creation_date":1658176344,"question_id":73028288,"body_markdown":"This one is a little hard to phrase.  The goal here is that you give the code a file extension, as a string, and it queries the database to see if that extension can be uploaded.  In case you&#39;re wondering why I don&#39;t just put this information in a Map, it&#39;s because I need the ability to change this without recompiling the program.\r\n\r\nI have this Hibernate mapping (old school XML based).\r\n\r\n    &lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\r\n        &lt;property name=&quot;extension&quot; column=&quot;extension&quot;/&gt;\r\n        &lt;property name=&quot;allowed&quot; column=&quot;allowed&quot;/&gt;\r\n    &lt;/class&gt;\r\n\r\nAnd the object:\r\n\r\n  \r\n\r\n      package com.everhood;\r\n        \r\n        import java.io.Serializable;\r\n        \r\n        public class FileTypeStatus implements Serializable {\r\n            private String extension;\r\n            private boolean allowed;\r\n        \r\n            public String getExtension() {\r\n                return extension;\r\n            }\r\n        \r\n            public void setExtension(String extension) {\r\n                this.extension = extension;\r\n            }\r\n        \r\n            public boolean isAllowed() {\r\n                return allowed;\r\n            }\r\n        \r\n            public void setAllowed(boolean allowed) {\r\n                this.allowed = allowed;\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                final StringBuilder sb = new StringBuilder(&quot;FileTypeStatus{&quot;);\r\n                sb.append(&quot;extension=&#39;&quot;).append(extension).append(&#39;\\&#39;&#39;);\r\n                sb.append(&quot;, allowed=&quot;).append(allowed);\r\n                sb.append(&#39;}&#39;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n\r\nAnd the code in the DAO class.\r\n\r\n\r\n        @Override\r\n        public FileTypeStatus getFileExtensionStatus(String fileExtension) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n            Criteria crit = session.createCriteria(FileTypeStatus.class);\r\n            crit.add(Restrictions.eq(&quot;extension&quot;,fileExtension));\r\n    \r\n            FileTypeStatus result = (FileTypeStatus) crit.uniqueResult();\r\n    \r\n            return result;\r\n          }\r\n\r\n\r\nIf you pass a valid file extension, such as &quot;pdf&quot;, you it should return a FileTypeStatus object with &quot;pdf&quot; for the extension and &quot;true&quot; for the allowed field.  What I get instead is null, which means it didn&#39;t find any result at all.  If I run this query:\r\n\r\n    select * from file_type_filter where extension = &#39;pdf&#39;;\r\n\r\nI get one row, like I should.\r\n\r\nMy Java code **is** passing the file extension as all lower case, so it&#39;s not a case sensitivity issue.\r\n\r\nI had thought that using crit.uniqueResult() might have caused a problem, but crit.list() returns an empty list.  I haven&#39;t tried a lot of things, so I can&#39;t pick out what could be causing this.","title":"Hibernate is not pulling correct values from database","body":"<p>This one is a little hard to phrase.  The goal here is that you give the code a file extension, as a string, and it queries the database to see if that extension can be uploaded.  In case you're wondering why I don't just put this information in a Map, it's because I need the ability to change this without recompiling the program.</p>\n<p>I have this Hibernate mapping (old school XML based).</p>\n<pre><code>&lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\n    &lt;property name=&quot;extension&quot; column=&quot;extension&quot;/&gt;\n    &lt;property name=&quot;allowed&quot; column=&quot;allowed&quot;/&gt;\n&lt;/class&gt;\n</code></pre>\n<p>And the object:</p>\n<pre><code>  package com.everhood;\n    \n    import java.io.Serializable;\n    \n    public class FileTypeStatus implements Serializable {\n        private String extension;\n        private boolean allowed;\n    \n        public String getExtension() {\n            return extension;\n        }\n    \n        public void setExtension(String extension) {\n            this.extension = extension;\n        }\n    \n        public boolean isAllowed() {\n            return allowed;\n        }\n    \n        public void setAllowed(boolean allowed) {\n            this.allowed = allowed;\n        }\n    \n        @Override\n        public String toString() {\n            final StringBuilder sb = new StringBuilder(&quot;FileTypeStatus{&quot;);\n            sb.append(&quot;extension='&quot;).append(extension).append('\\'');\n            sb.append(&quot;, allowed=&quot;).append(allowed);\n            sb.append('}');\n            return sb.toString();\n        }\n    }\n</code></pre>\n<p>And the code in the DAO class.</p>\n<pre><code>    @Override\n    public FileTypeStatus getFileExtensionStatus(String fileExtension) {\n        Session session = sessionFactory.getCurrentSession();\n        Criteria crit = session.createCriteria(FileTypeStatus.class);\n        crit.add(Restrictions.eq(&quot;extension&quot;,fileExtension));\n\n        FileTypeStatus result = (FileTypeStatus) crit.uniqueResult();\n\n        return result;\n      }\n</code></pre>\n<p>If you pass a valid file extension, such as &quot;pdf&quot;, you it should return a FileTypeStatus object with &quot;pdf&quot; for the extension and &quot;true&quot; for the allowed field.  What I get instead is null, which means it didn't find any result at all.  If I run this query:</p>\n<pre><code>select * from file_type_filter where extension = 'pdf';\n</code></pre>\n<p>I get one row, like I should.</p>\n<p>My Java code <strong>is</strong> passing the file extension as all lower case, so it's not a case sensitivity issue.</p>\n<p>I had thought that using crit.uniqueResult() might have caused a problem, but crit.list() returns an empty list.  I haven't tried a lot of things, so I can't pick out what could be causing this.</p>\n"},{"tags":["java","list","sorting","generics","comparator"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658166081,"post_id":73026380,"comment_id":128979012,"body_markdown":"`League ... implements LeagueComparator&lt;T&gt;` This is wrong. A league might be comparable to other leagues. That doesn&#39;t mean it *can compare leagues*. Comparable != Comparator.","body":"<code>League ... implements LeagueComparator&lt;T&gt;</code> This is wrong. A league might be comparable to other leagues. That doesn&#39;t mean it <i>can compare leagues</i>. Comparable != Comparator."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658166458,"creation_date":1658166458,"answer_id":73026514,"question_id":73026380,"body_markdown":"Simply returns the difference in ranking of o1 and o2.  \r\n\r\n```\r\nCollections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\r\n  @Override\r\n  public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\r\n    return o1.ranking() - o2.randking();\r\n  }\r\n});\r\n```","title":"How to sort a List of generic objects","body":"<p>Simply returns the difference in ranking of o1 and o2.</p>\n<pre><code>Collections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\n  @Override\n  public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\n    return o1.ranking() - o2.randking();\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658181320,"creation_date":1658173177,"answer_id":73027754,"question_id":73026380,"body_markdown":"&lt;h1&gt;Comparable&lt;/h1&gt;\r\n\r\n&gt; I tried with `Comparable` interface but it doesn&#39;t work\r\n\r\nIf there&#39;s **only one way** to compare *teams* that make sense from the perspective of your application - by their *ranking*, then `Team` objects have a *natural ordering* and hence class `Team` should implement `Comparable`.\r\n\r\nA quote from the [*documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html):\r\n\r\n&gt; This interface imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the class&#39;s ***natural ordering***, and the class&#39;s `compareTo` method is referred to as its *natural comparison method*.\r\n\r\nThat&#39;s how it might be done:\r\n\r\n    public static class Team&lt;T extends Player&gt; implements Comparable&lt;Team&lt;T&gt;&gt; {\r\n        public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\r\n            Comparator.comparingInt(Team::ranking);\r\n        \r\n        // fields, getters, etc.\r\n    \r\n        public int ranking() {\r\n            return (win * 2) + draw;\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Team&lt;T&gt; other) {\r\n            return BY_TEAM_RANKING.compare(this, other);\r\n        }\r\n    }\r\n\r\nFor the sake of conciseness, method `compareTo` in the code shown above internally uses `Comparator` defined as a `static` field (*similar approach you can find in the book &quot;Effective Java&quot; by Joshua Bloch, have a look at it for more information on implementing `Comparable` interface*).\r\n\r\nTo sort the *list of teams*, use method `sort()` directly on the list (which is a more fluent alternative of `Collection.sort()` introduced with Java 8).\r\n\r\n    public class League&lt;T extends Player&gt; {\r\n        \r\n        private String name;\r\n        private List&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\r\n        \r\n        public void ranking() {\r\n            teams.sort(null); // teams are comparable, hence no need to provide a comparator and null is passed as an argument\r\n        }\r\n    }\r\n\r\n&lt;h1&gt;Comparators&lt;/h1&gt;\r\n\r\nIn case if there are **multiple ways** how teams need to be sorted in different scenarios, then `Team` class should not implement `Comparable`, don&#39;t go with way.\r\n\r\nYou can define comparators for different use-cases as `public static` fields in the `Team` class, like below:\r\n\r\n    public static class Team&lt;T extends Player&gt; {\r\n        \r\n        public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\r\n            Comparator.comparingInt(Team::ranking);\r\n        \r\n        public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_NAME =\r\n            Comparator.comparing(Team::getName);\r\n        \r\n        // the rest code\r\n    }\r\n\r\nAnd then apply them depending on a particular case:\r\n\r\n    public void ranking() {\r\n        teams.sort(Team.BY_TEAM_RANKING);\r\n    }\r\n\r\n***Sidenote:*** write your code against interfaces, **not** implementations like `ArrayList`. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to sort a List of generic objects","body":"<h1>Comparable</h1>\n<blockquote>\n<p>I tried with <code>Comparable</code> interface but it doesn't work</p>\n</blockquote>\n<p>If there's <strong>only one way</strong> to compare <em>teams</em> that make sense from the perspective of your application - by their <em>ranking</em>, then <code>Team</code> objects have a <em>natural ordering</em> and hence class <code>Team</code> should implement <code>Comparable</code>.</p>\n<p>A quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><em>documentation</em></a>:</p>\n<blockquote>\n<p>This interface imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the class's <em><strong>natural ordering</strong></em>, and the class's <code>compareTo</code> method is referred to as its <em>natural comparison method</em>.</p>\n</blockquote>\n<p>That's how it might be done:</p>\n<pre><code>public static class Team&lt;T extends Player&gt; implements Comparable&lt;Team&lt;T&gt;&gt; {\n    public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\n        Comparator.comparingInt(Team::ranking);\n    \n    // fields, getters, etc.\n\n    public int ranking() {\n        return (win * 2) + draw;\n    }\n\n    @Override\n    public int compareTo(Team&lt;T&gt; other) {\n        return BY_TEAM_RANKING.compare(this, other);\n    }\n}\n</code></pre>\n<p>For the sake of conciseness, method <code>compareTo</code> in the code shown above internally uses <code>Comparator</code> defined as a <code>static</code> field (<em>similar approach you can find in the book &quot;Effective Java&quot; by Joshua Bloch, have a look at it for more information on implementing <code>Comparable</code> interface</em>).</p>\n<p>To sort the <em>list of teams</em>, use method <code>sort()</code> directly on the list (which is a more fluent alternative of <code>Collection.sort()</code> introduced with Java 8).</p>\n<pre><code>public class League&lt;T extends Player&gt; {\n    \n    private String name;\n    private List&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\n    \n    public void ranking() {\n        teams.sort(null); // teams are comparable, hence no need to provide a comparator and null is passed as an argument\n    }\n}\n</code></pre>\n<h1>Comparators</h1>\n<p>In case if there are <strong>multiple ways</strong> how teams need to be sorted in different scenarios, then <code>Team</code> class should not implement <code>Comparable</code>, don't go with way.</p>\n<p>You can define comparators for different use-cases as <code>public static</code> fields in the <code>Team</code> class, like below:</p>\n<pre><code>public static class Team&lt;T extends Player&gt; {\n    \n    public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\n        Comparator.comparingInt(Team::ranking);\n    \n    public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_NAME =\n        Comparator.comparing(Team::getName);\n    \n    // the rest code\n}\n</code></pre>\n<p>And then apply them depending on a particular case:</p>\n<pre><code>public void ranking() {\n    teams.sort(Team.BY_TEAM_RANKING);\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> write your code against interfaces, <strong>not</strong> implementations like <code>ArrayList</code>. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73027754,"answer_count":2,"score":0,"last_activity_date":1658181320,"creation_date":1658165750,"question_id":73026380,"body_markdown":"I&#39;m struggling with sorting an `ArrayList` of a generic objects.\r\n\r\nI&#39;ve tried to do it with `Comparable` interface, but it doesn&#39;t work, I&#39;ve also tried with sort method of collections, but I&#39;m still at the same point.\r\n\r\n```\r\npublic class League&lt;T extends Player&gt; implements LeagueComparator&lt;T&gt; {\r\n    private String name;\r\n\r\n    private ArrayList&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\r\n```\r\n```\r\n    public void ranking(){\r\n        for (Team&lt;T&gt; team : teams){\r\n            System.out.println(team.getName() + team.ranking());\r\n            int ranking = team.ranking();\r\n\r\n            Collections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\r\n                @Override\r\n                public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\r\n                    return \r\n```\r\nIn this method, I want to take a ranking integer from Team class and sort it, and then return the sorted values\r\n```\r\npublic class Team&lt;T extends Player&gt; {\r\n    private int size = 0;\r\n    private String name;\r\n    private int games;\r\n    private int win;\r\n    private int lose;\r\n    private int draw;\r\n\r\n    private ArrayList&lt;T&gt; members = new ArrayList&lt;&gt;();\r\n\r\n    public int ranking(){\r\n        return (win * 2) + draw;\r\n    }\r\n```\r\nThis is Team class\r\nEDIT\r\n\r\n``` for (Team&lt;T&gt; team : teams) {                                           \r\n    System.out.println(team.ranking() + &quot; &quot; + team.getName());         \r\n    Collections.sort(teams, Comparator.comparingInt(team::rankings));  \r\n    System.out.println(team.ranking() + &quot; &quot; + team.getName());        \r\n```\r\nNow it throws\r\n```\r\nException in thread &quot;main&quot;\r\njava.util.ConcurrentModificationException\r\n```","title":"How to sort a List of generic objects","body":"<p>I'm struggling with sorting an <code>ArrayList</code> of a generic objects.</p>\n<p>I've tried to do it with <code>Comparable</code> interface, but it doesn't work, I've also tried with sort method of collections, but I'm still at the same point.</p>\n<pre><code>public class League&lt;T extends Player&gt; implements LeagueComparator&lt;T&gt; {\n    private String name;\n\n    private ArrayList&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>    public void ranking(){\n        for (Team&lt;T&gt; team : teams){\n            System.out.println(team.getName() + team.ranking());\n            int ranking = team.ranking();\n\n            Collections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\n                @Override\n                public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\n                    return \n</code></pre>\n<p>In this method, I want to take a ranking integer from Team class and sort it, and then return the sorted values</p>\n<pre><code>public class Team&lt;T extends Player&gt; {\n    private int size = 0;\n    private String name;\n    private int games;\n    private int win;\n    private int lose;\n    private int draw;\n\n    private ArrayList&lt;T&gt; members = new ArrayList&lt;&gt;();\n\n    public int ranking(){\n        return (win * 2) + draw;\n    }\n</code></pre>\n<p>This is Team class\nEDIT</p>\n<pre><code>    System.out.println(team.ranking() + &quot; &quot; + team.getName());         \n    Collections.sort(teams, Comparator.comparingInt(team::rankings));  \n    System.out.println(team.ranking() + &quot; &quot; + team.getName());        \n</code></pre>\n<p>Now it throws</p>\n<pre><code>Exception in thread &quot;main&quot;\njava.util.ConcurrentModificationException\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1658159845,"post_id":73025149,"comment_id":128976751,"body_markdown":"What&#39;s the format of the timestamp?","body":"What&#39;s the format of the timestamp?"},{"owner":{"account_id":9642010,"reputation":13,"user_id":7155934,"display_name":"Moustafa"},"score":0,"creation_date":1658160424,"post_id":73025149,"comment_id":128976987,"body_markdown":"It wrote as seconds  elapsed","body":"It wrote as seconds  elapsed"},{"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1658160439,"post_id":73025149,"comment_id":128976993,"body_markdown":"Since when? ___","body":"Since when? ___"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1658160511,"post_id":73025149,"comment_id":128977028,"body_markdown":"@ikegami since the JVM was started","body":"@ikegami since the JVM was started"},{"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1658160558,"post_id":73025149,"comment_id":128977042,"body_markdown":"And is the date-time when the JVM was started available anywhere?","body":"And is the date-time when the JVM was started available anywhere?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658160445,"creation_date":1658160445,"answer_id":73025386,"question_id":73025149,"body_markdown":"Your JVM was started with the following option:\r\n\r\n    -xx:PrintGCTimeStamps\r\n\r\nwhich prefixes the elapsed time in seconds since the JVM was started, which for your examples was nearly 26 days ago.\r\n\r\nIf you want the date and time to be logged, use this option instead:\r\n\r\n    -XX:+PrintGCDateStamps\r\n\r\nOr do your own date arithmetic with the existing log timestamp.","title":"Convert GC log file timestamp to readable format","body":"<p>Your JVM was started with the following option:</p>\n<pre><code>-xx:PrintGCTimeStamps\n</code></pre>\n<p>which prefixes the elapsed time in seconds since the JVM was started, which for your examples was nearly 26 days ago.</p>\n<p>If you want the date and time to be logged, use this option instead:</p>\n<pre><code>-XX:+PrintGCDateStamps\n</code></pre>\n<p>Or do your own date arithmetic with the existing log timestamp.</p>\n"}],"owner":{"account_id":9642010,"reputation":13,"user_id":7155934,"display_name":"Moustafa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658180949,"answer_count":1,"score":0,"last_activity_date":1658180853,"creation_date":1658159413,"question_id":73025149,"body_markdown":"I want to convert below timestamp to readable datetime.\r\n\r\n```none\r\n2221206.786: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9171581 secs]\r\n2221208.719: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.8723947 secs]\r\n2221210.610: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9988764 secs]\r\n```\r\n\r\n\r\n\r\nHow do convert a number like `2221206.786` to a date and time?","title":"Convert GC log file timestamp to readable format","body":"<p>I want to convert below timestamp to readable datetime.</p>\n<pre class=\"lang-none prettyprint-override\"><code>2221206.786: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9171581 secs]\n2221208.719: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.8723947 secs]\n2221210.610: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9988764 secs]\n</code></pre>\n<p>How do convert a number like <code>2221206.786</code> to a date and time?</p>\n"},{"tags":["java","spring-boot","maven","visual-studio-code","pom.xml"],"comments":[{"owner":{"account_id":2001714,"reputation":337,"user_id":1792595,"accept_rate":78,"display_name":"crychair"},"score":1,"creation_date":1658162793,"post_id":73025508,"comment_id":128977867,"body_markdown":"Does the project build correctly when you run maven outside of VSCode?","body":"Does the project build correctly when you run maven outside of VSCode?"},{"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"score":0,"creation_date":1658163782,"post_id":73025508,"comment_id":128978220,"body_markdown":"No, not on IntelliJ at least.","body":"No, not on IntelliJ at least."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658166052,"post_id":73025508,"comment_id":128978995,"body_markdown":"Does it Build correctly from the command line?  What phase does it reach?","body":"Does it Build correctly from the command line?  What phase does it reach?"},{"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"score":0,"creation_date":1658166295,"post_id":73025508,"comment_id":128979088,"body_markdown":"I did the following command: mvn clean install (but this also applies to other commands that undergo the build phase). This is where it gets stuck: ```--------------------&lt; com.thinhda.spring.grpc:core &gt;--------------------\n[INFO] Building core 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n```","body":"I did the following command: mvn clean install (but this also applies to other commands that undergo the build phase). This is where it gets stuck: <code>--------------------&lt; com.thinhda.spring.grpc:core &gt;-------------------- [INFO] Building core 0.0.1-SNAPSHOT [INFO] --------------------------------[ jar ]--------------------------------- </code>"},{"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"score":0,"creation_date":1658166343,"post_id":73025508,"comment_id":128979106,"body_markdown":"It never finishes building.","body":"It never finishes building."}],"answers":[{"tags":[],"owner":{"account_id":11126166,"reputation":156,"user_id":8167597,"display_name":"ksparrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658180201,"creation_date":1658180201,"answer_id":73028889,"question_id":73025508,"body_markdown":"It appears that your dependency on `io.github.lognet:grpc-spring-boot-starter:4.4.5` is not compatible with Spring Boot 2.7.1.  According to the [`grpc-spring-boot-starter` release notes][1], the starter&#39;s version 4.8.0 supports Spring Boot 2.7.1 and gRPC 1.47.0.  You already have gRPC 1.47.0 in your POM so I think with this change you&#39;ll be good.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/LogNet/grpc-spring-boot-starter/blob/master/ReleaseNotes.md","title":"Maven Build Project never finishes on Visual Studio Code","body":"<p>It appears that your dependency on <code>io.github.lognet:grpc-spring-boot-starter:4.4.5</code> is not compatible with Spring Boot 2.7.1.  According to the <a href=\"https://github.com/LogNet/grpc-spring-boot-starter/blob/master/ReleaseNotes.md\" rel=\"nofollow noreferrer\"><code>grpc-spring-boot-starter</code> release notes</a>, the starter's version 4.8.0 supports Spring Boot 2.7.1 and gRPC 1.47.0.  You already have gRPC 1.47.0 in your POM so I think with this change you'll be good.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658180201,"creation_date":1658161020,"question_id":73025508,"body_markdown":"When I open a Spring Boot application, and it tries to Build the dependencies that I am using in the files, the process never completes. I have left it running for hours with absolutely no progress on the following message in the terminal:\r\n\r\n```\r\n9f5bcec9 Importing Maven project(s): Importing Maven project(s) - Refreshing &#39;/jdt.ls-java-project&#39;. [337/1000]\r\nc9f76cf2 Refreshing Maven model:  [0/-1]\r\nfc8986d3 Repository registry initialization [Done]\r\n```\r\n\r\nI have a feeling that this is a result of a mistake that I missed in my pom.xml file, considering it has something to do with my dependencies. I ask that someone looks through my pom.xml and finds the issues that might be causing them, and the ways to solve them. This is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.thinhda.spring.grpc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;core&lt;/name&gt;\r\n\t&lt;description&gt;Spring grpc and http&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.19.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.53&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.21.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;extensions&gt;\r\n\t\t\t&lt;extension&gt;\r\n\t\t\t\t&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t&lt;/extension&gt;\r\n\t\t&lt;/extensions&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; --&gt;\r\n\t\t\t\t&lt;!-- &lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;/plugin&gt; --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```","title":"Maven Build Project never finishes on Visual Studio Code","body":"<p>When I open a Spring Boot application, and it tries to Build the dependencies that I am using in the files, the process never completes. I have left it running for hours with absolutely no progress on the following message in the terminal:</p>\n<pre><code>9f5bcec9 Importing Maven project(s): Importing Maven project(s) - Refreshing '/jdt.ls-java-project'. [337/1000]\nc9f76cf2 Refreshing Maven model:  [0/-1]\nfc8986d3 Repository registry initialization [Done]\n</code></pre>\n<p>I have a feeling that this is a result of a mistake that I missed in my pom.xml file, considering it has something to do with my dependencies. I ask that someone looks through my pom.xml and finds the issues that might be causing them, and the ways to solve them. This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.thinhda.spring.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;core&lt;/name&gt;\n    &lt;description&gt;Spring grpc and http&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.19.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n            &lt;version&gt;1.47.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.47.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.53&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.21.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.47.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n                &lt;!-- &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; --&gt;\n                &lt;!-- &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt; --&gt;\n            &lt;!-- &lt;/plugin&gt; --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","inputstream","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658178909,"creation_date":1658178909,"answer_id":73028721,"question_id":73027058,"body_markdown":"Check the documentation of [getResourceAsStream()][1]:\r\n*Returns:\r\n    A InputStream object; null if no resource with this name is found, the resource is in a package that is not open to at least the caller module, or access to the resource is denied by the security manager.*\r\n\r\nSo now you have three reasons why the inputstream you are trying to read from is null. The most likely reason is that the resource is not found where you are expecting it (the name you specified).\r\nThis has been discussed in length in https://stackoverflow.com/questions/16570523/getresourceasstream-returns-null\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)","title":"Java getClass().getClassLoader().getResourceAsStream() ALWAYS shows file as null when running as .jar","body":"<p>Check the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">getResourceAsStream()</a>:\n<em>Returns:\nA InputStream object; null if no resource with this name is found, the resource is in a package that is not open to at least the caller module, or access to the resource is denied by the security manager.</em></p>\n<p>So now you have three reasons why the inputstream you are trying to read from is null. The most likely reason is that the resource is not found where you are expecting it (the name you specified).\nThis has been discussed in length in <a href=\"https://stackoverflow.com/questions/16570523/getresourceasstream-returns-null\">getResourceAsStream returns null</a></p>\n"}],"owner":{"account_id":25508479,"reputation":11,"user_id":19300562,"display_name":"FishSayHelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658191359,"answer_count":1,"score":1,"last_activity_date":1658178909,"creation_date":1658169342,"question_id":73027058,"body_markdown":"\r\n\r\nI am using IntelliJ to build a .jar of my project, but whenever i call any of the following:\r\n\r\n    getClass().getClassLoader().getResourceAsStream();\r\n    getClass().getClassLoader().getResource();\r\n    getClass().getResource();\r\n    getClass().getResourceAsStream();\r\n\r\n\r\nI ALWAYS get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n        at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\r\n        at Objects.Collsion.TexturedBarrier.setTexture(TexturedBarrier.java:34)\r\n        at Objects.Collsion.TexturedBarrier.&lt;init&gt;(TexturedBarrier.java:20)\r\n        at Levels.Menu.MainMenu.load(MainMenu.java:21)\r\n        at Levels.Level.loadLevel(Level.java:36)\r\n        at Main.GamePanel.nextLevel(GamePanel.java:127)\r\n        at Main.GamePanel.setStage(GamePanel.java:108)\r\n        at Main.GamePanel.&lt;init&gt;(GamePanel.java:28)\r\n        at Main.Game.main(Game.java:23)\r\n\r\n\r\nThe class causing the error is:\r\n\r\n    public class TexturedBarrier {\r\n\r\n        protected BufferedImage currentTexture;\r\n\r\n        public TexturedBarrier(String texture) {\r\n        \r\n            setTexture(texture);\r\n        }\r\n\r\n        public void setTexture(String texture) {\r\n\r\n            InputStream stream = this.getClass().getClassLoader().getResourceAsStream(texture);\r\n\r\n            try {\r\n                currentTexture = ImageIO.read(stream);\r\n            }catch (IOException e) {e.printStackTrace();}\r\n        }\r\n\r\n    }\r\n\r\n\r\nAnd the code calling it is:\r\n\r\n    new TexturedBarrier(&quot;Play!_Background_green.jpg&quot;);\r\n\r\nThe resource folder is set as a resource root in IntelliJ, and the resource folder is as follows:\r\n[res folder][1]\r\n\r\n\r\nand after using 7zip to inspect the jar, the file is definately in the jar:\r\n[inside jar][2] \r\n\r\nAny ideas? i know this is an issue with alot of similar questions, but none of the solution posed have helped me.\r\n\r\n  [1]: https://i.stack.imgur.com/vdk1e.png\r\n  [2]: https://i.stack.imgur.com/LpHp0.png","title":"Java getClass().getClassLoader().getResourceAsStream() ALWAYS shows file as null when running as .jar","body":"<p>I am using IntelliJ to build a .jar of my project, but whenever i call any of the following:</p>\n<pre><code>getClass().getClassLoader().getResourceAsStream();\ngetClass().getClassLoader().getResource();\ngetClass().getResource();\ngetClass().getResourceAsStream();\n</code></pre>\n<p>I ALWAYS get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\n    at Objects.Collsion.TexturedBarrier.setTexture(TexturedBarrier.java:34)\n    at Objects.Collsion.TexturedBarrier.&lt;init&gt;(TexturedBarrier.java:20)\n    at Levels.Menu.MainMenu.load(MainMenu.java:21)\n    at Levels.Level.loadLevel(Level.java:36)\n    at Main.GamePanel.nextLevel(GamePanel.java:127)\n    at Main.GamePanel.setStage(GamePanel.java:108)\n    at Main.GamePanel.&lt;init&gt;(GamePanel.java:28)\n    at Main.Game.main(Game.java:23)\n</code></pre>\n<p>The class causing the error is:</p>\n<pre><code>public class TexturedBarrier {\n\n    protected BufferedImage currentTexture;\n\n    public TexturedBarrier(String texture) {\n    \n        setTexture(texture);\n    }\n\n    public void setTexture(String texture) {\n\n        InputStream stream = this.getClass().getClassLoader().getResourceAsStream(texture);\n\n        try {\n            currentTexture = ImageIO.read(stream);\n        }catch (IOException e) {e.printStackTrace();}\n    }\n\n}\n</code></pre>\n<p>And the code calling it is:</p>\n<pre><code>new TexturedBarrier(&quot;Play!_Background_green.jpg&quot;);\n</code></pre>\n<p>The resource folder is set as a resource root in IntelliJ, and the resource folder is as follows:\n<a href=\"https://i.stack.imgur.com/vdk1e.png\" rel=\"nofollow noreferrer\">res folder</a></p>\n<p>and after using 7zip to inspect the jar, the file is definately in the jar:\n<a href=\"https://i.stack.imgur.com/LpHp0.png\" rel=\"nofollow noreferrer\">inside jar</a></p>\n<p>Any ideas? i know this is an issue with alot of similar questions, but none of the solution posed have helped me.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657860270,"creation_date":1657860270,"answer_id":72989137,"question_id":72980662,"body_markdown":"I am summarizing how does the wakeup exception works.\r\n\r\n-  If you are deciding to exit the poll loop, you will need another thread to call consumer.wakeup(). \r\n- If you are running the consumer loop in the main thread, this can be done from ShutdownHook. \r\n\r\nNote that **consumer.wakeup()** is the only consumer method that is safe to call from a different thread. Calling wakeup will cause poll() to exit with WakeupException, or if consumer.wakeup() was called while the thread was not waiting on poll, the exception will be thrown on the next iteration when poll() is called. \r\n\r\nThe WakeupException doesn’t need to be handled, but before exiting the thread, you must call **consumer.close()**. \r\n\r\nClosing the consumer will commit off‐ sets if needed and will send the group coordinator a message that the consumer is leaving the group. \r\nThe consumer coordinator will trigger rebalancing immediately\r\n\r\nFull example is here https://github.com/gwenshap/kafka-examples/blob/master/SimpleMovingAvg/src/main/java/com/shapira/examples/newconsumer/simplemovingavg/SimpleMovingAvgNewConsumer.java\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread() {\r\n     public void run() {\r\n     System.out.println(&quot;Starting exit...&quot;);\r\n     consumer.wakeup(); \r\n     try {\r\n     mainThread.join();\r\n     } catch (InterruptedException e) {\r\n     e.printStackTrace();\r\n     }\r\n     }\r\n     });\r\n    ...\r\n    \r\n    try {\r\n     // looping until ctrl-c, the shutdown hook will\r\n     cleanup on exit\r\n     while (true) {\r\n     ConsumerRecords&lt;String, String&gt; records =\r\n     movingAvg.consumer.poll(1000);\r\n     System.out.println(System.currentTimeMillis() + &quot;\r\n     -- waiting for data...&quot;);\r\n     for (ConsumerRecord&lt;String, String&gt; record :\r\n     records) {\r\n     System.out.printf(&quot;offset = %d, key = %s,\r\n     value = %s\\n&quot;,\r\n     record.offset(), record.key(),\r\n     record.value());\r\n     }\r\n     for (TopicPartition tp: consumer.assignment())\r\n     System.out.println(&quot;Committing offset at\r\n     position:&quot; +\r\n     consumer.position(tp));\r\n     movingAvg.consumer.commitSync();\r\n     }\r\n     } catch (WakeupException e) {\r\n     // ignore for shutdown \r\n     } finally {\r\n     consumer.close(); \r\n     System.out.println(&quot;Closed consumer and we are done&quot;);\r\n     }\r\n     }\r\n\r\n","title":"Kafka Consumer WakeupException Handling","body":"<p>I am summarizing how does the wakeup exception works.</p>\n<ul>\n<li>If you are deciding to exit the poll loop, you will need another thread to call consumer.wakeup().</li>\n<li>If you are running the consumer loop in the main thread, this can be done from ShutdownHook.</li>\n</ul>\n<p>Note that <strong>consumer.wakeup()</strong> is the only consumer method that is safe to call from a different thread. Calling wakeup will cause poll() to exit with WakeupException, or if consumer.wakeup() was called while the thread was not waiting on poll, the exception will be thrown on the next iteration when poll() is called.</p>\n<p>The WakeupException doesn’t need to be handled, but before exiting the thread, you must call <strong>consumer.close()</strong>.</p>\n<p>Closing the consumer will commit off‐ sets if needed and will send the group coordinator a message that the consumer is leaving the group.\nThe consumer coordinator will trigger rebalancing immediately</p>\n<p>Full example is here <a href=\"https://github.com/gwenshap/kafka-examples/blob/master/SimpleMovingAvg/src/main/java/com/shapira/examples/newconsumer/simplemovingavg/SimpleMovingAvgNewConsumer.java\" rel=\"nofollow noreferrer\">https://github.com/gwenshap/kafka-examples/blob/master/SimpleMovingAvg/src/main/java/com/shapira/examples/newconsumer/simplemovingavg/SimpleMovingAvgNewConsumer.java</a></p>\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread() {\n public void run() {\n System.out.println(&quot;Starting exit...&quot;);\n consumer.wakeup(); \n try {\n mainThread.join();\n } catch (InterruptedException e) {\n e.printStackTrace();\n }\n }\n });\n...\n\ntry {\n // looping until ctrl-c, the shutdown hook will\n cleanup on exit\n while (true) {\n ConsumerRecords&lt;String, String&gt; records =\n movingAvg.consumer.poll(1000);\n System.out.println(System.currentTimeMillis() + &quot;\n -- waiting for data...&quot;);\n for (ConsumerRecord&lt;String, String&gt; record :\n records) {\n System.out.printf(&quot;offset = %d, key = %s,\n value = %s\\n&quot;,\n record.offset(), record.key(),\n record.value());\n }\n for (TopicPartition tp: consumer.assignment())\n System.out.println(&quot;Committing offset at\n position:&quot; +\n consumer.position(tp));\n movingAvg.consumer.commitSync();\n }\n } catch (WakeupException e) {\n // ignore for shutdown \n } finally {\n consumer.close(); \n System.out.println(&quot;Closed consumer and we are done&quot;);\n }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657913728,"creation_date":1657913728,"answer_id":72998870,"question_id":72980662,"body_markdown":"Wakeup event may be also caused by `consumer.wakeup()` that can be e.g. called by some other thread.\r\n\r\nIn that case, your code is going to throw this exception (instead of ignoring it if it was an ordinary shutdown). The exception could be then captured by the runner (e.g. ExecutionService), and then the userspace could do something with this information (effectively &quot;consumer was woken up by 3rd party&quot;).","title":"Kafka Consumer WakeupException Handling","body":"<p>Wakeup event may be also caused by <code>consumer.wakeup()</code> that can be e.g. called by some other thread.</p>\n<p>In that case, your code is going to throw this exception (instead of ignoring it if it was an ordinary shutdown). The exception could be then captured by the runner (e.g. ExecutionService), and then the userspace could do something with this information (effectively &quot;consumer was woken up by 3rd party&quot;).</p>\n"}],"owner":{"account_id":1854605,"reputation":1095,"user_id":1680473,"accept_rate":82,"display_name":"Maclean Pinto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72998870,"answer_count":2,"score":2,"last_activity_date":1658178668,"creation_date":1657802364,"question_id":72980662,"body_markdown":"I am trying to handle shutdown events in Kafka Consumers.\r\nAPI docs : https://kafka.apache.org/21/javadoc/index.html?org/apache/kafka/common/errors/WakeupException.html\r\n\r\n \r\n\r\n    public class KafkaConsumerRunner implements Runnable {\r\n         private final AtomicBoolean closed = new AtomicBoolean(false);\r\n         private final KafkaConsumer consumer;\r\n    \r\n         public void run() {\r\n             try {\r\n                 consumer.subscribe(Arrays.asList(&quot;topic&quot;));\r\n                 while (!closed.get()) {\r\n                     ConsumerRecords records = consumer.poll(Duration.ofMillis(10000));\r\n                     // Handle new records\r\n                 }\r\n             } catch (WakeupException e) {\r\n                 // Ignore exception if closing\r\n                 if (!closed.get()) throw e;\r\n             } finally {\r\n                 consumer.close();\r\n             }\r\n         }\r\n    \r\n         // Shutdown hook which can be called from a separate thread\r\n         public void shutdown() {\r\n             closed.set(true);\r\n             consumer.wakeup();\r\n         }\r\n     }\r\n\r\nHere why does the document expect us the handle if the boolean is false?  ```if (!closed.get()) throw e;``` If an external thread calls shutdown closed will be set to true always. Is there any use-case I am missing?","title":"Kafka Consumer WakeupException Handling","body":"<p>I am trying to handle shutdown events in Kafka Consumers.\nAPI docs : <a href=\"https://kafka.apache.org/21/javadoc/index.html?org/apache/kafka/common/errors/WakeupException.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/21/javadoc/index.html?org/apache/kafka/common/errors/WakeupException.html</a></p>\n<pre><code>public class KafkaConsumerRunner implements Runnable {\n     private final AtomicBoolean closed = new AtomicBoolean(false);\n     private final KafkaConsumer consumer;\n\n     public void run() {\n         try {\n             consumer.subscribe(Arrays.asList(&quot;topic&quot;));\n             while (!closed.get()) {\n                 ConsumerRecords records = consumer.poll(Duration.ofMillis(10000));\n                 // Handle new records\n             }\n         } catch (WakeupException e) {\n             // Ignore exception if closing\n             if (!closed.get()) throw e;\n         } finally {\n             consumer.close();\n         }\n     }\n\n     // Shutdown hook which can be called from a separate thread\n     public void shutdown() {\n         closed.set(true);\n         consumer.wakeup();\n     }\n }\n</code></pre>\n<p>Here why does the document expect us the handle if the boolean is false?  <code>if (!closed.get()) throw e;</code> If an external thread calls shutdown closed will be set to true always. Is there any use-case I am missing?</p>\n"},{"tags":["java","steam","steam-web-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1450730747,"post_id":34402899,"comment_id":56549771,"body_markdown":"That seems like a question [for the developer](https://github.com/lpradel/steam-web-api-java)","body":"That seems like a question <a href=\"https://github.com/lpradel/steam-web-api-java\" rel=\"nofollow noreferrer\">for the developer</a>"},{"owner":{"account_id":7349937,"reputation":31,"user_id":5596491,"accept_rate":29,"display_name":"ullQuiorra"},"score":0,"creation_date":1450731048,"post_id":34402899,"comment_id":56549945,"body_markdown":"I don&#39;t think so. I use exactly the same examples from doc: https://developer.valvesoftware.com/wiki/Steam_Web_API\n\nI try to use these links from doc, link for OwnedGames works but I can see only 2 attributes BUT here is other problem, using correct game ID I have empty JSON. For example using id=10 for CounterStrike I receive empty JSON. Using GetGameSchema with the same ID exactly the same.... It&#39;s problem in valve or what? Sorry but I don&#39;t understand....","body":"I don&#39;t think so. I use exactly the same examples from doc: <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API\" rel=\"nofollow noreferrer\">developer.valvesoftware.com/wiki/Steam_Web_API</a>  I try to use these links from doc, link for OwnedGames works but I can see only 2 attributes BUT here is other problem, using correct game ID I have empty JSON. For example using id=10 for CounterStrike I receive empty JSON. Using GetGameSchema with the same ID exactly the same.... It&#39;s problem in valve or what? Sorry but I don&#39;t understand...."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1450731255,"post_id":34402899,"comment_id":56550063,"body_markdown":"I&#39;m saying you could create an issue on Github explaining the problem  as you&#39;ve done here because it is that guy&#39;s code, and he may know exactly what your problem is. Maybe your key is wrong? Maybe your account is private and the information can&#39;t be read? No one can really know for sure except maybe the person that actually wrote the code.","body":"I&#39;m saying you could create an issue on Github explaining the problem  as you&#39;ve done here because it is that guy&#39;s code, and he may know exactly what your problem is. Maybe your key is wrong? Maybe your account is private and the information can&#39;t be read? No one can really know for sure except maybe the person that actually wrote the code."},{"owner":{"account_id":7349937,"reputation":31,"user_id":5596491,"accept_rate":29,"display_name":"ullQuiorra"},"score":0,"creation_date":1450731513,"post_id":34402899,"comment_id":56550195,"body_markdown":"Okay I&#39;ll try. It is not a problem with key or profile - my key is correct and profile is public - I&#39;ll try it in links from doc. But it is not only one problem. ID&#39;s from OwnedGame doesn&#39;t works for example I tried to use a few example ID&#39;s in SchemaGame using link from doc, and these ID&#39;s are wrong....","body":"Okay I&#39;ll try. It is not a problem with key or profile - my key is correct and profile is public - I&#39;ll try it in links from doc. But it is not only one problem. ID&#39;s from OwnedGame doesn&#39;t works for example I tried to use a few example ID&#39;s in SchemaGame using link from doc, and these ID&#39;s are wrong...."}],"answers":[{"tags":[],"owner":{"account_id":1052063,"reputation":33,"user_id":1055743,"display_name":"lpradel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658177894,"creation_date":1658177894,"answer_id":73028555,"question_id":34402899,"body_markdown":"# Short Answer #\r\nMake sure to set the designated request option `include_appinfo` in your request with the builder method `includeAppInfo` like so:\r\n\r\n````\r\nGetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( &quot;76561198033046525&quot; ).includeAppInfo(true).buildRequest();\r\n````\r\n\r\nThis will yield the desired result:\r\n\r\n&gt; 2100: Dark Messiah of Might &amp; Magic Single Player ........\r\n\r\nFor further information please refer to the [Steam API documentation](https://developer.valvesoftware.com/wiki/Steam_Web_API#Arguments_7) for `GetOwnedGames` request.\r\n\r\n# Long Answer #\r\nI&#39;m the maintainer of the library in question and randomly stumbled on this question only now. Obviously I&#39;m rather late to answer it, sorry about that. But, as they say better late then never. Plus, others who stumble on this question may find the solution helpful.\r\n\r\nFor all Steam API requests it&#39;s worth taking a look at the [API docs](https://developer.valvesoftware.com/wiki/Steam_Web_API).\r\n\r\nIn this case there&#39;s an additional required parameter `include_appinfo` which can be set with a builder method on the request builder class. I&#39;ve tried to include all optional parameters in my request builders but keep the default request as simple as possible. I can only speculate but I assume that `include_appinfo` would be disabled by default to reduce load on the Steam servers as it obviously requires a lot more data for each `GetOwnedGames` request.\r\n\r\nOf course, the same can be achieved by leaving the option as `false` and instead following up with `GetGameSchema` requests for only the games you are interested in providing their appids. This will lead to multiple requests from the client but ultimately it&#39;s likely less load on the Steam servers, especially if the Steam user in question has a lot of games in their library.","title":"Steam Web Api - Null value in name of games","body":"<h1>Short Answer</h1>\n<p>Make sure to set the designated request option <code>include_appinfo</code> in your request with the builder method <code>includeAppInfo</code> like so:</p>\n<pre><code>GetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( &quot;76561198033046525&quot; ).includeAppInfo(true).buildRequest();\n</code></pre>\n<p>This will yield the desired result:</p>\n<blockquote>\n<p>2100: Dark Messiah of Might &amp; Magic Single Player ........</p>\n</blockquote>\n<p>For further information please refer to the <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API#Arguments_7\" rel=\"nofollow noreferrer\">Steam API documentation</a> for <code>GetOwnedGames</code> request.</p>\n<h1>Long Answer</h1>\n<p>I'm the maintainer of the library in question and randomly stumbled on this question only now. Obviously I'm rather late to answer it, sorry about that. But, as they say better late then never. Plus, others who stumble on this question may find the solution helpful.</p>\n<p>For all Steam API requests it's worth taking a look at the <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API\" rel=\"nofollow noreferrer\">API docs</a>.</p>\n<p>In this case there's an additional required parameter <code>include_appinfo</code> which can be set with a builder method on the request builder class. I've tried to include all optional parameters in my request builders but keep the default request as simple as possible. I can only speculate but I assume that <code>include_appinfo</code> would be disabled by default to reduce load on the Steam servers as it obviously requires a lot more data for each <code>GetOwnedGames</code> request.</p>\n<p>Of course, the same can be achieved by leaving the option as <code>false</code> and instead following up with <code>GetGameSchema</code> requests for only the games you are interested in providing their appids. This will lead to multiple requests from the client but ultimately it's likely less load on the Steam servers, especially if the Steam user in question has a lot of games in their library.</p>\n"}],"owner":{"account_id":7349937,"reputation":31,"user_id":5596491,"accept_rate":29,"display_name":"ullQuiorra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658177894,"creation_date":1450725872,"question_id":34402899,"body_markdown":"I try to use Steam-Web-Api first time and I&#39;ve got some problem.\r\n\r\nI want to get full list of games - in this case of my profile - I receive list with apiIds etc but each of game has null value in Name field.\r\n\r\nHere is simple code:\r\n\r\n\r\n    public class SteamWebApiDemo {\r\n        private static final String key = &quot;MY_KEY&quot;;\r\n\r\n        public static void main( String[] args ) throws SteamApiException {\r\n            SteamWebApiClient client = new SteamWebApiClient.SteamWebApiClientBuilder( key ).build();\r\n            GetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( &quot;76561198033046525&quot; ).buildRequest();\r\n            GetOwnedGames g = client.&lt;GetOwnedGames&gt; processRequest(req);\r\n\r\n            for( com.lukaspradel.steamapi.data.json.ownedgames.Game game : g.getResponse().getGames() ) {\r\n            \tSystem.out.println(\r\n            \t\t\tgame.getAppid() + &quot;: &quot; + game.getName()\r\n            \t);\r\n            }\r\n        }\r\n    }\r\n\r\nIn loop I try to extract appId and name, but each of game has null value and I just don&#39;t understand Why?\r\n\r\nShort example:\r\n&gt; 10: null\r\n20: null\r\n30: null\r\n40: null\r\n50: null\r\n60: null\r\n70: null","title":"Steam Web Api - Null value in name of games","body":"<p>I try to use Steam-Web-Api first time and I've got some problem.</p>\n\n<p>I want to get full list of games - in this case of my profile - I receive list with apiIds etc but each of game has null value in Name field.</p>\n\n<p>Here is simple code:</p>\n\n<pre><code>public class SteamWebApiDemo {\n    private static final String key = \"MY_KEY\";\n\n    public static void main( String[] args ) throws SteamApiException {\n        SteamWebApiClient client = new SteamWebApiClient.SteamWebApiClientBuilder( key ).build();\n        GetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( \"76561198033046525\" ).buildRequest();\n        GetOwnedGames g = client.&lt;GetOwnedGames&gt; processRequest(req);\n\n        for( com.lukaspradel.steamapi.data.json.ownedgames.Game game : g.getResponse().getGames() ) {\n            System.out.println(\n                    game.getAppid() + \": \" + game.getName()\n            );\n        }\n    }\n}\n</code></pre>\n\n<p>In loop I try to extract appId and name, but each of game has null value and I just don't understand Why?</p>\n\n<p>Short example:</p>\n\n<blockquote>\n  <p>10: null\n  20: null\n  30: null\n  40: null\n  50: null\n  60: null\n  70: null</p>\n</blockquote>\n"},{"tags":["java","synchronization","runtime"],"answers":[{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1270114846,"creation_date":1270114846,"answer_id":2559444,"question_id":2559430,"body_markdown":"use [Process.waitFor()][1]:\r\n\r\n    Process p = Runtime.getRuntime().exec(args);\r\n    int status = p.waitFor();\r\n\r\nFrom JavaDoc:\r\n\r\n&gt; causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Process.html#waitFor()","title":"How do I wait for a process started by Runtime.exec() to finish?","body":"<p>use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Process.html#waitFor()\" rel=\"noreferrer\">Process.waitFor()</a>:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(args);\nint status = p.waitFor();\n</code></pre>\n\n<p>From JavaDoc:</p>\n\n<blockquote>\n  <p>causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1270114936,"creation_date":1270114936,"answer_id":2559447,"question_id":2559430,"body_markdown":"Here is a sample code:\r\n\r\n    Process proc = Runtime.getRuntime().exec(ANonJava.exe@);\r\n    InputStream in = proc.getInputStream();\r\n    byte buff[] = new byte[1024];\r\n    int cbRead;\r\n    \r\n    try {\r\n        while ((cbRead = in.read(buff)) != -1) {\r\n            // Use the output of the process...\r\n        }\r\n    } catch (IOException e) {\r\n        // Insert code to handle exceptions that occur\r\n        // when reading the process output\r\n    }\r\n    \r\n    // No more output was available from the process, so...\r\n    \r\n    // Ensure that the process completes\r\n    try {\r\n        proc.waitFor();\r\n    } catch (InterruptedException) {\r\n        // Handle exception that could occur when waiting\r\n        // for a spawned process to terminate\r\n    }\r\n    \r\n    // Then examine the process exit code\r\n    if (proc.exitValue() == 1) {\r\n        // Use the exit value...\r\n    }\r\n\r\nYou can find more on this site: http://docs.rinet.ru/JWP/ch14.htm","title":"How do I wait for a process started by Runtime.exec() to finish?","body":"<p>Here is a sample code:</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(ANonJava.exe@);\nInputStream in = proc.getInputStream();\nbyte buff[] = new byte[1024];\nint cbRead;\n\ntry {\n    while ((cbRead = in.read(buff)) != -1) {\n        // Use the output of the process...\n    }\n} catch (IOException e) {\n    // Insert code to handle exceptions that occur\n    // when reading the process output\n}\n\n// No more output was available from the process, so...\n\n// Ensure that the process completes\ntry {\n    proc.waitFor();\n} catch (InterruptedException) {\n    // Handle exception that could occur when waiting\n    // for a spawned process to terminate\n}\n\n// Then examine the process exit code\nif (proc.exitValue() == 1) {\n    // Use the exit value...\n}\n</code></pre>\n\n<p>You can find more on this site: <a href=\"http://docs.rinet.ru/JWP/ch14.htm\" rel=\"nofollow noreferrer\">http://docs.rinet.ru/JWP/ch14.htm</a></p>\n"}],"owner":{"account_id":81083,"reputation":643,"user_id":228873,"accept_rate":30,"display_name":"Milan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5344,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2559447,"answer_count":2,"score":5,"last_activity_date":1658177711,"creation_date":1270114677,"question_id":2559430,"body_markdown":"I have the next code:\r\n\r\n    Process p = Runtime.getRuntime().exec(args);\r\n\r\nand I want my program to wait for the Runtime.getRuntime().exec(args); to finish cause it last 2-3sec and then to continue.\r\n\r\nIdeas?","title":"How do I wait for a process started by Runtime.exec() to finish?","body":"<p>I have the next code:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(args);\n</code></pre>\n\n<p>and I want my program to wait for the Runtime.getRuntime().exec(args); to finish cause it last 2-3sec and then to continue.</p>\n\n<p>Ideas?</p>\n"},{"tags":["python","java","zlib","jzlib"],"comments":[{"owner":{"account_id":3246854,"reputation":3594,"user_id":2738151,"display_name":"Hern&#225;n Alarc&#243;n"},"score":0,"creation_date":1658101116,"post_id":73016009,"comment_id":128960461,"body_markdown":"The `zip.txt` file seems to contain base64 data as you mention. If you decode it and save it as a ZIP file, can you open it with your operating system ZIP file manager?","body":"The <code>zip.txt</code> file seems to contain base64 data as you mention. If you decode it and save it as a ZIP file, can you open it with your operating system ZIP file manager?"},{"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"score":0,"creation_date":1658101314,"post_id":73016009,"comment_id":128960484,"body_markdown":"The txt in the file is string. you can see the string when upload to link https://codebeautify.org/zlib-decompress-online","body":"The txt in the file is string. you can see the string when upload to link <a href=\"https://codebeautify.org/zlib-decompress-online\" rel=\"nofollow noreferrer\">codebeautify.org/zlib-decompress-online</a>"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658101260,"creation_date":1658101260,"answer_id":73016087,"question_id":73016009,"body_markdown":"That is a gzip stream, not a zlib stream. Use `GZIPInputStream`.","title":"Zlib is unable to extract a compress String in java, compression is done in python","body":"<p>That is a gzip stream, not a zlib stream. Use <code>GZIPInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658177418,"creation_date":1658177418,"answer_id":73028485,"question_id":73016009,"body_markdown":"I was looking in to wrong direction, the string was gzipped, below is the code to resolve it. Thank you **@Mark Adler** for identifying the issue. \r\n\r\n    public static void deCompressGZipFile(String gZippedFile, String newFile) throws IOException {\r\n\t\tbyte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(gZippedFile)));\r\n\t    ByteArrayInputStream in = new ByteArrayInputStream(decoded);\r\n\t\tGZIPInputStream gZIPInputStream = new GZIPInputStream(in);\r\n\t\tFileOutputStream fos = new FileOutputStream(newFile);\r\n\t\tbyte[] buffer = new byte[1024];\r\n\t\tint len;\r\n\t\twhile ((len = gZIPInputStream.read(buffer)) &gt; 0) {\r\n\t\t\tfos.write(buffer, 0, len);\r\n\t\t}\r\n\t\t// Keep it in finally\r\n\t\tfos.close();\r\n\t\tgZIPInputStream.close();\r\n\t}","title":"Zlib is unable to extract a compress String in java, compression is done in python","body":"<p>I was looking in to wrong direction, the string was gzipped, below is the code to resolve it. Thank you <strong>@Mark Adler</strong> for identifying the issue.</p>\n<pre><code>public static void deCompressGZipFile(String gZippedFile, String newFile) throws IOException {\n    byte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(gZippedFile)));\n    ByteArrayInputStream in = new ByteArrayInputStream(decoded);\n    GZIPInputStream gZIPInputStream = new GZIPInputStream(in);\n    FileOutputStream fos = new FileOutputStream(newFile);\n    byte[] buffer = new byte[1024];\n    int len;\n    while ((len = gZIPInputStream.read(buffer)) &gt; 0) {\n        fos.write(buffer, 0, len);\n    }\n    // Keep it in finally\n    fos.close();\n    gZIPInputStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73016087,"answer_count":2,"score":0,"last_activity_date":1658177418,"creation_date":1658099942,"question_id":73016009,"body_markdown":"Im trying to decompress a string in java, the string is compress in python with base64 encoding. \r\n\r\nI tried a day to resolve the issue, The file can decode easily online and also in python.\r\nFind similar post that people have trouble compressing and decompressing in java and python.\r\n\r\n[zip.txt][1]\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.Base64;\r\n    import java.util.zip.DataFormatException;\r\n    import java.util.zip.Deflater;\r\n    import java.util.zip.Inflater;\r\n    \r\n    public class CompressionUtils {\r\n    private static final int BUFFER_SIZE = 1024;\r\n\r\n    public static byte[] decompress(final byte[] data) {\r\n        final Inflater inflater = new Inflater();\r\n        inflater.setInput(data);\r\n        ByteArrayOutputStream outputStream =\r\n                new ByteArrayOutputStream(data.length);\r\n        byte[] buffer = new byte[data.length];\r\n        try {\r\n            while (!inflater.finished()) {\r\n                final int count = inflater.inflate(buffer);\r\n                outputStream.write(buffer, 0, count);\r\n            }\r\n            outputStream.close();\r\n        } catch (DataFormatException | IOException e) {\r\n        \te.printStackTrace();\r\n            log.error(&quot;ZlibCompression decompress exception: {}&quot;, e.getMessage());\r\n        }\r\n        inflater.end();\r\n        return outputStream.toByteArray();\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n    \tdecompress(Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;))));\r\n\t}\r\n    }\r\n\r\nError:\r\n\r\n     java.util.zip.DataFormatException: incorrect header check\r\n    \tat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\r\n    \tat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\r\n    \tat java.base/java.util.zip.Inflater.inflate(Inflater.java:464) \r\n\r\n**Tried also this after @Mark Adler suggestion.**\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \t\r\n    \tbyte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;)));\r\n    \tByteArrayInputStream in = new ByteArrayInputStream(decoded);\r\n    \tGZIPInputStream gzStream = new GZIPInputStream(in);\r\n    \tdecompress(gzStream.readAllBytes());\r\n    \tgzStream.close();\r\n\t}\r\n\r\n    java.util.zip.DataFormatException: incorrect header check\r\n\tat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\r\n\tat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\r\n\tat java.base/java.util.zip.Inflater.inflate(Inflater.java:464)\r\n\tat efrisapi/com.efrisapi.util.CompressionUtils.decompress(CompressionUtils.java:51)\r\n\tat efrisapi/com.efrisapi.util.CompressionUtils.main(CompressionUtils.java:67)\r\n\r\n  [1]: https://www.dropbox.com/t/w8BU2Blznu6P49qJ","title":"Zlib is unable to extract a compress String in java, compression is done in python","body":"<p>Im trying to decompress a string in java, the string is compress in python with base64 encoding.</p>\n<p>I tried a day to resolve the issue, The file can decode easily online and also in python.\nFind similar post that people have trouble compressing and decompressing in java and python.</p>\n<p><a href=\"https://www.dropbox.com/t/w8BU2Blznu6P49qJ\" rel=\"nofollow noreferrer\">zip.txt</a></p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.Base64;\nimport java.util.zip.DataFormatException;\nimport java.util.zip.Deflater;\nimport java.util.zip.Inflater;\n\npublic class CompressionUtils {\nprivate static final int BUFFER_SIZE = 1024;\n\npublic static byte[] decompress(final byte[] data) {\n    final Inflater inflater = new Inflater();\n    inflater.setInput(data);\n    ByteArrayOutputStream outputStream =\n            new ByteArrayOutputStream(data.length);\n    byte[] buffer = new byte[data.length];\n    try {\n        while (!inflater.finished()) {\n            final int count = inflater.inflate(buffer);\n            outputStream.write(buffer, 0, count);\n        }\n        outputStream.close();\n    } catch (DataFormatException | IOException e) {\n        e.printStackTrace();\n        log.error(&quot;ZlibCompression decompress exception: {}&quot;, e.getMessage());\n    }\n    inflater.end();\n    return outputStream.toByteArray();\n}\n\npublic static void main(String[] args) throws IOException {\n    decompress(Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;))));\n}\n}\n</code></pre>\n<p>Error:</p>\n<pre><code> java.util.zip.DataFormatException: incorrect header check\n    at java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\n    at java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\n    at java.base/java.util.zip.Inflater.inflate(Inflater.java:464) \n</code></pre>\n<p><strong>Tried also this after @Mark Adler suggestion.</strong></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    byte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;)));\n    ByteArrayInputStream in = new ByteArrayInputStream(decoded);\n    GZIPInputStream gzStream = new GZIPInputStream(in);\n    decompress(gzStream.readAllBytes());\n    gzStream.close();\n}\n\njava.util.zip.DataFormatException: incorrect header check\nat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\nat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\nat java.base/java.util.zip.Inflater.inflate(Inflater.java:464)\nat efrisapi/com.efrisapi.util.CompressionUtils.decompress(CompressionUtils.java:51)\nat efrisapi/com.efrisapi.util.CompressionUtils.main(CompressionUtils.java:67)\n</code></pre>\n"},{"tags":["java","spring-boot","github","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":20758582,"reputation":11,"user_id":15244379,"display_name":"huzaifamk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658177266,"creation_date":1658177266,"answer_id":73028462,"question_id":71648428,"body_markdown":"I found a simple solution! Just use the Checkout step in your GitHub Actions, that&#39;s it.\r\n\r\n **Add this in your steps:**\r\n\r\n    - name: Standard Checkout\r\n      uses: actions/checkout@v2","title":"Github Actions: The goal you specified requires a project to execute but there is no POM in this directory","body":"<p>I found a simple solution! Just use the Checkout step in your GitHub Actions, that's it.</p>\n<p><strong>Add this in your steps:</strong></p>\n<pre><code>- name: Standard Checkout\n  uses: actions/checkout@v2\n</code></pre>\n"}],"owner":{"account_id":16951964,"reputation":23,"user_id":12261262,"display_name":"hopeless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658177266,"creation_date":1648474667,"question_id":71648428,"body_markdown":"I am trying to host my Spring Boot web app in Azure App Service, with Java 11 and when I deploy it to github actions, in order to host it, it gives me the following:\r\n\r\n```\r\nRun mvn clean install\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.063 s\r\n[INFO] Finished at: 2022-03-28T13:26:23Z\r\n[INFO] ------------------------------------------------------------------------\r\nError:  The goal you specified requires a project to execute but there is no POM in this directory (/home/runner/work/deskmate/deskmate). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\nError:  \r\nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nError:  Re-run Maven using the -X switch to enable full debug logging.\r\nError:  \r\nError:  For more information about the errors and possible solutions, please read the following articles:\r\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\r\nError: Process completed with exit code 1.\r\n```\r\n\r\nThis right here: **(/home/runner/work/deskmate/deskmate)**\r\nThat&#39;s not any of my directories. I have my pom.xml in the same directory as I have my project, at root level. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bGq6t.png\r\n\r\n**The pom.xml itself:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;deskmate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;deskmate&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;deskmate&lt;/name&gt;\r\n\t&lt;description&gt;Desk booking app for Consid&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n**Questions:**\r\nHow do I point Github Actions or Azure App Service to the right pom.xml path? \r\nAnd where do I do it (PowerShell, IntelliJ terminal? Inside Github Actions somewhere?)","title":"Github Actions: The goal you specified requires a project to execute but there is no POM in this directory","body":"<p>I am trying to host my Spring Boot web app in Azure App Service, with Java 11 and when I deploy it to github actions, in order to host it, it gives me the following:</p>\n<pre><code>Run mvn clean install\n[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.063 s\n[INFO] Finished at: 2022-03-28T13:26:23Z\n[INFO] ------------------------------------------------------------------------\nError:  The goal you specified requires a project to execute but there is no POM in this directory (/home/runner/work/deskmate/deskmate). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\nError:  \nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\nError:  Re-run Maven using the -X switch to enable full debug logging.\nError:  \nError:  For more information about the errors and possible solutions, please read the following articles:\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\nError: Process completed with exit code 1.\n</code></pre>\n<p>This right here: <strong>(/home/runner/work/deskmate/deskmate)</strong>\nThat's not any of my directories. I have my pom.xml in the same directory as I have my project, at root level. <a href=\"https://i.stack.imgur.com/bGq6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGq6t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>The pom.xml itself:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;deskmate&lt;/groupId&gt;\n    &lt;artifactId&gt;deskmate&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;deskmate&lt;/name&gt;\n    &lt;description&gt;Desk booking app for Consid&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>Questions:</strong>\nHow do I point Github Actions or Azure App Service to the right pom.xml path?\nAnd where do I do it (PowerShell, IntelliJ terminal? Inside Github Actions somewhere?)</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":25831032,"reputation":128,"user_id":19568218,"display_name":"Voided Name"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658175440,"creation_date":1658175440,"answer_id":73028140,"question_id":73027899,"body_markdown":"Sounds like hibernate is failing to initialize due to a failure to connect to the DB. \r\n\r\nAre you sure you have a Postgresql DB running? Is Spring configured correctly to interface with that DB? (i.e. is the host, port, databaseschema, username and password set?)","title":"Error creating bean EntityFactoryManager on a new project","body":"<p>Sounds like hibernate is failing to initialize due to a failure to connect to the DB.</p>\n<p>Are you sure you have a Postgresql DB running? Is Spring configured correctly to interface with that DB? (i.e. is the host, port, databaseschema, username and password set?)</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658177110,"creation_date":1658177110,"answer_id":73028433,"question_id":73027899,"body_markdown":"If this is a _new_ project, you shouldn&#39;t be using any of this XML configuration at all. Instead, create a template project at https://start.spring.io that includes the JPA starter, set your `spring.datasource.url`, and be running in 2 minutes.","title":"Error creating bean EntityFactoryManager on a new project","body":"<p>If this is a <em>new</em> project, you shouldn't be using any of this XML configuration at all. Instead, create a template project at <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> that includes the JPA starter, set your <code>spring.datasource.url</code>, and be running in 2 minutes.</p>\n"}],"owner":{"account_id":24054643,"reputation":85,"user_id":18032631,"display_name":"icarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658177110,"creation_date":1658174104,"question_id":73027899,"body_markdown":"So I have a project I want to start work with. The senior developer sent me a zip package of the project and database.sql file for initializing the local database for me to just launch the project. But we are facing the error.\r\n``` \r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/spring-database.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n```\r\n\r\nAll entities are exactly the same as in the local database. I have changed the XML file config to match my password and URL. Spend 2 days trying to run the project. Will appreciate any help. Please feel free to ask any questions.\r\n\r\n```\r\n &lt;!-- Configure the entity manager factory bean --&gt;\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;!-- Set JPA properties --&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.ProgressDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;nl.impressie.grazer.hibernate&quot; /&gt;\r\n    &lt;/bean&gt;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N4O5a.png","title":"Error creating bean EntityFactoryManager on a new project","body":"<p>So I have a project I want to start work with. The senior developer sent me a zip package of the project and database.sql file for initializing the local database for me to just launch the project. But we are facing the error.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/spring-database.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n</code></pre>\n<p>All entities are exactly the same as in the local database. I have changed the XML file config to match my password and URL. Spend 2 days trying to run the project. Will appreciate any help. Please feel free to ask any questions.</p>\n<pre><code> &lt;!-- Configure the entity manager factory bean --&gt;\n    &lt;bean id=&quot;entityManagerFactory&quot;\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot; /&gt;\n        &lt;!-- Set JPA properties --&gt;\n        &lt;property name=&quot;jpaProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.ProgressDialect&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;nl.impressie.grazer.hibernate&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/N4O5a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4O5a.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","android"],"answers":[{"tags":[],"owner":{"account_id":12701027,"reputation":894,"user_id":9227755,"display_name":"Subhasmith Thapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658176513,"creation_date":1658176513,"answer_id":73028324,"question_id":73028284,"body_markdown":"Set both compileSdkVersion and targetSdkVersion to 31 in your build.gradle(app) file.\r\n\r\n```\r\n\r\nandroid {\r\n    compileSdkVersion 31 // &lt;-- This\r\n    defaultConfig {\r\n        applicationId &quot;com.example.app&quot;\r\n        targetSdkVersion 31 // &lt;-- and this too\r\n        // ...\r\n    }\r\n}\r\n\r\n```","title":"android studio build failed - DebugManifest","body":"<p>Set both compileSdkVersion and targetSdkVersion to 31 in your build.gradle(app) file.</p>\n<pre><code>\nandroid {\n    compileSdkVersion 31 // &lt;-- This\n    defaultConfig {\n        applicationId &quot;com.example.app&quot;\n        targetSdkVersion 31 // &lt;-- and this too\n        // ...\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25839011,"reputation":1,"user_id":19574907,"display_name":"GEV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658176426,"answer_count":1,"score":0,"last_activity_date":1658176927,"creation_date":1658176334,"question_id":73028284,"body_markdown":"can anyone help me with that ?\r\ni don&#39;t know how to fix it \r\n\r\n\r\n\r\nhttps://i.stack.imgur.com/eHkjq.png\r\n\r\n- Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:\r\n\r\n- Caused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed\r\n- Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n- Caused by: java.lang.RuntimeException: Duplicate class com.google.android.gms.internal.measurement.zzbu found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-sdk-api-20.1.2-runtime (com.google.android.gms:play-services-measurement-sdk-api:20.1.2)\r\n\r\n- Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:\r\n- Caused by: java.lang.RuntimeException: The minCompileSdk (32) specified in a\r\n- Android resource compilation failed\r\nC:\\Users\\GEV\\Desktop\\StrangerRepo\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-w٣٢٠dp-land-v13\\values-w٣٢٠dp-land-v13.xml: AAPT: error: invalid configuration &#39;w٣٢٠dp-land-v13&#39;.\r\n    \r\n\r\n\r\n","title":"android studio build failed - DebugManifest","body":"<p>can anyone help me with that ?\ni don't know how to fix it</p>\n<p><a href=\"https://i.stack.imgur.com/eHkjq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eHkjq.png</a></p>\n<ul>\n<li><p>Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:</p>\n</li>\n<li><p>Caused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed</p>\n</li>\n<li><p>Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable</p>\n</li>\n<li><p>Caused by: java.lang.RuntimeException: Duplicate class com.google.android.gms.internal.measurement.zzbu found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-sdk-api-20.1.2-runtime (com.google.android.gms:play-services-measurement-sdk-api:20.1.2)</p>\n</li>\n<li><p>Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:</p>\n</li>\n<li><p>Caused by: java.lang.RuntimeException: The minCompileSdk (32) specified in a</p>\n</li>\n<li><p>Android resource compilation failed\nC:\\Users\\GEV\\Desktop\\StrangerRepo\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-w٣٢٠dp-land-v13\\values-w٣٢٠dp-land-v13.xml: AAPT: error: invalid configuration 'w٣٢٠dp-land-v13'.</p>\n</li>\n</ul>\n"},{"tags":["java","jsoup"],"owner":{"account_id":8872635,"reputation":21,"user_id":6625908,"display_name":"GabrielH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658176696,"creation_date":1658176696,"question_id":73028347,"body_markdown":"I have to make a POST with some values, but there&#39;s an encrypted token generated in windows-1252.\r\n\r\nWhen I do inspect the DOM elements and copy this token (delete and re-insert for testing) and submit the form, it works fine. But I have to get this token through Jsoup and send it back.\r\nThe problem is that the token has an special character (0x9D) which is not recognized when setting the charset in Jsoup&#39;s Document parse (even in Chrome DevTool&#39;s Sources tab is not recognized).\r\n\r\nThe square character is the one not recognized: €“sytœ\r\n\r\nLong story short, in Chrome&#39;s elements inspection the square appears as an different character, but in Sources it doesn&#39;t appear, as in Jsoup as well. Inserting the values copied from inspection and doing the submit manually, it works, but in Jsoup doesn&#39;t work. The only difference in values is this missing character, and without him, manually submit doesn&#39;t work either. \r\n\r\nDoes someone have an idea of what I have to make to get the right encoding? Thanks!","title":"How do I get the right Windows-1252 encoding in Jsoup?","body":"<p>I have to make a POST with some values, but there's an encrypted token generated in windows-1252.</p>\n<p>When I do inspect the DOM elements and copy this token (delete and re-insert for testing) and submit the form, it works fine. But I have to get this token through Jsoup and send it back.\nThe problem is that the token has an special character (0x9D) which is not recognized when setting the charset in Jsoup's Document parse (even in Chrome DevTool's Sources tab is not recognized).</p>\n<p>The square character is the one not recognized: €“sytœ</p>\n<p>Long story short, in Chrome's elements inspection the square appears as an different character, but in Sources it doesn't appear, as in Jsoup as well. Inserting the values copied from inspection and doing the submit manually, it works, but in Jsoup doesn't work. The only difference in values is this missing character, and without him, manually submit doesn't work either.</p>\n<p>Does someone have an idea of what I have to make to get the right encoding? Thanks!</p>\n"},{"tags":["java","android","kotlin","json-deserialization","moshi"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658060934,"post_id":73011430,"comment_id":128952668,"body_markdown":"What are you trying to accomplish by having a retrofit API that returns nothing? Do [these](https://stackoverflow.com/questions/37116364/retrofit2-return-null-unit-in-kotlin-for-204-no-content-response) [questions](https://stackoverflow.com/questions/47639290/android-retrofit-call-void-using-kotlin) help?","body":"What are you trying to accomplish by having a retrofit API that returns nothing? Do <a href=\"https://stackoverflow.com/questions/37116364/retrofit2-return-null-unit-in-kotlin-for-204-no-content-response\">these</a> <a href=\"https://stackoverflow.com/questions/47639290/android-retrofit-call-void-using-kotlin\">questions</a> help?"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658061251,"post_id":73011430,"comment_id":128952744,"body_markdown":"actually in the **ApiModel** I have other useful properties which I want to parse.","body":"actually in the <b>ApiModel</b> I have other useful properties which I want to parse."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658061300,"post_id":73011430,"comment_id":128952759,"body_markdown":"There is to be a [github issue](https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400) on this too. The `UnitConverterFactory` solution seems to be compatible with Moshi","body":"There is to be a <a href=\"https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400\" rel=\"nofollow noreferrer\">github issue</a> on this too. The <code>UnitConverterFactory</code> solution seems to be compatible with Moshi"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658061588,"post_id":73011430,"comment_id":128952808,"body_markdown":"I also tried the solution above, but it seems to have no effect.","body":"I also tried the solution above, but it seems to have no effect."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658061683,"post_id":73011430,"comment_id":128952823,"body_markdown":"Might be a good idea to add what you tried from that issue thread to the question as well then (including how you added the converter to Retrofit, and how you added your adapter above to Moshi)","body":"Might be a good idea to add what you tried from that issue thread to the question as well then (including how you added the converter to Retrofit, and how you added your adapter above to Moshi)"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1658175948,"post_id":73011430,"comment_id":128982161,"body_markdown":"Show your ApiModel","body":"Show your ApiModel"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658176651,"post_id":73011430,"comment_id":128982353,"body_markdown":"@EricCochran added to question.","body":"@EricCochran added to question."},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1658182771,"post_id":73011430,"comment_id":128983768,"body_markdown":"You want to add a JsonAdapter for Unit onto your Moshi.Builder. As you have it now, Retrofit is just looking for a converter for ApiModel (which it selects your MoshiConverter for)","body":"You want to add a JsonAdapter for Unit onto your Moshi.Builder. As you have it now, Retrofit is just looking for a converter for ApiModel (which it selects your MoshiConverter for)"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658211746,"post_id":73011430,"comment_id":128988349,"body_markdown":"@EricCochran you mean that I should try creating a jsonAdapter for ApiModel&lt;T&gt;  ?","body":"@EricCochran you mean that I should try creating a jsonAdapter for ApiModel&lt;T&gt;  ?"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1658273511,"post_id":73011430,"comment_id":129009586,"body_markdown":"no, just one for Unit. and add it to your Moshi instance that you put into the Retrofit MoshiConverter factory","body":"no, just one for Unit. and add it to your Moshi instance that you put into the Retrofit MoshiConverter factory"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658291522,"post_id":73011430,"comment_id":129012175,"body_markdown":"@EricCochran I already did that and it didn&#39;t work. I am using Any type instead of Unit now.","body":"@EricCochran I already did that and it didn&#39;t work. I am using Any type instead of Unit now."}],"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658176596,"creation_date":1658057865,"question_id":73011430,"body_markdown":"In a retrofit interface I have defined a method return type as **ApiModel** **&lt;** **Unit** **&gt;**. but when I call the method I get the error below.\r\n\r\n```\r\nPlatform class kotlin.Unit requires explicit JsonAdapter to be registered\r\n```\r\n\r\nso I tried to create my own JsonAdapter as below.\r\n\r\n```\r\nclass UnitJsonAdapter {\r\n\r\n    @ToJson\r\n    fun toJson(writer: JsonWriter) {\r\n        writer.nullValue()\r\n    }\r\n\r\n    @FromJson\r\n    fun fromJson(reader: JsonReader): Unit {\r\n        reader.close()\r\n        return Unit\r\n    }\r\n\r\n}\r\n```\r\n\r\nbut I face this error.\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unexpected signature for public final void packagename.UnitJsonAdapter.fromJson(com.squareup.moshi.JsonReader).\r\n    @FromJson method signatures may have one of the following structures:\r\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader) throws &lt;any&gt;;\r\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader, JsonAdapter&lt;any&gt; delegate, &lt;any more delegates&gt;) throws &lt;any&gt;;\r\n        &lt;any access modifier&gt; R fromJson(T value) throws &lt;any&gt;;\r\n```\r\n\r\nI also tried what this [link][1] describes, but it seems to have no effect.\r\n\r\n```\r\nRetrofit.Builder()\r\n            .addConverterFactory(UnitConverterFactory)\r\n            .addConverterFactory(MoshiConverterFactory.create(moshi).asLenient())\r\n            .build()\r\n    \r\n\r\nobject UnitConverterFactory : Converter.Factory() {\r\n    override fun responseBodyConverter(\r\n         type: Type,\r\n         annotations: Array&lt;out Annotation&gt;,\r\n         retrofit: Retrofit\r\n    ): Converter&lt;ResponseBody, *&gt;? {\r\n         return if (type == Unit::class.java) UnitConverter else null\r\n    }\r\n\r\n    private object UnitConverter : Converter&lt;ResponseBody, Unit&gt; {\r\n         override fun convert(value: ResponseBody) {\r\n              value.close()\r\n         } \r\n    }\r\n}\r\n```\r\n\r\nAlso this is my ApiModel class:\r\n\r\n```\r\n@JsonClass(generateAdapter = true)\r\ndata class ApiModel&lt;T&gt;(\r\n    val result: T,\r\n    val error: Error\r\n)\r\n```\r\n\r\n\r\n  [1]: https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400","title":"Platform class kotlin.Unit requires explicit JsonAdapter to be registered","body":"<p>In a retrofit interface I have defined a method return type as <strong>ApiModel</strong> <strong>&lt;</strong> <strong>Unit</strong> <strong>&gt;</strong>. but when I call the method I get the error below.</p>\n<pre><code>Platform class kotlin.Unit requires explicit JsonAdapter to be registered\n</code></pre>\n<p>so I tried to create my own JsonAdapter as below.</p>\n<pre><code>class UnitJsonAdapter {\n\n    @ToJson\n    fun toJson(writer: JsonWriter) {\n        writer.nullValue()\n    }\n\n    @FromJson\n    fun fromJson(reader: JsonReader): Unit {\n        reader.close()\n        return Unit\n    }\n\n}\n</code></pre>\n<p>but I face this error.</p>\n<pre><code>java.lang.IllegalArgumentException: Unexpected signature for public final void packagename.UnitJsonAdapter.fromJson(com.squareup.moshi.JsonReader).\n    @FromJson method signatures may have one of the following structures:\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader) throws &lt;any&gt;;\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader, JsonAdapter&lt;any&gt; delegate, &lt;any more delegates&gt;) throws &lt;any&gt;;\n        &lt;any access modifier&gt; R fromJson(T value) throws &lt;any&gt;;\n</code></pre>\n<p>I also tried what this <a href=\"https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400\" rel=\"nofollow noreferrer\">link</a> describes, but it seems to have no effect.</p>\n<pre><code>Retrofit.Builder()\n            .addConverterFactory(UnitConverterFactory)\n            .addConverterFactory(MoshiConverterFactory.create(moshi).asLenient())\n            .build()\n    \n\nobject UnitConverterFactory : Converter.Factory() {\n    override fun responseBodyConverter(\n         type: Type,\n         annotations: Array&lt;out Annotation&gt;,\n         retrofit: Retrofit\n    ): Converter&lt;ResponseBody, *&gt;? {\n         return if (type == Unit::class.java) UnitConverter else null\n    }\n\n    private object UnitConverter : Converter&lt;ResponseBody, Unit&gt; {\n         override fun convert(value: ResponseBody) {\n              value.close()\n         } \n    }\n}\n</code></pre>\n<p>Also this is my ApiModel class:</p>\n<pre><code>@JsonClass(generateAdapter = true)\ndata class ApiModel&lt;T&gt;(\n    val result: T,\n    val error: Error\n)\n</code></pre>\n"},{"tags":["java","netbeans","syntax","compiler-errors","ide"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1487436915,"post_id":42317944,"comment_id":71789223,"body_markdown":"You&#39;ll have to add some screenshots showing the problem.  Have you tried removing and reinstalling NetBeans?","body":"You&#39;ll have to add some screenshots showing the problem.  Have you tried removing and reinstalling NetBeans?"},{"owner":{"account_id":7106994,"reputation":185,"user_id":5436338,"accept_rate":60,"display_name":"Berch"},"score":0,"creation_date":1487437147,"post_id":42317944,"comment_id":71789284,"body_markdown":"Hi Jim Garrison I uninstalled 8.0.1 and installed 8.0.2, don&#39;t have access yet to post screenshots here!","body":"Hi Jim Garrison I uninstalled 8.0.1 and installed 8.0.2, don&#39;t have access yet to post screenshots here!"},{"owner":{"account_id":7106994,"reputation":185,"user_id":5436338,"accept_rate":60,"display_name":"Berch"},"score":0,"creation_date":1487439965,"post_id":42317944,"comment_id":71790413,"body_markdown":"Hi @Jim Garrison I have added a screenshot describing the issue, thanks.","body":"Hi @Jim Garrison I have added a screenshot describing the issue, thanks."}],"answers":[{"tags":[],"owner":{"account_id":25838989,"reputation":1,"user_id":19574889,"display_name":"Po Mo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658175980,"creation_date":1658175980,"answer_id":73028222,"question_id":42317944,"body_markdown":"I had the same issue and I found out that my code had some syntax errors that cause NB not to highlight any syntax error anymore. To fix it, it is relatively simple: compile your class to identify the syntax errors, fix them and you&#39;re back to normal.  ","title":"NetBeans not recognising syntax errors","body":"<p>I had the same issue and I found out that my code had some syntax errors that cause NB not to highlight any syntax error anymore. To fix it, it is relatively simple: compile your class to identify the syntax errors, fix them and you're back to normal.</p>\n"}],"owner":{"account_id":7106994,"reputation":185,"user_id":5436338,"accept_rate":60,"display_name":"Berch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658175980,"creation_date":1487436804,"question_id":42317944,"body_markdown":"I&#39;ve been using NetBeans IDE 8.0.1 for sometime now, midway of a project the IDE stopped recognising any syntax errors. Upgrading to NetBeans IDE 8.0.2 still makes no difference. \r\n\r\n![enter image description][1]\r\n\r\n\r\nThe class file I was working on shows a error icon (on top of the page and also in the project directory) but no indication in the class on which line the error is, if any. \r\n\r\nAny suggestions? Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ltxd1.jpg","title":"NetBeans not recognising syntax errors","body":"<p>I've been using NetBeans IDE 8.0.1 for sometime now, midway of a project the IDE stopped recognising any syntax errors. Upgrading to NetBeans IDE 8.0.2 still makes no difference. </p>\n\n<p><img src=\"https://i.stack.imgur.com/Ltxd1.jpg\" alt=\"enter image description\"></p>\n\n<p>The class file I was working on shows a error icon (on top of the page and also in the project directory) but no indication in the class on which line the error is, if any. </p>\n\n<p>Any suggestions? Thanks in advance.</p>\n"},{"tags":["java","duplicates","java-stream"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1657896440,"post_id":72995702,"comment_id":128926053,"body_markdown":"maybe `... .peek(System.out::println).max( ... )`  but consult the [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)) of `peek()`, mainly the &quot;API Note&quot;!","body":"maybe <code>... .peek(System.out::println).max( ... )</code>  but consult the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documentation</a> of <code>peek()</code>, mainly the &quot;API Note&quot;!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1657896756,"post_id":72995702,"comment_id":128926173,"body_markdown":"`max` expects a comparator which `(x, y) -&gt; x &lt; y ? y : x` is not. Use either `max(Comparator.naturalOrder())` or `reduce((x, y) -&gt; x &lt; y ? y : x)`. The latter can be shortened to `reduce(Math::max)`.","body":"<code>max</code> expects a comparator which <code>(x, y) -&gt; x &lt; y ? y : x</code> is not. Use either <code>max(Comparator.naturalOrder())</code> or <code>reduce((x, y) -&gt; x &lt; y ? y : x)</code>. The latter can be shortened to <code>reduce(Math::max)</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1657897052,"post_id":72995702,"comment_id":128926282,"body_markdown":"Though in your case, it’s more efficient to go from boxed `Integer` to `int` as soon as possible. Addressing your original question, you get `int[] a = ls.stream().mapToInt(Integer::intValue) .filter(x -&gt; x &gt; 10) .sorted().distinct().limit(4).skip(2).toArray(); Arrays.stream(a).forEach(System.out::println); System.out.println(Arrays.stream(a).max().getAsInt());`","body":"Though in your case, it’s more efficient to go from boxed <code>Integer</code> to <code>int</code> as soon as possible. Addressing your original question, you get <code>int[] a = ls.stream().mapToInt(Integer::intValue) .filter(x -&gt; x &gt; 10) .sorted().distinct().limit(4).skip(2).toArray(); Arrays.stream(a).forEach(System.out::println); System.out.println(Arrays.stream(a).max().getAsInt());</code>"},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":1,"creation_date":1657899758,"post_id":72995702,"comment_id":128927329,"body_markdown":"In some cases you can implement a custom collector to apply multiple operations to a stream. Check out Collectors::summarizingInt to get an idea.","body":"In some cases you can implement a custom collector to apply multiple operations to a stream. Check out Collectors::summarizingInt to get an idea."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657896312,"creation_date":1657896312,"answer_id":72995763,"question_id":72995702,"body_markdown":"A `Stream` can be consumed only once and there is nothing you can do about it. \r\nHowever, what you can do is collect it i.e. to the `List` (`stream.toList()`) and then use that list for further execution - in your case creating two new streams that would do different job. ","title":"How to re-use the calling result of a java collection&#39;s stream, so we don&#39;t do same work twice?","body":"<p>A <code>Stream</code> can be consumed only once and there is nothing you can do about it.\nHowever, what you can do is collect it i.e. to the <code>List</code> (<code>stream.toList()</code>) and then use that list for further execution - in your case creating two new streams that would do different job.</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657907568,"creation_date":1657907568,"answer_id":72997957,"question_id":72995702,"body_markdown":" 1. You should distinct() before sorting() to avoid to sort double values which you throw away anyway. \r\n 2. You could save your processed values in a collecten of your choice. I would recommend you a List (keep in mind that this List is unmodifiable) and if you need to work with streams from there, which i can&#39;t see from your code yet, then you could create new streams out of it. But i recommend you to do the following: \r\n\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\r\n            List&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).distinct().sorted().limit(4).skip(2).toList();\r\n\r\n            Integer max = null;\r\n            for (Integer integer : s1) {\r\n                if (max == null || integer.compareTo(max) &gt; 0) {\r\n                    max = integer;\r\n                }\r\n                System.out.println(integer);\r\n            }\r\n            System.out.println(max);\r\n        }\r\n\r\n\r\n ","title":"How to re-use the calling result of a java collection&#39;s stream, so we don&#39;t do same work twice?","body":"<ol>\n<li><p>You should distinct() before sorting() to avoid to sort double values which you throw away anyway.</p>\n</li>\n<li><p>You could save your processed values in a collecten of your choice. I would recommend you a List (keep in mind that this List is unmodifiable) and if you need to work with streams from there, which i can't see from your code yet, then you could create new streams out of it. But i recommend you to do the following:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\n    List&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).distinct().sorted().limit(4).skip(2).toList();\n\n    Integer max = null;\n    for (Integer integer : s1) {\n        if (max == null || integer.compareTo(max) &gt; 0) {\n            max = integer;\n        }\n        System.out.println(integer);\n    }\n    System.out.println(max);\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72997957,"answer_count":2,"score":0,"last_activity_date":1658175269,"creation_date":1657895992,"question_id":72995702,"body_markdown":"   \r\nI know that once a Collection&#39;s stream actions of ```collect```/```forEach```/```min```/```max```, the stream is closed and no longer valid for further function call. \r\n\r\nMy question is, how to avoid &quot;duplicate stream operations&quot; so that we can do different stream actions on same collection without duplicate computation?\r\n\r\nE.g.\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\r\n        Stream&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\r\n        s1.forEach(System.out::println);\r\n\r\n        // java.lang.IllegalStateException: stream has already been operated upon or closed\r\n        System.out.println(s1.max((x, y) -&gt; x &lt; y ? y : x).get()); // s1 is no longer useable.\r\n    }\r\n```\r\nWell, I know in order to get s1.max I have to construct the Stream again like :\r\n```\r\nStream&lt;Integer&gt; sAnother = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\r\n```\r\nThis works, but seems doing redundant work for the 2nd time. I hope that we can use this calling sequence, and make it executed once and only once:\r\n```\r\nfilter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2)\r\n```\r\nand then:\r\n(1) Do the forEach to print elements.\r\n(2) Calculate the max element.\r\n\r\nNot having to construct and compute the whole stream process twice.\r\n\r\nIs there a way to achieve this? Thanks.","title":"How to re-use the calling result of a java collection&#39;s stream, so we don&#39;t do same work twice?","body":"<p>I know that once a Collection's stream actions of <code>collect</code>/<code>forEach</code>/<code>min</code>/<code>max</code>, the stream is closed and no longer valid for further function call.</p>\n<p>My question is, how to avoid &quot;duplicate stream operations&quot; so that we can do different stream actions on same collection without duplicate computation?</p>\n<p>E.g.</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\n        Stream&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\n        s1.forEach(System.out::println);\n\n        // java.lang.IllegalStateException: stream has already been operated upon or closed\n        System.out.println(s1.max((x, y) -&gt; x &lt; y ? y : x).get()); // s1 is no longer useable.\n    }\n</code></pre>\n<p>Well, I know in order to get s1.max I have to construct the Stream again like :</p>\n<pre><code>Stream&lt;Integer&gt; sAnother = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\n</code></pre>\n<p>This works, but seems doing redundant work for the 2nd time. I hope that we can use this calling sequence, and make it executed once and only once:</p>\n<pre><code>filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2)\n</code></pre>\n<p>and then:\n(1) Do the forEach to print elements.\n(2) Calculate the max element.</p>\n<p>Not having to construct and compute the whole stream process twice.</p>\n<p>Is there a way to achieve this? Thanks.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1658175992,"post_id":73028058,"comment_id":128982168,"body_markdown":"Why do you need AnnotationConfigApplicationContext? This should be supported by Spring without extra changes","body":"Why do you need AnnotationConfigApplicationContext? This should be supported by Spring without extra changes"},{"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"score":0,"creation_date":1658176303,"post_id":73028058,"comment_id":128982256,"body_markdown":"@vladtkachuk What else I can use? Because all tutorials advice to use it","body":"@vladtkachuk What else I can use? Because all tutorials advice to use it"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1658176498,"post_id":73028058,"comment_id":128982325,"body_markdown":"I believe there is a default spring support for this, have you tried not setting that bean postprocessor?","body":"I believe there is a default spring support for this, have you tried not setting that bean postprocessor?"}],"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658175010,"creation_date":1658175010,"question_id":73028058,"body_markdown":"I&#39;m new in Spring, and want to figure out how to inject value from properties file.\r\n\r\nI have component with ```Value``` annotation: \r\n\r\n```java\r\n@Component\r\npublic class ConfigProp {\r\n\r\n    private final String login;\r\n\r\n    public ConfigProp(@Value(&quot;${login}&quot;) String login) {\r\n        this.login = login;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ConfigProp{&quot; +\r\n            &quot;login=&#39;&quot; + login + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nthen, I have main class:\r\n\r\n\r\n```java\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        var context = new AnnotationConfigApplicationContext(ConfigProp.class);\r\n        context.addBeanFactoryPostProcessor(new PropertySourcesPlaceholderConfigurer());\r\n        \r\n        var cp = context.getBean(ConfigProp.class);\r\n        System.out.println(cp);\r\n    }\r\n}\r\n```\r\n\r\nAdditionally I have ```application.properties``` file\r\nwith content:\r\n```\r\nlogin=some_login\r\n```\r\n\r\n\r\nAnd when I launching my app I&#39;m getting ```ConfigProp{login=&#39;${login}&#39;}```\r\n\r\nYes, I know, I may annotate ```ConfigProp``` with ```@PropertySource(path-to-properties)``` annotation, but it&#39;s not a good solution, because in the Prod I may want to use another properties file, \r\n\r\nHow can I resolve this issue? \r\n","title":"Spring configure bean with properties","body":"<p>I'm new in Spring, and want to figure out how to inject value from properties file.</p>\n<p>I have component with <code>Value</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ConfigProp {\n\n    private final String login;\n\n    public ConfigProp(@Value(&quot;${login}&quot;) String login) {\n        this.login = login;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ConfigProp{&quot; +\n            &quot;login='&quot; + login + '\\'' +\n            '}';\n    }\n}\n</code></pre>\n<p>then, I have main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n\n    public static void main(String[] args) {\n        \n        var context = new AnnotationConfigApplicationContext(ConfigProp.class);\n        context.addBeanFactoryPostProcessor(new PropertySourcesPlaceholderConfigurer());\n        \n        var cp = context.getBean(ConfigProp.class);\n        System.out.println(cp);\n    }\n}\n</code></pre>\n<p>Additionally I have <code>application.properties</code> file\nwith content:</p>\n<pre><code>login=some_login\n</code></pre>\n<p>And when I launching my app I'm getting <code>ConfigProp{login='${login}'}</code></p>\n<p>Yes, I know, I may annotate <code>ConfigProp</code> with <code>@PropertySource(path-to-properties)</code> annotation, but it's not a good solution, because in the Prod I may want to use another properties file,</p>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","formatting","awt"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1658172229,"post_id":73027531,"comment_id":128981064,"body_markdown":"You need to parse the text. What have you tried? (Can you post)","body":"You need to parse the text. What have you tried? (Can you post)"},{"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"score":0,"creation_date":1658172309,"post_id":73027531,"comment_id":128981082,"body_markdown":"I havent tried anything yet... im asking because I dont know what to do.","body":"I havent tried anything yet... im asking because I dont know what to do."}],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658174752,"creation_date":1658174752,"answer_id":73028010,"question_id":73027531,"body_markdown":"You can get the rgb values from that string with this:\r\n```\r\n\t\tString str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\r\n\t\tString[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\r\n\t\tString[] colorValues = new String[3];\r\n\t\tint index = 0;\r\n\t\tfor (String string : temp) {\r\n\t\t\ttry {\r\n\t\t\t\tInteger.parseInt(string);\r\n\t\t\t\tcolorValues[index] = string;\r\n\t\t\t\tindex++;\r\n\t\t\t} catch (Exception e) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(colorValues)); //to verify the output\r\n```\r\n\r\nThe above example extract the values in an array of Strings, if you want in an array of ints:\r\n```\r\n\t\tString str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\r\n\t\tString[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\r\n\t\tint[] colorValues = new int[3];\r\n\t\tint index = 0;\r\n\t\tfor (String string : temp) {\r\n\t\t\ttry {\r\n\t\t\t\tcolorValues[index] = Integer.parseInt(string);\r\n\t\t\t\tindex++;\r\n\t\t\t} catch (Exception e) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(colorValues)); //to verify the output\r\n```\r\n","title":"Java get java.awt.Color from string","body":"<p>You can get the rgb values from that string with this:</p>\n<pre><code>        String str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\n        String[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\n        String[] colorValues = new String[3];\n        int index = 0;\n        for (String string : temp) {\n            try {\n                Integer.parseInt(string);\n                colorValues[index] = string;\n                index++;\n            } catch (Exception e) {\n\n            }\n        }\n        System.out.println(Arrays.toString(colorValues)); //to verify the output\n</code></pre>\n<p>The above example extract the values in an array of Strings, if you want in an array of ints:</p>\n<pre><code>        String str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\n        String[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\n        int[] colorValues = new int[3];\n        int index = 0;\n        for (String string : temp) {\n            try {\n                colorValues[index] = Integer.parseInt(string);\n                index++;\n            } catch (Exception e) {\n\n            }\n        }\n        System.out.println(Arrays.toString(colorValues)); //to verify the output\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15030193,"reputation":5,"user_id":10848592,"display_name":"tgodfrey0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658174946,"creation_date":1658174946,"answer_id":73028045,"question_id":73027531,"body_markdown":"As said before, you will need to parse the text. This will allow you to return the RGB values from inside the string. I would try something like this.\r\n```java\r\nprivate static int[] getColourVals(String s){\r\n  int[] vals = new int[3];\r\n  String[] annotatedVals = s.split(&quot;\\\\[|\\\\]&quot;)[1].split(&quot;,&quot;); // Split the string on either [ or ] and then split the middle element by ,\r\n  for(int i = 0; i &lt; annotatedVals.length; i++){\r\n    vals[i] = Integer.parseInt(annotatedVals[i].split(&quot;=&quot;)[1]); // Split by the = and only get the value\r\n  }\r\n  return vals;\r\n}\r\n```","title":"Java get java.awt.Color from string","body":"<p>As said before, you will need to parse the text. This will allow you to return the RGB values from inside the string. I would try something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int[] getColourVals(String s){\n  int[] vals = new int[3];\n  String[] annotatedVals = s.split(&quot;\\\\[|\\\\]&quot;)[1].split(&quot;,&quot;); // Split the string on either [ or ] and then split the middle element by ,\n  for(int i = 0; i &lt; annotatedVals.length; i++){\n    vals[i] = Integer.parseInt(annotatedVals[i].split(&quot;=&quot;)[1]); // Split by the = and only get the value\n  }\n  return vals;\n}\n</code></pre>\n"}],"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73028010,"answer_count":2,"score":0,"last_activity_date":1658174946,"creation_date":1658171854,"question_id":73027531,"body_markdown":"So I have a string that looks something like this:\r\n`text java.awt.Color[r=128,g=128,b=128]text 1234`\r\n\r\nHow could I pop out the color and get the rgb values?","title":"Java get java.awt.Color from string","body":"<p>So I have a string that looks something like this:\n<code>text java.awt.Color[r=128,g=128,b=128]text 1234</code></p>\n<p>How could I pop out the color and get the rgb values?</p>\n"},{"tags":["java","sockets","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1582127031,"creation_date":1383778716,"answer_id":19824626,"question_id":19824339,"body_markdown":"&quot;Unexpected end of file&quot; implies that the remote server accepted and closed the connection without sending a response. It&#39;s possible that the remote system is too busy to handle the request, or that there&#39;s a network bug that randomly drops connections.\r\n\r\nIt&#39;s also possible there is a bug in the server: something in the request causes an internal error, and the server simply closes the connection instead of sending a HTTP error response like it should. Several people suggest this is caused by missing headers or invalid header values in the request.\r\n\r\nWith the information available it&#39;s impossible to say what&#39;s going wrong. If you have access to the servers in question you can use packet sniffing tools to find what exactly is sent and received, and look at logs to of the server process to see if there are any error messages.","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>\"Unexpected end of file\" implies that the remote server accepted and closed the connection without sending a response. It's possible that the remote system is too busy to handle the request, or that there's a network bug that randomly drops connections.</p>\n\n<p>It's also possible there is a bug in the server: something in the request causes an internal error, and the server simply closes the connection instead of sending a HTTP error response like it should. Several people suggest this is caused by missing headers or invalid header values in the request.</p>\n\n<p>With the information available it's impossible to say what's going wrong. If you have access to the servers in question you can use packet sniffing tools to find what exactly is sent and received, and look at logs to of the server process to see if there are any error messages.</p>\n"},{"tags":[],"owner":{"account_id":3498627,"reputation":878,"user_id":2926158,"accept_rate":58,"display_name":"SeahawksRdaBest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383780600,"creation_date":1383780600,"answer_id":19825068,"question_id":19824339,"body_markdown":"I would suggest using wire shark to trace packets. If you are using Ubuntu, sudo-apt get wireshark. Like Joni stated the only way to figure out whats going wrong is to follow the GET requests and their associated responses. \r\n\r\nhttp://www.wireshark.org/download.html","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I would suggest using wire shark to trace packets. If you are using Ubuntu, sudo-apt get wireshark. Like Joni stated the only way to figure out whats going wrong is to follow the GET requests and their associated responses. </p>\n\n<p><a href=\"http://www.wireshark.org/download.html\" rel=\"nofollow\">http://www.wireshark.org/download.html</a></p>\n"},{"tags":[],"owner":{"account_id":436296,"reputation":2813,"user_id":823368,"accept_rate":0,"display_name":"Andreas Panagiotidis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539247982,"creation_date":1485891277,"answer_id":41966030,"question_id":19824339,"body_markdown":"I do get this error when I do not set the Authentication header or I set wrong credentials. ","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I do get this error when I do not set the Authentication header or I set wrong credentials. </p>\n"},{"tags":[],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1496164311,"creation_date":1487375423,"answer_id":42309344,"question_id":19824339,"body_markdown":"# Summary\r\n\r\nThis exception is encountered when you are expecting a response, but the socket has been abruptly closed.\r\n\r\n# Detailed Explanation\r\n\r\nJava&#39;s `HTTPClient`, found [here](https://github.com/openjdk-mirror/jdk/blob/jdk8u/jdk8u/master/src/share/classes/sun/net/www/http/HttpClient.java#L701-L792), throws a `SocketException` with message &quot;Unexpected end of file from server&quot; in a very specific circumstance.\r\n\r\nAfter making a request, `HTTPClient` gets an `InputStream` tied to the socket associated with the request. It then polls that `InputStream` repeatedly until it either:\r\n\r\n1. Finds the string &quot;HTTP/1.&quot;\r\n2. The end of the `InputStream` is reached before 8 characters are read\r\n3. Finds a string other than &quot;HTTP/1.&quot;\r\n\r\nIn case of number 2, `HTTPClient` will throw this `SocketException` *if* any of the following are true:\r\n\r\n* The HTTP method is [`CONNECT`](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.9)\r\n* The HTTP method is [`POST`](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) and the client is set to streaming mode\r\n\r\n## Why would this happen\r\n\r\nThis indicates that the TCP socket has been closed before the server was able to send a response. This could happen for any number of reasons, but some possibilities are:\r\n\r\n* Network connection was lost\r\n* The server decided to close the connection\r\n* Something in between the client and the server (nginx, router, etc) terminated the request\r\n\r\n&lt;sub&gt;Note: When Nginx reloads its config, [it forcefully closes any in-flight HTTP Keep-Alive connections][1] (even POSTs), causing this exact error.&lt;/sub&gt;\r\n\r\n  [1]: https://trac.nginx.org/nginx/ticket/1022","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<h1>Summary</h1>\n\n<p>This exception is encountered when you are expecting a response, but the socket has been abruptly closed.</p>\n\n<h1>Detailed Explanation</h1>\n\n<p>Java's <code>HTTPClient</code>, found <a href=\"https://github.com/openjdk-mirror/jdk/blob/jdk8u/jdk8u/master/src/share/classes/sun/net/www/http/HttpClient.java#L701-L792\" rel=\"noreferrer\">here</a>, throws a <code>SocketException</code> with message \"Unexpected end of file from server\" in a very specific circumstance.</p>\n\n<p>After making a request, <code>HTTPClient</code> gets an <code>InputStream</code> tied to the socket associated with the request. It then polls that <code>InputStream</code> repeatedly until it either:</p>\n\n<ol>\n<li>Finds the string \"HTTP/1.\"</li>\n<li>The end of the <code>InputStream</code> is reached before 8 characters are read</li>\n<li>Finds a string other than \"HTTP/1.\"</li>\n</ol>\n\n<p>In case of number 2, <code>HTTPClient</code> will throw this <code>SocketException</code> <em>if</em> any of the following are true:</p>\n\n<ul>\n<li>The HTTP method is <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.9\" rel=\"noreferrer\"><code>CONNECT</code></a></li>\n<li>The HTTP method is <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5\" rel=\"noreferrer\"><code>POST</code></a> and the client is set to streaming mode</li>\n</ul>\n\n<h2>Why would this happen</h2>\n\n<p>This indicates that the TCP socket has been closed before the server was able to send a response. This could happen for any number of reasons, but some possibilities are:</p>\n\n<ul>\n<li>Network connection was lost</li>\n<li>The server decided to close the connection</li>\n<li>Something in between the client and the server (nginx, router, etc) terminated the request</li>\n</ul>\n\n<p><sub>Note: When Nginx reloads its config, <a href=\"https://trac.nginx.org/nginx/ticket/1022\" rel=\"noreferrer\">it forcefully closes any in-flight HTTP Keep-Alive connections</a> (even POSTs), causing this exact error.</sub></p>\n"},{"tags":[],"owner":{"account_id":9841334,"reputation":11,"user_id":7290267,"display_name":"zhouzhichao"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1502434367,"creation_date":1502434367,"answer_id":45628755,"question_id":19824339,"body_markdown":"I got this exception too. MY error code is below\r\n\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(requestMethod);\r\n            connection.setRequestProperty(&quot;Content-type&quot;, &quot;JSON&quot;);\r\n\r\n\r\nI found &quot;Content-type&quot; should not be &quot;JSON&quot;,is wrong!\r\nI solved this exception by update this line to below\r\n\r\n            connection.setRequestProperty(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n\r\nyou can check up your &quot;Content-type&quot;\r\n","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I got this exception too. MY error code is below</p>\n\n<pre><code>        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(requestMethod);\n        connection.setRequestProperty(\"Content-type\", \"JSON\");\n</code></pre>\n\n<p>I found \"Content-type\" should not be \"JSON\",is wrong!\nI solved this exception by update this line to below</p>\n\n<pre><code>        connection.setRequestProperty(\"Content-type\", \"application/json\");\n</code></pre>\n\n<p>you can check up your \"Content-type\"</p>\n"},{"tags":[],"owner":{"account_id":904672,"reputation":977,"user_id":939803,"accept_rate":59,"display_name":"Filipe Manuel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539180836,"creation_date":1539180836,"answer_id":52742264,"question_id":19824339,"body_markdown":"In my case it was solved just passing proxy to connection. Thanks to [@Andreas Panagiotidis][1].\r\n\r\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;&lt;YOUR.HOST&gt;&quot;, 80)));\r\n    HttpsURLConnection con = (HttpsURLConnection) url.openConnection(proxy);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41966030/939803","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>In my case it was solved just passing proxy to connection. Thanks to <a href=\"https://stackoverflow.com/a/41966030/939803\">@Andreas Panagiotidis</a>.</p>\n\n<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"&lt;YOUR.HOST&gt;\", 80)));\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection(proxy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888717,"reputation":749,"user_id":1707375,"accept_rate":38,"display_name":"Kris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641379158,"creation_date":1563662798,"answer_id":57129146,"question_id":19824339,"body_markdown":"Most likely the headers you are setting is incorrect or not acceptable.\r\n\r\nExample:\r\n\r\n    connnection.setRequestProperty(&quot;content-type&quot;, &quot;application/json&quot;);","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>Most likely the headers you are setting is incorrect or not acceptable.</p>\n<p>Example:</p>\n<pre><code>connnection.setRequestProperty(&quot;content-type&quot;, &quot;application/json&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588427801,"creation_date":1588427801,"answer_id":61560523,"question_id":19824339,"body_markdown":"In my case   url contained wrong chars like spaces . Overall log your url  and in some cases use browser.","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>In my case   url contained wrong chars like spaces . Overall log your url  and in some cases use browser.</p>\n"}],"owner":{"account_id":3546655,"reputation":567,"user_id":2962455,"display_name":"Maciej Skrzypiński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260418,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":19824626,"answer_count":8,"score":57,"last_activity_date":1658174851,"creation_date":1383777454,"question_id":19824339,"body_markdown":"I wrote some simple code in Java, the method should connect to the website and return the BufferedReader.\r\n\r\n    private BufferedReader getConnection(String url_a) {\r\n            URL url;\r\n            try {\r\n                System.out.println(&quot;getting connection&quot;);\r\n                url = new URL(url_a);\r\n                HttpURLConnection urlConnection = (HttpURLConnection) \r\n                         url.openConnection();\r\n                urlConnection.addRequestProperty(&quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; U; Linux i586; en-US; rv:1.7.3) Gecko/20040924&quot;\r\n                         + &quot;Epiphany/1.4.4 (Ubuntu)&quot;);\r\n                inStream = new InputStreamReader(urlConnection.getInputStream());\r\n                return new BufferedReader(inStream);\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(Reader.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            return null;\r\n    \r\n    }\r\n\r\n\r\nWhen I use it on my PC, it works fine but when I put .jar file on the server I get this error:\r\n\r\n    java.net.SocketException: Unexpected end of file from server\r\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:718)\r\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\r\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:715)\r\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\r\n    at dataconverter.Reader.getConnection(Reader.java.260)\r\n\r\nProblem is quite strange because the exception isn&#39;t thrown each time, sometimes everything is OK and program works fine.\r\n\r\nHas anybody got any ideas?\r\n\r\n","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I wrote some simple code in Java, the method should connect to the website and return the BufferedReader.</p>\n\n<pre><code>private BufferedReader getConnection(String url_a) {\n        URL url;\n        try {\n            System.out.println(\"getting connection\");\n            url = new URL(url_a);\n            HttpURLConnection urlConnection = (HttpURLConnection) \n                     url.openConnection();\n            urlConnection.addRequestProperty(\"User-Agent\",\n                    \"Mozilla/5.0 (X11; U; Linux i586; en-US; rv:1.7.3) Gecko/20040924\"\n                     + \"Epiphany/1.4.4 (Ubuntu)\");\n            inStream = new InputStreamReader(urlConnection.getInputStream());\n            return new BufferedReader(inStream);\n        } catch (Exception ex) {\n            Logger.getLogger(Reader.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        return null;\n\n}\n</code></pre>\n\n<p>When I use it on my PC, it works fine but when I put .jar file on the server I get this error:</p>\n\n<pre><code>java.net.SocketException: Unexpected end of file from server\nat sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:718)\nat sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\nat sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:715)\nat sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\nat dataconverter.Reader.getConnection(Reader.java.260)\n</code></pre>\n\n<p>Problem is quite strange because the exception isn't thrown each time, sometimes everything is OK and program works fine.</p>\n\n<p>Has anybody got any ideas?</p>\n"},{"tags":["java","amazon-web-services","api"],"comments":[{"owner":{"account_id":45915,"reputation":3990,"user_id":135535,"accept_rate":59,"display_name":"Christoph"},"score":1,"creation_date":1622324908,"post_id":67092530,"comment_id":119761937,"body_markdown":"I remember we recently had something similar. You need to make sure your AWS IAM AccessKey/Secret are from the same region as you are making the request. So if you are calling sellingpartnerapi-eu.amazon.com then region is eu-west1. All credentials need also be eu-west1. The keyword &quot;Credential Scope&quot; was important in our case and this section of the documentation helped: https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#credential-scope","body":"I remember we recently had something similar. You need to make sure your AWS IAM AccessKey/Secret are from the same region as you are making the request. So if you are calling sellingpartnerapi-eu.amazon.com then region is eu-west1. All credentials need also be eu-west1. The keyword &quot;Credential Scope&quot; was important in our case and this section of the documentation helped: <a href=\"https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#credential-scope\" rel=\"nofollow noreferrer\">github.com/amzn/selling-partner-api-docs/blob/main/guides/en&zwnj;&#8203;-US/&hellip;</a>"},{"owner":{"account_id":3695194,"reputation":105,"user_id":3076750,"accept_rate":40,"display_name":"user3076750"},"score":1,"creation_date":1632759684,"post_id":67092530,"comment_id":122574397,"body_markdown":"Restricted Data tokens will be required for this access around July 2022.  So, while it works now, it won&#39;t in the future.\nDid you ever get the restricted resource endpoint working?  Struggling with it now.","body":"Restricted Data tokens will be required for this access around July 2022.  So, while it works now, it won&#39;t in the future. Did you ever get the restricted resource endpoint working?  Struggling with it now."},{"owner":{"account_id":2094327,"reputation":131,"user_id":1863457,"accept_rate":38,"display_name":"user1863457"},"score":1,"creation_date":1634612975,"post_id":67092530,"comment_id":123065428,"body_markdown":"i honestly think the API is broken... it doesn&#39;t make any sense it sends in two x-amz-access-tokens instead of just one which is causing it to break postman works fine... but these java classes not so much.","body":"i honestly think the API is broken... it doesn&#39;t make any sense it sends in two x-amz-access-tokens instead of just one which is causing it to break postman works fine... but these java classes not so much."},{"owner":{"account_id":10189282,"reputation":241,"user_id":7523242,"display_name":"loaded02"},"score":0,"creation_date":1641753066,"post_id":67092530,"comment_id":124882967,"body_markdown":"@Giga I am having a very similar issue. Could you manage to solve it with Java SDK? Thanks.","body":"@Giga I am having a very similar issue. Could you manage to solve it with Java SDK? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":10189282,"reputation":241,"user_id":7523242,"display_name":"loaded02"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658174760,"creation_date":1641803669,"answer_id":70649659,"question_id":67092530,"body_markdown":"According to RDT Token Flow and Amazon SP-API Java SDK I want to point to [this official example workflow][1]. \r\n\r\nUnfortunately the use of \r\n`ordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token);`\r\nis broken in the ApiClient provided by Amazon and needs some custom adjustment to make it work.\r\n\r\nIf the request is only signed by LwaAuthorizationSigner when x-amz-access-token is missing, fixes the flow for me. Compare this [PR][2]\r\n\r\nChange ApiClient.java like this:\r\n\r\n    -        request = lwaAuthorizationSigner.sign(request);\r\n    +        if (!defaultHeaderMap.containsKey(&quot;x-amz-access-token&quot;)) {\r\n    +            request = lwaAuthorizationSigner.sign(request);\r\n    +        }\r\n\r\n\r\n  [1]: https://github.com/amzn/selling-partner-api-models/blob/817ca69acc83a40cfc0b02c7dda5d6534a9c752a/clients/sample-code/RestrictedDataTokenWorkflow.java\r\n  [2]: https://github.com/loaded02/selling-partner-api-models/pull/1/files","title":"How to use Restricted Data Token (RDT) in Amazon SP Api for Java","body":"<p>According to RDT Token Flow and Amazon SP-API Java SDK I want to point to <a href=\"https://github.com/amzn/selling-partner-api-models/blob/817ca69acc83a40cfc0b02c7dda5d6534a9c752a/clients/sample-code/RestrictedDataTokenWorkflow.java\" rel=\"nofollow noreferrer\">this official example workflow</a>.</p>\n<p>Unfortunately the use of\n<code>ordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token);</code>\nis broken in the ApiClient provided by Amazon and needs some custom adjustment to make it work.</p>\n<p>If the request is only signed by LwaAuthorizationSigner when x-amz-access-token is missing, fixes the flow for me. Compare this <a href=\"https://github.com/loaded02/selling-partner-api-models/pull/1/files\" rel=\"nofollow noreferrer\">PR</a></p>\n<p>Change ApiClient.java like this:</p>\n<pre><code>-        request = lwaAuthorizationSigner.sign(request);\n+        if (!defaultHeaderMap.containsKey(&quot;x-amz-access-token&quot;)) {\n+            request = lwaAuthorizationSigner.sign(request);\n+        }\n</code></pre>\n"}],"owner":{"account_id":18709624,"reputation":77,"user_id":13639961,"display_name":"Giga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3972,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1658174760,"creation_date":1618406108,"question_id":67092530,"body_markdown":"I am using [Amazon SP api with generated Java SDK]. My test-application is checking the orders and also the delivery address. According to Amazon, this should be a [restricted operation]. But at the moment, I can get the information without the usage of RDT. I tried to use RDT as shown below but it is not working.\r\n\r\n    // Build orders-api\r\n    OrdersV0Api ordersApi = new OrdersV0Api.Builder()\r\n\t\t\t\t  .awsAuthenticationCredentials(awsAuthenticationCredentials)\r\n\t\t\t\t  .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\r\n\t\t\t\t  .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\r\n\t\t\t\t  .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\r\n\t\t\t\t  .build();\r\n\t\t\r\n\tList&lt;String&gt; orderStatuses = new ArrayList&lt;String&gt;();\r\n\torderStatuses.add(OrderStatusEnum.UNSHIPPED.getValue());\r\n\t\t\r\n\tCalendar cal = Calendar.getInstance();\r\n\tcal.add(Calendar.DATE, -3);\r\n\t\t\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXX&quot;);\r\n\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tString tmp = sdf.format(new Date());\r\n\t\t\r\n\ttry {\r\n        // Get orders\r\n\t\tGetOrdersResponse respOrders = ordersApi.getOrders(Marketplaces.getAllMarketplaces(), sdf.format(cal.getTime()), null, null, null, orderStatuses, null, null, null, null, 100, null, null, null);\r\n\t\tOrderList orders = respOrders.getPayload().getOrders();\r\n\t\tOrder ord = orders.get(0);\r\n\t\t\t\r\n\t\t// Restricted Data Token\r\n\t\tRestrictedResource rr = new RestrictedResource();\r\n\t\trr.setMethod(MethodEnum.GET);\r\n\t\trr.setPath(&quot;/orders/v0/orders/&quot; + ord.getAmazonOrderId() + &quot;/address&quot;);\r\n\r\n\t\tCreateRestrictedDataTokenRequest req = new CreateRestrictedDataTokenRequest();\r\n\t\treq.addRestrictedResourcesItem(rr);\r\n\t\t\r\n\t\tTokensApi tokensApi = new TokensApi.Builder()\r\n\t\t\t\t  .awsAuthenticationCredentials(awsAuthenticationCredentials)\r\n\t\t\t\t  .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\r\n\t\t\t\t  .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\r\n\t\t\t\t  .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\r\n\t\t\t\t  .build(); \r\n\r\n\t\tCreateRestrictedDataTokenResponse resp3 = tokensApi.createRestrictedDataToken(req);\r\n\t\tString token = resp3.getRestrictedDataToken();\r\n\t\r\n        // Add token to Header ?\r\n\t\tordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token); \r\n\t\t\t\r\n        // Get delivery adress\r\n\t\tGetOrderAddressResponse respAdress = ordersApi.getOrderAddress(ord.getAmazonOrderId());\r\n\t\tAddress adr = respAdress.getPayload().getShippingAddress();\r\n\t\t\t\r\n\t} catch (ApiException e) {\r\n\t\t\te.printStackTrace();\r\n\t} \r\n\r\nWhen I execute this, I am getting this error:\r\n*&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.*\r\n\r\nIt seems like only setting x-amz-access-token is not the right operation to add the RDP. But I also can not see any other operation on ordersApi or ordersApi.getApiClient that seems to be the right one.\r\nAnd also it is unclear to me, why it is working when I just completely not use tokens-api at all.\r\n\r\n[Amazon SP api with generated Java SDK]: https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#connecting-to-the-selling-partner-api-using-a-generated-java-sdk\r\n  [restricted operation]: https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/use-case-guides/tokens-api-use-case-guide/tokens-API-use-case-guide-2021-03-01.md#restricted-operations","title":"How to use Restricted Data Token (RDT) in Amazon SP Api for Java","body":"<p>I am using <a href=\"https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#connecting-to-the-selling-partner-api-using-a-generated-java-sdk\" rel=\"noreferrer\">Amazon SP api with generated Java SDK</a>. My test-application is checking the orders and also the delivery address. According to Amazon, this should be a <a href=\"https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/use-case-guides/tokens-api-use-case-guide/tokens-API-use-case-guide-2021-03-01.md#restricted-operations\" rel=\"noreferrer\">restricted operation</a>. But at the moment, I can get the information without the usage of RDT. I tried to use RDT as shown below but it is not working.</p>\n<pre><code>// Build orders-api\nOrdersV0Api ordersApi = new OrdersV0Api.Builder()\n              .awsAuthenticationCredentials(awsAuthenticationCredentials)\n              .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\n              .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\n              .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\n              .build();\n    \nList&lt;String&gt; orderStatuses = new ArrayList&lt;String&gt;();\norderStatuses.add(OrderStatusEnum.UNSHIPPED.getValue());\n    \nCalendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, -3);\n    \nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXX&quot;);\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\nString tmp = sdf.format(new Date());\n    \ntry {\n    // Get orders\n    GetOrdersResponse respOrders = ordersApi.getOrders(Marketplaces.getAllMarketplaces(), sdf.format(cal.getTime()), null, null, null, orderStatuses, null, null, null, null, 100, null, null, null);\n    OrderList orders = respOrders.getPayload().getOrders();\n    Order ord = orders.get(0);\n        \n    // Restricted Data Token\n    RestrictedResource rr = new RestrictedResource();\n    rr.setMethod(MethodEnum.GET);\n    rr.setPath(&quot;/orders/v0/orders/&quot; + ord.getAmazonOrderId() + &quot;/address&quot;);\n\n    CreateRestrictedDataTokenRequest req = new CreateRestrictedDataTokenRequest();\n    req.addRestrictedResourcesItem(rr);\n    \n    TokensApi tokensApi = new TokensApi.Builder()\n              .awsAuthenticationCredentials(awsAuthenticationCredentials)\n              .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\n              .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\n              .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\n              .build(); \n\n    CreateRestrictedDataTokenResponse resp3 = tokensApi.createRestrictedDataToken(req);\n    String token = resp3.getRestrictedDataToken();\n\n    // Add token to Header ?\n    ordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token); \n        \n    // Get delivery adress\n    GetOrderAddressResponse respAdress = ordersApi.getOrderAddress(ord.getAmazonOrderId());\n    Address adr = respAdress.getPayload().getShippingAddress();\n        \n} catch (ApiException e) {\n        e.printStackTrace();\n} \n</code></pre>\n<p>When I execute this, I am getting this error:\n<em>&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.</em></p>\n<p>It seems like only setting x-amz-access-token is not the right operation to add the RDP. But I also can not see any other operation on ordersApi or ordersApi.getApiClient that seems to be the right one.\nAnd also it is unclear to me, why it is working when I just completely not use tokens-api at all.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8816,"page":1176,"page_size":100}
