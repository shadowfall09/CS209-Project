{"items":[{"tags":["java","maven","tomcat","rapidclipse"],"comments":[{"owner":{"account_id":3233740,"reputation":143,"user_id":2728391,"display_name":"Schwabenheinz"},"score":0,"creation_date":1674749862,"post_id":75164773,"comment_id":132784579,"body_markdown":"Not an answer, but I used RC11 on Linux and I had the same problem. \nRunning in RC/Eclipse development environment works fine, But deployment on other tomcat by a generated war file did not work.","body":"Not an answer, but I used RC11 on Linux and I had the same problem.  Running in RC/Eclipse development environment works fine, But deployment on other tomcat by a generated war file did not work."}],"answers":[{"tags":[],"owner":{"account_id":3511729,"reputation":11,"user_id":9364926,"display_name":"Dirk Bundies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696794906,"creation_date":1696794906,"answer_id":77255123,"question_id":75164773,"body_markdown":"In the Develop Perspective select your RapidClipse Project, then right click on it to open the context menu. Click on &#39;Run As&#39; then &#39;Maven build...&#39;. In the dialog enter the following in the field &#39;goals&#39;:\r\n\r\nclean package -Pproduction\r\n\r\nThen press &#39;Run&#39;. At the end a .war-File has been created in your /target folder of the RapidClipse Project which contains everything to run this .war-File on another machine running.\r\n\r\nIf you only have choosed &#39;clean package&#39; the .war-File does not contain all necessary files to run on another machine.\r\n","title":"RapidClipse X + 11 deployment generates a &quot;war-file&quot; without any index-file inside","body":"<p>In the Develop Perspective select your RapidClipse Project, then right click on it to open the context menu. Click on 'Run As' then 'Maven build...'. In the dialog enter the following in the field 'goals':</p>\n<p>clean package -Pproduction</p>\n<p>Then press 'Run'. At the end a .war-File has been created in your /target folder of the RapidClipse Project which contains everything to run this .war-File on another machine running.</p>\n<p>If you only have choosed 'clean package' the .war-File does not contain all necessary files to run on another machine.</p>\n"}],"owner":{"account_id":27497168,"reputation":11,"user_id":20981515,"display_name":"andre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696794906,"creation_date":1674072568,"question_id":75164773,"body_markdown":"I am interested in working with rapidclipse and I tried it out a little. \r\nI installed rapidclipse on win10 pro. \r\nEverything works fine, and the internal preview from rapidclipse works shows the expected result.\r\n\r\nBut when I generate a war-file and deploy it to Tomcat, Tomcat shows an error: &quot;resource not found&quot;. \r\nI found out that there were no index files in the deployed folder from Tomcat. \r\nAfter creating an index file manually, the error disappeared from Tomcat.\r\n\r\nAt last I found out, there is no index-file inside the war-archive.\r\n\r\nThe index-file in the generated war-archive by rapidclipse is always missing.\r\n\r\nI guess that it is a configuration problem of rapidclipse.\r\n\r\nIs there anybody there who can help me?\r\n\r\n**What i&#39;ve tried:**\r\n\r\n* I updated maven as is it described in the tutorial and checked all possible configurations in the properties from rapidclipse.\r\n* I used different Tomcat versions (9,10,11), and also a jetty server for deploying.\r\n* I installed rapidclipse in different versions (10,11) on different machines (4 or 5 pcs)","title":"RapidClipse X + 11 deployment generates a &quot;war-file&quot; without any index-file inside","body":"<p>I am interested in working with rapidclipse and I tried it out a little.\nI installed rapidclipse on win10 pro.\nEverything works fine, and the internal preview from rapidclipse works shows the expected result.</p>\n<p>But when I generate a war-file and deploy it to Tomcat, Tomcat shows an error: &quot;resource not found&quot;.\nI found out that there were no index files in the deployed folder from Tomcat.\nAfter creating an index file manually, the error disappeared from Tomcat.</p>\n<p>At last I found out, there is no index-file inside the war-archive.</p>\n<p>The index-file in the generated war-archive by rapidclipse is always missing.</p>\n<p>I guess that it is a configuration problem of rapidclipse.</p>\n<p>Is there anybody there who can help me?</p>\n<p><strong>What i've tried:</strong></p>\n<ul>\n<li>I updated maven as is it described in the tutorial and checked all possible configurations in the properties from rapidclipse.</li>\n<li>I used different Tomcat versions (9,10,11), and also a jetty server for deploying.</li>\n<li>I installed rapidclipse in different versions (10,11) on different machines (4 or 5 pcs)</li>\n</ul>\n"},{"tags":["java","gradle","kotlin-multiplatform"],"answers":[{"comments":[{"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"score":0,"creation_date":1696783305,"post_id":77253175,"comment_id":136194504,"body_markdown":"Moving the dependencies from the common target to the other ones will cause project &quot;:sub1&quot;&#39;s common source to not be available to &quot;:sub2&quot; and any other parent projects.\n\nWhen you mean &quot;specify variant attribute&quot;, do you mean just setting the attribute?","body":"Moving the dependencies from the common target to the other ones will cause project &quot;:sub1&quot;&#39;s common source to not be available to &quot;:sub2&quot; and any other parent projects.  When you mean &quot;specify variant attribute&quot;, do you mean just setting the attribute?"},{"owner":{"account_id":9869929,"reputation":2144,"user_id":7309962,"display_name":"Evgeny K"},"score":0,"creation_date":1696793611,"post_id":77253175,"comment_id":136195541,"body_markdown":"Yes, you need to mark the targets on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution. Why do you think common source won&#39;t be available? It will be.","body":"Yes, you need to mark the targets on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution. Why do you think common source won&#39;t be available? It will be."},{"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"score":0,"creation_date":1696805134,"post_id":77253175,"comment_id":136196471,"body_markdown":"So, when I do that, the IDE I&#39;m using (Android Studio) cannot resolve the common source references in the parent projects. It seems if I build using gradle only, the build actually succeeds. I figured out that moving the dependencies with the attribute set to the targets, as you stated, but ALSO adding a &quot;compileOnly(project(&quot;:sub1&quot;))&quot; to the common target in :sub2 fixes the unresolved references in the IDE.","body":"So, when I do that, the IDE I&#39;m using (Android Studio) cannot resolve the common source references in the parent projects. It seems if I build using gradle only, the build actually succeeds. I figured out that moving the dependencies with the attribute set to the targets, as you stated, but ALSO adding a &quot;compileOnly(project(&quot;:sub1&quot;))&quot; to the common target in :sub2 fixes the unresolved references in the IDE."}],"tags":[],"owner":{"account_id":9869929,"reputation":2144,"user_id":7309962,"display_name":"Evgeny K"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696793772,"creation_date":1696759783,"answer_id":77253175,"question_id":77252663,"body_markdown":"According to error message in project `:sub2` Gradle can&#39;t choose between `jvm` and `jvm(&quot;custom&quot;)` for `:sub1`.\r\n\r\nTargets should be marked on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution.\r\n\r\nSo in project `:sub2` you either need to specify variant attribute for `:sub1` project or move dependency from common source. For example:\r\n\r\n```kotlin\r\nkotlin {\r\n    ...\r\n    sourceSets {\r\n        val jvmMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;)) {\r\n                    attributes {\r\n                        attribute(customAttribute, &quot;normal&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        val customMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;)) {\r\n                    attributes {\r\n                        attribute(customAttribute, &quot;customValue&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTake a look at [Kotlin Multiplatform documentations for several targets](https://kotlinlang.org/docs/multiplatform-set-up-targets.html#distinguish-several-targets-for-one-platform)","title":"Gradle KMM custom attribute doesn&#39;t get propagated to project&#39;s KMM dependencies","body":"<p>According to error message in project <code>:sub2</code> Gradle can't choose between <code>jvm</code> and <code>jvm(&quot;custom&quot;)</code> for <code>:sub1</code>.</p>\n<p>Targets should be marked on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution.</p>\n<p>So in project <code>:sub2</code> you either need to specify variant attribute for <code>:sub1</code> project or move dependency from common source. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n    ...\n    sourceSets {\n        val jvmMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;)) {\n                    attributes {\n                        attribute(customAttribute, &quot;normal&quot;)\n                    }\n                }\n            }\n        }\n        val customMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;)) {\n                    attributes {\n                        attribute(customAttribute, &quot;customValue&quot;)\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"https://kotlinlang.org/docs/multiplatform-set-up-targets.html#distinguish-several-targets-for-one-platform\" rel=\"nofollow noreferrer\">Kotlin Multiplatform documentations for several targets</a></p>\n"}],"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253175,"answer_count":1,"score":0,"last_activity_date":1696793772,"creation_date":1696749227,"question_id":77252663,"body_markdown":"Assume I have 3 gradle projects with the following paths and file contents:\r\n\r\n`:sub1` is a KMM project:\r\n```\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;)\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\r\nkotlin {\r\n    targetHierarchy.default()\r\n\r\n    jvm {\r\n        attributes {\r\n            attribute(customAttribute, &quot;normal&quot;)\r\n        }\r\n    }\r\n    jvm(&quot;custom&quot;) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting\r\n    }\r\n}\r\n```\r\n\r\n`:sub2` is a KMM project that depends on `:sub1`:\r\n```\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;)\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\r\nkotlin {\r\n    targetHierarchy.default()\r\n\r\n    jvm {\r\n        attributes {\r\n            attribute(customAttribute, &quot;normal&quot;)\r\n        }\r\n    }\r\n    jvm(&quot;custom&quot;) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;))\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n`:parent` which is a JVM project that depends on `:sub2`:\r\n```\r\nplugins {\r\n    id(&quot;kotlin&quot;)\r\n    id(&quot;org.jetbrains.kotlin.jvm&quot;)\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    targetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\ndependencies {\r\n    api(project(&quot;:sub2&quot;)) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBuilding `:project` causes the following error:\r\n```\r\n   &gt; Could not resolve project :sub1.\r\n     Required by:\r\n         project :project &gt; project :sub2\r\n      &gt; The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute &#39;org.jetbrains.kotlin.platform.type&#39; with value &#39;jvm&#39;. However we cannot choose between the following variants of project :sub1\r\n          - jvmApiElements\r\n          - jvmRuntimeElements\r\n          - customApiElements\r\n          - customRuntimeElements\r\n\r\n```\r\n\r\nHow do I make it so that the &quot;customValue&quot; of customAttribute declared in `:project` propagates down to the project `:sub1` from `:sub2`, instead of only going down to `:sub2`, so that the &quot;custom&quot; JVM target is chosen?\r\n\r\nI have tried to set a Gradle project property during the configuration step, but I can&#39;t seem to find a way to guarantee project configuration order, so I can&#39;t reliably use properties either.","title":"Gradle KMM custom attribute doesn&#39;t get propagated to project&#39;s KMM dependencies","body":"<p>Assume I have 3 gradle projects with the following paths and file contents:</p>\n<p><code>:sub1</code> is a KMM project:</p>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\nkotlin {\n    targetHierarchy.default()\n\n    jvm {\n        attributes {\n            attribute(customAttribute, &quot;normal&quot;)\n        }\n    }\n    jvm(&quot;custom&quot;) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n\n    sourceSets {\n        val commonMain by getting\n    }\n}\n</code></pre>\n<p><code>:sub2</code> is a KMM project that depends on <code>:sub1</code>:</p>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\nkotlin {\n    targetHierarchy.default()\n\n    jvm {\n        attributes {\n            attribute(customAttribute, &quot;normal&quot;)\n        }\n    }\n    jvm(&quot;custom&quot;) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;))\n            }\n        }\n    }\n}\n</code></pre>\n<p><code>:parent</code> which is a JVM project that depends on <code>:sub2</code>:</p>\n<pre><code>plugins {\n    id(&quot;kotlin&quot;)\n    id(&quot;org.jetbrains.kotlin.jvm&quot;)\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\ndependencies {\n    api(project(&quot;:sub2&quot;)) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Building <code>:project</code> causes the following error:</p>\n<pre><code>   &gt; Could not resolve project :sub1.\n     Required by:\n         project :project &gt; project :sub2\n      &gt; The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute 'org.jetbrains.kotlin.platform.type' with value 'jvm'. However we cannot choose between the following variants of project :sub1\n          - jvmApiElements\n          - jvmRuntimeElements\n          - customApiElements\n          - customRuntimeElements\n\n</code></pre>\n<p>How do I make it so that the &quot;customValue&quot; of customAttribute declared in <code>:project</code> propagates down to the project <code>:sub1</code> from <code>:sub2</code>, instead of only going down to <code>:sub2</code>, so that the &quot;custom&quot; JVM target is chosen?</p>\n<p>I have tried to set a Gradle project property during the configuration step, but I can't seem to find a way to guarantee project configuration order, so I can't reliably use properties either.</p>\n"},{"tags":["java","android","android-toolbar","android-collapsingtoolbarlayout"],"answers":[{"tags":[],"owner":{"account_id":15219035,"reputation":74,"user_id":18515851,"display_name":"Jordy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696790949,"creation_date":1696790949,"answer_id":77254912,"question_id":77254556,"body_markdown":"It&#39;s all about AppBarLayout.\r\n\r\nYou can configure this way. \r\n\r\nAs mentioned in this question [here][1]\r\n```xml\r\n&lt;com.google.android.material.appbar.AppBarLayout \r\n\t\t\t\t \r\n        android:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:background=&quot;@null&quot;\r\n\t\tandroid:theme=&quot;?attr/actionBarTheme&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/AppBarLayout&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:outlineProvider=&quot;none&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n    \r\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58797479/how-i-can-remove-shadow-or-divider-from-bottom-of-appbar-layout-or-toolbar","title":"How to make the background of a toolbar transparent","body":"<p>It's all about AppBarLayout.</p>\n<p>You can configure this way.</p>\n<p>As mentioned in this question <a href=\"https://stackoverflow.com/questions/58797479/how-i-can-remove-shadow-or-divider-from-bottom-of-appbar-layout-or-toolbar\">here</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.appbar.AppBarLayout \n                 \n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@null&quot;\n        android:theme=&quot;?attr/actionBarTheme&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/AppBarLayout&quot;\n        android:orientation=&quot;vertical&quot;\n        android:outlineProvider=&quot;none&quot;\n        app:elevation=&quot;0dp&quot;&gt;\n    \n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24462790,"reputation":13,"user_id":18383612,"display_name":"Waleed Ashraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696793743,"creation_date":1696793743,"answer_id":77255064,"question_id":77254556,"body_markdown":"To remove the white rectangular view behind the toolbar, you can try the following:\r\n\r\nUse a custom background for the collapsing toolbar. This can be a transparent drawable or a drawable with a gradient that matches the status bar color. This will hide the white background when the toolbar collapses.\r\nUse a splash screen. A splash screen can be used to display the app&#39;s logo and branding while the app is initializing. This will hide the white background and give the user the impression that the app is loading.\r\nOptimize the app&#39;s initialization. This will minimize the amount of time that the white background is visible. You can do this by loading essential resources lazily and asynchronously, and by delaying resource-heavy operations until after the main activity has started.\r\nHere is an example of how to use a custom background for the collapsing toolbar:\r\n\r\n    &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/custom_collapsing_toolbar_background&quot;\r\n        app:contentScrim=&quot;@drawable/custom_collapsing_toolbar_background&quot;\r\n        app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\r\n        app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\r\n    \r\n        // ...\r\n    \r\n    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\nThe `custom_collapsing_toolbar_background.xml` drawable can be a transparent drawable or a drawable with a gradient that matches the status bar color.\r\n\r\nHere is an example of how to use a splash screen:\r\n\r\n    &lt;activity android:name=&quot;.SplashActivity&quot;\r\n        android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nThe `SplashActivity` class can be used to display the app&#39;s logo and branding while the app is initializing. Once the app has initialized, the `SplashActivity` can finish and the main activity can be started.\r\n\r\nHere is an example of how to optimize the app&#39;s initialization:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Load essential resources lazily and asynchronously.\r\n            // ...\r\n    \r\n            // Delay resource-heavy operations until after the main activity has started.\r\n            // ...\r\n        }\r\n    }\r\n\r\n","title":"How to make the background of a toolbar transparent","body":"<p>To remove the white rectangular view behind the toolbar, you can try the following:</p>\n<p>Use a custom background for the collapsing toolbar. This can be a transparent drawable or a drawable with a gradient that matches the status bar color. This will hide the white background when the toolbar collapses.\nUse a splash screen. A splash screen can be used to display the app's logo and branding while the app is initializing. This will hide the white background and give the user the impression that the app is loading.\nOptimize the app's initialization. This will minimize the amount of time that the white background is visible. You can do this by loading essential resources lazily and asynchronously, and by delaying resource-heavy operations until after the main activity has started.\nHere is an example of how to use a custom background for the collapsing toolbar:</p>\n<pre><code>&lt;com.google.android.material.appbar.CollapsingToolbarLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/custom_collapsing_toolbar_background&quot;\n    app:contentScrim=&quot;@drawable/custom_collapsing_toolbar_background&quot;\n    app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\n    app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\n\n    // ...\n\n&lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n</code></pre>\n<p>The <code>custom_collapsing_toolbar_background.xml</code> drawable can be a transparent drawable or a drawable with a gradient that matches the status bar color.</p>\n<p>Here is an example of how to use a splash screen:</p>\n<pre><code>&lt;activity android:name=&quot;.SplashActivity&quot;\n    android:theme=&quot;@style/SplashTheme&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>The <code>SplashActivity</code> class can be used to display the app's logo and branding while the app is initializing. Once the app has initialized, the <code>SplashActivity</code> can finish and the main activity can be started.</p>\n<p>Here is an example of how to optimize the app's initialization:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Load essential resources lazily and asynchronously.\n        // ...\n\n        // Delay resource-heavy operations until after the main activity has started.\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23727738,"reputation":13,"user_id":17747424,"display_name":"user17747424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77254912,"answer_count":2,"score":0,"last_activity_date":1696793743,"creation_date":1696785089,"question_id":77254556,"body_markdown":"I have a collapsing toolbar set up and everything is working as intended. There is only one problem, when the toolbar collapses, there is a white rectangular view behind the toolbar as shown in the image below.[![look closely behind the toolbar as shown by the arrows](https://i.stack.imgur.com/Ydptz.png)](https://i.stack.imgur.com/Ydptz.png) \r\nHere is the code for the activity_home.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.HomeActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:contentScrim=&quot;@drawable/custom_app_bar_background&quot;\r\n            app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\r\n            app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;300dp&quot;\r\n                android:background=&quot;@drawable/custom_app_bar_background&quot;\r\n                android:paddingHorizontal=&quot;20dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;40dp&quot;\r\n                    android:text=&quot;Empowering Discovery: Search the Database for a World of Information&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:text=&quot;Search The Database&quot;\r\n                    android:textColor=&quot;#c9d3f7&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:height=&quot;50dp&quot;\r\n                    android:hint=&quot;Search for media...&quot;\r\n                    android:paddingStart=&quot;20dp&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:drawableEnd=&quot;@drawable/search_btn&quot;\r\n                    android:paddingRight=&quot;5dp&quot;\r\n                    android:background=&quot;@drawable/search_bar_background&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n            \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@drawable/gradient&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:text=&quot;If you&#39;re looking to remove the default white background that appears while your app initializes, there isn&#39;t a direct way to remove it completely, as it&#39;s part of the Android system behavior. However, you can make it less noticeable or disguise it using various techniques. Here are a few alternatives:\r\n\r\n1. Use a Splash Screen:\r\nAs mentioned earlier, using a splash screen with your app&#39;s branding or logo can provide a smoother transition. The splash screen gives the impression that something is happening during the initialization phase, making the white background less noticeable.\r\n\r\n2. Optimize Initialization:\r\nEfficiently optimize your app&#39;s initialization process. Load essential resources lazily and asynchronously. Delay resource-heavy operations until after the main activity has started. By optimizing your initialization, the white background period is minimized, making it less noticeable.\r\n\r\n3. Set a Theme with Transparent Background:\r\nIn your app&#39;s theme, set the background to be transparent. This doesn&#39;t remove the white background but makes it less noticeable since the default background will be transparent instead of white. Add the following line to your theme in styles.xml:&quot;/&gt;\r\n\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nHere is the gradient.xml file code used for the toolbar background:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;120&quot;\r\n        android:endColor=&quot;@android:color/transparent&quot;\r\n        android:startColor=&quot;#3BB1EC&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n\r\n```\r\nHere is the code for the custom_app_bar_background.xml file used as scrim for CollapsingToolbarLayout and Linear layout background when the collapsing toolbar has expanded:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:startColor=&quot;#3BB1EC&quot;\r\n        android:endColor=&quot;#216CF1&quot;\r\n        android:angle=&quot;120&quot;/&gt;\r\n\r\n    &lt;corners\r\n        android:bottomRightRadius=&quot;40dp&quot;\r\n        android:bottomLeftRadius=&quot;40dp&quot;/&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried setting the background of the toolbar to transparent which did not work, because the status bar color did not smoothly mix with the tool bar color. The goal was to remove the white rectangular view behind the toolbar, as shown in the picture above.","title":"How to make the background of a toolbar transparent","body":"<p>I have a collapsing toolbar set up and everything is working as intended. There is only one problem, when the toolbar collapses, there is a white rectangular view behind the toolbar as shown in the image below.<a href=\"https://i.stack.imgur.com/Ydptz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ydptz.png\" alt=\"look closely behind the toolbar as shown by the arrows\" /></a>\nHere is the code for the activity_home.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HomeActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            app:contentScrim=&quot;@drawable/custom_app_bar_background&quot;\n            app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\n            app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;300dp&quot;\n                android:background=&quot;@drawable/custom_app_bar_background&quot;\n                android:paddingHorizontal=&quot;20dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;40dp&quot;\n                    android:text=&quot;Empowering Discovery: Search the Database for a World of Information&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textSize=&quot;30sp&quot;\n                    android:textStyle=&quot;bold&quot;/&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;Search The Database&quot;\n                    android:textColor=&quot;#c9d3f7&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n                &lt;EditText\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:height=&quot;50dp&quot;\n                    android:hint=&quot;Search for media...&quot;\n                    android:paddingStart=&quot;20dp&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:drawableEnd=&quot;@drawable/search_btn&quot;\n                    android:paddingRight=&quot;5dp&quot;\n                    android:background=&quot;@drawable/search_bar_background&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n            \n            &lt;androidx.appcompat.widget.Toolbar\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@drawable/gradient&quot;\n                app:layout_collapseMode=&quot;pin&quot;/&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;25sp&quot;\n            android:text=&quot;If you're looking to remove the default white background that appears while your app initializes, there isn't a direct way to remove it completely, as it's part of the Android system behavior. However, you can make it less noticeable or disguise it using various techniques. Here are a few alternatives:\n\n1. Use a Splash Screen:\nAs mentioned earlier, using a splash screen with your app's branding or logo can provide a smoother transition. The splash screen gives the impression that something is happening during the initialization phase, making the white background less noticeable.\n\n2. Optimize Initialization:\nEfficiently optimize your app's initialization process. Load essential resources lazily and asynchronously. Delay resource-heavy operations until after the main activity has started. By optimizing your initialization, the white background period is minimized, making it less noticeable.\n\n3. Set a Theme with Transparent Background:\nIn your app's theme, set the background to be transparent. This doesn't remove the white background but makes it less noticeable since the default background will be transparent instead of white. Add the following line to your theme in styles.xml:&quot;/&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Here is the gradient.xml file code used for the toolbar background:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;gradient\n        android:angle=&quot;120&quot;\n        android:endColor=&quot;@android:color/transparent&quot;\n        android:startColor=&quot;#3BB1EC&quot; /&gt;\n\n&lt;/shape&gt;\n\n</code></pre>\n<p>Here is the code for the custom_app_bar_background.xml file used as scrim for CollapsingToolbarLayout and Linear layout background when the collapsing toolbar has expanded:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;gradient\n        android:startColor=&quot;#3BB1EC&quot;\n        android:endColor=&quot;#216CF1&quot;\n        android:angle=&quot;120&quot;/&gt;\n\n    &lt;corners\n        android:bottomRightRadius=&quot;40dp&quot;\n        android:bottomLeftRadius=&quot;40dp&quot;/&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<p>I have tried setting the background of the toolbar to transparent which did not work, because the status bar color did not smoothly mix with the tool bar color. The goal was to remove the white rectangular view behind the toolbar, as shown in the picture above.</p>\n"},{"tags":["java","spring-boot","testcontainers"],"owner":{"account_id":10424858,"reputation":179,"user_id":7686473,"accept_rate":100,"display_name":"Alterant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696793569,"creation_date":1696793569,"question_id":77255051,"body_markdown":"According to the [docs](https://java.testcontainers.org/modules/databases/jdbc/): &quot;... to get a fresh containerized instance of the database each time your application starts up&quot;\r\n\r\nBut what this really means taking into account Spring Boot context caching? Will I get one container for all tests in the project or per context or per test?\r\n\r\nLet&#39;s imagine I have several tests with several contexts:\r\n\r\n - Test A.1 with context A (@ContextConfiguration(initializers = ContextA.class))\r\n - Test A.2 with context A\r\n - ...\r\n - Test B.1 with context B (@ContextConfiguration(initializers = ContextB.class))\r\n - Test B.2 with context B\r\n - ...\r\n\r\nCan I be sure that all tests within the context will use the same container?","title":"Testcontainers JDBC URL scheme lifecycle","body":"<p>According to the <a href=\"https://java.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">docs</a>: &quot;... to get a fresh containerized instance of the database each time your application starts up&quot;</p>\n<p>But what this really means taking into account Spring Boot context caching? Will I get one container for all tests in the project or per context or per test?</p>\n<p>Let's imagine I have several tests with several contexts:</p>\n<ul>\n<li>Test A.1 with context A (@ContextConfiguration(initializers = ContextA.class))</li>\n<li>Test A.2 with context A</li>\n<li>...</li>\n<li>Test B.1 with context B (@ContextConfiguration(initializers = ContextB.class))</li>\n<li>Test B.2 with context B</li>\n<li>...</li>\n</ul>\n<p>Can I be sure that all tests within the context will use the same container?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1696710186,"post_id":77251388,"comment_id":136189062,"body_markdown":"what&#39;s the problem?","body":"what&#39;s the problem?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1696712422,"post_id":77251388,"comment_id":136189264,"body_markdown":"@P.J.Meisch I shared it.","body":"@P.J.Meisch I shared it."},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696742953,"post_id":77251388,"comment_id":136190968,"body_markdown":"What version of SDE are you using?","body":"What version of SDE are you using?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1696765349,"post_id":77251388,"comment_id":136192738,"body_markdown":"@Val What is SDE?","body":"@Val What is SDE?"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696776838,"post_id":77251388,"comment_id":136193813,"body_markdown":"Spring Data Elasticsearch","body":"Spring Data Elasticsearch"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1696791905,"post_id":77251388,"comment_id":136195373,"body_markdown":"@Val The version is 3.1.4","body":"@Val The version is 3.1.4"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1696793156,"post_id":77251388,"comment_id":136195498,"body_markdown":"SDE version is not relevant here, this is a Elasticsearch Java Client question","body":"SDE version is not relevant here, this is a Elasticsearch Java Client question"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696793118,"creation_date":1696793118,"answer_id":77255022,"question_id":77251388,"body_markdown":"You need the use a `Query.Builder` in the `query()` method and on this you can set the `rangeQuery`\r\n```\r\nSearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt; q\r\n  .index(&quot;itemindex&quot;)\r\n  .query(queryBuilder -&gt; queryBuilder.range(rangeQuery))\r\n  ), Item.class);\r\n```\r\n","title":"How to write range query in elastic search 8.8.0","body":"<p>You need the use a <code>Query.Builder</code> in the <code>query()</code> method and on this you can set the <code>rangeQuery</code></p>\n<pre><code>SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt; q\n  .index(&quot;itemindex&quot;)\n  .query(queryBuilder -&gt; queryBuilder.range(rangeQuery))\n  ), Item.class);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77255022,"answer_count":1,"score":0,"last_activity_date":1696793379,"creation_date":1696710029,"question_id":77251388,"body_markdown":"I have a problem to write **range query** for **elastic search** running on **Docker** in my **Spring Boot** example.\r\n\r\nI tried to write **RangeQuery** but I cannot implement it in `elasticsearchClient.search.` \r\n\r\nHow can I do that?\r\n\r\n\r\nHere is the code snippet shown below\r\n\r\n    public List&lt;Item&gt; searchItemsByPriceRange(double minPrice, double maxPrice) throws IOException {\r\n            RangeQuery rangeQuery = new RangeQuery.Builder()\r\n                    .field(&quot;price&quot;)  // Specify the field name here\r\n                    .gte(JsonData.of(minPrice))   // Greater than or equal to minPrice\r\n                     .lte(JsonData.of(maxPrice))   // Less than or equal to maxPrice\r\n                    .build();\r\n    \r\n            log.info(&quot;Elasticsearch query: {}&quot;, rangeQuery.toString());\r\n    \r\n            SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\r\n                    q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\r\n    \r\n            log.info(&quot;Elasticsearch response: {}&quot;, response.toString());\r\n    \r\n            return extractItemsFromResponse(response);\r\n    }\r\n\r\n\r\n    private List&lt;Item&gt; extractItemsFromResponse(SearchResponse&lt;Item&gt; response) {\r\n        return response\r\n                .hits()\r\n                .hits()\r\n                .stream()\r\n                .map(Hit::source)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n\r\nHere is the problem part\r\n\r\n    SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\r\n                    q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\r\n    \r\n    Cannot resolve method &#39;query(RangeQuery)&#39;","title":"How to write range query in elastic search 8.8.0","body":"<p>I have a problem to write <strong>range query</strong> for <strong>elastic search</strong> running on <strong>Docker</strong> in my <strong>Spring Boot</strong> example.</p>\n<p>I tried to write <strong>RangeQuery</strong> but I cannot implement it in <code>elasticsearchClient.search.</code></p>\n<p>How can I do that?</p>\n<p>Here is the code snippet shown below</p>\n<pre><code>public List&lt;Item&gt; searchItemsByPriceRange(double minPrice, double maxPrice) throws IOException {\n        RangeQuery rangeQuery = new RangeQuery.Builder()\n                .field(&quot;price&quot;)  // Specify the field name here\n                .gte(JsonData.of(minPrice))   // Greater than or equal to minPrice\n                 .lte(JsonData.of(maxPrice))   // Less than or equal to maxPrice\n                .build();\n\n        log.info(&quot;Elasticsearch query: {}&quot;, rangeQuery.toString());\n\n        SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\n                q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\n\n        log.info(&quot;Elasticsearch response: {}&quot;, response.toString());\n\n        return extractItemsFromResponse(response);\n}\n\n\nprivate List&lt;Item&gt; extractItemsFromResponse(SearchResponse&lt;Item&gt; response) {\n    return response\n            .hits()\n            .hits()\n            .stream()\n            .map(Hit::source)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Here is the problem part</p>\n<pre><code>SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\n                q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\n\nCannot resolve method 'query(RangeQuery)'\n</code></pre>\n"},{"tags":["java","wildfly"],"comments":[{"owner":{"account_id":1182079,"reputation":1469,"user_id":1156801,"accept_rate":42,"display_name":"Rhys"},"score":0,"creation_date":1395062386,"post_id":22455154,"comment_id":34153621,"body_markdown":"Have you set JAVA_HOME in standalone.conf? Or are you referring to the JAVA_HOME environment variable?","body":"Have you set JAVA_HOME in standalone.conf? Or are you referring to the JAVA_HOME environment variable?"},{"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"score":0,"creation_date":1395062579,"post_id":22455154,"comment_id":34153750,"body_markdown":"I did not set JAVA_HOME in standalone.conf. I am referring to the one in environment variable.","body":"I did not set JAVA_HOME in standalone.conf. I am referring to the one in environment variable."},{"owner":{"account_id":1182079,"reputation":1469,"user_id":1156801,"accept_rate":42,"display_name":"Rhys"},"score":0,"creation_date":1395062653,"post_id":22455154,"comment_id":34153805,"body_markdown":"Try setting JAVA_HOME in standalone.conf (there&#39;s a line for this already in the file, but commented out), but use forward slashes (/) instead of backslashes in your JAVA_HOME path.","body":"Try setting JAVA_HOME in standalone.conf (there&#39;s a line for this already in the file, but commented out), but use forward slashes (/) instead of backslashes in your JAVA_HOME path."},{"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"score":0,"creation_date":1395062859,"post_id":22455154,"comment_id":34153934,"body_markdown":"Tried. Still same error.","body":"Tried. Still same error."},{"owner":{"account_id":1993525,"reputation":5771,"user_id":1786985,"display_name":"Tomaz Cerar"},"score":0,"creation_date":1395099511,"post_id":22455154,"comment_id":34175881,"body_markdown":"How are you running this? CMD? PowerShell? Cygwin?","body":"How are you running this? CMD? PowerShell? Cygwin?"}],"answers":[{"comments":[{"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"score":0,"creation_date":1395062058,"post_id":22455215,"comment_id":34153399,"body_markdown":"That works. I am able to compile and run my java programs, but now I need wildfly server and this one does not work. Btw, I downloaded wildfly from: http://wildfly.org/downloads/\nLatest 8.0.0 Final version.","body":"That works. I am able to compile and run my java programs, but now I need wildfly server and this one does not work. Btw, I downloaded wildfly from: <a href=\"http://wildfly.org/downloads/\" rel=\"nofollow noreferrer\">wildfly.org/downloads</a> Latest 8.0.0 Final version."},{"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"score":0,"creation_date":1395062194,"post_id":22455215,"comment_id":34153495,"body_markdown":"I am not interested in wildfly, but could have helped you with the batch script, which seems to be causing the problem, had you dived more into it.","body":"I am not interested in wildfly, but could have helped you with the batch script, which seems to be causing the problem, had you dived more into it."}],"tags":[],"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395061901,"creation_date":1395061901,"answer_id":22455215,"question_id":22455154,"body_markdown":"Try calling java outside of the batch file first, i.e.\r\n\r\n    C:\\apps\\Java\\jdk1.7.0_51\\bin\\java -version\r\n\r\nThen if that succeeds, it is probably some other thing inside the script, that does it.\r\nThen you should probably try to diverge the script essentials to us\r\n","title":"WildFly: Error on start up","body":"<p>Try calling java outside of the batch file first, i.e.</p>\n\n<pre><code>C:\\apps\\Java\\jdk1.7.0_51\\bin\\java -version\n</code></pre>\n\n<p>Then if that succeeds, it is probably some other thing inside the script, that does it.\nThen you should probably try to diverge the script essentials to us</p>\n"},{"tags":[],"owner":{"account_id":4265435,"reputation":31,"user_id":3488675,"display_name":"fsantos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470398234,"creation_date":1470398234,"answer_id":38788692,"question_id":22455154,"body_markdown":"I was able to fix this by setting JAVA_HOME value in standalone.conf.bat.\r\n\r\n    rem #\r\n    rem # Specify the JBoss Profiler configuration file to load.\r\n    rem #\r\n    rem # Default is to not load a JBoss Profiler configuration file.\r\n    rem #\r\n    rem set &quot;PROFILER=%JBOSS_HOME%\\bin\\jboss-profiler.properties&quot;\r\n    \r\n    rem #\r\n    rem # Specify the location of the Java home directory (it is recommended that\r\n    rem # this always be set). If set, then &quot;%JAVA_HOME%\\bin\\java&quot; will be used as\r\n    rem # the Java VM executable; otherwise, &quot;%JAVA%&quot; will be used (see below).\r\n    rem #\r\n    rem set &quot;JAVA_HOME=C:\\opt\\jdk1.6.0_23&quot;\r\n    set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102&quot;","title":"WildFly: Error on start up","body":"<p>I was able to fix this by setting JAVA_HOME value in standalone.conf.bat.</p>\n\n<pre><code>rem #\nrem # Specify the JBoss Profiler configuration file to load.\nrem #\nrem # Default is to not load a JBoss Profiler configuration file.\nrem #\nrem set \"PROFILER=%JBOSS_HOME%\\bin\\jboss-profiler.properties\"\n\nrem #\nrem # Specify the location of the Java home directory (it is recommended that\nrem # this always be set). If set, then \"%JAVA_HOME%\\bin\\java\" will be used as\nrem # the Java VM executable; otherwise, \"%JAVA%\" will be used (see below).\nrem #\nrem set \"JAVA_HOME=C:\\opt\\jdk1.6.0_23\"\nset \"JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18529411,"reputation":1,"user_id":13500563,"display_name":"Vasu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588960490,"creation_date":1588960490,"answer_id":61685104,"question_id":22455154,"body_markdown":"Always ensure you set JBOSS_HOME and JAVA_HOME to avoid any errors in standalone.conf.*\r\nto avoid any wildfly startup errors in your respective environments.\r\n\r\nSetting JBOSS_HOME resolved my error ","title":"WildFly: Error on start up","body":"<p>Always ensure you set JBOSS_HOME and JAVA_HOME to avoid any errors in standalone.conf.*\nto avoid any wildfly startup errors in your respective environments.</p>\n\n<p>Setting JBOSS_HOME resolved my error </p>\n"}],"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12836,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696791620,"creation_date":1395061741,"question_id":22455154,"body_markdown":"I keep getting this silly error, when trying to start up a wildfly server:\r\n\r\n![WildFyl error][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OzN61.png\r\n\r\nHow to fix it? I was googling for like 2 hours now and could not find any solution. \r\nMy JAVA_HOME is set to C:\\Apps\\Java\\jdk1.7.0_51\r\nI tried with changing it to jre folder but same error. I also have jdk\\bin folder in PATH. \r\n\r\nHelp me please. \r\n\r\nEDIT: Here is the code of batch script. I did not touch it, it camed with the wildfly:\r\n\r\n    @echo off\r\n    rem -------------------------------------------------------------------------\r\n    rem JBoss Bootstrap Script for Windows\r\n    rem -------------------------------------------------------------------------\r\n    \r\n    rem Use --debug to activate debug mode with an optional argument to specify the port\r\n    rem Usage : standalone.bat --debug\r\n    rem         standalone.bat --debug 9797\r\n    \r\n    @if not &quot;%ECHO%&quot; == &quot;&quot;  echo %ECHO%\r\n    @if &quot;%OS%&quot; == &quot;Windows_NT&quot; setlocal\r\n    \r\n    rem By default debug mode is disable.\r\n    set DEBUG_MODE=false\r\n    set DEBUG_PORT=8787\r\n    rem Set to all parameters by default\r\n    set &quot;SERVER_OPTS=%*&quot;\r\n    \r\n    rem Get the program name before using shift as the command modify the variable ~nx0\r\n    if &quot;%OS%&quot; == &quot;Windows_NT&quot; (\r\n      set &quot;PROGNAME=%~nx0%&quot;\r\n    ) else (\r\n      set &quot;PROGNAME=standalone.bat&quot;\r\n    )\r\n    \r\n    if &quot;%OS%&quot; == &quot;Windows_NT&quot; (\r\n      set &quot;DIRNAME=%~dp0%&quot;\r\n    ) else (\r\n      set DIRNAME=.\\\r\n    )\r\n    \r\n    rem Read command-line args.\r\n    :READ-ARGS\r\n    if &quot;%1&quot; == &quot;&quot; (\r\n       goto MAIN\r\n    ) else if &quot;%1&quot; == &quot;--debug&quot; (\r\n       goto READ-DEBUG-PORT\r\n    ) else (\r\n       rem This doesn&#39;t work as Windows splits on = and spaces by default\r\n       rem set SERVER_OPTS=%SERVER_OPTS% %1\r\n       shift\r\n       goto READ-ARGS\r\n    )\r\n    \r\n    :READ-DEBUG-PORT\r\n    set &quot;DEBUG_MODE=true&quot;\r\n    set DEBUG_ARG=&quot;%2&quot;\r\n    if not &quot;x%DEBUG_ARG&quot; == &quot;x&quot; (\r\n       if x%DEBUG_ARG:-=%==x%DEBUG_ARG% (\r\n          shift\r\n          set DEBUG_PORT=%DEBUG_ARG%\r\n       )\r\n       shift\r\n       goto READ-ARGS\r\n    )\r\n    \r\n    :MAIN\r\n    rem $Id$\r\n    )\r\n    \r\n    pushd &quot;%DIRNAME%..&quot;\r\n    set &quot;RESOLVED_JBOSS_HOME=%CD%&quot;\r\n    popd\r\n    \r\n    if &quot;x%JBOSS_HOME%&quot; == &quot;x&quot; (\r\n      set &quot;JBOSS_HOME=%RESOLVED_JBOSS_HOME%&quot;\r\n    )\r\n    \r\n    pushd &quot;%JBOSS_HOME%&quot;\r\n    set &quot;SANITIZED_JBOSS_HOME=%CD%&quot;\r\n    popd\r\n    \r\n    if /i &quot;%RESOLVED_JBOSS_HOME%&quot; NEQ &quot;%SANITIZED_JBOSS_HOME%&quot; (\r\n       echo.\r\n       echo   WARNING:  JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.\r\n       echo.\r\n       echo       JBOSS_HOME: &quot;%JBOSS_HOME%&quot;\r\n       echo.\r\n    )\r\n    \r\n    rem Read an optional configuration file.\r\n    if &quot;x%STANDALONE_CONF%&quot; == &quot;x&quot; (\r\n       set &quot;STANDALONE_CONF=%DIRNAME%standalone.conf.bat&quot;\r\n    )\r\n    if exist &quot;%STANDALONE_CONF%&quot; (\r\n       echo Calling &quot;%STANDALONE_CONF%&quot;\r\n       call &quot;%STANDALONE_CONF%&quot; %*\r\n    ) else (\r\n       echo Config file not found &quot;%STANDALONE_CONF%&quot;\r\n    )\r\n    \r\n    \r\n    rem Set debug settings if not already set\r\n    if &quot;%DEBUG_MODE%&quot; == &quot;true&quot; (\r\n       echo &quot;%JAVA_OPTS%&quot; | findstr /I &quot;\\-agentlib:jdwp&quot; &gt; nul\r\n      if errorlevel == 1 (\r\n         set &quot;JAVA_OPTS=%JAVA_OPTS% -agentlib:jdwp=transport=dt_socket,address=%DEBUG_PORT%,server=y,suspend=n&quot;\r\n      ) else (\r\n         echo Debug already enabled in JAVA_OPTS, ignoring --debug argument\r\n      )\r\n    )\r\n    \r\n    set DIRNAME=\r\n    \r\n    rem Setup JBoss specific properties\r\n    set &quot;JAVA_OPTS=-Dprogram.name=%PROGNAME% %JAVA_OPTS%&quot;\r\n    \r\n    if &quot;x%JAVA_HOME%&quot; == &quot;x&quot; (\r\n      set  JAVA=java\r\n      echo JAVA_HOME is not set. Unexpected results may occur.\r\n      echo Set JAVA_HOME to the directory of your local JDK to avoid this message.\r\n    ) else (\r\n      if not exist &quot;%JAVA_HOME%&quot; (\r\n        echo JAVA_HOME &quot;%JAVA_HOME%&quot; path doesn&#39;t exist\r\n        goto END\r\n      ) else (\r\n        echo Setting JAVA property to &quot;%JAVA_HOME%\\bin\\java&quot;\r\n        set &quot;JAVA=%JAVA_HOME%\\bin\\java&quot;\r\n      )\r\n    )\r\n    \r\n    if not &quot;%PRESERVE_JAVA_OPTS%&quot; == &quot;true&quot; (\r\n      rem Add -client to the JVM options, if supported (32 bit VM), and not overriden\r\n      echo &quot;%JAVA_OPTS%&quot; | findstr /I \\-server &gt; nul\r\n      if errorlevel == 1 (\r\n        &quot;%JAVA%&quot; -client -version 2&gt;&amp;1 | findstr /I /C:&quot;Client VM&quot; &gt; nul\r\n        if not errorlevel == 1 (\r\n          set &quot;JAVA_OPTS=-client %JAVA_OPTS%&quot;\r\n        )\r\n      )\r\n    )\r\n    \r\n    if not &quot;%PRESERVE_JAVA_OPTS%&quot; == &quot;true&quot; (\r\n      rem Add compressed oops, if supported (64 bit VM), and not overriden\r\n      echo &quot;%JAVA_OPTS%&quot; | findstr /I &quot;\\-XX:\\-UseCompressedOops \\-client&quot; &gt; nul\r\n      if errorlevel == 1 (\r\n        &quot;%JAVA%&quot; -XX:+UseCompressedOops -version &gt; nul 2&gt;&amp;1\r\n        if not errorlevel == 1 (\r\n          set &quot;JAVA_OPTS=-XX:+UseCompressedOops %JAVA_OPTS%&quot;\r\n        )\r\n      )\r\n    )\r\n    \r\n    \r\n    rem Find jboss-modules.jar, or we can&#39;t continue\r\n    if exist &quot;%JBOSS_HOME%\\jboss-modules.jar&quot; (\r\n        set &quot;RUNJAR=%JBOSS_HOME%\\jboss-modules.jar&quot;\r\n    ) else (\r\n      echo Could not locate &quot;%JBOSS_HOME%\\jboss-modules.jar&quot;.\r\n      echo Please check that you are in the bin directory when running this script.\r\n      goto END\r\n    )\r\n    \r\n    rem Setup JBoss specific properties\r\n    \r\n    rem Setup directories, note directories with spaces do not work\r\n    set &quot;CONSOLIDATED_OPTS=%JAVA_OPTS% %SERVER_OPTS%&quot;\r\n    :DIRLOOP\r\n    echo(%CONSOLIDATED_OPTS% | findstr /r /c:&quot;^-Djboss.server.base.dir&quot; &gt; nul &amp;&amp; (\r\n      for /f &quot;tokens=1,2* delims==&quot; %%a IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n        for /f %%i IN (&quot;%%b&quot;) DO set &quot;JBOSS_BASE_DIR=%%~fi&quot;\r\n      )\r\n    )\r\n    echo(%CONSOLIDATED_OPTS% | findstr /r /c:&quot;^-Djboss.server.config.dir&quot; &gt; nul &amp;&amp; (\r\n      for /f &quot;tokens=1,2* delims==&quot; %%a IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n        for /f %%i IN (&quot;%%b&quot;) DO set &quot;JBOSS_CONFIG_DIR=%%~fi&quot;\r\n      )\r\n    )\r\n    echo(%CONSOLIDATED_OPTS% | findstr /r /c:&quot;^-Djboss.server.log.dir&quot; &gt; nul &amp;&amp; (\r\n      for /f &quot;tokens=1,2* delims==&quot; %%a IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n        for /f %%i IN (&quot;%%b&quot;) DO set &quot;JBOSS_LOG_DIR=%%~fi&quot;\r\n      )\r\n    )\r\n    \r\n    for /f &quot;tokens=1* delims= &quot; %%i IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n      if %%i == &quot;&quot; (\r\n        goto ENDDIRLOOP\r\n      ) else (\r\n        set CONSOLIDATED_OPTS=%%j\r\n        GOTO DIRLOOP\r\n      )\r\n    )\r\n    \r\n    :ENDDIRLOOP\r\n    \r\n    rem Set default module root paths\r\n    if &quot;x%JBOSS_MODULEPATH%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_MODULEPATH=%JBOSS_HOME%\\modules&quot;\r\n    )\r\n    \r\n    rem Set the standalone base dir\r\n    if &quot;x%JBOSS_BASE_DIR%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_BASE_DIR=%JBOSS_HOME%\\standalone&quot;\r\n    )\r\n    rem Set the standalone log dir\r\n    if &quot;x%JBOSS_LOG_DIR%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_LOG_DIR=%JBOSS_BASE_DIR%\\log&quot;\r\n    )\r\n    rem Set the standalone configuration dir\r\n    if &quot;x%JBOSS_CONFIG_DIR%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_CONFIG_DIR=%JBOSS_BASE_DIR%\\configuration&quot;\r\n    )\r\n    \r\n    echo ===============================================================================\r\n    echo.\r\n    echo   JBoss Bootstrap Environment\r\n    echo.\r\n    echo   JBOSS_HOME: &quot;%JBOSS_HOME%&quot;\r\n    echo.\r\n    echo   JAVA: &quot;%JAVA%&quot;\r\n    echo.\r\n    echo   JAVA_OPTS: &quot;%JAVA_OPTS%&quot;\r\n    echo.\r\n    echo ===============================================================================\r\n    echo.\r\n    \r\n    :RESTART\r\n    &quot;%JAVA%&quot; %JAVA_OPTS% ^\r\n     &quot;-Dorg.jboss.boot.log.file=%JBOSS_LOG_DIR%\\server.log&quot; ^\r\n     &quot;-Dlogging.configuration=file:%JBOSS_CONFIG_DIR%/logging.properties&quot; ^\r\n        -jar &quot;%JBOSS_HOME%\\jboss-modules.jar&quot; ^\r\n        -mp &quot;%JBOSS_MODULEPATH%&quot; ^\r\n         org.jboss.as.standalone ^\r\n        &quot;-Djboss.home.dir=%JBOSS_HOME%&quot; ^\r\n         %SERVER_OPTS%\r\n    \r\n    if ERRORLEVEL 10 goto RESTART\r\n    \r\n    :END\r\n    if &quot;x%NOPAUSE%&quot; == &quot;x&quot; pause\r\n    \r\n    :END_NO_PAUSE\r\n\r\n","title":"WildFly: Error on start up","body":"<p>I keep getting this silly error, when trying to start up a wildfly server:</p>\n\n<p><img src=\"https://i.stack.imgur.com/OzN61.png\" alt=\"WildFyl error\"></p>\n\n<p>How to fix it? I was googling for like 2 hours now and could not find any solution. \nMy JAVA_HOME is set to C:\\Apps\\Java\\jdk1.7.0_51\nI tried with changing it to jre folder but same error. I also have jdk\\bin folder in PATH. </p>\n\n<p>Help me please. </p>\n\n<p>EDIT: Here is the code of batch script. I did not touch it, it camed with the wildfly:</p>\n\n<pre><code>@echo off\nrem -------------------------------------------------------------------------\nrem JBoss Bootstrap Script for Windows\nrem -------------------------------------------------------------------------\n\nrem Use --debug to activate debug mode with an optional argument to specify the port\nrem Usage : standalone.bat --debug\nrem         standalone.bat --debug 9797\n\n@if not \"%ECHO%\" == \"\"  echo %ECHO%\n@if \"%OS%\" == \"Windows_NT\" setlocal\n\nrem By default debug mode is disable.\nset DEBUG_MODE=false\nset DEBUG_PORT=8787\nrem Set to all parameters by default\nset \"SERVER_OPTS=%*\"\n\nrem Get the program name before using shift as the command modify the variable ~nx0\nif \"%OS%\" == \"Windows_NT\" (\n  set \"PROGNAME=%~nx0%\"\n) else (\n  set \"PROGNAME=standalone.bat\"\n)\n\nif \"%OS%\" == \"Windows_NT\" (\n  set \"DIRNAME=%~dp0%\"\n) else (\n  set DIRNAME=.\\\n)\n\nrem Read command-line args.\n:READ-ARGS\nif \"%1\" == \"\" (\n   goto MAIN\n) else if \"%1\" == \"--debug\" (\n   goto READ-DEBUG-PORT\n) else (\n   rem This doesn't work as Windows splits on = and spaces by default\n   rem set SERVER_OPTS=%SERVER_OPTS% %1\n   shift\n   goto READ-ARGS\n)\n\n:READ-DEBUG-PORT\nset \"DEBUG_MODE=true\"\nset DEBUG_ARG=\"%2\"\nif not \"x%DEBUG_ARG\" == \"x\" (\n   if x%DEBUG_ARG:-=%==x%DEBUG_ARG% (\n      shift\n      set DEBUG_PORT=%DEBUG_ARG%\n   )\n   shift\n   goto READ-ARGS\n)\n\n:MAIN\nrem $Id$\n)\n\npushd \"%DIRNAME%..\"\nset \"RESOLVED_JBOSS_HOME=%CD%\"\npopd\n\nif \"x%JBOSS_HOME%\" == \"x\" (\n  set \"JBOSS_HOME=%RESOLVED_JBOSS_HOME%\"\n)\n\npushd \"%JBOSS_HOME%\"\nset \"SANITIZED_JBOSS_HOME=%CD%\"\npopd\n\nif /i \"%RESOLVED_JBOSS_HOME%\" NEQ \"%SANITIZED_JBOSS_HOME%\" (\n   echo.\n   echo   WARNING:  JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.\n   echo.\n   echo       JBOSS_HOME: \"%JBOSS_HOME%\"\n   echo.\n)\n\nrem Read an optional configuration file.\nif \"x%STANDALONE_CONF%\" == \"x\" (\n   set \"STANDALONE_CONF=%DIRNAME%standalone.conf.bat\"\n)\nif exist \"%STANDALONE_CONF%\" (\n   echo Calling \"%STANDALONE_CONF%\"\n   call \"%STANDALONE_CONF%\" %*\n) else (\n   echo Config file not found \"%STANDALONE_CONF%\"\n)\n\n\nrem Set debug settings if not already set\nif \"%DEBUG_MODE%\" == \"true\" (\n   echo \"%JAVA_OPTS%\" | findstr /I \"\\-agentlib:jdwp\" &gt; nul\n  if errorlevel == 1 (\n     set \"JAVA_OPTS=%JAVA_OPTS% -agentlib:jdwp=transport=dt_socket,address=%DEBUG_PORT%,server=y,suspend=n\"\n  ) else (\n     echo Debug already enabled in JAVA_OPTS, ignoring --debug argument\n  )\n)\n\nset DIRNAME=\n\nrem Setup JBoss specific properties\nset \"JAVA_OPTS=-Dprogram.name=%PROGNAME% %JAVA_OPTS%\"\n\nif \"x%JAVA_HOME%\" == \"x\" (\n  set  JAVA=java\n  echo JAVA_HOME is not set. Unexpected results may occur.\n  echo Set JAVA_HOME to the directory of your local JDK to avoid this message.\n) else (\n  if not exist \"%JAVA_HOME%\" (\n    echo JAVA_HOME \"%JAVA_HOME%\" path doesn't exist\n    goto END\n  ) else (\n    echo Setting JAVA property to \"%JAVA_HOME%\\bin\\java\"\n    set \"JAVA=%JAVA_HOME%\\bin\\java\"\n  )\n)\n\nif not \"%PRESERVE_JAVA_OPTS%\" == \"true\" (\n  rem Add -client to the JVM options, if supported (32 bit VM), and not overriden\n  echo \"%JAVA_OPTS%\" | findstr /I \\-server &gt; nul\n  if errorlevel == 1 (\n    \"%JAVA%\" -client -version 2&gt;&amp;1 | findstr /I /C:\"Client VM\" &gt; nul\n    if not errorlevel == 1 (\n      set \"JAVA_OPTS=-client %JAVA_OPTS%\"\n    )\n  )\n)\n\nif not \"%PRESERVE_JAVA_OPTS%\" == \"true\" (\n  rem Add compressed oops, if supported (64 bit VM), and not overriden\n  echo \"%JAVA_OPTS%\" | findstr /I \"\\-XX:\\-UseCompressedOops \\-client\" &gt; nul\n  if errorlevel == 1 (\n    \"%JAVA%\" -XX:+UseCompressedOops -version &gt; nul 2&gt;&amp;1\n    if not errorlevel == 1 (\n      set \"JAVA_OPTS=-XX:+UseCompressedOops %JAVA_OPTS%\"\n    )\n  )\n)\n\n\nrem Find jboss-modules.jar, or we can't continue\nif exist \"%JBOSS_HOME%\\jboss-modules.jar\" (\n    set \"RUNJAR=%JBOSS_HOME%\\jboss-modules.jar\"\n) else (\n  echo Could not locate \"%JBOSS_HOME%\\jboss-modules.jar\".\n  echo Please check that you are in the bin directory when running this script.\n  goto END\n)\n\nrem Setup JBoss specific properties\n\nrem Setup directories, note directories with spaces do not work\nset \"CONSOLIDATED_OPTS=%JAVA_OPTS% %SERVER_OPTS%\"\n:DIRLOOP\necho(%CONSOLIDATED_OPTS% | findstr /r /c:\"^-Djboss.server.base.dir\" &gt; nul &amp;&amp; (\n  for /f \"tokens=1,2* delims==\" %%a IN (\"%CONSOLIDATED_OPTS%\") DO (\n    for /f %%i IN (\"%%b\") DO set \"JBOSS_BASE_DIR=%%~fi\"\n  )\n)\necho(%CONSOLIDATED_OPTS% | findstr /r /c:\"^-Djboss.server.config.dir\" &gt; nul &amp;&amp; (\n  for /f \"tokens=1,2* delims==\" %%a IN (\"%CONSOLIDATED_OPTS%\") DO (\n    for /f %%i IN (\"%%b\") DO set \"JBOSS_CONFIG_DIR=%%~fi\"\n  )\n)\necho(%CONSOLIDATED_OPTS% | findstr /r /c:\"^-Djboss.server.log.dir\" &gt; nul &amp;&amp; (\n  for /f \"tokens=1,2* delims==\" %%a IN (\"%CONSOLIDATED_OPTS%\") DO (\n    for /f %%i IN (\"%%b\") DO set \"JBOSS_LOG_DIR=%%~fi\"\n  )\n)\n\nfor /f \"tokens=1* delims= \" %%i IN (\"%CONSOLIDATED_OPTS%\") DO (\n  if %%i == \"\" (\n    goto ENDDIRLOOP\n  ) else (\n    set CONSOLIDATED_OPTS=%%j\n    GOTO DIRLOOP\n  )\n)\n\n:ENDDIRLOOP\n\nrem Set default module root paths\nif \"x%JBOSS_MODULEPATH%\" == \"x\" (\n  set  \"JBOSS_MODULEPATH=%JBOSS_HOME%\\modules\"\n)\n\nrem Set the standalone base dir\nif \"x%JBOSS_BASE_DIR%\" == \"x\" (\n  set  \"JBOSS_BASE_DIR=%JBOSS_HOME%\\standalone\"\n)\nrem Set the standalone log dir\nif \"x%JBOSS_LOG_DIR%\" == \"x\" (\n  set  \"JBOSS_LOG_DIR=%JBOSS_BASE_DIR%\\log\"\n)\nrem Set the standalone configuration dir\nif \"x%JBOSS_CONFIG_DIR%\" == \"x\" (\n  set  \"JBOSS_CONFIG_DIR=%JBOSS_BASE_DIR%\\configuration\"\n)\n\necho ===============================================================================\necho.\necho   JBoss Bootstrap Environment\necho.\necho   JBOSS_HOME: \"%JBOSS_HOME%\"\necho.\necho   JAVA: \"%JAVA%\"\necho.\necho   JAVA_OPTS: \"%JAVA_OPTS%\"\necho.\necho ===============================================================================\necho.\n\n:RESTART\n\"%JAVA%\" %JAVA_OPTS% ^\n \"-Dorg.jboss.boot.log.file=%JBOSS_LOG_DIR%\\server.log\" ^\n \"-Dlogging.configuration=file:%JBOSS_CONFIG_DIR%/logging.properties\" ^\n    -jar \"%JBOSS_HOME%\\jboss-modules.jar\" ^\n    -mp \"%JBOSS_MODULEPATH%\" ^\n     org.jboss.as.standalone ^\n    \"-Djboss.home.dir=%JBOSS_HOME%\" ^\n     %SERVER_OPTS%\n\nif ERRORLEVEL 10 goto RESTART\n\n:END\nif \"x%NOPAUSE%\" == \"x\" pause\n\n:END_NO_PAUSE\n</code></pre>\n"},{"tags":["java","spring","docker","docker-compose"],"comments":[{"owner":{"account_id":13217925,"reputation":5499,"user_id":14401160,"display_name":"STerliakov"},"score":0,"creation_date":1696792173,"post_id":77254832,"comment_id":136195403,"body_markdown":"Drop the volume and try again - if you used this volume before (`/var/lib/postgresql/data` contains any data) with another `POSTGRES_DB`. new database is not created. If it doesn&#39;t help, please add `docker compose logs postgres -t` output to your question. If it begins with `PostgreSQL Database directory appears to contain a database; Skipping initialization`, my assumption is correct - use another volume or drop this one first.","body":"Drop the volume and try again - if you used this volume before (<code>&#47;var&#47;lib&#47;postgresql&#47;data</code> contains any data) with another <code>POSTGRES_DB</code>. new database is not created. If it doesn&#39;t help, please add <code>docker compose logs postgres -t</code> output to your question. If it begins with <code>PostgreSQL Database directory appears to contain a database; Skipping initialization</code>, my assumption is correct - use another volume or drop this one first."},{"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"score":0,"creation_date":1696795797,"post_id":77254832,"comment_id":136195770,"body_markdown":"@STerliakov thx","body":"@STerliakov thx"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696789740,"creation_date":1696789740,"question_id":77254832,"body_markdown":"I have a problem. I want to do a database migration, so I have this kind of application-prod.properties:\r\n```\r\nspring.flyway.enabled=true\r\nspring.flyway.url=jdbc:postgresql://postgres:5432/users\r\nspring.flyway.user=postgres\r\nspring.flyway.password=1234\r\nspring.flyway.locations=classpath:db/migration\r\n```\r\nNow when building containers and startup, I want the migration to run, however I see an error when starting the server:\r\n```\r\nserapi_1   | 2023-10-08T18:19:12.353Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.16.3 by Redgate\r\nuserapi_1   | 2023-10-08T18:19:12.354Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi\r\nuserapi_1   | 2023-10-08T18:19:12.355Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    :\r\npostgres_1  | 2023-10-08 18:19:12.845 UTC [34] FATAL:  database &quot;users&quot; does not exist\r\nuserapi_1   | 2023-10-08T18:19:12.897Z  WARN 1 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   | ---------------------------------------------------------------------------------\r\nuserapi_1   | SQL State  : 3D000\r\nuserapi_1   | Error Code : 0\r\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |\r\nuserapi_1   | 2023-10-08T18:19:12.946Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\nuserapi_1   |\r\nuserapi_1   | Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nuserapi_1   | 2023-10-08T18:19:12.999Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\nuserapi_1   |\r\nuserapi_1   | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   | ---------------------------------------------------------------------------------\r\nuserapi_1   | SQL State  : 3D000\r\nuserapi_1   | Error Code : 0\r\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at com.example.userapi.UserApiApplication.main(UserApiApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nuserapi_1   |   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nuserapi_1   |   at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nuserapi_1   |   at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   | Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   | ---------------------------------------------------------------------------------\r\nuserapi_1   | SQL State  : 3D000\r\nuserapi_1   | Error Code : 0\r\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |\r\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:140) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.flywaydb.core.Flyway.migrate(Flyway.java:140) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   ... 24 common frames omitted\r\nuserapi_1   | Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.springframework.jdbc.datasource.SimpleDriverDataSource.getConnectionFromDriver(SimpleDriverDataSource.java:144) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   ... 30 common frames omitted\r\nuserapi_1   |\r\n```\r\nThat is, for some reason, docker-compose does not create the database. How can I fix this?\r\nMy docker-compose:\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  postgres:\r\n    image: postgres:latest\r\n    environment:\r\n      POSTGRES_DB: users\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: 1234\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    volumes:\r\n      - /srv/db_data:/var/lib/postgresql/data\r\n\r\n  auth:\r\n    build:\r\n      context: ./auth\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    volumes:\r\n      - /srv/photos:/srv/photos\r\n\r\n  userapi:\r\n    build:\r\n      context: ./userApi\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    depends_on:\r\n      - postgres\r\n\r\n```","title":"Flyway: FATAL: database &quot;users&quot; does not exist Docker-compose","body":"<p>I have a problem. I want to do a database migration, so I have this kind of application-prod.properties:</p>\n<pre><code>spring.flyway.enabled=true\nspring.flyway.url=jdbc:postgresql://postgres:5432/users\nspring.flyway.user=postgres\nspring.flyway.password=1234\nspring.flyway.locations=classpath:db/migration\n</code></pre>\n<p>Now when building containers and startup, I want the migration to run, however I see an error when starting the server:</p>\n<pre><code>serapi_1   | 2023-10-08T18:19:12.353Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.16.3 by Redgate\nuserapi_1   | 2023-10-08T18:19:12.354Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi\nuserapi_1   | 2023-10-08T18:19:12.355Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    :\npostgres_1  | 2023-10-08 18:19:12.845 UTC [34] FATAL:  database &quot;users&quot; does not exist\nuserapi_1   | 2023-10-08T18:19:12.897Z  WARN 1 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\nuserapi_1   | ---------------------------------------------------------------------------------\nuserapi_1   | SQL State  : 3D000\nuserapi_1   | Error Code : 0\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\nuserapi_1   |\nuserapi_1   | 2023-10-08T18:19:12.946Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\nuserapi_1   |\nuserapi_1   | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nuserapi_1   | 2023-10-08T18:19:12.999Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\nuserapi_1   |\nuserapi_1   | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\nuserapi_1   | ---------------------------------------------------------------------------------\nuserapi_1   | SQL State  : 3D000\nuserapi_1   | Error Code : 0\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\nuserapi_1   |\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at com.example.userapi.UserApiApplication.main(UserApiApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nuserapi_1   |   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nuserapi_1   |   at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nuserapi_1   |   at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   |   at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   | Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\nuserapi_1   | ---------------------------------------------------------------------------------\nuserapi_1   | SQL State  : 3D000\nuserapi_1   | Error Code : 0\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\nuserapi_1   |\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:140) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.flywaydb.core.Flyway.migrate(Flyway.java:140) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   ... 24 common frames omitted\nuserapi_1   | Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;users&quot; does not exist\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.springframework.jdbc.datasource.SimpleDriverDataSource.getConnectionFromDriver(SimpleDriverDataSource.java:144) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   ... 30 common frames omitted\nuserapi_1   |\n</code></pre>\n<p>That is, for some reason, docker-compose does not create the database. How can I fix this?\nMy docker-compose:</p>\n<pre><code>version: '3'\nservices:\n  postgres:\n    image: postgres:latest\n    environment:\n      POSTGRES_DB: users\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 1234\n    ports:\n      - &quot;5432:5432&quot;\n    volumes:\n      - /srv/db_data:/var/lib/postgresql/data\n\n  auth:\n    build:\n      context: ./auth\n    ports:\n      - &quot;8080:8080&quot;\n    volumes:\n      - /srv/photos:/srv/photos\n\n  userapi:\n    build:\n      context: ./userApi\n    ports:\n      - &quot;8081:8081&quot;\n    depends_on:\n      - postgres\n\n</code></pre>\n"},{"tags":["java","mysql","spring","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":29626794,"reputation":3,"user_id":22706281,"display_name":"Daimyo"},"score":0,"creation_date":1696789600,"post_id":77254684,"comment_id":136195124,"body_markdown":"Thank you very much, I cant believe it was that simple !","body":"Thank you very much, I cant believe it was that simple !"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1696789732,"post_id":77254684,"comment_id":136195139,"body_markdown":"Yeah, once you do it right it&#39;s a piece of cake.","body":"Yeah, once you do it right it&#39;s a piece of cake."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696787889,"creation_date":1696787229,"answer_id":77254684,"question_id":77254547,"body_markdown":"Replace\r\n\r\n    &lt;tr th:each=&quot;userList : ${theUsers}&quot;&gt;\r\n        &lt;td th:text=&quot;${user.id_user}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${user.user_name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nwith\r\n\r\n    &lt;tr th:each=&quot;theUsers : ${userList}&quot;&gt;\r\n        &lt;td th:text=&quot;${theUsers.id_user}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${theUsers.user_name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${theUsers.login}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nThe userList needs to match the value that you assigned in your controller with this line\r\n  \r\n\r\n    theModel.addAttribute(&quot;userList&quot;, theUsers);\r\n\r\n`theUsers` is the variable name that you will use to represent each object while you iterate through the list.\r\n\r\nAnd all fields need to match the fields of your entity, NOT your database. Your database User field is called `&quot;username&quot;`, but in your entity class it is named `login` and what you need to do is to iterate through fields of your entity, not your database fields.\r\n\r\nhttps://www.baeldung.com/thymeleaf-iteration","title":"Problem to iterate through objects in database with spring/thymeleaf","body":"<p>Replace</p>\n<pre><code>&lt;tr th:each=&quot;userList : ${theUsers}&quot;&gt;\n    &lt;td th:text=&quot;${user.id_user}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${user.user_name}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;tr th:each=&quot;theUsers : ${userList}&quot;&gt;\n    &lt;td th:text=&quot;${theUsers.id_user}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${theUsers.user_name}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${theUsers.login}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>The userList needs to match the value that you assigned in your controller with this line</p>\n<pre><code>theModel.addAttribute(&quot;userList&quot;, theUsers);\n</code></pre>\n<p><code>theUsers</code> is the variable name that you will use to represent each object while you iterate through the list.</p>\n<p>And all fields need to match the fields of your entity, NOT your database. Your database User field is called <code>&quot;username&quot;</code>, but in your entity class it is named <code>login</code> and what you need to do is to iterate through fields of your entity, not your database fields.</p>\n<p><a href=\"https://www.baeldung.com/thymeleaf-iteration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/thymeleaf-iteration</a></p>\n"}],"owner":{"account_id":29626794,"reputation":3,"user_id":22706281,"display_name":"Daimyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77254684,"answer_count":1,"score":0,"last_activity_date":1696789587,"creation_date":1696784930,"question_id":77254547,"body_markdown":"Recently I started to create my clone project for Splitwise. The problem is that I can&#39;t iterate through my Users from the database, even tho they exist and are written in the console.\r\n\r\nhttps://github.com/DamianKwc/SplitwiseProject.git\r\n\r\nThe web is opening correctly as well as the template but there are no objects. This is my first time here, sorry for any issues.","title":"Problem to iterate through objects in database with spring/thymeleaf","body":"<p>Recently I started to create my clone project for Splitwise. The problem is that I can't iterate through my Users from the database, even tho they exist and are written in the console.</p>\n<p><a href=\"https://github.com/DamianKwc/SplitwiseProject.git\" rel=\"nofollow noreferrer\">https://github.com/DamianKwc/SplitwiseProject.git</a></p>\n<p>The web is opening correctly as well as the template but there are no objects. This is my first time here, sorry for any issues.</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1411118467,"post_id":25930191,"comment_id":40592993,"body_markdown":"Make sure your settings are right, that your database exists and is up and running and that you can connect to it with that user. Also make sure that you have selected the correct dialect for Hibernate else you might end up with the wrong SQL .","body":"Make sure your settings are right, that your database exists and is up and running and that you can connect to it with that user. Also make sure that you have selected the correct dialect for Hibernate else you might end up with the wrong SQL ."},{"owner":{"account_id":3756385,"reputation":664,"user_id":3122666,"accept_rate":67,"display_name":"jimish"},"score":0,"creation_date":1411120786,"post_id":25930191,"comment_id":40594329,"body_markdown":"hey, my database exists and its up and running... But I dont know how to select dialect for hibernate. can you suggest something useful related?","body":"hey, my database exists and its up and running... But I dont know how to select dialect for hibernate. can you suggest something useful related?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1411121183,"post_id":25930191,"comment_id":40594528,"body_markdown":"I suggest a read of the documentation instead of only hacking around. However setting the `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect` should do the trick. You also might want to add the full stack trace to your post.","body":"I suggest a read of the documentation instead of only hacking around. However setting the <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQL5InnoDBDialec&zwnj;&#8203;t</code> should do the trick. You also might want to add the full stack trace to your post."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1411121338,"post_id":25931386,"comment_id":40594604,"body_markdown":"He has a problem in parsing a result, the application is running fine so the dependencies are ok. Also the dependencies come from a spring boot starter project which already include the proper dependencies.","body":"He has a problem in parsing a result, the application is running fine so the dependencies are ok. Also the dependencies come from a spring boot starter project which already include the proper dependencies."}],"tags":[],"owner":{"account_id":2556881,"reputation":1451,"user_id":2218653,"accept_rate":31,"display_name":"Suvasis"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1411121291,"creation_date":1411121194,"answer_id":25931386,"question_id":25930191,"body_markdown":"You can verify your pom file and make sure minimum of below jars are available\r\n    \t\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring AOP --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- MySQL JDBC connector --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t**Make sure you are reading your db.properties file from application-context.xml**\r\n    \t\t\r\n    \t\t&lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t  &lt;property name=&quot;locations&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;classpath:db.properties&lt;/value&gt; \r\n                &lt;/list&gt;\r\n            &lt;/property&gt; \r\n    \t\t&lt;/bean&gt;\r\n    \t\t\r\n    \t\t**Make sure you use proper datasource and entity manager in application-context.xml**\r\n    \t\t\r\n    \t\t&lt;bean id=&quot;dataSource&quot; class=&quot;{our.DataSource}&quot; destroy-method=&quot;close&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;driverClass&quot; value=&quot;${driver}&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;jdbcUrl&quot; value=&quot;${url}&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;user&quot; value=&quot;${username}&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;\r\n    \t\t&lt;/bean&gt;\r\n        \r\n    \t\t&lt;bean id=&quot;entityManagerFactory&quot;\r\n    \t\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;spring-jpa&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;generateDdl&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;databasePlatform&quot; value=&quot;${dialect}&quot; /&gt;\t\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/property&gt;\r\n    \t\t\t\r\n    \t\t&lt;/bean&gt;\r\n    \t\r\n    \t**Make sure you are adding minimum of below properties in db.properties**\r\n    \t    \r\n        dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n        url=jdbc:mysql://localhost:3306/dbName\r\n        driver=com.mysql.jdbc.Driver\r\n        username=root\r\n        password=test","title":"Connect MySQL to Spring application","body":"<p>You can verify your pom file and make sure minimum of below jars are available</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring AOP --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- MySQL JDBC connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        **Make sure you are reading your db.properties file from application-context.xml**\n\n        &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n          &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:db.properties&lt;/value&gt; \n            &lt;/list&gt;\n        &lt;/property&gt; \n        &lt;/bean&gt;\n\n        **Make sure you use proper datasource and entity manager in application-context.xml**\n\n        &lt;bean id=\"dataSource\" class=\"{our.DataSource}\" destroy-method=\"close\"&gt;\n            &lt;property name=\"driverClass\" value=\"${driver}\"/&gt;\n            &lt;property name=\"jdbcUrl\" value=\"${url}\"/&gt;\n            &lt;property name=\"user\" value=\"${username}\"/&gt;\n            &lt;property name=\"password\" value=\"${password}\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"entityManagerFactory\"\n            class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n            &lt;property name=\"persistenceUnitName\" value=\"spring-jpa\" /&gt;\n            &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n            &lt;property name=\"jpaVendorAdapter\"&gt;\n                &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                    &lt;property name=\"generateDdl\" value=\"true\" /&gt;\n                    &lt;property name=\"showSql\" value=\"false\" /&gt;\n                    &lt;property name=\"databasePlatform\" value=\"${dialect}\" /&gt; \n                &lt;/bean&gt;\n            &lt;/property&gt;\n\n        &lt;/bean&gt;\n\n    **Make sure you are adding minimum of below properties in db.properties**\n\n    dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n    url=jdbc:mysql://localhost:3306/dbName\n    driver=com.mysql.jdbc.Driver\n    username=root\n    password=test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411158079,"creation_date":1411157065,"answer_id":25941616,"question_id":25930191,"body_markdown":"Expounding on @M. Deinum&#39;s comment... You need to specify the JPA configuration information as the [Spring RestBucks App](https://github.com/olivergierke/spring-restbucks) is using [Spring Data JPA](https://github.com/spring-projects/spring-data-jpa).  \r\n\r\nAdding standard JPA properties and specifying the database-platform ([Common Application Properties](http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)) should get your JPA connection working.\r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n    # Enable spring data repos \r\n    spring.data.jpa.repositories.enabled=true\r\n\r\n    # Replace with your connection string\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/restbucks\r\n\r\n    # Replace with your credentials\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>Expounding on @M. Deinum's comment... You need to specify the JPA configuration information as the <a href=\"https://github.com/olivergierke/spring-restbucks\" rel=\"noreferrer\">Spring RestBucks App</a> is using <a href=\"https://github.com/spring-projects/spring-data-jpa\" rel=\"noreferrer\">Spring Data JPA</a>.  </p>\n\n<p>Adding standard JPA properties and specifying the database-platform (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Common Application Properties</a>) should get your JPA connection working.</p>\n\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\n# Enable spring data repos \nspring.data.jpa.repositories.enabled=true\n\n# Replace with your connection string\nspring.datasource.url=jdbc:mysql://localhost:3306/restbucks\n\n# Replace with your credentials\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2582569,"reputation":371,"user_id":2238913,"display_name":"gauravbhatt13"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1634252360,"creation_date":1436676081,"answer_id":31364432,"question_id":25930191,"body_markdown":"Include only the following configuration in your application.properties in classpath and it will work like a charm:\r\n\r\n     spring.datasource.url=jdbc:mysql://localhost/jpa_example\r\n     spring.datasource.username=root\r\n     spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n     spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nThis &quot;spring.jpa.database-platform&quot; specify which database you are going to use. It may be postgress, MySQL etc. According to that you need to specify it.","title":"Connect MySQL to Spring application","body":"<p>Include only the following configuration in your application.properties in classpath and it will work like a charm:</p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost/jpa_example\n spring.datasource.username=root\n spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n</code></pre>\n<p>This &quot;spring.jpa.database-platform&quot; specify which database you are going to use. It may be postgress, MySQL etc. According to that you need to specify it.</p>\n"},{"tags":[],"owner":{"account_id":6579388,"reputation":726,"user_id":5084108,"display_name":"Vinoj Vetha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476425294,"creation_date":1476425294,"answer_id":40036050,"question_id":25930191,"body_markdown":"# Database Server IP, Port Number and DB Name \nspring.datasource.url=jdbc:mysql://localhost/sample  \n\n\n\n\n# Database Server UserName \nspring.datasource.username=root  \n\n\n\n\n# Database Server Password \nspring.datasource.password=root123 \n\n\n\n\n# Update database on every Time Server starts \nspring.jpa.hibernate.ddl-auto=update","title":"Connect MySQL to Spring application","body":"<h1>Database Server IP, Port Number and DB Name</h1>\n<p>spring.datasource.url=jdbc:mysql://localhost/sample</p>\n<h1>Database Server UserName</h1>\n<p>spring.datasource.username=root</p>\n<h1>Database Server Password</h1>\n<p>spring.datasource.password=root123</p>\n<h1>Update database on every Time Server starts</h1>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478825507,"creation_date":1478825507,"answer_id":40539565,"question_id":25930191,"body_markdown":"Add MySQL Connector/J to classpath:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThis is an example of file **application.properties** inside Spring-based application:\r\n\r\n    datasource.mine.poolSize=30\r\n    \r\n    spring.datasource.url=jdbc:mysql://127.0.0.1/vy?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123456\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>Add MySQL Connector/J to classpath:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;6.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This is an example of file <strong>application.properties</strong> inside Spring-based application:</p>\n\n<pre><code>datasource.mine.poolSize=30\n\nspring.datasource.url=jdbc:mysql://127.0.0.1/vy?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5813722,"reputation":721,"user_id":4584031,"display_name":"Mahfuz Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583257075,"creation_date":1583257075,"answer_id":60512762,"question_id":25930191,"body_markdown":"    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/boot\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n\r\nI was tried with above configuration but was not connected after 1 hour I was get connected by putting an SPACE after password= (password= )","title":"Connect MySQL to Spring application","body":"<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/boot\nspring.datasource.username=root\nspring.datasource.password=\n</code></pre>\n\n<p>I was tried with above configuration but was not connected after 1 hour I was get connected by putting an SPACE after password= (password= )</p>\n"},{"tags":[],"owner":{"account_id":15418679,"reputation":156,"user_id":11123293,"display_name":"Tofazzal Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1600166791,"creation_date":1600166791,"answer_id":63900245,"question_id":25930191,"body_markdown":"Add bellow properties in your application.properties file:    \r\n\r\n    # Use one of create/update/create-update    \r\n    spring.jpa.hibernate.ddl-auto=update  \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db?createDatabaseIfNotExist=true   \r\n    spring.datasource.username=root  //your db user name  \r\n    spring.datasource.password=root  //your db user password \r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \r\n    #If your MySql version 5 then use MySQL5Dialect\r\n\r\n\r\n    # Enable spring data repos\r\n    spring.data.jpa.repositories.enabled=true\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.database=mysql\r\n    \r\n\r\n    ","title":"Connect MySQL to Spring application","body":"<p>Add bellow properties in your application.properties file:</p>\n<pre><code># Use one of create/update/create-update    \nspring.jpa.hibernate.ddl-auto=update  \nspring.datasource.url=jdbc:mysql://localhost:3306/db?createDatabaseIfNotExist=true   \nspring.datasource.username=root  //your db user name  \nspring.datasource.password=root  //your db user password \nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \n#If your MySql version 5 then use MySQL5Dialect\n\n\n# Enable spring data repos\nspring.data.jpa.repositories.enabled=true\nspring.jpa.show-sql=true\nspring.jpa.database=mysql\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618978061,"creation_date":1618978061,"answer_id":67189154,"question_id":25930191,"body_markdown":"\r\n\r\nPlease add mysql-connector-java dependency  \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nand Add the below mentioned properties in application.properties\r\n\r\n\r\n    # Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/yourDatabaseName?useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=YourPassword\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>Please add mysql-connector-java dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and Add the below mentioned properties in application.properties</p>\n<pre><code># Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\nspring.datasource.url=jdbc:mysql://localhost:3306/yourDatabaseName?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=YourPassword\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658308546,"creation_date":1658308546,"answer_id":73048895,"question_id":25930191,"body_markdown":"I will like to add that we should be mindful of the database platform we are using while connecting to our SQL database.\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MYSQL8Dialect.\r\n\r\nwasn&#39;t working for me, until I commented it out and added\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>I will like to add that we should be mindful of the database platform we are using while connecting to our SQL database.</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.MYSQL8Dialect.</p>\n<p>wasn't working for me, until I commented it out and added</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect</p>\n"},{"tags":[],"owner":{"account_id":19850767,"reputation":61,"user_id":14541306,"display_name":"Vinojan Isoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669720546,"creation_date":1669720546,"answer_id":74613204,"question_id":25930191,"body_markdown":"    spring.datasource.url = jdbc:mysql://127.0.0.1:3306/employee-schema\r\n    spring.datasource.username = root\r\n    spring.datasource.password = Vinojan\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n","title":"Connect MySQL to Spring application","body":"<pre><code>spring.datasource.url = jdbc:mysql://127.0.0.1:3306/employee-schema\nspring.datasource.username = root\nspring.datasource.password = Vinojan\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16401215,"reputation":333,"user_id":11847127,"display_name":"sat1017"},"score":0,"creation_date":1691724278,"post_id":76614992,"comment_id":135533257,"body_markdown":"where can I find the values to set `spring.jpa.properties.hibernate.dialect` ? This property also doesn&#39;t show up in https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.jpa.database-platform","body":"where can I find the values to set <code>spring.jpa.properties.hibernate.dialect</code> ? This property also doesn&#39;t show up in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.jpa.database-platform\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":10076508,"reputation":487,"user_id":7448439,"display_name":"srinivas chaitanya"},"score":0,"creation_date":1691735030,"post_id":76614992,"comment_id":135534334,"body_markdown":"Please have a look at this article https://vladmihalcea.com/hibernate-dialect/","body":"Please have a look at this article <a href=\"https://vladmihalcea.com/hibernate-dialect/\" rel=\"nofollow noreferrer\">vladmihalcea.com/hibernate-dialect</a>"}],"tags":[],"owner":{"account_id":10076508,"reputation":487,"user_id":7448439,"display_name":"srinivas chaitanya"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688494115,"creation_date":1688494115,"answer_id":76614992,"question_id":25930191,"body_markdown":"As of spring boot 3,  `org.hibernate.dialect.MySQL8Dialect`  and `com.mysql.jdbc.Driver` are deprecated. Use the below properties instead\r\n\r\n&gt; spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n&gt; \r\n&gt; spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nsample `application.properties` file\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.show-sql=true\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dev\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect","title":"Connect MySQL to Spring application","body":"<p>As of spring boot 3,  <code>org.hibernate.dialect.MySQL8Dialect</code>  and <code>com.mysql.jdbc.Driver</code> are deprecated. Use the below properties instead</p>\n<blockquote>\n<p>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</p>\n<p>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</p>\n</blockquote>\n<p>sample <code>application.properties</code> file</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true\nspring.datasource.url=jdbc:mysql://localhost:3306/dev\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4991816,"reputation":112,"user_id":4013767,"display_name":"Manojkumaar G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696788933,"creation_date":1696788933,"answer_id":77254787,"question_id":25930191,"body_markdown":"The following can be used for application.yml file\r\n\r\n&gt;     spring:\r\n&gt;       datasource:\r\n&gt;         driver-class-name: com.mysql.cj.jdbc.Driver\r\n&gt;         url: jdbc:mysql://localhost:3306/wikimedia\r\n&gt;         username: root\r\n&gt;         password: root\r\n&gt;       jpa:\r\n&gt;         database: mysql\r\n&gt;         show-sql: true\r\n&gt;         database-platform: org.hibernate.dialect.MySQLDialect\r\n&gt;         hibernate:\r\n&gt;           ddl-auto: update\r\n&gt;       data:\r\n&gt;         jpa:\r\n&gt;           repositories:\r\n&gt;             enabled: true","title":"Connect MySQL to Spring application","body":"<p>The following can be used for application.yml file</p>\n<blockquote>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/wikimedia\n    username: root\n    password: root\n  jpa:\n    database: mysql\n    show-sql: true\n    database-platform: org.hibernate.dialect.MySQLDialect\n    hibernate:\n      ddl-auto: update\n  data:\n    jpa:\n      repositories:\n        enabled: true\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":3756385,"reputation":664,"user_id":3122666,"accept_rate":67,"display_name":"jimish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185106,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":12,"score":15,"last_activity_date":1696788933,"creation_date":1411117352,"question_id":25930191,"body_markdown":"I want to use MySQL database rather than using runtime database like hsqldb. I have cloned [this repository][1] and it is using hsqldb as its database. \r\n\r\nAs I want to learn how to use relational database with rest based spring application. So I have made following changes to pom.xml:\r\nchanged pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.springsource.restbucks&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;restbucks&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Spring RESTBucks&lt;/name&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring-data-releasetrain.version&gt;Evans-RC1&lt;/spring-data-releasetrain.version&gt;\r\n    \t\t&lt;tomcat.version&gt;8.0.9&lt;/tomcat.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- Spring Data REST --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t        &lt;exclusion&gt;\r\n    \t\t            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t        &lt;/exclusion&gt;\r\n    \t\t    &lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JDK 8 DateTime support for Hibernate --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;usertype.extended&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Database &gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Misc --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx-events&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.14.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-libs-snapshot&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-libs-snapshot&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nand in application.properties (spring-restbucks/src/main/resources/application.properties), I have made following changes:\r\n\r\n    # JPA\r\n    spring.jpa.show-sql=true\r\n    \r\n    server.port=8080\r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost/restBucks\r\n    \r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    \r\n    spring.datasource.username=root\r\n    \r\n    spring.datasource.password=\r\n\r\nbut I am facing about 15 errors like:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;orderInitializer&#39; defined in file [/home/jimish/projects/spring_projects/spring/spring-restbucks/target/classes/org/springsource/restbucks/order/OrderInitializer.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springsource.restbucks.order.OrderInitializer]: Constructor threw exception; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nSo if anyone can suggest path for how to connect mysql to spring application that would be great.\r\nThanks.\r\n\r\n\r\n\r\n  [1]: https://github.com/olivergierke/spring-restbucks.git","title":"Connect MySQL to Spring application","body":"<p>I want to use MySQL database rather than using runtime database like hsqldb. I have cloned <a href=\"https://github.com/olivergierke/spring-restbucks.git\" rel=\"noreferrer\">this repository</a> and it is using hsqldb as its database. </p>\n\n<p>As I want to learn how to use relational database with rest based spring application. So I have made following changes to pom.xml:\nchanged pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.springsource.restbucks&lt;/groupId&gt;\n    &lt;artifactId&gt;restbucks&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Spring RESTBucks&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;spring-data-releasetrain.version&gt;Evans-RC1&lt;/spring-data-releasetrain.version&gt;\n        &lt;tomcat.version&gt;8.0.9&lt;/tomcat.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Spring Data REST --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JDK 8 DateTime support for Hibernate --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\n            &lt;artifactId&gt;usertype.extended&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Database &gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Misc --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx-events&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.14.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-libs-snapshot&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-libs-snapshot&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and in application.properties (spring-restbucks/src/main/resources/application.properties), I have made following changes:</p>\n\n<pre><code># JPA\nspring.jpa.show-sql=true\n\nserver.port=8080\n\nspring.datasource.url=jdbc:mysql://localhost/restBucks\n\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n\nspring.datasource.username=root\n\nspring.datasource.password=\n</code></pre>\n\n<p>but I am facing about 15 errors like:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderInitializer' defined in file [/home/jimish/projects/spring_projects/spring/spring-restbucks/target/classes/org/springsource/restbucks/order/OrderInitializer.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springsource.restbucks.order.OrderInitializer]: Constructor threw exception; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n\n<p>So if anyone can suggest path for how to connect mysql to spring application that would be great.\nThanks.</p>\n"},{"tags":["java","android","gradle","android-productflavors"],"comments":[{"owner":{"account_id":7345988,"reputation":597,"user_id":5593663,"accept_rate":64,"display_name":"iSandeep"},"score":0,"creation_date":1454427395,"post_id":35155779,"comment_id":58033505,"body_markdown":"I have&#39;nt done it before but [Gradle Plugin User Guide](http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Product-Flavor-Configuration) may be helpful for you.","body":"I have&#39;nt done it before but <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Product-Flavor-Configuration\" rel=\"nofollow noreferrer\">Gradle Plugin User Guide</a> may be helpful for you."}],"answers":[{"comments":[{"owner":{"account_id":4466925,"reputation":153,"user_id":3634297,"display_name":"user3634297"},"score":0,"creation_date":1454493000,"post_id":35158154,"comment_id":58064472,"body_markdown":"It does not work. Can I disable the dependency, but I can not turn off gradle plugin (apply plugin: &#39;com.google.gms.google-services&#39;), which each time looking for google-services.json at compile time.","body":"It does not work. Can I disable the dependency, but I can not turn off gradle plugin (apply plugin: &#39;com.google.gms.google-services&#39;), which each time looking for google-services.json at compile time."},{"owner":{"account_id":7490163,"reputation":1636,"user_id":5692170,"display_name":"Joopkins"},"score":0,"creation_date":1454500001,"post_id":35158154,"comment_id":58069379,"body_markdown":"This is a problem with multiple flavors and google-services.json. Use apply plugin com.google.gms:google-services:2.0.0-alpha3. Then it supports you placing the google-services.json file in each flavor directory. \n\n    app/src/\n    freeVersion/google-services.json\n    proVersion/google-services.json\n    partnerVersion/google-services.json","body":"This is a problem with multiple flavors and google-services.json. Use apply plugin com.google.gms:google-services:2.0.0-alpha3. Then it supports you placing the google-services.json file in each flavor directory.       app/src/     freeVersion/google-services.json     proVersion/google-services.json     partnerVersion/google-services.json"},{"owner":{"account_id":4466925,"reputation":153,"user_id":3634297,"display_name":"user3634297"},"score":0,"creation_date":1454505055,"post_id":35158154,"comment_id":58072853,"body_markdown":"No. It doesnt work. \n    Error:(135, 0) Plugin with id &#39;com.google.gms:google-services:2.0.0-alpha3&#39; not found.","body":"No. It doesnt work.      Error:(135, 0) Plugin with id &#39;com.google.gms:google-services:2.0.0-alpha3&#39; not found."},{"owner":{"account_id":4466925,"reputation":153,"user_id":3634297,"display_name":"user3634297"},"score":0,"creation_date":1454505179,"post_id":35158154,"comment_id":58072946,"body_markdown":"From official guide: \n\nAdd the dependency to your project-level build.gradle:\nclasspath &#39;com.google.gms:google-services:2.0.0-alpha5&#39;\nAdd the plugin to your app-level build.gradle:\napply plugin: &#39;com.google.gms.google-services&#39;","body":"From official guide:   Add the dependency to your project-level build.gradle: classpath &#39;com.google.gms:google-services:2.0.0-alpha5&#39; Add the plugin to your app-level build.gradle: apply plugin: &#39;com.google.gms.google-services&#39;"},{"owner":{"account_id":7490163,"reputation":1636,"user_id":5692170,"display_name":"Joopkins"},"score":0,"creation_date":1454505208,"post_id":35158154,"comment_id":58072965,"body_markdown":"https://developers.google.com/android/guides/google-services-plugin?hl=en take a look at this link and the JSON file info.","body":"<a href=\"https://developers.google.com/android/guides/google-services-plugin?hl=en\" rel=\"nofollow noreferrer\">developers.google.com/android/guides/&hellip;</a> take a look at this link and the JSON file info."},{"owner":{"account_id":7490163,"reputation":1636,"user_id":5692170,"display_name":"Joopkins"},"score":0,"creation_date":1454505387,"post_id":35158154,"comment_id":58073104,"body_markdown":"I believe I have misunderstood this question to be about dependencies rather than the plugin. I&#39;m not sure there is a way to have flavor specific plugins without setting up a custom gradle task and preferences.","body":"I believe I have misunderstood this question to be about dependencies rather than the plugin. I&#39;m not sure there is a way to have flavor specific plugins without setting up a custom gradle task and preferences."},{"owner":{"account_id":7490163,"reputation":1636,"user_id":5692170,"display_name":"Joopkins"},"score":0,"creation_date":1454505710,"post_id":35158154,"comment_id":58073355,"body_markdown":"http://stackoverflow.com/questions/31379795/how-to-apply-plugin-to-only-one-flavor-in-gradle Not a definitive answer but an example of what you may be able to come up with.","body":"<a href=\"http://stackoverflow.com/questions/31379795/how-to-apply-plugin-to-only-one-flavor-in-gradle\" title=\"how to apply plugin to only one flavor in gradle\">stackoverflow.com/questions/31379795/&hellip;</a> Not a definitive answer but an example of what you may be able to come up with."},{"owner":{"account_id":4466925,"reputation":153,"user_id":3634297,"display_name":"user3634297"},"score":0,"creation_date":1454510975,"post_id":35158154,"comment_id":58077348,"body_markdown":"I found it.  It looks like a crutch :D","body":"I found it.  It looks like a crutch :D"}],"tags":[],"owner":{"account_id":7490163,"reputation":1636,"user_id":5692170,"display_name":"Joopkins"},"comment_count":8,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1454428938,"creation_date":1454428938,"answer_id":35158154,"question_id":35155779,"body_markdown":"I misread the question initially. To exclude the free version you would use proVersionCompile and partnerVersionCompile with the desired dependency to exclude the freeVersion.\r\n\r\n    dependencies {\r\n        proVersionCompile &#39;com.google.android.gms:play-services-analytics:8.4.0&#39;\r\n        partnerVersionCompile &#39;com.google.android.gms:play-services-analytics:8.4.0&#39;\r\n    }","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>I misread the question initially. To exclude the free version you would use proVersionCompile and partnerVersionCompile with the desired dependency to exclude the freeVersion.</p>\n\n<pre><code>dependencies {\n    proVersionCompile 'com.google.android.gms:play-services-analytics:8.4.0'\n    partnerVersionCompile 'com.google.android.gms:play-services-analytics:8.4.0'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3904519,"reputation":7054,"user_id":3231532,"accept_rate":40,"display_name":"Kelevandos"},"score":3,"creation_date":1477400543,"post_id":39761871,"comment_id":67743284,"body_markdown":"This doesn&#39;t (no longer?) works, as the value will always be set to the last defined flavor :-(","body":"This doesn&#39;t (no longer?) works, as the value will always be set to the last defined flavor :-("},{"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"score":0,"creation_date":1477422859,"post_id":39761871,"comment_id":67758063,"body_markdown":"Still works for me. The value of `flavor` variable is decided when gradle tasks run. Maybe you are running both flavors and accessing the variable later on?","body":"Still works for me. The value of <code>flavor</code> variable is decided when gradle tasks run. Maybe you are running both flavors and accessing the variable later on?"},{"owner":{"account_id":3904519,"reputation":7054,"user_id":3231532,"accept_rate":40,"display_name":"Kelevandos"},"score":1,"creation_date":1477422960,"post_id":39761871,"comment_id":67758115,"body_markdown":"I tried logging it and actually all 3 flavors are called, one after another, and the final value always ends up being the one set in the last module :( The if code at the bottom is only called once though, alter those 3 :(","body":"I tried logging it and actually all 3 flavors are called, one after another, and the final value always ends up being the one set in the last module :( The if code at the bottom is only called once though, alter those 3 :("},{"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"score":0,"creation_date":1477423082,"post_id":39761871,"comment_id":67758178,"body_markdown":"I&#39;m not an expert in gradle tasks, but how I did was use AssembleFreeRelease to get apk, then another click on AssemblePaidRelease. You can find the clickable tasks in gradle window on right side of Android Studio.","body":"I&#39;m not an expert in gradle tasks, but how I did was use AssembleFreeRelease to get apk, then another click on AssemblePaidRelease. You can find the clickable tasks in gradle window on right side of Android Studio."},{"owner":{"account_id":5871672,"reputation":672,"user_id":4623822,"accept_rate":55,"display_name":"Naveen Dissanayake"},"score":0,"creation_date":1519018610,"post_id":39761871,"comment_id":84723342,"body_markdown":"I tried this recently and it doesn&#39;t work for me either. It seems @anandbibek was right, the value gets assigned twice in a single gradle sync so flavor is always the last value assigned. Has anyone found a different solution?","body":"I tried this recently and it doesn&#39;t work for me either. It seems @anandbibek was right, the value gets assigned twice in a single gradle sync so flavor is always the last value assigned. Has anyone found a different solution?"},{"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"score":0,"creation_date":1519631583,"post_id":39761871,"comment_id":84972075,"body_markdown":"Recent gradle changes have possibly refactored the way it is handled. Have to investigate further on latest plugin","body":"Recent gradle changes have possibly refactored the way it is handled. Have to investigate further on latest plugin"}],"tags":[],"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"comment_count":6,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1478376035,"creation_date":1475125873,"answer_id":39761871,"question_id":35155779,"body_markdown":"Please notice the use of `freeCompile` and declaring a variable `flavor` to conditionally apply the plugin.   \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    def flavor\r\n    \r\n    android {\r\n        \r\n        ....\r\n\r\n        ....\r\n\r\n        productFlavors {\r\n            free {\r\n                applicationId &quot;com.anandbibek.builditbigger.free&quot;\r\n                flavor = &quot;free&quot;\r\n            }\r\n            paid {\r\n                applicationId &quot;com.anandbibek.builditbigger.paid&quot;\r\n                flavor = &quot;paid&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        // Added for AdMob\r\n        freeCompile &#39;com.google.firebase:firebase-ads:9.6.1&#39;\r\n    \r\n        compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        compile &#39;com.google.code.findbugs:jsr305:2.0.1&#39;\r\n    \r\n    }\r\n    if(flavor == &quot;free&quot;) {\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n\r\n\r\nMake sure you put the `google-services.json` file in flavor specific folder. In my case, I put that in `app/src/free` only . This facility is available when you use `classpath &#39;com.google.gms:google-services:3.0.0&#39;` in your main project gradle file.","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>Please notice the use of <code>freeCompile</code> and declaring a variable <code>flavor</code> to conditionally apply the plugin.   </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\ndef flavor\n\nandroid {\n\n    ....\n\n    ....\n\n    productFlavors {\n        free {\n            applicationId \"com.anandbibek.builditbigger.free\"\n            flavor = \"free\"\n        }\n        paid {\n            applicationId \"com.anandbibek.builditbigger.paid\"\n            flavor = \"paid\"\n        }\n    }\n}\n\ndependencies {\n\n    // Added for AdMob\n    freeCompile 'com.google.firebase:firebase-ads:9.6.1'\n\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile 'com.google.code.findbugs:jsr305:2.0.1'\n\n}\nif(flavor == \"free\") {\n    apply plugin: 'com.google.gms.google-services'\n}\n</code></pre>\n\n<p>Make sure you put the <code>google-services.json</code> file in flavor specific folder. In my case, I put that in <code>app/src/free</code> only . This facility is available when you use <code>classpath 'com.google.gms:google-services:3.0.0'</code> in your main project gradle file.</p>\n"},{"comments":[{"owner":{"account_id":6071062,"reputation":452,"user_id":4739877,"display_name":"Thomas Sunderland"},"score":1,"creation_date":1638887913,"post_id":49542745,"comment_id":124203674,"body_markdown":"This should be the accepted answer IMO. You can also print the flavorName out to the build console window in case you&#39;re having issues identifying it.","body":"This should be the accepted answer IMO. You can also print the flavorName out to the build console window in case you&#39;re having issues identifying it."}],"tags":[],"owner":{"account_id":187471,"reputation":2788,"user_id":425538,"display_name":"appmattus"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1522265587,"creation_date":1522265587,"answer_id":49542745,"question_id":35155779,"body_markdown":"Another solution is to disable the task the google-services plugin adds - here I enable the task if the flavorName is not &quot;freeVersion&quot; but this logic can clearly be updated to say look at the variants buildType instead.\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    // must be after the plugin is applied otherwise no tasks will be found\r\n    android.applicationVariants.all { variant -&gt;\r\n        def googleTask = tasks.findByName(&quot;process${variant.name.capitalize()}GoogleServices&quot;)\r\n        googleTask.enabled = !&quot;freeVersion&quot;.equals(variant.flavorName)\r\n    }","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>Another solution is to disable the task the google-services plugin adds - here I enable the task if the flavorName is not \"freeVersion\" but this logic can clearly be updated to say look at the variants buildType instead.</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n\n// must be after the plugin is applied otherwise no tasks will be found\nandroid.applicationVariants.all { variant -&gt;\n    def googleTask = tasks.findByName(\"process${variant.name.capitalize()}GoogleServices\")\n    googleTask.enabled = !\"freeVersion\".equals(variant.flavorName)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410724,"reputation":456,"user_id":2860701,"display_name":"AndroidZen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696788487,"creation_date":1696788487,"answer_id":77254761,"question_id":35155779,"body_markdown":"After trying these and other examples, none of the solutions have worked for me. I imagine that these responses are a bit outdated, considering that the answer is from 2018, and Gradle has changed a lot, especially with the migration from Groovy to Kotlin. In the end, the code that worked for me is the following:\r\n\r\n```\r\nval variantsWithoutFirebase = arrayListOf(\r\n    &quot;variantDebug&quot;, &quot;variantStaging&quot;, &quot;variantRelease&quot;\r\n)\r\nafterEvaluate {\r\n    android.applicationVariants.all { _ -&gt;\r\n        project.tasks.filter { task -&gt;\r\n            variantsWithoutFirebase.any { task.name.contains(it, true) }\r\n        }.map { task -&gt;\r\n            if (\r\n                task.name.contains(&quot;GoogleServices&quot;) ||\r\n                task.name.contains(&quot;uploadCrashlyticsMapping&quot;)\r\n            ) {\r\n                // Remove google services plugin\r\n                tasks.findByName(task.name)?.enabled = false\r\n                println(&quot;Disable task: ${task.name}&quot;)\r\n            }\r\n        }\r\n        false\r\n    }\r\n}\r\n```","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>After trying these and other examples, none of the solutions have worked for me. I imagine that these responses are a bit outdated, considering that the answer is from 2018, and Gradle has changed a lot, especially with the migration from Groovy to Kotlin. In the end, the code that worked for me is the following:</p>\n<pre><code>val variantsWithoutFirebase = arrayListOf(\n    &quot;variantDebug&quot;, &quot;variantStaging&quot;, &quot;variantRelease&quot;\n)\nafterEvaluate {\n    android.applicationVariants.all { _ -&gt;\n        project.tasks.filter { task -&gt;\n            variantsWithoutFirebase.any { task.name.contains(it, true) }\n        }.map { task -&gt;\n            if (\n                task.name.contains(&quot;GoogleServices&quot;) ||\n                task.name.contains(&quot;uploadCrashlyticsMapping&quot;)\n            ) {\n                // Remove google services plugin\n                tasks.findByName(task.name)?.enabled = false\n                println(&quot;Disable task: ${task.name}&quot;)\n            }\n        }\n        false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4466925,"reputation":153,"user_id":3634297,"display_name":"user3634297"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6278,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1696788487,"creation_date":1454422428,"question_id":35155779,"body_markdown":"In my Android project, there are several product flavors:\r\n\r\n    buildTypes {\r\n        release {}\r\n        debug {}\r\n        staging {}\r\n    }\r\n\r\n    productFlavors {\r\n        freeVersion {}\r\n        proVersion {}\r\n        partnerVersion {}\r\n    }\r\n    \r\nAlso, i use Google Analytics:\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    dependencies {\r\n        compile &#39;com.google.android.gms:play-services-analytics:8.4.0&#39;\r\n    }\r\n\r\n\r\nHow to exclude google-services in one of them? For example, in:\r\n\r\n    freeVersion {}","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>In my Android project, there are several product flavors:</p>\n\n<pre><code>buildTypes {\n    release {}\n    debug {}\n    staging {}\n}\n\nproductFlavors {\n    freeVersion {}\n    proVersion {}\n    partnerVersion {}\n}\n</code></pre>\n\n<p>Also, i use Google Analytics:</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n\ndependencies {\n    compile 'com.google.android.gms:play-services-analytics:8.4.0'\n}\n</code></pre>\n\n<p>How to exclude google-services in one of them? For example, in:</p>\n\n<pre><code>freeVersion {}\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-boot","pom.xml"],"owner":{"account_id":10046033,"reputation":672,"user_id":7427398,"accept_rate":32,"display_name":"ksernow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696788390,"creation_date":1696788390,"question_id":77254752,"body_markdown":"I am trying to configure my react app for running in different env (prod, stage and local). The react app is served via spring boot and so I am trying to find the best way to build and run the app but make sure it uses different urls based where it is run. \r\n\r\nFor eg, if I run on local, it should use localhost:8080, \r\nif I run on prod it should use the url www.prodUrl.com,\r\nif I run on stage, it should use www.stageUrl.com\r\n\r\nHere is my pom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;master&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hype&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;hype&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.28&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-model-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.stripe&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;22.30.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.12.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm run build&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm run build:widget&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run build:widget&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;workingDirectory&gt;src/main/webapp&lt;/workingDirectory&gt;\r\n\t\t\t\t\t&lt;nodeVersion&gt;v20.2.0&lt;/nodeVersion&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/webapp/build&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the react file where I need to configure using dynamic url\r\n```\r\nimport axios from &#39;axios&#39;;\r\n\r\nexport const widgetAxiosClient = () =&gt; {\r\n  const client = axios.create({\r\n     baseURL: &quot;http://localhost:7171/api/&quot;\r\n  });\r\n\r\n  return { client };\r\n};\r\n\r\n```","title":"Set dynamic url for react app served via spring boot","body":"<p>I am trying to configure my react app for running in different env (prod, stage and local). The react app is served via spring boot and so I am trying to find the best way to build and run the app but make sure it uses different urls based where it is run.</p>\n<p>For eg, if I run on local, it should use localhost:8080,\nif I run on prod it should use the url <a href=\"http://www.prodUrl.com\" rel=\"nofollow noreferrer\">www.prodUrl.com</a>,\nif I run on stage, it should use <a href=\"http://www.stageUrl.com\" rel=\"nofollow noreferrer\">www.stageUrl.com</a></p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;master&lt;/groupId&gt;\n    &lt;artifactId&gt;hype&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;hype&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;21.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n            &lt;version&gt;21.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-model-jpa&lt;/artifactId&gt;\n            &lt;version&gt;21.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                    &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.stripe&lt;/groupId&gt;\n            &lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\n            &lt;version&gt;22.30.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;21.1.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.12.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build:widget&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build:widget&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;src/main/webapp&lt;/workingDirectory&gt;\n                    &lt;nodeVersion&gt;v20.2.0&lt;/nodeVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/webapp/build&lt;/directory&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the react file where I need to configure using dynamic url</p>\n<pre><code>import axios from 'axios';\n\nexport const widgetAxiosClient = () =&gt; {\n  const client = axios.create({\n     baseURL: &quot;http://localhost:7171/api/&quot;\n  });\n\n  return { client };\n};\n\n</code></pre>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1696777246,"post_id":77253903,"comment_id":136193857,"body_markdown":"What are APIs you already tried from Postman (or any client)? Please provide an example here.","body":"What are APIs you already tried from Postman (or any client)? Please provide an example here."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1696778285,"post_id":77253903,"comment_id":136193981,"body_markdown":"Remove the gateway controller. The uri only is for the host and port. You need to use a filter such as setpath, or rewrite path","body":"Remove the gateway controller. The uri only is for the host and port. You need to use a filter such as setpath, or rewrite path"},{"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"score":0,"creation_date":1696787674,"post_id":77253903,"comment_id":136194916,"body_markdown":"thanks a lot @spencergibb, I removed the gateway controller and searched more about SetPath and RewritePath and finally it works!","body":"thanks a lot @spencergibb, I removed the gateway controller and searched more about SetPath and RewritePath and finally it works!"}],"answers":[{"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1696815746,"post_id":77254711,"comment_id":136197132,"body_markdown":"In your particular case you could also use the prefix path filter","body":"In your particular case you could also use the prefix path filter"}],"tags":[],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696787590,"creation_date":1696787590,"answer_id":77254711,"question_id":77253903,"body_markdown":"```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: route1\r\n      # where we send traffic\r\n        uri: http://localhost:9001/api/movies\r\n        predicates:\r\n        - Path=/movies/**\r\n        filters:\r\n          - RewritePath=/movies/(?&lt;segment&gt;.*),/api/movies/$\\{segment}\r\n```\r\nThis is the final configuration that has worked.\r\nHere is the example which I found and adapted to my case from Baeldung [link][1]. Thanks a lot to [spencergibb][2] for directions with SetPath and RewritePath.\r\n\r\nI needed all from /movies/** , to go to /api/movies/** in the other app, and now it works.\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-gateway-url-rewriting\r\n  [2]: https://stackoverflow.com/users/2730527/spencergibb","title":"spring cloud gateway no redirect to other application","body":"<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: route1\n      # where we send traffic\n        uri: http://localhost:9001/api/movies\n        predicates:\n        - Path=/movies/**\n        filters:\n          - RewritePath=/movies/(?&lt;segment&gt;.*),/api/movies/$\\{segment}\n</code></pre>\n<p>This is the final configuration that has worked.\nHere is the example which I found and adapted to my case from Baeldung <a href=\"https://www.baeldung.com/spring-cloud-gateway-url-rewriting\" rel=\"nofollow noreferrer\">link</a>. Thanks a lot to <a href=\"https://stackoverflow.com/users/2730527/spencergibb\">spencergibb</a> for directions with SetPath and RewritePath.</p>\n<p>I needed all from /movies/** , to go to /api/movies/** in the other app, and now it works.</p>\n"}],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696787590,"creation_date":1696773860,"question_id":77253903,"body_markdown":"I have a movies API which is exposed on port 9001 and I am trying to build a gateway API on port 9000 to redirect the requests to the movies API. Java 17, OS Win10\r\n\r\nHere is code for movies API.\r\n\r\nController :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/movies&quot;)\r\npublic class MoviesAPI {\r\n    private final Logger log = LoggerFactory.getLogger(MoviesAPI.class);\r\n\r\n    private final MovieRepository movieRepository;\r\n\r\n    public MoviesAPI(MovieRepository movieRepository) {\r\n        this.movieRepository = movieRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Movie&gt; getAll(){\r\n        log.info(&quot;REST request to get all movies&quot;);\r\n        return movieRepository.findAll();\r\n    }\r\n\r\n    @PostMapping\r\n    public Optional&lt;Movie&gt; saveMovie(@RequestBody Movie movie){\r\n        log.info(&quot;REST request to save movie : {}&quot;, movie);\r\n        movie.setLastUpdatedTime(Instant.now());\r\n        return Optional.of(movieRepository.save(movie));\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Optional&lt;Movie&gt; getMovieById(@PathVariable UUID id){\r\n        log.info(&quot;REST request to get movie by id : {}&quot;, id);\r\n        return movieRepository.findById(id);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteMovie(@PathVariable UUID id) {\r\n        log.info(&quot;REST request to delete movie by id : {}&quot;, id);\r\n        if (movieRepository.existsById(id)) {\r\n            movieRepository.deleteById(id);\r\n        } else {\r\n            throw new RuntimeException(&quot;Movie with ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\napplication.yml :\r\n\r\n```\r\nserver:\r\n  port: 9001\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: localhost\r\n      port: 27017\r\n      database: movies1\r\n# swagger-ui custom path\r\nspringdoc:\r\n  swagger-ui:\r\n    path: /swagger-ui.html\r\n```\r\nMain application class:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SmartProxyJavocApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SmartProxyJavocApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here is the code for gateway API.\r\n\r\nController :\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/gateway&quot;)\r\npublic class GatewayFallback {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(GatewayFallback.class);\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public String getAccount() {\r\n        return &quot;yes&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\napplication.yml :\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: route1\r\n          # where we send traffic\r\n          uri: http://localhost:9001/api/movies\r\n          predicates:\r\n            - Path=/gateway/all\r\nserver:\r\n  port: 9000\r\n```\r\nMain application class:\r\n```\r\n@SpringBootApplication\r\npublic class ProxyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ProxyApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI have tried several values for Path like : ```/gateway/all/**, /gateway/**```, changing the server port for gateway (8080). The code seems good according to the tutorials and articles I&#39;ve read but still I can&#39;t figure out what is the problem.","title":"spring cloud gateway no redirect to other application","body":"<p>I have a movies API which is exposed on port 9001 and I am trying to build a gateway API on port 9000 to redirect the requests to the movies API. Java 17, OS Win10</p>\n<p>Here is code for movies API.</p>\n<p>Controller :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/movies&quot;)\npublic class MoviesAPI {\n    private final Logger log = LoggerFactory.getLogger(MoviesAPI.class);\n\n    private final MovieRepository movieRepository;\n\n    public MoviesAPI(MovieRepository movieRepository) {\n        this.movieRepository = movieRepository;\n    }\n\n    @GetMapping\n    public List&lt;Movie&gt; getAll(){\n        log.info(&quot;REST request to get all movies&quot;);\n        return movieRepository.findAll();\n    }\n\n    @PostMapping\n    public Optional&lt;Movie&gt; saveMovie(@RequestBody Movie movie){\n        log.info(&quot;REST request to save movie : {}&quot;, movie);\n        movie.setLastUpdatedTime(Instant.now());\n        return Optional.of(movieRepository.save(movie));\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Optional&lt;Movie&gt; getMovieById(@PathVariable UUID id){\n        log.info(&quot;REST request to get movie by id : {}&quot;, id);\n        return movieRepository.findById(id);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteMovie(@PathVariable UUID id) {\n        log.info(&quot;REST request to delete movie by id : {}&quot;, id);\n        if (movieRepository.existsById(id)) {\n            movieRepository.deleteById(id);\n        } else {\n            throw new RuntimeException(&quot;Movie with ID &quot; + id + &quot; not found&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>application.yml :</p>\n<pre><code>server:\n  port: 9001\nspring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: movies1\n# swagger-ui custom path\nspringdoc:\n  swagger-ui:\n    path: /swagger-ui.html\n</code></pre>\n<p>Main application class:</p>\n<pre><code>@SpringBootApplication\npublic class SmartProxyJavocApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SmartProxyJavocApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>And here is the code for gateway API.</p>\n<p>Controller :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/gateway&quot;)\npublic class GatewayFallback {\n\n    private final Logger log = LoggerFactory.getLogger(GatewayFallback.class);\n\n    @GetMapping(&quot;/all&quot;)\n    public String getAccount() {\n        return &quot;yes&quot;;\n    }\n\n}\n\n</code></pre>\n<p>application.yml :</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: route1\n          # where we send traffic\n          uri: http://localhost:9001/api/movies\n          predicates:\n            - Path=/gateway/all\nserver:\n  port: 9000\n</code></pre>\n<p>Main application class:</p>\n<pre><code>@SpringBootApplication\npublic class ProxyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProxyApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>I have tried several values for Path like : <code>/gateway/all/**, /gateway/**</code>, changing the server port for gateway (8080). The code seems good according to the tutorials and articles I've read but still I can't figure out what is the problem.</p>\n"},{"tags":["java","spring","websocket","interceptor","messaging"],"owner":{"account_id":29582120,"reputation":11,"user_id":22671667,"display_name":"Eugene Kulik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696786950,"creation_date":1696442791,"question_id":77232005,"body_markdown":"The problem I&#39;m having is with the execution order of **ChannelInterceptors**.I tried setting up websocket security. Defined a **ChannelInterseptor** to implement jwt token based authentication and added its **ChannelRegistration**. Also added **@EnableWebsocketSecurity** annotation to enable security for websocket. At the same time, interceptor chains are added that define security rules.Here is my class implementing **WebSocketMessageBrokerConfigurer**. My **ChannelInterceptor** was being added later than the security interceptor chain, resulting in an authorization error.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\n@EnableWebSocketSecurity\r\n@Slf4j\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    private final JwtDecoder jwtDecoder;\r\n\r\n    public WebSocketConfig(JwtDecoder jwtDecoder) {\r\n        this.jwtDecoder = jwtDecoder;\r\n    }\r\n\r\n    @Bean\r\n    public ChannelInterceptor csrfChannelInterceptor(){\r\n        return new ChannelInterceptor() {\r\n            @Override\r\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n                return ChannelInterceptor.super.preSend(message, channel);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(new ChannelInterceptor() {\r\n            @Override\r\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n                StompHeaderAccessor accessor =\r\n                    MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n                if (StompCommand.CONNECT.equals(accessor.getCommand())) {\r\n                    List&lt;String&gt; authorization = accessor.getNativeHeader(&quot;Authorization&quot;);\r\n\r\n                    String accessToken = authorization.get(0).split(&quot; &quot;)[1];\r\n                    Jwt jwt = jwtDecoder.decode(accessToken);\r\n                    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\r\n                    Authentication authentication = converter.convert(jwt);\r\n                    accessor.setUser(authentication);\r\n                }\r\n                return message;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\r\n    }\r\n\r\n    @Bean\r\n    public AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\r\n        messages\r\n            .anyMessage().authenticated();\r\n        return messages.build();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/chat&quot;)\r\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;);\r\n        registry.addEndpoint(&quot;/chat&quot;)\r\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;)\r\n            .withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the order in which **ChannelInterseptors** are registered depends only on the insertion order, since everything is implemented through a regular ArrayList. There is one way - to determine the order of configurations that implement the **WebsocketMessageBrokerConfigurer** interface. They are injected via a setter in the **DelegatingWebSocketMessageBrokerConfiguration**. And the order of implementation of collections can be changed using the **@Order** annotation, placing it above our configuration class.\r\nThis solved the problem in my case, but I wondered if there would be a need to explicitly define the order of interceptors, such as wedging into a chain of security interceptors. An analogy can be drawn with **SecurityFilterChain**, when configuring it you can use the **addFilterAt**, **addFilterBefore**, **addFilterAfter** methods.\r\n\r\n*I couldn&#39;t find a way, but maybe I&#39;m missing something.*\r\n\r\n*This post is intended more for discussion. I want to start contributing if the detected problem turns out to be valid.*","title":"How can one determine order of execution of ChannelInterceptors in Spring messaging?","body":"<p>The problem I'm having is with the execution order of <strong>ChannelInterceptors</strong>.I tried setting up websocket security. Defined a <strong>ChannelInterseptor</strong> to implement jwt token based authentication and added its <strong>ChannelRegistration</strong>. Also added <strong>@EnableWebsocketSecurity</strong> annotation to enable security for websocket. At the same time, interceptor chains are added that define security rules.Here is my class implementing <strong>WebSocketMessageBrokerConfigurer</strong>. My <strong>ChannelInterceptor</strong> was being added later than the security interceptor chain, resulting in an authorization error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\n@EnableWebSocketSecurity\n@Slf4j\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    private final JwtDecoder jwtDecoder;\n\n    public WebSocketConfig(JwtDecoder jwtDecoder) {\n        this.jwtDecoder = jwtDecoder;\n    }\n\n    @Bean\n    public ChannelInterceptor csrfChannelInterceptor(){\n        return new ChannelInterceptor() {\n            @Override\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n                return ChannelInterceptor.super.preSend(message, channel);\n            }\n        };\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(new ChannelInterceptor() {\n            @Override\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n                StompHeaderAccessor accessor =\n                    MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n                if (StompCommand.CONNECT.equals(accessor.getCommand())) {\n                    List&lt;String&gt; authorization = accessor.getNativeHeader(&quot;Authorization&quot;);\n\n                    String accessToken = authorization.get(0).split(&quot; &quot;)[1];\n                    Jwt jwt = jwtDecoder.decode(accessToken);\n                    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\n                    Authentication authentication = converter.convert(jwt);\n                    accessor.setUser(authentication);\n                }\n                return message;\n            }\n        });\n    }\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\n    }\n\n    @Bean\n    public AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\n        messages\n            .anyMessage().authenticated();\n        return messages.build();\n    }\n\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/chat&quot;)\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;);\n        registry.addEndpoint(&quot;/chat&quot;)\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;)\n            .withSockJS();\n    }\n}\n</code></pre>\n<p>The problem is that the order in which <strong>ChannelInterseptors</strong> are registered depends only on the insertion order, since everything is implemented through a regular ArrayList. There is one way - to determine the order of configurations that implement the <strong>WebsocketMessageBrokerConfigurer</strong> interface. They are injected via a setter in the <strong>DelegatingWebSocketMessageBrokerConfiguration</strong>. And the order of implementation of collections can be changed using the <strong>@Order</strong> annotation, placing it above our configuration class.\nThis solved the problem in my case, but I wondered if there would be a need to explicitly define the order of interceptors, such as wedging into a chain of security interceptors. An analogy can be drawn with <strong>SecurityFilterChain</strong>, when configuring it you can use the <strong>addFilterAt</strong>, <strong>addFilterBefore</strong>, <strong>addFilterAfter</strong> methods.</p>\n<p><em>I couldn't find a way, but maybe I'm missing something.</em></p>\n<p><em>This post is intended more for discussion. I want to start contributing if the detected problem turns out to be valid.</em></p>\n"},{"tags":["java","swing","jframe","jscrollpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1368344917,"post_id":16505239,"comment_id":23693473,"body_markdown":"1) For better help sooner, post an [SSCCE](http://sscce.org/). 2) Please learn common [Java naming conventions](http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#73307) (specifically the case used for the names) for class, method &amp; attribute names &amp; use them consistently. 3) Don&#39;t set the size of top level containers.  Instead layout the content &amp; call `pack()`. 4) For frame positioning, you cannot go by `setLocationByPlatform(true)`.  See [this answer](http://stackoverflow.com/a/7143398/418556) for demo. ..","body":"1) For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. 2) Please learn common <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#73307\" rel=\"nofollow noreferrer\">Java naming conventions</a> (specifically the case used for the names) for class, method &amp; attribute names &amp; use them consistently. 3) Don&#39;t set the size of top level containers.  Instead layout the content &amp; call <code>pack()</code>. 4) For frame positioning, you cannot go by <code>setLocationByPlatform(true)</code>.  See <a href=\"http://stackoverflow.com/a/7143398/418556\">this answer</a> for demo. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1368345119,"post_id":16505239,"comment_id":23693510,"body_markdown":".. 5) See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/a/9554657/418556)","body":".. 5) See <a href=\"http://stackoverflow.com/a/9554657/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1616886,"reputation":83,"user_id":1494329,"display_name":"Himanshu Upadhyay"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368356642,"creation_date":1368356642,"answer_id":16506684,"question_id":16505239,"body_markdown":"By Default, JFrame has Borderlayout. BorderLayout have five flags. When you will not specify any flag, It will add you component to frame with center flag. Center flag give all space to component which is added with center flag, if no other flag is specified with component. for more information on border layout, visit following link:\r\n[http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\r\n\r\nYou can add both by using following statement:\r\n\r\n    JFrame frame = new JFrame();\r\n    \r\n    frame.add(new JPanel(), BorderLayout.NORTH);\r\n    \r\n    frame.add(new JScrollpane(), BorderLayout.CENTER);","title":"Add a JScrollPane to a JFrame","body":"<p>By Default, JFrame has Borderlayout. BorderLayout have five flags. When you will not specify any flag, It will add you component to frame with center flag. Center flag give all space to component which is added with center flag, if no other flag is specified with component. for more information on border layout, visit following link:\n<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html</a></p>\n\n<p>You can add both by using following statement:</p>\n\n<pre><code>JFrame frame = new JFrame();\n\nframe.add(new JPanel(), BorderLayout.NORTH);\n\nframe.add(new JScrollpane(), BorderLayout.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1616886,"reputation":83,"user_id":1494329,"display_name":"Himanshu Upadhyay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442177472,"creation_date":1368361437,"answer_id":16507310,"question_id":16505239,"body_markdown":"GridBagLayout is not good for this situation. With lesser code you can get desired Code.\r\n\r\n    JPanel pnlButton = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n    pnlButton.add(button1);\r\n    pnlButton.add(button2);\r\n    \r\n    JFrame frame = new JFrame();\r\n    frame.add(scrollPane, BorderLayout.CENTER);\r\n    frame.add(pnlButton, BorderLayout.PAGE_END);\r\n\r\n\r\nIf you want to go only with Gridbaglayout. Then you will have to set weightX, weightY, gridwidth and other properties like that\r\n\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    gbc.weightx=1.0;\r\n    gbc.weighy=1.0;\r\n    gbc.fill = GridBagConstraints.BOTH;\r\n    guiPanel.add(scrollPane, gbc);\r\n    gbc.gridwidth = 1;\r\n    gbc.fill = GridBagConstraints.NONE\r\n    guiPanel.add(buttons, gbc);        \r\n    guiFrame.add(guiPanel, BorderLayout.CENTER);\r\n    guiFrame.setVisible(true);\r\n\r\nPlease try and let me know, if it does not work, I will send complete code with GridBaglayout.","title":"Add a JScrollPane to a JFrame","body":"<p>GridBagLayout is not good for this situation. With lesser code you can get desired Code.</p>\n\n<pre><code>JPanel pnlButton = new JPanel(new FlowLayout(FlowLayout.CENTER));\npnlButton.add(button1);\npnlButton.add(button2);\n\nJFrame frame = new JFrame();\nframe.add(scrollPane, BorderLayout.CENTER);\nframe.add(pnlButton, BorderLayout.PAGE_END);\n</code></pre>\n\n<p>If you want to go only with Gridbaglayout. Then you will have to set weightX, weightY, gridwidth and other properties like that</p>\n\n<pre><code>GridBagConstraints gbc = new GridBagConstraints();\ngbc.gridwidth = GridBagConstraints.REMAINDER;\ngbc.weightx=1.0;\ngbc.weighy=1.0;\ngbc.fill = GridBagConstraints.BOTH;\nguiPanel.add(scrollPane, gbc);\ngbc.gridwidth = 1;\ngbc.fill = GridBagConstraints.NONE\nguiPanel.add(buttons, gbc);        \nguiFrame.add(guiPanel, BorderLayout.CENTER);\nguiFrame.setVisible(true);\n</code></pre>\n\n<p>Please try and let me know, if it does not work, I will send complete code with GridBaglayout.</p>\n"}],"owner":{"account_id":2726139,"reputation":735,"user_id":2351151,"accept_rate":30,"display_name":"user2351151"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15523,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696786317,"creation_date":1368344797,"question_id":16505239,"body_markdown":"I have a question in relation to adding components to a Java frame.\r\n\r\nI have a JPanel with two buttons and also a JScrollPane that has a JTable added to it. I am wanting to add both these to a JFrame.\r\n\r\nI can add either the JPanel to the JFrame, or the JScrollPane to the JFrame and they display correctly. I am having trouble adding them both to the JFrame and displaying them both.\r\n\r\nIs there something related to JFrames that do not allow this? Any help will be appreciated.\r\n\r\n**EDIT**\r\n\r\nThe problem is not with the layout (at least I do not think that it is), the problem is that the ScrollPane is not displaying correctly.\r\nHere is the code:\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n        guiPanel.add(scrollPane, gbc);\r\n        guiPanel.add(buttons, gbc);        \r\n        \r\n        guiFrame.add(guiPanel, BorderLayout.CENTER);\r\n        guiFrame.setVisible(true);","title":"Add a JScrollPane to a JFrame","body":"<p>I have a question in relation to adding components to a Java frame.</p>\n<p>I have a JPanel with two buttons and also a JScrollPane that has a JTable added to it. I am wanting to add both these to a JFrame.</p>\n<p>I can add either the JPanel to the JFrame, or the JScrollPane to the JFrame and they display correctly. I am having trouble adding them both to the JFrame and displaying them both.</p>\n<p>Is there something related to JFrames that do not allow this? Any help will be appreciated.</p>\n<p><strong>EDIT</strong></p>\n<p>The problem is not with the layout (at least I do not think that it is), the problem is that the ScrollPane is not displaying correctly.\nHere is the code:</p>\n<pre><code>    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\n    guiPanel.add(scrollPane, gbc);\n    guiPanel.add(buttons, gbc);        \n    \n    guiFrame.add(guiPanel, BorderLayout.CENTER);\n    guiFrame.setVisible(true);\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":15875202,"reputation":63,"user_id":11454627,"display_name":"prem111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696784580,"creation_date":1696779477,"question_id":77254228,"body_markdown":"i have GeoJSON features:\r\n\r\nsample.json:\r\n\r\n```\r\n{\r\n   &quot;type&quot;:&quot;FeatureCollection&quot;,\r\n   &quot;features&quot;:[\r\n      {\r\n         &quot;type&quot;:&quot;Feature&quot;,\r\n         &quot;properties&quot;:{\r\n            \r\n         },\r\n         &quot;geometry&quot;:{\r\n            &quot;type&quot;:&quot;MultiPolygon&quot;,\r\n            &quot;value&quot;:10.529,\r\n            &quot;coordinates&quot;:[\r\n               [\r\n                  [\r\n                     [\r\n                        6.594247312736228,\r\n                        46.51636675429629\r\n                     ],\r\n                     [\r\n                        6.59957345109649,\r\n                        46.511859137426164\r\n                     ],\r\n                     [\r\n                        6.605031044050632,\r\n                        46.511752830945746\r\n                     ],\r\n                 \r\n                     [\r\n                        6.594247312736228,\r\n                        46.51636675429629\r\n                     ]\r\n                  ]\r\n               ]\r\n            ]\r\n         }\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nJava:\r\n\r\n```\r\nPolygonOptions polygonOptions = new PolygonOptions();\r\n\r\n        try {\r\n            JSONObject objPolyLinesGeoJson = new JSONObject(myJson);\r\n            String features = objPolyLinesGeoJson.get(&quot;features&quot;).toString();\r\n            JSONArray jsonArray = new JSONArray(features);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            for (int i=0; i &lt; jsonArray.length(); i++) {\r\n                JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                JsonNode geoJsonObj = mapper.readTree(jsonObject.toString());\r\n                ArrayNode geometryCoordinates = (ArrayNode) geoJsonObj.get(&quot;geometry&quot;).get(&quot;coordinates&quot;);\r\n\r\n                for (JsonNode jsonNode : geometryCoordinates) {\r\n                    // ???\r\n                }\r\n            }\r\n            Polygon polygon = mMap.addPolygon(polygonOptions);\r\n\r\n\r\n\r\n        } catch (Exception e) {\r\n           //\r\n        }\r\n```\r\n\r\nHow to add all polygon coordinates? I don&#39;t know how to load multiple arrays in a loop. How to do this&#160;with as much optimization as possible. Do I have to make a loop within a loop? I will be grateful for any advice.\r\n\r\nThanks for help !\r\n\r\n","title":"Add GeoJSON MultiPolygon from arrays to map","body":"<p>i have GeoJSON features:</p>\n<p>sample.json:</p>\n<pre><code>{\n   &quot;type&quot;:&quot;FeatureCollection&quot;,\n   &quot;features&quot;:[\n      {\n         &quot;type&quot;:&quot;Feature&quot;,\n         &quot;properties&quot;:{\n            \n         },\n         &quot;geometry&quot;:{\n            &quot;type&quot;:&quot;MultiPolygon&quot;,\n            &quot;value&quot;:10.529,\n            &quot;coordinates&quot;:[\n               [\n                  [\n                     [\n                        6.594247312736228,\n                        46.51636675429629\n                     ],\n                     [\n                        6.59957345109649,\n                        46.511859137426164\n                     ],\n                     [\n                        6.605031044050632,\n                        46.511752830945746\n                     ],\n                 \n                     [\n                        6.594247312736228,\n                        46.51636675429629\n                     ]\n                  ]\n               ]\n            ]\n         }\n      }\n   ]\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>PolygonOptions polygonOptions = new PolygonOptions();\n\n        try {\n            JSONObject objPolyLinesGeoJson = new JSONObject(myJson);\n            String features = objPolyLinesGeoJson.get(&quot;features&quot;).toString();\n            JSONArray jsonArray = new JSONArray(features);\n            ObjectMapper mapper = new ObjectMapper();\n            for (int i=0; i &lt; jsonArray.length(); i++) {\n                JSONObject jsonObject = jsonArray.getJSONObject(i);\n                JsonNode geoJsonObj = mapper.readTree(jsonObject.toString());\n                ArrayNode geometryCoordinates = (ArrayNode) geoJsonObj.get(&quot;geometry&quot;).get(&quot;coordinates&quot;);\n\n                for (JsonNode jsonNode : geometryCoordinates) {\n                    // ???\n                }\n            }\n            Polygon polygon = mMap.addPolygon(polygonOptions);\n\n\n\n        } catch (Exception e) {\n           //\n        }\n</code></pre>\n<p>How to add all polygon coordinates? I don't know how to load multiple arrays in a loop. How to do thiswith as much optimization as possible. Do I have to make a loop within a loop? I will be grateful for any advice.</p>\n<p>Thanks for help !</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696680810,"post_id":77248761,"comment_id":136186320,"body_markdown":"Well you aren&#39;t sending anything. You don&#39;t send an object you send form fields which will be bound to the model attribute by spring.","body":"Well you aren&#39;t sending anything. You don&#39;t send an object you send form fields which will be bound to the model attribute by spring."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696680787,"post_id":77248827,"comment_id":136186317,"body_markdown":"This is not an answer.","body":"This is not an answer."},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":1,"creation_date":1696857328,"post_id":77248827,"comment_id":136202772,"body_markdown":"I mean, it&#39;s not a good one, but it&#39;s not a verbatim copy paste of the OP&#39;s code either.","body":"I mean, it&#39;s not a good one, but it&#39;s not a verbatim copy paste of the OP&#39;s code either."}],"tags":[],"owner":{"account_id":28727022,"reputation":1,"user_id":22699641,"display_name":"yar zar"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1696663961,"creation_date":1696663961,"answer_id":77248827,"question_id":77248761,"body_markdown":"\r\n\r\n    &lt;form th:unless=&quot;${#strings.equals(currentUser, &#39;anonymousUser&#39;)}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\r\n    &lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot; th:value=&quot;${book.id}&quot;&gt;Add book to the card.&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\n\r\n    @GetMapping(&quot;/card/{id}&quot;)\r\n        public String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\r\n            if(bookService.findOne(id).isPresent()) {\r\n                model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\r\n                System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\r\n                model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\r\n                return &quot;/books/show&quot;;\r\n            }\r\n            return &quot;redirect:/books&quot;;\r\n        }\r\n\r\n\r\n\r\n","title":"How can I send ModelAttribute from HTML (Thymeleaf) to controller","body":"<pre><code>&lt;form th:unless=&quot;${#strings.equals(currentUser, 'anonymousUser')}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\n&lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot; th:value=&quot;${book.id}&quot;&gt;Add book to the card.&lt;/button&gt;\n&lt;/form&gt;\n\n\n\n@GetMapping(&quot;/card/{id}&quot;)\n    public String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\n        if(bookService.findOne(id).isPresent()) {\n            model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\n            System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\n            model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\n            return &quot;/books/show&quot;;\n        }\n        return &quot;redirect:/books&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696781891,"creation_date":1696781891,"answer_id":77254374,"question_id":77248761,"body_markdown":"You have modeled showBook() as a GET method so you don&#39;t need or want to use a form and POST, a link will do the trick and is more appropriate. Try:\r\n\r\n    &lt;a id=&quot;add-button&quot; class=&quot;fw primary&quot; th:href=&quot;@{/books/{id}(id=${book.id})}&quot;&gt;Add book to the card.&lt;/a&gt;\r\n\r\nThis assumes you have @RequestMapping(&quot;/books&quot;) on the controller class and the page from which you are creating the link has access to a book in the model that has an id attribute.\r\n\r\nIf you want a button instead of a link style the link accordingly.","title":"How can I send ModelAttribute from HTML (Thymeleaf) to controller","body":"<p>You have modeled showBook() as a GET method so you don't need or want to use a form and POST, a link will do the trick and is more appropriate. Try:</p>\n<pre><code>&lt;a id=&quot;add-button&quot; class=&quot;fw primary&quot; th:href=&quot;@{/books/{id}(id=${book.id})}&quot;&gt;Add book to the card.&lt;/a&gt;\n</code></pre>\n<p>This assumes you have @RequestMapping(&quot;/books&quot;) on the controller class and the page from which you are creating the link has access to a book in the model that has an id attribute.</p>\n<p>If you want a button instead of a link style the link accordingly.</p>\n"}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696781891,"creation_date":1696662571,"question_id":77248761,"body_markdown":"My BookController:\r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\r\n    if(bookService.findOne(id).isPresent()) {\r\n        model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\r\n        System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\r\n        model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\r\n        return &quot;/books/show&quot;;\r\n    }\r\n    return &quot;redirect:/books&quot;;\r\n}\r\n```\r\nI want to send this current Book object to CardController and get it in CardController. How I can do that?\r\n\r\nI made a form, but I don&#39;t know how to send an object\r\n```html\r\n&lt;form th:unless=&quot;${#strings.equals(currentUser, &#39;anonymousUser&#39;)}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\r\n&lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot;&gt;Add book to the card.&lt;/button&gt;\r\n&lt;/form&gt;\r\n```","title":"How can I send ModelAttribute from HTML (Thymeleaf) to controller","body":"<p>My BookController:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\n    if(bookService.findOne(id).isPresent()) {\n        model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\n        System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\n        model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\n        return &quot;/books/show&quot;;\n    }\n    return &quot;redirect:/books&quot;;\n}\n</code></pre>\n<p>I want to send this current Book object to CardController and get it in CardController. How I can do that?</p>\n<p>I made a form, but I don't know how to send an object</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form th:unless=&quot;${#strings.equals(currentUser, 'anonymousUser')}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\n&lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot;&gt;Add book to the card.&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","android","xml","menu","android-drawer"],"answers":[{"comments":[{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1696518474,"post_id":77234031,"comment_id":136166195,"body_markdown":"Thank you @Jordy!  I will need to edit my question for clarity.  I desire to `style` the `drawer menu` items - specifically the menu headers (not clickable) from the sub-menu items (each a clickable option).  However I integrated your feedback as I was using to call actions from the main menu: `onOptionsItemSelected()` as opposed to `onNavigationItemSelected()` which I changed, however without any impact upon the styling (e.g.: bg color, text size...) of my `drawer menu` headers.  Thank you again for your interest!","body":"Thank you @Jordy!  I will need to edit my question for clarity.  I desire to <code>style</code> the <code>drawer menu</code> items - specifically the menu headers (not clickable) from the sub-menu items (each a clickable option).  However I integrated your feedback as I was using to call actions from the main menu: <code>onOptionsItemSelected()</code> as opposed to <code>onNavigationItemSelected()</code> which I changed, however without any impact upon the styling (e.g.: bg color, text size...) of my <code>drawer menu</code> headers.  Thank you again for your interest!"}],"tags":[],"owner":{"account_id":15219035,"reputation":74,"user_id":18515851,"display_name":"Jordy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696475038,"creation_date":1696474939,"answer_id":77234031,"question_id":77217920,"body_markdown":"The question is not very well understood but to perform actions on each of the menu items you will need to implement a listener.\r\n\r\n ```java\r\npublic class MainActivity extends AppCompatActivity implements  NavigationView.OnNavigationItemSelectedListener{\r\n \r\n     @Override\r\n     protected void onCreate(Bundle \r\n     savedInstanceState) {\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity);\r\n     }\r\n   \r\n     @Override\r\n\t public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\t\r\n     int id = item.getItemId();\r\n     switch(id){ \r\n     case R.id.search:\r\n    //action\r\n     break;\r\n\t }\r\n     return true;\r\n     }\r\n     }\r\n```","title":"How to style drawer menu options in Android Studio - headers for group not stylizing","body":"<p>The question is not very well understood but to perform actions on each of the menu items you will need to implement a listener.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity implements  NavigationView.OnNavigationItemSelectedListener{\n\n    @Override\n    protected void onCreate(Bundle \n    savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity);\n    }\n  \n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n   \n    int id = item.getItemId();\n    switch(id){ \n    case R.id.search:\n   //action\n    break;\n    }\n    return true;\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696781730,"creation_date":1696273693,"question_id":77217920,"body_markdown":"*[Edited 10/5/2023]*\r\n\r\nI have a `drawer menu` - swipe the screen from the left and it appears with a list of menu headers each having beneath it 3-5 sub-menu items, each sub-menu item is clickable.  I cannot get the main header items to stand out - e.g. a different background color, different font size and different font color.  For a simple example, take the group header &quot;Manage Songs&quot; (`@+id/menu_item_manage_songs_header`) and sub-menu items being *Add New Songs*, *Edit Songs*, *Open Song*, *Search Song*\r\n\r\nI wish to get the group header &quot;Manage Songs&quot; to stand out but cannot locate the file/code where this is currently taking place.  Here is `DrawerLayout`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n    ...\r\n\r\n    &lt;!-- Navigation Drawer --&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:headerLayout=&quot;@layout/nav_header&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot;\r\n         /&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nHere is my `drawer_menu.xml`:\r\n```\r\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;!-- Header: Manage Songs --&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\r\n        android:title=&quot;Manage Songs&quot;\r\n        android:enabled=&quot;false&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        app:actionLayout=&quot;@layout/custom_header_layout&quot;\r\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\r\n        &lt;menu&gt;\r\n            &lt;group android:id=&quot;@+id/group_songs&quot;&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_add_new_song&quot;\r\n                    android:title=&quot;Add New Song&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_edit_songs&quot;\r\n                    android:title=&quot;Edit Songs&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_open_song&quot;\r\n                    android:title=&quot;Open Song&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_search_songs&quot;\r\n                    android:title=&quot;Search Songs&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n            &lt;/group&gt;\r\n        &lt;/menu&gt;\r\n    &lt;/item&gt;\r\n    ...\r\n\r\n&lt;/menu&gt;\r\n\r\n```\r\n\r\nThank you in advance - this seems straight forward.\r\n**This is what I have tried:**\r\n(1) in my java page setting bg color\r\n\r\n - declaring under class: `MenuItem GROUP_SONGS;`\r\n - initializing in onCreate(): `GROUP_SONGS = (MenuItem) navigationView.getMenu().findItem(R.id.menu_item_manage_songs_header);`\r\n - trying to set values - I can change the text for the Title - this works: `GROUP_SONGS.setTitle(&quot;Changed [1]&quot;);`\r\n - but this doesn&#39;t work: `GROUP_SONGS.setTextSize(TypedValue.COMPLEX_UNIT_SP, 20);` (I know\r\n   that `setTextSize` is not part of the `MenuItem` class...)\r\n\r\n(2) set the `style` in `themes.xml`\r\n```\r\n    &lt;style name=&quot;GroupHeaderStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/light_orange&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;22sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\nand calling this using `itemTextAppearance`:\r\n```\r\n    &lt;item\r\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\r\n        android:title=&quot;Manage Songs&quot;\r\n        android:enabled=&quot;false&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\r\n```\r\n","title":"How to style drawer menu options in Android Studio - headers for group not stylizing","body":"<p><em>[Edited 10/5/2023]</em></p>\n<p>I have a <code>drawer menu</code> - swipe the screen from the left and it appears with a list of menu headers each having beneath it 3-5 sub-menu items, each sub-menu item is clickable.  I cannot get the main header items to stand out - e.g. a different background color, different font size and different font color.  For a simple example, take the group header &quot;Manage Songs&quot; (<code>@+id/menu_item_manage_songs_header</code>) and sub-menu items being <em>Add New Songs</em>, <em>Edit Songs</em>, <em>Open Song</em>, <em>Search Song</em></p>\n<p>I wish to get the group header &quot;Manage Songs&quot; to stand out but cannot locate the file/code where this is currently taking place.  Here is <code>DrawerLayout</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n    \n    ...\n\n    &lt;!-- Navigation Drawer --&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/drawer_menu&quot;\n         /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>Here is my <code>drawer_menu.xml</code>:</p>\n<pre><code>&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;!-- Header: Manage Songs --&gt;\n    &lt;item\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\n        android:title=&quot;Manage Songs&quot;\n        android:enabled=&quot;false&quot;\n        app:showAsAction=&quot;always&quot;\n        app:actionLayout=&quot;@layout/custom_header_layout&quot;\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\n        &lt;menu&gt;\n            &lt;group android:id=&quot;@+id/group_songs&quot;&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_add_new_song&quot;\n                    android:title=&quot;Add New Song&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_edit_songs&quot;\n                    android:title=&quot;Edit Songs&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_open_song&quot;\n                    android:title=&quot;Open Song&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_search_songs&quot;\n                    android:title=&quot;Search Songs&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n            &lt;/group&gt;\n        &lt;/menu&gt;\n    &lt;/item&gt;\n    ...\n\n&lt;/menu&gt;\n\n</code></pre>\n<p>Thank you in advance - this seems straight forward.\n<strong>This is what I have tried:</strong>\n(1) in my java page setting bg color</p>\n<ul>\n<li>declaring under class: <code>MenuItem GROUP_SONGS;</code></li>\n<li>initializing in onCreate(): <code>GROUP_SONGS = (MenuItem) navigationView.getMenu().findItem(R.id.menu_item_manage_songs_header);</code></li>\n<li>trying to set values - I can change the text for the Title - this works: <code>GROUP_SONGS.setTitle(&quot;Changed [1]&quot;);</code></li>\n<li>but this doesn't work: <code>GROUP_SONGS.setTextSize(TypedValue.COMPLEX_UNIT_SP, 20);</code> (I know\nthat <code>setTextSize</code> is not part of the <code>MenuItem</code> class...)</li>\n</ul>\n<p>(2) set the <code>style</code> in <code>themes.xml</code></p>\n<pre><code>    &lt;style name=&quot;GroupHeaderStyle&quot;&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@color/light_orange&lt;/item&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;22sp&lt;/item&gt;\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>and calling this using <code>itemTextAppearance</code>:</p>\n<pre><code>    &lt;item\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\n        android:title=&quot;Manage Songs&quot;\n        android:enabled=&quot;false&quot;\n        app:showAsAction=&quot;always&quot;\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\n</code></pre>\n"},{"tags":["java","builder","opencsv"],"comments":[{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1544180897,"post_id":53667832,"comment_id":94194060,"body_markdown":"You&#39;re probably best of using a basic parser with that builder class","body":"You&#39;re probably best of using a basic parser with that builder class"},{"owner":{"account_id":2529787,"reputation":101,"user_id":2198318,"display_name":"Richard Polton"},"score":0,"creation_date":1544198556,"post_id":53667832,"comment_id":94203471,"body_markdown":"@JoakimDanielson by basic parser you mean &#39;not OpenCSV&#39; rather than something hidden in OpenCSV, I presume?","body":"@JoakimDanielson by basic parser you mean &#39;not OpenCSV&#39; rather than something hidden in OpenCSV, I presume?"},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1544250905,"post_id":53667832,"comment_id":94217809,"body_markdown":"No I meant a basic parser in OpenCsv like CsvReader","body":"No I meant a basic parser in OpenCsv like CsvReader"}],"answers":[{"tags":[],"owner":{"account_id":324062,"reputation":2846,"user_id":644438,"display_name":"oujesky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565357787,"creation_date":1565357787,"answer_id":57431272,"question_id":53667832,"body_markdown":"`com.opencsv.bean.MappingStrategy` looks like a good way how to deal with this, but since you have final properties and a private constructor, you need to get a bit help from the java reflections system.\r\n\r\nThe OpenCSV&#39;s built-in mapping strategies inheriting from the `AbstractMappingStrategy` class are constructing the bean using a no-parameters default constructor and then finding setter methods to fill the values. \r\n\r\nIt&#39;s possible to prepare a `MappingStrategy` implementation that will instead find a suitable constructor with parameters matching the order and the types of mapped columns from the CSV file and use it for constructing the bean. Even if the constructor is private or protected it can be made accessible through the reflections system.\r\n\r\n---\r\n\r\nFor example the following CSV:\r\n\r\n```csv\r\nnumber;string\r\n1;abcde\r\n2;ghijk\r\n```\r\n\r\ncan be mapped to the following class:\r\n\r\n```java\r\npublic class Something {\r\n    @CsvBindByName\r\n    private final int number;\r\n    @CsvBindByName\r\n    private final String string;\r\n\r\n    public Something(int number, String string) {\r\n        this.number = number;\r\n        this.string = string;\r\n    }\r\n\r\n    // ... getters, equals, toString etc. omitted\r\n}\r\n```\r\n\r\nusing the following CvsToBean instance:\r\n\r\n```java\r\nCsvToBean&lt;Something&gt; beanLoader = new CsvToBeanBuilder&lt;Something&gt;(reader)\r\n    .withType(Something.class)\r\n    .withSeparator(&#39;;&#39;)\r\n    .withMappingStrategy(new ImmutableClassMappingStrategy&lt;&gt;(Something.class))\r\n    .build();\r\n\r\nList&lt;Something&gt; result = beanLoader.parse();\r\n```\r\n\r\n---\r\n\r\nThe full code of `ImmutableClassMappingStrategy`: \r\n\r\n```java\r\nimport com.opencsv.bean.AbstractBeanField;\r\nimport com.opencsv.bean.BeanField;\r\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\r\nimport com.opencsv.exceptions.CsvConstraintViolationException;\r\nimport com.opencsv.exceptions.CsvDataTypeMismatchException;\r\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\r\n\r\nimport java.beans.IntrospectionException;\r\nimport java.lang.reflect.Constructor;\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\n\r\n/**\r\n * A {@link com.opencsv.bean.MappingStrategy} implementation which allows to construct immutable beans containing\r\n * final fields.\r\n *\r\n * It tries to find a constructor with order and types of arguments same as the CSV lines and construct the bean using\r\n * this constructor. If not found it tries to use the default constructor.\r\n *\r\n * @param &lt;T&gt; Type of the bean to be returned\r\n */\r\npublic class ImmutableClassMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\r\n\r\n    /**\r\n     * Constructor\r\n     * \r\n     * @param type Type of the bean which will be returned\r\n     */\r\n    public ColumnMappingStrategy(Class&lt;T&gt; type) {\r\n        setType(type);\r\n    }\r\n\r\n    @Override\r\n    public T populateNewBean(String[] line) throws InstantiationException, IllegalAccessException, IntrospectionException, InvocationTargetException, CsvRequiredFieldEmptyException, CsvDataTypeMismatchException, CsvConstraintViolationException {\r\n        verifyLineLength(line.length);\r\n\r\n        try {\r\n            // try constructing the bean using explicit constructor\r\n            return constructUsingConstructorWithArguments(line);\r\n        } catch (NoSuchMethodException e) {\r\n            // fallback to default constructor\r\n            return super.populateNewBean(line);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Tries constructing the bean using a constructor with parameters for all matching CSV columns\r\n     *\r\n     * @param line A line of input\r\n     *\r\n     * @return\r\n     * @throws NoSuchMethodException in case no suitable constructor is found\r\n     */\r\n    private T constructUsingConstructorWithArguments(String[] line) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {\r\n        Constructor&lt;? extends T&gt; constructor = findSuitableConstructor(line.length);\r\n\r\n        // in case of private or protected constructor, try to set it to be accessible\r\n        if (!constructor.canAccess(null)) {\r\n            constructor.setAccessible(true);\r\n        }\r\n\r\n        Object[] arguments = prepareArguments(line);\r\n\r\n        return constructor.newInstance(arguments);\r\n    }\r\n\r\n    /**\r\n     * Tries to find a suitable constructor with exact number and types of parameters in order defined in the CSV file\r\n     *\r\n     * @param columns Number of columns in the CSV file\r\n     * @return Constructor reflection\r\n     * @throws NoSuchMethodException in case no such constructor exists\r\n     */\r\n    private Constructor&lt;? extends T&gt; findSuitableConstructor(int columns) throws NoSuchMethodException {\r\n        Class&lt;?&gt;[] types = new Class&lt;?&gt;[columns];\r\n        for (int col = 0; col &lt; columns; col++) {\r\n            BeanField&lt;T&gt; field = findField(col);\r\n            Class&lt;?&gt; type = field.getField().getType();\r\n            types[col] = type;\r\n        }\r\n        return type.getDeclaredConstructor(types);\r\n    }\r\n\r\n    /**\r\n     * Prepare arguments with correct types to be used in the constructor\r\n     *\r\n     * @param line A line of input\r\n     * @return Array of correctly typed argument values\r\n     */\r\n    private Object[] prepareArguments(String[] line) {\r\n        Object[] arguments = new Object[line.length];\r\n        for (int col = 0; col &lt; line.length; col++) {\r\n            arguments[col] = prepareArgument(col, line[col], findField(col));\r\n        }\r\n        return arguments;\r\n    }\r\n\r\n    /**\r\n     * Prepare a single argument with correct type\r\n     *\r\n     * @param col Column index\r\n     * @param value Column value\r\n     * @param beanField Field with\r\n     * @return\r\n     */\r\n    private Object prepareArgument(int col, String value, BeanField&lt;T&gt; beanField) {\r\n        Field field = beanField.getField();\r\n\r\n        // empty value for primitive type would be converted to null which would throw an NPE\r\n        if (&quot;&quot;.equals(value) &amp;&amp; field.getType().isPrimitive()) {\r\n            throw new IllegalArgumentException(String.format(&quot;Null value for primitive field &#39;%s&#39;&quot;, headerIndex.getByPosition(col)));\r\n        }\r\n\r\n        try {\r\n            // reflectively access the convert method, as it&#39;s protected in AbstractBeanField class\r\n            Method convert = AbstractBeanField.class.getDeclaredMethod(&quot;convert&quot;, String.class);\r\n            convert.setAccessible(true);\r\n            return convert.invoke(beanField, value);\r\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n            throw new IllegalStateException(String.format(&quot;Unable to convert bean field &#39;%s&#39;&quot;, headerIndex.getByPosition(col)), e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\nAnother approach might be to map the CSV columns to the builder itself and build the immutable class afterwards. ","title":"Using OpenCSV, how can we map a record to a class that uses a Builder and not setters?","body":"<p><code>com.opencsv.bean.MappingStrategy</code> looks like a good way how to deal with this, but since you have final properties and a private constructor, you need to get a bit help from the java reflections system.</p>\n\n<p>The OpenCSV's built-in mapping strategies inheriting from the <code>AbstractMappingStrategy</code> class are constructing the bean using a no-parameters default constructor and then finding setter methods to fill the values. </p>\n\n<p>It's possible to prepare a <code>MappingStrategy</code> implementation that will instead find a suitable constructor with parameters matching the order and the types of mapped columns from the CSV file and use it for constructing the bean. Even if the constructor is private or protected it can be made accessible through the reflections system.</p>\n\n<hr>\n\n<p>For example the following CSV:</p>\n\n<pre><code>number;string\n1;abcde\n2;ghijk\n</code></pre>\n\n<p>can be mapped to the following class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Something {\n    @CsvBindByName\n    private final int number;\n    @CsvBindByName\n    private final String string;\n\n    public Something(int number, String string) {\n        this.number = number;\n        this.string = string;\n    }\n\n    // ... getters, equals, toString etc. omitted\n}\n</code></pre>\n\n<p>using the following CvsToBean instance:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CsvToBean&lt;Something&gt; beanLoader = new CsvToBeanBuilder&lt;Something&gt;(reader)\n    .withType(Something.class)\n    .withSeparator(';')\n    .withMappingStrategy(new ImmutableClassMappingStrategy&lt;&gt;(Something.class))\n    .build();\n\nList&lt;Something&gt; result = beanLoader.parse();\n</code></pre>\n\n<hr>\n\n<p>The full code of <code>ImmutableClassMappingStrategy</code>: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.opencsv.bean.AbstractBeanField;\nimport com.opencsv.bean.BeanField;\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\nimport com.opencsv.exceptions.CsvConstraintViolationException;\nimport com.opencsv.exceptions.CsvDataTypeMismatchException;\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\n\nimport java.beans.IntrospectionException;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n/**\n * A {@link com.opencsv.bean.MappingStrategy} implementation which allows to construct immutable beans containing\n * final fields.\n *\n * It tries to find a constructor with order and types of arguments same as the CSV lines and construct the bean using\n * this constructor. If not found it tries to use the default constructor.\n *\n * @param &lt;T&gt; Type of the bean to be returned\n */\npublic class ImmutableClassMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\n\n    /**\n     * Constructor\n     * \n     * @param type Type of the bean which will be returned\n     */\n    public ColumnMappingStrategy(Class&lt;T&gt; type) {\n        setType(type);\n    }\n\n    @Override\n    public T populateNewBean(String[] line) throws InstantiationException, IllegalAccessException, IntrospectionException, InvocationTargetException, CsvRequiredFieldEmptyException, CsvDataTypeMismatchException, CsvConstraintViolationException {\n        verifyLineLength(line.length);\n\n        try {\n            // try constructing the bean using explicit constructor\n            return constructUsingConstructorWithArguments(line);\n        } catch (NoSuchMethodException e) {\n            // fallback to default constructor\n            return super.populateNewBean(line);\n        }\n    }\n\n    /**\n     * Tries constructing the bean using a constructor with parameters for all matching CSV columns\n     *\n     * @param line A line of input\n     *\n     * @return\n     * @throws NoSuchMethodException in case no suitable constructor is found\n     */\n    private T constructUsingConstructorWithArguments(String[] line) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {\n        Constructor&lt;? extends T&gt; constructor = findSuitableConstructor(line.length);\n\n        // in case of private or protected constructor, try to set it to be accessible\n        if (!constructor.canAccess(null)) {\n            constructor.setAccessible(true);\n        }\n\n        Object[] arguments = prepareArguments(line);\n\n        return constructor.newInstance(arguments);\n    }\n\n    /**\n     * Tries to find a suitable constructor with exact number and types of parameters in order defined in the CSV file\n     *\n     * @param columns Number of columns in the CSV file\n     * @return Constructor reflection\n     * @throws NoSuchMethodException in case no such constructor exists\n     */\n    private Constructor&lt;? extends T&gt; findSuitableConstructor(int columns) throws NoSuchMethodException {\n        Class&lt;?&gt;[] types = new Class&lt;?&gt;[columns];\n        for (int col = 0; col &lt; columns; col++) {\n            BeanField&lt;T&gt; field = findField(col);\n            Class&lt;?&gt; type = field.getField().getType();\n            types[col] = type;\n        }\n        return type.getDeclaredConstructor(types);\n    }\n\n    /**\n     * Prepare arguments with correct types to be used in the constructor\n     *\n     * @param line A line of input\n     * @return Array of correctly typed argument values\n     */\n    private Object[] prepareArguments(String[] line) {\n        Object[] arguments = new Object[line.length];\n        for (int col = 0; col &lt; line.length; col++) {\n            arguments[col] = prepareArgument(col, line[col], findField(col));\n        }\n        return arguments;\n    }\n\n    /**\n     * Prepare a single argument with correct type\n     *\n     * @param col Column index\n     * @param value Column value\n     * @param beanField Field with\n     * @return\n     */\n    private Object prepareArgument(int col, String value, BeanField&lt;T&gt; beanField) {\n        Field field = beanField.getField();\n\n        // empty value for primitive type would be converted to null which would throw an NPE\n        if (\"\".equals(value) &amp;&amp; field.getType().isPrimitive()) {\n            throw new IllegalArgumentException(String.format(\"Null value for primitive field '%s'\", headerIndex.getByPosition(col)));\n        }\n\n        try {\n            // reflectively access the convert method, as it's protected in AbstractBeanField class\n            Method convert = AbstractBeanField.class.getDeclaredMethod(\"convert\", String.class);\n            convert.setAccessible(true);\n            return convert.invoke(beanField, value);\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            throw new IllegalStateException(String.format(\"Unable to convert bean field '%s'\", headerIndex.getByPosition(col)), e);\n        }\n    }\n}\n\n</code></pre>\n\n<hr>\n\n<p>Another approach might be to map the CSV columns to the builder itself and build the immutable class afterwards. </p>\n"},{"tags":[],"owner":{"account_id":29422493,"reputation":1,"user_id":22543933,"display_name":"user22543933"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696781589,"creation_date":1696781589,"answer_id":77254359,"question_id":53667832,"body_markdown":"The response from oujesky is a nice approach but requires a constructor where the order of the arguments exactly matches that in the CSV file but could be used for other injection tasks.\r\n\r\nHowever, to make a class immutable, you could set the access level of the setter methods to private. The example below uses the CsvToBean function from opencsv.\r\n\r\n    \r\n    @Getter\r\n    public class X {\r\n        private final int a;\r\n\r\n        private X(int a) {\r\n            this.a = a;\r\n        }\r\n\r\n        @Setter(AccessLevel.PRIVATE)\r\n        public static class XBuilder {\r\n            @CsvBindByName\r\n            private int a;\r\n\r\n            public X build() {\r\n                return new X(a);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void simpleTest() {\r\n        String testData = &quot;&quot;&quot;\r\n                a\r\n                1337\r\n                &quot;&quot;&quot;;\r\n\r\n        List&lt;X&gt; xs = new CsvToBeanBuilder&lt;X.XBuilder&gt;(new StringReader(testData))\r\n                .withType(X.XBuilder.class)\r\n                .build()\r\n                .stream()\r\n                .map(X.XBuilder::build)\r\n                .collect(Collectors.toList());\r\n\r\n        Assertions.assertEquals(1, xs.size());\r\n        Assertions.assertEquals(1337, xs.get(0).getA());\r\n    }","title":"Using OpenCSV, how can we map a record to a class that uses a Builder and not setters?","body":"<p>The response from oujesky is a nice approach but requires a constructor where the order of the arguments exactly matches that in the CSV file but could be used for other injection tasks.</p>\n<p>However, to make a class immutable, you could set the access level of the setter methods to private. The example below uses the CsvToBean function from opencsv.</p>\n<pre><code>@Getter\npublic class X {\n    private final int a;\n\n    private X(int a) {\n        this.a = a;\n    }\n\n    @Setter(AccessLevel.PRIVATE)\n    public static class XBuilder {\n        @CsvBindByName\n        private int a;\n\n        public X build() {\n            return new X(a);\n        }\n    }\n}\n\n@Test\nvoid simpleTest() {\n    String testData = &quot;&quot;&quot;\n            a\n            1337\n            &quot;&quot;&quot;;\n\n    List&lt;X&gt; xs = new CsvToBeanBuilder&lt;X.XBuilder&gt;(new StringReader(testData))\n            .withType(X.XBuilder.class)\n            .build()\n            .stream()\n            .map(X.XBuilder::build)\n            .collect(Collectors.toList());\n\n    Assertions.assertEquals(1, xs.size());\n    Assertions.assertEquals(1337, xs.get(0).getA());\n}\n</code></pre>\n"}],"owner":{"account_id":2529787,"reputation":101,"user_id":2198318,"display_name":"Richard Polton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3443,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696781589,"creation_date":1544179182,"question_id":53667832,"body_markdown":"OpenCSV happily converts a record into an object if that class has a default constructor and setters for each of the fields. However, the class for which I wish to generate an object is defined with final fields, a private constructor and a Builder. For example, if I want to create an object of type `X` where `X` is defined by\r\n\r\n    public class X {\r\n        private final String val;\r\n        private X(final String val) { this.val = val; }\r\n        public Builder builder() { return new Builder(); }\r\n\r\n        public static class Builder {\r\n            private String val;\r\n            public Builder withVal(final String val) { this.val = val; return this; }\r\n            public X build() { return new X(val); }\r\n        }\r\n    }\r\n\r\nI&#39;ve seen the `com.opencsv.bean.MappingStrategy` interface and wonder if this can be applied somehow but I&#39;ve not found a solution yet. Any ideas?","title":"Using OpenCSV, how can we map a record to a class that uses a Builder and not setters?","body":"<p>OpenCSV happily converts a record into an object if that class has a default constructor and setters for each of the fields. However, the class for which I wish to generate an object is defined with final fields, a private constructor and a Builder. For example, if I want to create an object of type <code>X</code> where <code>X</code> is defined by</p>\n\n<pre><code>public class X {\n    private final String val;\n    private X(final String val) { this.val = val; }\n    public Builder builder() { return new Builder(); }\n\n    public static class Builder {\n        private String val;\n        public Builder withVal(final String val) { this.val = val; return this; }\n        public X build() { return new X(val); }\n    }\n}\n</code></pre>\n\n<p>I've seen the <code>com.opencsv.bean.MappingStrategy</code> interface and wonder if this can be applied somehow but I've not found a solution yet. Any ideas?</p>\n"},{"tags":["java","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696781486,"creation_date":1696688824,"answer_id":77250200,"question_id":77250199,"body_markdown":"This is rather clunky but the best solution I could find. It uses a custom `BodyHandler` and `BodySubscriber` that calls a callback:\r\n\r\nExample:\r\n```\r\nBodyHandler&lt;Path&gt; responceHandler = callbackBodyHandler(\r\n    1_000_000,\r\n    nrBytesReceived -&gt; System.out.print(&quot;.&quot;),\r\n    BodyHandlers.ofFileDownload(Path.of(&quot;.&quot;),\r\n        StandardOpenOption.WRITE, StandardOpenOption.CREATE));\r\n\r\nHttpResponse&lt;Path&gt; response = client.send(request, responceHandler);\r\n\r\n```\r\n\r\nImplementation:\r\n\r\n```\r\nprivate static &lt;T&gt; BodyHandler&lt;T&gt; callbackBodyHandler(int interval, LongConsumer callback, BodyHandler&lt;T&gt; h) {\r\n    return info -&gt; new BodySubscriber&lt;T&gt;() {\r\n        private BodySubscriber&lt;T&gt; delegateSubscriber = h.apply(info);\r\n        private long receivedBytes = 0;\r\n        private long calledBytes = 0;\r\n\r\n        @Override\r\n        public void onSubscribe(Subscription subscription) {\r\n            delegateSubscriber.onSubscribe(subscription);\r\n        }\r\n\r\n        @Override\r\n        public void onNext(List&lt;ByteBuffer&gt; item) {\r\n            receivedBytes += item.stream().mapToLong(ByteBuffer::capacity).sum();\r\n\r\n            if (receivedBytes - calledBytes &gt; interval) {\r\n                callback.accept(receivedBytes);\r\n                calledBytes = receivedBytes;\r\n            }\r\n\r\n            delegateSubscriber.onNext(item);\r\n        }\r\n\r\n        @Override\r\n        public void onError(Throwable throwable) {\r\n            delegateSubscriber.onError(throwable);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onComplete() {\r\n            delegateSubscriber.onComplete();\r\n        }\r\n\r\n        @Override\r\n        public CompletionStage&lt;T&gt; getBody() {\r\n            return delegateSubscriber.getBody();\r\n        }\r\n    };\r\n}\r\n","title":"Progress of download with java.net.http.HttpClient","body":"<p>This is rather clunky but the best solution I could find. It uses a custom <code>BodyHandler</code> and <code>BodySubscriber</code> that calls a callback:</p>\n<p>Example:</p>\n<pre><code>BodyHandler&lt;Path&gt; responceHandler = callbackBodyHandler(\n    1_000_000,\n    nrBytesReceived -&gt; System.out.print(&quot;.&quot;),\n    BodyHandlers.ofFileDownload(Path.of(&quot;.&quot;),\n        StandardOpenOption.WRITE, StandardOpenOption.CREATE));\n\nHttpResponse&lt;Path&gt; response = client.send(request, responceHandler);\n\n</code></pre>\n<p>Implementation:</p>\n<pre><code>private static &lt;T&gt; BodyHandler&lt;T&gt; callbackBodyHandler(int interval, LongConsumer callback, BodyHandler&lt;T&gt; h) {\n    return info -&gt; new BodySubscriber&lt;T&gt;() {\n        private BodySubscriber&lt;T&gt; delegateSubscriber = h.apply(info);\n        private long receivedBytes = 0;\n        private long calledBytes = 0;\n\n        @Override\n        public void onSubscribe(Subscription subscription) {\n            delegateSubscriber.onSubscribe(subscription);\n        }\n\n        @Override\n        public void onNext(List&lt;ByteBuffer&gt; item) {\n            receivedBytes += item.stream().mapToLong(ByteBuffer::capacity).sum();\n\n            if (receivedBytes - calledBytes &gt; interval) {\n                callback.accept(receivedBytes);\n                calledBytes = receivedBytes;\n            }\n\n            delegateSubscriber.onNext(item);\n        }\n\n        @Override\n        public void onError(Throwable throwable) {\n            delegateSubscriber.onError(throwable);\n\n        }\n\n        @Override\n        public void onComplete() {\n            delegateSubscriber.onComplete();\n        }\n\n        @Override\n        public CompletionStage&lt;T&gt; getBody() {\n            return delegateSubscriber.getBody();\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1696781540,"creation_date":1696688824,"question_id":77250199,"body_markdown":"I use `java.net.http.HttpClient` to download a large file.\r\n\r\nHow can I make `HttpClient` report the progress of the download? For example, can it call a callback every X byte that it has finished downloading?\r\n\r\nThe download code looks like this:\r\n\r\n```\r\nHttpClient client = HttpClient.newBuilder()\r\n    .followRedirects(Redirect.NORMAL)\r\n    .connectTimeout(Duration.ofSeconds(20))\r\n    .build();\r\n\r\nHttpRequest request = HttpRequest.newBuilder().uri(\r\n    new URI(&quot;https://example.com/large-file&quot;)).build();\r\n\r\n// The program blocks here until the download is finished\r\nHttpResponse&lt;Path&gt; response = client.send(request, BodyHandlers.ofFileDownload(\r\n    Path.of(&quot;.&quot;), StandardOpenOption.WRITE, StandardOpenOption.CREATE));\r\n\r\n```\r\n\r\nThe file that is downloaded is a couple of hundred MBs. On the user system this takes maybe a minute, during which users are left wondering whether the download is progressing or whether the program is hung.\r\n\r\nTo help with this I&#39;d like to, while the download is happening, indicate to the user how much of the file that has been downloaded and that the download is proceeding. For example by printing a dot in the terminal when 1 MB of data is completed, or regularly updating a progress bar in a GUI.\r\n\r\nHow can I do this with `HttpClient`?","title":"Progress of download with java.net.http.HttpClient","body":"<p>I use <code>java.net.http.HttpClient</code> to download a large file.</p>\n<p>How can I make <code>HttpClient</code> report the progress of the download? For example, can it call a callback every X byte that it has finished downloading?</p>\n<p>The download code looks like this:</p>\n<pre><code>HttpClient client = HttpClient.newBuilder()\n    .followRedirects(Redirect.NORMAL)\n    .connectTimeout(Duration.ofSeconds(20))\n    .build();\n\nHttpRequest request = HttpRequest.newBuilder().uri(\n    new URI(&quot;https://example.com/large-file&quot;)).build();\n\n// The program blocks here until the download is finished\nHttpResponse&lt;Path&gt; response = client.send(request, BodyHandlers.ofFileDownload(\n    Path.of(&quot;.&quot;), StandardOpenOption.WRITE, StandardOpenOption.CREATE));\n\n</code></pre>\n<p>The file that is downloaded is a couple of hundred MBs. On the user system this takes maybe a minute, during which users are left wondering whether the download is progressing or whether the program is hung.</p>\n<p>To help with this I'd like to, while the download is happening, indicate to the user how much of the file that has been downloaded and that the download is proceeding. For example by printing a dot in the terminal when 1 MB of data is completed, or regularly updating a progress bar in a GUI.</p>\n<p>How can I do this with <code>HttpClient</code>?</p>\n"},{"tags":["java","android","android-intent","limit","start-activity"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696764988,"post_id":77252355,"comment_id":136192709,"body_markdown":"&quot;I am making game with different levels with each level in a new activity&quot; -- modern Android app development would use a single activity, with at most fragments or composables for each level. Most games would not even do that, instead leveraging functionality within a game engine for navigating between screens.","body":"&quot;I am making game with different levels with each level in a new activity&quot; -- modern Android app development would use a single activity, with at most fragments or composables for each level. Most games would not even do that, instead leveraging functionality within a game engine for navigating between screens."}],"answers":[{"comments":[{"owner":{"account_id":21319273,"reputation":1,"user_id":15692701,"display_name":"Umar"},"score":0,"creation_date":1696783411,"post_id":77252445,"comment_id":136194512,"body_markdown":"Thank you soo much. It worked. Without it the issue is real.","body":"Thank you soo much. It worked. Without it the issue is real."}],"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696743701,"creation_date":1696743701,"answer_id":77252445,"question_id":77252355,"body_markdown":"Theoretically there is no such limit. But this might be happening because there are so many activities in the stack. You can try these flags to remove previous Activity from the stack. As you are developing game, I am assuming you will not be requiring to go previous level once user has completed it.\r\n\r\n    Intent intent = new Intent(this, ActivityB.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | \r\n    Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n    finish();","title":"Is there a limit for startActivity new Intent? After 50 clicks you can&#39;t open a new activity","body":"<p>Theoretically there is no such limit. But this might be happening because there are so many activities in the stack. You can try these flags to remove previous Activity from the stack. As you are developing game, I am assuming you will not be requiring to go previous level once user has completed it.</p>\n<pre><code>Intent intent = new Intent(this, ActivityB.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | \nIntent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\nfinish();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696780708,"creation_date":1696780708,"answer_id":77254306,"question_id":77252355,"body_markdown":"Here&#39;s a simplified example using fragments:\r\n\r\n\r\n    public class GameActivity extends AppCompatActivity {\r\n        private int currentLevel = 1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_game);\r\n            loadLevel(currentLevel);\r\n        }\r\n    \r\n        private void loadLevel(int level) {\r\n            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n            transaction.replace(R.id.fragment_container, LevelFragment.newInstance(level));\r\n            transaction.commit();\r\n        }\r\n    \r\n    \r\n        public void moveToNextLevel() {\r\n            currentLevel++;\r\n            if (currentLevel &lt;= 50) {\r\n                loadLevel(currentLevel);\r\n            } else {\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Is there a limit for startActivity new Intent? After 50 clicks you can&#39;t open a new activity","body":"<p>Here's a simplified example using fragments:</p>\n<pre><code>public class GameActivity extends AppCompatActivity {\n    private int currentLevel = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game);\n        loadLevel(currentLevel);\n    }\n\n    private void loadLevel(int level) {\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.replace(R.id.fragment_container, LevelFragment.newInstance(level));\n        transaction.commit();\n    }\n\n\n    public void moveToNextLevel() {\n        currentLevel++;\n        if (currentLevel &lt;= 50) {\n            loadLevel(currentLevel);\n        } else {\n            \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21319273,"reputation":1,"user_id":15692701,"display_name":"Umar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696780708,"creation_date":1696740735,"question_id":77252355,"body_markdown":"I am making game with different levels with each level in a new activity. When user click startActivity new intent for 50 times during the game it won&#39;t open a new activity. e.g level 1= activity 1 so user wont be able to open level 51 = activity 51. If you move between activities 50 times you wont be able to move 51st time. I have checked this error on a different app as well where you can&#39;t switch between activities more than 50 times. Any idea why there is a limit and how i can solve it. Help would be appreciated. \r\n\r\n\r\n```\r\nstartActivity(new Intent(this,Level50.class));\r\n```\r\n","title":"Is there a limit for startActivity new Intent? After 50 clicks you can&#39;t open a new activity","body":"<p>I am making game with different levels with each level in a new activity. When user click startActivity new intent for 50 times during the game it won't open a new activity. e.g level 1= activity 1 so user wont be able to open level 51 = activity 51. If you move between activities 50 times you wont be able to move 51st time. I have checked this error on a different app as well where you can't switch between activities more than 50 times. Any idea why there is a limit and how i can solve it. Help would be appreciated.</p>\n<pre><code>startActivity(new Intent(this,Level50.class));\n</code></pre>\n"},{"tags":["java","list","option-type","nullable"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1675444057,"post_id":75338842,"comment_id":132937333,"body_markdown":"main idea of this code is to iterate over list while also handling case when given list is null. when given list is null - using empty list will just result in no further operations and not null pointer exception","body":"main idea of this code is to iterate over list while also handling case when given list is null. when given list is null - using empty list will just result in no further operations and not null pointer exception"},{"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"score":0,"creation_date":1675447027,"post_id":75338842,"comment_id":132938270,"body_markdown":"List can not be &#39;literal null&#39; try yourself If you r fetching any records from repository here is the example\n(Select * entity where abc = ?1)\nList&lt;entity&gt; getAllMatchedRecords(param1);","body":"List can not be &#39;literal null&#39; try yourself If you r fetching any records from repository here is the example (Select * entity where abc = ?1) List&lt;entity&gt; getAllMatchedRecords(param1);"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676040121,"post_id":75338842,"comment_id":133062952,"body_markdown":"Its not clear what your question is aiming at. If the list can never be `null`, a code construct that can handle both cases, `null` and non-`null`, will obviously handle that case. If `list` can never be `null`, using an optional is obsolete, and generally, developers should not use `null` for `List` and hence, not have a need for optional lists, however, there is no reason why this shouldnt work.","body":"Its not clear what your question is aiming at. If the list can never be <code>null</code>, a code construct that can handle both cases, <code>null</code> and non-<code>null</code>, will obviously handle that case. If <code>list</code> can never be <code>null</code>, using an optional is obsolete, and generally, developers should not use <code>null</code> for <code>List</code> and hence, not have a need for optional lists, however, there is no reason why this shouldnt work."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675884320,"post_id":75338959,"comment_id":133026183,"body_markdown":"Good answer (+1). I might, just might prefer `Optional.ofNullable(list).map(List::stream).orElse(Stream.empty())`, but its a matter of taste and inclination.","body":"Good answer (+1). I might, just might prefer <code>Optional.ofNullable(list).map(List::stream).orElse(Stream.em&zwnj;&#8203;pty())</code>, but its a matter of taste and inclination."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675445422,"creation_date":1675444177,"answer_id":75338959,"question_id":75338842,"body_markdown":"If the list is null, which it could be depending on use case, it creates an empty list and prints its contents which will be empty (but no exception will be thrown).  If it is not empty, it will print its contents.\r\n```\r\nList&lt;String&gt; list = null;\r\n // prints empty list\r\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\r\n         .forEach(System.out::println);\r\n list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n // print the contents.\r\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\r\n         .forEach(System.out::println);\r\n```\r\nPrints\r\n```\r\nA\r\nB\r\nC\r\n```\r\nI presume the idea is to handle a null list by processing an empty Collection.","title":"Optional.ofNullable() on List","body":"<p>If the list is null, which it could be depending on use case, it creates an empty list and prints its contents which will be empty (but no exception will be thrown).  If it is not empty, it will print its contents.</p>\n<pre><code>List&lt;String&gt; list = null;\n // prints empty list\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\n         .forEach(System.out::println);\n list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n // print the contents.\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\n         .forEach(System.out::println);\n</code></pre>\n<p>Prints</p>\n<pre><code>A\nB\nC\n</code></pre>\n<p>I presume the idea is to handle a null list by processing an empty Collection.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696780479,"creation_date":1696780479,"answer_id":77254289,"question_id":75338842,"body_markdown":"If you really want to use Optional here, you can do something simpler, like this:\r\n```java\r\nOptional.ofNullable(list).ifPresnt(l -&gt; l.forEach(....))\r\n```\r\n\r\nBut, in my opinion, a simple null-check should do:\r\n```java\r\nif(list != null) {\r\n\tlist.forEach(x -&gt; {...})\r\n}\r\n```","title":"Optional.ofNullable() on List","body":"<p>If you really want to use Optional here, you can do something simpler, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.ofNullable(list).ifPresnt(l -&gt; l.forEach(....))\n</code></pre>\n<p>But, in my opinion, a simple null-check should do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(list != null) {\n    list.forEach(x -&gt; {...})\n}\n</code></pre>\n"}],"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2496,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1696780479,"creation_date":1675443414,"question_id":75338842,"body_markdown":"I need an assistance on one of the optional concepts of java 8+. I have been seeing developers using Optional.ofNullable on list object which is incorrect and I am not sure how its been working perfectly without bugs/defect. Code goes this way \r\n\r\nNote: list object is being captured by making DB call from repository layer.\r\n\r\n`Optional.ofNullable(list)\r\n    .orElse(Collections.emptyList())\r\n      .stream().forEach(x-&gt; { ------\r\n                              ------};);`\r\n\r\nList cannot be literal null if there is no elements it would be empty([]) so, how can it handle Optional.ofNullable() correctly? I tried dummy code to test by adding print statement in forEach It would print in both cases(list empty as well not empty).","title":"Optional.ofNullable() on List","body":"<p>I need an assistance on one of the optional concepts of java 8+. I have been seeing developers using Optional.ofNullable on list object which is incorrect and I am not sure how its been working perfectly without bugs/defect. Code goes this way</p>\n<p>Note: list object is being captured by making DB call from repository layer.</p>\n<p><code>Optional.ofNullable(list) .orElse(Collections.emptyList()) .stream().forEach(x-&gt; { ------ ------};);</code></p>\n<p>List cannot be literal null if there is no elements it would be empty([]) so, how can it handle Optional.ofNullable() correctly? I tried dummy code to test by adding print statement in forEach It would print in both cases(list empty as well not empty).</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1696779370,"post_id":77254215,"comment_id":136194102,"body_markdown":"I&#39;m not great with streams, but I think you&#39;d `map` test to `test.length * test.width` then use `sum()` to finish up.","body":"I&#39;m not great with streams, but I think you&#39;d <code>map</code> test to <code>test.length * test.width</code> then use <code>sum()</code> to finish up."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696780194,"creation_date":1696780194,"answer_id":77254269,"question_id":77254215,"body_markdown":"You can use `mapToInt` to convert the `Test` stream to an `IntStream`, then use the reduction method `sum`. \r\n```java\r\n    public static int getMultiSum(List&lt;Test&gt; testList){\r\n        return testList.stream().mapToInt(t -&gt; t.length * t.width).sum();\r\n    }\r\n```","title":"How I can redo foreach expression into stream API","body":"<p>You can use <code>mapToInt</code> to convert the <code>Test</code> stream to an <code>IntStream</code>, then use the reduction method <code>sum</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int getMultiSum(List&lt;Test&gt; testList){\n        return testList.stream().mapToInt(t -&gt; t.length * t.width).sum();\n    }\n</code></pre>\n"}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77254269,"answer_count":1,"score":1,"last_activity_date":1696780194,"creation_date":1696779153,"question_id":77254215,"body_markdown":"So, I have function:\r\n\r\n    public static int getMultiSum(List&lt;Test&gt; testList){\r\n        int sum = 0;\r\n        for(Test test : testList){\r\n            sum += test.length * test.width;\r\n        }\r\n        return sum;\r\n    }\r\nSo, how I can use stream API for this function?","title":"How I can redo foreach expression into stream API","body":"<p>So, I have function:</p>\n<pre><code>public static int getMultiSum(List&lt;Test&gt; testList){\n    int sum = 0;\n    for(Test test : testList){\n        sum += test.length * test.width;\n    }\n    return sum;\n}\n</code></pre>\n<p>So, how I can use stream API for this function?</p>\n"},{"tags":["java","android","keyboard"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1696782359,"post_id":77254220,"comment_id":136194413,"body_markdown":"From having written keyboards-  that&#39;s generally seen when something restarts the input connection.  If you&#39;re using a basic EditText, I&#39;d check for any code that may be requesting focus or removing focus in your code.  If you&#39;re using something else, it may be a break in that UI element.","body":"From having written keyboards-  that&#39;s generally seen when something restarts the input connection.  If you&#39;re using a basic EditText, I&#39;d check for any code that may be requesting focus or removing focus in your code.  If you&#39;re using something else, it may be a break in that UI element."}],"owner":{"account_id":12998310,"reputation":1,"user_id":9395165,"display_name":"Sourabh Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696779326,"creation_date":1696779284,"question_id":77254220,"body_markdown":"I am facing a weird issue in my native android app where the android keyboard closes and reopens when I tap between words in a sentence. I have tried using   android:windowSoftInputMode=&quot;adjustResize&quot; and without it as well. \r\n\r\nThis is the 8 seconds video link showing the behaviour \r\n[Video Link][1]\r\nI am expecting that the keyboard does not close and open causing the screen flicker \r\n\r\n\r\n  [1]: https://drive.google.com/file/d/18agntb-lIEVQkwYTaA5jO1VQ65nv4kEA/view?usp=sharing","title":"Android keyboard closes and opens when I tap on any word while typing","body":"<p>I am facing a weird issue in my native android app where the android keyboard closes and reopens when I tap between words in a sentence. I have tried using   android:windowSoftInputMode=&quot;adjustResize&quot; and without it as well.</p>\n<p>This is the 8 seconds video link showing the behaviour\n<a href=\"https://drive.google.com/file/d/18agntb-lIEVQkwYTaA5jO1VQ65nv4kEA/view?usp=sharing\" rel=\"nofollow noreferrer\">Video Link</a>\nI am expecting that the keyboard does not close and open causing the screen flicker</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1696777506,"post_id":77253809,"comment_id":136193886,"body_markdown":"P.S., I have a comment on how you are using `compute`. See the &quot;update&quot; in my answer (below).","body":"P.S., I have a comment on how you are using <code>compute</code>. See the &quot;update&quot; in my answer (below)."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696777456,"creation_date":1696774343,"answer_id":77253930,"question_id":77253809,"body_markdown":"You are correct. The `get()` operation is &quot;thread safe&quot; in the sense that it is guaranteed either to return the `PlainObject` that was present for the given `k` before the map was updated or, return the new object that was added under that `k`. It will never return some other object, or cause a program crash.\r\n\r\n**BUT**\r\n\r\nThe fact that the map itself is thread safe in no way protects the objects that you put _in_ the map. If you want your program to see consistent values of `v.a` and `v.b` when one thread wants to examine the object concurrently with some other thread that modifies the object, then that&#39;s entirely up to you to provide that protection.\r\n\r\n-------\r\n\r\n**update:**\r\n\r\nYour example does not use `compute` in the way it was meant to be used. The function you provide never returns a different `v` from the one that already was in the map. The code that you wrote doesn&#39;t do anything different from this version:\r\n\r\n``` lang-java\r\nvoid act(){\r\n  PlainObject v = myMap.get(&quot;abc&quot;);\r\n  if (v != null) {\r\n    v.a = 21;\r\n    // Other work\r\n    v.b = 18;\r\n  }\r\n}\r\n```\r\n\r\nThe purpose of `compute` is to let you write a function that decides whether or not the object in the map should be replaced with a different object:\r\n\r\n``` lang-java\r\n\r\nvoid foo() {\r\n  myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\r\n    if ((v == null) || ...other reason not to update...) {\r\n      return /*the original, UNMODIFIED*/ v;\r\n    }\r\n    else {\r\n      PlainObject new_v = new PlainObject();\r\n      new_v.a = 21;\r\n      // Other work \r\n      new_v.b = 18;\r\n      return new_v;\r\n    }\r\n  });\r\n```\r\n\r\nIn this case, if some other thread calls `myMap.get(&quot;abc&quot;)`, it is guaranteed either to get the original unmodified `PlainObject` or, to get the new object. And, if your `PlainObject` instances are all _effectively immutable,_\\* then the new object already will have been _safely published_ by the time the `get()` function returns it.\r\n\r\n\\* It would be &quot;effectively immutable&quot; if no thread ever modifies a `PlainObject` after the object has been made available to other threads.\r\n\r\n &quot;Safely published&quot; means there is a &quot;happens before&quot; relationship between the initialization of the new object and the first opportunity that any other thread has to access it.","title":"Reading mutable objects in a ConcurrentHashMap","body":"<p>You are correct. The <code>get()</code> operation is &quot;thread safe&quot; in the sense that it is guaranteed either to return the <code>PlainObject</code> that was present for the given <code>k</code> before the map was updated or, return the new object that was added under that <code>k</code>. It will never return some other object, or cause a program crash.</p>\n<p><strong>BUT</strong></p>\n<p>The fact that the map itself is thread safe in no way protects the objects that you put <em>in</em> the map. If you want your program to see consistent values of <code>v.a</code> and <code>v.b</code> when one thread wants to examine the object concurrently with some other thread that modifies the object, then that's entirely up to you to provide that protection.</p>\n<hr />\n<p><strong>update:</strong></p>\n<p>Your example does not use <code>compute</code> in the way it was meant to be used. The function you provide never returns a different <code>v</code> from the one that already was in the map. The code that you wrote doesn't do anything different from this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void act(){\n  PlainObject v = myMap.get(&quot;abc&quot;);\n  if (v != null) {\n    v.a = 21;\n    // Other work\n    v.b = 18;\n  }\n}\n</code></pre>\n<p>The purpose of <code>compute</code> is to let you write a function that decides whether or not the object in the map should be replaced with a different object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvoid foo() {\n  myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\n    if ((v == null) || ...other reason not to update...) {\n      return /*the original, UNMODIFIED*/ v;\n    }\n    else {\n      PlainObject new_v = new PlainObject();\n      new_v.a = 21;\n      // Other work \n      new_v.b = 18;\n      return new_v;\n    }\n  });\n</code></pre>\n<p>In this case, if some other thread calls <code>myMap.get(&quot;abc&quot;)</code>, it is guaranteed either to get the original unmodified <code>PlainObject</code> or, to get the new object. And, if your <code>PlainObject</code> instances are all <em>effectively immutable,</em>* then the new object already will have been <em>safely published</em> by the time the <code>get()</code> function returns it.</p>\n<p>* It would be &quot;effectively immutable&quot; if no thread ever modifies a <code>PlainObject</code> after the object has been made available to other threads.</p>\n<p> &quot;Safely published&quot; means there is a &quot;happens before&quot; relationship between the initialization of the new object and the first opportunity that any other thread has to access it.</p>\n"}],"owner":{"account_id":1350946,"reputation":2430,"user_id":1290607,"accept_rate":82,"display_name":"Bula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77253930,"answer_count":1,"score":1,"last_activity_date":1696777456,"creation_date":1696771898,"question_id":77253809,"body_markdown":"As per the [JavaSE 8 docs][1] on the `ConcurrentHashMap`\r\n\r\n&gt; ... even though all operations are thread-safe, retrieval operations do not entail locking....\r\n\r\n\r\nHow does the above play with the `compute` function of the `ConcurrentHashMap` ? Consider the following simple object\r\n\r\n    final class PlainObject{\r\n      int a;\r\n      int b;\r\n    }\r\n\r\nConsider the following mapping\r\n\r\n    ConcurrentHashMap&lt;String, PlainObject&gt; myMap;\r\n   \r\nConsider the following function that has access to `myMap`\r\n\r\n    void act(){\r\n\r\n      myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\r\n        v.a = 21;\r\n        // Other work \r\n        v.b = 18;\r\n\r\n        return v;\r\n      });\r\n    }\r\n\r\n\r\nCan I ever perform a read on `myMap` that will print a partial result (i.e. only `a` has been modified) ? It seems the answer is yes because retrieving data does not entail locking and we are dealing with a mutable object. Is this conclusion correct?\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#get-java.lang.Object-","title":"Reading mutable objects in a ConcurrentHashMap","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">JavaSE 8 docs</a> on the <code>ConcurrentHashMap</code></p>\n<blockquote>\n<p>... even though all operations are thread-safe, retrieval operations do not entail locking....</p>\n</blockquote>\n<p>How does the above play with the <code>compute</code> function of the <code>ConcurrentHashMap</code> ? Consider the following simple object</p>\n<pre><code>final class PlainObject{\n  int a;\n  int b;\n}\n</code></pre>\n<p>Consider the following mapping</p>\n<pre><code>ConcurrentHashMap&lt;String, PlainObject&gt; myMap;\n</code></pre>\n<p>Consider the following function that has access to <code>myMap</code></p>\n<pre><code>void act(){\n\n  myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\n    v.a = 21;\n    // Other work \n    v.b = 18;\n\n    return v;\n  });\n}\n</code></pre>\n<p>Can I ever perform a read on <code>myMap</code> that will print a partial result (i.e. only <code>a</code> has been modified) ? It seems the answer is yes because retrieving data does not entail locking and we are dealing with a mutable object. Is this conclusion correct?</p>\n"},{"tags":["java","arrays","hibernate","csv"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1585234985,"post_id":60865319,"comment_id":107695170,"body_markdown":"Does you CSV file have a blank (empty) line?","body":"Does you CSV file have a blank (empty) line?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1585246003,"post_id":60865319,"comment_id":107700479,"body_markdown":"You shouldn&#39;t read CSV that way. You could use https://www.baeldung.com/opencsv","body":"You shouldn&#39;t read CSV that way. You could use <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">baeldung.com/opencsv</a>"}],"answers":[{"comments":[{"owner":{"account_id":17697507,"reputation":81,"user_id":12847897,"display_name":"Grzegorz Gabrychowicz"},"score":0,"creation_date":1585223758,"post_id":60866178,"comment_id":107689174,"body_markdown":"Unfortunately no, I&#39;ve added the result of printing it. Printing starts from 1 (index 0), not from the CSV header.","body":"Unfortunately no, I&#39;ve added the result of printing it. Printing starts from 1 (index 0), not from the CSV header."},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1585223937,"post_id":60866178,"comment_id":107689271,"body_markdown":"try printing only zero indexes then see what is the result, if something strange i there you shall find out","body":"try printing only zero indexes then see what is the result, if something strange i there you shall find out"},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1585223958,"post_id":60866178,"comment_id":107689283,"body_markdown":"so it read just first line as i can see in the question , why?","body":"so it read just first line as i can see in the question , why?"},{"owner":{"account_id":17697507,"reputation":81,"user_id":12847897,"display_name":"Grzegorz Gabrychowicz"},"score":0,"creation_date":1585224624,"post_id":60866178,"comment_id":107689614,"body_markdown":"When I print indices 0 I am getting numbers so that&#39;s fine. It was only the first line because I&#39;ve only had one record in CSV. I added another one but it doesn&#39;t matter here","body":"When I print indices 0 I am getting numbers so that&#39;s fine. It was only the first line because I&#39;ve only had one record in CSV. I added another one but it doesn&#39;t matter here"},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1585224870,"post_id":60866178,"comment_id":107689739,"body_markdown":"is that the error line userData.setFirstName(tempArr[1]);, for sure there is a line in the file for which tempArrr has length one, try limiting the loop for two iterations only","body":"is that the error line userData.setFirstName(tempArr[1]);, for sure there is a line in the file for which tempArrr has length one, try limiting the loop for two iterations only"},{"owner":{"account_id":17697507,"reputation":81,"user_id":12847897,"display_name":"Grzegorz Gabrychowicz"},"score":0,"creation_date":1585234911,"post_id":60866178,"comment_id":107695129,"body_markdown":"Alright, problem solved. I knew it must have been a dumb error. The problem was an empty line in my CSV file after all records. Cheers!","body":"Alright, problem solved. I knew it must have been a dumb error. The problem was an empty line in my CSV file after all records. Cheers!"}],"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585222050,"creation_date":1585222050,"answer_id":60866178,"question_id":60865319,"body_markdown":"I don&#39;t know much about csv and room , but i read somewhere the header is also counted as a row \r\n\r\nSo \r\n\r\ni think when you say `line = br.readLine()` it read the header  of the csv file for the first iteration, and that header does not have any comma so `line.split` only returns ome string , and when you say `temArr[1]` it is wrong because there is only one string in the array and it is at zero index.\r\n\r\nYou should try printing that array then you will know weather or not i am right, and please also let me know, cuz it is just an idea, i am not sure.\r\n\r\nAnd if that turns out to be the case you can you `br.readline` before entering the while loop and it will work an you expected\r\n\r\n","title":"Index 1 out of bounds for length 1 error while creating the array automatically from the CSV file","body":"<p>I don't know much about csv and room , but i read somewhere the header is also counted as a row </p>\n\n<p>So </p>\n\n<p>i think when you say <code>line = br.readLine()</code> it read the header  of the csv file for the first iteration, and that header does not have any comma so <code>line.split</code> only returns ome string , and when you say <code>temArr[1]</code> it is wrong because there is only one string in the array and it is at zero index.</p>\n\n<p>You should try printing that array then you will know weather or not i am right, and please also let me know, cuz it is just an idea, i am not sure.</p>\n\n<p>And if that turns out to be the case you can you <code>br.readline</code> before entering the while loop and it will work an you expected</p>\n"}],"owner":{"account_id":17697507,"reputation":81,"user_id":12847897,"display_name":"Grzegorz Gabrychowicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696777345,"creation_date":1585218997,"question_id":60865319,"body_markdown":"The problem seems to be trivial but I still struggle on it. The error is `java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1` from which I understand only the first index from the array can be accessed (`id` which is the primary key in that case). Why is that? Don&#39;t I determine the length of the array automatically based on the number of items separated by delimiter when I load the file CSV file ? What is wrong with my `readFile()` method then ?\r\n\r\n_________________\r\n\r\nUserData.java\r\n-------------\r\n\r\n\r\n    import javax.persistence.*;\r\n    \r\n    @Table\r\n    @Entity(name=&quot;users&quot;)\r\n\r\n    public class UserData {\r\n    \r\n    \r\n    \r\n        @Id \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Column\r\n        private String firstName;\r\n    \r\n        @Column\r\n        private String lastName;\r\n    \r\n        @Column\r\n        private int telephoneNo;\r\n    \r\n        @Column\r\n        private String email;\r\n    \r\n        @Column\r\n        private String pickUp;\r\n    \r\n        @Column\r\n        private String dropOff;\r\n    \r\n        public UserData(){}\r\n    \r\n    \r\n        public UserData(String firstName, String lastName, int telephoneNo, String email, String pickUp, String dropOff){\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.telephoneNo = telephoneNo;\r\n            this.email = email;\r\n            this.pickUp = pickUp;\r\n            this.dropOff = dropOff;\r\n        }\r\n    \r\n    \r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public int getTelephoneNo() {\r\n            return telephoneNo;\r\n        }\r\n    \r\n        public void setTelephoneNo(int telephoneNo) {\r\n            this.telephoneNo = telephoneNo;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPickUp() {\r\n            return pickUp;\r\n        }\r\n    \r\n        public void setPickUp(String pickUp) {\r\n            this.pickUp = pickUp;\r\n        }\r\n    \r\n        public String getDropOff() {\r\n            return dropOff;\r\n        }\r\n    \r\n        public void setDropOff(String dropOff) {\r\n            this.dropOff = dropOff;\r\n        }\r\n    }\r\n\r\n\r\nsample.csv\r\n----------\r\n\r\n\r\n    1,Reanna,Colepio,159031625,reanna_colepio123@gmail.com,London,Glasgow\r\n    2,Rita,Das,987443767,ritadas@outlook.com,Edinburgh,Glasgow\r\n\r\n\r\n\r\n\r\nManageData.java\r\n---------------\r\n\r\n\r\n    import org.hibernate.Session;\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ManageData {\r\n    \r\n        public static void readFile() {\r\n            String line = &quot;&quot;;\r\n    \r\n            Session session = HibernateConfig.getSessionFactory().openSession();\r\n    \r\n            try (BufferedReader br = new BufferedReader(new FileReader(&quot;/Users/ggabrychowicz/IdeaProjects/Bus Managing System/src/main/java/sample.csv&quot;))){\r\n    \r\n                while ((line = br.readLine()) != null){\r\n                    String[] tempArr = line.split(&quot;,&quot;);\r\n    \r\n                    UserData userData = new UserData();\r\n    \r\n    \r\n                    userData.setFirstName(tempArr[1]);\r\n                    userData.setLastName(tempArr[2]);\r\n                    userData.setTelephoneNo(Integer.parseInt(tempArr[3]));\r\n                    userData.setEmail(tempArr[4]);\r\n                    userData.setPickUp(tempArr[5]);\r\n                    userData.setDropOff(tempArr[6]);\r\n    \r\n                    session.beginTransaction();\r\n                    session.save(userData);\r\n                    session.getTransaction().commit();\r\n    \r\n                }\r\n                session.close();\r\n            }\r\n    \r\n            catch (IOException e) {\r\n                if (session!=null){\r\n                    session.getTransaction().rollback();\r\n                }\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**That&#39;s what I get when I print the array:**\r\n\r\n\r\n    1\r\n    Reanna\r\n    Colepio\r\n    159031625\r\n    reanna_colepio123@gmail.com\r\n    London\r\n    Glasgow\r\n    2\r\n    Rita\r\n    Das\r\n    987443767\r\n    ritadas@outlook.com\r\n    Edinburgh\r\n    Glasgow\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat ManageData.readFile(ManageData.java:26)\r\n    \tat Main.main(Main.java:4)","title":"Index 1 out of bounds for length 1 error while creating the array automatically from the CSV file","body":"<p>The problem seems to be trivial but I still struggle on it. The error is <code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1</code> from which I understand only the first index from the array can be accessed (<code>id</code> which is the primary key in that case). Why is that? Don't I determine the length of the array automatically based on the number of items separated by delimiter when I load the file CSV file ? What is wrong with my <code>readFile()</code> method then ?</p>\n\n<hr>\n\n<h2>UserData.java</h2>\n\n<pre><code>import javax.persistence.*;\n\n@Table\n@Entity(name=\"users\")\n\npublic class UserData {\n\n\n\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column\n    private String firstName;\n\n    @Column\n    private String lastName;\n\n    @Column\n    private int telephoneNo;\n\n    @Column\n    private String email;\n\n    @Column\n    private String pickUp;\n\n    @Column\n    private String dropOff;\n\n    public UserData(){}\n\n\n    public UserData(String firstName, String lastName, int telephoneNo, String email, String pickUp, String dropOff){\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.telephoneNo = telephoneNo;\n        this.email = email;\n        this.pickUp = pickUp;\n        this.dropOff = dropOff;\n    }\n\n\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public int getTelephoneNo() {\n        return telephoneNo;\n    }\n\n    public void setTelephoneNo(int telephoneNo) {\n        this.telephoneNo = telephoneNo;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPickUp() {\n        return pickUp;\n    }\n\n    public void setPickUp(String pickUp) {\n        this.pickUp = pickUp;\n    }\n\n    public String getDropOff() {\n        return dropOff;\n    }\n\n    public void setDropOff(String dropOff) {\n        this.dropOff = dropOff;\n    }\n}\n</code></pre>\n\n<h2>sample.csv</h2>\n\n<pre><code>1,Reanna,Colepio,159031625,reanna_colepio123@gmail.com,London,Glasgow\n2,Rita,Das,987443767,ritadas@outlook.com,Edinburgh,Glasgow\n</code></pre>\n\n<h2>ManageData.java</h2>\n\n<pre><code>import org.hibernate.Session;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport java.util.Scanner;\n\npublic class ManageData {\n\n    public static void readFile() {\n        String line = \"\";\n\n        Session session = HibernateConfig.getSessionFactory().openSession();\n\n        try (BufferedReader br = new BufferedReader(new FileReader(\"/Users/ggabrychowicz/IdeaProjects/Bus Managing System/src/main/java/sample.csv\"))){\n\n            while ((line = br.readLine()) != null){\n                String[] tempArr = line.split(\",\");\n\n                UserData userData = new UserData();\n\n\n                userData.setFirstName(tempArr[1]);\n                userData.setLastName(tempArr[2]);\n                userData.setTelephoneNo(Integer.parseInt(tempArr[3]));\n                userData.setEmail(tempArr[4]);\n                userData.setPickUp(tempArr[5]);\n                userData.setDropOff(tempArr[6]);\n\n                session.beginTransaction();\n                session.save(userData);\n                session.getTransaction().commit();\n\n            }\n            session.close();\n        }\n\n        catch (IOException e) {\n            if (session!=null){\n                session.getTransaction().rollback();\n            }\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>That's what I get when I print the array:</strong></p>\n\n<pre><code>1\nReanna\nColepio\n159031625\nreanna_colepio123@gmail.com\nLondon\nGlasgow\n2\nRita\nDas\n987443767\nritadas@outlook.com\nEdinburgh\nGlasgow\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at ManageData.readFile(ManageData.java:26)\n    at Main.main(Main.java:4)\n</code></pre>\n"},{"tags":["java","neovim","nvim-lspconfig"],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696777306,"creation_date":1696777306,"question_id":77254109,"body_markdown":"Basically there are two things stopping me from leaving intellij behind and using neovim for java development\r\n\r\n1. The option to show quick fixes for the current line if it has an error\r\n2. The option to see all the options for parameters for an overloaded function when hovering it\r\n\r\nThank you in advance ","title":"How to implement quick fixes and see all the parameter options for an overloaded function in neovim with nvim-jdtls","body":"<p>Basically there are two things stopping me from leaving intellij behind and using neovim for java development</p>\n<ol>\n<li>The option to show quick fixes for the current line if it has an error</li>\n<li>The option to see all the options for parameters for an overloaded function when hovering it</li>\n</ol>\n<p>Thank you in advance</p>\n"},{"tags":["java","swing","colors","label"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1476055009,"post_id":39949076,"comment_id":67179210,"body_markdown":"`new Color(r,g,b)` ..see the [`Color` constructors](http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#constructor.summary) for more options.","body":"<code>new Color(r,g,b)</code> ..see the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#constructor.summary\" rel=\"nofollow noreferrer\"><code>Color</code> constructors</a> for more options."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1476055152,"post_id":39949076,"comment_id":67179244,"body_markdown":"Note: It&#39;s possible to use hex colors in HTML, and a label supports (basic) HTML, but it would be a hack to use HTML in a label purely for using the hex color.","body":"Note: It&#39;s possible to use hex colors in HTML, and a label supports (basic) HTML, but it would be a hack to use HTML in a label purely for using the hex color."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476093428,"creation_date":1476055299,"answer_id":39949520,"question_id":39949076,"body_markdown":"Using this [approach][1] due to @[assylias][2], the following method converts a [`javafx.scene.paint.Color`][3] to a [`java.awt.Color`][4].\r\n\r\n    private static Color awtColor(javafx.scene.paint.Color fxColor) {\r\n        return new Color(\r\n            (float) fxColor.getRed(),\r\n            (float) fxColor.getGreen(),\r\n            (float) fxColor.getBlue(),\r\n            (float) fxColor.getOpacity());\r\n    }\r\n\r\nWith a suitable `import` statement, you can then leverage the JavaFX `Color` API. This example uses `Color.web()` to create &quot;an RGB color specified with an HTML or CSS attribute string.&quot;\r\n\r\n    import static javafx.scene.paint.Color.web;\r\n    \r\n    label.setForeground(awtColor(web(&quot;0xF0F8FF&quot;))); // ALICEBLUE\r\n    label.setForegroundn(awtColor(web(&quot;AliceBlue&quot;))); // #F0F8FF\r\n\r\n  [1]: https://stackoverflow.com/a/39078746/230513\r\n  [2]: https://stackoverflow.com/users/829571/assylias\r\n  [3]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/paint/Color.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>Using this <a href=\"https://stackoverflow.com/a/39078746/230513\">approach</a> due to @<a href=\"https://stackoverflow.com/users/829571/assylias\">assylias</a>, the following method converts a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/paint/Color.html\" rel=\"nofollow noreferrer\"><code>javafx.scene.paint.Color</code></a> to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html\" rel=\"nofollow noreferrer\"><code>java.awt.Color</code></a>.</p>\n\n<pre><code>private static Color awtColor(javafx.scene.paint.Color fxColor) {\n    return new Color(\n        (float) fxColor.getRed(),\n        (float) fxColor.getGreen(),\n        (float) fxColor.getBlue(),\n        (float) fxColor.getOpacity());\n}\n</code></pre>\n\n<p>With a suitable <code>import</code> statement, you can then leverage the JavaFX <code>Color</code> API. This example uses <code>Color.web()</code> to create \"an RGB color specified with an HTML or CSS attribute string.\"</p>\n\n<pre><code>import static javafx.scene.paint.Color.web;\n\nlabel.setForeground(awtColor(web(\"0xF0F8FF\"))); // ALICEBLUE\nlabel.setForegroundn(awtColor(web(\"AliceBlue\"))); // #F0F8FF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476082798,"creation_date":1476082798,"answer_id":39952780,"question_id":39949076,"body_markdown":"As @Andrew said, you can use a [new Color(int rgb)](http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#Color-int-):\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    public class HexColorTest {\r\n      public JComponent makeUI() {\r\n        JPanel p = new JPanel();\r\n        p.add(makeLabel(new Color(0xff0000)));\r\n        p.add(makeLabel(new Color(Integer.parseInt(&quot;#00ff00&quot;.substring(1), 16))));\r\n        p.add(new JLabel(&quot;&lt;html&gt;&lt;span style=&#39;color: #0000ff&#39;&gt;#0000ff&quot;));\r\n        return p;\r\n      }\r\n      private static JLabel makeLabel(Color c) {\r\n        JLabel label = new JLabel(String.format(&quot;#%06x&quot;, c.getRGB() &amp; 0xffffff));\r\n        label.setForeground(c);\r\n        return label;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new HexColorTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n\r\n","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>As @Andrew said, you can use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#Color-int-\" rel=\"nofollow\">new Color(int rgb)</a>:</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class HexColorTest {\n  public JComponent makeUI() {\n    JPanel p = new JPanel();\n    p.add(makeLabel(new Color(0xff0000)));\n    p.add(makeLabel(new Color(Integer.parseInt(\"#00ff00\".substring(1), 16))));\n    p.add(new JLabel(\"&lt;html&gt;&lt;span style='color: #0000ff'&gt;#0000ff\"));\n    return p;\n  }\n  private static JLabel makeLabel(Color c) {\n    JLabel label = new JLabel(String.format(\"#%06x\", c.getRGB() &amp; 0xffffff));\n    label.setForeground(c);\n    return label;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new HexColorTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9348457,"reputation":466,"user_id":6938972,"display_name":"Chains"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1476111401,"creation_date":1476111401,"answer_id":39961146,"question_id":39949076,"body_markdown":"The following should allow you to set the colour using hex with the use of the decode method.\r\n\r\n    label.setForeground(Color.decode(&quot;#FFFF00&quot;));","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>The following should allow you to set the colour using hex with the use of the decode method.</p>\n\n<pre><code>label.setForeground(Color.decode(\"#FFFF00\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18158211,"reputation":2540,"user_id":13209976,"display_name":"Blessing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616746172,"creation_date":1616746172,"answer_id":66813134,"question_id":39949076,"body_markdown":"If you want to use it as background then you can do:\r\n\r\n    label.setBackground(Color.decode(&quot;#02f7fc&quot;))","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>If you want to use it as background then you can do:</p>\n<pre><code>label.setBackground(Color.decode(&quot;#02f7fc&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696776622,"creation_date":1696776622,"answer_id":77254061,"question_id":39949076,"body_markdown":"You can also set the color by doing:\r\n\r\n    label.setBackground(new Color(0x02f7fc))","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>You can also set the color by doing:</p>\n<pre><code>label.setBackground(new Color(0x02f7fc))\n</code></pre>\n"}],"owner":{"account_id":9343290,"reputation":43,"user_id":6935282,"display_name":"Rborn Aries"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8039,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":39961146,"answer_count":5,"score":3,"last_activity_date":1696776622,"creation_date":1476051212,"question_id":39949076,"body_markdown":"Is it possible to use `Color` hex in `JLabel` such as `#02f7fc`?\r\nI want to use A-F colors. Using `label.setForeground(Color.(BLUE/RED/BLACK/);` is so boring.","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>Is it possible to use <code>Color</code> hex in <code>JLabel</code> such as <code>#02f7fc</code>?\nI want to use A-F colors. Using <code>label.setForeground(Color.(BLUE/RED/BLACK/);</code> is so boring.</p>\n"},{"tags":["java","selenium-webdriver","automation","browser-automation"],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696775625,"creation_date":1696775625,"answer_id":77254005,"question_id":77252522,"body_markdown":"You haven&#39;t posted the correct error based on the code you provided. The correct error is\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been &quot;select&quot; but was &quot;div&quot;\r\n\r\nand the reason for this is `Select()` expects a SELECT element but your locator returns a DIV. You can easily fix this by changing the locator to point at the SELECT element using the ID,\r\n\r\n    By.id(&quot;searchDropdownBox&quot;)\r\n\r\nYou also have a lot of unnecessary code. Your code basically reads like\r\n\r\n1. Find the dropdown and click it - unnecessary because of step 4, below\r\n1. Scroll to the dropdown - you&#39;ve already clicked it so this step is unnecessary\r\n1. Wait until the dropdown is clickable - again, you&#39;ve already clicked it so this step is unnecessary\r\n1. Convert the dropdown to a `Select` element and select the first item in the dropdown\r\n\r\nYour entire code can be reduced to just\r\n\r\n    Select dropdown = new Select(driver.findElement(By.id(&quot;searchDropdownBox&quot;)));\r\n    dropdown.selectByIndex(1);\r\n\r\nFind the SELECT element by ID (simple and resilient locator), convert it to a `Select` so that it&#39;s easier to work with, and then select the desired OPTION using an index.","title":"Automating a dropdown in amazon","body":"<p>You haven't posted the correct error based on the code you provided. The correct error is</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been &quot;select&quot; but was &quot;div&quot;\n</code></pre>\n<p>and the reason for this is <code>Select()</code> expects a SELECT element but your locator returns a DIV. You can easily fix this by changing the locator to point at the SELECT element using the ID,</p>\n<pre><code>By.id(&quot;searchDropdownBox&quot;)\n</code></pre>\n<p>You also have a lot of unnecessary code. Your code basically reads like</p>\n<ol>\n<li>Find the dropdown and click it - unnecessary because of step 4, below</li>\n<li>Scroll to the dropdown - you've already clicked it so this step is unnecessary</li>\n<li>Wait until the dropdown is clickable - again, you've already clicked it so this step is unnecessary</li>\n<li>Convert the dropdown to a <code>Select</code> element and select the first item in the dropdown</li>\n</ol>\n<p>Your entire code can be reduced to just</p>\n<pre><code>Select dropdown = new Select(driver.findElement(By.id(&quot;searchDropdownBox&quot;)));\ndropdown.selectByIndex(1);\n</code></pre>\n<p>Find the SELECT element by ID (simple and resilient locator), convert it to a <code>Select</code> so that it's easier to work with, and then select the desired OPTION using an index.</p>\n"}],"owner":{"account_id":29623680,"reputation":1,"user_id":22703939,"display_name":"Yash Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696775625,"creation_date":1696745576,"question_id":77252522,"body_markdown":"Actually, I am trying to automate the Amazon website, where I have to select a category from the dropdown, as shown in the snapshot. But when I try to do so, it says `ElementNotInteractableException`.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/dEyBQ.jpg)](https://i.stack.imgur.com/dEyBQ.jpg)\r\n\r\n    \r\n\r\n    WebElement dropDown = driver.findElement(By.xpath(&quot;//div[@class=&#39;nav-search-scope nav-sprite&#39;]&quot;));\r\n    dropDown.click();\r\n\t// Scroll the dropdown element into view using JavaScript\r\n\tJavascriptExecutor je = (JavascriptExecutor) driver;\r\n\tje.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, dropDown);\r\n\r\n\t// Wait for the dropdown to be clickable and visible\r\n\twait.until(ExpectedConditions.elementToBeClickable(dropDown));\r\n\r\n\t\r\n\t//selecting dropdown\r\n\tSelect select = new Select(dropDown);\r\n\tselect.selectByIndex(1);","title":"Automating a dropdown in amazon","body":"<p>Actually, I am trying to automate the Amazon website, where I have to select a category from the dropdown, as shown in the snapshot. But when I try to do so, it says <code>ElementNotInteractableException</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/dEyBQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEyBQ.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>WebElement dropDown = driver.findElement(By.xpath(&quot;//div[@class='nav-search-scope nav-sprite']&quot;));\ndropDown.click();\n// Scroll the dropdown element into view using JavaScript\nJavascriptExecutor je = (JavascriptExecutor) driver;\nje.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, dropDown);\n\n// Wait for the dropdown to be clickable and visible\nwait.until(ExpectedConditions.elementToBeClickable(dropDown));\n\n\n//selecting dropdown\nSelect select = new Select(dropDown);\nselect.selectByIndex(1);\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696768733,"post_id":77253569,"comment_id":136193057,"body_markdown":"Don&#39;t write a JPA query, write a dedicated SQL query that retrieves what you need (or write the proper JPA query which does that instead of navigating all objects and relations to get a few properties).","body":"Don&#39;t write a JPA query, write a dedicated SQL query that retrieves what you need (or write the proper JPA query which does that instead of navigating all objects and relations to get a few properties)."},{"owner":{"account_id":27265998,"reputation":1,"user_id":20788024,"display_name":"Gabriel Lagrota"},"score":0,"creation_date":1696771932,"post_id":77253569,"comment_id":136193379,"body_markdown":"@M.Deinum can you give to me some example(s) please?","body":"@M.Deinum can you give to me some example(s) please?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696829349,"post_id":77253569,"comment_id":136197959,"body_markdown":"A sample of what? I Don&#39;t know your model so I don&#39;t know what to write as a query. I assume you know how to write a proper JPQL or SQL query for the data you need. If you are quering some toplevel JPA entity then iterate over it gettting properties and properties of nested structures you are simply doing it wrong.","body":"A sample of what? I Don&#39;t know your model so I don&#39;t know what to write as a query. I assume you know how to write a proper JPQL or SQL query for the data you need. If you are quering some toplevel JPA entity then iterate over it gettting properties and properties of nested structures you are simply doing it wrong."}],"answers":[{"tags":[],"owner":{"account_id":27736279,"reputation":1,"user_id":21173797,"display_name":"obaibula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696773772,"creation_date":1696773772,"answer_id":77253900,"question_id":77253569,"body_markdown":"If you are querying a JPA entity field using a JPA query, you need to ensure that the field you are looking up in the database has an appropriate B-tree index. In your case, create an index on the &#39;year&#39; column; it should significantly improve the performance. Also, ensure that you really need all the data you fetch from the database.","title":"Performance issue with JPA dashboards","body":"<p>If you are querying a JPA entity field using a JPA query, you need to ensure that the field you are looking up in the database has an appropriate B-tree index. In your case, create an index on the 'year' column; it should significantly improve the performance. Also, ensure that you really need all the data you fetch from the database.</p>\n"}],"owner":{"account_id":27265998,"reputation":1,"user_id":20788024,"display_name":"Gabriel Lagrota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696773772,"creation_date":1696767332,"question_id":77253569,"body_markdown":"I have a production server that is experiencing severe performance issues because  need to display annual sales data in a graphical report.\r\n\r\nI didn&#39;t find any way to obtain all this data, other than through a JPA query with the year filter. However, this results in a massive volume of data, causing the application to be very slow.\r\n\r\nHow could I improve the performance of this type of generalist query?","title":"Performance issue with JPA dashboards","body":"<p>I have a production server that is experiencing severe performance issues because  need to display annual sales data in a graphical report.</p>\n<p>I didn't find any way to obtain all this data, other than through a JPA query with the year filter. However, this results in a massive volume of data, causing the application to be very slow.</p>\n<p>How could I improve the performance of this type of generalist query?</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1696769894,"post_id":77253680,"comment_id":136193175,"body_markdown":"Actually you just iterate once over the Queue, then connect its tail with its head. Of course you&#39;ll now get an infinite loop. To &#39;escape&#39; the infinite loop, you have to extend your if a little bit: `while(iter.next != null &amp;&amp; iter.next != head)`. But still, you will not &#39;re-add&#39; any other elements. What you should do instead is to 1) In a first loop, find the end (&#39;tail&#39;) of the queue and save that to its own variable. 2) run your algorithm and in there, each time before you do `iter = iter.next;` you add the current node to the end of the tail (`tail.next = iter;`) and then ...","body":"Actually you just iterate once over the Queue, then connect its tail with its head. Of course you&#39;ll now get an infinite loop. To &#39;escape&#39; the infinite loop, you have to extend your if a little bit: <code>while(iter.next != null &amp;&amp; iter.next != head)</code>. But still, you will not &#39;re-add&#39; any other elements. What you should do instead is to 1) In a first loop, find the end (&#39;tail&#39;) of the queue and save that to its own variable. 2) run your algorithm and in there, each time before you do <code>iter = iter.next;</code> you add the current node to the end of the tail (<code>tail.next = iter;</code>) and then ..."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1696769970,"post_id":77253680,"comment_id":136193182,"body_markdown":"and then jump tail to the element `tail = iter`, then do `iter = iter.next;`.","body":"and then jump tail to the element <code>tail = iter</code>, then do <code>iter = iter.next;</code>."}],"answers":[{"tags":[],"owner":{"account_id":13073313,"reputation":16,"user_id":9446247,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696770068,"creation_date":1696770068,"answer_id":77253714,"question_id":77253680,"body_markdown":"The reason your code is entering an infinite loop during the second iteration of the while loop is because you&#39;re not resetting the iter pointer to the head of the linked list after you&#39;ve traversed it once. As a result, during the second iteration of the for loop, iter is already at the end of the list from the previous iteration, and the while loop condition iter.next != null is never satisfied, leading to an infinite loop.\r\n\r\nTo fix this issue, you need to reset the iter pointer to the head of the linked list before starting the next iteration of the for loop. Here&#39;s the corrected code:\r\n\r\n    class Solution&lt;E&gt; {\r\n        public Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n) {\r\n            Node&lt;E&gt; iter = head;\r\n            \r\n            for (int i = 0; i &lt; n; i++) {\r\n                // Traverse to the end of the linked list\r\n                while (iter.next != null) {\r\n                    iter = iter.next;\r\n                }\r\n                \r\n                // Connect the end of the list to the head\r\n                iter.next = head;\r\n                \r\n                // Reset iter to the head for the next iteration\r\n                iter = head;\r\n            }\r\n            \r\n            return head;\r\n        }\r\n    }\r\n\r\nBy resetting iter to head after each iteration of the for loop, you ensure that the while loop starts from the beginning of the list in each iteration, and the code should work as expected, connecting the nodes the specified number of times without entering an infinite loop.\r\n","title":"I want to connect nodes the same number of times, but it ends up in an infinite loop","body":"<p>The reason your code is entering an infinite loop during the second iteration of the while loop is because you're not resetting the iter pointer to the head of the linked list after you've traversed it once. As a result, during the second iteration of the for loop, iter is already at the end of the list from the previous iteration, and the while loop condition iter.next != null is never satisfied, leading to an infinite loop.</p>\n<p>To fix this issue, you need to reset the iter pointer to the head of the linked list before starting the next iteration of the for loop. Here's the corrected code:</p>\n<pre><code>class Solution&lt;E&gt; {\n    public Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n) {\n        Node&lt;E&gt; iter = head;\n        \n        for (int i = 0; i &lt; n; i++) {\n            // Traverse to the end of the linked list\n            while (iter.next != null) {\n                iter = iter.next;\n            }\n            \n            // Connect the end of the list to the head\n            iter.next = head;\n            \n            // Reset iter to the head for the next iteration\n            iter = head;\n        }\n        \n        return head;\n    }\n}\n</code></pre>\n<p>By resetting iter to head after each iteration of the for loop, you ensure that the while loop starts from the beginning of the list in each iteration, and the code should work as expected, connecting the nodes the specified number of times without entering an infinite loop.</p>\n"}],"owner":{"account_id":27501734,"reputation":11,"user_id":20985290,"display_name":"hyo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253714,"answer_count":1,"score":0,"last_activity_date":1696773747,"creation_date":1696769298,"question_id":77253680,"body_markdown":"```\r\nclass Solution&lt;E&gt; {\r\n    public  Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n){\r\n        Node&lt;E&gt; iter = head;\r\n        for(int i = 0;i&lt; n;i++){\r\n            while(iter.next != null){\r\n                iter = iter.next;\r\n            }\r\n            iter.next = head;\r\n        }\r\n\r\n        return head;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe `reproduceByN` method attempts to connect nodes a specified number of times, but it encounters an infinite loop during the second iteration of the `while` loop.\r\n\r\n\r\nThe expected outcome was to traverse the nodes to the end in the `while` loop and then add the same nodes afterward, repeating this process for a specified number of times using the `for` loop. However, it unexpectedly enters an infinite loop midway, and I&#39;m unsure about the solution.","title":"I want to connect nodes the same number of times, but it ends up in an infinite loop","body":"<pre><code>class Solution&lt;E&gt; {\n    public  Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n){\n        Node&lt;E&gt; iter = head;\n        for(int i = 0;i&lt; n;i++){\n            while(iter.next != null){\n                iter = iter.next;\n            }\n            iter.next = head;\n        }\n\n        return head;\n\n    }\n\n}\n\n</code></pre>\n<p>The <code>reproduceByN</code> method attempts to connect nodes a specified number of times, but it encounters an infinite loop during the second iteration of the <code>while</code> loop.</p>\n<p>The expected outcome was to traverse the nodes to the end in the <code>while</code> loop and then add the same nodes afterward, repeating this process for a specified number of times using the <code>for</code> loop. However, it unexpectedly enters an infinite loop midway, and I'm unsure about the solution.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1565079029,"post_id":57371613,"comment_id":101228255,"body_markdown":"Please show your stacktrace","body":"Please show your stacktrace"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1565080812,"post_id":57371613,"comment_id":101229148,"body_markdown":"_&quot;Caused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)&quot;_","body":"<i>&quot;Caused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)&quot;</i>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1565081164,"post_id":57371613,"comment_id":101229335,"body_markdown":"Possible duplicate of [How do I unlock a SQLite database?](https://stackoverflow.com/questions/151026/how-do-i-unlock-a-sqlite-database)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/151026/how-do-i-unlock-a-sqlite-database\">How do I unlock a SQLite database?</a>"},{"owner":{"account_id":2105451,"reputation":1322,"user_id":1871885,"accept_rate":65,"display_name":"Ermintar"},"score":1,"creation_date":1565082413,"post_id":57371613,"comment_id":101230008,"body_markdown":"Why are you using  Collecte oldCollecte = this.find(obj.getId()); outside of transaction bonds?","body":"Why are you using  Collecte oldCollecte = this.find(obj.getId()); outside of transaction bonds?"},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565092171,"post_id":57371613,"comment_id":101235175,"body_markdown":"@Augusto I&#39;am not sure, I have not find a solution to my problem in this topic","body":"@Augusto I&#39;am not sure, I have not find a solution to my problem in this topic"},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565092179,"post_id":57371613,"comment_id":101235184,"body_markdown":"@MarkRotteveel Yes I see that, but I don&#39;t know how to fix that, can I say to hibernate to unlock my db ?","body":"@MarkRotteveel Yes I see that, but I don&#39;t know how to fix that, can I say to hibernate to unlock my db ?"},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565092189,"post_id":57371613,"comment_id":101235188,"body_markdown":"@Ermintar yes thanks, it&#39;s a mistake I changed that","body":"@Ermintar yes thanks, it&#39;s a mistake I changed that"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1565092749,"post_id":57371613,"comment_id":101235518,"body_markdown":"I don&#39;t normally use sqlite, but as far as I know, depending on the version and the exact compilation options, it may only allow a single connection. Or possibly you have multiple processes open that access the same database.","body":"I don&#39;t normally use sqlite, but as far as I know, depending on the version and the exact compilation options, it may only allow a single connection. Or possibly you have multiple processes open that access the same database."},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565093342,"post_id":57371613,"comment_id":101235878,"body_markdown":"@MarkRotteveel yes I have already read that somewhere, but my HibernateUtil classe give only one instance of session in order to avoid this problem. I try &quot;fuser&quot; commande on &quot;bd.db&quot; and there are only one PID when I start my program (the PID of my program I think)","body":"@MarkRotteveel yes I have already read that somewhere, but my HibernateUtil classe give only one instance of session in order to avoid this problem. I try &quot;fuser&quot; commande on &quot;bd.db&quot; and there are only one PID when I start my program (the PID of my program I think)"}],"answers":[{"tags":[],"owner":{"account_id":11022381,"reputation":242,"user_id":8096208,"display_name":"WonChul Heo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565080173,"creation_date":1565080173,"answer_id":57371900,"question_id":57371613,"body_markdown":"I think it will be resolved by placing the start of the transaction at the top of the method.","title":"How to fix : &quot;Unable to commit against JDBC Connection&quot; error in hibernate when I update entity","body":"<p>I think it will be resolved by placing the start of the transaction at the top of the method.</p>\n"}],"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10925,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696773635,"creation_date":1565078993,"question_id":57371613,"body_markdown":"I try to do an update function to update the entity with hibernate.\r\nso I did that : \r\n\r\n\r\n\tpublic boolean update(Collecte obj) {\r\n\t\tTransaction transaction = null;\r\n\t\ttry {\r\n\t\t\tSession session = HibernateUtil.getSessionFactory().openSession();\t\r\n\t        transaction = session.beginTransaction(); \r\n\t\t\t\r\n\t\t\tCollecte oldCollecte = this.find(obj.getId());\r\n\t\t\tCollecte oldCollecteMerged = (Collecte) session.merge(oldCollecte);\r\n\t\t\tCollecte objMerged = (Collecte) session.merge(obj);\r\n\t\r\n\t\t\toldCollecteMerged.setId(objMerged.getId());\r\n\t\t\toldCollecteMerged.setAdresse(objMerged.getAdresse());\r\n\t\t\toldCollecteMerged.setAuteur(objMerged.getAuteur());\r\n\t\t\toldCollecteMerged.setDate(objMerged.getDate());\r\n\t\t\toldCollecteMerged.setEnquete(objMerged.getEnquete());\r\n\t\t\toldCollecteMerged.setGmao(objMerged.getGmao());\r\n\t\t\toldCollecteMerged.setLocal(objMerged.getLocal());\r\n\t\t\toldCollecteMerged.setPce(objMerged.getPce());\r\n\t\t\toldCollecteMerged.setReponse(objMerged.getReponse());\r\n\r\n\t\t\tsession.merge(oldCollecteMerged);\r\n\t\t\ttransaction.commit();\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (transaction != null) {\r\n\t\t\t\ttransaction.rollback();\r\n\t\t\t}\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\nBut an error triggers at the line &quot;translation.commit()&quot; :\r\n\r\n- Unable to commit against JDBC Connection\r\n\r\nEdit : \r\nMore exactly, this is the full error message :\r\n\r\n```\r\norg.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\r\n\tat dao.CollecteDAO.update(CollecteDAO.java:77)\r\n\tat Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n\tat org.sqlite.core.DB.throwex(DB.java:918)\r\n\tat org.sqlite.core.DB.exec(DB.java:178)\r\n\tat org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\r\n\t... 40 more\r\norg.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\r\n\tat dao.CollecteDAO.update(CollecteDAO.java:77)\r\n\tat Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n\tat org.sqlite.core.DB.throwex(DB.java:918)\r\n\tat org.sqlite.core.DB.exec(DB.java:178)\r\n\tat org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\r\n\t... 40 more\r\nHibernate: select enquete0_.id as id1_4_, enquete0_.cloture as cloture2_4_, enquete0_.dateFermeture as dateFerm3_4_, enquete0_.dateOuverture as dateOuve4_4_, enquete0_.user_id as user_id6_4_, enquete0_.titre as titre5_4_ from Enquete enquete0_ where enquete0_.id=?\r\nao&#251;t 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 5, SQLState: null\r\nao&#251;t 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: [SQLITE_BUSY]  The database file is locked (database is locked)\r\nException in thread &quot;AWT-EventQueue-0&quot; javax.persistence.OptimisticLockException: org.hibernate.exception.LockAcquisitionException: could not prepare statement\r\n\tat org.hibernate.internal.ExceptionConverterImpl.wrapLockException(ExceptionConverterImpl.java:277)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:98)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1514)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:135)\r\n\tat dao.EnqueteDAO.find(EnqueteDAO.java:106)\r\n\tat dao.EnqueteDAO.find(EnqueteDAO.java:1)\r\n\tat Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:126)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: org.hibernate.exception.LockAcquisitionException: could not prepare statement\r\n\tat org.hibernate.dialect.SQLiteDialect$3.convert(SQLiteDialect.java:203)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1984)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1914)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1892)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:937)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2689)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2672)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2506)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2501)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:395)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:220)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1508)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505)\r\n\t... 40 more\r\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n\tat org.sqlite.core.DB.throwex(DB.java:918)\r\n\tat org.sqlite.core.NativeDB.prepare_utf8(Native Method)\r\n\tat org.sqlite.core.NativeDB.prepare(NativeDB.java:134)\r\n\tat org.sqlite.core.DB.prepare(DB.java:257)\r\n\tat org.sqlite.core.CorePreparedStatement.&lt;init&gt;(CorePreparedStatement.java:47)\r\n\tat org.sqlite.jdbc3.JDBC3PreparedStatement.&lt;init&gt;(JDBC3PreparedStatement.java:30)\r\n\tat org.sqlite.jdbc4.JDBC4PreparedStatement.&lt;init&gt;(JDBC4PreparedStatement.java:19)\r\n\tat org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:35)\r\n\tat org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:241)\r\n\tat org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:205)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\r\n\t... 56 more\r\n\r\n\r\n```\r\n\r\n**I tried:** \r\n\r\n- Call my update function at the start of my main =&gt; in this case the update function works\r\n- Use the &quot;fuser&quot; command in order to see if another process uses my &quot;bd.db&quot; file, but apparently not. \r\n- I have change the LockMode in my query like that : \r\n```\r\nsession.createQuery(&quot;update Collecte set local=true where id= ?0&quot;)\r\n\t\t\t.setParameter(0, obj.getId())\r\n\t\t\t.setLockMode(&quot;alias&quot;, LockMode.WRITE)\r\n\t\t\t.executeUpdate();\r\n\r\n```\r\n       =&gt; but I have the same error \r\n\r\n**Maybe**\r\n\r\n- Maybe my program does not have the right to change data in my program? (even if my insert function works well)\r\n- It seems to be a kind of conflict? The &quot;merge&quot; has to avoid this kind of error no? \r\n- It&#39;s may about the lockMode ? ","title":"How to fix : &quot;Unable to commit against JDBC Connection&quot; error in hibernate when I update entity","body":"<p>I try to do an update function to update the entity with hibernate.\nso I did that : </p>\n\n<pre><code>public boolean update(Collecte obj) {\n    Transaction transaction = null;\n    try {\n        Session session = HibernateUtil.getSessionFactory().openSession();  \n        transaction = session.beginTransaction(); \n\n        Collecte oldCollecte = this.find(obj.getId());\n        Collecte oldCollecteMerged = (Collecte) session.merge(oldCollecte);\n        Collecte objMerged = (Collecte) session.merge(obj);\n\n        oldCollecteMerged.setId(objMerged.getId());\n        oldCollecteMerged.setAdresse(objMerged.getAdresse());\n        oldCollecteMerged.setAuteur(objMerged.getAuteur());\n        oldCollecteMerged.setDate(objMerged.getDate());\n        oldCollecteMerged.setEnquete(objMerged.getEnquete());\n        oldCollecteMerged.setGmao(objMerged.getGmao());\n        oldCollecteMerged.setLocal(objMerged.getLocal());\n        oldCollecteMerged.setPce(objMerged.getPce());\n        oldCollecteMerged.setReponse(objMerged.getReponse());\n\n        session.merge(oldCollecteMerged);\n        transaction.commit();   \n    } catch (Exception e) {\n        e.printStackTrace();\n        if (transaction != null) {\n            transaction.rollback();\n        }\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>But an error triggers at the line \"translation.commit()\" :</p>\n\n<ul>\n<li>Unable to commit against JDBC Connection</li>\n</ul>\n\n<p>Edit : \nMore exactly, this is the full error message :</p>\n\n<pre><code>org.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\n    at dao.CollecteDAO.update(CollecteDAO.java:77)\n    at Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.throwex(DB.java:918)\n    at org.sqlite.core.DB.exec(DB.java:178)\n    at org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\n    ... 40 more\norg.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\n    at dao.CollecteDAO.update(CollecteDAO.java:77)\n    at Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.throwex(DB.java:918)\n    at org.sqlite.core.DB.exec(DB.java:178)\n    at org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\n    ... 40 more\nHibernate: select enquete0_.id as id1_4_, enquete0_.cloture as cloture2_4_, enquete0_.dateFermeture as dateFerm3_4_, enquete0_.dateOuverture as dateOuve4_4_, enquete0_.user_id as user_id6_4_, enquete0_.titre as titre5_4_ from Enquete enquete0_ where enquete0_.id=?\naot 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 5, SQLState: null\naot 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: [SQLITE_BUSY]  The database file is locked (database is locked)\nException in thread \"AWT-EventQueue-0\" javax.persistence.OptimisticLockException: org.hibernate.exception.LockAcquisitionException: could not prepare statement\n    at org.hibernate.internal.ExceptionConverterImpl.wrapLockException(ExceptionConverterImpl.java:277)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:98)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1514)\n    at org.hibernate.query.Query.getResultList(Query.java:135)\n    at dao.EnqueteDAO.find(EnqueteDAO.java:106)\n    at dao.EnqueteDAO.find(EnqueteDAO.java:1)\n    at Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:126)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: org.hibernate.exception.LockAcquisitionException: could not prepare statement\n    at org.hibernate.dialect.SQLiteDialect$3.convert(SQLiteDialect.java:203)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1984)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1914)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1892)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:937)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340)\n    at org.hibernate.loader.Loader.doList(Loader.java:2689)\n    at org.hibernate.loader.Loader.doList(Loader.java:2672)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2506)\n    at org.hibernate.loader.Loader.list(Loader.java:2501)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:395)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:220)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1508)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505)\n    ... 40 more\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.throwex(DB.java:918)\n    at org.sqlite.core.NativeDB.prepare_utf8(Native Method)\n    at org.sqlite.core.NativeDB.prepare(NativeDB.java:134)\n    at org.sqlite.core.DB.prepare(DB.java:257)\n    at org.sqlite.core.CorePreparedStatement.&lt;init&gt;(CorePreparedStatement.java:47)\n    at org.sqlite.jdbc3.JDBC3PreparedStatement.&lt;init&gt;(JDBC3PreparedStatement.java:30)\n    at org.sqlite.jdbc4.JDBC4PreparedStatement.&lt;init&gt;(JDBC4PreparedStatement.java:19)\n    at org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:35)\n    at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:241)\n    at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:205)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\n    ... 56 more\n\n\n</code></pre>\n\n<p><strong>I tried:</strong> </p>\n\n<ul>\n<li>Call my update function at the start of my main => in this case the update function works</li>\n<li>Use the \"fuser\" command in order to see if another process uses my \"bd.db\" file, but apparently not. </li>\n<li>I have change the LockMode in my query like that : </li>\n</ul>\n\n<pre><code>session.createQuery(\"update Collecte set local=true where id= ?0\")\n            .setParameter(0, obj.getId())\n            .setLockMode(\"alias\", LockMode.WRITE)\n            .executeUpdate();\n\n</code></pre>\n\n<pre><code>   =&gt; but I have the same error \n</code></pre>\n\n<p><strong>Maybe</strong></p>\n\n<ul>\n<li>Maybe my program does not have the right to change data in my program? (even if my insert function works well)</li>\n<li>It seems to be a kind of conflict? The \"merge\" has to avoid this kind of error no? </li>\n<li>It's may about the lockMode ? </li>\n</ul>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696772753,"creation_date":1695414072,"answer_id":77160463,"question_id":77160457,"body_markdown":"There are two solution:\r\n\r\nIf you want to load everything immediately:\r\n\r\n    List&lt;Person&gt; people = mapper.readValue(fileReader, mapper.getTypeFactory().constructCollectionType(ArrayList.class, Person.class));\r\n\r\nor faster\r\n\r\n    List&lt;Person&gt; people = Arrays.asList(mapper.readValue(fileReader, Person[].class))\r\n\r\notherwise you can retrieve a MappingIterator to iterate over the elements\r\n\r\n    MappingIterator&lt;Person&gt; iterator = mapper.readerFor(Person.class).readValues(fileReader);\r\n\r\nIf you choose the version with MappingIterator, please remember to close the iterator when you have finish to use it, in order to release any resources associated with it.","title":"How to read JSON that starts with square brackets using Jackson?","body":"<p>There are two solution:</p>\n<p>If you want to load everything immediately:</p>\n<pre><code>List&lt;Person&gt; people = mapper.readValue(fileReader, mapper.getTypeFactory().constructCollectionType(ArrayList.class, Person.class));\n</code></pre>\n<p>or faster</p>\n<pre><code>List&lt;Person&gt; people = Arrays.asList(mapper.readValue(fileReader, Person[].class))\n</code></pre>\n<p>otherwise you can retrieve a MappingIterator to iterate over the elements</p>\n<pre><code>MappingIterator&lt;Person&gt; iterator = mapper.readerFor(Person.class).readValues(fileReader);\n</code></pre>\n<p>If you choose the version with MappingIterator, please remember to close the iterator when you have finish to use it, in order to release any resources associated with it.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1696775480,"accepted_answer_id":77160463,"answer_count":1,"score":3,"last_activity_date":1696772753,"creation_date":1695414033,"question_id":77160457,"body_markdown":"How to read a JSON list of elements using Jackson library? \r\nIt basically starts with square brackets, like the following one :\r\n\r\n    [\r\n       {\r\n          &quot;firstName&quot;:&quot;a&quot;,\r\n          &quot;lastName&quot;:&quot;a&quot;\r\n       },\r\n       {\r\n          &quot;firstName&quot;:&quot;b&quot;,\r\n          &quot;lastName&quot;:&quot;b&quot;\r\n       },\r\n       {\r\n          &quot;firstName&quot;:&quot;c&quot;,\r\n          &quot;lastName&quot;:&quot;c&quot;\r\n       }\r\n    ]\r\n\r\nMost of the time the JSON starts with curly brackets and it is easy to map it to a java class :\r\n\r\n\tPerson person = mapper.readValue(fileReader, Person.class);\r\n\r\nBut when the JSON starts with Square brackets how it can be read?\r\n\r\n\r\n","title":"How to read JSON that starts with square brackets using Jackson?","body":"<p>How to read a JSON list of elements using Jackson library?\nIt basically starts with square brackets, like the following one :</p>\n<pre><code>[\n   {\n      &quot;firstName&quot;:&quot;a&quot;,\n      &quot;lastName&quot;:&quot;a&quot;\n   },\n   {\n      &quot;firstName&quot;:&quot;b&quot;,\n      &quot;lastName&quot;:&quot;b&quot;\n   },\n   {\n      &quot;firstName&quot;:&quot;c&quot;,\n      &quot;lastName&quot;:&quot;c&quot;\n   }\n]\n</code></pre>\n<p>Most of the time the JSON starts with curly brackets and it is easy to map it to a java class :</p>\n<pre><code>Person person = mapper.readValue(fileReader, Person.class);\n</code></pre>\n<p>But when the JSON starts with Square brackets how it can be read?</p>\n"},{"tags":["java","spring-boot","header","mockserver"],"owner":{"account_id":28662128,"reputation":1,"user_id":21946850,"display_name":"Tech Savy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696772513,"creation_date":1696772513,"question_id":77253844,"body_markdown":"I have a Spring boot application wherein I am trying to post a byte array data to a Mock server(org.mock-server) endpoint that I configured in my local for development and testing purposes.\r\n\r\nI am using 5.13.2 version of mockserver. Following is the dependency in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.13.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAs I post the data using rest template it fails with the following message in mock server\r\n\r\n**didn&#39;t match expectation:**\r\n**because:**\r\n\r\n  **method matched** \r\n\r\n  **path matched**\r\n\r\n  **body matched**\r\n\r\n  **headers didn&#39;t match**\r\n\r\nAs I am using Spring&#39;s MediaType.MULTIPART_FORM_DATA, behind the scenes it appends boundary value and the header finally becomes like the following\r\n\r\n    &quot;multipart/form data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot;\r\n\r\nSimilar to spring-boot application I am setting set the expectation in Mockserver  application as \r\n\r\n    .withContentType(MediaType.MULTIPART_FORM_DATA))\r\n\r\nHowever, Mockserver doesn&#39;t append any boundary values.\r\n\r\nDue to this, my request doesn&#39;t match the expectation and it fails saying headers didn&#39;t match.\r\n\r\n\r\nFollowing is what I get in the error message in mock server:\r\n\r\n \r\n\r\n     didn&#39;t match expectation:\r\n      {\r\n        &quot;httpRequest&quot; : {\r\n          &quot;method&quot; : &quot;POST&quot;,\r\n          &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\r\n          &quot;headers&quot; : {\r\n            &quot;content-type&quot; : [ &quot;multipart/form-data&quot; ]\r\n          }\r\n        },\r\n        &quot;httpResponseClassCallback&quot; : {\r\n          &quot;callbackClass&quot; : &quot;client.mock.MockServer$MockServerTestCallback&quot;\r\n        },\r\n        &quot;id&quot; : &quot;5ad06177-2fb7-4a1e-a67d-3efd4aad451e&quot;,\r\n        &quot;priority&quot; : 0,\r\n        &quot;timeToLive&quot; : {\r\n          &quot;unlimited&quot; : true\r\n        },\r\n        &quot;times&quot; : {\r\n          &quot;unlimited&quot; : true\r\n        }\r\n      }\r\n     because:\r\n      method matched\r\n      path matched\r\n      body matched\r\n      headers didn&#39;t match\r\n\r\nand the request received in mock server:\r\n\r\n    {\r\n        &quot;method&quot; : &quot;POST&quot;,\r\n        &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\r\n        &quot;headers&quot; : {\r\n          &quot;content-length&quot; : [ &quot;187787&quot; ],\r\n          &quot;X-Forwarded-Proto&quot; : [ &quot;https&quot; ],\r\n          &quot;X-Forwarded-Port&quot; : [ &quot;443&quot; ],\r\n          &quot;X-Forwarded-For&quot; : [ &quot;10.227.150.116&quot; ],\r\n          &quot;X-Amzn-Trace-Id&quot; : [ &quot;Root=1-6522a19a-0f4fcbe5241bf6491903bb64&quot; ],\r\n          &quot;User-Agent&quot; : [ &quot;Java/1.8.0_361&quot; ],\r\n          &quot;Host&quot; : [ &quot;mock server url&quot; ],\r\n          &quot;Content-Type&quot; : [ &quot;multipart/form-data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot; ],\r\n          &quot;Accept&quot; : [ &quot;text/plain, application/json, application/*+json, */*&quot; ]\r\n        },\r\n        &quot;keepAlive&quot; : true,\r\n        &quot;secure&quot; : false,\r\n         ...\r\n         ...\r\n\r\nIs there a way I can match the incoming headers in mock-server?","title":"spring boot MediaType.MULTIPART_FORM_DATA_VALUE doesn&#39;t match with org.mock-server MediaType.MULTIPART_FORM_DATA","body":"<p>I have a Spring boot application wherein I am trying to post a byte array data to a Mock server(org.mock-server) endpoint that I configured in my local for development and testing purposes.</p>\n<p>I am using 5.13.2 version of mockserver. Following is the dependency in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n            &lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;5.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>As I post the data using rest template it fails with the following message in mock server</p>\n<p><strong>didn't match expectation:</strong>\n<strong>because:</strong></p>\n<p><strong>method matched</strong></p>\n<p><strong>path matched</strong></p>\n<p><strong>body matched</strong></p>\n<p><strong>headers didn't match</strong></p>\n<p>As I am using Spring's MediaType.MULTIPART_FORM_DATA, behind the scenes it appends boundary value and the header finally becomes like the following</p>\n<pre><code>&quot;multipart/form data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot;\n</code></pre>\n<p>Similar to spring-boot application I am setting set the expectation in Mockserver  application as</p>\n<pre><code>.withContentType(MediaType.MULTIPART_FORM_DATA))\n</code></pre>\n<p>However, Mockserver doesn't append any boundary values.</p>\n<p>Due to this, my request doesn't match the expectation and it fails saying headers didn't match.</p>\n<p>Following is what I get in the error message in mock server:</p>\n<pre><code> didn't match expectation:\n  {\n    &quot;httpRequest&quot; : {\n      &quot;method&quot; : &quot;POST&quot;,\n      &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\n      &quot;headers&quot; : {\n        &quot;content-type&quot; : [ &quot;multipart/form-data&quot; ]\n      }\n    },\n    &quot;httpResponseClassCallback&quot; : {\n      &quot;callbackClass&quot; : &quot;client.mock.MockServer$MockServerTestCallback&quot;\n    },\n    &quot;id&quot; : &quot;5ad06177-2fb7-4a1e-a67d-3efd4aad451e&quot;,\n    &quot;priority&quot; : 0,\n    &quot;timeToLive&quot; : {\n      &quot;unlimited&quot; : true\n    },\n    &quot;times&quot; : {\n      &quot;unlimited&quot; : true\n    }\n  }\n because:\n  method matched\n  path matched\n  body matched\n  headers didn't match\n</code></pre>\n<p>and the request received in mock server:</p>\n<pre><code>{\n    &quot;method&quot; : &quot;POST&quot;,\n    &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\n    &quot;headers&quot; : {\n      &quot;content-length&quot; : [ &quot;187787&quot; ],\n      &quot;X-Forwarded-Proto&quot; : [ &quot;https&quot; ],\n      &quot;X-Forwarded-Port&quot; : [ &quot;443&quot; ],\n      &quot;X-Forwarded-For&quot; : [ &quot;10.227.150.116&quot; ],\n      &quot;X-Amzn-Trace-Id&quot; : [ &quot;Root=1-6522a19a-0f4fcbe5241bf6491903bb64&quot; ],\n      &quot;User-Agent&quot; : [ &quot;Java/1.8.0_361&quot; ],\n      &quot;Host&quot; : [ &quot;mock server url&quot; ],\n      &quot;Content-Type&quot; : [ &quot;multipart/form-data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot; ],\n      &quot;Accept&quot; : [ &quot;text/plain, application/json, application/*+json, */*&quot; ]\n    },\n    &quot;keepAlive&quot; : true,\n    &quot;secure&quot; : false,\n     ...\n     ...\n</code></pre>\n<p>Is there a way I can match the incoming headers in mock-server?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":4,"creation_date":1696735104,"post_id":77252174,"comment_id":136190611,"body_markdown":"`the iteration value is not carrying over from the method consistently` What exactly does that mean? `Is it possible to prevent the variables from a method from being destroyed?` Again, what exactly does that mean? Variables vanish when their scope ends.","body":"<code>the iteration value is not carrying over from the method consistently</code> What exactly does that mean? <code>Is it possible to prevent the variables from a method from being destroyed?</code> Again, what exactly does that mean? Variables vanish when their scope ends."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1696735533,"post_id":77252174,"comment_id":136190626,"body_markdown":"Rest `j` back to `0` when calling `draw` - or better yet, making a local variable","body":"Rest <code>j</code> back to <code>0</code> when calling <code>draw</code> - or better yet, making a local variable"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":6,"creation_date":1696739453,"post_id":77252174,"comment_id":136190785,"body_markdown":"BTW Java&#39;s `Collections` class provides a `shuffle()` method that basically does this for you.  Just shuffle your deck after putting it into a `List`, then use `remove()` to pull out one card at a time.  Doesn&#39;t matter which card, after a shuffle the order will be random.","body":"BTW Java&#39;s <code>Collections</code> class provides a <code>shuffle()</code> method that basically does this for you.  Just shuffle your deck after putting it into a <code>List</code>, then use <code>remove()</code> to pull out one card at a time.  Doesn&#39;t matter which card, after a shuffle the order will be random."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696757485,"post_id":77252174,"comment_id":136192040,"body_markdown":"You variables are already instance variables - so their values will persist between method calls. The porblem is you are not reseting `j` variable between call by setting it to 0. I dont think `j` needs to be an instance variable.","body":"You variables are already instance variables - so their values will persist between method calls. The porblem is you are not reseting <code>j</code> variable between call by setting it to 0. I dont think <code>j</code> needs to be an instance variable."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1696760835,"post_id":77252174,"comment_id":136192341,"body_markdown":"How to draw n random cards (which you have implemented as Strings): `List&lt;String&gt; cards = new ArrayList&lt;&gt;(Arrays.asList(DeckOfCards)); Collections.shuffle(cards); List&lt;String&gt; hand = cards.subList(0, n);`","body":"How to draw n random cards (which you have implemented as Strings): <code>List&lt;String&gt; cards = new ArrayList&lt;&gt;(Arrays.asList(DeckOfCards)); Collections.shuffle(cards); List&lt;String&gt; hand = cards.subList(0, n);</code>"},{"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"score":0,"creation_date":1696793130,"post_id":77252174,"comment_id":136195495,"body_markdown":"@tkausl I mean that I want the i value saved after running the method and carrying over the next time I run the method.   I understand the trash collector destroys it if there is no reference to it (i.e. when the method ends) so it is eventually destroyed, but I am not sure how to save the iteration and carry it over to every instance of the method &#39;draw&#39; being run.","body":"@tkausl I mean that I want the i value saved after running the method and carrying over the next time I run the method.   I understand the trash collector destroys it if there is no reference to it (i.e. when the method ends) so it is eventually destroyed, but I am not sure how to save the iteration and carry it over to every instance of the method &#39;draw&#39; being run."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696922679,"post_id":77252174,"comment_id":136211116,"body_markdown":"I&#39;d go with the suggestion in the comment from Bohemian. Shuffle the deck in the `Deck` constructor.  When a card is drawn, remove it from the head (or tail) of the list. You could, instead, have a `nextCard` counter that indexes the `List` and gets incremented when a card is drawn.","body":"I&#39;d go with the suggestion in the comment from Bohemian. Shuffle the deck in the <code>Deck</code> constructor.  When a card is drawn, remove it from the head (or tail) of the list. You could, instead, have a <code>nextCard</code> counter that indexes the <code>List</code> and gets incremented when a card is drawn."}],"answers":[{"comments":[{"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"score":0,"creation_date":1696793280,"post_id":77253812,"comment_id":136195510,"body_markdown":"definitely does, thank you.","body":"definitely does, thank you."}],"tags":[],"owner":{"account_id":27736279,"reputation":1,"user_id":21173797,"display_name":"obaibula"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696771949,"creation_date":1696771949,"answer_id":77253812,"question_id":77252174,"body_markdown":"First, ensure that you initialize your &quot;alreadyDrawnCards&quot; array with &quot;-1&quot; values using an **instance initializer block**. This is important because when an array of ints is instantiated in Java, it will always have a card with a value of &quot;0&quot; in java:\r\n\r\n    {\r\n        Arrays.fill(alreadyDrawnCards, -1);\r\n    }\r\n\r\nNext, let&#39;s fix the code to correctly search for duplicates in the array. This is a brute-force approach, but let&#39;s focus on correctness before optimizing for performance:\r\n\r\n    for (var j = 0; j &lt; alreadyDrawnCards.length; j++) {\r\n            var alreadyDrawnCard = alreadyDrawnCards[j];\r\n            if (drawnCard == alreadyDrawnCard) {\r\n                drawnCard = (int) (Math.random() * 52);\r\n                j = 0;\r\n            }\r\n        }\r\n\r\nAdditionally, there&#39;s no need to check if i &lt; 53 here because you&#39;ll encounter an exception regardless. Instead, you can add the following code at the beginning of your draw method to handle an empty deck gracefully::\r\n\r\n    if(i == 52){\r\n            throw new ArrayIndexOutOfBoundsException(&quot;Deck is empty&quot;);\r\n        }\r\n\r\nThis ensures that your code correctly handles the case when the deck is empty.\r\n\r\n\r\n\r\nHope it helps.","title":"Java variable passing from method - a deck draw program","body":"<p>First, ensure that you initialize your &quot;alreadyDrawnCards&quot; array with &quot;-1&quot; values using an <strong>instance initializer block</strong>. This is important because when an array of ints is instantiated in Java, it will always have a card with a value of &quot;0&quot; in java:</p>\n<pre><code>{\n    Arrays.fill(alreadyDrawnCards, -1);\n}\n</code></pre>\n<p>Next, let's fix the code to correctly search for duplicates in the array. This is a brute-force approach, but let's focus on correctness before optimizing for performance:</p>\n<pre><code>for (var j = 0; j &lt; alreadyDrawnCards.length; j++) {\n        var alreadyDrawnCard = alreadyDrawnCards[j];\n        if (drawnCard == alreadyDrawnCard) {\n            drawnCard = (int) (Math.random() * 52);\n            j = 0;\n        }\n    }\n</code></pre>\n<p>Additionally, there's no need to check if i &lt; 53 here because you'll encounter an exception regardless. Instead, you can add the following code at the beginning of your draw method to handle an empty deck gracefully::</p>\n<pre><code>if(i == 52){\n        throw new ArrayIndexOutOfBoundsException(&quot;Deck is empty&quot;);\n    }\n</code></pre>\n<p>This ensures that your code correctly handles the case when the deck is empty.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696771949,"creation_date":1696734527,"question_id":77252174,"body_markdown":"The method of a class to draw a random card from a deck and prevent repeat draws is failing to do so because the iteration value is not carrying over from the method consistently.  Is it possible to prevent the variables from a method from being destroyed?   \r\n\r\nHere is the class and method that I&#39;m using for the deck draw portion of the code:\r\n\r\n    public class Deck\r\n    {\r\n       // Array for the deck of cards\r\n       private String[] DeckOfCards =\r\n       { &quot; 2 of spades &quot;, &quot; 3 of spades &quot;, &quot; 4 of spades &quot;, &quot; 5 of spades &quot;, &quot; 6 of spades &quot;, &quot; 7 of spades        \r\n         &quot;, &quot; 8 of spades &quot;, &quot; 9 of spades &quot;, &quot; 10 of spades &quot;, &quot; Jack of spades &quot;, &quot; Queen of spades &quot;,\r\n         &quot; King of Spades &quot;, &quot; Ace of spades &quot;, &quot; 2 of clubs &quot;, &quot; 3 of clubs &quot;, &quot; 4 of clubs &quot;, &quot; 5 of        \r\n         clubs &quot;, &quot; 6 of clubs &quot;, &quot; 7 of clubs &quot;, &quot; 8 of clubs &quot;, &quot; 9 of clubs &quot;, &quot; 10 of clubs &quot;, \r\n         &quot; Jack of clubs &quot;, &quot; Queen of clubs &quot;, &quot; King of Clubs &quot;, &quot; Ace of clubs &quot;, &quot; 2 of diamonds &quot;,\r\n         &quot; 3 of diamonds &quot;, &quot; 4 of diamonds &quot;, &quot; 5 of diamonds &quot;, &quot; 6 of diamonds &quot;, &quot; 7 of diamonds &quot;,\r\n         &quot; 8 of diamonds &quot;, &quot; 9 of diamonds &quot;, &quot; 10 of diamonds &quot;, &quot; Jack of diamonds &quot;, \r\n         &quot; Queen of     diamonds &quot;, &quot; King of Diamonds &quot;, &quot; Ace of diamonds &quot;, &quot; 2 of hearts &quot;, \r\n         &quot; 3 of hearts &quot;, &quot; 4 of hearts &quot;, &quot; 5 of hearts &quot;, &quot; 6 of hearts &quot;, &quot; 7 of hearts &quot;,\r\n         &quot; 8 of hearts &quot;, &quot; 9 of hearts &quot;, &quot; 10 of hearts &quot;, &quot; Jack of hearts &quot;, &quot; Queen of hearts &quot;,\r\n         &quot; King of Hearts &quot;, &quot; Ace of hearts &quot; };\r\n   \r\n       // Declaring other variables\r\n       int[] alreadyDrawnCards = new int[53];\r\n       int drawnCard;\r\n       int i = 0;\r\n       int j = 0;\r\n   \r\n       /**\r\n        *  method used to draw cards\r\n        */\r\n       protected int draw()\r\n       {      \r\n      \r\n          drawnCard = (int)(Math.random() * 53);\r\n      \r\n          while(j &lt; i)\r\n          {\r\n             if(drawnCard == alreadyDrawnCards[j])\r\n             {\r\n            \r\n                drawnCard = (int)(Math.random() * 53);\r\n                j = -1;         \r\n             }\r\n         \r\n             j++;\r\n          }\r\n      \r\n          if(i &lt; 53) \r\n          {\r\n             alreadyDrawnCards[i] = drawnCard; // add drawn card to drawn cards\r\n             i++;\r\n          }\r\n      \r\n          System.out.println(&quot;The&quot; + DeckOfCards[drawnCard] + &quot;was drawn from the deck&quot;);\r\n      \r\n          return drawnCard;\r\n       }\r\n    }\r\n\r\nThe code for the invocation of the method is:  \r\n\r\n    public class BlackjackGameSimulator\r\n    {\r\n\r\n       public static void main(String[] args)\r\n       {\r\n          Deck BlackJackDeck = new Deck();\r\n          BlackJackDeck.draw();\r\n\r\n       }\r\n    }\r\n\r\n","title":"Java variable passing from method - a deck draw program","body":"<p>The method of a class to draw a random card from a deck and prevent repeat draws is failing to do so because the iteration value is not carrying over from the method consistently.  Is it possible to prevent the variables from a method from being destroyed?</p>\n<p>Here is the class and method that I'm using for the deck draw portion of the code:</p>\n<pre><code>public class Deck\n{\n   // Array for the deck of cards\n   private String[] DeckOfCards =\n   { &quot; 2 of spades &quot;, &quot; 3 of spades &quot;, &quot; 4 of spades &quot;, &quot; 5 of spades &quot;, &quot; 6 of spades &quot;, &quot; 7 of spades        \n     &quot;, &quot; 8 of spades &quot;, &quot; 9 of spades &quot;, &quot; 10 of spades &quot;, &quot; Jack of spades &quot;, &quot; Queen of spades &quot;,\n     &quot; King of Spades &quot;, &quot; Ace of spades &quot;, &quot; 2 of clubs &quot;, &quot; 3 of clubs &quot;, &quot; 4 of clubs &quot;, &quot; 5 of        \n     clubs &quot;, &quot; 6 of clubs &quot;, &quot; 7 of clubs &quot;, &quot; 8 of clubs &quot;, &quot; 9 of clubs &quot;, &quot; 10 of clubs &quot;, \n     &quot; Jack of clubs &quot;, &quot; Queen of clubs &quot;, &quot; King of Clubs &quot;, &quot; Ace of clubs &quot;, &quot; 2 of diamonds &quot;,\n     &quot; 3 of diamonds &quot;, &quot; 4 of diamonds &quot;, &quot; 5 of diamonds &quot;, &quot; 6 of diamonds &quot;, &quot; 7 of diamonds &quot;,\n     &quot; 8 of diamonds &quot;, &quot; 9 of diamonds &quot;, &quot; 10 of diamonds &quot;, &quot; Jack of diamonds &quot;, \n     &quot; Queen of     diamonds &quot;, &quot; King of Diamonds &quot;, &quot; Ace of diamonds &quot;, &quot; 2 of hearts &quot;, \n     &quot; 3 of hearts &quot;, &quot; 4 of hearts &quot;, &quot; 5 of hearts &quot;, &quot; 6 of hearts &quot;, &quot; 7 of hearts &quot;,\n     &quot; 8 of hearts &quot;, &quot; 9 of hearts &quot;, &quot; 10 of hearts &quot;, &quot; Jack of hearts &quot;, &quot; Queen of hearts &quot;,\n     &quot; King of Hearts &quot;, &quot; Ace of hearts &quot; };\n\n   // Declaring other variables\n   int[] alreadyDrawnCards = new int[53];\n   int drawnCard;\n   int i = 0;\n   int j = 0;\n\n   /**\n    *  method used to draw cards\n    */\n   protected int draw()\n   {      \n  \n      drawnCard = (int)(Math.random() * 53);\n  \n      while(j &lt; i)\n      {\n         if(drawnCard == alreadyDrawnCards[j])\n         {\n        \n            drawnCard = (int)(Math.random() * 53);\n            j = -1;         \n         }\n     \n         j++;\n      }\n  \n      if(i &lt; 53) \n      {\n         alreadyDrawnCards[i] = drawnCard; // add drawn card to drawn cards\n         i++;\n      }\n  \n      System.out.println(&quot;The&quot; + DeckOfCards[drawnCard] + &quot;was drawn from the deck&quot;);\n  \n      return drawnCard;\n   }\n}\n</code></pre>\n<p>The code for the invocation of the method is:</p>\n<pre><code>public class BlackjackGameSimulator\n{\n\n   public static void main(String[] args)\n   {\n      Deck BlackJackDeck = new Deck();\n      BlackJackDeck.draw();\n\n   }\n}\n</code></pre>\n"},{"tags":["java","swing","jinternalframe","jdesktoppane"],"answers":[{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1321365767,"post_id":8137079,"comment_id":9985072,"body_markdown":"First, this doesn&#39;t seem to work - i.e. it doesn&#39;t solve the moving outside of the JDesktopPane problem. Second, I&#39;m looking for a solution at the JDesktopPane or JInternalFrame level, not the JFrame level. (I want to use these components as part of a larger GUI.)","body":"First, this doesn&#39;t seem to work - i.e. it doesn&#39;t solve the moving outside of the JDesktopPane problem. Second, I&#39;m looking for a solution at the JDesktopPane or JInternalFrame level, not the JFrame level. (I want to use these components as part of a larger GUI.)"}],"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321363784,"creation_date":1321363784,"answer_id":8137079,"question_id":8136944,"body_markdown":"Try to set `FlowLayout` of JFrame and use `add()` method to add JDesktopPane.\r\n\r\n    frame.setLayout(new FlowLayout());\r\n    tableDisplay.setPreferredSize(new Dimension(100,100));\r\n    frame.add(tableDisplay);","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>Try to set <code>FlowLayout</code> of JFrame and use <code>add()</code> method to add JDesktopPane.</p>\n\n<pre><code>frame.setLayout(new FlowLayout());\ntableDisplay.setPreferredSize(new Dimension(100,100));\nframe.add(tableDisplay);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1321445261,"post_id":8138986,"comment_id":10005307,"body_markdown":"+1 - a cracking answer, thanks. I think I&#39;ve solved the unresponsiveness issue (I&#39;ll post my solution separately).","body":"+1 - a cracking answer, thanks. I think I&#39;ve solved the unresponsiveness issue (I&#39;ll post my solution separately)."},{"owner":{"account_id":1323185,"reputation":966,"user_id":1268557,"accept_rate":66,"display_name":"Syed Muhammad Mubashir"},"score":0,"creation_date":1383100252,"post_id":8138986,"comment_id":29217265,"body_markdown":"+1 for help as i am getting same problem. Really thanks for post.","body":"+1 for help as i am getting same problem. Really thanks for post."},{"owner":{"account_id":1361924,"reputation":701,"user_id":1299115,"display_name":"philburk"},"score":0,"creation_date":1633309151,"post_id":8138986,"comment_id":122717693,"body_markdown":"If I use this trick and then try to minimize the JInternalFrames then I get an NPR, null Window w.","body":"If I use this trick and then try to minimize the JInternalFrames then I get an NPR, null Window w."},{"owner":{"account_id":4009160,"reputation":575,"user_id":3303059,"display_name":"ericek111"},"score":0,"creation_date":1696714650,"post_id":8138986,"comment_id":136189441,"body_markdown":"Careful, this doesn&#39;t work with `dragMode == FASTER_DRAG_MODE` (the default), because `dragFrameFaster` in `DefaultDesktopManager` does not call `setBoundsForFrame`. For this to &quot;work&quot;, you need to force the drag mode to slow: `background.setDragMode(1337);`.","body":"Careful, this doesn&#39;t work with <code>dragMode == FASTER_DRAG_MODE</code> (the default), because <code>dragFrameFaster</code> in <code>DefaultDesktopManager</code> does not call <code>setBoundsForFrame</code>. For this to &quot;work&quot;, you need to force the drag mode to slow: <code>background.setDragMode(1337);</code>."}],"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1321373276,"creation_date":1321371775,"answer_id":8138986,"question_id":8136944,"body_markdown":"The collaborator which is responsible for doing the move/resize is the DesktopPaneManager. So I would try to limit the movement to within the pane. Here&#39;s a quick &amp; dirty proof of concept:\r\n\r\n        JDesktopPane background = new JDesktopPane();\r\n        JInternalFrame internalFrame = new JInternalFrame(&quot;Internal Frame&quot;,\r\n                true, true, true, true);\r\n        DesktopManager manager = new DefaultDesktopManager() {\r\n            /** This moves the &lt;code&gt;JComponent&lt;/code&gt; and repaints the damaged areas. */\r\n            @Override\r\n            public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\r\n                boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\r\n                if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) return;\r\n                f.setBounds(newX, newY, newWidth, newHeight);\r\n                if(didResize) {\r\n                    f.validate();\r\n                } \r\n            }\r\n          \r\n            protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\r\n                if (newX &lt; 0 || newY &lt; 0) return false;\r\n                if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\r\n                if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\r\n                return true;\r\n            }\r\n            \r\n        };\r\n        background.setDesktopManager(manager);\r\n\r\nThere are some issues to solve, obviously :-) F.i. \r\n\r\n- use the manager as appropriate for the LAF, which could be done by implementing a wrapper DesktopManager which delegates everything else to the LAF installed\r\n- check for side-effects (the drag appears a unresponsive after having hit a wall, there might be other things needed)\r\n\r\n**Edit**\r\n\r\njust to clarify: with &quot;unresponsive&quot; I mean that the user has to release and press/drag again (once the internal frame has hit the desktop bounds) to further move the. That&#39;s not overly surprising, as the BorderListener (that&#39;s the mouseListener installed by BasicInternalFrame) keeps some state related to the initial press and then requests re-locates relative to that initial location. Dragging the mouse with the frame stuck somewhere confuses that internal state. \r\n\r\nInterestingly, looking at the code, it seems like there had been intentions to limit the movement to not push it to the outside,\r\n\r\n\t\t// Make sure we stay in-bounds\r\n\t\tif(newX + i.left &lt;= -__x)\r\n\t\t    newX = -__x - i.left + 1;\r\n\t\tif(newY + i.top &lt;= -__y)\r\n\t\t    newY = -__y - i.top + 1;\r\n\t\tif(newX + __x + i.right &gt;= pWidth)\r\n\t\t    newX = pWidth - __x - i.right - 1;\r\n\t\tif(newY + __y + i.bottom &gt;= pHeight)\r\n\t\t    newY =  pHeight - __y - i.bottom - 1;\r\n\r\nthat&#39;s relative to the current mouse location, though. ","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>The collaborator which is responsible for doing the move/resize is the DesktopPaneManager. So I would try to limit the movement to within the pane. Here's a quick &amp; dirty proof of concept:</p>\n\n<pre><code>    JDesktopPane background = new JDesktopPane();\n    JInternalFrame internalFrame = new JInternalFrame(\"Internal Frame\",\n            true, true, true, true);\n    DesktopManager manager = new DefaultDesktopManager() {\n        /** This moves the &lt;code&gt;JComponent&lt;/code&gt; and repaints the damaged areas. */\n        @Override\n        public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\n            boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\n            if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) return;\n            f.setBounds(newX, newY, newWidth, newHeight);\n            if(didResize) {\n                f.validate();\n            } \n        }\n\n        protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\n            if (newX &lt; 0 || newY &lt; 0) return false;\n            if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\n            if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\n            return true;\n        }\n\n    };\n    background.setDesktopManager(manager);\n</code></pre>\n\n<p>There are some issues to solve, obviously :-) F.i. </p>\n\n<ul>\n<li>use the manager as appropriate for the LAF, which could be done by implementing a wrapper DesktopManager which delegates everything else to the LAF installed</li>\n<li>check for side-effects (the drag appears a unresponsive after having hit a wall, there might be other things needed)</li>\n</ul>\n\n<p><strong>Edit</strong></p>\n\n<p>just to clarify: with \"unresponsive\" I mean that the user has to release and press/drag again (once the internal frame has hit the desktop bounds) to further move the. That's not overly surprising, as the BorderListener (that's the mouseListener installed by BasicInternalFrame) keeps some state related to the initial press and then requests re-locates relative to that initial location. Dragging the mouse with the frame stuck somewhere confuses that internal state. </p>\n\n<p>Interestingly, looking at the code, it seems like there had been intentions to limit the movement to not push it to the outside,</p>\n\n<pre><code>    // Make sure we stay in-bounds\n    if(newX + i.left &lt;= -__x)\n        newX = -__x - i.left + 1;\n    if(newY + i.top &lt;= -__y)\n        newY = -__y - i.top + 1;\n    if(newX + __x + i.right &gt;= pWidth)\n        newX = pWidth - __x - i.right - 1;\n    if(newY + __y + i.bottom &gt;= pHeight)\n        newY =  pHeight - __y - i.bottom - 1;\n</code></pre>\n\n<p>that's relative to the current mouse location, though. </p>\n"},{"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1321447504,"creation_date":1321445505,"answer_id":8151453,"question_id":8136944,"body_markdown":"Full credit to kleopatra for pointing me in the right direction.\r\n\r\nI think I&#39;ve solved the unresponsiveness issue, and am sharing my solution here. Following kleopatra&#39;s answer, if the mouse point is outside of the pane, the internal frame is at the edge of the pane. Also, this continues to follow the mouse - i.e. if you move the mouse off the bottom of the pane, and then round to the right hand side of the pane, the frame will follow along the bottom of the pane, and then up the right sand of the pane.\r\n\r\n    public class BoundedDesktopManager extends DefaultDesktopManager {\r\n       \r\n      @Override\r\n      public void beginDraggingFrame(JComponent f) {\r\n        // Don&#39;t do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\r\n      }\r\n    \r\n      @Override\r\n      public void beginResizingFrame(JComponent f, int direction) {\r\n        // Don&#39;t do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\r\n      }\r\n    \r\n      @Override\r\n      public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\r\n        boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\r\n        if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) {\r\n          Container parent = f.getParent();\r\n          Dimension parentSize = parent.getSize();\r\n          int boundedX = (int) Math.min(Math.max(0, newX), parentSize.getWidth() - newWidth);\r\n          int boundedY = (int) Math.min(Math.max(0, newY), parentSize.getHeight() - newHeight);\r\n          f.setBounds(boundedX, boundedY, newWidth, newHeight);\r\n        } else {\r\n          f.setBounds(newX, newY, newWidth, newHeight);\r\n        }\r\n        if(didResize) {\r\n          f.validate();\r\n        }\r\n      }\r\n    \r\n      protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\r\n        if (newX &lt; 0 || newY &lt; 0) return false;\r\n        if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\r\n        if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\r\n        return true;\r\n      }\r\n    }","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>Full credit to kleopatra for pointing me in the right direction.</p>\n\n<p>I think I've solved the unresponsiveness issue, and am sharing my solution here. Following kleopatra's answer, if the mouse point is outside of the pane, the internal frame is at the edge of the pane. Also, this continues to follow the mouse - i.e. if you move the mouse off the bottom of the pane, and then round to the right hand side of the pane, the frame will follow along the bottom of the pane, and then up the right sand of the pane.</p>\n\n<pre><code>public class BoundedDesktopManager extends DefaultDesktopManager {\n\n  @Override\n  public void beginDraggingFrame(JComponent f) {\n    // Don't do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\n  }\n\n  @Override\n  public void beginResizingFrame(JComponent f, int direction) {\n    // Don't do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\n  }\n\n  @Override\n  public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\n    boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\n    if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) {\n      Container parent = f.getParent();\n      Dimension parentSize = parent.getSize();\n      int boundedX = (int) Math.min(Math.max(0, newX), parentSize.getWidth() - newWidth);\n      int boundedY = (int) Math.min(Math.max(0, newY), parentSize.getHeight() - newHeight);\n      f.setBounds(boundedX, boundedY, newWidth, newHeight);\n    } else {\n      f.setBounds(newX, newY, newWidth, newHeight);\n    }\n    if(didResize) {\n      f.validate();\n    }\n  }\n\n  protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\n    if (newX &lt; 0 || newY &lt; 0) return false;\n    if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\n    if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6848439,"reputation":191,"user_id":5266381,"display_name":"Mike Lampton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440547210,"creation_date":1440547210,"answer_id":32215986,"question_id":8136944,"body_markdown":"It is important that the top of the JInternalFrame not get hidden, since that is where its grab bar and control buttons are located.  So, as a last step before setting bounds, make sure that your y value is not negative: for example, with a statement like y = Math.max(0, y).","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>It is important that the top of the JInternalFrame not get hidden, since that is where its grab bar and control buttons are located.  So, as a last step before setting bounds, make sure that your y value is not negative: for example, with a statement like y = Math.max(0, y).</p>\n"},{"tags":[],"owner":{"account_id":4009160,"reputation":575,"user_id":3303059,"display_name":"ericek111"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696771848,"creation_date":1696716374,"answer_id":77251667,"question_id":8136944,"body_markdown":"This fully satisfies my needs. It keeps the dragged frame fully visible and it &quot;slides&quot; the window on the edge of the desktop pane area when the mouse cursor is moved beyond it.\r\n\r\n```java\r\nJDesktopPane desktop = new JDesktopPane();\r\nDesktopManager manager = new DefaultDesktopManager() {\r\n    @Override\r\n    public void dragFrame(JComponent f, int newX, int newY) {\r\n        JDesktopPane desktop = ((JInternalFrame) f).getDesktopPane();\r\n        newX = Math.clamp(newX, 0, desktop.getWidth() - f.getWidth());\r\n        newY = Math.clamp(newY, 0, desktop.getHeight() - f.getHeight());\r\n        super.dragFrame(f, newX, newY);\r\n    }\r\n};\r\nbackground.setDesktopManager(desktop);\r\n```\r\n`Math.clamp` is available in Java 21. [Implement it yourself](https://stackoverflow.com/a/16657020/3303059) if needed.","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>This fully satisfies my needs. It keeps the dragged frame fully visible and it &quot;slides&quot; the window on the edge of the desktop pane area when the mouse cursor is moved beyond it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDesktopPane desktop = new JDesktopPane();\nDesktopManager manager = new DefaultDesktopManager() {\n    @Override\n    public void dragFrame(JComponent f, int newX, int newY) {\n        JDesktopPane desktop = ((JInternalFrame) f).getDesktopPane();\n        newX = Math.clamp(newX, 0, desktop.getWidth() - f.getWidth());\n        newY = Math.clamp(newY, 0, desktop.getHeight() - f.getHeight());\n        super.dragFrame(f, newX, newY);\n    }\n};\nbackground.setDesktopManager(desktop);\n</code></pre>\n<p><code>Math.clamp</code> is available in Java 21. <a href=\"https://stackoverflow.com/a/16657020/3303059\">Implement it yourself</a> if needed.</p>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7444,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":8138986,"answer_count":5,"score":8,"last_activity_date":1696771848,"creation_date":1321363140,"question_id":8136944,"body_markdown":"When I have a JInternalFrame in a JDesktopPane, the JInternalFrame is movable (which is good). However, it&#39;s possible to move it outside of the visible scope of the JDesktopPane (which I&#39;m not so fond of)\r\n\r\nTo see for yourself, here&#39;s some sample code:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n      JFrame frame = new JFrame(&quot;JDesktopPane&quot;);\r\n      JDesktopPane tableDisplay = new JDesktopPane();\r\n    \r\n      JInternalFrame internalFrame = new JInternalFrame(&quot;JInternalFrame&quot;,true,true,true,true);\r\n      internalFrame.setContentPane(new JLabel(&quot;Content&quot;));\r\n      internalFrame.pack();\r\n      internalFrame.setVisible(true);\r\n      tableDisplay.add(internalFrame, JDesktopPane.POPUP_LAYER);\r\n    \r\n      frame.setContentPane(tableDisplay);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setMinimumSize(new Dimension(400, 300));\r\n      frame.setVisible(true);\r\n    }\r\n\r\nIs it possible to set either the JInternalFrame or JDesktopPane so that they won&#39;t allow this?","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>When I have a JInternalFrame in a JDesktopPane, the JInternalFrame is movable (which is good). However, it's possible to move it outside of the visible scope of the JDesktopPane (which I'm not so fond of)</p>\n\n<p>To see for yourself, here's some sample code:</p>\n\n<pre><code>public static void main(String[] args) {\n\n  JFrame frame = new JFrame(\"JDesktopPane\");\n  JDesktopPane tableDisplay = new JDesktopPane();\n\n  JInternalFrame internalFrame = new JInternalFrame(\"JInternalFrame\",true,true,true,true);\n  internalFrame.setContentPane(new JLabel(\"Content\"));\n  internalFrame.pack();\n  internalFrame.setVisible(true);\n  tableDisplay.add(internalFrame, JDesktopPane.POPUP_LAYER);\n\n  frame.setContentPane(tableDisplay);\n  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  frame.setMinimumSize(new Dimension(400, 300));\n  frame.setVisible(true);\n}\n</code></pre>\n\n<p>Is it possible to set either the JInternalFrame or JDesktopPane so that they won't allow this?</p>\n"},{"tags":["java","localization"],"answers":[{"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":0,"creation_date":1381230515,"post_id":19245944,"comment_id":28488657,"body_markdown":"It&#39;s not what I search. I only whant to know whether the exception contains something, which can be shown to the user (in his language) or not.","body":"It&#39;s not what I search. I only whant to know whether the exception contains something, which can be shown to the user (in his language) or not."},{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":8,"creation_date":1381230844,"post_id":19245944,"comment_id":28488856,"body_markdown":"@SergiyMedvynskyy I&#39;m afraid that is generally not possible... For example, any code can `throw new NumberFormatException(&quot;Nicht gut&quot;)` from a validation code - but it is not possible to tell which language it was. Also, on a different thought: I would not let the user see any exceptions. Use &quot;pokemon&quot; tactic: Catch them all, and handle them appropriately, and if there is something to be reported to the user, do it in a customised way.","body":"@SergiyMedvynskyy I&#39;m afraid that is generally not possible... For example, any code can <code>throw new NumberFormatException(&quot;Nicht gut&quot;)</code> from a validation code - but it is not possible to tell which language it was. Also, on a different thought: I would not let the user see any exceptions. Use &quot;pokemon&quot; tactic: Catch them all, and handle them appropriately, and if there is something to be reported to the user, do it in a customised way."},{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":1,"creation_date":1381232621,"post_id":19245944,"comment_id":28489868,"body_markdown":"It was also my approach, but I thought, probably exists a better way.","body":"It was also my approach, but I thought, probably exists a better way."}],"tags":[],"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381230054,"creation_date":1381230054,"answer_id":19245944,"question_id":19245881,"body_markdown":"You can simply use `getLocalizedMessage()` to display the message, the default implementation just calls `getMessage()`.\r\n\r\nFrom the [documentation of the Throwable class][1]:\r\n\r\n &gt; **public String getLocalizedMessage()**  \r\n &gt; Creates a localized description of this throwable. Subclasses may override this method in order to produce a locale-specific message. For subclasses that do not override this method, the default implementation returns the same result as getMessage().\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getLocalizedMessage%28%29","title":"Localized exceptions in java","body":"<p>You can simply use <code>getLocalizedMessage()</code> to display the message, the default implementation just calls <code>getMessage()</code>.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getLocalizedMessage%28%29\" rel=\"nofollow\">documentation of the Throwable class</a>:</p>\n\n<blockquote>\n  <p><strong>public String getLocalizedMessage()</strong><br>\n  Creates a localized description of this throwable. Subclasses may override this method in order to produce a locale-specific message. For subclasses that do not override this method, the default implementation returns the same result as getMessage().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696771347,"creation_date":1696764819,"answer_id":77253443,"question_id":19245881,"body_markdown":"This is a simple demo.\r\n\r\n    import java.util.Locale;\r\n    import java.util.MissingResourceException;\r\n    import java.util.Optional;\r\n    import java.util.ResourceBundle; \r\n    import javax.enterprise.inject.spi.BeanManager;\r\n    import javax.enterprise.inject.spi.CDI;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    public abstract class AbstractException extends RuntimeException {\r\n    \r\n    \t// get locale from request if you are using cdi\r\n \t    @Context\r\n\t    private HttpServletRequest request;\r\n    \r\n    \t@Override\r\n    \tpublic String getLocalizedMessage() {                \r\n            BeanManager beanManager = CDI.current().getBeanManager();\r\n\t\t    HttpServletRequest request = HttpServletRequest.class\r\n\t\t\t\t.cast(beanManager.getReference(beanManager.resolve(beanManager.getBeans(HttpServletRequest.class)),\r\n\t\t\t\t\t\tHttpServletRequest.class, beanManager.createCreationalContext(null)));\r\n\t\t\r\n    \t\tLocale locale = Optional.ofNullable(request).map(HttpServletRequest::getLocale)\r\n    \t\t\t\t.orElseGet(Locale::getDefault); \r\n\t\t    String message;\r\n\t\t    try {\r\n\t\t\t    message = ResourceBundle.getBundle(&quot;messages&quot;, locale).getString(getClass().getName());\r\n\t\t    } catch (MissingResourceException e) {\r\n\t\t    \tmessage = super.getLocalizedMessage();\r\n\t\t    }\r\n\t\t    return message;\r\n    \t}\r\n    }\r\n    public class ExceptionImpl extends AbstractException {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tthrow new ExceptionImpl();\r\n    \t}\r\n    }\r\nThe content of messages_en_US.properties:\r\n\r\n    ExceptionImpl=this is message!","title":"Localized exceptions in java","body":"<p>This is a simple demo.</p>\n<pre><code>import java.util.Locale;\nimport java.util.MissingResourceException;\nimport java.util.Optional;\nimport java.util.ResourceBundle; \nimport javax.enterprise.inject.spi.BeanManager;\nimport javax.enterprise.inject.spi.CDI;\nimport javax.servlet.http.HttpServletRequest;\n\npublic abstract class AbstractException extends RuntimeException {\n\n    // get locale from request if you are using cdi\n    @Context\n    private HttpServletRequest request;\n\n    @Override\n    public String getLocalizedMessage() {                \n        BeanManager beanManager = CDI.current().getBeanManager();\n        HttpServletRequest request = HttpServletRequest.class\n            .cast(beanManager.getReference(beanManager.resolve(beanManager.getBeans(HttpServletRequest.class)),\n                    HttpServletRequest.class, beanManager.createCreationalContext(null)));\n    \n        Locale locale = Optional.ofNullable(request).map(HttpServletRequest::getLocale)\n                .orElseGet(Locale::getDefault); \n        String message;\n        try {\n            message = ResourceBundle.getBundle(&quot;messages&quot;, locale).getString(getClass().getName());\n        } catch (MissingResourceException e) {\n            message = super.getLocalizedMessage();\n        }\n        return message;\n    }\n}\npublic class ExceptionImpl extends AbstractException {\n    public static void main(String[] args) {\n        throw new ExceptionImpl();\n    }\n}\n</code></pre>\n<p>The content of messages_en_US.properties:</p>\n<pre><code>ExceptionImpl=this is message!\n</code></pre>\n"}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9585,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1696771347,"creation_date":1381229891,"question_id":19245881,"body_markdown":"I have an interface for validation of user&#39;s input. To validate I use some standard Java validators and some custom ones. My custom validators throws a ParseException with a localized message on error. But I don&#39;t know whether Java or third party lib also uses localized messages. \r\n\r\nQuestion: how I get a hint in catch-block whether the exception has a localized message or not (a standard Java way, not a custom exception class/interface)?\r\n","title":"Localized exceptions in java","body":"<p>I have an interface for validation of user's input. To validate I use some standard Java validators and some custom ones. My custom validators throws a ParseException with a localized message on error. But I don't know whether Java or third party lib also uses localized messages. </p>\n\n<p>Question: how I get a hint in catch-block whether the exception has a localized message or not (a standard Java way, not a custom exception class/interface)?</p>\n"},{"tags":["java","spring-boot","security"],"answers":[{"tags":[],"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593035293,"creation_date":1593035293,"answer_id":62564599,"question_id":62563078,"body_markdown":"It actually took a while to understand this weakness and I have read a big part of https://cwe.mitre.org/data/definitions/732.html while doing it. So, the issue is, that when you create files using Java IO, they are created without considering system access rights. We usually don&#39;t want to enable everyone on the host to access the files we create by setting a default mask like `rw-rw-rw-` in Linux.\r\n\r\nUnfortunately Java IO has little means to restrict file access rights. The good thing is, Java&#39;s NIO has better means to do so. Please look into https://stackoverflow.com/questions/664432/how-do-i-programmatically-change-file-permissions whether it solves your problem.","title":"Fixing Incorrect Permission Assignment for Critical Resources (CWE 732)","body":"<p>It actually took a while to understand this weakness and I have read a big part of <a href=\"https://cwe.mitre.org/data/definitions/732.html\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/definitions/732.html</a> while doing it. So, the issue is, that when you create files using Java IO, they are created without considering system access rights. We usually don't want to enable everyone on the host to access the files we create by setting a default mask like <code>rw-rw-rw-</code> in Linux.</p>\n<p>Unfortunately Java IO has little means to restrict file access rights. The good thing is, Java's NIO has better means to do so. Please look into <a href=\"https://stackoverflow.com/questions/664432/how-do-i-programmatically-change-file-permissions\">How do I programmatically change file permissions?</a> whether it solves your problem.</p>\n"}],"owner":{"account_id":17852171,"reputation":21,"user_id":12967690,"display_name":"thomaswtx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9336,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696770140,"creation_date":1593028515,"question_id":62563078,"body_markdown":"I have been looking for solutions to this issue for awhile. Some of the resources I&#39;ve found have recommended using the java.nio library which hasn&#39;t corrected this issue for me. I am using Java, and this has been flagged in multiple places throughout my service. Some flagged examples...\r\n\r\n```private Writer writer```  \r\n```private FileOutputStream outputStream```  \r\n```outputStream = new FileOutputStream(file.getAbsolutePath(), true)```\r\n\r\nI found one other thread speaking about this particular vulnerability for something along the lines of...\r\n\r\n```File file = path.toFile()```  \r\n```File directory = new File(location)```  \r\n\r\nWhich was solved with ```file.setReadable(true)```, and ```directory.setReadable(true, false)```. I can&#39;t seem to find solutions for the other types of permissions that are getting flagged for outputstreams, or FileWriters. Can someone shed some light on this issue? Ah, and the vulnerability is being flagged by code analysis software. I&#39;m not sure if it&#39;s dynamic or static, but it is an automated process for our service that scans for vulnerabilities. ","title":"Fixing Incorrect Permission Assignment for Critical Resources (CWE 732)","body":"<p>I have been looking for solutions to this issue for awhile. Some of the resources I've found have recommended using the java.nio library which hasn't corrected this issue for me. I am using Java, and this has been flagged in multiple places throughout my service. Some flagged examples...</p>\n<p><code>private Writer writer</code><br />\n<code>private FileOutputStream outputStream</code><br />\n<code>outputStream = new FileOutputStream(file.getAbsolutePath(), true)</code></p>\n<p>I found one other thread speaking about this particular vulnerability for something along the lines of...</p>\n<p><code>File file = path.toFile()</code><br />\n<code>File directory = new File(location)</code></p>\n<p>Which was solved with <code>file.setReadable(true)</code>, and <code>directory.setReadable(true, false)</code>. I can't seem to find solutions for the other types of permissions that are getting flagged for outputstreams, or FileWriters. Can someone shed some light on this issue? Ah, and the vulnerability is being flagged by code analysis software. I'm not sure if it's dynamic or static, but it is an automated process for our service that scans for vulnerabilities.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696761529,"post_id":77250771,"comment_id":136192409,"body_markdown":"i dont really understand why you need your own custom cors filter, all you need to do is to configure the default one that already exists, all in accordance to the docs https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html","body":"i dont really understand why you need your own custom cors filter, all you need to do is to configure the default one that already exists, all in accordance to the docs <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/integration&zwnj;&#8203;s/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":13898292,"reputation":33,"user_id":10034488,"display_name":"LittleLingzi"},"score":0,"creation_date":1696703690,"post_id":77250818,"comment_id":136188448,"body_markdown":"Thomas, Thanks a lot! I already knew the first option and I did that in my code and I knew it worked,  but I didn&#39;t want to use that option because there was nowhere in that code to allow me to setOrder. I just tried your second option and this does work, and this option I liked it better. But can you do me a favor and help me to decide which option is better even though both worked?","body":"Thomas, Thanks a lot! I already knew the first option and I did that in my code and I knew it worked,  but I didn&#39;t want to use that option because there was nowhere in that code to allow me to setOrder. I just tried your second option and this does work, and this option I liked it better. But can you do me a favor and help me to decide which option is better even though both worked?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1696707234,"post_id":77250818,"comment_id":136188797,"body_markdown":"@LittleLingzi it depends: if you are using Spring Security too: Spring Security contains code to order the filters in the way that the Spring Team thinks best (https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/builders/FilterOrderRegistration.java) and in that case I would prefer not to mess with it. Without using Spring Security I might prefer the solution with defining the order myself.","body":"@LittleLingzi it depends: if you are using Spring Security too: Spring Security contains code to order the filters in the way that the Spring Team thinks best (<a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/builders/FilterOrderRegistration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/main/config&zwnj;&#8203;/src/&hellip;</a>) and in that case I would prefer not to mess with it. Without using Spring Security I might prefer the solution with defining the order myself."},{"owner":{"account_id":13898292,"reputation":33,"user_id":10034488,"display_name":"LittleLingzi"},"score":0,"creation_date":1696711380,"post_id":77250818,"comment_id":136189166,"body_markdown":"Thank you for your comments @Thomas Kl&#228;ger. I think I would go with your below option which renames my bean or methodName. But then when I exercised it a little more, I found out that with the same code content, the method name (BeanName) can be corsFilterRegistration() as you mentioned, and it can be anything, like xyz(), corsFilter1000(), all of them worked for me, but it just can not be corsFilter(), is that this corsFilter a reserved word by Spring or other reasons?","body":"Thank you for your comments @Thomas Kl&#228;ger. I think I would go with your below option which renames my bean or methodName. But then when I exercised it a little more, I found out that with the same code content, the method name (BeanName) can be corsFilterRegistration() as you mentioned, and it can be anything, like xyz(), corsFilter1000(), all of them worked for me, but it just can not be corsFilter(), is that this corsFilter a reserved word by Spring or other reasons?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1696744143,"post_id":77250818,"comment_id":136191069,"body_markdown":"@LittleLingzi I&#39;ve added some background information on why &quot;corsFilter&quot; is some kind of &quot;reserved bean name*","body":"@LittleLingzi I&#39;ve added some background information on why &quot;corsFilter&quot; is some kind of &quot;reserved bean name*"},{"owner":{"account_id":13898292,"reputation":33,"user_id":10034488,"display_name":"LittleLingzi"},"score":0,"creation_date":1696769260,"post_id":77250818,"comment_id":136193110,"body_markdown":"Thanks so much, I got it and it makes great sense!","body":"Thanks so much, I got it and it makes great sense!"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696744097,"creation_date":1696699413,"answer_id":77250818,"question_id":77250771,"body_markdown":"Your code register a bean named `corsFilter` of type `FilterRegistrationBean&lt;CorsFilter&gt;` but according to the exception message Spring searches for a bean named `corsFilter` of type `CorsFilter`.\r\n\r\nYou could try to change your code to\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\r\n        corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\r\n        corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\r\n    \r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\r\n\r\n        return new CorsFilter(source);    \r\n    }\r\n\r\nOr, if you want to register the cors filter yourself you need to rename the bean:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilterRegistration() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\r\n        corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\r\n        corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\r\n    \r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\r\n    \r\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\r\n        bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        return bean;\r\n    }\r\n\r\nWhich variant you want to implement will depend on your needs:\r\n* Spring usually orders their filter beans the way they think its best - if this is sufficient I would go with their default order\r\n* If your needs differ from that you need to go with the manual filter registration\r\n\r\n-----\r\n\r\n_Is &quot;corsFilter&quot; some sort of &quot;reserved word&quot; / &quot;reserved bean name&quot;?_\r\n\r\nOne could call it a &quot;reserved bean name&quot;:\r\n\r\n* Once you `@EnableWebSecurity` Spring Security uses `HttpSecurity`\r\n* `HttpSecurity` uses a `CorsConfigurer` to add a `CorsFilter` to the Spring Security chain\r\n* `CorsConfigurer` searches for a bean named &quot;corsFilter&quot;. If it finds one it assumes that this is the `CorsFilter` it should configure and expects it to be of type `CorsFilter`.","title":"corsFilter bean is not created due to BeanNotOfRequiredTypeException","body":"<p>Your code register a bean named <code>corsFilter</code> of type <code>FilterRegistrationBean&lt;CorsFilter&gt;</code> but according to the exception message Spring searches for a bean named <code>corsFilter</code> of type <code>CorsFilter</code>.</p>\n<p>You could try to change your code to</p>\n<pre><code>@Bean\npublic CorsFilter corsFilter() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\n    corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\n    corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\n\n    return new CorsFilter(source);    \n}\n</code></pre>\n<p>Or, if you want to register the cors filter yourself you need to rename the bean:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;CorsFilter&gt; corsFilterRegistration() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\n    corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\n    corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\n\n    FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\n    bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    return bean;\n}\n</code></pre>\n<p>Which variant you want to implement will depend on your needs:</p>\n<ul>\n<li>Spring usually orders their filter beans the way they think its best - if this is sufficient I would go with their default order</li>\n<li>If your needs differ from that you need to go with the manual filter registration</li>\n</ul>\n<hr />\n<p><em>Is &quot;corsFilter&quot; some sort of &quot;reserved word&quot; / &quot;reserved bean name&quot;?</em></p>\n<p>One could call it a &quot;reserved bean name&quot;:</p>\n<ul>\n<li>Once you <code>@EnableWebSecurity</code> Spring Security uses <code>HttpSecurity</code></li>\n<li><code>HttpSecurity</code> uses a <code>CorsConfigurer</code> to add a <code>CorsFilter</code> to the Spring Security chain</li>\n<li><code>CorsConfigurer</code> searches for a bean named &quot;corsFilter&quot;. If it finds one it assumes that this is the <code>CorsFilter</code> it should configure and expects it to be of type <code>CorsFilter</code>.</li>\n</ul>\n"}],"owner":{"account_id":13898292,"reputation":33,"user_id":10034488,"display_name":"LittleLingzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77250818,"answer_count":1,"score":1,"last_activity_date":1696769933,"creation_date":1696698616,"question_id":77250771,"body_markdown":"I have a pretty typical method which would create a corsFilter bean in SpringBoot App, but when my server starts, I see the error saying BeanNotOfRequiredTypeException? Any help? Thanks\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\r\n        corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\r\n        corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\r\n\r\n\r\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\r\n        bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        return bean;`\r\n    }\r\n\r\nCaused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;corsFilter&#39; is expected to be of type &#39;org.springframework.web.filter.CorsFilter&#39; but was actually of type &#39;org.springframework.boot.web.servlet.FilterRegistrationBean&#39;\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.adaptBeanInstance(AbstractBeanFactory.java:417) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\r\n\r\nthe trace goes to SpringBoot framework and thus it is difficult to troubleshoot.Read a lot in the internet, but no luck","title":"corsFilter bean is not created due to BeanNotOfRequiredTypeException","body":"<p>I have a pretty typical method which would create a corsFilter bean in SpringBoot App, but when my server starts, I see the error saying BeanNotOfRequiredTypeException? Any help? Thanks</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\n    corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\n    corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\n\n\n    FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\n    bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    return bean;`\n}\n</code></pre>\n<p>Caused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'corsFilter' is expected to be of type 'org.springframework.web.filter.CorsFilter' but was actually of type 'org.springframework.boot.web.servlet.FilterRegistrationBean'\nat org.springframework.beans.factory.support.AbstractBeanFactory.adaptBeanInstance(AbstractBeanFactory.java:417) ~[spring-beans-5.3.29.jar:5.3.29]</p>\n<p>the trace goes to SpringBoot framework and thus it is difficult to troubleshoot.Read a lot in the internet, but no luck</p>\n"},{"tags":["java","jms","spring-jms"],"comments":[{"owner":{"account_id":334652,"reputation":2551,"user_id":661232,"accept_rate":93,"display_name":"chrislovecnm"},"score":0,"creation_date":1322682425,"post_id":8326946,"comment_id":10272252,"body_markdown":"More details please, and have you looked at spring integration?","body":"More details please, and have you looked at spring integration?"}],"answers":[{"comments":[{"owner":{"account_id":1280775,"reputation":3062,"user_id":1234909,"accept_rate":42,"display_name":"Mohan Radhakrishnan"},"score":0,"creation_date":1592404250,"post_id":8354815,"comment_id":110414012,"body_markdown":"Could you add some more details ?","body":"Could you add some more details ?"}],"tags":[],"owner":{"account_id":96857,"reputation":4984,"user_id":263052,"display_name":"Jakub Korab"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1322821151,"creation_date":1322821151,"answer_id":8354815,"question_id":8326946,"body_markdown":"Spring&#39;s MessageListenerContainers are designed to only hold one MessageListener and run multiple threads through them, in the same way that multiple threads run through a servlet instance.\r\n\r\nA way that you could implement what you are talking about is register the one MessageListener, and have it act as a facade to a set of other listeners that you instantiate into it, and have the facade forward requests to them.","title":"Task distribution using Spring JMS receiving","body":"<p>Spring's MessageListenerContainers are designed to only hold one MessageListener and run multiple threads through them, in the same way that multiple threads run through a servlet instance.</p>\n\n<p>A way that you could implement what you are talking about is register the one MessageListener, and have it act as a facade to a set of other listeners that you instantiate into it, and have the facade forward requests to them.</p>\n"}],"owner":{"account_id":77836,"reputation":1493,"user_id":221897,"accept_rate":100,"display_name":"nishu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8354815,"answer_count":1,"score":1,"last_activity_date":1696768880,"creation_date":1322660916,"question_id":8326946,"body_markdown":"I am trying to receive JMS messages from a JMS queue. On receiving messages they are  forwarded to different servers for processing.\r\n\r\nI want to instantiate Message Listeners with information about server it is communicating with and process status.\r\n\r\nUsing available Spring Message Listener Container Classes only a single stateless instance of Message Listener can be created which is used with multiple threads.\r\n\r\nIs there a solution for adding multiple instances of Message Listener to Message Listener Container?\r\n","title":"Task distribution using Spring JMS receiving","body":"<p>I am trying to receive JMS messages from a JMS queue. On receiving messages they are  forwarded to different servers for processing.</p>\n<p>I want to instantiate Message Listeners with information about server it is communicating with and process status.</p>\n<p>Using available Spring Message Listener Container Classes only a single stateless instance of Message Listener can be created which is used with multiple threads.</p>\n<p>Is there a solution for adding multiple instances of Message Listener to Message Listener Container?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1696763649,"post_id":77252848,"comment_id":136192576,"body_markdown":"Subscene in Subscne -&gt; why would you do that?","body":"Subscene in Subscne -&gt; why would you do that?"},{"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"score":0,"creation_date":1696765224,"post_id":77252848,"comment_id":136192728,"body_markdown":"Subscene is a standalone component that I encapsulate, and the component can be nested for use.","body":"Subscene is a standalone component that I encapsulate, and the component can be nested for use."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696766607,"post_id":77252848,"comment_id":136192869,"body_markdown":"The text in the image that you posted doesn&#39;t look blurry to me. Also - and I don&#39;t know if it affects your problem - I think you should try to match the JavaFX version with the Java version so maybe you should try to use JavaFX 17 (with JDK 17) or alternatively, JDK 19 with JavaFX 19.","body":"The text in the image that you posted doesn&#39;t look blurry to me. Also - and I don&#39;t know if it affects your problem - I think you should try to match the JavaFX version with the Java version so maybe you should try to use JavaFX 17 (with JDK 17) or alternatively, JDK 19 with JavaFX 19."},{"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"score":0,"creation_date":1696773632,"post_id":77252848,"comment_id":136193513,"body_markdown":"api document &quot;A SubScene is embedded into the main scene or another sub-scene&quot;.In Demo that&#39;s exactly the way I used it. Scene&gt;Subscene&gt;Subscene","body":"api document &quot;A SubScene is embedded into the main scene or another sub-scene&quot;.In Demo that&#39;s exactly the way I used it. Scene&gt;Subscene&gt;Subscene"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696779895,"post_id":77252848,"comment_id":136194149,"body_markdown":"The same statement is true of and container (for example the `StackPane`s that you use as the content of the `SubScene`). Are you using any of the properties that are specific to the subscene (different depth buffers, cameras, or aliasing)? Otherwise why not just implement this with a regular container (`Region` subclass of some kind)?","body":"The same statement is true of and container (for example the <code>StackPane</code>s that you use as the content of the <code>SubScene</code>). Are you using any of the properties that are specific to the subscene (different depth buffers, cameras, or aliasing)? Otherwise why not just implement this with a regular container (<code>Region</code> subclass of some kind)?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696788190,"post_id":77252848,"comment_id":136194981,"body_markdown":"@Abra Zoom in. Youll find more anti-aliasing on the lower text. Notice the steps/chunkiness of curves in the &quot;S.","body":"@Abra Zoom in. Youll find more anti-aliasing on the lower text. Notice the steps/chunkiness of curves in the &quot;S."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696788614,"post_id":77252848,"comment_id":136195029,"body_markdown":"@Abra No, matching versions is unnecessary. JavaFX 20 &amp; 21 requires JDK 17 or later. Prior versions such require JDK 11+. See [this Question](https://stackoverflow.com/q/71957134/642706).","body":"@Abra No, matching versions is unnecessary. JavaFX 20 &amp; 21 requires JDK 17 or later. Prior versions such require JDK 11+. See <a href=\"https://stackoverflow.com/q/71957134/642706\">this Question</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1696794121,"post_id":77252848,"comment_id":136195612,"body_markdown":"I was mistaken; the artifact disappears if you set the `vBox` _X_ and _Y_ scales to the same value, which preserves the aspect ratio.","body":"I was mistaken; the artifact disappears if you set the <code>vBox</code> <i>X</i> and <i>Y</i> scales to the same value, which preserves the aspect ratio."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1696892071,"post_id":77252848,"comment_id":136208467,"body_markdown":"If you don&#39;t snap to pixel or you don&#39;t scale in an integer multiple or you scale x and y differently (as pointed out by trashgod), then the system will need to antialias the scene content (graphics and text), and stuff will be blurrier than if snapped to pixel (unrelated to subscenes).  As each line or text won&#39;t fall exactly on pixel boundaries the antialiasing will differ slightly from line to line and character to character.  A HiDPI display exhibits fewer artifacts.  Font smoothing can also play a role as pointed out in [Lee&#39;s answer](https://stackoverflow.com/a/77253630/1155209).","body":"If you don&#39;t snap to pixel or you don&#39;t scale in an integer multiple or you scale x and y differently (as pointed out by trashgod), then the system will need to antialias the scene content (graphics and text), and stuff will be blurrier than if snapped to pixel (unrelated to subscenes).  As each line or text won&#39;t fall exactly on pixel boundaries the antialiasing will differ slightly from line to line and character to character.  A HiDPI display exhibits fewer artifacts.  Font smoothing can also play a role as pointed out in <a href=\"https://stackoverflow.com/a/77253630/1155209\">Lee&#39;s answer</a>."}],"answers":[{"comments":[{"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"score":0,"creation_date":1696773829,"post_id":77253630,"comment_id":136193530,"body_markdown":"I tried set prism.lcdtext true or false,  but the text still looks blurry","body":"I tried set prism.lcdtext true or false,  but the text still looks blurry"}],"tags":[],"owner":{"account_id":27313798,"reputation":31,"user_id":20828532,"display_name":"LeeWyatt"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696768574,"creation_date":1696768447,"answer_id":77253630,"question_id":77252848,"body_markdown":"For the blurry text bug, you can refer to the suggestions from [@crschnick][1]. It&#39;s related to the text smoothing mode. You might want to check out the fix he submitted.\r\n\r\n\r\n  [1]: https://github.com/crschnick\r\n\r\n    .text {-fx-font-smoothing-type: gray;}\r\n\r\n\r\nFor reference, check out this link: https://github.com/dlsc-software-consulting-gmbh/jfxcentral2/issues/296.","title":"JavaFx Subscene in Subscene Text Blurry","body":"<p>For the blurry text bug, you can refer to the suggestions from <a href=\"https://github.com/crschnick\" rel=\"nofollow noreferrer\">@crschnick</a>. It's related to the text smoothing mode. You might want to check out the fix he submitted.</p>\n<pre><code>.text {-fx-font-smoothing-type: gray;}\n</code></pre>\n<p>For reference, check out this link: <a href=\"https://github.com/dlsc-software-consulting-gmbh/jfxcentral2/issues/296\" rel=\"nofollow noreferrer\">https://github.com/dlsc-software-consulting-gmbh/jfxcentral2/issues/296</a>.</p>\n"}],"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696768574,"creation_date":1696753616,"question_id":77252848,"body_markdown":"I found that placing a subscene into another subscene would make the text in the sub-subscene so blurry. I had tried to set the cache for the subscene but did not improve it.Below is the minimum demo and the picture to show the  problem.I do not know if it is a jfx bug or incorrect usage.\r\n\r\nMay I ask how to solve this problem.\r\nI am using jdk version 17 and jfx version 19.\r\n\r\nI tried to add sub-subscene root node directly without using Subscene, and the text was no longer blurry.\r\n\r\n\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SceneAntialiasing;\r\n    import javafx.scene.SubScene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.ScrollPane;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TestSubSceneApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            HBox hBox = new HBox();\r\n            hBox.setPrefHeight(300);\r\n            hBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\r\n            Label label = new Label(&quot;123&quot;);\r\n            label.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Button button = new Button(&quot;testButton&quot;);\r\n            button.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Text text = new Text(&quot;test&quot;);\r\n            text.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            hBox.setSpacing(50);\r\n            hBox.setAlignment(Pos.CENTER);\r\n            hBox.getChildren().addAll(label, button, text);\r\n    \r\n            StackPane stackPane = new StackPane();\r\n            Scene scene = new Scene(stackPane, 1000, 1000);\r\n    \r\n            VBox vBox = new VBox();\r\n            vBox.setSpacing(10);\r\n            //borderPane.setPrefSize(1600,1600);\r\n            vBox.setCache(false);\r\n            vBox.setSnapToPixel(false);\r\n            vBox.setCacheShape(false);\r\n            vBox.getChildren().add(hBox);\r\n            vBox.setScaleX(0.81231312);\r\n            vBox.setScaleY(0.82341123);\r\n    \r\n            SubScene subScene = new SubScene(vBox, 1000, 700);\r\n            stackPane.getChildren().add(subScene);\r\n    \r\n            StackPane content = new StackPane();\r\n            HBox subHBox = new HBox();\r\n            subHBox.setPrefHeight(300);\r\n            SubScene bottomSubScene = new SubScene(content, 1000, 350);\r\n            subHBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\r\n            Label subLabel = new Label(&quot;123&quot;);\r\n            subLabel.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Button subButton = new Button(&quot;testButton&quot;);\r\n            subButton.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Text subText = new Text(&quot;test&quot;);\r\n            subText.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            subHBox.getChildren().addAll(subLabel, subButton, subText);\r\n            subHBox.setSpacing(50);\r\n            subHBox.setAlignment(Pos.TOP_CENTER);\r\n            content.getChildren().add(subHBox);\r\n            content.setBackground(new Background(new BackgroundFill(Color.GREY,null,null)));\r\n            //vBox.setPrefSize(500,600);\r\n            //content.setScaleX(0.81231312);\r\n            //content.setScaleY(0.82341123);\r\n            vBox.getChildren().add(bottomSubScene);\r\n    \r\n            stage.setTitle(&quot;Test Demo&quot;);\r\n            stage.setScene(scene);\r\n            stage.setResizable(true);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zcWDt.png","title":"JavaFx Subscene in Subscene Text Blurry","body":"<p>I found that placing a subscene into another subscene would make the text in the sub-subscene so blurry. I had tried to set the cache for the subscene but did not improve it.Below is the minimum demo and the picture to show the  problem.I do not know if it is a jfx bug or incorrect usage.</p>\n<p>May I ask how to solve this problem.\nI am using jdk version 17 and jfx version 19.</p>\n<p>I tried to add sub-subscene root node directly without using Subscene, and the text was no longer blurry.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.SceneAntialiasing;\nimport javafx.scene.SubScene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\npublic class TestSubSceneApplication extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        HBox hBox = new HBox();\n        hBox.setPrefHeight(300);\n        hBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\n        Label label = new Label(&quot;123&quot;);\n        label.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Button button = new Button(&quot;testButton&quot;);\n        button.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Text text = new Text(&quot;test&quot;);\n        text.setStyle(&quot;-fx-font-size:30px;&quot;);\n        hBox.setSpacing(50);\n        hBox.setAlignment(Pos.CENTER);\n        hBox.getChildren().addAll(label, button, text);\n\n        StackPane stackPane = new StackPane();\n        Scene scene = new Scene(stackPane, 1000, 1000);\n\n        VBox vBox = new VBox();\n        vBox.setSpacing(10);\n        //borderPane.setPrefSize(1600,1600);\n        vBox.setCache(false);\n        vBox.setSnapToPixel(false);\n        vBox.setCacheShape(false);\n        vBox.getChildren().add(hBox);\n        vBox.setScaleX(0.81231312);\n        vBox.setScaleY(0.82341123);\n\n        SubScene subScene = new SubScene(vBox, 1000, 700);\n        stackPane.getChildren().add(subScene);\n\n        StackPane content = new StackPane();\n        HBox subHBox = new HBox();\n        subHBox.setPrefHeight(300);\n        SubScene bottomSubScene = new SubScene(content, 1000, 350);\n        subHBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\n        Label subLabel = new Label(&quot;123&quot;);\n        subLabel.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Button subButton = new Button(&quot;testButton&quot;);\n        subButton.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Text subText = new Text(&quot;test&quot;);\n        subText.setStyle(&quot;-fx-font-size:30px;&quot;);\n        subHBox.getChildren().addAll(subLabel, subButton, subText);\n        subHBox.setSpacing(50);\n        subHBox.setAlignment(Pos.TOP_CENTER);\n        content.getChildren().add(subHBox);\n        content.setBackground(new Background(new BackgroundFill(Color.GREY,null,null)));\n        //vBox.setPrefSize(500,600);\n        //content.setScaleX(0.81231312);\n        //content.setScaleY(0.82341123);\n        vBox.getChildren().add(bottomSubScene);\n\n        stage.setTitle(&quot;Test Demo&quot;);\n        stage.setScene(scene);\n        stage.setResizable(true);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zcWDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcWDt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":1107919,"reputation":318,"user_id":1098929,"accept_rate":100,"display_name":"Roger Joys"},"score":0,"creation_date":1325265210,"post_id":8673043,"comment_id":10794691,"body_markdown":"Thank you, that absolutely was the right solution! My load testing is running significantly faster than either create and destroy or to share one single persistent connection. The coding changes in the JAVA app were trivial.","body":"Thank you, that absolutely was the right solution! My load testing is running significantly faster than either create and destroy or to share one single persistent connection. The coding changes in the JAVA app were trivial."}],"tags":[],"owner":{"account_id":430054,"reputation":1875,"user_id":813268,"accept_rate":89,"display_name":"Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1325190635,"creation_date":1325190635,"answer_id":8673043,"question_id":8669938,"body_markdown":"I believe you should be aware of both mentioned criteria. The solution is to use a pool of connection. In this case you share the connections and most of the time do not create a new one, as well as pool usually is limited to a specific number of connection (this is my assumption as of how I would implement it) - so that it doesn&#39;t take all resources in JVM. \r\n\r\nTake a look at [PooledConnectionFactory][1] related section.\r\n\r\nAlso decision to keep connections or to recreate them totally depends on your usage scenario. If you plan to send messages regularly - sharing the connection is the right thing to do - since connection and session (I would recommend sharing sessions if possible in a high traffic) creation are quite expensive operations. However if your messages will be sent not that often ( few times per hour? :) ) - it will make sense not to keep alive the idle connection.\r\n\r\n\r\n  [1]: http://activemq.apache.org/spring-support.html","title":"Durable Topic Connection Design Opinions Sought","body":"<p>I believe you should be aware of both mentioned criteria. The solution is to use a pool of connection. In this case you share the connections and most of the time do not create a new one, as well as pool usually is limited to a specific number of connection (this is my assumption as of how I would implement it) - so that it doesn't take all resources in JVM. </p>\n\n<p>Take a look at <a href=\"http://activemq.apache.org/spring-support.html\" rel=\"nofollow\">PooledConnectionFactory</a> related section.</p>\n\n<p>Also decision to keep connections or to recreate them totally depends on your usage scenario. If you plan to send messages regularly - sharing the connection is the right thing to do - since connection and session (I would recommend sharing sessions if possible in a high traffic) creation are quite expensive operations. However if your messages will be sent not that often ( few times per hour? :) ) - it will make sense not to keep alive the idle connection.</p>\n"}],"owner":{"account_id":1107919,"reputation":318,"user_id":1098929,"accept_rate":100,"display_name":"Roger Joys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1696855212,"accepted_answer_id":8673043,"answer_count":1,"score":1,"last_activity_date":1696768516,"creation_date":1325173608,"question_id":8669938,"body_markdown":"I have a very simple app that is using JMS. The use case that it solves will involve sending small atomic Topic messages. \r\n\r\nMy first pass at this functionality built one connection to the broker and reused it as needed. However, in reading some of the docs, it seems like hanging onto a connection for reuse potentially hogs resources in the JVM.\r\n\r\nSo my dilemma is, do I go incur the overhead of building up and tearing down a connection for every message, or do I incur the cost of hanging onto resources that for the most part sit idle.\r\n\r\nI know there is no one definitive answer and the real answer is &quot;it depends&quot;, but would really like some insight and opinions from others.\r\n\r\n","title":"Durable Topic Connection Design Opinions Sought","body":"<p>I have a very simple app that is using JMS. The use case that it solves will involve sending small atomic Topic messages.</p>\n<p>My first pass at this functionality built one connection to the broker and reused it as needed. However, in reading some of the docs, it seems like hanging onto a connection for reuse potentially hogs resources in the JVM.</p>\n<p>So my dilemma is, do I go incur the overhead of building up and tearing down a connection for every message, or do I incur the cost of hanging onto resources that for the most part sit idle.</p>\n<p>I know there is no one definitive answer and the real answer is &quot;it depends&quot;, but would really like some insight and opinions from others.</p>\n"},{"tags":["java","queue","jms"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1326020736,"post_id":8776703,"comment_id":10943136,"body_markdown":"If the Database is down, why not wait until it is up before attempting to proceed.  That way there is no need to replay the messages","body":"If the Database is down, why not wait until it is up before attempting to proceed.  That way there is no need to replay the messages"},{"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"score":0,"creation_date":1326032582,"post_id":8776703,"comment_id":10945180,"body_markdown":"You mean block until DB is up? I am not sure this is ok ... unless I misunderstand your comment.","body":"You mean block until DB is up? I am not sure this is ok ... unless I misunderstand your comment."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1326032746,"post_id":8776703,"comment_id":10945211,"body_markdown":"What would happen if you blocked until the database is up? Does that thread have something more important to do? ;) If it does, I would have that more important thing run in another thread, session or connection.","body":"What would happen if you blocked until the database is up? Does that thread have something more important to do? ;) If it does, I would have that more important thing run in another thread, session or connection."}],"answers":[{"comments":[{"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"score":0,"creation_date":1326032454,"post_id":8777219,"comment_id":10945150,"body_markdown":"Thanks. I guess my problem then is how and where to configure activeMQ to resend unacknowledged messages instead of initialing resend request from the client. How can I do this?","body":"Thanks. I guess my problem then is how and where to configure activeMQ to resend unacknowledged messages instead of initialing resend request from the client. How can I do this?"}],"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326023268,"creation_date":1326023268,"answer_id":8777219,"question_id":8776703,"body_markdown":"I think the standard behavior is already doing what you want: if the message broker is using the same database and the database is not available, it will not accept the messages and thus the client will spool them until the message broker is ready again.\r\n\r\nIf they do not share the same database and the message broker is on, it will spool the message and retry if `onMessage` throws an exception.\r\nThe message broker will try to resend according to its configurable policy.","title":"Can I Send a Message Request Directly to a Queue?","body":"<p>I think the standard behavior is already doing what you want: if the message broker is using the same database and the database is not available, it will not accept the messages and thus the client will spool them until the message broker is ready again.</p>\n\n<p>If they do not share the same database and the message broker is on, it will spool the message and retry if <code>onMessage</code> throws an exception.\nThe message broker will try to resend according to its configurable policy.</p>\n"},{"tags":[],"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1326082179,"creation_date":1326082179,"answer_id":8783830,"question_id":8776703,"body_markdown":"After some more research, I have stumbled on the session.recover() which I can use to trigger redelivery. I have seen there is the RedeliveryPolicy class which I can use to set message resend  options. Now my code looks like:\r\n\r\n    ConnectionFactory factory = new ActiveMQConnectionFactory(url);\r\n    RedeliveryPolicy policy = new RedeliveryPolicy();\r\n    policy.setBackOffMultiplier((short) 2);\r\n    policy.setRedeliveryDelay(30000);\r\n    policy.setInitialRedeliveryDelay(60000);\r\n    policy.setUseExponentialBackOff(true);\r\n    ((ActiveMQConnectionFactory)factory).setRedeliveryPolicy(policy);\r\n    \r\n    final Session session = connection.createSession(false,\r\n    \t\t\t\tSession.CLIENT_ACKNOWLEDGE);\r\n    ...\r\n    ...\r\n    ...\r\n    ..\r\n    \r\n    \r\n    //inside onMessage()\r\n    try {\r\n    \tif (DB is available){\r\n    \t\t//process message\r\n    \t\t//save required details to DB\r\n    \t\tmsg.acknowledge();\r\n    \t}\r\n    \telse{\r\n    \t\tsession.recover();\r\n    \t}\r\n    \t} catch (Exception e) {}","title":"Can I Send a Message Request Directly to a Queue?","body":"<p>After some more research, I have stumbled on the session.recover() which I can use to trigger redelivery. I have seen there is the RedeliveryPolicy class which I can use to set message resend  options. Now my code looks like:</p>\n\n<pre><code>ConnectionFactory factory = new ActiveMQConnectionFactory(url);\nRedeliveryPolicy policy = new RedeliveryPolicy();\npolicy.setBackOffMultiplier((short) 2);\npolicy.setRedeliveryDelay(30000);\npolicy.setInitialRedeliveryDelay(60000);\npolicy.setUseExponentialBackOff(true);\n((ActiveMQConnectionFactory)factory).setRedeliveryPolicy(policy);\n\nfinal Session session = connection.createSession(false,\n                Session.CLIENT_ACKNOWLEDGE);\n...\n...\n...\n..\n\n\n//inside onMessage()\ntry {\n    if (DB is available){\n        //process message\n        //save required details to DB\n        msg.acknowledge();\n    }\n    else{\n        session.recover();\n    }\n    } catch (Exception e) {}\n</code></pre>\n"}],"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8783830,"answer_count":2,"score":3,"last_activity_date":1696768315,"creation_date":1326017133,"question_id":8776703,"body_markdown":"I have a client that receives messages from a Queue. I currently have a `MessageListener` that implements `onMessage()`. \r\n\r\nOnce the message is received, it is processed further then saved to a Database on the `onMessage()` method; the client then acknowledges the message receipt. \r\n\r\nAs long as the database is up there is no problem. But if the DB is down, the client will not acknowledge. \r\n\r\nTo cater for this, I want the client to be sending scheduled requests to the queue for any unacknowledged messages at scheduled intervals. \r\n\r\nAs it is, the only way I have of doing this is to restart the client which is not Ideal. Is there a way to trigger the queue to resend an unacknowledged message without a restart? \r\n\r\nWhat i have in `onMessage()`:\r\n\r\n    //code to connect to  queue\r\n    try {\r\n\tif (DB is available){\r\n            //process message\r\n            //save required details to DB\r\n            msg.acknowledge();\r\n        }\r\n        else{\r\n            //schedule to request same message later from queue\r\n        }\r\n    } catch (Exception e) {}\r\n","title":"Can I Send a Message Request Directly to a Queue?","body":"<p>I have a client that receives messages from a Queue. I currently have a <code>MessageListener</code> that implements <code>onMessage()</code>. </p>\n\n<p>Once the message is received, it is processed further then saved to a Database on the <code>onMessage()</code> method; the client then acknowledges the message receipt. </p>\n\n<p>As long as the database is up there is no problem. But if the DB is down, the client will not acknowledge. </p>\n\n<p>To cater for this, I want the client to be sending scheduled requests to the queue for any unacknowledged messages at scheduled intervals. </p>\n\n<p>As it is, the only way I have of doing this is to restart the client which is not Ideal. Is there a way to trigger the queue to resend an unacknowledged message without a restart? </p>\n\n<p>What i have in <code>onMessage()</code>:</p>\n\n<pre><code>//code to connect to  queue\ntry {\nif (DB is available){\n        //process message\n        //save required details to DB\n        msg.acknowledge();\n    }\n    else{\n        //schedule to request same message later from queue\n    }\n} catch (Exception e) {}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1696666343,"post_id":77248939,"comment_id":136185101,"body_markdown":"You mean `(char) -1`? Or do you mean you want to represent the string `-1` as a char?","body":"You mean <code>(char) -1</code>? Or do you mean you want to represent the string <code>-1</code> as a char?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":9,"creation_date":1696666451,"post_id":77248939,"comment_id":136185109,"body_markdown":"`char` is an _unsigned_ 16-bit integer. It can&#39;t have the literal value `-1`. Note that doing `(char) -1` will give you the `char` for `65535`.","body":"<code>char</code> is an <i>unsigned</i> 16-bit integer. It can&#39;t have the literal value <code>-1</code>. Note that doing <code>(char) -1</code> will give you the <code>char</code> for <code>65535</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1696668098,"post_id":77248939,"comment_id":136185208,"body_markdown":"The appropriate way is to use `int` as the return type. That is also what Java does in - for example - [`Reader.read()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read()).","body":"The appropriate way is to use <code>int</code> as the return type. That is also what Java does in - for example - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read()\" rel=\"nofollow noreferrer\"><code>Reader.read()</code></a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696668148,"post_id":77248939,"comment_id":136185213,"body_markdown":"So if [method parameter] `S` contains more than one non-repeating character, you want method `nonrepeatingCharacter` to return just one of them? Can `S` contain any valid character, including non-printable characters such as [unicode] null, i.e. 0 (zero)?","body":"So if [method parameter] <code>S</code> contains more than one non-repeating character, you want method <code>nonrepeatingCharacter</code> to return just one of them? Can <code>S</code> contain any valid character, including non-printable characters such as [unicode] null, i.e. 0 (zero)?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1696669778,"post_id":77248939,"comment_id":136185358,"body_markdown":"You should in any case be working with *codepoints* these days. When you do, your problem disappears","body":"You should in any case be working with <i>codepoints</i> these days. When you do, your problem disappears"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1696681496,"post_id":77248939,"comment_id":136186388,"body_markdown":"Note that this doesn&#39;t return a non-repeating character, it returns a character with odd parity (it occurs 1, 3, 5 etc times)","body":"Note that this doesn&#39;t return a non-repeating character, it returns a character with odd parity (it occurs 1, 3, 5 etc times)"}],"answers":[{"tags":[],"owner":{"account_id":6022910,"reputation":36,"user_id":4729507,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696666881,"creation_date":1696666881,"answer_id":77248981,"question_id":77248939,"body_markdown":"I guess you want to return a &#39;mark&#39; value when `al.size() == 0`. You can do it like this:\r\n\r\n```java\r\nstatic Character nonrepeatingCharacter(String S)\r\n{\r\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n    \r\n    for(int i=0; i&lt;S.length(); i++){\r\n        if(!al.contains(S.charAt(i))){\r\n            al.add(S.charAt(i));\r\n        }\r\n        else{\r\n            al.remove(Character.valueOf(S.charAt(i)));\r\n        }\r\n    }\r\n    \r\n    if(al.size() == 0){\r\n        return null;\r\n    }\r\n    \r\n    return al.get(0);\r\n}\r\n```","title":"how to return -1 as char in java","body":"<p>I guess you want to return a 'mark' value when <code>al.size() == 0</code>. You can do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Character nonrepeatingCharacter(String S)\n{\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i=0; i&lt;S.length(); i++){\n        if(!al.contains(S.charAt(i))){\n            al.add(S.charAt(i));\n        }\n        else{\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0){\n        return null;\n    }\n    \n    return al.get(0);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1696689941,"post_id":77249618,"comment_id":136187139,"body_markdown":"Note that you don&#39;t usually want Optional for primitives though - the Optional code is both way more code, and can&#39;t compile to the plain value comparison that the int compare gives us.","body":"Note that you don&#39;t usually want Optional for primitives though - the Optional code is both way more code, and can&#39;t compile to the plain value comparison that the int compare gives us."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696693239,"post_id":77249618,"comment_id":136187459,"body_markdown":"Agreed, using Optional with primitives can introduce additional overhead, whereas a simple int comparison is more efficient and straightforward.","body":"Agreed, using Optional with primitives can introduce additional overhead, whereas a simple int comparison is more efficient and straightforward."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1696681129,"creation_date":1696678927,"answer_id":77249618,"question_id":77248939,"body_markdown":"You can&#39;t directly return -1 as a char because char in Java is unsigned and doesn&#39;t support negative values. If you want to return -1, you need to change the return type of your method to int:\r\n\r\n    static int nonrepeatingCharacter(String S)\r\n    {\r\n        ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n        \r\n        for(int i=0; i&lt;S.length(); i++){\r\n            if(!al.contains(S.charAt(i))){\r\n                al.add(S.charAt(i));\r\n            }\r\n            else{\r\n                al.remove(Character.valueOf(S.charAt(i)));\r\n            }\r\n        }\r\n        \r\n        if(al.size() == 0){\r\n            return -1;\r\n        }\r\n        \r\n        return al.get(0);\r\n    }\r\n\r\n\r\nThen your function call would look like below:\r\n\r\n    int result = nonrepeatingCharacter(&quot;someString&quot;);\r\n    \r\n    if (result == -1) {\r\n        // ...\r\n    } else {\r\n        char nonRepeatingChar = (char) result;\r\n    }\r\n\r\nA more modern aproach would be to use Optional:\r\n\r\n    static Optional&lt;Character&gt; nonrepeatingCharacter(String S) {\r\n        ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n        \r\n        for(int i = 0; i &lt; S.length(); i++) {\r\n            if(!al.contains(S.charAt(i))) {\r\n                al.add(S.charAt(i));\r\n            } else {\r\n                al.remove(Character.valueOf(S.charAt(i)));\r\n            }\r\n        }\r\n        \r\n        if(al.size() == 0) {\r\n            return Optional.empty();\r\n        }\r\n        \r\n        return Optional.of(al.get(0));\r\n    }\r\n\r\n\r\nand its usage:\r\n\r\n    Optional&lt;Character&gt; result = nonrepeatingCharacter(&quot;someString&quot;);\r\n    \r\n    if (result.isPresent()) {\r\n        char nonRepeatingChar = result.get();\r\n        // ...\r\n    } else {\r\n        // ...\r\n    }\r\n\r\nThis way your code will be less error prone. \r\n\r\nFinally, to make your function be compliant with full Unicode range, you should switch to using code points, this will also allow you to return -1:\r\n\r\n    static int nonrepeatingCodePoint(String S) {\r\n        ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\r\n    \r\n        for (int i = 0; i &lt; S.length(); ) {\r\n            int codePoint = S.codePointAt(i);\r\n    \r\n            if (!al.contains(codePoint)) {\r\n                al.add(codePoint);\r\n            } else {\r\n                al.remove(Integer.valueOf(codePoint));\r\n            }\r\n    \r\n            i += Character.charCount(codePoint);\r\n        }\r\n    \r\n        if (al.size() == 0) {\r\n            return -1;\r\n        }\r\n    \r\n        return al.get(0);\r\n    }\r\n\r\nchar type in java represents only BMP part of Unicode, which are characters from U+0000 to U+FFFF. For characters outside BMP (U+010000 to U+10FFFF) single character is represented as pair of chars. So, to correctly work with all possible characters, you should \r\n work with pairs of chars:\r\n\r\n    char[] chars = Character.toChars(codePoint);\r\n","title":"how to return -1 as char in java","body":"<p>You can't directly return -1 as a char because char in Java is unsigned and doesn't support negative values. If you want to return -1, you need to change the return type of your method to int:</p>\n<pre><code>static int nonrepeatingCharacter(String S)\n{\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i=0; i&lt;S.length(); i++){\n        if(!al.contains(S.charAt(i))){\n            al.add(S.charAt(i));\n        }\n        else{\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0){\n        return -1;\n    }\n    \n    return al.get(0);\n}\n</code></pre>\n<p>Then your function call would look like below:</p>\n<pre><code>int result = nonrepeatingCharacter(&quot;someString&quot;);\n\nif (result == -1) {\n    // ...\n} else {\n    char nonRepeatingChar = (char) result;\n}\n</code></pre>\n<p>A more modern aproach would be to use Optional:</p>\n<pre><code>static Optional&lt;Character&gt; nonrepeatingCharacter(String S) {\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i = 0; i &lt; S.length(); i++) {\n        if(!al.contains(S.charAt(i))) {\n            al.add(S.charAt(i));\n        } else {\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0) {\n        return Optional.empty();\n    }\n    \n    return Optional.of(al.get(0));\n}\n</code></pre>\n<p>and its usage:</p>\n<pre><code>Optional&lt;Character&gt; result = nonrepeatingCharacter(&quot;someString&quot;);\n\nif (result.isPresent()) {\n    char nonRepeatingChar = result.get();\n    // ...\n} else {\n    // ...\n}\n</code></pre>\n<p>This way your code will be less error prone.</p>\n<p>Finally, to make your function be compliant with full Unicode range, you should switch to using code points, this will also allow you to return -1:</p>\n<pre><code>static int nonrepeatingCodePoint(String S) {\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; S.length(); ) {\n        int codePoint = S.codePointAt(i);\n\n        if (!al.contains(codePoint)) {\n            al.add(codePoint);\n        } else {\n            al.remove(Integer.valueOf(codePoint));\n        }\n\n        i += Character.charCount(codePoint);\n    }\n\n    if (al.size() == 0) {\n        return -1;\n    }\n\n    return al.get(0);\n}\n</code></pre>\n<p>char type in java represents only BMP part of Unicode, which are characters from U+0000 to U+FFFF. For characters outside BMP (U+010000 to U+10FFFF) single character is represented as pair of chars. So, to correctly work with all possible characters, you should\nwork with pairs of chars:</p>\n<pre><code>char[] chars = Character.toChars(codePoint);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696768183,"creation_date":1696688316,"answer_id":77250168,"question_id":77248939,"body_markdown":"Bearing in mind my previous comment, you could try something like:\r\n```\r\nimport java.util.Optional;\r\nimport java.util.Map;\r\nimport java.util.LinkedHashMap;\r\nimport static java.util.stream.Collectors.*;\r\n\r\npublic class Grin {\r\n    public static void main(String[] args) throws Exception {\r\n        String s = &quot;&#128512;-example&quot;;\r\n        if (args.length &gt; 0) {\r\n            s = args[0];\r\n        }\r\n        int n = Grin.getFirstNonRepeatingCharacter(s);\r\n        if (n &gt; -1) {\r\n            System.out.printf(&quot;The first non-repeating character is &#39;%s&#39;%n&quot;, new String(new int[] { n }, 0, 1));\r\n        }\r\n        else {\r\n            System.out.println(&quot;No non-repeating&quot;);\r\n        }\r\n    }\r\n\r\n    public static int getFirstNonRepeatingCharacter(String s) {\r\n        Map&lt;Integer, Long&gt; m = s.codePoints().boxed().collect(\r\n            groupingBy(i -&gt;i, \r\n            LinkedHashMap&lt;Integer, Long&gt;::new,\r\n            counting()));\r\n        Optional&lt;Integer&gt; codePoint = m.entrySet().stream()\r\n            .filter(e -&gt; 1 == e.getValue())\r\n            .map(Map.Entry::getKey)\r\n            .findFirst();\r\n        return codePoint.isPresent()? codePoint.get() : -1;\r\n    }\r\n}\r\n\r\n```\r\nWith no arguments, prints &#39;&#128512;&#39; UPDATE: although the previous code illustrated the point about codepoints and -1, it wasn&#39;t really accurate, so I&#39;ve now updated it.","title":"how to return -1 as char in java","body":"<p>Bearing in mind my previous comment, you could try something like:</p>\n<pre><code>import java.util.Optional;\nimport java.util.Map;\nimport java.util.LinkedHashMap;\nimport static java.util.stream.Collectors.*;\n\npublic class Grin {\n    public static void main(String[] args) throws Exception {\n        String s = &quot;-example&quot;;\n        if (args.length &gt; 0) {\n            s = args[0];\n        }\n        int n = Grin.getFirstNonRepeatingCharacter(s);\n        if (n &gt; -1) {\n            System.out.printf(&quot;The first non-repeating character is '%s'%n&quot;, new String(new int[] { n }, 0, 1));\n        }\n        else {\n            System.out.println(&quot;No non-repeating&quot;);\n        }\n    }\n\n    public static int getFirstNonRepeatingCharacter(String s) {\n        Map&lt;Integer, Long&gt; m = s.codePoints().boxed().collect(\n            groupingBy(i -&gt;i, \n            LinkedHashMap&lt;Integer, Long&gt;::new,\n            counting()));\n        Optional&lt;Integer&gt; codePoint = m.entrySet().stream()\n            .filter(e -&gt; 1 == e.getValue())\n            .map(Map.Entry::getKey)\n            .findFirst();\n        return codePoint.isPresent()? codePoint.get() : -1;\n    }\n}\n\n</code></pre>\n<p>With no arguments, prints '' UPDATE: although the previous code illustrated the point about codepoints and -1, it wasn't really accurate, so I've now updated it.</p>\n"}],"owner":{"account_id":25751664,"reputation":11,"user_id":19504108,"display_name":"Aman Kumar Shaw"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1697402865,"answer_count":3,"score":-2,"last_activity_date":1696768183,"creation_date":1696666103,"question_id":77248939,"body_markdown":"I want to return -1 as a char\r\n\r\n    static char nonrepeatingCharacter(String S)\r\n    {\r\n        ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n        \r\n        for(int i=0; i&lt;S.length(); i++){\r\n            if(!al.contains(S.charAt(i))){\r\n                al.add(S.charAt(i));\r\n            }\r\n            else{\r\n                al.remove(Character.valueOf(S.charAt(i)));\r\n            }\r\n        }\r\n        \r\n        if(al.size() == 0){\r\n            // Here I want to return -1\r\n        }\r\n        \r\n        return al.get(0);\r\n    }","title":"how to return -1 as char in java","body":"<p>I want to return -1 as a char</p>\n<pre><code>static char nonrepeatingCharacter(String S)\n{\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i=0; i&lt;S.length(); i++){\n        if(!al.contains(S.charAt(i))){\n            al.add(S.charAt(i));\n        }\n        else{\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0){\n        // Here I want to return -1\n    }\n    \n    return al.get(0);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"score":0,"creation_date":1583812300,"post_id":60611093,"comment_id":107232306,"body_markdown":"`proxyBeanMethods` allows you to invoke one method marked as `Bean` from another one declared in the same configuration class.","body":"<code>proxyBeanMethods</code> allows you to invoke one method marked as <code>Bean</code> from another one declared in the same configuration class."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1656873484,"post_id":60611093,"comment_id":128672090,"body_markdown":"@KenBekov ... and? how is that useful, though? I might miss you point here","body":"@KenBekov ... and? how is that useful, though? I might miss you point here"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1666300425,"post_id":60611093,"comment_id":130910963,"body_markdown":"Please see also this issue : [Make Spring web configuration classes use proxyBeanMethods=false by default](https://github.com/spring-projects/spring-framework/issues/23004)","body":"Please see also this issue : <a href=\"https://github.com/spring-projects/spring-framework/issues/23004\" rel=\"nofollow noreferrer\">Make Spring web configuration classes use proxyBeanMethods=false by default</a>"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1666300903,"post_id":60611093,"comment_id":130911098,"body_markdown":"And also, on Spring Security : [Switch to proxy-less configuration by leveraging @Configuration(proxyBeanMethods = false)](https://github.com/spring-projects/spring-security/issues/6818)","body":"And also, on Spring Security : <a href=\"https://github.com/spring-projects/spring-security/issues/6818\" rel=\"nofollow noreferrer\">Switch to proxy-less configuration by leveraging @Configuration(proxyBeanMethods = false)</a>"}],"answers":[{"comments":[{"owner":{"account_id":17121470,"reputation":381,"user_id":12389586,"display_name":"trilocho"},"score":0,"creation_date":1583824491,"post_id":60612839,"comment_id":107234836,"body_markdown":"I see but how setting proxyBeanMethods to false will improve the application start up time and memory usage ?","body":"I see but how setting proxyBeanMethods to false will improve the application start up time and memory usage ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1583824598,"post_id":60612839,"comment_id":107234870,"body_markdown":"It might slightly improve startup time, as it doesn&#39;t need to create proxies for the configuration class. However use cautiosly as it changes the behavior of your methods (and might endup creating multiple instances of a bean instead of a single one! especiallly when combined with `@Lazy` as each call would create a new instance, effectivly leading to prototype scoped beans!).","body":"It might slightly improve startup time, as it doesn&#39;t need to create proxies for the configuration class. However use cautiosly as it changes the behavior of your methods (and might endup creating multiple instances of a bean instead of a single one! especiallly when combined with <code>@Lazy</code> as each call would create a new instance, effectivly leading to prototype scoped beans!)."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1583823805,"creation_date":1583823805,"answer_id":60612839,"question_id":60611093,"body_markdown":"It isn&#39;t the same as `@Lazy` and this is also explained in the [javadoc][1] of the property. \r\n\r\nThe default is `true` meaning each `@Bean` method will get proxied through  CgLib. Each call to the method will pass through the proxy and assuming singleton scoped beans, it will return the same instance each time the method is called. \r\n\r\nWhen setting it to `false` no such proxy method will be created and each call to the method will create a new instance of the bean. It will act just as a factory method. This is basically the same as the so called [Bean Lite Mode][2], or `@Bean` methods on non-`@Configuration` annotated classes. \r\n\r\nNow the latter isn&#39;t the same as `@Lazy` which will only defer the construction to the moment it is needed.\r\n\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html#proxyBeanMethods--\r\n[2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html","title":"ProxyBeanMethods in Spring","body":"<p>It isn't the same as <code>@Lazy</code> and this is also explained in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html#proxyBeanMethods--\" rel=\"noreferrer\">javadoc</a> of the property. </p>\n\n<p>The default is <code>true</code> meaning each <code>@Bean</code> method will get proxied through  CgLib. Each call to the method will pass through the proxy and assuming singleton scoped beans, it will return the same instance each time the method is called. </p>\n\n<p>When setting it to <code>false</code> no such proxy method will be created and each call to the method will create a new instance of the bean. It will act just as a factory method. This is basically the same as the so called <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"noreferrer\">Bean Lite Mode</a>, or <code>@Bean</code> methods on non-<code>@Configuration</code> annotated classes. </p>\n\n<p>Now the latter isn't the same as <code>@Lazy</code> which will only defer the construction to the moment it is needed.</p>\n"}],"owner":{"account_id":17121470,"reputation":381,"user_id":12389586,"display_name":"trilocho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16178,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":1,"score":15,"last_activity_date":1696767873,"creation_date":1583810188,"question_id":60611093,"body_markdown":"Can someone give a real case example of how using boolean element `proxyBeanMethods` is going to change how the application&#39;s bean interact with one another ? From my understand  setting `proxyBeanMethods` to `false` is similiar to using `@Lazy` annotation on  the dependencies of a bean in which those dependencies will only be created once the  methods that return them are called therefore improve the startup speed. Is there anything I&#39;m missing ?","title":"ProxyBeanMethods in Spring","body":"<p>Can someone give a real case example of how using boolean element <code>proxyBeanMethods</code> is going to change how the application's bean interact with one another ? From my understand  setting <code>proxyBeanMethods</code> to <code>false</code> is similiar to using <code>@Lazy</code> annotation on  the dependencies of a bean in which those dependencies will only be created once the  methods that return them are called therefore improve the startup speed. Is there anything I'm missing ?</p>\n"},{"tags":["java","ruby","spring-integration","stomp"],"comments":[{"owner":{"account_id":61215,"reputation":37217,"user_id":182590,"display_name":"Mark Thomas"},"score":0,"creation_date":1320859192,"post_id":8068491,"comment_id":9886025,"body_markdown":"What happens when you read from a Ruby client?","body":"What happens when you read from a Ruby client?"},{"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"score":0,"creation_date":1320862694,"post_id":8068491,"comment_id":9887176,"body_markdown":"@Mark, when read from ruby client, the content is read properly","body":"@Mark, when read from ruby client, the content is read properly"}],"answers":[{"tags":[],"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1320862760,"creation_date":1320862760,"answer_id":8069617,"question_id":8068491,"body_markdown":"Found the answer, its the header `suppress_content_length`\r\nadding this made it to work\r\n\r\n&gt; :suppress_content_length =&gt; true","title":"stomp content-type header set to plain for xml content","body":"<p>Found the answer, its the header <code>suppress_content_length</code>\nadding this made it to work</p>\n\n<blockquote>\n  <p>:suppress_content_length => true</p>\n</blockquote>\n"}],"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8069617,"answer_count":1,"score":1,"last_activity_date":1696767723,"creation_date":1320857516,"question_id":8068491,"body_markdown":"I&#39;m sending a XML content to ActiveMQ from ruby script using stomp\r\n\r\nI&#39;m explicitly setting the content-type header toapplication/xml;charset=utf-8 as shown below\r\n\r\n    client.publish queue, xml, {&#39;content-type&#39;=&gt;&#39;application/xml;charset=utf-8&#39;}\r\n\r\nBut when I read the message from a java client that uses spring-integration to read the message the content-type is text/plain.\r\n\r\nAs a result when unmarshaller is invoked the parsing is failed with the exception\r\n\r\n    1448446 [org.springframework.jms.listener.DefaultMessageListenerContainer#0-1] WARN org.springframework.jms.listener.DefaultMessageListenerContainer - Execution of JMS message listener failed\r\n    org.springframework.integration.transformer.MessageTransformationException: failed to transform message payload\r\n    \tat org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:40)\r\n    \tat org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:49)\r\n    \tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:91)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\r\n    \tat org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:76)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:168)\r\n    \tat org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:203)\r\n    \tat org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:518)\r\n    \tat org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:479)\r\n    \tat org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:451)\r\n    \tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:323)\r\n    \tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:261)\r\n    \tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:982)\r\n    \tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:974)\r\n    \tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:876)\r\n    \tat java.lang.Thread.run(Thread.java:680)\r\n    Caused by: org.springframework.integration.core.MessagingException: Failed to create Source for payload type [[B]\r\n    \tat org.springframework.integration.xml.source.DomSourceFactory.createSource(DomSourceFactory.java:62)\r\n    \tat org.springframework.integration.xml.transformer.XmlPayloadUnmarshallingTransformer.transformPayload(XmlPayloadUnmarshallingTransformer.java:91)\r\n    \tat org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:33)\r\n    \t... 30 more\r\n\r\nWhat could be the problem","title":"stomp content-type header set to plain for xml content","body":"<p>I'm sending a XML content to ActiveMQ from ruby script using stomp</p>\n\n<p>I'm explicitly setting the content-type header toapplication/xml;charset=utf-8 as shown below</p>\n\n<pre><code>client.publish queue, xml, {'content-type'=&gt;'application/xml;charset=utf-8'}\n</code></pre>\n\n<p>But when I read the message from a java client that uses spring-integration to read the message the content-type is text/plain.</p>\n\n<p>As a result when unmarshaller is invoked the parsing is failed with the exception</p>\n\n<pre><code>1448446 [org.springframework.jms.listener.DefaultMessageListenerContainer#0-1] WARN org.springframework.jms.listener.DefaultMessageListenerContainer - Execution of JMS message listener failed\norg.springframework.integration.transformer.MessageTransformationException: failed to transform message payload\n    at org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:40)\n    at org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:49)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:91)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\n    at org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\n    at org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\n    at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:76)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\n    at org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\n    at org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\n    at org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:168)\n    at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:203)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:518)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:479)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:451)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:323)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:261)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:982)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:974)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:876)\n    at java.lang.Thread.run(Thread.java:680)\nCaused by: org.springframework.integration.core.MessagingException: Failed to create Source for payload type [[B]\n    at org.springframework.integration.xml.source.DomSourceFactory.createSource(DomSourceFactory.java:62)\n    at org.springframework.integration.xml.transformer.XmlPayloadUnmarshallingTransformer.transformPayload(XmlPayloadUnmarshallingTransformer.java:91)\n    at org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:33)\n    ... 30 more\n</code></pre>\n\n<p>What could be the problem</p>\n"},{"tags":["javascript","java","spring","spring-boot","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1696775536,"post_id":77253585,"comment_id":136193678,"body_markdown":"Use the spring security configuration provided by Vaadin in their docs.","body":"Use the spring security configuration provided by Vaadin in their docs."}],"owner":{"account_id":29625375,"reputation":1,"user_id":22705245,"display_name":"Dhruv Vishwakarma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696767580,"creation_date":1696767580,"question_id":77253585,"body_markdown":"I&#39;ve been stuck here since a while now \r\n\r\nMy Vaadin with Spring boot app just lands me to the &quot;You&#39;re Offline&quot; page everytime, Tried changing configurations but wasn&#39;t sure ablout which specific config i needed to change. \r\n\r\n\r\n```\r\npackage com.example.demofinal;\r\n\r\nimport com.vaadin.flow.component.page.AppShellConfigurator;\r\nimport com.vaadin.flow.component.page.BodySize;\r\nimport com.vaadin.flow.component.page.Push;\r\nimport com.vaadin.flow.component.page.Viewport;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.server.PWA;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.ImportResource;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@Configuration\r\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class })\r\n@EnableWebSecurity\r\n@ImportResource(&quot;classpath:http-beans.xml&quot;)\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n@Viewport(&quot;width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes, viewport-fit=cover&quot;)\r\n@Push()\r\n@PWA(name = &quot;File Upload App&quot;, shortName = &quot;Upload App&quot;)\r\n@BodySize(height = &quot;100vh&quot;, width = &quot;100vw&quot;)\r\n@PageTitle(&quot;File Upload App&quot;)\r\npublic class DemofinalApplication extends WebSecurityConfigurerAdapter implements AppShellConfigurator {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemofinalApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.headers().frameOptions().sameOrigin();\r\n        http.csrf().disable();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demofinal.views;\r\n\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.html.H1;\r\nimport com.vaadin.flow.component.notification.Notification;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.page.Push;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.component.upload.Upload;\r\nimport com.vaadin.flow.component.upload.receivers.MultiFileMemoryBuffer;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.server.PWA;\r\nimport com.vaadin.flow.theme.Theme;\r\nimport org.springframework.core.io.ByteArrayResource;\r\nimport org.springframework.http.*;\r\nimport org.springframework.util.LinkedMultiValueMap;\r\nimport org.springframework.util.MultiValueMap;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Route(&quot;upload&quot;)\r\npublic class UploadView extends VerticalLayout {\r\n\r\n\r\n    public UploadView() {\r\n        add(new H1(&quot;File Upload Form&quot;));\r\n        MultiFileMemoryBuffer buffer = new MultiFileMemoryBuffer();\r\n        Upload upload = new Upload(buffer);\r\n        Button uploadButton = new Button(&quot;Upload&quot;);\r\n        TextField appVersionField = new TextField(&quot;App Version&quot;);\r\n        TextField userIdField = new TextField(&quot;UserId&quot;);\r\n        add(userIdField, appVersionField, upload, uploadButton);\r\n\r\n        upload.setUploadButton(uploadButton);\r\n        upload.setAcceptedFileTypes(&quot;application/pdf&quot;, &quot;image/jpeg&quot;, &quot;image/png&quot;);\r\n\r\n        upload.addSucceededListener(event -&gt; {\r\n            String userId = userIdField.getValue();\r\n            String appVersion = appVersionField.getValue();\r\n\r\n            try (InputStream inputStream = buffer.getInputStream(event.getFileName());\r\n                 ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n\r\n                byte[] byteBuffer = new byte[8192];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(byteBuffer)) != -1) {\r\n                    outputStream.write(byteBuffer, 0, bytesRead);\r\n                }\r\n\r\n                // Create a MultiValueMap to hold the file and other form data\r\n                MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n                body.add(&quot;file&quot;, new ByteArrayResource(outputStream.toByteArray()) {\r\n                    @Override\r\n                    public String getFilename() {\r\n                        return event.getFileName();\r\n                    }\r\n                });\r\n                body.add(&quot;userId&quot;, userId);\r\n                body.add(&quot;appVersion&quot;, appVersion);\r\n\r\n                // Create a HttpHeaders object with Content-Type as multipart/form-data\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n                // Create a HttpEntity with body and headers\r\n                HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n                // Make a POST request to your Spring Boot API endpoint\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                        &quot;http://localhost:9099/debug&quot;, // Replace with your API endpoint URL\r\n                        HttpMethod.POST,\r\n                        requestEntity,\r\n                        String.class\r\n                );\r\n\r\n                // Handle the API response if needed\r\n                String apiResponse = response.getBody();\r\n                Notification.show(&quot;API Response: &quot; + apiResponse, 5000, Notification.Position.BOTTOM_START);\r\n\r\n            } catch (IOException e) {\r\n                // Handle exceptions, for example, show an error message to the user\r\n                Notification.show(&quot;Error uploading file: &quot; + e.getMessage(), 5000, Notification.Position.BOTTOM_START);\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nvaadin.whitelisted-packages=com.example.demofinal.*,com.vaadin\r\nvaadin.load-on-startup=true\r\n\r\n[](https://i.stack.imgur.com/y7bNN.png)\r\n\r\n\r\nI tried changing configurations which might be related to this issue but wasn&#39;t able to find the Root Cause for this issue. Help!!","title":"Spring Boot with Vaadin | Always lands on &quot;You&#39;re offline&quot; page , is there any configuration which alters such behaviour?","body":"<p>I've been stuck here since a while now</p>\n<p>My Vaadin with Spring boot app just lands me to the &quot;You're Offline&quot; page everytime, Tried changing configurations but wasn't sure ablout which specific config i needed to change.</p>\n<pre><code>package com.example.demofinal;\n\nimport com.vaadin.flow.component.page.AppShellConfigurator;\nimport com.vaadin.flow.component.page.BodySize;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.component.page.Viewport;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.server.PWA;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.ImportResource;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class })\n@EnableWebSecurity\n@ImportResource(&quot;classpath:http-beans.xml&quot;)\n@PropertySource(&quot;classpath:application.properties&quot;)\n@Viewport(&quot;width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes, viewport-fit=cover&quot;)\n@Push()\n@PWA(name = &quot;File Upload App&quot;, shortName = &quot;Upload App&quot;)\n@BodySize(height = &quot;100vh&quot;, width = &quot;100vw&quot;)\n@PageTitle(&quot;File Upload App&quot;)\npublic class DemofinalApplication extends WebSecurityConfigurerAdapter implements AppShellConfigurator {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemofinalApplication.class, args);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.headers().frameOptions().sameOrigin();\n        http.csrf().disable();\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.demofinal.views;\n\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.html.H1;\nimport com.vaadin.flow.component.notification.Notification;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.component.upload.Upload;\nimport com.vaadin.flow.component.upload.receivers.MultiFileMemoryBuffer;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.server.PWA;\nimport com.vaadin.flow.theme.Theme;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.http.*;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Route(&quot;upload&quot;)\npublic class UploadView extends VerticalLayout {\n\n\n    public UploadView() {\n        add(new H1(&quot;File Upload Form&quot;));\n        MultiFileMemoryBuffer buffer = new MultiFileMemoryBuffer();\n        Upload upload = new Upload(buffer);\n        Button uploadButton = new Button(&quot;Upload&quot;);\n        TextField appVersionField = new TextField(&quot;App Version&quot;);\n        TextField userIdField = new TextField(&quot;UserId&quot;);\n        add(userIdField, appVersionField, upload, uploadButton);\n\n        upload.setUploadButton(uploadButton);\n        upload.setAcceptedFileTypes(&quot;application/pdf&quot;, &quot;image/jpeg&quot;, &quot;image/png&quot;);\n\n        upload.addSucceededListener(event -&gt; {\n            String userId = userIdField.getValue();\n            String appVersion = appVersionField.getValue();\n\n            try (InputStream inputStream = buffer.getInputStream(event.getFileName());\n                 ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n\n                byte[] byteBuffer = new byte[8192];\n                int bytesRead;\n                while ((bytesRead = inputStream.read(byteBuffer)) != -1) {\n                    outputStream.write(byteBuffer, 0, bytesRead);\n                }\n\n                // Create a MultiValueMap to hold the file and other form data\n                MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n                body.add(&quot;file&quot;, new ByteArrayResource(outputStream.toByteArray()) {\n                    @Override\n                    public String getFilename() {\n                        return event.getFileName();\n                    }\n                });\n                body.add(&quot;userId&quot;, userId);\n                body.add(&quot;appVersion&quot;, appVersion);\n\n                // Create a HttpHeaders object with Content-Type as multipart/form-data\n                HttpHeaders headers = new HttpHeaders();\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n                // Create a HttpEntity with body and headers\n                HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n                // Make a POST request to your Spring Boot API endpoint\n                RestTemplate restTemplate = new RestTemplate();\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                        &quot;http://localhost:9099/debug&quot;, // Replace with your API endpoint URL\n                        HttpMethod.POST,\n                        requestEntity,\n                        String.class\n                );\n\n                // Handle the API response if needed\n                String apiResponse = response.getBody();\n                Notification.show(&quot;API Response: &quot; + apiResponse, 5000, Notification.Position.BOTTOM_START);\n\n            } catch (IOException e) {\n                // Handle exceptions, for example, show an error message to the user\n                Notification.show(&quot;Error uploading file: &quot; + e.getMessage(), 5000, Notification.Position.BOTTOM_START);\n                e.printStackTrace();\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>vaadin.whitelisted-packages=com.example.demofinal.*,com.vaadin\nvaadin.load-on-startup=true</p>\n<p><a href=\"https://i.stack.imgur.com/y7bNN.png\" rel=\"nofollow noreferrer\"></a></p>\n<p>I tried changing configurations which might be related to this issue but wasn't able to find the Root Cause for this issue. Help!!</p>\n"},{"tags":["java","c++","configuration","activemq"],"answers":[{"comments":[{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1320186199,"post_id":7973644,"comment_id":9750456,"body_markdown":"Is there a guide I can follow? Can JMX run on shell? or through ssh?","body":"Is there a guide I can follow? Can JMX run on shell? or through ssh?"},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1320186272,"post_id":7973644,"comment_id":9750474,"body_markdown":"I actually see that you can connect to a remote host. I will give it a try.","body":"I actually see that you can connect to a remote host. I will give it a try."}],"tags":[],"owner":{"account_id":61561,"reputation":1199,"user_id":183395,"display_name":"bsnyder"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1320185951,"creation_date":1320185951,"answer_id":7973644,"question_id":7973164,"body_markdown":"The ActiveMQ configuration can be changed at runtime via JMX. However, any changes that are made at runtime will not be persisted to the configuration file. ","title":"ActiveMQ real time configuration","body":"<p>The ActiveMQ configuration can be changed at runtime via JMX. However, any changes that are made at runtime will not be persisted to the configuration file. </p>\n"},{"tags":[],"owner":{"account_id":955704,"reputation":5543,"user_id":981048,"display_name":"jkysam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320186555,"creation_date":1320186555,"answer_id":7973738,"question_id":7973164,"body_markdown":"As mentioned by bsnyder it you can change broker config at runtime with JMX. \r\nAn easy way of doing this is to use JConsole to get to the broker&#39;s JMX Beans ([instructions here][1]), there is also a JMX API if you need to this through code. \r\n\r\n\r\n  [1]: http://activemq.apache.org/jmx.html","title":"ActiveMQ real time configuration","body":"<p>As mentioned by bsnyder it you can change broker config at runtime with JMX. \nAn easy way of doing this is to use JConsole to get to the broker's JMX Beans (<a href=\"http://activemq.apache.org/jmx.html\" rel=\"nofollow\">instructions here</a>), there is also a JMX API if you need to this through code. </p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7973644,"answer_count":2,"score":2,"last_activity_date":1696767398,"creation_date":1320183007,"question_id":7973164,"body_markdown":"I would like to change ActiveMQ configuration while it is running.\r\n\r\nLet&#39;s say I want to increase the memory usage, flow control etc. while ActiveMQ is running, but i don&#39;t want to restart it. Is this possible? I tried it but the changes didn&#39;t kick in.\r\n\r\nIs there a way to do this?\r\n\r\nI do have C++ and java clients (producers and consumers respectively)","title":"ActiveMQ real time configuration","body":"<p>I would like to change ActiveMQ configuration while it is running.</p>\n<p>Let's say I want to increase the memory usage, flow control etc. while ActiveMQ is running, but i don't want to restart it. Is this possible? I tried it but the changes didn't kick in.</p>\n<p>Is there a way to do this?</p>\n<p>I do have C++ and java clients (producers and consumers respectively)</p>\n"},{"tags":["java","http","pastebin"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1632378842,"post_id":69286463,"comment_id":122476489,"body_markdown":"Better you should post your solution as an [answer](https://stackoverflow.com/help/self-answer) rather than as an edit to your question.","body":"Better you should post your solution as an <a href=\"https://stackoverflow.com/help/self-answer\">answer</a> rather than as an edit to your question."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1696767441,"post_id":69286463,"comment_id":136192947,"body_markdown":"As you are aware, please do not edit solution announcements into the question. Accept (i.e. click the &quot;tick&quot; next to it) one of the existing answer, if there are any. You can also create your own answer, and even accept it, if your solution is not yet covered by an existing answer. Compare https://stackoverflow.com/help/self-answer","body":"As you are aware, please do not edit solution announcements into the question. Accept (i.e. click the &quot;tick&quot; next to it) one of the existing answer, if there are any. You can also create your own answer, and even accept it, if your solution is not yet covered by an existing answer. Compare <a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}],"answers":[{"comments":[{"owner":{"account_id":22827343,"reputation":21,"user_id":16976400,"display_name":"KZB"},"score":1,"creation_date":1694364308,"post_id":75491121,"comment_id":135878464,"body_markdown":"I have already answered my own question in my question a very long time ago (  under EDIT ). I should have put it in a separate post, but thanks anyways.","body":"I have already answered my own question in my question a very long time ago (  under EDIT ). I should have put it in a separate post, but thanks anyways."}],"tags":[],"owner":{"account_id":27816548,"reputation":1,"user_id":21237811,"display_name":"DiamondPG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676693289,"creation_date":1676693289,"answer_id":75491121,"question_id":69286463,"body_markdown":"I had this problem when I was developing with Construct 2. I had to use an external website to bypass some security protocol. I don&#39;t remember what it was, but it worked. Here is the website. https://api.allorigins.win/raw?url=. Paste your raw url after &quot;url=&quot;\r\n\r\nI realize I am very late. but if you are still stuck on it, I hope this helps.","title":"Getting the raw content from pastebin [Java]","body":"<p>I had this problem when I was developing with Construct 2. I had to use an external website to bypass some security protocol. I don't remember what it was, but it worked. Here is the website. <a href=\"https://api.allorigins.win/raw?url=\" rel=\"nofollow noreferrer\">https://api.allorigins.win/raw?url=</a>. Paste your raw url after &quot;url=&quot;</p>\n<p>I realize I am very late. but if you are still stuck on it, I hope this helps.</p>\n"}],"owner":{"account_id":22827343,"reputation":21,"user_id":16976400,"display_name":"KZB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696767346,"creation_date":1632321723,"question_id":69286463,"body_markdown":"When I try to retrieve the data from a pastebin and convert it to a string. It returns nothing. Just an empty line.\r\n\r\nCode:\r\n```\r\ntry {\r\n    URL url = new URL(&quot;http://pastebin.com/raw.php?i=&quot;+pasteKey);\r\n    String text = new BufferedReader(new InputStreamReader(url.openStream(), \r\n             StandardCharsets.UTF_8)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    System.out.println(text);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nI have tried using `GET` but got the same result","title":"Getting the raw content from pastebin [Java]","body":"<p>When I try to retrieve the data from a pastebin and convert it to a string. It returns nothing. Just an empty line.</p>\n<p>Code:</p>\n<pre><code>try {\n    URL url = new URL(&quot;http://pastebin.com/raw.php?i=&quot;+pasteKey);\n    String text = new BufferedReader(new InputStreamReader(url.openStream(), \n             StandardCharsets.UTF_8)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n    System.out.println(text);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I have tried using <code>GET</code> but got the same result</p>\n"},{"tags":["java","android","kotlin","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696718441,"creation_date":1696718441,"answer_id":77251742,"question_id":77251716,"body_markdown":"You can rewrite it as follows:\r\n\r\n```Kotlin\r\n@GET(&quot;/auth/send-email&quot;)\r\nfun sendEmail(@Query(&quot;email&quot;) email: String)\r\n```","title":"How can I fix the error in Retrofit 2? I have an error sending a request","body":"<p>You can rewrite it as follows:</p>\n<pre><code>@GET(&quot;/auth/send-email&quot;)\nfun sendEmail(@Query(&quot;email&quot;) email: String)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23369220,"reputation":164,"user_id":17440365,"display_name":"mohammad.hasan.mahdavi81"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696764229,"creation_date":1696764229,"answer_id":77253417,"question_id":77251716,"body_markdown":"As the exception message said : \r\n\r\n&gt; for dynamic query parameters use @Query\r\n\r\n`@Path` is used for replacing a URL path segment, not for adding query parameters.\r\n \r\nYour function should be something like this: \r\n\r\n    @GET(&quot;/auth/send-email&quot;)\r\n    fun sendEmail(@Query(&quot;email&quot;) email: String)","title":"How can I fix the error in Retrofit 2? I have an error sending a request","body":"<p>As the exception message said :</p>\n<blockquote>\n<p>for dynamic query parameters use @Query</p>\n</blockquote>\n<p><code>@Path</code> is used for replacing a URL path segment, not for adding query parameters.</p>\n<p>Your function should be something like this:</p>\n<pre><code>@GET(&quot;/auth/send-email&quot;)\nfun sendEmail(@Query(&quot;email&quot;) email: String)\n</code></pre>\n"}],"owner":{"account_id":26356906,"reputation":3,"user_id":20013762,"display_name":"Jamshid_5818"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253417,"answer_count":2,"score":0,"last_activity_date":1696767108,"creation_date":1696717927,"question_id":77251716,"body_markdown":"I don&#39;t understand where the error is. My project has REGISTER section. I need to get the email and send it to AuthService.\r\n\r\nThis image shows the error:\r\n\r\n[![][1]][1]\r\n\r\nThis is my AuthService:\r\n\r\n[![][2]][2]\r\n\r\nThis is a sample request from Postman:\r\n\r\n[![][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/R86Eo.png\r\n  [2]: https://i.stack.imgur.com/6JuO1.png\r\n  [3]: https://i.stack.imgur.com/2fVGY.png","title":"How can I fix the error in Retrofit 2? I have an error sending a request","body":"<p>I don't understand where the error is. My project has REGISTER section. I need to get the email and send it to AuthService.</p>\n<p>This image shows the error:</p>\n<p><a href=\"https://i.stack.imgur.com/R86Eo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R86Eo.png\" alt=\"\" /></a></p>\n<p>This is my AuthService:</p>\n<p><a href=\"https://i.stack.imgur.com/6JuO1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6JuO1.png\" alt=\"\" /></a></p>\n<p>This is a sample request from Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/2fVGY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2fVGY.png\" alt=\"\" /></a></p>\n"},{"tags":["java","android","kotlin","adapter","recycle"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1696783001,"post_id":77253554,"comment_id":136194470,"body_markdown":"Please, add the code causing the error here. Providing also the stack trace will help.","body":"Please, add the code causing the error here. Providing also the stack trace will help."}],"owner":{"account_id":26356906,"reputation":3,"user_id":20013762,"display_name":"Jamshid_5818"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696767064,"creation_date":1696767064,"question_id":77253554,"body_markdown":"I am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?\r\n\r\n[You can get my project from this link. I just want to get it right](https://github.com/Jamshid2606/MultipleRecycleView)\r\n\r\n\r\n\r\nI am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?\r\n\r\n\r\n[You can get my project from this link. I just want to get it right](https://github.com/Jamshid2606/MultipleRecycleView)","title":"I am passing data to the recycleView in reverse order. But I got an error somewhere","body":"<p>I am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?</p>\n<p><a href=\"https://github.com/Jamshid2606/MultipleRecycleView\" rel=\"nofollow noreferrer\">You can get my project from this link. I just want to get it right</a></p>\n<p>I am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?</p>\n<p><a href=\"https://github.com/Jamshid2606/MultipleRecycleView\" rel=\"nofollow noreferrer\">You can get my project from this link. I just want to get it right</a></p>\n"},{"tags":["java","avl-tree"],"comments":[{"owner":{"account_id":2667036,"reputation":3989,"user_id":2305243,"accept_rate":100,"display_name":"Alan Dong"},"score":1,"creation_date":1390629211,"post_id":21347187,"comment_id":32185339,"body_markdown":"Please refer http://stackoverflow.com/questions/12985226/avl-tree-minimum-node","body":"Please refer <a href=\"http://stackoverflow.com/questions/12985226/avl-tree-minimum-node\" title=\"avl tree minimum node\">stackoverflow.com/questions/12985226/avl-tree-minimum-node</a>"},{"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"score":1,"creation_date":1390629323,"post_id":21347187,"comment_id":32185361,"body_markdown":"The answer for that question does not answer my problem.","body":"The answer for that question does not answer my problem."}],"answers":[{"comments":[{"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"score":0,"creation_date":1390629249,"post_id":21347225,"comment_id":32185346,"body_markdown":"But how does height of 6 has 7 + 4 + 1 =12?","body":"But how does height of 6 has 7 + 4 + 1 =12?"},{"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"score":0,"creation_date":1390629548,"post_id":21347225,"comment_id":32185411,"body_markdown":"Can you explain how do you get S(1) --&gt; 2?","body":"Can you explain how do you get S(1) --&gt; 2?"},{"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"score":1,"creation_date":1390629715,"post_id":21347225,"comment_id":32185444,"body_markdown":"Thank you so much! I totally forgot it means it calls itself.","body":"Thank you so much! I totally forgot it means it calls itself."}],"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1390630778,"creation_date":1390629173,"answer_id":21347225,"question_id":21347187,"body_markdown":"In `S(h) = S(h-1) + S(h-2) + 1`,\r\n\r\n`S(h)` is a [**recursive** function/formula][1]. A recursive function calls itself (in a smaller or simpler way) inside its body.\r\n\r\nNote that a recursive function must have some base cases, in this case:\r\n\r\n    S(1) = 0\r\n    S(2) = 1\r\n\r\nSo let&#39;s say `h = 6`, then `S(h = 6)` will be (just replacing):\r\n\r\n    S(6) = S(6-1) + S(6-2) + 1\r\n    S(6) = S(5) + S(4) + 1 \r\n    S(6) = 2*S(4) + S(3) + 1 + 1\r\n    S(6) = 2*(S(3) + S(2) + 1) + S(3) + 2\r\n    S(6) = 3*S(3) + 2*S(2) + 4\r\n    S(6) = 3*(S(2) + S(1) + 1) + 2*S(2) + 4\r\n    S(6) = 5*S(2) + 3*S(1) + 7\r\n    S(6) = 5*1 + 3*0 + 7\r\n    S(6) = 12\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Recursion_%28computer_science%29","title":"Minimum number of node in AVL tree?","body":"<p>In <code>S(h) = S(h-1) + S(h-2) + 1</code>,</p>\n\n<p><code>S(h)</code> is a <a href=\"http://en.wikipedia.org/wiki/Recursion_%28computer_science%29\"><strong>recursive</strong> function/formula</a>. A recursive function calls itself (in a smaller or simpler way) inside its body.</p>\n\n<p>Note that a recursive function must have some base cases, in this case:</p>\n\n<pre><code>S(1) = 0\nS(2) = 1\n</code></pre>\n\n<p>So let's say <code>h = 6</code>, then <code>S(h = 6)</code> will be (just replacing):</p>\n\n<pre><code>S(6) = S(6-1) + S(6-2) + 1\nS(6) = S(5) + S(4) + 1 \nS(6) = 2*S(4) + S(3) + 1 + 1\nS(6) = 2*(S(3) + S(2) + 1) + S(3) + 2\nS(6) = 3*S(3) + 2*S(2) + 4\nS(6) = 3*(S(2) + S(1) + 1) + 2*S(2) + 4\nS(6) = 5*S(2) + 3*S(1) + 7\nS(6) = 5*1 + 3*0 + 7\nS(6) = 12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390714265,"creation_date":1390629323,"answer_id":21347246,"question_id":21347187,"body_markdown":"You&#39;re confusing `S(h-1)` with `S(h)-1`, the first is the (minimum) size of a tree with height `h-1`, the second the size of a tree of height `h`, _then_ subtract one from that.\r\n\r\n","title":"Minimum number of node in AVL tree?","body":"<p>You're confusing <code>S(h-1)</code> with <code>S(h)-1</code>, the first is the (minimum) size of a tree with height <code>h-1</code>, the second the size of a tree of height <code>h</code>, <em>then</em> subtract one from that.</p>\n"},{"tags":[],"owner":{"account_id":4488111,"reputation":11,"user_id":3650052,"display_name":"kobiyashi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400427886,"creation_date":1400427886,"answer_id":23723777,"question_id":21347187,"body_markdown":"using the Fibonacci sequence in two ways:\r\nthe first way is less complex but not as efficient as the second one. In order to understand the second way you need to know some math, which I wont explain here unless you really wish for it or check out wiki for some answers\r\nfirst way:\r\n\r\n    public int findMinNodes(int h){\r\n       if(h&lt;0)\r\n          return 0;\r\n       int a=1;\r\n       int b=2;\r\n       int c;\r\n       for(int i=1;i&lt;h;i++){\r\n          c=a+b+1;\r\n          a=b;\r\n          b=c;\r\n          }\r\n       return b;\r\n    }\r\n\r\nsecond way:\r\n\r\n    public static int findMinNodes(int h){\r\n\t\t   return (int)(Math.round(((Math.sqrt(5)+2)/\r\n\t\t\t\tMath.sqrt(5))*Math.pow((1+\r\n\t\t\t\tMath.sqrt(5))/2,h)-1));\r\n\t        }\r\nNote:if you try the second method with really large inputs (say h=6000) your answer will display &quot;infinity&quot; that is due to the Math methods.","title":"Minimum number of node in AVL tree?","body":"<p>using the Fibonacci sequence in two ways:\nthe first way is less complex but not as efficient as the second one. In order to understand the second way you need to know some math, which I wont explain here unless you really wish for it or check out wiki for some answers\nfirst way:</p>\n\n<pre><code>public int findMinNodes(int h){\n   if(h&lt;0)\n      return 0;\n   int a=1;\n   int b=2;\n   int c;\n   for(int i=1;i&lt;h;i++){\n      c=a+b+1;\n      a=b;\n      b=c;\n      }\n   return b;\n}\n</code></pre>\n\n<p>second way:</p>\n\n<pre><code>public static int findMinNodes(int h){\n       return (int)(Math.round(((Math.sqrt(5)+2)/\n            Math.sqrt(5))*Math.pow((1+\n            Math.sqrt(5))/2,h)-1));\n        }\n</code></pre>\n\n<p>Note:if you try the second method with really large inputs (say h=6000) your answer will display \"infinity\" that is due to the Math methods.</p>\n"},{"tags":[],"owner":{"account_id":4212409,"reputation":1,"user_id":3449719,"display_name":"user3449719"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417190646,"creation_date":1417190646,"answer_id":27192361,"question_id":21347187,"body_markdown":"Min nodes in avl tree with height h are when it has a balancing factor of either 1 or-1.\r\nIn that kind of avl tree\r\nOne sub tree has height h-1 and other sub tree&#39;s height is h-2. \r\nTherefore we calculate no. Of nodes of tree of height h-1 and h-2 recursively and add 1 to it. \r\n1 is added to count root node of previous tree. \r\n\r\n","title":"Minimum number of node in AVL tree?","body":"<p>Min nodes in avl tree with height h are when it has a balancing factor of either 1 or-1.\nIn that kind of avl tree\nOne sub tree has height h-1 and other sub tree's height is h-2. \nTherefore we calculate no. Of nodes of tree of height h-1 and h-2 recursively and add 1 to it. \n1 is added to count root node of previous tree. </p>\n"},{"tags":[],"owner":{"account_id":6454493,"reputation":43,"user_id":5000396,"display_name":"Duncan Iglesias"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449964366,"creation_date":1449964366,"answer_id":34246385,"question_id":21347187,"body_markdown":"Just a quick note to the question above, the minimum number of nodes in an AVL tree for a tree with a height of 6 is not 12, it should be 20. The following equation should demonstrate the recursive call of the S(h) function.\r\n\r\nSince we know that S(1) = 1, S(2) = 2, &amp; S(3) = 4, we can reduce the following equation to these knowns for h = 6.\r\n\r\n    S(h) = S(h-1) + S(h-2) + 1\r\n    S(6) = S(5) + S(4) + 1                           // recursive S(5) &amp; S(4)\r\n    S(6) = (S(4) + S(3) + 1) + (S(3) + S(2) + 1) + 1 // don&#39;t forget &#39;+1&#39;\r\n    S(6) = [(S(3) + S(2) + 1) + S(3) + 1] + (S(3) + S(2) + 1) + 1\r\n\r\n    // now sub in the values\r\n    S(6) = [(4 + 2 + 1) + 4 + 1] + (4 + 2 + 1) + 1\r\n    S(6) = 4 + 2 + 1 + 4 + 1 + 4 + 2 + 1 + 1\r\n    S(6) = 20\r\n\r\nI hope this helps. Please let me know if I overlooked something!","title":"Minimum number of node in AVL tree?","body":"<p>Just a quick note to the question above, the minimum number of nodes in an AVL tree for a tree with a height of 6 is not 12, it should be 20. The following equation should demonstrate the recursive call of the S(h) function.</p>\n\n<p>Since we know that S(1) = 1, S(2) = 2, &amp; S(3) = 4, we can reduce the following equation to these knowns for h = 6.</p>\n\n<pre><code>S(h) = S(h-1) + S(h-2) + 1\nS(6) = S(5) + S(4) + 1                           // recursive S(5) &amp; S(4)\nS(6) = (S(4) + S(3) + 1) + (S(3) + S(2) + 1) + 1 // don't forget '+1'\nS(6) = [(S(3) + S(2) + 1) + S(3) + 1] + (S(3) + S(2) + 1) + 1\n\n// now sub in the values\nS(6) = [(4 + 2 + 1) + 4 + 1] + (4 + 2 + 1) + 1\nS(6) = 4 + 2 + 1 + 4 + 1 + 4 + 2 + 1 + 1\nS(6) = 20\n</code></pre>\n\n<p>I hope this helps. Please let me know if I overlooked something!</p>\n"},{"comments":[{"owner":{"account_id":6658711,"reputation":312,"user_id":5138449,"display_name":"Chandra Sekar"},"score":1,"creation_date":1514274912,"post_id":34770585,"comment_id":82920163,"body_markdown":"It depends on the height of the root if root @ level 0 (height 0) then your answer is right if root @ level1 its wrong it depends on how we are taking the height","body":"It depends on the height of the root if root @ level 0 (height 0) then your answer is right if root @ level1 its wrong it depends on how we are taking the height"}],"tags":[],"owner":{"account_id":2968367,"reputation":131,"user_id":2521040,"display_name":"Rana Priyanka"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1651474382,"creation_date":1452698993,"answer_id":34770585,"question_id":21347187,"body_markdown":"The minimum number of nodes in an AVL tree for a tree with a height of 6 is not 20, it should be 33. \r\n\r\nThe following equation should demonstrate the recursive call of the N(h) function.\r\n\r\nSince we know that N(0)=1 ,N(1) = 2, N(2) = 4, we can reduce the following equation to these knowns for h = 6.\r\n\r\nBecause AVL tree is balanced BST, for each height h, we must form a  h-1 and h-2 tree before moving forward to construct a height h AVL tree by adding another node. \r\nThus, formula N(h)=1+N(h-1)+N(h-2)\r\n\r\nN(3)=1+N(3-1)+N(3-2)=1+N(2)+N(1)=7\r\n\r\nN(4)=1+N(4-1)+N(4-2)=1+N(3)+N(2)=12\r\n\r\nN(5)=1+N(5-1)+N(5-2)=1+N(4)+N(3)=20\r\n\r\nN(6)=1+N(6-1)+N(6-2)=1+N(5)+N(4)=33\r\n\r\nI hope this may help you","title":"Minimum number of node in AVL tree?","body":"<p>The minimum number of nodes in an AVL tree for a tree with a height of 6 is not 20, it should be 33.</p>\n<p>The following equation should demonstrate the recursive call of the N(h) function.</p>\n<p>Since we know that N(0)=1 ,N(1) = 2, N(2) = 4, we can reduce the following equation to these knowns for h = 6.</p>\n<p>Because AVL tree is balanced BST, for each height h, we must form a  h-1 and h-2 tree before moving forward to construct a height h AVL tree by adding another node.\nThus, formula N(h)=1+N(h-1)+N(h-2)</p>\n<p>N(3)=1+N(3-1)+N(3-2)=1+N(2)+N(1)=7</p>\n<p>N(4)=1+N(4-1)+N(4-2)=1+N(3)+N(2)=12</p>\n<p>N(5)=1+N(5-1)+N(5-2)=1+N(4)+N(3)=20</p>\n<p>N(6)=1+N(6-1)+N(6-2)=1+N(5)+N(4)=33</p>\n<p>I hope this may help you</p>\n"},{"tags":[],"owner":{"account_id":3758357,"reputation":69,"user_id":3124166,"display_name":"Michael B"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1490499119,"creation_date":1490499119,"answer_id":43024693,"question_id":21347187,"body_markdown":"For the function N(h) = 1 + N(h - 1) + N(h - 2)\r\n\r\nMIT Recitation 04 states the base cases for this recursive function are:\r\nN(1) = 1; N(2) = 2\r\n\r\ntherefore\r\n\r\nN(3) = 1 + N(2) + N(1) = 1 + 2 + 1 = 4\r\n\r\nN(4) = 1 + N(3) + N(2) = 1 + 4 + 2 = 7\r\n\r\nN(5) = 1 + N(4) + N(3) = 1 + 7 + 4 = 12\r\n\r\nN(6) = 1 + N(5) + N(4) = 1 + 12 + 7 = 20\r\n\r\nN(7) = 1 + N(6) + N(5) = 1 + 20 + 12 = 33\r\n\r\nN(8) = 1 + N(7) + N(6) = 1 + 33 + 20 = 54\r\n\r\nand so on, just keep plugging the numbers in from previous answers...\r\n\r\n\r\nhttps://courses.csail.mit.edu/6.006/spring11/rec/rec04.pdf","title":"Minimum number of node in AVL tree?","body":"<p>For the function N(h) = 1 + N(h - 1) + N(h - 2)</p>\n\n<p>MIT Recitation 04 states the base cases for this recursive function are:\nN(1) = 1; N(2) = 2</p>\n\n<p>therefore</p>\n\n<p>N(3) = 1 + N(2) + N(1) = 1 + 2 + 1 = 4</p>\n\n<p>N(4) = 1 + N(3) + N(2) = 1 + 4 + 2 = 7</p>\n\n<p>N(5) = 1 + N(4) + N(3) = 1 + 7 + 4 = 12</p>\n\n<p>N(6) = 1 + N(5) + N(4) = 1 + 12 + 7 = 20</p>\n\n<p>N(7) = 1 + N(6) + N(5) = 1 + 20 + 12 = 33</p>\n\n<p>N(8) = 1 + N(7) + N(6) = 1 + 33 + 20 = 54</p>\n\n<p>and so on, just keep plugging the numbers in from previous answers...</p>\n\n<p><a href=\"https://courses.csail.mit.edu/6.006/spring11/rec/rec04.pdf\" rel=\"noreferrer\">https://courses.csail.mit.edu/6.006/spring11/rec/rec04.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":10018483,"reputation":21,"user_id":7408960,"display_name":"Gautier Blandin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639826276,"creation_date":1639826276,"answer_id":70402954,"question_id":21347187,"body_markdown":"The question is a bit old, but I&#39;ve just studied the subject and so I can provide a detailed answer.\r\n\r\n**If you just want the answer :** \r\nThe minimum of nodes in an AVL tree of height h is f(h+2) - 1 where f is the [Fibonacci sequence][1], defined as follow :\r\nf(0) = 1, f(1) = 1, f(n+2) = f(n+1) + f(n).\r\n\r\n*Proof :* \r\n\r\nWe can prove this relationship by proving the two following proposition by recursion :\r\n\r\nLet s(n) be the minimum number of nodes in an AVL tree of height n.\r\n\r\nWe have : s(0) = 1, s(1) = 2, s(n+2) = s(n+1) + s(n) + 1.\r\n\r\n**Proposition 1 : s(n) = f(0) + f(1) + f(2) + ... + f(n)**\r\n\r\n\r\nThis can quite easily be showed by recursion : \r\n\r\nFirst, at rank 0 and 1, we have : \r\ns(0) = f(0), s(1) = 2 = f(0) + f(1)\r\n\r\nNow let&#39;s show that if the propostion is true at rank n and n+1, then it is true at rank n+2 :\r\n\r\n\r\n    s(n+2) = s(n+1) + s(n) + 1 [formula for s(n+2)]\r\n           = (f(0) + f(1) + ... + f(n+1)) + (f(0) + f(1) + ... + f(n)) + 1 [apply Proposition 1 at rank n and n+1]\r\n           = f(0) + ((f(1) + f(0)) + (f(2) + f(1)) + ... + (f(n+1) + f(n))) + 1 [rearrange the sums]\r\n           = f(0) + (f(2) + f(3) + ... + f(n+2)) + 1 [apply f(n+2) = f(n+1) + f(n)]\r\n           = f(0) + f(1) + (f(2) + f(3) + ... + f(n+2)) [f(1) = 1 and rearrange]\r\n           = f(0) + f(1) + ... + f(n+2)\r\nWhich by recursion shows that the property is true for any n greater than 0.\r\n\r\n\r\n**Proposition 2 : f(n+2) - 1 = f(0) + f(1) + f(2) + ... + f(n)**\r\n\r\nThis proof is left as an exercice to the reader, but it&#39;s exactly the same principle as the previous one.\r\n\r\nNow we have, by applying props 1 and 2 successively :\r\ns(n) = f(0) + f(1) + ... + f(n) = f(n+2) - 1\r\n\r\nThere is a general expression for the Fibonacci sequence, so we can apply it for n+2 to very quickly compute the minimum number of nodes in an AVL tree of any height.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fibonacci_number","title":"Minimum number of node in AVL tree?","body":"<p>The question is a bit old, but I've just studied the subject and so I can provide a detailed answer.</p>\n<p><strong>If you just want the answer :</strong>\nThe minimum of nodes in an AVL tree of height h is f(h+2) - 1 where f is the <a href=\"https://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow noreferrer\">Fibonacci sequence</a>, defined as follow :\nf(0) = 1, f(1) = 1, f(n+2) = f(n+1) + f(n).</p>\n<p><em>Proof :</em></p>\n<p>We can prove this relationship by proving the two following proposition by recursion :</p>\n<p>Let s(n) be the minimum number of nodes in an AVL tree of height n.</p>\n<p>We have : s(0) = 1, s(1) = 2, s(n+2) = s(n+1) + s(n) + 1.</p>\n<p><strong>Proposition 1 : s(n) = f(0) + f(1) + f(2) + ... + f(n)</strong></p>\n<p>This can quite easily be showed by recursion :</p>\n<p>First, at rank 0 and 1, we have :\ns(0) = f(0), s(1) = 2 = f(0) + f(1)</p>\n<p>Now let's show that if the propostion is true at rank n and n+1, then it is true at rank n+2 :</p>\n<pre><code>s(n+2) = s(n+1) + s(n) + 1 [formula for s(n+2)]\n       = (f(0) + f(1) + ... + f(n+1)) + (f(0) + f(1) + ... + f(n)) + 1 [apply Proposition 1 at rank n and n+1]\n       = f(0) + ((f(1) + f(0)) + (f(2) + f(1)) + ... + (f(n+1) + f(n))) + 1 [rearrange the sums]\n       = f(0) + (f(2) + f(3) + ... + f(n+2)) + 1 [apply f(n+2) = f(n+1) + f(n)]\n       = f(0) + f(1) + (f(2) + f(3) + ... + f(n+2)) [f(1) = 1 and rearrange]\n       = f(0) + f(1) + ... + f(n+2)\n</code></pre>\n<p>Which by recursion shows that the property is true for any n greater than 0.</p>\n<p><strong>Proposition 2 : f(n+2) - 1 = f(0) + f(1) + f(2) + ... + f(n)</strong></p>\n<p>This proof is left as an exercice to the reader, but it's exactly the same principle as the previous one.</p>\n<p>Now we have, by applying props 1 and 2 successively :\ns(n) = f(0) + f(1) + ... + f(n) = f(n+2) - 1</p>\n<p>There is a general expression for the Fibonacci sequence, so we can apply it for n+2 to very quickly compute the minimum number of nodes in an AVL tree of any height.</p>\n"},{"tags":[],"owner":{"account_id":19484937,"reputation":1,"user_id":20927917,"display_name":"Sharvil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696766116,"creation_date":1696766077,"answer_id":77253505,"question_id":21347187,"body_markdown":"The expression is (here h is the height):\r\n\r\n\r\n\r\n\r\n https://i.stack.imgur.com/iXTSI.png","title":"Minimum number of node in AVL tree?","body":"<p>The expression is (here h is the height):</p>\n<p><a href=\"https://i.stack.imgur.com/iXTSI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iXTSI.png</a></p>\n"}],"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60230,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":21347225,"answer_count":9,"score":10,"last_activity_date":1696766116,"creation_date":1390628830,"question_id":21347187,"body_markdown":"I know the formula of finding minimum number of node in a AVL tree is \r\n\r\n`S(h) = S(h-1) + S(h-2) + 1`\r\n\r\nHowever, I don&#39;t really get how to use this function, say if we have a AVL height of 6.\r\nThe answer tells me that Minimum = 7 + 4 + 1 =12. But how do you get this number? I mean when you plug in 6 isn&#39;t it (6-1) + (6-2) + 1?\r\n\r\nCan anyone explain to me how to solve this? My teacher haven&#39;t talk about this yet but I really want to figure this out myself in order to be prepared for the test next week.","title":"Minimum number of node in AVL tree?","body":"<p>I know the formula of finding minimum number of node in a AVL tree is </p>\n\n<p><code>S(h) = S(h-1) + S(h-2) + 1</code></p>\n\n<p>However, I don't really get how to use this function, say if we have a AVL height of 6.\nThe answer tells me that Minimum = 7 + 4 + 1 =12. But how do you get this number? I mean when you plug in 6 isn't it (6-1) + (6-2) + 1?</p>\n\n<p>Can anyone explain to me how to solve this? My teacher haven't talk about this yet but I really want to figure this out myself in order to be prepared for the test next week.</p>\n"},{"tags":["java","jakarta-ee","ejb"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1376136449,"post_id":18161682,"comment_id":26605331,"body_markdown":"For starters, you shouldn&#39;t be opening your `EntityManager` in a global scope; the `EntityManager` roughly corresponds to a session. If you really need to handle your own session management (injecting @PersistenceContext is better), you should be creating and closing an `EntityManager` in each call to `addNewEntry`.","body":"For starters, you shouldn&#39;t be opening your <code>EntityManager</code> in a global scope; the <code>EntityManager</code> roughly corresponds to a session. If you really need to handle your own session management (injecting @PersistenceContext is better), you should be creating and closing an <code>EntityManager</code> in each call to <code>addNewEntry</code>."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1376136532,"post_id":18161682,"comment_id":26605353,"body_markdown":"Have you confirmed that your container is treating the object as something requiring dependency injection? Not every object gets hooked into, and if you&#39;re just calling `new BlogEntryDao()` somewhere, the container may not know to initialize it as a bean.","body":"Have you confirmed that your container is treating the object as something requiring dependency injection? Not every object gets hooked into, and if you&#39;re just calling <code>new BlogEntryDao()</code> somewhere, the container may not know to initialize it as a bean."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1376136596,"post_id":18161682,"comment_id":26605367,"body_markdown":"@chrylis Yeah thanks, I am calling new BlogEntryDao actually.","body":"@chrylis Yeah thanks, I am calling new BlogEntryDao actually."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1376136801,"post_id":18161682,"comment_id":26605412,"body_markdown":"@chrylis Thanks, changing it to EJB BlogEntryDao fixed it. Can you please proivde an answer so I can accept it?","body":"@chrylis Thanks, changing it to EJB BlogEntryDao fixed it. Can you please proivde an answer so I can accept it?"},{"owner":{"account_id":6980449,"reputation":2835,"user_id":5353589,"display_name":"Weidian Huang"},"score":0,"creation_date":1482212946,"post_id":18161682,"comment_id":69670895,"body_markdown":"I think you can define init-method=&quot;initialize&quot; in the bean configuration file.","body":"I think you can define init-method=&quot;initialize&quot; in the bean configuration file."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1376137122,"creation_date":1376137122,"answer_id":18161798,"question_id":18161682,"body_markdown":"The Java EE bean annotations such as `@PostConstruct` only apply to container-managed beans. If you are simply calling `new BlogEntryDao` yourself, the container isn&#39;t going to intercept the creation and call the `@PostConstruct` method.\r\n\r\n(Furthermore, you&#39;d be better off using `@PersistenceContext` or `@PersistenceUnit` instead of manually fetching the `EntityManagerFactory` in your `initialize()` method, and you should be creating an `EntityManager` for each call to `addNewEntry()`, since they&#39;re short-lived. Making these changes would eliminate the need for `initialize()` at all.)","title":"Why is PostConstruct not called?","body":"<p>The Java EE bean annotations such as <code>@PostConstruct</code> only apply to container-managed beans. If you are simply calling <code>new BlogEntryDao</code> yourself, the container isn't going to intercept the creation and call the <code>@PostConstruct</code> method.</p>\n\n<p>(Furthermore, you'd be better off using <code>@PersistenceContext</code> or <code>@PersistenceUnit</code> instead of manually fetching the <code>EntityManagerFactory</code> in your <code>initialize()</code> method, and you should be creating an <code>EntityManager</code> for each call to <code>addNewEntry()</code>, since they're short-lived. Making these changes would eliminate the need for <code>initialize()</code> at all.)</p>\n"},{"tags":[],"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1446226082,"creation_date":1418093207,"answer_id":27370669,"question_id":18161682,"body_markdown":"Since this question comes up first on Google for &quot;postconstruct not called&quot;, another reason a `@PostConstruct` method might not be called besides using the `new` keyword instead of putting `@PostConstruct` in a Spring bean is if you have a circular dependency.  \r\n\r\nIf this bean were to depend on another bean that depended on this bean, your other bean might call `addNewEntry()` before `BlogEntryDao` was initialized, even though BlogEntryDao is a dependency for that other bean.  \r\n\r\nThis is because Spring didn&#39;t know which bean you wanted to load first due to the circular reference.  In this case, one can remove the circular reference or use `@AutoWired`/`@Value` constructor parameters instead of member values or setters, or if using xml configuration, maybe you can swap the order in which the beans are defined.","title":"Why is PostConstruct not called?","body":"<p>Since this question comes up first on Google for \"postconstruct not called\", another reason a <code>@PostConstruct</code> method might not be called besides using the <code>new</code> keyword instead of putting <code>@PostConstruct</code> in a Spring bean is if you have a circular dependency.  </p>\n\n<p>If this bean were to depend on another bean that depended on this bean, your other bean might call <code>addNewEntry()</code> before <code>BlogEntryDao</code> was initialized, even though BlogEntryDao is a dependency for that other bean.  </p>\n\n<p>This is because Spring didn't know which bean you wanted to load first due to the circular reference.  In this case, one can remove the circular reference or use <code>@AutoWired</code>/<code>@Value</code> constructor parameters instead of member values or setters, or if using xml configuration, maybe you can swap the order in which the beans are defined.</p>\n"},{"comments":[{"owner":{"account_id":1964787,"reputation":1922,"user_id":1765341,"accept_rate":88,"display_name":"stefan.m"},"score":2,"creation_date":1485787276,"post_id":33441330,"comment_id":71057408,"body_markdown":"Note: this is correct for Spring applications but the question was about general JavaEE applications.","body":"Note: this is correct for Spring applications but the question was about general JavaEE applications."}],"tags":[],"owner":{"account_id":5671980,"reputation":370,"user_id":4486357,"display_name":"Tomasz Kubiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1446224902,"creation_date":1446224902,"answer_id":33441330,"question_id":18161682,"body_markdown":"I had the same problem in my application.\r\nYou didn&#39;t post your bean context configuration xml file (so I&#39;m not sure if it&#39;s the same issue) but in my case adding this line:\r\n\r\n    &lt;context:annotation-config/&gt;\r\n\r\nSolved my problem.\r\nYou need either `&lt;context:annotation-config/&gt;` or `&lt;context:component-scan/&gt;` to enable @PostConstruct annotation.","title":"Why is PostConstruct not called?","body":"<p>I had the same problem in my application.\nYou didn't post your bean context configuration xml file (so I'm not sure if it's the same issue) but in my case adding this line:</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n</code></pre>\n\n<p>Solved my problem.\nYou need either <code>&lt;context:annotation-config/&gt;</code> or <code>&lt;context:component-scan/&gt;</code> to enable @PostConstruct annotation.</p>\n"},{"tags":[],"owner":{"account_id":5735631,"reputation":81,"user_id":4529909,"display_name":"divaylo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481561399,"creation_date":1481561399,"answer_id":41105631,"question_id":18161682,"body_markdown":"In my case @PostConstruct was not called because my initialize() method was static and was also throwing an exception. In either case the method is ignored. I hope it helps someone else who made the same mistake.\r\nThis can be found in the console:\r\n\r\n    WARNING: JSF1044: Method &#39;&lt;XXX&gt;&#39; marked with the &#39;javax.annotation.PostConstruct&#39; annotation cannot be static.  This method will be ignored.\r\n    WARNING: JSF1047: Method &#39;&lt;XXX&gt;&#39; marked with the &#39;javax.annotation.PostConstruct&#39; annotation cannot declare any checked exceptions.  This method will be ignored.\r\n\r\n","title":"Why is PostConstruct not called?","body":"<p>In my case @PostConstruct was not called because my initialize() method was static and was also throwing an exception. In either case the method is ignored. I hope it helps someone else who made the same mistake.\nThis can be found in the console:</p>\n\n<pre><code>WARNING: JSF1044: Method '&lt;XXX&gt;' marked with the 'javax.annotation.PostConstruct' annotation cannot be static.  This method will be ignored.\nWARNING: JSF1047: Method '&lt;XXX&gt;' marked with the 'javax.annotation.PostConstruct' annotation cannot declare any checked exceptions.  This method will be ignored.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597333047,"creation_date":1597330425,"answer_id":63397741,"question_id":18161682,"body_markdown":"In my case `@PostConstruct` method was not called because I was referencing to a `public instance variable` of the spring service bean directly in other service beans (ie myService.myProperty). When i made a public `getter method` for the property (ie `getMyProperty()`) and used that to get the property the `@PostConstruct` method was called again. Also I made `myProperty` `private` to prevent any accidental direct referencing in the future.\r\n\r\nAlso note that if you don&#39;t explicitly register the class with `@Bean` in a `@Configuration` annotated class and rely soley on `@Autowired` instead, the `@PostConstruct` method may not be executed immediately on startup. Only when one of the methods of the autowired class are referenced and called by another class will that class be loaded and only at that time will the `@PostConstruct` method be called. In other words, by only using `@Autowired` you are essentially lazy loading a class. If you want to load it at startup, register it with `@Bean`\r\n\r\nHeres a good SO thread about the difference between `@Bean` and `@Autowired` https://stackoverflow.com/questions/34172888/difference-between-bean-and-autowired\r\n\r\nEDIT: One last remark. When you have a webapplication and decided to annotate your class with `@RequestScope` then the `@Postconstruct` annotated method will be called each time when a new request comes in. This is because `@RequestScope` instructs spring to create a new `instance` of the class every time a new request comes in. If you want all requests to use the same instance, then you could use `@Bean` as mentioned above, but you could also use the annotation `@Singleton` above your class. This will cause the class to be loaded eagerly upon startup.","title":"Why is PostConstruct not called?","body":"<p>In my case <code>@PostConstruct</code> method was not called because I was referencing to a <code>public instance variable</code> of the spring service bean directly in other service beans (ie myService.myProperty). When i made a public <code>getter method</code> for the property (ie <code>getMyProperty()</code>) and used that to get the property the <code>@PostConstruct</code> method was called again. Also I made <code>myProperty</code> <code>private</code> to prevent any accidental direct referencing in the future.</p>\n<p>Also note that if you don't explicitly register the class with <code>@Bean</code> in a <code>@Configuration</code> annotated class and rely soley on <code>@Autowired</code> instead, the <code>@PostConstruct</code> method may not be executed immediately on startup. Only when one of the methods of the autowired class are referenced and called by another class will that class be loaded and only at that time will the <code>@PostConstruct</code> method be called. In other words, by only using <code>@Autowired</code> you are essentially lazy loading a class. If you want to load it at startup, register it with <code>@Bean</code></p>\n<p>Heres a good SO thread about the difference between <code>@Bean</code> and <code>@Autowired</code> <a href=\"https://stackoverflow.com/questions/34172888/difference-between-bean-and-autowired\">Difference between @Bean and @Autowired</a></p>\n<p>EDIT: One last remark. When you have a webapplication and decided to annotate your class with <code>@RequestScope</code> then the <code>@Postconstruct</code> annotated method will be called each time when a new request comes in. This is because <code>@RequestScope</code> instructs spring to create a new <code>instance</code> of the class every time a new request comes in. If you want all requests to use the same instance, then you could use <code>@Bean</code> as mentioned above, but you could also use the annotation <code>@Singleton</code> above your class. This will cause the class to be loaded eagerly upon startup.</p>\n"},{"tags":[],"owner":{"account_id":18337746,"reputation":351,"user_id":13354782,"display_name":"amitsatputecd7"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605499296,"creation_date":1605499296,"answer_id":64852556,"question_id":18161682,"body_markdown":"Make sure the class having `@Postconstruct` method lies within the same package. I moved class file to main package and it worked.","title":"Why is PostConstruct not called?","body":"<p>Make sure the class having <code>@Postconstruct</code> method lies within the same package. I moved class file to main package and it worked.</p>\n"},{"tags":[],"owner":{"account_id":7069108,"reputation":2285,"user_id":5411388,"accept_rate":85,"display_name":"Tinus Tate"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1612624934,"creation_date":1612624934,"answer_id":66078483,"question_id":18161682,"body_markdown":"When using Spring make sure you are using the right PostConstruct annotation from the right package.\r\n\r\n    javax.annotation.PostConstruct\r\n\r\nshould be the one. Not for example:\r\n\r\n    jakarta.annotation.PostConstruct\r\n\r\nIt took me a little while to figure out why only one of my PostConstruct didn&#39;t work.","title":"Why is PostConstruct not called?","body":"<p>When using Spring make sure you are using the right PostConstruct annotation from the right package.</p>\n<pre><code>javax.annotation.PostConstruct\n</code></pre>\n<p>should be the one. Not for example:</p>\n<pre><code>jakarta.annotation.PostConstruct\n</code></pre>\n<p>It took me a little while to figure out why only one of my PostConstruct didn't work.</p>\n"},{"comments":[{"owner":{"account_id":16351912,"reputation":125,"user_id":11810194,"display_name":"andy489"},"score":0,"creation_date":1671453298,"post_id":66160705,"comment_id":132095422,"body_markdown":"How one can do that? How to provide only one instance of the library?","body":"How one can do that? How to provide only one instance of the library?"},{"owner":{"account_id":3538562,"reputation":197,"user_id":2968769,"accept_rate":88,"display_name":"Hawk"},"score":0,"creation_date":1697029567,"post_id":66160705,"comment_id":136227866,"body_markdown":"for me, i had a multi-module project and the module containing the main function was scanning another module and the pom of both modules had this dependency, removing the dependency from pom containing the main function (since it was not using postconstruct) corrected the problem","body":"for me, i had a multi-module project and the module containing the main function was scanning another module and the pom of both modules had this dependency, removing the dependency from pom containing the main function (since it was not using postconstruct) corrected the problem"}],"tags":[],"owner":{"account_id":5336470,"reputation":144,"user_id":4255253,"display_name":"Tanimak"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613068292,"creation_date":1613068292,"answer_id":66160705,"question_id":18161682,"body_markdown":"In my case I had two instances of `javax.annotation.PostConstruct` inside classpath. One was bundled with the war package and another was provided by tomcat. When Spring is scanning for the `@PostConstruct` annotation it compares these two different instances. Therefore the `@PostConstruct` annotated method was not picked while scanning. \r\n\r\nProviding only one instance of `javax.annotation-api` library solved the issue.   ","title":"Why is PostConstruct not called?","body":"<p>In my case I had two instances of <code>javax.annotation.PostConstruct</code> inside classpath. One was bundled with the war package and another was provided by tomcat. When Spring is scanning for the <code>@PostConstruct</code> annotation it compares these two different instances. Therefore the <code>@PostConstruct</code> annotated method was not picked while scanning.</p>\n<p>Providing only one instance of <code>javax.annotation-api</code> library solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":21801695,"reputation":1,"user_id":16100428,"display_name":"curiousP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630099776,"creation_date":1630099776,"answer_id":68959542,"question_id":18161682,"body_markdown":"Since most of the ways are already mentioned. However one can also create a bean in the config file for the class \r\n\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor\r\n\r\n;\r\n\r\nThis will enable *PostConstruct* and *PreDestroy* annotations.\r\n\r\n&gt;     &lt;bean class=&quot;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&quot;&gt;&lt;/bean&gt;\r\n\r\nAlso for *Predestroy* one needs to call *context.registerShutDownHook()*\r\n\r\n","title":"Why is PostConstruct not called?","body":"<p>Since most of the ways are already mentioned. However one can also create a bean in the config file for the class</p>\n<blockquote>\n<p>org.springframework.context.annotation.CommonAnnotationBeanPostProcessor</p>\n</blockquote>\n<p>;</p>\n<p>This will enable <em>PostConstruct</em> and <em>PreDestroy</em> annotations.</p>\n<blockquote>\n<pre><code>&lt;bean class=&quot;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&quot;&gt;&lt;/bean&gt;\n</code></pre>\n</blockquote>\n<p>Also for <em>Predestroy</em> one needs to call <em>context.registerShutDownHook()</em></p>\n"}],"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66089,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":18161798,"answer_count":9,"score":37,"last_activity_date":1696765497,"creation_date":1376136276,"question_id":18161682,"body_markdown":"I am working on a simple Java EE application.\r\n\r\nI have class like this:\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.ejb.Stateless;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    @Stateless\r\n    public class BlogEntryDao {\r\n    \r\n        EntityManager em;\r\n    \r\n        @PostConstruct\r\n        public void initialize(){\r\n            EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;Persistence&quot;);\r\n            em = emf.createEntityManager();\r\n        }\r\n    \r\n        public void addNewEntry(){\r\n            Blogentry blogentry = new Blogentry();\r\n            \r\n            blogentry.setTitle(&quot;Test&quot;);\r\n            blogentry.setContent(&quot;asdfasfas&quot;);\r\n    \r\n            em.persist(blogentry);\r\n    \r\n        }\r\n    }\r\n\r\nSo my managed bean calls this method. Until here no problems. But since the initialize method is not called, I am getting an NPE in **em.persist**.\r\n\r\nWhy is the initialize method not being called? I am running this on Glassfish server.\r\n","title":"Why is PostConstruct not called?","body":"<p>I am working on a simple Java EE application.</p>\n<p>I have class like this:</p>\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.ejb.Stateless;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\n@Stateless\npublic class BlogEntryDao {\n\n    EntityManager em;\n\n    @PostConstruct\n    public void initialize(){\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;Persistence&quot;);\n        em = emf.createEntityManager();\n    }\n\n    public void addNewEntry(){\n        Blogentry blogentry = new Blogentry();\n        \n        blogentry.setTitle(&quot;Test&quot;);\n        blogentry.setContent(&quot;asdfasfas&quot;);\n\n        em.persist(blogentry);\n\n    }\n}\n</code></pre>\n<p>So my managed bean calls this method. Until here no problems. But since the initialize method is not called, I am getting an NPE in <strong>em.persist</strong>.</p>\n<p>Why is the initialize method not being called? I am running this on Glassfish server.</p>\n"},{"tags":["java","eclipse","swing","jframe"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1696760266,"post_id":77253079,"comment_id":136192286,"body_markdown":"`Login` extends `HMS_Main`, so `new Login()` implicitly calls  the `public HMS_Main()` constructor. And `HMS_Main()` does another `new Login()`, which again implicitly calls  the `public HMS_Main()` constructor. And so on.","body":"<code>Login</code> extends <code>HMS_Main</code>, so <code>new Login()</code> implicitly calls  the <code>public HMS_Main()</code> constructor. And <code>HMS_Main()</code> does another <code>new Login()</code>, which again implicitly calls  the <code>public HMS_Main()</code> constructor. And so on."}],"owner":{"account_id":29624538,"reputation":1,"user_id":22704600,"display_name":"RenzSwiing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696764496,"answer_count":0,"score":0,"last_activity_date":1696765116,"creation_date":1696758180,"question_id":77253079,"body_markdown":"Beginner programmer here so I apologize if I&#39;m going to put an all out code block, but regarding the proble, I&#39;m trying to call a method from another package and use it on my main package, but somehow the error (in the title) keeps popping up and saying that the method is null. I&#39;m kind of at a loss since I&#39;ve tried a bunch of different initializations that I know  and it&#39;s still popping up. Ty in advance to those who will make me understand. :]\r\n\r\n\r\nMain Code:\r\n\r\n```\r\npackage HMS_GUI;\r\n\r\nimport HMS_Elements.Login;\r\nimport java.awt.EventQueue;\r\n\r\npublic class HMS_Main {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tLogin window = new Login();\r\n\t\t\t\t\twindow.f1.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tpublic HMS_Main() {\r\n\t\tLogin login = new Login();\r\n\t\tlogin.ini();\r\n\t}\r\n}\r\n```\r\n\r\nPackage code to be used in Main:\r\n\r\n```\r\npackage HMS_Elements;\r\n\r\nimport HMS_GUI.HMS_Main;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPasswordField;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JTextField;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class Login extends HMS_Main {\r\n\t\r\n\tpublic JFrame f1;\r\n\tpublic JTextField txtUn;\r\n\tprivate JPasswordField txtPw;\r\n\t\r\n\tpublic void ini() {\r\n\t\t\r\n\t\tf1.setResizable(false);\r\n\t\tf1.setTitle(&quot;Electro Inc.&quot;);\r\n\t\tf1.setBounds(100, 100, 629, 361);\r\n\t\tf1.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tf1.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJButton btnLogin = new JButton(&quot;LOGIN&quot;);\r\n\t\tbtnLogin.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\ttxtUn.getText();\r\n\t\t\t\tchar[] pass = txtPw.getPassword();\r\n\t\t\t\tchar[] pw = {&#39;2&#39;, &#39;0&#39;, &#39;2&#39;, &#39;3&#39;};\r\n\t\t\t\tArrays.equals(pw,pass);\r\n\t}\r\n});\r\n\t\t\r\n\t}\r\n} \r\n```\r\n\r\nResults in the stack trace:\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError\r\n        at HMS_GUI.HMS_Main.&lt;init&gt;(HMS_Main.java:28)\r\n\tat HMS_Elements.Login.&lt;init&gt;(Login.java:17)\r\n        ...\r\n\r\ninfinitely on the same lines...\r\n```\r\n\r\n","title":"I keep getting - Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError","body":"<p>Beginner programmer here so I apologize if I'm going to put an all out code block, but regarding the proble, I'm trying to call a method from another package and use it on my main package, but somehow the error (in the title) keeps popping up and saying that the method is null. I'm kind of at a loss since I've tried a bunch of different initializations that I know  and it's still popping up. Ty in advance to those who will make me understand. :]</p>\n<p>Main Code:</p>\n<pre><code>package HMS_GUI;\n\nimport HMS_Elements.Login;\nimport java.awt.EventQueue;\n\npublic class HMS_Main {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Login window = new Login();\n                    window.f1.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n\n    public HMS_Main() {\n        Login login = new Login();\n        login.ini();\n    }\n}\n</code></pre>\n<p>Package code to be used in Main:</p>\n<pre><code>package HMS_Elements;\n\nimport HMS_GUI.HMS_Main;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPasswordField;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JTextField;\nimport javax.swing.WindowConstants;\n\npublic class Login extends HMS_Main {\n    \n    public JFrame f1;\n    public JTextField txtUn;\n    private JPasswordField txtPw;\n    \n    public void ini() {\n        \n        f1.setResizable(false);\n        f1.setTitle(&quot;Electro Inc.&quot;);\n        f1.setBounds(100, 100, 629, 361);\n        f1.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        f1.getContentPane().setLayout(null);\n        \n        JButton btnLogin = new JButton(&quot;LOGIN&quot;);\n        btnLogin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                txtUn.getText();\n                char[] pass = txtPw.getPassword();\n                char[] pw = {'2', '0', '2', '3'};\n                Arrays.equals(pw,pass);\n    }\n});\n        \n    }\n} \n</code></pre>\n<p>Results in the stack trace:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError\n        at HMS_GUI.HMS_Main.&lt;init&gt;(HMS_Main.java:28)\n    at HMS_Elements.Login.&lt;init&gt;(Login.java:17)\n        ...\n\ninfinitely on the same lines...\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sns","aws-lambda","aws-java-sdk"],"comments":[{"owner":{"account_id":38708,"reputation":22179,"user_id":111286,"display_name":"Eric Hammond"},"score":0,"creation_date":1451294233,"post_id":34490252,"comment_id":56723056,"body_markdown":"Try increasing the allocated memory setting to the max. This will speed up the processing necessary to perform the SNS API calls. You currently have it at the slowest setting. Then try increasing the timeout seconds. How many DynamoDB events are you receiving in each AWS Lambda function invocation that times out?","body":"Try increasing the allocated memory setting to the max. This will speed up the processing necessary to perform the SNS API calls. You currently have it at the slowest setting. Then try increasing the timeout seconds. How many DynamoDB events are you receiving in each AWS Lambda function invocation that times out?"},{"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"score":0,"creation_date":1451295016,"post_id":34490252,"comment_id":56723423,"body_markdown":"@EricHammond I&#39;m receiving just 1 event per lambda call. I doubt that requires more memory and time. The payload is also very tiny. Also, when I add the SNS part, even the first call to `logger.log()` (the one that logs the received data) is not reached.","body":"@EricHammond I&#39;m receiving just 1 event per lambda call. I doubt that requires more memory and time. The payload is also very tiny. Also, when I add the SNS part, even the first call to <code>logger.log()</code> (the one that logs the received data) is not reached."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1451328606,"post_id":34490252,"comment_id":56739560,"body_markdown":"Java functions are definitely slower to start and need more memory on Lambda than NodeJS or Python functions. I would definitely start by increasing the timeout and available memory.","body":"Java functions are definitely slower to start and need more memory on Lambda than NodeJS or Python functions. I would definitely start by increasing the timeout and available memory."},{"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"score":1,"creation_date":1451345603,"post_id":34490252,"comment_id":56746575,"body_markdown":"The timeout could also be caused by the fact that requests using the AWS SDK fail they are automatically retried using exponential backoff.  This could be happening if there resource doesn&#39;t exist, there is a permission issue, or the service is actually down.  Set the Lambda function timeout to over a minute or change the SDKs retry logic to avoid this type of timeout altogether.","body":"The timeout could also be caused by the fact that requests using the AWS SDK fail they are automatically retried using exponential backoff.  This could be happening if there resource doesn&#39;t exist, there is a permission issue, or the service is actually down.  Set the Lambda function timeout to over a minute or change the SDKs retry logic to avoid this type of timeout altogether."},{"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"score":0,"creation_date":1451364671,"post_id":34490252,"comment_id":56751120,"body_markdown":"Seems like it was a memory issue after all. Thanks guys. Can one of you post it as an answer ?","body":"Seems like it was a memory issue after all. Thanks guys. Can one of you post it as an answer ?"}],"answers":[{"tags":[],"owner":{"account_id":1955366,"reputation":4747,"user_id":1758461,"accept_rate":33,"display_name":"Josh Wulf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451411216,"creation_date":1451411216,"answer_id":34516213,"question_id":34490252,"body_markdown":"Increase the amount of memory allocated for the Lambda operation.","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>Increase the amount of memory allocated for the Lambda operation.</p>\n"},{"comments":[{"owner":{"account_id":5232790,"reputation":1979,"user_id":4182472,"accept_rate":33,"display_name":"TheQ"},"score":0,"creation_date":1485230293,"post_id":34541684,"comment_id":70827475,"body_markdown":"where did specifically increase the memory usage and time out?","body":"where did specifically increase the memory usage and time out?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":8,"creation_date":1500890895,"post_id":34541684,"comment_id":77517797,"body_markdown":"For future readers: it could very well be a network issue if your lambda&#39;s VPC is missing a NAT gateway. See e.g. https://stackoverflow.com/a/43234476/2442804","body":"For future readers: it could very well be a network issue if your lambda&#39;s VPC is missing a NAT gateway. See e.g. <a href=\"https://stackoverflow.com/a/43234476/2442804\">stackoverflow.com/a/43234476/2442804</a>"}],"tags":[],"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1451540681,"creation_date":1451540681,"answer_id":34541684,"question_id":34490252,"body_markdown":"Well, since none of the people who commented on my question are answering, I&#39;ll answer it myself.\r\n\r\nIncreasing the memory usage to 256 MB and timeout to 30 seconds seems to have solved the issue.","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>Well, since none of the people who commented on my question are answering, I'll answer it myself.</p>\n\n<p>Increasing the memory usage to 256 MB and timeout to 30 seconds seems to have solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":11698661,"reputation":1,"user_id":8564561,"display_name":"ProductGuy1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545755922,"creation_date":1545755922,"answer_id":53924035,"question_id":34490252,"body_markdown":"Increasing the memory allocated to the lambda function worked for me as well (this setting is in the lambda console under basic settings).\r\n\r\nThis one was maddening for me - I was using the same JAR file for 2 different lambda functions with identical configurations, and the SNS call was working for one but timing out for the other. Maddening!\r\n","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>Increasing the memory allocated to the lambda function worked for me as well (this setting is in the lambda console under basic settings).</p>\n\n<p>This one was maddening for me - I was using the same JAR file for 2 different lambda functions with identical configurations, and the SNS call was working for one but timing out for the other. Maddening!</p>\n"},{"tags":[],"owner":{"account_id":1278216,"reputation":1181,"user_id":1232977,"accept_rate":83,"display_name":"romor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696764849,"creation_date":1696764849,"answer_id":77253444,"question_id":34490252,"body_markdown":"In my case, the problem was a network issue. A lambda in an VPC typically has no network access if the VPC is missing a NAT gateway. This blocked the triggering of the SNS.\r\n\r\nYou can solve this by creating an Amazon VPC endpoint for Amazon SNS:\r\n\r\n - in the Amazon VPC console, create a new Endpoint\r\n - select the AWS service com.amazonaws.\\&lt;your-region&gt;.sns\r\n - select your lambda vpc, all subnets, security group\r\n\r\nOnce this AWS PrivateLink is established, the SNS notifications from my Lambda function immediately worked, without further changes in the SNS or Lambda itself.","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>In my case, the problem was a network issue. A lambda in an VPC typically has no network access if the VPC is missing a NAT gateway. This blocked the triggering of the SNS.</p>\n<p>You can solve this by creating an Amazon VPC endpoint for Amazon SNS:</p>\n<ul>\n<li>in the Amazon VPC console, create a new Endpoint</li>\n<li>select the AWS service com.amazonaws.&lt;your-region&gt;.sns</li>\n<li>select your lambda vpc, all subnets, security group</li>\n</ul>\n<p>Once this AWS PrivateLink is established, the SNS notifications from my Lambda function immediately worked, without further changes in the SNS or Lambda itself.</p>\n"}],"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10767,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":34541684,"answer_count":4,"score":12,"last_activity_date":1696764849,"creation_date":1451292175,"question_id":34490252,"body_markdown":"I&#39;m trying to publish some data to SNS from a Lambda function call, but it doesn&#39;t seem to be working. My function code is - \r\n\r\n    public class Handler implements RequestHandler&lt;DynamodbEvent, Void&gt; {\r\n\r\n        private static final String SNS_TOPIC_ARN = &quot;arn:aws:sns:us-west-2:account_number:function_name&quot;;\r\n\r\n        @Override\r\n        public Void handleRequest(DynamodbEvent dynamodbEvent, Context context) {\r\n\r\n            LambdaLogger logger = context.getLogger();\r\n\r\n            AmazonSNSClient snsClient = new AmazonSNSClient(new DefaultAWSCredentialsProviderChain());\r\n            snsClient.setRegion(Region.getRegion(Regions.US_WEST_2));\r\n\r\n            for (DynamodbStreamRecord record : dynamodbEvent.getRecords()) {\r\n                Map&lt;String, AttributeValue&gt; newImage = record.getDynamodb().getNewImage();\r\n\r\n                if (newImage == null) {\r\n                    continue;\r\n                }\r\n\r\n                String sensorId = newImage.get(&quot;sensorID&quot;).getS();\r\n                long timestamp = Long.parseLong(newImage.get(&quot;timestamp&quot;).getS());\r\n                double temperature = Double.parseDouble(newImage.get(&quot;payload&quot;).getM().get(&quot;temp&quot;).getN());\r\n\r\n                String data = sensorId + &quot; &quot; + timestamp + &quot; &quot; + temperature;\r\n\r\n                logger.log(data);\r\n\r\n                PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\r\n\r\n                PublishResult publishResult = snsClient.publish(publishRequest);\r\n\r\n                logger.log(&quot;Publish Successful &quot; + publishResult.getMessageId());\r\n            }\r\n\r\n            snsClient.shutdown();\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\nThis call results in a timeout (10 seconds) and the lambda invocation fails. If I comment out the SNS publishing part, i.e., if I just log the data received from DynamoDB, it works just fine. As soon as the SNS publishing code is added, it times out.\r\n\r\nThe timeout message logged in CloudWatch is - \r\n\r\n`START RequestId: 8db74187-459b-42c5-8a06-b3a74873b236 Version: $LATEST\r\nEND RequestId: 8db74187-459b-42c5-8a06-b3a74873b236\r\nREPORT RequestId: 8db74187-459b-42c5-8a06-b3a74873b236\tDuration: 10001.66 ms\tBilled Duration: 10000 ms \tMemory Size: 128 MB\tMax Memory Used: 37 MB\r\nTask timed out after 10.00 seconds`\r\n\r\nI have all the proper permissions in place, and I&#39;m able to publish to SNS using just the following code running on my PC - \r\n\r\n    PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\r\n    PublishResult publishResult = snsClient.publish(publishRequest);\r\n    System.out.println(&quot;Publish Successful &quot; + publishResult.getMessageId());\r\n\r\nI have also tried using `AmazonSNSAsyncClient` instead of `AmazonSNSClient`, it gives the same result.\r\n\r\nWhat am I missing here ?","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>I'm trying to publish some data to SNS from a Lambda function call, but it doesn't seem to be working. My function code is - </p>\n\n<pre><code>public class Handler implements RequestHandler&lt;DynamodbEvent, Void&gt; {\n\n    private static final String SNS_TOPIC_ARN = \"arn:aws:sns:us-west-2:account_number:function_name\";\n\n    @Override\n    public Void handleRequest(DynamodbEvent dynamodbEvent, Context context) {\n\n        LambdaLogger logger = context.getLogger();\n\n        AmazonSNSClient snsClient = new AmazonSNSClient(new DefaultAWSCredentialsProviderChain());\n        snsClient.setRegion(Region.getRegion(Regions.US_WEST_2));\n\n        for (DynamodbStreamRecord record : dynamodbEvent.getRecords()) {\n            Map&lt;String, AttributeValue&gt; newImage = record.getDynamodb().getNewImage();\n\n            if (newImage == null) {\n                continue;\n            }\n\n            String sensorId = newImage.get(\"sensorID\").getS();\n            long timestamp = Long.parseLong(newImage.get(\"timestamp\").getS());\n            double temperature = Double.parseDouble(newImage.get(\"payload\").getM().get(\"temp\").getN());\n\n            String data = sensorId + \" \" + timestamp + \" \" + temperature;\n\n            logger.log(data);\n\n            PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\n\n            PublishResult publishResult = snsClient.publish(publishRequest);\n\n            logger.log(\"Publish Successful \" + publishResult.getMessageId());\n        }\n\n        snsClient.shutdown();\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>This call results in a timeout (10 seconds) and the lambda invocation fails. If I comment out the SNS publishing part, i.e., if I just log the data received from DynamoDB, it works just fine. As soon as the SNS publishing code is added, it times out.</p>\n\n<p>The timeout message logged in CloudWatch is - </p>\n\n<p><code>START RequestId: 8db74187-459b-42c5-8a06-b3a74873b236 Version: $LATEST\nEND RequestId: 8db74187-459b-42c5-8a06-b3a74873b236\nREPORT RequestId: 8db74187-459b-42c5-8a06-b3a74873b236  Duration: 10001.66 ms   Billed Duration: 10000 ms   Memory Size: 128 MB Max Memory Used: 37 MB\nTask timed out after 10.00 seconds</code></p>\n\n<p>I have all the proper permissions in place, and I'm able to publish to SNS using just the following code running on my PC - </p>\n\n<pre><code>PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\nPublishResult publishResult = snsClient.publish(publishRequest);\nSystem.out.println(\"Publish Successful \" + publishResult.getMessageId());\n</code></pre>\n\n<p>I have also tried using <code>AmazonSNSAsyncClient</code> instead of <code>AmazonSNSClient</code>, it gives the same result.</p>\n\n<p>What am I missing here ?</p>\n"},{"tags":["java","testrail"],"comments":[{"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"score":0,"creation_date":1660221460,"post_id":73309885,"comment_id":129484838,"body_markdown":"You have a typo in URL - it should be `index.php?/api/v2/update_user/`, not `index.php?/api/vs/update_user/`  (**v2** not **vs**)","body":"You have a typo in URL - it should be <code>index.php?&#47;api&#47;v2&#47;update_user&#47;</code>, not <code>index.php?&#47;api&#47;vs&#47;update_user&#47;</code>  (<b>v2</b> not <b>vs</b>)"},{"owner":{"account_id":26030721,"reputation":1,"user_id":19736994,"display_name":"Zea"},"score":0,"creation_date":1660224544,"post_id":73309885,"comment_id":129486044,"body_markdown":"That was a typo in transcribing my question, I fixed it thank you @Sergi","body":"That was a typo in transcribing my question, I fixed it thank you @Sergi"},{"owner":{"account_id":16623108,"reputation":55,"user_id":12012844,"display_name":"SurPrise 2"},"score":0,"creation_date":1660228948,"post_id":73309885,"comment_id":129488016,"body_markdown":"From the API i guess you should call it with PUT, not POST","body":"From the API i guess you should call it with PUT, not POST"},{"owner":{"account_id":26030721,"reputation":1,"user_id":19736994,"display_name":"Zea"},"score":0,"creation_date":1660245679,"post_id":73309885,"comment_id":129493688,"body_markdown":"@SurPrise2 The API handles all change requests (including updates and deletes) with a POST request.","body":"@SurPrise2 The API handles all change requests (including updates and deletes) with a POST request."}],"answers":[{"tags":[],"owner":{"account_id":29313952,"reputation":61,"user_id":22459129,"display_name":"TGavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696764489,"creation_date":1696764071,"answer_id":77253406,"question_id":73309885,"body_markdown":"I successfully updated the user with the help of &quot;update_user&quot; end point in TestRail version 8.0.1 without encountering any issues. My client of choice for this process was POSTMAN.\r\n\r\nIt was a POST request with the below endpoint\r\n\r\n```\r\nhttps://{TESTRAIL_INSTANCE}/index.php?/api/v2/update_user/{USER_ID}\r\n\r\n```\r\n \r\nThe request body looks like below (as in this case I only wanted to change the the name of the user) \r\n\r\n```\r\n{\r\n    &quot;name&quot;: &quot;ABCD&quot;\r\n}\r\n```\r\n\r\nand I got the 200 as a response and the name of the user was updated successfully.\r\n\r\nSo, the end point is working fine without any issue. For more details you can refer to the below documentation available in TestRail \r\n[Update User][1] \r\n\r\n\r\n  [1]: https://support.testrail.com/hc/en-us/articles/7077978310292-Users#updateuser\r\n\r\nFurthermore, could you please attempt this using TestRail 8.0 and confirm whether the issue lies with your code or the TestRail version?","title":"TestRail API endpoint update_user/:user_id returning HTTP 404(&quot;Unknown method &#39;update_user&#39;&quot;)","body":"<p>I successfully updated the user with the help of &quot;update_user&quot; end point in TestRail version 8.0.1 without encountering any issues. My client of choice for this process was POSTMAN.</p>\n<p>It was a POST request with the below endpoint</p>\n<pre><code>https://{TESTRAIL_INSTANCE}/index.php?/api/v2/update_user/{USER_ID}\n\n</code></pre>\n<p>The request body looks like below (as in this case I only wanted to change the the name of the user)</p>\n<pre><code>{\n    &quot;name&quot;: &quot;ABCD&quot;\n}\n</code></pre>\n<p>and I got the 200 as a response and the name of the user was updated successfully.</p>\n<p>So, the end point is working fine without any issue. For more details you can refer to the below documentation available in TestRail\n<a href=\"https://support.testrail.com/hc/en-us/articles/7077978310292-Users#updateuser\" rel=\"nofollow noreferrer\">Update User</a></p>\n<p>Furthermore, could you please attempt this using TestRail 8.0 and confirm whether the issue lies with your code or the TestRail version?</p>\n"}],"owner":{"account_id":26030721,"reputation":1,"user_id":19736994,"display_name":"Zea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696764489,"creation_date":1660149607,"question_id":73309885,"body_markdown":"I am attempting to use the TestRail API to update a user using endpoint: `POST index.php?/api/v2/update_user/:user_id`. I am receiving an error `TestRail API returned HTTP 404(&quot;Unknown method &#39;update_user&#39;&quot;)`. I am using the Java API client and TestRail version 7.0.2.1016\r\n\r\nI am able to get a successful return on some of the different API methods (such as get user, get user by id/email, add/update/delete project). I believe some endpoints may not be compatible with my version of TestRail based on the API docs but can&#39;t find anything in the API docs to suggest that would apply to this `update_user` endpoint. However, if that is the case, is there another endpoint to update the user compatible with my current version? Example request below.\r\n\r\n```\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;role&quot;, &quot;Guest&quot;);\r\n\r\nJSONObject result = (JSONObject) client.sendPost(&quot;update_user/213&quot;, map);\r\n```","title":"TestRail API endpoint update_user/:user_id returning HTTP 404(&quot;Unknown method &#39;update_user&#39;&quot;)","body":"<p>I am attempting to use the TestRail API to update a user using endpoint: <code>POST index.php?/api/v2/update_user/:user_id</code>. I am receiving an error <code>TestRail API returned HTTP 404(&quot;Unknown method 'update_user'&quot;)</code>. I am using the Java API client and TestRail version 7.0.2.1016</p>\n<p>I am able to get a successful return on some of the different API methods (such as get user, get user by id/email, add/update/delete project). I believe some endpoints may not be compatible with my version of TestRail based on the API docs but can't find anything in the API docs to suggest that would apply to this <code>update_user</code> endpoint. However, if that is the case, is there another endpoint to update the user compatible with my current version? Example request below.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;role&quot;, &quot;Guest&quot;);\n\nJSONObject result = (JSONObject) client.sendPost(&quot;update_user/213&quot;, map);\n</code></pre>\n"},{"tags":["java","operators","conditional-statements"],"comments":[{"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"score":0,"creation_date":1637418518,"post_id":20533309,"comment_id":123823539,"body_markdown":"For many such ints you might use some set implementation and after adding them check number of elements","body":"For many such ints you might use some set implementation and after adding them check number of elements"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1386811504,"creation_date":1386811504,"answer_id":20533321,"question_id":20533309,"body_markdown":"Equality is transitive; you don&#39;t need the last comparison `b == c`.  If `a == b` and `a == c`, then `b == c`.\r\n\r\nTry\r\n\r\n    if ((a == b) &amp;&amp; (a == c)){","title":"alternative way to compare if three ints are equal","body":"<p>Equality is transitive; you don't need the last comparison <code>b == c</code>.  If <code>a == b</code> and <code>a == c</code>, then <code>b == c</code>.</p>\n\n<p>Try</p>\n\n<pre><code>if ((a == b) &amp;&amp; (a == c)){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386811600,"creation_date":1386811600,"answer_id":20533337,"question_id":20533309,"body_markdown":"If all you need is to know whether three are equal then you can use:\r\n\r\n    if ((a==b) &amp;&amp; (b==c)) {\r\n\r\n    }","title":"alternative way to compare if three ints are equal","body":"<p>If all you need is to know whether three are equal then you can use:</p>\n\n<pre><code>if ((a==b) &amp;&amp; (b==c)) {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1386811740,"post_id":20533343,"comment_id":30702502,"body_markdown":"This isn&#39;t really more compact than the other answers here, and is certainly less clear ;)","body":"This isn&#39;t really more compact than the other answers here, and is certainly less clear ;)"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"score":0,"creation_date":1386811790,"post_id":20533343,"comment_id":30702520,"body_markdown":"@OliCharlesworth it is not clear, but it is &quot;alternative&quot; :) also, can be a little bit faster (sometimes, at least for c/c++)","body":"@OliCharlesworth it is not clear, but it is &quot;alternative&quot; :) also, can be a little bit faster (sometimes, at least for c/c++)"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1386811823,"post_id":20533343,"comment_id":30702533,"body_markdown":"Are you saying that `0/0` equals `0` ?","body":"Are you saying that <code>0&#47;0</code> equals <code>0</code> ?"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1386811846,"post_id":20533343,"comment_id":30702543,"body_markdown":"@PM77-1: No, but `0|0` certainly does.","body":"@PM77-1: No, but <code>0|0</code> certainly does."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"score":0,"creation_date":1386811849,"post_id":20533343,"comment_id":30702545,"body_markdown":"@PM77-1 I&#39;m not using division, I&#39;m using binary OR, 0|0 = 0 in deed","body":"@PM77-1 I&#39;m not using division, I&#39;m using binary OR, 0|0 = 0 in deed"},{"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":1,"creation_date":1386811869,"post_id":20533343,"comment_id":30702550,"body_markdown":"`if (0 == ((a - b) | (b - c)))` is equivalent, more compact, but even less clear. (Edit because didn&#39;t see Java tag)","body":"<code>if (0 == ((a - b) | (b - c)))</code> is equivalent, more compact, but even less clear. (Edit because didn&#39;t see Java tag)"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1386811923,"post_id":20533343,"comment_id":30702564,"body_markdown":"@OliCharlesworth - I guess it&#39;s time to put my reading glasses on.","body":"@OliCharlesworth - I guess it&#39;s time to put my reading glasses on."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"score":0,"creation_date":1386811967,"post_id":20533343,"comment_id":30702587,"body_markdown":"@Amadan for java you need to add == 0 or != 0 as it cannot cast int to bool automatically, for c/c++ it is of course shorter notation, but of course less clear :)","body":"@Amadan for java you need to add == 0 or != 0 as it cannot cast int to bool automatically, for c/c++ it is of course shorter notation, but of course less clear :)"}],"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386811620,"creation_date":1386811620,"answer_id":20533343,"question_id":20533309,"body_markdown":"alternative variant:\r\n\r\n    int t1 = a-b;\r\n    int t2 = c-b;\r\n    if ( (t1|t2) == 0 ) // both are equal","title":"alternative way to compare if three ints are equal","body":"<p>alternative variant:</p>\n\n<pre><code>int t1 = a-b;\nint t2 = c-b;\nif ( (t1|t2) == 0 ) // both are equal\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1129881,"reputation":11551,"user_id":1116230,"display_name":"Nico Haase"},"score":3,"creation_date":1605024853,"post_id":64771956,"comment_id":114523666,"body_markdown":"Please add some explanation to your answer such that others can learn from it","body":"Please add some explanation to your answer such that others can learn from it"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1605027314,"post_id":64771956,"comment_id":114524801,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question \nimproves its long-term value. Consider reading [How to Answer](https://stackoverflow.com/help/how-to-answer) and [edit] your answer to improve it.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question  improves its long-term value. Consider reading <a href=\"https://stackoverflow.com/help/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/64771956/edit\">edit</a> your answer to improve it."}],"tags":[],"owner":{"account_id":19942165,"reputation":1,"user_id":14613697,"display_name":"Ricardo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605027392,"creation_date":1605022605,"answer_id":64771956,"question_id":20533309,"body_markdown":"    public static int equal(int a, int b, int c) {\r\n        int count = 0;\r\n\r\n        if (a==b &amp;&amp; b==c) { \r\n          count = 3; \r\n        } else if ((a==b &amp;&amp; b!=c) || (a==c &amp;&amp; a!=b)) { \r\n          count = 2; \r\n        }\r\n\r\n        return count;\r\n    }","title":"alternative way to compare if three ints are equal","body":"<pre><code>public static int equal(int a, int b, int c) {\n    int count = 0;\n\n    if (a==b &amp;&amp; b==c) { \n      count = 3; \n    } else if ((a==b &amp;&amp; b!=c) || (a==c &amp;&amp; a!=b)) { \n      count = 2; \n    }\n\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29624677,"reputation":1,"user_id":22704708,"display_name":"Diaconu Razvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696763866,"creation_date":1696763264,"answer_id":77253369,"question_id":20533309,"body_markdown":"You can add them into a list, then remove duplicates and compare the size of the actual list minus the unique elements\r\n\r\n    List elements = Arrays.asList(a,b,c);\r\n    List distinct = elements.stream().distinct().toList();\r\n\r\n    return elements.size() == distinct.size() ? 0 : elements.size() - distinct.size() + 1;\r\n\r\ndistinct list contains one entry of the duplicate so we have to increment with 1 because we already decreased it.\r\n\r\nOr use a HashSet that holds only unique elements\r\n\r\n    List elements = Arrays.asList(a,b,c);\r\n    HashSet&lt;ArrayList&gt; set = new HashSet&lt;&gt;();\r\n    set.addAll(elements);\r\n\r\n    return elements.size() == set.size() ? 0 : elements.size() - set.size() + 1;","title":"alternative way to compare if three ints are equal","body":"<p>You can add them into a list, then remove duplicates and compare the size of the actual list minus the unique elements</p>\n<pre><code>List elements = Arrays.asList(a,b,c);\nList distinct = elements.stream().distinct().toList();\n\nreturn elements.size() == distinct.size() ? 0 : elements.size() - distinct.size() + 1;\n</code></pre>\n<p>distinct list contains one entry of the duplicate so we have to increment with 1 because we already decreased it.</p>\n<p>Or use a HashSet that holds only unique elements</p>\n<pre><code>List elements = Arrays.asList(a,b,c);\nHashSet&lt;ArrayList&gt; set = new HashSet&lt;&gt;();\nset.addAll(elements);\n\nreturn elements.size() == set.size() ? 0 : elements.size() - set.size() + 1;\n</code></pre>\n"}],"owner":{"account_id":3672632,"reputation":209,"user_id":3059427,"accept_rate":89,"display_name":"user3059427"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26730,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":20533321,"answer_count":5,"score":7,"last_activity_date":1696763866,"creation_date":1386811421,"question_id":20533309,"body_markdown":"    int a = 10;\r\n    int b = 10;\r\n    int c = 10;\r\n\r\nI am trying to find out if there is alternate way to compare if three ints or anything are equal. \r\n\r\nThe way i am currently doing is \r\n\r\n    if( (a == b) &amp;&amp; (a == c) &amp;&amp; (b == c)){\r\n    \r\n    }\r\n\r\nI was wondering if there is an alternate and more concise way to do this.\r\n\r\n\r\n\r\n\r\n","title":"alternative way to compare if three ints are equal","body":"<pre><code>int a = 10;\nint b = 10;\nint c = 10;\n</code></pre>\n\n<p>I am trying to find out if there is alternate way to compare if three ints or anything are equal. </p>\n\n<p>The way i am currently doing is </p>\n\n<pre><code>if( (a == b) &amp;&amp; (a == c) &amp;&amp; (b == c)){\n\n}\n</code></pre>\n\n<p>I was wondering if there is an alternate and more concise way to do this.</p>\n"},{"tags":["java","html","pdf"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1478715094,"post_id":40512859,"comment_id":68268571,"body_markdown":"Take a look at [openhtmltopdf](https://github.com/danfickle/openhtmltopdf).","body":"Take a look at <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtmltopdf</a>."}],"answers":[{"tags":[],"owner":{"account_id":360076,"reputation":1193,"user_id":701867,"accept_rate":70,"display_name":"James Baker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478713460,"creation_date":1478713460,"answer_id":40513011,"question_id":40512859,"body_markdown":"Yes, it&#39;s possible but it will involve a reasonable amount of development.\r\n\r\nThere are lots of Java technologies available for developing small web apps, such as the Spring Boot Framework (https://projects.spring.io/spring-boot/).\r\n\r\nYou probably want to look at PDFBox (https://pdfbox.apache.org/) for creating the PDF file.","title":"How to get pdf from html page","body":"<p>Yes, it's possible but it will involve a reasonable amount of development.</p>\n\n<p>There are lots of Java technologies available for developing small web apps, such as the Spring Boot Framework (<a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">https://projects.spring.io/spring-boot/</a>).</p>\n\n<p>You probably want to look at PDFBox (<a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/</a>) for creating the PDF file.</p>\n"},{"tags":[],"owner":{"account_id":9601401,"reputation":1,"user_id":7128784,"display_name":"T&#245;nis Tobre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696763735,"creation_date":1478733548,"answer_id":40517635,"question_id":40512859,"body_markdown":"Why not use an external API for generating PDF documents for HTML? I&#39;m involved with a project called [pdfapi.io][1]. With it, you can create PDF documents from styled HTML easily.\r\n\r\nIt has a simple API but, to make it easier we will release Java sdk soon.\r\n\r\nReasonable amount of requests are free of charge.\r\n\r\nI hope that helps.\r\n\r\n\r\n  [1]: https://pdfapi.io","title":"How to get pdf from html page","body":"<p>Why not use an external API for generating PDF documents for HTML? I'm involved with a project called <a href=\"https://pdfapi.io\" rel=\"nofollow noreferrer\">pdfapi.io</a>. With it, you can create PDF documents from styled HTML easily.</p>\n<p>It has a simple API but, to make it easier we will release Java sdk soon.</p>\n<p>Reasonable amount of requests are free of charge.</p>\n<p>I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":2814803,"reputation":1,"user_id":2420185,"display_name":"RockSteady"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478796905,"creation_date":1478796905,"answer_id":40533047,"question_id":40512859,"body_markdown":"I&#39;ve had really good luck doing this with the Java Library called &quot;Flying Saucer&quot; I guess you&#39;ll need to google it because linking is not allowed here...","title":"How to get pdf from html page","body":"<p>I've had really good luck doing this with the Java Library called \"Flying Saucer\" I guess you'll need to google it because linking is not allowed here...</p>\n"}],"owner":{"account_id":9435646,"reputation":470,"user_id":7026895,"display_name":"guesswho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1420,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696763735,"creation_date":1478712909,"question_id":40512859,"body_markdown":"I need to generate pdf documents that gets a lot of data from database to fill contents of document. \r\nFirst, i decided to work with Fop, made some xsl template with xml and finally got my pdf... Which was not easy to do.\r\n\r\nBut it become necessary to fill some contents interactively.. so is there any way to built documents on html/xhtml page with editable fields and eventually generate pdf from that webpage? \r\n ","title":"How to get pdf from html page","body":"<p>I need to generate pdf documents that gets a lot of data from database to fill contents of document. \nFirst, i decided to work with Fop, made some xsl template with xml and finally got my pdf... Which was not easy to do.</p>\n\n<p>But it become necessary to fill some contents interactively.. so is there any way to built documents on html/xhtml page with editable fields and eventually generate pdf from that webpage? </p>\n"},{"tags":["java","android","navigationbar"],"answers":[{"tags":[],"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692718769,"creation_date":1692718769,"answer_id":76954910,"question_id":76954840,"body_markdown":"Call this method in your onCreate\r\n\r\n    private void hideSystemBars() {\r\n        WindowInsetsControllerCompat controller = new WindowInsetsControllerCompat(\r\n            getWindow(), getWindow().getDecorView()\r\n        );\r\n        \r\n        controller.hide(WindowInsetsCompat.Type.systemBars());\r\n        controller.setSystemBarsBehavior(\r\n            WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n        );\r\n    }\r\n\r\nimports\r\n\r\n    import androidx.core.view.WindowInsetsCompat;\r\n    import androidx.core.view.WindowInsetsControllerCompat;\r\n\r\nThis method will hide the nav bar, and show it when the user swipe the zone of the nav bar .","title":"Hide Navigation Bar in Android","body":"<p>Call this method in your onCreate</p>\n<pre><code>private void hideSystemBars() {\n    WindowInsetsControllerCompat controller = new WindowInsetsControllerCompat(\n        getWindow(), getWindow().getDecorView()\n    );\n    \n    controller.hide(WindowInsetsCompat.Type.systemBars());\n    controller.setSystemBarsBehavior(\n        WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n    );\n}\n</code></pre>\n<p>imports</p>\n<pre><code>import androidx.core.view.WindowInsetsCompat;\nimport androidx.core.view.WindowInsetsControllerCompat;\n</code></pre>\n<p>This method will hide the nav bar, and show it when the user swipe the zone of the nav bar .</p>\n"},{"comments":[{"owner":{"account_id":12705507,"reputation":21,"user_id":9230940,"display_name":"Angel"},"score":0,"creation_date":1692721161,"post_id":76955168,"comment_id":135661783,"body_markdown":"Btw sorry I didn&#39;t notice yours is java, I sent this in kotlin but it is easily convertable to java code as you know","body":"Btw sorry I didn&#39;t notice yours is java, I sent this in kotlin but it is easily convertable to java code as you know"}],"tags":[],"owner":{"account_id":12705507,"reputation":21,"user_id":9230940,"display_name":"Angel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696763419,"creation_date":1692721041,"answer_id":76955168,"question_id":76954840,"body_markdown":"I&#39;m not a proffesional/experienced android dev but something like this might be useful for you:\r\n\r\n            // removal of status and navigation bar\r\n        if (Build.VERSION.SDK_INT &gt;= 30) {\r\n            fullscreenContent.windowInsetsController?.hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\r\n        } else {\r\n            // Note that some of these constants are new as of API 16 (Jelly Bean)\r\n            // and API 19 (KitKat). It is safe to use them, as they are inlined\r\n            // at compile-time and do nothing on earlier devices.\r\n            fullscreenContent.systemUiVisibility =\r\n                View.SYSTEM_UI_FLAG_LOW_PROFILE or\r\n                        View.SYSTEM_UI_FLAG_FULLSCREEN or\r\n                        View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\r\n                        View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY or\r\n                        View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION or\r\n                        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n        \r\n    \r\nYou can add this code in your &quot;OnCreate&quot; method where &quot;fullscreenContent&quot; is the layout holding all your screen data which in your case should be a layout containing &quot;VistaJuego&quot; that you might need to add to the xml file because I don&#39;t recommend you to use the root framelayout for this purpose.","title":"Hide Navigation Bar in Android","body":"<p>I'm not a proffesional/experienced android dev but something like this might be useful for you:</p>\n<pre><code>        // removal of status and navigation bar\n    if (Build.VERSION.SDK_INT &gt;= 30) {\n        fullscreenContent.windowInsetsController?.hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\n    } else {\n        // Note that some of these constants are new as of API 16 (Jelly Bean)\n        // and API 19 (KitKat). It is safe to use them, as they are inlined\n        // at compile-time and do nothing on earlier devices.\n        fullscreenContent.systemUiVisibility =\n            View.SYSTEM_UI_FLAG_LOW_PROFILE or\n                    View.SYSTEM_UI_FLAG_FULLSCREEN or\n                    View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\n                    View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY or\n                    View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION or\n                    View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n    \n</code></pre>\n<p>You can add this code in your &quot;OnCreate&quot; method where &quot;fullscreenContent&quot; is the layout holding all your screen data which in your case should be a layout containing &quot;VistaJuego&quot; that you might need to add to the xml file because I don't recommend you to use the root framelayout for this purpose.</p>\n"}],"owner":{"account_id":22096120,"reputation":31,"user_id":16353390,"display_name":"Richman19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696763644,"creation_date":1692718197,"question_id":76954840,"body_markdown":"I hope that someone can help me.\r\n\r\nI am developing an Android Game in Java and I need to hide the navigation bar of the main screen, but I can not find any solution to this. I have searched for a lot of information, even I checked the solutions proposed here, but nothing.\r\n\r\nI have built my map in a layout (**juego.xml**) and then I used it in a java class which extends from a view **(VistaJuego**). Additionally in this class I define another class called **ThreadJuego**. The objective of this class is to run indefinitely a method which update the physics of the game. \r\n\r\nFinally I have another class called **Juego** which extends from AppCompactActivity. This last class load an instance of Vistajuego.\r\n\r\nFind below the definition of the classes and layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.richard_tfg.tankgame.VistaJuego\r\n        android:id=&quot;@+id/VistaJuego&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:background=&quot;@drawable/mapa_batalla2&quot;&gt;\r\n\r\n    &lt;/com.richard_tfg.tankgame.VistaJuego&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\nThis is the code of the layout. Below I will post an example of VistaJuego:\r\n\r\n   \r\n\r\n     public class VistaJuego extends View {\r\n      \r\n    \r\n        private ThreadJuego thread = new ThreadJuego();\r\n        /* Do more things */\r\n    \r\n        public VistaJuego(Context context, AttributeSet attrs){\r\n        /*Definitions of graphics*/\r\n        \r\n        }\r\n    \r\n    \r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n        /* Definitions*/\r\n        ...\r\n        ...\r\n        ...\r\n        thread.start();\r\n        }\r\n       \r\n    \r\n        protected synchronized void onDraw(Canvas canvas) {\r\n            /*Definitions*/\r\n         }\r\n    \r\n        private void setFeatures(Grafico grafico, int angulo, int rotacion){\r\n        /*Definitions*/\r\n        }\r\n    \r\n         protected synchronized void actualizaFisica(){\r\n         /*Update physics*/\r\n         }\r\n    \r\n    \r\n       \r\n    \r\n         class ThreadJuego extends Thread{\r\n        \r\n        \r\n                @Override\r\n                public void run() {\r\n                    while(true){\r\n                        actualizaFisica();\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n\r\nFinally the code of my class Juego:\r\n\r\n    public class Juego extends AppCompatActivity {\r\n    \r\n     VistaJuego vistaJuego;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setContentView(R.layout.juego);\r\n            vistaJuego=findViewById(R.id.VistaJuego);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nI am trying to hide the navigation bar with the line: \r\n\r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); but it still keeps on the screen.\r\n\r\nAdditionally I have tried to use the next method:\r\n\r\n    private void hideStatusAndNavBar() {\r\n        getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n        );\r\n    }\r\n\r\nand called it on the onCreate method of Juego class, but if I do this I have 2 different behaviors on my devices:\r\n\r\n 1. Honor 9X: I can see that the navigation bar is hidden but all the grapichs are mixed in a corner and the behavior of app is strange.\r\n\r\n 2. Samsung S10: The app always fails and the problem I can see on the Log in Android Studio is related with the definition thread.start(); I do not why the problem is the Thread...\r\n\r\nI have searched a lot of information but nothing works, so if someone can help me with this, I will be eternally grateful.\r\n\r\n\r\n\r\n \r\n","title":"Hide Navigation Bar in Android","body":"<p>I hope that someone can help me.</p>\n<p>I am developing an Android Game in Java and I need to hide the navigation bar of the main screen, but I can not find any solution to this. I have searched for a lot of information, even I checked the solutions proposed here, but nothing.</p>\n<p>I have built my map in a layout (<strong>juego.xml</strong>) and then I used it in a java class which extends from a view <strong>(VistaJuego</strong>). Additionally in this class I define another class called <strong>ThreadJuego</strong>. The objective of this class is to run indefinitely a method which update the physics of the game.</p>\n<p>Finally I have another class called <strong>Juego</strong> which extends from AppCompactActivity. This last class load an instance of Vistajuego.</p>\n<p>Find below the definition of the classes and layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;com.richard_tfg.tankgame.VistaJuego\n    android:id=&quot;@+id/VistaJuego&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:focusable=&quot;true&quot;\n    android:background=&quot;@drawable/mapa_batalla2&quot;&gt;\n\n&lt;/com.richard_tfg.tankgame.VistaJuego&gt;\n</code></pre>\n\n<p>This is the code of the layout. Below I will post an example of VistaJuego:</p>\n<pre><code> public class VistaJuego extends View {\n  \n\n    private ThreadJuego thread = new ThreadJuego();\n    /* Do more things */\n\n    public VistaJuego(Context context, AttributeSet attrs){\n    /*Definitions of graphics*/\n    \n    }\n\n\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n    /* Definitions*/\n    ...\n    ...\n    ...\n    thread.start();\n    }\n   \n\n    protected synchronized void onDraw(Canvas canvas) {\n        /*Definitions*/\n     }\n\n    private void setFeatures(Grafico grafico, int angulo, int rotacion){\n    /*Definitions*/\n    }\n\n     protected synchronized void actualizaFisica(){\n     /*Update physics*/\n     }\n\n\n   \n\n     class ThreadJuego extends Thread{\n    \n    \n            @Override\n            public void run() {\n                while(true){\n                    actualizaFisica();\n                }\n            }\n        }\n}\n</code></pre>\n<p>Finally the code of my class Juego:</p>\n<pre><code>public class Juego extends AppCompatActivity {\n\n VistaJuego vistaJuego;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.juego);\n        vistaJuego=findViewById(R.id.VistaJuego);\n\n    }\n}\n</code></pre>\n<p>I am trying to hide the navigation bar with the line:</p>\n<pre><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); but it still keeps on the screen.\n</code></pre>\n<p>Additionally I have tried to use the next method:</p>\n<pre><code>private void hideStatusAndNavBar() {\n    getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n    );\n}\n</code></pre>\n<p>and called it on the onCreate method of Juego class, but if I do this I have 2 different behaviors on my devices:</p>\n<ol>\n<li><p>Honor 9X: I can see that the navigation bar is hidden but all the grapichs are mixed in a corner and the behavior of app is strange.</p>\n</li>\n<li><p>Samsung S10: The app always fails and the problem I can see on the Log in Android Studio is related with the definition thread.start(); I do not why the problem is the Thread...</p>\n</li>\n</ol>\n<p>I have searched a lot of information but nothing works, so if someone can help me with this, I will be eternally grateful.</p>\n"},{"tags":["java","maven","unicode"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696388580,"post_id":77226461,"comment_id":136145047,"body_markdown":"`Is there a way I can display it with regular characters? ` - what do you mean? ascii?","body":"<code>Is there a way I can display it with regular characters? </code> - what do you mean? ascii?"},{"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"score":0,"creation_date":1696388724,"post_id":77226461,"comment_id":136145055,"body_markdown":"Sure ascii, like in idk regular texting I guess. I definetly dont want unicode.","body":"Sure ascii, like in idk regular texting I guess. I definetly dont want unicode."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696389227,"post_id":77226461,"comment_id":136145087,"body_markdown":"Have you had a look at an ascii table?  Do you see any any upaside down question marks?","body":"Have you had a look at an ascii table?  Do you see any any upaside down question marks?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1696389537,"post_id":77226461,"comment_id":136145094,"body_markdown":"Why don&#39;t you try [escaping](https://commons.apache.org/proper/commons-lang/javadocs/api-3.8.1/index.html?org/apache/commons/lang3/StringEscapeUtils.html) the String?","body":"Why don&#39;t you try <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.8.1/index.html?org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">escaping</a> the String?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1696397763,"post_id":77226461,"comment_id":136145693,"body_markdown":"The answer you receive *is* pure ASCII - because that doesn&#39;t contain any &quot;special&quot; (language specific) characters. I think what you actually *want* is UTF-8, so you don&#39;t see the `\\u0000` encoded characters but their representation in a character of a font that can display it.","body":"The answer you receive <i>is</i> pure ASCII - because that doesn&#39;t contain any &quot;special&quot; (language specific) characters. I think what you actually <i>want</i> is UTF-8, so you don&#39;t see the <code>\\u0000</code> encoded characters but their representation in a character of a font that can display it."},{"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"score":0,"creation_date":1696397915,"post_id":77226461,"comment_id":136145712,"body_markdown":"I want my program for example to display autobiograf&#237;a instead of autobiograf\\u00eda (The i with the accent is in unicode). I dont know if its a problem with the way my eclipse console is set up or if I have to change much.","body":"I want my program for example to display autobiograf&#237;a instead of autobiograf\\u00eda (The i with the accent is in unicode). I dont know if its a problem with the way my eclipse console is set up or if I have to change much."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696401036,"post_id":77226461,"comment_id":136146184,"body_markdown":"If those characters are encoded in the JSON response like that, you need to fix it at the source, or maybe you need to set the right `Accept` header in your request, e.g. to `application/json;charset=utf-8`, or use an appropriate library to decode those Unicode escapes.","body":"If those characters are encoded in the JSON response like that, you need to fix it at the source, or maybe you need to set the right <code>Accept</code> header in your request, e.g. to <code>application&#47;json;charset=utf-8</code>, or use an appropriate library to decode those Unicode escapes."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1696406332,"post_id":77226461,"comment_id":136147116,"body_markdown":"Note: write to a file. `System.out` is not reliable on encoding: it depends on the system out (so the terminal), so outside your control. But you have full control the content of a file. So easier to debug.","body":"Note: write to a file. <code>System.out</code> is not reliable on encoding: it depends on the system out (so the terminal), so outside your control. But you have full control the content of a file. So easier to debug."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1696457206,"post_id":77226461,"comment_id":136157185,"body_markdown":"I don&#39;t know, but maybe you shouldn&#39;t give away your API key?","body":"I don&#39;t know, but maybe you shouldn&#39;t give away your API key?"}],"answers":[{"comments":[{"owner":{"account_id":20032771,"reputation":38,"user_id":14685173,"display_name":"Petr Barandovski"},"score":0,"creation_date":1696398437,"post_id":77226930,"comment_id":136145781,"body_markdown":"I tried this and it is functioning. Why minus? Can you comment it please? You need to parse it to JsonObject and it is then with accents. And when you have JsonObject, you can go direct to properties of json, what is what you need ...","body":"I tried this and it is functioning. Why minus? Can you comment it please? You need to parse it to JsonObject and it is then with accents. And when you have JsonObject, you can go direct to properties of json, what is what you need ..."},{"owner":{"account_id":20032771,"reputation":38,"user_id":14685173,"display_name":"Petr Barandovski"},"score":0,"creation_date":1696398979,"post_id":77226930,"comment_id":136145836,"body_markdown":"It is needed to add to end of your code. It is working with your variable hutas","body":"It is needed to add to end of your code. It is working with your variable hutas"}],"tags":[],"owner":{"account_id":20032771,"reputation":38,"user_id":14685173,"display_name":"Petr Barandovski"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696397051,"creation_date":1696396939,"answer_id":77226930,"question_id":77226461,"body_markdown":"Try to use gson.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSomething like that:\r\n\r\n      JsonObject jsonObject = new \r\n      JsonParser().parse(hutas).getAsJsonObject();\r\n      System.out.println(jsonObject);\r\n      JsonElement translatedText = jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;translatedText&quot;);\r\n      System.out.println(translatedText);","title":"Why is my program returning certain spanish characters in unicode?","body":"<p>Try to use gson.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Something like that:</p>\n<pre><code>  JsonObject jsonObject = new \n  JsonParser().parse(hutas).getAsJsonObject();\n  System.out.println(jsonObject);\n  JsonElement translatedText = jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;translatedText&quot;);\n  System.out.println(translatedText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696763283,"creation_date":1696456033,"answer_id":77233176,"question_id":77226461,"body_markdown":"I *unescaped the string using The Apache Commons Lang `StringEscapeUtils.unescapeJava()` and it works!","title":"Why is my program returning certain spanish characters in unicode?","body":"<p>I *unescaped the string using The Apache Commons Lang <code>StringEscapeUtils.unescapeJava()</code> and it works!</p>\n"}],"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696763283,"creation_date":1696388025,"question_id":77226461,"body_markdown":"I wrote a very simple maven program that uses the text translator API by DEVISTY and displays it.\r\n\r\n [![HERE IS A SAMPLE OF THE RESULTS OF MY PROGRAM](https://i.stack.imgur.com/ig9mi.png)](https://i.stack.imgur.com/ig9mi.png) \r\n\r\nThe translation is fine on the endpoints on the API website, and the translation is great, but when I display it as a string here, as you can see the upside down question mark and the e with the accent are displayed in Unicode. \r\n\r\nIs there a way I can display it with regular characters? I tried to turn it to `utf-8` somewhere but its the same results. Here is the code: \r\n\r\n\r\n```java\r\npackage myprogram.translator;\r\n\r\n\r\nimport java.net.URLEncoder;\r\nimport com.mashape.unirest.http.HttpResponse;\r\nimport com.mashape.unirest.http.JsonNode;\r\nimport com.mashape.unirest.http.Unirest;\r\nimport com.mashape.unirest.http.exceptions.UnirestException;\r\nimport java.util.Scanner;\r\n\r\nimport org.apache.commons.codec.binary.StringUtils;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args ) throws Exception\r\n    {\r\n        stringGen gen = new stringGen();\r\n        \r\n        // TEST APPLICATION(lets hope it runs)\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        String startL;\r\n        String targetL;\r\n        String translateThis;\r\n        String end;\r\n        \r\n        System.out.println(&quot;What would you like to be your starting language?&quot;);\r\n        startL = scan.nextLine();\r\n        System.out.println(&quot;What would you like to be your target language?&quot;);\r\n        targetL = scan.nextLine();\r\n        System.out.println(&quot;What would you like to translate exactly?&quot;);\r\n        translateThis = scan.nextLine();\r\n        \r\n        end = gen.finalInput(startL, targetL, translateThis);\r\n        \r\n        System.out.println(end);\r\n        \r\n        HttpResponse&lt;String&gt; letsgetit = Unirest.post(&quot;https://text-translator2.p.rapidapi.com/translate&quot;)\r\n        \t\t.header(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n        \t\t.header(&quot;X-RapidAPI-Key&quot;, &quot;ef0ddf5c2dmsh5ccc18a926d497cp1b6b93jsn9f9e3bdc6353&quot;)\r\n        \t\t.header(&quot;X-RapidAPI-Host&quot;, &quot;text-translator2.p.rapidapi.com&quot;)\r\n        \t\t.body(end)\r\n        \t\t.asString();\r\n        \r\n       String hutas = letsgetit.getBody();\r\n        \r\n       byte[] bytes = StringUtils.getBytesUtf8(hutas);\r\n       \r\n       String utf8EncodedString = StringUtils.newStringUtf8(bytes);\r\n       \r\n       System.out.println(utf8EncodedString);\r\n    }\r\n}\r\n```\r\n","title":"Why is my program returning certain spanish characters in unicode?","body":"<p>I wrote a very simple maven program that uses the text translator API by DEVISTY and displays it.</p>\n<p><a href=\"https://i.stack.imgur.com/ig9mi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ig9mi.png\" alt=\"HERE IS A SAMPLE OF THE RESULTS OF MY PROGRAM\" /></a></p>\n<p>The translation is fine on the endpoints on the API website, and the translation is great, but when I display it as a string here, as you can see the upside down question mark and the e with the accent are displayed in Unicode.</p>\n<p>Is there a way I can display it with regular characters? I tried to turn it to <code>utf-8</code> somewhere but its the same results. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myprogram.translator;\n\n\nimport java.net.URLEncoder;\nimport com.mashape.unirest.http.HttpResponse;\nimport com.mashape.unirest.http.JsonNode;\nimport com.mashape.unirest.http.Unirest;\nimport com.mashape.unirest.http.exceptions.UnirestException;\nimport java.util.Scanner;\n\nimport org.apache.commons.codec.binary.StringUtils;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args ) throws Exception\n    {\n        stringGen gen = new stringGen();\n        \n        // TEST APPLICATION(lets hope it runs)\n        \n        Scanner scan = new Scanner(System.in);\n        \n        String startL;\n        String targetL;\n        String translateThis;\n        String end;\n        \n        System.out.println(&quot;What would you like to be your starting language?&quot;);\n        startL = scan.nextLine();\n        System.out.println(&quot;What would you like to be your target language?&quot;);\n        targetL = scan.nextLine();\n        System.out.println(&quot;What would you like to translate exactly?&quot;);\n        translateThis = scan.nextLine();\n        \n        end = gen.finalInput(startL, targetL, translateThis);\n        \n        System.out.println(end);\n        \n        HttpResponse&lt;String&gt; letsgetit = Unirest.post(&quot;https://text-translator2.p.rapidapi.com/translate&quot;)\n                .header(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;ef0ddf5c2dmsh5ccc18a926d497cp1b6b93jsn9f9e3bdc6353&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;text-translator2.p.rapidapi.com&quot;)\n                .body(end)\n                .asString();\n        \n       String hutas = letsgetit.getBody();\n        \n       byte[] bytes = StringUtils.getBytesUtf8(hutas);\n       \n       String utf8EncodedString = StringUtils.newStringUtf8(bytes);\n       \n       System.out.println(utf8EncodedString);\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","apache-kafka","log4j","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":788920,"reputation":3452,"user_id":895429,"accept_rate":60,"display_name":"nikel"},"score":7,"creation_date":1457026509,"post_id":35777295,"comment_id":59229807,"body_markdown":"I am talking bout the logs that come up in my client program..not the kafka server as such...","body":"I am talking bout the logs that come up in my client program..not the kafka server as such..."}],"tags":[],"owner":{"account_id":7854239,"reputation":4845,"user_id":5936696,"display_name":"avr"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457021508,"creation_date":1457021508,"answer_id":35777295,"question_id":35773780,"body_markdown":"I assumed you were talking about Kafka server logs. You can change log level to ERROR using following config\r\n\r\n    log4j.logger.kafka=ERROR, kafkaAppender\r\n\r\nHope this helps!","title":"How to configure logging for Kafka producers?","body":"<p>I assumed you were talking about Kafka server logs. You can change log level to ERROR using following config</p>\n\n<pre><code>log4j.logger.kafka=ERROR, kafkaAppender\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":2256125,"reputation":1387,"user_id":2172566,"display_name":"forresthopkinsa"},"score":0,"creation_date":1516656061,"post_id":40753630,"comment_id":83768775,"body_markdown":"`Cannot set level: WARNING for &#39;org.apache.kafka&#39;` any ideas?","body":"<code>Cannot set level: WARNING for &#39;org.apache.kafka&#39;</code> any ideas?"}],"tags":[],"owner":{"account_id":9037951,"reputation":201,"user_id":6733136,"display_name":"sivakadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479857904,"creation_date":1479857904,"answer_id":40753630,"question_id":35773780,"body_markdown":"Try adding logging.level.org.apache.kafka: DEBUG into your clients configuration properties. \r\nI am using Springboot and this is the format. Use appropriate format for your clients program.","title":"How to configure logging for Kafka producers?","body":"<p>Try adding logging.level.org.apache.kafka: DEBUG into your clients configuration properties. \nI am using Springboot and this is the format. Use appropriate format for your clients program.</p>\n"},{"tags":[],"owner":{"account_id":415333,"reputation":9329,"user_id":790075,"accept_rate":50,"display_name":"turtlemonvh"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1493249444,"creation_date":1493249444,"answer_id":43646220,"question_id":35773780,"body_markdown":"Use the command line flag `-Dlog4j.configuration=file:/path/to/log4j.properties` when running your client.\r\n\r\nExample log4j property files:\r\n\r\n* https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\r\n    * Used by tools like mirror maker, really just stdout\r\n* https://github.com/apache/kafka/blob/trunk/config/log4j.properties\r\n    * Used by tools like kafka server\r\n\r\nFor mirror maker and other tools that result in a call to `kafka-run-class.sh`, you can use the env variable `KAFKA_LOG4J_OPTS` (set to something like `-Dlog4j.configuration=file:/path/to/log4j.properties`) to change the logging configuration.  See: https://github.com/apache/kafka/blob/0.10.2/bin/kafka-run-class.sh#L158\r\n\r\nExample of my `log4j.properties` file for mirror maker that I use for testing.\r\n\r\n    # https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\r\n\r\n    log4j.rootLogger=DEBUG, stderr\r\n    \r\n    log4j.appender.stderr=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stderr.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stderr.layout.ConversionPattern=[%d] %p %m (%c)%n\r\n    log4j.appender.stderr.Target=System.err\r\n\r\n","title":"How to configure logging for Kafka producers?","body":"<p>Use the command line flag <code>-Dlog4j.configuration=file:/path/to/log4j.properties</code> when running your client.</p>\n\n<p>Example log4j property files:</p>\n\n<ul>\n<li><a href=\"https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\" rel=\"noreferrer\">https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties</a>\n\n<ul>\n<li>Used by tools like mirror maker, really just stdout</li>\n</ul></li>\n<li><a href=\"https://github.com/apache/kafka/blob/trunk/config/log4j.properties\" rel=\"noreferrer\">https://github.com/apache/kafka/blob/trunk/config/log4j.properties</a>\n\n<ul>\n<li>Used by tools like kafka server</li>\n</ul></li>\n</ul>\n\n<p>For mirror maker and other tools that result in a call to <code>kafka-run-class.sh</code>, you can use the env variable <code>KAFKA_LOG4J_OPTS</code> (set to something like <code>-Dlog4j.configuration=file:/path/to/log4j.properties</code>) to change the logging configuration.  See: <a href=\"https://github.com/apache/kafka/blob/0.10.2/bin/kafka-run-class.sh#L158\" rel=\"noreferrer\">https://github.com/apache/kafka/blob/0.10.2/bin/kafka-run-class.sh#L158</a></p>\n\n<p>Example of my <code>log4j.properties</code> file for mirror maker that I use for testing.</p>\n\n<pre><code># https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\n\nlog4j.rootLogger=DEBUG, stderr\n\nlog4j.appender.stderr=org.apache.log4j.ConsoleAppender\nlog4j.appender.stderr.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stderr.layout.ConversionPattern=[%d] %p %m (%c)%n\nlog4j.appender.stderr.Target=System.err\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4391606,"reputation":1036,"user_id":3579787,"display_name":"tjeubaoit"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522233034,"creation_date":1522233034,"answer_id":49532152,"question_id":35773780,"body_markdown":"    org.apache.log4j.Logger.getLogger(&quot;org&quot;).setLevel(Level.WARN);\r\n    org.apache.log4j.Logger.getLogger(&quot;akka&quot;).setLevel(Level.WARN);\r\n    org.apache.log4j.Logger.getLogger(&quot;kafka&quot;).setLevel(Level.WARN);","title":"How to configure logging for Kafka producers?","body":"<pre><code>org.apache.log4j.Logger.getLogger(\"org\").setLevel(Level.WARN);\norg.apache.log4j.Logger.getLogger(\"akka\").setLevel(Level.WARN);\norg.apache.log4j.Logger.getLogger(\"kafka\").setLevel(Level.WARN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8523114,"reputation":546,"user_id":6389283,"accept_rate":69,"display_name":"Jestino Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592582017,"creation_date":1592582017,"answer_id":62474015,"question_id":35773780,"body_markdown":"Define the logging level as below in ```application.yml``` file or your properties file.\r\n\r\n```\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org:\r\n      apache:\r\n        kafka: WARN\r\n```\r\nBy defining the above, Kafka will print out only the warnings logs.","title":"How to configure logging for Kafka producers?","body":"<p>Define the logging level as below in <code>application.yml</code> file or your properties file.</p>\n\n<pre><code>logging:\n  level:\n    root: INFO\n    org:\n      apache:\n        kafka: WARN\n</code></pre>\n\n<p>By defining the above, Kafka will print out only the warnings logs.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677295288,"creation_date":1677295288,"answer_id":75563091,"question_id":35773780,"body_markdown":"Spring allows us to configure the package-level logging as follows.\r\n\r\nSteps\r\n* Identify your logs - (I don&#39;t need to get `info` logs of confluent kafka packages.)\r\n\r\n* Find out the package first - `io.confluent.kafka`\r\n* Set it in the application properties\r\n```properties\r\nlogging.level.io.confluent.kafka=WARN\r\n```\r\n\r\n\r\nIn your case, you need to set the below in your application properties. I added confluent kafka as well, if you use it.\r\n```\r\nlogging.level.org.apache.kafka=WARN\r\nlogging.level.io.confluent.kafka=WARN\r\n```","title":"How to configure logging for Kafka producers?","body":"<p>Spring allows us to configure the package-level logging as follows.</p>\n<p>Steps</p>\n<ul>\n<li><p>Identify your logs - (I don't need to get <code>info</code> logs of confluent kafka packages.)</p>\n</li>\n<li><p>Find out the package first - <code>io.confluent.kafka</code></p>\n</li>\n<li><p>Set it in the application properties</p>\n</li>\n</ul>\n<pre><code>logging.level.io.confluent.kafka=WARN\n</code></pre>\n<p>In your case, you need to set the below in your application properties. I added confluent kafka as well, if you use it.</p>\n<pre><code>logging.level.org.apache.kafka=WARN\nlogging.level.io.confluent.kafka=WARN\n</code></pre>\n"}],"owner":{"account_id":788920,"reputation":3452,"user_id":895429,"accept_rate":60,"display_name":"nikel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62890,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":6,"score":26,"last_activity_date":1696762166,"creation_date":1457012400,"question_id":35773780,"body_markdown":"I am using Kafka producer client and i don&#39;t have any log4j configuration in my project.\r\n\r\nOn running, the program prints a lot of Kafka Debug logs  which i really don&#39;t want.\r\n\r\nSo, i tried to add a log4j.properties to set log level to ERROR as below which does not seem to work:\r\n\r\n    log4j.rootLogger=ERROR\r\n\r\nHow do i change Kafka Log Level?","title":"How to configure logging for Kafka producers?","body":"<p>I am using Kafka producer client and i don't have any log4j configuration in my project.</p>\n\n<p>On running, the program prints a lot of Kafka Debug logs  which i really don't want.</p>\n\n<p>So, i tried to add a log4j.properties to set log level to ERROR as below which does not seem to work:</p>\n\n<pre><code>log4j.rootLogger=ERROR\n</code></pre>\n\n<p>How do i change Kafka Log Level?</p>\n"},{"tags":["java","android","mapbox-android","android-runonuithread","carto-mobile"],"owner":{"display_name":"user22635266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696762084,"creation_date":1696762084,"question_id":77253308,"body_markdown":"I almost know [the solution (how) to my problem](https://stackoverflow.com/q/37689903/22635266) but I want to know its reason (why).\r\n\r\nI am using mapBox for showing map on Android app in java. In the main activity layout I have an indeterminate linear progress bar and in the location fragment when the app is in progress (for finding the location) it become visible otherwise invisible. (do not mind about exact codes and workablity. In below just the block codes is shown)\r\n\r\n```\r\n    LinearProgressIndicator mainActivityProgressBar;\r\n    MapView mapView;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setBottomAppBarVisibility(true);\r\n        mainActivityProgressBar = ((MainActivity) requireActivity()).getProgressBar(); //getProgressBar() method return main activity progressbar\r\n    }\r\n        .\r\n        .\r\n        .\r\n    @Override\r\n    public void onViewCreated(@NonNull View view,@Nullable Bundle savedInstanceState){\r\n        super.onViewCreated(view,savedInstanceState);\r\n\r\n        .\r\n        .\r\n        .\r\n        mapView=findViewById(R.id.map);\r\n\r\n        }\r\n\r\n    private void showUserLocation(){\r\n        mainActivityProgressBar.show();    // &lt;------\r\n        findLocation(location-&gt;{\r\n        LatLng latLng=new LatLng(location.getLatitude(),location.getLongitude());\r\n        onNewLocation(latLng);\r\n        });\r\n        }\r\n\r\n    private void onNewLocation(LatLng newLocation){\r\n        mainActivityProgressBar.hide();    // &lt;------\r\n        // move camera to the point\r\n        }\r\n```\r\n\r\nThis works fine when I use mapbox-sdk. (don&#39;t worry about methods and variables). Due to some errors on release time (`libmapbox-gl.so` error)\r\nI tried to use another map. I tried the above method using [carto-Map](https://carto.com/) and it almost works but sometimes it shows this error:\r\n\r\n\r\n```\r\n    FATAL EXCEPTION: Thread-191\r\n        Process: PID: 3606\r\n        android.util.AndroidRuntimeException: Animators may only be run on Looper threads\r\n        at android.animation.ValueAnimator.end(ValueAnimator.java:1142)\r\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.endAnimatorsWithoutCallbacks(DrawableWithAnimatedVisibilityChange.java:319)\r\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisibleInternal(DrawableWithAnimatedVisibilityChange.java:293)\r\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisibleInternal(IndeterminateDrawable.java:99)\r\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisible(DrawableWithAnimatedVisibilityChange.java:240)\r\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisible(IndeterminateDrawable.java:27)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator.internalHide(BaseProgressIndicator.java:250)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator.access$100(BaseProgressIndicator.java:70)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator$2.run(BaseProgressIndicator.java:797)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator.hide(BaseProgressIndicator.java:235)\r\n```\r\n\r\nI want to know why one map-sdk does not give `Animators may only be run on Looper threads` but other one give this error that I think can be fixed by using `runOnUiThread`.\r\n\r\nNOTE: MapBox uses in-code (in application) token but the other one uses token in raw res-folder based on ShA1 fingerprint.","title":"Why mapBox runs without any error but with same codes the carto-Map gives &quot;Animators may only be run on Looper threads&quot;","body":"<p>I almost know <a href=\"https://stackoverflow.com/q/37689903/22635266\">the solution (how) to my problem</a> but I want to know its reason (why).</p>\n<p>I am using mapBox for showing map on Android app in java. In the main activity layout I have an indeterminate linear progress bar and in the location fragment when the app is in progress (for finding the location) it become visible otherwise invisible. (do not mind about exact codes and workablity. In below just the block codes is shown)</p>\n<pre><code>    LinearProgressIndicator mainActivityProgressBar;\n    MapView mapView;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setBottomAppBarVisibility(true);\n        mainActivityProgressBar = ((MainActivity) requireActivity()).getProgressBar(); //getProgressBar() method return main activity progressbar\n    }\n        .\n        .\n        .\n    @Override\n    public void onViewCreated(@NonNull View view,@Nullable Bundle savedInstanceState){\n        super.onViewCreated(view,savedInstanceState);\n\n        .\n        .\n        .\n        mapView=findViewById(R.id.map);\n\n        }\n\n    private void showUserLocation(){\n        mainActivityProgressBar.show();    // &lt;------\n        findLocation(location-&gt;{\n        LatLng latLng=new LatLng(location.getLatitude(),location.getLongitude());\n        onNewLocation(latLng);\n        });\n        }\n\n    private void onNewLocation(LatLng newLocation){\n        mainActivityProgressBar.hide();    // &lt;------\n        // move camera to the point\n        }\n</code></pre>\n<p>This works fine when I use mapbox-sdk. (don't worry about methods and variables). Due to some errors on release time (<code>libmapbox-gl.so</code> error)\nI tried to use another map. I tried the above method using <a href=\"https://carto.com/\" rel=\"nofollow noreferrer\">carto-Map</a> and it almost works but sometimes it shows this error:</p>\n<pre><code>    FATAL EXCEPTION: Thread-191\n        Process: PID: 3606\n        android.util.AndroidRuntimeException: Animators may only be run on Looper threads\n        at android.animation.ValueAnimator.end(ValueAnimator.java:1142)\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.endAnimatorsWithoutCallbacks(DrawableWithAnimatedVisibilityChange.java:319)\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisibleInternal(DrawableWithAnimatedVisibilityChange.java:293)\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisibleInternal(IndeterminateDrawable.java:99)\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisible(DrawableWithAnimatedVisibilityChange.java:240)\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisible(IndeterminateDrawable.java:27)\n        at com.google.android.material.progressindicator.BaseProgressIndicator.internalHide(BaseProgressIndicator.java:250)\n        at com.google.android.material.progressindicator.BaseProgressIndicator.access$100(BaseProgressIndicator.java:70)\n        at com.google.android.material.progressindicator.BaseProgressIndicator$2.run(BaseProgressIndicator.java:797)\n        at com.google.android.material.progressindicator.BaseProgressIndicator.hide(BaseProgressIndicator.java:235)\n</code></pre>\n<p>I want to know why one map-sdk does not give <code>Animators may only be run on Looper threads</code> but other one give this error that I think can be fixed by using <code>runOnUiThread</code>.</p>\n<p>NOTE: MapBox uses in-code (in application) token but the other one uses token in raw res-folder based on ShA1 fingerprint.</p>\n"},{"tags":["java","database","sqlite","sap-commerce-cloud","impex"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1696807486,"post_id":77253283,"comment_id":136196606,"body_markdown":"I hope you are selecting enable code executing during import via hac or please add this line before header\n #%impex.enableCodeExecution(true);","body":"I hope you are selecting enable code executing during import via hac or please add this line before header  #%impex.enableCodeExecution(true);"},{"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"score":0,"creation_date":1696842656,"post_id":77253283,"comment_id":136199964,"body_markdown":"@RaushanKumar No luck with this\n\nI even tried giving the current date-time on the headers with your suggested change as well\n\n#% impex.enableCodeExecution(true);\n#% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\nINSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;$currentDate;currency(isocode)[default=CAD]","body":"@RaushanKumar No luck with this  I even tried giving the current date-time on the headers with your suggested change as well  #% impex.enableCodeExecution(true); #% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTi&zwnj;&#8203;meFormatter.ofPatter&zwnj;&#8203;n(&quot;MMM d, yyyy, h:mm:ss a&quot;))) INSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;$currentDate;c&zwnj;&#8203;urrency(isocode)[def&zwnj;&#8203;ault=CAD]"}],"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696761477,"creation_date":1696761477,"question_id":77253283,"body_markdown":"I am trying to migrate cart data onto Hybris DB where the requirement is to insert the cart entries as the current date and time. When Testing the Impex on the HAC I get the same error what I get from the cronJobs logs.\r\n\r\nI am currently using the following Impex\r\n\r\n```\r\n $coupon=appliedCouponCodes[collection-delimiter=|][merge=true]\r\n$user=user[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameOrgCartCustomerFromWebOrgId]\r\n$store=store[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameQuoteSiteToStoreTranslator]\r\n\r\n#% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\r\n\r\nINSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;date[dateformat=&quot;MMM d, yyyy hh:mm:ss a&quot;][default=&quot;Mar 2, 2004, 1:24:33 p&quot;];currency(isocode)[default=CAD]\r\n;&quot;2300001&quot;;&quot;100005_w&quot;;&quot;ca.mycompanybasesite.com&quot;;&quot;ca.mycompanybasestore.com&quot;;$currentDate\r\n```\r\n\r\nNow when I hardcode the date-time value onto the data or keep it blank to get the default value it will run the impex which suggests that that there are no other dependencies on the translator being used. the below error only pops out when I use the variable $currentDate\r\n\r\n```\r\nINSERT_UPDATE Cart;code[unique=true];user[unique=true,translator=com.avantor.core.dataimport.translator.AvantorOrgCartCustomerFromWebOrgId];site(uid);store[unique=true,translator=com.avantor.core.dataimport.translator.AvantorQuoteSiteToStoreTranslator];&quot;date[dateformat=&quot;&quot;MMM dd, yyyy hh:mm:ss a&quot;&quot;][default=&quot;&quot;Mar 2, 2004, 1:24:33 p&quot;&quot;]&quot;;currency(isocode)[default=CAD]\r\n&quot;,,,,cannot parse date &#39;$currentDate&#39; with specified pattern &#39;&quot;&quot;MMM d&#39; due to Unparseable date: &quot;&quot;$currentDate&quot;&quot;&quot;;2300001;100005_w;ca.mycompanybasesite.com;ca.mycompanybasestore.com;$currentDate\r\n\r\n```\r\n\r\nI tried testing the impex on the HAC to which I found the above error, I also tried running the line in an online Java compiler\r\n\r\n```\r\nSystem.out.println(java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\r\n```\r\n\r\nwhich returns:\r\n\r\n`Oct 8, 2023, 10:23:41 AM`  \r\nto which, I had no issues with getting the date-time in the correct format. I have tried other date-time formats as no luck with that as well.\r\n\r\nI also tried formatting the date using this [answer](https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date) (SimpleDateFormat), [this](https://answers.sap.com/questions/12761406/current-date-in-impex.html) (Kindoff my current implementation) and [this](https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date) (I tried considering this) but to no avail. The issue still comes.\r\n\r\nAny pointing to the right direction would help\r\n\r\nI am on the 2211.9 version of SAP Commerce Cloud","title":"How do I import current date time in MMM d, y, h:mm:ss a format in hotfolder impex config? Error Popping out","body":"<p>I am trying to migrate cart data onto Hybris DB where the requirement is to insert the cart entries as the current date and time. When Testing the Impex on the HAC I get the same error what I get from the cronJobs logs.</p>\n<p>I am currently using the following Impex</p>\n<pre><code> $coupon=appliedCouponCodes[collection-delimiter=|][merge=true]\n$user=user[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameOrgCartCustomerFromWebOrgId]\n$store=store[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameQuoteSiteToStoreTranslator]\n\n#% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\n\nINSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;date[dateformat=&quot;MMM d, yyyy hh:mm:ss a&quot;][default=&quot;Mar 2, 2004, 1:24:33 p&quot;];currency(isocode)[default=CAD]\n;&quot;2300001&quot;;&quot;100005_w&quot;;&quot;ca.mycompanybasesite.com&quot;;&quot;ca.mycompanybasestore.com&quot;;$currentDate\n</code></pre>\n<p>Now when I hardcode the date-time value onto the data or keep it blank to get the default value it will run the impex which suggests that that there are no other dependencies on the translator being used. the below error only pops out when I use the variable $currentDate</p>\n<pre><code>INSERT_UPDATE Cart;code[unique=true];user[unique=true,translator=com.avantor.core.dataimport.translator.AvantorOrgCartCustomerFromWebOrgId];site(uid);store[unique=true,translator=com.avantor.core.dataimport.translator.AvantorQuoteSiteToStoreTranslator];&quot;date[dateformat=&quot;&quot;MMM dd, yyyy hh:mm:ss a&quot;&quot;][default=&quot;&quot;Mar 2, 2004, 1:24:33 p&quot;&quot;]&quot;;currency(isocode)[default=CAD]\n&quot;,,,,cannot parse date '$currentDate' with specified pattern '&quot;&quot;MMM d' due to Unparseable date: &quot;&quot;$currentDate&quot;&quot;&quot;;2300001;100005_w;ca.mycompanybasesite.com;ca.mycompanybasestore.com;$currentDate\n\n</code></pre>\n<p>I tried testing the impex on the HAC to which I found the above error, I also tried running the line in an online Java compiler</p>\n<pre><code>System.out.println(java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\n</code></pre>\n<p>which returns:</p>\n<p><code>Oct 8, 2023, 10:23:41 AM</code><br />\nto which, I had no issues with getting the date-time in the correct format. I have tried other date-time formats as no luck with that as well.</p>\n<p>I also tried formatting the date using this <a href=\"https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date\">answer</a> (SimpleDateFormat), <a href=\"https://answers.sap.com/questions/12761406/current-date-in-impex.html\" rel=\"nofollow noreferrer\">this</a> (Kindoff my current implementation) and <a href=\"https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date\">this</a> (I tried considering this) but to no avail. The issue still comes.</p>\n<p>Any pointing to the right direction would help</p>\n<p>I am on the 2211.9 version of SAP Commerce Cloud</p>\n"},{"tags":["java","jdbc","jdbi"],"answers":[{"tags":[],"owner":{"account_id":10389549,"reputation":71,"user_id":7661358,"display_name":"Shai"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1488986897,"creation_date":1488986897,"answer_id":42675353,"question_id":42625493,"body_markdown":"You can use the StatementContext argument for that.\r\n\r\nWhen the map method sees a new country, it creates a new Country instance and calls ctx.setAttribute to save the new instance. Later on, if there&#39;s a non-null region, it adds the region to the Country instance taken from the statement context.\r\n\r\nHere&#39;s an example:\r\n\r\n        @Override\r\n        public Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\r\n\r\n            final String countryIso3Code = resultRow.getString(&quot;iso3Code&quot;);\r\n            if (countryIso3Code == null) {\r\n                throw new SQLDataException(&quot;Iso3Code is required&quot;);\r\n            }\r\n            Country country = (Country)ctx.getAttribute(countryIso3Code);\r\n            if (country == null) {\r\n                country = new Country();\r\n                country.setName(resultRow.getString(&quot;name&quot;));\r\n                country.setIso3Code(countryIso3Code);\r\n                country.setIso2Code(resultRow.getString(&quot;iso2Code&quot;));\r\n                ctx.setAttribute(countryIso3Code, country);\r\n            }\r\n\r\n            String region = resultRow.getString(&quot;region&quot;);\r\n            if (region != null) {\r\n                country.addRegion(region);\r\n            }\r\n            return country;\r\n        }\r\n\r\nIt&#39;s a bit inconvenient to use a builder like you do in the code you posted, but it&#39;s possible to put a builder on the statement context rather than a country. \r\n\r\nAlso, this mapper returns a country per DB row, so seven results, but since the same instance is repeated, using a Set&amp;lt;Country&amp;gt; gets you the expected four results.","title":"JDBI resultset mapping with joined list of results?","body":"<p>You can use the StatementContext argument for that.</p>\n\n<p>When the map method sees a new country, it creates a new Country instance and calls ctx.setAttribute to save the new instance. Later on, if there's a non-null region, it adds the region to the Country instance taken from the statement context.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>    @Override\n    public Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\n\n        final String countryIso3Code = resultRow.getString(\"iso3Code\");\n        if (countryIso3Code == null) {\n            throw new SQLDataException(\"Iso3Code is required\");\n        }\n        Country country = (Country)ctx.getAttribute(countryIso3Code);\n        if (country == null) {\n            country = new Country();\n            country.setName(resultRow.getString(\"name\"));\n            country.setIso3Code(countryIso3Code);\n            country.setIso2Code(resultRow.getString(\"iso2Code\"));\n            ctx.setAttribute(countryIso3Code, country);\n        }\n\n        String region = resultRow.getString(\"region\");\n        if (region != null) {\n            country.addRegion(region);\n        }\n        return country;\n    }\n</code></pre>\n\n<p>It's a bit inconvenient to use a builder like you do in the code you posted, but it's possible to put a builder on the statement context rather than a country. </p>\n\n<p>Also, this mapper returns a country per DB row, so seven results, but since the same instance is repeated, using a Set&lt;Country&gt; gets you the expected four results.</p>\n"},{"comments":[{"owner":{"account_id":5325338,"reputation":387,"user_id":4247530,"display_name":"Thomas LIMIN"},"score":0,"creation_date":1697029065,"post_id":72227102,"comment_id":136227764,"body_markdown":"https://jdbi.org/#_resultbearing_reducerows is not available prior to jdbi 3\n\nIn case code is stucked with jdbi &lt; 3\n\nyou can use \n- [Query::fold method](\nhttps://jdbi.org/jdbi2/apidocs/org/skife/jdbi/v2/Query.html#fold-AccumulatorType-org.skife.jdbi.v2.Folder2-)\n- [Query::fold method](https://jdbi.org/jdbi2/apidocs/org/skife/jdbi/v2/Query.html#fold-AccumulatorType-org.skife.jdbi.v2.Folder3-)\n\nThere is an example in https://jdbi.org/jdbi2/fluent_queries/","body":"<a href=\"https://jdbi.org/#_resultbearing_reducerows\" rel=\"nofollow noreferrer\">jdbi.org/#_resultbearing_reducerows</a> is not available prior to jdbi 3  In case code is stucked with jdbi &lt; 3  you can use  - [Query::fold method]( <a href=\"https://jdbi.org/jdbi2/apidocs/org/skife/jdbi/v2/Query.html#fold-AccumulatorType-org.skife.jdbi.v2.Folder2-\" rel=\"nofollow noreferrer\">jdbi.org/jdbi2/apidocs/org/skife/jdbi/v2/&hellip;</a>) - <a href=\"https://jdbi.org/jdbi2/apidocs/org/skife/jdbi/v2/Query.html#fold-AccumulatorType-org.skife.jdbi.v2.Folder3-\" rel=\"nofollow noreferrer\">Query::fold method</a>  There is an example in <a href=\"https://jdbi.org/jdbi2/fluent_queries/\" rel=\"nofollow noreferrer\">jdbi.org/jdbi2/fluent_queries</a>"}],"tags":[],"owner":{"account_id":5325338,"reputation":387,"user_id":4247530,"display_name":"Thomas LIMIN"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652433025,"creation_date":1652433025,"answer_id":72227102,"question_id":42625493,"body_markdown":"Jdbi provides the &quot;reduce row&quot; functionnality to handle &quot;joined results&quot;: https://jdbi.org/#_joins\r\n\r\nYou will need to implement a RowReducer&lt;Country&gt;, with these responsabilities:\r\n- to build the country from the result set row the first time it encounter it (you may use a simplified RawMapper&lt;Country&gt; implementation). Detection may be based on country primary key\r\n- store the build country in the container, mapped by its primary key, to be able to retrieve it when encountered again in following result set rows\r\n- retrieve the contry from the container if current row is about an already encountered country, add the region specified by the current row to the retrieved contry\r\n\r\nJdbi use the row reducer to parse each result set rows, and provide as a result the content of the container.\r\n\r\nyou can follow the example in the jdbi documentation: https://jdbi.org/#_resultbearing_reducerows\r\n\r\n\r\n\r\n","title":"JDBI resultset mapping with joined list of results?","body":"<p>Jdbi provides the &quot;reduce row&quot; functionnality to handle &quot;joined results&quot;: <a href=\"https://jdbi.org/#_joins\" rel=\"nofollow noreferrer\">https://jdbi.org/#_joins</a></p>\n<p>You will need to implement a RowReducer, with these responsabilities:</p>\n<ul>\n<li>to build the country from the result set row the first time it encounter it (you may use a simplified RawMapper implementation). Detection may be based on country primary key</li>\n<li>store the build country in the container, mapped by its primary key, to be able to retrieve it when encountered again in following result set rows</li>\n<li>retrieve the contry from the container if current row is about an already encountered country, add the region specified by the current row to the retrieved contry</li>\n</ul>\n<p>Jdbi use the row reducer to parse each result set rows, and provide as a result the content of the container.</p>\n<p>you can follow the example in the jdbi documentation: <a href=\"https://jdbi.org/#_resultbearing_reducerows\" rel=\"nofollow noreferrer\">https://jdbi.org/#_resultbearing_reducerows</a></p>\n"}],"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42675353,"answer_count":2,"score":4,"last_activity_date":1696759847,"creation_date":1488802709,"question_id":42625493,"body_markdown":"Trying to build a Country object with JDBIs ResultSetMapper API, however I have one issue which I am not sure how to solve.\n\nFor a resultset like the following which joins the Regions (states/ territories) table to country (1 - 0..n)\n\n[![enter image description here][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/oasCu.png\n\n        @Override\n    public Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\n\n        final String countryIso3Code = resultRow.getString(&quot;iso3Code&quot;);\n\n\n        return Country.builder().name(resultRow.getString(&quot;name&quot;))\n                .iso2Code(resultRow.getString(&quot;iso2Code&quot;))\n                .iso3Code(resultRow.getString(&quot;iso3Code&quot;))\n                .regions(....?)\n                .build();\n\n    }\n\nHow can I get the ResultSetMapper to initialise one Country object with the appropriate list of related Regions in JDBI\n\ne.g. \n\n&gt; United States - (USA) - (US) - (PR, RI, WA)\n\n\nCurrently the list of Countries returned is like the followng\n\n&gt; United Kingdom - GBR - GB - &lt;&gt;\n&gt;\n&gt; United States - USA - US - PR\n&gt;\n&gt; United States - USA - US - RI\n&gt;\n&gt; United States - USA - US - WA\n&gt;\n&gt; Puerto Rico - PRI - PR - &lt;&gt;\n&gt;\n&gt; Canada - CAN - CA - AB\n&gt;\n&gt; Canada - CAN - CA - BC\n\n","title":"JDBI resultset mapping with joined list of results?","body":"<p>Trying to build a Country object with JDBIs ResultSetMapper API, however I have one issue which I am not sure how to solve.</p>\n<p>For a resultset like the following which joins the Regions (states/ territories) table to country (1 - 0..n)</p>\n<p><a href=\"https://i.stack.imgur.com/oasCu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oasCu.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    @Override\npublic Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\n\n    final String countryIso3Code = resultRow.getString(&quot;iso3Code&quot;);\n\n\n    return Country.builder().name(resultRow.getString(&quot;name&quot;))\n            .iso2Code(resultRow.getString(&quot;iso2Code&quot;))\n            .iso3Code(resultRow.getString(&quot;iso3Code&quot;))\n            .regions(....?)\n            .build();\n\n}\n</code></pre>\n<p>How can I get the ResultSetMapper to initialise one Country object with the appropriate list of related Regions in JDBI</p>\n<p>e.g.</p>\n<blockquote>\n<p>United States - (USA) - (US) - (PR, RI, WA)</p>\n</blockquote>\n<p>Currently the list of Countries returned is like the followng</p>\n<blockquote>\n<p>United Kingdom - GBR - GB - &lt;&gt;</p>\n<p>United States - USA - US - PR</p>\n<p>United States - USA - US - RI</p>\n<p>United States - USA - US - WA</p>\n<p>Puerto Rico - PRI - PR - &lt;&gt;</p>\n<p>Canada - CAN - CA - AB</p>\n<p>Canada - CAN - CA - BC</p>\n</blockquote>\n"},{"tags":["java","spring","jhipster"],"comments":[{"owner":{"account_id":5104901,"reputation":169,"user_id":4093281,"display_name":"Raphael Alves"},"score":1,"creation_date":1550138142,"post_id":54681312,"comment_id":96163067,"body_markdown":"Please post your yml and your LoggingConfiguration.java class.","body":"Please post your yml and your LoggingConfiguration.java class."}],"answers":[{"comments":[{"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"score":3,"creation_date":1550103369,"post_id":54681392,"comment_id":96151732,"body_markdown":"I appreciate your effort but I don&#39;t think this is the right approach for the problem.","body":"I appreciate your effort but I don&#39;t think this is the right approach for the problem."}],"tags":[],"owner":{"account_id":14675357,"reputation":64,"user_id":10598634,"display_name":"Clay"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550103157,"creation_date":1550103157,"answer_id":54681392,"question_id":54681312,"body_markdown":"I was just having the same issue.\r\nIt actually worked when I replaced the &quot;.&quot;s with &quot;_&quot; \r\nSo my method : \r\n\r\n    @Value(&quot;${server_port&quot;)\r\n    Integer port;\r\n\r\nand my properties.yml \r\n\r\n    server:\r\n      port: 1234\r\n    server_port: 1234\r\n\r\nOf course, the redundancy isn&#39;t ideal, but @Value seems to be unable to handle &quot;.&quot;s.\r\n","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>I was just having the same issue.\nIt actually worked when I replaced the \".\"s with \"_\" \nSo my method : </p>\n\n<pre><code>@Value(\"${server_port\")\nInteger port;\n</code></pre>\n\n<p>and my properties.yml </p>\n\n<pre><code>server:\n  port: 1234\nserver_port: 1234\n</code></pre>\n\n<p>Of course, the redundancy isn't ideal, but @Value seems to be unable to handle \".\"s.</p>\n"},{"comments":[{"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"score":0,"creation_date":1550104060,"post_id":54681421,"comment_id":96151900,"body_markdown":"Yes, this is a Spring boot application. This happens in a LoggingConfiguration file, it is generated by jHipster, I didn&#39;t change anything there nor in the .yml file.","body":"Yes, this is a Spring boot application. This happens in a LoggingConfiguration file, it is generated by jHipster, I didn&#39;t change anything there nor in the .yml file."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1550104259,"post_id":54681421,"comment_id":96151940,"body_markdown":"@SemirDelji maybe you didn&#39;t, but jHipster did. Isn&#39;t the server port something you have to set manually?","body":"@SemirDelji maybe you didn&#39;t, but jHipster did. Isn&#39;t the server port something you have to set manually?"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1550104336,"post_id":54681421,"comment_id":96151963,"body_markdown":"@SemirDelji my suggestion would be to regenerate the application.","body":"@SemirDelji my suggestion would be to regenerate the application."},{"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"score":0,"creation_date":1550104961,"post_id":54681421,"comment_id":96152127,"body_markdown":"the application is regenerated with the jHipster upgrade on a separate branch, that is how the upgrade process works. After that, I&#39;ve merged it to the local branch.","body":"the application is regenerated with the jHipster upgrade on a separate branch, that is how the upgrade process works. After that, I&#39;ve merged it to the local branch."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1550150065,"post_id":54681421,"comment_id":96169951,"body_markdown":"@SemirDelji mmmh, are you sure you haven&#39;t lost anything in the merge process?","body":"@SemirDelji mmmh, are you sure you haven&#39;t lost anything in the merge process?"},{"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"score":0,"creation_date":1550157627,"post_id":54681421,"comment_id":96174887,"body_markdown":"I will go through the merge process one more time. I am not sure if I&#39;ve lost something along the way.","body":"I will go through the merge process one more time. I am not sure if I&#39;ve lost something along the way."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1550158326,"post_id":54681421,"comment_id":96175298,"body_markdown":"@SemirDelji I&#39;d start by looking at this, indeed. Let me know!","body":"@SemirDelji I&#39;d start by looking at this, indeed. Let me know!"}],"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550103395,"creation_date":1550103395,"answer_id":54681421,"question_id":54681312,"body_markdown":"Spring looks for placeholders specified inside the `@Value` annotation in various locations. Since you&#39;re probably running a Spring Boot application, you might want to check the [documentation][1] for externalized configuration.\n\nI&#39;d bet you did have it specified as a command line argument, or inside the `application.properties` resource file.\n\nBtw, the `.` (dot) is not a problem.\n\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>Spring looks for placeholders specified inside the <code>@Value</code> annotation in various locations. Since you're probably running a Spring Boot application, you might want to check the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">documentation</a> for externalized configuration.</p>\n<p>I'd bet you did have it specified as a command line argument, or inside the <code>application.properties</code> resource file.</p>\n<p>Btw, the <code>.</code> (dot) is not a problem.</p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597832189,"creation_date":1597832189,"answer_id":63484838,"question_id":54681312,"body_markdown":"I had the same issue, I solved this simply by adding the **server.port** property to **application.properties**\r\n\r\n**MultiplicationController.java**\r\n\r\n    @Slf4j\r\n    @RestController\r\n    @RequestMapping(&quot;/multiplications&quot;)\r\n    @CrossOrigin(origins = &quot;http://localhost:9090&quot;)\r\n    final class MultiplicationController {\r\n    \r\n    \tprivate final MultiplicationService multiplicationService;\r\n    \r\n    \tprivate final int serverPort;\r\n    \r\n    \t@Autowired\r\n    \tpublic MultiplicationController(final MultiplicationService multiplicationService,\r\n    \t\t\t@Value(&quot;${server.port}&quot;) int serverPort) {\r\n    \t\tthis.multiplicationService = multiplicationService;\r\n    \t\tthis.serverPort = serverPort;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/random&quot;)\r\n    \tpublic Multiplication getRandomMultiplication() {\r\n    \t\tlog.info(&quot;Generating a random multiplication from server @ {}&quot;, serverPort);\r\n    \t\treturn multiplicationService.createRandomMultiplication();\r\n    \t}\r\n    }\r\n\r\n**application.properties**\r\n\r\n    server.port=8080","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>I had the same issue, I solved this simply by adding the <strong>server.port</strong> property to <strong>application.properties</strong></p>\n<p><strong>MultiplicationController.java</strong></p>\n<pre><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/multiplications&quot;)\n@CrossOrigin(origins = &quot;http://localhost:9090&quot;)\nfinal class MultiplicationController {\n\n    private final MultiplicationService multiplicationService;\n\n    private final int serverPort;\n\n    @Autowired\n    public MultiplicationController(final MultiplicationService multiplicationService,\n            @Value(&quot;${server.port}&quot;) int serverPort) {\n        this.multiplicationService = multiplicationService;\n        this.serverPort = serverPort;\n    }\n\n    @GetMapping(&quot;/random&quot;)\n    public Multiplication getRandomMultiplication() {\n        log.info(&quot;Generating a random multiplication from server @ {}&quot;, serverPort);\n        return multiplicationService.createRandomMultiplication();\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8080\n</code></pre>\n"}],"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696759345,"creation_date":1550102602,"question_id":54681312,"body_markdown":"After upgrading a jHipster project from version 4.14.5 to the version 5.8.1 I am getting this error when I try to run the application:\r\n\r\n&gt; Exception encountered during context initialization - cancelling\r\n&gt; refresh attempt:\r\n&gt; org.springframework.beans.factory.BeanCreationException:  Error\r\n&gt; creating bean with name &#39;loggingConfiguration&#39; defined  in file\r\n&gt; [\\config\\LoggingConfiguration.class]: \r\n&gt; \r\n&gt; Unexpected exception during bean creation; nested exception is\r\n&gt; java.lang.IllegalArgumentException:  Could not resolve placeholder\r\n&gt; &#39;server.port&#39; in value &quot;${server.port}&quot;\r\n\r\n\r\n\r\nDo you have any idea of what could be the cause of the problem?","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>After upgrading a jHipster project from version 4.14.5 to the version 5.8.1 I am getting this error when I try to run the application:</p>\n\n<blockquote>\n  <p>Exception encountered during context initialization - cancelling\n  refresh attempt:\n  org.springframework.beans.factory.BeanCreationException:  Error\n  creating bean with name 'loggingConfiguration' defined  in file\n  [\\config\\LoggingConfiguration.class]: </p>\n  \n  <p>Unexpected exception during bean creation; nested exception is\n  java.lang.IllegalArgumentException:  Could not resolve placeholder\n  'server.port' in value \"${server.port}\"</p>\n</blockquote>\n\n<p>Do you have any idea of what could be the cause of the problem?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth","pairing"],"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1696494019,"post_id":77233836,"comment_id":136160790,"body_markdown":"When you print all bonded Devices to your terminal, does your device and it&#39;s mac address appear in the output?","body":"When you print all bonded Devices to your terminal, does your device and it&#39;s mac address appear in the output?"},{"owner":{"account_id":29600636,"reputation":3,"user_id":22686172,"display_name":"perpetualnoob"},"score":0,"creation_date":1696535489,"post_id":77233836,"comment_id":136169434,"body_markdown":"yep. it appears there. the `String.valueOf()` was changing my string to some int value of the string resource. also, as a precautionary measures for future statue, I did as Matthew suggested and am using the `.equals()` function.","body":"yep. it appears there. the <code>String.valueOf()</code> was changing my string to some int value of the string resource. also, as a precautionary measures for future statue, I did as Matthew suggested and am using the <code>.equals()</code> function."}],"answers":[{"comments":[{"owner":{"account_id":29600636,"reputation":3,"user_id":22686172,"display_name":"perpetualnoob"},"score":0,"creation_date":1696474405,"post_id":77233902,"comment_id":136158528,"body_markdown":"Thanks, Matthew!\n\nAdditional to the `.equals`, your suggestion helped me catch another issue. `String.valueOf()` is messing up my string resource value. I switched to `getResources().getString()` and it worked.","body":"Thanks, Matthew!  Additional to the <code>.equals</code>, your suggestion helped me catch another issue. <code>String.valueOf()</code> is messing up my string resource value. I switched to <code>getResources().getString()</code> and it worked."},{"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"score":0,"creation_date":1696606211,"post_id":77233902,"comment_id":136179173,"body_markdown":"Glad I could help! This was my first stack overflow answer! :)","body":"Glad I could help! This was my first stack overflow answer! :)"},{"owner":{"account_id":29600636,"reputation":3,"user_id":22686172,"display_name":"perpetualnoob"},"score":0,"creation_date":1696634169,"post_id":77233902,"comment_id":136183200,"body_markdown":"cheers, brother!","body":"cheers, brother!"}],"tags":[],"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696758915,"creation_date":1696471881,"answer_id":77233902,"question_id":77233836,"body_markdown":"Strings are immutable in Java, so `==` will compare memory locations. You could try using the `.equals` method, which would compare the actual characters in the string instead of the memory location.\r\n\r\nIf that doesn&#39;t work, can you put print outs for the 2 addresses.\r\n","title":"Catching specific MAC Address from Paired Devices","body":"<p>Strings are immutable in Java, so <code>==</code> will compare memory locations. You could try using the <code>.equals</code> method, which would compare the actual characters in the string instead of the memory location.</p>\n<p>If that doesn't work, can you put print outs for the 2 addresses.</p>\n"}],"owner":{"account_id":29600636,"reputation":3,"user_id":22686172,"display_name":"perpetualnoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77233902,"answer_count":1,"score":0,"last_activity_date":1696758915,"creation_date":1696470189,"question_id":77233836,"body_markdown":"everyone.\r\n\r\nnew here.\r\n\r\nI&#39;m experiencing an issue comparing MAC address from paired devices. I want my app to do something if it finds that a certain MAC address is already paired to it.\r\n\r\nHere&#39;s part of my java class:\r\n\r\n```\r\nBoolean pair_status = false;\r\n\r\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\r\nif (pairedDevices.size() &gt; 0) {\r\n    for (BluetoothDevice device : pairedDevices) {\r\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\r\n            pair_status = true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my string initialization:\r\n```\r\n&lt;string name=&quot;BT_MWAddress&quot;&gt;28:A3:91:E6:A1:50&lt;/string&gt;\r\n```\r\nI can see that the device is paired with my phone.\r\n\r\nI&#39;ve tried changing my condition statement to the ones below but I&#39;m still getting the same result.\r\n- `String.valueOf(device.getAddress()) == String.valueOf(R.string.BT_MWAddress)`\r\n- `device.getAddress() == &quot;28:A3:91:E6:A1:50&quot;`\r\n- `String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;`\r\n- `String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;`\r\n\r\nAnother check I did is changing my code like below for troubleshooting. and `pair_status` always updates to `-1`. Posted the `pair_status` in a TextView.\r\n```\r\nint pair_status = 0;\r\n\r\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\r\nif (pairedDevices.size() &gt; 0) {\r\n    for (BluetoothDevice device : pairedDevices) {\r\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\r\n            pair_status = 1;\r\n        } else {\r\n            pair_status = -1;\r\n        }\r\n    }\r\n}\r\n```","title":"Catching specific MAC Address from Paired Devices","body":"<p>everyone.</p>\n<p>new here.</p>\n<p>I'm experiencing an issue comparing MAC address from paired devices. I want my app to do something if it finds that a certain MAC address is already paired to it.</p>\n<p>Here's part of my java class:</p>\n<pre><code>Boolean pair_status = false;\n\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\nif (pairedDevices.size() &gt; 0) {\n    for (BluetoothDevice device : pairedDevices) {\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\n            pair_status = true;\n        }\n    }\n}\n</code></pre>\n<p>Here's my string initialization:</p>\n<pre><code>&lt;string name=&quot;BT_MWAddress&quot;&gt;28:A3:91:E6:A1:50&lt;/string&gt;\n</code></pre>\n<p>I can see that the device is paired with my phone.</p>\n<p>I've tried changing my condition statement to the ones below but I'm still getting the same result.</p>\n<ul>\n<li><code>String.valueOf(device.getAddress()) == String.valueOf(R.string.BT_MWAddress)</code></li>\n<li><code>device.getAddress() == &quot;28:A3:91:E6:A1:50&quot;</code></li>\n<li><code>String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;</code></li>\n<li><code>String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;</code></li>\n</ul>\n<p>Another check I did is changing my code like below for troubleshooting. and <code>pair_status</code> always updates to <code>-1</code>. Posted the <code>pair_status</code> in a TextView.</p>\n<pre><code>int pair_status = 0;\n\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\nif (pairedDevices.size() &gt; 0) {\n    for (BluetoothDevice device : pairedDevices) {\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\n            pair_status = 1;\n        } else {\n            pair_status = -1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","xml-parsing","thymeleaf","freemarker"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1486650017,"post_id":42139073,"comment_id":71444334,"body_markdown":"How would you convert xml data to a pdf file? How does a war file and a server come into the picture all of a sudden? Please enhance the question, nobody can help you like this.","body":"How would you convert xml data to a pdf file? How does a war file and a server come into the picture all of a sudden? Please enhance the question, nobody can help you like this."}],"answers":[{"tags":[],"owner":{"account_id":7853869,"reputation":27,"user_id":5936449,"accept_rate":80,"display_name":"master89"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1486976433,"creation_date":1486976433,"answer_id":42200149,"question_id":42139073,"body_markdown":"I don&#39;t know why was so hard for you to understand, I think it&#39;s not Klingon. I finally solved it thanks to Thymeleaf, I deployed my app in my server and with thymeleaf templates I can configure the output dinamically without redeploying","title":"Parse xml to pdf according to a template in java","body":"<p>I don't know why was so hard for you to understand, I think it's not Klingon. I finally solved it thanks to Thymeleaf, I deployed my app in my server and with thymeleaf templates I can configure the output dinamically without redeploying</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696268265,"post_id":77191868,"comment_id":136128431,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77191868/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29360106,"reputation":1,"user_id":22495005,"display_name":""},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696758371,"creation_date":1695868471,"answer_id":77191868,"question_id":42139073,"body_markdown":"I think that, the functionality you want to implemente is:\r\n\r\n1. A xml to pdf framework\r\n\r\n2. A server program, which implements an interface for external calls\r\n\r\n2.1. Then input param of the interface is:\r\n\r\n2.1.1. Config file in xml format(let&#39;s call it param1)\r\n\r\n2.1.2. Business data(let&#39;s call it param2)\r\n\r\n2.2. The output result of the interface is:\r\n\r\n2.2.2. pdf format files\r\n\r\nThe internal logic of the server program is: call the xml to pdf framework, send param1 and param2 parameter.\r\n\r\nTherefore, the main difficulty lies in 1: a xml to pdf framework\r\n\r\nAnd nanhu-print-java happens to be an xml to pdf framework.\r\n\r\nAn hello world demo of xml to pdf is:\r\n\r\n1. Configure file of xml format\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;html xmlns=&quot;https://github.com/hongjinqiu/nanhu-print-java&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;style&gt;&lt;/style&gt;\r\n    &lt;macros&gt;&lt;/macros&gt;\r\n    &lt;body pageSizePdf=&quot;A4&quot; rotate=&quot;false&quot; paddingLeft=&quot;50px&quot; paddingRight=&quot;50px&quot; paddingTop=&quot;30px&quot; paddingBottom=&quot;20px&quot; width=&quot;685px&quot; height=&quot;840px&quot;&gt;\r\n        &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;100%&quot; tableLayout=&quot;fixed&quot; explain=&quot;true&quot;&gt;\r\n            &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;\r\n                        &lt;span value=&quot;hello world,&quot; /&gt;\r\n                        &lt;span value=&quot;js:businessData&quot; /&gt;\r\n            &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n2. Business data is:\r\n\r\n```\r\n{\r\n  &quot;businessData&quot;: &quot;I am businessData&quot;\r\n}\r\n```\r\n\r\n3. How to use the framework:\r\n\r\nAdd maven dependencies of nanhu-print-java framework:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.github.hongjinqiu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;nanhu-print-java&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe code:\r\n\r\n```\r\npackage com.hongjinqiu.demo;\r\n\r\nimport com.hongjinqiu.nanhuprint.NanhuprintInterpreter;\r\nimport net.sf.json.JSONObject;\r\nimport org.apache.commons.io.IOUtils;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.InputStream;\r\nimport java.util.Map;\r\n\r\npublic class HelloWorld {\r\n    public static void main(String[] args) throws Exception {\r\n        NanhuprintInterpreter nanhuprintInterpreter = new NanhuprintInterpreter();\r\n        String filePath = &quot;/tmp/hello_world.pdf&quot;;\r\n        try (InputStream in = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.json&quot;);\r\n             InputStream xmlIn = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.xml&quot;)\r\n        ) {\r\n            ByteArrayOutputStream xmlOut = new ByteArrayOutputStream();\r\n            IOUtils.copyLarge(xmlIn, xmlOut);\r\n            String metaString = xmlOut.toString(&quot;utf8&quot;);\r\n\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            IOUtils.copyLarge(in, out);\r\n            String envJson = out.toString(&quot;utf8&quot;);\r\n\r\n            Map&lt;String, Object&gt; env = JSONObject.fromObject(envJson);\r\n            nanhuprintInterpreter.interpreterString(filePath, metaString, env);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe result page of pdf is:\r\n[hello world result page][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GyJ7Y.png","title":"Parse xml to pdf according to a template in java","body":"<p>I think that, the functionality you want to implemente is:</p>\n<ol>\n<li><p>A xml to pdf framework</p>\n</li>\n<li><p>A server program, which implements an interface for external calls</p>\n</li>\n</ol>\n<p>2.1. Then input param of the interface is:</p>\n<p>2.1.1. Config file in xml format(let's call it param1)</p>\n<p>2.1.2. Business data(let's call it param2)</p>\n<p>2.2. The output result of the interface is:</p>\n<p>2.2.2. pdf format files</p>\n<p>The internal logic of the server program is: call the xml to pdf framework, send param1 and param2 parameter.</p>\n<p>Therefore, the main difficulty lies in 1: a xml to pdf framework</p>\n<p>And nanhu-print-java happens to be an xml to pdf framework.</p>\n<p>An hello world demo of xml to pdf is:</p>\n<ol>\n<li>Configure file of xml format</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;html xmlns=&quot;https://github.com/hongjinqiu/nanhu-print-java&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;style&gt;&lt;/style&gt;\n    &lt;macros&gt;&lt;/macros&gt;\n    &lt;body pageSizePdf=&quot;A4&quot; rotate=&quot;false&quot; paddingLeft=&quot;50px&quot; paddingRight=&quot;50px&quot; paddingTop=&quot;30px&quot; paddingBottom=&quot;20px&quot; width=&quot;685px&quot; height=&quot;840px&quot;&gt;\n        &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;100%&quot; tableLayout=&quot;fixed&quot; explain=&quot;true&quot;&gt;\n            &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;\n                        &lt;span value=&quot;hello world,&quot; /&gt;\n                        &lt;span value=&quot;js:businessData&quot; /&gt;\n            &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Business data is:</li>\n</ol>\n<pre><code>{\n  &quot;businessData&quot;: &quot;I am businessData&quot;\n}\n</code></pre>\n<ol start=\"3\">\n<li>How to use the framework:</li>\n</ol>\n<p>Add maven dependencies of nanhu-print-java framework:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hongjinqiu&lt;/groupId&gt;\n    &lt;artifactId&gt;nanhu-print-java&lt;/artifactId&gt;\n    &lt;version&gt;1.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The code:</p>\n<pre><code>package com.hongjinqiu.demo;\n\nimport com.hongjinqiu.nanhuprint.NanhuprintInterpreter;\nimport net.sf.json.JSONObject;\nimport org.apache.commons.io.IOUtils;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\nimport java.util.Map;\n\npublic class HelloWorld {\n    public static void main(String[] args) throws Exception {\n        NanhuprintInterpreter nanhuprintInterpreter = new NanhuprintInterpreter();\n        String filePath = &quot;/tmp/hello_world.pdf&quot;;\n        try (InputStream in = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.json&quot;);\n             InputStream xmlIn = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.xml&quot;)\n        ) {\n            ByteArrayOutputStream xmlOut = new ByteArrayOutputStream();\n            IOUtils.copyLarge(xmlIn, xmlOut);\n            String metaString = xmlOut.toString(&quot;utf8&quot;);\n\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            IOUtils.copyLarge(in, out);\n            String envJson = out.toString(&quot;utf8&quot;);\n\n            Map&lt;String, Object&gt; env = JSONObject.fromObject(envJson);\n            nanhuprintInterpreter.interpreterString(filePath, metaString, env);\n        }\n    }\n}\n</code></pre>\n<p>The result page of pdf is:\n<a href=\"https://i.stack.imgur.com/GyJ7Y.png\" rel=\"nofollow noreferrer\">hello world result page</a></p>\n"}],"owner":{"account_id":7853869,"reputation":27,"user_id":5936449,"accept_rate":80,"display_name":"master89"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1696758371,"creation_date":1486649874,"question_id":42139073,"body_markdown":"I need to parse an xml to pdf according to a template that doesn&#39;t requiere to generate again a war and redeploy in my server. \r\n\r\nI use JAXB to parse xml to my java entities, after that I want to generate a pdf according to a template configurable in some kind of file that doesn&#39;t requiere to rebuild my code and redeploy it in my server, so I can change my template configuration to convert the xml to pdf.\r\n\r\nIn other words, I have my full aplication that parses xml, I want to export my information to pdf according to a template file, this should be reconfigurable so I have not to redeploy my app, it must be only a properties file","title":"Parse xml to pdf according to a template in java","body":"<p>I need to parse an xml to pdf according to a template that doesn't requiere to generate again a war and redeploy in my server. </p>\n\n<p>I use JAXB to parse xml to my java entities, after that I want to generate a pdf according to a template configurable in some kind of file that doesn't requiere to rebuild my code and redeploy it in my server, so I can change my template configuration to convert the xml to pdf.</p>\n\n<p>In other words, I have my full aplication that parses xml, I want to export my information to pdf according to a template file, this should be reconfigurable so I have not to redeploy my app, it must be only a properties file</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7799712,"reputation":947,"user_id":5899611,"display_name":"Nikolay Tomitov"},"score":0,"creation_date":1455549863,"post_id":35412948,"comment_id":58526831,"body_markdown":"Are you sure there is such class BooleanArray  ?","body":"Are you sure there is such class BooleanArray  ?"},{"owner":{"account_id":7613402,"reputation":333,"user_id":5773630,"display_name":"elTomato"},"score":4,"creation_date":1455549900,"post_id":35412948,"comment_id":58526850,"body_markdown":"Can you share the `BooleanArray` class and the `handler` declaration and initialization?","body":"Can you share the <code>BooleanArray</code> class and the <code>handler</code> declaration and initialization?"}],"answers":[{"tags":[],"owner":{"account_id":2183640,"reputation":5977,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1455550602,"creation_date":1455549899,"answer_id":35413043,"question_id":35412948,"body_markdown":"You can try something like this:\r\n\r\n    int trueCount = 0;\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        if (array.get(i) /* or array[i] */) {\r\n            trueCount++;\r\n        }\r\n        if (trueCount &gt;= 6) {\r\n            break;\r\n        }\r\n    }","title":"Count number of &quot;true&quot; booleans in array","body":"<p>You can try something like this:</p>\n\n<pre><code>int trueCount = 0;\nfor (int i = 0; i &lt; array.length; i++) {\n    if (array.get(i) /* or array[i] */) {\n        trueCount++;\n    }\n    if (trueCount &gt;= 6) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29624677,"reputation":1,"user_id":22704708,"display_name":"Diaconu Razvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696758358,"creation_date":1696758358,"answer_id":77253095,"question_id":35412948,"body_markdown":"You can also try using the lambdas\r\n\r\n    ArrayList&lt;Boolean&gt; vals = new ArrayList();\r\n       for(boolean val: arr){\r\n           vals.add(val);\r\n       }\r\n       vals.removeIf(el -&gt; el.equals(false));\r\n       return vals.size();","title":"Count number of &quot;true&quot; booleans in array","body":"<p>You can also try using the lambdas</p>\n<pre><code>ArrayList&lt;Boolean&gt; vals = new ArrayList();\n   for(boolean val: arr){\n       vals.add(val);\n   }\n   vals.removeIf(el -&gt; el.equals(false));\n   return vals.size();\n</code></pre>\n"}],"owner":{"account_id":4423068,"reputation":969,"user_id":3602369,"accept_rate":71,"display_name":"Benni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13522,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":35413043,"answer_count":2,"score":-2,"last_activity_date":1696758358,"creation_date":1455549601,"question_id":35412948,"body_markdown":"I have an BooleanArray filled with 17 values.\r\nI want to loop through that array and count how many of them are true, or break and set a flag when it reaches a certain amount of true values. So if the array containes 6 booleans that are &quot;true&quot; I want to break the loop and do something.\r\n\r\n    BooleanArray booleanArray = new BooleanArray(17);\r\n    booleanArray.add(handler.get(0).getStatus());\r\n    booleanArray.add(handler.get(1).getStatus());\r\n    booleanArray.add(handler.get(2).getStatus());\r\n    booleanArray.add(handler.get(3).getStatus());\r\n    booleanArray.add(handler.get(4).getStatus());\r\n    //etc...\r\n\r\nIt&#39;s how to build this loop I&#39;m not sure on how to. \r\n","title":"Count number of &quot;true&quot; booleans in array","body":"<p>I have an BooleanArray filled with 17 values.\nI want to loop through that array and count how many of them are true, or break and set a flag when it reaches a certain amount of true values. So if the array containes 6 booleans that are \"true\" I want to break the loop and do something.</p>\n\n<pre><code>BooleanArray booleanArray = new BooleanArray(17);\nbooleanArray.add(handler.get(0).getStatus());\nbooleanArray.add(handler.get(1).getStatus());\nbooleanArray.add(handler.get(2).getStatus());\nbooleanArray.add(handler.get(3).getStatus());\nbooleanArray.add(handler.get(4).getStatus());\n//etc...\n</code></pre>\n\n<p>It's how to build this loop I'm not sure on how to. </p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1503041660,"post_id":45750974,"comment_id":78459223,"body_markdown":"try writing some java code","body":"try writing some java code"},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1503041887,"post_id":45750974,"comment_id":78459350,"body_markdown":"try using a hashmap and storing count as values in the hashmap","body":"try using a hashmap and storing count as values in the hashmap"}],"answers":[{"comments":[{"owner":{"account_id":7649396,"reputation":404,"user_id":6213808,"display_name":"Jonaswg"},"score":0,"creation_date":1503045369,"post_id":45751111,"comment_id":78461300,"body_markdown":"Please elaborate?","body":"Please elaborate?"},{"owner":{"account_id":3505046,"reputation":61,"user_id":2930748,"accept_rate":33,"display_name":"kishore"},"score":0,"creation_date":1503045629,"post_id":45751111,"comment_id":78461451,"body_markdown":"Thanks ..Here is my arraylist arrayinfo33: [5, 1, 5, 2, 2, 2, 2, 2, 2, 5, 3, 2, 3, 3, 4, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2]. In this arraylist  i want to show individual count of 2&#39;s ,3&#39;s, 5&#39;s are present and total count should be shown in textview ...Here is my code..Set&lt;Integer&gt; unique = new HashSet&lt;Integer&gt;(myList);\n        for (Integer key : unique) {\n            Log.i(&quot;checkarryinfo&quot;,&quot;&quot;+key + &quot;: &quot; + Collections.frequency(myList, key))\n        }.....","body":"Thanks ..Here is my arraylist arrayinfo33: [5, 1, 5, 2, 2, 2, 2, 2, 2, 5, 3, 2, 3, 3, 4, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2]. In this arraylist  i want to show individual count of 2&#39;s ,3&#39;s, 5&#39;s are present and total count should be shown in textview ...Here is my code..Set&lt;Integer&gt; unique = new HashSet&lt;Integer&gt;(myList);         for (Integer key : unique) {             Log.i(&quot;checkarryinfo&quot;,&quot;&quot;+key + &quot;: &quot; + Collections.frequency(myList, key))         }....."}],"tags":[],"owner":{"account_id":7649396,"reputation":404,"user_id":6213808,"display_name":"Jonaswg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503046531,"creation_date":1503041995,"answer_id":45751111,"question_id":45750974,"body_markdown":"Collections.frequency gives you occurrences of an object in a list.\r\n \r\nAnother option since this is a small array is to sort it and then iterate, and in the case where `array[i+1] == array[i]`, increase the count of duplicate values.\r\n\r\nIf elements in this case is not a primitive type, remember to overload the operator.\r\n\r\nsample implementation:\r\n\r\n    void countOcc(int []arr) {\t\r\n    \tSet&lt;Integer&gt; uniques = new LinkedHashSet&lt;Integer&gt;();\r\n    \tfor(int x : arr) {\r\n    \t\tuniques.add(x);\r\n    \t}\r\n    \t\t\r\n    \tfor(int y : uniques) {\r\n    \t\tint totalOcc = Collections.frequency(Arrays.asList(arr), y);\r\n    \t\t//gives total occurences for each unique element in the array\r\n    \t}\r\n    }\r\n\r\n","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>Collections.frequency gives you occurrences of an object in a list.</p>\n\n<p>Another option since this is a small array is to sort it and then iterate, and in the case where <code>array[i+1] == array[i]</code>, increase the count of duplicate values.</p>\n\n<p>If elements in this case is not a primitive type, remember to overload the operator.</p>\n\n<p>sample implementation:</p>\n\n<pre><code>void countOcc(int []arr) {  \n    Set&lt;Integer&gt; uniques = new LinkedHashSet&lt;Integer&gt;();\n    for(int x : arr) {\n        uniques.add(x);\n    }\n\n    for(int y : uniques) {\n        int totalOcc = Collections.frequency(Arrays.asList(arr), y);\n        //gives total occurences for each unique element in the array\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10687119,"reputation":257,"user_id":7867325,"accept_rate":80,"display_name":"K Sathish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696757316,"creation_date":1503042071,"answer_id":45751142,"question_id":45750974,"body_markdown":"Traverse the arraylist and find the frequency of each element in arraylist. \r\n\r\nUse hashmap for better performance for storing the frequency of elements.\r\n\r\nInitialise count to zero. If the frequency of any element is greater than one increment the count. Finally return the count.","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>Traverse the arraylist and find the frequency of each element in arraylist.</p>\n<p>Use hashmap for better performance for storing the frequency of elements.</p>\n<p>Initialise count to zero. If the frequency of any element is greater than one increment the count. Finally return the count.</p>\n"},{"tags":[],"owner":{"account_id":5546023,"reputation":1387,"user_id":4400700,"accept_rate":100,"display_name":"Ch4t4r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503042126,"creation_date":1503042126,"answer_id":45751157,"question_id":45750974,"body_markdown":"Pseudocode:\r\n\r\n    dup = 0\r\n    pos = []\r\n    for i from 0 to arr.len -1 do\r\n      for c from i + 1 to arr.len -1 do\r\n        if pos.has(c) then \r\n          break\r\n        fi\r\n        if i == c then\r\n          dup++\r\n          pos.add(c)\r\n        fi\r\n      end\r\n    end\r\n\r\n\r\nRest is up to you. At lot of optimization could be done as well.","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>Pseudocode:</p>\n\n<pre><code>dup = 0\npos = []\nfor i from 0 to arr.len -1 do\n  for c from i + 1 to arr.len -1 do\n    if pos.has(c) then \n      break\n    fi\n    if i == c then\n      dup++\n      pos.add(c)\n    fi\n  end\nend\n</code></pre>\n\n<p>Rest is up to you. At lot of optimization could be done as well.</p>\n"}],"owner":{"account_id":3505046,"reputation":61,"user_id":2930748,"accept_rate":33,"display_name":"kishore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":45751111,"answer_count":3,"score":-1,"last_activity_date":1696757316,"creation_date":1503041533,"question_id":45750974,"body_markdown":"How to find count of duplicate elements in arraylist and append the duplicate elements to different textviews in andorid.\r\n\r\nI have 3 different textview and single arraylist which contains 25 elements with  duplicate elements \r\n1) How many duplicate values present in arraylist\r\n2) The count of duplicate values should append to textview.","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>How to find count of duplicate elements in arraylist and append the duplicate elements to different textviews in andorid.</p>\n\n<p>I have 3 different textview and single arraylist which contains 25 elements with  duplicate elements \n1) How many duplicate values present in arraylist\n2) The count of duplicate values should append to textview.</p>\n"},{"tags":["java","spring","spring-boot","logback","slf4j"],"answers":[{"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":11,"creation_date":1632547621,"post_id":63251296,"comment_id":122527740,"body_markdown":"Here&#39;s the full string without being split up: `%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}`","body":"Here&#39;s the full string without being split up: <code>%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}</code>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1696756843,"creation_date":1596558900,"answer_id":63251296,"question_id":63251142,"body_markdown":"I have just found out this configuration is available at the [`DefaultLogbackConfiguration`][1] file under Spring Boot project:\r\n\r\n```\r\nprivate static final String CONSOLE_LOG_PATTERN = &quot;%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} &quot;\r\n\t\t\t+ &quot;%clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} &quot;\r\n\t\t\t+ &quot;%clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} &quot;\r\n\t\t\t+ &quot;%clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}&quot;;\r\n```\r\n\r\nTo find the pattern for a certain Spring Boot version, either:\r\n\r\n- Browse the source file available at GitHub: [Spring Boot 2.3.x][2].\r\n- In IntelliJ Idea press 2x &lt;kbd&gt;Left Shift&lt;/kbd&gt; and search in the `Classes` tab for `DefaultLogbackConfiguration`.\r\n\r\nThe source of my findings is https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html.\r\n\r\n____\r\n\r\n**Edit:** The default Logback console logger configuration (for example setting the logger to the `DEBUG` level) can be overridden as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/2.3.x/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java","title":"What is default CONSOLE_LOG_PATTERN used for Spring Boot logging and where to find it?","body":"<p>I have just found out this configuration is available at the <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java\" rel=\"nofollow noreferrer\"><code>DefaultLogbackConfiguration</code></a> file under Spring Boot project:</p>\n<pre><code>private static final String CONSOLE_LOG_PATTERN = &quot;%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} &quot;\n            + &quot;%clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} &quot;\n            + &quot;%clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} &quot;\n            + &quot;%clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}&quot;;\n</code></pre>\n<p>To find the pattern for a certain Spring Boot version, either:</p>\n<ul>\n<li>Browse the source file available at GitHub: <a href=\"https://github.com/spring-projects/spring-boot/blob/2.3.x/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java\" rel=\"nofollow noreferrer\">Spring Boot 2.3.x</a>.</li>\n<li>In IntelliJ Idea press 2x <kbd>Left Shift</kbd> and search in the <code>Classes</code> tab for <code>DefaultLogbackConfiguration</code>.</li>\n</ul>\n<p>The source of my findings is <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html</a>.</p>\n<hr />\n<p><strong>Edit:</strong> The default Logback console logger configuration (for example setting the logger to the <code>DEBUG</code> level) can be overridden as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3316771,"reputation":1437,"user_id":2788957,"display_name":"Teneko"},"score":0,"creation_date":1699812973,"post_id":70664507,"comment_id":136575439,"body_markdown":"You are a lifesaver!","body":"You are a lifesaver!"}],"tags":[],"owner":{"account_id":1714288,"reputation":283,"user_id":1571719,"accept_rate":60,"display_name":"Arvinth Shriram"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1641906860,"creation_date":1641893963,"answer_id":70664507,"question_id":63251142,"body_markdown":"If you are using `logback-spring.xml`, then adding the following to your xml would automatically pick up spring&#39;s default logback configuration for console appender. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nReference: [https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging","title":"What is default CONSOLE_LOG_PATTERN used for Spring Boot logging and where to find it?","body":"<p>If you are using <code>logback-spring.xml</code>, then adding the following to your xml would automatically pick up spring's default logback configuration for console appender.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;include resource=\"org/springframework/boot/logging/logback/defaults.xml\"/&gt;\n&lt;include resource=\"org/springframework/boot/logging/logback/console-appender.xml\" /&gt;\n&lt;root level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"CONSOLE\" /&gt;\n&lt;/root&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging</a></p>\n"}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14892,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":63251296,"answer_count":2,"score":22,"last_activity_date":1696756843,"creation_date":1596558356,"question_id":63251142,"body_markdown":"The Spring Boot reference documentation [4.6. Custom Log Configuration][1] states about the default system properties representing a default logging pattern to use on the console (only supported with the default Logback setup).\r\n\r\n- Spring Environment: `logging.pattern.console`\r\n- System Property: `CONSOLE_LOG_PATTERN`\r\n\r\nI guess the default log line look is familiar for all the Spring Boot framework users:\r\n\r\n    2020-08-04 12:00:00.000  INFO 24568 --- [           main] c.c.MyWonderfulSpringApplication          : The following profiles are active: local\r\nAs long as I want to take look on how it looks and get inspired for defining my own one, where can I find this default value for a currently used version of Spring Boot?\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-custom-log-configuration","title":"What is default CONSOLE_LOG_PATTERN used for Spring Boot logging and where to find it?","body":"<p>The Spring Boot reference documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-custom-log-configuration\" rel=\"noreferrer\">4.6. Custom Log Configuration</a> states about the default system properties representing a default logging pattern to use on the console (only supported with the default Logback setup).</p>\n<ul>\n<li>Spring Environment: <code>logging.pattern.console</code></li>\n<li>System Property: <code>CONSOLE_LOG_PATTERN</code></li>\n</ul>\n<p>I guess the default log line look is familiar for all the Spring Boot framework users:</p>\n<pre><code>2020-08-04 12:00:00.000  INFO 24568 --- [           main] c.c.MyWonderfulSpringApplication          : The following profiles are active: local\n</code></pre>\n<p>As long as I want to take look on how it looks and get inspired for defining my own one, where can I find this default value for a currently used version of Spring Boot?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696749053,"post_id":77252593,"comment_id":136191362,"body_markdown":"Only one RadioButton can be checked.   So what is it that you want to &#39;add up&#39; and &#39;display&#39;?","body":"Only one RadioButton can be checked.   So what is it that you want to &#39;add up&#39; and &#39;display&#39;?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696755152,"post_id":77252593,"comment_id":136191869,"body_markdown":"@blackapps if I understood correctly, OP wants to sum the tag values of each selected RadioButton","body":"@blackapps if I understood correctly, OP wants to sum the tag values of each selected RadioButton"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696757862,"post_id":77252593,"comment_id":136192072,"body_markdown":"@marcinj, yes but only one can be checked/selected so there is nothing to sum or add.","body":"@marcinj, yes but only one can be checked/selected so there is nothing to sum or add."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696758008,"post_id":77252593,"comment_id":136192092,"body_markdown":"Sum = tags of selected radiobuttons from all fragments","body":"Sum = tags of selected radiobuttons from all fragments"}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696755090,"creation_date":1696755090,"answer_id":77252927,"question_id":77252593,"body_markdown":"One solution is to make your `Q5Fragment` `btnSubmit` handler call some method in `Activity` derived class which will do the summing and then opening result activity. So your submit handler would look something like:\r\n\r\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ((QuestionAware)getActivity()).submitQuestions();\r\n                }\r\n            });\r\n\r\n\r\nThis requires you to declare an Inteface:\r\n\r\n     interface QuestionAware {\r\n       void submitQuestions();\r\n     } \r\n\r\n and then implement it in your Activity which holds your fragments.\r\n\r\n Now, in `submitQuestions` of your Activtiy you will get all the values from your fragments. To do it, make each fragment have a method returning its value:\r\n\r\n \r\n\r\n    public int getSelectedValue() {\r\n        int selectedValue = 0;\r\n        for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\r\n            RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\r\n            if (radioButton.isChecked()) {\r\n                selectedValue = Integer.parseInt(radioButton.getTag().toString());\r\n            }\r\n        }\r\n        return selectedValue;\r\n    }\r\n\r\n\r\nThen in `submitQuestions` summ those values and open new activity:\r\n\r\n    int total = fragment1.getSelectedValue() + fragment2.getSelectedValue() + fragment3.getSelectedValue() + fragment4.getSelectedValue() + fragment5.getSelectedValue();\r\n    \r\n    Intent intent = new Intent(this, ResultActivity.class);\r\n    intent.putExtra(&quot;totalValue&quot;, total);\r\n    startActivity(intent);","title":"How to add radio buttons from different fragments","body":"<p>One solution is to make your <code>Q5Fragment</code> <code>btnSubmit</code> handler call some method in <code>Activity</code> derived class which will do the summing and then opening result activity. So your submit handler would look something like:</p>\n<pre><code>btnSubmit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ((QuestionAware)getActivity()).submitQuestions();\n            }\n        });\n</code></pre>\n<p>This requires you to declare an Inteface:</p>\n<pre><code> interface QuestionAware {\n   void submitQuestions();\n } \n</code></pre>\n<p>and then implement it in your Activity which holds your fragments.</p>\n<p>Now, in <code>submitQuestions</code> of your Activtiy you will get all the values from your fragments. To do it, make each fragment have a method returning its value:</p>\n<pre><code>public int getSelectedValue() {\n    int selectedValue = 0;\n    for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\n        RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\n        if (radioButton.isChecked()) {\n            selectedValue = Integer.parseInt(radioButton.getTag().toString());\n        }\n    }\n    return selectedValue;\n}\n</code></pre>\n<p>Then in <code>submitQuestions</code> summ those values and open new activity:</p>\n<pre><code>int total = fragment1.getSelectedValue() + fragment2.getSelectedValue() + fragment3.getSelectedValue() + fragment4.getSelectedValue() + fragment5.getSelectedValue();\n\nIntent intent = new Intent(this, ResultActivity.class);\nintent.putExtra(&quot;totalValue&quot;, total);\nstartActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":25028120,"reputation":1,"user_id":18886149,"display_name":"kasim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696755090,"creation_date":1696747482,"question_id":77252593,"body_markdown":"I have 5 question. Each fragment has a question with 4 radio buttons. Each radio button has a tag between 1-4. In the 5 fragment it has a submit button and all the radio buttons should add up and display on a total on a new activity. However, whenever I click submit the total number is always 5 (the fragments 1-4 don&#39;t add up. What do I need to add on fragments 1-4 so the values can add and display on total. \r\n\r\n[image](https://i.stack.imgur.com/LaowT.jpg)\r\n\r\n```java\r\npackage com.example.act.Fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.act.R;\r\nimport com.example.act.ResultActivity;\r\n\r\npublic class Q5Fragment extends Fragment {\r\n\r\n    private RadioGroup radioGroup;\r\n    private Button btnSubmit;\r\n    private int total = 0; // Initialize total to 0\r\n\r\n    public Q5Fragment() {\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_q5, container, false);\r\n\r\n        radioGroup = view.findViewById(R.id.radioGroup);\r\n        btnSubmit = view.findViewById(R.id.btnSubmit);\r\n\r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\r\n                    RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\r\n                    if (radioButton.isChecked()) {\r\n                        int selectedValue = Integer.parseInt(radioButton.getTag().toString());\r\n                        total += selectedValue;\r\n                    }\r\n                }\r\n\r\n                Intent intent = new Intent(getActivity(), ResultActivity.class);\r\n                intent.putExtra(&quot;totalValue&quot;, total);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    public void receiveFragmentValue(int selectedValue) {\r\n        total += selectedValue;\r\n    }\r\n}\r\n```","title":"How to add radio buttons from different fragments","body":"<p>I have 5 question. Each fragment has a question with 4 radio buttons. Each radio button has a tag between 1-4. In the 5 fragment it has a submit button and all the radio buttons should add up and display on a total on a new activity. However, whenever I click submit the total number is always 5 (the fragments 1-4 don't add up. What do I need to add on fragments 1-4 so the values can add and display on total.</p>\n<p><a href=\"https://i.stack.imgur.com/LaowT.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.act.Fragments;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\nimport androidx.fragment.app.Fragment;\n\nimport com.example.act.R;\nimport com.example.act.ResultActivity;\n\npublic class Q5Fragment extends Fragment {\n\n    private RadioGroup radioGroup;\n    private Button btnSubmit;\n    private int total = 0; // Initialize total to 0\n\n    public Q5Fragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_q5, container, false);\n\n        radioGroup = view.findViewById(R.id.radioGroup);\n        btnSubmit = view.findViewById(R.id.btnSubmit);\n\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\n                    RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\n                    if (radioButton.isChecked()) {\n                        int selectedValue = Integer.parseInt(radioButton.getTag().toString());\n                        total += selectedValue;\n                    }\n                }\n\n                Intent intent = new Intent(getActivity(), ResultActivity.class);\n                intent.putExtra(&quot;totalValue&quot;, total);\n                startActivity(intent);\n            }\n        });\n        return view;\n    }\n\n    public void receiveFragmentValue(int selectedValue) {\n        total += selectedValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","compiler-errors"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1534043494,"post_id":51632153,"comment_id":90566424,"body_markdown":"Any suggestions for more useful &quot;specific cases&quot;?  I&#39;m looking for examples where the root cause is some clearly identifiable misconception about the Java language ... that is not already covered.","body":"Any suggestions for more useful &quot;specific cases&quot;?  I&#39;m looking for examples where the root cause is some clearly identifiable misconception about the Java language ... that is not already covered."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1600683232,"post_id":51632153,"comment_id":113154335,"body_markdown":"A use case you haven&#39;t mentioned would be for array initialization. E.g. `int[] a = {23L};` or `long l = 23; int[] a = {l};`","body":"A use case you haven&#39;t mentioned would be for array initialization. E.g. <code>int[] a = {23L};</code> or <code>long l = 23; int[] a = {l};</code>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":2,"up_vote_count":45,"is_accepted":true,"score":43,"last_activity_date":1696754231,"creation_date":1533123004,"answer_id":51632153,"question_id":51632152,"body_markdown":"First of all, this is a compilation error.  If you ever see it in an exception message at runtime, it is because you have have run a program with compilation errors&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe general form of the message is this:\r\n\r\n&gt;  &quot;incompatible types: possible lossy conversion from *`&lt;type1&gt;`* to *`&lt;type2&gt;`*&quot;\r\n\r\nwhere *`&lt;type1&gt;`* and *`&lt;type2&gt;`* are both primitive numeric types; i.e. one of `byte`, `char`, `short`, `int`, `long`, `float` or `double`.\r\n\r\nThis error happens when your code attempts to do an *implicit* conversion from *`&lt;type1&gt;`* to *`&lt;type2&gt;`* but the conversion could be *lossy*.\r\n\r\nIn the example in the question:\r\n\r\n      int squareRoot = Math.sqrt(i);\r\n\r\nthe `sqrt` method produces a `double`, but a conversion from `double` to `int` is potentially lossy.\r\n\r\nWhat does &quot;potentially lossy&quot; mean?\r\n-----------------------\r\n\r\nWell lets look at a couple of examples.\r\n\r\n 1.  A conversion of a `long` to an `int` is a potentially lossy conversion because there are `long` values that do not have a corresponding `int` value.   For example, any `long` value that is greater than 2^31 - 1 is too large to be represented as an `int`.  Similarly, any number less than -2^31 is too small.\r\n\r\n 2.  A conversion of an `int` to a `long` is NOT lossy conversion because every `int` value has a corresponding `long` value.\r\n\r\n 3.  A conversion of a `float` to an `long` is a potentially lossy conversion because there `float` values that are outside of the range that can be represented as `long` values.  Such numbers are (lossily) convert into `Long.MAX_VALUE` or `Long.MIN_VALUE`, as are NaN and Inf values.\r\n\r\n 4.  A conversion of an `long` to a `float` is NOT lossy conversion because every `long` value has a corresponding `float` value.  (The converted value may be less precise, but &quot;lossiness&quot; doesn&#39;t mean that ... in this context.)\r\n\r\nThese are all the conversions that are potentially lossy:\r\n\r\n  - `short` to `byte` or `char`\r\n  - `char` to `byte` or `short`\r\n  - `int` to `byte`, `short` or `char`\r\n  - `long` to `byte`, `short`, `char` or `int`\r\n  - `float` to `byte`, `short`, `char`, `int` or `long`\r\n  - `double` to `byte`, `short`, `char`, `int`, `long` or `float`.\r\n\r\nHow do you fix the error?\r\n-------------------------\r\n\r\nThe way to make the compilation error go away is to add a typecast.  For example;\r\n\r\n      int i = 47;\r\n      int squareRoot = Math.sqrt(i);         // compilation error!\r\n\r\nbecomes \r\n\r\n      int i = 47;\r\n      int squareRoot = (int) Math.sqrt(i);   // no compilation error\r\n\r\nBut is that really a fix?  Consider that the square root of `47` is `6.8556546004` ... but `squareRoot` will get the value `6`.  (The conversion will truncate, not round.)\r\n\r\nAnd what about this?\r\n\r\n      byte b = (int) 512;\r\n\r\nThat results in `b` getting the value `0`. Converting from a larger int type to a smaller int type is done by masking out the high order bits, and the low-order 8 bits of `512` are all zero.\r\n\r\nIn short, you should not simply add a typecast, because it might not do the correct thing *for your application*.  \r\n\r\nInstead, you need to understand why your code needs to do a conversion:\r\n\r\n  - Is this happening because you have made some other mistake in your code?\r\n  - Should the *`&lt;type1&gt;`* be a different type, so that a lossy conversion isn&#39;t needed here?\r\n  - If a conversion is necessary, is the *silent* lossy conversion that the typecast will do the correct behavior?  \r\n  - Or should your code be rounding instead of truncating, or doing some range checks and dealing with incorrect / unexpected values by throwing an exception?\r\n\r\n&quot;Possible lossy conversion&quot; when subscripting.\r\n----------------\r\n\r\nFirst example:\r\n\r\n    for (double d = 0; d &lt; 10.0; d += 1.0) {\r\n        System.out.println(array[d]);  // &lt;&lt;-- possible lossy conversion\r\n    }\r\n\r\nThe problem here is that array index value must be `int`.  So `d` has to be converted from `double` to `int`.  In general, using a floating point value as an index doesn&#39;t make sense.  Either someone is under the impression that Java arrays work like (say) Python dictionaries, or they have overlooked the fact that floating-point arithmetic is often inexact.\r\n\r\nThe solution is to rewrite the code to avoid using a floating point value as an array index.  (Adding a type cast is probably an incorrect solution.)\r\n\r\nSecond example:\r\n\r\n    for (long l = 0; l &lt; 10; l++) {\r\n        System.out.println(array[l]);  // &lt;&lt;-- possible lossy conversion\r\n    }\r\n\r\nThis is a variation of the previous problem, and the solution is the same.  The difference is that the root cause is that Java arrays are limited to 32 bit indexes.  If you want an &quot;array like&quot; data structure which has more than 2&lt;sup&gt;31&lt;/sup&gt; - 1 elements, you need to define or find a class to do it.\r\n\r\n&quot;Possible lossy conversion&quot; in method or constructor calls\r\n-----------------\r\n\r\nConsider this:\r\n\r\n    public class User {\r\n        String name;\r\n        short age;\r\n        int height;\r\n    \r\n        public User(String name, short age, int height) {\r\n    \t    this.name = name;\r\n    \t    this.age = age;\r\n    \t    this.height = height;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \t    User user1 = new User(&quot;Dan&quot;, 20, 190);\r\n        }\r\n    }\r\n\r\nCompiling the above with Java 11 gives the following:\r\n\r\n    $ javac -Xdiags:verbose User.java \r\n    User.java:20: error: constructor User in class User cannot be applied to given types;\r\n    \tUser user1 = new User(&quot;Dan&quot;, 20, 190);\r\n    \t             ^\r\n      required: String,short,int\r\n      found: String,int,int\r\n      reason: argument mismatch; possible lossy conversion from int to short\r\n    1 error\r\n\r\nThe problem is that the literal `20` is an `int`, and the corresponding parameter in the constructor is declared as a `short`.  Converting an `int` to a `short` is lossy.\r\n\r\n&quot;Possible lossy conversion&quot; in a return statement.\r\n----------------\r\n\r\nExample:\r\n\r\n    public int compute() {\r\n        long result = 42L;\r\n        return result;  // &lt;&lt;-- possible lossy conversion\r\n    }\r\n\r\nA `return` (with a value / expression) could be thought of an an &quot;assignment to the return value&quot;.  But no matter how you think about it, it is necessary to convert the value supplied to the actual return type of the method.  Possible solutions are adding a typecast (which says &quot;I acknowledge the lossy-ness&quot;) or changing the method&#39;s return type.\r\n\r\n&quot;Possible lossy conversion&quot; due to promotion in expressions\r\n-----------------\r\n\r\nConsider this:\r\n\r\n    byte b1 = 0x01;\r\n    byte mask = 0x0f;\r\n    byte result = b1 &amp; mask;  // &lt;&lt;-- possible lossy conversion\r\n\r\nThis will tell you that you that there is a &quot;possible lossy conversion from int to byte&quot;.  This is actually a variation of the first example.  The potentially confusing thing is understanding where the `int` comes from.  \r\n\r\nThe answer to that is it comes from the `&amp;` operator.  In fact all of the arithmetic and bitwise operators for integer types will produce an `int` or `long`, depending on the operands.  So in the above example, `b1 &amp; mask` is actually producing an `int`, but we are trying to assign that to a `byte`.  \r\n\r\nTo fix this example we must type-cast the expression result back to a `byte` before assigning it.\r\n\r\n    byte result = (byte) (b1 &amp; mask); \r\n\r\n\r\n&quot;Possible lossy conversion&quot; when assigning literals\r\n-----------------\r\n\r\nConsider this:\r\n\r\n    int a = 21;\r\n    byte b1 = a;   // &lt;&lt;-- possible lossy conversion\r\n    byte b2 = 21;  // OK\r\n\r\nWhat is going on?   Why is one version allowed but the other one isn&#39;t?  (After all they &quot;do&quot; the same thing!)\r\n\r\nFirst of all, the JLS states that `21` is an numeric literal whose type is `int`.  (There are no `byte` or `short` literals.)  So in both cases we are assigning an `int` to a `byte`.  \r\n\r\nIn the first case, the reason for the error is that not all `int` values will fit into a `byte`.\r\n\r\nIn the second case, the compiler knows that `21` is a value that will always fit into a `byte`.\r\n\r\nThe technical explanation is that in an *assignment context*, it is permissible to perform a *primitive narrowing conversion* to a `byte`, `char` or `short` if the following are all true:\r\n\r\n  - The value is the result of a compile time *constant expression* (which includes literals).\r\n  - The type of the expression is `byte`, `short`, `char` or `int`.\r\n  - The constant value being assigned is representable (without loss) in the domain of the &quot;target&quot; type.\r\n\r\nNote that this only applies with assignment statements, or more technically in *assignment contexts*. Thus:\r\n\r\n    Byte b4 = new Byte(21);  // incorrect\r\n\r\ngives a compilation error.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - For instance, the Eclipse IDE has an option which allows you to ignore compilation errors and run the code anyway.  If you select this, the IDE&#39;s compiler will create a `.class` file where the method with the error will throw an unchecked exception if it is called.  The exception message will mention the compilation error message.&lt;/sup&gt;","title":"What does &quot;possible lossy conversion&quot; mean and how do I fix it?","body":"<p>First of all, this is a compilation error.  If you ever see it in an exception message at runtime, it is because you have have run a program with compilation errors<sup>1</sup>.</p>\n<p>The general form of the message is this:</p>\n<blockquote>\n<p>&quot;incompatible types: possible lossy conversion from <em><code>&lt;type1&gt;</code></em> to <em><code>&lt;type2&gt;</code></em>&quot;</p>\n</blockquote>\n<p>where <em><code>&lt;type1&gt;</code></em> and <em><code>&lt;type2&gt;</code></em> are both primitive numeric types; i.e. one of <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code> or <code>double</code>.</p>\n<p>This error happens when your code attempts to do an <em>implicit</em> conversion from <em><code>&lt;type1&gt;</code></em> to <em><code>&lt;type2&gt;</code></em> but the conversion could be <em>lossy</em>.</p>\n<p>In the example in the question:</p>\n<pre><code>  int squareRoot = Math.sqrt(i);\n</code></pre>\n<p>the <code>sqrt</code> method produces a <code>double</code>, but a conversion from <code>double</code> to <code>int</code> is potentially lossy.</p>\n<h2>What does &quot;potentially lossy&quot; mean?</h2>\n<p>Well lets look at a couple of examples.</p>\n<ol>\n<li><p>A conversion of a <code>long</code> to an <code>int</code> is a potentially lossy conversion because there are <code>long</code> values that do not have a corresponding <code>int</code> value.   For example, any <code>long</code> value that is greater than 2^31 - 1 is too large to be represented as an <code>int</code>.  Similarly, any number less than -2^31 is too small.</p>\n</li>\n<li><p>A conversion of an <code>int</code> to a <code>long</code> is NOT lossy conversion because every <code>int</code> value has a corresponding <code>long</code> value.</p>\n</li>\n<li><p>A conversion of a <code>float</code> to an <code>long</code> is a potentially lossy conversion because there <code>float</code> values that are outside of the range that can be represented as <code>long</code> values.  Such numbers are (lossily) convert into <code>Long.MAX_VALUE</code> or <code>Long.MIN_VALUE</code>, as are NaN and Inf values.</p>\n</li>\n<li><p>A conversion of an <code>long</code> to a <code>float</code> is NOT lossy conversion because every <code>long</code> value has a corresponding <code>float</code> value.  (The converted value may be less precise, but &quot;lossiness&quot; doesn't mean that ... in this context.)</p>\n</li>\n</ol>\n<p>These are all the conversions that are potentially lossy:</p>\n<ul>\n<li><code>short</code> to <code>byte</code> or <code>char</code></li>\n<li><code>char</code> to <code>byte</code> or <code>short</code></li>\n<li><code>int</code> to <code>byte</code>, <code>short</code> or <code>char</code></li>\n<li><code>long</code> to <code>byte</code>, <code>short</code>, <code>char</code> or <code>int</code></li>\n<li><code>float</code> to <code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code> or <code>long</code></li>\n<li><code>double</code> to <code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code>, <code>long</code> or <code>float</code>.</li>\n</ul>\n<h2>How do you fix the error?</h2>\n<p>The way to make the compilation error go away is to add a typecast.  For example;</p>\n<pre><code>  int i = 47;\n  int squareRoot = Math.sqrt(i);         // compilation error!\n</code></pre>\n<p>becomes</p>\n<pre><code>  int i = 47;\n  int squareRoot = (int) Math.sqrt(i);   // no compilation error\n</code></pre>\n<p>But is that really a fix?  Consider that the square root of <code>47</code> is <code>6.8556546004</code> ... but <code>squareRoot</code> will get the value <code>6</code>.  (The conversion will truncate, not round.)</p>\n<p>And what about this?</p>\n<pre><code>  byte b = (int) 512;\n</code></pre>\n<p>That results in <code>b</code> getting the value <code>0</code>. Converting from a larger int type to a smaller int type is done by masking out the high order bits, and the low-order 8 bits of <code>512</code> are all zero.</p>\n<p>In short, you should not simply add a typecast, because it might not do the correct thing <em>for your application</em>.</p>\n<p>Instead, you need to understand why your code needs to do a conversion:</p>\n<ul>\n<li>Is this happening because you have made some other mistake in your code?</li>\n<li>Should the <em><code>&lt;type1&gt;</code></em> be a different type, so that a lossy conversion isn't needed here?</li>\n<li>If a conversion is necessary, is the <em>silent</em> lossy conversion that the typecast will do the correct behavior?</li>\n<li>Or should your code be rounding instead of truncating, or doing some range checks and dealing with incorrect / unexpected values by throwing an exception?</li>\n</ul>\n<h2>&quot;Possible lossy conversion&quot; when subscripting.</h2>\n<p>First example:</p>\n<pre><code>for (double d = 0; d &lt; 10.0; d += 1.0) {\n    System.out.println(array[d]);  // &lt;&lt;-- possible lossy conversion\n}\n</code></pre>\n<p>The problem here is that array index value must be <code>int</code>.  So <code>d</code> has to be converted from <code>double</code> to <code>int</code>.  In general, using a floating point value as an index doesn't make sense.  Either someone is under the impression that Java arrays work like (say) Python dictionaries, or they have overlooked the fact that floating-point arithmetic is often inexact.</p>\n<p>The solution is to rewrite the code to avoid using a floating point value as an array index.  (Adding a type cast is probably an incorrect solution.)</p>\n<p>Second example:</p>\n<pre><code>for (long l = 0; l &lt; 10; l++) {\n    System.out.println(array[l]);  // &lt;&lt;-- possible lossy conversion\n}\n</code></pre>\n<p>This is a variation of the previous problem, and the solution is the same.  The difference is that the root cause is that Java arrays are limited to 32 bit indexes.  If you want an &quot;array like&quot; data structure which has more than 2<sup>31</sup> - 1 elements, you need to define or find a class to do it.</p>\n<h2>&quot;Possible lossy conversion&quot; in method or constructor calls</h2>\n<p>Consider this:</p>\n<pre><code>public class User {\n    String name;\n    short age;\n    int height;\n\n    public User(String name, short age, int height) {\n        this.name = name;\n        this.age = age;\n        this.height = height;\n    }\n\n    public static void main(String[] args) {\n        User user1 = new User(&quot;Dan&quot;, 20, 190);\n    }\n}\n</code></pre>\n<p>Compiling the above with Java 11 gives the following:</p>\n<pre><code>$ javac -Xdiags:verbose User.java \nUser.java:20: error: constructor User in class User cannot be applied to given types;\n    User user1 = new User(&quot;Dan&quot;, 20, 190);\n                 ^\n  required: String,short,int\n  found: String,int,int\n  reason: argument mismatch; possible lossy conversion from int to short\n1 error\n</code></pre>\n<p>The problem is that the literal <code>20</code> is an <code>int</code>, and the corresponding parameter in the constructor is declared as a <code>short</code>.  Converting an <code>int</code> to a <code>short</code> is lossy.</p>\n<h2>&quot;Possible lossy conversion&quot; in a return statement.</h2>\n<p>Example:</p>\n<pre><code>public int compute() {\n    long result = 42L;\n    return result;  // &lt;&lt;-- possible lossy conversion\n}\n</code></pre>\n<p>A <code>return</code> (with a value / expression) could be thought of an an &quot;assignment to the return value&quot;.  But no matter how you think about it, it is necessary to convert the value supplied to the actual return type of the method.  Possible solutions are adding a typecast (which says &quot;I acknowledge the lossy-ness&quot;) or changing the method's return type.</p>\n<h2>&quot;Possible lossy conversion&quot; due to promotion in expressions</h2>\n<p>Consider this:</p>\n<pre><code>byte b1 = 0x01;\nbyte mask = 0x0f;\nbyte result = b1 &amp; mask;  // &lt;&lt;-- possible lossy conversion\n</code></pre>\n<p>This will tell you that you that there is a &quot;possible lossy conversion from int to byte&quot;.  This is actually a variation of the first example.  The potentially confusing thing is understanding where the <code>int</code> comes from.</p>\n<p>The answer to that is it comes from the <code>&amp;</code> operator.  In fact all of the arithmetic and bitwise operators for integer types will produce an <code>int</code> or <code>long</code>, depending on the operands.  So in the above example, <code>b1 &amp; mask</code> is actually producing an <code>int</code>, but we are trying to assign that to a <code>byte</code>.</p>\n<p>To fix this example we must type-cast the expression result back to a <code>byte</code> before assigning it.</p>\n<pre><code>byte result = (byte) (b1 &amp; mask); \n</code></pre>\n<h2>&quot;Possible lossy conversion&quot; when assigning literals</h2>\n<p>Consider this:</p>\n<pre><code>int a = 21;\nbyte b1 = a;   // &lt;&lt;-- possible lossy conversion\nbyte b2 = 21;  // OK\n</code></pre>\n<p>What is going on?   Why is one version allowed but the other one isn't?  (After all they &quot;do&quot; the same thing!)</p>\n<p>First of all, the JLS states that <code>21</code> is an numeric literal whose type is <code>int</code>.  (There are no <code>byte</code> or <code>short</code> literals.)  So in both cases we are assigning an <code>int</code> to a <code>byte</code>.</p>\n<p>In the first case, the reason for the error is that not all <code>int</code> values will fit into a <code>byte</code>.</p>\n<p>In the second case, the compiler knows that <code>21</code> is a value that will always fit into a <code>byte</code>.</p>\n<p>The technical explanation is that in an <em>assignment context</em>, it is permissible to perform a <em>primitive narrowing conversion</em> to a <code>byte</code>, <code>char</code> or <code>short</code> if the following are all true:</p>\n<ul>\n<li>The value is the result of a compile time <em>constant expression</em> (which includes literals).</li>\n<li>The type of the expression is <code>byte</code>, <code>short</code>, <code>char</code> or <code>int</code>.</li>\n<li>The constant value being assigned is representable (without loss) in the domain of the &quot;target&quot; type.</li>\n</ul>\n<p>Note that this only applies with assignment statements, or more technically in <em>assignment contexts</em>. Thus:</p>\n<pre><code>Byte b4 = new Byte(21);  // incorrect\n</code></pre>\n<p>gives a compilation error.</p>\n<hr />\n<p><sup>1 - For instance, the Eclipse IDE has an option which allows you to ignore compilation errors and run the code anyway.  If you select this, the IDE's compiler will create a <code>.class</code> file where the method with the error will throw an unchecked exception if it is called.  The exception message will mention the compilation error message.</sup></p>\n"},{"tags":[],"owner":{"account_id":2872126,"reputation":454,"user_id":2618784,"display_name":"Christopher Yeleighton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678460048,"creation_date":1678386300,"answer_id":75688638,"question_id":51632152,"body_markdown":"Compare `BigDecimal .valueOf (Math .sqrt(2)) .intValueExact ()` and `.intValue ()`.  Use `intValueExact` if the argument is supposed to be an integer.  Use the latter if truncating is OK for you or if it provably an a integer (as in `Math .sqrt (Math .multiplyExact (i, i))`)&amp;mdash;in the latter case you may want to `assert r * r == i` (`r` stands for your `squareRoot`).\r\n\r\nUnfortunately, there is no `.charValueExact`.\r\n\r\nSee also [JDK-8279986][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8279986","title":"What does &quot;possible lossy conversion&quot; mean and how do I fix it?","body":"<p>Compare <code>BigDecimal .valueOf (Math .sqrt(2)) .intValueExact ()</code> and <code>.intValue ()</code>.  Use <code>intValueExact</code> if the argument is supposed to be an integer.  Use the latter if truncating is OK for you or if it provably an a integer (as in <code>Math .sqrt (Math .multiplyExact (i, i))</code>)in the latter case you may want to <code>assert r * r == i</code> (<code>r</code> stands for your <code>squareRoot</code>).</p>\n<p>Unfortunately, there is no <code>.charValueExact</code>.</p>\n<p>See also <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8279986\" rel=\"nofollow noreferrer\">JDK-8279986</a></p>\n"}],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23196,"favorite_count":0,"down_vote_count":8,"up_vote_count":35,"accepted_answer_id":51632153,"answer_count":2,"score":27,"last_activity_date":1696754231,"creation_date":1533123004,"question_id":51632152,"body_markdown":"New Java programmers are often confused by compilation error messages like:\r\n\r\n&gt; &quot;incompatible types: possible lossy conversion from double to int&quot;\r\n\r\nfor this line of code:\r\n\r\n    int squareRoot = Math.sqrt(i);\r\n\r\nIn general, what does the &quot;possible lossy conversion&quot; error message mean, and how do you fix it?","title":"What does &quot;possible lossy conversion&quot; mean and how do I fix it?","body":"<p>New Java programmers are often confused by compilation error messages like:</p>\n\n<blockquote>\n  <p>\"incompatible types: possible lossy conversion from double to int\"</p>\n</blockquote>\n\n<p>for this line of code:</p>\n\n<pre><code>int squareRoot = Math.sqrt(i);\n</code></pre>\n\n<p>In general, what does the \"possible lossy conversion\" error message mean, and how do you fix it?</p>\n"},{"tags":["java","oop","polymorphism"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696751604,"post_id":77252752,"comment_id":136191574,"body_markdown":"So what exactly is your question?","body":"So what exactly is your question?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696776288,"post_id":77252752,"comment_id":136193765,"body_markdown":"There are plenty of examples in [java.lang](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html#class-summary).","body":"There are plenty of examples in <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html#class-summary\" rel=\"nofollow noreferrer\">java.lang</a>."}],"answers":[{"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1696757012,"post_id":77252777,"comment_id":136191994,"body_markdown":"ChatGPT is not allowed","body":"ChatGPT is not allowed"}],"tags":[],"owner":{"account_id":17069028,"reputation":94,"user_id":12350325,"display_name":"bahman karami"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1696751997,"creation_date":1696751997,"answer_id":77252777,"question_id":77252752,"body_markdown":"You are correct, it is not mandatory for a subclass to override all the methods from the superclass. It is optional and depends on the design and functionality of the subclass. Polymorphism allows a subclass to provide a specific implementation for a method defined in its superclass, but it does not force it to do so. If a subclass does not override a method, it will inherit and use the implementation from the superclass by default.\r\n\r\nFor example, suppose we have a superclass called Animal that has a method called makeSound() that prints &quot;The animal makes a sound&quot;. We can create a subclass called Dog that overrides this method and prints &quot;The dog barks&quot;. We can also create another subclass called Cat that does not override this method and inherits it from Animal. If we create objects of these subclasses and call their makeSound() methods, we will get different outputs:\r\n\r\n    // Create an object of Dog class\r\n    Dog dog = new Dog();\r\n    \r\n    // Call the makeSound() method of Dog class\r\n    dog.makeSound(); // The dog barks\r\n    \r\n    // Create an object of Cat class\r\n    Cat cat = new Cat();\r\n    \r\n    // Call the makeSound() method of Cat class\r\n    cat.makeSound(); // The animal makes a sound\r\n\r\nAs you can see, the Dog class provides a specific implementation for the makeSound() method, while the Cat class uses the general implementation from the Animal class. This is an example of polymorphism and inheritance in Java.","title":"Does polymorphism allow to override all the methods of its superclass in subclass?","body":"<p>You are correct, it is not mandatory for a subclass to override all the methods from the superclass. It is optional and depends on the design and functionality of the subclass. Polymorphism allows a subclass to provide a specific implementation for a method defined in its superclass, but it does not force it to do so. If a subclass does not override a method, it will inherit and use the implementation from the superclass by default.</p>\n<p>For example, suppose we have a superclass called Animal that has a method called makeSound() that prints &quot;The animal makes a sound&quot;. We can create a subclass called Dog that overrides this method and prints &quot;The dog barks&quot;. We can also create another subclass called Cat that does not override this method and inherits it from Animal. If we create objects of these subclasses and call their makeSound() methods, we will get different outputs:</p>\n<pre><code>// Create an object of Dog class\nDog dog = new Dog();\n\n// Call the makeSound() method of Dog class\ndog.makeSound(); // The dog barks\n\n// Create an object of Cat class\nCat cat = new Cat();\n\n// Call the makeSound() method of Cat class\ncat.makeSound(); // The animal makes a sound\n</code></pre>\n<p>As you can see, the Dog class provides a specific implementation for the makeSound() method, while the Cat class uses the general implementation from the Animal class. This is an example of polymorphism and inheritance in Java.</p>\n"},{"tags":[],"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696752542,"creation_date":1696752542,"answer_id":77252799,"question_id":77252752,"body_markdown":"This is language-specific. In Java, methods are &#39;overridable&#39; by default, so unless declared otherwise, a child class can override all methods.\r\n\r\nYou can, however, declare methods final, in which case [they can&#39;t be overwritten by a child class][1].\r\n\r\nOther languages work differently. In C#, for example, you have to explicitly declare a method with the [virtual][2] keyword. Unless you do so, a child class can&#39;t override it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/final.html\r\n  [2]: https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/virtual","title":"Does polymorphism allow to override all the methods of its superclass in subclass?","body":"<p>This is language-specific. In Java, methods are 'overridable' by default, so unless declared otherwise, a child class can override all methods.</p>\n<p>You can, however, declare methods final, in which case <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/final.html\" rel=\"nofollow noreferrer\">they can't be overwritten by a child class</a>.</p>\n<p>Other languages work differently. In C#, for example, you have to explicitly declare a method with the <a href=\"https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/virtual\" rel=\"nofollow noreferrer\">virtual</a> keyword. Unless you do so, a child class can't override it.</p>\n"}],"owner":{"account_id":25486642,"reputation":3,"user_id":19282149,"display_name":"New Bee Beginner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696752752,"creation_date":1696751456,"question_id":77252752,"body_markdown":"Please explain this with an example.!\r\n\r\n\r\nIt is not mandatory for a subclass to be overriding all the methods from the superclass. \r\nIt provides the option to override methods, but it&#39;s not a requirement.\r\n\r\nPolymorphism allows a subclass to provide a specific implementation for a method defined in its superclass. This means that you can have a method in a superclass that is not overridden in a subclass. In such cases, the subclass will inherit and use the implementation from the superclass.\r\nPlease correct me if I am wrong!","title":"Does polymorphism allow to override all the methods of its superclass in subclass?","body":"<p>Please explain this with an example.!</p>\n<p>It is not mandatory for a subclass to be overriding all the methods from the superclass.\nIt provides the option to override methods, but it's not a requirement.</p>\n<p>Polymorphism allows a subclass to provide a specific implementation for a method defined in its superclass. This means that you can have a method in a superclass that is not overridden in a subclass. In such cases, the subclass will inherit and use the implementation from the superclass.\nPlease correct me if I am wrong!</p>\n"},{"tags":["java","sockets","stream"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696754107,"post_id":77252766,"comment_id":136191755,"body_markdown":"Are you using both PrintWriter and ObjectOutputStream on the same socket? If yes - then this might be the cause of your exception. I suggest using only ObjectOutputStream/ObjectInputStream.","body":"Are you using both PrintWriter and ObjectOutputStream on the same socket? If yes - then this might be the cause of your exception. I suggest using only ObjectOutputStream/ObjectInputStream."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696754988,"post_id":77252766,"comment_id":136191854,"body_markdown":"The problem is a mismatch between the classes used to write and then read the object for one of the objects that you are serializing.  One possibility is that fields were added or removed (and the serial_version_id as not changed).  Another is that the class has declared custom `readObject` and `writeObject` methods and they do not match.  Tracking this down may entail careful examination of the respective class source code; i.e. of the `ParticipantWorkState` class and its component classes.","body":"The problem is a mismatch between the classes used to write and then read the object for one of the objects that you are serializing.  One possibility is that fields were added or removed (and the serial_version_id as not changed).  Another is that the class has declared custom <code>readObject</code> and <code>writeObject</code> methods and they do not match.  Tracking this down may entail careful examination of the respective class source code; i.e. of the <code>ParticipantWorkState</code> class and its component classes."},{"owner":{"account_id":21252226,"reputation":9,"user_id":15634317,"display_name":"Egg"},"score":0,"creation_date":1696770527,"post_id":77252766,"comment_id":136193242,"body_markdown":"@marcinj thanks for your suggestion. I will try to use only one type of stream, and see if that works!","body":"@marcinj thanks for your suggestion. I will try to use only one type of stream, and see if that works!"}],"owner":{"account_id":21252226,"reputation":9,"user_id":15634317,"display_name":"Egg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696754369,"answer_count":0,"score":0,"last_activity_date":1696752006,"creation_date":1696751717,"question_id":77252766,"body_markdown":"I am writing a serversocket program, and i am trying to pass objects (in this case: ParticipantWorkState) into ObjectOutputStream and read it via an ObjectInputStream. The ParticipantWorkState class implements Serializable.\r\n\r\nWhen I try to gather the objects from all the connected clients, it throws the java.io.OptionalDataException exception. What am I doing wrong?\r\n\r\n\r\n\r\nI am receiving the objects like this:\r\n```\r\nprivate ArrayList&lt;ConnectionHandler&gt; connections = new ArrayList&lt;&gt;();\r\n\r\npublic HashMap&lt;Integer, ParticipantWorkState&gt; gatherRequestedWork() {\r\n\tbroadcast(Protocol.RequestWork);    // Messages the client that they need to send the object\r\n\tHashMap&lt;Integer, ParticipantWorkState&gt; pwsList = new HashMap&lt;&gt;();\r\n\t\r\n\tfor (ConnectionHandler c : connections) {\r\n\t\tParticipantWorkState pws = (ParticipantWorkState) c.receiveObject();\r\n\t\tpwsList.put(c.ID, pws);\r\n\t}\r\n\t\r\n\treturn pwsList;\r\n}\r\n\r\npublic void broadcast(String msg) {\r\n\tfor (ConnectionHandler ch : connections) {\r\n\t\tch.sendMessage(msg);\r\n\t}\r\n}\r\n\r\n[...]\r\n\r\nclass ConnectionHandler implements Runnable {\r\n\tprivate BufferedReader strIn;\r\n\tprivate PrintWriter strOut;\r\n\tprivate ObjectInputStream objIn;\r\n\tprivate ObjectOutputStream objOut;\r\n\r\n\tpublic void run() {\r\n\t\t// I initiate the readers and writers here\r\n\t\t...\r\n\t\t// Handles other communication\r\n\t}\r\n\r\n\tpublic void sendMessage(String msg) {\r\n\t\tstrOut.println(msg); \r\n\t}\r\n\r\n\tprivate Object receiveObject() {\r\n\t\tObject o = null;\r\n\t\ttry {\r\n\t\t\t o = objIn.readObject();  // This line throws the exception\r\n\t\t} catch (ClassNotFoundException | IOException e) {\r\n\t\t\tDebug.error(&quot;Failed to receive object.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn o;\r\n\t}\r\n}\r\n```\r\n\r\nAnd sending them like this:\r\n```\r\nprivate ObjectOutputStream objOut; // I did init this one\r\nprivate void sendWork() {\r\n\t\ttry {\r\n\t\t\tParticipantWorkState pws = manager.getParticipantWorkState();\r\n\t\t\tobjOut.writeObject(pws); \r\n\t\t} catch (IOException e) {\r\n\t\t\tDebug.error(&quot;Unable to send ParticipantWorkState&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI tried to remove as much code that is not important as i can, let me know if you need more.\r\nThe ParticipantWorkState object is not null, and implements Serializable.\r\n\r\nPS: Is there a better way to do this?","title":"Cause of java.io.OptionalDataException in serversocket programming","body":"<p>I am writing a serversocket program, and i am trying to pass objects (in this case: ParticipantWorkState) into ObjectOutputStream and read it via an ObjectInputStream. The ParticipantWorkState class implements Serializable.</p>\n<p>When I try to gather the objects from all the connected clients, it throws the java.io.OptionalDataException exception. What am I doing wrong?</p>\n<p>I am receiving the objects like this:</p>\n<pre><code>private ArrayList&lt;ConnectionHandler&gt; connections = new ArrayList&lt;&gt;();\n\npublic HashMap&lt;Integer, ParticipantWorkState&gt; gatherRequestedWork() {\n    broadcast(Protocol.RequestWork);    // Messages the client that they need to send the object\n    HashMap&lt;Integer, ParticipantWorkState&gt; pwsList = new HashMap&lt;&gt;();\n    \n    for (ConnectionHandler c : connections) {\n        ParticipantWorkState pws = (ParticipantWorkState) c.receiveObject();\n        pwsList.put(c.ID, pws);\n    }\n    \n    return pwsList;\n}\n\npublic void broadcast(String msg) {\n    for (ConnectionHandler ch : connections) {\n        ch.sendMessage(msg);\n    }\n}\n\n[...]\n\nclass ConnectionHandler implements Runnable {\n    private BufferedReader strIn;\n    private PrintWriter strOut;\n    private ObjectInputStream objIn;\n    private ObjectOutputStream objOut;\n\n    public void run() {\n        // I initiate the readers and writers here\n        ...\n        // Handles other communication\n    }\n\n    public void sendMessage(String msg) {\n        strOut.println(msg); \n    }\n\n    private Object receiveObject() {\n        Object o = null;\n        try {\n             o = objIn.readObject();  // This line throws the exception\n        } catch (ClassNotFoundException | IOException e) {\n            Debug.error(&quot;Failed to receive object.&quot;);\n            e.printStackTrace();\n        }\n        return o;\n    }\n}\n</code></pre>\n<p>And sending them like this:</p>\n<pre><code>private ObjectOutputStream objOut; // I did init this one\nprivate void sendWork() {\n        try {\n            ParticipantWorkState pws = manager.getParticipantWorkState();\n            objOut.writeObject(pws); \n        } catch (IOException e) {\n            Debug.error(&quot;Unable to send ParticipantWorkState&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried to remove as much code that is not important as i can, let me know if you need more.\nThe ParticipantWorkState object is not null, and implements Serializable.</p>\n<p>PS: Is there a better way to do this?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696752660,"post_id":77252765,"comment_id":136191657,"body_markdown":"Well, which command did you run?","body":"Well, which command did you run?"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1696759298,"post_id":77252765,"comment_id":136192186,"body_markdown":"@knittl `try {server.run(driver);} catch (Exception e) {\tlogger.warning(&quot;error in main block: &quot;.concat(e.getMessage())); captureScreenshot(driver, String.format(&quot;%s\\\\screenshots&quot;, System.getProperty(&quot;user.home&quot;))); logger.info(&quot;screenshot saved&quot;);} finally { ...` somehere before finally but right after `logger.warning`","body":"@knittl <code>try {server.run(driver);} catch (Exception e) {\tlogger.warning(&quot;error in main block: &quot;.concat(e.getMessage())); captureScreenshot(driver, String.format(&quot;%s\\\\screenshots&quot;, System.getProperty(&quot;user.home&quot;))); logger.info(&quot;screenshot saved&quot;);} finally { ...</code> somehere before finally but right after <code>logger.warning</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696759569,"post_id":77252765,"comment_id":136192209,"body_markdown":"So `server.run(driver)` (somewhere down the call stack) prints the message. Am I underthinking this question? If you remove that line, the message will not be printed; so this line is responsible for printing it. No? If not, what _exactly_ is the question here?","body":"So <code>server.run(driver)</code> (somewhere down the call stack) prints the message. Am I underthinking this question? If you remove that line, the message will not be printed; so this line is responsible for printing it. No? If not, what <i>exactly</i> is the question here?"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696751715,"creation_date":1696751715,"question_id":77252765,"body_markdown":"Which command produces a webdriver log like this?\r\n\r\n    System info: host: &#39;SOMEHOST&#39;, ip: &#39;1.1.1.1&#39;, os.name: &#39;Windows 8&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;8.0&#39;, java.version: &#39;1.8.0_361&#39;\r\n    Driver info: org.openqa.selenium.firefox.FirefoxDriver\r\n    Capabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 117.0.1, javascriptEnabled: true, moz:accessibilityChecks: false, moz:buildID: 20230912013654, moz:geckodriverVersion: 0.33.0, moz:headless: true, moz:platformVersion: 10.0, moz:processID: 1772, moz:profile: C:\\Users\\36B5~1\\AppData\\Loc..., moz:shutdownTimeout: 60000, moz:webdriverClick: true, moz:windowless: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\r\n    Session ID: 137d5151-92d1-31af-970b-3a1db9d113b9","title":"Which command produces a webdriver log like this?","body":"<p>Which command produces a webdriver log like this?</p>\n<pre><code>System info: host: 'SOMEHOST', ip: '1.1.1.1', os.name: 'Windows 8', os.arch: 'amd64', os.version: '8.0', java.version: '1.8.0_361'\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 117.0.1, javascriptEnabled: true, moz:accessibilityChecks: false, moz:buildID: 20230912013654, moz:geckodriverVersion: 0.33.0, moz:headless: true, moz:platformVersion: 10.0, moz:processID: 1772, moz:profile: C:\\Users\\36B5~1\\AppData\\Loc..., moz:shutdownTimeout: 60000, moz:webdriverClick: true, moz:windowless: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\nSession ID: 137d5151-92d1-31af-970b-3a1db9d113b9\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696730808,"post_id":77251803,"comment_id":136190426,"body_markdown":"You mention you&#39;ve installed a VS Code extension to work _with_ Maven, but have you actually [installed Maven](https://maven.apache.org/)?","body":"You mention you&#39;ve installed a VS Code extension to work <i>with</i> Maven, but have you actually <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">installed Maven</a>?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696750850,"post_id":77251803,"comment_id":136191516,"body_markdown":"You might be better off using a real Java IDE like IntelliJ, Eclipse or NetBeans.","body":"You might be better off using a real Java IDE like IntelliJ, Eclipse or NetBeans."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696841283,"post_id":77251803,"comment_id":136199677,"body_markdown":"This may have something to do with your maven. Can you show your maven installation?","body":"This may have something to do with your maven. Can you show your maven installation?"}],"owner":{"account_id":19570468,"reputation":1,"user_id":14321743,"display_name":"king342"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696750819,"creation_date":1696720818,"question_id":77251803,"body_markdown":"I included a pom.xml file found online for OpenCSV (shown below)\r\n\r\n[enter image description here][1]\r\n\r\nI downloaded the recent Java extension to use Maven, then I open Maven\r\n\r\nWhen I try click install on the csvreader file under Maven project, it gives the following error: \r\n\r\n&gt; Maven executable not found in PATH. Please specify &quot;maven.executable.path&quot;.\r\n\r\nHow do I fix this error and use the library?\r\n\r\n(FYI, I am a beginner to Java, and I really want to use OpenCSV library function) \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.quadmeup&lt;/groupId&gt;\r\n  &lt;artifactId&gt;csv-reader&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;csv-reader&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fi3Mf.png","title":"How to use Java OpenCSV Library in Visual Studio Code","body":"<p>I included a pom.xml file found online for OpenCSV (shown below)</p>\n<p><a href=\"https://i.stack.imgur.com/fi3Mf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I downloaded the recent Java extension to use Maven, then I open Maven</p>\n<p>When I try click install on the csvreader file under Maven project, it gives the following error:</p>\n<blockquote>\n<p>Maven executable not found in PATH. Please specify &quot;maven.executable.path&quot;.</p>\n</blockquote>\n<p>How do I fix this error and use the library?</p>\n<p>(FYI, I am a beginner to Java, and I really want to use OpenCSV library function)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.quadmeup&lt;/groupId&gt;\n  &lt;artifactId&gt;csv-reader&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;csv-reader&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","screenshot"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1696877161,"post_id":77252610,"comment_id":136206579,"body_markdown":"Use WebDriverWaits with Explicit Conditions:  https://www.selenium.dev/documentation/webdriver/waits/","body":"Use WebDriverWaits with Explicit Conditions:  <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/waits</a>"}],"owner":{"account_id":29574529,"reputation":1,"user_id":22665859,"display_name":"PESCO Bill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696750306,"creation_date":1696747973,"question_id":77252610,"body_markdown":"I want to take screenshots of webpages using Selenium WebDriver. While the basic functionality seems to work, there would be an issue with capturing a specific type of webpage of a [pesco billing](https://pescobilling.pk/) site. Here&#39;s the problem.\r\n\r\nI am able to take screenshots of most webpages without any problems. However, there are some webpages with certain dynamic elements or overlays, the resulting screenshot would appears to be missing those elements. It&#39;s as if the screenshot would be taken before these dynamic elements are fully loaded.\r\n\r\nHere&#39;s a simplified version of the Java code:\r\n\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\n\r\npublic class WebpageScreenshot {\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n\r\n        try {\r\n            driver.get(&quot;https://pescobilling.pk/&quot;);\r\n\r\n            // Sleep for a few seconds to allow dynamic elements to load (not a good practice)\r\n            Thread.sleep(5000);\r\n\r\n            // Take the screenshot\r\n            File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n\r\n            // Save the screenshot\r\n            // ...\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            driver.quit();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI believe the issue is related to the timing of taking the screenshot, as some elements are loaded dynamically after the initial page load. In the code snippet above, I added a Thread.sleep to pause execution, but this is not an ideal solution, and it doesn&#39;t always work perfectly.\r\n\r\nWhat is the recommended approach to ensure that the screenshot is taken after all dynamic elements have loaded? Is there a more reliable way to capture the entire webpage, including these dynamic elements?\r\n\r\n\r\n","title":"Issue with taking screenshots using Selenium WebDriver","body":"<p>I want to take screenshots of webpages using Selenium WebDriver. While the basic functionality seems to work, there would be an issue with capturing a specific type of webpage of a <a href=\"https://pescobilling.pk/\" rel=\"nofollow noreferrer\">pesco billing</a> site. Here's the problem.</p>\n<p>I am able to take screenshots of most webpages without any problems. However, there are some webpages with certain dynamic elements or overlays, the resulting screenshot would appears to be missing those elements. It's as if the screenshot would be taken before these dynamic elements are fully loaded.</p>\n<p>Here's a simplified version of the Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\n\npublic class WebpageScreenshot {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        try {\n            driver.get(&quot;https://pescobilling.pk/&quot;);\n\n            // Sleep for a few seconds to allow dynamic elements to load (not a good practice)\n            Thread.sleep(5000);\n\n            // Take the screenshot\n            File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n\n            // Save the screenshot\n            // ...\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            driver.quit();\n        }\n    }\n}\n</code></pre>\n<p>I believe the issue is related to the timing of taking the screenshot, as some elements are loaded dynamically after the initial page load. In the code snippet above, I added a Thread.sleep to pause execution, but this is not an ideal solution, and it doesn't always work perfectly.</p>\n<p>What is the recommended approach to ensure that the screenshot is taken after all dynamic elements have loaded? Is there a more reliable way to capture the entire webpage, including these dynamic elements?</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"score":0,"creation_date":1645721085,"post_id":71255340,"comment_id":125952182,"body_markdown":"For java version:\njava -version\nFor java primary compiler:\njavac -version\n\nyou can run:\nwhereis java\nSo you find the java path / or you can: sudo update-alternatives --config java so it list all the java installations and you can select the default","body":"For java version: java -version For java primary compiler: javac -version  you can run: whereis java So you find the java path / or you can: sudo update-alternatives --config java so it list all the java installations and you can select the default"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1645722355,"post_id":71255340,"comment_id":125952679,"body_markdown":"what mechanisms on your server are in place to start a java process that &quot;comes for a second&quot;? usually Java is used for things like long running servers like tomcat, that sit there and maybe launch another process, but all with the same Java version.\n\nDo you really have cron jobs or something like that, which are executed directly with Java?","body":"what mechanisms on your server are in place to start a java process that &quot;comes for a second&quot;? usually Java is used for things like long running servers like tomcat, that sit there and maybe launch another process, but all with the same Java version.  Do you really have cron jobs or something like that, which are executed directly with Java?"}],"answers":[{"comments":[{"owner":{"account_id":1048331,"reputation":19,"user_id":1052849,"display_name":"Fundoo"},"score":0,"creation_date":1645721579,"post_id":71255433,"comment_id":125952390,"body_markdown":"we have 1500 servers. so need something which is more automated, updated the post to indicate the same.","body":"we have 1500 servers. so need something which is more automated, updated the post to indicate the same."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1645722551,"post_id":71255433,"comment_id":125952754,"body_markdown":"So do the 1500 server all run different stuff with different versions of Java? Or are they just part of a cluster with all similar machines, just multiplied to get more computing power?","body":"So do the 1500 server all run different stuff with different versions of Java? Or are they just part of a cluster with all similar machines, just multiplied to get more computing power?"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645721246,"creation_date":1645721246,"answer_id":71255433,"question_id":71255340,"body_markdown":"The brute force solution (will include downtime and a lot of work):\r\n\r\n 1. Prepare a documentation of all installed services, either create it or get it at hand\r\n 2. Remove or disable all versions of Java\r\n 3. Start one service after another\r\n 4. Record all errors happening\r\n 5. Fill in the necessary Java version for each service in the documentation (probably you can find out by the logs which Java version is necessary for what service)\r\n 6. Reinstall or enable one version of Java at a time - probably best the one for the service you just were trying to bring up again\r\n\r\nRepeat for all services / java versions.\r\n\r\nAnd for the future: keep records of the services that are running on your server and which dependencies they have.","title":"Finding installed Java versions actually being used on Linux servers?","body":"<p>The brute force solution (will include downtime and a lot of work):</p>\n<ol>\n<li>Prepare a documentation of all installed services, either create it or get it at hand</li>\n<li>Remove or disable all versions of Java</li>\n<li>Start one service after another</li>\n<li>Record all errors happening</li>\n<li>Fill in the necessary Java version for each service in the documentation (probably you can find out by the logs which Java version is necessary for what service)</li>\n<li>Reinstall or enable one version of Java at a time - probably best the one for the service you just were trying to bring up again</li>\n</ol>\n<p>Repeat for all services / java versions.</p>\n<p>And for the future: keep records of the services that are running on your server and which dependencies they have.</p>\n"},{"tags":[],"owner":{"account_id":24282095,"reputation":34,"user_id":18228447,"display_name":"Sandeepp"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645724122,"creation_date":1645722786,"answer_id":71255754,"question_id":71255340,"body_markdown":"Running a ansible playbook and capturing the output to a excel sheet would be a good starting point.\r\n\r\n","title":"Finding installed Java versions actually being used on Linux servers?","body":"<p>Running a ansible playbook and capturing the output to a excel sheet would be a good starting point.</p>\n"},{"tags":[],"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645744567,"creation_date":1645744567,"answer_id":71259333,"question_id":71255340,"body_markdown":"Here is a bash script that might work for you:\r\n\r\n    #!/bin/bash\r\n    while true\r\n    do\r\n        ps -aux | grep java | awk &#39;{print $2}&#39; | xargs -I{} lsof -p {} | grep &#39; txt &#39; | awk &#39;{print $9}&#39; &gt;&gt; log\r\n        sort -u log &gt; sorter\r\n        cat sorter &gt; log\r\n        sleep .2\r\n    done\r\n\r\nEvery 200 milliseconds, it feeds the process id of every currently running process with &quot;java&quot; in it as the argument to the list-open-files utility, filters that list to include only executable files ( &quot;txt&quot; ), and appends that to a file called log. Then it writes the unique strings from that file to a file called sorter and then writes that back to the log file.\r\n\r\nI executed a simple java Console app a few times with two different jvms while the script ran, and here&#39;s the contents of the log file:\r\n\r\n    /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java","title":"Finding installed Java versions actually being used on Linux servers?","body":"<p>Here is a bash script that might work for you:</p>\n<pre><code>#!/bin/bash\nwhile true\ndo\n    ps -aux | grep java | awk '{print $2}' | xargs -I{} lsof -p {} | grep ' txt ' | awk '{print $9}' &gt;&gt; log\n    sort -u log &gt; sorter\n    cat sorter &gt; log\n    sleep .2\ndone\n</code></pre>\n<p>Every 200 milliseconds, it feeds the process id of every currently running process with &quot;java&quot; in it as the argument to the list-open-files utility, filters that list to include only executable files ( &quot;txt&quot; ), and appends that to a file called log. Then it writes the unique strings from that file to a file called sorter and then writes that back to the log file.</p>\n<p>I executed a simple java Console app a few times with two different jvms while the script ran, and here's the contents of the log file:</p>\n<pre><code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java\n/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142522,"reputation":13,"user_id":4060207,"display_name":"jitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696748895,"creation_date":1696732868,"answer_id":77252124,"question_id":71255340,"body_markdown":"My answer has two parts.\r\n\r\n 1. See answer from @pete_bc for his script.\r\n\r\n 2. Take the output of that script then do a for loop that does something like:\r\n\r\nfor javaFullpath in &quot;${yourSortedListOfJavaPaths}&quot;; do\r\n    listOfJavaVersions+=( $(&quot;$javaFullpath&quot; -version 2&gt;&amp;1 | awk -F &#39;&quot;&#39; &#39;/version/ {print $2}&#39;) )\r\ndone\r\n\r\nSo, to put it all together, this requires bash 4.4 or later because use of mapfile:\r\n\r\n    #!/bin/bash\r\n    TIMETOCAPTURE=86400 #seconds in 1 day\r\n    SECONDS=0\r\n    \r\n    #determine the executable paths of the javas that are being used\r\n    while [[ $SECONDS -lt $TIMETOCAPTURE ]]; do\r\n        ps -aux | grep java | awk &#39;{print $2}&#39; | xargs -I{} lsof -p {} | grep &#39; txt &#39; | awk &#39;{print $9}&#39; &gt;&gt; log\r\n        sort -u log &gt; sorter\r\n        cat sorter &gt; log\r\n        sleep .2\r\n    done\r\n    \r\n    #determine their versions\r\n    mapfile -t sortedListOfJavaFullpaths &lt; log \r\n    for javaFullpath in &quot;${sortedListOfJavaFullpaths }&quot;; do\r\n        listOfJavaVersions+=( $(&quot;$javaFullpath&quot; -version 2&gt;&amp;1 | awk -F &#39;&quot;&#39; &#39;/version/ {print $2}&#39;) )\r\n    done\r\n\r\n","title":"Finding installed Java versions actually being used on Linux servers?","body":"<p>My answer has two parts.</p>\n<ol>\n<li><p>See answer from @pete_bc for his script.</p>\n</li>\n<li><p>Take the output of that script then do a for loop that does something like:</p>\n</li>\n</ol>\n<p>for javaFullpath in &quot;${yourSortedListOfJavaPaths}&quot;; do\nlistOfJavaVersions+=( $(&quot;$javaFullpath&quot; -version 2&gt;&amp;1 | awk -F '&quot;' '/version/ {print $2}') )\ndone</p>\n<p>So, to put it all together, this requires bash 4.4 or later because use of mapfile:</p>\n<pre><code>#!/bin/bash\nTIMETOCAPTURE=86400 #seconds in 1 day\nSECONDS=0\n\n#determine the executable paths of the javas that are being used\nwhile [[ $SECONDS -lt $TIMETOCAPTURE ]]; do\n    ps -aux | grep java | awk '{print $2}' | xargs -I{} lsof -p {} | grep ' txt ' | awk '{print $9}' &gt;&gt; log\n    sort -u log &gt; sorter\n    cat sorter &gt; log\n    sleep .2\ndone\n\n#determine their versions\nmapfile -t sortedListOfJavaFullpaths &lt; log \nfor javaFullpath in &quot;${sortedListOfJavaFullpaths }&quot;; do\n    listOfJavaVersions+=( $(&quot;$javaFullpath&quot; -version 2&gt;&amp;1 | awk -F '&quot;' '/version/ {print $2}') )\ndone\n</code></pre>\n"}],"owner":{"account_id":1048331,"reputation":19,"user_id":1052849,"display_name":"Fundoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1696748895,"creation_date":1645720823,"question_id":71255340,"body_markdown":"Our Linux servers (1500 of them) has multiple Java versions installed (from Java 1.5 to Java 17) and we are in process of cleaning it up. is there a way to find out which installed versions are actually being used?\r\n\r\nwe can take a snapshot of a process running at any point but this will miss the process which comes for a second and goes down. \r\n\r\nAnyway to automate capturing this data, we have options to run ansible playbooks etc.\r\n\r\nAny suggestions will be highly appreciated.  ","title":"Finding installed Java versions actually being used on Linux servers?","body":"<p>Our Linux servers (1500 of them) has multiple Java versions installed (from Java 1.5 to Java 17) and we are in process of cleaning it up. is there a way to find out which installed versions are actually being used?</p>\n<p>we can take a snapshot of a process running at any point but this will miss the process which comes for a second and goes down.</p>\n<p>Anyway to automate capturing this data, we have options to run ansible playbooks etc.</p>\n<p>Any suggestions will be highly appreciated.</p>\n"},{"tags":["c#","java","architecture","repository-pattern","unit-of-work"],"comments":[{"owner":{"account_id":1003582,"reputation":16210,"user_id":1017868,"accept_rate":78,"display_name":"MikeSW"},"score":1,"creation_date":1382601294,"post_id":19548531,"comment_id":29025554,"body_markdown":"If you&#39;re comfortable with the concept of eventual consistency, you can use domain events to implement the &#39;transaction&#39;. It&#39;s more domain driven, elegant and clean but you need to involve a service bus and make your handlers idempotent","body":"If you&#39;re comfortable with the concept of eventual consistency, you can use domain events to implement the &#39;transaction&#39;. It&#39;s more domain driven, elegant and clean but you need to involve a service bus and make your handlers idempotent"}],"answers":[{"comments":[{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1382551475,"post_id":19548849,"comment_id":29007176,"body_markdown":"It may be a workaround. The `TransactionScope` should wrap the whole UoW class(not just the Commit method). However, instead of looking for a workaround I&#39;m looking for why folks didn&#39;t notice this issue or may be I am wrong. Thank you very much anyway","body":"It may be a workaround. The <code>TransactionScope</code> should wrap the whole UoW class(not just the Commit method). However, instead of looking for a workaround I&#39;m looking for why folks didn&#39;t notice this issue or may be I am wrong. Thank you very much anyway"},{"owner":{"account_id":1116474,"reputation":2649,"user_id":1105687,"accept_rate":50,"display_name":"lightbricko"},"score":1,"creation_date":1382552033,"post_id":19548849,"comment_id":29007491,"body_markdown":"Encapsulating data manipulations in a transaction like this is common practice and this is how I do it myself. I have never regarded this as a &#39;workaround&#39; but rather as one simple (and important) part of the code. To me, calling this a workaround is similar to saying &#39;the data type int is just a workaround used because strings don&#39;t work well with multiplication&#39;.","body":"Encapsulating data manipulations in a transaction like this is common practice and this is how I do it myself. I have never regarded this as a &#39;workaround&#39; but rather as one simple (and important) part of the code. To me, calling this a workaround is similar to saying &#39;the data type int is just a workaround used because strings don&#39;t work well with multiplication&#39;."},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1382552177,"post_id":19548849,"comment_id":29007590,"body_markdown":"Where do you create the TransactionScope? In Commit method?","body":"Where do you create the TransactionScope? In Commit method?"},{"owner":{"account_id":1116474,"reputation":2649,"user_id":1105687,"accept_rate":50,"display_name":"lightbricko"},"score":0,"creation_date":1382552610,"post_id":19548849,"comment_id":29007844,"body_markdown":"No, I don&#39;t create the transaction scope in the commit method. It depends on the application architecture. Currently I develop an application that is using the [Command Query Responsibility Segregation (CQRS) pattern](http://en.wikipedia.org/wiki/CQRS#Command_Query_Responsibility_Segregation). In this application I create a transaction scope already when a command is received on the server.","body":"No, I don&#39;t create the transaction scope in the commit method. It depends on the application architecture. Currently I develop an application that is using the <a href=\"http://en.wikipedia.org/wiki/CQRS#Command_Query_Responsibility_Segregation\" rel=\"nofollow noreferrer\">Command Query Responsibility Segregation (CQRS) pattern</a>. In this application I create a transaction scope already when a command is received on the server."},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1382553384,"post_id":19548849,"comment_id":29008291,"body_markdown":"I agree that your way works when back-end storage is a transaction-supporting data source such as MSSqlServer. But what if one repository works on a source like ordinary file which does not support transaction? Moreover, what if on UoW.Commit an specific checking should be done that if RepoA has dirty data and RepoB has too, then RepoC should store a report somewhere? Clearly, if RepoA has saved itself sooner, on a later call to Commit it will be assumed that RepoA has nothing changed and no report will be generated.","body":"I agree that your way works when back-end storage is a transaction-supporting data source such as MSSqlServer. But what if one repository works on a source like ordinary file which does not support transaction? Moreover, what if on UoW.Commit an specific checking should be done that if RepoA has dirty data and RepoB has too, then RepoC should store a report somewhere? Clearly, if RepoA has saved itself sooner, on a later call to Commit it will be assumed that RepoA has nothing changed and no report will be generated."},{"owner":{"account_id":1116474,"reputation":2649,"user_id":1105687,"accept_rate":50,"display_name":"lightbricko"},"score":0,"creation_date":1382553574,"post_id":19548849,"comment_id":29008392,"body_markdown":"Regarding the reports you generate: Since I don&#39;t know how your system works, I can&#39;t answer that. Regarding resources that do not support transactions: You are correct that I assumed that the resources supported transactions. After all, the title of this question has &quot;... Bussiness Transaction Concept&quot; in it. There are different ways to work with non-transactional resources. One way with the file system example you had is to add transaction support for it, such as using http://transactionalfilemgr.codeplex.com Note that I have not used it though.","body":"Regarding the reports you generate: Since I don&#39;t know how your system works, I can&#39;t answer that. Regarding resources that do not support transactions: You are correct that I assumed that the resources supported transactions. After all, the title of this question has &quot;... Bussiness Transaction Concept&quot; in it. There are different ways to work with non-transactional resources. One way with the file system example you had is to add transaction support for it, such as using <a href=\"http://transactionalfilemgr.codeplex.com\" rel=\"nofollow noreferrer\">transactionalfilemgr.codeplex.com</a> Note that I have not used it though."},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1382553811,"post_id":19548849,"comment_id":29008510,"body_markdown":"It was only a hypothetical example to demonstrate the failure of the proposed solution. I just want to say if one Repository sooner calls Commit whether in a transaction scope or not, it may cause some undesirable result","body":"It was only a hypothetical example to demonstrate the failure of the proposed solution. I just want to say if one Repository sooner calls Commit whether in a transaction scope or not, it may cause some undesirable result"}],"tags":[],"owner":{"account_id":1116474,"reputation":2649,"user_id":1105687,"accept_rate":50,"display_name":"lightbricko"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382550556,"creation_date":1382550556,"answer_id":19548849,"question_id":19548531,"body_markdown":"In .NET, data access components typically automatically enlist to ambient transactions. Hence, *saving changes intra-transactionally* becomes separated from *comitting the transaction to persist the changes*.\r\n\r\nPut differently - if you create a transaction scope you can let the developers save as much as they want. Not until the transaction is committed the observable state of the database(s) will be updated (well, what is observable depends on the transaction isolation level).\r\n\r\nThis shows how to create a transaction scope in c#:\r\n\r\n    using (TransactionScope scope = new TransactionScope())\r\n    {\r\n        // Your logic here. Save inside the transaction as much as you want.\r\n    \r\n        scope.Complete(); // &lt;-- This will complete the transaction and make the changes permanent.\r\n    }","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>In .NET, data access components typically automatically enlist to ambient transactions. Hence, <em>saving changes intra-transactionally</em> becomes separated from <em>comitting the transaction to persist the changes</em>.</p>\n\n<p>Put differently - if you create a transaction scope you can let the developers save as much as they want. Not until the transaction is committed the observable state of the database(s) will be updated (well, what is observable depends on the transaction isolation level).</p>\n\n<p>This shows how to create a transaction scope in c#:</p>\n\n<pre><code>using (TransactionScope scope = new TransactionScope())\n{\n    // Your logic here. Save inside the transaction as much as you want.\n\n    scope.Complete(); // &lt;-- This will complete the transaction and make the changes permanent.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":3,"creation_date":1382987633,"post_id":19630695,"comment_id":29165965,"body_markdown":"I read it and  I really relieved to see someone has similar concern. But I wonder why not using `TransactionScope`? It is more convenient and makes the architecture more flexible to be expanded and changed later. Moreover, you blocked the call to `SaveChanges` in run-time for a `ReadOnly UoW`. That&#39;s okay but I have bad feeling about it. Honestly, I think what repositories consume as a `UoW` shouldn&#39;t expose `SaveChanges` to them.","body":"I read it and  I really relieved to see someone has similar concern. But I wonder why not using <code>TransactionScope</code>? It is more convenient and makes the architecture more flexible to be expanded and changed later. Moreover, you blocked the call to <code>SaveChanges</code> in run-time for a <code>ReadOnly UoW</code>. That&#39;s okay but I have bad feeling about it. Honestly, I think what repositories consume as a <code>UoW</code> shouldn&#39;t expose <code>SaveChanges</code> to them."},{"owner":{"account_id":104904,"reputation":68149,"user_id":280222,"accept_rate":92,"display_name":"Anders Abel"},"score":0,"creation_date":1383034665,"post_id":19630695,"comment_id":29182153,"body_markdown":"A key feature of the UoW is to ensure that all entities loaded within a business transaction are loaded by the same UoW/DBContext. TransactionScope is not enough for that. Regarding SaveChanges: Another design could be two classes; one for reading and one for writing, that both used the same ambient DBContext.","body":"A key feature of the UoW is to ensure that all entities loaded within a business transaction are loaded by the same UoW/DBContext. TransactionScope is not enough for that. Regarding SaveChanges: Another design could be two classes; one for reading and one for writing, that both used the same ambient DBContext."},{"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"score":0,"creation_date":1383313724,"post_id":19630695,"comment_id":29309584,"body_markdown":"What happens if a developer creates a nested `UnitOfWorkScope` with inner and outer both having `UnitOfWorkScopePurpose.Writing`? If the outer `UnitOfWork` is aborted does the inner still get saved?","body":"What happens if a developer creates a nested <code>UnitOfWorkScope</code> with inner and outer both having <code>UnitOfWorkScopePurpose.Writing</code>? If the outer <code>UnitOfWork</code> is aborted does the inner still get saved?"},{"owner":{"account_id":104904,"reputation":68149,"user_id":280222,"accept_rate":92,"display_name":"Anders Abel"},"score":0,"creation_date":1383316972,"post_id":19630695,"comment_id":29311301,"body_markdown":"It is only the outermost UnitOfWorkScope that will actually save changes and it will only be allowed if all child scopes have &quot;voted yes&quot; by calling `SaveChanges()`. If any child scope failed to call `SaveChanges()`, e.g. because of an exception, nothing will be saved.","body":"It is only the outermost UnitOfWorkScope that will actually save changes and it will only be allowed if all child scopes have &quot;voted yes&quot; by calling <code>SaveChanges()</code>. If any child scope failed to call <code>SaveChanges()</code>, e.g. because of an exception, nothing will be saved."},{"owner":{"account_id":414615,"reputation":193,"user_id":788927,"display_name":"Maulik Modi"},"score":0,"creation_date":1618585868,"post_id":19630695,"comment_id":118654479,"body_markdown":"@AndersAbel, What about using UnitOfWork starting Transaction in Action filter - OnActionExecuting and UnitOfWork committing in OnActionExecuted?","body":"@AndersAbel, What about using UnitOfWork starting Transaction in Action filter - OnActionExecuting and UnitOfWork committing in OnActionExecuted?"},{"owner":{"account_id":10873178,"reputation":78,"user_id":7994403,"display_name":"guxxo"},"score":0,"creation_date":1629456997,"post_id":19630695,"comment_id":121697654,"body_markdown":"@AndersAbel thanks for sharing, I used this to implement my TransactionScope that works directly with IDbConnection without EF. I have 1 question though, if a `[ThreadStatic]` field  (connection in my case) is not set to null after being disposed, when a new thread is started (new request in ASP .NET web api application) it still has the previous value , is this expected behaviour? Because the `ThreadStatic` docs say  *&quot;If you do not specify an initial value, you can rely on the field being initialized to its default value if it is a value type, or to null if it is a reference type.&quot;*","body":"@AndersAbel thanks for sharing, I used this to implement my TransactionScope that works directly with IDbConnection without EF. I have 1 question though, if a <code>[ThreadStatic]</code> field  (connection in my case) is not set to null after being disposed, when a new thread is started (new request in ASP .NET web api application) it still has the previous value , is this expected behaviour? Because the <code>ThreadStatic</code> docs say  <i>&quot;If you do not specify an initial value, you can rely on the field being initialized to its default value if it is a value type, or to null if it is a reference type.&quot;</i>"}],"tags":[],"owner":{"account_id":104904,"reputation":68149,"user_id":280222,"accept_rate":92,"display_name":"Anders Abel"},"comment_count":6,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1382951236,"creation_date":1382951236,"answer_id":19630695,"question_id":19548531,"body_markdown":"I do agree with your concerns. I prefer to have an ambient unit of work, where the outermost function opening a unit of work is the one that decides whether to commit or abort. Functions called can open a unit of work scope which automatically enlists in the ambient UoW if there is one, or creates a new one if there is none.\r\n\r\nThe implementation of the `UnitOfWorkScope` that I used is heavily inspired by how `TransactionScope` works. Using an ambient/scoped approach also removes the need for dependency injection.\r\n\r\nA method that performs a query looks like this:\r\n\r\n    public static Entities.Car GetCar(int id)\r\n    {\r\n        using (var uow = new UnitOfWorkScope&lt;CarsContext&gt;(UnitOfWorkScopePurpose.Reading))\r\n        {\r\n            return uow.DbContext.Cars.Single(c =&gt; c.CarId == id);\r\n        }\r\n    }\r\n\r\nA method that writes looks like this:\r\n\r\n    using (var uow = new UnitOfWorkScope&lt;CarsContext&gt;(UnitOfWorkScopePurpose.Writing))\r\n    {\r\n        Car c = SharedQueries.GetCar(carId);\r\n        c.Color = &quot;White&quot;;\r\n        uow.SaveChanges();\r\n    }\r\n\r\nNote that the `uow.SaveChanges()` call will only do an actual save to the database if this is the root (otermost) scope. Otherwise it is interpreted as an &quot;okay vote&quot; that the root scope will be allowed to save the changes.\r\n\r\nThe entire implementation of the `UnitOfWorkScope` is available at: http://coding.abel.nu/2012/10/make-the-dbcontext-ambient-with-unitofworkscope/","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>I do agree with your concerns. I prefer to have an ambient unit of work, where the outermost function opening a unit of work is the one that decides whether to commit or abort. Functions called can open a unit of work scope which automatically enlists in the ambient UoW if there is one, or creates a new one if there is none.</p>\n\n<p>The implementation of the <code>UnitOfWorkScope</code> that I used is heavily inspired by how <code>TransactionScope</code> works. Using an ambient/scoped approach also removes the need for dependency injection.</p>\n\n<p>A method that performs a query looks like this:</p>\n\n<pre><code>public static Entities.Car GetCar(int id)\n{\n    using (var uow = new UnitOfWorkScope&lt;CarsContext&gt;(UnitOfWorkScopePurpose.Reading))\n    {\n        return uow.DbContext.Cars.Single(c =&gt; c.CarId == id);\n    }\n}\n</code></pre>\n\n<p>A method that writes looks like this:</p>\n\n<pre><code>using (var uow = new UnitOfWorkScope&lt;CarsContext&gt;(UnitOfWorkScopePurpose.Writing))\n{\n    Car c = SharedQueries.GetCar(carId);\n    c.Color = \"White\";\n    uow.SaveChanges();\n}\n</code></pre>\n\n<p>Note that the <code>uow.SaveChanges()</code> call will only do an actual save to the database if this is the root (otermost) scope. Otherwise it is interpreted as an \"okay vote\" that the root scope will be allowed to save the changes.</p>\n\n<p>The entire implementation of the <code>UnitOfWorkScope</code> is available at: <a href=\"http://coding.abel.nu/2012/10/make-the-dbcontext-ambient-with-unitofworkscope/\" rel=\"noreferrer\">http://coding.abel.nu/2012/10/make-the-dbcontext-ambient-with-unitofworkscope/</a></p>\n"},{"comments":[{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1383054379,"post_id":19659319,"comment_id":29193990,"body_markdown":"May be the only solution is this. What is your experience? What do you do in your projects? Have you ever noticed this problem or do you event consider this an issue.","body":"May be the only solution is this. What is your experience? What do you do in your projects? Have you ever noticed this problem or do you event consider this an issue."},{"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"score":0,"creation_date":1383055554,"post_id":19659319,"comment_id":29194839,"body_markdown":"I&#39;ve tended to follow the usual pattern but I do think you have a valid  point.","body":"I&#39;ve tended to follow the usual pattern but I do think you have a valid  point."},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1383314047,"post_id":19659319,"comment_id":29309733,"body_markdown":"The bad thing about passing `DBContext` or `ObjectContext` is that you cannot access other `Repositories` within any repository. Suppose one `Repository` has it&#39;s special and own way of storing the related entity. Simply adding that entity to the DBContext means falsely bypassing the related Repository and logic.","body":"The bad thing about passing <code>DBContext</code> or <code>ObjectContext</code> is that you cannot access other <code>Repositories</code> within any repository. Suppose one <code>Repository</code> has it&#39;s special and own way of storing the related entity. Simply adding that entity to the DBContext means falsely bypassing the related Repository and logic."},{"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"score":1,"creation_date":1383314325,"post_id":19659319,"comment_id":29309869,"body_markdown":"@Alireza I prefer that my repositories cannot access one another. They do nothing more than CRUD and any special logic goes into my service classes","body":"@Alireza I prefer that my repositories cannot access one another. They do nothing more than CRUD and any special logic goes into my service classes"},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1383314725,"post_id":19659319,"comment_id":29310064,"body_markdown":"Hmmm, One thing I strive to achieve is to keep any `IQueriable` object within DAL (or DAL implementation) and not exposing it to Service layer. This way I can take advantage of the innate power of `IQueriable` (If DAL implementation is based on EF) and meanwhile make the user layer(s) completely ignorant of how DAL works and what methods it supports and what it doesn&#39;t support. Not only because of this, but also in general I think Repositories can talk to each other","body":"Hmmm, One thing I strive to achieve is to keep any <code>IQueriable</code> object within DAL (or DAL implementation) and not exposing it to Service layer. This way I can take advantage of the innate power of <code>IQueriable</code> (If DAL implementation is based on EF) and meanwhile make the user layer(s) completely ignorant of how DAL works and what methods it supports and what it doesn&#39;t support. Not only because of this, but also in general I think Repositories can talk to each other"},{"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"score":0,"creation_date":1383315771,"post_id":19659319,"comment_id":29310607,"body_markdown":"@Alireza you can&#39;t access other repositories, but you can access all the `DbSets` on `DbContext`....oh bother","body":"@Alireza you can&#39;t access other repositories, but you can access all the <code>DbSets</code> on <code>DbContext</code>....oh bother"},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1383316369,"post_id":19659319,"comment_id":29310975,"body_markdown":"Exactly, and I think this is bad :)","body":"Exactly, and I think this is bad :)"},{"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"score":0,"creation_date":1383317739,"post_id":19659319,"comment_id":29311786,"body_markdown":"So...you will have two &quot;Unit-Of-Work&quot; implementations. The difference being that one has a `SaveChanges` and one doesn&#39;t?","body":"So...you will have two &quot;Unit-Of-Work&quot; implementations. The difference being that one has a <code>SaveChanges</code> and one doesn&#39;t?"},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1383320580,"post_id":19659319,"comment_id":29313356,"body_markdown":"UoW is a wrapper around DBContext. If you consider DBContext as just another UoW then yes we have two UoW,","body":"UoW is a wrapper around DBContext. If you consider DBContext as just another UoW then yes we have two UoW,"},{"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"score":0,"creation_date":1383325805,"post_id":19659319,"comment_id":29316274,"body_markdown":"@Alireza I was unclear. You need two wrappers around DbContext. One is a UOW that exposes SaveChanges and Repositories to the Service layer. The other exposes generic CRUD methods and Repositories to the Repositories. So they will be similar.","body":"@Alireza I was unclear. You need two wrappers around DbContext. One is a UOW that exposes SaveChanges and Repositories to the Service layer. The other exposes generic CRUD methods and Repositories to the Repositories. So they will be similar."},{"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"score":0,"creation_date":1383332185,"post_id":19659319,"comment_id":29319410,"body_markdown":"Repositories themselves expose whatever they support such as CRUD so I don&#39;t think it&#39;s necessary to tailor UoW to expose the methods again(however, I admit all of these varies from on architecture to the other depending on implementer idea). On the other hand, wrapping a shared instance of DBContext by two classes is the only descent solution I&#39;ve found so far to solve the problem. The only difference is that one of the wrappers dose not provide SaveChanges/Commit.","body":"Repositories themselves expose whatever they support such as CRUD so I don&#39;t think it&#39;s necessary to tailor UoW to expose the methods again(however, I admit all of these varies from on architecture to the other depending on implementer idea). On the other hand, wrapping a shared instance of DBContext by two classes is the only descent solution I&#39;ve found so far to solve the problem. The only difference is that one of the wrappers dose not provide SaveChanges/Commit."}],"tags":[],"owner":{"account_id":50398,"reputation":22428,"user_id":150342,"accept_rate":86,"display_name":"Colin"},"comment_count":11,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1383315479,"creation_date":1383052614,"answer_id":19659319,"question_id":19548531,"body_markdown":"Don&#39;t pass in the `UnitOfWork`, pass in an interface that has the methods you need. You can still implement that interface in the original concrete `UnitOfWork` implementation if you want:\r\n\r\n    public interface IDbContext\r\n    {\r\n       void Add&lt;T&gt;(T entity);\r\n    }\r\n    \r\n    public interface IUnitOfWork\r\n    {\r\n       void Commit();\r\n    }\r\n    \r\n    public class UnitOfWork : IDbContext, IUnitOfWork\r\n    {\r\n       public void Add&lt;T&gt;(T entity);\r\n       public void Commit();\r\n    }\r\n\r\n    public class RepositoryBase&lt;T&gt;\r\n    {\r\n        private IDbContext _c;\r\n    \r\n        public RepositoryBase(IDbContext c) \r\n        {\r\n           _c = c;\r\n        }\r\n    \r\n        public void Add(T entity)\r\n        {\r\n           _c.Add(entity)\r\n        }\r\n    }\r\n\r\n**EDIT**\r\n\r\n\r\nAfter posting this I had a rethink. Exposing the Add&lt;T&gt; method in the `UnitOfWork` implementation means it is a combination of the two patterns.\r\n \r\nI use Entity Framework in my own code and the [`DbContext`][1] used there is described as &quot;a combination of the Unit-Of-Work and Repository pattern&quot;. \r\n\r\nI think it is better to split the two, and that means I need two wrappers around `DbContext` one for the Unit Of Work bit and one for the Repository bit. And I do the repository wrapping in `RepositoryBase`. \r\n\r\nThe key difference is that I do not pass the `UnitOfWork` to the Repositories, I pass the `DbContext`. That does mean that the `BaseRepository` has access to a `SaveChanges` on the `DbContext`. And since the intention is that custom repositories should inherit `BaseRepository`, they get access to a `DbContext` too. It is therefore possible that a developer *could* add code in a custom repository that uses that `DbContext`. So I guess my &quot;wrapper&quot; is a bit leaky...\r\n\r\nSo is it worth creating another wrapper for the `DbContext` that can be passed to the repository constructors to close that off? Not sure that it is...\r\n\r\nExamples of passing the DbContext:\r\n\r\n[Implementing the Repository and Unit of Work ][2]\r\n\r\n[Repository and Unit of Work in Entity Framework][3]\r\n\r\n[John Papa&#39;s original source code][4]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/system.data.entity.dbcontext%28v=vs.103%29.aspx\r\n  [2]: http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application\r\n  [3]: https://stackoverflow.com/a/12820444/150342\r\n  [4]: https://github.com/johnpapa/CodeCamper","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>Don't pass in the <code>UnitOfWork</code>, pass in an interface that has the methods you need. You can still implement that interface in the original concrete <code>UnitOfWork</code> implementation if you want:</p>\n\n<pre><code>public interface IDbContext\n{\n   void Add&lt;T&gt;(T entity);\n}\n\npublic interface IUnitOfWork\n{\n   void Commit();\n}\n\npublic class UnitOfWork : IDbContext, IUnitOfWork\n{\n   public void Add&lt;T&gt;(T entity);\n   public void Commit();\n}\n\npublic class RepositoryBase&lt;T&gt;\n{\n    private IDbContext _c;\n\n    public RepositoryBase(IDbContext c) \n    {\n       _c = c;\n    }\n\n    public void Add(T entity)\n    {\n       _c.Add(entity)\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>After posting this I had a rethink. Exposing the Add method in the <code>UnitOfWork</code> implementation means it is a combination of the two patterns.</p>\n\n<p>I use Entity Framework in my own code and the <a href=\"http://msdn.microsoft.com/en-us/library/system.data.entity.dbcontext%28v=vs.103%29.aspx\" rel=\"nofollow noreferrer\"><code>DbContext</code></a> used there is described as \"a combination of the Unit-Of-Work and Repository pattern\". </p>\n\n<p>I think it is better to split the two, and that means I need two wrappers around <code>DbContext</code> one for the Unit Of Work bit and one for the Repository bit. And I do the repository wrapping in <code>RepositoryBase</code>. </p>\n\n<p>The key difference is that I do not pass the <code>UnitOfWork</code> to the Repositories, I pass the <code>DbContext</code>. That does mean that the <code>BaseRepository</code> has access to a <code>SaveChanges</code> on the <code>DbContext</code>. And since the intention is that custom repositories should inherit <code>BaseRepository</code>, they get access to a <code>DbContext</code> too. It is therefore possible that a developer <em>could</em> add code in a custom repository that uses that <code>DbContext</code>. So I guess my \"wrapper\" is a bit leaky...</p>\n\n<p>So is it worth creating another wrapper for the <code>DbContext</code> that can be passed to the repository constructors to close that off? Not sure that it is...</p>\n\n<p>Examples of passing the DbContext:</p>\n\n<p><a href=\"http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application\" rel=\"nofollow noreferrer\">Implementing the Repository and Unit of Work </a></p>\n\n<p><a href=\"https://stackoverflow.com/a/12820444/150342\">Repository and Unit of Work in Entity Framework</a></p>\n\n<p><a href=\"https://github.com/johnpapa/CodeCamper\" rel=\"nofollow noreferrer\">John Papa's original source code</a></p>\n"},{"tags":[],"owner":{"account_id":248538,"reputation":8111,"user_id":523949,"accept_rate":50,"display_name":"Tengiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383168053,"creation_date":1383166994,"answer_id":19693754,"question_id":19548531,"body_markdown":"Yes, this question is a concern to me, and here&#39;s how I handle it.\r\n\r\nFirst of all, in my understanding Domain Model should not know about Unit of Work. Domain Model consists of interfaces (or abstract classes) that don&#39;t imply the existence of the transactional storage. In fact, it does not know about the existence of *any* storage at all. Hence the term Domain *Model*.\r\n\r\nUnit of Work is present in the *Domain Model Implementation* layer. I guess this is my term, and by that I mean a layer that implements Domain Model interfaces by incorporating Data Access Layer. Usually, I use ORM as DAL and therefore it comes with built-in UoW in it (Entity Framework SaveChanges or SubmitChanges method to commit the pending changes). However, that one belongs to DAL and does not need any inventor&#39;s magic. \r\n\r\nOn the other hand, you are referring to the UoW that you need to have in Domain Model Implementation layer because you need to abstract away the part of &quot;committing changes to DAL&quot;. For that, I would go with Anders Abel&#39;s solution (recursive scropes), because that addresses two things you need to solve **in one shot**:\r\n\r\n- You need to support saving of aggregates as one transaction, if the aggregate is an initiator of the scope.\r\n- You need to support saving of aggregates as part of the *parent* transaction, if the aggregate is not the initiator of the scope, but is part of it.","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>Yes, this question is a concern to me, and here's how I handle it.</p>\n\n<p>First of all, in my understanding Domain Model should not know about Unit of Work. Domain Model consists of interfaces (or abstract classes) that don't imply the existence of the transactional storage. In fact, it does not know about the existence of <em>any</em> storage at all. Hence the term Domain <em>Model</em>.</p>\n\n<p>Unit of Work is present in the <em>Domain Model Implementation</em> layer. I guess this is my term, and by that I mean a layer that implements Domain Model interfaces by incorporating Data Access Layer. Usually, I use ORM as DAL and therefore it comes with built-in UoW in it (Entity Framework SaveChanges or SubmitChanges method to commit the pending changes). However, that one belongs to DAL and does not need any inventor's magic. </p>\n\n<p>On the other hand, you are referring to the UoW that you need to have in Domain Model Implementation layer because you need to abstract away the part of \"committing changes to DAL\". For that, I would go with Anders Abel's solution (recursive scropes), because that addresses two things you need to solve <strong>in one shot</strong>:</p>\n\n<ul>\n<li>You need to support saving of aggregates as one transaction, if the aggregate is an initiator of the scope.</li>\n<li>You need to support saving of aggregates as part of the <em>parent</em> transaction, if the aggregate is not the initiator of the scope, but is part of it.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1045290,"reputation":1634,"user_id":1727453,"display_name":"Chalky"},"score":1,"creation_date":1415140123,"post_id":24791466,"comment_id":42077778,"body_markdown":"My answer is poor.  Please ignore.  \n\nSo, how to handle nested business transactions?  I&#39;ve been pondering this for a while.  This is a thought, not an answer, as it&#39;s not tested: Should the controller perform the commit, and then don&#39;t make the commit available to the repositories/service objects?","body":"My answer is poor.  Please ignore.    So, how to handle nested business transactions?  I&#39;ve been pondering this for a while.  This is a thought, not an answer, as it&#39;s not tested: Should the controller perform the commit, and then don&#39;t make the commit available to the repositories/service objects?"},{"owner":{"account_id":18237,"reputation":2451,"user_id":41621,"display_name":"David Kirkland"},"score":2,"creation_date":1449568723,"post_id":24791466,"comment_id":56052473,"body_markdown":"You&#39;ve been re-thinking too much IMO. There is no &quot;standard&quot; (or perfect) implementation of UoW because the implementation depends, to some extent, on the ORM being used. But I think you have captured the intent of the pattern very well in your answer.","body":"You&#39;ve been re-thinking too much IMO. There is no &quot;standard&quot; (or perfect) implementation of UoW because the implementation depends, to some extent, on the ORM being used. But I think you have captured the intent of the pattern very well in your answer."},{"owner":{"account_id":1045290,"reputation":1634,"user_id":1727453,"display_name":"Chalky"},"score":0,"creation_date":1481492457,"post_id":24791466,"comment_id":69387753,"body_markdown":"True.  I think my answer is OK, in a non-DDD situation, where you&#39;ve got  navigation properties, and you have transactions spanning multiple repositories.  Something not focussed on much: Fowler&#39;s repository definition is &#39;business objects&#39;.","body":"True.  I think my answer is OK, in a non-DDD situation, where you&#39;ve got  navigation properties, and you have transactions spanning multiple repositories.  Something not focussed on much: Fowler&#39;s repository definition is &#39;business objects&#39;."}],"tags":[],"owner":{"account_id":1045290,"reputation":1634,"user_id":1727453,"display_name":"Chalky"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1405547619,"creation_date":1405547619,"answer_id":24791466,"question_id":19548531,"body_markdown":"Make your repositories members of your UoW.  Don&#39;t let your repositories &#39;see&#39; your UoW.  Let UoW handle the transaction.","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>Make your repositories members of your UoW.  Don't let your repositories 'see' your UoW.  Let UoW handle the transaction.</p>\n"},{"tags":[],"owner":{"account_id":5630932,"reputation":191,"user_id":4457911,"display_name":"logan gilley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473678687,"creation_date":1473678687,"answer_id":39449017,"question_id":19548531,"body_markdown":"I too have been recently researching this design pattern and by utilizing the Unit Of Work and Generic Repository Pattern I was able to extract the Unit of Work &quot;Save Changes&quot; for the Repository implementation. My code is as follows:\r\n\r\n    public class GenericRepository&lt;T&gt; where T : class\r\n    {\r\n      private MyDatabase _Context;\r\n      private DbSet&lt;T&gt; dbset;\r\n    \r\n      public GenericRepository(MyDatabase context)\r\n      {\r\n        _Context = context;\r\n        dbSet = context.Set&lt;T&gt;();\r\n      }\r\n    \r\n      public T Get(int id)\r\n      {\r\n        return dbSet.Find(id);\r\n      }\r\n\r\n      public IEnumerable&lt;T&gt; GetAll()\r\n      {\r\n        return dbSet&lt;T&gt;.ToList();\r\n      }\r\n\r\n      public IEnumerable&lt;T&gt; Where(Expression&lt;Func&lt;T&gt;, bool&gt;&gt; predicate)\r\n      {\r\n        return dbSet.Where(predicate);\r\n      }\r\n      ...\r\n      ...\r\n    }\r\nEssentially all we are doing is passing in the data context and utilizing the entity framework&#39;s dbSet methods for basic Get, GetAll, Add, AddRange, Remove, RemoveRange, and Where.\r\n\r\nNow we will create a generic interface to expose these methods.\r\n\r\n    public interface &lt;IGenericRepository&lt;T&gt; where T : class\r\n    {\r\n      T Get(int id);\r\n      IEnumerable&lt;T&gt; GetAll();\r\n      IEnumerabel&lt;T&gt; Where(Expression&lt;Func&lt;T, bool&gt;&gt; predicate);\r\n      ...\r\n      ...\r\n    }\r\n\r\nNow we would want to create an interface for each entity in entity Framework and inherit from IGenericRepository so that the interface will expect to have the method signatures implemented within the inherited repositories.  \r\n\r\nExample:\r\n\r\n    public interface ITable1 : IGenericRepository&lt;table1&gt;\r\n    {\r\n    }\r\nYou will follow this same pattern with all of your entities. You will also add any function signatures in these interfaces that are specific to the entities. This would result in the repositories needing to implement the GenericRepository methods and any custom methods defined in the interfaces. \r\n\r\nFor the Repositories we will implement them like this.\r\n\r\n    public class Table1Repository : GenericRepository&lt;table1&gt;, ITable1\r\n    {\r\n      private MyDatabase _context;\r\n\r\n      public Table1Repository(MyDatabase context) : base(context)\r\n      {\r\n        _context = context;\r\n      }\r\n    } \r\n\r\nIn the example repository above I am creating the table1 repository and inheriting the GenericRepository with a type of &quot;table1&quot; then I inherit from the ITable1 interface. This will automatically implement the generic dbSet methods for me, thus allowing me to only focus on my custom repository methods if any. As I pass the dbContext to the constructor I must also pass the dbContext to the base Generic Repository as well. \r\n\r\nNow from here I will go and create the Unit of Work repository and Interface. \r\n\r\n    public interface IUnitOfWork\r\n    {\r\n      ITable1 table1 {get;}\r\n      ...\r\n      ...\r\n      list all other repository interfaces here.\r\n    \r\n      void SaveChanges();\r\n    } \r\n\r\n    public class UnitOfWork : IUnitOfWork\r\n    {\r\n      private readonly MyDatabase _context;\r\n      public ITable1 Table1 {get; private set;}\r\n\r\n      public UnitOfWork(MyDatabase context)\r\n      {\r\n        _context = context; \r\n\r\n        // Initialize all of your repositories here\r\n        Table1 = new Table1Repository(_context);\r\n        ...\r\n        ...\r\n      }\r\n    \r\n      public void SaveChanges()\r\n      {\r\n        _context.SaveChanges();\r\n      }\r\n    }\r\n\r\nI handle my transaction scope on a custom controller that all other controllers in my system inherit from. This controller inherits from the default MVC controller. \r\n\r\n    public class DefaultController : Controller\r\n    {\r\n      protected IUnitOfWork UoW;\r\n\r\n      protected override void OnActionExecuting(ActionExecutingContext filterContext)\r\n      {\r\n        UoW = new UnitOfWork(new MyDatabase());\r\n      }\r\n\r\n      protected override void OnActionExecuted(ActionExecutedContext filterContext) \r\n      {\r\n        UoW.SaveChanges();\r\n      }\r\n    }\r\n\r\nBy implementing your code this way. Every time a request is made to the server at the beginning of an action a new UnitOfWork will be created and will automatically create all the repositories and make them accessible to the UoW variable in your controller or classes. This will also remove your SaveChanges() from your repositories and place it within the UnitOfWork repository. And last this pattern is able to utilize only a single dbContext throughout the system via dependency injection. \r\n\r\nIf you are concerned about parent/child updates with a singular context you could utilize stored procedures for your update, insert, and delete functions and utilize entity framework for your access methods. ","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>I too have been recently researching this design pattern and by utilizing the Unit Of Work and Generic Repository Pattern I was able to extract the Unit of Work \"Save Changes\" for the Repository implementation. My code is as follows:</p>\n\n<pre><code>public class GenericRepository&lt;T&gt; where T : class\n{\n  private MyDatabase _Context;\n  private DbSet&lt;T&gt; dbset;\n\n  public GenericRepository(MyDatabase context)\n  {\n    _Context = context;\n    dbSet = context.Set&lt;T&gt;();\n  }\n\n  public T Get(int id)\n  {\n    return dbSet.Find(id);\n  }\n\n  public IEnumerable&lt;T&gt; GetAll()\n  {\n    return dbSet&lt;T&gt;.ToList();\n  }\n\n  public IEnumerable&lt;T&gt; Where(Expression&lt;Func&lt;T&gt;, bool&gt;&gt; predicate)\n  {\n    return dbSet.Where(predicate);\n  }\n  ...\n  ...\n}\n</code></pre>\n\n<p>Essentially all we are doing is passing in the data context and utilizing the entity framework's dbSet methods for basic Get, GetAll, Add, AddRange, Remove, RemoveRange, and Where.</p>\n\n<p>Now we will create a generic interface to expose these methods.</p>\n\n<pre><code>public interface &lt;IGenericRepository&lt;T&gt; where T : class\n{\n  T Get(int id);\n  IEnumerable&lt;T&gt; GetAll();\n  IEnumerabel&lt;T&gt; Where(Expression&lt;Func&lt;T, bool&gt;&gt; predicate);\n  ...\n  ...\n}\n</code></pre>\n\n<p>Now we would want to create an interface for each entity in entity Framework and inherit from IGenericRepository so that the interface will expect to have the method signatures implemented within the inherited repositories.  </p>\n\n<p>Example:</p>\n\n<pre><code>public interface ITable1 : IGenericRepository&lt;table1&gt;\n{\n}\n</code></pre>\n\n<p>You will follow this same pattern with all of your entities. You will also add any function signatures in these interfaces that are specific to the entities. This would result in the repositories needing to implement the GenericRepository methods and any custom methods defined in the interfaces. </p>\n\n<p>For the Repositories we will implement them like this.</p>\n\n<pre><code>public class Table1Repository : GenericRepository&lt;table1&gt;, ITable1\n{\n  private MyDatabase _context;\n\n  public Table1Repository(MyDatabase context) : base(context)\n  {\n    _context = context;\n  }\n} \n</code></pre>\n\n<p>In the example repository above I am creating the table1 repository and inheriting the GenericRepository with a type of \"table1\" then I inherit from the ITable1 interface. This will automatically implement the generic dbSet methods for me, thus allowing me to only focus on my custom repository methods if any. As I pass the dbContext to the constructor I must also pass the dbContext to the base Generic Repository as well. </p>\n\n<p>Now from here I will go and create the Unit of Work repository and Interface. </p>\n\n<pre><code>public interface IUnitOfWork\n{\n  ITable1 table1 {get;}\n  ...\n  ...\n  list all other repository interfaces here.\n\n  void SaveChanges();\n} \n\npublic class UnitOfWork : IUnitOfWork\n{\n  private readonly MyDatabase _context;\n  public ITable1 Table1 {get; private set;}\n\n  public UnitOfWork(MyDatabase context)\n  {\n    _context = context; \n\n    // Initialize all of your repositories here\n    Table1 = new Table1Repository(_context);\n    ...\n    ...\n  }\n\n  public void SaveChanges()\n  {\n    _context.SaveChanges();\n  }\n}\n</code></pre>\n\n<p>I handle my transaction scope on a custom controller that all other controllers in my system inherit from. This controller inherits from the default MVC controller. </p>\n\n<pre><code>public class DefaultController : Controller\n{\n  protected IUnitOfWork UoW;\n\n  protected override void OnActionExecuting(ActionExecutingContext filterContext)\n  {\n    UoW = new UnitOfWork(new MyDatabase());\n  }\n\n  protected override void OnActionExecuted(ActionExecutedContext filterContext) \n  {\n    UoW.SaveChanges();\n  }\n}\n</code></pre>\n\n<p>By implementing your code this way. Every time a request is made to the server at the beginning of an action a new UnitOfWork will be created and will automatically create all the repositories and make them accessible to the UoW variable in your controller or classes. This will also remove your SaveChanges() from your repositories and place it within the UnitOfWork repository. And last this pattern is able to utilize only a single dbContext throughout the system via dependency injection. </p>\n\n<p>If you are concerned about parent/child updates with a singular context you could utilize stored procedures for your update, insert, and delete functions and utilize entity framework for your access methods. </p>\n"},{"comments":[{"owner":{"account_id":7983874,"reputation":7191,"user_id":6024122,"accept_rate":100,"display_name":"Patrick Trentin"},"score":0,"creation_date":1508965813,"post_id":46941740,"comment_id":80831571,"body_markdown":"You provide sensible suggestions to the question, however, keep in mind that the *Question/Answer* format adopted by *Stackoverflow* is not that of a *discussion usergroup/forum*, so your answer could actually be improved by removing some unnecessary comments. Still, +1.","body":"You provide sensible suggestions to the question, however, keep in mind that the <i>Question/Answer</i> format adopted by <i>Stackoverflow</i> is not that of a <i>discussion usergroup/forum</i>, so your answer could actually be improved by removing some unnecessary comments. Still, +1."}],"tags":[],"owner":{"account_id":9093223,"reputation":101,"user_id":6768116,"display_name":"Patrick Farry"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696747013,"creation_date":1508964264,"answer_id":46941740,"question_id":19548531,"body_markdown":"Taking inspiration from databases, transaction controllers and the two phase commit protocol, the following changes to the patterns should work for you.\r\n\r\n 1. Implement the unit of work interface described in Fowler&#39;s P of EAA book, but inject the repository into each UoW method.\r\n 2. Inject the unit of work into each repository operation.\r\n 3. Each repository operation calls the appropriate UoW operation and injects itself.\r\n 4. Implement the two phase commit methods CanCommit(), Commit() and Rollback() in the repositories.\r\n 5. If required, commit on the UoW can run Commit on each repository or it can commit to the data store itself. It can also implement a 2 phase commit if that is what you want.\r\n\r\nHaving done this, you can support a number of different configurations depending on how you implement the repositories and the UoW. E.g., from simple data store without transactions, single RDBMs, multiple heterogeneous data stores etc. The data stores and their interactions can be either in the repositories or in the UoW, as the situation requires.\r\n\r\n    interface IEntity\r\n    {\r\n        int Id {get;set;}\r\n    }\r\n\r\n    interface IUnitOfWork()\r\n    {\r\n        void RegisterNew(IRepsitory repository, IEntity entity);\r\n        void RegisterDirty(IRepository respository, IEntity entity);\r\n        //etc.\r\n        bool Commit();\r\n        bool Rollback();\r\n    }\r\n\r\n    interface IRepository&lt;T&gt;() : where T : IEntity;\r\n    {\r\n        void Add(IEntity entity, IUnitOfWork uow);\r\n        //etc.\r\n        bool CanCommit(IUnitOfWork uow);\r\n        void Commit(IUnitOfWork uow);\r\n        void Rollback(IUnitOfWork uow);\r\n    }\r\n\r\nUser code is always the same regardless of the DB implementations and looks like this:\r\n\r\n    // ...\r\n    var uow = new MyUnitOfWork();\r\n\r\n    repo1.Add(entity1, uow);\r\n    repo2.Add(entity2, uow);\r\n    uow.Commit();\r\n\r\nBack to the original post. Because we are method injecting the UoW into each repo operation the UoW does not need to be stored by each repository, meaning Commit() on the Repository can be stubbed out, with Commit on the UoW doing the actual DB commit.\r\n","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>Taking inspiration from databases, transaction controllers and the two phase commit protocol, the following changes to the patterns should work for you.</p>\n<ol>\n<li>Implement the unit of work interface described in Fowler's P of EAA book, but inject the repository into each UoW method.</li>\n<li>Inject the unit of work into each repository operation.</li>\n<li>Each repository operation calls the appropriate UoW operation and injects itself.</li>\n<li>Implement the two phase commit methods CanCommit(), Commit() and Rollback() in the repositories.</li>\n<li>If required, commit on the UoW can run Commit on each repository or it can commit to the data store itself. It can also implement a 2 phase commit if that is what you want.</li>\n</ol>\n<p>Having done this, you can support a number of different configurations depending on how you implement the repositories and the UoW. E.g., from simple data store without transactions, single RDBMs, multiple heterogeneous data stores etc. The data stores and their interactions can be either in the repositories or in the UoW, as the situation requires.</p>\n<pre><code>interface IEntity\n{\n    int Id {get;set;}\n}\n\ninterface IUnitOfWork()\n{\n    void RegisterNew(IRepsitory repository, IEntity entity);\n    void RegisterDirty(IRepository respository, IEntity entity);\n    //etc.\n    bool Commit();\n    bool Rollback();\n}\n\ninterface IRepository&lt;T&gt;() : where T : IEntity;\n{\n    void Add(IEntity entity, IUnitOfWork uow);\n    //etc.\n    bool CanCommit(IUnitOfWork uow);\n    void Commit(IUnitOfWork uow);\n    void Rollback(IUnitOfWork uow);\n}\n</code></pre>\n<p>User code is always the same regardless of the DB implementations and looks like this:</p>\n<pre><code>// ...\nvar uow = new MyUnitOfWork();\n\nrepo1.Add(entity1, uow);\nrepo2.Add(entity2, uow);\nuow.Commit();\n</code></pre>\n<p>Back to the original post. Because we are method injecting the UoW into each repo operation the UoW does not need to be stored by each repository, meaning Commit() on the Repository can be stubbed out, with Commit on the UoW doing the actual DB commit.</p>\n"},{"tags":[],"owner":{"account_id":8085031,"reputation":1536,"user_id":6092856,"display_name":"ArwynFr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696747338,"creation_date":1610502248,"answer_id":65694543,"question_id":19548531,"body_markdown":"### In a very simple application\r\n\r\nIn some applications, the domain model and the database entities are identical, and there isn&#39;t any need to do any data mapping between them. Let&#39;s call them &quot;domain entities&quot;. In such applications, the `DbContext` can act both as a repository **and** a unit of work simultaneously. Instead of doing some complicated patterns, we can simply use the context:\r\n\r\n```\r\npublic class CustomerController : Controller\r\n{\r\n    private readonly CustomerContext context; // injected\r\n\r\n    [HttpPost]\r\n    public IActionResult Update(CustomerUpdateDetails viewmodel)\r\n    {\r\n        // [Repository] acting like an in-memory domain object collection\r\n        var person = context.Person.Find(viewmodel.Id);\r\n\r\n        // [UnitOfWork] keeps track of everything you do during a business transaction\r\n        person.Name = viewmodel.NewName;\r\n        person.AnotherComplexOperationWithBusinessRequirements();\r\n\r\n        // [UnitOfWork] figures out everything that needs to be done to alter the database\r\n        context.SaveChanges();\r\n    }\r\n}\r\n```\r\n\r\n### Complex queries on larger applications\r\n\r\nIf your application gets more complex, you&#39;ll start writing some large [LINQ][1] queries in order to access your data. In that situation, you&#39;ll probably need to introduce a new layer that handle these queries, in order to prevent yourself from copy pasting them across your controllers. In that situation, you&#39;ll end up having two different layers, the unit of work pattern implemented by the `DbContext`, and the repository pattern that will simply provide some LINQ results executing over the former. Your controller is expected to call the repository to get the entities, change their state and then call the DbContext to persist the changes to the database, but proxying the `DbContext.SaveChanges()` through the repository object is an acceptable approximation:\r\n\r\n```\r\npublic class PersonRepository\r\n{\r\n    private readonly PersonDbContext context;\r\n    public Person GetClosestTo(GeoCoordinate location) {} // redacted\r\n}\r\n```\r\n\r\n```\r\npublic class PersonController\r\n{\r\n    private readonly PersonRepository repository;\r\n    private readonly PersonDbContext context; // requires to Equals repository.context\r\n\r\n    public IActionResult Action()\r\n    {\r\n        var person = repository.GetClosestTo(new GeoCoordinate());\r\n        person.DoSomething();\r\n        context.SaveChanges();\r\n        // repository.SaveChanges(); would save the injection of the DbContext\r\n    }\r\n}\r\n```\r\n\r\n### [DDD][2] applications\r\n\r\nIt gets more interesting when domain models and entities are two different group of classes. This will happen when you will start implementing DDD, as this requires you to define some aggregates, which are clusters of domain objects that can be treated as a single unit. The structure of aggregates does not always perfectly map to your relational database schema, as it can provides multiple level of abstractions depending on the use case you&#39;re dealing with.\r\n\r\nFor instance, an aggregate may allow a user to manage multiple addresses, but in another business context you&#39;ll might want to flatten the model and limit the modeling of the person&#39;s address to the latest value only:\r\n\r\n```\r\npublic class PersonEntity\r\n{\r\n    [Key]\r\n    public int Id { get; set; }\r\n    public string Name { get; set; }\r\n    public bool IsValid { get; set; }\r\n    public ICollection&lt;AddressEntity&gt; Addresses { get; set; }\r\n}\r\n\r\npublic class AddressEntity\r\n{\r\n    [Key]\r\n    public int Id { get; set; }\r\n    public string Value { get; set; }\r\n    public DateTime Since { get; set; }\r\n    public PersonEntity Person { get; set; }\r\n}\r\n\r\npublic class Person\r\n{\r\n    public int Id { get; set; }\r\n    public string Name { get; set; }\r\n    public string CurrentAddressValue { get; private set; }\r\n}\r\n```\r\n\r\n#### Implementing the unit of work pattern\r\n\r\nFirst let&#39;s get back to the definition:\r\n\r\n&gt; A unit of work keeps track of everything you do during a business transaction that can affect the database. When you&#39;re done, it figures out everything that needs to be done to alter the database as a result of your work.\r\n\r\nThe `DbContext` keeps tracks of every modification that happens to entities and will persist them to the database once you call the `SaveChanges()` method. Like in the simpler example, unit of work is exactly what the `DbContext` does, and using it as a unit of work is actually [how Microsoft suggest you&#39;d structure a .NET application using DDD][3].\r\n\r\n#### Implementing the repository pattern\r\n\r\nOnce again, let&#39;s get back to the definition:\r\n\r\n&gt; A repository mediates between the domain and data mapping layers, acting like an in-memory domain object collection.\r\n\r\nThe `DbContext`, cannot act as a repository. Although it behaves as an in-memory collection of entities, it does not act as an in-memory collection of **domain objects**. In that situation, we must implement another class for the repository, that will act as our in-memory collection of domain models, and will map data from entities to domain models. However, you will find a lot of implementations that are simply a projection of the DbSet in the domain model and provide `IList`-like methods that simply maps entities back and reproduce the operations on the `DbSet&lt;T&gt;`.\r\n\r\nAlthough this implementation might be valid in multiple situations, it ***overemphasizes*** the *collection* part, and not enough on the *mediator* part of the definition.\r\n\r\nA repository is a mediator between the domain layer and the infrastructure layer, which means its interface is defined in the domain layer. Methods described in the interface are defined in the domain layer, and they all must have a meaning in the business context of the program. Ubiquitous language being a central concept of DDD, these methods must provide a meaningful name, and perhaps &quot;adding a person&quot; is not the right business way to name this operation.\r\n\r\nAlso, all persistence-related concepts are strictly limited to the implementation of the repository. The implementation defines how a given business operation translates in the infrastructure layer, as a series of entities manipulation that will eventually be persisted to the database through an atomic database transaction.  Also note that the `Add` operation on a domain model does not necessarily implies an `INSERT` statement in the database and a `Remove` will sometimes end up in an `UPDATE` or even multiple `INSERT` statements !\r\n\r\nActually, here is a pretty valid implementation of a repository pattern:\r\n\r\n```\r\npublic class Person\r\n{\r\n    public void EnsureEnrollable(IPersonRepository repository)\r\n    {\r\n        if(!repository.IsEnrollable(this))\r\n        {\r\n            throw new BusinessException&lt;PersonError&gt;(PersonError.CannotEnroll);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class PersonRepository : IPersonRepository\r\n{\r\n    private readonly PersonDbContext context;\r\n\r\n    public IEnumerable&lt;Person&gt; GetAll()\r\n    {\r\n        return context.Persons.AsNoTracking()\r\n            .Where(person =&gt; person.Active)\r\n            .ProjectTo&lt;Person&gt;().ToList();\r\n    }\r\n\r\n    public Person Enroll(Person person)\r\n    {\r\n        person.EnsureEnrollable(this);\r\n        context.Persons.Find(person.Id).Active = true;\r\n        context.SaveChanges(); // UPDATE statement\r\n        return person;\r\n    }\r\n\r\n    public bool IsEnrollable(Person person)\r\n    {\r\n        return context.Persons.Any(entity =&gt; entity.Id == person.Id &amp;&amp; !entity.Active);\r\n    }\r\n}\r\n```\r\n\r\n### Business transaction\r\n\r\nYou&#39;re saying a purpose of using unit of work is to form a *business transaction*, which is wrong. The purpose of the unit of work class is to *keeps track of everything you do during a business transaction that can affect the database*, to *alter the database as a result of your work* in an **atomic** operation. The repositories do share the unit of work instances, but bear in mind that dependency injection usually uses a scoped lifetime manager when injecting dbcontext. This means that instances are only shared within the same http request context, and different requests will not share changes tracking. Using a singleton lifetime manager will share instances among different http request which will provoke havoc in your application.\r\n\r\nCalling the unit of work save changes method from a repository is actually how you are expected to implementation a DDD application. The repository is the class that knows about the actual implementation of the persistence layer, and that will orchestrate all database operations to commit/rollback at the end of transaction. Saving changes from another repository when calling save changes is also **the expected behavior** of the unit of work pattern. The unit of work accumulates all changes made by all repositories until someone calls a commit or a rollback. If a repository makes changes to the context that are not expected to be persisted in the database, then the problem is not the unit of work persisting these changes, but the repository doing these changes.\r\n\r\nHowever, if your application does one atomic save changes that persists change operations from multiple repositories, it probably violates one of the DDD design principles. A repository is a one-to-one mapping with an aggregate, and an aggregate is a cluster of domain objects that can be treated as a single unit. If you are using multiple repositories, then you are trying to modify multiple units of data in a single transaction.\r\n\r\nEither your aggregate is designed too small, and you need to make a larger one that holds all data for your single transaction, with a repository that will handle all that data in a single transaction; either you&#39;re trying to make a complex transaction that spans over a wide part of your model, and you will need to implement this transaction with eventual consistency.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Language_Integrated_Query\r\n  [2]: https://en.wikipedia.org/wiki/Domain-driven_design\r\n  [3]: https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design\r\n\r\n\r\n","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<h3>In a very simple application</h3>\n<p>In some applications, the domain model and the database entities are identical, and there isn't any need to do any data mapping between them. Let's call them &quot;domain entities&quot;. In such applications, the <code>DbContext</code> can act both as a repository <strong>and</strong> a unit of work simultaneously. Instead of doing some complicated patterns, we can simply use the context:</p>\n<pre><code>public class CustomerController : Controller\n{\n    private readonly CustomerContext context; // injected\n\n    [HttpPost]\n    public IActionResult Update(CustomerUpdateDetails viewmodel)\n    {\n        // [Repository] acting like an in-memory domain object collection\n        var person = context.Person.Find(viewmodel.Id);\n\n        // [UnitOfWork] keeps track of everything you do during a business transaction\n        person.Name = viewmodel.NewName;\n        person.AnotherComplexOperationWithBusinessRequirements();\n\n        // [UnitOfWork] figures out everything that needs to be done to alter the database\n        context.SaveChanges();\n    }\n}\n</code></pre>\n<h3>Complex queries on larger applications</h3>\n<p>If your application gets more complex, you'll start writing some large <a href=\"https://en.wikipedia.org/wiki/Language_Integrated_Query\" rel=\"nofollow noreferrer\">LINQ</a> queries in order to access your data. In that situation, you'll probably need to introduce a new layer that handle these queries, in order to prevent yourself from copy pasting them across your controllers. In that situation, you'll end up having two different layers, the unit of work pattern implemented by the <code>DbContext</code>, and the repository pattern that will simply provide some LINQ results executing over the former. Your controller is expected to call the repository to get the entities, change their state and then call the DbContext to persist the changes to the database, but proxying the <code>DbContext.SaveChanges()</code> through the repository object is an acceptable approximation:</p>\n<pre><code>public class PersonRepository\n{\n    private readonly PersonDbContext context;\n    public Person GetClosestTo(GeoCoordinate location) {} // redacted\n}\n</code></pre>\n<pre><code>public class PersonController\n{\n    private readonly PersonRepository repository;\n    private readonly PersonDbContext context; // requires to Equals repository.context\n\n    public IActionResult Action()\n    {\n        var person = repository.GetClosestTo(new GeoCoordinate());\n        person.DoSomething();\n        context.SaveChanges();\n        // repository.SaveChanges(); would save the injection of the DbContext\n    }\n}\n</code></pre>\n<h3><a href=\"https://en.wikipedia.org/wiki/Domain-driven_design\" rel=\"nofollow noreferrer\">DDD</a> applications</h3>\n<p>It gets more interesting when domain models and entities are two different group of classes. This will happen when you will start implementing DDD, as this requires you to define some aggregates, which are clusters of domain objects that can be treated as a single unit. The structure of aggregates does not always perfectly map to your relational database schema, as it can provides multiple level of abstractions depending on the use case you're dealing with.</p>\n<p>For instance, an aggregate may allow a user to manage multiple addresses, but in another business context you'll might want to flatten the model and limit the modeling of the person's address to the latest value only:</p>\n<pre><code>public class PersonEntity\n{\n    [Key]\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public bool IsValid { get; set; }\n    public ICollection&lt;AddressEntity&gt; Addresses { get; set; }\n}\n\npublic class AddressEntity\n{\n    [Key]\n    public int Id { get; set; }\n    public string Value { get; set; }\n    public DateTime Since { get; set; }\n    public PersonEntity Person { get; set; }\n}\n\npublic class Person\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public string CurrentAddressValue { get; private set; }\n}\n</code></pre>\n<h4>Implementing the unit of work pattern</h4>\n<p>First let's get back to the definition:</p>\n<blockquote>\n<p>A unit of work keeps track of everything you do during a business transaction that can affect the database. When you're done, it figures out everything that needs to be done to alter the database as a result of your work.</p>\n</blockquote>\n<p>The <code>DbContext</code> keeps tracks of every modification that happens to entities and will persist them to the database once you call the <code>SaveChanges()</code> method. Like in the simpler example, unit of work is exactly what the <code>DbContext</code> does, and using it as a unit of work is actually <a href=\"https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design\" rel=\"nofollow noreferrer\">how Microsoft suggest you'd structure a .NET application using DDD</a>.</p>\n<h4>Implementing the repository pattern</h4>\n<p>Once again, let's get back to the definition:</p>\n<blockquote>\n<p>A repository mediates between the domain and data mapping layers, acting like an in-memory domain object collection.</p>\n</blockquote>\n<p>The <code>DbContext</code>, cannot act as a repository. Although it behaves as an in-memory collection of entities, it does not act as an in-memory collection of <strong>domain objects</strong>. In that situation, we must implement another class for the repository, that will act as our in-memory collection of domain models, and will map data from entities to domain models. However, you will find a lot of implementations that are simply a projection of the DbSet in the domain model and provide <code>IList</code>-like methods that simply maps entities back and reproduce the operations on the <code>DbSet&lt;T&gt;</code>.</p>\n<p>Although this implementation might be valid in multiple situations, it <em><strong>overemphasizes</strong></em> the <em>collection</em> part, and not enough on the <em>mediator</em> part of the definition.</p>\n<p>A repository is a mediator between the domain layer and the infrastructure layer, which means its interface is defined in the domain layer. Methods described in the interface are defined in the domain layer, and they all must have a meaning in the business context of the program. Ubiquitous language being a central concept of DDD, these methods must provide a meaningful name, and perhaps &quot;adding a person&quot; is not the right business way to name this operation.</p>\n<p>Also, all persistence-related concepts are strictly limited to the implementation of the repository. The implementation defines how a given business operation translates in the infrastructure layer, as a series of entities manipulation that will eventually be persisted to the database through an atomic database transaction.  Also note that the <code>Add</code> operation on a domain model does not necessarily implies an <code>INSERT</code> statement in the database and a <code>Remove</code> will sometimes end up in an <code>UPDATE</code> or even multiple <code>INSERT</code> statements !</p>\n<p>Actually, here is a pretty valid implementation of a repository pattern:</p>\n<pre><code>public class Person\n{\n    public void EnsureEnrollable(IPersonRepository repository)\n    {\n        if(!repository.IsEnrollable(this))\n        {\n            throw new BusinessException&lt;PersonError&gt;(PersonError.CannotEnroll);\n        }\n    }\n}\n</code></pre>\n<pre><code>public class PersonRepository : IPersonRepository\n{\n    private readonly PersonDbContext context;\n\n    public IEnumerable&lt;Person&gt; GetAll()\n    {\n        return context.Persons.AsNoTracking()\n            .Where(person =&gt; person.Active)\n            .ProjectTo&lt;Person&gt;().ToList();\n    }\n\n    public Person Enroll(Person person)\n    {\n        person.EnsureEnrollable(this);\n        context.Persons.Find(person.Id).Active = true;\n        context.SaveChanges(); // UPDATE statement\n        return person;\n    }\n\n    public bool IsEnrollable(Person person)\n    {\n        return context.Persons.Any(entity =&gt; entity.Id == person.Id &amp;&amp; !entity.Active);\n    }\n}\n</code></pre>\n<h3>Business transaction</h3>\n<p>You're saying a purpose of using unit of work is to form a <em>business transaction</em>, which is wrong. The purpose of the unit of work class is to <em>keeps track of everything you do during a business transaction that can affect the database</em>, to <em>alter the database as a result of your work</em> in an <strong>atomic</strong> operation. The repositories do share the unit of work instances, but bear in mind that dependency injection usually uses a scoped lifetime manager when injecting dbcontext. This means that instances are only shared within the same http request context, and different requests will not share changes tracking. Using a singleton lifetime manager will share instances among different http request which will provoke havoc in your application.</p>\n<p>Calling the unit of work save changes method from a repository is actually how you are expected to implementation a DDD application. The repository is the class that knows about the actual implementation of the persistence layer, and that will orchestrate all database operations to commit/rollback at the end of transaction. Saving changes from another repository when calling save changes is also <strong>the expected behavior</strong> of the unit of work pattern. The unit of work accumulates all changes made by all repositories until someone calls a commit or a rollback. If a repository makes changes to the context that are not expected to be persisted in the database, then the problem is not the unit of work persisting these changes, but the repository doing these changes.</p>\n<p>However, if your application does one atomic save changes that persists change operations from multiple repositories, it probably violates one of the DDD design principles. A repository is a one-to-one mapping with an aggregate, and an aggregate is a cluster of domain objects that can be treated as a single unit. If you are using multiple repositories, then you are trying to modify multiple units of data in a single transaction.</p>\n<p>Either your aggregate is designed too small, and you need to make a larger one that holds all data for your single transaction, with a repository that will handle all that data in a single transaction; either you're trying to make a complex transaction that spans over a wide part of your model, and you will need to implement this transaction with eventual consistency.</p>\n"}],"owner":{"account_id":2031719,"reputation":10306,"user_id":1815231,"accept_rate":31,"display_name":"Alireza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51672,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":8,"score":63,"last_activity_date":1696747338,"creation_date":1382549575,"question_id":19548531,"body_markdown":"Combining the [unit of work][1] (UoW) and [repository pattern][2] is something used fairly widely nowadays. As [Martin Fowler says][3], a purpose of using UoW is to form a **business transaction** while being ignorant of how repositories actually work (being persistent ignorant). I&#39;ve reviewed many implementations; and ignoring specific details (concrete/abstract class, interface,...) they are more or less similar to what follows:\r\n\r\n    public class RepositoryBase&lt;T&gt;\r\n    {\r\n        private UoW _uow;\r\n        public RepositoryBase(UoW uow) // injecting UoW instance via constructor\r\n        {\r\n           _uow = uow;\r\n        }\r\n        public void Add(T entity)\r\n        {\r\n           // Add logic here\r\n        }\r\n        // +other CRUD methods\r\n    }\r\n\r\n    public class UoW\r\n    {\r\n        // Holding one repository per domain entity\r\n\r\n        public RepositoryBase&lt;Order&gt; OrderRep { get; set; }\r\n        public RepositoryBase&lt;Customer&gt; CustomerRep { get; set; }\r\n        // +other repositories\r\n\r\n        public void Commit()\r\n        {\r\n           // Pseudocode:\r\n           For all the contained repositories do:\r\n               store repository changes.\r\n        }\r\n    }\r\n\r\n**Now my problem:**\r\n\r\nUoW exposes public method **`Commit`** to store the changes. Also, because each repository has a shared instance of UoW, each `Repository` can access method `Commit` on UoW. Calling it by one repository makes all other repositories store their changes too; hence the result the whole concept of transaction collapses:\r\n\r\n    class Repository&lt;T&gt; : RepositoryBase&lt;T&gt;\r\n    {\r\n        private UoW _uow;\r\n        public void SomeMethod()\r\n        {\r\n            // Some processing or data manipulations here\r\n            _uow.Commit(); // Makes other repositories also save their changes\r\n        }\r\n    }\r\n\r\nI think this must be not allowed. Considering the purpose of the UoW (business transaction), the method `Commit` should be exposed only to the one who started a **business transaction**, for example business layer. What surprised me is that I couldn&#39;t find any article addressing this issue. In all of them `Commit` can be called by any repository being injected.\r\n\r\n**PS:** I know I can tell my developers not to call `Commit` in a `Repository`, but a trusted architecture is more reliable than trusted developers!\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/325844/best-design-pattern-for-two-specific-scenarios-the-first-one-fits-neatly-into-a\r\n  [2]: https://softwareengineering.stackexchange.com/questions/132813/whos-the-author-creator-of-the-repository-pattern\r\n  [3]: http://martinfowler.com/eaaCatalog/unitOfWork.html\r\n\r\n\r\n\r\n","title":"Unit of Work + Repository Pattern: The Fall of the Business Transaction Concept","body":"<p>Combining the <a href=\"https://softwareengineering.stackexchange.com/questions/325844/best-design-pattern-for-two-specific-scenarios-the-first-one-fits-neatly-into-a\">unit of work</a> (UoW) and <a href=\"https://softwareengineering.stackexchange.com/questions/132813/whos-the-author-creator-of-the-repository-pattern\">repository pattern</a> is something used fairly widely nowadays. As <a href=\"http://martinfowler.com/eaaCatalog/unitOfWork.html\" rel=\"nofollow noreferrer\">Martin Fowler says</a>, a purpose of using UoW is to form a <strong>business transaction</strong> while being ignorant of how repositories actually work (being persistent ignorant). I've reviewed many implementations; and ignoring specific details (concrete/abstract class, interface,...) they are more or less similar to what follows:</p>\n<pre><code>public class RepositoryBase&lt;T&gt;\n{\n    private UoW _uow;\n    public RepositoryBase(UoW uow) // injecting UoW instance via constructor\n    {\n       _uow = uow;\n    }\n    public void Add(T entity)\n    {\n       // Add logic here\n    }\n    // +other CRUD methods\n}\n\npublic class UoW\n{\n    // Holding one repository per domain entity\n\n    public RepositoryBase&lt;Order&gt; OrderRep { get; set; }\n    public RepositoryBase&lt;Customer&gt; CustomerRep { get; set; }\n    // +other repositories\n\n    public void Commit()\n    {\n       // Pseudocode:\n       For all the contained repositories do:\n           store repository changes.\n    }\n}\n</code></pre>\n<p><strong>Now my problem:</strong></p>\n<p>UoW exposes public method <strong><code>Commit</code></strong> to store the changes. Also, because each repository has a shared instance of UoW, each <code>Repository</code> can access method <code>Commit</code> on UoW. Calling it by one repository makes all other repositories store their changes too; hence the result the whole concept of transaction collapses:</p>\n<pre><code>class Repository&lt;T&gt; : RepositoryBase&lt;T&gt;\n{\n    private UoW _uow;\n    public void SomeMethod()\n    {\n        // Some processing or data manipulations here\n        _uow.Commit(); // Makes other repositories also save their changes\n    }\n}\n</code></pre>\n<p>I think this must be not allowed. Considering the purpose of the UoW (business transaction), the method <code>Commit</code> should be exposed only to the one who started a <strong>business transaction</strong>, for example business layer. What surprised me is that I couldn't find any article addressing this issue. In all of them <code>Commit</code> can be called by any repository being injected.</p>\n<p><strong>PS:</strong> I know I can tell my developers not to call <code>Commit</code> in a <code>Repository</code>, but a trusted architecture is more reliable than trusted developers!</p>\n"},{"tags":["java","jsonpath","json-path-expression"],"answers":[{"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696818224,"post_id":77252467,"comment_id":136197271,"body_markdown":"@AznBoyStride Kindly accept this if it was helpful and upvote too.","body":"@AznBoyStride Kindly accept this if it was helpful and upvote too."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696744803,"creation_date":1696744437,"answer_id":77252467,"question_id":77252196,"body_markdown":"I&#39;m not sure that the JSON that you gave is correct as it contains single quotes for key and value. \r\n\r\nYour JSON is not a valid JSON. JSON only allows double quotes for key and value.\r\n\r\nValid JSON should be like this:\r\n\r\n    {\r\n      &quot;field1&quot;: &quot;value1&quot;,\r\n      &quot;field2&quot;: &quot;value2&quot;\r\n    }\r\n\r\nYour code I have tested by modifying a little bit:\r\n\r\n    public class Example {\r\n        public static void main(String args[]) throws Exception {\r\n            String path = &quot;$.field1&quot;;\r\n            Configuration conf = Configuration.defaultConfiguration().addOptions(Option.DEFAULT_PATH_LEAF_TO_NULL);\r\n            ReadContext context = JsonPath.using(conf).parse(&quot;{\\&quot;field1\\&quot;: \\&quot;value1\\&quot;,&quot; + &quot;\\&quot;field2\\&quot;: \\&quot;value2\\&quot;}&quot;);\r\n            Object value = context.read(path);\r\n            System.out.println(value);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    value1\r\n\r\nPlease check the string value that is coming from `JsonNode.toString()` by debugging.\r\n\r\nYour `jsonNode.toString()` should return something this: \r\n\r\n    &quot;{\\&quot;field1\\&quot;: \\&quot;value1\\&quot;,&quot; + &quot;\\&quot;field2\\&quot;: \\&quot;value2\\&quot;}&quot;\r\n\r\nI&#39;m 100% sure that you are not getting this string from JsonNode when passed to parse method.\r\n\r\n","title":"JsonPath read returns path instead of value","body":"<p>I'm not sure that the JSON that you gave is correct as it contains single quotes for key and value.</p>\n<p>Your JSON is not a valid JSON. JSON only allows double quotes for key and value.</p>\n<p>Valid JSON should be like this:</p>\n<pre><code>{\n  &quot;field1&quot;: &quot;value1&quot;,\n  &quot;field2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p>Your code I have tested by modifying a little bit:</p>\n<pre><code>public class Example {\n    public static void main(String args[]) throws Exception {\n        String path = &quot;$.field1&quot;;\n        Configuration conf = Configuration.defaultConfiguration().addOptions(Option.DEFAULT_PATH_LEAF_TO_NULL);\n        ReadContext context = JsonPath.using(conf).parse(&quot;{\\&quot;field1\\&quot;: \\&quot;value1\\&quot;,&quot; + &quot;\\&quot;field2\\&quot;: \\&quot;value2\\&quot;}&quot;);\n        Object value = context.read(path);\n        System.out.println(value);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>value1\n</code></pre>\n<p>Please check the string value that is coming from <code>JsonNode.toString()</code> by debugging.</p>\n<p>Your <code>jsonNode.toString()</code> should return something this:</p>\n<pre><code>&quot;{\\&quot;field1\\&quot;: \\&quot;value1\\&quot;,&quot; + &quot;\\&quot;field2\\&quot;: \\&quot;value2\\&quot;}&quot;\n</code></pre>\n<p>I'm 100% sure that you are not getting this string from JsonNode when passed to parse method.</p>\n"}],"owner":{"account_id":8434177,"reputation":317,"user_id":6328823,"display_name":"AznBoyStride"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77252467,"answer_count":1,"score":1,"last_activity_date":1696744803,"creation_date":1696735310,"question_id":77252196,"body_markdown":"I have a JsonNode with the structure:\r\n```\r\n{\r\n&#39;field1&#39;: &#39;value1&#39;\r\n&#39;field2&#39;: &#39;value2&#39;\r\n}\r\n```\r\n\r\nI want to retrieve `&#39;value1&#39;` by specifying a json path: `&quot;$.field1&quot;`. However, instead of getting `&#39;value1&#39;`, I&#39;m getting the path itself. See the following illustration:\r\n\r\n\r\n```\r\nJsonNode node = ...\r\nString path = &quot;$.field1&quot;;\r\nConfiguration conf = Configuration.defaultConfiguration().addOptions(Option.DEFAULT_PATH_LEAF_TO_NULL);\r\n\r\nReadContext context = JsonPath.using(conf).parse(jsonNode.toString());\r\nObject value = context.read(path);\r\n\r\nSystem.out.println(value);\r\n\r\n// Output: [&quot;$[&#39;field1&#39;]&quot;]\r\n```\r\n\r\nWhy am I getting `[&quot;$[&#39;field1&#39;]&quot;]` ? It looks like it just normalized the path..","title":"JsonPath read returns path instead of value","body":"<p>I have a JsonNode with the structure:</p>\n<pre><code>{\n'field1': 'value1'\n'field2': 'value2'\n}\n</code></pre>\n<p>I want to retrieve <code>'value1'</code> by specifying a json path: <code>&quot;$.field1&quot;</code>. However, instead of getting <code>'value1'</code>, I'm getting the path itself. See the following illustration:</p>\n<pre><code>JsonNode node = ...\nString path = &quot;$.field1&quot;;\nConfiguration conf = Configuration.defaultConfiguration().addOptions(Option.DEFAULT_PATH_LEAF_TO_NULL);\n\nReadContext context = JsonPath.using(conf).parse(jsonNode.toString());\nObject value = context.read(path);\n\nSystem.out.println(value);\n\n// Output: [&quot;$['field1']&quot;]\n</code></pre>\n<p>Why am I getting <code>[&quot;$['field1']&quot;]</code> ? It looks like it just normalized the path..</p>\n"},{"tags":["java","intellij-idea","coding-style"],"comments":[{"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"score":1,"creation_date":1465866801,"post_id":37801457,"comment_id":63068468,"body_markdown":"Boolean is a wrapper class, use lowercase primitive boolean.. and yes, omitting is in the getter/setters is convention. Consider isPlaying. We would set to Playing and get Playing or not.","body":"Boolean is a wrapper class, use lowercase primitive boolean.. and yes, omitting is in the getter/setters is convention. Consider isPlaying. We would set to Playing and get Playing or not."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1465867134,"post_id":37801457,"comment_id":63068537,"body_markdown":"This is a convention.  IntelliJ is assuming that the base name is `ForLaboratory` and that the `is` part is only present because you are using a boolean.  Try it with `String isForLaboratory` and you will see this.","body":"This is a convention.  IntelliJ is assuming that the base name is <code>ForLaboratory</code> and that the <code>is</code> part is only present because you are using a boolean.  Try it with <code>String isForLaboratory</code> and you will see this."}],"answers":[{"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1477392532,"post_id":37805349,"comment_id":67737765,"body_markdown":"suggestion: maybe rename your property to `forLaboratory`. Therefore the getter would be `isForLaboratory()` - per default template.","body":"suggestion: maybe rename your property to <code>forLaboratory</code>. Therefore the getter would be <code>isForLaboratory()</code> - per default template."}],"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1465888521,"creation_date":1465888521,"answer_id":37805349,"question_id":37801457,"body_markdown":"If you pop up the Dialog to `Generate` the `Getter and Setter`, you can see:\r\n\r\n    Getter template: IntelliJ Default\r\n    Setter template: IntelliJ Default\r\n\r\nClick on the button to the right of `Getter Template` labelled with `...` and you can see the template code includes the following:\r\n\r\n    #if ($StringUtil.startsWithIgnoreCase($name, &#39;is&#39;))\r\n      #set($name = $StringUtil.decapitalize($name))\r\n    #else\r\n      is##\r\n\r\nIn other words there is special handling for fields starting with `is` - and if you want to write your own template, you can of course do this :)\r\n\r\nAs for why - there is a javabeans standard for boolean fields where the getter for a field named (for example) `boolean enabled` can be `isEnabled()` instead of `getEnabled()`, and it&#39;s surely related to this.","title":"Why do Intellij default getter/setter templates delete my boolean &quot;is&quot; variable name prefix?","body":"<p>If you pop up the Dialog to <code>Generate</code> the <code>Getter and Setter</code>, you can see:</p>\n\n<pre><code>Getter template: IntelliJ Default\nSetter template: IntelliJ Default\n</code></pre>\n\n<p>Click on the button to the right of <code>Getter Template</code> labelled with <code>...</code> and you can see the template code includes the following:</p>\n\n<pre><code>#if ($StringUtil.startsWithIgnoreCase($name, 'is'))\n  #set($name = $StringUtil.decapitalize($name))\n#else\n  is##\n</code></pre>\n\n<p>In other words there is special handling for fields starting with <code>is</code> - and if you want to write your own template, you can of course do this :)</p>\n\n<p>As for why - there is a javabeans standard for boolean fields where the getter for a field named (for example) <code>boolean enabled</code> can be <code>isEnabled()</code> instead of <code>getEnabled()</code>, and it's surely related to this.</p>\n"},{"tags":[],"owner":{"account_id":1103179,"reputation":1695,"user_id":1095120,"display_name":"Nicholas Lu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515244091,"creation_date":1515244091,"answer_id":48127648,"question_id":37801457,"body_markdown":"In IntelliJ version 15+, you have to use primitive boolean to make IntelliJ generate a Get function with &quot;is&quot; prefix. \r\n\r\nthe default `Getter Template` looks like this:\r\n\r\n    #if ($field.boolean &amp;&amp; $field.primitive)\r\n      #if ($StringUtil.startsWithIgnoreCase($name, &#39;is&#39;))\r\n        #set($name = $StringUtil.decapitalize($name))\r\n      #else\r\n        is##\r\n    #end\r\n\r\nSo the correct way in IntelliJ 15.x and up should be like this: \r\n\r\n    private boolean forLaboratory = false;\r\n\r\nafter auto generation:\r\n\r\n    public boolean getForLaboratory() {\r\n        return forLaboratory;\r\n    }\r\n\r\n    public void isForLaboratory(boolean forLaboratory) {\r\n        this.forLaboratory = forLaboratory;\r\n    }\r\n\r\n","title":"Why do Intellij default getter/setter templates delete my boolean &quot;is&quot; variable name prefix?","body":"<p>In IntelliJ version 15+, you have to use primitive boolean to make IntelliJ generate a Get function with \"is\" prefix. </p>\n\n<p>the default <code>Getter Template</code> looks like this:</p>\n\n<pre><code>#if ($field.boolean &amp;&amp; $field.primitive)\n  #if ($StringUtil.startsWithIgnoreCase($name, 'is'))\n    #set($name = $StringUtil.decapitalize($name))\n  #else\n    is##\n#end\n</code></pre>\n\n<p>So the correct way in IntelliJ 15.x and up should be like this: </p>\n\n<pre><code>private boolean forLaboratory = false;\n</code></pre>\n\n<p>after auto generation:</p>\n\n<pre><code>public boolean getForLaboratory() {\n    return forLaboratory;\n}\n\npublic void isForLaboratory(boolean forLaboratory) {\n    this.forLaboratory = forLaboratory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11260582,"reputation":102,"user_id":8259045,"display_name":"T4puSD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696744080,"creation_date":1696744080,"answer_id":77252456,"question_id":37801457,"body_markdown":"I was also facing this issue recently while I was working on a Spring boot application with spring data MongoDB. For isDeleted property there was two key in the database. `isDeleted` and `deleted`.\r\n\r\nWhile i was investigating i found that in my Document java class the `isDeleted` property was getting exposed with `getDeleted` and `setDeleted` method instead of `getIsDeleted` and `setIsDeleted`. Here is a sneak peak of the document class:   \r\n**Before**\r\n\r\n    public class Book {\r\n        private Long id;\r\n        private String title;\r\n        private Boolean isDeleted = false;\r\n\r\n        public Boolean getDeleted() {\r\n            return isDeleted;\r\n        }\r\n\r\n        public void setDeleted(Boolean deleted) {\r\n            isDeleted = deleted;\r\n        }\r\n\r\n       // other getters and setters omitted\r\n    }\r\n\r\nThis was happening because I was utilizing `Intellij Idea`&#39;s getters and setters generation feature. \r\n\r\nI figured this can be changed easily by modifying the existing code generation template available in `Intellij Idea`.\r\n\r\nTo Add new Custom Getters And Setters Template follow this:\r\n```\r\nOpen Any Java File &gt; Press ALT + INS &gt; Getters and Setters &gt; Select ... Symbol &gt; Press + Sign on the pop up box &gt; Enter template name &gt; Paste New Template &gt; Press Save\r\n```\r\nAfterwards, while generating the getters and setters just select your custom template and press ok. **And it should fix your problem.** \r\n  \r\n**After**\r\n```\r\n    public class Book {\r\n        private Long id;\r\n        private String title;\r\n        private Boolean isDeleted = false;\r\n    \r\n        public Boolean getIsDeleted() {\r\n          return isDeleted;\r\n        }\r\n    \r\n        public void setIsDeleted(Boolean isDeleted) {\r\n          this.isDeleted = isDeleted;\r\n        }\r\n    \r\n        // other getters and setters omitted\r\n        }\r\n```\r\nHere is my custom templates which fix this issue:\r\n\r\n 1. Modified Intellij Default `Getters` Generation Template\r\n```\r\n#if($field.modifierStatic)\r\nstatic ##\r\n#end\r\n$field.type ##\r\n#if($field.recordComponent)\r\n  ${field.name}##\r\n#else\r\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\r\n#if ($field.boolean &amp;&amp; $field.name.startsWith(&quot;is&quot;))\r\n  getIs##\r\n#else\r\n  get##\r\n#end\r\n${name}##\r\n#end\r\n() {\r\n  return $field.name;\r\n}\r\n```\r\n\r\n 2. Modified Intellij Default `Setters` Generation Template\r\n\r\n```\r\n#set($paramName = $helper.getParamName($field, $project))\r\n#if($field.modifierStatic)\r\nstatic ##\r\n#end\r\nvoid ##\r\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\r\n#if ($field.boolean &amp;&amp; $field.name.startsWith(&quot;is&quot;))\r\n  #set ($paramName = $field.name)\r\n  setIs##\r\n#else\r\n  set##\r\n#end\r\n${name}($field.type $paramName) {\r\n  #if ($field.name == $paramName)\r\n    #if (!$field.modifierStatic)\r\n      this.##\r\n    #else\r\n      $classname.##\r\n    #end\r\n  #end\r\n    $field.name = $paramName;\r\n}\r\n```\r\n\r\n 3. Modified Builder Pattern `Setters` Generation Template\r\n```\r\n#set($paramName = $helper.getParamName($field, $project))\r\npublic ##\r\n#if($field.modifierStatic)\r\nstatic void ##\r\n#else\r\n  $classSignature ##\r\n#end\r\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\r\n#if ($field.boolean &amp;&amp; $field.name.startsWith(&quot;is&quot;))\r\n    #set ($paramName = $field.name)\r\nsetIs##\r\n#else\r\nset##\r\n#end\r\n${name}($field.type $paramName) {\r\n#if ($field.name == $paramName)\r\n  #if (!$field.modifierStatic)\r\n  this.##\r\n  #else\r\n    $classname.##\r\n  #end\r\n#end\r\n$field.name = $paramName;\r\n#if(!$field.modifierStatic)\r\nreturn this;\r\n#end\r\n}\r\n```","title":"Why do Intellij default getter/setter templates delete my boolean &quot;is&quot; variable name prefix?","body":"<p>I was also facing this issue recently while I was working on a Spring boot application with spring data MongoDB. For isDeleted property there was two key in the database. <code>isDeleted</code> and <code>deleted</code>.</p>\n<p>While i was investigating i found that in my Document java class the <code>isDeleted</code> property was getting exposed with <code>getDeleted</code> and <code>setDeleted</code> method instead of <code>getIsDeleted</code> and <code>setIsDeleted</code>. Here is a sneak peak of the document class:<br />\n<strong>Before</strong></p>\n<pre><code>public class Book {\n    private Long id;\n    private String title;\n    private Boolean isDeleted = false;\n\n    public Boolean getDeleted() {\n        return isDeleted;\n    }\n\n    public void setDeleted(Boolean deleted) {\n        isDeleted = deleted;\n    }\n\n   // other getters and setters omitted\n}\n</code></pre>\n<p>This was happening because I was utilizing <code>Intellij Idea</code>'s getters and setters generation feature.</p>\n<p>I figured this can be changed easily by modifying the existing code generation template available in <code>Intellij Idea</code>.</p>\n<p>To Add new Custom Getters And Setters Template follow this:</p>\n<pre><code>Open Any Java File &gt; Press ALT + INS &gt; Getters and Setters &gt; Select ... Symbol &gt; Press + Sign on the pop up box &gt; Enter template name &gt; Paste New Template &gt; Press Save\n</code></pre>\n<p>Afterwards, while generating the getters and setters just select your custom template and press ok. <strong>And it should fix your problem.</strong></p>\n<p><strong>After</strong></p>\n<pre><code>    public class Book {\n        private Long id;\n        private String title;\n        private Boolean isDeleted = false;\n    \n        public Boolean getIsDeleted() {\n          return isDeleted;\n        }\n    \n        public void setIsDeleted(Boolean isDeleted) {\n          this.isDeleted = isDeleted;\n        }\n    \n        // other getters and setters omitted\n        }\n</code></pre>\n<p>Here is my custom templates which fix this issue:</p>\n<ol>\n<li>Modified Intellij Default <code>Getters</code> Generation Template</li>\n</ol>\n<pre><code>#if($field.modifierStatic)\nstatic ##\n#end\n$field.type ##\n#if($field.recordComponent)\n  ${field.name}##\n#else\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\n#if ($field.boolean &amp;&amp; $field.name.startsWith(&quot;is&quot;))\n  getIs##\n#else\n  get##\n#end\n${name}##\n#end\n() {\n  return $field.name;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Modified Intellij Default <code>Setters</code> Generation Template</li>\n</ol>\n<pre><code>#set($paramName = $helper.getParamName($field, $project))\n#if($field.modifierStatic)\nstatic ##\n#end\nvoid ##\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\n#if ($field.boolean &amp;&amp; $field.name.startsWith(&quot;is&quot;))\n  #set ($paramName = $field.name)\n  setIs##\n#else\n  set##\n#end\n${name}($field.type $paramName) {\n  #if ($field.name == $paramName)\n    #if (!$field.modifierStatic)\n      this.##\n    #else\n      $classname.##\n    #end\n  #end\n    $field.name = $paramName;\n}\n</code></pre>\n<ol start=\"3\">\n<li>Modified Builder Pattern <code>Setters</code> Generation Template</li>\n</ol>\n<pre><code>#set($paramName = $helper.getParamName($field, $project))\npublic ##\n#if($field.modifierStatic)\nstatic void ##\n#else\n  $classSignature ##\n#end\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))\n#if ($field.boolean &amp;&amp; $field.name.startsWith(&quot;is&quot;))\n    #set ($paramName = $field.name)\nsetIs##\n#else\nset##\n#end\n${name}($field.type $paramName) {\n#if ($field.name == $paramName)\n  #if (!$field.modifierStatic)\n  this.##\n  #else\n    $classname.##\n  #end\n#end\n$field.name = $paramName;\n#if(!$field.modifierStatic)\nreturn this;\n#end\n}\n</code></pre>\n"}],"owner":{"account_id":3268751,"reputation":1481,"user_id":2752615,"accept_rate":67,"display_name":"Arif Acar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3108,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":37805349,"answer_count":3,"score":9,"last_activity_date":1696744080,"creation_date":1465866659,"question_id":37801457,"body_markdown":"I have an entity. I defined variable as boolean and I created Getter and Setter methods with Intellij Idea Shortcuts.\r\n\r\n    private Boolean isForLaboratory = false;\r\n\r\n[![ddasd][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/AbFmm.png\r\n  [2]: http://i.stack.imgur.com/qzK8d.png\r\n\r\nAfter creation it generated this:\r\n\r\n    public Boolean getForLaboratory() {\r\n        return isForLaboratory;\r\n    }\r\n\r\n    public void setForLaboratory(Boolean forLaboratory) {\r\n        isForLaboratory = forLaboratory;\r\n    }\r\n\r\nI expected getIsForLaboratory and setIsForLaboratory. Is it general convention for Java? Why Intellij deleted my prefixes?","title":"Why do Intellij default getter/setter templates delete my boolean &quot;is&quot; variable name prefix?","body":"<p>I have an entity. I defined variable as boolean and I created Getter and Setter methods with Intellij Idea Shortcuts.</p>\n\n<pre><code>private Boolean isForLaboratory = false;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AbFmm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AbFmm.png\" alt=\"ddasd\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/qzK8d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qzK8d.png\" alt=\"enter image description here\"></a></p>\n\n<p>After creation it generated this:</p>\n\n<pre><code>public Boolean getForLaboratory() {\n    return isForLaboratory;\n}\n\npublic void setForLaboratory(Boolean forLaboratory) {\n    isForLaboratory = forLaboratory;\n}\n</code></pre>\n\n<p>I expected getIsForLaboratory and setIsForLaboratory. Is it general convention for Java? Why Intellij deleted my prefixes?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696750571,"post_id":77252431,"comment_id":136191472,"body_markdown":"Spring 6/Spring Boot 3 switched to Jakarta EE. You therefore have to use `jakarta` dependencies instead of `javax` dependencies. This also applies to your package name. See also the comments of https://stackoverflow.com/questions/74982010/spring-security-cannot-access-javax-servlet-filter","body":"Spring 6/Spring Boot 3 switched to Jakarta EE. You therefore have to use <code>jakarta</code> dependencies instead of <code>javax</code> dependencies. This also applies to your package name. See also the comments of <a href=\"https://stackoverflow.com/questions/74982010/spring-security-cannot-access-javax-servlet-filter\" title=\"spring security cannot access javax servlet filter\">stackoverflow.com/questions/74982010/&hellip;</a>"},{"owner":{"account_id":26670648,"reputation":1,"user_id":20282129,"display_name":"diego alamu"},"score":0,"creation_date":1696757242,"post_id":77252431,"comment_id":136192015,"body_markdown":"@dan1st so it should be fine if I use an older version? I&#39;m doing this for a assignment so shouldn&#39;t be an issue?","body":"@dan1st so it should be fine if I use an older version? I&#39;m doing this for a assignment so shouldn&#39;t be an issue?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696759269,"post_id":77252431,"comment_id":136192182,"body_markdown":"Either use Spring Boot 2.x or use `jakarta` dependencies.","body":"Either use Spring Boot 2.x or use <code>jakarta</code> dependencies."}],"owner":{"account_id":26670648,"reputation":1,"user_id":20282129,"display_name":"diego alamu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696770254,"answer_count":0,"score":0,"last_activity_date":1696743223,"creation_date":1696743223,"question_id":77252431,"body_markdown":"I am trying to configure Springboot security and it&#39;s giving me an error when running the application\r\n```\r\nJava\r\npackage com.example.gym.config;\r\n\r\nimport com.example.gym.service.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configurers.userdetails.DaoAuthenticationConfigurer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    DaoAuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\r\n        auth.setUserDetailsService(userService);\r\n        auth.setPasswordEncoder(passwordEncoder());\r\n        return auth;\r\n    }\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        http.authorizeRequests().antMatchers(\r\n                &quot;/registration**&quot;,\r\n                &quot;/js/**&quot;,\r\n                &quot;/css/**&quot;,\r\n                &quot;/img/**&quot;).permitAll()\r\n                .anyRequest().authenticated().and().formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n                .and().logout().invalidateHttpSession(true).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\r\n    }\r\n}\r\n```\r\nI am getting this error:\r\njava: cannot access javax.servlet.Filter\r\nclass file for javax.servlet.Filter not found\r\nI have checked previous solution from here and they said to add starter web dependency but my pom.xml file already has it.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;gym&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;gym&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;21&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI have taken this from maven repository:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd the application runs but then goes into another error:\r\nError processing condition on org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration.authenticationEventPublisher","title":"Springboot Security Configureation class file for javax.servlet.Filter not found","body":"<p>I am trying to configure Springboot security and it's giving me an error when running the application</p>\n<pre><code>Java\npackage com.example.gym.config;\n\nimport com.example.gym.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configurers.userdetails.DaoAuthenticationConfigurer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    DaoAuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\n        auth.setUserDetailsService(userService);\n        auth.setPasswordEncoder(passwordEncoder());\n        return auth;\n    }\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        auth.authenticationProvider(authenticationProvider());\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http.authorizeRequests().antMatchers(\n                &quot;/registration**&quot;,\n                &quot;/js/**&quot;,\n                &quot;/css/**&quot;,\n                &quot;/img/**&quot;).permitAll()\n                .anyRequest().authenticated().and().formLogin().loginPage(&quot;/login&quot;).permitAll()\n                .and().logout().invalidateHttpSession(true).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/login?logout&quot;).permitAll();\n    }\n}\n</code></pre>\n<p>I am getting this error:\njava: cannot access javax.servlet.Filter\nclass file for javax.servlet.Filter not found\nI have checked previous solution from here and they said to add starter web dependency but my pom.xml file already has it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;gym&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;gym&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have taken this from maven repository:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And the application runs but then goes into another error:\nError processing condition on org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration.authenticationEventPublisher</p>\n"},{"tags":["java","junit","mockito","junit4"],"answers":[{"comments":[{"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"score":0,"creation_date":1505682805,"post_id":46268575,"comment_id":79500342,"body_markdown":"thanks, now it works. would you please have a look at my question here:https://stackoverflow.com/questions/46267298/method-not-mocked-using-spy    i am trying to test a method but the test case fails","body":"thanks, now it works. would you please have a look at my question here:<a href=\"https://stackoverflow.com/questions/46267298/method-not-mocked-using-spy\" title=\"method not mocked using spy\">stackoverflow.com/questions/46267298/&hellip;</a>    i am trying to test a method but the test case fails"}],"tags":[],"owner":{"account_id":125727,"reputation":133941,"user_id":321697,"accept_rate":97,"display_name":"Kevin Coppock"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1505680060,"creation_date":1505680060,"answer_id":46268575,"question_id":46268452,"body_markdown":"What exactly are you trying to test? Is that test that &quot;when `setImageOnImageView(RequestCreator, ImageView)` is called, it invokes `RequestCreator.into(ImageView)`&quot;?\r\n\r\nIf that&#39;s what you&#39;re trying to test, you aren&#39;t wanting to test that it &quot;returns void&quot;. Rather, I would recommend something like:\r\n\r\n    @Test\r\n    public void itInvokesRequestCreatorIntoOnProvidedImageView() {\r\n        RequestCreator creator = mock(RequestCreator.class);\r\n        ImageView imageView = mock(ImageView.class);\r\n        \r\n        setImageOnImageView(creator, imageView);\r\n        verify(creator).into(imageView);\r\n    }","title":"How to test a void method using Mockito","body":"<p>What exactly are you trying to test? Is that test that \"when <code>setImageOnImageView(RequestCreator, ImageView)</code> is called, it invokes <code>RequestCreator.into(ImageView)</code>\"?</p>\n\n<p>If that's what you're trying to test, you aren't wanting to test that it \"returns void\". Rather, I would recommend something like:</p>\n\n<pre><code>@Test\npublic void itInvokesRequestCreatorIntoOnProvidedImageView() {\n    RequestCreator creator = mock(RequestCreator.class);\n    ImageView imageView = mock(ImageView.class);\n\n    setImageOnImageView(creator, imageView);\n    verify(creator).into(imageView);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652936715,"creation_date":1652936715,"answer_id":72298876,"question_id":46268452,"body_markdown":"If you want to verify a void method is not throwing anything, then you can use the assertDoesNotThrows method as follow\r\n\r\n&gt; Assert that execution of the supplied executable does not throw any kind of exception.\r\nUsage Note\r\nAlthough any exception thrown from a test method will cause the test to fail, there are certain use cases where it can be beneficial to explicitly assert that an exception is not thrown for a given code block within a test method.\r\n\r\n\r\n\r\n```\r\n Assertions.assertDoesNotThrow(() -&gt; testCl.voidM(&quot;test&quot;...));\r\n```\r\n\r\nIf you have some dependencies in your class then you can use verify to check whether that dependency is invoked or not.","title":"How to test a void method using Mockito","body":"<p>If you want to verify a void method is not throwing anything, then you can use the assertDoesNotThrows method as follow</p>\n<blockquote>\n<p>Assert that execution of the supplied executable does not throw any kind of exception.\nUsage Note\nAlthough any exception thrown from a test method will cause the test to fail, there are certain use cases where it can be beneficial to explicitly assert that an exception is not thrown for a given code block within a test method.</p>\n</blockquote>\n<pre><code> Assertions.assertDoesNotThrow(() -&gt; testCl.voidM(&quot;test&quot;...));\n</code></pre>\n<p>If you have some dependencies in your class then you can use verify to check whether that dependency is invoked or not.</p>\n"}],"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6639,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46268575,"answer_count":2,"score":4,"last_activity_date":1696741892,"creation_date":1505679298,"question_id":46268452,"body_markdown":"the below posted method in the code section returns void. I want to know how to test a method that returns void.\r\nI checked some answers but the use &quot;doThrow()&quot; with passing an exception, but in my case the method does not throw any exception\r\n\r\nplease let me know how can I test a method returns void?\r\n\r\n**code**\r\n\r\n    public void setImageOnImageView(RequestCreator requestCreator, ImageView imgView) {\r\n        requestCreator.into(imgView);\r\n    }\r\n\r\n**testing**:\r\n\r\n    public class ValidationTest {\r\n        @Mock\r\n        private Context mCtx = null;\r\n        @Rule\r\n        public MockitoRule mockitoRule = MockitoJUnit.rule();\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            mCtx = Mockito.mock(Context.class);\r\n            Assert.assertNotNull(&quot;Context is not null&quot;, mCtx);\r\n        }\r\n    \r\n        @Test\r\n        public void setImageOnImageView() throws Exception {\r\n            Uri mockUri = mock(Uri.class);\r\n            RequestCreator requestCreator = Picasso.with(mCtx).load(mockUri);\r\n            RequestCreator spyRequestCreator = spy(requestCreator);\r\n            ImageView imageView = new ImageView(mCtx);\r\n            ImageView spyImageView = spy(imageView);\r\n    \r\n            doThrow().when(spyRequestCreator).into(spyImageView);\r\n            //spyRequestCreator.into(spyImageView);\r\n        }\r\n    }\r\n\r\n","title":"How to test a void method using Mockito","body":"<p>the below posted method in the code section returns void. I want to know how to test a method that returns void.\nI checked some answers but the use \"doThrow()\" with passing an exception, but in my case the method does not throw any exception</p>\n\n<p>please let me know how can I test a method returns void?</p>\n\n<p><strong>code</strong></p>\n\n<pre><code>public void setImageOnImageView(RequestCreator requestCreator, ImageView imgView) {\n    requestCreator.into(imgView);\n}\n</code></pre>\n\n<p><strong>testing</strong>:</p>\n\n<pre><code>public class ValidationTest {\n    @Mock\n    private Context mCtx = null;\n    @Rule\n    public MockitoRule mockitoRule = MockitoJUnit.rule();\n\n    @Before\n    public void setUp() throws Exception {\n        mCtx = Mockito.mock(Context.class);\n        Assert.assertNotNull(\"Context is not null\", mCtx);\n    }\n\n    @Test\n    public void setImageOnImageView() throws Exception {\n        Uri mockUri = mock(Uri.class);\n        RequestCreator requestCreator = Picasso.with(mCtx).load(mockUri);\n        RequestCreator spyRequestCreator = spy(requestCreator);\n        ImageView imageView = new ImageView(mCtx);\n        ImageView spyImageView = spy(imageView);\n\n        doThrow().when(spyRequestCreator).into(spyImageView);\n        //spyRequestCreator.into(spyImageView);\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","language-agnostic","encapsulation","abstraction"],"comments":[{"owner":{"account_id":3096332,"reputation":391,"user_id":2621426,"accept_rate":58,"display_name":"Mr ASquare"},"score":5,"creation_date":1499150517,"post_id":15176356,"comment_id":76774821,"body_markdown":"I don&#39;t know why people compare Abstraction and Encapsulation. Why can&#39;t we accept them as two different OOP concepts.","body":"I don&#39;t know why people compare Abstraction and Encapsulation. Why can&#39;t we accept them as two different OOP concepts."},{"owner":{"account_id":6521913,"reputation":292,"user_id":5045878,"accept_rate":100,"display_name":"logdev"},"score":6,"creation_date":1536061916,"post_id":15176356,"comment_id":91280874,"body_markdown":"Possible duplicate of [difference between abstraction and encapsulation?](https://stackoverflow.com/questions/742341/difference-between-abstraction-and-encapsulation)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/742341/difference-between-abstraction-and-encapsulation\">difference between abstraction and encapsulation?</a>"},{"owner":{"account_id":4324390,"reputation":529,"user_id":3531600,"accept_rate":88,"display_name":"S Vinesh"},"score":0,"creation_date":1554366263,"post_id":15176356,"comment_id":97727363,"body_markdown":"@WpfBee Abstraction has nothing to do with hiding, Just checkout my answer","body":"@WpfBee Abstraction has nothing to do with hiding, Just checkout my answer"}],"answers":[{"comments":[{"owner":{"account_id":462359,"reputation":3794,"user_id":864624,"accept_rate":84,"display_name":"vishnu viswanath"},"score":1,"creation_date":1391699237,"post_id":15176437,"comment_id":32644257,"body_markdown":"abstraction is related to abstract class??","body":"abstraction is related to abstract class??"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1577673724,"post_id":15176437,"comment_id":105221128,"body_markdown":"@vishnuviswanath, yes, we can implement abstraction using abstract class and interfaces.","body":"@vishnuviswanath, yes, we can implement abstraction using abstract class and interfaces."}],"tags":[],"owner":{"account_id":298866,"reputation":10614,"user_id":605129,"accept_rate":67,"display_name":"Mortalus"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1362240007,"creation_date":1362240007,"answer_id":15176437,"question_id":15176356,"body_markdown":"**Abstraction:**\r\nIs usually done to provide polymorphic access to a set of classes.\r\nAn abstract class cannot be instantiated thus another class will have to derive from it to create a more concrete representation.\r\n\r\nA common usage example of an abstract class can be an implementation of a template method design pattern where an abstract injection point is introduces so that the concrete class can implement it in its own &quot;concrete&quot; way.\r\n\r\nsee: http://en.wikipedia.org/wiki/Abstraction_(computer_science)\r\n\r\n\r\n\r\n**Encapsulation:**\r\nIt is the process of hiding the implementation complexity of a specific class from the client that is going to use it, keep in mind that the &quot;client&quot; may be a program or event the person who wrote the class.\r\n\r\nsee: http://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)","title":"Difference between Encapsulation and Abstraction","body":"<p><strong>Abstraction:</strong>\nIs usually done to provide polymorphic access to a set of classes.\nAn abstract class cannot be instantiated thus another class will have to derive from it to create a more concrete representation.</p>\n\n<p>A common usage example of an abstract class can be an implementation of a template method design pattern where an abstract injection point is introduces so that the concrete class can implement it in its own \"concrete\" way.</p>\n\n<p>see: <a href=\"http://en.wikipedia.org/wiki/Abstraction_(computer_science)\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Abstraction_(computer_science)</a></p>\n\n<p><strong>Encapsulation:</strong>\nIt is the process of hiding the implementation complexity of a specific class from the client that is going to use it, keep in mind that the \"client\" may be a program or event the person who wrote the class.</p>\n\n<p>see: <a href=\"http://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)</a></p>\n"},{"comments":[{"owner":{"account_id":1960952,"reputation":2837,"user_id":1762551,"accept_rate":57,"display_name":"WpfBee"},"score":14,"creation_date":1362246865,"post_id":15176477,"comment_id":21378956,"body_markdown":"Perfect. It seems to me that your answer is just targeting my interviewer question. I am trying to re-iterate your reply with a practical example. Please let me know, if it justifies your reply.  Let us take an example of television. Encapsulation is the internal circuits, LEDS, etc that combine to make it a TV. Abstraction is the   on-off, sound, channel setting and other buttons provided to operate  it.","body":"Perfect. It seems to me that your answer is just targeting my interviewer question. I am trying to re-iterate your reply with a practical example. Please let me know, if it justifies your reply.  Let us take an example of television. Encapsulation is the internal circuits, LEDS, etc that combine to make it a TV. Abstraction is the   on-off, sound, channel setting and other buttons provided to operate  it."},{"owner":{"account_id":298866,"reputation":10614,"user_id":605129,"accept_rate":67,"display_name":"Mortalus"},"score":0,"creation_date":1362248574,"post_id":15176477,"comment_id":21379444,"body_markdown":"Guys abstraction has nothing to do with hiding implementation ... abstraction is a method to polymorphicly interact with a class","body":"Guys abstraction has nothing to do with hiding implementation ... abstraction is a method to polymorphicly interact with a class"},{"owner":{"account_id":1960952,"reputation":2837,"user_id":1762551,"accept_rate":57,"display_name":"WpfBee"},"score":1,"creation_date":1362249380,"post_id":15176477,"comment_id":21379653,"body_markdown":"@Mortalus - I don&#39;t agree your 1st statement &quot;abstraction has nothing to do with hiding implementation&quot;. I think, when we start learning Abstraction concept the first thing that we are being taught is that we hide complexity of the implementation and provide some interface to user to use it. Because user may not be interested  in implementation complexity. You can take a practical example of TV or AC. The another thing is that if it does not hide implementation then why we provide a method in abstract class that do not have body. We are clearly hiding the implementation here.","body":"@Mortalus - I don&#39;t agree your 1st statement &quot;abstraction has nothing to do with hiding implementation&quot;. I think, when we start learning Abstraction concept the first thing that we are being taught is that we hide complexity of the implementation and provide some interface to user to use it. Because user may not be interested  in implementation complexity. You can take a practical example of TV or AC. The another thing is that if it does not hide implementation then why we provide a method in abstract class that do not have body. We are clearly hiding the implementation here."},{"owner":{"account_id":1960952,"reputation":2837,"user_id":1762551,"accept_rate":57,"display_name":"WpfBee"},"score":1,"creation_date":1362249643,"post_id":15176477,"comment_id":21379738,"body_markdown":"@Mortalus - Also, you mentioned a wiki link. It&#39;s first statement -  &quot;In computer science, abstraction is the process by which data and programs are defined with a representation similar in form to its meaning (semantics), while hiding away the implementation details. Abstraction tries to reduce and factor out details so that the programmer can focus on a few concepts at a time.&quot; itself suggests that Abstraction is intended to hide the implementation.  I am agree with your 2nd statement but not with 1st.","body":"@Mortalus - Also, you mentioned a wiki link. It&#39;s first statement -  &quot;In computer science, abstraction is the process by which data and programs are defined with a representation similar in form to its meaning (semantics), while hiding away the implementation details. Abstraction tries to reduce and factor out details so that the programmer can focus on a few concepts at a time.&quot; itself suggests that Abstraction is intended to hide the implementation.  I am agree with your 2nd statement but not with 1st."},{"owner":{"account_id":3001135,"reputation":7216,"user_id":3664659,"accept_rate":69,"display_name":"Imad"},"score":0,"creation_date":1552014411,"post_id":15176477,"comment_id":96861329,"body_markdown":"Sorry if it sound stupid. I dont understand the line abstraction can be implemented using interface of abstract class. Cant it be implemented using concrete class as it will also hide implementation details and show essentials using proper access modifiers?","body":"Sorry if it sound stupid. I dont understand the line abstraction can be implemented using interface of abstract class. Cant it be implemented using concrete class as it will also hide implementation details and show essentials using proper access modifiers?"},{"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"score":2,"creation_date":1568867641,"post_id":15176477,"comment_id":102412513,"body_markdown":"I think Encapsulation is just more about building a single unit, its not much about you hide it or not. Where as Abstraction is more about hiding things, please correct if i am wrong.","body":"I think Encapsulation is just more about building a single unit, its not much about you hide it or not. Where as Abstraction is more about hiding things, please correct if i am wrong."},{"owner":{"account_id":9737031,"reputation":513,"user_id":7219960,"accept_rate":80,"display_name":"Ninad Kulkarni"},"score":0,"creation_date":1574579127,"post_id":15176477,"comment_id":104277744,"body_markdown":"Exactly Who do you mean by &quot;outsiders&quot; in encapsulation.","body":"Exactly Who do you mean by &quot;outsiders&quot; in encapsulation."},{"owner":{"account_id":13163788,"reputation":132,"user_id":9508705,"display_name":"Richard Tran"},"score":0,"creation_date":1655215382,"post_id":15176477,"comment_id":128276040,"body_markdown":"With no assumption of programming language, I think Encapsulation is about packing all data in one unit to reduce the complexity of communication, whereas Abstraction is about exposing methods to interact with objects.","body":"With no assumption of programming language, I think Encapsulation is about packing all data in one unit to reduce the complexity of communication, whereas Abstraction is about exposing methods to interact with objects."}],"tags":[],"owner":{"account_id":539361,"reputation":7792,"user_id":907184,"display_name":"phnkha"},"comment_count":8,"down_vote_count":6,"up_vote_count":141,"is_accepted":true,"score":135,"last_activity_date":1628715198,"creation_date":1362240220,"answer_id":15176477,"question_id":15176356,"body_markdown":"**Encapsulation** hides variables or some implementation that may be changed so often **in a class** to prevent outsiders access it directly. They must access it via getter and setter methods.\r\n\r\n**Abstraction** is used to hide something too, but in a **higher degree (class, interface)**. Clients who use an abstract class (or interface) do not care about what it was, they just need to know what it can do.","title":"Difference between Encapsulation and Abstraction","body":"<p><strong>Encapsulation</strong> hides variables or some implementation that may be changed so often <strong>in a class</strong> to prevent outsiders access it directly. They must access it via getter and setter methods.</p>\n<p><strong>Abstraction</strong> is used to hide something too, but in a <strong>higher degree (class, interface)</strong>. Clients who use an abstract class (or interface) do not care about what it was, they just need to know what it can do.</p>\n"},{"tags":[],"owner":{"account_id":2920802,"reputation":1825,"user_id":2503111,"accept_rate":82,"display_name":"TT_ stands with Russia"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1371759588,"creation_date":1371759588,"answer_id":17223036,"question_id":15176356,"body_markdown":"Abstraction - is the process (and result of this process) of identifying the common essential characteristics for a set of objects.\r\nOne might say that Abstraction is the process of generalization: all objects under consideration are included in a superset of objects, all of which possess given properties (but are different in other respects).\r\n\r\nEncapsulation - is the process of enclosing data and functions manipulating this data into a single unit, so that to hide the internal implementation from the outside world. \r\n\r\nThis is a general answer not related to a specific programming language (as was the question). So the answer is: abstraction and encapsulation have nothing in common. But their implementations might relate to each other (say, in Java: Encapsulation - details are hidden in a class, Abstraction - details are not present at all in a class or interface).","title":"Difference between Encapsulation and Abstraction","body":"<p>Abstraction - is the process (and result of this process) of identifying the common essential characteristics for a set of objects.\nOne might say that Abstraction is the process of generalization: all objects under consideration are included in a superset of objects, all of which possess given properties (but are different in other respects).</p>\n\n<p>Encapsulation - is the process of enclosing data and functions manipulating this data into a single unit, so that to hide the internal implementation from the outside world. </p>\n\n<p>This is a general answer not related to a specific programming language (as was the question). So the answer is: abstraction and encapsulation have nothing in common. But their implementations might relate to each other (say, in Java: Encapsulation - details are hidden in a class, Abstraction - details are not present at all in a class or interface).</p>\n"},{"tags":[],"owner":{"account_id":3916475,"reputation":310,"user_id":3240185,"display_name":"Iqbal Haider"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393321259,"creation_date":1393321259,"answer_id":22010113,"question_id":15176356,"body_markdown":"difference in both is just the **View Point**  \r\nEncapsulation word is used for hiding data if our aim is to prevent client seeing inside view of our logic\r\n\r\nAbstraction word is used for hiding data if our aim is to show our client a out side view\r\n\r\nOutside view means that let suppose \r\n\r\n    BubbleSort(){\r\n    //code \r\n    swap(x,y);\r\n    }\r\n\r\nhere we use swap in bubble sort for just showing our client what logic we are applying, If we replace swap(x,y) with whole code here, In a single instance he/she can&#39;t understand our logic","title":"Difference between Encapsulation and Abstraction","body":"<p>difference in both is just the <strong>View Point</strong><br>\nEncapsulation word is used for hiding data if our aim is to prevent client seeing inside view of our logic</p>\n\n<p>Abstraction word is used for hiding data if our aim is to show our client a out side view</p>\n\n<p>Outside view means that let suppose </p>\n\n<pre><code>BubbleSort(){\n//code \nswap(x,y);\n}\n</code></pre>\n\n<p>here we use swap in bubble sort for just showing our client what logic we are applying, If we replace swap(x,y) with whole code here, In a single instance he/she can't understand our logic</p>\n"},{"comments":[{"owner":{"account_id":9651514,"reputation":189,"user_id":7162534,"display_name":"varsh"},"score":0,"creation_date":1548220939,"post_id":41018100,"comment_id":95460132,"body_markdown":"Encapsulation is not a means to achieve abstraction. They are 2 slightly different concepts but have a subtle link.","body":"Encapsulation is not a means to achieve abstraction. They are 2 slightly different concepts but have a subtle link."},{"owner":{"account_id":8978745,"reputation":93,"user_id":6694635,"display_name":"K Kishore Kumar Reddy"},"score":0,"creation_date":1580976221,"post_id":41018100,"comment_id":106276558,"body_markdown":"i think both are not different concepts, bez u can achieve encapsulation with abstract class .","body":"i think both are not different concepts, bez u can achieve encapsulation with abstract class ."}],"tags":[],"owner":{"account_id":6137407,"reputation":55,"user_id":4785765,"display_name":"Nadim Almas Siddiqui"},"comment_count":2,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1545115559,"creation_date":1481115437,"answer_id":41018100,"question_id":15176356,"body_markdown":"Abstraction: what are the minimum functions and variables that should be exposed to the outside of our class.\r\n\r\nEncapsulation: how to achieve this requirement, meaning how to implement it.","title":"Difference between Encapsulation and Abstraction","body":"<p>Abstraction: what are the minimum functions and variables that should be exposed to the outside of our class.</p>\n\n<p>Encapsulation: how to achieve this requirement, meaning how to implement it.</p>\n"},{"tags":[],"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1516937864,"creation_date":1516937864,"answer_id":48455462,"question_id":15176356,"body_markdown":"There is a great article that touches on differences between Abstraction, Encapsulation and Information hiding in depth: http://www.tonymarston.co.uk/php-mysql/abstraction.txt\r\n\r\nHere is the conclusion from the article:\r\n\r\n&gt; Abstraction, information hiding, and encapsulation are very different,\r\n&gt; but highly-related, concepts. One could argue that abstraction is a\r\n&gt; technique that helps us identify which specific information should be\r\n&gt; visible, and which information should be hidden. Encapsulation is then\r\n&gt; the technique for packaging the information in such a way as to hide\r\n&gt; what should be hidden, and make visible what is intended to be\r\n&gt; visible.\r\n\r\n","title":"Difference between Encapsulation and Abstraction","body":"<p>There is a great article that touches on differences between Abstraction, Encapsulation and Information hiding in depth: <a href=\"http://www.tonymarston.co.uk/php-mysql/abstraction.txt\" rel=\"noreferrer\">http://www.tonymarston.co.uk/php-mysql/abstraction.txt</a></p>\n\n<p>Here is the conclusion from the article:</p>\n\n<blockquote>\n  <p>Abstraction, information hiding, and encapsulation are very different,\n  but highly-related, concepts. One could argue that abstraction is a\n  technique that helps us identify which specific information should be\n  visible, and which information should be hidden. Encapsulation is then\n  the technique for packaging the information in such a way as to hide\n  what should be hidden, and make visible what is intended to be\n  visible.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7768311,"reputation":588,"user_id":5878821,"display_name":"Shaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519302056,"creation_date":1519301746,"answer_id":48927184,"question_id":15176356,"body_markdown":"Abstraction\r\n\r\nIn Java, abstraction means hiding the information to the real world. It establishes the contract between the party to tell about what should we do to make use of the service. \r\n\r\nExample, In API development, only abstracted information of the service has been revealed to the world rather the actual implementation. Interface in java can help achieve this concept very well. \r\n\r\nInterface provides contract between the parties, example, producer and consumer. Producer produces the goods without letting know the consumer how the product is being made. But, through interface, Producer let all consumer know what product can buy. With the help of abstraction, producer can markets the product to their consumers.  \r\n\r\nEncapsulation:\r\n\r\nEncapsulation is one level down of abstraction. Same product company try shielding information from each other production group. Example, if a company produce wine and chocolate, encapsulation helps shielding information how each product Is being made from each other. \r\n\r\n\r\n 1. If I have individual package one for wine and another one for chocolate, and if all the classes are declared in the package as default access modifier, we are giving package level encapsulation for all classes.\r\n 2. Within a package, if we declare each class filed (member field) as\r\n    private and having a public method to access those fields, this way\r\n    giving class level encapsulation to those fields","title":"Difference between Encapsulation and Abstraction","body":"<p>Abstraction</p>\n\n<p>In Java, abstraction means hiding the information to the real world. It establishes the contract between the party to tell about what should we do to make use of the service. </p>\n\n<p>Example, In API development, only abstracted information of the service has been revealed to the world rather the actual implementation. Interface in java can help achieve this concept very well. </p>\n\n<p>Interface provides contract between the parties, example, producer and consumer. Producer produces the goods without letting know the consumer how the product is being made. But, through interface, Producer let all consumer know what product can buy. With the help of abstraction, producer can markets the product to their consumers.  </p>\n\n<p>Encapsulation:</p>\n\n<p>Encapsulation is one level down of abstraction. Same product company try shielding information from each other production group. Example, if a company produce wine and chocolate, encapsulation helps shielding information how each product Is being made from each other. </p>\n\n<ol>\n<li>If I have individual package one for wine and another one for chocolate, and if all the classes are declared in the package as default access modifier, we are giving package level encapsulation for all classes.</li>\n<li>Within a package, if we declare each class filed (member field) as\nprivate and having a public method to access those fields, this way\ngiving class level encapsulation to those fields</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10313606,"reputation":87,"user_id":7608576,"accept_rate":50,"display_name":"Zeeshan Haider"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1545115356,"creation_date":1521437938,"answer_id":49356447,"question_id":15176356,"body_markdown":"Encapsulation:\r\n \r\nHiding something, sort of like medicine capsule. We don&#39;t know what is in the capsule, we just take it. Same as in programming - we just hide some special code of method or property and it only gives output, same as capsule. In short, encapsulation hides data.\r\n\r\nAbstraction: \r\n\r\nAbstraction means hiding logic or implementation. For example, we take tablets and see their color and but don&#39;t know what is the purpose of this and how it works with the body.","title":"Difference between Encapsulation and Abstraction","body":"<p>Encapsulation:</p>\n\n<p>Hiding something, sort of like medicine capsule. We don't know what is in the capsule, we just take it. Same as in programming - we just hide some special code of method or property and it only gives output, same as capsule. In short, encapsulation hides data.</p>\n\n<p>Abstraction: </p>\n\n<p>Abstraction means hiding logic or implementation. For example, we take tablets and see their color and but don't know what is the purpose of this and how it works with the body.</p>\n"},{"tags":[],"owner":{"account_id":9313894,"reputation":991,"user_id":6914786,"display_name":"Jos&#233; Salgado"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1549759241,"creation_date":1531394419,"answer_id":51304341,"question_id":15176356,"body_markdown":"This image sums pretty well the difference between both:\n\n[![enter image description here][2]][2]\n\nSource [here][1]\n\n  [1]: http://www.differencebetween.net/technology/difference-between-abstraction-and-encapsulation/\n  [2]: https://i.stack.imgur.com/07dXi.png","title":"Difference between Encapsulation and Abstraction","body":"<p>This image sums pretty well the difference between both:</p>\n<p><a href=\"https://i.stack.imgur.com/07dXi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/07dXi.png\" alt=\"enter image description here\" /></a></p>\n<p>Source <a href=\"http://www.differencebetween.net/technology/difference-between-abstraction-and-encapsulation/\" rel=\"noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":9872834,"reputation":48427,"user_id":7311767,"display_name":"Stephen Rauch"},"score":4,"creation_date":1534040248,"post_id":51804993,"comment_id":90566099,"body_markdown":"Can you explain how this answer differs from the 12 other existing answers?","body":"Can you explain how this answer differs from the 12 other existing answers?"}],"tags":[],"owner":{"account_id":3446769,"reputation":145,"user_id":2887420,"accept_rate":71,"display_name":"CodeFu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534037070,"creation_date":1534037070,"answer_id":51804993,"question_id":15176356,"body_markdown":"Yes, it is true that Abstraction and Encapsulation are about hiding. \r\n\r\n - Using only relevant details and hiding unnecessary data at **Design Level** is called **Abstraction**. (Like selecting only relevant properties for a class &#39;Car&#39; to make it more abstract or general.)\r\n\r\n - **Encapsulation** is the hiding of data at **Implementation Level**. Like how to actually hide data from direct/external access. This is done by binding data and methods to a single entity/unit to prevent external access. Thus, encapsulation is also known as data hiding at implementation level.","title":"Difference between Encapsulation and Abstraction","body":"<p>Yes, it is true that Abstraction and Encapsulation are about hiding. </p>\n\n<ul>\n<li><p>Using only relevant details and hiding unnecessary data at <strong>Design Level</strong> is called <strong>Abstraction</strong>. (Like selecting only relevant properties for a class 'Car' to make it more abstract or general.)</p></li>\n<li><p><strong>Encapsulation</strong> is the hiding of data at <strong>Implementation Level</strong>. Like how to actually hide data from direct/external access. This is done by binding data and methods to a single entity/unit to prevent external access. Thus, encapsulation is also known as data hiding at implementation level.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4744062,"reputation":6180,"user_id":3835843,"accept_rate":59,"display_name":"Arif"},"comment_count":0,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1561338485,"creation_date":1545452237,"answer_id":53892996,"question_id":15176356,"body_markdown":"**Encapsulation:** Wrapping code and data together into a single unit. `Class` is an example of encapsulation, because it wraps the method and property.  \r\n\r\n**Abstraction:** Hiding internal details and showing functionality only. Abstraction focus on what the object does instead of how it does. It provides generalized view of classes.\r\n\r\n    int number = 5;\r\n    string aStringNumber = number.ToString(); \r\n\r\nHere, ToString() is abstraction. And how this mechanism `number` variable converted to string and initialize into `aStringNumber` is encapsulation.\r\n\r\n*Let us take a real world example of calculator. Encapsulation is the internal circuits, battery, etc., that combine to make it a calculator. Abstraction is the different buttons like on-off, clear and other buttons provided to operate it.*","title":"Difference between Encapsulation and Abstraction","body":"<p><strong>Encapsulation:</strong> Wrapping code and data together into a single unit. <code>Class</code> is an example of encapsulation, because it wraps the method and property.  </p>\n\n<p><strong>Abstraction:</strong> Hiding internal details and showing functionality only. Abstraction focus on what the object does instead of how it does. It provides generalized view of classes.</p>\n\n<pre><code>int number = 5;\nstring aStringNumber = number.ToString(); \n</code></pre>\n\n<p>Here, ToString() is abstraction. And how this mechanism <code>number</code> variable converted to string and initialize into <code>aStringNumber</code> is encapsulation.</p>\n\n<p><em>Let us take a real world example of calculator. Encapsulation is the internal circuits, battery, etc., that combine to make it a calculator. Abstraction is the different buttons like on-off, clear and other buttons provided to operate it.</em></p>\n"},{"comments":[{"owner":{"account_id":12543757,"reputation":973,"user_id":9127854,"display_name":"Pran Kumar Sarkar"},"score":0,"creation_date":1641319701,"post_id":55510241,"comment_id":124773031,"body_markdown":"Question was about abstraction vs encapsulation, not about abstract class!","body":"Question was about abstraction vs encapsulation, not about abstract class!"}],"tags":[],"owner":{"account_id":4324390,"reputation":529,"user_id":3531600,"accept_rate":88,"display_name":"S Vinesh"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1555052880,"creation_date":1554363247,"answer_id":55510241,"question_id":15176356,"body_markdown":"Just a few more points to make thing clear,\r\n\r\nOne must not confuse data abstraction and the abstract class. They are different.\r\n\r\nGenerally we say abstract class or method is to basically hide something. But no..  That is wrong. What is the word abstract means ? Google search says the English word abstraction means \r\n\r\n&quot;Existing in thought or as an idea but not having a physical or concrete existence.&quot;\r\n\r\nAnd thats right in case of abstract class too. It is not hiding the content of the method but the method&#39;s content is already empty (not having a physical or concrete existence) but it determines how a method should be (existing in thought or as an idea) or  a method should be in the calss.\r\n\r\nSo when do you actually use abstract methods ? \r\n\r\n- When a method from base class will differ in each child class that extends it.\r\n- And so you want to make sure the child class have this function implemented.\r\n- This also ensures that method, to have compulsory signature like, it must have n number of parameters.\r\n\r\nSo about abstract class!\r\n- An Abstract class cannot be instantiated only extended! But why ?\r\n\r\n- A class with abstract method must be prevented from creating its own instance because the abstract methods in it, are not having any meaningful implementation.\r\n- You can even make a class abstract, if for some reason you find that it is meaning less to have a instance of your that class.\r\n\r\n\r\nAn Abstract class help us avoid creating new instance of it!\r\n\r\nAn abstract method in a class forces the child class to implement that function for sure with the provided signature!\r\n\r\n","title":"Difference between Encapsulation and Abstraction","body":"<p>Just a few more points to make thing clear,</p>\n\n<p>One must not confuse data abstraction and the abstract class. They are different.</p>\n\n<p>Generally we say abstract class or method is to basically hide something. But no..  That is wrong. What is the word abstract means ? Google search says the English word abstraction means </p>\n\n<p>\"Existing in thought or as an idea but not having a physical or concrete existence.\"</p>\n\n<p>And thats right in case of abstract class too. It is not hiding the content of the method but the method's content is already empty (not having a physical or concrete existence) but it determines how a method should be (existing in thought or as an idea) or  a method should be in the calss.</p>\n\n<p>So when do you actually use abstract methods ? </p>\n\n<ul>\n<li>When a method from base class will differ in each child class that extends it.</li>\n<li>And so you want to make sure the child class have this function implemented.</li>\n<li>This also ensures that method, to have compulsory signature like, it must have n number of parameters.</li>\n</ul>\n\n<p>So about abstract class!\n- An Abstract class cannot be instantiated only extended! But why ?</p>\n\n<ul>\n<li>A class with abstract method must be prevented from creating its own instance because the abstract methods in it, are not having any meaningful implementation.</li>\n<li>You can even make a class abstract, if for some reason you find that it is meaning less to have a instance of your that class.</li>\n</ul>\n\n<p>An Abstract class help us avoid creating new instance of it!</p>\n\n<p>An abstract method in a class forces the child class to implement that function for sure with the provided signature!</p>\n"},{"tags":[],"owner":{"account_id":6850949,"reputation":584,"user_id":5268152,"display_name":"Surya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591634544,"creation_date":1591634544,"answer_id":62267045,"question_id":15176356,"body_markdown":"Let me explain it in with the same example discussed above. Kindly consider the same TV.\r\n\r\n**Encapsulation**: The adjustments we can make with the remote is a good example - Volume UP/DOWN, Color &amp; Contrast - All we can do is adjust it to the min and max value provided and cannot do anything beyond what is provided in the remote - Imagine the getter and setter here(The setter function will check whether the value provided is valid if Yes, it process the operation if not won&#39;t allow us to make changes - like we cannot decrease the volume beyond zero even we press the volume down button a hundred times).\r\n\r\n**Abstraction**: We can take the same example here but with a higher Degree/Context. The volume down button will decrease the volume - and this is the info we provide to the user and the user is not aware of neither the infrared transmitter inside the remote nor the receiver in the TV and the subsequent process of parsing the signal and the microprocessor architecture inside the TV. Simply put it is not needed in the context - Just provide what is necessary. One can easily relate the Text book definition here ie., Hiding the inner implementation and only providing what it will do rather than how it do that!\r\n\r\nHope it clarifies a bit!","title":"Difference between Encapsulation and Abstraction","body":"<p>Let me explain it in with the same example discussed above. Kindly consider the same TV.</p>\n\n<p><strong>Encapsulation</strong>: The adjustments we can make with the remote is a good example - Volume UP/DOWN, Color &amp; Contrast - All we can do is adjust it to the min and max value provided and cannot do anything beyond what is provided in the remote - Imagine the getter and setter here(The setter function will check whether the value provided is valid if Yes, it process the operation if not won't allow us to make changes - like we cannot decrease the volume beyond zero even we press the volume down button a hundred times).</p>\n\n<p><strong>Abstraction</strong>: We can take the same example here but with a higher Degree/Context. The volume down button will decrease the volume - and this is the info we provide to the user and the user is not aware of neither the infrared transmitter inside the remote nor the receiver in the TV and the subsequent process of parsing the signal and the microprocessor architecture inside the TV. Simply put it is not needed in the context - Just provide what is necessary. One can easily relate the Text book definition here ie., Hiding the inner implementation and only providing what it will do rather than how it do that!</p>\n\n<p>Hope it clarifies a bit!</p>\n"},{"comments":[{"owner":{"account_id":17727637,"reputation":494,"user_id":12870978,"display_name":"Midhunraj R Pillai"},"score":0,"creation_date":1614868129,"post_id":64432856,"comment_id":117521101,"body_markdown":"Can you elaborate the answer?","body":"Can you elaborate the answer?"}],"tags":[],"owner":{"account_id":13692927,"reputation":944,"user_id":9880276,"display_name":"Rasika Weragoda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603130527,"creation_date":1603130527,"answer_id":64432856,"question_id":15176356,"body_markdown":"If I am the one who faced the interview, I would say that as the end-user perspective abstraction and encapsulation are fairly same. It is nothing but information hiding. As a Software Developer perspective, Abstraction solves the problems at the design level and Encapsulation solves the problem in implementation level","title":"Difference between Encapsulation and Abstraction","body":"<p>If I am the one who faced the interview, I would say that as the end-user perspective abstraction and encapsulation are fairly same. It is nothing but information hiding. As a Software Developer perspective, Abstraction solves the problems at the design level and Encapsulation solves the problem in implementation level</p>\n"},{"tags":[],"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604064497,"creation_date":1604064497,"answer_id":64609306,"question_id":15176356,"body_markdown":"Briefly, `Abstraction` happens at class level by hiding implementation and implementing an interface to be able to interact with the instance of the class. Whereas, `Encapsulation` is used to hide information; for instance, making the member variables private to ban the direct access and providing getters and setters for them for indicrect access. ","title":"Difference between Encapsulation and Abstraction","body":"<p>Briefly, <code>Abstraction</code> happens at class level by hiding implementation and implementing an interface to be able to interact with the instance of the class. Whereas, <code>Encapsulation</code> is used to hide information; for instance, making the member variables private to ban the direct access and providing getters and setters for them for indicrect access.</p>\n"},{"comments":[{"owner":{"account_id":17727637,"reputation":494,"user_id":12870978,"display_name":"Midhunraj R Pillai"},"score":2,"creation_date":1614868038,"post_id":65543358,"comment_id":117521044,"body_markdown":"This might be a good explanation but still it doesn&#39;t answer the question, I guess. The actual question is, if both are about hiding data (and one is a specialization of the other as you have said), then why they are **separate** concepts in OOPS? If a person is a millionaire and a billionaire then we usually omit the millionaire part. get it? (text books lists abstraction, encapsulation, inheritance and polymorphism as the 4 concepts of OOPs)","body":"This might be a good explanation but still it doesn&#39;t answer the question, I guess. The actual question is, if both are about hiding data (and one is a specialization of the other as you have said), then why they are <b>separate</b> concepts in OOPS? If a person is a millionaire and a billionaire then we usually omit the millionaire part. get it? (text books lists abstraction, encapsulation, inheritance and polymorphism as the 4 concepts of OOPs)"},{"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"score":0,"creation_date":1614870275,"post_id":65543358,"comment_id":117522354,"body_markdown":"@MidhunrajRPillai, I updated the answer with where the abstraction is used","body":"@MidhunrajRPillai, I updated the answer with where the abstraction is used"},{"owner":{"account_id":418681,"reputation":335,"user_id":795390,"accept_rate":29,"display_name":"A.Soliman"},"score":0,"creation_date":1638222779,"post_id":65543358,"comment_id":124026712,"body_markdown":"@RCvaram I liked the last line of your answer","body":"@RCvaram I liked the last line of your answer"}],"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1638729455,"creation_date":1609616781,"answer_id":65543358,"question_id":15176356,"body_markdown":"Yes !!!!\r\nIf I say **Encapsulation is a kind of an advanced specific scope abstraction**, \r\n\r\nHow many of you read/upvote my answer. Let&#39;s dig into why I am saying this.\r\n\r\nI need to clear two things before my claim.\r\n\r\n One is data hiding and,  another one is the abstraction\r\n\r\n&lt;h3&gt; Data hiding &lt;/h3&gt;\r\nMost of the time, we will not give direct access to our internal data. Our internal data should not go out directly that is an outside person can&#39;t access our internal data directly. It&#39;s all about security since we need to protect the internal states of a particular object.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n&lt;h3&gt; Abstraction&lt;/h3&gt; \r\nFor simplicity, hide the internal implementations is called abstraction. In abstraction, we only focus on the necessary things. Basically, We talk about &quot;What to do&quot; and not &quot;How to do&quot; in abstraction.\r\nSecurity also can be achieved by abstraction since we are not going to highlight &quot;how we are implementing&quot;. Maintainability will be increased since we can alter the implementation but it will not affect our end user.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n\r\nI said, &quot;Encapsulation is a kind of an advanced specific scope abstraction&quot;.  Why? because we can see encapsulation as data hiding + abstraction\r\n\r\n\r\n&gt; encapsulation  =  data hiding  +  abstraction\r\n\r\n\r\nIn encapsulation, we need to hide the data so the outside person can not see the data and we need to provide methods that can be used to access the data. These methods may have validations or other features inside those things also hidden to an outside person. So here, we are hiding the implementation of access methods and it is called abstraction. \r\n\r\nThis is why I said like above encapsulation is a kind of abstraction.\r\n\r\nSo Where is the **difference**?\r\n\r\nThe difference is the abstraction is a general one if we are hiding something from the user for simplicity, maintainability and security and,\r\n\r\nencapsulation is a specific one for which is related to internal states security where we are hiding the internal state (data hiding) and we are providing methods to access the data and those methods implementation also hidden from the outside person(abstraction).\r\n\r\n**Why we need abstraction**\r\nWhen you do designs, you will not talk about implementations. You say If you give these parameters to this method it will give these output.\r\nWe hide the internal implementation of the method and talk about what it will do so this is an abstraction.\r\n\r\nExample\r\n\r\n```\r\npublic int add(int a, int b);\r\n```\r\nThis method definition tells us that if you give two variables it will do addition and return the result.\r\n\r\nhere we will not look at the implementation and we ay only what this method does and not how it does.\r\nMethod implementations can be differs based on developers.\r\n1. \r\n```\r\npublic int add(int a, int b){\r\n   return a + b; \r\n}\r\n```\r\n2. \r\n```\r\npublic int add(int a, int b){\r\n\r\n   return b + a; \r\n}\r\n\r\n```\r\n\r\nTwo methods are doing the same thing what their implementation differs.\r\n\r\nBasically,\r\n&lt;h2&gt;\r\n Abstraction is needed to model the system. Encapsulation is needed to enhance system security.&lt;/h2&gt;\r\n","title":"Difference between Encapsulation and Abstraction","body":"<p>Yes !!!!\nIf I say <strong>Encapsulation is a kind of an advanced specific scope abstraction</strong>,</p>\n<p>How many of you read/upvote my answer. Let's dig into why I am saying this.</p>\n<p>I need to clear two things before my claim.</p>\n<p>One is data hiding and,  another one is the abstraction</p>\n<h3> Data hiding </h3>\nMost of the time, we will not give direct access to our internal data. Our internal data should not go out directly that is an outside person can't access our internal data directly. It's all about security since we need to protect the internal states of a particular object.\n<p><br></p>\n<h3> Abstraction</h3> \nFor simplicity, hide the internal implementations is called abstraction. In abstraction, we only focus on the necessary things. Basically, We talk about \"What to do\" and not \"How to do\" in abstraction.\nSecurity also can be achieved by abstraction since we are not going to highlight \"how we are implementing\". Maintainability will be increased since we can alter the implementation but it will not affect our end user.\n<p><br></p>\n<p>I said, &quot;Encapsulation is a kind of an advanced specific scope abstraction&quot;.  Why? because we can see encapsulation as data hiding + abstraction</p>\n<blockquote>\n<p>encapsulation  =  data hiding  +  abstraction</p>\n</blockquote>\n<p>In encapsulation, we need to hide the data so the outside person can not see the data and we need to provide methods that can be used to access the data. These methods may have validations or other features inside those things also hidden to an outside person. So here, we are hiding the implementation of access methods and it is called abstraction.</p>\n<p>This is why I said like above encapsulation is a kind of abstraction.</p>\n<p>So Where is the <strong>difference</strong>?</p>\n<p>The difference is the abstraction is a general one if we are hiding something from the user for simplicity, maintainability and security and,</p>\n<p>encapsulation is a specific one for which is related to internal states security where we are hiding the internal state (data hiding) and we are providing methods to access the data and those methods implementation also hidden from the outside person(abstraction).</p>\n<p><strong>Why we need abstraction</strong>\nWhen you do designs, you will not talk about implementations. You say If you give these parameters to this method it will give these output.\nWe hide the internal implementation of the method and talk about what it will do so this is an abstraction.</p>\n<p>Example</p>\n<pre><code>public int add(int a, int b);\n</code></pre>\n<p>This method definition tells us that if you give two variables it will do addition and return the result.</p>\n<p>here we will not look at the implementation and we ay only what this method does and not how it does.\nMethod implementations can be differs based on developers.\n1.</p>\n<pre><code>public int add(int a, int b){\n   return a + b; \n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>public int add(int a, int b){\n\n   return b + a; \n}\n\n</code></pre>\n<p>Two methods are doing the same thing what their implementation differs.</p>\n<p>Basically,</p>\n<h2>\n Abstraction is needed to model the system. Encapsulation is needed to enhance system security.</h2>\n"},{"comments":[{"owner":{"account_id":17572461,"reputation":1132,"user_id":12747950,"display_name":"saivishnu tammineni"},"score":0,"creation_date":1656861260,"post_id":65707583,"comment_id":128669506,"body_markdown":"Nice explanation with example.","body":"Nice explanation with example."}],"tags":[],"owner":{"account_id":9297761,"reputation":139,"user_id":6904202,"display_name":"Monu chandramohan"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1610561637,"creation_date":1610561637,"answer_id":65707583,"question_id":15176356,"body_markdown":"A very practical example is.\r\n\r\nlet&#39;s just say I want to encrypt my password.\r\n\r\n - I don&#39;t want to know the details, I just call\r\n   encryptionImpl.encrypt(password) and it returns an encrypted\r\n   password.\r\n   \r\n   `public interface Encryption{ public String encrypt(String password);\r\n   } `\r\n   \r\n   This is called **abstraction**. It just shows what should be done.\r\n - Now let us assume We have Two types of Encryption Md5 and RSA which\r\n   implement Encryption from a third-party encryption jar.\r\n   \r\n   Then those Encryption classes have their own way of implementing\r\n   encryption which protects their implementation from outsiders\r\n   \r\n   This is called **Encapsulation**. Hides how it should be done.\r\n\r\nRemember:***what should be done vs how it should be done.***\r\n\r\n***Hiding complications vs Protecting implementations***\r\n\r\n\r\n","title":"Difference between Encapsulation and Abstraction","body":"<p>A very practical example is.</p>\n<p>let's just say I want to encrypt my password.</p>\n<ul>\n<li><p>I don't want to know the details, I just call\nencryptionImpl.encrypt(password) and it returns an encrypted\npassword.</p>\n<p><code>public interface Encryption{ public String encrypt(String password); } </code></p>\n<p>This is called <strong>abstraction</strong>. It just shows what should be done.</p>\n</li>\n<li><p>Now let us assume We have Two types of Encryption Md5 and RSA which\nimplement Encryption from a third-party encryption jar.</p>\n<p>Then those Encryption classes have their own way of implementing\nencryption which protects their implementation from outsiders</p>\n<p>This is called <strong>Encapsulation</strong>. Hides how it should be done.</p>\n</li>\n</ul>\n<p>Remember:<em><strong>what should be done vs how it should be done.</strong></em></p>\n<p><em><strong>Hiding complications vs Protecting implementations</strong></em></p>\n"},{"tags":[],"owner":{"account_id":4929951,"reputation":255,"user_id":3970061,"display_name":"rahul sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613926201,"creation_date":1613926201,"answer_id":66304700,"question_id":15176356,"body_markdown":"Encapsulation is wrapping up of data and methods in a single unit and making the data accessible only through methods(getter/setter) to ensure safety of data.\r\n\r\nAbstraction is hiding internal implementation details of how work is done.\r\n\r\nTake and example of following stack class:\r\n\r\n    Class Stack\r\n    {\r\n    private top;\r\n    void push();\r\n    int pop();\r\n    }\r\n\r\nNow encapsulation helps to safeguard internal data as top cannot be accessed directly outside.\r\n\r\nAnd abstraction helps to do push or pop on stack without worrying about what are steps to push or pop\r\n","title":"Difference between Encapsulation and Abstraction","body":"<p>Encapsulation is wrapping up of data and methods in a single unit and making the data accessible only through methods(getter/setter) to ensure safety of data.</p>\n<p>Abstraction is hiding internal implementation details of how work is done.</p>\n<p>Take and example of following stack class:</p>\n<pre><code>Class Stack\n{\nprivate top;\nvoid push();\nint pop();\n}\n</code></pre>\n<p>Now encapsulation helps to safeguard internal data as top cannot be accessed directly outside.</p>\n<p>And abstraction helps to do push or pop on stack without worrying about what are steps to push or pop</p>\n"},{"tags":[],"owner":{"account_id":8720983,"reputation":55,"user_id":6524161,"accept_rate":14,"display_name":"Shubham Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627820573,"creation_date":1627820573,"answer_id":68610380,"question_id":15176356,"body_markdown":"**Abstraction**\r\nAs the name suggests abstract means *summary* or *brief* about somtehing. In case of OOP Abstract Classes are the ones which do not contain every information about that object in real world, for eg. you want to book a hotel room, if your object is that *room* you mainly care about:\r\n- its prices, size, beds etc. \r\n\r\nbut you do not care about \r\n- the wiring they have used in the hotel room for electricity.\r\n- which cement they have used to build it up\r\n\r\nSo, you get **abstracted** information about the *room* which you care about.\r\n\r\nOn the other hand, **Encapsulation** is basically capsulating the related information together, for eg. you booked the hotel room, you go there and switch on a bulb by pressing the *switch*. Now the *switch* object has all internal wirings which are required to switch that bulb ON, but you really do not care about those wirings. You care only about bulb is switched ON or not.\r\n\r\nNow one can argue that **abstraction** also applies here:\r\n\r\none can say the internal wiring of the *switch* is also abstracted to you, so this must be case of **abstraction** but here are some subtle differences:\r\n\r\n**Abstraction** is more of a contextual thing, it does not have the non abstracted information, like the wiring info which you do not care about, is not present in the context of website for booking hotel *room* (like your class *room* do not have information about the wiring grid of it, since this *room* is delegated for online booking only) , whereas **encapsulation** is more granular, it means hiding and capsulating the granular things which you do not need to care about, for switching the bulb ON the *switch* hides the wiring inside the switch board (like private attributes/methods of classes). \r\nNow the *switch* class has the information but it is hidden to you. On the other hand *room* class does not have the information about wiring design of a hotel room since it is not even in the context of online booking of the *room*\r\n\r\nThus, the **abstraction** is more related to classes and **encapsulation** is more related to internal of the class objects, attributes and methods.","title":"Difference between Encapsulation and Abstraction","body":"<p><strong>Abstraction</strong>\nAs the name suggests abstract means <em>summary</em> or <em>brief</em> about somtehing. In case of OOP Abstract Classes are the ones which do not contain every information about that object in real world, for eg. you want to book a hotel room, if your object is that <em>room</em> you mainly care about:</p>\n<ul>\n<li>its prices, size, beds etc.</li>\n</ul>\n<p>but you do not care about</p>\n<ul>\n<li>the wiring they have used in the hotel room for electricity.</li>\n<li>which cement they have used to build it up</li>\n</ul>\n<p>So, you get <strong>abstracted</strong> information about the <em>room</em> which you care about.</p>\n<p>On the other hand, <strong>Encapsulation</strong> is basically capsulating the related information together, for eg. you booked the hotel room, you go there and switch on a bulb by pressing the <em>switch</em>. Now the <em>switch</em> object has all internal wirings which are required to switch that bulb ON, but you really do not care about those wirings. You care only about bulb is switched ON or not.</p>\n<p>Now one can argue that <strong>abstraction</strong> also applies here:</p>\n<p>one can say the internal wiring of the <em>switch</em> is also abstracted to you, so this must be case of <strong>abstraction</strong> but here are some subtle differences:</p>\n<p><strong>Abstraction</strong> is more of a contextual thing, it does not have the non abstracted information, like the wiring info which you do not care about, is not present in the context of website for booking hotel <em>room</em> (like your class <em>room</em> do not have information about the wiring grid of it, since this <em>room</em> is delegated for online booking only) , whereas <strong>encapsulation</strong> is more granular, it means hiding and capsulating the granular things which you do not need to care about, for switching the bulb ON the <em>switch</em> hides the wiring inside the switch board (like private attributes/methods of classes).\nNow the <em>switch</em> class has the information but it is hidden to you. On the other hand <em>room</em> class does not have the information about wiring design of a hotel room since it is not even in the context of online booking of the <em>room</em></p>\n<p>Thus, the <strong>abstraction</strong> is more related to classes and <strong>encapsulation</strong> is more related to internal of the class objects, attributes and methods.</p>\n"},{"tags":[],"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636453157,"creation_date":1636453157,"answer_id":69896400,"question_id":15176356,"body_markdown":"**Abstraction**\r\n - is the process of hiding the how, and only showing the what\r\n - the purpose is to simplify information and hide unnecessary details from the user\r\n \r\n\r\n**Encapsulation**\r\n   - is the process of wrapping data and functionality into a single unit\r\n   - the purpose is to protect data, by preventing direct access and only providing a safer and indirect way","title":"Difference between Encapsulation and Abstraction","body":"<p><strong>Abstraction</strong></p>\n<ul>\n<li>is the process of hiding the how, and only showing the what</li>\n<li>the purpose is to simplify information and hide unnecessary details from the user</li>\n</ul>\n<p><strong>Encapsulation</strong></p>\n<ul>\n<li>is the process of wrapping data and functionality into a single unit</li>\n<li>the purpose is to protect data, by preventing direct access and only providing a safer and indirect way</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4526826,"reputation":4997,"user_id":3678363,"display_name":"Reyan Chougle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646206128,"creation_date":1646206128,"answer_id":71318895,"question_id":15176356,"body_markdown":"In simple terms, **Encapsulation** is data hiding(information hiding) while **Abstraction** is detail hiding(implementation hiding)","title":"Difference between Encapsulation and Abstraction","body":"<p>In simple terms, <strong>Encapsulation</strong> is data hiding(information hiding) while <strong>Abstraction</strong> is detail hiding(implementation hiding)</p>\n"},{"tags":[],"owner":{"account_id":235361,"reputation":780,"user_id":502130,"accept_rate":82,"display_name":"rutruth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653049732,"creation_date":1653049732,"answer_id":72318954,"question_id":15176356,"body_markdown":"**Encapsulation** is the composition of meaning.\r\n\r\n**Abstraction** is the simplification of meaning.","title":"Difference between Encapsulation and Abstraction","body":"<p><strong>Encapsulation</strong> is the composition of meaning.</p>\n<p><strong>Abstraction</strong> is the simplification of meaning.</p>\n"}],"owner":{"account_id":1960952,"reputation":2837,"user_id":1762551,"accept_rate":57,"display_name":"WpfBee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190398,"favorite_count":0,"down_vote_count":1,"up_vote_count":145,"accepted_answer_id":15176477,"answer_count":22,"score":144,"last_activity_date":1696741727,"creation_date":1362239564,"question_id":15176356,"body_markdown":"I had an interview today. I had a question from **OOP**, about the difference between **Encapsulation** &amp; **Abstraction**?\r\n \r\nI replied to my knowledge that **Encapsulation** is basically binding data members &amp; member functions into a single unit called **Class**. Whereas **Abstraction** is basically to hide implementation complexity &amp; provide ease of access to the users. I thought she would be okay with my answer. But she queried if the purpose of both is to hide information then what the actual difference between these two is? I could not give any answer to her.\r\n\r\nBefore asking this question, I read other threads on StackOverFlow about the difference between these two **OOP**s concepts. But I am not finding myself in a position to convince the interviewer.\r\n\r\nCan anyone please justify it with the simplest example? ","title":"Difference between Encapsulation and Abstraction","body":"<p>I had an interview today. I had a question from <strong>OOP</strong>, about the difference between <strong>Encapsulation</strong> &amp; <strong>Abstraction</strong>?</p>\n<p>I replied to my knowledge that <strong>Encapsulation</strong> is basically binding data members &amp; member functions into a single unit called <strong>Class</strong>. Whereas <strong>Abstraction</strong> is basically to hide implementation complexity &amp; provide ease of access to the users. I thought she would be okay with my answer. But she queried if the purpose of both is to hide information then what the actual difference between these two is? I could not give any answer to her.</p>\n<p>Before asking this question, I read other threads on StackOverFlow about the difference between these two <strong>OOP</strong>s concepts. But I am not finding myself in a position to convince the interviewer.</p>\n<p>Can anyone please justify it with the simplest example?</p>\n"},{"tags":["java","android","midi"],"answers":[{"tags":[],"owner":{"account_id":21474253,"reputation":61,"user_id":18082608,"display_name":"aWiseMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647262359,"creation_date":1647262359,"answer_id":71468118,"question_id":71235419,"body_markdown":"My own solution:\r\n\r\nXML:\r\n\r\n    &lt;devices&gt;\r\n        &lt;device\r\n            manufacturer=&quot;anyManufacturer&quot;\r\n            product=&quot;Virtual&quot;\r\n            name=&quot;myApp Virtual Port&quot;&gt;\r\n            &lt;input-port name=&quot;input&quot; /&gt;\r\n            &lt;output-port name=&quot;output&quot; /&gt;\r\n        &lt;/device&gt;\r\n    &lt;/devices&gt;\r\n\r\nThen in the service call getOutputPortReceivers() to get the output port.\r\nhttps://developer.android.com/reference/android/media/midi/MidiDeviceService#getOutputPortReceivers()\r\n\r\nthen you can use send() on that MidiReceiver.\r\n\r\n    public class MIDIConnectDeviceService extends MidiDeviceService {\r\n        private MidiReceiver mInputReceiver = new MyReceiver();\r\n        private static MidiReceiver mOutputReceiver; \r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n        }\r\n    \r\n        @Override\r\n        // Declare the receivers associated with your input ports.\r\n        public MidiReceiver[] onGetInputPortReceivers() {\r\n            return new MidiReceiver[] { mInputReceiver };\r\n        }    \r\n    \r\n        public static void send(byte[] msg, int offset, int count, long timestamp) throws IOException {\r\n            if (mOutputReceiver != null){\r\n                mOutputReceiver.send(msg, offset, count, timestamp);\r\n            }\r\n        }\r\n    \r\n        class MyReceiver extends MidiReceiver {\r\n            @Override\r\n            public void onSend(byte[] data, int offset, int count,\r\n                               long timestamp) throws IOException {\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDeviceStatusChanged(MidiDeviceStatus status) {\r\n            MidiReceiver[] midiReceivers = getOutputPortReceivers();\r\n            mOutputReceiver = midiReceivers[0];\r\n        }\r\n    }","title":"How to send MIDI to own virtual output port with Android MIDI Package?","body":"<p>My own solution:</p>\n<p>XML:</p>\n<pre><code>&lt;devices&gt;\n    &lt;device\n        manufacturer=&quot;anyManufacturer&quot;\n        product=&quot;Virtual&quot;\n        name=&quot;myApp Virtual Port&quot;&gt;\n        &lt;input-port name=&quot;input&quot; /&gt;\n        &lt;output-port name=&quot;output&quot; /&gt;\n    &lt;/device&gt;\n&lt;/devices&gt;\n</code></pre>\n<p>Then in the service call getOutputPortReceivers() to get the output port.\n<a href=\"https://developer.android.com/reference/android/media/midi/MidiDeviceService#getOutputPortReceivers()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/midi/MidiDeviceService#getOutputPortReceivers()</a></p>\n<p>then you can use send() on that MidiReceiver.</p>\n<pre><code>public class MIDIConnectDeviceService extends MidiDeviceService {\n    private MidiReceiver mInputReceiver = new MyReceiver();\n    private static MidiReceiver mOutputReceiver; \n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Override\n    // Declare the receivers associated with your input ports.\n    public MidiReceiver[] onGetInputPortReceivers() {\n        return new MidiReceiver[] { mInputReceiver };\n    }    \n\n    public static void send(byte[] msg, int offset, int count, long timestamp) throws IOException {\n        if (mOutputReceiver != null){\n            mOutputReceiver.send(msg, offset, count, timestamp);\n        }\n    }\n\n    class MyReceiver extends MidiReceiver {\n        @Override\n        public void onSend(byte[] data, int offset, int count,\n                           long timestamp) throws IOException {\n\n        }\n    }\n\n    @Override\n    public void onDeviceStatusChanged(MidiDeviceStatus status) {\n        MidiReceiver[] midiReceivers = getOutputPortReceivers();\n        mOutputReceiver = midiReceivers[0];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21474253,"reputation":61,"user_id":18082608,"display_name":"aWiseMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71468118,"answer_count":1,"score":1,"last_activity_date":1696741516,"creation_date":1645612931,"question_id":71235419,"body_markdown":"I am creating a Java Android app which uses the Android MIDI Package:\r\nhttps://developer.android.com/reference/android/media/midi/package-summary#extend_midideviceservice\r\n\r\nThe app needs to deploy its own virtual midi input and output port.\r\nSo far the input side is working nicely. I can deploy the output port, its visible in other apps but I don&#39;t know how send to the output port and can&#39;t find proper documentation on that.\r\n\r\nDoes anyone have good documentation/example on opening and using the self-deployed output port?\r\n\r\n\r\nMy device_info.xml:\r\n\r\n    &lt;devices&gt;\r\n        &lt;device\r\n            manufacturer=&quot;anyManufacturer&quot;\r\n            product=&quot;Virtual&quot;\r\n            name=&quot;myApp Virtual Inport&quot;&gt;\r\n            &lt;input-port name=&quot;input&quot; /&gt;\r\n        &lt;/device&gt;\r\n        &lt;device\r\n            manufacturer=&quot;anyManufacturer&quot;\r\n            product=&quot;Virtual&quot;\r\n            name=&quot;myApp Virtual Outport&quot;&gt;\r\n            &lt;output-port name=&quot;output&quot; /&gt;\r\n        &lt;/device&gt;\r\n    &lt;/devices&gt;\r\n\r\n","title":"How to send MIDI to own virtual output port with Android MIDI Package?","body":"<p>I am creating a Java Android app which uses the Android MIDI Package:\n<a href=\"https://developer.android.com/reference/android/media/midi/package-summary#extend_midideviceservice\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/midi/package-summary#extend_midideviceservice</a></p>\n<p>The app needs to deploy its own virtual midi input and output port.\nSo far the input side is working nicely. I can deploy the output port, its visible in other apps but I don't know how send to the output port and can't find proper documentation on that.</p>\n<p>Does anyone have good documentation/example on opening and using the self-deployed output port?</p>\n<p>My device_info.xml:</p>\n<pre><code>&lt;devices&gt;\n    &lt;device\n        manufacturer=&quot;anyManufacturer&quot;\n        product=&quot;Virtual&quot;\n        name=&quot;myApp Virtual Inport&quot;&gt;\n        &lt;input-port name=&quot;input&quot; /&gt;\n    &lt;/device&gt;\n    &lt;device\n        manufacturer=&quot;anyManufacturer&quot;\n        product=&quot;Virtual&quot;\n        name=&quot;myApp Virtual Outport&quot;&gt;\n        &lt;output-port name=&quot;output&quot; /&gt;\n    &lt;/device&gt;\n&lt;/devices&gt;\n</code></pre>\n"},{"tags":["java","spring","jms","threadpool"],"answers":[{"comments":[{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312080532,"post_id":6861144,"comment_id":8197275,"body_markdown":"My consumers just let one thread dispatches.Then let subThreads do process.","body":"My consumers just let one thread dispatches.Then let subThreads do process."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1312090605,"post_id":6861144,"comment_id":8198034,"body_markdown":"@user808032: Right, you seem to be rewriting stuff that Spring already does. I updated my answer. Check it out.","body":"@user808032: Right, you seem to be rewriting stuff that Spring already does. I updated my answer. Check it out."},{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312108740,"post_id":6861144,"comment_id":8199596,"body_markdown":"OH.So , Is there only one client connection with 10 threads ?Thanks!","body":"OH.So , Is there only one client connection with 10 threads ?Thanks!"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1312124653,"post_id":6861144,"comment_id":8201390,"body_markdown":"By default, unless an external transaction manager is being used, yes. A single connection will be created. That connection will be used to create a single session. That session will be used to create a consumer for each of the 10 specified threads. This is [all tunable](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#setCacheLevel%28int%29).","body":"By default, unless an external transaction manager is being used, yes. A single connection will be created. That connection will be used to create a single session. That session will be used to create a consumer for each of the 10 specified threads. This is <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#setCacheLevel%28int%29\" rel=\"nofollow noreferrer\">all tunable</a>."},{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312161166,"post_id":6861144,"comment_id":8205979,"body_markdown":"Hi Ryan . I am not familiar .Can you give me a full exmaple to my Email linzuxiong1988@gmail.com?Thanks!","body":"Hi Ryan . I am not familiar .Can you give me a full exmaple to my Email linzuxiong1988@gmail.com?Thanks!"},{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312183495,"post_id":6861144,"comment_id":8208567,"body_markdown":"Thanks very much~I will modify my code , consumer, in 2~4 days .Then run it in server~~~","body":"Thanks very much~I will modify my code , consumer, in 2~4 days .Then run it in server~~~"}],"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1312170219,"creation_date":1311865234,"answer_id":6861144,"question_id":6858038,"body_markdown":"I&#39;m not sure I get what you&#39;re trying to do. If you&#39;re trying to have multiple messages processed concurrently, get away from the JmsTemplate and use a [DefaultMessageListenerContainer][1] with [concurrentConsumers][2]. Also available via the [JMS namespace][3].\r\n\r\nFor example, it seems that you could throw away all the code that you&#39;re showing in your question and use this instead:\r\n\r\n    &lt;jms:listener-container concurrency=&quot;10&quot;&gt;\r\n        &lt;jms:listener destination=&quot;some.queue&quot; ref=&quot;fooService&quot; method=&quot;handleNewFoo&quot;/&gt;\r\n    &lt;/jms:listener-container&gt;\r\n\r\nThat will automatically spawn up to 10 threads for concurrent message processing. When a message comes in, it will use one of the worker threads to call fooService.handleNewFoo(), where fooService is a bean in your Spring context.\r\n\r\n**Edit:** I&#39;ve created a sample project on github showing a basic Spring JMS setup. You can browse the source at https://github.com/zzantozz/testbed/tree/master/basic-spring-jms or just clone and run it:\r\n\r\n    git clone git://github.com/zzantozz/testbed.git tmp\r\n    cd tmp\r\n    mvn compile exec:java -Dexec.mainClass=rds.jms.Main -pl basic-spring-jms\r\n\r\nThere&#39;s a main class that starts a JMS broker and starts Spring. When Spring starts, it inits a bean that begins sending JMS messages. There&#39;s also a Spring message listener as I described above that consumes messages and passes them to the same bean that produces messages, which prints them to stdout.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#setConcurrentConsumers%28int%29\r\n  [3]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/jms.html#jms-namespace","title":"JMS and ThreadPool problem?","body":"<p>I'm not sure I get what you're trying to do. If you're trying to have multiple messages processed concurrently, get away from the JmsTemplate and use a <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"nofollow\">DefaultMessageListenerContainer</a> with <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#setConcurrentConsumers%28int%29\" rel=\"nofollow\">concurrentConsumers</a>. Also available via the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/jms.html#jms-namespace\" rel=\"nofollow\">JMS namespace</a>.</p>\n\n<p>For example, it seems that you could throw away all the code that you're showing in your question and use this instead:</p>\n\n<pre><code>&lt;jms:listener-container concurrency=\"10\"&gt;\n    &lt;jms:listener destination=\"some.queue\" ref=\"fooService\" method=\"handleNewFoo\"/&gt;\n&lt;/jms:listener-container&gt;\n</code></pre>\n\n<p>That will automatically spawn up to 10 threads for concurrent message processing. When a message comes in, it will use one of the worker threads to call fooService.handleNewFoo(), where fooService is a bean in your Spring context.</p>\n\n<p><strong>Edit:</strong> I've created a sample project on github showing a basic Spring JMS setup. You can browse the source at <a href=\"https://github.com/zzantozz/testbed/tree/master/basic-spring-jms\" rel=\"nofollow\">https://github.com/zzantozz/testbed/tree/master/basic-spring-jms</a> or just clone and run it:</p>\n\n<pre><code>git clone git://github.com/zzantozz/testbed.git tmp\ncd tmp\nmvn compile exec:java -Dexec.mainClass=rds.jms.Main -pl basic-spring-jms\n</code></pre>\n\n<p>There's a main class that starts a JMS broker and starts Spring. When Spring starts, it inits a bean that begins sending JMS messages. There's also a Spring message listener as I described above that consumes messages and passes them to the same bean that produces messages, which prints them to stdout.</p>\n"},{"comments":[{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312080467,"post_id":6862321,"comment_id":8197271,"body_markdown":"I donot know the Spring JMS well .","body":"I donot know the Spring JMS well ."},{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312080819,"post_id":6862321,"comment_id":8197300,"body_markdown":"How can I make sure that the many messages are given sub threads? Codes should like:  new ThumbConsumerTaskImpl(jmsTemplate,destination);   in the subthreads :(TextMessage) jmsTemplate.receive(destination); and MDP.","body":"How can I make sure that the many messages are given sub threads? Codes should like:  new ThumbConsumerTaskImpl(jmsTemplate,destination);   in the subthreads :(TextMessage) jmsTemplate.receive(destination); and MDP."},{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1312081413,"post_id":6862321,"comment_id":8197336,"body_markdown":"Your idea is so good .  And how have MDP a relationship with a jmsTemplate ?","body":"Your idea is so good .  And how have MDP a relationship with a jmsTemplate ?"}],"tags":[],"owner":{"account_id":268547,"reputation":9159,"user_id":557363,"display_name":"atrain"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311870274,"creation_date":1311870274,"answer_id":6862321,"question_id":6858038,"body_markdown":"Why aren&#39;t you just using an MDP?  Seems like you&#39;re recreating Spring functionality.\r\n\r\nExample MDP:\r\n\r\n    public class MyMDP implements MessageListener {\r\n        public void onMessage(Message message) {\r\n            if (message instanceof TextMessage) {\r\n                ...do whatever...\r\n            }\r\n        }\r\n    }\r\n","title":"JMS and ThreadPool problem?","body":"<p>Why aren't you just using an MDP?  Seems like you're recreating Spring functionality.</p>\n\n<p>Example MDP:</p>\n\n<pre><code>public class MyMDP implements MessageListener {\n    public void onMessage(Message message) {\n        if (message instanceof TextMessage) {\n            ...do whatever...\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6861144,"answer_count":2,"score":0,"last_activity_date":1696738812,"creation_date":1311851781,"question_id":6858038,"body_markdown":"I want that jms receives a message when one thread has handled a message (threadPool submits a callable).\r\nThe messages are received by a master thread.\r\nWhich way is better below:\r\n\r\nI use spring 3.0.5  :\r\n \r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(\r\n            &quot;application-context.xml&quot;);\r\n    jmsTemplate = (JmsTemplate) context.getBean(&quot;jmsTemplate&quot;);\r\n    destination = (Destination) context.getBean(&quot;destination&quot;);\r\n    _log4j.debug(&quot;ThreadSize in xml\\t&quot;\r\n            + appConfig.getThumbCreatorThreadSize());\r\n\r\nin master thread Way 1: \r\n\r\n    \r\n\r\n    while (countFlag &lt; 0) {\r\n        try {\r\n            TextMessage msg = (TextMessage) jmsTemplate\r\n                    .receive(destination);\r\n            // prehandle ,then give to sub workers.\r\n            if (msg != null) {\r\n                _log4j.debug(&quot;JMSMessageID:\\t&quot; + msg.getJMSMessageID()\r\n                        + &quot;\\t&quot; + msg.getText());\r\n                IConsumer thumbConsumerImpl = null;\r\n                thumbConsumerImpl = new ThumbConsumerTaskImpl(msg);\r\n                Future&lt;List&lt;ThumbCreatorInfo&gt;&gt; result = threadPool\r\n                        .submit((Callable&lt;List&lt;ThumbCreatorInfo&gt;&gt;) thumbConsumerImpl);\r\n            }\r\n        } catch (IllegalArgumentException e) {\r\n            _log4j.warn(e.getMessage(), e);\r\n        } catch (JMSException e) {\r\n            _log4j.error(&quot;Please check the queue server!JMSException!&quot;, e);\r\n        } catch (Exception e) {\r\n            _log4j.error(&quot;&quot;, e);\r\n        }\r\n    }\r\n\r\nin master thread Way 2:\r\n\r\n        TextMessage msg = (TextMessage) jmsTemplate.receive(destination);\r\n        do {\r\n            try {\r\n                // prehandle ,then give to sub workers.\r\n                if (msg != null) {\r\n                    _log4j.debug(&quot;JMSMessageID:\\t&quot; + msg.getJMSMessageID()\r\n                            + &quot;\\t&quot; + msg.getText());\r\n                    IConsumer thumbConsumerImpl = null;\r\n                    thumbConsumerImpl = new ThumbConsumerTaskImpl(msg);\r\n                    Future&lt;List&lt;ThumbCreatorInfo&gt;&gt; result = threadPool\r\n                            .submit((Callable&lt;List&lt;ThumbCreatorInfo&gt;&gt;) thumbConsumerImpl);\r\n                }\r\n                msg = (TextMessage) jmsTemplate.receive(destination);\r\n            } catch (IllegalArgumentException e) {\r\n                _log4j.warn(e.getMessage(), e);\r\n            } catch (JMSException e) {\r\n                _log4j.error(&quot;Please check the queue server!JMSException!&quot;, e);\r\n            } catch (Exception e) {\r\n                _log4j.error(&quot;&quot;, e);\r\n            }\r\n        } while (countFlag &lt; 0);\r\n","title":"JMS and ThreadPool problem?","body":"<p>I want that jms receives a message when one thread has handled a message (threadPool submits a callable).\nThe messages are received by a master thread.\nWhich way is better below:</p>\n\n<p>I use spring 3.0.5  :</p>\n\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(\n        \"application-context.xml\");\njmsTemplate = (JmsTemplate) context.getBean(\"jmsTemplate\");\ndestination = (Destination) context.getBean(\"destination\");\n_log4j.debug(\"ThreadSize in xml\\t\"\n        + appConfig.getThumbCreatorThreadSize());\n</code></pre>\n\n<p>in master thread Way 1: </p>\n\n<pre><code>while (countFlag &lt; 0) {\n    try {\n        TextMessage msg = (TextMessage) jmsTemplate\n                .receive(destination);\n        // prehandle ,then give to sub workers.\n        if (msg != null) {\n            _log4j.debug(\"JMSMessageID:\\t\" + msg.getJMSMessageID()\n                    + \"\\t\" + msg.getText());\n            IConsumer thumbConsumerImpl = null;\n            thumbConsumerImpl = new ThumbConsumerTaskImpl(msg);\n            Future&lt;List&lt;ThumbCreatorInfo&gt;&gt; result = threadPool\n                    .submit((Callable&lt;List&lt;ThumbCreatorInfo&gt;&gt;) thumbConsumerImpl);\n        }\n    } catch (IllegalArgumentException e) {\n        _log4j.warn(e.getMessage(), e);\n    } catch (JMSException e) {\n        _log4j.error(\"Please check the queue server!JMSException!\", e);\n    } catch (Exception e) {\n        _log4j.error(\"\", e);\n    }\n}\n</code></pre>\n\n<p>in master thread Way 2:</p>\n\n<pre><code>    TextMessage msg = (TextMessage) jmsTemplate.receive(destination);\n    do {\n        try {\n            // prehandle ,then give to sub workers.\n            if (msg != null) {\n                _log4j.debug(\"JMSMessageID:\\t\" + msg.getJMSMessageID()\n                        + \"\\t\" + msg.getText());\n                IConsumer thumbConsumerImpl = null;\n                thumbConsumerImpl = new ThumbConsumerTaskImpl(msg);\n                Future&lt;List&lt;ThumbCreatorInfo&gt;&gt; result = threadPool\n                        .submit((Callable&lt;List&lt;ThumbCreatorInfo&gt;&gt;) thumbConsumerImpl);\n            }\n            msg = (TextMessage) jmsTemplate.receive(destination);\n        } catch (IllegalArgumentException e) {\n            _log4j.warn(e.getMessage(), e);\n        } catch (JMSException e) {\n            _log4j.error(\"Please check the queue server!JMSException!\", e);\n        } catch (Exception e) {\n            _log4j.error(\"\", e);\n        }\n    } while (countFlag &lt; 0);\n</code></pre>\n"},{"tags":["java","serialization","collections","jms","activemq"],"comments":[{"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"score":0,"creation_date":1337333907,"post_id":6904048,"comment_id":13809681,"body_markdown":"I have that same problem too. I posted a test program here on the Camel forum: http://camel.465427.n5.nabble.com/MessageFormatException-using-requestBody-InOut-over-activemq-JMS-td5554469.html#a5711703. Is there a fix for this bug?","body":"I have that same problem too. I posted a test program here on the Camel forum: <a href=\"http://camel.465427.n5.nabble.com/MessageFormatException-using-requestBody-InOut-over-activemq-JMS-td5554469.html#a5711703\" rel=\"nofollow noreferrer\">camel.465427.n5.nabble.com/&hellip;</a>. Is there a fix for this bug?"}],"answers":[{"comments":[{"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"score":0,"creation_date":1312231822,"post_id":6904213,"comment_id":8221261,"body_markdown":"There is a Message.setObjectProperty(Object) in the Message interface, however, I am using the subclass ObjectMessage and the method [setObject](http://download.oracle.com/javaee/1.4/api/javax/jms/ObjectMessage.html#setObject(java.io.Serializable))","body":"There is a Message.setObjectProperty(Object) in the Message interface, however, I am using the subclass ObjectMessage and the method <a href=\"http://download.oracle.com/javaee/1.4/api/javax/jms/ObjectMessage.html#setObject(java.io.Serializable)\" rel=\"nofollow noreferrer\">setObject</a>"},{"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"score":0,"creation_date":1312231858,"post_id":6904213,"comment_id":8221270,"body_markdown":"Additionally, all of the Objects I am using extend Serializable","body":"Additionally, all of the Objects I am using extend Serializable"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1312232004,"post_id":6904213,"comment_id":8221313,"body_markdown":"OK, can you add the stacktrace of this `MessageFormatException` to your question? I cannot reason just looking at the ActiveMQ codebase anymore.","body":"OK, can you add the stacktrace of this <code>MessageFormatException</code> to your question? I cannot reason just looking at the ActiveMQ codebase anymore."},{"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"score":0,"creation_date":1312233440,"post_id":6904213,"comment_id":8221724,"body_markdown":"thanks for taking a look - included the trace in the question (sorry for the formatting)","body":"thanks for taking a look - included the trace in the question (sorry for the formatting)"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1312234571,"post_id":6904213,"comment_id":8222003,"body_markdown":"How does line 149 in `ChronicleMessageBean` look like in your code? I have a reason to believe that you are using `MapMessage` instead of `ObjectMessage`. Also seems like you are using slightly different version than 5.2.0, but that&#39;s not important. Are you sure you have created `ObjectMessage`?","body":"How does line 149 in <code>ChronicleMessageBean</code> look like in your code? I have a reason to believe that you are using <code>MapMessage</code> instead of <code>ObjectMessage</code>. Also seems like you are using slightly different version than 5.2.0, but that&#39;s not important. Are you sure you have created <code>ObjectMessage</code>?"},{"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"score":0,"creation_date":1312235043,"post_id":6904213,"comment_id":8222114,"body_markdown":"Aha! You&#39;re absolutely right, I can&#39;t believe I was so foolish. Sorry to make you debug my code. Thanks a ton!","body":"Aha! You&#39;re absolutely right, I can&#39;t believe I was so foolish. Sorry to make you debug my code. Thanks a ton!"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1312231435,"creation_date":1312231435,"answer_id":6904213,"question_id":6904048,"body_markdown":"Although I haven&#39;t checked it, but looking at the [source code](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.activemq/activemq-core/5.2.0/org/apache/activemq/command/ActiveMQMessage.java#ActiveMQMessage.checkValidObject(java.lang.Object)) it seems like you hit this exception when ActiveMQ validates message **properties**, not the body. The [JavaDoc](http://download.oracle.com/javaee/1.4/api/javax/jms/ObjectMessage.html) for `ObjectMessage` reads:\r\n\r\n&gt; Only Serializable Java objects can be used.\r\n\r\nI used all sorts of Java objects with ActiveMQ (arbitrary complex) and it always worked. However when you set message properties ([Message#setObjectProperty](http://download.oracle.com/javaee/1.4/api/javax/jms/Message.html#setObjectProperty(java.lang.String,%20java.lang.Object))):\r\n\r\n\r\n&gt; Note that this method works only for the objectified primitive object types (`Integer`, `Double`, `Long` ...) and `String` objects.\r\n\r\nInspecting the ActiveMQ codebase quoted above it looks like you are trying to use message object properties to send complex Java objects. This abuses the concept of message properties, which should be simple metadata like ids or peer names.\r\n\r\nAlso it looks like ActiveMQ optionally supports `Map` and `List`, but it this is vendor specific.","title":"Object with collection containing Serializable, non-primitive objects can&#39;t be set as ActiveMQ ObjectMessage","body":"<p>Although I haven't checked it, but looking at the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.activemq/activemq-core/5.2.0/org/apache/activemq/command/ActiveMQMessage.java#ActiveMQMessage.checkValidObject%28java.lang.Object%29\">source code</a> it seems like you hit this exception when ActiveMQ validates message <strong>properties</strong>, not the body. The <a href=\"http://download.oracle.com/javaee/1.4/api/javax/jms/ObjectMessage.html\">JavaDoc</a> for <code>ObjectMessage</code> reads:</p>\n\n<blockquote>\n  <p>Only Serializable Java objects can be used.</p>\n</blockquote>\n\n<p>I used all sorts of Java objects with ActiveMQ (arbitrary complex) and it always worked. However when you set message properties (<a href=\"http://download.oracle.com/javaee/1.4/api/javax/jms/Message.html#setObjectProperty%28java.lang.String,%20java.lang.Object%29\">Message#setObjectProperty</a>):</p>\n\n<blockquote>\n  <p>Note that this method works only for the objectified primitive object types (<code>Integer</code>, <code>Double</code>, <code>Long</code> ...) and <code>String</code> objects.</p>\n</blockquote>\n\n<p>Inspecting the ActiveMQ codebase quoted above it looks like you are trying to use message object properties to send complex Java objects. This abuses the concept of message properties, which should be simple metadata like ids or peer names.</p>\n\n<p>Also it looks like ActiveMQ optionally supports <code>Map</code> and <code>List</code>, but it this is vendor specific.</p>\n"}],"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7405,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6904213,"answer_count":1,"score":7,"last_activity_date":1696738763,"creation_date":1312230394,"question_id":6904048,"body_markdown":"I&#39;d appreciate any help on this...\r\n\r\nI have an Object I&#39;m trying to send in a JMS ObjectMessage by calling setObject. This Object contains a HashMap&lt;String, Object&gt; content as well as some other fields. When the map contains primitive elements the message is built fine. Likewise if I add a non-primitive serializable field to the Object it also sends ok. \r\n\r\nHere&#39;s the rub: Whenever I try to add a serializable non-primitive object to the MAP I get the following MessageFormatException:\r\n\r\n    javax.jms.MessageFormatException: Only objectified primitive objects, String, \r\n    Map and List types are allowed but was: com.abc.ObjectInList\r\n\r\nThe javadoc for ObjectMessage specifies... \r\n\r\n&gt;  Only Serializable Java objects can be used.\r\n\r\n... check. And ...\r\n\r\n&gt;  If a collection of Java objects must be sent, one of the Collection classes provided since JDK 1.2 can be used.\r\n\r\n... double check. While this doesn&#39;t specifically say anything about Serializable objects in a Collection, I guess I would assume this would be supported. Am I doing something wrong here? Do I just bite the bullet and make a new field in my top level Object so I don&#39;t have to put it in the Collection?\r\n\r\nUsing ActiveMQ 5.2. A pertinent Stack Trace follows.\r\n```\r\n2011-08-01 21:06:05,767 ERROR     javax.jms.MessageFormatException: Only objectified primitive objects, String, Map and List types are allowed but was: com.abc.engine.ejb.BasicSchedule@58f295b9 type: class com.abc.engine.ejb.BasicSchedule\r\n2011-08-01 21:06:05,767 ERROR          at org.apache.activemq.command.ActiveMQMessage.checkValidObject(ActiveMQMessage.java:468)\r\n2011-08-01 21:06:05,767 ERROR          at org.apache.activemq.command.ActiveMQMapMessage.setObject(ActiveMQMapMessage.java:705)\r\n2011-08-01 21:06:05,767 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.initMessage(ChronicleMessageBean.java:149)\r\n2011-08-01 21:06:05,767 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.send(ChronicleMessageBean.java:125)\r\n2011-08-01 21:06:05,767 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.onMessage(ChronicleMessageBean.java:77)\r\n2011-08-01 21:06:05,767 ERROR          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)2011-08-01 21:06:05,768 ERROR          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n2011-08-01 21:06:05,777 ERROR [com.abc.chronicle.ejb.ChronicleMessageBean]   JMS Exception Sending Message to SDK.OUTGOING_NOTIFICATION : javax.jms.MessageFormatException: Only objectified primitive objects, String, Map and List types are allowed but was: com.abc.engine.ejb.BasicSchedule@1003b2df type: class com.abc.engine.ejb.BasicSchedule\r\n2011-08-01 21:06:05,778 ERROR     javax.jms.MessageFormatException: Only objectified primitive objects, String, Map and List types are allowed but was: com.abc.engine.ejb.BasicSchedule@1003b2df type: class com.abc.engine.ejb.BasicSchedule\r\n2011-08-01 21:06:05,778 ERROR          at org.apache.activemq.command.ActiveMQMessage.checkValidObject(ActiveMQMessage.java:468)\r\n2011-08-01 21:06:05,778 ERROR          at org.apache.activemq.command.ActiveMQMapMessage.setObject(ActiveMQMapMessage.java:705)\r\n2011-08-01 21:06:05,778 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.initMessage(ChronicleMessageBean.java:149)\r\n2011-08-01 21:06:05,778 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.send(ChronicleMessageBean.java:125)\r\n2011-08-01 21:06:05,778 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.onMessage(ChronicleMessageBean.java:77)\r\n```\r\n","title":"Object with collection containing Serializable, non-primitive objects can&#39;t be set as ActiveMQ ObjectMessage","body":"<p>I'd appreciate any help on this...</p>\n<p>I have an Object I'm trying to send in a JMS ObjectMessage by calling setObject. This Object contains a HashMap&lt;String, Object&gt; content as well as some other fields. When the map contains primitive elements the message is built fine. Likewise if I add a non-primitive serializable field to the Object it also sends ok.</p>\n<p>Here's the rub: Whenever I try to add a serializable non-primitive object to the MAP I get the following MessageFormatException:</p>\n<pre><code>javax.jms.MessageFormatException: Only objectified primitive objects, String, \nMap and List types are allowed but was: com.abc.ObjectInList\n</code></pre>\n<p>The javadoc for ObjectMessage specifies...</p>\n<blockquote>\n<p>Only Serializable Java objects can be used.</p>\n</blockquote>\n<p>... check. And ...</p>\n<blockquote>\n<p>If a collection of Java objects must be sent, one of the Collection classes provided since JDK 1.2 can be used.</p>\n</blockquote>\n<p>... double check. While this doesn't specifically say anything about Serializable objects in a Collection, I guess I would assume this would be supported. Am I doing something wrong here? Do I just bite the bullet and make a new field in my top level Object so I don't have to put it in the Collection?</p>\n<p>Using ActiveMQ 5.2. A pertinent Stack Trace follows.</p>\n<pre><code>2011-08-01 21:06:05,767 ERROR     javax.jms.MessageFormatException: Only objectified primitive objects, String, Map and List types are allowed but was: com.abc.engine.ejb.BasicSchedule@58f295b9 type: class com.abc.engine.ejb.BasicSchedule\n2011-08-01 21:06:05,767 ERROR          at org.apache.activemq.command.ActiveMQMessage.checkValidObject(ActiveMQMessage.java:468)\n2011-08-01 21:06:05,767 ERROR          at org.apache.activemq.command.ActiveMQMapMessage.setObject(ActiveMQMapMessage.java:705)\n2011-08-01 21:06:05,767 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.initMessage(ChronicleMessageBean.java:149)\n2011-08-01 21:06:05,767 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.send(ChronicleMessageBean.java:125)\n2011-08-01 21:06:05,767 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.onMessage(ChronicleMessageBean.java:77)\n2011-08-01 21:06:05,767 ERROR          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)2011-08-01 21:06:05,768 ERROR          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n2011-08-01 21:06:05,777 ERROR [com.abc.chronicle.ejb.ChronicleMessageBean]   JMS Exception Sending Message to SDK.OUTGOING_NOTIFICATION : javax.jms.MessageFormatException: Only objectified primitive objects, String, Map and List types are allowed but was: com.abc.engine.ejb.BasicSchedule@1003b2df type: class com.abc.engine.ejb.BasicSchedule\n2011-08-01 21:06:05,778 ERROR     javax.jms.MessageFormatException: Only objectified primitive objects, String, Map and List types are allowed but was: com.abc.engine.ejb.BasicSchedule@1003b2df type: class com.abc.engine.ejb.BasicSchedule\n2011-08-01 21:06:05,778 ERROR          at org.apache.activemq.command.ActiveMQMessage.checkValidObject(ActiveMQMessage.java:468)\n2011-08-01 21:06:05,778 ERROR          at org.apache.activemq.command.ActiveMQMapMessage.setObject(ActiveMQMapMessage.java:705)\n2011-08-01 21:06:05,778 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.initMessage(ChronicleMessageBean.java:149)\n2011-08-01 21:06:05,778 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.send(ChronicleMessageBean.java:125)\n2011-08-01 21:06:05,778 ERROR          at com.abc.chronicle.ejb.ChronicleMessageBean.onMessage(ChronicleMessageBean.java:77)\n</code></pre>\n"},{"tags":["java","jakarta-ee","jboss","ejb-3.0"],"comments":[{"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"score":0,"creation_date":1312999671,"post_id":7015583,"comment_id":8377734,"body_markdown":"What version of jboss are you using?","body":"What version of jboss are you using?"},{"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"score":0,"creation_date":1313000551,"post_id":7015583,"comment_id":8377983,"body_markdown":"Sorry I meant to specify: see the EDIT in the post","body":"Sorry I meant to specify: see the EDIT in the post"}],"answers":[{"comments":[{"owner":{"account_id":285738,"reputation":2856,"user_id":584585,"display_name":"Mark McKenna"},"score":0,"creation_date":1336870748,"post_id":7207753,"comment_id":13682278,"body_markdown":"Happy with your comprehensive solution to your own problem.  Which doesn&#39;t exactly mirror my own but is useful nevertheless :)","body":"Happy with your comprehensive solution to your own problem.  Which doesn&#39;t exactly mirror my own but is useful nevertheless :)"}],"tags":[],"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1314375850,"creation_date":1314375850,"answer_id":7207753,"question_id":7015583,"body_markdown":"After doing some research I&#39;ve found a satisfactory explanation for this EJBException.\r\n\r\nMessageDrivenBeans have an instance pool. When a batch of JMS messages is delivered to an MDB in the quantity of the prefetch each are assigned an instance from this pool and are delivered to that instance via the `onMessage` function.\r\n\r\nA little about how the pool works: In JBoss 5.1.0 the pooled beans such as MDBs and SessionBeans are configured by default through JBoss AOP, specifically a file in the deploy directory titled &quot;ejb3-interceptors-aop.xml&quot;. This file creates interceptor bindings and default annotations for any class matching its domain. In the case of the Message Driven Bean domain, among other things a `org.jboss.ejb3.annotation.Pool` annotation:\r\n\r\n    &lt;annotation expr=&quot;class(*) AND !class(@org.jboss.ejb3.annotation.Pool)&quot;&gt;\r\n         @org.jboss.ejb3.annotation.Pool (value=&quot;StrictMaxPool&quot;, maxSize=15, timeout=10000)\r\n    &lt;/annotation&gt;\r\n\r\nThe parameters of that annotation are described [here][1].\r\n\r\nHerein lies the rub. If the message prefetch exceeds the maxSize of this pool (which it usually will for high throughput messaging applications) you will necessarily have messages that are waiting for an MDB instance. **If the time from message delivery to calling onMessage exceeds the pool timeout for any message, an EJBException will be thrown.** This may not be an issue for the first few iterations of the message distribution, but if you have a large prefetch and long average onMessage time, the message towards the end of the queue will begin to fail.\r\n\r\nSome quick algebra reveals that this will occurs, roughly speaking, when\r\n\r\n    timeout &lt; (prefetch x onMessageTime) / maxSize\r\n\r\nThis assumes that messages are distributed instantaneously, and each onMessage takes the same time but should give you a rough estimate of whether you&#39;re way out of bounds.\r\n\r\nThe solution to this problem is more subjective. Simply increasing the timeout is a naive option, because it will mask the fact that messages are sitting on your application server instead of your queue. Given that onMessage time is somewhat fixed, decreasing the prefetch is most likely a good option as is increasing the pool size, if resources allow. In tuning this I *decreased timeout* in addition to decreasing prefetch substantially and increasing maxSize to keep messages on the queue for longer while maintaining my alert indicator for when onMessage times are higher than normal.\r\n\r\n\r\n  [1]: http://docs.jboss.org/ejb3/docs/reference/build/reference/en/html/session-bean-config.html","title":"EJBException: Failed to acquire the pool semaphore","body":"<p>After doing some research I've found a satisfactory explanation for this EJBException.</p>\n\n<p>MessageDrivenBeans have an instance pool. When a batch of JMS messages is delivered to an MDB in the quantity of the prefetch each are assigned an instance from this pool and are delivered to that instance via the <code>onMessage</code> function.</p>\n\n<p>A little about how the pool works: In JBoss 5.1.0 the pooled beans such as MDBs and SessionBeans are configured by default through JBoss AOP, specifically a file in the deploy directory titled \"ejb3-interceptors-aop.xml\". This file creates interceptor bindings and default annotations for any class matching its domain. In the case of the Message Driven Bean domain, among other things a <code>org.jboss.ejb3.annotation.Pool</code> annotation:</p>\n\n<pre><code>&lt;annotation expr=\"class(*) AND !class(@org.jboss.ejb3.annotation.Pool)\"&gt;\n     @org.jboss.ejb3.annotation.Pool (value=\"StrictMaxPool\", maxSize=15, timeout=10000)\n&lt;/annotation&gt;\n</code></pre>\n\n<p>The parameters of that annotation are described <a href=\"http://docs.jboss.org/ejb3/docs/reference/build/reference/en/html/session-bean-config.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Herein lies the rub. If the message prefetch exceeds the maxSize of this pool (which it usually will for high throughput messaging applications) you will necessarily have messages that are waiting for an MDB instance. <strong>If the time from message delivery to calling onMessage exceeds the pool timeout for any message, an EJBException will be thrown.</strong> This may not be an issue for the first few iterations of the message distribution, but if you have a large prefetch and long average onMessage time, the message towards the end of the queue will begin to fail.</p>\n\n<p>Some quick algebra reveals that this will occurs, roughly speaking, when</p>\n\n<pre><code>timeout &lt; (prefetch x onMessageTime) / maxSize\n</code></pre>\n\n<p>This assumes that messages are distributed instantaneously, and each onMessage takes the same time but should give you a rough estimate of whether you're way out of bounds.</p>\n\n<p>The solution to this problem is more subjective. Simply increasing the timeout is a naive option, because it will mask the fact that messages are sitting on your application server instead of your queue. Given that onMessage time is somewhat fixed, decreasing the prefetch is most likely a good option as is increasing the pool size, if resources allow. In tuning this I <em>decreased timeout</em> in addition to decreasing prefetch substantially and increasing maxSize to keep messages on the queue for longer while maintaining my alert indicator for when onMessage times are higher than normal.</p>\n"},{"tags":[],"owner":{"account_id":3247823,"reputation":71,"user_id":2738847,"display_name":"Nilindra Fernando"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394518714,"creation_date":1394518714,"answer_id":22317886,"question_id":7015583,"body_markdown":"What jpredham says is correct. Also plz check whether\r\n\r\n&#39;strictMaximumSize&#39; set to true\r\n\r\nwhich could lead to https://issues.jboss.org/browse/JBAS-1599","title":"EJBException: Failed to acquire the pool semaphore","body":"<p>What jpredham says is correct. Also plz check whether</p>\n\n<p>'strictMaximumSize' set to true</p>\n\n<p>which could lead to <a href=\"https://issues.jboss.org/browse/JBAS-1599\" rel=\"nofollow\">https://issues.jboss.org/browse/JBAS-1599</a></p>\n"}],"owner":{"account_id":210363,"reputation":2159,"user_id":461937,"accept_rate":83,"display_name":"jpredham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7207753,"answer_count":2,"score":4,"last_activity_date":1696738600,"creation_date":1312999467,"question_id":7015583,"body_markdown":"I&#39;m occasionally getting the following EJB exception across several different message driven beans:\r\n\r\n    javax.ejb.EJBException: Failed to acquire the pool semaphore, strictTimeout=10000\r\n\r\nThis behavior closely corresponds to when a particular database is having issues and thereby increases the amount of time spent in the MDB&#39;s onMessage function. The messages are being delivered by an ActiveMQ broker (version 5.4.2). The prefetch on the MDBs is 2000 (20 Sessions x 100 Messages per session). \r\n\r\nMy question is a general one. What exactly is happening here? I know that a message which has been delivered to the server running the MDB will time out after 10 seconds if there is no instance in the bean pool to handle it, however how has that message been delivered to the server in the first place? My assumption up to this point is that the MDB requests messages from the broker in the quantity of &lt;prefetch&gt; only when it no longer has any messages to process. Are they simply waiting in that server-side &quot;bucket&quot; for too long?\r\n\r\nHas anyone else run into this? Suggestions for tuning prefetch/semaphore timeout?\r\n\r\n**EDIT:** Forgot to mention I&#39;m using JBoss AS 5.1.0\r\n","title":"EJBException: Failed to acquire the pool semaphore","body":"<p>I'm occasionally getting the following EJB exception across several different message driven beans:</p>\n\n<pre><code>javax.ejb.EJBException: Failed to acquire the pool semaphore, strictTimeout=10000\n</code></pre>\n\n<p>This behavior closely corresponds to when a particular database is having issues and thereby increases the amount of time spent in the MDB's onMessage function. The messages are being delivered by an ActiveMQ broker (version 5.4.2). The prefetch on the MDBs is 2000 (20 Sessions x 100 Messages per session). </p>\n\n<p>My question is a general one. What exactly is happening here? I know that a message which has been delivered to the server running the MDB will time out after 10 seconds if there is no instance in the bean pool to handle it, however how has that message been delivered to the server in the first place? My assumption up to this point is that the MDB requests messages from the broker in the quantity of  only when it no longer has any messages to process. Are they simply waiting in that server-side \"bucket\" for too long?</p>\n\n<p>Has anyone else run into this? Suggestions for tuning prefetch/semaphore timeout?</p>\n\n<p><strong>EDIT:</strong> Forgot to mention I'm using JBoss AS 5.1.0</p>\n"},{"tags":["java","spring","jms","bandwidth-throttling"],"comments":[{"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"score":1,"creation_date":1313613347,"post_id":7090028,"comment_id":8501293,"body_markdown":"Why wouldn&#39;t limiting incoming message flow be enough - which ActiveMQ allows you to do with the use of producerFlowControl and memoryLimits on destinations.  I&#39;m curious to know why you&#39;d want to limit outgoing messages as well.  Further - wouldn&#39;t this type of thing be better controlled from some kind of application delivery controller sitting in front of your broker (assuming you even have that option).","body":"Why wouldn&#39;t limiting incoming message flow be enough - which ActiveMQ allows you to do with the use of producerFlowControl and memoryLimits on destinations.  I&#39;m curious to know why you&#39;d want to limit outgoing messages as well.  Further - wouldn&#39;t this type of thing be better controlled from some kind of application delivery controller sitting in front of your broker (assuming you even have that option)."},{"owner":{"account_id":295619,"reputation":4833,"user_id":600132,"accept_rate":100,"display_name":"Sorceror"},"score":0,"creation_date":1313647985,"post_id":7090028,"comment_id":8507114,"body_markdown":"Our customer wants to limit outgoing bandwidth from producers (let&#39;s say, customer have 100 mbit bandwidth, but he want to use just 10 mbit). It drives me crazy. JMS is made to deliver messages as soon as possible, so I don&#39;t really understand that demand. But sadly its not on my decision.","body":"Our customer wants to limit outgoing bandwidth from producers (let&#39;s say, customer have 100 mbit bandwidth, but he want to use just 10 mbit). It drives me crazy. JMS is made to deliver messages as soon as possible, so I don&#39;t really understand that demand. But sadly its not on my decision."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313572791,"creation_date":1313572791,"answer_id":7090473,"question_id":7090028,"body_markdown":"I do not think that you have any seriously better alternative to determine the JMS message size than measuring of its serialized size.\r\n\r\nBut you can add some optimizations if you want. There are several types of messages (e.g. MapMessage, ObjectMessage, TextMessage).\r\n\r\nThe size of text message is the length of its text. The size of map message is the total size of all its fields. The fields are primitives or java.util.Date, so it is not a problem to measure them. \r\nObject message contains serializable object, so you can measure its size by writing to ByteOutputStream.\r\n\r\nI think that implementation of leaky bucket using JMS may be simplified if you are using hidden feature of most JMS providers to send delayed messages. You can measure the message when enqueueing it and decide when do you want the subscriber to receive it. \r\nPlease read here for details of how to send delayed messages: http://alexradzin.blogspot.com/2010/10/send-delayed-jms-messages.html","title":"JMS message size","body":"<p>I do not think that you have any seriously better alternative to determine the JMS message size than measuring of its serialized size.</p>\n\n<p>But you can add some optimizations if you want. There are several types of messages (e.g. MapMessage, ObjectMessage, TextMessage).</p>\n\n<p>The size of text message is the length of its text. The size of map message is the total size of all its fields. The fields are primitives or java.util.Date, so it is not a problem to measure them. \nObject message contains serializable object, so you can measure its size by writing to ByteOutputStream.</p>\n\n<p>I think that implementation of leaky bucket using JMS may be simplified if you are using hidden feature of most JMS providers to send delayed messages. You can measure the message when enqueueing it and decide when do you want the subscriber to receive it. \nPlease read here for details of how to send delayed messages: <a href=\"http://alexradzin.blogspot.com/2010/10/send-delayed-jms-messages.html\" rel=\"nofollow\">http://alexradzin.blogspot.com/2010/10/send-delayed-jms-messages.html</a></p>\n"},{"comments":[{"owner":{"account_id":295619,"reputation":4833,"user_id":600132,"accept_rate":100,"display_name":"Sorceror"},"score":0,"creation_date":1313648198,"post_id":7094185,"comment_id":8507157,"body_markdown":"Bandwidth is not critical, our customer just want to manage the throughput. +1 for `getBodyLength()` but I&#39;m affraid that this will work only for `BytesMessage` instances, which I suppose I don&#39;t have..","body":"Bandwidth is not critical, our customer just want to manage the throughput. +1 for <code>getBodyLength()</code> but I&#39;m affraid that this will work only for <code>BytesMessage</code> instances, which I suppose I don&#39;t have.."}],"tags":[],"owner":{"account_id":454176,"reputation":1274,"user_id":851566,"display_name":"strmqm"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313589936,"creation_date":1313589936,"answer_id":7094185,"question_id":7090028,"body_markdown":"In addition to the earlier comment by @AlexR, BytesMessage has a getBodyLength() method\r\n\r\nhttp://download.oracle.com/javaee/1.4/api/javax/jms/BytesMessage.html#getBodyLength\r\n\r\nand you can probably estimate typical header size in transit by capturing a few objects created using Session.createMessage() - i.e. the JMS message type with no payload. I think i&#39;d be tempted to work directly with a payload in a byte[], using a BytesMessage, and compress via a ZipOutputStream if bandwidth is critical. In addition, JMS allows hints to suppress message timestamp and message id, which may help reduce message size e.g. \r\n\r\nhttp://download.oracle.com/javaee/1.4/api/javax/jms/MessageProducer.html#setDisableMessageTimestamp%28boolean%29\r\n\r\nalthough providers are not required to support it, \r\n\r\n&gt; If the JMS provider accepts this hint, these messages must have the message ID set to null; if the provider ignores the hint, the message ID must be set to its normal unique value\r\n\r\nI once worked with very bandwidth-limited JMS on WebSphere MQ everyplace, and it was possible to get the message size pretty small in this way - although the native wireframe format was also optimised for size in that case\r\n\r\n","title":"JMS message size","body":"<p>In addition to the earlier comment by @AlexR, BytesMessage has a getBodyLength() method</p>\n\n<p><a href=\"http://download.oracle.com/javaee/1.4/api/javax/jms/BytesMessage.html#getBodyLength\" rel=\"nofollow\">http://download.oracle.com/javaee/1.4/api/javax/jms/BytesMessage.html#getBodyLength</a></p>\n\n<p>and you can probably estimate typical header size in transit by capturing a few objects created using Session.createMessage() - i.e. the JMS message type with no payload. I think i'd be tempted to work directly with a payload in a byte[], using a BytesMessage, and compress via a ZipOutputStream if bandwidth is critical. In addition, JMS allows hints to suppress message timestamp and message id, which may help reduce message size e.g. </p>\n\n<p><a href=\"http://download.oracle.com/javaee/1.4/api/javax/jms/MessageProducer.html#setDisableMessageTimestamp%28boolean%29\" rel=\"nofollow\">http://download.oracle.com/javaee/1.4/api/javax/jms/MessageProducer.html#setDisableMessageTimestamp%28boolean%29</a></p>\n\n<p>although providers are not required to support it, </p>\n\n<blockquote>\n  <p>If the JMS provider accepts this hint, these messages must have the message ID set to null; if the provider ignores the hint, the message ID must be set to its normal unique value</p>\n</blockquote>\n\n<p>I once worked with very bandwidth-limited JMS on WebSphere MQ everyplace, and it was possible to get the message size pretty small in this way - although the native wireframe format was also optimised for size in that case</p>\n"},{"tags":[],"owner":{"account_id":295619,"reputation":4833,"user_id":600132,"accept_rate":100,"display_name":"Sorceror"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1326708983,"creation_date":1326708983,"answer_id":8878549,"question_id":7090028,"body_markdown":"Because JMS messages are serialized in sending process, the best way how to obtain size of message is [through ObjectOutputStream](https://stackoverflow.com/a/52362/600132).\r\n\r\n    private int getMessageSizeInBytes(MessageWrapper message) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n        oos.writeObject(message);\r\n        oos.close();\r\n        return baos.size();\r\n    }","title":"JMS message size","body":"<p>Because JMS messages are serialized in sending process, the best way how to obtain size of message is <a href=\"https://stackoverflow.com/a/52362/600132\">through ObjectOutputStream</a>.</p>\n\n<pre><code>private int getMessageSizeInBytes(MessageWrapper message) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ObjectOutputStream oos = new ObjectOutputStream(baos);\n    oos.writeObject(message);\n    oos.close();\n    return baos.size();\n}\n</code></pre>\n"}],"owner":{"account_id":295619,"reputation":4833,"user_id":600132,"accept_rate":100,"display_name":"Sorceror"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20047,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":8878549,"answer_count":3,"score":8,"last_activity_date":1696738411,"creation_date":1313570791,"question_id":7090028,"body_markdown":"I&#39;m currently working on bandwidth limiting feature (don&#39;t ask me why, its not my decision) for application which use JMS (Spring framework JMS and Active MQ namely) to sending messages with payload between server and clients.\r\n\r\nI found lot of throttling methods to limit incoming JMS messages (but none of them based on actual bandwidth load), however I didn&#39;t find any possible way to limit outgoing message flow. So I decided to write [Leaky bucket algorithm][1] on my own. \r\n\r\n**Is there some way how to obtain size of JMS message?** Other than &#39;sizeof&#39; implementation in Java ([In Java, what is the best way to determine the size of an object?][2])\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Leaky_bucket\r\n  [2]: https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object","title":"JMS message size","body":"<p>I'm currently working on bandwidth limiting feature (don't ask me why, its not my decision) for application which use JMS (Spring framework JMS and Active MQ namely) to sending messages with payload between server and clients.</p>\n\n<p>I found lot of throttling methods to limit incoming JMS messages (but none of them based on actual bandwidth load), however I didn't find any possible way to limit outgoing message flow. So I decided to write <a href=\"http://en.wikipedia.org/wiki/Leaky_bucket\" rel=\"nofollow noreferrer\">Leaky bucket algorithm</a> on my own. </p>\n\n<p><strong>Is there some way how to obtain size of JMS message?</strong> Other than 'sizeof' implementation in Java (<a href=\"https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">In Java, what is the best way to determine the size of an object?</a>)</p>\n"},{"tags":["java","jms","message-queue"],"answers":[{"comments":[{"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"score":0,"creation_date":1314083438,"post_id":7157190,"comment_id":8587475,"body_markdown":"Thanks for your comment.  Regarding implementation of JMS specification, I&#39;m reading and hearing 2 popular libraries - Apache ActiveMQ and OpenJMS.  Based on your experience, which one would you recommend and why?","body":"Thanks for your comment.  Regarding implementation of JMS specification, I&#39;m reading and hearing 2 popular libraries - Apache ActiveMQ and OpenJMS.  Based on your experience, which one would you recommend and why?"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314081749,"creation_date":1314081749,"answer_id":7157190,"question_id":7157039,"body_markdown":"Definitely. You can create JMS message that will contain appropriate properties. Pre-configured listeners will subscribe to topic and receive messages filtered by selector. Since JMS selector uses SQL like syntax you can create your JMS subscribers dynamically and build the selector according to the application requirements and current configuration. \r\n\r\nFor example `type=&#39;timesheet&#39; from=&#39;Consultant&#39;` will select only timsheets submitted by consultant. Other selector `type=&#39;expenses&#39; from=&#39;Bookkeeper&#39;` will get other events (and probably will format email differently. \r\n\r\nAnd this one: `type=&#39;systemcrash&#39; from=&#39;monitor&#39;` will send SMS to System Administrator at 3:00AM, Sunday :).","title":"Can JMS message-queue be used in this context for my use case?","body":"<p>Definitely. You can create JMS message that will contain appropriate properties. Pre-configured listeners will subscribe to topic and receive messages filtered by selector. Since JMS selector uses SQL like syntax you can create your JMS subscribers dynamically and build the selector according to the application requirements and current configuration. </p>\n\n<p>For example <code>type='timesheet' from='Consultant'</code> will select only timsheets submitted by consultant. Other selector <code>type='expenses' from='Bookkeeper'</code> will get other events (and probably will format email differently. </p>\n\n<p>And this one: <code>type='systemcrash' from='monitor'</code> will send SMS to System Administrator at 3:00AM, Sunday :).</p>\n"}],"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696738336,"creation_date":1314080607,"question_id":7157039,"body_markdown":"I&#39;m new to message queue system and read a bit about JMS in particular.  [This question](https://stackoverflow.com/questions/1035949/real-world-use-of-jms-message-queues &quot;Real world use of JMS/message queues&quot;) was also helpful in understanding better about real world use case of JMS.\r\n\r\nOurs is a web-based application and am trying to find out whether a particular flow in our application context can leverage JMS effectively.  Context explained below:\r\n\r\n&gt; There is an *Email Event* in the application, that will trigger email\r\n&gt; to a set of predefined listeners, whenever an event happens in the\r\n&gt; application.  Event could be Consultants submitting timesheet,\r\n&gt; Consultants submitting expense, etc.  Application allows to configure\r\n&gt; different set of listeners for different events.\r\n\r\nMy question here is, whether JMS can be used in place for triggering of emails, so that it is loosely/decoupled from the application logic (in this case, submitting timesheet/expense), by not waiting for all emails to be delivered to the listeners.  Does it make sense in using JMS in this context?  I also want to understand whether my perception/view of the JMS architecture is correct in this regard.  Comments/ideas/thoughts/suggestion/advice from experienced users are really appreciated.\r\n\r\n**NOTE:** Our tools of trade are: Java, JDK1.6, JSP, Apache Tomcat v6.0.10, PostgreSQL v8.2.3","title":"Can JMS message-queue be used in this context for my use case?","body":"<p>I'm new to message queue system and read a bit about JMS in particular.  <a href=\"https://stackoverflow.com/questions/1035949/real-world-use-of-jms-message-queues\" title=\"Real world use of JMS/message queues\">This question</a> was also helpful in understanding better about real world use case of JMS.</p>\n\n<p>Ours is a web-based application and am trying to find out whether a particular flow in our application context can leverage JMS effectively.  Context explained below:</p>\n\n<blockquote>\n  <p>There is an <em>Email Event</em> in the application, that will trigger email\n  to a set of predefined listeners, whenever an event happens in the\n  application.  Event could be Consultants submitting timesheet,\n  Consultants submitting expense, etc.  Application allows to configure\n  different set of listeners for different events.</p>\n</blockquote>\n\n<p>My question here is, whether JMS can be used in place for triggering of emails, so that it is loosely/decoupled from the application logic (in this case, submitting timesheet/expense), by not waiting for all emails to be delivered to the listeners.  Does it make sense in using JMS in this context?  I also want to understand whether my perception/view of the JMS architecture is correct in this regard.  Comments/ideas/thoughts/suggestion/advice from experienced users are really appreciated.</p>\n\n<p><strong>NOTE:</strong> Our tools of trade are: Java, JDK1.6, JSP, Apache Tomcat v6.0.10, PostgreSQL v8.2.3</p>\n"},{"tags":["java","angular","spring-boot","events","event-handling"],"comments":[{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1571726557,"post_id":58498344,"comment_id":103325836,"body_markdown":"Can you please try my suggestions. It should fix the problem you are facing.","body":"Can you please try my suggestions. It should fix the problem you are facing."},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1571730085,"post_id":58498344,"comment_id":103327485,"body_markdown":"Please share CURL of your request. I would like to observe the headers as well.","body":"Please share CURL of your request. I would like to observe the headers as well."},{"owner":{"account_id":15947907,"reputation":171,"user_id":11507953,"display_name":"Bhushan Mahajan"},"score":0,"creation_date":1571732752,"post_id":58498344,"comment_id":103328777,"body_markdown":"`curl -X POST \\ http://localhost:8090/chat\\ -H &#39;Accept: */*&#39; \\ -H &#39;Accept-Encoding: gzip, deflate&#39; \\ -H &#39;Cache-Control: no-cache&#39; \\ -H &#39;Connection: keep-alive&#39; \\ -H &#39;Content-Length: 134&#39; \\ -H &#39;Content-Type: application/json&#39; \\ -H &#39;Cookie: JSESSIONID=349102FC07B387A5D2629995D508210F&#39; \\ -H &#39;Host: localhost:8090&#39; \\ -H &#39;cache-control: no-cache&#39; \\ -d &#39;{ &quot;text&quot; : &quot;I can do this now&quot;, &quot;sourceLanguageCode&quot; : &quot;en&quot;, &quot;targetLanguageCode&quot; : &quot;hi&quot;, &quot;sender&quot; : &quot;abc&quot; }`","body":"<code>curl -X POST \\ http:&#47;&#47;localhost:8090&#47;chat\\ -H &#39;Accept: *&#47;*&#39; \\ -H &#39;Accept-Encoding: gzip, deflate&#39; \\ -H &#39;Cache-Control: no-cache&#39; \\ -H &#39;Connection: keep-alive&#39; \\ -H &#39;Content-Length: 134&#39; \\ -H &#39;Content-Type: application&#47;json&#39; \\ -H &#39;Cookie: JSESSIONID=349102FC07B387A5D2629995D508210F&#39; \\ -H &#39;Host: localhost:8090&#39; \\ -H &#39;cache-control: no-cache&#39; \\ -d &#39;{ &quot;text&quot; : &quot;I can do this now&quot;, &quot;sourceLanguageCode&quot; : &quot;en&quot;, &quot;targetLanguageCode&quot; : &quot;hi&quot;, &quot;sender&quot; : &quot;abc&quot; }</code>"},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1571735841,"post_id":58498344,"comment_id":103330621,"body_markdown":"can you check your jackson dependencies are in place for backend?","body":"can you check your jackson dependencies are in place for backend?"},{"owner":{"account_id":15947907,"reputation":171,"user_id":11507953,"display_name":"Bhushan Mahajan"},"score":0,"creation_date":1571738388,"post_id":58498344,"comment_id":103332141,"body_markdown":"I am not using jackson dependency","body":"I am not using jackson dependency"}],"answers":[{"comments":[{"owner":{"account_id":15947907,"reputation":171,"user_id":11507953,"display_name":"Bhushan Mahajan"},"score":0,"creation_date":1571727310,"post_id":58498421,"comment_id":103326206,"body_markdown":"Hi, now I am returning the responseObj, so added GenericApiResponse&lt;Map&lt;String, Object&gt;&gt; as return type. And therefore I am keeping produces= &quot;application/json&quot; as it is. But still it is giving me same error","body":"Hi, now I am returning the responseObj, so added GenericApiResponse&lt;Map&lt;String, Object&gt;&gt; as return type. And therefore I am keeping produces= &quot;application/json&quot; as it is. But still it is giving me same error"},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1571727336,"post_id":58498421,"comment_id":103326220,"body_markdown":"what&#39;s the error? did you try removing `@ResponseBody` in this case?","body":"what&#39;s the error? did you try removing <code>@ResponseBody</code> in this case?"},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1571727385,"post_id":58498421,"comment_id":103326239,"body_markdown":"Also, can you share what is the request you are making?","body":"Also, can you share what is the request you are making?"},{"owner":{"account_id":15947907,"reputation":171,"user_id":11507953,"display_name":"Bhushan Mahajan"},"score":0,"creation_date":1571729350,"post_id":58498421,"comment_id":103327159,"body_markdown":"Yes, I have removed `@ResponseBody` as I am keeping `produces= &quot;application/json&quot;`. My request body contains: sender and text.","body":"Yes, I have removed <code>@ResponseBody</code> as I am keeping <code>produces= &quot;application&#47;json&quot;</code>. My request body contains: sender and text."},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1571730061,"post_id":58498421,"comment_id":103327475,"body_markdown":"I have suggested one more change. Please try that as well.","body":"I have suggested one more change. Please try that as well."}],"tags":[],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571730045,"creation_date":1571726509,"answer_id":58498421,"question_id":58498344,"body_markdown":"From first look at your code, I can observe following problems:\r\n\r\n1. `@ResponseBody` is added but no response is returned i.e. method type is void.\r\n\r\n2. `produces = &quot;application/json&quot;` doesn&#39;t make sense for a void method returning no response.\r\n\r\nHence, for a rest endpoint always return some response. You can fix it by putting following as return statement in the end in your method:\r\n\r\n```\r\nreturn ResponseEntity.ok(&quot;your message&quot;);\r\n```\r\n\r\nAlso, `@ResponseBody` means that response is always serialized to json hence, no need to specify `, produces = &quot;application/json&quot;` explicitly.\r\n\r\n\r\n**Update:** \r\n\r\nCan you please also try replacing `consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;` with \r\n\r\n```\r\n  consumes = MediaType.APPLICATION_JSON_VALUE, \r\n  produces = MediaType.APPLICATION_JSON_VALUE\r\n\r\n```\r\n\r\nAnd\r\n\r\nensure that request headers are set to `application/json`.\r\n\r\nAlso, ensrue jackson dependencies are in place.","title":"org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation in java spring boot","body":"<p>From first look at your code, I can observe following problems:</p>\n\n<ol>\n<li><p><code>@ResponseBody</code> is added but no response is returned i.e. method type is void.</p></li>\n<li><p><code>produces = \"application/json\"</code> doesn't make sense for a void method returning no response.</p></li>\n</ol>\n\n<p>Hence, for a rest endpoint always return some response. You can fix it by putting following as return statement in the end in your method:</p>\n\n<pre><code>return ResponseEntity.ok(\"your message\");\n</code></pre>\n\n<p>Also, <code>@ResponseBody</code> means that response is always serialized to json hence, no need to specify <code>, produces = \"application/json\"</code> explicitly.</p>\n\n<p><strong>Update:</strong> </p>\n\n<p>Can you please also try replacing <code>consumes = \"application/json\", produces = \"application/json\"</code> with </p>\n\n<pre><code>  consumes = MediaType.APPLICATION_JSON_VALUE, \n  produces = MediaType.APPLICATION_JSON_VALUE\n\n</code></pre>\n\n<p>And</p>\n\n<p>ensure that request headers are set to <code>application/json</code>.</p>\n\n<p>Also, ensrue jackson dependencies are in place.</p>\n"},{"tags":[],"owner":{"account_id":15947907,"reputation":171,"user_id":11507953,"display_name":"Bhushan Mahajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571751837,"creation_date":1571751837,"answer_id":58505710,"question_id":58498344,"body_markdown":"Solution: `EventSource` in angular takes `Content-Type : text/event-stream` by default. So I created new method and added `@RequestHeader(value = &quot;Content-Type&quot;, defaultValue = &quot;text/event-stream&quot;)` as parameter.","title":"org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation in java spring boot","body":"<p>Solution: <code>EventSource</code> in angular takes <code>Content-Type : text/event-stream</code> by default. So I created new method and added <code>@RequestHeader(value = \"Content-Type\", defaultValue = \"text/event-stream\")</code> as parameter.</p>\n"},{"tags":[],"owner":{"account_id":7802687,"reputation":422,"user_id":5901503,"display_name":"Gani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640876446,"creation_date":1640876446,"answer_id":70533321,"question_id":58498344,"body_markdown":"Automatic conversion of Objects are neglected if you don&#39;t have getter method for the return type object. If you don&#39;t have getter method for `GenericApiResponse` object add one.","title":"org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation in java spring boot","body":"<p>Automatic conversion of Objects are neglected if you don't have getter method for the return type object. If you don't have getter method for <code>GenericApiResponse</code> object add one.</p>\n"}],"owner":{"account_id":15947907,"reputation":171,"user_id":11507953,"display_name":"Bhushan Mahajan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696737985,"creation_date":1571726168,"question_id":58498344,"body_markdown":"I am developing chat application using java springboot and Angular 7. I am using events in spring boot and angular. I am trying to generate events in spring boot for angular to listen the event. However, I am getting following error:\r\n\r\n    Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]\r\n\r\nHere is my controller code in springboot:\r\n\r\n    @CrossOrigin(&quot;*&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/chat&quot;)\r\n    public class MessageController {\r\n\r\n\t@Autowired\r\n\tMessageService messageService;\r\n\t\r\n\t@Autowired\r\n\tprivate ApplicationEventPublisher applicationEventPublisher;\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(MessageController.class);\r\n\r\n\t@PostMapping(consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n\tpublic GenericApiResponse&lt;Map&lt;String, Object&gt;&gt;message(@RequestBody MessageRequest req) {\r\n\t\tlogger.info(&quot;MessageController:: messagemethod [POST] /chat&quot;);\r\n\t\tGenericApiResponse&lt;Map&lt;String, Object&gt;&gt; responseObj = new GenericApiResponse&lt;&gt;();\r\n\t\tObject returnValue = new Object();\r\n\t\ttry {\r\n\t\t\treturnValue = messageService.translateText(req);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tlogger.error(&quot;EXCEPTION: &quot;+e.getStackTrace().toString());\r\n\t\t\tresponseObj.setStatus(Constants.ERROR);\r\n\t\t\tresponseObj.setMessage(&quot;Internal Server Error&quot;);\r\n\t\t}\r\n\t\tMap&lt;String, Object&gt; resMap = new HashMap&lt;&gt;();\r\n\t\tresMap.put(&quot;result&quot;, returnValue);\r\n\t\tresMap.put(&quot;sender&quot;, req.getSender());\r\n\t\tresponseObj.setResponseObject(resMap);\r\n\t\tresponseObj.setStatus(Constants.SUCCESS);\r\n\t\t\r\n\t\tMessageEvent messageEvent = new MessageEvent(this,&quot;eventName&quot;, responseObj);\r\n\t\tapplicationEventPublisher.publishEvent(messageEvent);\r\n\t\t\r\n        return responseObj;\r\n\t}\r\n\r\nI am unable to figure out what is the issue and how to solve it. Please help me to solve this issue.\r\nThanks in advance :)","title":"org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation in java spring boot","body":"<p>I am developing chat application using java springboot and Angular 7. I am using events in spring boot and angular. I am trying to generate events in spring boot for angular to listen the event. However, I am getting following error:</p>\n\n<pre><code>Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]\n</code></pre>\n\n<p>Here is my controller code in springboot:</p>\n\n<pre><code>@CrossOrigin(\"*\")\n@RestController\n@RequestMapping(\"/chat\")\npublic class MessageController {\n\n@Autowired\nMessageService messageService;\n\n@Autowired\nprivate ApplicationEventPublisher applicationEventPublisher;\n\nprivate static final Logger logger = LoggerFactory.getLogger(MessageController.class);\n\n@PostMapping(consumes = \"application/json\", produces = \"application/json\")\npublic GenericApiResponse&lt;Map&lt;String, Object&gt;&gt;message(@RequestBody MessageRequest req) {\n    logger.info(\"MessageController:: messagemethod [POST] /chat\");\n    GenericApiResponse&lt;Map&lt;String, Object&gt;&gt; responseObj = new GenericApiResponse&lt;&gt;();\n    Object returnValue = new Object();\n    try {\n        returnValue = messageService.translateText(req);\n    } catch (Exception e) {\n        e.printStackTrace();\n        logger.error(\"EXCEPTION: \"+e.getStackTrace().toString());\n        responseObj.setStatus(Constants.ERROR);\n        responseObj.setMessage(\"Internal Server Error\");\n    }\n    Map&lt;String, Object&gt; resMap = new HashMap&lt;&gt;();\n    resMap.put(\"result\", returnValue);\n    resMap.put(\"sender\", req.getSender());\n    responseObj.setResponseObject(resMap);\n    responseObj.setStatus(Constants.SUCCESS);\n\n    MessageEvent messageEvent = new MessageEvent(this,\"eventName\", responseObj);\n    applicationEventPublisher.publishEvent(messageEvent);\n\n    return responseObj;\n}\n</code></pre>\n\n<p>I am unable to figure out what is the issue and how to solve it. Please help me to solve this issue.\nThanks in advance :)</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696727469,"post_id":77251985,"comment_id":136190243,"body_markdown":"Its going to read 2 into `n`, 0101010 into `k`, and then wait for additional input to read into `s`","body":"Its going to read 2 into <code>n</code>, 0101010 into <code>k</code>, and then wait for additional input to read into <code>s</code>"},{"owner":{"account_id":29566113,"reputation":13,"user_id":22659485,"display_name":"ngngng"},"score":0,"creation_date":1696727599,"post_id":77251985,"comment_id":136190249,"body_markdown":"I meant that `n` is going to be written as input first and it works, but problem is that scanner doesn&#39;t read the last line of input","body":"I meant that <code>n</code> is going to be written as input first and it works, but problem is that scanner doesn&#39;t read the last line of input"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1696728297,"post_id":77251985,"comment_id":136190288,"body_markdown":"Your code as written works (I ran it on input &#39;1 (newline) 2 010101010 (newline)&#39;).  &#39;n, k, s&#39; are read as expected.  I added a print call after the assignment to &#39;s&#39;.   What do you mean &quot;doesn&#39;t reach the last line&quot;","body":"Your code as written works (I ran it on input &#39;1 (newline) 2 010101010 (newline)&#39;).  &#39;n, k, s&#39; are read as expected.  I added a print call after the assignment to &#39;s&#39;.   What do you mean &quot;doesn&#39;t reach the last line&quot;"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1696728348,"post_id":77251985,"comment_id":136190291,"body_markdown":"@notAPPP - the meaning is clear enough. I&#39;m not a fan of Scanner either, but it&#39;s clear what it&#39;s supposed to do (read 3 separate tokens in sequence) and it does it.","body":"@notAPPP - the meaning is clear enough. I&#39;m not a fan of Scanner either, but it&#39;s clear what it&#39;s supposed to do (read 3 separate tokens in sequence) and it does it."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1696729134,"post_id":77251985,"comment_id":136190321,"body_markdown":"How are you testing it?  If by feeding it input interactively then the issue is likely that `Scanner.next()` is trying to consume a whole trailing delimiter (by default, a *run* of whitespace characters) before it accepts that it has seen a delimiter at all.  If your input is organized into lines then use `nextLine()` instead of `next()`, and trim (or just ignore) any trailing whitespace.","body":"How are you testing it?  If by feeding it input interactively then the issue is likely that <code>Scanner.next()</code> is trying to consume a whole trailing delimiter (by default, a <i>run</i> of whitespace characters) before it accepts that it has seen a delimiter at all.  If your input is organized into lines then use <code>nextLine()</code> instead of <code>next()</code>, and trim (or just ignore) any trailing whitespace."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1696730500,"post_id":77251985,"comment_id":136190408,"body_markdown":"[mre] code post please.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post please."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696733934,"post_id":77251985,"comment_id":136190557,"body_markdown":"What is the program supposed to do?  If the user inputs `5`, is the user expected to give 10 additional inputs? Please edit the question to explain.  Also, as a previous comment said, please provide a complete, but minimal reproducible example. (See the page linked to in that comment.) Include examples. Each example should have an input, expected output, and actual output.","body":"What is the program supposed to do?  If the user inputs <code>5</code>, is the user expected to give 10 additional inputs? Please edit the question to explain.  Also, as a previous comment said, please provide a complete, but minimal reproducible example. (See the page linked to in that comment.) Include examples. Each example should have an input, expected output, and actual output."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696734146,"post_id":77251985,"comment_id":136190566,"body_markdown":"User friendly design tip: Precede each input request with a prompt.  For example, `Sysytem.out.print (&quot;Input foo count (integer) &gt;&quot;); foo = sc.nextInt (); System.out.print (&quot;Input bar value (floating point) &gt;&quot;); bar = sc.nextDouble ();`.","body":"User friendly design tip: Precede each input request with a prompt.  For example, <code>Sysytem.out.print (&quot;Input foo count (integer) &gt;&quot;); foo = sc.nextInt (); System.out.print (&quot;Input bar value (floating point) &gt;&quot;); bar = sc.nextDouble ();</code>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696731146,"creation_date":1696731146,"answer_id":77252072,"question_id":77251985,"body_markdown":"&gt; _&quot;... I get `n` strings like &quot;2 0101010&quot; as input and i want to save `2` to variable `k` and `0101010` to string `s`, but scanner doesn&#39;t reach the last line. How can i fix it? ...&quot;_\r\n\r\nThe code appears to work fine.\r\n\r\nHere is a similar implementation.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nint n = in.nextInt(), k;\r\nString s;\r\nwhile (n-- &gt; 0) {\r\n    k = in.nextInt();\r\n    s = in.next();\r\n}\r\n```","title":"Scanner doesn&#39;t reach the last line","body":"<blockquote>\n<p><em>&quot;... I get <code>n</code> strings like &quot;2 0101010&quot; as input and i want to save <code>2</code> to variable <code>k</code> and <code>0101010</code> to string <code>s</code>, but scanner doesn't reach the last line. How can i fix it? ...&quot;</em></p>\n</blockquote>\n<p>The code appears to work fine.</p>\n<p>Here is a similar implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint n = in.nextInt(), k;\nString s;\nwhile (n-- &gt; 0) {\n    k = in.nextInt();\n    s = in.next();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696954813,"post_id":77252100,"comment_id":136217513,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77252100/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23793122,"reputation":1,"user_id":17804361,"display_name":"VRashi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696731793,"creation_date":1696731793,"answer_id":77252100,"question_id":77251985,"body_markdown":"in the code sc is the scanner object, and fisrt int value is stored into variable n, if it is int, second value passed is stored into variable K and you must pass one more value to s. so you have to input three values.","title":"Scanner doesn&#39;t reach the last line","body":"<p>in the code sc is the scanner object, and fisrt int value is stored into variable n, if it is int, second value passed is stored into variable K and you must pass one more value to s. so you have to input three values.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696944940,"post_id":77252273,"comment_id":136215313,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77252273/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25878001,"reputation":1,"user_id":19607616,"display_name":"Drachios"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696737857,"creation_date":1696737833,"answer_id":77252273,"question_id":77251985,"body_markdown":"&quot;I get n strings like &quot;2 0101010&quot;, as you said this I&#39;m assuming that you are getting n number of strings, where a single string is of the form &quot;2 0101010&quot;. \r\n\r\nIn this case if I were you, I would take the whole String as input and then perform string operations on it, and then storing them into k and s. You can use charAt and substrings to achieve this. Hope this helps!","title":"Scanner doesn&#39;t reach the last line","body":"<p>&quot;I get n strings like &quot;2 0101010&quot;, as you said this I'm assuming that you are getting n number of strings, where a single string is of the form &quot;2 0101010&quot;.</p>\n<p>In this case if I were you, I would take the whole String as input and then perform string operations on it, and then storing them into k and s. You can use charAt and substrings to achieve this. Hope this helps!</p>\n"}],"owner":{"account_id":29566113,"reputation":13,"user_id":22659485,"display_name":"ngngng"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1696737857,"creation_date":1696727231,"question_id":77251985,"body_markdown":"I have following code:\r\n```\r\nScanner sc = new Scanner(System.in);\r\nint n = sc.nextInt();\r\nfor (int i = 0; i &lt; n; i++) {\r\n    int k = sc.nextInt();\r\n    String s = sc.next();\r\n```\r\nI get `n` strings like &quot;2 0101010&quot; as input and i want to save `2` to variable `k` and `0101010` to string `s`, but scanner doesn&#39;t reach the last line. How can i fix it?\r\n\r\n","title":"Scanner doesn&#39;t reach the last line","body":"<p>I have following code:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint n = sc.nextInt();\nfor (int i = 0; i &lt; n; i++) {\n    int k = sc.nextInt();\n    String s = sc.next();\n</code></pre>\n<p>I get <code>n</code> strings like &quot;2 0101010&quot; as input and i want to save <code>2</code> to variable <code>k</code> and <code>0101010</code> to string <code>s</code>, but scanner doesn't reach the last line. How can i fix it?</p>\n"},{"tags":["java","maven","pljava"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696742007,"post_id":77252268,"comment_id":136190908,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":12528146,"reputation":1,"user_id":9117232,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696737604,"creation_date":1696737604,"question_id":77252268,"body_markdown":"https://tada.github.io/pljava/use/hello.html\r\n\r\nI want to package a jar according to the sample program, but pljava-api cannot be found in maven. What is the reason or from which repository can I download dependency?\r\n\r\n\r\nI went to look for it in the https://repo.maven.apache.org/maven2 warehouse and found that I couldn&#39;t find it. However, the pljava documentation did not specify which warehouse I should download the dependencies from. I tried the maven central warehouse and the Alibaba Cloud maven warehouse. , the dependency of this pljava cannot be found, what should I do?","title":"The sample program packaging of pljava cannot find maven dependencies?","body":"<p><a href=\"https://tada.github.io/pljava/use/hello.html\" rel=\"nofollow noreferrer\">https://tada.github.io/pljava/use/hello.html</a></p>\n<p>I want to package a jar according to the sample program, but pljava-api cannot be found in maven. What is the reason or from which repository can I download dependency?</p>\n<p>I went to look for it in the <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> warehouse and found that I couldn't find it. However, the pljava documentation did not specify which warehouse I should download the dependencies from. I tried the maven central warehouse and the Alibaba Cloud maven warehouse. , the dependency of this pljava cannot be found, what should I do?</p>\n"},{"tags":["java","jms","message-queue"],"answers":[{"tags":[],"owner":{"account_id":202319,"reputation":4688,"user_id":449325,"display_name":"alpian"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1304115981,"creation_date":1304115981,"answer_id":5838011,"question_id":5837845,"body_markdown":"AFAIK, close() will simply shutdown that consumer.  In order to delete the subscription you need to unsubscribe() from it (a method on Session).  You should test this with your chosen JMS provider however in order to be sure they implemented the JMS spec the way it was intended! :)","title":"What is the best way to shutdown a durable consumer using JMS?","body":"<p>AFAIK, close() will simply shutdown that consumer.  In order to delete the subscription you need to unsubscribe() from it (a method on Session).  You should test this with your chosen JMS provider however in order to be sure they implemented the JMS spec the way it was intended! :)</p>\n"}],"owner":{"account_id":91958,"reputation":15235,"user_id":252253,"accept_rate":62,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696737584,"creation_date":1304114448,"question_id":5837845,"body_markdown":"I have a durable consumer on a JMS topic. I set the client ID, I can see that it&#39;s listed on the queue as a durable consumer. \r\n\r\nWhen I roll out code the server is restarted but I want to queue up the messages that I&#39;m missing while I restart (hence durable). What is the correct way to cleanly shutdown a message consumer so that you close it but still have the queue know to buffer the messages for you\r\n\r\n    destination = session.createTopic(&quot;beacons&quot;);\r\n    messageConsumer = session.createDurableSubscriber(destination, clientID);\r\n\r\nis this the correct way? or will this tell the queue that you no longer want messages delivered when you re-connect?\r\n\r\n    messageConsumer.close \r\n\r\n\r\nin a nutshell I&#39;m looking to be able to restart my service without losing messages from the topic I&#39;m subscribed to, thanks!","title":"What is the best way to shutdown a durable consumer using JMS?","body":"<p>I have a durable consumer on a JMS topic. I set the client ID, I can see that it's listed on the queue as a durable consumer. </p>\n\n<p>When I roll out code the server is restarted but I want to queue up the messages that I'm missing while I restart (hence durable). What is the correct way to cleanly shutdown a message consumer so that you close it but still have the queue know to buffer the messages for you</p>\n\n<pre><code>destination = session.createTopic(\"beacons\");\nmessageConsumer = session.createDurableSubscriber(destination, clientID);\n</code></pre>\n\n<p>is this the correct way? or will this tell the queue that you no longer want messages delivered when you re-connect?</p>\n\n<pre><code>messageConsumer.close \n</code></pre>\n\n<p>in a nutshell I'm looking to be able to restart my service without losing messages from the topic I'm subscribed to, thanks!</p>\n"},{"tags":["java","spring","jms","ibm-mq"],"answers":[{"comments":[{"owner":{"account_id":401667,"reputation":377,"user_id":768359,"display_name":"Chris"},"score":0,"creation_date":1306487233,"post_id":6150075,"comment_id":7142436,"body_markdown":"Are you using WAS? And if so, are you using the same JMS queue definition for sending and receiving?","body":"Are you using WAS? And if so, are you using the same JMS queue definition for sending and receiving?"},{"owner":{"account_id":401667,"reputation":377,"user_id":768359,"display_name":"Chris"},"score":0,"creation_date":1306487381,"post_id":6150075,"comment_id":7142469,"body_markdown":"Oh, sorry didn&#39;t see that you&#39;re using Spring - then its propably another story","body":"Oh, sorry didn&#39;t see that you&#39;re using Spring - then its propably another story"},{"owner":{"account_id":250258,"reputation":3515,"user_id":1399539,"accept_rate":91,"display_name":"Michael W"},"score":0,"creation_date":1306488294,"post_id":6150075,"comment_id":7142692,"body_markdown":"Not using appserver this is a thin client. I think you maybe right when you saythe MQSeries is converting the message though","body":"Not using appserver this is a thin client. I think you maybe right when you saythe MQSeries is converting the message though"},{"owner":{"account_id":401667,"reputation":377,"user_id":768359,"display_name":"Chris"},"score":0,"creation_date":1306489352,"post_id":6150075,"comment_id":7142974,"body_markdown":"how do you define the properties of queue on the sender and on the receiver side.","body":"how do you define the properties of queue on the sender and on the receiver side."},{"owner":{"account_id":250258,"reputation":3515,"user_id":1399539,"accept_rate":91,"display_name":"Michael W"},"score":0,"creation_date":1306491104,"post_id":6150075,"comment_id":7143348,"body_markdown":"Could you be more specific as i dont want to post my whole config on a public forum","body":"Could you be more specific as i dont want to post my whole config on a public forum"},{"owner":{"account_id":401667,"reputation":377,"user_id":768359,"display_name":"Chris"},"score":0,"creation_date":1306492188,"post_id":6150075,"comment_id":7143573,"body_markdown":"Check if you&#39;re message on the queue is in RFH2 format (you can use tools like visual edit or WebSphere MQ Explorer). If they are, then the sending side is most propably correct.","body":"Check if you&#39;re message on the queue is in RFH2 format (you can use tools like visual edit or WebSphere MQ Explorer). If they are, then the sending side is most propably correct."}],"tags":[],"owner":{"account_id":401667,"reputation":377,"user_id":768359,"display_name":"Chris"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1306487197,"creation_date":1306487197,"answer_id":6150075,"question_id":6150006,"body_markdown":"\r\nMy first guess is, that you&#39;re using WebSphere AppServer and your JMS queue object (in JNDI) is configured to be a native MQ series client, i.e. you create a JMSObjectMessage which you hand over to the session and then MQSeries thinks it has to convert to BytesMessage.","title":"Why am I recieving a JMSBytesMessage when I&#39;m sending an OBject message using Spring and MQ Queue","body":"<p>My first guess is, that you're using WebSphere AppServer and your JMS queue object (in JNDI) is configured to be a native MQ series client, i.e. you create a JMSObjectMessage which you hand over to the session and then MQSeries thinks it has to convert to BytesMessage.</p>\n"},{"comments":[{"owner":{"account_id":1943643,"reputation":746,"user_id":1749247,"accept_rate":80,"display_name":"Urs Beeli"},"score":0,"creation_date":1413201922,"post_id":23286984,"comment_id":41341400,"body_markdown":"This has also solved the same problem for us, whereas the selected answer above was not really helpful. Adding the MQJMS_CLIENT_JMS_COMPLIANT property made all the difference! Thanks","body":"This has also solved the same problem for us, whereas the selected answer above was not really helpful. Adding the MQJMS_CLIENT_JMS_COMPLIANT property made all the difference! Thanks"}],"tags":[],"owner":{"account_id":4376203,"reputation":2070,"user_id":3569165,"display_name":"Jan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398411567,"creation_date":1398411567,"answer_id":23286984,"question_id":6150006,"body_markdown":"I had the same problem. In my case, I was using the wrong transport type:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;mqQueue&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot;&gt;\r\n        &lt;property name=&quot;baseQueueName&quot; value=&quot;...&quot; /&gt;\r\n        &lt;property name=&quot;targetClient&quot;&gt;\r\n            &lt;util:constant static-field=&quot;com.ibm.mq.jms.JMSC.MQJMS_CLIENT_NONJMS_MQ&quot; /&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nInstead it should have been:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;mqQueue&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot;&gt;\r\n        &lt;property name=&quot;baseQueueName&quot; value=&quot;...&quot; /&gt;\r\n        &lt;property name=&quot;targetClient&quot;&gt;\r\n            &lt;util:constant static-field=&quot;com.ibm.mq.jms.JMSC.MQJMS_CLIENT_JMS_COMPLIANT&quot; /&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n","title":"Why am I recieving a JMSBytesMessage when I&#39;m sending an OBject message using Spring and MQ Queue","body":"<p>I had the same problem. In my case, I was using the wrong transport type:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"mqQueue\" class=\"com.ibm.mq.jms.MQQueue\"&gt;\n    &lt;property name=\"baseQueueName\" value=\"...\" /&gt;\n    &lt;property name=\"targetClient\"&gt;\n        &lt;util:constant static-field=\"com.ibm.mq.jms.JMSC.MQJMS_CLIENT_NONJMS_MQ\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Instead it should have been:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"mqQueue\" class=\"com.ibm.mq.jms.MQQueue\"&gt;\n    &lt;property name=\"baseQueueName\" value=\"...\" /&gt;\n    &lt;property name=\"targetClient\"&gt;\n        &lt;util:constant static-field=\"com.ibm.mq.jms.JMSC.MQJMS_CLIENT_JMS_COMPLIANT\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":250258,"reputation":3515,"user_id":1399539,"accept_rate":91,"display_name":"Michael W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3627,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6150075,"answer_count":2,"score":3,"last_activity_date":1696736745,"creation_date":1306486883,"question_id":6150006,"body_markdown":"So I&#39;m sending an object using Spring and IBM MQ Queue:\r\n\r\n\tpublic void sendObjectMessage(final Object message) {\r\n\t  \r\n\t//\tjmsTemplate.convertAndSend(message);\r\n\r\n\t\tjmsTemplate.send(new MessageCreator()\r\n\t      {\r\n\t        public Message createMessage(Session session) throws JMSException\r\n\t        {\r\n\t        ObjectMessage outMessage = session.createObjectMessage((Serializable) message);\r\n\t        return(outMessage);\r\n\t        }\r\n\t      }); \r\n\t}\r\n\r\nAnd during debugging I can see that I am indeed sending it as an object message. But using Spring&#39;s listener implementation I am picking up the messages in the onMessage() method as JMSBytesMessages????\r\n\r\n \tpublic void onMessage(Message message) {\r\n\t\tSystem.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Recieved in onMessage&quot;);\r\n\t\tSystem.out.println(message.getClass());\r\n\t}\r\n\r\n\r\nOUTPUT:\r\n\r\n    &gt;&gt;&gt;&gt;&gt;&gt;&gt; Recieved in onMessage\r\n    class com.ibm.jms.JMSBytesMessage\r\n\r\n\r\nAnybody know whats going on here? This is difficult to debug as it seems to be happening on the queue???\r\n\r\nThanks for your help\r\n\r\n\r\nP.S I&#39;ve also tried to catch the message using \r\n\r\n\tif (message instanceof ObjectMessage) {\r\n\t\tobject = ((ObjectMessage) message).getObject();\r\n\t}\r\n\r\nand\r\n\r\n\tif (message instanceof JMSBytesMessage) {\r\n\t\tSystem.out.println(&quot;ITS A BYTES MESSAGE!!!!!!!!!!!&quot;); \r\n\t}\r\n\r\nNeither of which work???","title":"Why am I recieving a JMSBytesMessage when I&#39;m sending an OBject message using Spring and MQ Queue","body":"<p>So I'm sending an object using Spring and IBM MQ Queue:</p>\n\n<pre><code>public void sendObjectMessage(final Object message) {\n\n//  jmsTemplate.convertAndSend(message);\n\n    jmsTemplate.send(new MessageCreator()\n      {\n        public Message createMessage(Session session) throws JMSException\n        {\n        ObjectMessage outMessage = session.createObjectMessage((Serializable) message);\n        return(outMessage);\n        }\n      }); \n}\n</code></pre>\n\n<p>And during debugging I can see that I am indeed sending it as an object message. But using Spring's listener implementation I am picking up the messages in the onMessage() method as JMSBytesMessages????</p>\n\n<pre><code>public void onMessage(Message message) {\n    System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt; Recieved in onMessage\");\n    System.out.println(message.getClass());\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Recieved in onMessage\nclass com.ibm.jms.JMSBytesMessage\n</code></pre>\n\n<p>Anybody know whats going on here? This is difficult to debug as it seems to be happening on the queue???</p>\n\n<p>Thanks for your help</p>\n\n<p>P.S I've also tried to catch the message using </p>\n\n<pre><code>if (message instanceof ObjectMessage) {\n    object = ((ObjectMessage) message).getObject();\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if (message instanceof JMSBytesMessage) {\n    System.out.println(\"ITS A BYTES MESSAGE!!!!!!!!!!!\"); \n}\n</code></pre>\n\n<p>Neither of which work???</p>\n"},{"tags":["java","spring-boot","asynchronous"],"owner":{"account_id":8635214,"reputation":1,"user_id":6465660,"display_name":"Anand Sourabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696735409,"creation_date":1696735191,"question_id":77252191,"body_markdown":"I am running into a typical issue with @CacheEvict annotation not working when invoking an AWSLambda function from Springboot App.\r\n\r\nI have a POST controller, that has a /save endpoint. Within the controller, I invoke the AWSLambda using Java SDK using something like this:\r\n\r\n\r\n        @PostMapping(value = &quot;/save&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n            public ResponseEntity&lt;Object&gt; saveData(@RequestBody MyDTO myDTO) {\r\n            String cn = &quot;123456&quot;; //Hard coded as an example\r\n            try {\r\n                        InvokeResult result = getResultfromLambda(myDTO,cn);\r\n                        String responseStr = null;\r\n                        if(result.getPayload() != null){\r\n                            responseStr = new String(result.getPayload().array(), StandardCharsets.UTF_8);\r\n                        }\r\n            .......\r\n                }catch (Exception e) {\r\n                    log.error(&quot;An exception occurred while saving data. Exception is : {}&quot;, e.getMessage());\r\n                    LogUtils.logExceptionDetails(e);\r\n                    String stackTrace = ExceptionUtils.getStackTrace(e);\r\n                    throw e;\r\n                }\r\n               ...\r\n\r\nThe getResultfromLambda is as below:\r\n\r\n    @Caching(evict = { @CacheEvict(cacheNames=&quot;CACHE1&quot;, key=&quot;#cn&quot; , cacheManager = &quot;cacheManager&quot;),\r\n            @CacheEvict(cacheNames=&quot;CACHE2&quot;, key=&quot;#cn&quot; , cacheManager = &quot;cacheManager&quot;)\r\n           })\r\n    public InvokeResult getResultfromLambda(MyDTO myDTP, String cn) {\r\n        InvokeRequest req = new InvokeRequest()\r\n                .withFunctionName(MY_SERVICE_LAMBDA_FUNCTION_NAME)\r\n                .withPayload(myDTO);\r\n        req.setInvocationType(InvocationType.Event);\r\n        return awsLambda.invoke(req);\r\n    }\r\n\r\nawsLambda is autowired as below in the controller:\r\n\r\n    @Autowired(required = false)\r\n    AWSLambda awsLambda;\r\n\r\nThe Lambda get invoked but the CacheEvict does not happen. I have tried many ways of using CacheManager directly, but still does not work.\r\n\r\nIs it because of the Asynchronous execution of the Lambda function? Could you please guide on how to resolve this?","title":"Issue with @CacheEvict when invoking a AWSLambda function from Spring service","body":"<p>I am running into a typical issue with @CacheEvict annotation not working when invoking an AWSLambda function from Springboot App.</p>\n<p>I have a POST controller, that has a /save endpoint. Within the controller, I invoke the AWSLambda using Java SDK using something like this:</p>\n<pre><code>    @PostMapping(value = &quot;/save&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\n        public ResponseEntity&lt;Object&gt; saveData(@RequestBody MyDTO myDTO) {\n        String cn = &quot;123456&quot;; //Hard coded as an example\n        try {\n                    InvokeResult result = getResultfromLambda(myDTO,cn);\n                    String responseStr = null;\n                    if(result.getPayload() != null){\n                        responseStr = new String(result.getPayload().array(), StandardCharsets.UTF_8);\n                    }\n        .......\n            }catch (Exception e) {\n                log.error(&quot;An exception occurred while saving data. Exception is : {}&quot;, e.getMessage());\n                LogUtils.logExceptionDetails(e);\n                String stackTrace = ExceptionUtils.getStackTrace(e);\n                throw e;\n            }\n           ...\n</code></pre>\n<p>The getResultfromLambda is as below:</p>\n<pre><code>@Caching(evict = { @CacheEvict(cacheNames=&quot;CACHE1&quot;, key=&quot;#cn&quot; , cacheManager = &quot;cacheManager&quot;),\n        @CacheEvict(cacheNames=&quot;CACHE2&quot;, key=&quot;#cn&quot; , cacheManager = &quot;cacheManager&quot;)\n       })\npublic InvokeResult getResultfromLambda(MyDTO myDTP, String cn) {\n    InvokeRequest req = new InvokeRequest()\n            .withFunctionName(MY_SERVICE_LAMBDA_FUNCTION_NAME)\n            .withPayload(myDTO);\n    req.setInvocationType(InvocationType.Event);\n    return awsLambda.invoke(req);\n}\n</code></pre>\n<p>awsLambda is autowired as below in the controller:</p>\n<pre><code>@Autowired(required = false)\nAWSLambda awsLambda;\n</code></pre>\n<p>The Lambda get invoked but the CacheEvict does not happen. I have tried many ways of using CacheManager directly, but still does not work.</p>\n<p>Is it because of the Asynchronous execution of the Lambda function? Could you please guide on how to resolve this?</p>\n"},{"tags":["java","postgresql","hibernate","criteria-api"],"owner":{"account_id":1293839,"reputation":1183,"user_id":1245415,"accept_rate":78,"display_name":"Sixthpoint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696733071,"creation_date":1696733071,"question_id":77252134,"body_markdown":"I have the following postgres query:\r\n\r\n    SELECT DISTINCT DATE(created_date) as day FROM registrations GROUP BY created_date ORDER BY DATE(created_date) ASC\r\n\r\nI am attempting to convert this to the criteria api and use it with a specification predicate. The `registration.createdDate` is of `LocalDateTime` on the entity. The column in postgres is of type `timestamp with timezone`\r\n  \r\n\r\n    var builder = entityManager.getCriteriaBuilder();\r\n    \r\n    var dateCriteriaQuery = builder.createQuery(Date.class);\r\n    Root&lt;Registration&gt; root = dateCriteriaQuery.from(Registration.class);\r\n    \r\n    dateCriteriaQuery.select(builder.function(&quot;DATE&quot;, Date.class, root.get(Registration_.createdDate)).as(Date.class).alias(&quot;date&quot;));\r\n    \r\n    GenericSpecificationsBuilder&lt;Registration&gt; specificationsBuilder = new GenericSpecificationsBuilder&lt;&gt;();\r\n    Specification&lt;Registration&gt; specification = specificationsBuilder.buildSpecificationFromSearchOperationRequest(searchOperationRequest, RegistrationSpecification::new);\r\n    Predicate predicate = specification.toPredicate(root, dateCriteriaQuery, builder);\r\n    dateCriteriaQuery.where(predicate);\r\n    \r\n    TypedQuery&lt;Date&gt; typedQuery = entityManager.createQuery(dateCriteriaQuery);\r\n    return typedQuery.getResultList();\r\n\r\nThe following error is occuring\r\n\r\n    org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode \r\n     \\-[METHOD_CALL] MethodNode: &#39;function (DATE)&#39;\r\n        +-[METHOD_NAME] IdentNode: &#39;DATE&#39; {originalText=DATE}\r\n        \\-[EXPR_LIST] SqlNode: &#39;exprList&#39;\r\n           \\-[DOT] DotNode: &#39;registrati0_.created_date&#39; {propertyName=createdDate,dereferenceType=PRIMITIVE,getPropertyPath=createdDate,path=generatedAlias0.createdDate,tableAlias=registrati0_,className=com.entity.Registration,classAlias=generatedAlias0}\r\n              +-[ALIAS_REF] IdentNode: &#39;registrati0_.id&#39; {alias=generatedAlias0, className=com.entity.Registration, tableAlias=registrati0_}\r\n              \\-[IDENT] IdentNode: &#39;createdDate&#39; {originalText=createdDate}\r\n     [select distinct function(&#39;DATE&#39;, generatedAlias0.createdDate) from com.entity.Registration as generatedAlias0 where generatedAlias0.id&gt;1L]\r\n\r\nHow can I select the distinct dates using the postgres date function?\r\n","title":"Criteria API select distinct date using postgres date function","body":"<p>I have the following postgres query:</p>\n<pre><code>SELECT DISTINCT DATE(created_date) as day FROM registrations GROUP BY created_date ORDER BY DATE(created_date) ASC\n</code></pre>\n<p>I am attempting to convert this to the criteria api and use it with a specification predicate. The <code>registration.createdDate</code> is of <code>LocalDateTime</code> on the entity. The column in postgres is of type <code>timestamp with timezone</code></p>\n<pre><code>var builder = entityManager.getCriteriaBuilder();\n\nvar dateCriteriaQuery = builder.createQuery(Date.class);\nRoot&lt;Registration&gt; root = dateCriteriaQuery.from(Registration.class);\n\ndateCriteriaQuery.select(builder.function(&quot;DATE&quot;, Date.class, root.get(Registration_.createdDate)).as(Date.class).alias(&quot;date&quot;));\n\nGenericSpecificationsBuilder&lt;Registration&gt; specificationsBuilder = new GenericSpecificationsBuilder&lt;&gt;();\nSpecification&lt;Registration&gt; specification = specificationsBuilder.buildSpecificationFromSearchOperationRequest(searchOperationRequest, RegistrationSpecification::new);\nPredicate predicate = specification.toPredicate(root, dateCriteriaQuery, builder);\ndateCriteriaQuery.where(predicate);\n\nTypedQuery&lt;Date&gt; typedQuery = entityManager.createQuery(dateCriteriaQuery);\nreturn typedQuery.getResultList();\n</code></pre>\n<p>The following error is occuring</p>\n<pre><code>org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode \n \\-[METHOD_CALL] MethodNode: 'function (DATE)'\n    +-[METHOD_NAME] IdentNode: 'DATE' {originalText=DATE}\n    \\-[EXPR_LIST] SqlNode: 'exprList'\n       \\-[DOT] DotNode: 'registrati0_.created_date' {propertyName=createdDate,dereferenceType=PRIMITIVE,getPropertyPath=createdDate,path=generatedAlias0.createdDate,tableAlias=registrati0_,className=com.entity.Registration,classAlias=generatedAlias0}\n          +-[ALIAS_REF] IdentNode: 'registrati0_.id' {alias=generatedAlias0, className=com.entity.Registration, tableAlias=registrati0_}\n          \\-[IDENT] IdentNode: 'createdDate' {originalText=createdDate}\n [select distinct function('DATE', generatedAlias0.createdDate) from com.entity.Registration as generatedAlias0 where generatedAlias0.id&gt;1L]\n</code></pre>\n<p>How can I select the distinct dates using the postgres date function?</p>\n"},{"tags":["java","java-8","flatmap"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1696596230,"post_id":77244486,"comment_id":136177011,"body_markdown":"`Map&lt;String,List&gt;` should be `Map&lt;String,List&lt;Integer&gt;&gt;` (or simply `var`) and `Map&lt;String,Map&lt;String,List&gt;&gt;` should be `Map&lt;String,Map&lt;String,List&lt;Integer&gt;&gt;&gt;`. You&#39;re [using a raw type `List`, which you should not](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it).","body":"<code>Map&lt;String,List&gt;</code> should be <code>Map&lt;String,List&lt;Integer&gt;&gt;</code> (or simply <code>var</code>) and <code>Map&lt;String,Map&lt;String,List&gt;&gt;</code> should be <code>Map&lt;String,Map&lt;String,List&lt;Integer&gt;&gt;&gt;</code>. You&#39;re <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">using a raw type <code>List</code>, which you should not</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1696605338,"post_id":77244486,"comment_id":136179024,"body_markdown":"As Joachim Sauer said, dont use raw types. After you fixed the types, you can use, e.g. `boolean lessThanfiveAll = outer.values().stream() .flatMap(m -&gt; m.values().stream()) .flatMap(List::stream) .allMatch(i -&gt; i &lt; 5);`","body":"As Joachim Sauer said, dont use raw types. After you fixed the types, you can use, e.g. <code>boolean lessThanfiveAll = outer.values().stream() .flatMap(m -&gt; m.values().stream()) .flatMap(List::stream) .allMatch(i -&gt; i &lt; 5);</code>"}],"answers":[{"tags":[],"owner":{"account_id":25492313,"reputation":1,"user_id":19286884,"display_name":"user19286884"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696721621,"creation_date":1696721621,"answer_id":77251828,"question_id":77244486,"body_markdown":"Do you need to use `flatMap`. Would this work?\r\n\r\n`boolean lessThanfiveAll = outer.entrySet().stream().allMatch(e -&gt; e.getValue().entrySet().stream().allMatch(v -&gt;v.getValue().stream().allMatch(e1 -&gt; e1 &lt; 5)));`","title":"Process Nested HashMaps with List of Integers in Java 8","body":"<p>Do you need to use <code>flatMap</code>. Would this work?</p>\n<p><code>boolean lessThanfiveAll = outer.entrySet().stream().allMatch(e -&gt; e.getValue().entrySet().stream().allMatch(v -&gt;v.getValue().stream().allMatch(e1 -&gt; e1 &lt; 5)));</code></p>\n"}],"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696730895,"creation_date":1696595790,"question_id":77244486,"body_markdown":"I want to do a simple Operation in Java 8. Below is the code \r\n\r\n```java\r\nList&lt;Integer&gt; lst =  Arrays.asList(1,2,3);\r\nMap&lt;String,List&gt; inner = new HashMap&lt;String,List&gt;();\r\ninner.put(&quot;first&quot;,lst);\r\n\r\nMap&lt;String,Map&lt;String,List&gt;&gt; outer =\r\n  new HashMap&lt;String,Map&lt;String,List&gt;&gt;();\r\nouter.put(&quot;Bigger&quot;,inner);\r\n```\r\n\r\nWhat I want to do is , return boolean if all the values in a child map List of Integers satisfy a criteria\r\n\r\nI tried to do below but it seems it is not working : \r\n\r\n```java\r\nboolean lessThanfiveAll =\r\n  outer.entrySet().stream().flatMap(\r\n    e -&gt; e.getValue().entrySet().stream().flatMap(\r\n      v -&gt; v.getValue().stream().allMatch(e -&gt; e &lt; 5)));\r\n```\r\n\r\nThe issue arises at `v -&gt;v.getValue().stream().allMatch`\r\nThe value inside allMatch is not considered as an Integer and I get compiler error as `operator &lt; cannot be applied to java.lang.Object`  \r\n\r\nCan anybody please help here ? \r\n","title":"Process Nested HashMaps with List of Integers in Java 8","body":"<p>I want to do a simple Operation in Java 8. Below is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; lst =  Arrays.asList(1,2,3);\nMap&lt;String,List&gt; inner = new HashMap&lt;String,List&gt;();\ninner.put(&quot;first&quot;,lst);\n\nMap&lt;String,Map&lt;String,List&gt;&gt; outer =\n  new HashMap&lt;String,Map&lt;String,List&gt;&gt;();\nouter.put(&quot;Bigger&quot;,inner);\n</code></pre>\n<p>What I want to do is , return boolean if all the values in a child map List of Integers satisfy a criteria</p>\n<p>I tried to do below but it seems it is not working :</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean lessThanfiveAll =\n  outer.entrySet().stream().flatMap(\n    e -&gt; e.getValue().entrySet().stream().flatMap(\n      v -&gt; v.getValue().stream().allMatch(e -&gt; e &lt; 5)));\n</code></pre>\n<p>The issue arises at <code>v -&gt;v.getValue().stream().allMatch</code>\nThe value inside allMatch is not considered as an Integer and I get compiler error as <code>operator &lt; cannot be applied to java.lang.Object</code></p>\n<p>Can anybody please help here ?</p>\n"},{"tags":["java","spring","scheduled-tasks","scheduler"],"comments":[{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1384420804,"post_id":19973552,"comment_id":29732795,"body_markdown":"Please trim down your code to what is absolutely necessary to understand and reproduce your problem. Nobody will work through a wall of code like this.","body":"Please trim down your code to what is absolutely necessary to understand and reproduce your problem. Nobody will work through a wall of code like this."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1384421718,"post_id":19973552,"comment_id":29733304,"body_markdown":"Can you add your web.xml (and maybe trim the java code a little by removing the imports). My guess is that you are loading the configuration multiple times (make sure you are nowhere in your code creating a new `ApplicationContext` yourself. One thing to notice already is that you have multiple instances of your `@Service` annotated bean one in XML and another one from component-scanning.","body":"Can you add your web.xml (and maybe trim the java code a little by removing the imports). My guess is that you are loading the configuration multiple times (make sure you are nowhere in your code creating a new <code>ApplicationContext</code> yourself. One thing to notice already is that you have multiple instances of your <code>@Service</code> annotated bean one in XML and another one from component-scanning."},{"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"score":0,"creation_date":1384422334,"post_id":19973552,"comment_id":29733628,"body_markdown":"Hello, thank you for your replies. I am sorry for the extensive file but I didn&#39;t know if something would be usefull for you to review. I have trimmed the imports and added the web.xml . \n\nM.Deinum , it was a test that I did. Usually I don&#39;t write the annotation @Service. As I see the service class is initialized once. Also, if there was a problem there, wouldn&#39;t it execute just twice always?","body":"Hello, thank you for your replies. I am sorry for the extensive file but I didn&#39;t know if something would be usefull for you to review. I have trimmed the imports and added the web.xml .   M.Deinum , it was a test that I did. Usually I don&#39;t write the annotation @Service. As I see the service class is initialized once. Also, if there was a problem there, wouldn&#39;t it execute just twice always?"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1384423945,"post_id":19973552,"comment_id":29734643,"body_markdown":"It&#39;s annotation driven. Why do you add the bean once more in xml &lt;bean id=&quot;fileExportService&quot; class=&quot;com.fileExportDaemon.service.FileExportService&quot; /&gt; after marking it as @Service?","body":"It&#39;s annotation driven. Why do you add the bean once more in xml &lt;bean id=&quot;fileExportService&quot; class=&quot;com.fileExportDaemon.service.FileExportService&quot; /&gt; after marking it as @Service?"},{"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"score":0,"creation_date":1384425051,"post_id":19973552,"comment_id":29735284,"body_markdown":"Hello Stanislav, as I said before, the Service annotation could be omitted. Or on the other hand the bean definition of the exportService could be omitted. I tested the app and has the same results even with the @Service removed","body":"Hello Stanislav, as I said before, the Service annotation could be omitted. Or on the other hand the bean definition of the exportService could be omitted. I tested the app and has the same results even with the @Service removed"},{"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"score":0,"creation_date":1384425131,"post_id":19973552,"comment_id":29735328,"body_markdown":"I removed the annotation so as not to confuse people :)","body":"I removed the annotation so as not to confuse people :)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1384425154,"post_id":19973552,"comment_id":29735344,"body_markdown":"You are loading your configuration (partially) twice. Both the `ContextLoaderListener` and `DispatcherServlet` load the **fileExportDaemon-servlet.xml** file. So basically everything in there is created twice. In your `ContextLoaderListener` the xml bean overrides the component-scanned bean (due to the naming). Basically when a method executes multiple times you are loading it multiple times and as stated make sure you don&#39;t construct new instances of an `ApplicationContext` somewhere in your code, as that will create more instances of everything.","body":"You are loading your configuration (partially) twice. Both the <code>ContextLoaderListener</code> and <code>DispatcherServlet</code> load the <b>fileExportDaemon-servlet.xml</b> file. So basically everything in there is created twice. In your <code>ContextLoaderListener</code> the xml bean overrides the component-scanned bean (due to the naming). Basically when a method executes multiple times you are loading it multiple times and as stated make sure you don&#39;t construct new instances of an <code>ApplicationContext</code> somewhere in your code, as that will create more instances of everything."},{"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"score":0,"creation_date":1384429795,"post_id":19973552,"comment_id":29737894,"body_markdown":"Sorry of my lack of knowledge, but is there a way one of these two to be omitted? \n`\n&lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n      &lt;servlet-name&gt;fileExportDaemon&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;`\n\nThe loader listener will load context and the dispathcer servlet will be used for the mvc capability. Please correct me If I have understood something in the wrong way.","body":"Sorry of my lack of knowledge, but is there a way one of these two to be omitted?  ` &lt;listener&gt;         &lt;listener-class&gt;org.springframework.web.context.ContextLoade&zwnj;&#8203;rListener&lt;/listener-&zwnj;&#8203;class&gt;     &lt;/listener&gt;      &lt;servlet&gt;       &lt;servlet-name&gt;fileExportDaemon&lt;/servlet-name&gt;       &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherSer&zwnj;&#8203;vlet&lt;/servlet-class&gt;       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;     &lt;/servlet&gt;`  The loader listener will load context and the dispathcer servlet will be used for the mvc capability. Please correct me If I have understood something in the wrong way."},{"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"score":0,"creation_date":1384429893,"post_id":19973552,"comment_id":29737944,"body_markdown":"Really sorry, I cant code format using the &quot; ` &quot;","body":"Really sorry, I cant code format using the &quot; ` &quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1384432598,"post_id":19973552,"comment_id":29739517,"body_markdown":"You have to separate the web stuff from the general stuff. So let the `DispatcherServlet` only load the web related things (views, controllers etc) and the `ContextLoaderListener` the general things (services, repositories etc.).","body":"You have to separate the web stuff from the general stuff. So let the <code>DispatcherServlet</code> only load the web related things (views, controllers etc) and the <code>ContextLoaderListener</code> the general things (services, repositories etc.)."}],"answers":[{"comments":[{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1672815517,"post_id":20090992,"comment_id":132355844,"body_markdown":"did you figure out what was the original issue?","body":"did you figure out what was the original issue?"},{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1695803874,"post_id":20090992,"comment_id":136071697,"body_markdown":"I have literally the same problem right now...","body":"I have literally the same problem right now..."}],"tags":[],"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1384936804,"creation_date":1384936804,"answer_id":20090992,"question_id":19973552,"body_markdown":"Just for anyone facing the same issue. I haven&#39;t found any logical solution over the described behaviour, but I have found a good work around. As said in my problem description, I have used the annotation Scheduled many times and of course it works. For this time only, I used the spring-quartz configuration and it works perfectly. The changes are not very big and you will find many many tutorials on how to use quartz with Spring. Regarding the bug, it remains a mystery. At this time, I have in fron of me two apps working with Scheduled and one with quartz. Even now I can&#39;t figure out why this happens.","title":"Spring scheduler executes task multiple times","body":"<p>Just for anyone facing the same issue. I haven't found any logical solution over the described behaviour, but I have found a good work around. As said in my problem description, I have used the annotation Scheduled many times and of course it works. For this time only, I used the spring-quartz configuration and it works perfectly. The changes are not very big and you will find many many tutorials on how to use quartz with Spring. Regarding the bug, it remains a mystery. At this time, I have in fron of me two apps working with Scheduled and one with quartz. Even now I can't figure out why this happens.</p>\n"},{"tags":[],"owner":{"account_id":3853010,"reputation":31,"user_id":3192627,"display_name":"chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696730688,"creation_date":1696730688,"answer_id":77252059,"question_id":19973552,"body_markdown":"I&#39;ve encountered the same issue before. Upon investigating, I found that checking the web.xml configuration of Tomcat is crucial. Ensure that there is only one &lt;Host&gt; configuration present. If multiple configurations are set, the scheduled task might run multiple times corresponding to the number of configurations.\r\n\r\nIt&#39;s imperative to verify and, if necessary, adjust the &lt;Host&gt; settings in the web.xml file to prevent unintended repetitions of the task.","title":"Spring scheduler executes task multiple times","body":"<p>I've encountered the same issue before. Upon investigating, I found that checking the web.xml configuration of Tomcat is crucial. Ensure that there is only one  configuration present. If multiple configurations are set, the scheduled task might run multiple times corresponding to the number of configurations.</p>\n<p>It's imperative to verify and, if necessary, adjust the  settings in the web.xml file to prevent unintended repetitions of the task.</p>\n"}],"owner":{"account_id":1335987,"reputation":91,"user_id":1278742,"display_name":"skougiou"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4592,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20090992,"answer_count":2,"score":3,"last_activity_date":1696730688,"creation_date":1384420159,"question_id":19973552,"body_markdown":"As the title states, I have setup a scheduler in a spring web app and it seems to run in a loop, random times, starting with 8 invocations and then randomly adding. I am using spring version 3.1.3.RELEASE. I am in no way expert on the subject but I have already done the same configuration for scheduling in the past,for about 5-6 other projects. I always add the spring task configuration, like a scheduler and the annotation-driven directive. Then a @Scheduled annotation on the method and that worked like a charm. I have also succeeded scheduling 1 month ago with the same version of Spring, so I believe its not a Spring version issue. I am giving the configuration and bean code below. Please don&#39;t hesitate to ask more info :) \r\n\r\nThanks for your time! \r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.fileExport&lt;/groupId&gt;\r\n      &lt;artifactId&gt;FileExportDaemon&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      \r\n      &lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;3.1.3.RELEASE&lt;/spring.version&gt;\r\n      &lt;/properties&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n      \t\r\n      \t\t&lt;!-- The SFL4J logging implementation you prefer --&gt;\r\n    \t\t&lt;!-- \r\n    \t\t &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t  --&gt;\r\n    \t\t \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.5&lt;/version&gt; \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t  &lt;!--\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t &lt;version&gt;1.7.5&lt;/version&gt; \r\n    \t\t&lt;/dependency&gt;\r\n              --&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n             \r\n      \r\n      \t\t&lt;!-- JCR API --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;javax.jcr&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;jcr&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- All the Jackrabbit libraries needed for DavEx, plus JcrUtils --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackrabbit-jcr2dav&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n                \r\n      \r\n       \r\n      \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackrabbit-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n                \r\n      \t\r\n      \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.19&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n      \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-email&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n      \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n                \r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;env&gt;dev&lt;/env&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;env&gt;prod&lt;/env&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;fileExportDaemon&lt;/finalName&gt;\r\n    \t\t&lt;filters&gt;\r\n    \t\t\t&lt;filter&gt;${env}.properties&lt;/filter&gt;\r\n    \t\t&lt;/filters&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;  \r\n      \r\n      \r\n    &lt;/project&gt;\r\n\r\nThe application-context.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n      xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n      xmlns:webflow=&quot;http://www.springframework.org/schema/webflow-config&quot;\r\n      xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n      xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n              http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n              http://www.springframework.org/schema/context \r\n              http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n              http://www.springframework.org/schema/tx \r\n              http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\r\n              http://www.springframework.org/schema/jee \r\n              http://www.springframework.org/schema/jee/spring-jee-3.1.xsd\r\n              http://www.springframework.org/schema/security\r\n              http://www.springframework.org/schema/security/spring-security-3.1.3.xsd\r\n              http://www.springframework.org/schema/mvc \r\n              http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n              http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd\r\n              http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\r\n              http://www.springframework.org/schema/webflow-config\r\n    \t   \t  http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd&quot;&gt;\r\n    \t\t\t\r\n    \t&lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath:configuration.properties&lt;/value&gt;\r\n       \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;fileEncoding&quot; value=&quot;utf-8&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;import resource=&quot;fileExportDaemon-service.xml&quot;/&gt;\r\n    \t\r\n    \t&lt;import resource=&quot;fileExportDaemon-servlet.xml&quot;/&gt;\r\n    \r\n    \t&lt;!-- Tasks Configuration --&gt;\r\n    \t &lt;task:annotation-driven scheduler=&quot;myScheduler&quot; /&gt; \r\n    \t &lt;task:scheduler id=&quot;myScheduler&quot; pool-size=&quot;100&quot; /&gt; \r\n    \t\r\n    \t&lt;!-- \r\n    \t&lt;util:properties id=&quot;applicationProps&quot; location=&quot;classpath:configuration.properties&quot; /&gt;\r\n        &lt;context:property-placeholder properties-ref=&quot;applicationProps&quot; /&gt;\r\n    \t\r\n    \t&lt;task:annotation-driven /&gt;\r\n    \t&lt;task:scheduled-tasks&gt;\r\n    \t\t&lt;task:scheduled ref=&quot;fileExportService&quot; method=&quot;cronExport&quot; cron=&quot;#{applicationProps[&#39;exportDaemon.execution.cron&#39;]}&quot;/&gt;\r\n    \t&lt;/task:scheduled-tasks&gt;\r\n    \t --&gt;\r\n    \t \r\n    \t&lt;context:annotation-config /&gt;\r\n    \r\n    \t&lt;tx:annotation-driven /&gt;\r\n    \r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t\r\n    \r\n    &lt;/beans&gt;\r\n\r\nfileExportDaemon-service.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n      xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n              http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n              http://www.springframework.org/schema/context \r\n              http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n              http://www.springframework.org/schema/tx \r\n              http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\r\n              http://www.springframework.org/schema/jee \r\n              http://www.springframework.org/schema/jee/spring-jee-3.1.xsd\r\n              http://www.springframework.org/schema/security\r\n              http://www.springframework.org/schema/security/spring-security-3.1.3.xsd&quot;&gt;\r\n    \t\r\n    \t\r\n    \t\r\n    \t&lt;!-- Services --&gt;\r\n    \t&lt;bean id=&quot;fileExportService&quot; class=&quot;com.fileExportDaemon.service.FileExportService&quot; /&gt;\r\n    \t\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\nfileExportDaemon-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n      xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n      xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n              http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n              http://www.springframework.org/schema/context \r\n              http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n              http://www.springframework.org/schema/tx \r\n              http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n              http://www.springframework.org/schema/jee \r\n              http://www.springframework.org/schema/jee/spring-jee-3.0.xsd\r\n              http://www.springframework.org/schema/security\r\n              http://www.springframework.org/schema/security/spring-security-3.0.3.xsd\r\n              http://www.springframework.org/schema/mvc \r\n              http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;context:component-scan base-package=&quot;com.fileExportDaemon&quot; /&gt;\r\n    \r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n    \t\tp:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nFileExportService.java\r\n\r\n    package com.fileExportDaemon.service;\r\n    \r\n\r\n    public class FileExportService {\r\n    \r\n    \t@Value(&quot;${exportDaemon.jcr.repository.url}&quot;)\r\n    \tprivate String jcrURL;\r\n    \r\n    \t@Value(&quot;${exportDaemon.filesystem.separator}&quot;)\r\n    \tprivate String filesystemSeparator;\r\n    \t\r\n    \t@Value(&quot;${exportDaemon.path.complete}&quot;)\r\n    \tprivate String pathComplete;\r\n    \t\r\n    \t@Value(&quot;${exportDaemon.path.incomplete}&quot;)\r\n    \tprivate String pathIncomplete;\r\n    \t\r\n    \tLog logger = LogFactory.getLog(FileExportService.class);\r\n    \r\n    \t\r\n    \tpublic void exportFilesWithRules(){\t\r\n    \r\n    \t\tSession jcrSession = getJcrSession(jcrURL);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\t Node root = jcrSession.getRootNode();\r\n    \t\t\t Node dsNode = root.getNode(&quot;DS&quot;);\r\n    \t\t\t Node applicationsNode= dsNode.getNode(&quot;applications&quot;);\r\n    \t\t\t \r\n    \t\t\t NodeIterator applicationNodes = applicationsNode.getNodes();\r\n    \t\t\t \r\n    \t\t\t \r\n    \t\t\t while (applicationNodes.hasNext()) {\r\n    \t\t\t\t\thandleNode(applicationNodes.nextNode()); \r\n    \t\t\t} \r\n    \t\t\t\r\n    \t\t} catch (RepositoryException e) {\r\n    \t\t\tlogger.error(&quot;Repository error&quot;, e);\r\n    \t\t} \r\n    \t\t\r\n    \t\tlogger.debug(&quot;done exporting with rules!&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void exportFilesAll(){\r\n    \t\tlogger.debug(&quot;done exporting without rules!&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate void handleNode(Node node) throws RepositoryException { \r\n    \t\t \r\n    \t\tlogger.debug(node.getPath()); \r\n    \t\t\r\n    \t\tNode attachments = node.getNode(&quot;attachments&quot;);\r\n    \t\tboolean isComplete = isCompleteFiling(attachments);\r\n    \t\tif(isComplete){\r\n    \t\t\t\r\n    \t\t\tFile completedEfiling = new File(pathComplete + filesystemSeparator + node.getName());\r\n    \t\t\t\r\n    \t\t\tif (!completedEfiling.exists()){\r\n    \t\t\t\texportNodeFiles(attachments,pathComplete);\r\n    \t\t\t}else{\r\n    \t\t\t\tlogger.debug(&quot;File exists, go to next: &quot; + node.getName());\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}else{\r\n    \t\t\tlogger.debug(&quot;filing Incomplete!&quot;);\r\n    \t\t\tFile incompletedEfilingDir = new File(pathIncomplete + filesystemSeparator + node.getName());\r\n    \t\t\t\r\n    \t\t\tif(!incompletedEfilingDir.exists()){\r\n    \t\t\t\texportNodeFiles(attachments, pathIncomplete);\r\n    \t\t\t}else if( attachments.getNodes().getSize() != incompletedEfilingDir.list().length ){\r\n    \t\t\t\texportNodeFiles(attachments, pathIncomplete);\r\n    \t\t\t}else{\r\n    \t\t\t\tlogger.debug(&quot;files found identical on:&quot; + node.getName());\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Skip the virtual (and large!) jcr:system subtree \r\n    \t\tif (node.getName().equals(&quot;jcr:system&quot;)) { \r\n    \t\t\treturn; \r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate void exportNodeFiles (Node attachmentsNode, String destinationDir){\r\n    \t\t\r\n    \t\tFile directory = null;\r\n    \t\ttry {\r\n    \t\t\tdirectory = new File(destinationDir + filesystemSeparator + attachmentsNode.getParent().getName());\r\n    \t\t} catch (AccessDeniedException e1) {\r\n    \t\t\tlogger.error(&quot;Access denied error&quot;, e1);\r\n    \t\t} catch (ItemNotFoundException e1) {\r\n    \t\t\tlogger.error(&quot;Item not found.&quot;, e1);\r\n    \t\t} catch (RepositoryException e1) {\r\n    \t\t\tlogger.error(&quot;Repository error.&quot;, e1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tdirectory.mkdir();\r\n    \t\t\r\n    \t\tNodeIterator nodeIter = null;\r\n    \t\ttry {\r\n    \t\t\tnodeIter = attachmentsNode.getNodes();\r\n    \t\t} catch (RepositoryException e) {\r\n    \t\t\tlogger.error(&quot;Repository error.&quot;, e);\r\n    \t\t}\r\n    \t\t\r\n    \t\twhile( nodeIter.hasNext()){\r\n    \t\t\t\r\n    \t\t\tOutputStream outputStream = null;\r\n    \t\t\tInputStream is = null;\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tNode nodeToStore = nodeIter.nextNode().getNode(&quot;file&quot;).getNodes().nextNode();\r\n    \t\t\t\tNode content = nodeToStore.getNodes().nextNode();\r\n    \t\t\t\t\r\n    \t\t\t\tis = content.getProperty(&quot;jcr:data&quot;).getBinary().getStream() ;\r\n    \t\t\t\t\r\n    \t\t\t\tString a = directory.getAbsolutePath() + filesystemSeparator +nodeToStore.getName();\r\n    \t\t\t\toutputStream = new FileOutputStream(new File( directory.getAbsolutePath() + filesystemSeparator + nodeToStore.getName() ));\r\n    \t\t\t\t\r\n    \t\t\t\tint read = 0;\r\n    \t\t\t\tbyte[] bytes = new byte[1024];\r\n    \t\t \r\n    \t\t\t\twhile ((read = is.read(bytes)) != -1) {\r\n    \t\t\t\t\toutputStream.write(bytes, 0, read);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t} catch (PathNotFoundException e) {\r\n    \t\t\t\tlogger.error(&quot;Path not found.&quot;, e);\r\n    \t\t\t} catch (RepositoryException e) {\r\n    \t\t\t\tlogger.error(&quot;Repository error.&quot;, e);\r\n    \t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\tlogger.error(&quot;File not found.&quot;, e);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tlogger.error(&quot;IO error&quot;, e);\r\n    \t\t\t} finally {\r\n    \t\t\t\tif (is != null) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tis.close();\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif (outputStream != null) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\toutputStream.close();\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t \r\n    \t\t\t\t}\r\n    \t\t\t}//finally\r\n    \t\t}//while nodeIter has next\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tprivate boolean isCompleteFiling(Node node){\r\n    \t\tboolean result = false;\r\n    \t\t\r\n    \t\tNodeIterator nodeIter = null;\r\n    \t\ttry {\r\n    \t\t\tnodeIter = node.getNodes();\r\n    \t\t} catch (RepositoryException e) {\r\n    \t\t\tlogger.error(&quot;Repository error&quot;, e);\r\n    \t\t}\r\n    \t\t\r\n    \t\twhile(nodeIter.hasNext()){\r\n    \t\t\t\r\n    \t\t\tNode attachmentNode = nodeIter.nextNode();\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tif(StringUtils.endsWith(attachmentNode.getName(), &quot;.pdf&quot;)){\r\n    \t\t\t\t\tif ( StringUtils.equals(&quot;receipt.pdf&quot;, attachmentNode.getNode(&quot;file&quot;).getNodes().nextNode().getName() )){\r\n    \t\t\t\t\t\tresult = true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t} catch (RepositoryException e) {\r\n    \t\t\t\tlogger.error(&quot;Repository error&quot;, e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate Session getJcrSession(String url){\r\n    \t\tRepository repository = null;\r\n    \t\ttry {\r\n    \t\t\trepository = JcrUtils.getRepository(url);\r\n    \t\t} catch (RepositoryException e) {\r\n    \t\t\tlogger.error(&quot;Repository error&quot;, e);\r\n    \t\t}\r\n    \t\t\r\n    \t    SimpleCredentials creds = new SimpleCredentials(&quot;admin&quot;,&quot;admin&quot;.toCharArray());\r\n    \t    Session jcrSession = null;\r\n    \t    \r\n    \t\ttry {\r\n    \t\t\tjcrSession = repository.login(creds, &quot;default&quot;);\r\n    \t\t} catch (LoginException e) {\r\n    \t\t\tlogger.error(&quot;could not log in to jcr&quot;, e);\r\n    \t\t} catch (NoSuchWorkspaceException e) {\r\n    \t\t\tlogger.error(&quot;Could not find workspace&quot;, e);\r\n    \t\t} catch (RepositoryException e) {\r\n    \t\t\tlogger.error(&quot;Repository error&quot;, e);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn jcrSession;\r\n    \t}\r\n    \t\r\n    \t@Scheduled(cron=&quot;${exportDaemon.execution.cron}&quot; )\r\n    \tpublic void cronExport(){\r\n    \t\t\r\n    \t\tlogger.debug(&quot;Starting cron export!&quot;);\r\n    \t\texportFilesWithRules();\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nproperties\r\n\r\n    exportDaemon.jcr.repository.url=http://192.168.3.3:10080/jackrabbit-webapp-2.6.2/server\r\n    exportDaemon.execution.cron=* */5 * * * *\r\n    exportDaemon.filesystem.separator=\\\\\r\n    exportDaemon.path.complete=C:\\\\files\\\\export\\\\complete\r\n    exportDaemon.path.incomplete=C:\\\\files\\\\export\\\\incomplete\r\n    exportDaemon.all.filings=false\r\n\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n    \r\n    \r\n    \t&lt;display-name&gt;fileExportDaemon&lt;/display-name&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n        \t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        \t&lt;param-value&gt;/WEB-INF/application-context.xml&lt;/param-value&gt;\r\n      \t&lt;/context-param&gt;\r\n      \t\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t  \r\n    \t&lt;servlet&gt;\r\n    \t  &lt;servlet-name&gt;fileExportDaemon&lt;/servlet-name&gt;\r\n    \t  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t  &lt;servlet-name&gt;fileExportDaemon&lt;/servlet-name&gt;\r\n    \t  &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    \t&lt;filter&gt;\r\n        \t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        \t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        \t&lt;init-param&gt;\r\n          \t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n          \t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        \t&lt;/init-param&gt;\r\n        \t&lt;init-param&gt;\r\n          \t\t&lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n          \t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n        \t&lt;/init-param&gt;\r\n      \t&lt;/filter&gt;\r\n      \t\r\n    \t&lt;filter-mapping&gt;\r\n    \t  &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n    \t  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n","title":"Spring scheduler executes task multiple times","body":"<p>As the title states, I have setup a scheduler in a spring web app and it seems to run in a loop, random times, starting with 8 invocations and then randomly adding. I am using spring version 3.1.3.RELEASE. I am in no way expert on the subject but I have already done the same configuration for scheduling in the past,for about 5-6 other projects. I always add the spring task configuration, like a scheduler and the annotation-driven directive. Then a @Scheduled annotation on the method and that worked like a charm. I have also succeeded scheduling 1 month ago with the same version of Spring, so I believe its not a Spring version issue. I am giving the configuration and bean code below. Please don't hesitate to ask more info :) </p>\n\n<p>Thanks for your time! </p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.fileExport&lt;/groupId&gt;\n  &lt;artifactId&gt;FileExportDaemon&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n        &lt;spring.version&gt;3.1.3.RELEASE&lt;/spring.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n        &lt;!-- The SFL4J logging implementation you prefer --&gt;\n        &lt;!-- \n         &lt;dependency&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n          &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt; \n          --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt; \n        &lt;/dependency&gt;\n\n          &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n             &lt;version&gt;1.7.5&lt;/version&gt; \n        &lt;/dependency&gt;\n          --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- JCR API --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.jcr&lt;/groupId&gt;\n          &lt;artifactId&gt;jcr&lt;/artifactId&gt;\n          &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- All the Jackrabbit libraries needed for DavEx, plus JcrUtils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;\n            &lt;artifactId&gt;jackrabbit-jcr2dav&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;\n            &lt;artifactId&gt;jackrabbit-api&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n            &lt;version&gt;2.3.19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-email&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;standard&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;env&gt;dev&lt;/env&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;env&gt;prod&lt;/env&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;fileExportDaemon&lt;/finalName&gt;\n        &lt;filters&gt;\n            &lt;filter&gt;${env}.properties&lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;  \n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>The application-context.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:security=\"http://www.springframework.org/schema/security\"\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xmlns:tx=\"http://www.springframework.org/schema/tx\"\n  xmlns:jee=\"http://www.springframework.org/schema/jee\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n  xmlns:webflow=\"http://www.springframework.org/schema/webflow-config\"\n  xmlns:task=\"http://www.springframework.org/schema/task\"\n  xmlns:util=\"http://www.springframework.org/schema/util\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n          http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n          http://www.springframework.org/schema/context \n          http://www.springframework.org/schema/context/spring-context-3.1.xsd\n          http://www.springframework.org/schema/tx \n          http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\n          http://www.springframework.org/schema/jee \n          http://www.springframework.org/schema/jee/spring-jee-3.1.xsd\n          http://www.springframework.org/schema/security\n          http://www.springframework.org/schema/security/spring-security-3.1.3.xsd\n          http://www.springframework.org/schema/mvc \n          http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n          http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd\n          http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\n          http://www.springframework.org/schema/webflow-config\n          http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd\"&gt;\n\n    &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:configuration.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"fileEncoding\" value=\"utf-8\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;import resource=\"fileExportDaemon-service.xml\"/&gt;\n\n    &lt;import resource=\"fileExportDaemon-servlet.xml\"/&gt;\n\n    &lt;!-- Tasks Configuration --&gt;\n     &lt;task:annotation-driven scheduler=\"myScheduler\" /&gt; \n     &lt;task:scheduler id=\"myScheduler\" pool-size=\"100\" /&gt; \n\n    &lt;!-- \n    &lt;util:properties id=\"applicationProps\" location=\"classpath:configuration.properties\" /&gt;\n    &lt;context:property-placeholder properties-ref=\"applicationProps\" /&gt;\n\n    &lt;task:annotation-driven /&gt;\n    &lt;task:scheduled-tasks&gt;\n        &lt;task:scheduled ref=\"fileExportService\" method=\"cronExport\" cron=\"#{applicationProps['exportDaemon.execution.cron']}\"/&gt;\n    &lt;/task:scheduled-tasks&gt;\n     --&gt;\n\n    &lt;context:annotation-config /&gt;\n\n    &lt;tx:annotation-driven /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>fileExportDaemon-service.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:security=\"http://www.springframework.org/schema/security\"\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xmlns:tx=\"http://www.springframework.org/schema/tx\"\n  xmlns:jee=\"http://www.springframework.org/schema/jee\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n          http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n          http://www.springframework.org/schema/context \n          http://www.springframework.org/schema/context/spring-context-3.1.xsd\n          http://www.springframework.org/schema/tx \n          http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\n          http://www.springframework.org/schema/jee \n          http://www.springframework.org/schema/jee/spring-jee-3.1.xsd\n          http://www.springframework.org/schema/security\n          http://www.springframework.org/schema/security/spring-security-3.1.3.xsd\"&gt;\n\n\n\n    &lt;!-- Services --&gt;\n    &lt;bean id=\"fileExportService\" class=\"com.fileExportDaemon.service.FileExportService\" /&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>fileExportDaemon-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:p=\"http://www.springframework.org/schema/p\"\n  xmlns:security=\"http://www.springframework.org/schema/security\"\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xmlns:tx=\"http://www.springframework.org/schema/tx\"\n  xmlns:jee=\"http://www.springframework.org/schema/jee\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n          http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n          http://www.springframework.org/schema/context \n          http://www.springframework.org/schema/context/spring-context-3.0.xsd\n          http://www.springframework.org/schema/tx \n          http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n          http://www.springframework.org/schema/jee \n          http://www.springframework.org/schema/jee/spring-jee-3.0.xsd\n          http://www.springframework.org/schema/security\n          http://www.springframework.org/schema/security/spring-security-3.0.3.xsd\n          http://www.springframework.org/schema/mvc \n          http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.fileExportDaemon\" /&gt;\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n        p:prefix=\"/WEB-INF/jsp/\" p:suffix=\".jsp\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>FileExportService.java</p>\n\n<pre><code>package com.fileExportDaemon.service;\n\n\npublic class FileExportService {\n\n    @Value(\"${exportDaemon.jcr.repository.url}\")\n    private String jcrURL;\n\n    @Value(\"${exportDaemon.filesystem.separator}\")\n    private String filesystemSeparator;\n\n    @Value(\"${exportDaemon.path.complete}\")\n    private String pathComplete;\n\n    @Value(\"${exportDaemon.path.incomplete}\")\n    private String pathIncomplete;\n\n    Log logger = LogFactory.getLog(FileExportService.class);\n\n\n    public void exportFilesWithRules(){ \n\n        Session jcrSession = getJcrSession(jcrURL);\n\n        try {\n\n             Node root = jcrSession.getRootNode();\n             Node dsNode = root.getNode(\"DS\");\n             Node applicationsNode= dsNode.getNode(\"applications\");\n\n             NodeIterator applicationNodes = applicationsNode.getNodes();\n\n\n             while (applicationNodes.hasNext()) {\n                    handleNode(applicationNodes.nextNode()); \n            } \n\n        } catch (RepositoryException e) {\n            logger.error(\"Repository error\", e);\n        } \n\n        logger.debug(\"done exporting with rules!\");\n    }\n\n\n\n    public void exportFilesAll(){\n        logger.debug(\"done exporting without rules!\");\n    }\n\n\n    private void handleNode(Node node) throws RepositoryException { \n\n        logger.debug(node.getPath()); \n\n        Node attachments = node.getNode(\"attachments\");\n        boolean isComplete = isCompleteFiling(attachments);\n        if(isComplete){\n\n            File completedEfiling = new File(pathComplete + filesystemSeparator + node.getName());\n\n            if (!completedEfiling.exists()){\n                exportNodeFiles(attachments,pathComplete);\n            }else{\n                logger.debug(\"File exists, go to next: \" + node.getName());\n                return;\n            }\n\n        }else{\n            logger.debug(\"filing Incomplete!\");\n            File incompletedEfilingDir = new File(pathIncomplete + filesystemSeparator + node.getName());\n\n            if(!incompletedEfilingDir.exists()){\n                exportNodeFiles(attachments, pathIncomplete);\n            }else if( attachments.getNodes().getSize() != incompletedEfilingDir.list().length ){\n                exportNodeFiles(attachments, pathIncomplete);\n            }else{\n                logger.debug(\"files found identical on:\" + node.getName());\n                return;\n            }\n\n        }\n\n        // Skip the virtual (and large!) jcr:system subtree \n        if (node.getName().equals(\"jcr:system\")) { \n            return; \n        }\n    }\n\n\n    private void exportNodeFiles (Node attachmentsNode, String destinationDir){\n\n        File directory = null;\n        try {\n            directory = new File(destinationDir + filesystemSeparator + attachmentsNode.getParent().getName());\n        } catch (AccessDeniedException e1) {\n            logger.error(\"Access denied error\", e1);\n        } catch (ItemNotFoundException e1) {\n            logger.error(\"Item not found.\", e1);\n        } catch (RepositoryException e1) {\n            logger.error(\"Repository error.\", e1);\n        }\n\n        directory.mkdir();\n\n        NodeIterator nodeIter = null;\n        try {\n            nodeIter = attachmentsNode.getNodes();\n        } catch (RepositoryException e) {\n            logger.error(\"Repository error.\", e);\n        }\n\n        while( nodeIter.hasNext()){\n\n            OutputStream outputStream = null;\n            InputStream is = null;\n\n            try {\n                Node nodeToStore = nodeIter.nextNode().getNode(\"file\").getNodes().nextNode();\n                Node content = nodeToStore.getNodes().nextNode();\n\n                is = content.getProperty(\"jcr:data\").getBinary().getStream() ;\n\n                String a = directory.getAbsolutePath() + filesystemSeparator +nodeToStore.getName();\n                outputStream = new FileOutputStream(new File( directory.getAbsolutePath() + filesystemSeparator + nodeToStore.getName() ));\n\n                int read = 0;\n                byte[] bytes = new byte[1024];\n\n                while ((read = is.read(bytes)) != -1) {\n                    outputStream.write(bytes, 0, read);\n                }\n\n\n            } catch (PathNotFoundException e) {\n                logger.error(\"Path not found.\", e);\n            } catch (RepositoryException e) {\n                logger.error(\"Repository error.\", e);\n            } catch (FileNotFoundException e) {\n                logger.error(\"File not found.\", e);\n            } catch (IOException e) {\n                logger.error(\"IO error\", e);\n            } finally {\n                if (is != null) {\n                    try {\n                        is.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                if (outputStream != null) {\n                    try {\n                        outputStream.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n            }//finally\n        }//while nodeIter has next\n\n    }\n\n\n\n    private boolean isCompleteFiling(Node node){\n        boolean result = false;\n\n        NodeIterator nodeIter = null;\n        try {\n            nodeIter = node.getNodes();\n        } catch (RepositoryException e) {\n            logger.error(\"Repository error\", e);\n        }\n\n        while(nodeIter.hasNext()){\n\n            Node attachmentNode = nodeIter.nextNode();\n\n            try {\n                if(StringUtils.endsWith(attachmentNode.getName(), \".pdf\")){\n                    if ( StringUtils.equals(\"receipt.pdf\", attachmentNode.getNode(\"file\").getNodes().nextNode().getName() )){\n                        result = true;\n                    }\n                }else{\n                    continue;\n                }\n            } catch (RepositoryException e) {\n                logger.error(\"Repository error\", e);\n            }\n        }\n        return result;\n    }\n\n\n    private Session getJcrSession(String url){\n        Repository repository = null;\n        try {\n            repository = JcrUtils.getRepository(url);\n        } catch (RepositoryException e) {\n            logger.error(\"Repository error\", e);\n        }\n\n        SimpleCredentials creds = new SimpleCredentials(\"admin\",\"admin\".toCharArray());\n        Session jcrSession = null;\n\n        try {\n            jcrSession = repository.login(creds, \"default\");\n        } catch (LoginException e) {\n            logger.error(\"could not log in to jcr\", e);\n        } catch (NoSuchWorkspaceException e) {\n            logger.error(\"Could not find workspace\", e);\n        } catch (RepositoryException e) {\n            logger.error(\"Repository error\", e);\n        }\n\n        return jcrSession;\n    }\n\n    @Scheduled(cron=\"${exportDaemon.execution.cron}\" )\n    public void cronExport(){\n\n        logger.debug(\"Starting cron export!\");\n        exportFilesWithRules();\n\n\n    }\n\n}\n</code></pre>\n\n<p>properties</p>\n\n<pre><code>exportDaemon.jcr.repository.url=http://192.168.3.3:10080/jackrabbit-webapp-2.6.2/server\nexportDaemon.execution.cron=* */5 * * * *\nexportDaemon.filesystem.separator=\\\\\nexportDaemon.path.complete=C:\\\\files\\\\export\\\\complete\nexportDaemon.path.incomplete=C:\\\\files\\\\export\\\\incomplete\nexportDaemon.all.filings=false\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    id=\"WebApp_ID\" version=\"2.5\"&gt;\n\n\n    &lt;display-name&gt;fileExportDaemon&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/application-context.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n      &lt;servlet-name&gt;fileExportDaemon&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;fileExportDaemon&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n      &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array","arraylist","sub-array"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696715819,"post_id":77251622,"comment_id":136189529,"body_markdown":"You showed us the output youre getting, but we have no way to know how youre producing that output.  The code youve shown does not produce any output.  Edit your question and show us the code which produces that output.","body":"You showed us the output youre getting, but we have no way to know how youre producing that output.  The code youve shown does not produce any output.  Edit your question and show us the code which produces that output."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1696716109,"post_id":77251622,"comment_id":136189546,"body_markdown":"You say mostly &quot;array&quot; in your prose, but show `ArrayList`s in your code.  These are not the same thing.","body":"You say mostly &quot;array&quot; in your prose, but show <code>ArrayList</code>s in your code.  These are not the same thing."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696716146,"post_id":77251622,"comment_id":136189549,"body_markdown":"Debugging is a good skill to have. If you are a professional software developer, or otherwise regularly develop software, it will be a necessary skill.  Try this: Pretend your are the computer. Use pen and paper for your memory.  You could also try running the program in a debugger. Set a breakpoint early, and then run the program one-step-at-a-time while monitoring variables.","body":"Debugging is a good skill to have. If you are a professional software developer, or otherwise regularly develop software, it will be a necessary skill.  Try this: Pretend your are the computer. Use pen and paper for your memory.  You could also try running the program in a debugger. Set a breakpoint early, and then run the program one-step-at-a-time while monitoring variables."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1696716302,"post_id":77251622,"comment_id":136189561,"body_markdown":"The sub-arrays (sub-lists) you want are characterized by distinct *pairs* of start and end index, but you are creating new `ArrayList`s only for each distinct start index.  You then add that same list to the answer list multiple times.","body":"The sub-arrays (sub-lists) you want are characterized by distinct <i>pairs</i> of start and end index, but you are creating new <code>ArrayList</code>s only for each distinct start index.  You then add that same list to the answer list multiple times."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696716320,"post_id":77251622,"comment_id":136189562,"body_markdown":"This appears to be a from programming puzzle / challenge. If it is, please provide a link to the page. It could also be a homework assignment. It looks The result of `solve` is passed to an automated judge. It is the judge that is responsible for outputting the result, and for verifying the result is correct.","body":"This appears to be a from programming puzzle / challenge. If it is, please provide a link to the page. It could also be a homework assignment. It looks The result of <code>solve</code> is passed to an automated judge. It is the judge that is responsible for outputting the result, and for verifying the result is correct."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1696716439,"post_id":77251622,"comment_id":136189570,"body_markdown":"Since you are using `List`s, you might find [`List.subList()`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-) useful for your purposes.","body":"Since you are using <code>List</code>s, you might find <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\"><code>List.subList()</code></a> useful for your purposes."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1696716447,"post_id":77251622,"comment_id":136189573,"body_markdown":"It will help to have meaningful variable names. Consider changing the names of variables `i` and `j`. You might ask &quot;what names should they have?&quot; I ask &quot;What do they represent?&quot;  (How about `start` and `end`?).","body":"It will help to have meaningful variable names. Consider changing the names of variables <code>i</code> and <code>j</code>. You might ask &quot;what names should they have?&quot; I ask &quot;What do they represent?&quot;  (How about <code>start</code> and <code>end</code>?)."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696734528,"post_id":77251622,"comment_id":136190586,"body_markdown":"Off-topic: I notice the line `public ArrayList&lt;ArrayList&lt;Integer&gt;&gt; solve(ArrayList&lt;Integer&gt; A) {` doesn&#39;t have the `static` specifier. Should it?","body":"Off-topic: I notice the line <code>public ArrayList&lt;ArrayList&lt;Integer&gt;&gt; solve(ArrayList&lt;Integer&gt; A) {</code> doesn&#39;t have the <code>static</code> specifier. Should it?"}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696717005,"creation_date":1696716459,"answer_id":77251669,"question_id":77251622,"body_markdown":"The issue is that you&#39;re adding the same `ArrayList` object (`temp`) multiple times to `ans`. In Java, the `ArrayList` object is mutable. So, when you modify `temp`, all the references to it in `ans` get updated as well.\r\n\r\nTo fix, create a new list from `temp` before adding it to `ans`, e.g., use `new ArrayList&lt;&gt;(temp)`:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    ArrayList&lt;Integer&gt; input = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5));\r\n    System.out.println(solve(input));\r\n  }\r\n\r\n  public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; solve(ArrayList&lt;Integer&gt; A) {\r\n    int n = A.size();\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; n; i++) {\r\n      ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n      for (int j = i; j &lt; n; j++) {\r\n        temp.add(A.get(j));\r\n        ans.add(new ArrayList&lt;&gt;(temp));\r\n      }\r\n    }\r\n    return ans;\r\n  }\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n    [[1], [1, 2], [1, 2, 3], [1, 2, 3, 4], [1, 2, 3, 4, 5], [2], [2, 3], [2, 3, 4], [2, 3, 4, 5], [3], [3, 4], [3, 4, 5], [4], [4, 5], [5]]","title":"Issue with ArrayList array generation","body":"<p>The issue is that you're adding the same <code>ArrayList</code> object (<code>temp</code>) multiple times to <code>ans</code>. In Java, the <code>ArrayList</code> object is mutable. So, when you modify <code>temp</code>, all the references to it in <code>ans</code> get updated as well.</p>\n<p>To fix, create a new list from <code>temp</code> before adding it to <code>ans</code>, e.g., use <code>new ArrayList&lt;&gt;(temp)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\nclass Main {\n  public static void main(String[] args) {\n    ArrayList&lt;Integer&gt; input = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5));\n    System.out.println(solve(input));\n  }\n\n  public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; solve(ArrayList&lt;Integer&gt; A) {\n    int n = A.size();\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n      ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n      for (int j = i; j &lt; n; j++) {\n        temp.add(A.get(j));\n        ans.add(new ArrayList&lt;&gt;(temp));\n      }\n    }\n    return ans;\n  }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[[1], [1, 2], [1, 2, 3], [1, 2, 3, 4], [1, 2, 3, 4, 5], [2], [2, 3], [2, 3, 4], [2, 3, 4, 5], [3], [3, 4], [3, 4, 5], [4], [4, 5], [5]]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1696725809,"post_id":77251857,"comment_id":136190169,"body_markdown":"You may want to pass the sublist as an argument to `new ArrayList` or mention the sublist is just a view of.the source list.","body":"You may want to pass the sublist as an argument to <code>new ArrayList</code> or mention the sublist is just a view of.the source list."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696730602,"creation_date":1696722754,"answer_id":77251857,"question_id":77251622,"body_markdown":"Utilize the _[List#subList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int))_ method, and remove the need for _temp_.\r\n\r\n```java\r\nList&lt;List&lt;Integer&gt;&gt; solve(List&lt;Integer&gt; A) {\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    for (int i = 0, j, n = A.size(); i &lt; n; i++)\r\n        for (j = i + 1; j &lt;= n; j++)\r\n            list.add(new ArrayList&lt;&gt;(A.subList(i, j)));\r\n    return list;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1]\r\n[1, 2]\r\n[1, 2, 3]\r\n[1, 2, 3, 4]\r\n[1, 2, 3, 4, 5]\r\n[2]\r\n[2, 3]\r\n[2, 3, 4]\r\n[2, 3, 4, 5]\r\n[3]\r\n[3, 4]\r\n[3, 4, 5]\r\n[4]\r\n[4, 5]\r\n[5]\r\n```","title":"Issue with ArrayList array generation","body":"<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">List#subList</a></em> method, and remove the need for <em>temp</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; solve(List&lt;Integer&gt; A) {\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n    for (int i = 0, j, n = A.size(); i &lt; n; i++)\n        for (j = i + 1; j &lt;= n; j++)\n            list.add(new ArrayList&lt;&gt;(A.subList(i, j)));\n    return list;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1]\n[1, 2]\n[1, 2, 3]\n[1, 2, 3, 4]\n[1, 2, 3, 4, 5]\n[2]\n[2, 3]\n[2, 3, 4]\n[2, 3, 4, 5]\n[3]\n[3, 4]\n[3, 4, 5]\n[4]\n[4, 5]\n[5]\n</code></pre>\n"}],"owner":{"account_id":29622121,"reputation":5,"user_id":22702821,"display_name":"Shubham Kumar Singh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1696730561,"answer_count":2,"score":-2,"last_activity_date":1696730602,"creation_date":1696715213,"question_id":77251622,"body_markdown":"&gt; You are given an array A of N integers.\r\nReturn a 2D array consisting of all the subarrays of the array.\r\n\r\nI had tried to get subarrays in temp as per loop and add that subarray directly to ans(2d arraylist)\r\n\r\n```java\r\npublic ArrayList&lt;ArrayList&lt;Integer&gt;&gt; solve(ArrayList&lt;Integer&gt; A) {\r\n    int n=A.size();\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ans= new ArrayList&lt;&gt;();\r\n    for(int i=0;i&lt;n;i++)\r\n    {\r\n        ArrayList&lt;Integer&gt; temp=new ArrayList&lt;&gt;();\r\n        for(int j=i;j&lt;n;j++)\r\n        {\r\n            temp.add(A.get(j));                           \r\n            ans.add(temp);                       \r\n        }\r\n    }\r\n    return ans;\r\n}\r\n```\r\n\r\nInput: `[1,2,3,4,5]`\r\n\r\nOutput: `[1 2 3 4 5 ] [1 2 3 4 5 ] [1 2 3 4 5 ] [1 2 3 4 5 ] [1 2 3 4 5 ] [2 3 4 5 ] [2 3 4 5 ] [2 3 4 5 ] [2 3 4 5 ] [3 4 5 ] [3 4 5 ] [3 4 5 ] [4 5 ] [4 5 ] [5 ]`\r\n\r\nExpected output: `[[1],[1,2],[1,2,3],[1,2,3,4],[1,2,3,4,5],[2],[2,3],[2,3,4],[2,3,4,5],[3],[3,4],[3,4,5],[4],[4,5],[5]]`\r\n","title":"Issue with ArrayList array generation","body":"<blockquote>\n<p>You are given an array A of N integers.\nReturn a 2D array consisting of all the subarrays of the array.</p>\n</blockquote>\n<p>I had tried to get subarrays in temp as per loop and add that subarray directly to ans(2d arraylist)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;ArrayList&lt;Integer&gt;&gt; solve(ArrayList&lt;Integer&gt; A) {\n    int n=A.size();\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ans= new ArrayList&lt;&gt;();\n    for(int i=0;i&lt;n;i++)\n    {\n        ArrayList&lt;Integer&gt; temp=new ArrayList&lt;&gt;();\n        for(int j=i;j&lt;n;j++)\n        {\n            temp.add(A.get(j));                           \n            ans.add(temp);                       \n        }\n    }\n    return ans;\n}\n</code></pre>\n<p>Input: <code>[1,2,3,4,5]</code></p>\n<p>Output: <code>[1 2 3 4 5 ] [1 2 3 4 5 ] [1 2 3 4 5 ] [1 2 3 4 5 ] [1 2 3 4 5 ] [2 3 4 5 ] [2 3 4 5 ] [2 3 4 5 ] [2 3 4 5 ] [3 4 5 ] [3 4 5 ] [3 4 5 ] [4 5 ] [4 5 ] [5 ]</code></p>\n<p>Expected output: <code>[[1],[1,2],[1,2,3],[1,2,3,4],[1,2,3,4,5],[2],[2,3],[2,3,4],[2,3,4,5],[3],[3,4],[3,4,5],[4],[4,5],[5]]</code></p>\n"},{"tags":["java","hibernate","hibernate-mapping","hibernate-4.x"],"comments":[{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":0,"creation_date":1432259517,"post_id":30386741,"comment_id":48863479,"body_markdown":"in your `Booking.java` you have mapped only one column do you have only one column in DB ?","body":"in your <code>Booking.java</code> you have mapped only one column do you have only one column in DB ?"},{"owner":{"account_id":2740026,"reputation":752,"user_id":2361780,"accept_rate":71,"display_name":"Kartik Jajal"},"score":0,"creation_date":1432261257,"post_id":30386741,"comment_id":48863890,"body_markdown":"there are other columns as well, it gives this exception for every column. But one column at a time in stack trace.","body":"there are other columns as well, it gives this exception for every column. But one column at a time in stack trace."},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":0,"creation_date":1432261802,"post_id":30386741,"comment_id":48864019,"body_markdown":"Map every column in DB with your `Booking ,java`","body":"Map every column in DB with your <code>Booking ,java</code>"},{"owner":{"account_id":2740026,"reputation":752,"user_id":2361780,"accept_rate":71,"display_name":"Kartik Jajal"},"score":0,"creation_date":1432266446,"post_id":30386741,"comment_id":48865036,"body_markdown":"This is id column value I pass, it is primary key","body":"This is id column value I pass, it is primary key"},{"owner":{"account_id":2825396,"reputation":141,"user_id":2428144,"accept_rate":71,"display_name":"Amar Agrawal"},"score":0,"creation_date":1432273796,"post_id":30386741,"comment_id":48867062,"body_markdown":"try using session.load(Booking.class,3740456)","body":"try using session.load(Booking.class,3740456)"}],"answers":[{"comments":[{"owner":{"account_id":2740026,"reputation":752,"user_id":2361780,"accept_rate":71,"display_name":"Kartik Jajal"},"score":0,"creation_date":1432387532,"post_id":30406919,"comment_id":48912578,"body_markdown":"Then it should also give me the same error when I execute the same query copied from log into SQL developer, That works fine..","body":"Then it should also give me the same error when I execute the same query copied from log into SQL developer, That works fine.."},{"owner":{"account_id":2163786,"reputation":1231,"user_id":1917327,"display_name":"codedabbler"},"score":0,"creation_date":1432389008,"post_id":30406919,"comment_id":48913076,"body_markdown":"Did you paste the code for Booking.java incorrectly? Why do I see 2 entities with one Table name &quot;BOOKING&quot; and the other &quot;EDI_IN_BOOKING&quot;?","body":"Did you paste the code for Booking.java incorrectly? Why do I see 2 entities with one Table name &quot;BOOKING&quot; and the other &quot;EDI_IN_BOOKING&quot;?"},{"owner":{"account_id":2163786,"reputation":1231,"user_id":1917327,"display_name":"codedabbler"},"score":1,"creation_date":1432523174,"post_id":30406919,"comment_id":48945732,"body_markdown":"The code is fine. Something is wrong with your configuration. Are you going against the right schema? instance? Can you recheck your connection info when you run the raw SQL vs the one configured in your hibernate config?","body":"The code is fine. Something is wrong with your configuration. Are you going against the right schema? instance? Can you recheck your connection info when you run the raw SQL vs the one configured in your hibernate config?"}],"tags":[],"owner":{"account_id":2163786,"reputation":1231,"user_id":1917327,"display_name":"codedabbler"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432334724,"creation_date":1432334724,"answer_id":30406919,"question_id":30386741,"body_markdown":"Is your database configured with case sensitive columns? That could be one reason why Oracle is throwing an &quot;invalid identifier&quot; error\r\nCheck your table creating script.","title":"org.hibernate.exception.SQLGrammarException: could not extract ResultSet","body":"<p>Is your database configured with case sensitive columns? That could be one reason why Oracle is throwing an \"invalid identifier\" error\nCheck your table creating script.</p>\n"},{"comments":[{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Bat&#252;rk"},"score":0,"creation_date":1598642559,"post_id":63639754,"comment_id":112535988,"body_markdown":"More interesting question: why is a five-year question rendered at the top of interesting questions? I just realized it was five-years old :)","body":"More interesting question: why is a five-year question rendered at the top of interesting questions? I just realized it was five-years old :)"}],"tags":[],"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Bat&#252;rk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598642389,"creation_date":1598642389,"answer_id":63639754,"question_id":30386741,"body_markdown":"Why is site_an in lowercase in the select such as booking0_.site_an as site_an10_0_0_ while all other column names are in uppercase. I think it may be an uppercase &quot;i&quot; issue.  \r\n\r\n    select\r\n    booking0_.id as id1_0_0_,\r\n    booking0_.EVENT_DETAIL_ID as EVENT_DETAIL_ID2_0_0_,\r\n    booking0_.EVENT_ID as EVENT_ID3_0_0_,\r\n    booking0_.PARTNER_C as PARTNER_C4_0_0_,\r\n    booking0_.EDI_RECIPIENT_AN as EDI_RECIPIENT_AN5_0_0_,\r\n    booking0_.RECORD_SEQUENCE_ID as RECORD_SEQUENCE_ID6_0_0_,\r\n    booking0_.RECORD_TYPE_N as RECORD_TYPE_N7_0_0_,\r\n    booking0_.EDI_SENDER_AN as EDI_SENDER_AN8_0_0_,\r\n    booking0_.SENDER_SEQUENCE_AN as SENDER_SEQUENCE_AN9_0_0_,\r\n    booking0_.site_an as site_an10_0_0_  ","title":"org.hibernate.exception.SQLGrammarException: could not extract ResultSet","body":"<p>Why is site_an in lowercase in the select such as booking0_.site_an as site_an10_0_0_ while all other column names are in uppercase. I think it may be an uppercase &quot;i&quot; issue.</p>\n<pre><code>select\nbooking0_.id as id1_0_0_,\nbooking0_.EVENT_DETAIL_ID as EVENT_DETAIL_ID2_0_0_,\nbooking0_.EVENT_ID as EVENT_ID3_0_0_,\nbooking0_.PARTNER_C as PARTNER_C4_0_0_,\nbooking0_.EDI_RECIPIENT_AN as EDI_RECIPIENT_AN5_0_0_,\nbooking0_.RECORD_SEQUENCE_ID as RECORD_SEQUENCE_ID6_0_0_,\nbooking0_.RECORD_TYPE_N as RECORD_TYPE_N7_0_0_,\nbooking0_.EDI_SENDER_AN as EDI_SENDER_AN8_0_0_,\nbooking0_.SENDER_SEQUENCE_AN as SENDER_SEQUENCE_AN9_0_0_,\nbooking0_.site_an as site_an10_0_0_  \n</code></pre>\n"}],"owner":{"account_id":2740026,"reputation":752,"user_id":2361780,"accept_rate":71,"display_name":"Kartik Jajal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54116,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696730440,"creation_date":1432256021,"question_id":30386741,"body_markdown":"I have implemented a simple application in Hibernate-4. This application retrieve the value from a table. But when I try to get the record with this\r\n\r\n    (Booking) session.get(Booking.class, 3740456);\r\n\r\n\r\n it gives me exception \r\n\r\n    INFO: HHH000327: Error performing load command : org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nSo, to verify into the database regarding table and column name, I copy the query from the log statement and execute it. It gives me proper output.\r\n\r\nI checked several questions &amp; answers related to this question, but could able to derive the solution.\r\n\r\n**Hibernate.cfg.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n  \r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@SHKG9072DB:5030:TMSD10G2&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;ICTDEV$EDI_APP&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;p2II9JLIaea06&lt;/property&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n  \r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n  \r\n            &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n  \r\n            &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n            &lt;property name = &quot;hibernate.jdbc.lob.non_contextual_creation&quot;&gt;true&lt;/property&gt;  \r\n  \r\n   \r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n            &lt;mapping class=&quot;com.hibernate.demo.Booking&quot;/&gt; \r\n    \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**Booking.java**\r\n\r\n    package com.hibernate.demo;\r\n\r\n    import java.io.Serializable;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n\r\n\t@Entity\r\n    @Table(name=&quot;EDI_IN_BOOKING&quot;)\r\n    public class Booking {\r\n\r\n\t    /**\r\n\t    * \r\n\t    */\r\n\t    private static final long serialVersionUID = 1L;\r\n\r\n\t    @Id\t\r\n    \tprivate int id;\r\n\t\r\n\t    @Column(name=&quot;SITE_AN&quot;)\r\n    \tprivate String site;\r\n\t\r\n\t\r\n\t    @Column(name=&quot;EVENT_ID&quot;)\r\n\t    private int eventId;\r\n\t\r\n\t    @Column(name=&quot;EVENT_DETAIL_ID&quot;)\r\n\t    private int eventDetailId;\r\n\t\r\n\t    @Column(name=&quot;RECORD_SEQUENCE_ID&quot;)\r\n\t    private int recordSequenceId;\r\n\t\r\n\t    @Column(name=&quot;RECORD_TYPE_N&quot;)\r\n\t    int recordType;\t\r\n\t\r\n\t    @Column(name=&quot;EDI_SENDER_AN&quot;)\r\n\t    String sender;\r\n\t\r\n\t    @Column(name=&quot;EDI_RECIPIENT_AN&quot;)\r\n\t    String recipient;\r\n\t\r\n\t    @Column(name=&quot;PARTNER_C&quot;)\r\n\t    String partner;\r\n\r\n\t    @Column(name=&quot;SENDER_SEQUENCE_AN&quot;)\r\n\t    String senderSequence;\r\n\r\n\t\r\n\r\n\r\n\t    public String getSite() {\r\n\t\t    return site;\r\n\t    }\r\n\r\n\t    public void setSite(String site) {\r\n\t\t    this.site = (site);\r\n\t    }\r\n\r\n\t    public int getId() {\r\n\t\t    return id;\r\n\t    }\r\n\r\n\t    public void setId(int id) {\r\n\t\t    this.id = (id);\r\n\t    }\r\n\r\n\t    public int getEventId() {\r\n\t\t    return eventId;\r\n\t    }\r\n\r\n\t    public void setEventId(int eventId) {\r\n\t\t    this.eventId = (eventId);\r\n\t    }\r\n\r\n\t    public int getEventDetailId() {\r\n\t\t    return eventDetailId;\r\n\t    }\r\n\r\n\t    public void setEventDetailId(int eventDetailId) {\r\n\t\t    this.eventDetailId = (eventDetailId);\r\n\t    }\r\n\r\n\t    public int getRecordSequenceId() {\r\n\t\t    return recordSequenceId;\r\n\t    }\r\n\r\n\t    public void setRecordSequenceId(int recordSequenceId) {\r\n\t\t    this.recordSequenceId = (recordSequenceId);\r\n\t    }\r\n\r\n\t    public int getRecordType() {\r\n\t\t    return recordType;\r\n\t    }\r\n\r\n\t    public void setRecordType(int recordType) {\r\n\t\t    this.recordType = (recordType);\r\n\t    }\r\n\r\n\t    public String getSender() {\r\n\t\t    return sender;\r\n\t    }\r\n\r\n\t    public void setSender(String sender) {\r\n\t\t    this.sender = (sender);\r\n\t    }\r\n\r\n\t    public String getRecipient() {\r\n\t\t    return recipient;\r\n\t    }\r\n\r\n\t    public void setRecipient(String recipient) {\r\n\t\t    this.recipient = (recipient);\r\n\t    }\r\n\r\n\t    public String getPartner() {\r\n\t\t    return partner;\r\n\t    }\r\n\r\n\t    public void setPartner(String partner) {\r\n\t\t    this.partner = (partner);\r\n\t    }\r\n\r\n\t    public String getSenderSequence() {\r\n\t\t    return senderSequence;\r\n\t    }\r\n\r\n\t    public void setSenderSequence(String senderSequence) {\r\n\t\t    this.senderSequence = (senderSequence);\r\n\t    }\r\n\r\n\t\r\n\t\r\n    }\r\n\r\n\r\n\r\n**Main.java**\r\n\r\n\r\n    package com.hibernate.demo;\r\n\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;\r\n\r\n    public class Main {\r\n\t\t\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(&quot;Hello World&quot;);\r\n\t\t    System.out.println(&quot;Trying to create a test connection with the database.&quot;);\r\n\t\t    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\r\n            StandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder();\r\n            serviceRegistryBuilder.applySettings(configuration.getProperties());\r\n            ServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\r\n            SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n        \r\n            Session session = sessionFactory.getCurrentSession(); \r\n       \r\n            session.beginTransaction();\r\n            Booking booking = (Booking) session.get(Booking.class, 3740456);        \r\n            System.out.println(booking.getEventDetailId());\r\n\t    }\r\n\r\n    }\r\n\r\n\r\n\r\n**Table description**\r\n\r\n   \r\n    desc EDi_IN_BOOKING\r\n    ID                             NOT NULL NUMBER                                                                                                                                                                                        \r\n    EVENT_ID                       NOT NULL NUMBER                                                                                                                                                                                        \r\n    EVENT_DETAIL_ID                NOT NULL NUMBER                                                                                                                                                                                        \r\n    RECORD_SEQUENCE_ID             NOT NULL NUMBER                                                                                                                                                                                        \r\n    RECORD_TYPE_N                           NUMBER(1)                                                                                                                                                                                     \r\n    SITE_AN                                 VARCHAR2(10)                                                                                                                                                                                  \r\n    EDI_SENDER_AN                           VARCHAR2(35)                                                                                                                                                                                  \r\n    EDI_RECIPIENT_AN                        VARCHAR2(35)                                                                                                                                                                                  \r\n    PARTNER_C                               VARCHAR2(20)                                                                                                                                                                                  \r\n    SENDER_SEQUENCE_AN                      VARCHAR2(15)                                                                                                                                                                                  \r\n\r\n                                                                                                                                                                              \r\n\r\n\r\n**Query from log (this gives correct output)**\r\n\r\n    select\r\n    booking0_.id as id1_0_0_,\r\n    booking0_.EVENT_DETAIL_ID as EVENT_DETAIL_ID2_0_0_,\r\n    booking0_.EVENT_ID as EVENT_ID3_0_0_,\r\n    booking0_.PARTNER_C as PARTNER_C4_0_0_,\r\n    booking0_.EDI_RECIPIENT_AN as EDI_RECIPIENT_AN5_0_0_,\r\n    booking0_.RECORD_SEQUENCE_ID as RECORD_SEQUENCE_ID6_0_0_,\r\n    booking0_.RECORD_TYPE_N as RECORD_TYPE_N7_0_0_,\r\n    booking0_.EDI_SENDER_AN as EDI_SENDER_AN8_0_0_,\r\n    booking0_.SENDER_SEQUENCE_AN as SENDER_SEQUENCE_AN9_0_0_,\r\n    booking0_.site_an as site_an10_0_0_ \r\n    from\r\n    EDI_IN_BOOKING booking0_ \r\n    where\r\n    booking0_.id=3740456;\r\n\r\n**exception**\r\n\r\n\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n    Hibernate: \r\n    select\r\n        booking0_.id as id1_0_0_,\r\n        booking0_.EVENT_DETAIL_ID as EVENT_DETAIL_ID2_0_0_,\r\n        booking0_.EVENT_ID as EVENT_ID3_0_0_,\r\n        booking0_.PARTNER_C as PARTNER_C4_0_0_,\r\n        booking0_.EDI_RECIPIENT_AN as EDI_RECIPIENT_AN5_0_0_,\r\n        booking0_.RECORD_SEQUENCE_ID as RECORD_SEQUENCE_ID6_0_0_,\r\n        booking0_.RECORD_TYPE_N as RECORD_TYPE_N7_0_0_,\r\n        booking0_.EDI_SENDER_AN as EDI_SENDER_AN8_0_0_,\r\n        booking0_.SENDER_SEQUENCE_AN as SENDER_SEQUENCE_AN9_0_0_,\r\n        booking0_.site_an as site_an10_0_0_ \r\n    from\r\n        EDI_IN_BOOKING booking0_ \r\n    where\r\n        booking0_.id=?\r\n     May 22, 2015 10:49:43 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n     WARN: SQL Error: 904, SQLState: 42000\r\n     May 22, 2015 10:49:43 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n     ERROR: ORA-00904: &quot;BOOKING0_&quot;.&quot;SITE_AN&quot;: invalid identifier\r\n\r\n     May 22, 2015 10:49:43 AM org.hibernate.event.internal.DefaultLoadEventListener onLoad\r\n     INFO: HHH000327: Error performing load command : org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n     Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n\tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1106)\r\n\tat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2587)\r\n\tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:991)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:356)\r\n\tat $Proxy7.get(Unknown Source)\r\n\tat com.dpworld.demo.Main.main(Main.java:23)\r\n       Caused by: java.sql.SQLException: ORA-00904: &quot;BOOKING0_&quot;.&quot;SITE_AN&quot;: invalid identifier\r\n\r\n\tat oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:134)\r\n\tat oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:289)\r\n\tat oracle.jdbc.ttc7.Oall7.receive(Oall7.java:589)\r\n\tat oracle.jdbc.ttc7.TTC7Protocol.doOall7(TTC7Protocol.java:1957)\r\n\tat oracle.jdbc.ttc7.TTC7Protocol.parseExecuteDescribe(TTC7Protocol.java:850)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteQuery(OracleStatement.java:2555)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:2896)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:644)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:570)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n\t... 22 more\r\n","title":"org.hibernate.exception.SQLGrammarException: could not extract ResultSet","body":"<p>I have implemented a simple application in Hibernate-4. This application retrieve the value from a table. But when I try to get the record with this</p>\n\n<pre><code>(Booking) session.get(Booking.class, 3740456);\n</code></pre>\n\n<p>it gives me exception </p>\n\n<pre><code>INFO: HHH000327: Error performing load command : org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n\n<p>So, to verify into the database regarding table and column name, I copy the query from the log statement and execute it. It gives me proper output.</p>\n\n<p>I checked several questions &amp; answers related to this question, but could able to derive the solution.</p>\n\n<p><strong>Hibernate.cfg.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n\"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;property name=\"connection.url\"&gt;jdbc:oracle:thin:@SHKG9072DB:5030:TMSD10G2&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;ICTDEV$EDI_APP&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;p2II9JLIaea06&lt;/property&gt;\n        &lt;property name=\"connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n\n        &lt;property name=\"hibernate.temp.use_jdbc_metadata_defaults\"&gt;false&lt;/property&gt;\n        &lt;property name = \"hibernate.jdbc.lob.non_contextual_creation\"&gt;true&lt;/property&gt;  \n\n\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;mapping class=\"com.hibernate.demo.Booking\"/&gt; \n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>Booking.java</strong></p>\n\n<pre><code>package com.hibernate.demo;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n@Entity\n@Table(name=\"EDI_IN_BOOKING\")\npublic class Booking {\n\n    /**\n    * \n    */\n    private static final long serialVersionUID = 1L;\n\n    @Id \n    private int id;\n\n    @Column(name=\"SITE_AN\")\n    private String site;\n\n\n    @Column(name=\"EVENT_ID\")\n    private int eventId;\n\n    @Column(name=\"EVENT_DETAIL_ID\")\n    private int eventDetailId;\n\n    @Column(name=\"RECORD_SEQUENCE_ID\")\n    private int recordSequenceId;\n\n    @Column(name=\"RECORD_TYPE_N\")\n    int recordType; \n\n    @Column(name=\"EDI_SENDER_AN\")\n    String sender;\n\n    @Column(name=\"EDI_RECIPIENT_AN\")\n    String recipient;\n\n    @Column(name=\"PARTNER_C\")\n    String partner;\n\n    @Column(name=\"SENDER_SEQUENCE_AN\")\n    String senderSequence;\n\n\n\n\n    public String getSite() {\n        return site;\n    }\n\n    public void setSite(String site) {\n        this.site = (site);\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = (id);\n    }\n\n    public int getEventId() {\n        return eventId;\n    }\n\n    public void setEventId(int eventId) {\n        this.eventId = (eventId);\n    }\n\n    public int getEventDetailId() {\n        return eventDetailId;\n    }\n\n    public void setEventDetailId(int eventDetailId) {\n        this.eventDetailId = (eventDetailId);\n    }\n\n    public int getRecordSequenceId() {\n        return recordSequenceId;\n    }\n\n    public void setRecordSequenceId(int recordSequenceId) {\n        this.recordSequenceId = (recordSequenceId);\n    }\n\n    public int getRecordType() {\n        return recordType;\n    }\n\n    public void setRecordType(int recordType) {\n        this.recordType = (recordType);\n    }\n\n    public String getSender() {\n        return sender;\n    }\n\n    public void setSender(String sender) {\n        this.sender = (sender);\n    }\n\n    public String getRecipient() {\n        return recipient;\n    }\n\n    public void setRecipient(String recipient) {\n        this.recipient = (recipient);\n    }\n\n    public String getPartner() {\n        return partner;\n    }\n\n    public void setPartner(String partner) {\n        this.partner = (partner);\n    }\n\n    public String getSenderSequence() {\n        return senderSequence;\n    }\n\n    public void setSenderSequence(String senderSequence) {\n        this.senderSequence = (senderSequence);\n    }\n\n\n\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>package com.hibernate.demo;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(\"Hello World\");\n        System.out.println(\"Trying to create a test connection with the database.\");\n        Configuration configuration = new Configuration().configure(\"hibernate.cfg.xml\");\n        StandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder();\n        serviceRegistryBuilder.applySettings(configuration.getProperties());\n        ServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\n        SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\n        Session session = sessionFactory.getCurrentSession(); \n\n        session.beginTransaction();\n        Booking booking = (Booking) session.get(Booking.class, 3740456);        \n        System.out.println(booking.getEventDetailId());\n    }\n\n}\n</code></pre>\n\n<p><strong>Table description</strong></p>\n\n<pre><code>desc EDi_IN_BOOKING\nID                             NOT NULL NUMBER                                                                                                                                                                                        \nEVENT_ID                       NOT NULL NUMBER                                                                                                                                                                                        \nEVENT_DETAIL_ID                NOT NULL NUMBER                                                                                                                                                                                        \nRECORD_SEQUENCE_ID             NOT NULL NUMBER                                                                                                                                                                                        \nRECORD_TYPE_N                           NUMBER(1)                                                                                                                                                                                     \nSITE_AN                                 VARCHAR2(10)                                                                                                                                                                                  \nEDI_SENDER_AN                           VARCHAR2(35)                                                                                                                                                                                  \nEDI_RECIPIENT_AN                        VARCHAR2(35)                                                                                                                                                                                  \nPARTNER_C                               VARCHAR2(20)                                                                                                                                                                                  \nSENDER_SEQUENCE_AN                      VARCHAR2(15)                                                                                                                                                                                  \n</code></pre>\n\n<p><strong>Query from log (this gives correct output)</strong></p>\n\n<pre><code>select\nbooking0_.id as id1_0_0_,\nbooking0_.EVENT_DETAIL_ID as EVENT_DETAIL_ID2_0_0_,\nbooking0_.EVENT_ID as EVENT_ID3_0_0_,\nbooking0_.PARTNER_C as PARTNER_C4_0_0_,\nbooking0_.EDI_RECIPIENT_AN as EDI_RECIPIENT_AN5_0_0_,\nbooking0_.RECORD_SEQUENCE_ID as RECORD_SEQUENCE_ID6_0_0_,\nbooking0_.RECORD_TYPE_N as RECORD_TYPE_N7_0_0_,\nbooking0_.EDI_SENDER_AN as EDI_SENDER_AN8_0_0_,\nbooking0_.SENDER_SEQUENCE_AN as SENDER_SEQUENCE_AN9_0_0_,\nbooking0_.site_an as site_an10_0_0_ \nfrom\nEDI_IN_BOOKING booking0_ \nwhere\nbooking0_.id=3740456;\n</code></pre>\n\n<p><strong>exception</strong></p>\n\n<pre><code>INFO: HHH000397: Using ASTQueryTranslatorFactory\nHibernate: \nselect\n    booking0_.id as id1_0_0_,\n    booking0_.EVENT_DETAIL_ID as EVENT_DETAIL_ID2_0_0_,\n    booking0_.EVENT_ID as EVENT_ID3_0_0_,\n    booking0_.PARTNER_C as PARTNER_C4_0_0_,\n    booking0_.EDI_RECIPIENT_AN as EDI_RECIPIENT_AN5_0_0_,\n    booking0_.RECORD_SEQUENCE_ID as RECORD_SEQUENCE_ID6_0_0_,\n    booking0_.RECORD_TYPE_N as RECORD_TYPE_N7_0_0_,\n    booking0_.EDI_SENDER_AN as EDI_SENDER_AN8_0_0_,\n    booking0_.SENDER_SEQUENCE_AN as SENDER_SEQUENCE_AN9_0_0_,\n    booking0_.site_an as site_an10_0_0_ \nfrom\n    EDI_IN_BOOKING booking0_ \nwhere\n    booking0_.id=?\n May 22, 2015 10:49:43 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\n WARN: SQL Error: 904, SQLState: 42000\n May 22, 2015 10:49:43 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\n ERROR: ORA-00904: \"BOOKING0_\".\"SITE_AN\": invalid identifier\n\n May 22, 2015 10:49:43 AM org.hibernate.event.internal.DefaultLoadEventListener onLoad\n INFO: HHH000327: Error performing load command : org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n Exception in thread \"main\" org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\nat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\nat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\nat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\nat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\nat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\nat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\nat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\nat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\nat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\nat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\nat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1106)\nat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2587)\nat org.hibernate.internal.SessionImpl.get(SessionImpl.java:991)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:356)\nat $Proxy7.get(Unknown Source)\nat com.dpworld.demo.Main.main(Main.java:23)\n   Caused by: java.sql.SQLException: ORA-00904: \"BOOKING0_\".\"SITE_AN\": invalid identifier\n\nat oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:134)\nat oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:289)\nat oracle.jdbc.ttc7.Oall7.receive(Oall7.java:589)\nat oracle.jdbc.ttc7.TTC7Protocol.doOall7(TTC7Protocol.java:1957)\nat oracle.jdbc.ttc7.TTC7Protocol.parseExecuteDescribe(TTC7Protocol.java:850)\nat oracle.jdbc.driver.OracleStatement.doExecuteQuery(OracleStatement.java:2555)\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:2896)\nat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:644)\nat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:570)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n... 22 more\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9996,"page":138,"page_size":100}
