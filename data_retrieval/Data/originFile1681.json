{"items":[{"tags":["java","node.js","cryptography","cryptojs"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1642163282,"post_id":70693834,"comment_id":125003765,"body_markdown":"You should edit your question and include a sample output of the Java part. I would also recommend to post the full key-loading JS code.","body":"You should edit your question and include a sample output of the Java part. I would also recommend to post the full key-loading JS code."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642174091,"creation_date":1642074747,"answer_id":70696144,"question_id":70693834,"body_markdown":"The import fails because both codes use different key formats: Currently, the public key in the Java code is exported in _compressed_ format using `ecKey.getQ().getEncoded(true)`, while the NodeJS code expects the public key in X.509/SPKI format (DER encoded). \r\n\r\nIf in the Java code `ecKey.getEncoded()` is used instead, the public key is exported in X.509/SPKI format (DER encoded) and is compatible with the NodeJS side. \r\n\r\nNote that in the NodeJS code, a possible Base64 encoding on the Java side must be reversed:&lt;br&gt;`var receiverPublicKey = Buffer.from(&#39;&lt;Base64 encoded X.509/SPKI key&gt;&#39;, &#39;base64&#39;);`\r\n\r\n---------\r\n\r\nChanging the Java code is probably unavoidable, since importing compressed, uncompressed or raw keys is not supported by [`crypto.createPublicKey()`][1] according to the documentation. The [ECDH][2] class, which does handle uncompressed keys, is also not an option since curve 25519 is not supported.\r\n\r\n[1]: https://nodejs.org/api/crypto.html#cryptocreatepublickeykey\r\n[2]: https://nodejs.org/api/crypto.html#cryptocreateecdhcurvename","title":"Loading Java Keypair in nodejs","body":"<p>The import fails because both codes use different key formats: Currently, the public key in the Java code is exported in <em>compressed</em> format using <code>ecKey.getQ().getEncoded(true)</code>, while the NodeJS code expects the public key in X.509/SPKI format (DER encoded).</p>\n<p>If in the Java code <code>ecKey.getEncoded()</code> is used instead, the public key is exported in X.509/SPKI format (DER encoded) and is compatible with the NodeJS side.</p>\n<p>Note that in the NodeJS code, a possible Base64 encoding on the Java side must be reversed:<br><code>var receiverPublicKey = Buffer.from('&lt;Base64 encoded X.509/SPKI key&gt;', 'base64');</code></p>\n<hr />\n<p>Changing the Java code is probably unavoidable, since importing compressed, uncompressed or raw keys is not supported by <a href=\"https://nodejs.org/api/crypto.html#cryptocreatepublickeykey\" rel=\"nofollow noreferrer\"><code>crypto.createPublicKey()</code></a> according to the documentation. The <a href=\"https://nodejs.org/api/crypto.html#cryptocreateecdhcurvename\" rel=\"nofollow noreferrer\">ECDH</a> class, which does handle uncompressed keys, is also not an option since curve 25519 is not supported.</p>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642228253,"creation_date":1642227915,"answer_id":70719336,"question_id":70693834,"body_markdown":"First, to be clear, using curve25519 in Weierstrass form is not standard (at least not yet; draft NIST SP800-186 if and when adopted will allow it with the name W-25519, though it&#39;s not clear anybody wants to or will use it for anything) and is definitely not approved by Bernstein; specifically this is NOT compatible with the standard X25519 or XDH25519 algorithm adopted by many protocols and systems, which uses Montgomery-form equation and computations and X-only representation of points. That&#39;s probably why Bouncy has it under &#39;Custom&#39;. \r\n\r\nOpenSSL, which underlies nodejs crypto, follows standards (well, this time) and does not support this curve by name in X9/Weierstrass form, but it does support arbitrary &#39;explicit&#39; Weierstrass curves and (fortunately?) your Java code, by using the `X9ECParamters` and `ECParameterSpec` classes, uses the (now generally disfavored) explicit format. The encoding of the SPKI format for X9-type ECDH (and ECDSA) depends on values _and_ their lengths for the curve parameters (fixed for a curve) and the point representation (whose value varies, but has one of two fixed lengths for a curve) -- thus the SPKI format for a curve and point representation consists of a fixed prefix followed by the point representation, and for explicit curve25519(W) compressed that prefix is\r\n```\r\n&quot;\\x30\\x82\\x01\\x11\\x30\\x81\\xea\\x06\\x07\\x2a\\x86\\x48\\xce\\x3d\\x02\\x01&quot;+\r\n&quot;\\x30\\x81\\xde\\x02\\x01\\x01\\x30\\x2b\\x06\\x07\\x2a\\x86\\x48\\xce\\x3d\\x01&quot;+\r\n&quot;\\x01\\x02\\x20\\x7f\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff&quot;+\r\n&quot;\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff&quot;+\r\n&quot;\\xff\\xff\\xed\\x30\\x44\\x04\\x20\\x2a\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa&quot;+\r\n&quot;\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa&quot;+\r\n&quot;\\xaa\\xaa\\x98\\x49\\x14\\xa1\\x44\\x04\\x20\\x7b\\x42\\x5e\\xd0\\x97\\xb4\\x25&quot;+\r\n&quot;\\xed\\x09\\x7b\\x42\\x5e\\xd0\\x97\\xb4\\x25\\xed\\x09\\x7b\\x42\\x5e\\xd0\\x97&quot;+\r\n&quot;\\xb4\\x26\\x0b\\x5e\\x9c\\x77\\x10\\xc8\\x64\\x04\\x41\\x04\\x2a\\xaa\\xaa\\xaa&quot;+\r\n&quot;\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa&quot;+\r\n&quot;\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xad\\x24\\x5a\\x20\\xae\\x19\\xa1&quot;+\r\n&quot;\\xb8\\xa0\\x86\\xb4\\xe0\\x1e\\xdd\\x2c\\x77\\x48\\xd1\\x4c\\x92\\x3d\\x4d\\x7e&quot;+\r\n&quot;\\x6d\\x7c\\x61\\xb2\\x29\\xe9\\xc5\\xa2\\x7e\\xce\\xd3\\xd9\\x02\\x20\\x10\\x00&quot;+\r\n&quot;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x14\\xde&quot;+\r\n&quot;\\xf9\\xde\\xa2\\xf7\\x9c\\xd6\\x58\\x12\\x63\\x1a\\x5c\\xf5\\xd3\\xed\\x02\\x01&quot;+\r\n&quot;\\x08\\x03\\x22\\x00&quot;\r\n```\r\nwhich you can simply concatenate to what you have (after un-base64-ing as Topaco noted; as a check it must be exactly 33 bytes with the first byte 0x02 or 0x03).\r\n","title":"Loading Java Keypair in nodejs","body":"<p>First, to be clear, using curve25519 in Weierstrass form is not standard (at least not yet; draft NIST SP800-186 if and when adopted will allow it with the name W-25519, though it's not clear anybody wants to or will use it for anything) and is definitely not approved by Bernstein; specifically this is NOT compatible with the standard X25519 or XDH25519 algorithm adopted by many protocols and systems, which uses Montgomery-form equation and computations and X-only representation of points. That's probably why Bouncy has it under 'Custom'.</p>\n<p>OpenSSL, which underlies nodejs crypto, follows standards (well, this time) and does not support this curve by name in X9/Weierstrass form, but it does support arbitrary 'explicit' Weierstrass curves and (fortunately?) your Java code, by using the <code>X9ECParamters</code> and <code>ECParameterSpec</code> classes, uses the (now generally disfavored) explicit format. The encoding of the SPKI format for X9-type ECDH (and ECDSA) depends on values <em>and</em> their lengths for the curve parameters (fixed for a curve) and the point representation (whose value varies, but has one of two fixed lengths for a curve) -- thus the SPKI format for a curve and point representation consists of a fixed prefix followed by the point representation, and for explicit curve25519(W) compressed that prefix is</p>\n<pre><code>&quot;\\x30\\x82\\x01\\x11\\x30\\x81\\xea\\x06\\x07\\x2a\\x86\\x48\\xce\\x3d\\x02\\x01&quot;+\n&quot;\\x30\\x81\\xde\\x02\\x01\\x01\\x30\\x2b\\x06\\x07\\x2a\\x86\\x48\\xce\\x3d\\x01&quot;+\n&quot;\\x01\\x02\\x20\\x7f\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff&quot;+\n&quot;\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff&quot;+\n&quot;\\xff\\xff\\xed\\x30\\x44\\x04\\x20\\x2a\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa&quot;+\n&quot;\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa&quot;+\n&quot;\\xaa\\xaa\\x98\\x49\\x14\\xa1\\x44\\x04\\x20\\x7b\\x42\\x5e\\xd0\\x97\\xb4\\x25&quot;+\n&quot;\\xed\\x09\\x7b\\x42\\x5e\\xd0\\x97\\xb4\\x25\\xed\\x09\\x7b\\x42\\x5e\\xd0\\x97&quot;+\n&quot;\\xb4\\x26\\x0b\\x5e\\x9c\\x77\\x10\\xc8\\x64\\x04\\x41\\x04\\x2a\\xaa\\xaa\\xaa&quot;+\n&quot;\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa&quot;+\n&quot;\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xaa\\xad\\x24\\x5a\\x20\\xae\\x19\\xa1&quot;+\n&quot;\\xb8\\xa0\\x86\\xb4\\xe0\\x1e\\xdd\\x2c\\x77\\x48\\xd1\\x4c\\x92\\x3d\\x4d\\x7e&quot;+\n&quot;\\x6d\\x7c\\x61\\xb2\\x29\\xe9\\xc5\\xa2\\x7e\\xce\\xd3\\xd9\\x02\\x20\\x10\\x00&quot;+\n&quot;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x14\\xde&quot;+\n&quot;\\xf9\\xde\\xa2\\xf7\\x9c\\xd6\\x58\\x12\\x63\\x1a\\x5c\\xf5\\xd3\\xed\\x02\\x01&quot;+\n&quot;\\x08\\x03\\x22\\x00&quot;\n</code></pre>\n<p>which you can simply concatenate to what you have (after un-base64-ing as Topaco noted; as a check it must be exactly 33 bytes with the first byte 0x02 or 0x03).</p>\n"}],"owner":{"account_id":14597427,"reputation":430,"user_id":10542695,"display_name":"HushAtom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642228253,"creation_date":1642064483,"question_id":70693834,"body_markdown":"i am generating a curve25519 ECDH keypair in java like this\r\n```java\r\npublic static final String ALGORITHM = &quot;ECDH&quot;;\r\npublic static final String CURVE = &quot;curve25519&quot;;\r\n\r\npublic static byte[] getEncodedPublicKey(PublicKey key) throws Exception {\r\n        ECPublicKey ecKey = (ECPublicKey) key;\r\n        return ecKey.getQ().getEncoded(true);\r\n}\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(ALGORITHM, PROVIDER);\r\nX9ECParameters ecParameters = CustomNamedCurves.getByName(CURVE);\r\nECParameterSpec ecSpec = new ECParameterSpec(ecParameters.getCurve(), ecParameters.getG(), ecParameters.getN(), ecParameters.getH(), ecParameters.getSeed());\r\nKeyPair recieverKeypair = keyPairGenerator.initialize(ecSpec, new SecureRandom());\r\nsystem.out.println(new String(org.bouncycastle.util.encoders.Base64.encode((getEncodedPublicKey(receiverKeyPair.getPublic()))))\r\n```\r\nand i am using public key that is printed in above in my nodejs project like this\r\n\r\n```js\r\ncrypto.createPublicKey({\r\n      key: receiverPublicKey, //string\r\n      format:&#39;der&#39;,\r\n      type: &#39;spki&#39;,\r\n})\r\n\r\n```\r\nwhich throws this error:\r\n```none\r\nError: error:0D07209B:asn1 encoding routines:ASN1_get_object:too long\r\n    at Object.createPublicKey (node:internal/crypto/keys:595:12)\r\n    at generateSharedKey (/home/wsl/projects/node-ndhm-crypto/src/EncryptData.ts:133:23)\r\n    at Object.exports.encrypt (/home/wsl/projects/node-ndhm-crypto/src/EncryptData.ts:61:21)\r\n\r\n```\r\nany help would be appreciated. thanks.","title":"Loading Java Keypair in nodejs","body":"<p>i am generating a curve25519 ECDH keypair in java like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String ALGORITHM = &quot;ECDH&quot;;\npublic static final String CURVE = &quot;curve25519&quot;;\n\npublic static byte[] getEncodedPublicKey(PublicKey key) throws Exception {\n        ECPublicKey ecKey = (ECPublicKey) key;\n        return ecKey.getQ().getEncoded(true);\n}\nSecurity.addProvider(new BouncyCastleProvider());\nKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(ALGORITHM, PROVIDER);\nX9ECParameters ecParameters = CustomNamedCurves.getByName(CURVE);\nECParameterSpec ecSpec = new ECParameterSpec(ecParameters.getCurve(), ecParameters.getG(), ecParameters.getN(), ecParameters.getH(), ecParameters.getSeed());\nKeyPair recieverKeypair = keyPairGenerator.initialize(ecSpec, new SecureRandom());\nsystem.out.println(new String(org.bouncycastle.util.encoders.Base64.encode((getEncodedPublicKey(receiverKeyPair.getPublic()))))\n</code></pre>\n<p>and i am using public key that is printed in above in my nodejs project like this</p>\n<pre class=\"lang-js prettyprint-override\"><code>crypto.createPublicKey({\n      key: receiverPublicKey, //string\n      format:'der',\n      type: 'spki',\n})\n\n</code></pre>\n<p>which throws this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: error:0D07209B:asn1 encoding routines:ASN1_get_object:too long\n    at Object.createPublicKey (node:internal/crypto/keys:595:12)\n    at generateSharedKey (/home/wsl/projects/node-ndhm-crypto/src/EncryptData.ts:133:23)\n    at Object.exports.encrypt (/home/wsl/projects/node-ndhm-crypto/src/EncryptData.ts:61:21)\n\n</code></pre>\n<p>any help would be appreciated. thanks.</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642226755,"creation_date":1642226755,"answer_id":70719254,"question_id":70714592,"body_markdown":"Either just go for [__P() function][1] like:\r\n\r\n    ${__P(some_id,)}\r\n\r\nor use the correct syntax for the [__groovy() function][2] like:\r\n\r\n    ${__groovy(props.get(&#39;some_id&#39;),)}\r\n\r\n\r\nIf you&#39;re uncertain regarding proper syntax for this or that function - consider using the [Function Helper Dialog][3]\r\n\r\nMore information on JMeter Functions concept: [Apache JMeter Functions - An Introduction][4]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/functions.html#__P\r\n  [2]: https://jmeter.apache.org/usermanual/functions.html#__groovy\r\n  [3]: https://jmeter.apache.org/usermanual/functions.html#function_helper\r\n  [4]: https://www.blazemeter.com/blog/apache-jmeter-functions-introduction","title":"pass a property to JDBC post processor in Jmeter","body":"<p>Either just go for <a href=\"https://jmeter.apache.org/usermanual/functions.html#__P\" rel=\"nofollow noreferrer\">__P() function</a> like:</p>\n<pre><code>${__P(some_id,)}\n</code></pre>\n<p>or use the correct syntax for the <a href=\"https://jmeter.apache.org/usermanual/functions.html#__groovy\" rel=\"nofollow noreferrer\">__groovy() function</a> like:</p>\n<pre><code>${__groovy(props.get('some_id'),)}\n</code></pre>\n<p>If you're uncertain regarding proper syntax for this or that function - consider using the <a href=\"https://jmeter.apache.org/usermanual/functions.html#function_helper\" rel=\"nofollow noreferrer\">Function Helper Dialog</a></p>\n<p>More information on JMeter Functions concept: <a href=\"https://www.blazemeter.com/blog/apache-jmeter-functions-introduction\" rel=\"nofollow noreferrer\">Apache JMeter Functions - An Introduction</a></p>\n"}],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70719254,"answer_count":1,"score":0,"last_activity_date":1642226755,"creation_date":1642182321,"question_id":70714592,"body_markdown":"I am trying to pass a property, which is set in a JSR223 step,  in JDBC post processor like below but I get `No such property: some_id for class: script xxx`\r\n\r\n  \r\n\r\n    Select t.column1, t.column2 from someTable t where t.some_id = &#39;${_groovy(_property(some_id),)}&#39; ;\r\n\r\nI am setting and then checking `some_id` in a JSR223 PostProcessor placed just before JDBC  like this\r\n\r\n `props.put(&quot;some_id&quot;, someMethod(someParam))`\r\n\r\n`log.info(props.getProperty(&quot;some_id&quot;));\r\n//prints some_id\r\n`\r\n\r\nfrom above, it seems property is set correctly , so why does it say no such property. Is what I am doing not possible?\r\n\r\n","title":"pass a property to JDBC post processor in Jmeter","body":"<p>I am trying to pass a property, which is set in a JSR223 step,  in JDBC post processor like below but I get <code>No such property: some_id for class: script xxx</code></p>\n<pre><code>Select t.column1, t.column2 from someTable t where t.some_id = '${_groovy(_property(some_id),)}' ;\n</code></pre>\n<p>I am setting and then checking <code>some_id</code> in a JSR223 PostProcessor placed just before JDBC  like this</p>\n<p><code>props.put(&quot;some_id&quot;, someMethod(someParam))</code></p>\n<p><code>log.info(props.getProperty(&quot;some_id&quot;)); //prints some_id </code></p>\n<p>from above, it seems property is set correctly , so why does it say no such property. Is what I am doing not possible?</p>\n"},{"tags":["java","android","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642225892,"creation_date":1642225892,"answer_id":70719187,"question_id":70719090,"body_markdown":"    mAuth.createUserWithEmailAndPassword(emailpassword\r\n                .addOnCompleteListener(task -&gt; {\r\n                    //task completed\r\n                    if(task.isSuccessfull()) Log.d(&quot;signIn&quot;,&quot;success&quot;); //sign in success\r\n                    else Log.d(&quot;signIn&quot;,&quot;fail&quot;) //sign in failed\r\n                });\r\n\r\nThis will help you\r\n","title":"Not able to add onCompleteListener","body":"<pre><code>mAuth.createUserWithEmailAndPassword(emailpassword\n            .addOnCompleteListener(task -&gt; {\n                //task completed\n                if(task.isSuccessfull()) Log.d(&quot;signIn&quot;,&quot;success&quot;); //sign in success\n                else Log.d(&quot;signIn&quot;,&quot;fail&quot;) //sign in failed\n            });\n</code></pre>\n<p>This will help you</p>\n"}],"owner":{"account_id":23939412,"reputation":23,"user_id":17932735,"display_name":"Yashas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70719187,"answer_count":1,"score":0,"last_activity_date":1642225892,"creation_date":1642224509,"question_id":70719090,"body_markdown":"    private void createUserAcccount(String email, String name, String password) {\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\nI want to know after this is completed but when I add addOnCompleteListener it shows unable to resolve symbol. What is the solution to this?","title":"Not able to add onCompleteListener","body":"<pre><code>private void createUserAcccount(String email, String name, String password) {\n    mAuth.createUserWithEmailAndPassword(email, password)\n</code></pre>\n<p>I want to know after this is completed but when I add addOnCompleteListener it shows unable to resolve symbol. What is the solution to this?</p>\n"},{"tags":["java","sonarlint"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":3,"creation_date":1527592975,"post_id":50583109,"comment_id":88175298,"body_markdown":"There is a chance for e.g. your `rs.close` to throw an exception leading to `stmt` and `con` to never be closed. Use try-with-resources as suggested as they all implement `AutoClosable` anyways.","body":"There is a chance for e.g. your <code>rs.close</code> to throw an exception leading to <code>stmt</code> and <code>con</code> to never be closed. Use try-with-resources as suggested as they all implement <code>AutoClosable</code> anyways."},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1527593054,"post_id":50583109,"comment_id":88175347,"body_markdown":"Also your close calls in the try are redundant. The finally executes anyways. And why is it in a try/catch in the finally but not in your first try? If you replicate code then at least... replicate it fully. That code really is just a mess.","body":"Also your close calls in the try are redundant. The finally executes anyways. And why is it in a try/catch in the finally but not in your first try? If you replicate code then at least... replicate it fully. That code really is just a mess."},{"owner":{"account_id":3588572,"reputation":165,"user_id":2995123,"accept_rate":0,"display_name":"vishnu"},"score":0,"creation_date":1527593326,"post_id":50583109,"comment_id":88175585,"body_markdown":"@Ben..close calls in try block was a mistake while copying code here.edited the code. thanks for noticing it. Issue is replicable with this code","body":"@Ben..close calls in try block was a mistake while copying code here.edited the code. thanks for noticing it. Issue is replicable with this code"},{"owner":{"account_id":3588572,"reputation":165,"user_id":2995123,"accept_rate":0,"display_name":"vishnu"},"score":0,"creation_date":1527593810,"post_id":50583109,"comment_id":88175911,"body_markdown":"@Ben.. There are so many methods like this in my code and the try blocks are more complex in my codes. I just taken a small method call for example. making these methods to &#39;try with resource&#39; is difficult in my code. yeh..We can do it. But can we handle the issue through finally block itself? Any ways for doing this?","body":"@Ben.. There are so many methods like this in my code and the try blocks are more complex in my codes. I just taken a small method call for example. making these methods to &#39;try with resource&#39; is difficult in my code. yeh..We can do it. But can we handle the issue through finally block itself? Any ways for doing this?"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527665921,"creation_date":1527661602,"answer_id":50597661,"question_id":50583109,"body_markdown":"Without try-with-resources you can only improve the code by using methods for re-usability, call main method: \r\n\r\n    closeResources(rs, stmt, con);\r\n\r\nWhich will call each for each resource a different method for example Statement:\r\n\r\n     public void closeResource(Statement stmt) {\r\n        if (stmt != null) {\r\n            stmt.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nBTW, you better use logger instead of [e.printStackTrace()][1]\r\n\r\nFor complete solution, you can check [extensive example][2] which add resources in array and close them in a loop:\r\n\r\n&gt;     for (Closeable resource : resources) {\r\n&gt;        try {\r\n&gt;          resource.close();\r\n\r\n[1]:https://stackoverflow.com/questions/10477607/avoid-printstacktrace-use-a-logger-call-instead\r\n\r\n[2]:http://illegalargumentexception.blogspot.com/2008/10/java-how-not-to-make-mess-of-stream.html","title":"SonarLint is still showing blocker errors even though we have handled the statement, Connection closes in finally block","body":"<p>Without try-with-resources you can only improve the code by using methods for re-usability, call main method: </p>\n\n<pre><code>closeResources(rs, stmt, con);\n</code></pre>\n\n<p>Which will call each for each resource a different method for example Statement:</p>\n\n<pre><code> public void closeResource(Statement stmt) {\n    if (stmt != null) {\n        stmt.close();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>BTW, you better use logger instead of <a href=\"https://stackoverflow.com/questions/10477607/avoid-printstacktrace-use-a-logger-call-instead\">e.printStackTrace()</a></p>\n\n<p>For complete solution, you can check <a href=\"http://illegalargumentexception.blogspot.com/2008/10/java-how-not-to-make-mess-of-stream.html\" rel=\"nofollow noreferrer\">extensive example</a> which add resources in array and close them in a loop:</p>\n\n<blockquote>\n<pre><code>for (Closeable resource : resources) {\n   try {\n     resource.close();\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4902825,"reputation":1,"user_id":3950483,"display_name":"thusila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642225644,"creation_date":1642225644,"answer_id":70719161,"question_id":50583109,"body_markdown":"Use Try-with-resources. This is the best option.","title":"SonarLint is still showing blocker errors even though we have handled the statement, Connection closes in finally block","body":"<p>Use Try-with-resources. This is the best option.</p>\n"}],"owner":{"account_id":3588572,"reputation":165,"user_id":2995123,"accept_rate":0,"display_name":"vishnu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1642225644,"creation_date":1527592873,"question_id":50583109,"body_markdown":"SonarLint is showing below errors:\r\n\r\n1. &#39;Use try-with-resources or close this &quot;Statement&quot; in a &quot;finally&quot; clause.&#39;\r\n2. &#39;Use try-with-resources or close this &quot;Connection&quot; in a &quot;finally&quot; clause.&#39;   \r\nblocker errors even though we have closed the Statement stmt, Connection con in finally block.  \t\r\n\r\nPlease find the sample code.\r\n\r\n    public String getProductNumber() throws BusinessDelegateException {\r\n    \r\n    \t\tString productNo = null;\r\n    \t\tConnection con = null;\r\n    \t\tStatement stmt = null;\r\n    \t\tResultSet \trs  = null;\r\n    \t\tString query  = //some query\r\n    \t\ttry {\r\n    \t\t\tDataSource ds = getDataSource();\r\n    \t\t\tcon = ds.getConnection();\r\n    \t\t\tstmt = con.createStatement();\r\n    \t\t\trs \t = stmt.executeQuery(query);\r\n    \t\t\tproductNo =.......\r\n    \t\t\t....................\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tString errorMsg = &quot;Error occured in getProductNumber()&quot;;\r\n    \t\t\tthrow new BusinessDelegateException(errorMsg, e);\r\n    \t\t}finally{\r\n    \t\t\ttry {\r\n    \t\t\t\tif(rs != null)\r\n    \t\t\t\t\trs.close();\r\n    \t\t\t\tif (stmt != null)\r\n    \t\t\t\t\tstmt.close();\r\n    \t\t\t\tif (con != null)\r\n    \t\t\t\t\tcon.close();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn productNo;\r\n    \t}\r\n\r\n\r\nWe were able to fix the issue by modifying the finally block in below manner. But still it seems like repetition of catch blocks. Any other way we can fix this?\r\n\r\n\r\n    finally{\r\n            try {\r\n                if(rs != null)\r\n                    rs.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n            \tif (stmt != null)\r\n                    stmt.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n            \tif (con != null)\r\n                    con.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"SonarLint is still showing blocker errors even though we have handled the statement, Connection closes in finally block","body":"<p>SonarLint is showing below errors:</p>\n\n<ol>\n<li>'Use try-with-resources or close this \"Statement\" in a \"finally\" clause.'</li>\n<li>'Use try-with-resources or close this \"Connection\" in a \"finally\" clause.'<br>\nblocker errors even though we have closed the Statement stmt, Connection con in finally block.      </li>\n</ol>\n\n<p>Please find the sample code.</p>\n\n<pre><code>public String getProductNumber() throws BusinessDelegateException {\n\n        String productNo = null;\n        Connection con = null;\n        Statement stmt = null;\n        ResultSet   rs  = null;\n        String query  = //some query\n        try {\n            DataSource ds = getDataSource();\n            con = ds.getConnection();\n            stmt = con.createStatement();\n            rs   = stmt.executeQuery(query);\n            productNo =.......\n            ....................\n        }catch (Exception e) {\n            String errorMsg = \"Error occured in getProductNumber()\";\n            throw new BusinessDelegateException(errorMsg, e);\n        }finally{\n            try {\n                if(rs != null)\n                    rs.close();\n                if (stmt != null)\n                    stmt.close();\n                if (con != null)\n                    con.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return productNo;\n    }\n</code></pre>\n\n<p>We were able to fix the issue by modifying the finally block in below manner. But still it seems like repetition of catch blocks. Any other way we can fix this?</p>\n\n<pre><code>finally{\n        try {\n            if(rs != null)\n                rs.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        try {\n            if (stmt != null)\n                stmt.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        try {\n            if (con != null)\n                con.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","aes","rsa","private-key"],"comments":[{"owner":{"account_id":16873181,"reputation":164,"user_id":12201243,"display_name":"Nathaniel Blanquel"},"score":0,"creation_date":1642212394,"post_id":70716907,"comment_id":125018506,"body_markdown":"What are you passing into the stringKey parameter? A public key? A private one?","body":"What are you passing into the stringKey parameter? A public key? A private one?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1642222253,"post_id":70716907,"comment_id":125019398,"body_markdown":"Why do you have an encrypted public key? That makes no sense; the whole point of public keys is that they aren&#39;t secrets and can be safely exposed. But without knowing exactly what form your JSON element values have (and maybe your environment&#39;s default charset) it&#39;s impossible to say if and how you are wrong, and obviously you can&#39;t post them. Are they all printable chars or not? If yes, are they restricted to either of the base64 alphabets or the hex alphabet? If no, are they all below U+0100 and do they cover most of the range hex 00-FF and is the first below hex 80 or not?","body":"Why do you have an encrypted public key? That makes no sense; the whole point of public keys is that they aren&#39;t secrets and can be safely exposed. But without knowing exactly what form your JSON element values have (and maybe your environment&#39;s default charset) it&#39;s impossible to say if and how you are wrong, and obviously you can&#39;t post them. Are they all printable chars or not? If yes, are they restricted to either of the base64 alphabets or the hex alphabet? If no, are they all below U+0100 and do they cover most of the range hex 00-FF and is the first below hex 80 or not?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1642222404,"post_id":70716907,"comment_id":125019414,"body_markdown":"... And what is the length of each element? Relatedly, 1024 and 2048 bits (NOT bytes) are common &#39;sizes&#39; for RSA keys (the &#39;size&#39; measures only the modulus, which determines the cryptographic strength, not the whole key), but they are not required by most standards (NIST FIPS186 is an exception) and other sizes are widely permitted and sometimes used. @NathanielBlanquel: any object described as a key that has elements named e,n,d,p,q,dmp1,dmq1,coeff pretty much has to be a PKCS1 CRT-form RSA private key.","body":"... And what is the length of each element? Relatedly, 1024 and 2048 bits (NOT bytes) are common &#39;sizes&#39; for RSA keys (the &#39;size&#39; measures only the modulus, which determines the cryptographic strength, not the whole key), but they are not required by most standards (NIST FIPS186 is an exception) and other sizes are widely permitted and sometimes used. @NathanielBlanquel: any object described as a key that has elements named e,n,d,p,q,dmp1,dmq1,coeff pretty much has to be a PKCS1 CRT-form RSA private key."},{"owner":{"account_id":13765071,"reputation":167,"user_id":9933821,"display_name":"StackOverflow Asker"},"score":0,"creation_date":1642224097,"post_id":70716907,"comment_id":125019593,"body_markdown":"@NathanielBlanquel I am passing a utf8 string as parameter. I am doing third party integration in my  application. According to their documentation, I have to get a encrypted private key and have to decrypt using shared key which I already have.  I did as they mentioned, but after decrypting with shared key I got a byte array, I converted that byte array to utf8 string and I am passing that string to the posted method parameter to get a private key and using that private key to decrypt the string(which is encrypted with public key)","body":"@NathanielBlanquel I am passing a utf8 string as parameter. I am doing third party integration in my  application. According to their documentation, I have to get a encrypted private key and have to decrypt using shared key which I already have.  I did as they mentioned, but after decrypting with shared key I got a byte array, I converted that byte array to utf8 string and I am passing that string to the posted method parameter to get a private key and using that private key to decrypt the string(which is encrypted with public key)"},{"owner":{"account_id":13765071,"reputation":167,"user_id":9933821,"display_name":"StackOverflow Asker"},"score":0,"creation_date":1642224190,"post_id":70716907,"comment_id":125019601,"body_markdown":"@dave_thompson_085 Sorry, If I didn&#39;t post my question correctly, I have a string which is encrypted with public key and I am trying to decrypt that string using my private key.","body":"@dave_thompson_085 Sorry, If I didn&#39;t post my question correctly, I have a string which is encrypted with public key and I am trying to decrypt that string using my private key."},{"owner":{"account_id":13765071,"reputation":167,"user_id":9933821,"display_name":"StackOverflow Asker"},"score":0,"creation_date":1642224513,"post_id":70716907,"comment_id":125019631,"body_markdown":"@dave_thompson_085 Sorry, I meant to say 2046 bits. I have updated my question.  Is it okay if my private key is 2046 bits? I am unable to decrypt the data with my private key. So I am not sure whether the mistake is with my private key which is 2046 bits or I am doing something wrong when decrypting the string with private key.","body":"@dave_thompson_085 Sorry, I meant to say 2046 bits. I have updated my question.  Is it okay if my private key is 2046 bits? I am unable to decrypt the data with my private key. So I am not sure whether the mistake is with my private key which is 2046 bits or I am doing something wrong when decrypting the string with private key."}],"owner":{"account_id":13765071,"reputation":167,"user_id":9933821,"display_name":"StackOverflow Asker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642224283,"creation_date":1642196959,"question_id":70716907,"body_markdown":"I have a encrypted private key which I have to decrypt using Shared key,which I did and got byte[]. I have converted the byte[] to utf8 string and then converted that string to **Private** key. Now, I have to use this private key to decrypt one time encrypted public key. While doing that, I am getting the following error.\r\n\r\n    javax.crypto.BadPaddingException: Decryption error\r\n\tat sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:370) ~[na:1.8.0_311]\r\n\r\nThis is how I generated private key.\r\n\r\n     public static PrivateKey decrypt(String stringKey) throws Exception {\r\n        JSONObject jsonKey = new JSONObject(stringKey);\r\n\r\n        BigInteger e = new BigInteger( jsonKey.getString(&quot;e&quot;)); // Public exponent\r\n        BigInteger n = new BigInteger(jsonKey.getString(&quot;n&quot;).getBytes());\r\n        BigInteger d = new BigInteger(jsonKey.getString(&quot;d&quot;).getBytes());\r\n        BigInteger p = new BigInteger(jsonKey.getString(&quot;p&quot;).getBytes());\r\n        BigInteger q = new BigInteger(jsonKey.getString(&quot;q&quot;).getBytes());\r\n        BigInteger dmp1 = new BigInteger(jsonKey.getString(&quot;dmp1&quot;).getBytes());\r\n        BigInteger dmq1 = new BigInteger(jsonKey.getString(&quot;dmq1&quot;).getBytes());\r\n        BigInteger coeff = new BigInteger(jsonKey.getString(&quot;coeff&quot;).getBytes());\r\n\r\n\r\n        RSAPrivateCrtKeySpec privateKeySpec = new RSAPrivateCrtKeySpec(n, e, d, p, q, dmp1, dmq1, coeff);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n         PrivateKey privateKey = keyFactory.generatePrivate(privateKeySpec);\r\n\r\n        return  privateKey;\r\n    }\r\n\r\nI tried many solutions from the Stack Overflow but nothing worked. I am getting my private key as 2046 bits but when I looked online I found out that it should be 1024 or 2048 bits. Am I generating my Private key wrong? If it is wrong, how should I add two bits to it to make it 2048 bits.\r\n\r\nThanks in advance.","title":"Getting decryption error when decrypting the data string which is encrypted with public key","body":"<p>I have a encrypted private key which I have to decrypt using Shared key,which I did and got byte[]. I have converted the byte[] to utf8 string and then converted that string to <strong>Private</strong> key. Now, I have to use this private key to decrypt one time encrypted public key. While doing that, I am getting the following error.</p>\n<pre><code>javax.crypto.BadPaddingException: Decryption error\nat sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:370) ~[na:1.8.0_311]\n</code></pre>\n<p>This is how I generated private key.</p>\n<pre><code> public static PrivateKey decrypt(String stringKey) throws Exception {\n    JSONObject jsonKey = new JSONObject(stringKey);\n\n    BigInteger e = new BigInteger( jsonKey.getString(&quot;e&quot;)); // Public exponent\n    BigInteger n = new BigInteger(jsonKey.getString(&quot;n&quot;).getBytes());\n    BigInteger d = new BigInteger(jsonKey.getString(&quot;d&quot;).getBytes());\n    BigInteger p = new BigInteger(jsonKey.getString(&quot;p&quot;).getBytes());\n    BigInteger q = new BigInteger(jsonKey.getString(&quot;q&quot;).getBytes());\n    BigInteger dmp1 = new BigInteger(jsonKey.getString(&quot;dmp1&quot;).getBytes());\n    BigInteger dmq1 = new BigInteger(jsonKey.getString(&quot;dmq1&quot;).getBytes());\n    BigInteger coeff = new BigInteger(jsonKey.getString(&quot;coeff&quot;).getBytes());\n\n\n    RSAPrivateCrtKeySpec privateKeySpec = new RSAPrivateCrtKeySpec(n, e, d, p, q, dmp1, dmq1, coeff);\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n     PrivateKey privateKey = keyFactory.generatePrivate(privateKeySpec);\n\n    return  privateKey;\n}\n</code></pre>\n<p>I tried many solutions from the Stack Overflow but nothing worked. I am getting my private key as 2046 bits but when I looked online I found out that it should be 1024 or 2048 bits. Am I generating my Private key wrong? If it is wrong, how should I add two bits to it to make it 2048 bits.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1423107717,"post_id":28335787,"comment_id":45017726,"body_markdown":"Well, now that you&#39;ve violated the single thread rules of Swing as well as made use of a deprecated method, I would say you&#39;re not off to a brilliant start","body":"Well, now that you&#39;ve violated the single thread rules of Swing as well as made use of a deprecated method, I would say you&#39;re not off to a brilliant start"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1423107732,"post_id":28335787,"comment_id":45017731,"body_markdown":"@KickButtowski I don&#39;t seem to be able to escape ;)","body":"@KickButtowski I don&#39;t seem to be able to escape ;)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1423107829,"post_id":28335787,"comment_id":45017755,"body_markdown":"I would start by taking a look at some of the available animation frameworks, like [Timing Framework](https://java.net/projects/timingframework) and [Universal Tween Engine](https://code.google.com/p/java-universal-tween-engine/)","body":"I would start by taking a look at some of the available animation frameworks, like <a href=\"https://java.net/projects/timingframework\" rel=\"nofollow noreferrer\">Timing Framework</a> and <a href=\"https://code.google.com/p/java-universal-tween-engine/\" rel=\"nofollow noreferrer\">Universal Tween Engine</a>"},{"owner":{"account_id":5688060,"reputation":3,"user_id":4496939,"display_name":"Ken.B"},"score":0,"creation_date":1423109490,"post_id":28335787,"comment_id":45018217,"body_markdown":"I&#39;m new to java and OOP. lol I thought I knew enough to get by, but it looks like i&#39;m breaking rules that i didn&#39;t even know i was suppose to know. \nI was reluctant to use those animation frameworks because I wanted to understand the process of coding my animation needs from scratch. Not that I will always do so but i&#39;d like the option.","body":"I&#39;m new to java and OOP. lol I thought I knew enough to get by, but it looks like i&#39;m breaking rules that i didn&#39;t even know i was suppose to know.  I was reluctant to use those animation frameworks because I wanted to understand the process of coding my animation needs from scratch. Not that I will always do so but i&#39;d like the option."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1423109613,"post_id":28335787,"comment_id":45018248,"body_markdown":"Start by taking a look at [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) and [How to use Swing Timers](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for starters.  Also `Thread#stop` is deprecated and shouldn&#39;t be used","body":"Start by taking a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a> for starters.  Also <code>Thread#stop</code> is deprecated and shouldn&#39;t be used"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1423109828,"post_id":28335787,"comment_id":45018314,"body_markdown":"Easing would require you to change the speed of an object based over time (speeding up or slowing down based on your needs).  The TimingFramework has a good example of how that can be achieved, so you could dig around the code there.  I remember a VERY long time ago, I did something very similar, but I&#39;d have a hard time now putting something back together","body":"Easing would require you to change the speed of an object based over time (speeding up or slowing down based on your needs).  The TimingFramework has a good example of how that can be achieved, so you could dig around the code there.  I remember a VERY long time ago, I did something very similar, but I&#39;d have a hard time now putting something back together"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642223620,"creation_date":1423120486,"answer_id":28338188,"question_id":28335787,"body_markdown":"Okay, so animation is a rather complex and in-depth subject, which I&#39;m not going to cover here, it also involves lots of maths which I don&#39;t really understand, so we&#39;re not going to go into a massive amount depth or detail, there are better people then me who can explain it, you can read about it on the web\r\n\r\nSo to begin with, we make some assumptions...\r\n\r\nAnimation is the change over time, where time is variable.  Easement is the variation of (in this case) speed over the time.  This means that the speed of the animation is variable for any given point in time.\r\n\r\nBasically, what we want to do is &quot;normalise&quot; everything.  That is, at the start of the animation, time is 0 and at the end it&#39;s 1, everything else in between is a fraction between those two values.\r\n\r\nIf you can think like this, things become much easier.  So based on a given point on the timeline, you can make decisions about what should be done.  For example, at 50% of the time, you should be half way between your start and end points\r\n\r\nOkay, but how does all that help us?  If we were to graph a ease-in and ease-out animation, it would look something like...\r\n\r\n![BellCurve][1]\r\n\r\nWhere the x-axis is time and the y-axis is speed (between 0 and 1 on both axis).  So at any given point along x (in time), we should be able to calculate the speed.\r\n\r\nNow, we can do this using some maths with B&#233;zier spine/curve and calculate the speed of the object at a given point on the timeline.\r\n\r\nNow, I borrowed most of the code directly from the Timing Framework, but if you&#39;re really interested, you can also look at [B&#233;zier Curves for your Games: A Tutorial](http://devmag.org.za/2011/04/05/bzier-curves-a-tutorial/)\r\n\r\n*(nb: I actually did wrote something like this, then 2 days later, discovered that the Timing Framework had already implemented...was a fun exercise...)*\r\n\r\nNow, what&#39;s important to note about this implementation is that it won&#39;t actually return you the speed of the object, but it will return a progression of time along the timeline (0-1), okay, that sounds weird, but what it does allow you to do is calculate the current position between your start and end points `(startValue + ((endValue - startValue) * progress))` along the time line\r\n\r\nI&#39;m won&#39;t go into a lot of detail about this, as I really don&#39;t understand the maths, I simply know how to apply it, but basically, we calculate the points (x/y) along the curve, we then normalize these values (0-1) to make it easier to look up.\r\n\r\nThe `interpolate` method uses a binary search to find the closest matching point for a given fraction of time and then calculates the speed/y position of that point\r\n\r\n\tpublic class SplineInterpolator {\r\n\r\n\t\tprivate final double points[];\r\n\t\tprivate final List&lt;PointUnit&gt; normalisedCurve;\r\n\r\n\t\tpublic SplineInterpolator(double x1, double y1, double x2, double y2) {\r\n\t\t\tpoints = new double[]{ x1, y1, x2, y2 };\r\n\r\n\t\t\tfinal List&lt;Double&gt; baseLengths = new ArrayList&lt;&gt;();\r\n\t\t\tdouble prevX = 0;\r\n\t\t\tdouble prevY = 0;\r\n\t\t\tdouble cumulativeLength = 0;\r\n\t\t\tfor (double t = 0; t &lt;= 1; t += 0.01) {\r\n\t\t\t\tPoint2D xy = getXY(t);\r\n\t\t\t\tdouble length = cumulativeLength\r\n\t\t\t\t\t\t\t\t+ Math.sqrt((xy.getX() - prevX) * (xy.getX() - prevX)\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ (xy.getY() - prevY) * (xy.getY() - prevY));\r\n\r\n\t\t\t\tbaseLengths.add(length);\r\n\t\t\t\tcumulativeLength = length;\r\n\t\t\t\tprevX = xy.getX();\r\n\t\t\t\tprevY = xy.getY();\r\n\t\t\t}\r\n\r\n\t\t\tnormalisedCurve = new ArrayList&lt;&gt;(baseLengths.size());\r\n\t\t\tint index = 0;\r\n\t\t\tfor (double t = 0; t &lt;= 1; t += 0.01) {\r\n\t\t\t\tdouble length = baseLengths.get(index++);\r\n\t\t\t\tdouble normalLength = length / cumulativeLength;\r\n\t\t\t\tnormalisedCurve.add(new PointUnit(t, normalLength));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic double interpolate(double fraction) {\r\n\t\t\tint low = 1;\r\n\t\t\tint high = normalisedCurve.size() - 1;\r\n\t\t\tint mid = 0;\r\n\t\t\twhile (low &lt;= high) {\r\n\t\t\t\tmid = (low + high) / 2;\r\n\r\n\t\t\t\tif (fraction &gt; normalisedCurve.get(mid).getPoint()) {\r\n\t\t\t\t\tlow = mid + 1;\r\n\t\t\t\t} else if (mid &gt; 0 &amp;&amp; fraction &lt; normalisedCurve.get(mid - 1).getPoint()) {\r\n\t\t\t\t\thigh = mid - 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * The answer lies between the &quot;mid&quot; item and its predecessor.\r\n\t\t\t */\r\n\t\t\tfinal PointUnit prevItem = normalisedCurve.get(mid - 1);\r\n\t\t\tfinal double prevFraction = prevItem.getPoint();\r\n\t\t\tfinal double prevT = prevItem.getDistance();\r\n\r\n\t\t\tfinal PointUnit item = normalisedCurve.get(mid);\r\n\t\t\tfinal double proportion = (fraction - prevFraction) / (item.getPoint() - prevFraction);\r\n\t\t\tfinal double interpolatedT = prevT + (proportion * (item.getDistance() - prevT));\r\n\t\t\treturn getY(interpolatedT);\r\n\t\t}\r\n\r\n\t\tprotected Point2D getXY(double t) {\r\n\t\t\tfinal double invT = 1 - t;\r\n\t\t\tfinal double b1 = 3 * t * invT * invT;\r\n\t\t\tfinal double b2 = 3 * t * t * invT;\r\n\t\t\tfinal double b3 = t * t * t;\r\n\t\t\tfinal Point2D xy = new Point2D.Double((b1 * points[0]) + (b2 * points[2]) + b3, (b1 * points[1]) + (b2 * points[3]) + b3);\r\n\t\t\treturn xy;\r\n\t\t}\r\n\r\n\t\tprotected double getY(double t) {\r\n\t\t\tfinal double invT = 1 - t;\r\n\t\t\tfinal double b1 = 3 * t * invT * invT;\r\n\t\t\tfinal double b2 = 3 * t * t * invT;\r\n\t\t\tfinal double b3 = t * t * t;\r\n\t\t\treturn (b1 * points[2]) + (b2 * points[3]) + b3;\r\n\t\t}\r\n\r\n\t\tpublic class PointUnit {\r\n\r\n\t\t\tprivate final double distance;\r\n\t\t\tprivate final double point;\r\n\r\n\t\t\tpublic PointUnit(double distance, double point) {\r\n\t\t\t\tthis.distance = distance;\r\n\t\t\t\tthis.point = point;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getDistance() {\r\n\t\t\t\treturn distance;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getPoint() {\r\n\t\t\t\treturn point;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nIf we do something like...\r\n\r\n\tSplineInterpolator si = new SplineInterpolator(1, 0, 0, 1);\r\n\tfor (double t = 0; t &lt;= 1; t += 0.1) {\r\n\t\tSystem.out.println(si.interpolate(t));\r\n\t}\r\n\r\nWe get something like...\r\n\r\n    0.0\r\n    0.011111693284790492\r\n    0.057295031944523504\r\n    0.16510933001160544\r\n    0.3208510585798438\r\n    0.4852971690762217\r\n    0.6499037832761319\r\n    0.8090819765428142\r\n    0.9286158775101805\r\n    0.9839043020410436\r\n    0.999702\r\n\r\nOkay, now you&#39;re probably thinking, &quot;wait a minute, that&#39;s a linear progression!&quot;, but it&#39;s not, if you graphed it, you would find that the first three and last three values are very close together, and the others spread out by varying degrees, this is our &quot;progress&quot; value, how far along the timeline we should be\r\n\r\nSo about now, your head should be about to explode (mine is) - this is why I say, use a framework!\r\n\r\nBut how would you use it?!  This is the fun part, now remember, everything is variable, the duration of the animation, the speed of the object over time, the number of ticks or updates, it&#39;s all variable...\r\n\r\nThis is important, as this is where the power of something like this comes in!  If for example, the animation is stalled due to some outside factor, this implementation is capable of simply skipping those &quot;frames&quot;, rather than getting bottlenecked and staggering.  This might sound like a bad thing, but trust me, this is all about fooling the eye into &quot;think&quot; something is changing ;)\r\n\r\n(The following is like 8fps, so it&#39;s pretty crappy)\r\n\r\n![Animate][2]\r\n\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\timport java.awt.geom.Point2D;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.Timer;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tprivate int startAt = 0;\r\n\t\t\tprivate int endAt;\r\n\t\t\tprivate int x = startAt;\r\n\t\t\tprivate Timer timer;\r\n\t\t\tprivate SplineInterpolator splineInterpolator;\r\n\t\t\tprivate long startTime = -1;\r\n\t\t\tprivate long playTime = 5000; // 5 seconds\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsplineInterpolator = new SplineInterpolator(1, 0, 0, 1);\r\n\t\t\t\ttimer = new Timer(5, new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tif (startTime &lt; 0) {\r\n\t\t\t\t\t\t\tstartTime = System.currentTimeMillis();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlong now = System.currentTimeMillis();\r\n\t\t\t\t\t\tlong duration = now - startTime;\r\n\t\t\t\t\t\tdouble t = (double) duration / (double) playTime;\r\n\t\t\t\t\t\tif (duration &gt;= playTime) {\r\n\t\t\t\t\t\t\tt = 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdouble progress = splineInterpolator.interpolate(t);\r\n\r\n\t\t\t\t\t\tx = startAt + ((int) Math.round((endAt - startAt) * progress));\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\ttimer.setInitialDelay(0);\r\n\t\t\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\tif (!timer.isRunning()) {\r\n                            startTime = -1;\r\n\t\t\t\t\t\t\tstartAt = 0;\r\n\t\t\t\t\t\t\tendAt = getWidth() - 10;\r\n\t\t\t\t\t\t\ttimer.start();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.setColor(Color.RED);\r\n\t\t\t\tg2d.fillRect(x, (getHeight() / 2) - 5, 10, 10);\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic static class SplineInterpolator {\r\n\r\n\t\t\tprivate final double points[];\r\n\t\t\tprivate final List&lt;PointUnit&gt; normalisedCurve;\r\n\r\n\t\t\tpublic SplineInterpolator(double x1, double y1, double x2, double y2) {\r\n\t\t\t\tpoints = new double[]{x1, y1, x2, y2};\r\n\r\n\t\t\t\tfinal List&lt;Double&gt; baseLengths = new ArrayList&lt;&gt;();\r\n\t\t\t\tdouble prevX = 0;\r\n\t\t\t\tdouble prevY = 0;\r\n\t\t\t\tdouble cumulativeLength = 0;\r\n\t\t\t\tfor (double t = 0; t &lt;= 1; t += 0.01) {\r\n\t\t\t\t\tPoint2D xy = getXY(t);\r\n\t\t\t\t\tdouble length = cumulativeLength\r\n\t\t\t\t\t\t\t\t\t+ Math.sqrt((xy.getX() - prevX) * (xy.getX() - prevX)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ (xy.getY() - prevY) * (xy.getY() - prevY));\r\n\r\n\t\t\t\t\tbaseLengths.add(length);\r\n\t\t\t\t\tcumulativeLength = length;\r\n\t\t\t\t\tprevX = xy.getX();\r\n\t\t\t\t\tprevY = xy.getY();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnormalisedCurve = new ArrayList&lt;&gt;(baseLengths.size());\r\n\t\t\t\tint index = 0;\r\n\t\t\t\tfor (double t = 0; t &lt;= 1; t += 0.01) {\r\n\t\t\t\t\tdouble length = baseLengths.get(index++);\r\n\t\t\t\t\tdouble normalLength = length / cumulativeLength;\r\n\t\t\t\t\tnormalisedCurve.add(new PointUnit(t, normalLength));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpublic double interpolate(double fraction) {\r\n\t\t\t\tint low = 1;\r\n\t\t\t\tint high = normalisedCurve.size() - 1;\r\n\t\t\t\tint mid = 0;\r\n\t\t\t\twhile (low &lt;= high) {\r\n\t\t\t\t\tmid = (low + high) / 2;\r\n\r\n\t\t\t\t\tif (fraction &gt; normalisedCurve.get(mid).getPoint()) {\r\n\t\t\t\t\t\tlow = mid + 1;\r\n\t\t\t\t\t} else if (mid &gt; 0 &amp;&amp; fraction &lt; normalisedCurve.get(mid - 1).getPoint()) {\r\n\t\t\t\t\t\thigh = mid - 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/*\r\n\t\t\t\t * The answer lies between the &quot;mid&quot; item and its predecessor.\r\n\t\t\t\t */\r\n\t\t\t\tfinal PointUnit prevItem = normalisedCurve.get(mid - 1);\r\n\t\t\t\tfinal double prevFraction = prevItem.getPoint();\r\n\t\t\t\tfinal double prevT = prevItem.getDistance();\r\n\r\n\t\t\t\tfinal PointUnit item = normalisedCurve.get(mid);\r\n\t\t\t\tfinal double proportion = (fraction - prevFraction) / (item.getPoint() - prevFraction);\r\n\t\t\t\tfinal double interpolatedT = prevT + (proportion * (item.getDistance() - prevT));\r\n\t\t\t\treturn getY(interpolatedT);\r\n\t\t\t}\r\n\r\n\t\t\tprotected Point2D getXY(double t) {\r\n\t\t\t\tfinal double invT = 1 - t;\r\n\t\t\t\tfinal double b1 = 3 * t * invT * invT;\r\n\t\t\t\tfinal double b2 = 3 * t * t * invT;\r\n\t\t\t\tfinal double b3 = t * t * t;\r\n\t\t\t\tfinal Point2D xy = new Point2D.Double((b1 * points[0]) + (b2 * points[2]) + b3, (b1 * points[1]) + (b2 * points[3]) + b3);\r\n\t\t\t\treturn xy;\r\n\t\t\t}\r\n\r\n\t\t\tprotected double getY(double t) {\r\n\t\t\t\tfinal double invT = 1 - t;\r\n\t\t\t\tfinal double b1 = 3 * t * invT * invT;\r\n\t\t\t\tfinal double b2 = 3 * t * t * invT;\r\n\t\t\t\tfinal double b3 = t * t * t;\r\n\t\t\t\treturn (b1 * points[2]) + (b2 * points[3]) + b3;\r\n\t\t\t}\r\n\r\n\t\t\tpublic class PointUnit {\r\n\r\n\t\t\t\tprivate final double distance;\r\n\t\t\t\tprivate final double point;\r\n\r\n\t\t\t\tpublic PointUnit(double distance, double point) {\r\n\t\t\t\t\tthis.distance = distance;\r\n\t\t\t\t\tthis.point = point;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpublic double getDistance() {\r\n\t\t\t\t\treturn distance;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpublic double getPoint() {\r\n\t\t\t\t\treturn point;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zcvTm.png\r\n  [2]: http://i.stack.imgur.com/HDC8T.gif\r\n\r\nSo, apart from the `SplineInterpolator`, the magic happens inside the `ActionListener` for the `javax.swing.Timer` (and some in the `mouseClicked` event handler)\r\n\r\nBasically, this calculates the amount of time (`duration`) the animation has been playing, this becomes our normalised time `t` or `fraction` value (0-1) over the time line, we then use this to calculate our &quot;progression&quot; through the timeline with the `SplineInterpolator` and update the position of our object based on the difference between it&#39;s start and end positions multiplied by the current &quot;progression&quot;\r\n\r\n\tif (startTime &lt; 0) {\r\n\t\tstartTime = System.currentTimeMillis();\r\n\t}\r\n\tlong now = System.currentTimeMillis();\r\n\tlong duration = now - startTime;\r\n\tdouble t = (double) duration / (double) playTime;\r\n\tif (duration &gt;= playTime) {\r\n\t\tt = 1;\r\n\t}\r\n\r\n\tdouble progress = splineInterpolator.interpolate(t);\r\n\r\n\tx = startAt + ((int) Math.round((endAt - startAt) * progress));\r\n\trepaint();\r\n\r\nAnd voila, we have a ease-in and ease-out animation!\r\n\r\nNow, go use an animation framework!  It&#39;s just SOOOO much simpler :P\r\n\r\n- For &quot;fast in/slow out&quot;, you can use `0, 0, 1, 1`\r\n- For &quot;slow in/fast out&quot;, you can use `0, 1, 0, 0`\r\n- For &quot;slow in&quot;, you can use `1, 0, 1, 1`\r\n- For &quot;slow out&quot;, you can use `0, 0, 0, 1`\r\n\r\n(or at least those are the values I use)\r\n\r\nExperiment and see what you get","title":"How can I implement easing functions with a thread","body":"<p>Okay, so animation is a rather complex and in-depth subject, which I'm not going to cover here, it also involves lots of maths which I don't really understand, so we're not going to go into a massive amount depth or detail, there are better people then me who can explain it, you can read about it on the web</p>\n<p>So to begin with, we make some assumptions...</p>\n<p>Animation is the change over time, where time is variable.  Easement is the variation of (in this case) speed over the time.  This means that the speed of the animation is variable for any given point in time.</p>\n<p>Basically, what we want to do is &quot;normalise&quot; everything.  That is, at the start of the animation, time is 0 and at the end it's 1, everything else in between is a fraction between those two values.</p>\n<p>If you can think like this, things become much easier.  So based on a given point on the timeline, you can make decisions about what should be done.  For example, at 50% of the time, you should be half way between your start and end points</p>\n<p>Okay, but how does all that help us?  If we were to graph a ease-in and ease-out animation, it would look something like...</p>\n<p><img src=\"https://i.stack.imgur.com/zcvTm.png\" alt=\"BellCurve\" /></p>\n<p>Where the x-axis is time and the y-axis is speed (between 0 and 1 on both axis).  So at any given point along x (in time), we should be able to calculate the speed.</p>\n<p>Now, we can do this using some maths with Bézier spine/curve and calculate the speed of the object at a given point on the timeline.</p>\n<p>Now, I borrowed most of the code directly from the Timing Framework, but if you're really interested, you can also look at <a href=\"http://devmag.org.za/2011/04/05/bzier-curves-a-tutorial/\" rel=\"nofollow noreferrer\">Bézier Curves for your Games: A Tutorial</a></p>\n<p><em>(nb: I actually did wrote something like this, then 2 days later, discovered that the Timing Framework had already implemented...was a fun exercise...)</em></p>\n<p>Now, what's important to note about this implementation is that it won't actually return you the speed of the object, but it will return a progression of time along the timeline (0-1), okay, that sounds weird, but what it does allow you to do is calculate the current position between your start and end points <code>(startValue + ((endValue - startValue) * progress))</code> along the time line</p>\n<p>I'm won't go into a lot of detail about this, as I really don't understand the maths, I simply know how to apply it, but basically, we calculate the points (x/y) along the curve, we then normalize these values (0-1) to make it easier to look up.</p>\n<p>The <code>interpolate</code> method uses a binary search to find the closest matching point for a given fraction of time and then calculates the speed/y position of that point</p>\n<pre><code>public class SplineInterpolator {\n\n    private final double points[];\n    private final List&lt;PointUnit&gt; normalisedCurve;\n\n    public SplineInterpolator(double x1, double y1, double x2, double y2) {\n        points = new double[]{ x1, y1, x2, y2 };\n\n        final List&lt;Double&gt; baseLengths = new ArrayList&lt;&gt;();\n        double prevX = 0;\n        double prevY = 0;\n        double cumulativeLength = 0;\n        for (double t = 0; t &lt;= 1; t += 0.01) {\n            Point2D xy = getXY(t);\n            double length = cumulativeLength\n                            + Math.sqrt((xy.getX() - prevX) * (xy.getX() - prevX)\n                                            + (xy.getY() - prevY) * (xy.getY() - prevY));\n\n            baseLengths.add(length);\n            cumulativeLength = length;\n            prevX = xy.getX();\n            prevY = xy.getY();\n        }\n\n        normalisedCurve = new ArrayList&lt;&gt;(baseLengths.size());\n        int index = 0;\n        for (double t = 0; t &lt;= 1; t += 0.01) {\n            double length = baseLengths.get(index++);\n            double normalLength = length / cumulativeLength;\n            normalisedCurve.add(new PointUnit(t, normalLength));\n        }\n    }\n\n    public double interpolate(double fraction) {\n        int low = 1;\n        int high = normalisedCurve.size() - 1;\n        int mid = 0;\n        while (low &lt;= high) {\n            mid = (low + high) / 2;\n\n            if (fraction &gt; normalisedCurve.get(mid).getPoint()) {\n                low = mid + 1;\n            } else if (mid &gt; 0 &amp;&amp; fraction &lt; normalisedCurve.get(mid - 1).getPoint()) {\n                high = mid - 1;\n            } else {\n                break;\n            }\n        }\n        /*\n         * The answer lies between the &quot;mid&quot; item and its predecessor.\n         */\n        final PointUnit prevItem = normalisedCurve.get(mid - 1);\n        final double prevFraction = prevItem.getPoint();\n        final double prevT = prevItem.getDistance();\n\n        final PointUnit item = normalisedCurve.get(mid);\n        final double proportion = (fraction - prevFraction) / (item.getPoint() - prevFraction);\n        final double interpolatedT = prevT + (proportion * (item.getDistance() - prevT));\n        return getY(interpolatedT);\n    }\n\n    protected Point2D getXY(double t) {\n        final double invT = 1 - t;\n        final double b1 = 3 * t * invT * invT;\n        final double b2 = 3 * t * t * invT;\n        final double b3 = t * t * t;\n        final Point2D xy = new Point2D.Double((b1 * points[0]) + (b2 * points[2]) + b3, (b1 * points[1]) + (b2 * points[3]) + b3);\n        return xy;\n    }\n\n    protected double getY(double t) {\n        final double invT = 1 - t;\n        final double b1 = 3 * t * invT * invT;\n        final double b2 = 3 * t * t * invT;\n        final double b3 = t * t * t;\n        return (b1 * points[2]) + (b2 * points[3]) + b3;\n    }\n\n    public class PointUnit {\n\n        private final double distance;\n        private final double point;\n\n        public PointUnit(double distance, double point) {\n            this.distance = distance;\n            this.point = point;\n        }\n\n        public double getDistance() {\n            return distance;\n        }\n\n        public double getPoint() {\n            return point;\n        }\n\n    }\n\n}\n</code></pre>\n<p>If we do something like...</p>\n<pre><code>SplineInterpolator si = new SplineInterpolator(1, 0, 0, 1);\nfor (double t = 0; t &lt;= 1; t += 0.1) {\n    System.out.println(si.interpolate(t));\n}\n</code></pre>\n<p>We get something like...</p>\n<pre><code>0.0\n0.011111693284790492\n0.057295031944523504\n0.16510933001160544\n0.3208510585798438\n0.4852971690762217\n0.6499037832761319\n0.8090819765428142\n0.9286158775101805\n0.9839043020410436\n0.999702\n</code></pre>\n<p>Okay, now you're probably thinking, &quot;wait a minute, that's a linear progression!&quot;, but it's not, if you graphed it, you would find that the first three and last three values are very close together, and the others spread out by varying degrees, this is our &quot;progress&quot; value, how far along the timeline we should be</p>\n<p>So about now, your head should be about to explode (mine is) - this is why I say, use a framework!</p>\n<p>But how would you use it?!  This is the fun part, now remember, everything is variable, the duration of the animation, the speed of the object over time, the number of ticks or updates, it's all variable...</p>\n<p>This is important, as this is where the power of something like this comes in!  If for example, the animation is stalled due to some outside factor, this implementation is capable of simply skipping those &quot;frames&quot;, rather than getting bottlenecked and staggering.  This might sound like a bad thing, but trust me, this is all about fooling the eye into &quot;think&quot; something is changing ;)</p>\n<p>(The following is like 8fps, so it's pretty crappy)</p>\n<p><img src=\"https://i.stack.imgur.com/HDC8T.gif\" alt=\"Animate\" /></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Point2D;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private int startAt = 0;\n        private int endAt;\n        private int x = startAt;\n        private Timer timer;\n        private SplineInterpolator splineInterpolator;\n        private long startTime = -1;\n        private long playTime = 5000; // 5 seconds\n\n        public TestPane() {\n            splineInterpolator = new SplineInterpolator(1, 0, 0, 1);\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (startTime &lt; 0) {\n                        startTime = System.currentTimeMillis();\n                    }\n                    long now = System.currentTimeMillis();\n                    long duration = now - startTime;\n                    double t = (double) duration / (double) playTime;\n                    if (duration &gt;= playTime) {\n                        t = 1;\n                    }\n\n                    double progress = splineInterpolator.interpolate(t);\n\n                    x = startAt + ((int) Math.round((endAt - startAt) * progress));\n                    repaint();\n                }\n            });\n            timer.setInitialDelay(0);\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (!timer.isRunning()) {\n                        startTime = -1;\n                        startAt = 0;\n                        endAt = getWidth() - 10;\n                        timer.start();\n                    }\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            g2d.fillRect(x, (getHeight() / 2) - 5, 10, 10);\n            g2d.dispose();\n        }\n\n    }\n\n    public static class SplineInterpolator {\n\n        private final double points[];\n        private final List&lt;PointUnit&gt; normalisedCurve;\n\n        public SplineInterpolator(double x1, double y1, double x2, double y2) {\n            points = new double[]{x1, y1, x2, y2};\n\n            final List&lt;Double&gt; baseLengths = new ArrayList&lt;&gt;();\n            double prevX = 0;\n            double prevY = 0;\n            double cumulativeLength = 0;\n            for (double t = 0; t &lt;= 1; t += 0.01) {\n                Point2D xy = getXY(t);\n                double length = cumulativeLength\n                                + Math.sqrt((xy.getX() - prevX) * (xy.getX() - prevX)\n                                                + (xy.getY() - prevY) * (xy.getY() - prevY));\n\n                baseLengths.add(length);\n                cumulativeLength = length;\n                prevX = xy.getX();\n                prevY = xy.getY();\n            }\n\n            normalisedCurve = new ArrayList&lt;&gt;(baseLengths.size());\n            int index = 0;\n            for (double t = 0; t &lt;= 1; t += 0.01) {\n                double length = baseLengths.get(index++);\n                double normalLength = length / cumulativeLength;\n                normalisedCurve.add(new PointUnit(t, normalLength));\n            }\n        }\n\n        public double interpolate(double fraction) {\n            int low = 1;\n            int high = normalisedCurve.size() - 1;\n            int mid = 0;\n            while (low &lt;= high) {\n                mid = (low + high) / 2;\n\n                if (fraction &gt; normalisedCurve.get(mid).getPoint()) {\n                    low = mid + 1;\n                } else if (mid &gt; 0 &amp;&amp; fraction &lt; normalisedCurve.get(mid - 1).getPoint()) {\n                    high = mid - 1;\n                } else {\n                    break;\n                }\n            }\n            /*\n             * The answer lies between the &quot;mid&quot; item and its predecessor.\n             */\n            final PointUnit prevItem = normalisedCurve.get(mid - 1);\n            final double prevFraction = prevItem.getPoint();\n            final double prevT = prevItem.getDistance();\n\n            final PointUnit item = normalisedCurve.get(mid);\n            final double proportion = (fraction - prevFraction) / (item.getPoint() - prevFraction);\n            final double interpolatedT = prevT + (proportion * (item.getDistance() - prevT));\n            return getY(interpolatedT);\n        }\n\n        protected Point2D getXY(double t) {\n            final double invT = 1 - t;\n            final double b1 = 3 * t * invT * invT;\n            final double b2 = 3 * t * t * invT;\n            final double b3 = t * t * t;\n            final Point2D xy = new Point2D.Double((b1 * points[0]) + (b2 * points[2]) + b3, (b1 * points[1]) + (b2 * points[3]) + b3);\n            return xy;\n        }\n\n        protected double getY(double t) {\n            final double invT = 1 - t;\n            final double b1 = 3 * t * invT * invT;\n            final double b2 = 3 * t * t * invT;\n            final double b3 = t * t * t;\n            return (b1 * points[2]) + (b2 * points[3]) + b3;\n        }\n\n        public class PointUnit {\n\n            private final double distance;\n            private final double point;\n\n            public PointUnit(double distance, double point) {\n                this.distance = distance;\n                this.point = point;\n            }\n\n            public double getDistance() {\n                return distance;\n            }\n\n            public double getPoint() {\n                return point;\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>So, apart from the <code>SplineInterpolator</code>, the magic happens inside the <code>ActionListener</code> for the <code>javax.swing.Timer</code> (and some in the <code>mouseClicked</code> event handler)</p>\n<p>Basically, this calculates the amount of time (<code>duration</code>) the animation has been playing, this becomes our normalised time <code>t</code> or <code>fraction</code> value (0-1) over the time line, we then use this to calculate our &quot;progression&quot; through the timeline with the <code>SplineInterpolator</code> and update the position of our object based on the difference between it's start and end positions multiplied by the current &quot;progression&quot;</p>\n<pre><code>if (startTime &lt; 0) {\n    startTime = System.currentTimeMillis();\n}\nlong now = System.currentTimeMillis();\nlong duration = now - startTime;\ndouble t = (double) duration / (double) playTime;\nif (duration &gt;= playTime) {\n    t = 1;\n}\n\ndouble progress = splineInterpolator.interpolate(t);\n\nx = startAt + ((int) Math.round((endAt - startAt) * progress));\nrepaint();\n</code></pre>\n<p>And voila, we have a ease-in and ease-out animation!</p>\n<p>Now, go use an animation framework!  It's just SOOOO much simpler :P</p>\n<ul>\n<li>For &quot;fast in/slow out&quot;, you can use <code>0, 0, 1, 1</code></li>\n<li>For &quot;slow in/fast out&quot;, you can use <code>0, 1, 0, 0</code></li>\n<li>For &quot;slow in&quot;, you can use <code>1, 0, 1, 1</code></li>\n<li>For &quot;slow out&quot;, you can use <code>0, 0, 0, 1</code></li>\n</ul>\n<p>(or at least those are the values I use)</p>\n<p>Experiment and see what you get</p>\n"}],"owner":{"account_id":5688060,"reputation":3,"user_id":4496939,"display_name":"Ken.B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28338188,"answer_count":1,"score":0,"last_activity_date":1642223620,"creation_date":1423107548,"question_id":28335787,"body_markdown":"I&#39;m trying to find an efficient, normal, or simple way to implementing easing-functions into my java program. I got the easing function to work but i feel like there is a more efficient way to do it; one that I can&#39;t see, possibly because of tunnel vision. here&#39;s the code I have; can someone show me what I should do differently or point me in the direction I need to go research\r\n\r\n\r\n\tpublic class slide extends JPanel implements Runnable {\r\n\r\n\t\tThread ease = new Thread(this);\r\n\t\tfloat total = 0;\r\n\t\tfloat dur;\r\n\r\n\t\tslide() {\r\n\r\n\t\t\tease.start();\r\n\t\t\tsetLayout(null);\r\n\r\n\t\t}\r\n\r\n\t\tpublic float calc(float t, float b, float c, float d) {\r\n\r\n\t\t\treturn c * t / d + b;\r\n\r\n\t\t}\r\n\r\n\t\tpublic void run() {\r\n\t\t\twhile (true) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (total &lt; 50) {\r\n\t\t\t\t\t\ttotal += 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tease.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetBounds(400, Math.round(200 * total / 50 + 0), 250, 150);\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t\tSystem.out.println(total + &quot; &quot; + dur);\r\n\t\t\t\t\tease.sleep(10);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\nI tried to implement the calc() method for a linear easing function I found online but it&#39;s practically useless because I was forced I couldn&#39;t get it to work unless inserted the equation directly into the ","title":"How can I implement easing functions with a thread","body":"<p>I'm trying to find an efficient, normal, or simple way to implementing easing-functions into my java program. I got the easing function to work but i feel like there is a more efficient way to do it; one that I can't see, possibly because of tunnel vision. here's the code I have; can someone show me what I should do differently or point me in the direction I need to go research</p>\n\n<pre><code>public class slide extends JPanel implements Runnable {\n\n    Thread ease = new Thread(this);\n    float total = 0;\n    float dur;\n\n    slide() {\n\n        ease.start();\n        setLayout(null);\n\n    }\n\n    public float calc(float t, float b, float c, float d) {\n\n        return c * t / d + b;\n\n    }\n\n    public void run() {\n        while (true) {\n            try {\n                if (total &lt; 50) {\n                    total += 1;\n                } else {\n                    ease.stop();\n                }\n                setBounds(400, Math.round(200 * total / 50 + 0), 250, 150);\n                repaint();\n                System.out.println(total + \" \" + dur);\n                ease.sleep(10);\n            } catch (Exception e) {\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>I tried to implement the calc() method for a linear easing function I found online but it's practically useless because I was forced I couldn't get it to work unless inserted the equation directly into the </p>\n"},{"tags":["java","arrays","string","exception","getmessage"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1642193464,"post_id":70716232,"comment_id":125015038,"body_markdown":"Try moving the logic into some method(eg. `getHolder()`) that returns the message so your constructor can just have `super(getHolder());`.","body":"Try moving the logic into some method(eg. <code>getHolder()</code>) that returns the message so your constructor can just have <code>super(getHolder());</code>."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642222233,"creation_date":1642193552,"answer_id":70716399,"question_id":70716232,"body_markdown":"One way is to create a private static method, since static methods exist irrespective of constructors and instantiation:\r\n\r\n    public NoWheelsException(Car[] carArray){\r\n        super(buildMessageFrom(carArray));\r\n    }\r\n\r\n\r\n    private static String buildMessageFrom(Car[] cars) {\r\n        StringBuilder message = new StringBuilder();\r\n\r\n        String separator = &quot;&quot;;\r\n        for (Car car : cars) {\r\n            message.append(separator);\r\n            message.append(car.name);\r\n            separator = &quot;, &quot;;\r\n        }\r\n\r\n        return message.toString();\r\n    }\r\n\r\n(When building a String in a loop, StringBuilder is much more efficient than string concatenation.  Each iteration of ‘holder = holder + …’ would create a new String object that eventually needs to be garbage collected.)\r\n\r\nIf you’re comfortable with Streams, you can do it all on one line:\r\n\r\n    public NoWheelsException(Car[] carArray){\r\n        super(Arrays.stream(carArray).map(c -&gt; c.name).collect(Collectors.joining(&quot;, &quot;)));\r\n    }\r\n","title":"How do I get around the limitation of having to place super constructor in the first line?","body":"<p>One way is to create a private static method, since static methods exist irrespective of constructors and instantiation:</p>\n<pre><code>public NoWheelsException(Car[] carArray){\n    super(buildMessageFrom(carArray));\n}\n\n\nprivate static String buildMessageFrom(Car[] cars) {\n    StringBuilder message = new StringBuilder();\n\n    String separator = &quot;&quot;;\n    for (Car car : cars) {\n        message.append(separator);\n        message.append(car.name);\n        separator = &quot;, &quot;;\n    }\n\n    return message.toString();\n}\n</code></pre>\n<p>(When building a String in a loop, StringBuilder is much more efficient than string concatenation.  Each iteration of ‘holder = holder + …’ would create a new String object that eventually needs to be garbage collected.)</p>\n<p>If you’re comfortable with Streams, you can do it all on one line:</p>\n<pre><code>public NoWheelsException(Car[] carArray){\n    super(Arrays.stream(carArray).map(c -&gt; c.name).collect(Collectors.joining(&quot;, &quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":23338163,"reputation":27,"user_id":17936179,"display_name":"pron1ghtmare360"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70716399,"answer_count":1,"score":0,"last_activity_date":1642222233,"creation_date":1642192393,"question_id":70716232,"body_markdown":"       public NoWheelsException(Car[] carArray){\r\n            String holder = &quot;&quot;;\r\n            for (int i=0; i&lt;carArray.length; i++) {\r\n                if (i == carArray.length - 1) {\r\n                    holder = holder + carArray[i].name;\r\n                }else{\r\n                    holder = holder + carArray[i].name + &quot;, &quot;;\r\n                }\r\n            }\r\n            String message = holder + &quot; has/have no wheels.&quot;;\r\n            super(message);\r\n        }\r\n\r\nWritten above is the ideal scenario that I&#39;d have for my code, with the super constructor at the end. Although, since super has to be the first statement, I cannot figure out how to develop the string out of the array inline. I can&#39;t straight up use `.toString()` as there&#39;s certain criteria into what the string should look like. I&#39;ve managed to figure out everything regarding Exceptions except this itty bitty detail. Any help would be greatly appreciated!\r\n\r\n## Update ##\r\nI got suggested to try Strin.join in order to link them together although unfortunately the object reference names differ from the name variable in the array objects...\r\n","title":"How do I get around the limitation of having to place super constructor in the first line?","body":"<pre><code>   public NoWheelsException(Car[] carArray){\n        String holder = &quot;&quot;;\n        for (int i=0; i&lt;carArray.length; i++) {\n            if (i == carArray.length - 1) {\n                holder = holder + carArray[i].name;\n            }else{\n                holder = holder + carArray[i].name + &quot;, &quot;;\n            }\n        }\n        String message = holder + &quot; has/have no wheels.&quot;;\n        super(message);\n    }\n</code></pre>\n<p>Written above is the ideal scenario that I'd have for my code, with the super constructor at the end. Although, since super has to be the first statement, I cannot figure out how to develop the string out of the array inline. I can't straight up use <code>.toString()</code> as there's certain criteria into what the string should look like. I've managed to figure out everything regarding Exceptions except this itty bitty detail. Any help would be greatly appreciated!</p>\n<h2>Update</h2>\n<p>I got suggested to try Strin.join in order to link them together although unfortunately the object reference names differ from the name variable in the array objects...</p>\n"},{"tags":["java","encryption","cryptography","aes"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642046907,"creation_date":1642046907,"answer_id":70691303,"question_id":70691137,"body_markdown":"Reading is fundamental. The docs for `getOutputSize` indicate you can&#39;t use it for this purpose:\r\n\r\n&gt; The actual output length of the next update or doFinal call may be smaller than the length returned by this method.\r\n\r\nEncrypt it then check the resulting byte array, or do something with the return value of the `doFinal` method (which really tells you how many bytes it made), or make a `ByteArrayOutputStream` and send both the iv and the bytes from `doFinal` (taking into account what it returns) there, then ask it for the `byte[]`, or use a ByteBuffer.\r\n\r\nNote that CBC is dubious,  as is pass hashing with SHA-256. It works, but it&#39;s &#39;too fast&#39;, it&#39;s very easy for a hacker to try a few billion passwords a second. In general you shouldn&#39;t be handrolling this stuff.","title":"AES decryption gives extra zeros in the result","body":"<p>Reading is fundamental. The docs for <code>getOutputSize</code> indicate you can't use it for this purpose:</p>\n<blockquote>\n<p>The actual output length of the next update or doFinal call may be smaller than the length returned by this method.</p>\n</blockquote>\n<p>Encrypt it then check the resulting byte array, or do something with the return value of the <code>doFinal</code> method (which really tells you how many bytes it made), or make a <code>ByteArrayOutputStream</code> and send both the iv and the bytes from <code>doFinal</code> (taking into account what it returns) there, then ask it for the <code>byte[]</code>, or use a ByteBuffer.</p>\n<p>Note that CBC is dubious,  as is pass hashing with SHA-256. It works, but it's 'too fast', it's very easy for a hacker to try a few billion passwords a second. In general you shouldn't be handrolling this stuff.</p>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642221404,"creation_date":1642047468,"answer_id":70691359,"question_id":70691137,"body_markdown":"CBC mode as normally used requires padding, which your code correctly specifies, so the ciphertext (before adding and after removing the IV) is longer than the plaintext. You allocate a buffer for this longer size and `Cipher.doFinal` only stores the actual plaintext to it, leaving the remaining bytes with the value initialized by `new byte[n]` which is (always) zero. \r\n\r\n1. &lt;strike&gt;You could determine the size the output will be using `ciper.getOutputSize(int)` much as you did for encrypt&lt;/strike&gt; This doesn&#39;t work; Maarten is right. \r\n\r\n2. You could continue to overallocate the output buffer, but save the return value from `cipher.doFinal (input,off,len, output,off)` which is an `int` that tells you the number of bytes output (decrypted), and then use only that many bytes from the buffer e.g. `new String (output, 0, outlen, charset)` or `Arrays.copyOf(output, outlen)` \r\n\r\n3. But the easiest way is to use the `doFinal` overload that allocates the buffer itself (with the correct size) and returns it:\r\n`return cipher.doFinal(decodedCipherText, cipher.getBlockSize(), decodedCipherText.length - cipher.getBlockSize());`\r\n\r\nConcur with not using a simple hash on a _password_, but your example doesn&#39;t show or say if your &#39;key&#39; is really a password (handled by humans, and needing &#39;stretching&#39;) or just a text form of something with adequate entropy, for which a simple hash is okay.","title":"AES decryption gives extra zeros in the result","body":"<p>CBC mode as normally used requires padding, which your code correctly specifies, so the ciphertext (before adding and after removing the IV) is longer than the plaintext. You allocate a buffer for this longer size and <code>Cipher.doFinal</code> only stores the actual plaintext to it, leaving the remaining bytes with the value initialized by <code>new byte[n]</code> which is (always) zero.</p>\n<ol>\n<li><p><strike>You could determine the size the output will be using <code>ciper.getOutputSize(int)</code> much as you did for encrypt</strike> This doesn't work; Maarten is right.</p>\n</li>\n<li><p>You could continue to overallocate the output buffer, but save the return value from <code>cipher.doFinal (input,off,len, output,off)</code> which is an <code>int</code> that tells you the number of bytes output (decrypted), and then use only that many bytes from the buffer e.g. <code>new String (output, 0, outlen, charset)</code> or <code>Arrays.copyOf(output, outlen)</code></p>\n</li>\n<li><p>But the easiest way is to use the <code>doFinal</code> overload that allocates the buffer itself (with the correct size) and returns it:\n<code>return cipher.doFinal(decodedCipherText, cipher.getBlockSize(), decodedCipherText.length - cipher.getBlockSize());</code></p>\n</li>\n</ol>\n<p>Concur with not using a simple hash on a <em>password</em>, but your example doesn't show or say if your 'key' is really a password (handled by humans, and needing 'stretching') or just a text form of something with adequate entropy, for which a simple hash is okay.</p>\n"}],"owner":{"account_id":23925216,"reputation":3,"user_id":17920397,"display_name":"Kemat Rochi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70691359,"answer_count":2,"score":0,"last_activity_date":1642221404,"creation_date":1642045096,"question_id":70691137,"body_markdown":"I have the following code to encrypt-decrypt a string using a key and random IV. However during decrypt I get a lot of zeros at the end in my IDE. \r\n\r\n    public class Example {\r\n    \r\n        private static final String AES_MODE = &quot;AES/CBC/PKCS5Padding&quot;;\r\n        private static final String CHARSET = &quot;UTF-8&quot;;\r\n        private static final String HASH_ALGORITHM = &quot;SHA-256&quot;;\r\n        private static final String KEY = &quot;SUPER_SECURE_KEY&quot;;\r\n    \r\n        private static SecretKeySpec getSecretKey() throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n            final MessageDigest digest = MessageDigest.getInstance(HASH_ALGORITHM);\r\n            byte[] bytes = KEY.getBytes(CHARSET);\r\n            digest.update(bytes, 0, bytes.length);\r\n            byte[] key = digest.digest();\r\n    \r\n            return new SecretKeySpec(key, &quot;AES&quot;);\r\n        }\r\n    \r\n        public static String encrypt(String message) {\r\n            if(message == null || message.isEmpty()) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            try {\r\n                final SecretKeySpec key = getSecretKey();\r\n                byte[] cipherText = encrypt(key, message.getBytes(CHARSET));\r\n                return Base64.getEncoder().encodeToString(cipherText);\r\n            } catch (Exception e) {\r\n                System.out.print(e.toString());\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    \r\n        private static byte[] encrypt(final SecretKeySpec key, final byte[] message) throws GeneralSecurityException {\r\n    \r\n            final Cipher cipher = Cipher.getInstance(AES_MODE);\r\n    \r\n            byte[] iv = new byte[cipher.getBlockSize()];\r\n            new SecureRandom().nextBytes(iv);\r\n    \r\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\r\n    \r\n            byte[] ciphertext = new byte[iv.length + cipher.getOutputSize(message.length)];\r\n            System.arraycopy(iv, 0, ciphertext, 0, iv.length);\r\n            cipher.doFinal(message, 0, message.length, ciphertext, iv.length);\r\n            return ciphertext;\r\n        }\r\n    \r\n        // ========================================================================================\r\n    \r\n        public static String decrypt(String base64EncodedCipherText) {\r\n            if(base64EncodedCipherText == null || base64EncodedCipherText.isEmpty()) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            try {\r\n                final SecretKeySpec key = getSecretKey();\r\n    \r\n                byte[] decodedCipherText = Base64.getDecoder().decode(base64EncodedCipherText);\r\n                byte[] decryptedBytes = decrypt(key, decodedCipherText);\r\n    \r\n                return new String(decryptedBytes, CHARSET);\r\n            } catch (Exception e) {\r\n                System.out.print(e.toString());\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    \r\n        private static byte[] decrypt(final SecretKeySpec key, final byte[] decodedCipherText) throws GeneralSecurityException {\r\n            final Cipher cipher = Cipher.getInstance(AES_MODE);\r\n    \r\n            IvParameterSpec ivSpec = new IvParameterSpec(decodedCipherText, 0, cipher.getBlockSize());\r\n            cipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\r\n    \r\n            int plainTextLength  = decodedCipherText.length - cipher.getBlockSize();\r\n            byte[] plaintext = new byte[plainTextLength];\r\n    \r\n            cipher.doFinal(decodedCipherText, cipher.getBlockSize(), plainTextLength, plaintext, 0);\r\n    \r\n            return plaintext;\r\n    \r\n            // return cipher.doFinal(decodedCipherText);\r\n        }\r\n    \r\n        // ========================================================================================\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String message = &quot;Message to encrypt.&quot;;\r\n    \r\n            String encryptedText = encrypt(message);\r\n            System.out.println(encryptedText);\r\n    \r\n            String decryptedText= decrypt(encryptedText);\r\n            System.out.println(decryptedText);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThe output I get in IntelliJ IDEA is:\r\n[here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZqfnI.png\r\n\r\nI think I am correctly separating the IV from the ciphertext, and decrypt the ciphertext with the key and the random IV. But still end up getting zeros in the end. Any pointers to what is wrong?","title":"AES decryption gives extra zeros in the result","body":"<p>I have the following code to encrypt-decrypt a string using a key and random IV. However during decrypt I get a lot of zeros at the end in my IDE.</p>\n<pre><code>public class Example {\n\n    private static final String AES_MODE = &quot;AES/CBC/PKCS5Padding&quot;;\n    private static final String CHARSET = &quot;UTF-8&quot;;\n    private static final String HASH_ALGORITHM = &quot;SHA-256&quot;;\n    private static final String KEY = &quot;SUPER_SECURE_KEY&quot;;\n\n    private static SecretKeySpec getSecretKey() throws NoSuchAlgorithmException, UnsupportedEncodingException {\n        final MessageDigest digest = MessageDigest.getInstance(HASH_ALGORITHM);\n        byte[] bytes = KEY.getBytes(CHARSET);\n        digest.update(bytes, 0, bytes.length);\n        byte[] key = digest.digest();\n\n        return new SecretKeySpec(key, &quot;AES&quot;);\n    }\n\n    public static String encrypt(String message) {\n        if(message == null || message.isEmpty()) {\n            return &quot;&quot;;\n        }\n\n        try {\n            final SecretKeySpec key = getSecretKey();\n            byte[] cipherText = encrypt(key, message.getBytes(CHARSET));\n            return Base64.getEncoder().encodeToString(cipherText);\n        } catch (Exception e) {\n            System.out.print(e.toString());\n            return &quot;&quot;;\n        }\n    }\n\n    private static byte[] encrypt(final SecretKeySpec key, final byte[] message) throws GeneralSecurityException {\n\n        final Cipher cipher = Cipher.getInstance(AES_MODE);\n\n        byte[] iv = new byte[cipher.getBlockSize()];\n        new SecureRandom().nextBytes(iv);\n\n        IvParameterSpec ivSpec = new IvParameterSpec(iv);\n        cipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\n\n        byte[] ciphertext = new byte[iv.length + cipher.getOutputSize(message.length)];\n        System.arraycopy(iv, 0, ciphertext, 0, iv.length);\n        cipher.doFinal(message, 0, message.length, ciphertext, iv.length);\n        return ciphertext;\n    }\n\n    // ========================================================================================\n\n    public static String decrypt(String base64EncodedCipherText) {\n        if(base64EncodedCipherText == null || base64EncodedCipherText.isEmpty()) {\n            return &quot;&quot;;\n        }\n\n        try {\n            final SecretKeySpec key = getSecretKey();\n\n            byte[] decodedCipherText = Base64.getDecoder().decode(base64EncodedCipherText);\n            byte[] decryptedBytes = decrypt(key, decodedCipherText);\n\n            return new String(decryptedBytes, CHARSET);\n        } catch (Exception e) {\n            System.out.print(e.toString());\n            return &quot;&quot;;\n        }\n    }\n\n    private static byte[] decrypt(final SecretKeySpec key, final byte[] decodedCipherText) throws GeneralSecurityException {\n        final Cipher cipher = Cipher.getInstance(AES_MODE);\n\n        IvParameterSpec ivSpec = new IvParameterSpec(decodedCipherText, 0, cipher.getBlockSize());\n        cipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\n\n        int plainTextLength  = decodedCipherText.length - cipher.getBlockSize();\n        byte[] plaintext = new byte[plainTextLength];\n\n        cipher.doFinal(decodedCipherText, cipher.getBlockSize(), plainTextLength, plaintext, 0);\n\n        return plaintext;\n\n        // return cipher.doFinal(decodedCipherText);\n    }\n\n    // ========================================================================================\n\n    public static void main(String[] args) {\n\n        String message = &quot;Message to encrypt.&quot;;\n\n        String encryptedText = encrypt(message);\n        System.out.println(encryptedText);\n\n        String decryptedText= decrypt(encryptedText);\n        System.out.println(decryptedText);\n\n    }\n\n}\n</code></pre>\n<p>The output I get in IntelliJ IDEA is:\n<a href=\"https://i.stack.imgur.com/ZqfnI.png\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I think I am correctly separating the IV from the ciphertext, and decrypt the ciphertext with the key and the random IV. But still end up getting zeros in the end. Any pointers to what is wrong?</p>\n"},{"tags":["java","netbeans","jar"],"answers":[{"tags":[],"owner":{"account_id":1711670,"reputation":2138,"user_id":1569604,"accept_rate":50,"display_name":"maslan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1538575782,"creation_date":1538575782,"answer_id":52628940,"question_id":52628641,"body_markdown":"Theoretically JAR files cannot contain dependencies within, as java does not support it out of the box. WAR and EAR archives can. What You want to do is not standard, but is named fat jar. Fat jars are used i.e. by spring-boot maven plugin, but you could try this: \r\nhttps://dzone.com/articles/how-build-fat-jar-using\r\nAnd some more explanation:\r\nhttps://stackoverflow.com/questions/2212913/netbeans-deploying-all-in-one-jar","title":"Create JAR file using Net Beans including all dependent libs and folders","body":"<p>Theoretically JAR files cannot contain dependencies within, as java does not support it out of the box. WAR and EAR archives can. What You want to do is not standard, but is named fat jar. Fat jars are used i.e. by spring-boot maven plugin, but you could try this: \n<a href=\"https://dzone.com/articles/how-build-fat-jar-using\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-build-fat-jar-using</a>\nAnd some more explanation:\n<a href=\"https://stackoverflow.com/questions/2212913/netbeans-deploying-all-in-one-jar\">NetBeans - deploying all in one jar</a></p>\n"},{"tags":[],"owner":{"account_id":23945679,"reputation":1,"user_id":17938059,"display_name":"Tim de Vries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642219768,"creation_date":1642219768,"answer_id":70718812,"question_id":52628641,"body_markdown":"Use tecreations Deploy. Put all your sources into a path declared as Tecreations.getProjectPath(), run BuildAll to create your corresponding classes, put your jars in projectpath/jars and select the appropriate settings, whether to include jars, sources or classes. Select your main class and click Deploy. Unsigned and signed output jars are produced in user/Documents.\r\n\r\nDownload: https://tecreations.ca/java/downloads/release.","title":"Create JAR file using Net Beans including all dependent libs and folders","body":"<p>Use tecreations Deploy. Put all your sources into a path declared as Tecreations.getProjectPath(), run BuildAll to create your corresponding classes, put your jars in projectpath/jars and select the appropriate settings, whether to include jars, sources or classes. Select your main class and click Deploy. Unsigned and signed output jars are produced in user/Documents.</p>\n<p>Download: <a href=\"https://tecreations.ca/java/downloads/release\" rel=\"nofollow noreferrer\">https://tecreations.ca/java/downloads/release</a>.</p>\n"}],"owner":{"account_id":14294363,"reputation":659,"user_id":10325459,"display_name":"Dinesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52628940,"answer_count":2,"score":0,"last_activity_date":1642219768,"creation_date":1538574831,"question_id":52628641,"body_markdown":"I have created a JavaFX application using NetBeans IDE and below is my folder structure.\r\n\r\n[![Project Root Folder][1]][1]\r\n\r\n[![dist][2]][2]\r\nI want to a build a single jar file including all dependencies for this jar to work properly.\r\nThis jar requires testplanner and batch folder from project root directory and files inside dist folder to work properly.\r\nHow can I package all this to a single jar file?\r\n\r\n  [1]: https://i.stack.imgur.com/otC3L.png\r\n  [2]: https://i.stack.imgur.com/btBq6.png","title":"Create JAR file using Net Beans including all dependent libs and folders","body":"<p>I have created a JavaFX application using NetBeans IDE and below is my folder structure.</p>\n\n<p><a href=\"https://i.stack.imgur.com/otC3L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/otC3L.png\" alt=\"Project Root Folder\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/btBq6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/btBq6.png\" alt=\"dist\"></a>\nI want to a build a single jar file including all dependencies for this jar to work properly.\nThis jar requires testplanner and batch folder from project root directory and files inside dist folder to work properly.\nHow can I package all this to a single jar file?</p>\n"},{"tags":["java","postgresql","spring-boot","jdbc","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642217532,"creation_date":1642217532,"answer_id":70718672,"question_id":70717792,"body_markdown":"adding spaces around the parameter and casting it in the sql query, e.g.\r\n\r\n```\r\nselect * from testing where col1 @&gt; ARRAY[ CAST ( :item AS text) ]\r\n```\r\nfixed it","title":"How to used a NamedJDBCTemplate placeholder in the where clause of a postgres ARRAY comparison?","body":"<p>adding spaces around the parameter and casting it in the sql query, e.g.</p>\n<pre><code>select * from testing where col1 @&gt; ARRAY[ CAST ( :item AS text) ]\n</code></pre>\n<p>fixed it</p>\n"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642217532,"creation_date":1642204906,"question_id":70717792,"body_markdown":"I&#39;m attempting to do a postgres query with an `ARRAY`/GIN where clause using spring-jdbc. \r\n `NamedParameterJdbcTemplate` throws an error when I attempt to use a named parameter inside an `ARRAY[]`.\r\n\r\nminimal example:\r\n```lang-sql\r\nCREATE TABLE testing(col1 text[]);\r\nINSERT INTO testing VALUES (&#39;{item1, item2, item3}&#39;);\r\nINSERT INTO testing VALUES (&#39;{item4, item5, item6}&#39;);\r\n\r\n=&gt; select * from testing where col1 @&gt; ARRAY[&#39;item4&#39;];\r\n        col1         \r\n---------------------\r\n {item4,item5,item6}\r\n```\r\nJava:\r\n```lang-java\r\n        var sql = &quot;select * from testing where col1 @&gt; ARRAY[:item]&quot;;\r\n        var paramMap = Map.of(&quot;item&quot;, &quot;item4&quot;);\r\n        var results = namedJDBCTemplate.queryForList(sql, paramMap);\r\n```\r\nException:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: No value supplied for the SQL parameter &#39;item]&#39;: No value registered for key &#39;item]&#39;\r\n\tat org.springframework.jdbc.core.namedparam.NamedParameterUtils.buildValueArray\r\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.getPreparedStatementCreator\r\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.getPreparedStatementCreator\r\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query\r\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList\r\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList","title":"How to used a NamedJDBCTemplate placeholder in the where clause of a postgres ARRAY comparison?","body":"<p>I'm attempting to do a postgres query with an <code>ARRAY</code>/GIN where clause using spring-jdbc.\n<code>NamedParameterJdbcTemplate</code> throws an error when I attempt to use a named parameter inside an <code>ARRAY[]</code>.</p>\n<p>minimal example:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE testing(col1 text[]);\nINSERT INTO testing VALUES ('{item1, item2, item3}');\nINSERT INTO testing VALUES ('{item4, item5, item6}');\n\n=&gt; select * from testing where col1 @&gt; ARRAY['item4'];\n        col1         \n---------------------\n {item4,item5,item6}\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        var sql = &quot;select * from testing where col1 @&gt; ARRAY[:item]&quot;;\n        var paramMap = Map.of(&quot;item&quot;, &quot;item4&quot;);\n        var results = namedJDBCTemplate.queryForList(sql, paramMap);\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: No value supplied for the SQL parameter 'item]': No value registered for key 'item]'\n    at org.springframework.jdbc.core.namedparam.NamedParameterUtils.buildValueArray\n    at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.getPreparedStatementCreator\n    at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.getPreparedStatementCreator\n    at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query\n    at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList\n    at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList\n</code></pre>\n"},{"tags":["java","schedule"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1440596652,"post_id":32228345,"comment_id":52339156,"body_markdown":"You can use a timer. There are libraries out there you can use to do this...","body":"You can use a timer. There are libraries out there you can use to do this..."},{"owner":{"account_id":3598094,"reputation":701,"user_id":3002166,"accept_rate":52,"display_name":"user3002166"},"score":1,"creation_date":1440596850,"post_id":32228345,"comment_id":52339316,"body_markdown":"you might be better off using a scheduler: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html","body":"you might be better off using a scheduler: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":1087930,"reputation":845,"user_id":1083220,"accept_rate":17,"display_name":"Misgevolution"},"score":0,"creation_date":1440596898,"post_id":32228345,"comment_id":52339357,"body_markdown":"It has already been answered here http://stackoverflow.com/questions/4044729/java-timer-task-schedule","body":"It has already been answered here <a href=\"http://stackoverflow.com/questions/4044729/java-timer-task-schedule\" title=\"java timer task schedule\">stackoverflow.com/questions/4044729/java-timer-task-schedule</a>"}],"answers":[{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1440597064,"creation_date":1440596722,"answer_id":32228421,"question_id":32228345,"body_markdown":"Use a [``ScheduledExecutorService``][1]:\r\n\r\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n    ses.scheduleAtFixedRate(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            sendScreenShot();\r\n        }\r\n    }, 0, 1, TimeUnit.HOURS);\r\n\r\nPrefer using a ``ScheduledExecutorService`` over ``Timer``: \r\nhttps://stackoverflow.com/questions/409932/java-timer-vs-executorservice\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"Run java function every hour","body":"<p>Use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"noreferrer\"><code>ScheduledExecutorService</code></a>:</p>\n\n<pre><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\nses.scheduleAtFixedRate(new Runnable() {\n    @Override\n    public void run() {\n        sendScreenShot();\n    }\n}, 0, 1, TimeUnit.HOURS);\n</code></pre>\n\n<p>Prefer using a <code>ScheduledExecutorService</code> over <code>Timer</code>: \n<a href=\"https://stackoverflow.com/questions/409932/java-timer-vs-executorservice\">Java Timer vs ExecutorService?</a></p>\n"},{"tags":[],"owner":{"account_id":2172319,"reputation":1248,"user_id":1923959,"accept_rate":50,"display_name":"twentylemon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440597213,"creation_date":1440596796,"answer_id":32228450,"question_id":32228345,"body_markdown":"java&#39;s `Timer` works fine here.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Timer.html\r\n\r\n    Timer t = new Timer();\r\n    t.scheduleAtFixedRate(new TimerTask() {\r\n        public void run() {\r\n            // ...\r\n        }\r\n    }, delay, 1 * 3600 * 1000); // 1 hour between calls","title":"Run java function every hour","body":"<p>java's <code>Timer</code> works fine here.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html</a></p>\n\n<pre><code>Timer t = new Timer();\nt.scheduleAtFixedRate(new TimerTask() {\n    public void run() {\n        // ...\n    }\n}, delay, 1 * 3600 * 1000); // 1 hour between calls\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2418222,"reputation":408,"user_id":2111834,"accept_rate":86,"display_name":"Edwin Lambregts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457790601,"creation_date":1457790601,"answer_id":35958447,"question_id":32228345,"body_markdown":"According to [this article by Oracle][1], it&#39;s also possible to use the `@Schedule` annotation:\r\n\r\n    @Schedule(hour = &quot;*&quot;)\r\n    public void doSomething() {\r\n        System.out.println(&quot;hello world&quot;);\r\n    }\r\n\r\nFor example, seconds and minutes can have values 0-59, hours 0-23, months 1-12.\r\n\r\nFurther options are also described there.\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/bnboy.html","title":"Run java function every hour","body":"<p>According to <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnboy.html\" rel=\"nofollow\">this article by Oracle</a>, it's also possible to use the <code>@Schedule</code> annotation:</p>\n\n<pre><code>@Schedule(hour = \"*\")\npublic void doSomething() {\n    System.out.println(\"hello world\");\n}\n</code></pre>\n\n<p>For example, seconds and minutes can have values 0-59, hours 0-23, months 1-12.</p>\n\n<p>Further options are also described there.</p>\n"},{"tags":[],"owner":{"account_id":6705957,"reputation":687,"user_id":5170898,"display_name":"Abdelhalim FELLAGUE CHEBRA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533192944,"creation_date":1533192944,"answer_id":51647297,"question_id":32228345,"body_markdown":"For this type of period execution, meaning every day or every hour, all you need is using a Timer like this :\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n            Calendar today = Calendar.getInstance();\r\n            today.set(Calendar.HOUR_OF_DAY, 7);\r\n            today.set(Calendar.MINUTE, 45);\r\n            today.set(Calendar.SECOND, 0);\r\n    \r\n            Timer timer = new Timer();\r\n            TimerTask task = new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;I am the timer&quot;);\r\n                }\r\n            };\r\n    //        timer.schedule(task, today.getTime(), TimeUnit.MILLISECONDS.convert(1, TimeUnit.DAYS)); // period: 1 day\r\n            timer.schedule(task, today.getTime(), TimeUnit.MILLISECONDS.convert(5, TimeUnit.SECONDS)); // period: 5 seconds\r\n    \r\n        }\r\nthis exemple will execute the timetask every 5 seconds from the current date and 7:45 am.\r\nGood Luck.","title":"Run java function every hour","body":"<p>For this type of period execution, meaning every day or every hour, all you need is using a Timer like this :</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n        Calendar today = Calendar.getInstance();\n        today.set(Calendar.HOUR_OF_DAY, 7);\n        today.set(Calendar.MINUTE, 45);\n        today.set(Calendar.SECOND, 0);\n\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {\n            @Override\n            public void run() {\n                System.out.println(\"I am the timer\");\n            }\n        };\n//        timer.schedule(task, today.getTime(), TimeUnit.MILLISECONDS.convert(1, TimeUnit.DAYS)); // period: 1 day\n        timer.schedule(task, today.getTime(), TimeUnit.MILLISECONDS.convert(5, TimeUnit.SECONDS)); // period: 5 seconds\n\n    }\n</code></pre>\n\n<p>this exemple will execute the timetask every 5 seconds from the current date and 7:45 am.\nGood Luck.</p>\n"},{"tags":[],"owner":{"account_id":5717094,"reputation":61,"user_id":4516893,"display_name":"Palmeta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642216176,"creation_date":1642216176,"answer_id":70718597,"question_id":32228345,"body_markdown":"    while (true) {\r\n\t\t\t\r\n\t\t\tDateTime d = new DateTime();\r\n\t\t\tswitch(d.getMinuteOfHour()) {\r\n\t\t\t\t\r\n\t\t\tcase 56:\r\n\t\t\t\trunHourly();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 41:\r\n\t\t\t\tif(d.getHourOfDay() == 2) {\r\n\t\t\t\t\trunAt0241Daily();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\r\n\t\t\tSUM.wait(59000);\r\n\t\t}\r\n\r\nHow about this for something you can control and understand?","title":"Run java function every hour","body":"<pre><code>while (true) {\n        \n        DateTime d = new DateTime();\n        switch(d.getMinuteOfHour()) {\n            \n        case 56:\n            runHourly();\n            break;\n            \n        case 41:\n            if(d.getHourOfDay() == 2) {\n                runAt0241Daily();\n            }\n            break;\n        }   \n        SUM.wait(59000);\n    }\n</code></pre>\n<p>How about this for something you can control and understand?</p>\n"}],"owner":{"account_id":6671145,"reputation":401,"user_id":5147243,"accept_rate":38,"display_name":"Jannik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25270,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":32228421,"answer_count":5,"score":6,"last_activity_date":1642216176,"creation_date":1440596546,"question_id":32228345,"body_markdown":"I want to run a function every hour, to email users a hourly screenshot of their progress. I code set up to do so in a function called sendScreenshot()\r\n\r\nHow can I run this timer in the background to call the function sendScreenshot() every hour, while the rest of the program is running?\r\n\r\nHere is my code:\r\n\r\n    public int onLoop() throws Exception{\r\n\t\tif(getLocalPlayer().getHealth() == 0){\r\n\t\t\tplayerHasDied();\r\n\t\t}\r\n\t\treturn Calculations.random(200, 300);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void sendScreenShot() throws Exception{\r\n\t\tRobot robot = new Robot();\r\n\t\tBufferedImage screenshot = robot.createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\r\n\t\tscreenshotNumber = getNewestScreenshot();\r\n\t\tfileName = new File(&quot;C:/Users/%username%/Dreambot/Screenshots/Screenshot&quot; + screenshotNumber +&quot;.&quot;);\r\n\t\tImageIO.write(screenshot, &quot;JPEG&quot;, fileName);\r\n\t\t\r\n\t\tmail.setSubject(&quot;Your hourly progress on account &quot; + accName);\r\n\t\tmail.setBody(&quot;Here is your hourly progress report on account &quot; + accName +&quot;. Progress is attached in this mail.&quot;);\r\n\t\tmail.addAttachment(fileName.toString());\r\n\t\tmail.setTo(reciepents);\r\n\t\tmail.send();\r\n\t\t\r\n\t}","title":"Run java function every hour","body":"<p>I want to run a function every hour, to email users a hourly screenshot of their progress. I code set up to do so in a function called sendScreenshot()</p>\n\n<p>How can I run this timer in the background to call the function sendScreenshot() every hour, while the rest of the program is running?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public int onLoop() throws Exception{\n    if(getLocalPlayer().getHealth() == 0){\n        playerHasDied();\n    }\n    return Calculations.random(200, 300);\n\n}\n\npublic void sendScreenShot() throws Exception{\n    Robot robot = new Robot();\n    BufferedImage screenshot = robot.createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\n    screenshotNumber = getNewestScreenshot();\n    fileName = new File(\"C:/Users/%username%/Dreambot/Screenshots/Screenshot\" + screenshotNumber +\".\");\n    ImageIO.write(screenshot, \"JPEG\", fileName);\n\n    mail.setSubject(\"Your hourly progress on account \" + accName);\n    mail.setBody(\"Here is your hourly progress report on account \" + accName +\". Progress is attached in this mail.\");\n    mail.addAttachment(fileName.toString());\n    mail.setTo(reciepents);\n    mail.send();\n\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","maven","spring-boot"],"comments":[{"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"score":0,"creation_date":1542667452,"post_id":53383570,"comment_id":93643404,"body_markdown":"you forgot to add the port in your url","body":"you forgot to add the port in your url"},{"owner":{"account_id":12546089,"reputation":327,"user_id":9129342,"display_name":"paul035"},"score":0,"creation_date":1681021466,"post_id":53383570,"comment_id":133990336,"body_markdown":"You can refer this, https://paulsofts.com/crud-operations-how-to-integrate-spring-boot-with-monogdb","body":"You can refer this, <a href=\"https://paulsofts.com/crud-operations-how-to-integrate-spring-boot-with-monogdb\" rel=\"nofollow noreferrer\">paulsofts.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11773221,"reputation":535,"user_id":8615621,"display_name":"Federico Gatti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542704706,"creation_date":1542704706,"answer_id":53389527,"question_id":53383570,"body_markdown":"Are you sure about your MongoDB URI? Usually, the URI has the form ```        mongodb://localhost:27017/foo```.\r\n\r\nIf you use **Spring-boot** instead of using a Configuration bean I suggest you use _application.properties_ file. In this file write a property likes ```spring.data.mongodb.uri=mongodb://localhost:27017/foo``` and **Spring-boot** automatically injects the properties in MongoClient without any configuration at the code level.","title":"Java Spring Boot MongoDB Configuration","body":"<p>Are you sure about your MongoDB URI? Usually, the URI has the form <code>mongodb://localhost:27017/foo</code>.</p>\n\n<p>If you use <strong>Spring-boot</strong> instead of using a Configuration bean I suggest you use <em>application.properties</em> file. In this file write a property likes <code>spring.data.mongodb.uri=mongodb://localhost:27017/foo</code> and <strong>Spring-boot</strong> automatically injects the properties in MongoClient without any configuration at the code level.</p>\n"},{"tags":[],"owner":{"account_id":13570044,"reputation":412,"user_id":9789035,"display_name":"Gabriel Garc&#237;a Garrido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563261890,"creation_date":1563261890,"answer_id":57052036,"question_id":53383570,"body_markdown":"Try as @Federico Gatti said by configuring Mongo iuth properties file:\r\n\r\n```\r\nspring.data.mongodb.database=MongoDatabaseName\r\nspring.data.mongodb.host=localhost\r\nspring.data.mongodb.port=27017\r\n```","title":"Java Spring Boot MongoDB Configuration","body":"<p>Try as @Federico Gatti said by configuring Mongo iuth properties file:</p>\n\n<pre><code>spring.data.mongodb.database=MongoDatabaseName\nspring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15369366,"reputation":19,"user_id":12046321,"display_name":"Hitesh Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642215866,"creation_date":1642215866,"answer_id":70718573,"question_id":53383570,"body_markdown":"Use properties file to configure your database with application and let the spring boot do everything for you with db configuration.\r\n\r\nGo to the resources/application.properties file, and add the following content to it:\r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=mydatabase\r\n\r\nThat will allow your application to correctly connect to your MongoDB database.\r\n\r\nAlso, Go to the main application class, and add the following annotation before its declaration:\r\n\r\n    @EnableMongoRepositories(basePackageClasses = foo.class)\r\n","title":"Java Spring Boot MongoDB Configuration","body":"<p>Use properties file to configure your database with application and let the spring boot do everything for you with db configuration.</p>\n<p>Go to the resources/application.properties file, and add the following content to it:</p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=mydatabase\n</code></pre>\n<p>That will allow your application to correctly connect to your MongoDB database.</p>\n<p>Also, Go to the main application class, and add the following annotation before its declaration:</p>\n<pre><code>@EnableMongoRepositories(basePackageClasses = foo.class)\n</code></pre>\n"}],"owner":{"account_id":14784446,"reputation":11,"user_id":10677082,"display_name":"Djypzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1642215866,"creation_date":1542666518,"question_id":53383570,"body_markdown":"I am new and I try to develop an API with Java Spring Boot.\r\nI have a problem with MongoDB Config and I have no problem in another project. I don&#39;t understand why.\r\nI have already looked but the solutions proposed do not work.\r\n\r\n**SBApplication.java :**  \r\n\r\n    package basket;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration;\r\n\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n    @SpringBootApplication (scanBasePackages = { &quot;basket.instrastructure.dao&quot; })\r\n    @EnableSwagger2\r\n    @EnableAutoConfiguration //(exclude={MongoAutoConfiguration.class, MongoRepositoriesAutoConfiguration.class})\r\n    public class SBApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SBApplication.class, args);\r\n        }\r\n    }\r\n\r\n**BasketRepository.java :** \r\n\r\n    package basket.infrastructure.dao;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import basket.domaine.model.Basket;\r\n\r\n    @Repository \r\n    public interface BasketRepository extends MongoRepository&lt;Basket, Long&gt; {\r\n\t\r\n        public ArrayList&lt;Basket&gt; findAll();\r\n        public Basket findById(String id);    \r\n    }\r\n\r\n**ItemRepository.java :** \r\n\r\n    package basket.infrastructure.dao;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import basket.domaine.model.Item;\r\n\r\n\r\n    @Repository\r\n    public interface ItemRepository extends MongoRepository&lt;Item, Long&gt; {\r\n        public Item findByName(String name);\r\n        public ArrayList&lt;Item&gt; findAll();\r\n        public Item findById(String id);\r\n    }\r\n\r\n**MongoConfig.java :**\r\n\r\n    package basket.application.components;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.mongodb.config.AbstractMongoConfiguration;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n\r\n    import com.mongodb.Mongo;\r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.MongoClientURI;\r\n    import com.mongodb.client.MongoDatabase;\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories (&quot;basket.infrastructure.dao&quot;)\r\n    public class MongoConfig extends  AbstractMongoConfiguration {\r\n\r\n\t    @Override\r\n\t    @Bean\r\n\t    public Mongo mongo() throws Exception {\r\n\t\t    MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://owner:AAAAA@basketcluster-feebu.mongodb.net/test?retryWrites=true&quot;);\r\n\t\t    MongoClient mongoClient = new MongoClient(uri);\r\n\t\t    MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\r\n\t\t    return mongoClient;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    protected String getDatabaseName() {\r\n\t\t    return &quot;test&quot;;\r\n\t    }\r\n    }\r\n\r\n\r\nAnd I have this error \r\n\r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n\t    at com.mongodb.connection.SocketStream.open(SocketStream.java:63) ~[mongodb-driver-core-3.4.2.jar:na]\r\n\t    at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115) ~[mongodb-driver-core-3.4.2.jar:na]\r\n\t    at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113) ~[mongodb-driver-core-3.4.2.jar:na]\r\n\t    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\t    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_181]\r\n\t    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_181]\r\n\t    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_181]\r\n\t    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_181]\r\n\t    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_181]\r\n\t    at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_181]\r\n\t    at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57) ~[mongodb-driver-core-3.4.2.jar:na]\r\n\t    at com.mongodb.connection.SocketStream.open(SocketStream.java:58) ~[mongodb-driver-core-3.4.2.jar:na]\r\n\t    ... 3 common frames omitted\r\n\r\n\r\nCan you help me to understand my mistake.\r\nThank you, any help is very much appreciated!","title":"Java Spring Boot MongoDB Configuration","body":"<p>I am new and I try to develop an API with Java Spring Boot.\nI have a problem with MongoDB Config and I have no problem in another project. I don't understand why.\nI have already looked but the solutions proposed do not work.</p>\n\n<p><strong>SBApplication.java :</strong>  </p>\n\n<pre><code>package basket;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration;\n\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@SpringBootApplication (scanBasePackages = { \"basket.instrastructure.dao\" })\n@EnableSwagger2\n@EnableAutoConfiguration //(exclude={MongoAutoConfiguration.class, MongoRepositoriesAutoConfiguration.class})\npublic class SBApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SBApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>BasketRepository.java :</strong> </p>\n\n<pre><code>package basket.infrastructure.dao;\n\nimport java.util.ArrayList;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\nimport basket.domaine.model.Basket;\n\n@Repository \npublic interface BasketRepository extends MongoRepository&lt;Basket, Long&gt; {\n\n    public ArrayList&lt;Basket&gt; findAll();\n    public Basket findById(String id);    \n}\n</code></pre>\n\n<p><strong>ItemRepository.java :</strong> </p>\n\n<pre><code>package basket.infrastructure.dao;\n\nimport java.util.ArrayList;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\nimport basket.domaine.model.Item;\n\n\n@Repository\npublic interface ItemRepository extends MongoRepository&lt;Item, Long&gt; {\n    public Item findByName(String name);\n    public ArrayList&lt;Item&gt; findAll();\n    public Item findById(String id);\n}\n</code></pre>\n\n<p><strong>MongoConfig.java :</strong></p>\n\n<pre><code>package basket.application.components;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.config.AbstractMongoConfiguration;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\nimport com.mongodb.Mongo;\nimport com.mongodb.MongoClient;\nimport com.mongodb.MongoClientURI;\nimport com.mongodb.client.MongoDatabase;\n\n@Configuration\n@EnableMongoRepositories (\"basket.infrastructure.dao\")\npublic class MongoConfig extends  AbstractMongoConfiguration {\n\n    @Override\n    @Bean\n    public Mongo mongo() throws Exception {\n        MongoClientURI uri = new MongoClientURI(\"mongodb+srv://owner:AAAAA@basketcluster-feebu.mongodb.net/test?retryWrites=true\");\n        MongoClient mongoClient = new MongoClient(uri);\n        MongoDatabase database = mongoClient.getDatabase(\"test\");\n        return mongoClient;\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return \"test\";\n    }\n}\n</code></pre>\n\n<p>And I have this error </p>\n\n<pre><code>com.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.connection.SocketStream.open(SocketStream.java:63) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113) ~[mongodb-driver-core-3.4.2.jar:na]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_181]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_181]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_181]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_181]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_181]\n    at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_181]\n    at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.connection.SocketStream.open(SocketStream.java:58) ~[mongodb-driver-core-3.4.2.jar:na]\n    ... 3 common frames omitted\n</code></pre>\n\n<p>Can you help me to understand my mistake.\nThank you, any help is very much appreciated!</p>\n"},{"tags":["java","reactjs","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":5492101,"reputation":16,"user_id":4364786,"display_name":"bhanuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642215373,"creation_date":1642215373,"answer_id":70718548,"question_id":70718256,"body_markdown":"I can see a few issues as below,\r\n1. When you try to call via a web browser it&#39;s always calling as HTTP GET. But in your RestController, there is no GET method. It only has a POST method. Try to use Postman or CURL to call post method instead of GET.  \r\n2. Your URL is wrong. Since you appending `/n` for the PostMapping annotation it should be (`http://localhost:3000/api/n`)\r\n3. Only you want fullName as request body try to use PathVariable instead. No point to use RequestBody only for 1 parameter. Sample code as below.\r\n\r\n        @PostMapping(value=&quot;/{fullName}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        public String postBody(@PathVariable String fullName) {\r\n            System.out.println(fullName);\r\n            return &quot;Hello &quot; + fullName; //returns response\r\n        }","title":"PostMapping annotation causes a whitelabel error page in SpringBoot","body":"<p>I can see a few issues as below,</p>\n<ol>\n<li><p>When you try to call via a web browser it's always calling as HTTP GET. But in your RestController, there is no GET method. It only has a POST method. Try to use Postman or CURL to call post method instead of GET.</p>\n</li>\n<li><p>Your URL is wrong. Since you appending <code>/n</code> for the PostMapping annotation it should be (<code>http://localhost:3000/api/n</code>)</p>\n</li>\n<li><p>Only you want fullName as request body try to use PathVariable instead. No point to use RequestBody only for 1 parameter. Sample code as below.</p>\n<pre><code> @PostMapping(value=&quot;/{fullName}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n public String postBody(@PathVariable String fullName) {\n     System.out.println(fullName);\n     return &quot;Hello &quot; + fullName; //returns response\n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":22024075,"reputation":11,"user_id":16292377,"display_name":"Arman Sherwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642215373,"creation_date":1642210600,"question_id":70718256,"body_markdown":" I&#39;m new to Java and react web development and I&#39;m having an issue with my postBody method. After sending a post request, the console prints the data posted from my frontend correctly, but it shows a whitelabel error page that says (type=Not Found, status=404) in localhost:8080/api and (type=Method Not Allowed, status=405) in localhost:8080/api/data. Below is the HelloController code.\r\n\r\n    package com.java.java.practice;\r\n\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class HelloController {\r\n\t//this performes a post and get request\r\n\t@CrossOrigin(origins = &quot;http://localhost:3000/api&quot;)\r\n\t@PostMapping(value=&quot;/n&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\t\tpublic String postBody(@RequestBody String fullName) {\r\n\t\t\tSystem.out.println(fullName);\r\n\t\t\treturn &quot;Hello &quot; + fullName; //returns response\r\n\t\t}\r\n\r\n    }\r\nBelow is the main application\r\n\r\n    package com.java.java.practice;\r\n\r\n\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages=&quot;com.java.java.practice&quot;)\r\n    public class PracticeApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PracticeApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\nThe weird thing is, when I replace my HelloController code with the one posted underneath, the whitelabel page goes away and shows text on the screen.\r\n\r\n    package com.java.java.practice;\r\n\r\n\r\n\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n\r\n\r\n    @RestController\r\n    public class HelloController {\r\n\t//this performes a post and get request\r\n\t@CrossOrigin(origins = &quot;http://localhost:3000/api&quot;)\r\n\t@RequestMapping(&quot;/api&quot;)\r\n\t\tpublic String postBody() {\r\n\t\t\treturn &quot;Hello&quot;; //returns response\r\n\t\t}\r\n\r\n     }\r\n\r\nAny help would be much appreciated.\r\n\r\n\r\n","title":"PostMapping annotation causes a whitelabel error page in SpringBoot","body":"<p>I'm new to Java and react web development and I'm having an issue with my postBody method. After sending a post request, the console prints the data posted from my frontend correctly, but it shows a whitelabel error page that says (type=Not Found, status=404) in localhost:8080/api and (type=Method Not Allowed, status=405) in localhost:8080/api/data. Below is the HelloController code.</p>\n<pre><code>package com.java.java.practice;\n\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.cors.CorsConfiguration;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Map;\n\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class HelloController {\n//this performes a post and get request\n@CrossOrigin(origins = &quot;http://localhost:3000/api&quot;)\n@PostMapping(value=&quot;/n&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public String postBody(@RequestBody String fullName) {\n        System.out.println(fullName);\n        return &quot;Hello &quot; + fullName; //returns response\n    }\n\n}\n</code></pre>\n<p>Below is the main application</p>\n<pre><code>package com.java.java.practice;\n\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages=&quot;com.java.java.practice&quot;)\npublic class PracticeApplication {\npublic static void main(String[] args) {\n    SpringApplication.run(PracticeApplication.class, args);\n}\n\n}\n</code></pre>\n<p>The weird thing is, when I replace my HelloController code with the one posted underneath, the whitelabel page goes away and shows text on the screen.</p>\n<pre><code>package com.java.java.practice;\n\n\n\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.cors.CorsConfiguration;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Map;\n\n\n@RestController\npublic class HelloController {\n//this performes a post and get request\n@CrossOrigin(origins = &quot;http://localhost:3000/api&quot;)\n@RequestMapping(&quot;/api&quot;)\n    public String postBody() {\n        return &quot;Hello&quot;; //returns response\n    }\n\n }\n</code></pre>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","generics","extends"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1642209690,"post_id":70717985,"comment_id":125018215,"body_markdown":"As a general note, due to type erasure, you *can&#39;t* use generic type variables in any runtime context, including `instanceof` checks, `new` calls, array allocations, etc. I&#39;m honestly surprised `(h instanceof G)` compiles *at all*.","body":"As a general note, due to type erasure, you <i>can&#39;t</i> use generic type variables in any runtime context, including <code>instanceof</code> checks, <code>new</code> calls, array allocations, etc. I&#39;m honestly surprised <code>(h instanceof G)</code> compiles <i>at all</i>."},{"owner":{"account_id":6770357,"reputation":1169,"user_id":6393903,"display_name":"Soundbytes"},"score":0,"creation_date":1642213870,"post_id":70717985,"comment_id":125018644,"body_markdown":"Interestingly there is a type check at compile time. The condition (g instanceof H) won&#39;t compile because it contradicts the inheritance hierarchy defined by the function.","body":"Interestingly there is a type check at compile time. The condition (g instanceof H) won&#39;t compile because it contradicts the inheritance hierarchy defined by the function."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642215248,"creation_date":1642208244,"answer_id":70718073,"question_id":70717985,"body_markdown":"\r\nIt compiles, because `IF` is a &quot;upper bound&quot; for *both* `H` *and* `G`.\r\n\r\nMeans: Generics are not that &quot;dynamic&quot; as we think, and we could also write:\r\n```lang-java\r\nstatic &lt;G extends IF, H extends IF&gt; ... // just pointing out that G *could* differ from H \r\n```\r\n\r\n\r\n----------\r\n\r\nDisregarding null check, is this, what you want:\r\n```lang-java\r\n  static &lt;G extends IF, H extends G&gt; String justTesting(G g, H h) {\r\n    if (g.getClass().isAssignableFrom(h.getClass())) {\r\n      return h.get() + &quot; (&quot; + h.getClass() + &quot;) is instance of &quot; + g.getClass() + &quot;. &quot;;\r\n    } else {\r\n      return &quot;it is the other way round!&quot;;\r\n    }\r\n  }\r\n```\r\n? \r\n\r\n[`Class.isAssignableFrom()`][1]\r\n\r\n\r\n----------\r\n\r\n\r\nPrints:\r\n```lang-txt\r\nbar (class com.example.test.generics.Main$Bar) is instance of class com.example.test.generics.Main$Foo. \r\nit is the other way round!\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nAnd watch out with &quot;anonymous classes&quot;, e.g.:\r\n```lang-java\r\nSystem.out.println(\r\n  justTesting(\r\n    new IF() {\r\n      @Override\r\n      public String get() {\r\n        return &quot;haha&quot;;\r\n      }\r\n    }, foo)\r\n);\r\n\r\nSystem.out.println(\r\n  justTesting(\r\n    foo, new IF() {\r\n      @Override\r\n      public String get() {\r\n        return &quot;haha&quot;;\r\n      }\r\n    }\r\n  )\r\n);\r\n```\r\nprint both &quot;it is the other way round!&quot;, so the decision here is not that &quot;binary&quot;.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#isAssignableFrom(java.lang.Class)","title":"Class hierarchy problem with java generics","body":"<p>It compiles, because <code>IF</code> is a &quot;upper bound&quot; for <em>both</em> <code>H</code> <em>and</em> <code>G</code>.</p>\n<p>Means: Generics are not that &quot;dynamic&quot; as we think, and we could also write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;G extends IF, H extends IF&gt; ... // just pointing out that G *could* differ from H \n</code></pre>\n<hr />\n<p>Disregarding null check, is this, what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  static &lt;G extends IF, H extends G&gt; String justTesting(G g, H h) {\n    if (g.getClass().isAssignableFrom(h.getClass())) {\n      return h.get() + &quot; (&quot; + h.getClass() + &quot;) is instance of &quot; + g.getClass() + &quot;. &quot;;\n    } else {\n      return &quot;it is the other way round!&quot;;\n    }\n  }\n</code></pre>\n<p>?</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Class.isAssignableFrom()</code></a></p>\n<hr />\n<p>Prints:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>bar (class com.example.test.generics.Main$Bar) is instance of class com.example.test.generics.Main$Foo. \nit is the other way round!\n</code></pre>\n<hr />\n<p>And watch out with &quot;anonymous classes&quot;, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n  justTesting(\n    new IF() {\n      @Override\n      public String get() {\n        return &quot;haha&quot;;\n      }\n    }, foo)\n);\n\nSystem.out.println(\n  justTesting(\n    foo, new IF() {\n      @Override\n      public String get() {\n        return &quot;haha&quot;;\n      }\n    }\n  )\n);\n</code></pre>\n<p>print both &quot;it is the other way round!&quot;, so the decision here is not that &quot;binary&quot;.</p>\n"}],"owner":{"account_id":6770357,"reputation":1169,"user_id":6393903,"display_name":"Soundbytes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70718073,"answer_count":1,"score":3,"last_activity_date":1642215248,"creation_date":1642207059,"question_id":70717985,"body_markdown":"I have run into a problem with class hierarchy in a generic function. \r\nI need to enforce that, with the two classes `T` and `U` specified in the function, one is the child of the other.\r\nI have found to much surprise that the construct `&lt;T extends U&gt;` does not at all enforce a parent child relation of `U` and `T`. \r\nInstead it also allows `T` and `U` to be the same type.    \r\n\r\nThis creates a problem because it looks like in a case where `U extends T` Java will not indicate the error but instead it will happily deduce both objects to be of type `T` (which is true no doubt) and then compile and run the code without any complaint.\r\n\r\nHere is an example that illustrates the issue:\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Foo foo = new Foo();\r\n          Bar bar = new Bar();\r\n\r\n          // This code is written as intended\r\n          System.out.println( justTesting(foo, bar) );\r\n    \r\n          // This line shouldn&#39;t even compile\r\n          System.out.println( justTesting(bar, foo) );\r\n        }\r\n        \r\n        static interface IF {\r\n           String get(); \r\n        }\r\n        \r\n        static class Foo implements IF {\r\n           public String get(){return &quot;foo&quot;;} \r\n        }\r\n        \r\n        static class Bar extends Foo {\r\n            public String get(){return &quot;bar&quot;;}\r\n            \r\n        }\r\n        \r\n        static &lt;G extends IF , H extends G&gt; String justTesting(G g, H h) {\r\n            if (h instanceof G)\r\n                return h.get() + &quot; (&quot; + h.getClass() + &quot;) is instance of &quot; + g.getClass() + &quot;. &quot;;\r\n            else\r\n                return &quot;it is the other way round!&quot;;\r\n        }\r\n    }\r\n\r\nAnd this is the output:\r\n\r\n    bar (class MyClass$Bar) is instance of class MyClass$Foo. \r\n    foo (class MyClass$Foo) is instance of class MyClass$Bar. \r\n\r\nI need to ensure that the parent child relation of the generic classes is observed by  the compiler. Is there any way to do that?  ","title":"Class hierarchy problem with java generics","body":"<p>I have run into a problem with class hierarchy in a generic function.\nI need to enforce that, with the two classes <code>T</code> and <code>U</code> specified in the function, one is the child of the other.\nI have found to much surprise that the construct <code>&lt;T extends U&gt;</code> does not at all enforce a parent child relation of <code>U</code> and <code>T</code>.\nInstead it also allows <code>T</code> and <code>U</code> to be the same type.</p>\n<p>This creates a problem because it looks like in a case where <code>U extends T</code> Java will not indicate the error but instead it will happily deduce both objects to be of type <code>T</code> (which is true no doubt) and then compile and run the code without any complaint.</p>\n<p>Here is an example that illustrates the issue:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      Foo foo = new Foo();\n      Bar bar = new Bar();\n\n      // This code is written as intended\n      System.out.println( justTesting(foo, bar) );\n\n      // This line shouldn't even compile\n      System.out.println( justTesting(bar, foo) );\n    }\n    \n    static interface IF {\n       String get(); \n    }\n    \n    static class Foo implements IF {\n       public String get(){return &quot;foo&quot;;} \n    }\n    \n    static class Bar extends Foo {\n        public String get(){return &quot;bar&quot;;}\n        \n    }\n    \n    static &lt;G extends IF , H extends G&gt; String justTesting(G g, H h) {\n        if (h instanceof G)\n            return h.get() + &quot; (&quot; + h.getClass() + &quot;) is instance of &quot; + g.getClass() + &quot;. &quot;;\n        else\n            return &quot;it is the other way round!&quot;;\n    }\n}\n</code></pre>\n<p>And this is the output:</p>\n<pre><code>bar (class MyClass$Bar) is instance of class MyClass$Foo. \nfoo (class MyClass$Foo) is instance of class MyClass$Bar. \n</code></pre>\n<p>I need to ensure that the parent child relation of the generic classes is observed by  the compiler. Is there any way to do that?</p>\n"},{"tags":["java","postgresql","spring-boot","scheduling","quartz"],"comments":[{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":0,"creation_date":1638226083,"post_id":70161025,"comment_id":124027678,"body_markdown":"Do you see the CRON details being populated in CRON job table?","body":"Do you see the CRON details being populated in CRON job table?"},{"owner":{"account_id":13411174,"reputation":63,"user_id":9677571,"display_name":"smith"},"score":0,"creation_date":1638245475,"post_id":70161025,"comment_id":124031043,"body_markdown":"@BrianC No the CRON details are not getting populated in the CRON job table. I have attached the sceenshots of the each table data. I can see data in only two tables qrtz_scheduler_state and qrtz_locks.","body":"@BrianC No the CRON details are not getting populated in the CRON job table. I have attached the sceenshots of the each table data. I can see data in only two tables qrtz_scheduler_state and qrtz_locks."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1638342682,"post_id":70161025,"comment_id":124059851,"body_markdown":"TestJob isn&#39;t fired because you don&#39;t have a code that launches it as a Quartz job. Placing `@Component` on TestJob isn&#39;t enough","body":"TestJob isn&#39;t fired because you don&#39;t have a code that launches it as a Quartz job. Placing <code>@Component</code> on TestJob isn&#39;t enough"},{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":0,"creation_date":1638464938,"post_id":70161025,"comment_id":124101502,"body_markdown":"I see where you created the trigger, but do not see any place a scheduler was created and that trigger was attached to it.","body":"I see where you created the trigger, but do not see any place a scheduler was created and that trigger was attached to it."},{"owner":{"account_id":13411174,"reputation":63,"user_id":9677571,"display_name":"smith"},"score":0,"creation_date":1638495134,"post_id":70161025,"comment_id":124110304,"body_markdown":"@BrianC It is attached. If you see clearly in the ConfigQuartz class in SchedulerBeanFactory I am doing factory.setTriggers(triggers.toArray(new Trigger[triggers.size()])) where triggers is the list of all the triggers.","body":"@BrianC It is attached. If you see clearly in the ConfigQuartz class in SchedulerBeanFactory I am doing factory.setTriggers(triggers.toArray(new Trigger[triggers.size()])) where triggers is the list of all the triggers."},{"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"score":0,"creation_date":1667993383,"post_id":70161025,"comment_id":131298817,"body_markdown":"@smith were you able to solve this problem.","body":"@smith were you able to solve this problem."}],"answers":[{"tags":[],"owner":{"account_id":23943214,"reputation":11,"user_id":17935943,"display_name":"Sameer Pande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642215219,"creation_date":1642190252,"answer_id":70715923,"question_id":70161025,"body_markdown":"Your TriggerListener class (`SimpleTriggerFactoryBean`) doesn&#39;t seem to be implementing `TriggerListener` interface of quartz. \r\n\r\nYou can create custom class which implements `TriggerListener` and see if that works.\r\n\r\n[Reference](https://github.com/sameer766/covid-vaccine-notifier/blob/master/scheduler/src/main/java/com/sameer/scheduler/service/SimpleTriggerListener.java)","title":"How to schedule the Quartz cron jobs on spring boot app startup?","body":"<p>Your TriggerListener class (<code>SimpleTriggerFactoryBean</code>) doesn't seem to be implementing <code>TriggerListener</code> interface of quartz.</p>\n<p>You can create custom class which implements <code>TriggerListener</code> and see if that works.</p>\n<p><a href=\"https://github.com/sameer766/covid-vaccine-notifier/blob/master/scheduler/src/main/java/com/sameer/scheduler/service/SimpleTriggerListener.java\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":13411174,"reputation":63,"user_id":9677571,"display_name":"smith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3714,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642215219,"creation_date":1638218224,"question_id":70161025,"body_markdown":"I am integrating Quartz with Spring boot and postgres. \r\nI have created all the required tables for quartz.\r\n\r\n**Issue** : The application starts but the Job is not getting executed as per the cron.\r\n\r\nI want that the jobs should be **automatically scheduled on start-up** and should run as per the cron expression.\r\n\r\nBut right now the application starts and no trigger is fired.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe QuartzJobFactory class\r\n```\r\npublic class QuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\r\n\r\n    private transient AutowireCapableBeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n\r\n        beanFactory = applicationContext.getAutowireCapableBeanFactory();\r\n    }\r\n\r\n    @Override\r\n    protected Object createJobInstance(TriggerFiredBundle bundle) throws Exception {\r\n\r\n        final Object job = super.createJobInstance(bundle);\r\n        beanFactory.autowireBean(job);\r\n        return job;\r\n    }\r\n\r\n}\r\n```\r\nThe ConfigQuartz class\r\n```\r\n@Configuration\r\npublic class ConfigQuartz {\r\n\r\n    @Value(&quot;${quartz.dataSource.myDS.URL}&quot;)\r\n    String orgQuartzDatasourceMydsUrl;\r\n\r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    String orgQuartzDatasourceMydsUser;\r\n\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    String orgQuartzDatasourceMydsPassword;\r\n\r\n    @Value(&quot;${quartz.enabled}&quot;)\r\n    Boolean isQuartzEnabled;\r\n\r\n    private static List&lt;Trigger&gt; triggers = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @Bean\r\n    public JobFactory jobFactory(ApplicationContext applicationContext) {\r\n        QuartzJobFactory sampleJobFactory = new QuartzJobFactory();\r\n        sampleJobFactory.setApplicationContext(applicationContext);\r\n        return sampleJobFactory;\r\n    }\r\n\r\n    @Bean\r\n    public SchedulerFactoryBean schedulerFactoryBean(DataSource dataSource, JobFactory jobFactory)\r\n            throws IOException {\r\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\r\n        factory.setOverwriteExistingJobs(true);\r\n        factory.setAutoStartup(isQuartzEnabled);\r\n//         factory.setDataSource(dataSource);\r\n        factory.setJobFactory(jobFactory);\r\n        factory.setQuartzProperties(quartzProperties());\r\n        factory.setTriggers(triggers.toArray(new Trigger[triggers.size()]));\r\n\r\n        return factory;\r\n    }\r\n\r\n    public Properties setQuartzProperties() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;org.quartz.dataSource.myDS.URL&quot;,orgQuartzDatasourceMydsUrl);\r\n        properties.setProperty(&quot;org.quartz.dataSource.myDS.user&quot;,orgQuartzDatasourceMydsUser);\r\n        properties.setProperty(&quot;org.quartz.dataSource.myDS.password&quot;,orgQuartzDatasourceMydsPassword);\r\n        return properties;\r\n    }\r\n\r\n    @Bean\r\n    public Properties quartzProperties() throws IOException {\r\n        PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\r\n        propertiesFactoryBean.setLocation(new ClassPathResource(&quot;quartz.properties&quot;));\r\n        propertiesFactoryBean.setProperties(setQuartzProperties());\r\n        propertiesFactoryBean.afterPropertiesSet();\r\n        return propertiesFactoryBean.getObject();\r\n    }\r\n\r\n    public static SimpleTriggerFactoryBean createTrigger(JobDetail jobDetail, long pollFrequencyMs,\r\n                                                         String triggerName) {\r\n        SimpleTriggerFactoryBean factoryBean = new SimpleTriggerFactoryBean();\r\n        factoryBean.setJobDetail(jobDetail);\r\n        factoryBean.setStartDelay(0L);\r\n        factoryBean.setRepeatInterval(pollFrequencyMs);\r\n        factoryBean.setRepeatCount(SimpleTrigger.REPEAT_INDEFINITELY);\r\n        factoryBean.setName(triggerName);\r\n        // in case of misfire, ignore all missed triggers and continue :\r\n        factoryBean.setMisfireInstruction(\r\n                SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT);\r\n        return factoryBean;\r\n    }\r\n\r\n    // Use this method for creating cron triggers instead of simple triggers:\r\n    public static CronTriggerFactoryBean createCronTrigger(JobDetail jobDetail, String cronExpression,\r\n                                                           String triggerName) throws Exception {\r\n        CronTriggerFactoryBean factoryBean = new CronTriggerFactoryBean();\r\n        factoryBean.setJobDetail(jobDetail);\r\n        factoryBean.setCronExpression(cronExpression);\r\n        factoryBean.setMisfireInstruction(SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n        factoryBean.setName(triggerName);\r\n        try {\r\n            factoryBean.afterPropertiesSet();\r\n        } catch (ParseException e) {\r\n            throw new Exception(e.getMessage());\r\n        }\r\n        triggers.add(factoryBean.getObject());\r\n        return factoryBean;\r\n    }\r\n\r\n    public static JobDetailFactoryBean createJobDetail(Class jobClass) {\r\n        JobDetailFactoryBean factoryBean = new JobDetailFactoryBean();\r\n        factoryBean.setJobClass(jobClass);\r\n        // job has to be durable to be stored in DB:\r\n        factoryBean.setDurability(true);\r\n        return factoryBean;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe QuartzJobFactory class\r\n```\r\npublic class QuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\r\n\r\n    private transient AutowireCapableBeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n\r\n        beanFactory = applicationContext.getAutowireCapableBeanFactory();\r\n    }\r\n\r\n    @Override\r\n    protected Object createJobInstance(TriggerFiredBundle bundle) throws Exception {\r\n\r\n        final Object job = super.createJobInstance(bundle);\r\n        beanFactory.autowireBean(job);\r\n        return job;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe CronExpression class\r\n```\r\npublic class CronExpression {\r\n    private static final Map&lt;String, String&gt; cronExpressionMap = ImmutableMap\r\n            .&lt;String, String&gt;builder()\r\n            .put(TestJob.CLASS_NAME, &quot;* 0 0 ? * * *&quot;)\r\n            .build();\r\n\r\n    public static String get(String key) {\r\n        return cronExpressionMap.get(key);\r\n    }\r\n}\r\n```\r\nThe TestJob class\r\n```\r\n@Component\r\n@DisallowConcurrentExecution\r\npublic class TestJob implements Job {\r\n\r\n    public static final String CLASS_NAME = &quot;TestJob&quot;;\r\n\r\n    private final String JOB_BEAN_NAME = CLASS_NAME + AppConstants.QUARTZ_JOB_SUFFIX;\r\n\r\n    private final String TRIGGER_BEAN_NAME = CLASS_NAME + AppConstants.QUARTZ_TRIGGER_SUFFIX;\r\n\r\n    @Override\r\n    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {\r\n        LocalDateTime start = LocalDateTime.now();\r\n        System.out.println(&quot;*************** execute method is running *******&quot;);\r\n    }\r\n\r\n    @Bean(name = JOB_BEAN_NAME)\r\n    public JobDetailFactoryBean sampleJob() {\r\n        return ConfigQuartz.createJobDetail(this.getClass());\r\n    }\r\n\r\n    @Bean(name = TRIGGER_BEAN_NAME)\r\n    public CronTriggerFactoryBean sampleJobTrigger(\r\n            @Qualifier(JOB_BEAN_NAME) JobDetailFactoryBean jobDetail) throws Exception {\r\n        return ConfigQuartz.createCronTrigger(jobDetail.getObject(), CronExpression.get(CLASS_NAME),\r\n                CLASS_NAME);\r\n    }\r\n}\r\n\r\n```\r\nThe main class\r\n```\r\nEnableConfigurationProperties\r\n@EntityScan(basePackages = {&quot;com.example&quot;})\r\n@ComponentScan({&quot;com.example&quot;})\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class QuartzSchedulerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(QuartzSchedulerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/quartz\r\nspring.datasource.username=postgres\r\nspring.datasource.password=mysecretpassword\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.database=POSTGRESQL\r\nspring.datasource.platform=postgres\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.datasource.hikari.maximum-pool-size=5\r\n\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\r\n\r\nquartz.dataSource.myDS.URL=jdbc:postgresql://localhost:5432/quartz\r\nquartz.enabled=true\r\n```\r\n\r\nThe quartz.properties\r\n```\r\n#============================================================================\r\n# Configure Main Scheduler Properties\r\n#============================================================================\r\norg.quartz.scheduler.instanceName = PropScheduler\r\norg.quartz.scheduler.instanceId = 10\r\n#org.quartz.scheduler.instanceId = AUTO\r\norg.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool\r\norg.quartz.threadPool.threadCount = 10\r\n#============================================================================\r\n# Configure JobStore\r\n#============================================================================\r\norg.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX\r\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\norg.quartz.jobStore.useProperties = false\r\norg.quartz.jobStore.dataSource=myDS\r\n\r\norg.quartz.jobStore.isClustered = true\r\n\r\norg.quartz.jobStore.clusterCheckinInterval = 5000\r\norg.quartz.scheduler.name=test-schedulers\r\n\r\n#============================================================================\r\n# Configure Datasources\r\n#============================================================================\r\n\r\norg.quartz.dataSource.myDS.driver=org.postgresql.Driver\r\n\r\norg.quartz.dataSource.myDS.maxConnections = 5\r\norg.quartz.dataSource.myDS.validationQuery = select 1\r\n\r\n#============================================================================\r\n# Configure trigger history loging , enble if needed more information regaring triggers\r\n#============================================================================\r\n#org.quartz.plugin.triggerHistory.class=org.quartz.plugins.history.LoggingTriggerHistoryPlugin\r\n#org.quartz.plugin.triggerHistory.triggerFiredMessage=Trigger [{1}.{0}] fired job [{6}.{5}] scheduled at: {2, date, dd-MM-yyyy HH:mm:ss.SSS}, next scheduled at: {3, date, dd-MM-yyyy HH:mm:ss.SSS}\r\n#org.quartz.plugin.triggerHistory.triggerCompleteMessage=Trigger [{1}.{0}] completed firing job [{6}.{5}] with resulting trigger instruction code: {9}. Next scheduled at: {3, date, dd-MM-yyyy HH:mm:ss.SSS}\r\n#org.quartz.plugin.triggerHistory.triggerMisfiredMessage=Trigger [{1}.{0}] misfired job [{6}.{5}]. Should have fired at: {3, date, dd-MM-yyyy HH:mm:ss.SSS}\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n[![enter image description here][7]][7]\r\n\r\n[![enter image description here][8]][8]\r\n\r\n[![enter image description here][9]][9]\r\n\r\n[![enter image description here][10]][10]\r\n\r\n[![enter image description here][11]][11]\r\n\r\n[![enter image description here][12]][12]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/22YOc.jpg\r\n  [2]: https://i.stack.imgur.com/SP2CS.png\r\n  [3]: https://i.stack.imgur.com/gfnPH.png\r\n  [4]: https://i.stack.imgur.com/b4Ar9.png\r\n  [5]: https://i.stack.imgur.com/TEQsP.png\r\n  [6]: https://i.stack.imgur.com/FXrqH.png\r\n  [7]: https://i.stack.imgur.com/duYcb.png\r\n  [8]: https://i.stack.imgur.com/ar7sC.png\r\n  [9]: https://i.stack.imgur.com/XJXXb.png\r\n  [10]: https://i.stack.imgur.com/H0L27.png\r\n  [11]: https://i.stack.imgur.com/o1eTC.png\r\n  [12]: https://i.stack.imgur.com/F6D31.png","title":"How to schedule the Quartz cron jobs on spring boot app startup?","body":"<p>I am integrating Quartz with Spring boot and postgres.\nI have created all the required tables for quartz.</p>\n<p><strong>Issue</strong> : The application starts but the Job is not getting executed as per the cron.</p>\n<p>I want that the jobs should be <strong>automatically scheduled on start-up</strong> and should run as per the cron expression.</p>\n<p>But right now the application starts and no trigger is fired.</p>\n<p><a href=\"https://i.stack.imgur.com/22YOc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/22YOc.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The QuartzJobFactory class</p>\n<pre><code>public class QuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\n\n    private transient AutowireCapableBeanFactory beanFactory;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n\n        beanFactory = applicationContext.getAutowireCapableBeanFactory();\n    }\n\n    @Override\n    protected Object createJobInstance(TriggerFiredBundle bundle) throws Exception {\n\n        final Object job = super.createJobInstance(bundle);\n        beanFactory.autowireBean(job);\n        return job;\n    }\n\n}\n</code></pre>\n<p>The ConfigQuartz class</p>\n<pre><code>@Configuration\npublic class ConfigQuartz {\n\n    @Value(&quot;${quartz.dataSource.myDS.URL}&quot;)\n    String orgQuartzDatasourceMydsUrl;\n\n    @Value(&quot;${spring.datasource.username}&quot;)\n    String orgQuartzDatasourceMydsUser;\n\n    @Value(&quot;${spring.datasource.password}&quot;)\n    String orgQuartzDatasourceMydsPassword;\n\n    @Value(&quot;${quartz.enabled}&quot;)\n    Boolean isQuartzEnabled;\n\n    private static List&lt;Trigger&gt; triggers = new ArrayList&lt;&gt;();\n\n\n    @Bean\n    public JobFactory jobFactory(ApplicationContext applicationContext) {\n        QuartzJobFactory sampleJobFactory = new QuartzJobFactory();\n        sampleJobFactory.setApplicationContext(applicationContext);\n        return sampleJobFactory;\n    }\n\n    @Bean\n    public SchedulerFactoryBean schedulerFactoryBean(DataSource dataSource, JobFactory jobFactory)\n            throws IOException {\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\n        factory.setOverwriteExistingJobs(true);\n        factory.setAutoStartup(isQuartzEnabled);\n//         factory.setDataSource(dataSource);\n        factory.setJobFactory(jobFactory);\n        factory.setQuartzProperties(quartzProperties());\n        factory.setTriggers(triggers.toArray(new Trigger[triggers.size()]));\n\n        return factory;\n    }\n\n    public Properties setQuartzProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;org.quartz.dataSource.myDS.URL&quot;,orgQuartzDatasourceMydsUrl);\n        properties.setProperty(&quot;org.quartz.dataSource.myDS.user&quot;,orgQuartzDatasourceMydsUser);\n        properties.setProperty(&quot;org.quartz.dataSource.myDS.password&quot;,orgQuartzDatasourceMydsPassword);\n        return properties;\n    }\n\n    @Bean\n    public Properties quartzProperties() throws IOException {\n        PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\n        propertiesFactoryBean.setLocation(new ClassPathResource(&quot;quartz.properties&quot;));\n        propertiesFactoryBean.setProperties(setQuartzProperties());\n        propertiesFactoryBean.afterPropertiesSet();\n        return propertiesFactoryBean.getObject();\n    }\n\n    public static SimpleTriggerFactoryBean createTrigger(JobDetail jobDetail, long pollFrequencyMs,\n                                                         String triggerName) {\n        SimpleTriggerFactoryBean factoryBean = new SimpleTriggerFactoryBean();\n        factoryBean.setJobDetail(jobDetail);\n        factoryBean.setStartDelay(0L);\n        factoryBean.setRepeatInterval(pollFrequencyMs);\n        factoryBean.setRepeatCount(SimpleTrigger.REPEAT_INDEFINITELY);\n        factoryBean.setName(triggerName);\n        // in case of misfire, ignore all missed triggers and continue :\n        factoryBean.setMisfireInstruction(\n                SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT);\n        return factoryBean;\n    }\n\n    // Use this method for creating cron triggers instead of simple triggers:\n    public static CronTriggerFactoryBean createCronTrigger(JobDetail jobDetail, String cronExpression,\n                                                           String triggerName) throws Exception {\n        CronTriggerFactoryBean factoryBean = new CronTriggerFactoryBean();\n        factoryBean.setJobDetail(jobDetail);\n        factoryBean.setCronExpression(cronExpression);\n        factoryBean.setMisfireInstruction(SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n        factoryBean.setName(triggerName);\n        try {\n            factoryBean.afterPropertiesSet();\n        } catch (ParseException e) {\n            throw new Exception(e.getMessage());\n        }\n        triggers.add(factoryBean.getObject());\n        return factoryBean;\n    }\n\n    public static JobDetailFactoryBean createJobDetail(Class jobClass) {\n        JobDetailFactoryBean factoryBean = new JobDetailFactoryBean();\n        factoryBean.setJobClass(jobClass);\n        // job has to be durable to be stored in DB:\n        factoryBean.setDurability(true);\n        return factoryBean;\n    }\n\n}\n\n</code></pre>\n<p>The QuartzJobFactory class</p>\n<pre><code>public class QuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\n\n    private transient AutowireCapableBeanFactory beanFactory;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n\n        beanFactory = applicationContext.getAutowireCapableBeanFactory();\n    }\n\n    @Override\n    protected Object createJobInstance(TriggerFiredBundle bundle) throws Exception {\n\n        final Object job = super.createJobInstance(bundle);\n        beanFactory.autowireBean(job);\n        return job;\n    }\n\n}\n</code></pre>\n<p>The CronExpression class</p>\n<pre><code>public class CronExpression {\n    private static final Map&lt;String, String&gt; cronExpressionMap = ImmutableMap\n            .&lt;String, String&gt;builder()\n            .put(TestJob.CLASS_NAME, &quot;* 0 0 ? * * *&quot;)\n            .build();\n\n    public static String get(String key) {\n        return cronExpressionMap.get(key);\n    }\n}\n</code></pre>\n<p>The TestJob class</p>\n<pre><code>@Component\n@DisallowConcurrentExecution\npublic class TestJob implements Job {\n\n    public static final String CLASS_NAME = &quot;TestJob&quot;;\n\n    private final String JOB_BEAN_NAME = CLASS_NAME + AppConstants.QUARTZ_JOB_SUFFIX;\n\n    private final String TRIGGER_BEAN_NAME = CLASS_NAME + AppConstants.QUARTZ_TRIGGER_SUFFIX;\n\n    @Override\n    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {\n        LocalDateTime start = LocalDateTime.now();\n        System.out.println(&quot;*************** execute method is running *******&quot;);\n    }\n\n    @Bean(name = JOB_BEAN_NAME)\n    public JobDetailFactoryBean sampleJob() {\n        return ConfigQuartz.createJobDetail(this.getClass());\n    }\n\n    @Bean(name = TRIGGER_BEAN_NAME)\n    public CronTriggerFactoryBean sampleJobTrigger(\n            @Qualifier(JOB_BEAN_NAME) JobDetailFactoryBean jobDetail) throws Exception {\n        return ConfigQuartz.createCronTrigger(jobDetail.getObject(), CronExpression.get(CLASS_NAME),\n                CLASS_NAME);\n    }\n}\n\n</code></pre>\n<p>The main class</p>\n<pre><code>EnableConfigurationProperties\n@EntityScan(basePackages = {&quot;com.example&quot;})\n@ComponentScan({&quot;com.example&quot;})\n@SpringBootApplication\n@EnableScheduling\npublic class QuartzSchedulerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QuartzSchedulerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quartz\nspring.datasource.username=postgres\nspring.datasource.password=mysecretpassword\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\nspring.jpa.show-sql=true\nspring.jpa.database=POSTGRESQL\nspring.datasource.platform=postgres\nspring.datasource.driverClassName=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=none\nspring.datasource.hikari.maximum-pool-size=5\n\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\n\nquartz.dataSource.myDS.URL=jdbc:postgresql://localhost:5432/quartz\nquartz.enabled=true\n</code></pre>\n<p>The quartz.properties</p>\n<pre><code>#============================================================================\n# Configure Main Scheduler Properties\n#============================================================================\norg.quartz.scheduler.instanceName = PropScheduler\norg.quartz.scheduler.instanceId = 10\n#org.quartz.scheduler.instanceId = AUTO\norg.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.threadCount = 10\n#============================================================================\n# Configure JobStore\n#============================================================================\norg.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\norg.quartz.jobStore.useProperties = false\norg.quartz.jobStore.dataSource=myDS\n\norg.quartz.jobStore.isClustered = true\n\norg.quartz.jobStore.clusterCheckinInterval = 5000\norg.quartz.scheduler.name=test-schedulers\n\n#============================================================================\n# Configure Datasources\n#============================================================================\n\norg.quartz.dataSource.myDS.driver=org.postgresql.Driver\n\norg.quartz.dataSource.myDS.maxConnections = 5\norg.quartz.dataSource.myDS.validationQuery = select 1\n\n#============================================================================\n# Configure trigger history loging , enble if needed more information regaring triggers\n#============================================================================\n#org.quartz.plugin.triggerHistory.class=org.quartz.plugins.history.LoggingTriggerHistoryPlugin\n#org.quartz.plugin.triggerHistory.triggerFiredMessage=Trigger [{1}.{0}] fired job [{6}.{5}] scheduled at: {2, date, dd-MM-yyyy HH:mm:ss.SSS}, next scheduled at: {3, date, dd-MM-yyyy HH:mm:ss.SSS}\n#org.quartz.plugin.triggerHistory.triggerCompleteMessage=Trigger [{1}.{0}] completed firing job [{6}.{5}] with resulting trigger instruction code: {9}. Next scheduled at: {3, date, dd-MM-yyyy HH:mm:ss.SSS}\n#org.quartz.plugin.triggerHistory.triggerMisfiredMessage=Trigger [{1}.{0}] misfired job [{6}.{5}]. Should have fired at: {3, date, dd-MM-yyyy HH:mm:ss.SSS}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SP2CS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SP2CS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gfnPH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gfnPH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/b4Ar9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4Ar9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TEQsP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TEQsP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/FXrqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXrqH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/duYcb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/duYcb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ar7sC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ar7sC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XJXXb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJXXb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/H0L27.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H0L27.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/o1eTC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o1eTC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/F6D31.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F6D31.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","tomcat","weblogic"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1620362905,"post_id":67428269,"comment_id":119183817,"body_markdown":"Actually you don’t need do anything excepting producing a war instead of jar - you configure that in Pom.xml https://www.baeldung.com/spring-boot-war-tomcat-deploy","body":"Actually you don’t need do anything excepting producing a war instead of jar - you configure that in Pom.xml <a href=\"https://www.baeldung.com/spring-boot-war-tomcat-deploy\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-war-tomcat-deploy</a>"}],"answers":[{"tags":[],"owner":{"account_id":15369366,"reputation":19,"user_id":12046321,"display_name":"Hitesh Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642214947,"creation_date":1642214947,"answer_id":70718519,"question_id":67428269,"body_markdown":"Web logic to Tomcat conversion for spring boot application takes few steps like:\r\n1. Change in dependencies.\r\n2. Change in servletinitializer\r\n3. Deployment : generate jar/war file \r\n\r\nBelow is checklist \r\n\r\n![enter image description here](https://i.stack.imgur.com/fnXdx.jpg)\r\n\r\nTo get the things done in proper way I recommend you to visit the below post : \r\n\r\nhttps://dev.to/varshithv/migration-of-java-spring-boot-applications-from-weblogic-to-tomcat-server-jpd","title":"Java spring / spring boot Application : Web logic to Tomcat conversion","body":"<p>Web logic to Tomcat conversion for spring boot application takes few steps like:</p>\n<ol>\n<li>Change in dependencies.</li>\n<li>Change in servletinitializer</li>\n<li>Deployment : generate jar/war file</li>\n</ol>\n<p>Below is checklist</p>\n<p><img src=\"https://i.stack.imgur.com/fnXdx.jpg\" alt=\"enter image description here\" /></p>\n<p>To get the things done in proper way I recommend you to visit the below post :</p>\n<p><a href=\"https://dev.to/varshithv/migration-of-java-spring-boot-applications-from-weblogic-to-tomcat-server-jpd\" rel=\"nofollow noreferrer\">https://dev.to/varshithv/migration-of-java-spring-boot-applications-from-weblogic-to-tomcat-server-jpd</a></p>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642214947,"creation_date":1620354682,"question_id":67428269,"body_markdown":"I am asked to convert the existing Java spring / spring boot Application that runs on Web logic to Tomcat. I understood that dependencies need to be updated and main class needs an update. However I don&#39;t have the checklist for the Tomcat migration, hope someone could have gone through the same migration process and documented.\r\n\r\nCan you please assist with the checklist / process to be followed for migrating the existing Java spring / spring boot Application that runs on Web logic to Tomcat?\r\n\r\n","title":"Java spring / spring boot Application : Web logic to Tomcat conversion","body":"<p>I am asked to convert the existing Java spring / spring boot Application that runs on Web logic to Tomcat. I understood that dependencies need to be updated and main class needs an update. However I don't have the checklist for the Tomcat migration, hope someone could have gone through the same migration process and documented.</p>\n<p>Can you please assist with the checklist / process to be followed for migrating the existing Java spring / spring boot Application that runs on Web logic to Tomcat?</p>\n"},{"tags":["java","spring-boot","tomcat","connection-timeout","embedded-tomcat-8"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642214743,"creation_date":1642213937,"answer_id":70718450,"question_id":70718261,"body_markdown":"According to the [Tomcat 9.0 documentation][1], the `connection-timeout` is:\r\n\r\n&gt; The number of milliseconds this Connector will wait, after accepting a connection, for the request URI line to be presented. [...] Unless `disableUploadTimeout` is set to `false`, this timeout will also be used when reading the request body (if any).\r\n\r\nThat is a time taken for the client to send the request.  This is **unrelated** to the time that the server takes to respond to the request.\r\n\r\nSo ...\r\n\r\n&gt; If this wait takes more then 3 seconds, will the tomcat connection time out?\r\n\r\nNo, it won&#39;t&lt;sup&gt;1&lt;/sup&gt;.  In fact, it appears that Tomcat doesn&#39;t have any limits on how long a (synchronous) request may take to complete.\r\n\r\nOf course, the client could timeout a request if the server takes too long.  It is unlikely that the server will notice this so that it can abandon the request.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - Assuming that the documentation is accurate.  However, that config option has been present for a number of Tomcat versions, with the same description.  If the documentation was wrong, this would surely have been noticed, reported and fixed.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/http.html","title":"Will a tomcat request connection also time out when a server side process is taking too long to send a response?","body":"<p>According to the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html\" rel=\"nofollow noreferrer\">Tomcat 9.0 documentation</a>, the <code>connection-timeout</code> is:</p>\n<blockquote>\n<p>The number of milliseconds this Connector will wait, after accepting a connection, for the request URI line to be presented. [...] Unless <code>disableUploadTimeout</code> is set to <code>false</code>, this timeout will also be used when reading the request body (if any).</p>\n</blockquote>\n<p>That is a time taken for the client to send the request.  This is <strong>unrelated</strong> to the time that the server takes to respond to the request.</p>\n<p>So ...</p>\n<blockquote>\n<p>If this wait takes more then 3 seconds, will the tomcat connection time out?</p>\n</blockquote>\n<p>No, it won't<sup>1</sup>.  In fact, it appears that Tomcat doesn't have any limits on how long a (synchronous) request may take to complete.</p>\n<p>Of course, the client could timeout a request if the server takes too long.  It is unlikely that the server will notice this so that it can abandon the request.</p>\n<hr />\n<p><sup>1 - Assuming that the documentation is accurate.  However, that config option has been present for a number of Tomcat versions, with the same description.  If the documentation was wrong, this would surely have been noticed, reported and fixed.</sup></p>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70718450,"answer_count":1,"score":0,"last_activity_date":1642214743,"creation_date":1642210702,"question_id":70718261,"body_markdown":"I have a spring boot application with an embedded tomcat server. To limit the impact of DOS attacks i&#39;ve set the property `server.tomcat.connection-timeout` to 3 seconds. A `connectionTimeout` is the limit of time after which the [server will automatically close the connection with the client][1]. \r\n\r\nSo if in my case the client takes more then 3 seconds to finish the request the connection will automatically time out. However, its not yet clear to me what exactly happens when instead it is a process on the server side that is causing a delay.\r\n\r\nTo give an example, My web application is using a hikari connection pool that manages connections to the database. It can have a maximum of 10 database connections. If all 10 are in use any incoming request will have to wait for one of the database connections to become available. If this wait takes more then 3 seconds, will the tomcat connection time out? Or will the connection remain available since the delay isn&#39;t caused by the client?\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39643647/what-exactly-does-connectiontimeout-means-in-tomcat","title":"Will a tomcat request connection also time out when a server side process is taking too long to send a response?","body":"<p>I have a spring boot application with an embedded tomcat server. To limit the impact of DOS attacks i've set the property <code>server.tomcat.connection-timeout</code> to 3 seconds. A <code>connectionTimeout</code> is the limit of time after which the <a href=\"https://stackoverflow.com/questions/39643647/what-exactly-does-connectiontimeout-means-in-tomcat\">server will automatically close the connection with the client</a>.</p>\n<p>So if in my case the client takes more then 3 seconds to finish the request the connection will automatically time out. However, its not yet clear to me what exactly happens when instead it is a process on the server side that is causing a delay.</p>\n<p>To give an example, My web application is using a hikari connection pool that manages connections to the database. It can have a maximum of 10 database connections. If all 10 are in use any incoming request will have to wait for one of the database connections to become available. If this wait takes more then 3 seconds, will the tomcat connection time out? Or will the connection remain available since the delay isn't caused by the client?</p>\n<p>Thank you</p>\n"},{"tags":["java","html","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642214089,"creation_date":1642214089,"answer_id":70718462,"question_id":70718448,"body_markdown":"You can use the `URLEncoder` class for this.\r\nhttps://docs.oracle.com/javase/7/docs/api/java/net/URLEncoder.html\r\n\r\n\r\n    URLEncoder.encode(&quot;Your String here&quot;, StandardCharsets.UTF_8);","title":"How can I convert a string to a url string?","body":"<p>You can use the <code>URLEncoder</code> class for this.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/net/URLEncoder.html</a></p>\n<pre><code>URLEncoder.encode(&quot;Your String here&quot;, StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":10441754,"reputation":109,"user_id":7698156,"display_name":"Denny Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70718462,"answer_count":1,"score":1,"last_activity_date":1642214089,"creation_date":1642213886,"question_id":70718448,"body_markdown":"I want to convert a string to the url version of that string. For example:\r\n\r\n&gt; The quick brown fox jumps over the lazy dog \r\n\r\nto\r\n&gt; The%20quick%20brown%20fox%20jumps%20over%20the%20lazy%20dog\r\n\r\nObviously in this example I could just replace space with %20, but I&#39;d like it to work with more complex input strings too, for example with symbols. Here&#39;s how I&#39;m doing it right now, but it&#39;s very slow:\r\n\r\n    public static String toURLString(String str)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tWebClient webClient = new WebClient();\r\n    \t\t\tHtmlPage page = webClient.getPage(&quot;https://www.google.com/search?q=&quot; + str);\r\n    \t\t\tString prefix = &quot;https://www.google.com/search?q=&quot;;\r\n    \t\t\tString tokens = page.getUrl().toString().substring(prefix.length());\r\n    \t\t\twebClient.close();\r\n    \t\t\treturn tokens;\r\n    \t\t} catch (FailingHttpStatusCodeException | IOException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\nThis is just using htmlunit to search google with the string and then get back the string from the url, but there has to be a better way. This method is very slow because of creating the webclient and searching google. How do I do it better?","title":"How can I convert a string to a url string?","body":"<p>I want to convert a string to the url version of that string. For example:</p>\n<blockquote>\n<p>The quick brown fox jumps over the lazy dog</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>The%20quick%20brown%20fox%20jumps%20over%20the%20lazy%20dog</p>\n</blockquote>\n<p>Obviously in this example I could just replace space with %20, but I'd like it to work with more complex input strings too, for example with symbols. Here's how I'm doing it right now, but it's very slow:</p>\n<pre><code>public static String toURLString(String str)\n    {\n        try\n        {\n            WebClient webClient = new WebClient();\n            HtmlPage page = webClient.getPage(&quot;https://www.google.com/search?q=&quot; + str);\n            String prefix = &quot;https://www.google.com/search?q=&quot;;\n            String tokens = page.getUrl().toString().substring(prefix.length());\n            webClient.close();\n            return tokens;\n        } catch (FailingHttpStatusCodeException | IOException e)\n        {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>This is just using htmlunit to search google with the string and then get back the string from the url, but there has to be a better way. This method is very slow because of creating the webclient and searching google. How do I do it better?</p>\n"},{"tags":["java","floating-point","ieee-754","single-precision"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":1,"creation_date":1385342272,"post_id":20183330,"comment_id":30090362,"body_markdown":"`println` is a dirty liar - I suspect it is rounding unexpectedly and throwing off the test-case results/observations. Try with an explicit String.format.","body":"<code>println</code> is a dirty liar - I suspect it is rounding unexpectedly and throwing off the test-case results/observations. Try with an explicit String.format."},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1385342606,"post_id":20183330,"comment_id":30090441,"body_markdown":"That is, `println(String.format(&quot;%.20f&quot;, v))` should result in representative display values.","body":"That is, <code>println(String.format(&quot;%.20f&quot;, v))</code> should result in representative display values."},{"owner":{"account_id":1259917,"reputation":1534,"user_id":1218500,"accept_rate":85,"display_name":"mmaag"},"score":0,"creation_date":1385343025,"post_id":20183330,"comment_id":30090534,"body_markdown":"If `println` was the problem, I&#39;d still expect `8099.9995f + 0.00025f == 8099.99975f` to be true. And I know that floating point arithmetic isn&#39;t exact. I know that my result is not going to be exactly 8099.99975. But the first two numbers are represented exactly. They aren&#39;t rounded or anything. I don&#39;t see why the addition of two numbers doesn&#39;t result in the same result as the decimal to single float conversion.","body":"If <code>println</code> was the problem, I&#39;d still expect <code>8099.9995f + 0.00025f == 8099.99975f</code> to be true. And I know that floating point arithmetic isn&#39;t exact. I know that my result is not going to be exactly 8099.99975. But the first two numbers are represented exactly. They aren&#39;t rounded or anything. I don&#39;t see why the addition of two numbers doesn&#39;t result in the same result as the decimal to single float conversion."},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1385348954,"post_id":20183330,"comment_id":30091598,"body_markdown":"The key to understanding this sort of thing is to look at the exact values of the floats. Try printing `new BigDecimal(8099.99975f).toString()` etc. The BigDecimal constructor and its toString() are both exact.","body":"The key to understanding this sort of thing is to look at the exact values of the floats. Try printing <code>new BigDecimal(8099.99975f).toString()</code> etc. The BigDecimal constructor and its toString() are both exact."},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1385376471,"post_id":20183330,"comment_id":30101201,"body_markdown":"Here we have yet another question incorrectly closed as a duplicate. This question specifically involves not just the behavior of the floating-point arithmetic system but how Java displays floating-point values. This latter is not addressed in the purported original question or its answers.","body":"Here we have yet another question incorrectly closed as a duplicate. This question specifically involves not just the behavior of the floating-point arithmetic system but how Java displays floating-point values. This latter is not addressed in the purported original question or its answers."},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1385376763,"post_id":20183330,"comment_id":30101363,"body_markdown":"`8099.99975f` is converted to the nearest floating-point value, which is a number very slightly greater than 8099.9995, which is why it is selected instead of 8100. However, when Java `println` converts floating-point values to decimal, it does not generally show all digits. It shows just enough digits that converting back to floating-point shows the same value. Thus you see only “8099.995”&#39; but the actual value is slightly greater.","body":"<code>8099.99975f</code> is converted to the nearest floating-point value, which is a number very slightly greater than 8099.9995, which is why it is selected instead of 8100. However, when Java <code>println</code> converts floating-point values to decimal, it does not generally show all digits. It shows just enough digits that converting back to floating-point shows the same value. Thus you see only “8099.995”&#39; but the actual value is slightly greater."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1385376962,"post_id":20183330,"comment_id":30101491,"body_markdown":"@Eric I agree entirely with both of your comments.  That other question is absolutely NOT a duplicate of this one.  It seems that the people who closed the question didn&#39;t bother to read both questions.  I have voted to re-open and I urge others to do the same.  Moreover, if this question DOES get re-opened, please convert your second comment to an answer, and I will upvote it.  Whereas it&#39;s similar to my answer, it does give a slightly different perspective, which I consider valuable.","body":"@Eric I agree entirely with both of your comments.  That other question is absolutely NOT a duplicate of this one.  It seems that the people who closed the question didn&#39;t bother to read both questions.  I have voted to re-open and I urge others to do the same.  Moreover, if this question DOES get re-opened, please convert your second comment to an answer, and I will upvote it.  Whereas it&#39;s similar to my answer, it does give a slightly different perspective, which I consider valuable."},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1385377343,"post_id":20183330,"comment_id":30101708,"body_markdown":"@DavidWallace: I would suggest just adding to your good answer. You could give the specific Java rule and explain how to see the full value (or otherwise change the display from Java’s default). That gives readers knowledge they can use to understand, probe, and control the behaviors involved. I can provide the Java rule if you like; I have quoted it from the specification in old answers but am on a small device at the moment and do not want to dig it up this way.","body":"@DavidWallace: I would suggest just adding to your good answer. You could give the specific Java rule and explain how to see the full value (or otherwise change the display from Java’s default). That gives readers knowledge they can use to understand, probe, and control the behaviors involved. I can provide the Java rule if you like; I have quoted it from the specification in old answers but am on a small device at the moment and do not want to dig it up this way."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1385377581,"post_id":20183330,"comment_id":30101853,"body_markdown":"@EricPostpischil I&#39;ll give it some time.  If sanity prevails and this question gets re-opened, I think an answer from you would be a welcome addition to the two that are already here.  If it hasn&#39;t been re-opened in a day or two, I&#39;ll edit your remarks into my answer, giving you due credit of course.","body":"@EricPostpischil I&#39;ll give it some time.  If sanity prevails and this question gets re-opened, I think an answer from you would be a welcome addition to the two that are already here.  If it hasn&#39;t been re-opened in a day or two, I&#39;ll edit your remarks into my answer, giving you due credit of course."},{"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1385385371,"post_id":20183330,"comment_id":30106886,"body_markdown":"@DavidWallace: Here is the Java [toString documentation](http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#toString(float)) for the `float` type, which is what is used for `println`. The wording is “There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type `float`.”","body":"@DavidWallace: Here is the Java <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#toString(float)\" rel=\"nofollow noreferrer\">toString documentation</a> for the <code>float</code> type, which is what is used for <code>println</code>. The wording is “There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type <code>float</code>.”"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1385344654,"creation_date":1385344341,"answer_id":20183628,"question_id":20183330,"body_markdown":"The decimal value `8099.99975` has nine significant digits. This is more than can be represented exactly in a float.  If you use the [floating point analysis tool at CUNY](http://babbage.cs.qc.cuny.edu/IEEE-754/) you&#39;ll see that the binary representation closest to `8099.9995` is `45FD1FFF`.  When you attempt to add `0.00025` you are suffering a &quot;loss of significance&quot;.  In order not to lose significant (left-hand) digits of the larger number, the significand of the smaller has to be shifted right to match the scale (exponent) of the larger.  When this happens, its value becomes ZERO as it shifts off the right end of the register.\r\n\r\n    Decimal     Exponent        Significand\r\n    ---------   --------------  -------------------------\r\n    8099.9995   10001011 (+12)  1.11111010001111111111111\r\n       0.00025  01110011 (-12)  1.00000110001001001101111\r\n\r\nTo line these up for addition, the second one has to shift right 24 bits, but there are only 23 bits in the significand of a single-precision float.  The significand disappears, leaving zero, so the addition has no effect.\r\n\r\nIf you want this to work, switch to double-precision arithmetic.\r\n","title":"Why is 8099.99975f != 8100f?","body":"<p>The decimal value <code>8099.99975</code> has nine significant digits. This is more than can be represented exactly in a float.  If you use the <a href=\"http://babbage.cs.qc.cuny.edu/IEEE-754/\" rel=\"nofollow\">floating point analysis tool at CUNY</a> you'll see that the binary representation closest to <code>8099.9995</code> is <code>45FD1FFF</code>.  When you attempt to add <code>0.00025</code> you are suffering a \"loss of significance\".  In order not to lose significant (left-hand) digits of the larger number, the significand of the smaller has to be shifted right to match the scale (exponent) of the larger.  When this happens, its value becomes ZERO as it shifts off the right end of the register.</p>\n\n<pre><code>Decimal     Exponent        Significand\n---------   --------------  -------------------------\n8099.9995   10001011 (+12)  1.11111010001111111111111\n   0.00025  01110011 (-12)  1.00000110001001001101111\n</code></pre>\n\n<p>To line these up for addition, the second one has to shift right 24 bits, but there are only 23 bits in the significand of a single-precision float.  The significand disappears, leaving zero, so the addition has no effect.</p>\n\n<p>If you want this to work, switch to double-precision arithmetic.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1385347954,"creation_date":1385347954,"answer_id":20183943,"question_id":20183330,"body_markdown":"The key point to realise is that the value of a floating point number can be worked out in two different ways, that aren&#39;t in general equal.\r\n\r\n - There&#39;s the value that the bits in the floating point number give the exact binary representation of.\r\n - There&#39;s the &quot;decimal display value&quot; of a floating point number, which is the number with the least decimal places that is closer to that floating point number than any other number.\r\n\r\nTo understand the difference, consider the number whose exponent is 10001011 and whose significand is 1.11111010001111111111111.  This is the exact binary representation of 8099.99951171875.  But the decimal value 8099.9995 has fewer decimal places, and is closer to this floating point number than to any other floating point number.  Therefore, 8099.9995 is the value that will be displayed when you print out that number.\r\n\r\nNote that this particular floating point number is the next lowest one after 8100.\r\n\r\nNow consider 8099.99975.  It&#39;s slightly closer to 8099.99951171875 than it is to 8100.  Therefore, to represent it in single precision floating point, Java will pick the floating point number which is the exact binary representation of 8099.99951171875.  If you try to print it, you&#39;ll see 8099.9995.\r\n\r\nLastly, when you do 8099.9995 + 0.00025 in single precision floating point, the numbers involved are the exact binary representations of 8099.99951171875 and 0.0002499999827705323696136474609375.  But because the latter is slightly more than 1/2^12, the result of addition will be closer to 8100 than to 8099.99951171875, and so it will be rounded up, not down at the end, making it 8100.\r\n","title":"Why is 8099.99975f != 8100f?","body":"<p>The key point to realise is that the value of a floating point number can be worked out in two different ways, that aren't in general equal.</p>\n\n<ul>\n<li>There's the value that the bits in the floating point number give the exact binary representation of.</li>\n<li>There's the \"decimal display value\" of a floating point number, which is the number with the least decimal places that is closer to that floating point number than any other number.</li>\n</ul>\n\n<p>To understand the difference, consider the number whose exponent is 10001011 and whose significand is 1.11111010001111111111111.  This is the exact binary representation of 8099.99951171875.  But the decimal value 8099.9995 has fewer decimal places, and is closer to this floating point number than to any other floating point number.  Therefore, 8099.9995 is the value that will be displayed when you print out that number.</p>\n\n<p>Note that this particular floating point number is the next lowest one after 8100.</p>\n\n<p>Now consider 8099.99975.  It's slightly closer to 8099.99951171875 than it is to 8100.  Therefore, to represent it in single precision floating point, Java will pick the floating point number which is the exact binary representation of 8099.99951171875.  If you try to print it, you'll see 8099.9995.</p>\n\n<p>Lastly, when you do 8099.9995 + 0.00025 in single precision floating point, the numbers involved are the exact binary representations of 8099.99951171875 and 0.0002499999827705323696136474609375.  But because the latter is slightly more than 1/2^12, the result of addition will be closer to 8100 than to 8099.99951171875, and so it will be rounded up, not down at the end, making it 8100.</p>\n"}],"owner":{"account_id":1259917,"reputation":1534,"user_id":1218500,"accept_rate":85,"display_name":"mmaag"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20183943,"answer_count":2,"score":1,"last_activity_date":1642213508,"creation_date":1385341914,"question_id":20183330,"body_markdown":"**Edit:** I know floating point arithmetic is not exact. And the arithmetic isn&#39;t even my problem. The addition gives the result I expected. `8099.99975f` doesn&#39;t.\r\n\r\n---\r\n\r\nSo I have this little program:\r\n\r\n    public class Test {\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(8099.99975f); // 8099.9995\r\n\t\t    System.out.println(8099.9995f + 0.00025f); // 8100.0\r\n\t\t    System.out.println(8100f == 8099.99975f); // false\r\n\t\t    System.out.println(8099.9995f + 0.00025f == 8099.99975f); // false\r\n            // I know comparing floats with == can be troublesome\r\n            // but here they really should be equal in every bit.\r\n\t    }\r\n    }\r\n\r\nI wrote it to check if `8099.99975` is rounded to `8100` when written as an IEEE 754 single precision float. To my surprise Java converts it to `8099.9995` when written as a float literal (`8099.99975f`). I checked my calculations and the IEEE standard again but couldn&#39;t find any mistakes. `8100` is just as far away from `8099.99975` as `8099.9995` but the last bit of `8100` is `0` which should make it the right representation.\r\n\r\nSo I checked the Java language spec to see if I missed something. After a quick search I found two things:\r\n\r\n - &gt;The Java programming language requires that floating-point arithmetic behave as if every floating-point operator rounded its floating-point result to the result precision. Inexact results must be rounded to the representable value nearest to the infinitely precise result; if the two nearest representable values are equally near, the one with its least significant bit zero is chosen.\r\n\r\n - &gt;The Java programming language uses round toward zero when converting a floating value to an integer [...].\r\n\r\nI noticed here that nothing was said about float literals. So I thought that float literals maybe are just doubles which when cast to float are rounded to zero similarly to the float to int casting. That would explain why `8099.99975f` was rounded to zero.\r\n\r\nI wrote the little program you can see above to check my theory and indeed found that when adding two float literals that should result in `8100` the correct float is computed. (Note here that `8099.9995` and `0.00025` can be represented exactly as single floats so there&#39;s no rounding that could lead to a different result) This confused me since it didn&#39;t make much sense to me that float literals and computed floats behaved differently so I dug around in the language spec some more and found this: \r\n\r\n&gt; A floating-point literal is of type float if it is suffixed with an ASCII letter F or f [...]. The elements of the types float [...] are those values that can be represented using the IEEE 754 32-bit single-precision [...] binary floating-point formats.\r\n\r\nThis ultimately states that the literal should be rounded according to the IEEE standard which in this case is to `8100`. So why is it `8099.9995`?","title":"Why is 8099.99975f != 8100f?","body":"<p><strong>Edit:</strong> I know floating point arithmetic is not exact. And the arithmetic isn't even my problem. The addition gives the result I expected. <code>8099.99975f</code> doesn't.</p>\n<hr />\n<p>So I have this little program:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(8099.99975f); // 8099.9995\n        System.out.println(8099.9995f + 0.00025f); // 8100.0\n        System.out.println(8100f == 8099.99975f); // false\n        System.out.println(8099.9995f + 0.00025f == 8099.99975f); // false\n        // I know comparing floats with == can be troublesome\n        // but here they really should be equal in every bit.\n    }\n}\n</code></pre>\n<p>I wrote it to check if <code>8099.99975</code> is rounded to <code>8100</code> when written as an IEEE 754 single precision float. To my surprise Java converts it to <code>8099.9995</code> when written as a float literal (<code>8099.99975f</code>). I checked my calculations and the IEEE standard again but couldn't find any mistakes. <code>8100</code> is just as far away from <code>8099.99975</code> as <code>8099.9995</code> but the last bit of <code>8100</code> is <code>0</code> which should make it the right representation.</p>\n<p>So I checked the Java language spec to see if I missed something. After a quick search I found two things:</p>\n<ul>\n<li>\n<blockquote>\n<p>The Java programming language requires that floating-point arithmetic behave as if every floating-point operator rounded its floating-point result to the result precision. Inexact results must be rounded to the representable value nearest to the infinitely precise result; if the two nearest representable values are equally near, the one with its least significant bit zero is chosen.</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>The Java programming language uses round toward zero when converting a floating value to an integer [...].</p>\n</blockquote>\n</li>\n</ul>\n<p>I noticed here that nothing was said about float literals. So I thought that float literals maybe are just doubles which when cast to float are rounded to zero similarly to the float to int casting. That would explain why <code>8099.99975f</code> was rounded to zero.</p>\n<p>I wrote the little program you can see above to check my theory and indeed found that when adding two float literals that should result in <code>8100</code> the correct float is computed. (Note here that <code>8099.9995</code> and <code>0.00025</code> can be represented exactly as single floats so there's no rounding that could lead to a different result) This confused me since it didn't make much sense to me that float literals and computed floats behaved differently so I dug around in the language spec some more and found this:</p>\n<blockquote>\n<p>A floating-point literal is of type float if it is suffixed with an ASCII letter F or f [...]. The elements of the types float [...] are those values that can be represented using the IEEE 754 32-bit single-precision [...] binary floating-point formats.</p>\n</blockquote>\n<p>This ultimately states that the literal should be rounded according to the IEEE standard which in this case is to <code>8100</code>. So why is it <code>8099.9995</code>?</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":3122089,"reputation":1689,"user_id":2641657,"display_name":"Jamal S"},"score":2,"creation_date":1590224106,"post_id":61969439,"comment_id":109603654,"body_markdown":"https://www.java.com/en/download/help/mac_controlpanel.xml","body":"<a href=\"https://www.java.com/en/download/help/mac_controlpanel.xml\" rel=\"nofollow noreferrer\">java.com/en/download/help/mac_controlpanel.xml</a>"},{"owner":{"account_id":10214393,"reputation":705,"user_id":7540535,"display_name":"NiYanchun"},"score":0,"creation_date":1615185296,"post_id":61969439,"comment_id":117603125,"body_markdown":"see this [MacOS Java Control Panel Missing on Mojave](https://stackoverflow.com/questions/53176089/macos-java-control-panel-missing-on-mojave/53176853).","body":"see this <a href=\"https://stackoverflow.com/questions/53176089/macos-java-control-panel-missing-on-mojave/53176853\">MacOS Java Control Panel Missing on Mojave</a>."}],"answers":[{"tags":[],"owner":{"account_id":5795525,"reputation":66,"user_id":4571465,"display_name":"mrk90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590235090,"creation_date":1590223346,"answer_id":61969510,"question_id":61969439,"body_markdown":"    MacOS 10.5 version and later. JDK installed location will be \r\n    in /usr/libexec/..\r\n    \r\n    I guess you’re trying to set your JAVA_HOME. \r\n    \r\n    Follow below steps\r\n    1. Install jdk and open Terminal\r\n    2. run &#39;java -version&#39;\r\n    3. Setting java home\r\n    run &#39;export JAVA_HOME=$(/usr/libexec/java_home)&#39;\r\n    4. To check &#39;echo $JAVA_HOME&#39;\r\n\r\n","title":"Java control panel missing on macOS?","body":"<pre><code>MacOS 10.5 version and later. JDK installed location will be \nin /usr/libexec/..\n\nI guess you’re trying to set your JAVA_HOME. \n\nFollow below steps\n1. Install jdk and open Terminal\n2. run 'java -version'\n3. Setting java home\nrun 'export JAVA_HOME=$(/usr/libexec/java_home)'\n4. To check 'echo $JAVA_HOME'\n</code></pre>\n"}],"owner":{"account_id":18659803,"reputation":39,"user_id":13601287,"display_name":"charles vilmos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2775,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1642212269,"creation_date":1590222919,"question_id":61969439,"body_markdown":"I could not find the java control panel on my macOS after the installation of Java JDK.\r\n\r\nI tried searching on the web but couldn&#39;t find any solution for the problem.\r\n\r\n**How to find to the Java Control Panel on macOS ?**","title":"Java control panel missing on macOS?","body":"<p>I could not find the java control panel on my macOS after the installation of Java JDK.</p>\n\n<p>I tried searching on the web but couldn't find any solution for the problem.</p>\n\n<p><strong>How to find to the Java Control Panel on macOS ?</strong></p>\n"},{"tags":["java","macos","java-11"],"answers":[{"tags":[],"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584788675,"creation_date":1584788675,"answer_id":60787010,"question_id":60786967,"body_markdown":"Normally the JDK is located under \r\n`/Library/Java/JavaVirtualMachines`.\r\n\r\nThe AdaptOpenJdk for example is located here: `/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk`\r\n","title":"Unable to find JAVA icon in System-Preference or Library of my MAC","body":"<p>Normally the JDK is located under \n<code>/Library/Java/JavaVirtualMachines</code>.</p>\n\n<p>The AdaptOpenJdk for example is located here: <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk</code></p>\n"},{"tags":[],"owner":{"account_id":12314870,"reputation":151,"user_id":8985460,"accept_rate":50,"display_name":"SymboCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584837890,"creation_date":1584837890,"answer_id":60794848,"question_id":60786967,"body_markdown":"Now, after hunting around for a while I have figured the following out:\r\n\r\n \r\n\r\n 1. You won&#39;t get JAVA in your Mac&#39;s *System Preference* until you have added JAVA home directory in your bash profile, irrespective of the java version installed\r\n 2. Generally be default Java gets installed in your **MacintoshHD**\r\n 3. So, open your MacintoshHD &amp; then go to **GO** option from your Finder\r\n 4. Next click on **Go to folder** option and type-in *~/Library*\r\n 5. Now you will see a **Java** folder and under that **JavaVirtualMachines**\r\n 6. You will now have JDK folder of whichever java version installed\r\n 7. Right click on JDK folder and click on info, copy the &#39;Where&#39; location\r\n 8. Open your bash profile with following command **vi .bash_profile**\r\n 9. Once in VI editor, insert the following:\r\n\r\nexport JAVA_HOME=copied Where location from JDK folder followed by /Contents/Home\r\n\r\nIt should look something like below\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.6.jdk/Contents/Home\r\n\r\n 10. Now quit editor by **:wq** and restart your machine and you will now have JAVA in your system preference. \r\n\r\nHope this helps!!\r\n\r\n","title":"Unable to find JAVA icon in System-Preference or Library of my MAC","body":"<p>Now, after hunting around for a while I have figured the following out:</p>\n\n<ol>\n<li>You won't get JAVA in your Mac's <em>System Preference</em> until you have added JAVA home directory in your bash profile, irrespective of the java version installed</li>\n<li>Generally be default Java gets installed in your <strong>MacintoshHD</strong></li>\n<li>So, open your MacintoshHD &amp; then go to <strong>GO</strong> option from your Finder</li>\n<li>Next click on <strong>Go to folder</strong> option and type-in <em>~/Library</em></li>\n<li>Now you will see a <strong>Java</strong> folder and under that <strong>JavaVirtualMachines</strong></li>\n<li>You will now have JDK folder of whichever java version installed</li>\n<li>Right click on JDK folder and click on info, copy the 'Where' location</li>\n<li>Open your bash profile with following command <strong>vi .bash_profile</strong></li>\n<li>Once in VI editor, insert the following:</li>\n</ol>\n\n<p>export JAVA_HOME=copied Where location from JDK folder followed by /Contents/Home</p>\n\n<p>It should look something like below\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.6.jdk/Contents/Home</p>\n\n<ol start=\"10\">\n<li>Now quit editor by <strong>:wq</strong> and restart your machine and you will now have JAVA in your system preference. </li>\n</ol>\n\n<p>Hope this helps!!</p>\n"},{"tags":[],"owner":{"account_id":9685841,"reputation":1379,"user_id":7436256,"display_name":"Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642212141,"creation_date":1642212141,"answer_id":70718346,"question_id":60786967,"body_markdown":"For those of you that are still struggling with it. Here is the thing.\r\n\r\n&gt; The Java Preferences app was part of Apple Java installation and is not used by Oracle Java. Therefore, OS X releases from Apple that do not include Apple Java will not include Java Preferences.\r\n\r\n[ &quot;What happened to the Java Preferences app in Application -&gt; Utilities?&quot;][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_install_faq.html#osxfaq_java_pref_app","title":"Unable to find JAVA icon in System-Preference or Library of my MAC","body":"<p>For those of you that are still struggling with it. Here is the thing.</p>\n<blockquote>\n<p>The Java Preferences app was part of Apple Java installation and is not used by Oracle Java. Therefore, OS X releases from Apple that do not include Apple Java will not include Java Preferences.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_install_faq.html#osxfaq_java_pref_app\" rel=\"nofollow noreferrer\"> &quot;What happened to the Java Preferences app in Application -&gt; Utilities?&quot;</a></p>\n"}],"owner":{"account_id":12314870,"reputation":151,"user_id":8985460,"accept_rate":50,"display_name":"SymboCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8249,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1642212141,"creation_date":1584788346,"question_id":60786967,"body_markdown":"I have been a Windows user all my life and have recently got a MAC. My Mac is using MacOS Catalina. \r\nI am trying to set-up JDK and get going on a project, however the issue is after I have installed JDK 11.0.4, I don&#39;t see any Java-icon on my system preference nor could I find Java folder in my ~library. However, when I go to terminal and do *java -version* I do see java being present as below \r\n\r\n    ~ % java -version\r\n    java version &quot;11.0.6&quot; 2020-01-14 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.6+8-LTS)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.6+8-LTS, mixed mode)\r\n\r\nI need help to see how I can resolved this, and then add my java installed location to my **.bash_profile**","title":"Unable to find JAVA icon in System-Preference or Library of my MAC","body":"<p>I have been a Windows user all my life and have recently got a MAC. My Mac is using MacOS Catalina. \nI am trying to set-up JDK and get going on a project, however the issue is after I have installed JDK 11.0.4, I don't see any Java-icon on my system preference nor could I find Java folder in my ~library. However, when I go to terminal and do <em>java -version</em> I do see java being present as below </p>\n\n<pre><code>~ % java -version\njava version \"11.0.6\" 2020-01-14 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.6+8-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.6+8-LTS, mixed mode)\n</code></pre>\n\n<p>I need help to see how I can resolved this, and then add my java installed location to my <strong>.bash_profile</strong></p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642088569,"post_id":70698261,"comment_id":124983820,"body_markdown":"try replacing `p.setStyle(Paint.Style.FILL);` with `p.setStyle(Paint.Style.STROKE);`","body":"try replacing <code>p.setStyle(Paint.Style.FILL);</code> with <code>p.setStyle(Paint.Style.STROKE);</code>"},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642099557,"post_id":70698261,"comment_id":124988274,"body_markdown":"@SambhavKhandelwal it will only get it worse. We need to use Paint.Style.FILL first in order to make text filled with desired &quot;textColor&quot;, otherwise text will be transparent.","body":"@SambhavKhandelwal it will only get it worse. We need to use Paint.Style.FILL first in order to make text filled with desired &quot;textColor&quot;, otherwise text will be transparent."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1642103939,"post_id":70698261,"comment_id":124989843,"body_markdown":"Reverse the drawing of the text and outline: Draw the outline first then the text.","body":"Reverse the drawing of the text and outline: Draw the outline first then the text."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1642135065,"post_id":70698261,"comment_id":124996287,"body_markdown":"I am not very sure as I have not used it but u can try this library -&gt; `https://github.com/Maggie-Wan/StrokeTextView`","body":"I am not very sure as I have not used it but u can try this library -&gt; <code>https:&#47;&#47;github.com&#47;Maggie-Wan&#47;StrokeTextView</code>"},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642166716,"post_id":70698261,"comment_id":125005055,"body_markdown":"@SambhavKhandelwal this library seems to be helpful. I&#39;ll try this with modifications for custom use.","body":"@SambhavKhandelwal this library seems to be helpful. I&#39;ll try this with modifications for custom use."},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642170230,"post_id":70698261,"comment_id":125006450,"body_markdown":"@SambhavKhandelwal as I said earlier it seems to be helpful, but I cannot change stroke values on runtime. I&#39;ve tried but it doesn&#39;t. Can you suggest something, or can you try modifying this library&#39;s code?","body":"@SambhavKhandelwal as I said earlier it seems to be helpful, but I cannot change stroke values on runtime. I&#39;ve tried but it doesn&#39;t. Can you suggest something, or can you try modifying this library&#39;s code?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642170396,"post_id":70698261,"comment_id":125006516,"body_markdown":"try this -&gt; `https://github.com/melihaksoy/StrokedTextView`","body":"try this -&gt; <code>https:&#47;&#47;github.com&#47;melihaksoy&#47;StrokedTextView</code>"},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642188000,"post_id":70698261,"comment_id":125013357,"body_markdown":"@Cheticamp it messes up the textView. Try this on your own and you&#39;ll get the idea.","body":"@Cheticamp it messes up the textView. Try this on your own and you&#39;ll get the idea."},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642188133,"post_id":70698261,"comment_id":125013397,"body_markdown":"@SambhavKhandelwal the library you recommended later, is coded in Kotlin. I&#39;ll only be able to use it as a library and I won&#39;t be able to use it&#39;s custom class which he extended with TextView. If I would be able to use is custom textView class, I&#39;d be able to modify it&#39;s function to meet my needs. I hope I&#39;m being clear","body":"@SambhavKhandelwal the library you recommended later, is coded in Kotlin. I&#39;ll only be able to use it as a library and I won&#39;t be able to use it&#39;s custom class which he extended with TextView. If I would be able to use is custom textView class, I&#39;d be able to modify it&#39;s function to meet my needs. I hope I&#39;m being clear"},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642188187,"post_id":70698261,"comment_id":125013419,"body_markdown":"@SambhavKhandelwal if it was coded in Java like the earlier library, then I might use it&#39;s code after modifications. But I&#39;m not that good at Kotlin yet.","body":"@SambhavKhandelwal if it was coded in Java like the earlier library, then I might use it&#39;s code after modifications. But I&#39;m not that good at Kotlin yet."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642220161,"post_id":70698261,"comment_id":125019204,"body_markdown":"then try this -.&gt; `https://github.com/HamCheeseDev/OutlinedTextView` I tried it. It also allows you to change stroke width, color etc on runtime","body":"then try this -.&gt; <code>https:&#47;&#47;github.com&#47;HamCheeseDev&#47;OutlinedTextView</code> I tried it. It also allows you to change stroke width, color etc on runtime"},{"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1642253437,"post_id":70698261,"comment_id":125024323,"body_markdown":"Thank you for all your suggestions and your time dear , I&#39;ve found helpful solution by @Cheticamp and I&#39;m using that now. Cheers Pal!","body":"Thank you for all your suggestions and your time dear , I&#39;ve found helpful solution by @Cheticamp and I&#39;m using that now. Cheers Pal!"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642211721,"creation_date":1642211721,"answer_id":70718320,"question_id":70698261,"body_markdown":"The following draws the outline of the characters in a _TextView_ but takes care to clip out the characters themselves so they are not drawn over.\r\n\r\n**OutlineTextView.java**\r\n\r\n    public class OutlineTextView extends androidx.appcompat.widget.AppCompatTextView {\r\n        private final Paint mOutlinePaint = new Paint();\r\n        private final Path mOutlinePath = new Path();\r\n        private float mStrokeWidth = 0f;\r\n\r\n        public OutlineTextView(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n\r\n        public OutlineTextView(Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init();\r\n        }\r\n\r\n        public OutlineTextView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init();\r\n        }\r\n\r\n        private void init() {\r\n            mOutlinePaint.setStrokeWidth(0f);\r\n            mOutlinePaint.setStyle(Paint.Style.STROKE);\r\n            mOutlinePaint.setColor(Color.RED);\r\n        }\r\n\r\n        @Override\r\n        protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n            super.onLayout(changed, left, top, right, bottom);\r\n\r\n            float xOffset = getLayout().getLineLeft(0) + getPaddingLeft();\r\n            float baseline = getLayout().getLineBaseline(0) + getPaddingTop();\r\n            getPaint().getTextPath(getText().toString(), 0, getText().length(), xOffset, baseline, mOutlinePath);\r\n        }\r\n\r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            super.onDraw(canvas);\r\n\r\n            if (mStrokeWidth &gt; 0) {\r\n                canvas.save();\r\n                // The following insures that we don&#39;t draw inside the characters.\r\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\r\n                    canvas.clipPath(mOutlinePath, Region.Op.DIFFERENCE);\r\n                } else {\r\n                    canvas.clipOutPath(mOutlinePath);\r\n                }\r\n                canvas.drawPath(mOutlinePath, mOutlinePaint);\r\n                canvas.restore();\r\n            }\r\n        }\r\n\r\n        public void setStrokeWidth(Float strokeWidth) {\r\n            mStrokeWidth = strokeWidth;\r\n            mOutlinePaint.setStrokeWidth(strokeWidth);\r\n            invalidate();\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ssq4u.gif","title":"How to add stroke on outside of TextView","body":"<p>The following draws the outline of the characters in a <em>TextView</em> but takes care to clip out the characters themselves so they are not drawn over.</p>\n<p><strong>OutlineTextView.java</strong></p>\n<pre><code>public class OutlineTextView extends androidx.appcompat.widget.AppCompatTextView {\n    private final Paint mOutlinePaint = new Paint();\n    private final Path mOutlinePath = new Path();\n    private float mStrokeWidth = 0f;\n\n    public OutlineTextView(Context context) {\n        super(context);\n        init();\n    }\n\n    public OutlineTextView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public OutlineTextView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        mOutlinePaint.setStrokeWidth(0f);\n        mOutlinePaint.setStyle(Paint.Style.STROKE);\n        mOutlinePaint.setColor(Color.RED);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n        super.onLayout(changed, left, top, right, bottom);\n\n        float xOffset = getLayout().getLineLeft(0) + getPaddingLeft();\n        float baseline = getLayout().getLineBaseline(0) + getPaddingTop();\n        getPaint().getTextPath(getText().toString(), 0, getText().length(), xOffset, baseline, mOutlinePath);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n        if (mStrokeWidth &gt; 0) {\n            canvas.save();\n            // The following insures that we don't draw inside the characters.\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\n                canvas.clipPath(mOutlinePath, Region.Op.DIFFERENCE);\n            } else {\n                canvas.clipOutPath(mOutlinePath);\n            }\n            canvas.drawPath(mOutlinePath, mOutlinePaint);\n            canvas.restore();\n        }\n    }\n\n    public void setStrokeWidth(Float strokeWidth) {\n        mStrokeWidth = strokeWidth;\n        mOutlinePaint.setStrokeWidth(strokeWidth);\n        invalidate();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ssq4u.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ssq4u.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70718320,"answer_count":1,"score":2,"last_activity_date":1642211721,"creation_date":1642084044,"question_id":70698261,"body_markdown":"Any ideas, code snippets are welcome!\r\n-------------------------------------\r\n\r\nI have created a `CustomTextView` class that extends `AppCompatTextView` and I did this to add **stroke** support to boring `TextView`. The problem is, `Paint.Style.STROKE` adds stroke on the inside of `TextView`. There should be something which allows us to choose between outer-stroke and inner-stroke.&lt;br/&gt;&lt;br/&gt;\r\nP.S: I can share the complete `CustomTextView` class if needed, not a big deal.\r\n\r\n\r\n - What we currently have:&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n - What we want to achieve:&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nThis is the `onDraw` method from our `CustomTextView` which is used to add stroke to textView.\r\n\r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            if(_strokeWidth &gt; 0) {\r\n                //set paint to fill mode\r\n                Paint p = getPaint();\r\n                p.setStyle(Paint.Style.FILL);\r\n                //draw the fill part of text\r\n                super.onDraw(canvas);\r\n                //save the text color\r\n                int currentTextColor = getCurrentTextColor();\r\n                //set paint to stroke mode and specify\r\n                //stroke color and width\r\n                p.setStyle(Paint.Style.STROKE);\r\n                p.setStrokeWidth(_strokeWidth);\r\n                setTextColor(_strokeColor);\r\n                //draw text stroke\r\n                super.onDraw(canvas);\r\n                //revert the color back to the one\r\n                //initially specified\r\n                setTextColor(currentTextColor);\r\n            } else {\r\n                super.onDraw(canvas);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WRiCc.gif\r\n  [2]: https://i.stack.imgur.com/z5GrD.gif","title":"How to add stroke on outside of TextView","body":"<h2>Any ideas, code snippets are welcome!</h2>\n<p>I have created a <code>CustomTextView</code> class that extends <code>AppCompatTextView</code> and I did this to add <strong>stroke</strong> support to boring <code>TextView</code>. The problem is, <code>Paint.Style.STROKE</code> adds stroke on the inside of <code>TextView</code>. There should be something which allows us to choose between outer-stroke and inner-stroke.<br/><br/>\nP.S: I can share the complete <code>CustomTextView</code> class if needed, not a big deal.</p>\n<ul>\n<li>What we currently have:<br>\n<a href=\"https://i.stack.imgur.com/WRiCc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WRiCc.gif\" alt=\"enter image description here\" /></a></li>\n<li>What we want to achieve:<br>\n<a href=\"https://i.stack.imgur.com/z5GrD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5GrD.gif\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>This is the <code>onDraw</code> method from our <code>CustomTextView</code> which is used to add stroke to textView.</p>\n<pre><code>    @Override\n    protected void onDraw(Canvas canvas) {\n        if(_strokeWidth &gt; 0) {\n            //set paint to fill mode\n            Paint p = getPaint();\n            p.setStyle(Paint.Style.FILL);\n            //draw the fill part of text\n            super.onDraw(canvas);\n            //save the text color\n            int currentTextColor = getCurrentTextColor();\n            //set paint to stroke mode and specify\n            //stroke color and width\n            p.setStyle(Paint.Style.STROKE);\n            p.setStrokeWidth(_strokeWidth);\n            setTextColor(_strokeColor);\n            //draw text stroke\n            super.onDraw(canvas);\n            //revert the color back to the one\n            //initially specified\n            setTextColor(currentTextColor);\n        } else {\n            super.onDraw(canvas);\n        }\n    }\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","executorservice","threadpoolexecutor"],"comments":[{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":1,"creation_date":1259187804,"post_id":1800317,"comment_id":1688340,"body_markdown":"What is your question? Isn&#39;t your 2nd code example the answer to your title?","body":"What is your question? Isn&#39;t your 2nd code example the answer to your title?"},{"owner":{"account_id":75652,"reputation":12214,"user_id":216941,"accept_rate":86,"display_name":"Matt Wonlaw"},"score":6,"creation_date":1259230601,"post_id":1800317,"comment_id":1690823,"body_markdown":"I want a thread pool that will add threads on demand as the number of tasks grow, but will never add more than some max number of threads.  CachedThreadPool already does this, except it will add an unlimited number of threads and not stop at some pre-defined size.  The size I define in the examples is 3.  The second example adds 1 thread, but doesn&#39;t add two more as new tasks arrive while the other tasks have not yet completed.","body":"I want a thread pool that will add threads on demand as the number of tasks grow, but will never add more than some max number of threads.  CachedThreadPool already does this, except it will add an unlimited number of threads and not stop at some pre-defined size.  The size I define in the examples is 3.  The second example adds 1 thread, but doesn&#39;t add two more as new tasks arrive while the other tasks have not yet completed."},{"owner":{"account_id":874677,"reputation":59,"user_id":924574,"accept_rate":25,"display_name":"ethan"},"score":0,"creation_date":1336624106,"post_id":1800317,"comment_id":13617008,"body_markdown":"Check this, it solves it, http://debuggingisfun.blogspot.com/2012/05/java-cachedthreadpool-with-min-and-max.html","body":"Check this, it solves it, <a href=\"http://debuggingisfun.blogspot.com/2012/05/java-cachedthreadpool-with-min-and-max.html\" rel=\"nofollow noreferrer\">debuggingisfun.blogspot.com/2012/05/&hellip;</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1503322397,"post_id":1800317,"comment_id":78554681,"body_markdown":"Related to: https://stackoverflow.com/questions/19528304/how-to-get-the-threadpoolexecutor-to-increase-threads-to-max-before-queueing/19528305#19528305","body":"Related to: <a href=\"https://stackoverflow.com/questions/19528304/how-to-get-the-threadpoolexecutor-to-increase-threads-to-max-before-queueing/19528305#19528305\" title=\"how to get the threadpoolexecutor to increase threads to max before queueing\">stackoverflow.com/questions/19528304/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1472809474,"creation_date":1259187800,"answer_id":1800341,"question_id":1800317,"body_markdown":"This is what you want (atleast I guess so). For an explanation check [Jonathan Feinberg answer][1]\r\n\r\n[`Executors.newFixedThreadPool(int n)`][2] \r\n\r\n&gt;Creates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue. At any point, at most nThreads threads will be active processing tasks. If additional tasks are submitted when all threads are active, they will wait in the queue until a thread is available. If any thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks. The threads in the pool will exist until it is explicitly shutdown.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1800317/impossible-to-make-a-cached-thread-pool-with-a-size-limit/1800369#1800369\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>This is what you want (atleast I guess so). For an explanation check <a href=\"https://stackoverflow.com/questions/1800317/impossible-to-make-a-cached-thread-pool-with-a-size-limit/1800369#1800369\">Jonathan Feinberg answer</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-\" rel=\"nofollow noreferrer\"><code>Executors.newFixedThreadPool(int n)</code></a> </p>\n\n<blockquote>\n  <p>Creates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue. At any point, at most nThreads threads will be active processing tasks. If additional tasks are submitted when all threads are active, they will wait in the queue until a thread is available. If any thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks. The threads in the pool will exist until it is explicitly shutdown.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1259188204,"creation_date":1259188204,"answer_id":1800369,"question_id":1800317,"body_markdown":"Per the Javadoc for ThreadPoolExecutor:\r\n\r\n&gt;If there are more than corePoolSize but less than maximumPoolSize threads running, a new thread will be created *only if the queue is full*. By setting corePoolSize and maximumPoolSize the same, you create a fixed-size thread pool.\r\n\r\n(Emphasis mine.)\r\n\r\njitter&#39;s answer is what you want, although mine answers your other question. :)","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>Per the Javadoc for ThreadPoolExecutor:</p>\n\n<blockquote>\n  <p>If there are more than corePoolSize but less than maximumPoolSize threads running, a new thread will be created <em>only if the queue is full</em>. By setting corePoolSize and maximumPoolSize the same, you create a fixed-size thread pool.</p>\n</blockquote>\n\n<p>(Emphasis mine.)</p>\n\n<p>jitter's answer is what you want, although mine answers your other question. :)</p>\n"},{"tags":[],"owner":{"account_id":8011,"reputation":29400,"user_id":14139,"accept_rate":84,"display_name":"brianegge"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1259188614,"creation_date":1259188614,"answer_id":1800412,"question_id":1800317,"body_markdown":"In your first example, subsequent tasks are rejected because the `AbortPolicy` is the default `RejectedExecutionHandler`.  The ThreadPoolExecutor contains the following policies, which you can change via the `setRejectedExecutionHandler` method:\r\n\r\n    CallerRunsPolicy\r\n    AbortPolicy\r\n    DiscardPolicy\r\n    DiscardOldestPolicy\r\n\r\nIt sounds like you want cached thread pool with a CallerRunsPolicy.","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>In your first example, subsequent tasks are rejected because the <code>AbortPolicy</code> is the default <code>RejectedExecutionHandler</code>.  The ThreadPoolExecutor contains the following policies, which you can change via the <code>setRejectedExecutionHandler</code> method:</p>\n\n<pre><code>CallerRunsPolicy\nAbortPolicy\nDiscardPolicy\nDiscardOldestPolicy\n</code></pre>\n\n<p>It sounds like you want cached thread pool with a CallerRunsPolicy.</p>\n"},{"tags":[],"owner":{"account_id":46369,"reputation":7786,"user_id":136928,"accept_rate":60,"display_name":"sjlee"},"down_vote_count":0,"up_vote_count":245,"is_accepted":true,"score":245,"last_activity_date":1642211080,"creation_date":1259190660,"answer_id":1800583,"question_id":1800317,"body_markdown":"The `ThreadPoolExecutor` has the following several key behaviors, and your problems can be explained by these behaviors.\r\n\r\nWhen tasks are submitted,\r\n\r\n 1. If the thread pool has not reached the core size, it creates new threads.\r\n 2. If the core size has been reached and there is no idle threads, it queues tasks.\r\n 3. If the core size has been reached, there is no idle threads, and the queue becomes full, it creates new threads (until it reaches the max size).\r\n 4. If the max size has been reached, there is no idle threads, and the queue becomes full, the rejection policy kicks in.\r\n\r\nIn the first example, note that the `SynchronousQueue` has essentially size of 0.  Therefore, the moment you reach the max size (3), the rejection policy kicks in (#4).\r\n\r\nIn the second example, the queue of choice is a `LinkedBlockingQueue` which has an unlimited size.  Therefore, you get stuck with behavior #2.\r\n\r\nYou cannot really tinker much with the cached type or the fixed type, as their behavior is almost completely determined.\r\n\r\nIf you want to have a bounded and dynamic thread pool, you need to use a positive core size and max size combined with a queue of a finite size.  For example,\r\n\r\n    new ThreadPoolExecutor(10, // core size\r\n        50, // max size\r\n        10*60, // idle timeout\r\n        TimeUnit.SECONDS,\r\n        new ArrayBlockingQueue&lt;Runnable&gt;(20)); // queue with a size\r\n\r\n\r\n**Addendum**: this is a fairly old answer, and it appears that JDK changed its behavior when it comes to core size of 0. Since JDK 1.6, if the core size is 0 and the pool does not have any threads, the ThreadPoolExecutor will add a thread to execute that task. Therefore, the core size of 0 is an exception to the rule above. Thanks [Steve][1] for [bringing][2] that to my attention.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3595685/steve\r\n  [2]: https://stackoverflow.com/questions/52253164/threadpoolexecutor-with-corepoolsize-0-should-not-execute-tasks-until-task-queue","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>The <code>ThreadPoolExecutor</code> has the following several key behaviors, and your problems can be explained by these behaviors.</p>\n<p>When tasks are submitted,</p>\n<ol>\n<li>If the thread pool has not reached the core size, it creates new threads.</li>\n<li>If the core size has been reached and there is no idle threads, it queues tasks.</li>\n<li>If the core size has been reached, there is no idle threads, and the queue becomes full, it creates new threads (until it reaches the max size).</li>\n<li>If the max size has been reached, there is no idle threads, and the queue becomes full, the rejection policy kicks in.</li>\n</ol>\n<p>In the first example, note that the <code>SynchronousQueue</code> has essentially size of 0.  Therefore, the moment you reach the max size (3), the rejection policy kicks in (#4).</p>\n<p>In the second example, the queue of choice is a <code>LinkedBlockingQueue</code> which has an unlimited size.  Therefore, you get stuck with behavior #2.</p>\n<p>You cannot really tinker much with the cached type or the fixed type, as their behavior is almost completely determined.</p>\n<p>If you want to have a bounded and dynamic thread pool, you need to use a positive core size and max size combined with a queue of a finite size.  For example,</p>\n<pre><code>new ThreadPoolExecutor(10, // core size\n    50, // max size\n    10*60, // idle timeout\n    TimeUnit.SECONDS,\n    new ArrayBlockingQueue&lt;Runnable&gt;(20)); // queue with a size\n</code></pre>\n<p><strong>Addendum</strong>: this is a fairly old answer, and it appears that JDK changed its behavior when it comes to core size of 0. Since JDK 1.6, if the core size is 0 and the pool does not have any threads, the ThreadPoolExecutor will add a thread to execute that task. Therefore, the core size of 0 is an exception to the rule above. Thanks <a href=\"https://stackoverflow.com/users/3595685/steve\">Steve</a> for <a href=\"https://stackoverflow.com/questions/52253164/threadpoolexecutor-with-corepoolsize-0-should-not-execute-tasks-until-task-queue\">bringing</a> that to my attention.</p>\n"},{"tags":[],"owner":{"account_id":680988,"reputation":51,"user_id":530888,"display_name":"paul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1324398135,"creation_date":1291510898,"answer_id":4356792,"question_id":1800317,"body_markdown":"None of the answers here fixed my problem, which had to do with creating a limited amount of HTTP connections using Apache&#39;s HTTP client (3.x version). Since it took me some hours to figure out a good setup, I&#39;ll share:\r\n\r\n    private ExecutorService executor = new ThreadPoolExecutor(5, 10, 60L,\r\n      TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;(),\r\n      Executors.defaultThreadFactory(), new ThreadPoolExecutor.CallerRunsPolicy());\r\n\r\n\r\nThis creates a `ThreadPoolExecutor` which starts with five and holds a maximum of ten simultaneously running threads using `CallerRunsPolicy` for executing.","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>None of the answers here fixed my problem, which had to do with creating a limited amount of HTTP connections using Apache's HTTP client (3.x version). Since it took me some hours to figure out a good setup, I'll share:</p>\n\n<pre><code>private ExecutorService executor = new ThreadPoolExecutor(5, 10, 60L,\n  TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;(),\n  Executors.defaultThreadFactory(), new ThreadPoolExecutor.CallerRunsPolicy());\n</code></pre>\n\n<p>This creates a <code>ThreadPoolExecutor</code> which starts with five and holds a maximum of ten simultaneously running threads using <code>CallerRunsPolicy</code> for executing.</p>\n"},{"tags":[],"owner":{"account_id":805970,"reputation":29,"user_id":917600,"display_name":"Ashkrit"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1314636553,"creation_date":1314612646,"answer_id":7228740,"question_id":1800317,"body_markdown":"there is one more option. Instead of using new SynchronousQueue you can use any other queue also, but you have to make sure its size is 1, so that will force executorservice to create new thread.","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>there is one more option. Instead of using new SynchronousQueue you can use any other queue also, but you have to make sure its size is 1, so that will force executorservice to create new thread.</p>\n"},{"tags":[],"owner":{"account_id":974653,"reputation":41,"user_id":996322,"display_name":"Stuart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318636655,"creation_date":1318635558,"answer_id":7774672,"question_id":1800317,"body_markdown":"Doesn&#39;t look as though any of the answers actually answer the question - in fact I can&#39;t see a way of doing this - even if you subclass from PooledExecutorService since many of the methods/properties are private e.g. making addIfUnderMaximumPoolSize was protected you could do the following:\r\n\r\n    class MyThreadPoolService extends ThreadPoolService {\r\n        public void execute(Runnable run) {\r\n            if (poolSize() == 0) {\r\n                if (addIfUnderMaximumPoolSize(run) != null)\r\n                    return;\r\n            }\r\n            super.execute(run);\r\n        }\r\n    }\r\n\r\nThe closest I got was this - but even that isn&#39;t a very good solution\r\n\r\n    new ThreadPoolExecutor(min, max, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()) {\r\n        public void execute(Runnable command) {\r\n            if (getPoolSize() == 0 &amp;&amp; getActiveCount() &lt; getMaximumPoolSize()) {\t\t\r\n                super.setCorePoolSize(super.getCorePoolSize() + 1);\r\n            }\r\n            super.execute(command);\r\n        }\r\n\r\n        protected void afterExecute(Runnable r, Throwable t) {\r\n             // nothing in the queue\r\n             if (getQueue().isEmpty() &amp;&amp; getPoolSize() &gt; min) {\r\n                 setCorePoolSize(getCorePoolSize() - 1);\r\n             }\r\n        };\r\n     };\r\n\r\np.s. not tested the above\r\n","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>Doesn't look as though any of the answers actually answer the question - in fact I can't see a way of doing this - even if you subclass from PooledExecutorService since many of the methods/properties are private e.g. making addIfUnderMaximumPoolSize was protected you could do the following:</p>\n\n<pre><code>class MyThreadPoolService extends ThreadPoolService {\n    public void execute(Runnable run) {\n        if (poolSize() == 0) {\n            if (addIfUnderMaximumPoolSize(run) != null)\n                return;\n        }\n        super.execute(run);\n    }\n}\n</code></pre>\n\n<p>The closest I got was this - but even that isn't a very good solution</p>\n\n<pre><code>new ThreadPoolExecutor(min, max, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()) {\n    public void execute(Runnable command) {\n        if (getPoolSize() == 0 &amp;&amp; getActiveCount() &lt; getMaximumPoolSize()) {        \n            super.setCorePoolSize(super.getCorePoolSize() + 1);\n        }\n        super.execute(command);\n    }\n\n    protected void afterExecute(Runnable r, Throwable t) {\n         // nothing in the queue\n         if (getQueue().isEmpty() &amp;&amp; getPoolSize() &gt; min) {\n             setCorePoolSize(getCorePoolSize() - 1);\n         }\n    };\n };\n</code></pre>\n\n<p>p.s. not tested the above</p>\n"},{"tags":[],"owner":{"account_id":974653,"reputation":41,"user_id":996322,"display_name":"Stuart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318643339,"creation_date":1318641503,"answer_id":7775135,"question_id":1800317,"body_markdown":"Here is another solution. I think this solution  behaves as you want it to (though not proud of this solution):\r\n\r\n\tfinal LinkedBlockingQueue&lt;Runnable&gt; queue = new LinkedBlockingQueue&lt;Runnable&gt;() {\r\n\t\tpublic boolean offer(Runnable o) {\r\n\t\t\tif (size() &gt; 1)\r\n\t\t\t\treturn false;\r\n\t\t\treturn super.offer(o);\r\n\t\t};\r\n\t\t\r\n\t    public boolean add(Runnable o) {\r\n\t        if (super.offer(o))\r\n\t            return true;\r\n\t        else\r\n\t            throw new IllegalStateException(&quot;Queue full&quot;);\r\n\t    }\r\n\t};\r\n\t\r\n\tRejectedExecutionHandler handler = new RejectedExecutionHandler() {\t\t\t\r\n\t\tpublic void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\r\n\t\t\tqueue.add(r);\r\n\t\t}\r\n\t};\r\n\t\r\n\tdbThreadExecutor =\r\n\t\t\tnew ThreadPoolExecutor(min, max, 60L, TimeUnit.SECONDS, queue, handler);\r\n\r\n","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>Here is another solution. I think this solution  behaves as you want it to (though not proud of this solution):</p>\n\n<pre><code>final LinkedBlockingQueue&lt;Runnable&gt; queue = new LinkedBlockingQueue&lt;Runnable&gt;() {\n    public boolean offer(Runnable o) {\n        if (size() &gt; 1)\n            return false;\n        return super.offer(o);\n    };\n\n    public boolean add(Runnable o) {\n        if (super.offer(o))\n            return true;\n        else\n            throw new IllegalStateException(\"Queue full\");\n    }\n};\n\nRejectedExecutionHandler handler = new RejectedExecutionHandler() {         \n    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n        queue.add(r);\n    }\n};\n\ndbThreadExecutor =\n        new ThreadPoolExecutor(min, max, 60L, TimeUnit.SECONDS, queue, handler);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1046052"},"down_vote_count":2,"up_vote_count":66,"is_accepted":false,"score":64,"last_activity_date":1321291496,"creation_date":1321291496,"answer_id":8125505,"question_id":1800317,"body_markdown":"Unless I&#39;ve missed something, the solution to the original question is simple. The following code implements the desired behavior as described by the original poster. It will spawn up to 5 threads to work on an unbounded queue and idle threads will terminate after 60 seconds.\r\n\r\n\ttp = new ThreadPoolExecutor(5, 5, 60, TimeUnit.SECONDS,\r\n                        new LinkedBlockingQueue&lt;Runnable&gt;());\r\n\ttp.allowCoreThreadTimeOut(true);\r\n\r\n\r\n","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>Unless I've missed something, the solution to the original question is simple. The following code implements the desired behavior as described by the original poster. It will spawn up to 5 threads to work on an unbounded queue and idle threads will terminate after 60 seconds.</p>\n\n<pre><code>tp = new ThreadPoolExecutor(5, 5, 60, TimeUnit.SECONDS,\n                    new LinkedBlockingQueue&lt;Runnable&gt;());\ntp.allowCoreThreadTimeOut(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376145661,"creation_date":1376145312,"answer_id":18162910,"question_id":1800317,"body_markdown":"Had same issue. *Since no other answer puts all issues together, I&#39;m adding mine:*\r\n\r\nIt is now clearly written in [docs][1]: If you use a queue that does not blocks (`LinkedBlockingQueue`) max threads setting has no effect, only core threads are used.\r\n\r\nso:\r\n\r\n    public class MyExecutor extends ThreadPoolExecutor {\r\n    \r\n        public MyExecutor() {\r\n            super(4, 4, 5,TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\n            allowCoreThreadTimeOut(true);\r\n        }\r\n      \r\n        public void setThreads(int n){\r\n            setMaximumPoolSize(Math.max(1, n));\r\n            setCorePoolSize(Math.max(1, n));\r\n        }\r\n    \r\n    }\r\n\r\nThis executor has:\r\n\r\n 1. No concept of max threads as we are using an unbounded queue. This is a good thing because such queue may cause executor to create massive number of non-core, extra threads if it follows its usual policy.\r\n\r\n 2. A queue of max size `Integer.MAX_VALUE`. `Submit()` will throw `RejectedExecutionException` if number of pending tasks exceeds `Integer.MAX_VALUE`. Not sure we will run out of memory first or this will happen.\r\n\r\n 3. Has 4 core threads possible. Idle core threads automatically exit if idle for 5 seconds.So, yes, strictly on demand threads.Number can be varied using `setThreads()` method.\r\n\r\n 4. Makes sure min number of core threads is never less than one, or else `submit()` will reject every task. Since core threads need to be &gt;= max threads the method `setThreads()` sets max threads as well, though max thread setting is useless for an unbounded queue.  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>Had same issue. <em>Since no other answer puts all issues together, I'm adding mine:</em></p>\n\n<p>It is now clearly written in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\">docs</a>: If you use a queue that does not blocks (<code>LinkedBlockingQueue</code>) max threads setting has no effect, only core threads are used.</p>\n\n<p>so:</p>\n\n<pre><code>public class MyExecutor extends ThreadPoolExecutor {\n\n    public MyExecutor() {\n        super(4, 4, 5,TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n        allowCoreThreadTimeOut(true);\n    }\n\n    public void setThreads(int n){\n        setMaximumPoolSize(Math.max(1, n));\n        setCorePoolSize(Math.max(1, n));\n    }\n\n}\n</code></pre>\n\n<p>This executor has:</p>\n\n<ol>\n<li><p>No concept of max threads as we are using an unbounded queue. This is a good thing because such queue may cause executor to create massive number of non-core, extra threads if it follows its usual policy.</p></li>\n<li><p>A queue of max size <code>Integer.MAX_VALUE</code>. <code>Submit()</code> will throw <code>RejectedExecutionException</code> if number of pending tasks exceeds <code>Integer.MAX_VALUE</code>. Not sure we will run out of memory first or this will happen.</p></li>\n<li><p>Has 4 core threads possible. Idle core threads automatically exit if idle for 5 seconds.So, yes, strictly on demand threads.Number can be varied using <code>setThreads()</code> method.</p></li>\n<li><p>Makes sure min number of core threads is never less than one, or else <code>submit()</code> will reject every task. Since core threads need to be >= max threads the method <code>setThreads()</code> sets max threads as well, though max thread setting is useless for an unbounded queue.  </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456887599,"creation_date":1456887599,"answer_id":35737672,"question_id":1800317,"body_markdown":"1. You can use `ThreadPoolExecutor` as suggested by **@sjlee**\r\n   \r\n   You can control the size of the pool dynamically. Have a look at this question for more details : \r\n\r\n  https://stackoverflow.com/questions/32527078/dynamic-thread-pool/32527532#32527532\r\n\r\n OR\r\n\r\n2. You can use [newWorkStealingPool][1] API, which has been introduced with java 8.\r\n\r\n        public static ExecutorService newWorkStealingPool()\r\n\r\n &gt; Creates a work-stealing thread pool using all available processors as its target parallelism level.\r\n\r\nBy default, the parallelism level is set to number of CPU cores in your server. If you have 4 core CPU server, thread pool size would be 4. This API returns `ForkJoinPool` type of `ExecutorService`  and allow work stealing of idle threads by stealing tasks from busy threads in ForkJoinPool. \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newWorkStealingPool--","title":"Impossible to make a cached thread pool with a size limit?","body":"<ol>\n<li><p>You can use <code>ThreadPoolExecutor</code> as suggested by <strong>@sjlee</strong></p>\n\n<p>You can control the size of the pool dynamically. Have a look at this question for more details : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/32527078/dynamic-thread-pool/32527532#32527532\">Dynamic Thread Pool</a></p>\n\n<p>OR</p></li>\n<li><p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newWorkStealingPool--\" rel=\"nofollow noreferrer\">newWorkStealingPool</a> API, which has been introduced with java 8.</p>\n\n<pre><code>public static ExecutorService newWorkStealingPool()\n</code></pre>\n\n<blockquote>\n  <p>Creates a work-stealing thread pool using all available processors as its target parallelism level.</p>\n</blockquote></li>\n</ol>\n\n<p>By default, the parallelism level is set to number of CPU cores in your server. If you have 4 core CPU server, thread pool size would be 4. This API returns <code>ForkJoinPool</code> type of <code>ExecutorService</code>  and allow work stealing of idle threads by stealing tasks from busy threads in ForkJoinPool. </p>\n"},{"tags":[],"owner":{"account_id":1281146,"reputation":1594,"user_id":1235217,"display_name":"Stefan Feuerhahn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565247653,"creation_date":1565081165,"answer_id":57372189,"question_id":1800317,"body_markdown":"The problem was summarized as follows:\r\n&gt;  I want something exactly like the cached thread pool (it creates threads on demand and then kills them after some timeout) but with a limit on the number of threads that it can create and the ability to continue to queue additional tasks once it has hit its thread limit.\r\n\r\nBefore pointing to the solution I will explain why the following solutions don&#39;t work:\r\n\r\n    new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;());\r\n\r\nThis will not queue any tasks when the limit of 3 is reached because SynchronousQueue, by definition, cannot hold any elements.\r\n\r\n    new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;());\r\n\r\nThis will not create more than a single thread because ThreadPoolExecutor only creates threads exceeding the corePoolSize if the queue is full. But LinkedBlockingQueue is never full.\r\n\r\n    ThreadPoolExecutor executor = new ThreadPoolExecutor(3, 3, 60, TimeUnit.SECONDS,\r\n        new LinkedBlockingQueue&lt;Runnable&gt;());\r\n    executor.allowCoreThreadTimeOut(true);\r\n\r\nThis will not reuse threads until the corePoolSize has been reached because ThreadPoolExecutor increases the number of threads until the corePoolSize is reached even if existing threads are idle. If you can live with this disadvantage then this is the easiest solution to the problem. It is also the solution described in &quot;Java Concurrency in Practice&quot; (footnote on p172).\r\n\r\nThe only complete solution to the described problem seems to be the one involving overriding the queue&#39;s `offer` method and writing a `RejectedExecutionHandler` as explained in the answers to this question: https://stackoverflow.com/q/19528304/1235217\r\n","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>The problem was summarized as follows:</p>\n\n<blockquote>\n  <p>I want something exactly like the cached thread pool (it creates threads on demand and then kills them after some timeout) but with a limit on the number of threads that it can create and the ability to continue to queue additional tasks once it has hit its thread limit.</p>\n</blockquote>\n\n<p>Before pointing to the solution I will explain why the following solutions don't work:</p>\n\n<pre><code>new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;());\n</code></pre>\n\n<p>This will not queue any tasks when the limit of 3 is reached because SynchronousQueue, by definition, cannot hold any elements.</p>\n\n<pre><code>new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;());\n</code></pre>\n\n<p>This will not create more than a single thread because ThreadPoolExecutor only creates threads exceeding the corePoolSize if the queue is full. But LinkedBlockingQueue is never full.</p>\n\n<pre><code>ThreadPoolExecutor executor = new ThreadPoolExecutor(3, 3, 60, TimeUnit.SECONDS,\n    new LinkedBlockingQueue&lt;Runnable&gt;());\nexecutor.allowCoreThreadTimeOut(true);\n</code></pre>\n\n<p>This will not reuse threads until the corePoolSize has been reached because ThreadPoolExecutor increases the number of threads until the corePoolSize is reached even if existing threads are idle. If you can live with this disadvantage then this is the easiest solution to the problem. It is also the solution described in \"Java Concurrency in Practice\" (footnote on p172).</p>\n\n<p>The only complete solution to the described problem seems to be the one involving overriding the queue's <code>offer</code> method and writing a <code>RejectedExecutionHandler</code> as explained in the answers to this question: <a href=\"https://stackoverflow.com/q/19528304/1235217\">How to get the ThreadPoolExecutor to increase threads to max before queueing?</a></p>\n"},{"tags":[],"owner":{"account_id":15833837,"reputation":21,"user_id":11424295,"display_name":"Ondřej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572088789,"creation_date":1571836722,"answer_id":58523814,"question_id":1800317,"body_markdown":"This works for Java8+ (and other, for now..)\r\n\r\n         Executor executor = new ThreadPoolExecutor(3, 3, 5, TimeUnit.SECONDS,\r\n                    new LinkedBlockingQueue&lt;&gt;()){{allowCoreThreadTimeOut(true);}};\r\nwhere 3 is the limit of threads count, and 5 is timeout for idle threads.\r\n\r\nIf you want to **check if it works yourself**, here is the code to do the job:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final int DESIRED_NUMBER_OF_THREADS=3; // limit of number of Threads for the task at a time\r\n        final int DESIRED_THREAD_IDLE_DEATH_TIMEOUT=5; //any idle Thread ends if it remains idle for X seconds\r\n        \r\n        System.out.println( java.lang.Thread.activeCount() + &quot; threads&quot;);\r\n        Executor executor = new ThreadPoolExecutor(DESIRED_NUMBER_OF_THREADS, DESIRED_NUMBER_OF_THREADS, DESIRED_THREAD_IDLE_DEATH_TIMEOUT, TimeUnit.SECONDS,\r\n                new LinkedBlockingQueue&lt;&gt;()) {{allowCoreThreadTimeOut(true);}};\r\n\r\n        System.out.println(java.lang.Thread.activeCount() + &quot; threads&quot;);\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            final int fi = i;\r\n            executor.execute(() -&gt; waitsout(&quot;starting hard thread computation &quot; + fi, &quot;hard thread computation done &quot; + fi,2000));\r\n        }\r\n        System.out.println(&quot;If this is UP, it works&quot;);\r\n\r\n        while (true) {\r\n            System.out.println(\r\n                    java.lang.Thread.activeCount() + &quot; threads&quot;);\r\n            Thread.sleep(700);\r\n        }\r\n\r\n    }\r\n\r\n    static void waitsout(String pre, String post, int timeout) {\r\n        try {\r\n            System.out.println(pre);\r\n            Thread.sleep(timeout);\r\n            System.out.println(post);\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\noutput of the code above for me is \r\n\r\n    1 threads\r\n    1 threads\r\n    If this is UP, it works\r\n    starting hard thread computation 0\r\n    4 threads\r\n    starting hard thread computation 2\r\n    starting hard thread computation 1\r\n    4 threads\r\n    4 threads\r\n    hard thread computation done 2\r\n    hard thread computation done 0\r\n    hard thread computation done 1\r\n    starting hard thread computation 3\r\n    starting hard thread computation 4\r\n    4 threads\r\n    4 threads\r\n    4 threads\r\n    hard thread computation done 3\r\n    hard thread computation done 4\r\n    4 threads\r\n    4 threads\r\n    4 threads\r\n    4 threads\r\n    3 threads\r\n    3 threads\r\n    3 threads\r\n    1 threads\r\n    1 threads","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>This works for Java8+ (and other, for now..)</p>\n\n<pre><code>     Executor executor = new ThreadPoolExecutor(3, 3, 5, TimeUnit.SECONDS,\n                new LinkedBlockingQueue&lt;&gt;()){{allowCoreThreadTimeOut(true);}};\n</code></pre>\n\n<p>where 3 is the limit of threads count, and 5 is timeout for idle threads.</p>\n\n<p>If you want to <strong>check if it works yourself</strong>, here is the code to do the job:</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    final int DESIRED_NUMBER_OF_THREADS=3; // limit of number of Threads for the task at a time\n    final int DESIRED_THREAD_IDLE_DEATH_TIMEOUT=5; //any idle Thread ends if it remains idle for X seconds\n\n    System.out.println( java.lang.Thread.activeCount() + \" threads\");\n    Executor executor = new ThreadPoolExecutor(DESIRED_NUMBER_OF_THREADS, DESIRED_NUMBER_OF_THREADS, DESIRED_THREAD_IDLE_DEATH_TIMEOUT, TimeUnit.SECONDS,\n            new LinkedBlockingQueue&lt;&gt;()) {{allowCoreThreadTimeOut(true);}};\n\n    System.out.println(java.lang.Thread.activeCount() + \" threads\");\n\n    for (int i = 0; i &lt; 5; i++) {\n        final int fi = i;\n        executor.execute(() -&gt; waitsout(\"starting hard thread computation \" + fi, \"hard thread computation done \" + fi,2000));\n    }\n    System.out.println(\"If this is UP, it works\");\n\n    while (true) {\n        System.out.println(\n                java.lang.Thread.activeCount() + \" threads\");\n        Thread.sleep(700);\n    }\n\n}\n\nstatic void waitsout(String pre, String post, int timeout) {\n    try {\n        System.out.println(pre);\n        Thread.sleep(timeout);\n        System.out.println(post);\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n\n<p>output of the code above for me is </p>\n\n<pre><code>1 threads\n1 threads\nIf this is UP, it works\nstarting hard thread computation 0\n4 threads\nstarting hard thread computation 2\nstarting hard thread computation 1\n4 threads\n4 threads\nhard thread computation done 2\nhard thread computation done 0\nhard thread computation done 1\nstarting hard thread computation 3\nstarting hard thread computation 4\n4 threads\n4 threads\n4 threads\nhard thread computation done 3\nhard thread computation done 4\n4 threads\n4 threads\n4 threads\n4 threads\n3 threads\n3 threads\n3 threads\n1 threads\n1 threads\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13351537,"reputation":1050,"user_id":9636618,"display_name":"Sepehr"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1612280176,"creation_date":1612280176,"answer_id":66012819,"question_id":1800317,"body_markdown":"I Recommend using [Signal][1] approach\r\n\r\n\r\n  [1]: https://github.com/signalapp/Signal-Android\r\n\r\nfrom **SignalExecutors** class:\r\n\r\n&gt; ThreadPoolExecutor will only create a new thread if the provided queue returns false from offer(). That means if you give it an unbounded queue, it&#39;ll only ever create 1 thread, no matter how long the queue gets. But if you bound the queue and submit more runnables than there are threads, your task is rejected and throws an exception. So we make a queue that will always return false if it&#39;s non-empty to ensure new threads get created. Then, if a task gets rejected, we simply add it to the queue.\r\n\r\n\r\n\r\n        public static ExecutorService newCachedBoundedExecutor(final String name, int minThreads, int maxThreads) {\r\n        ThreadPoolExecutor threadPool = new ThreadPoolExecutor(minThreads,\r\n                maxThreads,\r\n                30,\r\n                TimeUnit.SECONDS,\r\n                new LinkedBlockingQueue&lt;Runnable&gt;() {\r\n                    @Override\r\n                    public boolean offer(Runnable runnable) {\r\n                        if (size() &gt; 1 &amp;&amp; size() &lt;= maxThreads) {\r\n                            //create new thread\r\n                            return false;\r\n                        } else {\r\n                            return super.offer(runnable);\r\n                        }\r\n                    }\r\n                }, new NumberedThreadFactory(name));\r\n\r\n        threadPool.setRejectedExecutionHandler((runnable, executor) -&gt; {\r\n            try {\r\n                executor.getQueue().put(runnable);\r\n            } catch (InterruptedException e) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        });\r\n\r\n        return threadPool;\r\n    }\r\n\r\n   \r\n\r\n","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>I Recommend using <a href=\"https://github.com/signalapp/Signal-Android\" rel=\"nofollow noreferrer\">Signal</a> approach</p>\n<p>from <strong>SignalExecutors</strong> class:</p>\n<blockquote>\n<p>ThreadPoolExecutor will only create a new thread if the provided queue returns false from offer(). That means if you give it an unbounded queue, it'll only ever create 1 thread, no matter how long the queue gets. But if you bound the queue and submit more runnables than there are threads, your task is rejected and throws an exception. So we make a queue that will always return false if it's non-empty to ensure new threads get created. Then, if a task gets rejected, we simply add it to the queue.</p>\n</blockquote>\n<pre><code>    public static ExecutorService newCachedBoundedExecutor(final String name, int minThreads, int maxThreads) {\n    ThreadPoolExecutor threadPool = new ThreadPoolExecutor(minThreads,\n            maxThreads,\n            30,\n            TimeUnit.SECONDS,\n            new LinkedBlockingQueue&lt;Runnable&gt;() {\n                @Override\n                public boolean offer(Runnable runnable) {\n                    if (size() &gt; 1 &amp;&amp; size() &lt;= maxThreads) {\n                        //create new thread\n                        return false;\n                    } else {\n                        return super.offer(runnable);\n                    }\n                }\n            }, new NumberedThreadFactory(name));\n\n    threadPool.setRejectedExecutionHandler((runnable, executor) -&gt; {\n        try {\n            executor.getQueue().put(runnable);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n    });\n\n    return threadPool;\n}\n</code></pre>\n"}],"owner":{"account_id":75652,"reputation":12214,"user_id":216941,"accept_rate":86,"display_name":"Matt Wonlaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64061,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":1800583,"answer_count":14,"score":144,"last_activity_date":1642211080,"creation_date":1259187486,"question_id":1800317,"body_markdown":"It seems to be impossible to make a cached thread pool with a limit to the number of threads that it can create.\r\n\r\nHere is how static `Executors.newCachedThreadPool` is implemented in the standard Java library:\r\n\r\n     public static ExecutorService newCachedThreadPool() {\r\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\r\n                                      60L, TimeUnit.SECONDS,\r\n                                      new SynchronousQueue&lt;Runnable&gt;());\r\n    }\r\n\r\nSo, using that template to go on to create a fixed sized cached thread pool:\r\n\r\n    new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new SynchronusQueue&lt;Runable&gt;());\r\n\r\nNow if you use this and submit 3 tasks, everything will be fine.  Submitting any further tasks will result in rejected execution exceptions.\r\n\r\nTrying this:\r\n\r\n    new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runable&gt;());\r\n\r\nWill result in all threads executing sequentially.  I.e., the thread pool will never make more than one thread to handle your tasks.\r\n\r\nThis is a bug in the execute method of `ThreadPoolExecutor`?  Or maybe this is intentional?  Or there is some other way?\r\n\r\nEdit: I want something exactly like the cached thread pool (it creates threads on demand and then kills them after some timeout) but with a limit on the number of threads that it can create and the ability to continue to queue additional tasks once it has hit its thread limit.  According to sjlee&#39;s response this is impossible.  Looking at the `execute()` method of `ThreadPoolExecutor` it is indeed impossible.  I would need to subclass `ThreadPoolExecutor` and override `execute()` somewhat like `SwingWorker` does, but what `SwingWorker` does in its `execute()` is a complete hack.","title":"Impossible to make a cached thread pool with a size limit?","body":"<p>It seems to be impossible to make a cached thread pool with a limit to the number of threads that it can create.</p>\n<p>Here is how static <code>Executors.newCachedThreadPool</code> is implemented in the standard Java library:</p>\n<pre><code> public static ExecutorService newCachedThreadPool() {\n    return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\n                                  60L, TimeUnit.SECONDS,\n                                  new SynchronousQueue&lt;Runnable&gt;());\n}\n</code></pre>\n<p>So, using that template to go on to create a fixed sized cached thread pool:</p>\n<pre><code>new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new SynchronusQueue&lt;Runable&gt;());\n</code></pre>\n<p>Now if you use this and submit 3 tasks, everything will be fine.  Submitting any further tasks will result in rejected execution exceptions.</p>\n<p>Trying this:</p>\n<pre><code>new ThreadPoolExecutor(0, 3, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runable&gt;());\n</code></pre>\n<p>Will result in all threads executing sequentially.  I.e., the thread pool will never make more than one thread to handle your tasks.</p>\n<p>This is a bug in the execute method of <code>ThreadPoolExecutor</code>?  Or maybe this is intentional?  Or there is some other way?</p>\n<p>Edit: I want something exactly like the cached thread pool (it creates threads on demand and then kills them after some timeout) but with a limit on the number of threads that it can create and the ability to continue to queue additional tasks once it has hit its thread limit.  According to sjlee's response this is impossible.  Looking at the <code>execute()</code> method of <code>ThreadPoolExecutor</code> it is indeed impossible.  I would need to subclass <code>ThreadPoolExecutor</code> and override <code>execute()</code> somewhat like <code>SwingWorker</code> does, but what <code>SwingWorker</code> does in its <code>execute()</code> is a complete hack.</p>\n"},{"tags":["java","logging","log4j","log4j2","logback"],"owner":{"account_id":14117739,"reputation":101,"user_id":10199101,"display_name":"Di_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642211062,"creation_date":1640877645,"question_id":70533521,"body_markdown":"I&#39;m trying to convert an xml configuration file from log4j to logback, this is my log4j code that have\r\n\r\n    &lt;Property name=&quot;LOG_EXCEPTION_CONVERSION_WORD&quot;&gt;%xwEx&lt;/Property&gt;\r\n    &lt;Property name=&quot;LOG_DATEFORMAT_PATTERN&quot;&gt;yyyy-MM-dd HH:mm:ss.SSS&lt;/Property&gt;\r\n    &lt;Property name=&quot;LOG_LEVEL_PATTERN&quot;&gt;%highlight{%5level}{FATAL=white, ERROR=red, WARN=blue, INFO=black, DEBUG=green, TRACE=blue}&lt;/Property&gt;\r\n    &lt;Property name=&quot;CONSOLE_LOG_PATTERN&quot;&gt;%clr{%d{${LOG_DATEFORMAT_PATTERN}} ${LOG_LEVEL_PATTERN} ${sys:PID} --- [%t] %-40.40c{1.} : %m%n${sys:LOG_EXCEPTION_CONVERSION_WORD}}&lt;/Property&gt;\r\n\r\nI dont understand the property `LOG_EXCEPTION_CONVERSION_WORD`, what is `%xwEx` and what does it change on the pattern at the end, when I converted to logback, I didn&#39;t use it but I feel like I&#39;m missing something.\r\n\r\n**Edit:** saw what it means somewhere but dont know how to have the same thing with logback\r\n\r\nxwEx – the throwable conversion word. The ExtendedWhitespaceThrowablePatternConverter adds additional whitespace around the stack trace","title":"logback pattern conversion from log4j to logback","body":"<p>I'm trying to convert an xml configuration file from log4j to logback, this is my log4j code that have</p>\n<pre><code>&lt;Property name=&quot;LOG_EXCEPTION_CONVERSION_WORD&quot;&gt;%xwEx&lt;/Property&gt;\n&lt;Property name=&quot;LOG_DATEFORMAT_PATTERN&quot;&gt;yyyy-MM-dd HH:mm:ss.SSS&lt;/Property&gt;\n&lt;Property name=&quot;LOG_LEVEL_PATTERN&quot;&gt;%highlight{%5level}{FATAL=white, ERROR=red, WARN=blue, INFO=black, DEBUG=green, TRACE=blue}&lt;/Property&gt;\n&lt;Property name=&quot;CONSOLE_LOG_PATTERN&quot;&gt;%clr{%d{${LOG_DATEFORMAT_PATTERN}} ${LOG_LEVEL_PATTERN} ${sys:PID} --- [%t] %-40.40c{1.} : %m%n${sys:LOG_EXCEPTION_CONVERSION_WORD}}&lt;/Property&gt;\n</code></pre>\n<p>I dont understand the property <code>LOG_EXCEPTION_CONVERSION_WORD</code>, what is <code>%xwEx</code> and what does it change on the pattern at the end, when I converted to logback, I didn't use it but I feel like I'm missing something.</p>\n<p><strong>Edit:</strong> saw what it means somewhere but dont know how to have the same thing with logback</p>\n<p>xwEx – the throwable conversion word. The ExtendedWhitespaceThrowablePatternConverter adds additional whitespace around the stack trace</p>\n"},{"tags":["java","swing","jbutton","actionlistener","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641646794,"creation_date":1641646274,"answer_id":70632467,"question_id":70632435,"body_markdown":"Here is likely your problem:\r\n\r\n```\r\nJFrame mainMenu = (JFrame) e.getSource();\r\nJFrame dimensions = (JFrame) e.getSource();\r\n```\r\n\r\nThe `ActionEvent#getSource()` method returns the *source* that triggers the action, here a JButton, and you are trying to cast the ***same*** JButton object returned from this method as two different JFrames, which really doesn&#39;t make much sense, both because, again, the method doesn&#39;t return a JFrame and secondly, casting doesn&#39;t convert an object into two different objects. If you need a reference to the JFrame, pass it to where it is needed, such as by giving your ActionListener class a constructor that takes a JFrame parameter:\r\n\r\n```\r\nActionDimensions actionDimensions = new ActionDimensions(this);\r\n```\r\n\r\nand\r\n\r\n```\r\npublic class ActionDimensions implements ActionListener {\r\n\tprivate  MainMenu mainMenu;\r\n\t\r\n\tpublic ActionDimensions(MainMenu mainMenu) {\r\n\t\tthis.mainMenu = mainMenu;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// JFrame mainMenu = (JFrame) e.getSource();\r\n\t\t// JFrame dimensions = (JFrame) e.getSource();\r\n\t\tmainMenu.setVisible(false);\r\n\t\t\r\n\t\t// create a new Dimensions JFrame here?\r\n\t\tDimensions dimensions = new Dimensions();\r\n\t\t// .... other code\r\n\t\t\r\n\t\tdimensions.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\n Alternatively, you can get the JFrame that the button sits on by calling `SwingUtilities.getWindowAncestor(yourJButton)`.\r\n\r\nHaving said this, understand that no user is going to enjoy having multiple windows thrust at them, which is what swapping JFrames does, and there are much better ways of cleanly swapping views, such as with a [CardLayout tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html).  Please read [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/questions/9554636).","title":"Error when using ActionListener button click to hide a JFrame and reveal another","body":"<p>Here is likely your problem:</p>\n<pre><code>JFrame mainMenu = (JFrame) e.getSource();\nJFrame dimensions = (JFrame) e.getSource();\n</code></pre>\n<p>The <code>ActionEvent#getSource()</code> method returns the <em>source</em> that triggers the action, here a JButton, and you are trying to cast the <em><strong>same</strong></em> JButton object returned from this method as two different JFrames, which really doesn't make much sense, both because, again, the method doesn't return a JFrame and secondly, casting doesn't convert an object into two different objects. If you need a reference to the JFrame, pass it to where it is needed, such as by giving your ActionListener class a constructor that takes a JFrame parameter:</p>\n<pre><code>ActionDimensions actionDimensions = new ActionDimensions(this);\n</code></pre>\n<p>and</p>\n<pre><code>public class ActionDimensions implements ActionListener {\n    private  MainMenu mainMenu;\n    \n    public ActionDimensions(MainMenu mainMenu) {\n        this.mainMenu = mainMenu;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // JFrame mainMenu = (JFrame) e.getSource();\n        // JFrame dimensions = (JFrame) e.getSource();\n        mainMenu.setVisible(false);\n        \n        // create a new Dimensions JFrame here?\n        Dimensions dimensions = new Dimensions();\n        // .... other code\n        \n        dimensions.setVisible(true);\n    }\n}\n</code></pre>\n<p>Alternatively, you can get the JFrame that the button sits on by calling <code>SwingUtilities.getWindowAncestor(yourJButton)</code>.</p>\n<p>Having said this, understand that no user is going to enjoy having multiple windows thrust at them, which is what swapping JFrames does, and there are much better ways of cleanly swapping views, such as with a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout tutorial</a>.  Please read <a href=\"http://stackoverflow.com/questions/9554636\">The Use of Multiple JFrames, Good/Bad Practice?</a>.</p>\n"}],"owner":{"account_id":13417687,"reputation":45,"user_id":15411439,"display_name":"Teo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70632467,"answer_count":1,"score":1,"last_activity_date":1642210403,"creation_date":1641646045,"question_id":70632435,"body_markdown":"I&#39;m trying to &quot;open&quot; a different JFrame window on button click (in this case, the dimensions button), like when going through a menu. I have my 2 windows, Main function and ActionListener as separate classes.  When i click on the button that is supposed to redirect me to the other window, it simply shows an error, and doesn&#39;t hide the first window and reveal the second one. The error is: \r\n\r\n&gt;&quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.JButton cannot be cast to class javax.swing.JFrame (javax.swing.JButton and javax.swing.JFrame are in module java.desktop of loader &#39;bootstrap&#39;)\r\n\tat ActionDimensions.actionPerformed(ActionDimensions.java:8)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n&quot;\r\n\r\nFirst window:\r\n\r\n ```\r\npublic class MainMenu extends JFrame {\r\n    public MainMenu(){\r\n        setSize(300,600);\r\n        JPanel center = new JPanel();\r\n        center.setLayout(new GridLayout(3,1));\r\n        JButton MainMenuButtonStart = new JButton(&quot;Start&quot;);\r\n        JButton MainMenuButtonContinue = new JButton(&quot;Continue&quot;);\r\n        JButton MainMenuButtonDimensions = new JButton(&quot;Dimensions&quot;);\r\n        center.add(MainMenuButtonStart);\r\n        center.add(MainMenuButtonContinue);\r\n        center.add(MainMenuButtonDimensions);\r\n        ActionDimensions actionDimensions = new ActionDimensions();\r\n        MainMenuButtonDimensions.addActionListener(actionDimensions);\r\n        add(center, BorderLayout.CENTER);\r\n\r\n    }\r\n}\r\n ```\r\nSecond window:\r\n ```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Dimensions extends JFrame {\r\n    public Dimensions(){\r\n        setSize(600,500);\r\n        JPanel north = new JPanel();\r\n        JLabel labelnorth = new JLabel(&quot;Enter Dimensions! Rows and Columns&quot;);\r\n        north.add(labelnorth);\r\n        JPanel center = new JPanel();\r\n        JPanel south = new JPanel();\r\n        JButton buttonsouth = new JButton(&quot;Return to Main Menu&quot;);\r\n        south.add(buttonsouth);\r\n        center.setLayout(new GridLayout(1,2));\r\n        TextField rowtextfield = new TextField();\r\n        TextField columntextfield = new TextField();\r\n        center.add(rowtextfield);\r\n        center.add(columntextfield);\r\n        add(north,BorderLayout.NORTH);\r\n        add(center,BorderLayout.CENTER);\r\n        add(south,BorderLayout.SOUTH);\r\n ```\r\nMain function:\r\n ```\r\n public class Main {\r\n    public static void main(String[] args) {\r\n        MainMenu mainMenu = new MainMenu();\r\n        Dimensions dimensions = new Dimensions();\r\n        dimensions.setVisible(false);\r\n        mainMenu.setVisible(true);\r\n        mainMenu.setDefaultCloseOperation(3);\r\n\r\n    }\r\n}\r\n ```\r\nThe action listener:\r\n ```\r\npublic class ActionDimensions implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n    JFrame mainMenu = (JFrame) e.getSource();\r\n    JFrame dimensions = (JFrame) e.getSource();\r\n    mainMenu.setVisible(false);\r\n    dimensions.setVisible(true);\r\n    }\r\n}\r\n ```\r\nI think the problem is that i&#39;m trying to use the getsource() method through a frame, but otherwise i can&#39;t access the instances (mainmenu and dimensions) if i don&#39;t specify that method. If that is the case, what other way can i connect the setVisible methods to the instances inside the ActionListener? ","title":"Error when using ActionListener button click to hide a JFrame and reveal another","body":"<p>I'm trying to &quot;open&quot; a different JFrame window on button click (in this case, the dimensions button), like when going through a menu. I have my 2 windows, Main function and ActionListener as separate classes.  When i click on the button that is supposed to redirect me to the other window, it simply shows an error, and doesn't hide the first window and reveal the second one. The error is:</p>\n<blockquote>\n<p>&quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.JButton cannot be cast to class javax.swing.JFrame (javax.swing.JButton and javax.swing.JFrame are in module java.desktop of loader 'bootstrap')\nat ActionDimensions.actionPerformed(ActionDimensions.java:8)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\nat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\nat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\nat java.desktop/java.awt.Component.processEvent(Component.java:6391)\nat java.desktop/java.awt.Container.processEvent(Container.java:2266)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\nat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\nat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\nat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n&quot;</p>\n</blockquote>\n<p>First window:</p>\n<pre><code>public class MainMenu extends JFrame {\n   public MainMenu(){\n       setSize(300,600);\n       JPanel center = new JPanel();\n       center.setLayout(new GridLayout(3,1));\n       JButton MainMenuButtonStart = new JButton(&quot;Start&quot;);\n       JButton MainMenuButtonContinue = new JButton(&quot;Continue&quot;);\n       JButton MainMenuButtonDimensions = new JButton(&quot;Dimensions&quot;);\n       center.add(MainMenuButtonStart);\n       center.add(MainMenuButtonContinue);\n       center.add(MainMenuButtonDimensions);\n       ActionDimensions actionDimensions = new ActionDimensions();\n       MainMenuButtonDimensions.addActionListener(actionDimensions);\n       add(center, BorderLayout.CENTER);\n\n   }\n}\n</code></pre>\n<p>Second window:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Dimensions extends JFrame {\n   public Dimensions(){\n       setSize(600,500);\n       JPanel north = new JPanel();\n       JLabel labelnorth = new JLabel(&quot;Enter Dimensions! Rows and Columns&quot;);\n       north.add(labelnorth);\n       JPanel center = new JPanel();\n       JPanel south = new JPanel();\n       JButton buttonsouth = new JButton(&quot;Return to Main Menu&quot;);\n       south.add(buttonsouth);\n       center.setLayout(new GridLayout(1,2));\n       TextField rowtextfield = new TextField();\n       TextField columntextfield = new TextField();\n       center.add(rowtextfield);\n       center.add(columntextfield);\n       add(north,BorderLayout.NORTH);\n       add(center,BorderLayout.CENTER);\n       add(south,BorderLayout.SOUTH);\n</code></pre>\n<p>Main function:</p>\n<pre><code>public class Main {\n   public static void main(String[] args) {\n       MainMenu mainMenu = new MainMenu();\n       Dimensions dimensions = new Dimensions();\n       dimensions.setVisible(false);\n       mainMenu.setVisible(true);\n       mainMenu.setDefaultCloseOperation(3);\n\n   }\n}\n</code></pre>\n<p>The action listener:</p>\n<pre><code>public class ActionDimensions implements ActionListener {\n   @Override\n   public void actionPerformed(ActionEvent e) {\n   JFrame mainMenu = (JFrame) e.getSource();\n   JFrame dimensions = (JFrame) e.getSource();\n   mainMenu.setVisible(false);\n   dimensions.setVisible(true);\n   }\n}\n</code></pre>\n<p>I think the problem is that i'm trying to use the getsource() method through a frame, but otherwise i can't access the instances (mainmenu and dimensions) if i don't specify that method. If that is the case, what other way can i connect the setVisible methods to the instances inside the ActionListener?</p>\n"},{"tags":["java","postgresql","hibernate","lazy-loading"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642209967,"creation_date":1642209967,"answer_id":70718205,"question_id":70692623,"body_markdown":"The lazy fetching does not include the computed property in your `SELECT DISTINCT` clause, which then causes this error, since there is now a property in the `ORDER BY` clause, which is not selected.\r\n\r\nThis is restricted by postgres because the `DISTINCT` could remove duplicate rows from the result which may actually have different `ORDER BY` values, so that the decision on how to order the selected rows cannot be made:\r\nhttps://stackoverflow.com/questions/12693089/pgerror-select-distinct-order-by-expressions-must-appear-in-select-list","title":"Hibernate @Formula lazy-loading for JPA Sort","body":"<p>The lazy fetching does not include the computed property in your <code>SELECT DISTINCT</code> clause, which then causes this error, since there is now a property in the <code>ORDER BY</code> clause, which is not selected.</p>\n<p>This is restricted by postgres because the <code>DISTINCT</code> could remove duplicate rows from the result which may actually have different <code>ORDER BY</code> values, so that the decision on how to order the selected rows cannot be made:\n<a href=\"https://stackoverflow.com/questions/12693089/pgerror-select-distinct-order-by-expressions-must-appear-in-select-list\">PG::Error: SELECT DISTINCT, ORDER BY expressions must appear in select list</a></p>\n"}],"owner":{"account_id":23926635,"reputation":37,"user_id":17921672,"display_name":"Damir Yablonskikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70718205,"answer_count":1,"score":1,"last_activity_date":1642209967,"creation_date":1642057515,"question_id":70692623,"body_markdown":"I have Entity with `@Formula` field, which contains select expression. Then I refer to this field as Hibernate meta-model&#39;s string attribute and use it in `Sort.by()` and therefore in `PageRequest.of()` methods. It works just fine until I add `@Basic(fetch = FetchType.Lazy)`, after that I get `Caused by: org.postgresql.util.PSQLException: ERROR: for SELECT DISTINCT, ORDER BY expressions must appear in select list` with `o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P10`.\r\n\r\nWhat exactly I&#39;m doing wrong?\r\n\r\nP. S. I&#39;ve turned on hibernate-enhance with `enableLazyInitialization = true` (otherwise lazy-loading for @Formula field won&#39;t work, as much as I know)\r\n\r\nField code looks like this:\r\n\r\n```java\r\n    @Formula(&quot;(SELECT st.fio &quot; +\r\n            &quot;FROM conjunction_table ct &quot; +\r\n            &quot;JOIN second_table st ON st.id = ct.second_table_id &quot; +\r\n            &quot;WHERE ct.first_table_id = id &quot; +\r\n            &quot;ORDER BY st.fio &quot; +\r\n            &quot;LIMIT 1)&quot;)\r\n    @Basic(fetch = FetchType.LAZY)\r\n    private String secondTableFio;\r\n```","title":"Hibernate @Formula lazy-loading for JPA Sort","body":"<p>I have Entity with <code>@Formula</code> field, which contains select expression. Then I refer to this field as Hibernate meta-model's string attribute and use it in <code>Sort.by()</code> and therefore in <code>PageRequest.of()</code> methods. It works just fine until I add <code>@Basic(fetch = FetchType.Lazy)</code>, after that I get <code>Caused by: org.postgresql.util.PSQLException: ERROR: for SELECT DISTINCT, ORDER BY expressions must appear in select list</code> with <code>o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P10</code>.</p>\n<p>What exactly I'm doing wrong?</p>\n<p>P. S. I've turned on hibernate-enhance with <code>enableLazyInitialization = true</code> (otherwise lazy-loading for @Formula field won't work, as much as I know)</p>\n<p>Field code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Formula(&quot;(SELECT st.fio &quot; +\n            &quot;FROM conjunction_table ct &quot; +\n            &quot;JOIN second_table st ON st.id = ct.second_table_id &quot; +\n            &quot;WHERE ct.first_table_id = id &quot; +\n            &quot;ORDER BY st.fio &quot; +\n            &quot;LIMIT 1)&quot;)\n    @Basic(fetch = FetchType.LAZY)\n    private String secondTableFio;\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1642139971,"post_id":70706497,"comment_id":124996928,"body_markdown":"You can always cap the heap smaller.","body":"You can always cap the heap smaller."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1642145662,"post_id":70706497,"comment_id":124998040,"body_markdown":"the more full gc events, the lesser the application throughput. There is always a tradeoff. Reduce the heap and the GC events will increase. Whether these are full GCs or not depends on a variety of factors and there are different for different algorithms and JVM versions.","body":"the more full gc events, the lesser the application throughput. There is always a tradeoff. Reduce the heap and the GC events will increase. Whether these are full GCs or not depends on a variety of factors and there are different for different algorithms and JVM versions."},{"owner":{"account_id":1941777,"reputation":3143,"user_id":1747834,"accept_rate":58,"display_name":"Mikhail T."},"score":0,"creation_date":1642184008,"post_id":70706497,"comment_id":125012016,"body_markdown":"@LouisWasserman, we had the heap at 1Gb initially -- it would get busted _once in a while_, when the demand for memory spikes. So we increased it to 4Gb and now we see it _always_ hovering around 3Gb instead of only, when there is actual demand. This seems to be G1&#39;s standard behavior -- either we need to tweak it out of it, or change to ParallelGC, I guess... Hence, this question...","body":"@LouisWasserman, we had the heap at 1Gb initially -- it would get busted <i>once in a while</i>, when the demand for memory spikes. So we increased it to 4Gb and now we see it <i>always</i> hovering around 3Gb instead of only, when there is actual demand. This seems to be G1&#39;s standard behavior -- either we need to tweak it out of it, or change to ParallelGC, I guess... Hence, this question..."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642208187,"creation_date":1642144027,"answer_id":70707089,"question_id":70706497,"body_markdown":"&gt; How to force a Java-process to perform GC?\r\n\r\nIt can trigger a full garbage collection by calling `System.gc()`.  Or you can do this externally; e.g. with `jconsole` or (I think) `jcmd`.\r\n\r\nCaveats:\r\n\r\n 1.  Depending on JVM&#39;s command line options a call to `System.gc()` may be ignored; i.e. it may do nothing.\r\n\r\n 2.  Calling `System.gc()` on a regular basis is a bad idea.  It is bad for performance, because a full GC is expensive (compared to a new generation  collection) and because running the GC when there isn&#39;t a lot of garbage does a lot of work for little benefit.\r\n\r\n     See https://stackoverflow.com/questions/2414105\r\n\r\n---------------\r\n\r\nThe interesting issue is why triggering a GC had that (on the face of it) beneficial effect.  There is not enough evidence to be sure, but I suspect that your JVM&#39;s heap had probably expanded to deal with a previous event where it has a very large working set.  Those object were presumably garbage collected, but the JVM was left with an oversized heap.\r\n\r\nThe JVM will downsize the heap when it detects that it is too large.  However that determination is only made following a full GC.  Presumably, since what was happening before you hit the button was that the JVM was only doing new space collections ... because the fast majority of new objects were &quot;dying young&quot;.  That meant that the heap stayed large.\r\n\r\nIf the above hypothesis is correct, there is a related issue.  What if the heap actually needs to be that large in the long term?  What if you get *another* event where the GC needs a very large working set?  Answer, it will need to grow the heap again.  And that will entail at least one full GC and possibly more ... to get it to the required size.\r\n\r\nWhat to do?\r\n\r\n- Some Java GCs allow you to tune the heap resizing parameters.\r\n- Some Java GCs allow you to run the GC periodically ... and make the periodic GC a full GC.\r\n- Some Java GCs are designed to be less inclined to &quot;hog&quot; memory.\r\n\r\nI would recommend using those rather than calling `System.gc()` ... and hoping.\r\n\r\nOr maybe the best thing to do would be to leave it alone.  \r\n\r\nQuestion: Imagine if you squeeze the JVM&#39;s heap usage and then use the RAM you reclaimed for other things. Then another batch comes on requiring a (temporarily) large heap again.  What happens?  \r\n\r\nAnswer: bad things!  Your Java heap expands to accommodate the larger working set, the system runs short of RAM and starts stealing pages from other processes, the system thrashing, and the OOM killer starts killing process.\r\n\r\n------------------------------\r\n\r\nProbably the most up to date resource on GC tuning is:\r\n\r\n  - [HotSpot Virtual Machine Garbage Collection Tuning Guide for Java 17.][1]\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/gctuning/","title":"How to force a Java-process to perform GC?","body":"<blockquote>\n<p>How to force a Java-process to perform GC?</p>\n</blockquote>\n<p>It can trigger a full garbage collection by calling <code>System.gc()</code>.  Or you can do this externally; e.g. with <code>jconsole</code> or (I think) <code>jcmd</code>.</p>\n<p>Caveats:</p>\n<ol>\n<li><p>Depending on JVM's command line options a call to <code>System.gc()</code> may be ignored; i.e. it may do nothing.</p>\n</li>\n<li><p>Calling <code>System.gc()</code> on a regular basis is a bad idea.  It is bad for performance, because a full GC is expensive (compared to a new generation  collection) and because running the GC when there isn't a lot of garbage does a lot of work for little benefit.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2414105\">Why is it bad practice to call System.gc()?</a></p>\n</li>\n</ol>\n<hr />\n<p>The interesting issue is why triggering a GC had that (on the face of it) beneficial effect.  There is not enough evidence to be sure, but I suspect that your JVM's heap had probably expanded to deal with a previous event where it has a very large working set.  Those object were presumably garbage collected, but the JVM was left with an oversized heap.</p>\n<p>The JVM will downsize the heap when it detects that it is too large.  However that determination is only made following a full GC.  Presumably, since what was happening before you hit the button was that the JVM was only doing new space collections ... because the fast majority of new objects were &quot;dying young&quot;.  That meant that the heap stayed large.</p>\n<p>If the above hypothesis is correct, there is a related issue.  What if the heap actually needs to be that large in the long term?  What if you get <em>another</em> event where the GC needs a very large working set?  Answer, it will need to grow the heap again.  And that will entail at least one full GC and possibly more ... to get it to the required size.</p>\n<p>What to do?</p>\n<ul>\n<li>Some Java GCs allow you to tune the heap resizing parameters.</li>\n<li>Some Java GCs allow you to run the GC periodically ... and make the periodic GC a full GC.</li>\n<li>Some Java GCs are designed to be less inclined to &quot;hog&quot; memory.</li>\n</ul>\n<p>I would recommend using those rather than calling <code>System.gc()</code> ... and hoping.</p>\n<p>Or maybe the best thing to do would be to leave it alone.</p>\n<p>Question: Imagine if you squeeze the JVM's heap usage and then use the RAM you reclaimed for other things. Then another batch comes on requiring a (temporarily) large heap again.  What happens?</p>\n<p>Answer: bad things!  Your Java heap expands to accommodate the larger working set, the system runs short of RAM and starts stealing pages from other processes, the system thrashing, and the OOM killer starts killing process.</p>\n<hr />\n<p>Probably the most up to date resource on GC tuning is:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/\" rel=\"nofollow noreferrer\">HotSpot Virtual Machine Garbage Collection Tuning Guide for Java 17.</a></li>\n</ul>\n"}],"owner":{"account_id":1941777,"reputation":3143,"user_id":1747834,"accept_rate":58,"display_name":"Mikhail T."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642208187,"creation_date":1642139393,"question_id":70706497,"body_markdown":"While watching a Java-process with `jconsole`, I saw its heap-usage fluctuate between under 1Gb and above 3Gb. The same figures were output by the process itself -- we have GC-logging enabled.\r\n\r\nOn a whim I pressed the &quot;Perform GC&quot; button in `jconsole`, and the effect was quite dramatic -- the heap-usage fell under 1Gb _and stayed there_. It was still fluctuating, as might be expected, but never to the heights seen before.\r\n\r\n[![the red arrow points at when I forced garbage-collection][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ds5ej.png\r\n\r\nThis is Java-11 on Linux. Are there, perhaps, some JVM options to achieve more aggressive garbage-collection without a manual intervention? We have the CPU -- this app is mostly I/O bound anyway -- but we could use the 2Gb better than to store _garbage_...\r\n\r\nUpdate, no, this is not a duplicate of [the earlier question](/questions/30458195/):\r\n* I&#39;m not asking _why_ here, I&#39;m asking for practical tips on _what to do_.\r\n* The JVM is much newer -- 7 years, and G1 is now the default GC, unlike back then.","title":"How to force a Java-process to perform GC?","body":"<p>While watching a Java-process with <code>jconsole</code>, I saw its heap-usage fluctuate between under 1Gb and above 3Gb. The same figures were output by the process itself -- we have GC-logging enabled.</p>\n<p>On a whim I pressed the &quot;Perform GC&quot; button in <code>jconsole</code>, and the effect was quite dramatic -- the heap-usage fell under 1Gb <em>and stayed there</em>. It was still fluctuating, as might be expected, but never to the heights seen before.</p>\n<p><a href=\"https://i.stack.imgur.com/ds5ej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ds5ej.png\" alt=\"the red arrow points at when I forced garbage-collection\" /></a></p>\n<p>This is Java-11 on Linux. Are there, perhaps, some JVM options to achieve more aggressive garbage-collection without a manual intervention? We have the CPU -- this app is mostly I/O bound anyway -- but we could use the 2Gb better than to store <em>garbage</em>...</p>\n<p>Update, no, this is not a duplicate of <a href=\"/questions/30458195/\">the earlier question</a>:</p>\n<ul>\n<li>I'm not asking <em>why</em> here, I'm asking for practical tips on <em>what to do</em>.</li>\n<li>The JVM is much newer -- 7 years, and G1 is now the default GC, unlike back then.</li>\n</ul>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601460258,"creation_date":1601460258,"answer_id":64135257,"question_id":64121046,"body_markdown":"Using a custom `ThreadPoolExecutor` did fix my problem.  \r\nFound this solution using this [answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19329668/11825162","title":"Log4j ThreadContext MultiThread won&#39;t inherit","body":"<p>Using a custom <code>ThreadPoolExecutor</code> did fix my problem.<br />\nFound this solution using this <a href=\"https://stackoverflow.com/a/19329668/11825162\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":21555005,"reputation":23,"user_id":15890420,"display_name":"jonathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642206824,"creation_date":1642206824,"answer_id":70717962,"question_id":64121046,"body_markdown":"Just encountered this problem.  Found setting -DisThreadContextMapInheritable=true at application startup works, even though setting it in the code does not.","title":"Log4j ThreadContext MultiThread won&#39;t inherit","body":"<p>Just encountered this problem.  Found setting -DisThreadContextMapInheritable=true at application startup works, even though setting it in the code does not.</p>\n"}],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642206824,"creation_date":1601387500,"question_id":64121046,"body_markdown":"I encounter this [post][1]&#39;s problem  \r\nHere my sample of code \r\n```java\r\npublic class StackOverflow implements RequestHandler&lt;Map&lt;String, String&gt;, ApiGatewayResponse&gt; {\r\n    private static final Logger LOGGER = LogManager.getLogger(StackOverflow.class);\r\n\r\n    public abstract class StreamGobbler extends Thread {\r\n        // Working Interceptor using this.print(&quot;message&quot;)\r\n        public abstract void print(String line);\r\n    }\r\n\r\n    private class ErrStreamGobbler extends StreamGobbler {\r\n        ErrStreamGobbler(InputStream in) { super(in); }\r\n\r\n        @Override\r\n        public void print(String line) { LOGGER.error(line); }\r\n    }\r\n\r\n    private class OutStreamGobbler extends StreamGobbler {\r\n        OutStreamGobbler(InputStream in) { super(in); }\r\n\r\n        @Override\r\n        public void print(String line) { LOGGER.info(line); }\r\n    }\r\n\r\n\r\n    // MAIN METHOD\r\n    @Override\r\n    public ApiGatewayResponse handleRequest(Map&lt;String, String&gt; params, Context context) {\r\n        // ThreadContext propagation\r\n        System.setProperty(&quot;isThreadContextMapInheritable&quot;, &quot;true&quot;);\r\n        ThreadContext.put(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n        LOGGER.info(&quot;Hello from main&quot;);\r\n\r\n        // My process will return value on System.in &amp; System.out\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;sh&quot;, String.format(&quot;batchs/JOB_FOO/run.sh&quot;));\r\n        Process p = pb.start();\r\n        // Intercept those logs\r\n        new ErrStreamGobbler(p.getErrorStream()).start();\r\n        new OutStreamGobbler(p.getInputStream()).start();\r\n        p.waitFor();\r\n    }\r\n}\r\n```\r\nThe `ThreadContext` from `LOGGER.info(&quot;Hello from main&quot;);` does work and also prints `foo: bar`.  \r\nBut my child threads `StreamGobbler` doesn&#39;t get `ThreadContext` and won&#39;t print `foo: bar` as a log4j property event if `isThreadContextMapInheritable` is set to `true`.\r\n\r\n  [1]: https://stackoverflow.com/questions/49675779/log4j2-threadcontext-map-is-not-working-for-parallelstream","title":"Log4j ThreadContext MultiThread won&#39;t inherit","body":"<p>I encounter this <a href=\"https://stackoverflow.com/questions/49675779/log4j2-threadcontext-map-is-not-working-for-parallelstream\">post</a>'s problem<br />\nHere my sample of code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StackOverflow implements RequestHandler&lt;Map&lt;String, String&gt;, ApiGatewayResponse&gt; {\n    private static final Logger LOGGER = LogManager.getLogger(StackOverflow.class);\n\n    public abstract class StreamGobbler extends Thread {\n        // Working Interceptor using this.print(&quot;message&quot;)\n        public abstract void print(String line);\n    }\n\n    private class ErrStreamGobbler extends StreamGobbler {\n        ErrStreamGobbler(InputStream in) { super(in); }\n\n        @Override\n        public void print(String line) { LOGGER.error(line); }\n    }\n\n    private class OutStreamGobbler extends StreamGobbler {\n        OutStreamGobbler(InputStream in) { super(in); }\n\n        @Override\n        public void print(String line) { LOGGER.info(line); }\n    }\n\n\n    // MAIN METHOD\n    @Override\n    public ApiGatewayResponse handleRequest(Map&lt;String, String&gt; params, Context context) {\n        // ThreadContext propagation\n        System.setProperty(&quot;isThreadContextMapInheritable&quot;, &quot;true&quot;);\n        ThreadContext.put(&quot;foo&quot;, &quot;bar&quot;);\n\n        LOGGER.info(&quot;Hello from main&quot;);\n\n        // My process will return value on System.in &amp; System.out\n        ProcessBuilder pb = new ProcessBuilder(&quot;sh&quot;, String.format(&quot;batchs/JOB_FOO/run.sh&quot;));\n        Process p = pb.start();\n        // Intercept those logs\n        new ErrStreamGobbler(p.getErrorStream()).start();\n        new OutStreamGobbler(p.getInputStream()).start();\n        p.waitFor();\n    }\n}\n</code></pre>\n<p>The <code>ThreadContext</code> from <code>LOGGER.info(&quot;Hello from main&quot;);</code> does work and also prints <code>foo: bar</code>.<br />\nBut my child threads <code>StreamGobbler</code> doesn't get <code>ThreadContext</code> and won't print <code>foo: bar</code> as a log4j property event if <code>isThreadContextMapInheritable</code> is set to <code>true</code>.</p>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"score":1,"creation_date":1395074233,"post_id":22460065,"comment_id":34161984,"body_markdown":"how about a case statement?","body":"how about a case statement?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1395074300,"post_id":22460065,"comment_id":34162032,"body_markdown":"If you can store your fields in a `List` or `Map` then just loop. Then with Java 8 you can `stream()` that collection and use a lambda. Without knowing the general structure of your code we cannot recommend what changes you could make to simplify your code.","body":"If you can store your fields in a <code>List</code> or <code>Map</code> then just loop. Then with Java 8 you can <code>stream()</code> that collection and use a lambda. Without knowing the general structure of your code we cannot recommend what changes you could make to simplify your code."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":2,"creation_date":1395074301,"post_id":22460065,"comment_id":34162035,"body_markdown":"Side note: It would be better to use `&quot;&quot;.equals(text1)` (and so on), to avoid `NullPointerException`s :)","body":"Side note: It would be better to use <code>&quot;&quot;.equals(text1)</code> (and so on), to avoid <code>NullPointerException</code>s :)"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1395074305,"post_id":22460065,"comment_id":34162039,"body_markdown":"Well, if you use Java 6+ you can replace that with `text1.isEmpty()`... Not that this answers your question.","body":"Well, if you use Java 6+ you can replace that with <code>text1.isEmpty()</code>... Not that this answers your question."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1395074357,"post_id":22460065,"comment_id":34162078,"body_markdown":"@BackSlash How is that better?","body":"@BackSlash How is that better?"},{"owner":{"account_id":1261327,"reputation":1121,"user_id":1219539,"accept_rate":89,"display_name":"Works On Mine"},"score":0,"creation_date":1395074368,"post_id":22460065,"comment_id":34162086,"body_markdown":"how about a function? you could handle exceptions too!","body":"how about a function? you could handle exceptions too!"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1395074404,"post_id":22460065,"comment_id":34162109,"body_markdown":"A question is where you use that statement; is that in a loop?","body":"A question is where you use that statement; is that in a loop?"},{"owner":{"account_id":1750215,"reputation":2335,"user_id":1599472,"accept_rate":67,"display_name":"Fabio Marcolini"},"score":0,"creation_date":1395074433,"post_id":22460065,"comment_id":34162124,"body_markdown":"I had the same problem I made a StringUtils class which contains a method isEqualsAny(string checked, string...args) which check inside a for if any of the args equals to the checked string. It might be useful if you have to do that check in multiple places.","body":"I had the same problem I made a StringUtils class which contains a method isEqualsAny(string checked, string...args) which check inside a for if any of the args equals to the checked string. It might be useful if you have to do that check in multiple places."},{"owner":{"account_id":542952,"reputation":44662,"user_id":911930,"accept_rate":97,"display_name":"Ilja"},"score":0,"creation_date":1395074448,"post_id":22460065,"comment_id":34162140,"body_markdown":"@fge no simple if condition inside a method, not looping.","body":"@fge no simple if condition inside a method, not looping."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1395075137,"post_id":22460065,"comment_id":34162544,"body_markdown":"@Boann It was a suggestion, because doing like I suggested will avoid `NullPointerException`s if `text1` (and all others) is `null`","body":"@Boann It was a suggestion, because doing like I suggested will avoid <code>NullPointerException</code>s if <code>text1</code> (and all others) is <code>null</code>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1395075722,"post_id":22460065,"comment_id":34162973,"body_markdown":"@BackSlash I see that. I just don&#39;t see how suppressing exceptions makes things better, or how allowing null or *non*-empty input is likely to be useful.","body":"@BackSlash I see that. I just don&#39;t see how suppressing exceptions makes things better, or how allowing null or <i>non</i>-empty input is likely to be useful."}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1395075130,"creation_date":1395074456,"answer_id":22460165,"question_id":22460065,"body_markdown":"You can do something like this:\r\n\r\n    if (Arrays.asList(text1, text2, etc).contains(&quot;&quot;))\r\n\r\nBut a better solution would depend on the context.\r\n\r\nNote however that this is  a little slower than your current code. If you don&#39;t execute that test a bazillion times a second, though, it should not matter.\r\n\r\n---\r\n**EDIT** since it has been learned in the comments that strings with only spaces should also satisfy the condition... Here goes:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;\\\\s*&quot;);\r\n    \r\n    private static boolean emptyOrSpacesOnly(final String... strings)\r\n    {\r\n        for (final String s: strings)\r\n            if (PATTERN.matcher(s).matches())\r\n                return true;\r\n        return false;\r\n    }\r\n\r\nThen, in code:\r\n\r\n    if (emptyOrSpacesOnly(text1, text2, etc))","title":"Is it correct to use multiple OR conditions in one if statement, what are alternatives?","body":"<p>You can do something like this:</p>\n\n<pre><code>if (Arrays.asList(text1, text2, etc).contains(\"\"))\n</code></pre>\n\n<p>But a better solution would depend on the context.</p>\n\n<p>Note however that this is  a little slower than your current code. If you don't execute that test a bazillion times a second, though, it should not matter.</p>\n\n<hr>\n\n<p><strong>EDIT</strong> since it has been learned in the comments that strings with only spaces should also satisfy the condition... Here goes:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"\\\\s*\");\n\nprivate static boolean emptyOrSpacesOnly(final String... strings)\n{\n    for (final String s: strings)\n        if (PATTERN.matcher(s).matches())\n            return true;\n    return false;\n}\n</code></pre>\n\n<p>Then, in code:</p>\n\n<pre><code>if (emptyOrSpacesOnly(text1, text2, etc))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395075052,"creation_date":1395075052,"answer_id":22460383,"question_id":22460065,"body_markdown":"[fge&#39;s solution](https://stackoverflow.com/a/22460165/474189) is certainly clever and reduces the lines of code. However, I feel some of the meaning is lost when glancing at that snippet of code.\r\n\r\nI would encourage you to embrace readable code, even if it&#39;s slightly more verbose. My solution would be to test these preconditions before beginning a method. If the precondition fails, throw an exception.\r\n\r\nEither write your own validation methods or use something like Apache Commons Lang [`Validate`](http://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/Validate.html) class. Then your code would look something like:\r\n\r\n    Validate.notEmpty(text1, &quot;error message&quot;);\r\n    Validate.notEmpty(text2, &quot;error message&quot;);\r\n    Validate.notEmpty(text3, &quot;error message&quot;);\r\n    Validate.notEmpty(text4, &quot;error message&quot;);\r\n    \r\n    // This line is only reached if all fields are non-empty\r\n\r\nI think this is easy to read, which is half the battle won.","title":"Is it correct to use multiple OR conditions in one if statement, what are alternatives?","body":"<p><a href=\"https://stackoverflow.com/a/22460165/474189\">fge's solution</a> is certainly clever and reduces the lines of code. However, I feel some of the meaning is lost when glancing at that snippet of code.</p>\n\n<p>I would encourage you to embrace readable code, even if it's slightly more verbose. My solution would be to test these preconditions before beginning a method. If the precondition fails, throw an exception.</p>\n\n<p>Either write your own validation methods or use something like Apache Commons Lang <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/Validate.html\" rel=\"nofollow noreferrer\"><code>Validate</code></a> class. Then your code would look something like:</p>\n\n<pre><code>Validate.notEmpty(text1, \"error message\");\nValidate.notEmpty(text2, \"error message\");\nValidate.notEmpty(text3, \"error message\");\nValidate.notEmpty(text4, \"error message\");\n\n// This line is only reached if all fields are non-empty\n</code></pre>\n\n<p>I think this is easy to read, which is half the battle won.</p>\n"}],"owner":{"account_id":542952,"reputation":44662,"user_id":911930,"accept_rate":97,"display_name":"Ilja"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22460165,"answer_count":2,"score":1,"last_activity_date":1642204739,"creation_date":1395074187,"question_id":22460065,"body_markdown":"I would like to know which way is more suitable and efficient in achieving something like: checking if text was entered in a field\r\n\r\n    if(text1.equals(&quot;&quot;) || text2.equals(&quot;&quot;) || text3.equals(&quot;&quot;) || text4.equals(&quot;&quot;)) {\r\n      //Do Stuff\r\n    }\r\n\r\nI can see how this gets messy quickly with more than 2 fields, and would like to know if this is a correct way to do this, or do alternatives exist?","title":"Is it correct to use multiple OR conditions in one if statement, what are alternatives?","body":"<p>I would like to know which way is more suitable and efficient in achieving something like: checking if text was entered in a field</p>\n<pre><code>if(text1.equals(&quot;&quot;) || text2.equals(&quot;&quot;) || text3.equals(&quot;&quot;) || text4.equals(&quot;&quot;)) {\n  //Do Stuff\n}\n</code></pre>\n<p>I can see how this gets messy quickly with more than 2 fields, and would like to know if this is a correct way to do this, or do alternatives exist?</p>\n"},{"tags":["java","dropwizard"],"comments":[{"owner":{"account_id":5494430,"reputation":1492,"user_id":4366051,"accept_rate":58,"display_name":"heaphach"},"score":0,"creation_date":1447085091,"post_id":30123271,"comment_id":55000669,"body_markdown":"2.) I think it is a dropwizard duration so you can do this:expireAfterAccess=15seconds","body":"2.) I think it is a dropwizard duration so you can do this:expireAfterAccess=15seconds"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431258850,"creation_date":1431258850,"answer_id":30151081,"question_id":30123271,"body_markdown":"I don&#39;t know about about &quot;2)&quot; but for &quot;1)&quot;, you simply need to wire the authenticator up to the Basic auth provider\r\n\r\n    CachingAuthenticator&lt;BasicCredentials, AuthUser&gt; cachingAuthenticator =\r\n            new CachingAuthenticator&lt;&gt;(environment.metrics(), new WebAuthenticator(), \r\n                    configuration.getAuthenticationCachePolicy());\r\n\r\n    environment.jersey().register(AuthFactory.binder(\r\n                new BasicAuthFactory&lt;&gt;(cachingAuthenticator,\r\n                         &quot;Example Realm&quot;, AuthUser.class)));","title":"Use of CachingAuthenticator in Dropwizard","body":"<p>I don't know about about \"2)\" but for \"1)\", you simply need to wire the authenticator up to the Basic auth provider</p>\n\n<pre><code>CachingAuthenticator&lt;BasicCredentials, AuthUser&gt; cachingAuthenticator =\n        new CachingAuthenticator&lt;&gt;(environment.metrics(), new WebAuthenticator(), \n                configuration.getAuthenticationCachePolicy());\n\nenvironment.jersey().register(AuthFactory.binder(\n            new BasicAuthFactory&lt;&gt;(cachingAuthenticator,\n                     \"Example Realm\", AuthUser.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384829,"reputation":343,"user_id":4500953,"accept_rate":100,"display_name":"Kedar Javalkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496922336,"creation_date":1496922336,"answer_id":44434882,"question_id":30123271,"body_markdown":"Working solution\r\n\r\n    /** authentication config */\r\n\tCachingAuthenticator&lt;BasicCredentials, AuthUser&gt; cachingAuthenticator = new CachingAuthenticator&lt;&gt;(\r\n\t\tenvironment.metrics(), new MyAuthenticator(), configuration.getAuthenticationCachePolicy());\r\n\t\r\n    environment.jersey().register(new AuthDynamicFeature(new BasicCredentialAuthFilter.Builder&lt;AuthUser&gt;()\r\n\t\t.setAuthenticator(cachingAuthenticator).setRealm(&quot;kedar.javalkar.realm&quot;).buildAuthFilter()));\r\n\t\r\n    environment.jersey().register(new AuthValueFactoryProvider.Binder&lt;&gt;(AuthUser.class));\r\n\r\n\r\nThe yml can either have \r\n\r\n    # Caching authenticator.\r\n    authenticationCachePolicy: maximumSize=10000, expireAfterAccess=10m\r\n\r\nor\r\n\r\n    # Caching authenticator.\r\n    authenticationCachePolicy: maximumSize=10000, expireAfterAccess=1s","title":"Use of CachingAuthenticator in Dropwizard","body":"<p>Working solution</p>\n\n<pre><code>/** authentication config */\nCachingAuthenticator&lt;BasicCredentials, AuthUser&gt; cachingAuthenticator = new CachingAuthenticator&lt;&gt;(\n    environment.metrics(), new MyAuthenticator(), configuration.getAuthenticationCachePolicy());\n\nenvironment.jersey().register(new AuthDynamicFeature(new BasicCredentialAuthFilter.Builder&lt;AuthUser&gt;()\n    .setAuthenticator(cachingAuthenticator).setRealm(\"kedar.javalkar.realm\").buildAuthFilter()));\n\nenvironment.jersey().register(new AuthValueFactoryProvider.Binder&lt;&gt;(AuthUser.class));\n</code></pre>\n\n<p>The yml can either have </p>\n\n<pre><code># Caching authenticator.\nauthenticationCachePolicy: maximumSize=10000, expireAfterAccess=10m\n</code></pre>\n\n<p>or</p>\n\n<pre><code># Caching authenticator.\nauthenticationCachePolicy: maximumSize=10000, expireAfterAccess=1s\n</code></pre>\n"}],"owner":{"account_id":5384829,"reputation":343,"user_id":4500953,"accept_rate":100,"display_name":"Kedar Javalkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44434882,"answer_count":2,"score":3,"last_activity_date":1642204703,"creation_date":1431086258,"question_id":30123271,"body_markdown":"I want to discard old authentications from dropwizard, which is why I&#39;m using blow configuration of CachingAuthenticator.\r\n\r\n    @Override \r\n    public void run(WebConfiguration configuration, Environment environment) {\r\n\t   environment.jersey().register(new ActivityResource());\r\n\t\t\r\n\t   CachingAuthenticator&lt;BasicCredentials, AuthUser&gt; cachingAuthenticator =\r\n\t\t\tnew CachingAuthenticator&lt;&gt;(environment.metrics(), new WebAuthenticator(), \r\n\t\t\t\t\tconfiguration.getAuthenticationCachePolicy());\r\n    }\r\n\r\n\r\nPolicy is in yml file as \r\n\r\n    authenticationCachePolicy: maximumSize=10, expireAfterAccess=1m\r\n\r\nMy questions are:\r\n\r\n1. how do I register(get it working) cachingAuthenticator so every request will be authenticated?\r\n\r\n2. How to set expireAfterAccess in seconds?\r\n\r\n3. Anything which is wrong in code, please suggest...\r\n","title":"Use of CachingAuthenticator in Dropwizard","body":"<p>I want to discard old authentications from dropwizard, which is why I'm using blow configuration of CachingAuthenticator.</p>\n<pre><code>@Override \npublic void run(WebConfiguration configuration, Environment environment) {\n   environment.jersey().register(new ActivityResource());\n    \n   CachingAuthenticator&lt;BasicCredentials, AuthUser&gt; cachingAuthenticator =\n        new CachingAuthenticator&lt;&gt;(environment.metrics(), new WebAuthenticator(), \n                configuration.getAuthenticationCachePolicy());\n}\n</code></pre>\n<p>Policy is in yml file as</p>\n<pre><code>authenticationCachePolicy: maximumSize=10, expireAfterAccess=1m\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li><p>how do I register(get it working) cachingAuthenticator so every request will be authenticated?</p>\n</li>\n<li><p>How to set expireAfterAccess in seconds?</p>\n</li>\n<li><p>Anything which is wrong in code, please suggest...</p>\n</li>\n</ol>\n"},{"tags":["java","saml","onelogin"],"comments":[{"owner":{"account_id":9955874,"reputation":1,"user_id":17916815,"display_name":"Joop Kaashoek"},"score":0,"creation_date":1642204182,"post_id":70685545,"comment_id":125017470,"body_markdown":"I.E. how does one represent SAML attributes with the Onelogin keys?","body":"I.E. how does one represent SAML attributes with the Onelogin keys?"},{"owner":{"account_id":9955874,"reputation":1,"user_id":17916815,"display_name":"Joop Kaashoek"},"score":0,"creation_date":1642207567,"post_id":70685545,"comment_id":125017971,"body_markdown":"I think we have an SP, not an  IDP","body":"I think we have an SP, not an  IDP"}],"owner":{"account_id":9955874,"reputation":1,"user_id":17916815,"display_name":"Joop Kaashoek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642203606,"creation_date":1642007069,"question_id":70685545,"body_markdown":"We have an IDP and like for our clients to include first and last name. Do we need to specify that in our metadata? We use the Java open source kit.\r\n\r\nI presume we need to add this to the metadata:\r\n```\r\n&lt;saml:AttributeStatement&gt;\r\n            &lt;saml:Attribute Name=&quot;EmailAddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n                &lt;saml:AttributeValue&gt;first_last@example.com&lt;/saml:AttributeValue&gt;\r\n            &lt;/saml:Attribute&gt;\r\n            &lt;saml:Attribute Name=&quot;FirstName&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n                &lt;saml:AttributeValue&gt;First&lt;/saml:AttributeValue&gt;\r\n            &lt;/saml:Attribute&gt;\r\n            &lt;saml:Attribute Name=&quot;LastName&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n                &lt;saml:AttributeValue&gt;Last&lt;/saml:AttributeValue&gt;\r\n            &lt;/saml:Attribute&gt;\r\n&lt;/saml:AttributeStatement&gt;\r\n```\r\nBut how do you do that when we use keys to create the metadata, such as\r\n```\r\n samlData.put(&quot;onelogin.saml2.sp.single_logout_service.binding&quot;, &quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;);\r\n```","title":"How to include givenName and surname in SAML metadata so that it is included, optionally","body":"<p>We have an IDP and like for our clients to include first and last name. Do we need to specify that in our metadata? We use the Java open source kit.</p>\n<p>I presume we need to add this to the metadata:</p>\n<pre><code>&lt;saml:AttributeStatement&gt;\n            &lt;saml:Attribute Name=&quot;EmailAddress&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n                &lt;saml:AttributeValue&gt;first_last@example.com&lt;/saml:AttributeValue&gt;\n            &lt;/saml:Attribute&gt;\n            &lt;saml:Attribute Name=&quot;FirstName&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n                &lt;saml:AttributeValue&gt;First&lt;/saml:AttributeValue&gt;\n            &lt;/saml:Attribute&gt;\n            &lt;saml:Attribute Name=&quot;LastName&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n                &lt;saml:AttributeValue&gt;Last&lt;/saml:AttributeValue&gt;\n            &lt;/saml:Attribute&gt;\n&lt;/saml:AttributeStatement&gt;\n</code></pre>\n<p>But how do you do that when we use keys to create the metadata, such as</p>\n<pre><code> samlData.put(&quot;onelogin.saml2.sp.single_logout_service.binding&quot;, &quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;);\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":2253934,"reputation":152,"user_id":2779074,"display_name":"Humpity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642194666,"creation_date":1642194666,"answer_id":70716554,"question_id":70716379,"body_markdown":"        current = new Node(data);\r\n\r\nIf current is null, this is effectively\r\n\r\nnull = new Node(data);\r\n\r\nwhich is an error and does not link your list.\r\n\r\nnull is not the end of your list, \r\nthe node that points to null is the end (not null).\r\n\r\nAnd you have to find and hold onto that.\r\n","title":"Linked List implementation: why cannot move to head.next before creating new node","body":"<pre><code>    current = new Node(data);\n</code></pre>\n<p>If current is null, this is effectively</p>\n<p>null = new Node(data);</p>\n<p>which is an error and does not link your list.</p>\n<p>null is not the end of your list,\nthe node that points to null is the end (not null).</p>\n<p>And you have to find and hold onto that.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642202850,"creation_date":1642202850,"answer_id":70717621,"question_id":70716379,"body_markdown":"This statement:\r\n\r\n    current = new Node(data);\r\n\r\n...does not mutate the list. It just stores a new node in a *variable*. But the list is not influenced by that assignment. In order to *add* a node to a non-empty list, you&#39;ll have to update the `next` attribute of a node, more particularly, the tail node. But the important difference here is between assigning to a local variable (does not influence a list), and to an attribute of a node that is already in the list (that *does* influence the list).\r\n\r\nSo the job of the code must be to find the tail node. That is what the loop is for. The wrong code, overshoots the last node, and so there is no reference to the tail node when the loop exits. And so -- empty handed -- there is no way to assign the new node to a `next` attribute of the tail node.","title":"Linked List implementation: why cannot move to head.next before creating new node","body":"<p>This statement:</p>\n<pre><code>current = new Node(data);\n</code></pre>\n<p>...does not mutate the list. It just stores a new node in a <em>variable</em>. But the list is not influenced by that assignment. In order to <em>add</em> a node to a non-empty list, you'll have to update the <code>next</code> attribute of a node, more particularly, the tail node. But the important difference here is between assigning to a local variable (does not influence a list), and to an attribute of a node that is already in the list (that <em>does</em> influence the list).</p>\n<p>So the job of the code must be to find the tail node. That is what the loop is for. The wrong code, overshoots the last node, and so there is no reference to the tail node when the loop exits. And so -- empty handed -- there is no way to assign the new node to a <code>next</code> attribute of the tail node.</p>\n"}],"owner":{"account_id":21793206,"reputation":23,"user_id":16093128,"display_name":"popular coffee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70717621,"answer_count":2,"score":0,"last_activity_date":1642202850,"creation_date":1642193432,"question_id":70716379,"body_markdown":"I am solving [a challenge from hackerrank.](https://www.hackerrank.com/challenges/30-linked-list/problem?h_r=next-challenge&amp;h_v=legacy&amp;isFullScreen=true)\r\n[This is the description of the question.][2]\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass Node {\r\n\tint data;\r\n\tNode next;\r\n\tNode(int d) {\r\n        data = d;\r\n        next = null;\r\n    }\r\n}\r\n\r\nclass Solution {\r\n\r\n    public static  Node insert(Node head,int data) {\r\n        //Complete this method        \r\n    }\r\n\r\n\tpublic static void display(Node head) {\r\n        Node start = head;\r\n        while(start != null) {\r\n            System.out.print(start.data + &quot; &quot;);\r\n            start = start.next;\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        Node head = null;\r\n        int N = sc.nextInt();\r\n\r\n        while(N-- &gt; 0) {\r\n            int ele = sc.nextInt();\r\n            head = insert(head,ele);\r\n        }\r\n        display(head);\r\n        sc.close();\r\n    }\r\n}\r\n```\r\nIt is basically implementing a Linked List, and I eventually did solve the problem. However I have some question about the code.\r\n\r\nThis is the correct code which gives the desired output:\r\n```java\r\n\tpublic static  Node insert(Node head,int data) {\r\n\t\tif (head == null) {\r\n        head = new Node(data);\r\n    } else {\r\n        Node current = head;\r\n        while(current.next != null)\r\n            current = current.next;\r\n        current.next = new Node(data);\r\n    }\r\n    return head;\r\n    }\r\n```\r\n\r\nThis is the incorrect code I wrote at first:\r\n```java\r\n\tpublic static  Node insert(Node head,int data) {\r\n\t\tif (head == null) {\r\n            head = new Node(data);\r\n        } else {\r\n        \tNode current = head;\r\n            while(current != null)\r\n                current = current.next;     \r\n            current = new Node(data);\r\n        }        \r\n        return head;\r\n    }\r\n```\r\nThe difference is the the while loop statement and the code after while loop.\r\nWhen running the entire java code, using the sample input, the incorrect code only output `2`, where the expected output being `2 3 4 1`\r\n\r\nI am guessing it is something about the pointer reference? \r\nBut when I break the code into steps, the incorrect code still seems reasonable to me.\r\n- the correct code, `current` stays on `head` before it creates new node with data.\r\n- the incorrect code, `current` goes to `head.next` before it creates new node with data.\r\n\r\n[I draw out the steps of the code][1] (upper is the correct code, below is incorrect code), and end up with two question:\r\n\r\n1. Is the incorrect code wrong because what I circled in the image? like I cannot create a node when I am at null? (if that is the case, why no exception error then?)\r\n2. Another things that bothers me is that the code I underline in the image seem equivalent.\r\n\r\nCan someone point out why the incorrect code cannot give the desired output? Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ki1tG.png\r\n  [2]: https://i.stack.imgur.com/rT6eo.png","title":"Linked List implementation: why cannot move to head.next before creating new node","body":"<p>I am solving <a href=\"https://www.hackerrank.com/challenges/30-linked-list/problem?h_r=next-challenge&amp;h_v=legacy&amp;isFullScreen=true\" rel=\"nofollow noreferrer\">a challenge from hackerrank.</a>\n<a href=\"https://i.stack.imgur.com/rT6eo.png\" rel=\"nofollow noreferrer\">This is the description of the question.</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\nclass Node {\n    int data;\n    Node next;\n    Node(int d) {\n        data = d;\n        next = null;\n    }\n}\n\nclass Solution {\n\n    public static  Node insert(Node head,int data) {\n        //Complete this method        \n    }\n\n    public static void display(Node head) {\n        Node start = head;\n        while(start != null) {\n            System.out.print(start.data + &quot; &quot;);\n            start = start.next;\n        }\n    }\n\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        Node head = null;\n        int N = sc.nextInt();\n\n        while(N-- &gt; 0) {\n            int ele = sc.nextInt();\n            head = insert(head,ele);\n        }\n        display(head);\n        sc.close();\n    }\n}\n</code></pre>\n<p>It is basically implementing a Linked List, and I eventually did solve the problem. However I have some question about the code.</p>\n<p>This is the correct code which gives the desired output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static  Node insert(Node head,int data) {\n        if (head == null) {\n        head = new Node(data);\n    } else {\n        Node current = head;\n        while(current.next != null)\n            current = current.next;\n        current.next = new Node(data);\n    }\n    return head;\n    }\n</code></pre>\n<p>This is the incorrect code I wrote at first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static  Node insert(Node head,int data) {\n        if (head == null) {\n            head = new Node(data);\n        } else {\n            Node current = head;\n            while(current != null)\n                current = current.next;     \n            current = new Node(data);\n        }        \n        return head;\n    }\n</code></pre>\n<p>The difference is the the while loop statement and the code after while loop.\nWhen running the entire java code, using the sample input, the incorrect code only output <code>2</code>, where the expected output being <code>2 3 4 1</code></p>\n<p>I am guessing it is something about the pointer reference?\nBut when I break the code into steps, the incorrect code still seems reasonable to me.</p>\n<ul>\n<li>the correct code, <code>current</code> stays on <code>head</code> before it creates new node with data.</li>\n<li>the incorrect code, <code>current</code> goes to <code>head.next</code> before it creates new node with data.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Ki1tG.png\" rel=\"nofollow noreferrer\">I draw out the steps of the code</a> (upper is the correct code, below is incorrect code), and end up with two question:</p>\n<ol>\n<li>Is the incorrect code wrong because what I circled in the image? like I cannot create a node when I am at null? (if that is the case, why no exception error then?)</li>\n<li>Another things that bothers me is that the code I underline in the image seem equivalent.</li>\n</ol>\n<p>Can someone point out why the incorrect code cannot give the desired output? Thank you!</p>\n"},{"tags":["java","xml","parsing"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1273067392,"creation_date":1273067392,"answer_id":2773757,"question_id":2773733,"body_markdown":"[StAX][1] would seem to be one obvious solution: it&#39;s a pull parser rather than either the &quot;push&quot; of SAX or the &quot;buffer the whole thing&quot; approach of DOM. Can&#39;t say I&#39;ve used it though. A [&quot;StAX tutorial&quot; search][2] may come in handy :)\r\n\r\n\r\n  [1]: http://stax.codehaus.org/Home\r\n  [2]: http://www.google.co.uk/search?q=stax+tutorial","title":"How to transform huge xml files in java?","body":"<p><a href=\"http://stax.codehaus.org/Home\" rel=\"noreferrer\">StAX</a> would seem to be one obvious solution: it's a pull parser rather than either the \"push\" of SAX or the \"buffer the whole thing\" approach of DOM. Can't say I've used it though. A <a href=\"http://www.google.co.uk/search?q=stax+tutorial\" rel=\"noreferrer\">\"StAX tutorial\" search</a> may come in handy :)</p>\n"},{"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1273067869,"creation_date":1273067403,"answer_id":2773762,"question_id":2773733,"body_markdown":"Yes, just write a SAX content handler, and when it encounters a certain element, you build a dom tree on that element. I&#39;ve done this with very large files, and it works very well.\r\n\r\nIt&#39;s actually very easy: As soon as you encounter the start of the element you want, you set a flag in your content handler, and from there on, you forward everything to the DOM builder. When you encounter the end of the element, you set the flag to false, and write out the result.\r\n\r\n(For more complex cases with nested elements of the same element name, you&#39;ll need to create a stack or a counter, but that&#39;s still quite easy to do.)","title":"How to transform huge xml files in java?","body":"<p>Yes, just write a SAX content handler, and when it encounters a certain element, you build a dom tree on that element. I've done this with very large files, and it works very well.</p>\n\n<p>It's actually very easy: As soon as you encounter the start of the element you want, you set a flag in your content handler, and from there on, you forward everything to the DOM builder. When you encounter the end of the element, you set the flag to false, and write out the result.</p>\n\n<p>(For more complex cases with nested elements of the same element name, you'll need to create a stack or a counter, but that's still quite easy to do.)</p>\n"},{"tags":[],"owner":{"account_id":50732,"reputation":1753,"user_id":151372,"accept_rate":60,"display_name":"ilikeorangutans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273067464,"creation_date":1273067464,"answer_id":2773776,"question_id":2773733,"body_markdown":"Have a look at [StAX][1], this might be what you need. There&#39;s a good introduction on [IBM Developer Works][2].\r\n\r\n\r\n [1]:http://stax.codehaus.org/Home\r\n [2]:http://www.ibm.com/developerworks/xml/library/x-tipstx2/index.html","title":"How to transform huge xml files in java?","body":"<p>Have a look at <a href=\"http://stax.codehaus.org/Home\" rel=\"nofollow noreferrer\">StAX</a>, this might be what you need. There's a good introduction on <a href=\"http://www.ibm.com/developerworks/xml/library/x-tipstx2/index.html\" rel=\"nofollow noreferrer\">IBM Developer Works</a>.</p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273067543,"creation_date":1273067543,"answer_id":2773786,"question_id":2773733,"body_markdown":"You can do this quite easily with an `XMLEventReader` and several `XMLEventWriter`s from the javax.xml.stream package.","title":"How to transform huge xml files in java?","body":"<p>You can do this quite easily with an <code>XMLEventReader</code> and several <code>XMLEventWriter</code>s from the javax.xml.stream package.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1273067658,"creation_date":1273067658,"answer_id":2773805,"question_id":2773733,"body_markdown":"Since you&#39;re talking about GB&#39;s, I would rather prioritize the memory usage in the consideration. SAX needs about 2 times of memory as the document big is, while DOM needs it to be  *at least* 5 times. So if your XML file is 1GB big, then DOM would require a minimum of 5GB of free memory. That&#39;s not funny anymore. So SAX (or any variant on it, like StAX) is the best option here.\r\n\r\nIf you want the most memory efficient approach, look at [VTD-XML][1]. It requires only *a little* more memory than the file big is.\r\n\r\n\r\n  [1]: http://vtd-xml.sourceforge.net/","title":"How to transform huge xml files in java?","body":"<p>Since you're talking about GB's, I would rather prioritize the memory usage in the consideration. SAX needs about 2 times of memory as the document big is, while DOM needs it to be  <em>at least</em> 5 times. So if your XML file is 1GB big, then DOM would require a minimum of 5GB of free memory. That's not funny anymore. So SAX (or any variant on it, like StAX) is the best option here.</p>\n\n<p>If you want the most memory efficient approach, look at <a href=\"http://vtd-xml.sourceforge.net/\" rel=\"nofollow noreferrer\">VTD-XML</a>. It requires only <em>a little</em> more memory than the file big is.</p>\n"},{"tags":[],"owner":{"account_id":122932,"reputation":51815,"user_id":317052,"accept_rate":86,"display_name":"Daniel Haley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642202735,"creation_date":1273089485,"answer_id":2776346,"question_id":2773733,"body_markdown":"For such a large XML document something with a streaming architecture, like Omnimark, would be ideal.\r\n\r\nIt wouldn&#39;t have to be anything complex either. An Omnimark script like what&#39;s below could give you what you need:\r\n\r\n```none\r\nprocess\r\n\r\nsubmit #main-input\r\n\r\nmacro upto (arg string) is\r\n\t((lookahead not string) any)*\r\nmacro-end\r\n\r\nfind ((&quot;&lt;keep&quot;) upto (&quot;&lt;/keep&gt;&quot;) &quot;&lt;/keep&gt;&quot;)=&gt;keep\r\n\toutput keep\r\n\r\nfind any\r\n```","title":"How to transform huge xml files in java?","body":"<p>For such a large XML document something with a streaming architecture, like Omnimark, would be ideal.</p>\n<p>It wouldn't have to be anything complex either. An Omnimark script like what's below could give you what you need:</p>\n<pre class=\"lang-none prettyprint-override\"><code>process\n\nsubmit #main-input\n\nmacro upto (arg string) is\n    ((lookahead not string) any)*\nmacro-end\n\nfind ((&quot;&lt;keep&quot;) upto (&quot;&lt;/keep&gt;&quot;) &quot;&lt;/keep&gt;&quot;)=&gt;keep\n    output keep\n\nfind any\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273181574,"creation_date":1273090915,"answer_id":2776502,"question_id":2773733,"body_markdown":"I made good experiences with [STX][1] (**Streaming Transformations for XML**). Basically, it is a streamed version of XSLT, well suited to parsing huge amounts of data with minimal memory footprint. It has an implementation in Java named [Joost][2].\r\n\r\nIt should be easy to come up with a STX transform that ignores all elements until the element matches a given XPath, copies that element and all its children (using an identity template within a template group), and continues to ignore elements until the next match.\r\n\r\n**UPDATE**\r\n\r\nI hacked together a STX transform that does what I understand you want. It mostly depends on STX-only features like template groups and configurable default templates.\r\n\r\n    &lt;stx:transform xmlns:stx=&quot;http://stx.sourceforge.net/2002/ns&quot;\r\n        version=&quot;1.0&quot; pass-through=&quot;none&quot; output-method=&quot;xml&quot;&gt;\r\n        &lt;stx:template match=&quot;element/child&quot;&gt;\r\n            &lt;stx:process-self group=&quot;copy&quot; /&gt;\r\n        &lt;/stx:template&gt;\r\n        &lt;stx:group name=&quot;copy&quot; pass-through=&quot;all&quot;&gt;\r\n        &lt;/stx:group&gt;\r\n    &lt;/stx:transform&gt;\r\n\r\nThe `pass-through=&quot;none&quot;` at the `stx:transform` configures the default templates (for nodes, attributes etc.) to produce no output, but process child elements. Then the `stx:template` matches the XPath `element/child` (this is the place where you put your match expression), it &quot;processes self&quot; in the &quot;copy&quot; group, meaning that the matching template from the `group name=&quot;copy&quot;` is invoked on the current element. That group has `pass-though=&quot;all&quot;`, so the default templates copy their input and process child elements. When the `element/child` element is ended, control is passed back to the template that invoked `process-self`, and the following elements are ignored again. Until the template matches again.\r\n\r\nThe following is an example input file:\r\n\r\n    &lt;root&gt;\r\n        &lt;child attribute=&quot;no-parent, so no copy&quot;&gt;\r\n        &lt;/child&gt;\r\n        &lt;element id=&quot;id1&quot;&gt;\r\n            &lt;child attribute=&quot;value1&quot;&gt;\r\n                text1&lt;b&gt;bold&lt;/b&gt;\r\n            &lt;/child&gt;\r\n        &lt;/element&gt;\r\n        &lt;element id=&quot;id2&quot;&gt;\r\n            &lt;child attribute=&quot;value2&quot;&gt;\r\n                text2\r\n                &lt;x:childX xmlns:x=&quot;http://x.example.com/x&quot;&gt;\r\n                &lt;!-- comment --&gt;\r\n                    yet more&lt;b i=&quot;i&quot; x:i=&quot;x-i&quot; &gt;&lt;/b&gt;\r\n                &lt;/x:childX&gt;\r\n            &lt;/child&gt;\r\n        &lt;/element&gt;\r\n    &lt;/root&gt;\r\n\r\nThis is the corresponding output file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;child attribute=&quot;value1&quot;&gt;\r\n                text1&lt;b&gt;bold&lt;/b&gt;\r\n            &lt;/child&gt;&lt;child attribute=&quot;value2&quot;&gt;\r\n                text2\r\n                &lt;x:childX xmlns:x=&quot;http://x.example.com/x&quot;&gt;\r\n                &lt;!-- comment --&gt;\r\n                    yet more&lt;b i=&quot;i&quot; x:i=&quot;x-i&quot; /&gt;\r\n                &lt;/x:childX&gt;\r\n            &lt;/child&gt;\r\n\r\nThe unusual formatting is a result of skipping the text nodes containing newlines outside the `child` elements.\r\n\r\n [1]: http://stx.sourceforge.net/\r\n [2]: http://joost.sourceforge.net/\r\n\r\n\r\n\r\n","title":"How to transform huge xml files in java?","body":"<p>I made good experiences with <a href=\"http://stx.sourceforge.net/\" rel=\"nofollow noreferrer\">STX</a> (<strong>Streaming Transformations for XML</strong>). Basically, it is a streamed version of XSLT, well suited to parsing huge amounts of data with minimal memory footprint. It has an implementation in Java named <a href=\"http://joost.sourceforge.net/\" rel=\"nofollow noreferrer\">Joost</a>.</p>\n\n<p>It should be easy to come up with a STX transform that ignores all elements until the element matches a given XPath, copies that element and all its children (using an identity template within a template group), and continues to ignore elements until the next match.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I hacked together a STX transform that does what I understand you want. It mostly depends on STX-only features like template groups and configurable default templates.</p>\n\n<pre><code>&lt;stx:transform xmlns:stx=\"http://stx.sourceforge.net/2002/ns\"\n    version=\"1.0\" pass-through=\"none\" output-method=\"xml\"&gt;\n    &lt;stx:template match=\"element/child\"&gt;\n        &lt;stx:process-self group=\"copy\" /&gt;\n    &lt;/stx:template&gt;\n    &lt;stx:group name=\"copy\" pass-through=\"all\"&gt;\n    &lt;/stx:group&gt;\n&lt;/stx:transform&gt;\n</code></pre>\n\n<p>The <code>pass-through=\"none\"</code> at the <code>stx:transform</code> configures the default templates (for nodes, attributes etc.) to produce no output, but process child elements. Then the <code>stx:template</code> matches the XPath <code>element/child</code> (this is the place where you put your match expression), it \"processes self\" in the \"copy\" group, meaning that the matching template from the <code>group name=\"copy\"</code> is invoked on the current element. That group has <code>pass-though=\"all\"</code>, so the default templates copy their input and process child elements. When the <code>element/child</code> element is ended, control is passed back to the template that invoked <code>process-self</code>, and the following elements are ignored again. Until the template matches again.</p>\n\n<p>The following is an example input file:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;child attribute=\"no-parent, so no copy\"&gt;\n    &lt;/child&gt;\n    &lt;element id=\"id1\"&gt;\n        &lt;child attribute=\"value1\"&gt;\n            text1&lt;b&gt;bold&lt;/b&gt;\n        &lt;/child&gt;\n    &lt;/element&gt;\n    &lt;element id=\"id2\"&gt;\n        &lt;child attribute=\"value2\"&gt;\n            text2\n            &lt;x:childX xmlns:x=\"http://x.example.com/x\"&gt;\n            &lt;!-- comment --&gt;\n                yet more&lt;b i=\"i\" x:i=\"x-i\" &gt;&lt;/b&gt;\n            &lt;/x:childX&gt;\n        &lt;/child&gt;\n    &lt;/element&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>This is the corresponding output file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;child attribute=\"value1\"&gt;\n            text1&lt;b&gt;bold&lt;/b&gt;\n        &lt;/child&gt;&lt;child attribute=\"value2\"&gt;\n            text2\n            &lt;x:childX xmlns:x=\"http://x.example.com/x\"&gt;\n            &lt;!-- comment --&gt;\n                yet more&lt;b i=\"i\" x:i=\"x-i\" /&gt;\n            &lt;/x:childX&gt;\n        &lt;/child&gt;\n</code></pre>\n\n<p>The unusual formatting is a result of skipping the text nodes containing newlines outside the <code>child</code> elements.</p>\n"}],"owner":{"account_id":117054,"reputation":921,"user_id":306708,"accept_rate":100,"display_name":"user306708"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9549,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2773762,"answer_count":7,"score":9,"last_activity_date":1642202735,"creation_date":1273067170,"question_id":2773733,"body_markdown":"As the title says it, I have a huge xml file (GBs)  \r\n\r\n    &lt;root&gt;  \r\n    &lt;keep&gt;  \r\n       &lt;stuff&gt;  ...  &lt;/stuff&gt;  \r\n       &lt;morestuff&gt; ... &lt;/morestuff&gt;  \r\n    &lt;/keep&gt;  \r\n    &lt;discard&gt;  \r\n       &lt;stuff&gt;  ...  &lt;/stuff&gt;  \r\n       &lt;morestuff&gt; ... &lt;/morestuff&gt;\r\n    &lt;/discard&gt;  \r\n    &lt;/root&gt;  \r\n\r\nand I&#39;d like to transform it into a much smaller one which retains only a few of the elements.   \r\nMy parser should do the following:   \r\n1. Parse through the file until a relevant element starts.  \r\n2. Copy the whole relevant element (with children) to the output file. go to 1.  \r\n\r\nstep 1 is easy with SAX and impossible for DOM-parsers.  \r\nstep 2 is annoying with SAX, but easy with the DOM-Parser or XSLT.\r\n\r\nso what? - is there a neat way to combine SAX and DOM-Parser to do the task?\r\n\r\n\r\n","title":"How to transform huge xml files in java?","body":"<p>As the title says it, I have a huge xml file (GBs)  </p>\n\n<pre><code>&lt;root&gt;  \n&lt;keep&gt;  \n   &lt;stuff&gt;  ...  &lt;/stuff&gt;  \n   &lt;morestuff&gt; ... &lt;/morestuff&gt;  \n&lt;/keep&gt;  \n&lt;discard&gt;  \n   &lt;stuff&gt;  ...  &lt;/stuff&gt;  \n   &lt;morestuff&gt; ... &lt;/morestuff&gt;\n&lt;/discard&gt;  \n&lt;/root&gt;  \n</code></pre>\n\n<p>and I'd like to transform it into a much smaller one which retains only a few of the elements.<br>\nMy parser should do the following:<br>\n1. Parse through the file until a relevant element starts.<br>\n2. Copy the whole relevant element (with children) to the output file. go to 1.  </p>\n\n<p>step 1 is easy with SAX and impossible for DOM-parsers.<br>\nstep 2 is annoying with SAX, but easy with the DOM-Parser or XSLT.</p>\n\n<p>so what? - is there a neat way to combine SAX and DOM-Parser to do the task?</p>\n"},{"tags":["java","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642201643,"creation_date":1642201643,"answer_id":70717499,"question_id":70717354,"body_markdown":"Yes, you can have different expiration times per client. You would use the `tokenSettings` of each `RegisteredClient`, as in the following example:\r\n\r\n```java\r\nRegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n\t\t\t\t.clientId(&quot;messaging-client&quot;)\r\n\t\t\t\t.clientSecret(&quot;{noop}secret&quot;)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n\t\t\t\t.redirectUri(&quot;http://127.0.0.1:8080/login/oauth2/code/messaging-client-oidc&quot;)\r\n\t\t\t\t.redirectUri(&quot;http://127.0.0.1:8080/authorized&quot;)\r\n\t\t\t\t.scope(OidcScopes.OPENID)\r\n\t\t\t\t.scope(&quot;message.read&quot;)\r\n\t\t\t\t.scope(&quot;message.write&quot;)\r\n\t\t\t\t.tokenSettings(TokenSettings.builder()\r\n\t\t\t\t\t\t.accessTokenTimeToLive(Duration.ofMinutes(5))\r\n\t\t\t\t\t\t.refreshTokenTimeToLive(Duration.ofHours(2))\r\n\t\t\t\t\t\t.build())\r\n\t\t\t\t.clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n\t\t\t\t.build();\r\n```\r\n\r\nSee the [sample config](https://github.com/spring-projects/spring-authorization-server/blob/main/samples/default-authorizationserver/src/main/java/sample/config/AuthorizationServerConfig.java) for full context.","title":"OAuth2 different token expiration time per client","body":"<p>Yes, you can have different expiration times per client. You would use the <code>tokenSettings</code> of each <code>RegisteredClient</code>, as in the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;messaging-client&quot;)\n                .clientSecret(&quot;{noop}secret&quot;)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                .redirectUri(&quot;http://127.0.0.1:8080/login/oauth2/code/messaging-client-oidc&quot;)\n                .redirectUri(&quot;http://127.0.0.1:8080/authorized&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(&quot;message.read&quot;)\n                .scope(&quot;message.write&quot;)\n                .tokenSettings(TokenSettings.builder()\n                        .accessTokenTimeToLive(Duration.ofMinutes(5))\n                        .refreshTokenTimeToLive(Duration.ofHours(2))\n                        .build())\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n</code></pre>\n<p>See the <a href=\"https://github.com/spring-projects/spring-authorization-server/blob/main/samples/default-authorizationserver/src/main/java/sample/config/AuthorizationServerConfig.java\" rel=\"noreferrer\">sample config</a> for full context.</p>\n"}],"owner":{"account_id":4706918,"reputation":764,"user_id":3808721,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2038,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70717499,"answer_count":1,"score":1,"last_activity_date":1642201643,"creation_date":1642200361,"question_id":70717354,"body_markdown":"I am using [spring-security-oauth2][1] to implement my OAuth2 Authorization server. spring-security-oauth2 is going away and I understand I need to replace it with [spring-authorization-server][2]\r\n\r\n**Question:**\r\nIs it possible to have different token-expiry-time for different clients (here client represents client-id/client-secret pair)?\r\n\r\nIf Yes, can you please share documentation/sample code around `spring-authorization-server`?\r\n\r\nIf no, is it a limitation of spring-authorization-server OR it is not allowed by OAuth2 spec?\r\n\r\n(To clarify, I am NOT saying that it was possible in spring-security-oauth2, if it was I would like to know as well)\r\n\r\n  [1]: https://spring.io/projects/spring-security-oauth\r\n  [2]: https://github.com/spring-projects/spring-authorization-server","title":"OAuth2 different token expiration time per client","body":"<p>I am using <a href=\"https://spring.io/projects/spring-security-oauth\" rel=\"nofollow noreferrer\">spring-security-oauth2</a> to implement my OAuth2 Authorization server. spring-security-oauth2 is going away and I understand I need to replace it with <a href=\"https://github.com/spring-projects/spring-authorization-server\" rel=\"nofollow noreferrer\">spring-authorization-server</a></p>\n<p><strong>Question:</strong>\nIs it possible to have different token-expiry-time for different clients (here client represents client-id/client-secret pair)?</p>\n<p>If Yes, can you please share documentation/sample code around <code>spring-authorization-server</code>?</p>\n<p>If no, is it a limitation of spring-authorization-server OR it is not allowed by OAuth2 spec?</p>\n<p>(To clarify, I am NOT saying that it was possible in spring-security-oauth2, if it was I would like to know as well)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"score":2,"creation_date":1642200175,"post_id":70717298,"comment_id":125016682,"body_markdown":"Read up more on the `while` loop. Where you&#39;ve got `true` right now, you can replace that with a condition that will become false when you&#39;re ready to stop repeating.","body":"Read up more on the <code>while</code> loop. Where you&#39;ve got <code>true</code> right now, you can replace that with a condition that will become false when you&#39;re ready to stop repeating."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642200361,"post_id":70717298,"comment_id":125016737,"body_markdown":"See [The while and do-while Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html) for more details","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements</a> for more details"}],"answers":[{"tags":[],"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642200723,"creation_date":1642200373,"answer_id":70717355,"question_id":70717298,"body_markdown":"You could control your loop with a boolean variable - desiredAnswer in this case:\r\n\r\n    boolean desiredAnswer = false;\r\n    while(!desiredAnswer)\r\n    {\r\n        //shows the options the player can pick\r\n        System.out.println(&quot;Start Game: 1&quot;);\r\n        System.out.println(&quot;Close Game: 2&quot;);\r\n        String choice = input.nextLine();\r\n    \r\n        switch(choice)\r\n        {\r\n            case &quot;1&quot;: Variables.clear(); introduction(); desiredAnswer = true; break;\r\n            case &quot;2&quot;: System.exit(0);\r\n            default: Variables.invalidAnswer(); Variables.clear();\r\n        }\r\n    }\r\n\r\n\r\n\r\nwhile loop works only when the expression returns true, so negating it would cause breaking the loop.","title":"Can I repeat a section of code until I get a desired answer","body":"<p>You could control your loop with a boolean variable - desiredAnswer in this case:</p>\n<pre><code>boolean desiredAnswer = false;\nwhile(!desiredAnswer)\n{\n    //shows the options the player can pick\n    System.out.println(&quot;Start Game: 1&quot;);\n    System.out.println(&quot;Close Game: 2&quot;);\n    String choice = input.nextLine();\n\n    switch(choice)\n    {\n        case &quot;1&quot;: Variables.clear(); introduction(); desiredAnswer = true; break;\n        case &quot;2&quot;: System.exit(0);\n        default: Variables.invalidAnswer(); Variables.clear();\n    }\n}\n</code></pre>\n<p>while loop works only when the expression returns true, so negating it would cause breaking the loop.</p>\n"},{"tags":[],"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642200562,"creation_date":1642200562,"answer_id":70717378,"question_id":70717298,"body_markdown":"Doing a `break` inside a switch-block will break the switch-block, not the while-loop. To break the outer while-loop, you can use a label:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nclass Program {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        inputLoop: while (true) {\r\n            System.out.println(&quot;Start Game: 1&quot;);\r\n            System.out.println(&quot;Close Game: 2&quot;);\r\n            String choice = input.nextLine();\r\n        \r\n            switch(choice)\r\n            {\r\n                case &quot;1&quot;: {\r\n                    // Start the game\r\n                    System.out.println(&quot;Game started&quot;);\r\n                    break inputLoop;\r\n                }\r\n                case &quot;2&quot;: {\r\n                    // End the game\r\n                    System.out.println(&quot;Game finished&quot;);\r\n                    break inputLoop;\r\n                }\r\n                default: {\r\n                    // Do nothing (the loop will be repeated)\r\n                    System.out.println(&quot;Invalid answer&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Can I repeat a section of code until I get a desired answer","body":"<p>Doing a <code>break</code> inside a switch-block will break the switch-block, not the while-loop. To break the outer while-loop, you can use a label:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass Program {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        inputLoop: while (true) {\n            System.out.println(&quot;Start Game: 1&quot;);\n            System.out.println(&quot;Close Game: 2&quot;);\n            String choice = input.nextLine();\n        \n            switch(choice)\n            {\n                case &quot;1&quot;: {\n                    // Start the game\n                    System.out.println(&quot;Game started&quot;);\n                    break inputLoop;\n                }\n                case &quot;2&quot;: {\n                    // End the game\n                    System.out.println(&quot;Game finished&quot;);\n                    break inputLoop;\n                }\n                default: {\n                    // Do nothing (the loop will be repeated)\n                    System.out.println(&quot;Invalid answer&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642200932,"creation_date":1642200932,"answer_id":70717433,"question_id":70717298,"body_markdown":"I&#39;m always curious as to why people seem to forget that a `do-while` actually exists.  Consider for a moment, the overall requirement - you must perform the loop at least once, so, we don&#39;t care about the exit condition until the end of the loop, for example...\r\n\r\n    String exitOption = &quot;2&quot;;\r\n    String choice = null;\r\n    do {\r\n        System.out.println(&quot;Start Game: 1&quot;);\r\n        System.out.println(&quot;Close Game: 2&quot;);\r\n        choice = input.nextLine();\r\n\r\n        switch (choice) {\r\n            case &quot;1&quot;:\r\n                Variables.clear();\r\n                introduction();\r\n                break;\r\n            default:\r\n                Variables.invalidAnswer();\r\n        }\r\n    } while (!exitOption.equals(choice));\r\n\r\nHere, I&#39;m assuming you only ever want to exit the loop when the user selects `2`, just beware of that\r\n\r\nFlow control is a pretty basic concept of programming, you should take a closer look up:\r\n\r\n* [Control Flow Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html)\r\n* [The while and do-while Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)","title":"Can I repeat a section of code until I get a desired answer","body":"<p>I'm always curious as to why people seem to forget that a <code>do-while</code> actually exists.  Consider for a moment, the overall requirement - you must perform the loop at least once, so, we don't care about the exit condition until the end of the loop, for example...</p>\n<pre><code>String exitOption = &quot;2&quot;;\nString choice = null;\ndo {\n    System.out.println(&quot;Start Game: 1&quot;);\n    System.out.println(&quot;Close Game: 2&quot;);\n    choice = input.nextLine();\n\n    switch (choice) {\n        case &quot;1&quot;:\n            Variables.clear();\n            introduction();\n            break;\n        default:\n            Variables.invalidAnswer();\n    }\n} while (!exitOption.equals(choice));\n</code></pre>\n<p>Here, I'm assuming you only ever want to exit the loop when the user selects <code>2</code>, just beware of that</p>\n<p>Flow control is a pretty basic concept of programming, you should take a closer look up:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html\" rel=\"nofollow noreferrer\">Control Flow Statements</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements</a></li>\n</ul>\n"}],"owner":{"account_id":23696471,"reputation":1,"user_id":17720128,"display_name":"Logan.Ferris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642200932,"creation_date":1642199998,"question_id":70717298,"body_markdown":"so I&#39;ve been learning java in my CS class at my high school, and I decided to remake a game that was my final project last year and add a bit more to it. \r\n\r\nMy problem is that I have the player input a number in order to make a specific choice, but if they input an invalid option, the code just ends, I&#39;ve found a user with a similar problem [here,](https://stackoverflow.com/questions/32812722/restarting-program-from-a-certain-point-after-an-if) but they are using if/else statements, and I&#39;m using a switch statement\r\n```\r\n//shows the options the player can pick\r\n    System.out.println(&quot;Start Game: 1&quot;);\r\n    System.out.println(&quot;Close Game: 2&quot;);\r\n    String choice = input.nextLine();\r\n\r\n    switch(choice)\r\n    {\r\n        case &quot;1&quot;: Variables.clear(); introduction(); break;\r\n        case &quot;2&quot;: System.exit(0);\r\n        default: Variables.invalidAnswer();\r\n    }\r\n\r\npublic static void introduction()\r\n    {\r\n        System.out.println(&quot;test&quot;);\r\n    }\r\n```\r\n\r\nOne of the answers was to try using a while(true) loop, which I tried\r\n\r\n```\r\nwhile(true)\r\n{\r\n    //shows the options the player can pick\r\n    System.out.println(&quot;Start Game: 1&quot;);\r\n    System.out.println(&quot;Close Game: 2&quot;);\r\n    String choice = input.nextLine();\r\n\r\n    switch(choice)\r\n    {\r\n        case &quot;1&quot;: Variables.clear(); introduction(); break;\r\n        case &quot;2&quot;: System.exit(0);\r\n        default: Variables.invalidAnswer(); Variables.clear();\r\n    }\r\n}\r\n\r\n```\r\nbut when I do that, it just loops no matter what, I thought about adding another break statement after case &quot;1&quot;, but I realized that wouldn&#39;t work. So I was wondering if there was a way to be able to make this work, or if there was a solution like this that works with a switch statement, any advice would be great, thanks.","title":"Can I repeat a section of code until I get a desired answer","body":"<p>so I've been learning java in my CS class at my high school, and I decided to remake a game that was my final project last year and add a bit more to it.</p>\n<p>My problem is that I have the player input a number in order to make a specific choice, but if they input an invalid option, the code just ends, I've found a user with a similar problem <a href=\"https://stackoverflow.com/questions/32812722/restarting-program-from-a-certain-point-after-an-if\">here,</a> but they are using if/else statements, and I'm using a switch statement</p>\n<pre><code>//shows the options the player can pick\n    System.out.println(&quot;Start Game: 1&quot;);\n    System.out.println(&quot;Close Game: 2&quot;);\n    String choice = input.nextLine();\n\n    switch(choice)\n    {\n        case &quot;1&quot;: Variables.clear(); introduction(); break;\n        case &quot;2&quot;: System.exit(0);\n        default: Variables.invalidAnswer();\n    }\n\npublic static void introduction()\n    {\n        System.out.println(&quot;test&quot;);\n    }\n</code></pre>\n<p>One of the answers was to try using a while(true) loop, which I tried</p>\n<pre><code>while(true)\n{\n    //shows the options the player can pick\n    System.out.println(&quot;Start Game: 1&quot;);\n    System.out.println(&quot;Close Game: 2&quot;);\n    String choice = input.nextLine();\n\n    switch(choice)\n    {\n        case &quot;1&quot;: Variables.clear(); introduction(); break;\n        case &quot;2&quot;: System.exit(0);\n        default: Variables.invalidAnswer(); Variables.clear();\n    }\n}\n\n</code></pre>\n<p>but when I do that, it just loops no matter what, I thought about adding another break statement after case &quot;1&quot;, but I realized that wouldn't work. So I was wondering if there was a way to be able to make this work, or if there was a solution like this that works with a switch statement, any advice would be great, thanks.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":246313,"reputation":10189,"user_id":520394,"display_name":"barti_ddu"},"score":0,"creation_date":1642195568,"post_id":70716593,"comment_id":125015551,"body_markdown":"You may need either to add `@Configuration` annotation to `ProductService` class or enable it before application run with `@EnableConfigurationProperties` annotation. Also I would move the property-related part out of `@Service` into separate `POJO`.","body":"You may need either to add <code>@Configuration</code> annotation to <code>ProductService</code> class or enable it before application run with <code>@EnableConfigurationProperties</code> annotation. Also I would move the property-related part out of <code>@Service</code> into separate <code>POJO</code>."},{"owner":{"account_id":23198799,"reputation":37,"user_id":17293984,"display_name":"Marin8"},"score":0,"creation_date":1642196270,"post_id":70716593,"comment_id":125015756,"body_markdown":"@barti_ddu I&#39;ve tried adding `@EnableConfigurationProperties` and move reading part to other `bean` but it didn&#39;t work. I&#39;d like to do it in the same service than making other bean or `POJO` fot that","body":"@barti_ddu I&#39;ve tried adding <code>@EnableConfigurationProperties</code> and move reading part to other <code>bean</code> but it didn&#39;t work. I&#39;d like to do it in the same service than making other bean or <code>POJO</code> fot that"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1642196855,"post_id":70716593,"comment_id":125015948,"body_markdown":"@barti_ddu `@Configuration` works like `@Service` in order to create a spring bean. So this is not the cause of the error. Of course the best practice would not be the `@Service` but this is not why the properties are not loaded. Fixing what I describe in my answer should fix the issue","body":"@barti_ddu <code>@Configuration</code> works like <code>@Service</code> in order to create a spring bean. So this is not the cause of the error. Of course the best practice would not be the <code>@Service</code> but this is not why the properties are not loaded. Fixing what I describe in my answer should fix the issue"},{"owner":{"account_id":246313,"reputation":10189,"user_id":520394,"display_name":"barti_ddu"},"score":1,"creation_date":1642197714,"post_id":70716593,"comment_id":125016193,"body_markdown":"@PanagiotisBougioukos: can&#39;t believe I&#39;ve missed that, kudos to You!","body":"@PanagiotisBougioukos: can&#39;t believe I&#39;ve missed that, kudos to You!"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642199124,"creation_date":1642196697,"answer_id":70716866,"question_id":70716593,"body_markdown":"Considering that you use the `prefix = &quot;product-service&quot;` \r\n\r\nyou should declare your class fields as following.\r\n  \r\n        private double first;\r\n        private double second;\r\n        private double third;\r\n\r\nYou should also update getters and setters.\r\n\r\nYou also have another error in your code as well\r\n\r\n    private List&lt;ProductDTO&gt; productList = Arrays.asList(\r\n                new ProductDTO(1,&quot;Tomb Raider&quot;,first),\r\n                new ProductDTO(2,&quot;10000 rp to lol&quot;,second),\r\n                new ProductDTO(3,&quot;2k valorant points&quot;,third)\r\n        );\r\n\r\nThis field is initialized when your class is initialized. But Spring initializes your bean with a proxy. So when the class is initialized your `productList` will have `0` values for `first`, `second`,`third`.\r\n\r\nIf you wish this to work you should replace \r\n\r\n    public List&lt;ProductDTO&gt; findAllProducts() {\r\n            return productList;\r\n        }\r\n\r\nwith\r\n\r\n    public List&lt;ProductDTO&gt; findAllProducts() {\r\n            return Arrays.asList(\r\n                    new ProductDTO(1,&quot;Tomb Raider&quot;,first),\r\n                    new ProductDTO(2,&quot;10000 rp to lol&quot;,second),\r\n                    new ProductDTO(3,&quot;2k valorant points&quot;,third)\r\n            );\r\n        }\r\n\r\n","title":"Springboot can&#39;t read values from properties file","body":"<p>Considering that you use the <code>prefix = &quot;product-service&quot;</code></p>\n<p>you should declare your class fields as following.</p>\n<pre><code>    private double first;\n    private double second;\n    private double third;\n</code></pre>\n<p>You should also update getters and setters.</p>\n<p>You also have another error in your code as well</p>\n<pre><code>private List&lt;ProductDTO&gt; productList = Arrays.asList(\n            new ProductDTO(1,&quot;Tomb Raider&quot;,first),\n            new ProductDTO(2,&quot;10000 rp to lol&quot;,second),\n            new ProductDTO(3,&quot;2k valorant points&quot;,third)\n    );\n</code></pre>\n<p>This field is initialized when your class is initialized. But Spring initializes your bean with a proxy. So when the class is initialized your <code>productList</code> will have <code>0</code> values for <code>first</code>, <code>second</code>,<code>third</code>.</p>\n<p>If you wish this to work you should replace</p>\n<pre><code>public List&lt;ProductDTO&gt; findAllProducts() {\n        return productList;\n    }\n</code></pre>\n<p>with</p>\n<pre><code>public List&lt;ProductDTO&gt; findAllProducts() {\n        return Arrays.asList(\n                new ProductDTO(1,&quot;Tomb Raider&quot;,first),\n                new ProductDTO(2,&quot;10000 rp to lol&quot;,second),\n                new ProductDTO(3,&quot;2k valorant points&quot;,third)\n        );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642200121,"creation_date":1642198382,"answer_id":70717098,"question_id":70716593,"body_markdown":"Don&#39;t mix your configuration properties with the service layer.\r\n\r\nYou have a few ways:\r\n\r\n- create a separate configuration class:\r\n```\r\n@ConfigurationProperties(&quot;product-service&quot;)\r\npublic class ProductProperties {\r\n    private Double first;\r\n    private Double second;\r\n    private Double third;\r\n    // getters &amp; setters\r\n}\r\n```\r\n\r\nAnd use it directly at your service class:\r\n\r\n```\r\nclass ProductService {\r\n    private ProductProperties properties;\r\n\r\n    // use at code: properties.getFirst()\r\n}\r\n```\r\n\r\ndepending on your Spring Boot version you may need `@EnableConfigurationProperties({ProductProperties.class})` under any class marked with `@Configuration`\r\n\r\n- use `@Value`:\r\n\r\n```\r\nclass ProductService {\r\n    @Value(&quot;${product-service.first}&quot;)\r\n    private double first;\r\n    //...\r\n}\r\n```\r\n\r\nYou should set to your main class:\r\n\r\nUseful links: \r\n- [Guide to @ConfigurationProperties in Spring Boot](https://www.baeldung.com/configuration-properties-in-spring-boot)\r\n- [Quick Guide to Spring @Value](https://www.baeldung.com/spring-value-annotation)\r\n","title":"Springboot can&#39;t read values from properties file","body":"<p>Don't mix your configuration properties with the service layer.</p>\n<p>You have a few ways:</p>\n<ul>\n<li>create a separate configuration class:</li>\n</ul>\n<pre><code>@ConfigurationProperties(&quot;product-service&quot;)\npublic class ProductProperties {\n    private Double first;\n    private Double second;\n    private Double third;\n    // getters &amp; setters\n}\n</code></pre>\n<p>And use it directly at your service class:</p>\n<pre><code>class ProductService {\n    private ProductProperties properties;\n\n    // use at code: properties.getFirst()\n}\n</code></pre>\n<p>depending on your Spring Boot version you may need <code>@EnableConfigurationProperties({ProductProperties.class})</code> under any class marked with <code>@Configuration</code></p>\n<ul>\n<li>use <code>@Value</code>:</li>\n</ul>\n<pre><code>class ProductService {\n    @Value(&quot;${product-service.first}&quot;)\n    private double first;\n    //...\n}\n</code></pre>\n<p>You should set to your main class:</p>\n<p>Useful links:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">Guide to @ConfigurationProperties in Spring Boot</a></li>\n<li><a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\">Quick Guide to Spring @Value</a></li>\n</ul>\n"}],"owner":{"account_id":23198799,"reputation":37,"user_id":17293984,"display_name":"Marin8"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70716866,"answer_count":2,"score":2,"last_activity_date":1642200587,"creation_date":1642194945,"question_id":70716593,"body_markdown":"I have the following problem: \r\nI&#39;ve wanted to read some values (the price of products) from `.properties` file. \r\n\r\nHowever I&#39;m trying, It&#39;s always getting `0.00` as a value.\r\n\r\nThis is my service bean, which in I want to create a product list:\r\n\r\n```\r\n@Service\r\n@ConfigurationProperties(prefix = &quot;product-service&quot;)\r\npublic class ProductService {\r\n\r\n    private double first;\r\n    private double second;\r\n    private double third;\r\n\r\n    public double getFirst() {\r\n        return first;\r\n    }\r\n\r\n    public void setFirst(double first) {\r\n        this.first = first;\r\n    }\r\n\r\n    public double getSecond() {\r\n        return second;\r\n    }\r\n\r\n    public void setSecond(double second) {\r\n        this.second = second;\r\n    }\r\n\r\n    public double getThird() {\r\n        return third;\r\n    }\r\n\r\n    public void setThird(double third) {\r\n        this.third = third;\r\n    }\r\n\r\n    private List&lt;ProductDTO&gt; productList = Arrays.asList(\r\n            new ProductDTO(1, &quot;Tomb Raider&quot;, first),\r\n            new ProductDTO(2, &quot;10000 rp to lol&quot;, second),\r\n            new ProductDTO(3, &quot;2k valorant points&quot;, third)\r\n    );\r\n\r\n    public List&lt;ProductDTO&gt; findAllProducts() {\r\n        return productList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd this is the property file:\r\n\r\n```\r\nproduct-service.first = 225.00\r\nproduct-service.second = 320.50\r\nproduct-service.third = 150.99\r\n```","title":"Springboot can&#39;t read values from properties file","body":"<p>I have the following problem:\nI've wanted to read some values (the price of products) from <code>.properties</code> file.</p>\n<p>However I'm trying, It's always getting <code>0.00</code> as a value.</p>\n<p>This is my service bean, which in I want to create a product list:</p>\n<pre><code>@Service\n@ConfigurationProperties(prefix = &quot;product-service&quot;)\npublic class ProductService {\n\n    private double first;\n    private double second;\n    private double third;\n\n    public double getFirst() {\n        return first;\n    }\n\n    public void setFirst(double first) {\n        this.first = first;\n    }\n\n    public double getSecond() {\n        return second;\n    }\n\n    public void setSecond(double second) {\n        this.second = second;\n    }\n\n    public double getThird() {\n        return third;\n    }\n\n    public void setThird(double third) {\n        this.third = third;\n    }\n\n    private List&lt;ProductDTO&gt; productList = Arrays.asList(\n            new ProductDTO(1, &quot;Tomb Raider&quot;, first),\n            new ProductDTO(2, &quot;10000 rp to lol&quot;, second),\n            new ProductDTO(3, &quot;2k valorant points&quot;, third)\n    );\n\n    public List&lt;ProductDTO&gt; findAllProducts() {\n        return productList;\n    }\n}\n\n</code></pre>\n<p>And this is the property file:</p>\n<pre><code>product-service.first = 225.00\nproduct-service.second = 320.50\nproduct-service.third = 150.99\n</code></pre>\n"},{"tags":["java","null"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642205000,"post_id":70717266,"comment_id":125017602,"body_markdown":"Possible duplicate of [What is a debugger](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger</a>"},{"owner":{"account_id":14685418,"reputation":1,"user_id":11717481,"display_name":"user11717481"},"score":0,"creation_date":1642244606,"post_id":70717266,"comment_id":125022583,"body_markdown":"Does this answer your question? [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23943737,"reputation":312,"user_id":17936388,"display_name":"esramish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642200177,"creation_date":1642200177,"answer_id":70717322,"question_id":70717266,"body_markdown":"When you instantiate a new array as you did for `namesWomen` and `namesMen`, all of its elements are initialized to `null`. It looks like, in your code, there&#39;s only one place where you&#39;re changing a value within `namesWomen`: \r\n\r\n```\r\nnamesWomen[namesWomen.length- 1] = name;\r\n```\r\n\r\nand one place where you&#39;re changing a value within `namesMen`:\r\n\r\n```\r\nnamesMen[namesMen.length- 1] = name;\r\n```\r\n\r\nBoth times, you&#39;re only changing the last element in the list, so all of the other elements remain `null` throughout the entire program.","title":"Printed result are null","body":"<p>When you instantiate a new array as you did for <code>namesWomen</code> and <code>namesMen</code>, all of its elements are initialized to <code>null</code>. It looks like, in your code, there's only one place where you're changing a value within <code>namesWomen</code>:</p>\n<pre><code>namesWomen[namesWomen.length- 1] = name;\n</code></pre>\n<p>and one place where you're changing a value within <code>namesMen</code>:</p>\n<pre><code>namesMen[namesMen.length- 1] = name;\n</code></pre>\n<p>Both times, you're only changing the last element in the list, so all of the other elements remain <code>null</code> throughout the entire program.</p>\n"}],"owner":{"account_id":23944100,"reputation":1,"user_id":17936698,"display_name":"Pietia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1642200177,"creation_date":1642199752,"question_id":70717266,"body_markdown":"This is excercise from my classes. I passed but I&#39;m receiving null from last println&#39;s. Could you please help with examples? I want to understand code rather than make it work ;)\r\n\r\n   Thank you!\r\n\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String[] namesWomen = new String[5];\r\n            String[] namesMen = new String[5];\r\n            String[] names = new String[5];\r\n            Scanner reading = new Scanner(System.in);\r\n    \r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(&quot;Enter the name: &quot;);\r\n                names[i] = reading.nextLine();\r\n                System.out.println(&quot;Thank you!&quot;);\r\n    \r\n            }\r\n            for(int i=0; i&lt;5;i++) {\r\n                var name = names[i];\r\n                if (name.charAt(name.length() - 1) == &#39;a&#39;) {\r\n                    System.out.println(&quot;woman&quot;);\r\n                    namesWomen[namesWomen.length- 1] = name;\r\n                } else {\r\n                    System.out.println(&quot;men&quot;);\r\n                    namesMen[namesMen.length- 1] = name;\r\n                }\r\n            }\r\n            System.out.println(Arrays.toString(namesMen));\r\n            System.out.println(Arrays.toString(namesWomen));\r\n        }\r\n    }","title":"Printed result are null","body":"<p>This is excercise from my classes. I passed but I'm receiving null from last println's. Could you please help with examples? I want to understand code rather than make it work ;)</p>\n<p>Thank you!</p>\n<pre><code>import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        String[] namesWomen = new String[5];\n        String[] namesMen = new String[5];\n        String[] names = new String[5];\n        Scanner reading = new Scanner(System.in);\n\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(&quot;Enter the name: &quot;);\n            names[i] = reading.nextLine();\n            System.out.println(&quot;Thank you!&quot;);\n\n        }\n        for(int i=0; i&lt;5;i++) {\n            var name = names[i];\n            if (name.charAt(name.length() - 1) == 'a') {\n                System.out.println(&quot;woman&quot;);\n                namesWomen[namesWomen.length- 1] = name;\n            } else {\n                System.out.println(&quot;men&quot;);\n                namesMen[namesMen.length- 1] = name;\n            }\n        }\n        System.out.println(Arrays.toString(namesMen));\n        System.out.println(Arrays.toString(namesWomen));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","oop","polymorphism","realm"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1436316226,"post_id":31281642,"comment_id":50556514,"body_markdown":"Something to consider-  if it doesn&#39;t support a feature you need, maybe you should use another library that does?","body":"Something to consider-  if it doesn&#39;t support a feature you need, maybe you should use another library that does?"},{"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"score":0,"creation_date":1436342582,"post_id":31281642,"comment_id":50565661,"body_markdown":"You could use composition over inheritance as suggested by the Gang of Four (Design Patterns) and Joshua Bloch (Effective Java).\n\nAs a side note, we are considering allowing inheritance, but it could only be used during object modelling and not while querying, which would make it feel crippled. What&#39;s your opinion about that?","body":"You could use composition over inheritance as suggested by the Gang of Four (Design Patterns) and Joshua Bloch (Effective Java).  As a side note, we are considering allowing inheritance, but it could only be used during object modelling and not while querying, which would make it feel crippled. What&#39;s your opinion about that?"},{"owner":{"account_id":223982,"reputation":10895,"user_id":483520,"accept_rate":77,"display_name":"Nolan Amy"},"score":0,"creation_date":1436379641,"post_id":31281642,"comment_id":50591493,"body_markdown":"@Emanuelez I&#39;ve had trouble figuring out how composition would help here... are you suggesting that I split each object across two records in Realm –&#160;one for shared fields and another for type-specific fields?\n\nAs I understand the query limitations, it does sound like it would be crippling. Querying abstract models works on iOS, right? What&#39;s the issue on Android?","body":"@Emanuelez I&#39;ve had trouble figuring out how composition would help here... are you suggesting that I split each object across two records in Realm – one for shared fields and another for type-specific fields?  As I understand the query limitations, it does sound like it would be crippling. Querying abstract models works on iOS, right? What&#39;s the issue on Android?"},{"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"score":0,"creation_date":1436430279,"post_id":31281642,"comment_id":50612183,"body_markdown":"No it does not work on iOS. They face the same limitations.","body":"No it does not work on iOS. They face the same limitations."},{"owner":{"account_id":223982,"reputation":10895,"user_id":483520,"accept_rate":77,"display_name":"Nolan Amy"},"score":0,"creation_date":1436468377,"post_id":31281642,"comment_id":50638355,"body_markdown":"@Emanuelez Huh. Maybe I don&#39;t understand what the query issues are... we&#39;re using model inheritance on iOS and it works as expected. Is the limitation that queries on shared fields can&#39;t return a mix of inherited types? If so, that&#39;s totally fine for our purposes: we almost always deal with one inherited type at a time; when we do need to apply an operation to all inherited types, we do a separate query for each type. Sure, it&#39;s ugly to maintain a list of the inherited types, but in practice, that&#39;s a small price to pay for having shared fields and functionality...","body":"@Emanuelez Huh. Maybe I don&#39;t understand what the query issues are... we&#39;re using model inheritance on iOS and it works as expected. Is the limitation that queries on shared fields can&#39;t return a mix of inherited types? If so, that&#39;s totally fine for our purposes: we almost always deal with one inherited type at a time; when we do need to apply an operation to all inherited types, we do a separate query for each type. Sure, it&#39;s ugly to maintain a list of the inherited types, but in practice, that&#39;s a small price to pay for having shared fields and functionality..."},{"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"score":0,"creation_date":1436637046,"post_id":31281642,"comment_id":50701211,"body_markdown":"Yes iOS supports model inheritance, but it&#39;s not allowed to perform queries that span across inheritance. With composition you can achieve the same result while maintaining full composability and decent query support (especially as soon as we support back-links)","body":"Yes iOS supports model inheritance, but it&#39;s not allowed to perform queries that span across inheritance. With composition you can achieve the same result while maintaining full composability and decent query support (especially as soon as we support back-links)"},{"owner":{"account_id":223982,"reputation":10895,"user_id":483520,"accept_rate":77,"display_name":"Nolan Amy"},"score":0,"creation_date":1436656483,"post_id":31281642,"comment_id":50706146,"body_markdown":"@Emanuelez could you elaborate? How do you suggest using composition here? Using a wrapper class for each `RealmObject` subclass, such that the wrapper has-an instance of its corresponding subclass? Splitting classes with shared fields across multiple `RealmObject` subclasses [as suggested by @AliSoftware on github](https://github.com/realm/realm-java/issues/761#issuecomment-119559100) (&quot;Adding a relationship from the Dog and Cat RLMObjects to the Animal RLMObject (composition instead of inheritance)&quot;)? Something else?","body":"@Emanuelez could you elaborate? How do you suggest using composition here? Using a wrapper class for each <code>RealmObject</code> subclass, such that the wrapper has-an instance of its corresponding subclass? Splitting classes with shared fields across multiple <code>RealmObject</code> subclasses <a href=\"https://github.com/realm/realm-java/issues/761#issuecomment-119559100\" rel=\"nofollow noreferrer\">as suggested by @AliSoftware on github</a> (&quot;Adding a relationship from the Dog and Cat RLMObjects to the Animal RLMObject (composition instead of inheritance)&quot;)? Something else?"},{"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"score":0,"creation_date":1436787702,"post_id":31281642,"comment_id":50742354,"body_markdown":"I mean something in the lines of:\n   `class Animal: int numberOfLegs` and\n   `class Dog: String name, Animal animal`","body":"I mean something in the lines of:    <code>class Animal: int numberOfLegs</code> and    <code>class Dog: String name, Animal animal</code>"},{"owner":{"account_id":223982,"reputation":10895,"user_id":483520,"accept_rate":77,"display_name":"Nolan Amy"},"score":0,"creation_date":1436808271,"post_id":31281642,"comment_id":50755913,"body_markdown":"@Emanuelez Okay, thanks. So if this were a SQL database, there&#39;d be a `Dog` table, a `Sparrow` table, and an `Animal` table. Each `Dog` has an `Animal`, and each `Sparrow`  has an `Animal`. The application would have to make sure to give each `Dog` or `Sparrow` created its own `Animal`, and to remove the corresponding `Animal` whenever a `Dog` or `Sparrow` is removed. Is that right?","body":"@Emanuelez Okay, thanks. So if this were a SQL database, there&#39;d be a <code>Dog</code> table, a <code>Sparrow</code> table, and an <code>Animal</code> table. Each <code>Dog</code> has an <code>Animal</code>, and each <code>Sparrow</code>  has an <code>Animal</code>. The application would have to make sure to give each <code>Dog</code> or <code>Sparrow</code> created its own <code>Animal</code>, and to remove the corresponding <code>Animal</code> whenever a <code>Dog</code> or <code>Sparrow</code> is removed. Is that right?"},{"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"score":0,"creation_date":1436808509,"post_id":31281642,"comment_id":50756085,"body_markdown":"Yes, that is correct.","body":"Yes, that is correct."}],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532511858,"creation_date":1483979189,"answer_id":41552457,"question_id":31281642,"body_markdown":"I had the same issue when I found out that `realmObjects` should inherit directly form `RealmObject` class (no support for inheritance). \r\nIn order to get back the benefits of polymorphism, I considered a similar solution to yours combined with some composition tricks that would avoid me attribute duplication.\r\n\r\n&gt; &quot;Talk is cheap show me the code.&quot;\r\n\r\n# Code examples\r\n\r\n    interface IPerson {\r\n        String getName();\r\n    }\r\n\r\n    class Person extends RealmObject implements IPerson {\r\n\r\n        String name;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n    interface IWorker extends IPerson {\r\n        int getSalary();\r\n    }\r\n\r\n    class Worker extends RealmObject implements IWorker {\r\n\r\n        Person person;\r\n        int salary;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return person.getName();\r\n        }\r\n\r\n        @Override\r\n        public int getSalary() {\r\n            return salary;\r\n        }\r\n    }\r\n\r\n# Some benefits\r\n\r\nYou won&#39;t have to duplicate your attributes in each extending class.\r\n\r\nPolymorphism is back! For example, now you can simulate a cast (with getPerson() in this example).\r\n\r\n# Some limits\r\n\r\nWhen using a serialization library that uses reflection (suppose it&#39;s Gson), your serialized models will have their parents attributes embedded. Not something that you would have had if you were using classic inheritance.\r\n\r\n# Example with JSON\r\n\r\nLet&#39;s suppose John Doe is making 500$ a month. (He&#39;s a Worker and a Person right?).\r\n\r\nWith classic inheritance, John Doe would look like this:\r\n\r\n    {\r\n      &quot;name&quot;:&quot;John Doe&quot;,\r\n      &quot;salary&quot;: 500\r\n    }\r\n\r\nBut with this inheritance workaround ... :\r\n\r\n    {\r\n      &quot;person&quot; : {\r\n      &quot;name&quot;:&quot;John Doe&quot;\r\n      },\r\n      &quot;salary&quot;: 500\r\n    }\r\n\r\nHope this helps!\r\n\r\n## Note\r\n\r\nPrimaryKeys unfortunately have to be duplicated.\r\n\r\n# Bonus\r\n\r\nYou might want to check [RealmFieldNamesHelper][1], a library made by [Christian Melchior][2] &quot;to make Realm queries more type safe&quot;.\r\n\r\n  [1]: https://github.com/cmelchior/realmfieldnameshelper\r\n  [2]: https://stackoverflow.com/users/1389357/christian-melchior","title":"Sharing Realm fields on Android","body":"<p>I had the same issue when I found out that <code>realmObjects</code> should inherit directly form <code>RealmObject</code> class (no support for inheritance). \nIn order to get back the benefits of polymorphism, I considered a similar solution to yours combined with some composition tricks that would avoid me attribute duplication.</p>\n\n<blockquote>\n  <p>\"Talk is cheap show me the code.\"</p>\n</blockquote>\n\n<h1>Code examples</h1>\n\n<pre><code>interface IPerson {\n    String getName();\n}\n\nclass Person extends RealmObject implements IPerson {\n\n    String name;\n\n    @Override\n    public String getName() {\n        return name;\n    }\n}\n\ninterface IWorker extends IPerson {\n    int getSalary();\n}\n\nclass Worker extends RealmObject implements IWorker {\n\n    Person person;\n    int salary;\n\n    @Override\n    public String getName() {\n        return person.getName();\n    }\n\n    @Override\n    public int getSalary() {\n        return salary;\n    }\n}\n</code></pre>\n\n<h1>Some benefits</h1>\n\n<p>You won't have to duplicate your attributes in each extending class.</p>\n\n<p>Polymorphism is back! For example, now you can simulate a cast (with getPerson() in this example).</p>\n\n<h1>Some limits</h1>\n\n<p>When using a serialization library that uses reflection (suppose it's Gson), your serialized models will have their parents attributes embedded. Not something that you would have had if you were using classic inheritance.</p>\n\n<h1>Example with JSON</h1>\n\n<p>Let's suppose John Doe is making 500$ a month. (He's a Worker and a Person right?).</p>\n\n<p>With classic inheritance, John Doe would look like this:</p>\n\n<pre><code>{\n  \"name\":\"John Doe\",\n  \"salary\": 500\n}\n</code></pre>\n\n<p>But with this inheritance workaround ... :</p>\n\n<pre><code>{\n  \"person\" : {\n  \"name\":\"John Doe\"\n  },\n  \"salary\": 500\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n\n<h2>Note</h2>\n\n<p>PrimaryKeys unfortunately have to be duplicated.</p>\n\n<h1>Bonus</h1>\n\n<p>You might want to check <a href=\"https://github.com/cmelchior/realmfieldnameshelper\" rel=\"nofollow noreferrer\">RealmFieldNamesHelper</a>, a library made by <a href=\"https://stackoverflow.com/users/1389357/christian-melchior\">Christian Melchior</a> \"to make Realm queries more type safe\".</p>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523532204,"creation_date":1523532204,"answer_id":49795275,"question_id":31281642,"body_markdown":"If you use Kotlin, sharing the fields via an interface becomes even more trivial:\r\n\r\n    interface PersonBase {\r\n        var name: String?\r\n        var salary: Int\r\n    }\r\n\r\nThen\r\n\r\n    class Person: RealmObject(), PersonBase {\r\n    }","title":"Sharing Realm fields on Android","body":"<p>If you use Kotlin, sharing the fields via an interface becomes even more trivial:</p>\n\n<pre><code>interface PersonBase {\n    var name: String?\n    var salary: Int\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>class Person: RealmObject(), PersonBase {\n}\n</code></pre>\n"}],"owner":{"account_id":223982,"reputation":10895,"user_id":483520,"accept_rate":77,"display_name":"Nolan Amy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1642200095,"creation_date":1436315571,"question_id":31281642,"body_markdown":"Realm on Android [doesn&#39;t support model inheritance/polymorphism][1].\r\n\r\nSo is there any way to share fields on Android? We have 5 models that all share the same synchronization-related fields and code. We use inheritance in our current SQLite models; if we switch to Realm, is our only choice to duplicate the sync fields across each of the 5 model classes?\r\n\r\nAs a workaround, I&#39;m thinking about having those classes implement a `Syncable` interface with getters and setters for the shared fields, which at least let me share sync functionality. Is there a better way?\r\n\r\nTo share sync functionality, my best guess is to make a static `Synchronizer` class and pass it `Syncable` model objects. `Synchronizer` methods will use the `Syncable` interface to operate directly on model objects&#39; shared, sync-related fields and delegate operations on type-specific fields. Alternatively, I could provide each model object its own `Synchronizer` instance...\r\n\r\nTrying to find the right way to work around the inheritance limitation is really stretching my OOP skills... help is appreciated!\r\n\r\n  [1]: https://github.com/realm/realm-java/issues/761","title":"Sharing Realm fields on Android","body":"<p>Realm on Android <a href=\"https://github.com/realm/realm-java/issues/761\" rel=\"nofollow\">doesn't support model inheritance/polymorphism</a>.</p>\n\n<p>So is there any way to share fields on Android? We have 5 models that all share the same synchronization-related fields and code. We use inheritance in our current SQLite models; if we switch to Realm, is our only choice to duplicate the sync fields across each of the 5 model classes?</p>\n\n<p>As a workaround, I'm thinking about having those classes implement a <code>Syncable</code> interface with getters and setters for the shared fields, which at least let me share sync functionality. Is there a better way?</p>\n\n<p>To share sync functionality, my best guess is to make a static <code>Synchronizer</code> class and pass it <code>Syncable</code> model objects. <code>Synchronizer</code> methods will use the <code>Syncable</code> interface to operate directly on model objects' shared, sync-related fields and delegate operations on type-specific fields. Alternatively, I could provide each model object its own <code>Synchronizer</code> instance...</p>\n\n<p>Trying to find the right way to work around the inheritance limitation is really stretching my OOP skills... help is appreciated!</p>\n"},{"tags":["java","android","inheritance","model","realm"],"comments":[{"owner":{"account_id":1489026,"reputation":3565,"user_id":1396606,"display_name":"beeender"},"score":1,"creation_date":1457319328,"post_id":35818414,"comment_id":59337751,"body_markdown":"1) The related Realm issue is https://github.com/realm/realm-java/issues/761 . I don&#39;t think inheritance can totally be replaced by composition, however it could be helpful in same cases. The `RealmObject` and `RealmList` field in a model is also typed, you cannot do `ExtendCar extendedCar; setExtendCar(NewTypeHondaCar newCar)`  2) The feature &quot;better object&quot; has already been merged to Realm&#39;s master, it will be released very soon in 0.88.0. You can try with snapshot before release. With this feature, you don&#39;t have to write any setters/getters for `RealmObject` .","body":"1) The related Realm issue is <a href=\"https://github.com/realm/realm-java/issues/761\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/issues/761</a> . I don&#39;t think inheritance can totally be replaced by composition, however it could be helpful in same cases. The <code>RealmObject</code> and <code>RealmList</code> field in a model is also typed, you cannot do <code>ExtendCar extendedCar; setExtendCar(NewTypeHondaCar newCar)</code>  2) The feature &quot;better object&quot; has already been merged to Realm&#39;s master, it will be released very soon in 0.88.0. You can try with snapshot before release. With this feature, you don&#39;t have to write any setters/getters for <code>RealmObject</code> ."},{"owner":{"display_name":"user4875457"},"score":0,"creation_date":1457363336,"post_id":35818414,"comment_id":59359674,"body_markdown":"For 1) I understand that you could not do &quot; ... extend car&quot;, though you could create a car object which extends realm object and a honda object which also extends realm object. You could then create a car object which contains a honda object, and set both objects to have the same unique identifier--or @primarykey. Does this sound like a viable solution? Also for 2) that&#39;s awesome! i have been waiting for this for quite some time now.","body":"For 1) I understand that you could not do &quot; ... extend car&quot;, though you could create a car object which extends realm object and a honda object which also extends realm object. You could then create a car object which contains a honda object, and set both objects to have the same unique identifier--or @primarykey. Does this sound like a viable solution? Also for 2) that&#39;s awesome! i have been waiting for this for quite some time now."},{"owner":{"account_id":1489026,"reputation":3565,"user_id":1396606,"display_name":"beeender"},"score":0,"creation_date":1457402530,"post_id":35818414,"comment_id":59380652,"body_markdown":"For 1) I think that would work. `Honda` could have `Car` for common fields, and with the 0.88.0, `Honda` can implements some interface like `getCarProps` which could also be implemented by `Toyota`. Almost like inheritance then ;)","body":"For 1) I think that would work. <code>Honda</code> could have <code>Car</code> for common fields, and with the 0.88.0, <code>Honda</code> can implements some interface like <code>getCarProps</code> which could also be implemented by <code>Toyota</code>. Almost like inheritance then ;)"}],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566317137,"creation_date":1483979898,"answer_id":41552692,"question_id":35818414,"body_markdown":"# A workaround I&#39;ve used (in a nutshell)\r\n\r\nComposition + Interface inheritance would allow you to get some polymorphism benefits back to your realmObjects.\r\n\r\n## Some code demonstration\r\n\r\n    interface IPerson {\r\n\r\n        String getName();\r\n    }\r\n\r\n    class Person extends RealmObject implements IPerson {\r\n\r\n        String name;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n    interface IWorker extends IPerson {\r\n        int getSalary();\r\n    }\r\n\r\n    class Worker extends RealmObject implements IWorker {\r\n\r\n        Person person;\r\n        int salary;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return person.getName();\r\n        }\r\n\r\n        @Override\r\n        public int getSalary() {\r\n            return salary;\r\n        }\r\n    }\r\n\r\n## Note\r\n\r\nPrimaryKeys unfortunately have to be duplicated.\r\n \r\n\r\nCheck this [answer][1] of mine to get more details about this workaround.\r\n\r\n  [1]: https://stackoverflow.com/a/41552457/3503855","title":"Using composition as a workaround for inheritance in realm (android)?","body":"<h1>A workaround I've used (in a nutshell)</h1>\n\n<p>Composition + Interface inheritance would allow you to get some polymorphism benefits back to your realmObjects.</p>\n\n<h2>Some code demonstration</h2>\n\n<pre><code>interface IPerson {\n\n    String getName();\n}\n\nclass Person extends RealmObject implements IPerson {\n\n    String name;\n\n    @Override\n    public String getName() {\n        return name;\n    }\n}\n\ninterface IWorker extends IPerson {\n    int getSalary();\n}\n\nclass Worker extends RealmObject implements IWorker {\n\n    Person person;\n    int salary;\n\n    @Override\n    public String getName() {\n        return person.getName();\n    }\n\n    @Override\n    public int getSalary() {\n        return salary;\n    }\n}\n</code></pre>\n\n<h2>Note</h2>\n\n<p>PrimaryKeys unfortunately have to be duplicated.</p>\n\n<p>Check this <a href=\"https://stackoverflow.com/a/41552457/3503855\">answer</a> of mine to get more details about this workaround.</p>\n"}],"owner":{"display_name":"user4875457"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3654,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1642200060,"creation_date":1457204272,"question_id":35818414,"body_markdown":"In my app, I am using **realm** as a database platform. **Realm** has been great thus far- super easy to use, make queries, etc.-though, I have two qualms with it that I am trying to work around.\r\n\r\n1) Realm does not support inheritance in model object classes which extend RealmObject.\r\n- I am wondering if any developers out there have used composition as a workaround to the inheritance issue and if its worked for them.\r\n- In other words, say I have a class &quot;car&quot; which extends RealmObject and then I have other classes such as &quot;honda&quot;, &quot;toyota&quot;, etc. Does it make sense to make separate car objects for each of these which contain either a honda, toyota, etc.?\r\n\r\n2) Realm only supports getters and setters in model object classes\r\n- My current workaround for this is by creating static methods within the model object classes.\r\n- In other words, say I want to modify a honda&#39;s color, I would call something such as, Honda.updateColor(honda, blue).\r\n- ^ Is this sloppy, or is this essentially the only way to handle such methods.\r\n\r\nReally any feedback would be great!\r\n","title":"Using composition as a workaround for inheritance in realm (android)?","body":"<p>In my app, I am using <strong>realm</strong> as a database platform. <strong>Realm</strong> has been great thus far- super easy to use, make queries, etc.-though, I have two qualms with it that I am trying to work around.</p>\n\n<p>1) Realm does not support inheritance in model object classes which extend RealmObject.\n- I am wondering if any developers out there have used composition as a workaround to the inheritance issue and if its worked for them.\n- In other words, say I have a class \"car\" which extends RealmObject and then I have other classes such as \"honda\", \"toyota\", etc. Does it make sense to make separate car objects for each of these which contain either a honda, toyota, etc.?</p>\n\n<p>2) Realm only supports getters and setters in model object classes\n- My current workaround for this is by creating static methods within the model object classes.\n- In other words, say I want to modify a honda's color, I would call something such as, Honda.updateColor(honda, blue).\n- ^ Is this sloppy, or is this essentially the only way to handle such methods.</p>\n\n<p>Really any feedback would be great!</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642137897,"post_id":70703862,"comment_id":124996616,"body_markdown":"How do you setup the `LoggerConfig` for your `special.com` logger? If you want to have the same `LoggerContext` as the rest of the application, you need to apply your modifications **after** Spring Boot changed the `Configuration`. Alternatively you can use a separate `LoggerContext`.","body":"How do you setup the <code>LoggerConfig</code> for your <code>special.com</code> logger? If you want to have the same <code>LoggerContext</code> as the rest of the application, you need to apply your modifications <b>after</b> Spring Boot changed the <code>Configuration</code>. Alternatively you can use a separate <code>LoggerContext</code>."},{"owner":{"account_id":4431299,"reputation":487,"user_id":3608412,"accept_rate":67,"display_name":"Tamaki Sakura"},"score":0,"creation_date":1642180849,"post_id":70703862,"comment_id":125010786,"body_markdown":"The LoggerConfig is set up by code, I will share a code snippet later.","body":"The LoggerConfig is set up by code, I will share a code snippet later."},{"owner":{"account_id":4431299,"reputation":487,"user_id":3608412,"accept_rate":67,"display_name":"Tamaki Sakura"},"score":0,"creation_date":1642180886,"post_id":70703862,"comment_id":125010795,"body_markdown":"I tried create a different LoggerContext but it also resulted in with logger config overwritten by Spring.","body":"I tried create a different LoggerContext but it also resulted in with logger config overwritten by Spring."}],"answers":[{"tags":[],"owner":{"account_id":4431299,"reputation":487,"user_id":3608412,"accept_rate":67,"display_name":"Tamaki Sakura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642199707,"creation_date":1642199707,"answer_id":70717261,"question_id":70703862,"body_markdown":"Figure out what happened.\r\n```\r\n        LoggerContext ctx = Configurator.initialize(builder.build());\r\n        ctx.start();\r\n```\r\nIn both Application A and B, `builder.build()` has the right information, but Application B&#39;s `ctx` does not have the custom configuration\r\n\r\nInvestigate inside `Configurator.initalize`, this attempts to trigger `Log4jContextFactory`:\r\n```\r\n    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final Object externalContext,\r\n            final boolean currentContext, final Configuration configuration) {\r\n        final LoggerContext ctx = selector.getContext(fqcn, loader, currentContext, null);\r\n        if (externalContext != null &amp;&amp; ctx.getExternalContext() == null) {\r\n            ctx.setExternalContext(externalContext);\r\n        }\r\n        if (ctx.getState() == LifeCycle.State.INITIALIZED) {\r\n            ContextAnchor.THREAD_CONTEXT.set(ctx);\r\n            try {\r\n                ctx.start(configuration);\r\n            } finally {\r\n                ContextAnchor.THREAD_CONTEXT.remove();\r\n            }\r\n        }\r\n        return ctx;\r\n    }\r\n```\r\nNote that the `configuration` is not used unless the context currently has state `INITIALIZED`\r\n\r\nProbably because Spring will initialize some sort of Log4j internally in either way, even if you set `-Dorg.springframework.boot.logging.LoggingSystem=none`, the returned ctx is always `STARTED`.\r\n\r\nThe hack to it is that always call reinitailize to force configuration being updated to whatever that&#39;s inside `builder.build()`:\r\n\r\n```\r\n        BuiltConfiguration configuration = builder.build();\r\n        LoggerContext ctx = Configurator.initialize(configuration);\r\n        ctx.reconfigure(configuration);\r\n        ctx.start();\r\n``` ","title":"Is there anyway to stop Spring Boot from overwriting my log config?","body":"<p>Figure out what happened.</p>\n<pre><code>        LoggerContext ctx = Configurator.initialize(builder.build());\n        ctx.start();\n</code></pre>\n<p>In both Application A and B, <code>builder.build()</code> has the right information, but Application B's <code>ctx</code> does not have the custom configuration</p>\n<p>Investigate inside <code>Configurator.initalize</code>, this attempts to trigger <code>Log4jContextFactory</code>:</p>\n<pre><code>    public LoggerContext getContext(final String fqcn, final ClassLoader loader, final Object externalContext,\n            final boolean currentContext, final Configuration configuration) {\n        final LoggerContext ctx = selector.getContext(fqcn, loader, currentContext, null);\n        if (externalContext != null &amp;&amp; ctx.getExternalContext() == null) {\n            ctx.setExternalContext(externalContext);\n        }\n        if (ctx.getState() == LifeCycle.State.INITIALIZED) {\n            ContextAnchor.THREAD_CONTEXT.set(ctx);\n            try {\n                ctx.start(configuration);\n            } finally {\n                ContextAnchor.THREAD_CONTEXT.remove();\n            }\n        }\n        return ctx;\n    }\n</code></pre>\n<p>Note that the <code>configuration</code> is not used unless the context currently has state <code>INITIALIZED</code></p>\n<p>Probably because Spring will initialize some sort of Log4j internally in either way, even if you set <code>-Dorg.springframework.boot.logging.LoggingSystem=none</code>, the returned ctx is always <code>STARTED</code>.</p>\n<p>The hack to it is that always call reinitailize to force configuration being updated to whatever that's inside <code>builder.build()</code>:</p>\n<pre><code>        BuiltConfiguration configuration = builder.build();\n        LoggerContext ctx = Configurator.initialize(configuration);\n        ctx.reconfigure(configuration);\n        ctx.start();\n</code></pre>\n"}],"owner":{"account_id":4431299,"reputation":487,"user_id":3608412,"accept_rate":67,"display_name":"Tamaki Sakura"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70717261,"answer_count":1,"score":0,"last_activity_date":1642199707,"creation_date":1642112763,"question_id":70703862,"body_markdown":"I have a logger that has the following properties:\r\n```\r\nPrivateConfig [loggerConfig=Special, config=org.apache.logging.log4j.core.config.builder.impl.BuiltConfiguration@709a148, loggerConfigLevel=INFO, intLevel=400, logger=Special.com:INFO in 73d16e93]\r\n```\r\nThis is a Special logger that has a specific format and specific destination needed for my application\r\n\r\nThis Special logger is created through:\r\n```\r\n        Level level = Level.toLevel(logLevel);\r\n\r\n        ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\r\n        builder.setStatusLevel(level);\r\n        builder.setConfigurationName(&quot;whatever&quot;);\r\n\r\n        LoggerComponentBuilder specialLogger = builder.newLogger(&quot;Special&quot;, level);\r\n        AppenderComponentBuilder specialAppenderBuilder =  builder\r\n                    .newAppender(&quot;Special&quot;, &quot;RollingFile&quot;)\r\n                    .otherComponents();\r\n        specialAppenderBuilder.add(\r\n              builder\r\n                    .newLayout(&quot;PatternLayout&quot;)\r\n                    .otherComponents();\r\n        builder.add(specialAppenderBuilder);\r\n        specialLogger = specialLogger\r\n              .add(builder.newAppenderRef(&quot;Special&quot;))\r\n              .addAttribute(&quot;additivity&quot;, false);\r\n        builder.add(specialLogger);\r\n\r\n        LoggerContext ctx = Configurator.initialize(builder.build());\r\n        ctx.start();\r\n```\r\n\r\n\r\nThis logger work in Application A, which is not using Spring Boot\r\n\r\n\r\nI import part of Application A to Application B, which is Spring Boot based, but then the exact same logger become:\r\n```\r\nPrivateConfig [loggerConfig=root, config=XmlConfiguration[location=jar:file:/Users/stamaki/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.4.4/38392ae406009e55efe873baee4633bfa6b766b3/spring-boot-2.4.4.jar!/org/springframework/boot/logging/log4j2/log4j2.xml], loggerConfigLevel=INFO, intLevel=400, logger=Special.com:INFO in 18b4aac2]\r\n```\r\n\r\nNote that the logger config is being overwritten from `Special` to `root`, it no longer follows my custom written `BuiltConfiguration` but use something from Springboot&#39;s internal xml.\r\n\r\nHow do I stop Spring Boot from overwriting my config?\r\n\r\nThere appears to be a similar question:\r\nhttps://stackoverflow.com/questions/28419024/spring-is-resetting-my-logging-configuration-how-do-i-work-around-this\r\nBut the solution doesn&#39;t work\r\n\r\nI also tried https://stackoverflow.com/questions/29609996/spring-boot-loggingapplicationlistener-interfering-with-application-server-logg But their solution still don&#39;t work for me as it change my logger into \r\n```\r\nPrivateConfig [loggerConfig=root, config=org.springframework.boot.logging.log4j2.SpringBootConfigurationFactory$SpringBootConfiguration@16a3cc88, loggerConfigLevel=ERROR, intLevel=200, logger=NonSensitive.com.textiq.precisionenhancer.service.PrecisionEnhancerBackendService:ERROR in 18b4aac2]\r\n```\r\ni.e. still use Root Config, not the Special Config I set up, only different from above being that this is the default Root Logger config.\r\n\r\nPlease do not make suggestions like &quot;Update XML so it has the same format&quot;, this is not modular enough. I just wanted to use the same logger created by my library without having it being overwritten by Spring Boot.","title":"Is there anyway to stop Spring Boot from overwriting my log config?","body":"<p>I have a logger that has the following properties:</p>\n<pre><code>PrivateConfig [loggerConfig=Special, config=org.apache.logging.log4j.core.config.builder.impl.BuiltConfiguration@709a148, loggerConfigLevel=INFO, intLevel=400, logger=Special.com:INFO in 73d16e93]\n</code></pre>\n<p>This is a Special logger that has a specific format and specific destination needed for my application</p>\n<p>This Special logger is created through:</p>\n<pre><code>        Level level = Level.toLevel(logLevel);\n\n        ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\n        builder.setStatusLevel(level);\n        builder.setConfigurationName(&quot;whatever&quot;);\n\n        LoggerComponentBuilder specialLogger = builder.newLogger(&quot;Special&quot;, level);\n        AppenderComponentBuilder specialAppenderBuilder =  builder\n                    .newAppender(&quot;Special&quot;, &quot;RollingFile&quot;)\n                    .otherComponents();\n        specialAppenderBuilder.add(\n              builder\n                    .newLayout(&quot;PatternLayout&quot;)\n                    .otherComponents();\n        builder.add(specialAppenderBuilder);\n        specialLogger = specialLogger\n              .add(builder.newAppenderRef(&quot;Special&quot;))\n              .addAttribute(&quot;additivity&quot;, false);\n        builder.add(specialLogger);\n\n        LoggerContext ctx = Configurator.initialize(builder.build());\n        ctx.start();\n</code></pre>\n<p>This logger work in Application A, which is not using Spring Boot</p>\n<p>I import part of Application A to Application B, which is Spring Boot based, but then the exact same logger become:</p>\n<pre><code>PrivateConfig [loggerConfig=root, config=XmlConfiguration[location=jar:file:/Users/stamaki/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.4.4/38392ae406009e55efe873baee4633bfa6b766b3/spring-boot-2.4.4.jar!/org/springframework/boot/logging/log4j2/log4j2.xml], loggerConfigLevel=INFO, intLevel=400, logger=Special.com:INFO in 18b4aac2]\n</code></pre>\n<p>Note that the logger config is being overwritten from <code>Special</code> to <code>root</code>, it no longer follows my custom written <code>BuiltConfiguration</code> but use something from Springboot's internal xml.</p>\n<p>How do I stop Spring Boot from overwriting my config?</p>\n<p>There appears to be a similar question:\n<a href=\"https://stackoverflow.com/questions/28419024/spring-is-resetting-my-logging-configuration-how-do-i-work-around-this\">Spring is resetting my logging configuration - how do I work around this?</a>\nBut the solution doesn't work</p>\n<p>I also tried <a href=\"https://stackoverflow.com/questions/29609996/spring-boot-loggingapplicationlistener-interfering-with-application-server-logg\">Spring Boot: LoggingApplicationListener interfering with Application Server logging</a> But their solution still don't work for me as it change my logger into</p>\n<pre><code>PrivateConfig [loggerConfig=root, config=org.springframework.boot.logging.log4j2.SpringBootConfigurationFactory$SpringBootConfiguration@16a3cc88, loggerConfigLevel=ERROR, intLevel=200, logger=NonSensitive.com.textiq.precisionenhancer.service.PrecisionEnhancerBackendService:ERROR in 18b4aac2]\n</code></pre>\n<p>i.e. still use Root Config, not the Special Config I set up, only different from above being that this is the default Root Logger config.</p>\n<p>Please do not make suggestions like &quot;Update XML so it has the same format&quot;, this is not modular enough. I just wanted to use the same logger created by my library without having it being overwritten by Spring Boot.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544034323,"creation_date":1544034323,"answer_id":53638535,"question_id":53614489,"body_markdown":"I would suggest not mocking out Mapper and setup a test with CDI that can actually create all Mappers properly (not experienced with CDI to suggest a solution). \r\n\r\nHaving said that you can use the `Mapper#injectionStrategy` from 1.3. You can use a constructor injection and inject your mocks in it.","title":"MapStruct Junit - Injecting Inner Mapper with CDI","body":"<p>I would suggest not mocking out Mapper and setup a test with CDI that can actually create all Mappers properly (not experienced with CDI to suggest a solution). </p>\n\n<p>Having said that you can use the <code>Mapper#injectionStrategy</code> from 1.3. You can use a constructor injection and inject your mocks in it.</p>\n"},{"tags":[],"owner":{"account_id":1468166,"reputation":457,"user_id":4391202,"display_name":"Bluurr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544037407,"creation_date":1544037407,"answer_id":53639274,"question_id":53614489,"body_markdown":"Without creating a CDI context one option is to define the inner class using Mockito for example:\r\n\r\n    @Spy\r\n    private B uses = Mappers.getMapper(B.class);\r\n    \r\n    @InjectMocks\r\n    private A mapper = Mappers.getMapper(A.class);\r\n\r\n    @Test\r\n    public void test() {\r\n       ADto = mapper.toDto(AEntity);\r\n       // asserts...\r\n    }\r\n\r\nThis will set the inner mapper for A when it uses B. ","title":"MapStruct Junit - Injecting Inner Mapper with CDI","body":"<p>Without creating a CDI context one option is to define the inner class using Mockito for example:</p>\n\n<pre><code>@Spy\nprivate B uses = Mappers.getMapper(B.class);\n\n@InjectMocks\nprivate A mapper = Mappers.getMapper(A.class);\n\n@Test\npublic void test() {\n   ADto = mapper.toDto(AEntity);\n   // asserts...\n}\n</code></pre>\n\n<p>This will set the inner mapper for A when it uses B. </p>\n"}],"owner":{"account_id":10770743,"reputation":81,"user_id":7924273,"display_name":"JustADude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642199296,"creation_date":1543931576,"question_id":53614489,"body_markdown":"Currently have Mapper containing inner Mappers (sometimes, themselves containing other inner Mappers).\r\n\r\nThey&#39;re defined like so:\r\n\r\n    @Mapper(componentModel = &quot;cdi&quot;, uses = B.class)\r\n    public interface A {\r\n    \tADto toDto(AEntity entity);\r\n    }\r\n\r\n    @Mapper(componentModel = &quot;cdi&quot;)\r\n    public interface B {\r\n    \tBDto toDto(BEntity entity);\r\n    }\r\n\r\nWhen the application runs, I can simply inject the main Mapper A without any problems and the entities get converted.\r\n\r\nHowever, through JUnit, I can&#39;t seem to figure out how to instanciate inner mapper.\r\n\r\n    public class InformationChassisMapperTest {\r\n        @InjectMocks\r\n    \tpublic A mapper = new AImpl();\r\n    \r\n        public AEntity;\r\n        @Before\r\n        public void init() {\r\n           AEntity = new AEntity();\r\n           // fill entity...\r\n        }\r\n        \r\n        @Test\r\n        public void test() {\r\n           ADto = mapper.toDto(AEntity);\r\n           // asserts...\r\n        }\r\n    }\r\n\r\nAnd I get an NPE because the inner mapper B is not instanciated during the mapping. Since the generated A mapper class uses @Inject B, during my JUnit tests CDI bean mapping is off (no arquillian). How could I mock or inject or instanciate the 2nd mapper in order to make my test pass?\r\n\r\nI&#39;ve looked other answers but they only cover Spring.","title":"MapStruct Junit - Injecting Inner Mapper with CDI","body":"<p>Currently have Mapper containing inner Mappers (sometimes, themselves containing other inner Mappers).</p>\n\n<p>They're defined like so:</p>\n\n<pre><code>@Mapper(componentModel = \"cdi\", uses = B.class)\npublic interface A {\n    ADto toDto(AEntity entity);\n}\n\n@Mapper(componentModel = \"cdi\")\npublic interface B {\n    BDto toDto(BEntity entity);\n}\n</code></pre>\n\n<p>When the application runs, I can simply inject the main Mapper A without any problems and the entities get converted.</p>\n\n<p>However, through JUnit, I can't seem to figure out how to instanciate inner mapper.</p>\n\n<pre><code>public class InformationChassisMapperTest {\n    @InjectMocks\n    public A mapper = new AImpl();\n\n    public AEntity;\n    @Before\n    public void init() {\n       AEntity = new AEntity();\n       // fill entity...\n    }\n\n    @Test\n    public void test() {\n       ADto = mapper.toDto(AEntity);\n       // asserts...\n    }\n}\n</code></pre>\n\n<p>And I get an NPE because the inner mapper B is not instanciated during the mapping. Since the generated A mapper class uses @Inject B, during my JUnit tests CDI bean mapping is off (no arquillian). How could I mock or inject or instanciate the 2nd mapper in order to make my test pass?</p>\n\n<p>I've looked other answers but they only cover Spring.</p>\n"},{"tags":["java","class","methods","output"],"answers":[{"tags":[],"owner":{"account_id":2253934,"reputation":152,"user_id":2779074,"display_name":"Humpity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642198394,"creation_date":1642198394,"answer_id":70717099,"question_id":70716331,"body_markdown":"Example is a class, not a method. It&#39;s like a template for an object.\r\n\r\nBut you can put a method in that class that returns what you want.\r\n\r\nExample.java\r\n\r\n\t\tpackage myPackage;\r\n\r\n\t\tpublic class Example \r\n\t\t{\r\n\t\t public static int a, b;\r\n\r\n\t\t Example(int inputForA, int inputForB)\r\n\t\t {\r\n\t\t   a = inputForA;\r\n\t\t   b = inputForB;\r\n\t\t }\r\n\t\t float compute ()\r\n\t\t {\r\n\t\t\treturn (float)a/(float)b;\r\n\t\t }\r\n\t\t}//_Example\r\n\r\nNow we create an instance of Example and use this object in another class.\r\n\r\nMain.java\r\n\r\n\t\tpackage myPackage;\r\n\r\n\t\tpublic class Main\r\n\t\t{\r\n\t\t public static void main(String []args)\r\n\t\t {\r\n\t\t\tExample exp = new Example (3, 2);\r\n\t\t\tSystem.out.println(exp.compute());\r\n\r\n\t\t }//_main\r\n\t\t}//_Main\r\n","title":"Getting a new variable with custom output and not a constructor location (name@xxxxx) - Java","body":"<p>Example is a class, not a method. It's like a template for an object.</p>\n<p>But you can put a method in that class that returns what you want.</p>\n<p>Example.java</p>\n<pre><code>    package myPackage;\n\n    public class Example \n    {\n     public static int a, b;\n\n     Example(int inputForA, int inputForB)\n     {\n       a = inputForA;\n       b = inputForB;\n     }\n     float compute ()\n     {\n        return (float)a/(float)b;\n     }\n    }//_Example\n</code></pre>\n<p>Now we create an instance of Example and use this object in another class.</p>\n<p>Main.java</p>\n<pre><code>    package myPackage;\n\n    public class Main\n    {\n     public static void main(String []args)\n     {\n        Example exp = new Example (3, 2);\n        System.out.println(exp.compute());\n\n     }//_main\n    }//_Main\n</code></pre>\n"}],"owner":{"account_id":20746910,"reputation":29,"user_id":15235313,"display_name":"HMNNikoloz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70717099,"answer_count":1,"score":0,"last_activity_date":1642198394,"creation_date":1642193044,"question_id":70716331,"body_markdown":"I&#39;ve been trying to make a custom output from the constructor in Java, but it keeps giving me the location of it. The ```return``` does not work and throws up an error. The code is:\r\n```\r\nPublic class Example {\r\npublic static int a, b;\r\n\r\nExample(int inputForA, int inputForB){\r\n   a = inputForA;\r\n   b = inputForB;\r\n   }\r\n}\r\n```\r\nThe output i want is a/b (a fraction, for example 3/2).\r\nI tried a return command, but it does not work:\r\n```\r\nPublic class Example {\r\npublic static int a, b;\r\n\r\nExample(int inputForA, int inputForB){\r\n   a = inputForA;\r\n   b = inputForB;\r\n   return a +&quot;/&quot;+ b; //i even tried making String Example(){...} in the beginning but it still does not work, throws an error\r\n   }\r\n}\r\n```\r\nThe output i&#39;m getting, when i am trying to print Example (3, 2)```System.out.println(Example(3, 2))``` is ```Example@4dd8dc3``` and as mentioned i need ```3/2```.\r\n\r\nIs there a way to do it?\r\nThanks!","title":"Getting a new variable with custom output and not a constructor location (name@xxxxx) - Java","body":"<p>I've been trying to make a custom output from the constructor in Java, but it keeps giving me the location of it. The <code>return</code> does not work and throws up an error. The code is:</p>\n<pre><code>Public class Example {\npublic static int a, b;\n\nExample(int inputForA, int inputForB){\n   a = inputForA;\n   b = inputForB;\n   }\n}\n</code></pre>\n<p>The output i want is a/b (a fraction, for example 3/2).\nI tried a return command, but it does not work:</p>\n<pre><code>Public class Example {\npublic static int a, b;\n\nExample(int inputForA, int inputForB){\n   a = inputForA;\n   b = inputForB;\n   return a +&quot;/&quot;+ b; //i even tried making String Example(){...} in the beginning but it still does not work, throws an error\n   }\n}\n</code></pre>\n<p>The output i'm getting, when i am trying to print Example (3, 2)<code>System.out.println(Example(3, 2))</code> is <code>Example@4dd8dc3</code> and as mentioned i need <code>3/2</code>.</p>\n<p>Is there a way to do it?\nThanks!</p>\n"},{"tags":["java","windows-security"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1640947206,"post_id":70540435,"comment_id":124696255,"body_markdown":"Did you try searching the Internet for **debug rmi**?","body":"Did you try searching the Internet for <b>debug rmi</b>?"}],"answers":[{"tags":[],"owner":{"account_id":23791451,"reputation":1,"user_id":17802841,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642197782,"creation_date":1642197782,"answer_id":70717011,"question_id":70540435,"body_markdown":"Sorry for the delay on this - the issue ended up being that IPv6 was disabled. Re-enabled that - and the application was happy again.\r\n\r\nFor others reference - \r\nhttps://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/configure-ipv6-in-windows","title":"Issue with java-based app in RMIScoketFactory within locked down environment","body":"<p>Sorry for the delay on this - the issue ended up being that IPv6 was disabled. Re-enabled that - and the application was happy again.</p>\n<p>For others reference -\n<a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/configure-ipv6-in-windows\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/configure-ipv6-in-windows</a></p>\n"}],"owner":{"account_id":23791451,"reputation":1,"user_id":17802841,"display_name":"Ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642197782,"creation_date":1640939589,"question_id":70540435,"body_markdown":"Our company uses a java application as one of its core business applications - it works fine on the existing Windows 7 environment.\r\n\r\nOne of (the many) things I&#39;m doing is moving the organization to windows 10 21H2 - with a greater focus on security. \r\n\r\nThis core business application fails within a secured desktop. By secured, i mean following the CIS Windows 10 lockdown recommendations on an if not/why not basis - so if there is a reason not to follow one, we don&#39;t.\r\n\r\nAfter a great deal of troubleshooting, i believe the core of the issue is the following lines from the application\r\n```none\r\nFound network address: /0:0:0:0:0:0:0:1 (loopback)\r\nFound network address: /127.0.0.1 (loopback)\r\njava.lang.IllegalStateException: No suitable network interface found.\r\n at &lt;appname&gt;/net.MulitopleNetworkadapaterRMISocketfactory.(init)\r\nCouldn&#39;t create socketfactory: No suitable network interface found.\r\n```\r\nThis occurs running with the firewall off and running from an elevated command prompt - so these basics have been covered off.\r\n\r\nI don&#39;t know Java at all - and what I&#39;m looking for assistance on is anyone that knows &quot;socketfactory&quot; - how it works. Will it be running all commands in a user security context ? What method does it use to to lookup the local NIC&#39;s? I&#39;m trying to work out where it is being blocked.\r\n\r\nI&#39;m accepting that it is one of the security lockdowns causing the issue - but I&#39;m having trouble finding it and would like some pointers.\r\n\r\nAs far as asking the vendor... well... they are not helpful.\r\n\r\nI&#39;ve trawled event logs and process monitor with no success\r\n\r\n","title":"Issue with java-based app in RMIScoketFactory within locked down environment","body":"<p>Our company uses a java application as one of its core business applications - it works fine on the existing Windows 7 environment.</p>\n<p>One of (the many) things I'm doing is moving the organization to windows 10 21H2 - with a greater focus on security.</p>\n<p>This core business application fails within a secured desktop. By secured, i mean following the CIS Windows 10 lockdown recommendations on an if not/why not basis - so if there is a reason not to follow one, we don't.</p>\n<p>After a great deal of troubleshooting, i believe the core of the issue is the following lines from the application</p>\n<pre class=\"lang-none prettyprint-override\"><code>Found network address: /0:0:0:0:0:0:0:1 (loopback)\nFound network address: /127.0.0.1 (loopback)\njava.lang.IllegalStateException: No suitable network interface found.\n at &lt;appname&gt;/net.MulitopleNetworkadapaterRMISocketfactory.(init)\nCouldn't create socketfactory: No suitable network interface found.\n</code></pre>\n<p>This occurs running with the firewall off and running from an elevated command prompt - so these basics have been covered off.</p>\n<p>I don't know Java at all - and what I'm looking for assistance on is anyone that knows &quot;socketfactory&quot; - how it works. Will it be running all commands in a user security context ? What method does it use to to lookup the local NIC's? I'm trying to work out where it is being blocked.</p>\n<p>I'm accepting that it is one of the security lockdowns causing the issue - but I'm having trouble finding it and would like some pointers.</p>\n<p>As far as asking the vendor... well... they are not helpful.</p>\n<p>I've trawled event logs and process monitor with no success</p>\n"},{"tags":["java","android","android-alertdialog","system-alert-window"],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642197706,"creation_date":1642197706,"question_id":70717001,"body_markdown":"Right now, I&#39;m using the following permission to show a dialog over another app : \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\r\nDialog :\r\n\r\n     dialogBuilder = new AlertDialog.Builder(activity);\r\n     LayoutInflater inflater2 = (LayoutInflater) AppController.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n     View dialogView = inflater2.inflate(R.layout.dialog_view, null);\r\n     dialogBuilder.setView(dialogView);\r\n     dialog = dialogBuilder.create();\r\n     dialog.setCancelable(true);\r\n     final WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();\r\n     layoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n     layoutParams.height = WindowManager.LayoutParams.WRAP_CONTENT;\r\n     final Window dialogWindow = dialog.getWindow();\r\n     if (dialogWindow != null) {\r\n                dialogWindow.setAttributes(layoutParams);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    dialogWindow.setType(WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY);\r\n                } else {\r\n                    dialogWindow.setType(WindowManager.LayoutParams.TYPE_PHONE);\r\n                }\r\n      }\r\n     dialog.show();\r\n\r\n[Snaptube][1] app, shows a dialog over the YouTube app without asking for any permission : \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/EgPo3.png&quot; width=&quot;250&quot;/&gt;\r\n\r\nHow I can achieve that?\r\n\r\n  [1]: https://www.snaptubeapp.com/\r\n","title":"Show dialog over another app without SYSTEM_ALERT_WINDOW permission","body":"<p>Right now, I'm using the following permission to show a dialog over another app :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n</code></pre>\n<p>Dialog :</p>\n<pre><code> dialogBuilder = new AlertDialog.Builder(activity);\n LayoutInflater inflater2 = (LayoutInflater) AppController.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n View dialogView = inflater2.inflate(R.layout.dialog_view, null);\n dialogBuilder.setView(dialogView);\n dialog = dialogBuilder.create();\n dialog.setCancelable(true);\n final WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();\n layoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\n layoutParams.height = WindowManager.LayoutParams.WRAP_CONTENT;\n final Window dialogWindow = dialog.getWindow();\n if (dialogWindow != null) {\n            dialogWindow.setAttributes(layoutParams);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                dialogWindow.setType(WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY);\n            } else {\n                dialogWindow.setType(WindowManager.LayoutParams.TYPE_PHONE);\n            }\n  }\n dialog.show();\n</code></pre>\n<p><a href=\"https://www.snaptubeapp.com/\" rel=\"nofollow noreferrer\">Snaptube</a> app, shows a dialog over the YouTube app without asking for any permission :</p>\n<img src=\"https://i.stack.imgur.com/EgPo3.png\" width=\"250\"/>\n<p>How I can achieve that?</p>\n"},{"tags":["java","xml","soap","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":23301548,"reputation":55,"user_id":17382114,"display_name":"Italo Vieira "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642197342,"creation_date":1642197342,"answer_id":70716952,"question_id":70701260,"body_markdown":"just found it\r\n\r\nIn my data class Account inside ConsultParameters in my attributes code, name, address I just add the follow annotation in each, like:\r\n\r\n    @XmlElement(namespace = &quot;otherNamespace&quot;)\r\n    protected String code;","title":"SOAP Element/XML Type In Java/Camel","body":"<p>just found it</p>\n<p>In my data class Account inside ConsultParameters in my attributes code, name, address I just add the follow annotation in each, like:</p>\n<pre><code>@XmlElement(namespace = &quot;otherNamespace&quot;)\nprotected String code;\n</code></pre>\n"}],"owner":{"account_id":23301548,"reputation":55,"user_id":17382114,"display_name":"Italo Vieira "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70716952,"answer_count":1,"score":0,"last_activity_date":1642197342,"creation_date":1642097907,"question_id":70701260,"body_markdown":"I&#39;m developing a java/camel CXF service, and I have to generate this body in the WSDL read\r\n\r\n    &lt;soapenv:Envelope \r\n    xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; \r\n    xmlns:v12=&quot;nameSpace&quot; \r\n    xmlns:v13=&quot;otherNamespace&quot;&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;v12:consult&gt;\r\n             &lt;account&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;v13:code&gt;?&lt;/v13:code&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;v13:name&gt;?&lt;/v13:name&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;v13:address&gt;?&lt;/v13:address&gt;\r\n             &lt;/account&gt;\r\n          &lt;/v12:consult&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nIn my serviceClass I declare consult like this:\r\n\r\n\t\t\t\t@WebParam(partName = &quot;Parametro&quot;, name = &quot;consult&quot;, targetNamespace = &quot;nameSpace&quot;)\r\n                ConsultParameters parameters,\r\n\r\nConsultParameters is class which utilize @XmlRootElement/@XmlType\r\n\r\nHow can I insert the v13 namespace in those attributes inside a object, can I do this modifying the serviceClass or the data class with XMLType?\r\n","title":"SOAP Element/XML Type In Java/Camel","body":"<p>I'm developing a java/camel CXF service, and I have to generate this body in the WSDL read</p>\n<pre><code>&lt;soapenv:Envelope \nxmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; \nxmlns:v12=&quot;nameSpace&quot; \nxmlns:v13=&quot;otherNamespace&quot;&gt;\n   &lt;soapenv:Body&gt;\n      &lt;v12:consult&gt;\n         &lt;account&gt;\n            &lt;!--Optional:--&gt;\n            &lt;v13:code&gt;?&lt;/v13:code&gt;\n            &lt;!--Optional:--&gt;\n            &lt;v13:name&gt;?&lt;/v13:name&gt;\n            &lt;!--Optional:--&gt;\n            &lt;v13:address&gt;?&lt;/v13:address&gt;\n         &lt;/account&gt;\n      &lt;/v12:consult&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>In my serviceClass I declare consult like this:</p>\n<pre><code>            @WebParam(partName = &quot;Parametro&quot;, name = &quot;consult&quot;, targetNamespace = &quot;nameSpace&quot;)\n            ConsultParameters parameters,\n</code></pre>\n<p>ConsultParameters is class which utilize @XmlRootElement/@XmlType</p>\n<p>How can I insert the v13 namespace in those attributes inside a object, can I do this modifying the serviceClass or the data class with XMLType?</p>\n"},{"tags":["java","opengl","video","embedding"],"comments":[{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1642252973,"post_id":70715721,"comment_id":125024232,"body_markdown":"I don&#39;t use JOGL but forget Youtube for a moment (that&#39;s just HTML text, not video data). First are you able to play any MP4 file in JOGL? If yes then your next is to get the MP4 from Youtube. The easiest way would be to save via some online downloader. Either pre-save the MP4 file in another server where you can use via direct web link or just load it from your hard drive.","body":"I don&#39;t use JOGL but forget Youtube for a moment (that&#39;s just HTML text, not video data). First are you able to play any MP4 file in JOGL? If yes then your next is to get the MP4 from Youtube. The easiest way would be to save via some online downloader. Either pre-save the MP4 file in another server where you can use via direct web link or just load it from your hard drive."},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1642255690,"post_id":70715721,"comment_id":125024814,"body_markdown":"**PS:** Even when MP4 works in Java, you might also have to screen grab each frame as it plays to update your `texture` variable.","body":"<b>PS:</b> Even when MP4 works in Java, you might also have to screen grab each frame as it plays to update your <code>texture</code> variable."},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1642285801,"post_id":70715721,"comment_id":125031868,"body_markdown":"**PPS**: See: [gamedev.stackexchange.com - Playing movies with OpenGL in Java](https://gamedev.stackexchange.com/questions/57864/playing-movies-with-opengl-in-java).","body":"<b>PPS</b>: See: <a href=\"https://gamedev.stackexchange.com/questions/57864/playing-movies-with-opengl-in-java\">gamedev.stackexchange.com - Playing movies with OpenGL in Java</a>."},{"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"score":0,"creation_date":1642449985,"post_id":70715721,"comment_id":125069048,"body_markdown":"As I understand it, I basically have to decode the video so I can update a texture frame buffer, frame by frame (have never done this before) as I render the texture using open GL.","body":"As I understand it, I basically have to decode the video so I can update a texture frame buffer, frame by frame (have never done this before) as I render the texture using open GL."},{"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"score":0,"creation_date":1642456336,"post_id":70715721,"comment_id":125071002,"body_markdown":"I am having issues with streaming a texture to the GPU. I know I have to have two (or more) textures or PixelBuffer Objects that I upload the video frame data to and render respectively: -&gt; Upload frame to texture1, Draw texture2 -&gt; Upload to texture2, Draw texture1 -&gt;. Repeat","body":"I am having issues with streaming a texture to the GPU. I know I have to have two (or more) textures or PixelBuffer Objects that I upload the video frame data to and render respectively: -&gt; Upload frame to texture1, Draw texture2 -&gt; Upload to texture2, Draw texture1 -&gt;. Repeat"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1642775673,"post_id":70715721,"comment_id":125168866,"body_markdown":"Does your JOGL have a media player API? See if [this demo code](https://github.com/sgothel/jogl/blob/master/src/test/com/jogamp/opengl/test/junit/jogl/demos/es2/av/MovieCube.java) works for you? If working, then you can see how they pass video as texture (_ie:_ less work than constant draw).","body":"Does your JOGL have a media player API? See if <a href=\"https://github.com/sgothel/jogl/blob/master/src/test/com/jogamp/opengl/test/junit/jogl/demos/es2/av/MovieCube.java\" rel=\"nofollow noreferrer\">this demo code</a> works for you? If working, then you can see how they pass video as texture (<i>ie:</i> less work than constant draw)."}],"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642197247,"creation_date":1642188954,"question_id":70715721,"body_markdown":"I am working on adding cutscenes to a game mod I am writing. The game renders GUI elements using JOGL, so I have created a render event for the Player&#39;s Heads Up Display (HUD) and I want to render an overlay on this HUD which plays an embedded youtube video and then cancel the render once the youtube video stops.\r\n\r\n    @SubscribeEvent(priority=EventPriority.LOWEST)\r\n\tpublic void onRender(RenderGameOverlayEvent.Post event) {\r\n\t\tplayer = mc.thePlayer;\r\n\t\tint height = event.resolution.getScaledHeight();\r\n\t\tint width = event.resolution.getScaledWidth();\r\n\t\t\t\t\t\r\n\t\tif(isVisible){\r\n\t\t\tGL11.glPushMatrix();\r\n\t\t\tthis.mc.getTextureManager().bindTexture(texture);\r\n\t\t\tdrawPlayerHUD(videoCutScenePath, width, height, event);\r\n\t\t\tGL11.glEnable(GL11.GL_BLEND);\r\n\t\t\tGL11.glDisable(GL11.GL_DEPTH_TEST);\r\n\t\t\tGL11.glDepthMask(false);\r\n\t\t\tGL11.glColor4f(1.0F, 1.0F, 1.0F, guiOpacity);\r\n\t\t\tGL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\r\n\t\t\tGL11.glPopMatrix();\t\r\n\t\t}\r\n\t}\r\n\r\nWhen isVisible is set true - play cut scene from embeded youtube video inside the frame. I have access to the resolution of the frame (Height and Width), mouseX, mouseY, partialTick count and I have successfully displayed an image texture in png format on this frame already. I am looking to now render a video from youtube specifically. How would you accomplish this?\r\n\r\n    private void drawPlayerHUD(String path, int width, int height, RenderGameOverlayEvent.Post event){                                                      \r\n        //getYouTube video so the onRender method can render it??                                                                                             \r\n    }\r\n\r\n[Edit] I have tried to open the Youtube URL using the following method which also returns the status for debugging purposes and this works but it opens in a new window. I now want to merge the two and am unsure how.\r\n\r\n\r\n      \t\r\n  \t  public static String openWebpage() {                                 \r\n       if (Desktop.isDesktopSupported()) {\r\n  \t       try {\r\n  \t        Desktop.getDesktop().browse(new URI(&quot;https://www.youtube.com/watch_popup?v=[videoID]?&amp;autoplay=1&quot;));\r\n  \t       } catch (IOException e) {\r\n  \t        e.printStackTrace();\r\n  \t        return &quot;Can&#39;t open browser for some reason&quot;;\r\n  \t       } catch (URISyntaxException e) {\r\n  \t        e.printStackTrace();\r\n  \t        return &quot;Bug Detected: The URL is invalid for some reason.&quot;;\r\n  \t       }\r\n  \t   } else {\r\n  \t   return &quot;For some reason You Can&#39;t open the browser&quot;;\r\n  \t  }\r\n  \t  return null;\r\n  \t}\r\n","title":"How can you Embed YouTube Video using JOGL","body":"<p>I am working on adding cutscenes to a game mod I am writing. The game renders GUI elements using JOGL, so I have created a render event for the Player's Heads Up Display (HUD) and I want to render an overlay on this HUD which plays an embedded youtube video and then cancel the render once the youtube video stops.</p>\n<pre><code>@SubscribeEvent(priority=EventPriority.LOWEST)\npublic void onRender(RenderGameOverlayEvent.Post event) {\n    player = mc.thePlayer;\n    int height = event.resolution.getScaledHeight();\n    int width = event.resolution.getScaledWidth();\n                \n    if(isVisible){\n        GL11.glPushMatrix();\n        this.mc.getTextureManager().bindTexture(texture);\n        drawPlayerHUD(videoCutScenePath, width, height, event);\n        GL11.glEnable(GL11.GL_BLEND);\n        GL11.glDisable(GL11.GL_DEPTH_TEST);\n        GL11.glDepthMask(false);\n        GL11.glColor4f(1.0F, 1.0F, 1.0F, guiOpacity);\n        GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\n        GL11.glPopMatrix(); \n    }\n}\n</code></pre>\n<p>When isVisible is set true - play cut scene from embeded youtube video inside the frame. I have access to the resolution of the frame (Height and Width), mouseX, mouseY, partialTick count and I have successfully displayed an image texture in png format on this frame already. I am looking to now render a video from youtube specifically. How would you accomplish this?</p>\n<pre><code>private void drawPlayerHUD(String path, int width, int height, RenderGameOverlayEvent.Post event){                                                      \n    //getYouTube video so the onRender method can render it??                                                                                             \n}\n</code></pre>\n<p>[Edit] I have tried to open the Youtube URL using the following method which also returns the status for debugging purposes and this works but it opens in a new window. I now want to merge the two and am unsure how.</p>\n<pre><code>  public static String openWebpage() {                                 \n   if (Desktop.isDesktopSupported()) {\n       try {\n        Desktop.getDesktop().browse(new URI(&quot;https://www.youtube.com/watch_popup?v=[videoID]?&amp;autoplay=1&quot;));\n       } catch (IOException e) {\n        e.printStackTrace();\n        return &quot;Can't open browser for some reason&quot;;\n       } catch (URISyntaxException e) {\n        e.printStackTrace();\n        return &quot;Bug Detected: The URL is invalid for some reason.&quot;;\n       }\n   } else {\n   return &quot;For some reason You Can't open the browser&quot;;\n  }\n  return null;\n}\n</code></pre>\n"},{"tags":["java","dictionary","data-structures","isometric"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1326628796,"post_id":8869439,"comment_id":11083479,"body_markdown":"That question is a bit too broad and maybe you might want to ask this in the game developers forum: http://gamedev.stackexchange.com/","body":"That question is a bit too broad and maybe you might want to ask this in the game developers forum: <a href=\"http://gamedev.stackexchange.com/\">gamedev.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326629374,"creation_date":1326629374,"answer_id":8869504,"question_id":8869439,"body_markdown":"Although you might have more success asking on https://gamedev.stackexchange.com/ I&#39;ll try and provide some ideas:\r\n\r\nYou should create a `Tile` class might contain a collection of entities on that tile. Additionally entities might hold a reference to the tile(s) it is located on.\r\n\r\nAs for the map representation, it depends on how the map would be represented. If you have a fixed size map you might use a 2D array (the array would only contain links to tiles which might be null if not currently needed), otherwise you might use a map whose index would be the position of the tile. Then query the map for the tiles you need to display. \r\n\r\nAdditionally you might want to employ some caching and load a few tiles that surround the displayed area. When tiles are outside that cached area and you need memory they might be removed from the map.\r\n\r\n","title":"Isometric game data structure and rendering","body":"<p>Although you might have more success asking on <a href=\"https://gamedev.stackexchange.com/\">https://gamedev.stackexchange.com/</a> I'll try and provide some ideas:</p>\n\n<p>You should create a <code>Tile</code> class might contain a collection of entities on that tile. Additionally entities might hold a reference to the tile(s) it is located on.</p>\n\n<p>As for the map representation, it depends on how the map would be represented. If you have a fixed size map you might use a 2D array (the array would only contain links to tiles which might be null if not currently needed), otherwise you might use a map whose index would be the position of the tile. Then query the map for the tiles you need to display. </p>\n\n<p>Additionally you might want to employ some caching and load a few tiles that surround the displayed area. When tiles are outside that cached area and you need memory they might be removed from the map.</p>\n"}],"owner":{"account_id":1173711,"reputation":11,"user_id":1150235,"display_name":"user1150235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642196962,"creation_date":1326628631,"question_id":8869439,"body_markdown":"I&#39;m starting development of a 2d isometric(tiled, roguelike) game and I&#39;m brainstorming which kind of data structure I would use to store runtime data like tiles and entities, but I don&#39;t want to use an 2d array(as the world will be huge). How I would handle rendering in such cases?","title":"Isometric game data structure and rendering","body":"<p>I'm starting development of a 2d isometric(tiled, roguelike) game and I'm brainstorming which kind of data structure I would use to store runtime data like tiles and entities, but I don't want to use an 2d array(as the world will be huge). How I would handle rendering in such cases?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1642195941,"post_id":70716708,"comment_id":125015662,"body_markdown":"The `Image` constructor wants a URL, not a filename. See the duplicate, or https://edencoding.com/where-to-put-resource-files-in-javafx/","body":"The <code>Image</code> constructor wants a URL, not a filename. See the duplicate, or <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">edencoding.com/where-to-put-resource-files-in-javafx</a>"},{"owner":{"account_id":18545294,"reputation":1997,"user_id":13512812,"display_name":"coderoftheday"},"score":0,"creation_date":1642196301,"post_id":70716708,"comment_id":125015768,"body_markdown":"@James_D unfortunately that still didn&#39;t work.","body":"@James_D unfortunately that still didn&#39;t work."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1642196356,"post_id":70716708,"comment_id":125015787,"body_markdown":"Update your question to show what you tried, along with the results of following the “troubleshooting” section in the linked question","body":"Update your question to show what you tried, along with the results of following the “troubleshooting” section in the linked question"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1642213314,"post_id":70716708,"comment_id":125018599,"body_markdown":"Right at the top of the answer to the question I linked, it says *”For images, call `toExternalForm()` on the `URL` to generate the `String` to pass to the `Image` constructor.”*. And then, *”To troubleshoot, examine the contents of your **build** folder, not your **source** folder.”*. Maybe try those things, instead of repeatedly spamming this site with copies of the same question.","body":"Right at the top of the answer to the question I linked, it says <i>”For images, call <code>toExternalForm()</code> on the <code>URL</code> to generate the <code>String</code> to pass to the <code>Image</code> constructor.”</i>. And then, <i>”To troubleshoot, examine the contents of your <b>build</b> folder, not your <b>source</b> folder.”</i>. Maybe try those things, instead of repeatedly spamming this site with copies of the same question."}],"owner":{"account_id":18545294,"reputation":1997,"user_id":13512812,"display_name":"coderoftheday"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1642195920,"answer_count":0,"score":0,"last_activity_date":1642196861,"creation_date":1642195640,"question_id":70716708,"body_markdown":"I&#39;ve searched the stackoverflow but no solutions are working for my code.\r\n\r\nThe image for some reason isn&#39;t rendering. There is no Icon for the Stage\r\n\r\nI tried this: https://stackoverflow.com/questions/24260019/javafx-image-not-showing-in-stage/47042512 but the image still wouldn&#39;t render.\r\nCode:\r\n```\r\npackage com.example.javafxfirst;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.paint.Color;\r\n\r\nimport java.io.File;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        //Stage stage = new Stage();\r\n        Group root = new Group();\r\n        Scene scene = new Scene(root,Color.BLACK);\r\n\r\n        Image icon = new Image(new File(&quot;resources/javafxlogo.png&quot;).toURI().toString());\r\n        stage.getIcons().add(icon);\r\n        stage.setTitle(&quot;Program&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\n```\r\n\r\nProject Structure\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24260019/javafx-image-not-showing-in-stage/47042512\r\n  [2]: https://i.stack.imgur.com/Qyd8H.png\r\n\r\nUpdate:\r\n\r\nI replaced\r\n```\r\nImage icon = new Image(new File(&quot;resources/javafxlogo.png&quot;).toURI().toString());\r\n```\r\nwith\r\n```\r\nImage icon = new Image(getClass().getResource(&quot;/img/javafxlogo.png&quot;));\r\n```\r\nNow I get the error:\r\n```\r\njava: no suitable constructor found for Image(java.net.URL)\r\n    constructor javafx.scene.image.Image.Image(java.lang.String) is not applicable\r\n      (argument mismatch; java.net.URL cannot be converted to java.lang.String)\r\n    constructor javafx.scene.image.Image.Image(java.io.InputStream) is not applicable\r\n      (argument mismatch; java.net.URL cannot be converted to java.io.InputStream)\r\n    constructor javafx.scene.image.Image.Image(javafx.scene.image.PixelBuffer) is not applicable\r\n      (argument mismatch; java.net.URL cannot be converted to javafx.scene.image.PixelBuffer)\r\n    constructor javafx.scene.image.Image.Image(java.lang.Object) is not applicable\r\n      (Image(java.lang.Object) has private access in javafx.scene.image.Image)\r\n```\r\n","title":"My Image is not rendering despite no errors JavaFx","body":"<p>I've searched the stackoverflow but no solutions are working for my code.</p>\n<p>The image for some reason isn't rendering. There is no Icon for the Stage</p>\n<p>I tried this: <a href=\"https://stackoverflow.com/questions/24260019/javafx-image-not-showing-in-stage/47042512\">JavaFX Image not showing in stage</a> but the image still wouldn't render.\nCode:</p>\n<pre><code>package com.example.javafxfirst;\n\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\nimport javafx.scene.paint.Color;\n\nimport java.io.File;\n\npublic class HelloApplication extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        //Stage stage = new Stage();\n        Group root = new Group();\n        Scene scene = new Scene(root,Color.BLACK);\n\n        Image icon = new Image(new File(&quot;resources/javafxlogo.png&quot;).toURI().toString());\n        stage.getIcons().add(icon);\n        stage.setTitle(&quot;Program&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n<p>Project Structure\n<a href=\"https://i.stack.imgur.com/Qyd8H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qyd8H.png\" alt=\"enter image description here\" /></a></p>\n<p>Update:</p>\n<p>I replaced</p>\n<pre><code>Image icon = new Image(new File(&quot;resources/javafxlogo.png&quot;).toURI().toString());\n</code></pre>\n<p>with</p>\n<pre><code>Image icon = new Image(getClass().getResource(&quot;/img/javafxlogo.png&quot;));\n</code></pre>\n<p>Now I get the error:</p>\n<pre><code>java: no suitable constructor found for Image(java.net.URL)\n    constructor javafx.scene.image.Image.Image(java.lang.String) is not applicable\n      (argument mismatch; java.net.URL cannot be converted to java.lang.String)\n    constructor javafx.scene.image.Image.Image(java.io.InputStream) is not applicable\n      (argument mismatch; java.net.URL cannot be converted to java.io.InputStream)\n    constructor javafx.scene.image.Image.Image(javafx.scene.image.PixelBuffer) is not applicable\n      (argument mismatch; java.net.URL cannot be converted to javafx.scene.image.PixelBuffer)\n    constructor javafx.scene.image.Image.Image(java.lang.Object) is not applicable\n      (Image(java.lang.Object) has private access in javafx.scene.image.Image)\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1266949649,"post_id":2320404,"comment_id":2289208,"body_markdown":"I don&#39;t think that Java is the right tool for that, Groovy would be better suited IMO.","body":"I don&#39;t think that Java is the right tool for that, Groovy would be better suited IMO."},{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":0,"creation_date":1266950757,"post_id":2320404,"comment_id":2289403,"body_markdown":"Personally I don&#39;t see the problem with having a Java model that maps to your database model. Also when creating SQL queries, make sure to use PreparedStatements to avoid SQL Injection, rather than building SQL strings.","body":"Personally I don&#39;t see the problem with having a Java model that maps to your database model. Also when creating SQL queries, make sure to use PreparedStatements to avoid SQL Injection, rather than building SQL strings."}],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1266947617,"creation_date":1266947617,"answer_id":2320465,"question_id":2320404,"body_markdown":"There are many different ways to achieve this (e.g proxies, ASM), but the simplest approach, one that you can start with when prototyping is:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.lang.reflect.*;\r\n    \r\n    public class MakeTodayClass {\r\n      Date today = new Date();\r\n      String todayMillis = Long.toString(today.getTime());\r\n      String todayClass = &quot;z_&quot; + todayMillis;\r\n      String todaySource = todayClass + &quot;.java&quot;;\r\n      \r\n      public static void main (String args[]){\r\n        MakeTodayClass mtc = new MakeTodayClass();\r\n        mtc.createIt();\r\n        if (mtc.compileIt()) {\r\n           System.out.println(&quot;Running &quot; + mtc.todayClass + &quot;:\\n\\n&quot;);\r\n           mtc.runIt();\r\n           }\r\n        else\r\n           System.out.println(mtc.todaySource + &quot; is bad.&quot;);\r\n        }\r\n    \r\n      public void createIt() {\r\n        try {\r\n          FileWriter aWriter = new FileWriter(todaySource, true);\r\n          aWriter.write(&quot;public class &quot;+ todayClass + &quot;{&quot;);\r\n          aWriter.write(&quot; public void doit() {&quot;);\r\n          aWriter.write(&quot; System.out.println(\\&quot;&quot;+todayMillis+&quot;\\&quot;);&quot;);\r\n          aWriter.write(&quot; }}\\n&quot;);\r\n          aWriter.flush();      \r\n          aWriter.close();\r\n          }\r\n        catch(Exception e){\r\n          e.printStackTrace();\r\n          }\r\n        }\r\n      \r\n      public boolean compileIt() {\r\n        String [] source = { new String(todaySource)};\r\n        ByteArrayOutputStream baos= new ByteArrayOutputStream();\r\n    \r\n        new sun.tools.javac.Main(baos,source[0]).compile(source);\r\n        // if using JDK &gt;= 1.3 then use\r\n        //   public static int com.sun.tools.javac.Main.compile(source);    \r\n        return (baos.toString().indexOf(&quot;error&quot;)==-1);\r\n        }\r\n        \r\n      public void runIt() {\r\n        try {\r\n          Class params[] = {};\r\n          Object paramsObj[] = {};\r\n          Class thisClass = Class.forName(todayClass);\r\n          Object iClass = thisClass.newInstance();\r\n          Method thisMethod = thisClass.getDeclaredMethod(&quot;doit&quot;, params);\r\n          thisMethod.invoke(iClass, paramsObj);\r\n          }\r\n        catch (Exception e) {\r\n          e.printStackTrace();\r\n          }\r\n        }\r\n    }","title":"Creating classes dynamically with Java","body":"<p>There are many different ways to achieve this (e.g proxies, ASM), but the simplest approach, one that you can start with when prototyping is:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.lang.reflect.*;\n\npublic class MakeTodayClass {\n  Date today = new Date();\n  String todayMillis = Long.toString(today.getTime());\n  String todayClass = \"z_\" + todayMillis;\n  String todaySource = todayClass + \".java\";\n\n  public static void main (String args[]){\n    MakeTodayClass mtc = new MakeTodayClass();\n    mtc.createIt();\n    if (mtc.compileIt()) {\n       System.out.println(\"Running \" + mtc.todayClass + \":\\n\\n\");\n       mtc.runIt();\n       }\n    else\n       System.out.println(mtc.todaySource + \" is bad.\");\n    }\n\n  public void createIt() {\n    try {\n      FileWriter aWriter = new FileWriter(todaySource, true);\n      aWriter.write(\"public class \"+ todayClass + \"{\");\n      aWriter.write(\" public void doit() {\");\n      aWriter.write(\" System.out.println(\\\"\"+todayMillis+\"\\\");\");\n      aWriter.write(\" }}\\n\");\n      aWriter.flush();      \n      aWriter.close();\n      }\n    catch(Exception e){\n      e.printStackTrace();\n      }\n    }\n\n  public boolean compileIt() {\n    String [] source = { new String(todaySource)};\n    ByteArrayOutputStream baos= new ByteArrayOutputStream();\n\n    new sun.tools.javac.Main(baos,source[0]).compile(source);\n    // if using JDK &gt;= 1.3 then use\n    //   public static int com.sun.tools.javac.Main.compile(source);    \n    return (baos.toString().indexOf(\"error\")==-1);\n    }\n\n  public void runIt() {\n    try {\n      Class params[] = {};\n      Object paramsObj[] = {};\n      Class thisClass = Class.forName(todayClass);\n      Object iClass = thisClass.newInstance();\n      Method thisMethod = thisClass.getDeclaredMethod(\"doit\", params);\n      thisMethod.invoke(iClass, paramsObj);\n      }\n    catch (Exception e) {\n      e.printStackTrace();\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46925,"reputation":8408,"user_id":138837,"accept_rate":60,"display_name":"Drew Wills"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464547923,"creation_date":1266947625,"answer_id":2320470,"question_id":2320404,"body_markdown":"This is possible, but (I believe) you need something like [ASM][1] or [BCEL][2].\r\n\r\nAlternately, you could use something with more power (like [Groovy][3]).\r\n\r\n\r\n  [1]: http://asm.ow2.org/\r\n  [2]: http://jakarta.apache.org/bcel/\r\n  [3]: http://groovy-lang.org/metaprogramming.html","title":"Creating classes dynamically with Java","body":"<p>This is possible, but (I believe) you need something like <a href=\"http://asm.ow2.org/\" rel=\"nofollow noreferrer\">ASM</a> or <a href=\"http://jakarta.apache.org/bcel/\" rel=\"nofollow noreferrer\">BCEL</a>.</p>\n\n<p>Alternately, you could use something with more power (like <a href=\"http://groovy-lang.org/metaprogramming.html\" rel=\"nofollow noreferrer\">Groovy</a>).</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":33,"is_accepted":true,"score":31,"last_activity_date":1266992262,"creation_date":1266948175,"answer_id":2320537,"question_id":2320404,"body_markdown":"It is possible to generate classes (via &lt;a href=&quot;http://cglib.sourceforge.net/&quot;&gt;cglib&lt;/a&gt;, &lt;a href=&quot;http://asm.ow2.org/&quot;&gt;asm&lt;/a&gt;, &lt;a href=&quot;http://www.csg.is.titech.ac.jp/~chiba/javassist/&quot;&gt;javassist&lt;/a&gt;, &lt;a href=&quot;http://jakarta.apache.org/bcel/&quot;&gt;bcel&lt;/a&gt;), but you shouldn&#39;t do it that way. Why?\r\n\r\n- the code that&#39;s using the library should expect type `Object` and get all the fields using reflection - not a good idea\r\n- java is statically typed language, and you want to introduce dynamic typing - it&#39;s not the place.\r\n\r\nIf you simply want the data in an undefined format, then you can return it in an array, like `Object[]`, or `Map&lt;String, Object&gt;` if you want them named, and get it from there - it will save you much trouble with unneeded class generation for the only purpose of containing some data that will be obtained by reflection.\r\n\r\nWhat you can do instead is have predefined classes that will hold the data, and pass them as arguments to querying methods. For example:\r\n\r\n     public &lt;T&gt; T executeQuery(Class&lt;T&gt; expectedResultClass, \r\n          String someArg, Object.. otherArgs) {..}\r\n\r\nThus you can use reflection on the passed `expectedResultClass` to create a new object of that type and populate it with the result of the query.\r\n\r\nThat said, I think you could use something existing, like an ORM framework (Hibernate, EclipseLink), spring&#39;s `JdbcTemplate`, etc.","title":"Creating classes dynamically with Java","body":"<p>It is possible to generate classes (via <a href=\"http://cglib.sourceforge.net/\" rel=\"noreferrer\">cglib</a>, <a href=\"http://asm.ow2.org/\" rel=\"noreferrer\">asm</a>, <a href=\"http://www.csg.is.titech.ac.jp/~chiba/javassist/\" rel=\"noreferrer\">javassist</a>, <a href=\"http://jakarta.apache.org/bcel/\" rel=\"noreferrer\">bcel</a>), but you shouldn't do it that way. Why?</p>\n\n<ul>\n<li>the code that's using the library should expect type <code>Object</code> and get all the fields using reflection - not a good idea</li>\n<li>java is statically typed language, and you want to introduce dynamic typing - it's not the place.</li>\n</ul>\n\n<p>If you simply want the data in an undefined format, then you can return it in an array, like <code>Object[]</code>, or <code>Map&lt;String, Object&gt;</code> if you want them named, and get it from there - it will save you much trouble with unneeded class generation for the only purpose of containing some data that will be obtained by reflection.</p>\n\n<p>What you can do instead is have predefined classes that will hold the data, and pass them as arguments to querying methods. For example:</p>\n\n<pre><code> public &lt;T&gt; T executeQuery(Class&lt;T&gt; expectedResultClass, \n      String someArg, Object.. otherArgs) {..}\n</code></pre>\n\n<p>Thus you can use reflection on the passed <code>expectedResultClass</code> to create a new object of that type and populate it with the result of the query.</p>\n\n<p>That said, I think you could use something existing, like an ORM framework (Hibernate, EclipseLink), spring's <code>JdbcTemplate</code>, etc.</p>\n"},{"tags":[],"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1266951267,"creation_date":1266951267,"answer_id":2320848,"question_id":2320404,"body_markdown":"It will take a couple of minutes to create a data model class for each table, which you can easily map to the database with an ORM like Hibernate or by writing your own JDBC DAOs. It is far easier than delving deeply into reflection.\r\n\r\nYou could create a utility that interrogates the database structure for a table, and creates the data model class and DAO for you. Alternatively you could create the model in Java and create a utility to create the database schema and DAO from that (using reflection and Java 5 Annotations to assist). Don&#39;t forget that javaFieldNames are different from database_column_names typically.","title":"Creating classes dynamically with Java","body":"<p>It will take a couple of minutes to create a data model class for each table, which you can easily map to the database with an ORM like Hibernate or by writing your own JDBC DAOs. It is far easier than delving deeply into reflection.</p>\n\n<p>You could create a utility that interrogates the database structure for a table, and creates the data model class and DAO for you. Alternatively you could create the model in Java and create a utility to create the database schema and DAO from that (using reflection and Java 5 Annotations to assist). Don't forget that javaFieldNames are different from database_column_names typically.</p>\n"},{"tags":[],"owner":{"account_id":19190605,"reputation":47,"user_id":14020402,"display_name":"Leandro Neves"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1642196506,"creation_date":1642196506,"answer_id":70716832,"question_id":2320404,"body_markdown":"Recently I needed to create about 200 simple classes from medatata (objects filled with static data) and I did it through the open source [burningwave][1] library, with the following scenario:\r\n\r\n - The classes needed to have a certain prefix in the name, for example **&quot;Registro &quot;*.java**;\r\n - The classes needed to extend from a superclass **Registro.java**\r\n - The classes needed to contain JPA annotations like **@Entity**, **@Column** (in attributes), **Lombok** annotations and custom annotations.\r\n\r\nHere is the link to the repository with the complete project: https://github.com/leandrosoares6/criacao-classes-entidade-efd\r\n\r\nHere is the code snippet responsible for creating the classes:\r\n\r\n    public class RegistrosClassFactory {\r\n    \tprivate static final String PACOTE = &quot;com.example.demo.model.registros&quot;;\r\n    \tprivate static final String SCHEMA = &quot;MY_SCHEMA&quot;;\r\n    \tprivate static final String PREFIXO = &quot;Registro&quot;;\r\n    \r\n    \tstatic void criaRegistros() {\r\n    \t\tList&lt;RegistroTest&gt; registros = RegistroMetadataFactory.criaMetadados();\r\n    \t\tcriaClasses(registros);\r\n    \t}\r\n    \r\n    \tprivate static void criaClasses(List&lt;RegistroTest&gt; registros) {\r\n    \t\tfor (RegistroTest registroTest : registros) {\r\n    \t\t\tUnitSourceGenerator gerador = UnitSourceGenerator.create(PACOTE);\r\n    \t\t\tClassSourceGenerator registro = ClassSourceGenerator\r\n    \t\t\t\t\t.create(TypeDeclarationSourceGenerator.create(PREFIXO + registroTest.getNome()))\r\n    \t\t\t\t\t.addModifier(Modifier.PUBLIC)\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(Getter.class))\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(Setter.class))\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(NoArgsConstructor.class))\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(ToString.class))\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(Entity.class))\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(Table.class)\r\n    \t\t\t\t\t\t\t.addParameter(&quot;name&quot;,\r\n    \t\t\t\t\t\t\t\t\tVariableSourceGenerator.create(String.format(&quot;\\&quot;%s\\&quot;&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\tregistroTest.getNomeTabelaBd())))\r\n    \t\t\t\t\t\t\t.addParameter(&quot;schema&quot;, VariableSourceGenerator\r\n    \t\t\t\t\t\t\t\t\t.create(String.format(&quot;\\&quot;%s\\&quot;&quot;, SCHEMA))));\r\n    \r\n    \t\t\tcriaColunas(registroTest.getCampos(), registro);\r\n    \r\n    \t\t\tregistro.addConstructor(FunctionSourceGenerator.create().addModifier(Modifier.PUBLIC)\r\n    \t\t\t\t\t.addParameter(VariableSourceGenerator.create(String.class, &quot;linha&quot;))\r\n    \t\t\t\t\t.addBodyCodeLine(&quot;super(linha);&quot;)).expands(Registro.class);\r\n    \t\t\tgerador.addClass(registro);\r\n    \r\n    \t\t\t// System.out.println(&quot;\\nRegistro gerado:\\n&quot; + gerador.make());\r\n    \t\t\tString caminhoPastaRegistros = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/java/&quot;;\r\n    \t\t\tgerador.storeToClassPath(caminhoPastaRegistros);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void criaColunas(List&lt;Campo&gt; campos, ClassSourceGenerator registro) {\r\n    \t\tfor (Campo campo : campos) {\r\n    \t\t\tVariableSourceGenerator field = VariableSourceGenerator\r\n    \t\t\t\t\t.create(TypeDeclarationSourceGenerator.create(String.class),\r\n    \t\t\t\t\t\t\tcampo.getNomeAtributo())\r\n    \t\t\t\t\t.addModifier(Modifier.PRIVATE)\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(Column.class)\r\n    \t\t\t\t\t\t\t.addParameter(&quot;name&quot;, VariableSourceGenerator\r\n    \t\t\t\t\t\t\t\t\t.create(String.format(&quot;\\&quot;%s\\&quot;&quot;, campo.getNome())))\r\n    \r\n    \t\t\t\t\t)\r\n    \t\t\t\t\t.addAnnotation(AnnotationSourceGenerator.create(Indice.class).addParameter(\r\n    \t\t\t\t\t\t\t&quot;valor&quot;,\r\n    \t\t\t\t\t\t\tVariableSourceGenerator.create(String.valueOf(campo.getSequencial()))));\r\n    \r\n    \t\t\tif (campo.getNome().equals(&quot;ID&quot;)) {\r\n    \t\t\t\tfield.addAnnotation(AnnotationSourceGenerator.create(Id.class));\r\n    \t\t\t}\r\n    \t\t\tif (campo.getEId()) {\r\n    \t\t\t\tfield.addAnnotation(AnnotationSourceGenerator.create(CampoTipoId.class));\r\n    \t\t\t}\r\n    \t\t\tif (campo.getEData()) {\r\n    \t\t\t\tfield.addAnnotation(AnnotationSourceGenerator.create(CampoTipoData.class));\r\n    \t\t\t}\r\n    \t\t\tif (campo.getEDataPart()) {\r\n    \t\t\t\tfield.addAnnotation(AnnotationSourceGenerator.create(CampoTipoDataPart.class));\r\n    \t\t\t}\r\n    \r\n    \t\t\tregistro.addField(field);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n  [1]: https://www.burningwave.org/getstarted\r\n","title":"Creating classes dynamically with Java","body":"<p>Recently I needed to create about 200 simple classes from medatata (objects filled with static data) and I did it through the open source <a href=\"https://www.burningwave.org/getstarted\" rel=\"nofollow noreferrer\">burningwave</a> library, with the following scenario:</p>\n<ul>\n<li>The classes needed to have a certain prefix in the name, for example <strong>&quot;Registro &quot;*.java</strong>;</li>\n<li>The classes needed to extend from a superclass <strong>Registro.java</strong></li>\n<li>The classes needed to contain JPA annotations like <strong>@Entity</strong>, <strong>@Column</strong> (in attributes), <strong>Lombok</strong> annotations and custom annotations.</li>\n</ul>\n<p>Here is the link to the repository with the complete project: <a href=\"https://github.com/leandrosoares6/criacao-classes-entidade-efd\" rel=\"nofollow noreferrer\">https://github.com/leandrosoares6/criacao-classes-entidade-efd</a></p>\n<p>Here is the code snippet responsible for creating the classes:</p>\n<pre><code>public class RegistrosClassFactory {\n    private static final String PACOTE = &quot;com.example.demo.model.registros&quot;;\n    private static final String SCHEMA = &quot;MY_SCHEMA&quot;;\n    private static final String PREFIXO = &quot;Registro&quot;;\n\n    static void criaRegistros() {\n        List&lt;RegistroTest&gt; registros = RegistroMetadataFactory.criaMetadados();\n        criaClasses(registros);\n    }\n\n    private static void criaClasses(List&lt;RegistroTest&gt; registros) {\n        for (RegistroTest registroTest : registros) {\n            UnitSourceGenerator gerador = UnitSourceGenerator.create(PACOTE);\n            ClassSourceGenerator registro = ClassSourceGenerator\n                    .create(TypeDeclarationSourceGenerator.create(PREFIXO + registroTest.getNome()))\n                    .addModifier(Modifier.PUBLIC)\n                    .addAnnotation(AnnotationSourceGenerator.create(Getter.class))\n                    .addAnnotation(AnnotationSourceGenerator.create(Setter.class))\n                    .addAnnotation(AnnotationSourceGenerator.create(NoArgsConstructor.class))\n                    .addAnnotation(AnnotationSourceGenerator.create(ToString.class))\n                    .addAnnotation(AnnotationSourceGenerator.create(Entity.class))\n                    .addAnnotation(AnnotationSourceGenerator.create(Table.class)\n                            .addParameter(&quot;name&quot;,\n                                    VariableSourceGenerator.create(String.format(&quot;\\&quot;%s\\&quot;&quot;,\n                                            registroTest.getNomeTabelaBd())))\n                            .addParameter(&quot;schema&quot;, VariableSourceGenerator\n                                    .create(String.format(&quot;\\&quot;%s\\&quot;&quot;, SCHEMA))));\n\n            criaColunas(registroTest.getCampos(), registro);\n\n            registro.addConstructor(FunctionSourceGenerator.create().addModifier(Modifier.PUBLIC)\n                    .addParameter(VariableSourceGenerator.create(String.class, &quot;linha&quot;))\n                    .addBodyCodeLine(&quot;super(linha);&quot;)).expands(Registro.class);\n            gerador.addClass(registro);\n\n            // System.out.println(&quot;\\nRegistro gerado:\\n&quot; + gerador.make());\n            String caminhoPastaRegistros = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/java/&quot;;\n            gerador.storeToClassPath(caminhoPastaRegistros);\n        }\n    }\n\n    private static void criaColunas(List&lt;Campo&gt; campos, ClassSourceGenerator registro) {\n        for (Campo campo : campos) {\n            VariableSourceGenerator field = VariableSourceGenerator\n                    .create(TypeDeclarationSourceGenerator.create(String.class),\n                            campo.getNomeAtributo())\n                    .addModifier(Modifier.PRIVATE)\n                    .addAnnotation(AnnotationSourceGenerator.create(Column.class)\n                            .addParameter(&quot;name&quot;, VariableSourceGenerator\n                                    .create(String.format(&quot;\\&quot;%s\\&quot;&quot;, campo.getNome())))\n\n                    )\n                    .addAnnotation(AnnotationSourceGenerator.create(Indice.class).addParameter(\n                            &quot;valor&quot;,\n                            VariableSourceGenerator.create(String.valueOf(campo.getSequencial()))));\n\n            if (campo.getNome().equals(&quot;ID&quot;)) {\n                field.addAnnotation(AnnotationSourceGenerator.create(Id.class));\n            }\n            if (campo.getEId()) {\n                field.addAnnotation(AnnotationSourceGenerator.create(CampoTipoId.class));\n            }\n            if (campo.getEData()) {\n                field.addAnnotation(AnnotationSourceGenerator.create(CampoTipoData.class));\n            }\n            if (campo.getEDataPart()) {\n                field.addAnnotation(AnnotationSourceGenerator.create(CampoTipoDataPart.class));\n            }\n\n            registro.addField(field);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15800,"reputation":12618,"user_id":94895,"accept_rate":83,"display_name":"Makis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130598,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":2320537,"answer_count":5,"score":43,"last_activity_date":1642196506,"creation_date":1266947122,"question_id":2320404,"body_markdown":"I have tried to find information about this but have come up empty handed:\r\n\r\nI gather it is possible to create a class dynamically in Java using reflection or proxies but I can&#39;t find out how. I&#39;m implementing a simple database framework where I create the SQL queries using reflection. The method gets the object with the database fields as a parameter and creates the query based on that. But it would be very useful if I could also create the object itself dynamically so I wouldn&#39;t have the need to have a simple data wrapper object for each table.\r\n\r\nThe dynamic classes would only need simple fields (`String`, `Integer`, `Double`), e.g.\r\n\r\n    public class Data {\r\n      public Integer id;\r\n      public String name;\r\n    }\r\n\r\n\r\nIs this possible and how would I do this?\r\n\r\nEDIT: This is how I would use this:\r\n\r\n    /** Creates an SQL query for updating a row&#39;s values in the database.\r\n     *\r\n     * @param entity Table name.\r\n     * @param toUpdate Fields and values to update. All of the fields will be\r\n     * updated, so each field must have a meaningful value!\r\n     * @param idFields Fields used to identify the row(s).\r\n     * @param ids Id values for id fields. Values must be in the same order as\r\n     * the fields.\r\n     * @return\r\n     */\r\n    @Override\r\n    public String updateItem(String entity, Object toUpdate, String[] idFields,\r\n            String[] ids) {\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;UPDATE &quot;);\r\n        sb.append(entity);\r\n        sb.append(&quot;SET &quot;);\r\n\r\n        for (Field f: toUpdate.getClass().getDeclaredFields()) {\r\n            String fieldName = f.getName();\r\n            String value = new String();\r\n            sb.append(fieldName);\r\n            sb.append(&quot;=&quot;);\r\n            sb.append(formatValue(f));\r\n            sb.append(&quot;,&quot;);\r\n        }\r\n\r\n        /* Remove last comma */\r\n        sb.deleteCharAt(sb.toString().length()-1);\r\n\r\n        /* Add where clause */\r\n        sb.append(createWhereClause(idFields, ids));\r\n        \r\n        return sb.toString();\r\n    }\r\n     /** Formats a value for an sql query.\r\n     *\r\n     * This function assumes that the field type is equivalent to the field\r\n     * in the database. In practice this means that this field support two\r\n     * types of fields: string (varchar) and numeric.\r\n     *\r\n     * A string type field will be escaped with single parenthesis (&#39;) because\r\n     * SQL databases expect that. Numbers are returned as-is.\r\n     *\r\n     * If the field is null, a string containing &quot;NULL&quot; is returned instead.\r\n     * \r\n     * @param f The field where the value is.\r\n     * @return Formatted value.\r\n     */\r\n    String formatValue(Field f) {\r\n        String retval = null;\r\n        String type = f.getClass().getName();\r\n        if (type.equals(&quot;String&quot;)) {\r\n            try {\r\n                String value = (String)f.get(f);\r\n                if (value != null) {\r\n                    retval = &quot;&#39;&quot; + value + &quot;&#39;&quot;;\r\n                } else {\r\n                    retval = &quot;NULL&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;No such field: &quot; + e.getMessage());\r\n            }\r\n        } else if (type.equals(&quot;Integer&quot;)) {\r\n            try {\r\n                Integer value = (Integer)f.get(f);\r\n                if (value != null) {\r\n                    retval = String.valueOf(value);\r\n                } else {\r\n                    retval = &quot;NULL&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;No such field: &quot; + e.getMessage());\r\n            }\r\n        } else {\r\n            try {\r\n                String value = (String) f.get(f);\r\n                if (value != null) {\r\n                    retval = value;\r\n                } else {\r\n                    retval = &quot;NULL&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;No such field: &quot; + e.getMessage());\r\n            }\r\n        }\r\n        return retval;\r\n    }","title":"Creating classes dynamically with Java","body":"<p>I have tried to find information about this but have come up empty handed:</p>\n\n<p>I gather it is possible to create a class dynamically in Java using reflection or proxies but I can't find out how. I'm implementing a simple database framework where I create the SQL queries using reflection. The method gets the object with the database fields as a parameter and creates the query based on that. But it would be very useful if I could also create the object itself dynamically so I wouldn't have the need to have a simple data wrapper object for each table.</p>\n\n<p>The dynamic classes would only need simple fields (<code>String</code>, <code>Integer</code>, <code>Double</code>), e.g.</p>\n\n<pre><code>public class Data {\n  public Integer id;\n  public String name;\n}\n</code></pre>\n\n<p>Is this possible and how would I do this?</p>\n\n<p>EDIT: This is how I would use this:</p>\n\n<pre><code>/** Creates an SQL query for updating a row's values in the database.\n *\n * @param entity Table name.\n * @param toUpdate Fields and values to update. All of the fields will be\n * updated, so each field must have a meaningful value!\n * @param idFields Fields used to identify the row(s).\n * @param ids Id values for id fields. Values must be in the same order as\n * the fields.\n * @return\n */\n@Override\npublic String updateItem(String entity, Object toUpdate, String[] idFields,\n        String[] ids) {\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(\"UPDATE \");\n    sb.append(entity);\n    sb.append(\"SET \");\n\n    for (Field f: toUpdate.getClass().getDeclaredFields()) {\n        String fieldName = f.getName();\n        String value = new String();\n        sb.append(fieldName);\n        sb.append(\"=\");\n        sb.append(formatValue(f));\n        sb.append(\",\");\n    }\n\n    /* Remove last comma */\n    sb.deleteCharAt(sb.toString().length()-1);\n\n    /* Add where clause */\n    sb.append(createWhereClause(idFields, ids));\n\n    return sb.toString();\n}\n /** Formats a value for an sql query.\n *\n * This function assumes that the field type is equivalent to the field\n * in the database. In practice this means that this field support two\n * types of fields: string (varchar) and numeric.\n *\n * A string type field will be escaped with single parenthesis (') because\n * SQL databases expect that. Numbers are returned as-is.\n *\n * If the field is null, a string containing \"NULL\" is returned instead.\n * \n * @param f The field where the value is.\n * @return Formatted value.\n */\nString formatValue(Field f) {\n    String retval = null;\n    String type = f.getClass().getName();\n    if (type.equals(\"String\")) {\n        try {\n            String value = (String)f.get(f);\n            if (value != null) {\n                retval = \"'\" + value + \"'\";\n            } else {\n                retval = \"NULL\";\n            }\n        } catch (Exception e) {\n            System.err.println(\"No such field: \" + e.getMessage());\n        }\n    } else if (type.equals(\"Integer\")) {\n        try {\n            Integer value = (Integer)f.get(f);\n            if (value != null) {\n                retval = String.valueOf(value);\n            } else {\n                retval = \"NULL\";\n            }\n        } catch (Exception e) {\n            System.err.println(\"No such field: \" + e.getMessage());\n        }\n    } else {\n        try {\n            String value = (String) f.get(f);\n            if (value != null) {\n                retval = value;\n            } else {\n                retval = \"NULL\";\n            }\n        } catch (Exception e) {\n            System.err.println(\"No such field: \" + e.getMessage());\n        }\n    }\n    return retval;\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1642195153,"post_id":70715811,"comment_id":125015453,"body_markdown":"I&#39;ve answered your question on why you are getting that exception, but to be honest I&#39;m not sure why you&#39;re mocking `UriComponentsBuilder`.  I can understand mocking an OkHttpClient, so that you can test your code without making a network call, but why mock out the `UriComponentsBuilder`?","body":"I&#39;ve answered your question on why you are getting that exception, but to be honest I&#39;m not sure why you&#39;re mocking <code>UriComponentsBuilder</code>.  I can understand mocking an OkHttpClient, so that you can test your code without making a network call, but why mock out the <code>UriComponentsBuilder</code>?"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642194811,"creation_date":1642194811,"answer_id":70716575,"question_id":70715811,"body_markdown":"You are attempting to mock four method calls in this line:\r\n\r\n```java\r\n    mocked.when(() -&gt; UriComponentsBuilder.fromUriString(&quot;test.go&quot;).pathSegment(&quot;test&quot;)\r\n            .queryParam(&quot;filters[1]&quot;).build()).thenReturn(uriComponents);\r\n```\r\nYou can&#39;t do this.  You can only mock one method call at a time.\r\n\r\nIf you want to mock out `UriComponentsBuilder`, then you will have to create a mock `UriComponentsBuilder`, mock the `pathSegment` and `queryParam` methods to return the mock `UriComponentsBuilder` instance, and finally mock the `build()` method to return `uriComponents`:\r\n\r\n```java\r\n    UriComponentsBuilder uriComponentsBuilder = mock(UriComponentsBuilder.class);\r\n    mocked.when(() -&gt; UriComponentsBuilder.fromUriString(&quot;test.go&quot;))\r\n        .thenReturn(uriComponentsBuilder); \r\n    when(uriComponentsBuilder.pathSegment(&quot;test&quot;)).thenReturn(uriComponentsBuilder);\r\n    when(uriComponentsBuilder.queryParam(&quot;filters[1]&quot;)).thenReturn(uriComponentsBuilder);\r\n    when(uriComponentsBuilder.build()).thenReturn(uriComponents);\r\n```\r\n","title":"Error while mocking OkHttpClient with Mockito","body":"<p>You are attempting to mock four method calls in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    mocked.when(() -&gt; UriComponentsBuilder.fromUriString(&quot;test.go&quot;).pathSegment(&quot;test&quot;)\n            .queryParam(&quot;filters[1]&quot;).build()).thenReturn(uriComponents);\n</code></pre>\n<p>You can't do this.  You can only mock one method call at a time.</p>\n<p>If you want to mock out <code>UriComponentsBuilder</code>, then you will have to create a mock <code>UriComponentsBuilder</code>, mock the <code>pathSegment</code> and <code>queryParam</code> methods to return the mock <code>UriComponentsBuilder</code> instance, and finally mock the <code>build()</code> method to return <code>uriComponents</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    UriComponentsBuilder uriComponentsBuilder = mock(UriComponentsBuilder.class);\n    mocked.when(() -&gt; UriComponentsBuilder.fromUriString(&quot;test.go&quot;))\n        .thenReturn(uriComponentsBuilder); \n    when(uriComponentsBuilder.pathSegment(&quot;test&quot;)).thenReturn(uriComponentsBuilder);\n    when(uriComponentsBuilder.queryParam(&quot;filters[1]&quot;)).thenReturn(uriComponentsBuilder);\n    when(uriComponentsBuilder.build()).thenReturn(uriComponents);\n</code></pre>\n"}],"owner":{"account_id":6960022,"reputation":178,"user_id":5339816,"accept_rate":25,"display_name":"iftekhar khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642194811,"creation_date":1642189477,"question_id":70715811,"body_markdown":"I want to write test for the below method in Junit5 with Mockito.\r\n\r\n     public List&lt;Data&gt; getData(Long id) {\r\n            UriComponents uriComponents = UriComponentsBuilder.fromUriString(&quot;test.com&quot;)\r\n                    .pathSegment(&quot;/test&quot;)\r\n                    .queryParam(&quot;filters[id]&quot;, id)\r\n                    .build();\r\n        \r\n            Request request = new Request.Builder()\r\n                    .url(uriComponents.toUriString())\r\n                    .method(&quot;GET&quot;, null)\r\n                    .build();\r\n        \r\n            try {\r\n                Response response;\r\n                response = okHttpClient.newCall(request).execute();\r\n        \r\n                TypeReference&lt;List&lt;Data&gt;&gt; listType = new TypeReference&lt;&gt;() {};\r\n                List&lt;Data&gt; list = objectMapper.readValue(Objects.requireNonNull(response.body()).string(), listType);\r\n                response.close();\r\n        \r\n                return list;\r\n            } catch (IOException ioEx) {\r\n                throw new RuntimeException(ioEx);\r\n            }\r\n        }\r\n\r\n**Test**\r\n\r\n   \r\n\r\n     @Test\r\n        public void shouldReturnData() throws IOException {\r\n            try (MockedStatic&lt;UriComponentsBuilder&gt; mocked = mockStatic(UriComponentsBuilder.class)) {\r\n                mocked.when(() -&gt; UriComponentsBuilder.fromUriString(&quot;test.go&quot;).pathSegment(&quot;test&quot;)\r\n                        .queryParam(&quot;filters[1]&quot;).build()).thenReturn(uriComponents);\r\n    \r\n                TypeReference&lt;List&lt;Data&gt;&gt; listType = new TypeReference&lt;&gt;() {};\r\n                List&lt;Data&gt; expectedData = new ObjectMapper().readValue(&quot;{}&quot;, listType);\r\n                List&lt;Data&gt; actualData = MyClient.getData(1234L);\r\n    \r\n                Assertions.assertEquals(expectedData, actualData);\r\n            }\r\n        }\r\n\r\nThe test is failing with below exception:-\r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    UriComponents$MockitoMock$2089413864 cannot be returned by fromUriString()\r\n    fromUriString() should return UriComponentsBuilder\r\n\r\nI am unable to mock UriComponentsBuilder because of this exception.Can anyone please help here?\r\n","title":"Error while mocking OkHttpClient with Mockito","body":"<p>I want to write test for the below method in Junit5 with Mockito.</p>\n<pre><code> public List&lt;Data&gt; getData(Long id) {\n        UriComponents uriComponents = UriComponentsBuilder.fromUriString(&quot;test.com&quot;)\n                .pathSegment(&quot;/test&quot;)\n                .queryParam(&quot;filters[id]&quot;, id)\n                .build();\n    \n        Request request = new Request.Builder()\n                .url(uriComponents.toUriString())\n                .method(&quot;GET&quot;, null)\n                .build();\n    \n        try {\n            Response response;\n            response = okHttpClient.newCall(request).execute();\n    \n            TypeReference&lt;List&lt;Data&gt;&gt; listType = new TypeReference&lt;&gt;() {};\n            List&lt;Data&gt; list = objectMapper.readValue(Objects.requireNonNull(response.body()).string(), listType);\n            response.close();\n    \n            return list;\n        } catch (IOException ioEx) {\n            throw new RuntimeException(ioEx);\n        }\n    }\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code> @Test\n    public void shouldReturnData() throws IOException {\n        try (MockedStatic&lt;UriComponentsBuilder&gt; mocked = mockStatic(UriComponentsBuilder.class)) {\n            mocked.when(() -&gt; UriComponentsBuilder.fromUriString(&quot;test.go&quot;).pathSegment(&quot;test&quot;)\n                    .queryParam(&quot;filters[1]&quot;).build()).thenReturn(uriComponents);\n\n            TypeReference&lt;List&lt;Data&gt;&gt; listType = new TypeReference&lt;&gt;() {};\n            List&lt;Data&gt; expectedData = new ObjectMapper().readValue(&quot;{}&quot;, listType);\n            List&lt;Data&gt; actualData = MyClient.getData(1234L);\n\n            Assertions.assertEquals(expectedData, actualData);\n        }\n    }\n</code></pre>\n<p>The test is failing with below exception:-</p>\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nUriComponents$MockitoMock$2089413864 cannot be returned by fromUriString()\nfromUriString() should return UriComponentsBuilder\n</code></pre>\n<p>I am unable to mock UriComponentsBuilder because of this exception.Can anyone please help here?</p>\n"},{"tags":["java","android","android-intent","android-activity"],"comments":[{"owner":{"account_id":18581797,"reputation":43,"user_id":13541184,"display_name":"Bryan.C"},"score":0,"creation_date":1642193253,"post_id":70716124,"comment_id":125014956,"body_markdown":"You might want to use intent? https://stackoverflow.com/questions/3872063/how-to-launch-an-activity-from-another-application-in-android","body":"You might want to use intent? <a href=\"https://stackoverflow.com/questions/3872063/how-to-launch-an-activity-from-another-application-in-android\" title=\"how to launch an activity from another application in android\">stackoverflow.com/questions/3872063/&hellip;</a>"},{"owner":{"account_id":11075738,"reputation":39,"user_id":8132524,"display_name":"Marius Nicolae"},"score":0,"creation_date":1642193949,"post_id":70716124,"comment_id":125015166,"body_markdown":"I have edited the code, yes i am using intent.\nIntent intent = new Intent(otherContext, otherClass);\nstartActivity(intent);","body":"I have edited the code, yes i am using intent. Intent intent = new Intent(otherContext, otherClass); startActivity(intent);"}],"owner":{"account_id":11075738,"reputation":39,"user_id":8132524,"display_name":"Marius Nicolae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642193926,"creation_date":1642191687,"question_id":70716124,"body_markdown":"In Android Studio, i am reading the book: &quot;Android Development for Dummies(2nd edition)&quot; I copied the exact code from the book so I&#39;m trying to start another application activity, here is the code I&#39;m using:\r\n\r\n```java\r\nContext otherContext;\r\nString otherContextString = &quot;com.taozen.weather_sunshine&quot;;\r\n\r\ntry{\r\n    otherContext = otherContext.createPackageContext(otherContextString, Context.CONTEXT_IGNORE_SECURITY | Context.CONTEXT_INCLUDE_CODE);        \r\n} \r\ncatch (PackageManager.NameNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nClass&lt;?&gt; otherClass = null;\r\n\r\ntry{\r\n    otherClass = otherContext.getClassLoader().loadClass(&quot;com.taozen.weather_sunshine.MainActivity&quot;);\r\n}\r\ncatch (ClassNotFoundException e){\r\n    e.printStackTrace();\r\n}\r\n\r\nIntent intent = new Intent(otherContext, otherClass);\r\nstartActivity(intent);\r\n```\r\n\r\nIt works like this, but i wanna know why the method above doesn&#39;t work.\r\n```\r\n//        Intent intent = new Intent(Intent.ACTION_MAIN);\r\n//        intent.setClassName(&quot;com.taozen.weather_sunshine&quot;, &quot;com.taozen.weather_sunshine.MainActivity&quot;);\r\n//        startActivity(intent);\r\n//        finish();\r\n```","title":"Android starting another application activity does not work","body":"<p>In Android Studio, i am reading the book: &quot;Android Development for Dummies(2nd edition)&quot; I copied the exact code from the book so I'm trying to start another application activity, here is the code I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Context otherContext;\nString otherContextString = &quot;com.taozen.weather_sunshine&quot;;\n\ntry{\n    otherContext = otherContext.createPackageContext(otherContextString, Context.CONTEXT_IGNORE_SECURITY | Context.CONTEXT_INCLUDE_CODE);        \n} \ncatch (PackageManager.NameNotFoundException e) {\n    e.printStackTrace();\n}\n\nClass&lt;?&gt; otherClass = null;\n\ntry{\n    otherClass = otherContext.getClassLoader().loadClass(&quot;com.taozen.weather_sunshine.MainActivity&quot;);\n}\ncatch (ClassNotFoundException e){\n    e.printStackTrace();\n}\n\nIntent intent = new Intent(otherContext, otherClass);\nstartActivity(intent);\n</code></pre>\n<p>It works like this, but i wanna know why the method above doesn't work.</p>\n<pre><code>//        Intent intent = new Intent(Intent.ACTION_MAIN);\n//        intent.setClassName(&quot;com.taozen.weather_sunshine&quot;, &quot;com.taozen.weather_sunshine.MainActivity&quot;);\n//        startActivity(intent);\n//        finish();\n</code></pre>\n"},{"tags":["java","mongodb","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642193671,"creation_date":1642193671,"answer_id":70716419,"question_id":70712919,"body_markdown":"I don&#39;t think it&#39;s possible now since anyway `MongodbIO.Read` will return a `PCollection&lt;Document&gt;` that has to be converted into `PCollection&lt;TableRow&gt;`.\r\n\r\nHowever, if you need it to write the result of `MongodbIO.Read` into BigQuery then I think you may try to use `BigQueryIO.Write.withFormatFunction(...)` and provide a function to convert MongoDB document into `TableRow`. Though, I think it will be kind of the same in terms of performance.","title":"How to convert Documents read from Mongo Collection using MongoDbIO.read() directly to a table row without explicity mentioning each and every key?","body":"<p>I don't think it's possible now since anyway <code>MongodbIO.Read</code> will return a <code>PCollection&lt;Document&gt;</code> that has to be converted into <code>PCollection&lt;TableRow&gt;</code>.</p>\n<p>However, if you need it to write the result of <code>MongodbIO.Read</code> into BigQuery then I think you may try to use <code>BigQueryIO.Write.withFormatFunction(...)</code> and provide a function to convert MongoDB document into <code>TableRow</code>. Though, I think it will be kind of the same in terms of performance.</p>\n"}],"owner":{"account_id":1528656,"reputation":23,"user_id":1426451,"display_name":"Bro3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70716419,"answer_count":1,"score":1,"last_activity_date":1642193671,"creation_date":1642174151,"question_id":70712919,"body_markdown":"```\r\nRead read= MongoDbIO.read().withUri(&lt;uri&gt;).withBucketAuto(true)\r\n    \t\t.withDatabase(&lt;db&gt;).withCollection(&lt;collection&gt;);\r\n\r\nPCollection&lt;Document&gt; lines = p.apply(read);\r\n```\r\n\r\nHow to convert `lines` to `tablerows` dynamically _without_ fetching each line and setting the table row like this:\r\n\r\n```\r\nString offer_id=document.getString(&quot;oid&quot;);\r\nTableRow row;\r\nrow=new TableRow().set(&quot;offerId&quot;, offer_id)\r\n```\r\n\r\n","title":"How to convert Documents read from Mongo Collection using MongoDbIO.read() directly to a table row without explicity mentioning each and every key?","body":"<pre><code>Read read= MongoDbIO.read().withUri(&lt;uri&gt;).withBucketAuto(true)\n            .withDatabase(&lt;db&gt;).withCollection(&lt;collection&gt;);\n\nPCollection&lt;Document&gt; lines = p.apply(read);\n</code></pre>\n<p>How to convert <code>lines</code> to <code>tablerows</code> dynamically <em>without</em> fetching each line and setting the table row like this:</p>\n<pre><code>String offer_id=document.getString(&quot;oid&quot;);\nTableRow row;\nrow=new TableRow().set(&quot;offerId&quot;, offer_id)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1558866712,"creation_date":1558866712,"answer_id":56312719,"question_id":56308456,"body_markdown":"    Caused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n        at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:44) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:294) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\r\nIt happens when `HttpSecurity#build()` is called more than one time per instance. You don&#39;t need to call `HttpSecurity#build()` when configuring `HttpSecurity` as spring security will call it behind scenes. So removing `build()` in `configure(HttpSecurity http)` should solve the problem : \r\n\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/*/inserir&quot;).hasAuthority(ROLE_ULTRA)\r\n                .anyRequest().authenticated()\r\n                .and().formLogin();\r\n    }\r\n\r\n","title":"&quot;AlreadyBuiltException: This object has already been built&quot; when building &quot;springSecurityFilterChain&quot;","body":"<pre><code>Caused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:44) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:294) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n</code></pre>\n\n<p>It happens when <code>HttpSecurity#build()</code> is called more than one time per instance. You don't need to call <code>HttpSecurity#build()</code> when configuring <code>HttpSecurity</code> as spring security will call it behind scenes. So removing <code>build()</code> in <code>configure(HttpSecurity http)</code> should solve the problem : </p>\n\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeRequests()\n            .antMatchers(\"/*/inserir\").hasAuthority(ROLE_ULTRA)\n            .anyRequest().authenticated()\n            .and().formLogin();\n}\n</code></pre>\n"}],"owner":{"account_id":14917676,"reputation":75,"user_id":10770998,"display_name":"taarak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7540,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56312719,"answer_count":1,"score":6,"last_activity_date":1642193252,"creation_date":1558816205,"question_id":56308456,"body_markdown":"I&#39;m developing a Spring Boot application with Spring Security, and could not get it working in any way.\r\n\r\nI want to use Spring Security 5, but at this point I don&#39;t even know what version I am trying to use, and using WebFlux will not help.\r\n\r\nThe problem is that when I create a class that extends WebSecurityConfigurerAdapter, Spring will always throw `org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built` after `org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built`, and I don&#39;t know why. I tried removing the `@Configuration` annotation, the `@EnableWebSecurity` one, both and adding others, such as `@Order`, but adding or removing annotations don&#39;t seem help.\r\n\r\nHere is the stack trace:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n\tat net.digib.LibraryManager.main(LibraryManager.java:14) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:44) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:294) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$46929e0c.CGLIB$springSecurityFilterChain$5(&lt;generated&gt;) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$46929e0c$$FastClassBySpringCGLIB$$7515a245.invoke(&lt;generated&gt;) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$46929e0c.springSecurityFilterChain(&lt;generated&gt;) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\t... 22 common frames omitted\r\n```\r\n\r\nAnd my WebSecurityConfig class, that extends WebSecurityConfigurerAdapter:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    public static final String ROLE_COMUM = &quot;COMUM&quot;;\r\n    public static final String ROLE_ULTRA = &quot;ULTRA&quot;;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/*/inserir&quot;).hasAuthority(ROLE_ULTRA)\r\n                .anyRequest().authenticated()\r\n                .and().formLogin()\r\n                .and().build();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .passwordEncoder(passwordEncoder())\r\n                .withUser(&quot;usuario&quot;).password(passwordEncoder().encode(&quot;senha&quot;)).roles(ROLE_COMUM)\r\n                .and()\r\n                .withUser(&quot;ultra&quot;).password(passwordEncoder().encode(&quot;ahnes&quot;)).roles(ROLE_COMUM, ROLE_ULTRA);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nHow can I prevent Spring from creating multiple `springSecurityFilterChain`, so that my application can run correctly?","title":"&quot;AlreadyBuiltException: This object has already been built&quot; when building &quot;springSecurityFilterChain&quot;","body":"<p>I'm developing a Spring Boot application with Spring Security, and could not get it working in any way.</p>\n\n<p>I want to use Spring Security 5, but at this point I don't even know what version I am trying to use, and using WebFlux will not help.</p>\n\n<p>The problem is that when I create a class that extends WebSecurityConfigurerAdapter, Spring will always throw <code>org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built</code> after <code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built</code>, and I don't know why. I tried removing the <code>@Configuration</code> annotation, the <code>@EnableWebSecurity</code> one, both and adding others, such as <code>@Order</code>, but adding or removing annotations don't seem help.</p>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at net.digib.LibraryManager.main(LibraryManager.java:14) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    ... 21 common frames omitted\nCaused by: org.springframework.security.config.annotation.AlreadyBuiltException: This object has already been built\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:44) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:294) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$46929e0c.CGLIB$springSecurityFilterChain$5(&lt;generated&gt;) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$46929e0c$$FastClassBySpringCGLIB$$7515a245.invoke(&lt;generated&gt;) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$46929e0c.springSecurityFilterChain(&lt;generated&gt;) ~[spring-security-config-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    ... 22 common frames omitted\n</code></pre>\n\n<p>And my WebSecurityConfig class, that extends WebSecurityConfigurerAdapter:</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    public static final String ROLE_COMUM = \"COMUM\";\n    public static final String ROLE_ULTRA = \"ULTRA\";\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n                .antMatchers(\"/*/inserir\").hasAuthority(ROLE_ULTRA)\n                .anyRequest().authenticated()\n                .and().formLogin()\n                .and().build();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .passwordEncoder(passwordEncoder())\n                .withUser(\"usuario\").password(passwordEncoder().encode(\"senha\")).roles(ROLE_COMUM)\n                .and()\n                .withUser(\"ultra\").password(passwordEncoder().encode(\"ahnes\")).roles(ROLE_COMUM, ROLE_ULTRA);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n\n<p>How can I prevent Spring from creating multiple <code>springSecurityFilterChain</code>, so that my application can run correctly?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","spring-cloud-gcp"],"comments":[{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":1,"creation_date":1642143923,"post_id":70702629,"comment_id":124997638,"body_markdown":"You may want to look in [this](https://stackoverflow.com/questions/61597801/java-lang-nosuchmethoderror-com-google-common-io-bytestreams-exhaustljava-io-i) stack post. Issue is only encountered when running the class in IntelliJ as also mentioned in this [link](https://stackoverflow.com/questions/68564991/accessing-gcs-with-json-key-in-java-and-got-method-threw-com-google-cloud-stora).","body":"You may want to look in <a href=\"https://stackoverflow.com/questions/61597801/java-lang-nosuchmethoderror-com-google-common-io-bytestreams-exhaustljava-io-i\">this</a> stack post. Issue is only encountered when running the class in IntelliJ as also mentioned in this <a href=\"https://stackoverflow.com/questions/68564991/accessing-gcs-with-json-key-in-java-and-got-method-threw-com-google-cloud-stora\">link</a>."}],"answers":[{"tags":[],"owner":{"account_id":23922132,"reputation":21,"user_id":17917798,"display_name":"Anil kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642193143,"creation_date":1642193143,"answer_id":70716343,"question_id":70702629,"body_markdown":"Did some changes in the code and it works \r\n\r\n \r\n\r\n    StorageOptions options = StorageOptions.newBuilder()\r\n                        .setProjectId(PROJECT_ID)\r\n                        .setCredentials(GoogleCredentials.fromStream(new FileInputStream(PATH_TO_JSON_KEY))).build();\r\n                Storage storage = options.getService();\r\n                byte[] bytes = storage.readAllBytes(BlobId.of(BUCKET_NAME, OBJECT_NAME));\r\n\r\n**use* **storage.readAllBytes()** *instead of* **storage.get()***\r\n\r\nMy Pom\r\n\r\n         &lt;dependencyManagement&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                        &lt;version&gt;24.2.0&lt;/version&gt;\r\n                        &lt;type&gt;pom&lt;/type&gt;\r\n                        &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/dependencyManagement&gt;\r\n    \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n                    &lt;version&gt;v1-rev20190129-1.26.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n\r\n*use*  **v1-rev20190129-1.26.0** *for* **google-api-services-storage** *because higher version is not compatible with* **cloud-storage 2.2.3v**","title":"Method threw &#39;com.google.cloud.storage.StorageException&#39; exception on connection with GCS with JSON key","body":"<p>Did some changes in the code and it works</p>\n<pre><code>StorageOptions options = StorageOptions.newBuilder()\n                    .setProjectId(PROJECT_ID)\n                    .setCredentials(GoogleCredentials.fromStream(new FileInputStream(PATH_TO_JSON_KEY))).build();\n            Storage storage = options.getService();\n            byte[] bytes = storage.readAllBytes(BlobId.of(BUCKET_NAME, OBJECT_NAME));\n</code></pre>\n<p><em><em>use</em> <strong>storage.readAllBytes()</strong> <em>instead of</em> <strong>storage.get()</strong></em></p>\n<p>My Pom</p>\n<pre><code>     &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                    &lt;version&gt;24.2.0&lt;/version&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n                &lt;version&gt;v1-rev20190129-1.26.0&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n</code></pre>\n<p><em>use</em>  <strong>v1-rev20190129-1.26.0</strong> <em>for</em> <strong>google-api-services-storage</strong> <em>because higher version is not compatible with</em> <strong>cloud-storage 2.2.3v</strong></p>\n"}],"owner":{"account_id":23922132,"reputation":21,"user_id":17917798,"display_name":"Anil kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70716343,"answer_count":1,"score":0,"last_activity_date":1642193143,"creation_date":1642105169,"question_id":70702629,"body_markdown":"Getting Storage Exception while connection with GCS !!\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;30.0-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2H50m.png","title":"Method threw &#39;com.google.cloud.storage.StorageException&#39; exception on connection with GCS with JSON key","body":"<p>Getting Storage Exception while connection with GCS !!</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;30.0-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2H50m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2H50m.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","encoding","utf-8"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1471250930,"post_id":38951630,"comment_id":65258178,"body_markdown":"Post your POM. Are you sure you&#39;re using the right encoding for the *compilation* step?","body":"Post your POM. Are you sure you&#39;re using the right encoding for the <i>compilation</i> step?"},{"owner":{"account_id":4335378,"reputation":2920,"user_id":3539973,"display_name":"Prim"},"score":0,"creation_date":1471251149,"post_id":38951630,"comment_id":65258264,"body_markdown":"Are you sure you added in your pom a property like this `&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;` ? If not, try to do this","body":"Are you sure you added in your pom a property like this <code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;&#47;project.build.sourceEnc&zwnj;&#8203;oding&gt;</code> ? If not, try to do this"},{"owner":{"account_id":6586068,"reputation":1466,"user_id":5088796,"accept_rate":10,"display_name":"Yanick Salzmann"},"score":0,"creation_date":1471257560,"post_id":38951630,"comment_id":65261013,"body_markdown":"I have added the POM","body":"I have added the POM"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1471258427,"post_id":38951630,"comment_id":65261343,"body_markdown":"Try first u-escaped text, so as to check that the editor encoding equals the javac encoding: `&quot;\\u00E4\\u00F6\\u00FC...&quot;` (&#228;&#246;&#252;...). Especially as Windows-1252 would cover the letters too.","body":"Try first u-escaped text, so as to check that the editor encoding equals the javac encoding: <code>&quot;\\u00E4\\u00F6\\u00FC...&quot;</code> (&#228;&#246;&#252;...). Especially as Windows-1252 would cover the letters too."},{"owner":{"account_id":6586068,"reputation":1466,"user_id":5088796,"accept_rate":10,"display_name":"Yanick Salzmann"},"score":0,"creation_date":1471258868,"post_id":38951630,"comment_id":65261521,"body_markdown":"Good idea, I did the following:\n`NFLAuth.sign(&quot;\\u00E4\\u00F6\\u00FC&quot;);` and within that method I printed the `getBytes()` of the input variable. **IntelliJ**: `C3 A4 C3 B6 C3 BC` **Maven**: `E4 F6 FC` So apparently it is not using UTF-8 encoding in Maven...","body":"Good idea, I did the following: <code>NFLAuth.sign(&quot;\\u00E4\\u00F6\\u00FC&quot;);</code> and within that method I printed the <code>getBytes()</code> of the input variable. <b>IntelliJ</b>: <code>C3 A4 C3 B6 C3 BC</code> <b>Maven</b>: <code>E4 F6 FC</code> So apparently it is not using UTF-8 encoding in Maven..."},{"owner":{"account_id":6586068,"reputation":1466,"user_id":5088796,"accept_rate":10,"display_name":"Yanick Salzmann"},"score":0,"creation_date":1471259262,"post_id":38951630,"comment_id":65261683,"body_markdown":"I also checked with a hex editor how the .java file looks and it seems to be UTF-8 encoded: `String a = &quot;&#195;&#182;&#195;&#164;&#195;&#188;&quot;; NFLAuth.sign(a);` (for `String a = &quot;&#246;&#228;&#252;&quot;; NFLAuth.sign(a);`)","body":"I also checked with a hex editor how the .java file looks and it seems to be UTF-8 encoded: <code>String a = &quot;&#195;&#182;&#195;&#164;&#195;&#188;&quot;; NFLAuth.sign(a);</code> (for <code>String a = &quot;&#246;&#228;&#252;&quot;; NFLAuth.sign(a);</code>)"}],"answers":[{"tags":[],"owner":{"account_id":6586068,"reputation":1466,"user_id":5088796,"accept_rate":10,"display_name":"Yanick Salzmann"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1608507425,"creation_date":1471267291,"answer_id":38955899,"question_id":38951630,"body_markdown":"The maven surefire plugin also needs to read the files as UTF-8 otherwise it wont do it :). I had tried something like this before but with the wrong Element in `&lt;configuration/&gt;`...\r\n\r\nProper configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Encoding in Maven Tests not working properly","body":"<p>The maven surefire plugin also needs to read the files as UTF-8 otherwise it wont do it :). I had tried something like this before but with the wrong Element in <code>&lt;configuration/&gt;</code>...</p>\n<p>Proper configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635845482,"creation_date":1635845482,"answer_id":69808123,"question_id":38951630,"body_markdown":"Set (Windows) environment variable JAVA_TOOL_OPTIONS to -Dfile.encoding=UTF8\r\n\r\nThe other answer (set encoding to Surefire config) did not solve my issue.\r\n\r\nAfter setting JAVA_TOOL_OPTIONS, no surefire configuration is needed.","title":"Encoding in Maven Tests not working properly","body":"<p>Set (Windows) environment variable JAVA_TOOL_OPTIONS to -Dfile.encoding=UTF8</p>\n<p>The other answer (set encoding to Surefire config) did not solve my issue.</p>\n<p>After setting JAVA_TOOL_OPTIONS, no surefire configuration is needed.</p>\n"},{"tags":[],"owner":{"account_id":13222037,"reputation":874,"user_id":9548462,"display_name":"Missael De Nadai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642193091,"creation_date":1642193091,"answer_id":70716337,"question_id":38951630,"body_markdown":"I had to only set two Windows environment variables:\r\n- JAVA_TOOL_OPTIONS to -Dfile.encoding=UTF8 (thanks to @joro)\r\n- MAVEN_OPTS to -Dfile.encoding=UTF8","title":"Encoding in Maven Tests not working properly","body":"<p>I had to only set two Windows environment variables:</p>\n<ul>\n<li>JAVA_TOOL_OPTIONS to -Dfile.encoding=UTF8 (thanks to @joro)</li>\n<li>MAVEN_OPTS to -Dfile.encoding=UTF8</li>\n</ul>\n"}],"owner":{"account_id":6586068,"reputation":1466,"user_id":5088796,"accept_rate":10,"display_name":"Yanick Salzmann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7968,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":38955899,"answer_count":3,"score":19,"last_activity_date":1642193091,"creation_date":1471249214,"question_id":38951630,"body_markdown":"I am currently trying to write a test that is run via Maven that specifically addresses strings containing UTF-8 characters. If I run said test in IntelliJ everything is fine and the results are as expected. If i run the test using mvn test, then (only) the test that is testing UTF-8 characters is failing.\r\n\r\nThis is my test:\r\n\r\n\r\n    @Test\r\n    public void testWithUTF8() throws InvalidKeyException, NoSuchAlgorithmException {\r\n        String signature = NFLAuth.sign(&quot;Contains UTF-8: &#228;&#252;&#246;&#246;&#246;&#213;&#223;&#205;&#209;&#240;&quot;);\r\n        Assert.assertEquals(&quot;Signature=BSY4prbinpAgzJLv6ffGm+XJb1NTIbGY6gTj8RA3lsA=&quot;, signature);\r\n    }\r\n\r\nFirst of all, yes, I read the question about encoding in Maven and I did everything. Theres the property, its added to the compiler plugin, I have even set JAVA_TOOL_OPTIONS with file.encoding but still no luck. I also dont know what encoding it is using, if I try windows-1252 in IntelliJ the test also fails, but the signature is not the same as maven gets.\r\n\r\nHere is the POM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;***&lt;/groupId&gt;\r\n        &lt;artifactId&gt;***&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;name&gt;***&lt;/name&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.apigee.edge.4g&lt;/groupId&gt;\r\n                &lt;artifactId&gt;expressions&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.apigee.edge.4g&lt;/groupId&gt;\r\n                &lt;artifactId&gt;message-flow&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.apigee.edge.4g&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${project.basedir}/lib/kernel-api-1.0.0.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.19&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.21&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n                &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Encoding in Maven Tests not working properly","body":"<p>I am currently trying to write a test that is run via Maven that specifically addresses strings containing UTF-8 characters. If I run said test in IntelliJ everything is fine and the results are as expected. If i run the test using mvn test, then (only) the test that is testing UTF-8 characters is failing.</p>\n\n<p>This is my test:</p>\n\n<pre><code>@Test\npublic void testWithUTF8() throws InvalidKeyException, NoSuchAlgorithmException {\n    String signature = NFLAuth.sign(\"Contains UTF-8: äüöööÕßÍÑð\");\n    Assert.assertEquals(\"Signature=BSY4prbinpAgzJLv6ffGm+XJb1NTIbGY6gTj8RA3lsA=\", signature);\n}\n</code></pre>\n\n<p>First of all, yes, I read the question about encoding in Maven and I did everything. Theres the property, its added to the compiler plugin, I have even set JAVA_TOOL_OPTIONS with file.encoding but still no luck. I also dont know what encoding it is using, if I try windows-1252 in IntelliJ the test also fails, but the signature is not the same as maven gets.</p>\n\n<p>Here is the POM:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;***&lt;/groupId&gt;\n    &lt;artifactId&gt;***&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;***&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.apigee.edge.4g&lt;/groupId&gt;\n            &lt;artifactId&gt;expressions&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.apigee.edge.4g&lt;/groupId&gt;\n            &lt;artifactId&gt;message-flow&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.apigee.edge.4g&lt;/groupId&gt;\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/kernel-api-1.0.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;version&gt;1.10.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","list","kotlin","arraylist","clone"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642191734,"creation_date":1642191734,"answer_id":70716133,"question_id":70716035,"body_markdown":"You can use a simple recursive method to deep copy every nested list. Here&#39;s a demonstration using Java streams:\r\n\r\n    List&lt;?&gt; deepCopy(List&lt;?&gt; list) {\r\n        return list.stream()\r\n                .map(e -&gt; e instanceof List ? deepCopy((List&lt;?&gt;)e) : e)\r\n                .collect(Collectors.toList());\r\n    }","title":"Is there an easy way for deep cloning a list in Kotlin?","body":"<p>You can use a simple recursive method to deep copy every nested list. Here's a demonstration using Java streams:</p>\n<pre><code>List&lt;?&gt; deepCopy(List&lt;?&gt; list) {\n    return list.stream()\n            .map(e -&gt; e instanceof List ? deepCopy((List&lt;?&gt;)e) : e)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642192464,"creation_date":1642192464,"answer_id":70716246,"question_id":70716035,"body_markdown":"    fun cloned(arrayList: ArrayList&lt;Any&gt;): ArrayList&lt;Any&gt; {\r\n      return arrayList.map {\r\n        when (it) {\r\n          is ArrayList&lt;*&gt; -&gt; cloned(it.toList() as ArrayList&lt;Any&gt;)\r\n          else            -&gt; it\r\n        }\r\n      } as ArrayList&lt;Any&gt;\r\n    }\r\n\r\n","title":"Is there an easy way for deep cloning a list in Kotlin?","body":"<pre><code>fun cloned(arrayList: ArrayList&lt;Any&gt;): ArrayList&lt;Any&gt; {\n  return arrayList.map {\n    when (it) {\n      is ArrayList&lt;*&gt; -&gt; cloned(it.toList() as ArrayList&lt;Any&gt;)\n      else            -&gt; it\n    }\n  } as ArrayList&lt;Any&gt;\n}\n</code></pre>\n"}],"owner":{"account_id":23528847,"reputation":168,"user_id":17574875,"display_name":"konstantin durant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70716246,"answer_count":2,"score":0,"last_activity_date":1642192464,"creation_date":1642191008,"question_id":70716035,"body_markdown":"I need to clone an ArrayList of type Any which contains only strings and Arraylists that contain only strings and arrayLists that ... . A shallow copy does not work for me as I need to have every element cloned. My idea is to loop through every element or to convert the ArrayList to a String and than back to an ArrayList ( using the commas and brackets in the string). Any idea how to do this easier?  ( Java answers are appreciated too as I think it is convertable to Kotlin)","title":"Is there an easy way for deep cloning a list in Kotlin?","body":"<p>I need to clone an ArrayList of type Any which contains only strings and Arraylists that contain only strings and arrayLists that ... . A shallow copy does not work for me as I need to have every element cloned. My idea is to loop through every element or to convert the ArrayList to a String and than back to an ArrayList ( using the commas and brackets in the string). Any idea how to do this easier?  ( Java answers are appreciated too as I think it is convertable to Kotlin)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1994837,"reputation":1193,"user_id":1788003,"accept_rate":100,"display_name":"ScoPi"},"score":1,"creation_date":1354627772,"post_id":13704028,"comment_id":18819070,"body_markdown":"The &quot;F&quot; indicates that the literal numeric value it is appended to is a float value. This is necessary information for the compiler and if not present can lead to errors or the compiler otherwise interpreting the number incorrectly.","body":"The &quot;F&quot; indicates that the literal numeric value it is appended to is a float value. This is necessary information for the compiler and if not present can lead to errors or the compiler otherwise interpreting the number incorrectly."},{"owner":{"account_id":1973808,"reputation":347,"user_id":1772079,"accept_rate":75,"display_name":"crvineeth99"},"score":0,"creation_date":1354627978,"post_id":13704028,"comment_id":18819199,"body_markdown":"@ScoPi I tried it out in a program and it rounds it off to 5 decimal places.As I have understood, a float no. has a range of 10^-38 to 10^38.","body":"@ScoPi I tried it out in a program and it rounds it off to 5 decimal places.As I have understood, a float no. has a range of 10^-38 to 10^38."},{"owner":{"account_id":973998,"reputation":138700,"user_id":995876,"display_name":"Esailija"},"score":2,"creation_date":1354628182,"post_id":13704028,"comment_id":18819329,"body_markdown":"@crvineeth99 only a small amount of distinct values in that range can be represented in a float. Theoretically there is space for ~4.3 billion different values in a float, yet the range `10^-38 to 10^38` has infinity amount of different values.","body":"@crvineeth99 only a small amount of distinct values in that range can be represented in a float. Theoretically there is space for ~4.3 billion different values in a float, yet the range <code>10^-38 to 10^38</code> has infinity amount of different values."}],"answers":[{"tags":[],"owner":{"account_id":246941,"reputation":1572,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1354629241,"creation_date":1354627786,"answer_id":13704067,"question_id":13704028,"body_markdown":"The default Java type which Java will be using for a float variable will be double. So, even if you declare any variable as float, what compiler has to actually do is to assign a double value to a float variable, which is not possible.So, to tell compiler to treat this value as a float, that &#39;f&#39; is used.","title":"Why is the letter f used at the end of a float no.?","body":"<p>The default Java type which Java will be using for a float variable will be double. So, even if you declare any variable as float, what compiler has to actually do is to assign a double value to a float variable, which is not possible.So, to tell compiler to treat this value as a float, that 'f' is used.</p>\n"},{"tags":[],"owner":{"account_id":1054898,"reputation":3161,"user_id":1057849,"accept_rate":50,"display_name":"Josh Greifer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354627791,"creation_date":1354627791,"answer_id":13704070,"question_id":13704028,"body_markdown":"It&#39;s to distinguish between floating point and double precision numbers.  The latter has no suffix.","title":"Why is the letter f used at the end of a float no.?","body":"<p>It's to distinguish between floating point and double precision numbers.  The latter has no suffix.</p>\n"},{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354628597,"creation_date":1354627795,"answer_id":13704072,"question_id":13704028,"body_markdown":"When you write 1.0, it&#39;s ambiguous as to whether you intend the literal to be a float or double. By writing 1.0f, you&#39;re telling Java that you intend the literal to be a float, while using 1.0d specifies that it should be a double (which is also default if you do not specify that explicitely).","title":"Why is the letter f used at the end of a float no.?","body":"<p>When you write 1.0, it's ambiguous as to whether you intend the literal to be a float or double. By writing 1.0f, you're telling Java that you intend the literal to be a float, while using 1.0d specifies that it should be a double (which is also default if you do not specify that explicitely).</p>\n"},{"tags":[],"owner":{"account_id":1758742,"reputation":2405,"user_id":1606378,"accept_rate":81,"display_name":"The Cat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354627798,"creation_date":1354627798,"answer_id":13704074,"question_id":13704028,"body_markdown":"You need to put the &#39;f&#39; at the end, otherwise Java will assume its a double.","title":"Why is the letter f used at the end of a float no.?","body":"<p>You need to put the 'f' at the end, otherwise Java will assume its a double.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1354631057,"creation_date":1354627803,"answer_id":13704077,"question_id":13704028,"body_markdown":"The `f` indicates it&#39;s a floating point literal, not a double literal (which it would implicitly be otherwise.) It hasn&#39;t got a particular technical name that I know of - I tend to call it the &quot;letter suffix&quot; if I need to refer to it specifically, though that&#39;s somewhat arbitrary!\r\n\r\nFor instance:\r\n\r\n    float f = 3.14f; //Compiles\r\n    float f = 3.14;   //Doesn&#39;t compile, because you&#39;re trying to put a double literal in a float without a cast.\r\n\r\nYou could of course do:\r\n\r\n    float f = (float)3.14;\r\n\r\n...which accomplishes near enough the same thing, but the F is a neater, more concise way of showing it.\r\n\r\nWhy was double chosen as the default rather than float? Well, these days the memory requirements of a double over a float aren&#39;t an issue in 99% of cases, and the extra accuracy they provide is beneficial in a lot of cases - so you could argue that&#39;s the sensible default.\r\n\r\nNote that you can explicitly show a decimal literal as a double by putting a `d` at the end also:\r\n\r\n    double d = 3.14d;\r\n\r\n...but because it&#39;s a double value anyway, this has no effect. Some people might argue for it advocating it&#39;s clearer what literal type you mean, but personally I think it just clutters code (unless perhaps you have a lot of float literals hanging around and you want to emphasise that this literal is indeed meant to be a double, and the omission of the f isn&#39;t just a bug.)","title":"Why is the letter f used at the end of a float no.?","body":"<p>The <code>f</code> indicates it's a floating point literal, not a double literal (which it would implicitly be otherwise.) It hasn't got a particular technical name that I know of - I tend to call it the \"letter suffix\" if I need to refer to it specifically, though that's somewhat arbitrary!</p>\n\n<p>For instance:</p>\n\n<pre><code>float f = 3.14f; //Compiles\nfloat f = 3.14;   //Doesn't compile, because you're trying to put a double literal in a float without a cast.\n</code></pre>\n\n<p>You could of course do:</p>\n\n<pre><code>float f = (float)3.14;\n</code></pre>\n\n<p>...which accomplishes near enough the same thing, but the F is a neater, more concise way of showing it.</p>\n\n<p>Why was double chosen as the default rather than float? Well, these days the memory requirements of a double over a float aren't an issue in 99% of cases, and the extra accuracy they provide is beneficial in a lot of cases - so you could argue that's the sensible default.</p>\n\n<p>Note that you can explicitly show a decimal literal as a double by putting a <code>d</code> at the end also:</p>\n\n<pre><code>double d = 3.14d;\n</code></pre>\n\n<p>...but because it's a double value anyway, this has no effect. Some people might argue for it advocating it's clearer what literal type you mean, but personally I think it just clutters code (unless perhaps you have a lot of float literals hanging around and you want to emphasise that this literal is indeed meant to be a double, and the omission of the f isn't just a bug.)</p>\n"},{"tags":[],"owner":{"account_id":973998,"reputation":138700,"user_id":995876,"display_name":"Esailija"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354628361,"creation_date":1354627809,"answer_id":13704080,"question_id":13704028,"body_markdown":"It means that it&#39;s a [single precision floating point](http://en.wikipedia.org/wiki/Single_precision) literal rather than [double precision](http://en.wikipedia.org/wiki/Double_precision). Otherwise, you&#39;d have to write `float n = (float)2.99944323200023;` to cast the double to single.","title":"Why is the letter f used at the end of a float no.?","body":"<p>It means that it's a <a href=\"http://en.wikipedia.org/wiki/Single_precision\" rel=\"nofollow\">single precision floating point</a> literal rather than <a href=\"http://en.wikipedia.org/wiki/Double_precision\" rel=\"nofollow\">double precision</a>. Otherwise, you'd have to write <code>float n = (float)2.99944323200023;</code> to cast the double to single.</p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354627815,"creation_date":1354627815,"answer_id":13704082,"question_id":13704028,"body_markdown":"From the [Oracle Java Tutorial, section Primitive Data Types][1] under _Floating-Point Literals_\r\n\r\n&gt; A floating-point literal is of type float if it ends with the letter F or f; otherwise its type is double and it can optionally end with the letter D or d.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Why is the letter f used at the end of a float no.?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">Oracle Java Tutorial, section Primitive Data Types</a> under <em>Floating-Point Literals</em></p>\n\n<blockquote>\n  <p>A floating-point literal is of type float if it ends with the letter F or f; otherwise its type is double and it can optionally end with the letter D or d.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361550931,"creation_date":1354627842,"answer_id":13704093,"question_id":13704028,"body_markdown":"If `f` is not precised at the end, value is considered to be a `double`. \r\nAnd a `double` leads to more bytes in memory than `float`.","title":"Why is the letter f used at the end of a float no.?","body":"<p>If <code>f</code> is not precised at the end, value is considered to be a <code>double</code>. \nAnd a <code>double</code> leads to more bytes in memory than <code>float</code>.</p>\n"},{"tags":[],"owner":{"account_id":1299528,"reputation":559,"user_id":1249744,"accept_rate":67,"display_name":"Sunmit Girme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354627986,"creation_date":1354627986,"answer_id":13704133,"question_id":13704028,"body_markdown":"In Java, when you type a decimal number as `3.6`, its interpreted as a `double`. `double` is a 64-bit precision IEEE 754 floating point, while `float`is a 32-bit  precision IEEE 754 floating point. As a `float` is less precise than a `double`, the conversion cannot be performed implicitly.\r\n\r\nIf you want to create a float, you should end your number with `f` (i.e.: `3.6f`).\r\n\r\nFor more explanation, see the [primitive data types definition of the Java tutorial][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Why is the letter f used at the end of a float no.?","body":"<p>In Java, when you type a decimal number as <code>3.6</code>, its interpreted as a <code>double</code>. <code>double</code> is a 64-bit precision IEEE 754 floating point, while <code>float</code>is a 32-bit  precision IEEE 754 floating point. As a <code>float</code> is less precise than a <code>double</code>, the conversion cannot be performed implicitly.</p>\n\n<p>If you want to create a float, you should end your number with <code>f</code> (i.e.: <code>3.6f</code>).</p>\n\n<p>For more explanation, see the <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">primitive data types definition of the Java tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":20600259,"reputation":15,"user_id":15121673,"display_name":"عبدو عيد"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642192405,"creation_date":1642130099,"answer_id":70705639,"question_id":13704028,"body_markdown":"For the new versions of C lang, the conversion from double input to a float variable (assigning operation) is done by the compiler without the &#39;F&#39;\r\n\r\n    float fraction1 = 1337;\r\n    float fraction2 = 1337.0;\r\n    float fraction3 = 1337.0F;\r\n    printf(&quot;%f, %f, %f&quot;, fraction1, fraction2, fraction3);\r\n\r\n    output(C GNU): 1337.000000, 1337.000000, 1337.000000\r\n\r\n","title":"Why is the letter f used at the end of a float no.?","body":"<p>For the new versions of C lang, the conversion from double input to a float variable (assigning operation) is done by the compiler without the 'F'</p>\n<pre><code>float fraction1 = 1337;\nfloat fraction2 = 1337.0;\nfloat fraction3 = 1337.0F;\nprintf(&quot;%f, %f, %f&quot;, fraction1, fraction2, fraction3);\n\noutput(C GNU): 1337.000000, 1337.000000, 1337.000000\n</code></pre>\n"}],"owner":{"account_id":1973808,"reputation":347,"user_id":1772079,"accept_rate":75,"display_name":"crvineeth99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24201,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":13704077,"answer_count":10,"score":19,"last_activity_date":1642192405,"creation_date":1354627659,"question_id":13704028,"body_markdown":"I just wanted some information about this.\r\n\r\n    float n = 2.99944323200023f\r\n\r\nWhat does the `f` at the end of the literal do? What is it called? Why is it used?","title":"Why is the letter f used at the end of a float no.?","body":"<p>I just wanted some information about this.</p>\n\n<pre><code>float n = 2.99944323200023f\n</code></pre>\n\n<p>What does the <code>f</code> at the end of the literal do? What is it called? Why is it used?</p>\n"},{"tags":["java","postgresql","hibernate","jdbc","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1138510,"reputation":930,"user_id":1123052,"display_name":"Edgar Domingues"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642192290,"creation_date":1642192290,"answer_id":70716214,"question_id":70711055,"body_markdown":"You need to attach your entity packages to persistence units. \r\n\r\nThere are two ways to attach model classes to persistence units, and they should not be mixed:\r\n\r\n - Via the packages configuration property (e.g. quarkus.hibernate-orm.conn.packages=your.package);\r\n   \r\n - Via the @io.quarkus.hibernate.orm.PersistenceUnit package-level annotation.\r\n\r\nFor more info please read https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\r\n","title":"Quarkus build failure in hibernate: Multiple persistence units are defined but the entities are not mapped to them","body":"<p>You need to attach your entity packages to persistence units.</p>\n<p>There are two ways to attach model classes to persistence units, and they should not be mixed:</p>\n<ul>\n<li><p>Via the packages configuration property (e.g. quarkus.hibernate-orm.conn.packages=your.package);</p>\n</li>\n<li><p>Via the @io.quarkus.hibernate.orm.PersistenceUnit package-level annotation.</p>\n</li>\n</ul>\n<p>For more info please read <a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm#multiple-persistence-units</a></p>\n"}],"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6108,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70716214,"answer_count":1,"score":3,"last_activity_date":1642192290,"creation_date":1642165744,"question_id":70711055,"body_markdown":"I can&#39;t seem to get my Postgresql database working with quarkus and hibernate. There is no examples of the error I&#39;m getting anywhere:\r\n```\r\njava.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.hibernate.orm.deployment.HibernateOrmProcessor#configurationDescriptorBuilding threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Multiple persistence units are defined but the entities are not mapped to them. You should either use the .packages Quarkus configuration property or package-level @PersistenceUnit annotations.\r\n```\r\n\r\nThis is my application.properties:\r\n```\r\n#Connector database\r\nquarkus.datasource.conn.db-kind=pg\r\nquarkus.datasource.conn.jdbc.url=quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/testdb\r\nquarkus.datasource.conn.username=postgresql\r\nquarkus.datasource.conn.password=password\r\nquarkus.hibernate-orm.conn.datasource=conn\r\n```\r\n\r\nI&#39;m trying to bind it in my class like this:\r\n```\r\n@ApplicationScoped\r\npublic class Service {\r\n\r\n\t@Inject\r\n\t@PersistenceContext(unitName = &quot;conn&quot;)\r\n\tprotected EntityManager eventEM;\r\n...\r\n```\r\nTrying to bind it with @PersistenceUnit(...) does not work either.\r\n\r\nI have multiple entities which I am trying to bind as follows:\r\n```\r\n@Entity\r\n@Table(name = &quot;name&quot;)\r\n\r\n@NoArgsConstructor\r\n@Getter\r\n@EqualsAndHashCode\r\n@ToString\r\npublic class MyEntity {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;, updatable = false)\r\n\tprivate String id;\r\n...\r\n```\r\n\r\nShouldn&#39;t this work without a persistence.xml?\r\n\r\nReally appreciate it! :)","title":"Quarkus build failure in hibernate: Multiple persistence units are defined but the entities are not mapped to them","body":"<p>I can't seem to get my Postgresql database working with quarkus and hibernate. There is no examples of the error I'm getting anywhere:</p>\n<pre><code>java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.hibernate.orm.deployment.HibernateOrmProcessor#configurationDescriptorBuilding threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Multiple persistence units are defined but the entities are not mapped to them. You should either use the .packages Quarkus configuration property or package-level @PersistenceUnit annotations.\n</code></pre>\n<p>This is my application.properties:</p>\n<pre><code>#Connector database\nquarkus.datasource.conn.db-kind=pg\nquarkus.datasource.conn.jdbc.url=quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/testdb\nquarkus.datasource.conn.username=postgresql\nquarkus.datasource.conn.password=password\nquarkus.hibernate-orm.conn.datasource=conn\n</code></pre>\n<p>I'm trying to bind it in my class like this:</p>\n<pre><code>@ApplicationScoped\npublic class Service {\n\n    @Inject\n    @PersistenceContext(unitName = &quot;conn&quot;)\n    protected EntityManager eventEM;\n...\n</code></pre>\n<p>Trying to bind it with @PersistenceUnit(...) does not work either.</p>\n<p>I have multiple entities which I am trying to bind as follows:</p>\n<pre><code>@Entity\n@Table(name = &quot;name&quot;)\n\n@NoArgsConstructor\n@Getter\n@EqualsAndHashCode\n@ToString\npublic class MyEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false)\n    private String id;\n...\n</code></pre>\n<p>Shouldn't this work without a persistence.xml?</p>\n<p>Really appreciate it! :)</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642180576,"post_id":70714012,"comment_id":125010681,"body_markdown":"is there any specific reason you want to create tables on your own ? You can extend spring data jpa repository and create the tables","body":"is there any specific reason you want to create tables on your own ? You can extend spring data jpa repository and create the tables"},{"owner":{"account_id":14894081,"reputation":313,"user_id":10754932,"display_name":"Michael"},"score":0,"creation_date":1642181537,"post_id":70714012,"comment_id":125011045,"body_markdown":"@Gurkirat Singh Guliani: No there is no specific reason. I already created the table with spring boot data. I only want to implement the data &quot;admin&quot; and &quot;user&quot; inside of the &quot;user_role&quot; table when the application starts. Is there an easier way?","body":"@Gurkirat Singh Guliani: No there is no specific reason. I already created the table with spring boot data. I only want to implement the data &quot;admin&quot; and &quot;user&quot; inside of the &quot;user_role&quot; table when the application starts. Is there an easier way?"}],"answers":[{"tags":[],"owner":{"account_id":10925333,"reputation":1170,"user_id":8030220,"accept_rate":50,"display_name":"ZeroProcess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642188744,"creation_date":1642188744,"answer_id":70715680,"question_id":70714012,"body_markdown":"If you created the `user_role` table with your script then the problem is the `id` column definition where the `AUTO_INCREMENT` is missing from it. Because you want to insert fields without manually adding the id values. So the correct sql code for the table creation should be:\r\n\r\n    CREATE TABLE `user_role` (\r\n        `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n        `role` varchar(255) DEFAULT NULL,\r\n        PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; \r\n\r\nIn this case the insert sql code will work fine.\r\n\r\n**But you should generate a table with spring and insert data with a repository!** \r\n\r\nRepository for UserRole entity:\r\n\r\n    public interface UserRoleRepository extends CrudRepository&lt;UserRole, Long&gt; {}\r\n\r\nAfter that just call the save method with the new instance of the entity in your service:\r\n\r\n    @AllArgsConstructor\r\n    @Service\r\n    public class YourService {\r\n    \r\n        private final UserRoleRepository userRoleRepository;\r\n    \r\n        public void exampleMethod() {\r\n            final UserRole role = new UserRole();\r\n            role.set(&quot;ADMIN&quot;);\r\n            userRoleRepository.save(role);\r\n        }\r\n    }\r\n\r\nLast thing: dou you relly want to create table for roles? I mean if users can create other roles then okay but if the roles are fix would be better just add role field to the user where the field type is enum which contains the user roles.\r\n\r\n    public enum UserRole {\r\n        ADMIN,\r\n        USER\r\n    }\r\n\r\nUser entity with role field:\r\n\r\n    @Entity\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private UserRole role;\r\n    }","title":"Spring Boot JPA initialize data - Syntax error in SQL statement ... expected &quot;identifier&quot;","body":"<p>If you created the <code>user_role</code> table with your script then the problem is the <code>id</code> column definition where the <code>AUTO_INCREMENT</code> is missing from it. Because you want to insert fields without manually adding the id values. So the correct sql code for the table creation should be:</p>\n<pre><code>CREATE TABLE `user_role` (\n    `id` bigint(20) NOT NULL AUTO_INCREMENT,\n    `role` varchar(255) DEFAULT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; \n</code></pre>\n<p>In this case the insert sql code will work fine.</p>\n<p><strong>But you should generate a table with spring and insert data with a repository!</strong></p>\n<p>Repository for UserRole entity:</p>\n<pre><code>public interface UserRoleRepository extends CrudRepository&lt;UserRole, Long&gt; {}\n</code></pre>\n<p>After that just call the save method with the new instance of the entity in your service:</p>\n<pre><code>@AllArgsConstructor\n@Service\npublic class YourService {\n\n    private final UserRoleRepository userRoleRepository;\n\n    public void exampleMethod() {\n        final UserRole role = new UserRole();\n        role.set(&quot;ADMIN&quot;);\n        userRoleRepository.save(role);\n    }\n}\n</code></pre>\n<p>Last thing: dou you relly want to create table for roles? I mean if users can create other roles then okay but if the roles are fix would be better just add role field to the user where the field type is enum which contains the user roles.</p>\n<pre><code>public enum UserRole {\n    ADMIN,\n    USER\n}\n</code></pre>\n<p>User entity with role field:</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Enumerated(EnumType.STRING)\n    private UserRole role;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1642191848,"creation_date":1642189264,"answer_id":70715772,"question_id":70714012,"body_markdown":"Exception specifies that some problem with your SQL.\r\n  \r\nYou have to specify that `id` should be incremented:\r\n\r\n```lang:sql\r\nCREATE TABLE IF NOT EXISTS user_role\r\n(\r\n    id    INT AUTO_INCREMENT PRIMARY KEY,\r\n    role  VARCHAR(50)  null\r\n);\r\n```\r\n\r\nBecause later when the data is inserted, like:\r\n\r\n&gt;INSERT INTO user_role (role) VALUES (&#39;ADMIN&#39;);\r\n\r\nYou don&#39;t set `id` directly it should be auto-incremented by the DB engine.\r\n\r\nAlso, **JPA** API requires that your entities have to be serializable. \r\nYou have to update it like following:\r\n\r\n    public class UserRole implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n---\r\nProbably for your purpose you select the easiest way to do this.\r\n   \r\nMuch harder will be to use some migration applications like ***Flyway** or **Liquiebase*** and create some init script for this purpose. \r\n\r\nHowever, in this case, your DB interactions (like adding a new field to a class, thus updating the DB table respectively) should do it through adding a new migration script. \r\n\r\nWrite it here, because it is too long to write it like a comment under the post.","title":"Spring Boot JPA initialize data - Syntax error in SQL statement ... expected &quot;identifier&quot;","body":"<p>Exception specifies that some problem with your SQL.</p>\n<p>You have to specify that <code>id</code> should be incremented:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS user_role\n(\n    id    INT AUTO_INCREMENT PRIMARY KEY,\n    role  VARCHAR(50)  null\n);\n</code></pre>\n<p>Because later when the data is inserted, like:</p>\n<blockquote>\n<p>INSERT INTO user_role (role) VALUES ('ADMIN');</p>\n</blockquote>\n<p>You don't set <code>id</code> directly it should be auto-incremented by the DB engine.</p>\n<p>Also, <strong>JPA</strong> API requires that your entities have to be serializable.\nYou have to update it like following:</p>\n<pre><code>public class UserRole implements Serializable {\n    private static final long serialVersionUID = 1L;\n</code></pre>\n<hr />\n<p>Probably for your purpose you select the easiest way to do this.</p>\n<p>Much harder will be to use some migration applications like <em><strong>Flyway</strong> or <strong>Liquiebase</strong></em> and create some init script for this purpose.</p>\n<p>However, in this case, your DB interactions (like adding a new field to a class, thus updating the DB table respectively) should do it through adding a new migration script.</p>\n<p>Write it here, because it is too long to write it like a comment under the post.</p>\n"}],"owner":{"account_id":14894081,"reputation":313,"user_id":10754932,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70715772,"answer_count":2,"score":1,"last_activity_date":1642191848,"creation_date":1642179306,"question_id":70714012,"body_markdown":"Try to implement data into my Spring Boot application at the start up.\r\nAs I researched it should be working like this:\r\n\r\n**user_role class:**\r\n\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class UserRole {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        private String role;\r\n    }\r\n\r\n**schema.sql**\r\n\r\n    CREATE TABLE `user_role` (\r\n        `id` bigint(20) NOT NULL,\r\n        `role` varchar(255) DEFAULT NULL,\r\n        PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; \r\n\r\n**data.sql**\r\n\r\n    INSERT INTO user_role (role) VALUES (&#39;ADMIN&#39;);\r\n    INSERT INTO user_role (role) VALUES (&#39;USER&#39;);\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.sql.init.mode=always\r\n\r\n\r\nBut if I try this I only got the following error when I am building the application:\r\n\r\n&gt;Syntax error in SQL statement &quot;CREATE TABLE `USER_ROLE` ( `ID` BIGINT([*]20) NOT      NULL, `ROLE` VARCHAR(255) DEFAULT NULL, PRIMARY KEY (`ID`) ) ENGINE=INNODB DEFAULT CHARSET=UTF8MB4&quot;; \r\n     expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, DEFAULT, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ., )&quot;; \r\n     SQL statement: CREATE TABLE `user_role` ( `id` bigint(20) NOT NULL, `role` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 [42001-202]\r\n\r\n\r\n***Does someone know what is wrong?*** \r\n","title":"Spring Boot JPA initialize data - Syntax error in SQL statement ... expected &quot;identifier&quot;","body":"<p>Try to implement data into my Spring Boot application at the start up.\nAs I researched it should be working like this:</p>\n<p><strong>user_role class:</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserRole {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String role;\n}\n</code></pre>\n<p><strong>schema.sql</strong></p>\n<pre><code>CREATE TABLE `user_role` (\n    `id` bigint(20) NOT NULL,\n    `role` varchar(255) DEFAULT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; \n</code></pre>\n<p><strong>data.sql</strong></p>\n<pre><code>INSERT INTO user_role (role) VALUES ('ADMIN');\nINSERT INTO user_role (role) VALUES ('USER');\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\n</code></pre>\n<p>But if I try this I only got the following error when I am building the application:</p>\n<blockquote>\n<p>Syntax error in SQL statement &quot;CREATE TABLE <code>USER_ROLE</code> ( <code>ID</code> BIGINT([*]20) NOT      NULL, <code>ROLE</code> VARCHAR(255) DEFAULT NULL, PRIMARY KEY (<code>ID</code>) ) ENGINE=INNODB DEFAULT CHARSET=UTF8MB4&quot;;\nexpected &quot;ARRAY, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, DEFAULT, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ., )&quot;;\nSQL statement: CREATE TABLE <code>user_role</code> ( <code>id</code> bigint(20) NOT NULL, <code>role</code> varchar(255) DEFAULT NULL, PRIMARY KEY (<code>id</code>) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 [42001-202]</p>\n</blockquote>\n<p><em><strong>Does someone know what is wrong?</strong></em></p>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1642145023,"post_id":70707227,"comment_id":124997889,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- Are you using by any chances the smallrye connector for ActiveMQ?","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- Are you using by any chances the smallrye connector for ActiveMQ?"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642148335,"creation_date":1642148335,"answer_id":70707778,"question_id":70707227,"body_markdown":"Since you are using JMS, the way to go is the message properties. You define them with the `setXxxProperty` family of methods. Quoting from the [Message Javadocs](https://javaee.github.io/javaee-spec/javadocs/javax/jms/Message.html):\r\n\r\n&gt; #### Message Properties\r\n&gt;\r\n&gt; A Message object contains a built-in facility for supporting application-defined property values. In effect, this provides a mechanism for adding application-specific header fields to a message.\r\n\r\nSo, go ahead, create your message, e.g.: `TextMessage textMessage = session.createTextMessage(payload);` and then set headers as:\r\n\r\n```java\r\ntextMessage.setStringProperty(&quot;name&quot;, &quot;value&quot;);\r\ntextMessage.setBooleanProperty(&quot;i_am_a_header&quot;, true);\r\n// etc\r\n```","title":"How to send headers to a JMS message","body":"<p>Since you are using JMS, the way to go is the message properties. You define them with the <code>setXxxProperty</code> family of methods. Quoting from the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/jms/Message.html\" rel=\"nofollow noreferrer\">Message Javadocs</a>:</p>\n<blockquote>\n<h4>Message Properties</h4>\n<p>A Message object contains a built-in facility for supporting application-defined property values. In effect, this provides a mechanism for adding application-specific header fields to a message.</p>\n</blockquote>\n<p>So, go ahead, create your message, e.g.: <code>TextMessage textMessage = session.createTextMessage(payload);</code> and then set headers as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>textMessage.setStringProperty(&quot;name&quot;, &quot;value&quot;);\ntextMessage.setBooleanProperty(&quot;i_am_a_header&quot;, true);\n// etc\n</code></pre>\n"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3965,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70707778,"answer_count":1,"score":1,"last_activity_date":1642191829,"creation_date":1642144943,"question_id":70707227,"body_markdown":"I am trying to add headers to a JMS message. The headers being `eventType`, `messageId`, `correlationId` and `messageStamp`. This is my queue sender method:\r\n```java\r\npublic void messageSentInQueue(String queueName, Message payload)\r\n            throws JMSException {\r\n\r\n    if (!MessageQueueConfigs.userName.isEmpty() || !MessageQueueConfigs.password.isEmpty() || !MessageQueueConfigs.brokerUrl.isEmpty()) {\r\n        try {\r\n            connection = ActiveMQConnection.makeConnection(MessageQueueConfigs.userName, MessageQueueConfigs.password, MessageQueueConfigs.brokerUrl);\r\n            connection.start();\r\n            // create a Session\r\n            session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            System.out.print(&quot;what is session&quot; + session);\r\n\r\n            // create the Queue to which messages will be sent . If the Queue is not there it will be auto created\r\n            Queue queue = session.createQueue(queueName);\r\n            // create a MessageProducer for sending messages\r\n            messageProducer = session.createProducer(queue);\r\n            TextMessage textMessage = session.createTextMessage(payload);\r\n            System.out.println(&quot;message to sent&quot; + payload);\r\n            messageProducer.send(payload);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            connection.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I send headers along with the payload?","title":"How to send headers to a JMS message","body":"<p>I am trying to add headers to a JMS message. The headers being <code>eventType</code>, <code>messageId</code>, <code>correlationId</code> and <code>messageStamp</code>. This is my queue sender method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void messageSentInQueue(String queueName, Message payload)\n            throws JMSException {\n\n    if (!MessageQueueConfigs.userName.isEmpty() || !MessageQueueConfigs.password.isEmpty() || !MessageQueueConfigs.brokerUrl.isEmpty()) {\n        try {\n            connection = ActiveMQConnection.makeConnection(MessageQueueConfigs.userName, MessageQueueConfigs.password, MessageQueueConfigs.brokerUrl);\n            connection.start();\n            // create a Session\n            session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            System.out.print(&quot;what is session&quot; + session);\n\n            // create the Queue to which messages will be sent . If the Queue is not there it will be auto created\n            Queue queue = session.createQueue(queueName);\n            // create a MessageProducer for sending messages\n            messageProducer = session.createProducer(queue);\n            TextMessage textMessage = session.createTextMessage(payload);\n            System.out.println(&quot;message to sent&quot; + payload);\n            messageProducer.send(payload);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            connection.close();\n        }\n    }\n}\n</code></pre>\n<p>How can I send headers along with the payload?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642224925,"post_id":70712201,"comment_id":125019674,"body_markdown":"have you tried using `map` instead of `flatMap` after your get sequence, as `map` is synchronous, while `flatMap` is async.","body":"have you tried using <code>map</code> instead of <code>flatMap</code> after your get sequence, as <code>map</code> is synchronous, while <code>flatMap</code> is async."},{"owner":{"account_id":8477153,"reputation":1,"user_id":6358041,"display_name":"Dhilli Nellepalli"},"score":0,"creation_date":1642385495,"post_id":70712201,"comment_id":125049289,"body_markdown":"still the same...","body":"still the same..."}],"owner":{"account_id":8477153,"reputation":1,"user_id":6358041,"display_name":"Dhilli Nellepalli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642191106,"creation_date":1642170838,"question_id":70712201,"body_markdown":"I am using Spring webflux and default project reactor. Each http request will poll the ConcurrentLinkedQueue and get a unique number, if the queue becomes empty all the request should wait for the queue to be populated (I am looking at smart way to refill the queue as part of the reactive chain of the first request which found queue is empty and make all the other requests wait for the queue to be replenished). I am find it hard to implement it in spring webflux and project reactor. By way, during the app startup I have event lister to populate the queue on app load. This problem will be prominent once the queue is empty. **Any help here will be much appreciated**. Here is the minified version of the code...\r\n\r\n\r\n```\r\npackage com.learning;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ConcurrentLinkedQueue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.LongStream;\r\n\r\npublic class UniqueNumberGenerator {\r\n\r\n    Queue&lt;Long&gt; uniqueNumberCache = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    static private Long sequence = 0l;\r\n\r\n    public static void main(String arg[]) throws InterruptedException {\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(9);\r\n\r\n        UniqueNumberGenerator uniqueNumberGenerator = new UniqueNumberGenerator();\r\n\r\n        for (int i = 0; i &lt; 15; i++) {\r\n            executorService.submit(() -&gt; {\r\n                uniqueNumberGenerator.getUniqueNumber()\r\n                        .doOnNext(number -&gt; System.out.println(&quot;Consumed number : &quot; + number))\r\n                        .subscribe();\r\n            });\r\n        }\r\n\r\n        Thread.sleep(5000);\r\n    }\r\n\r\n\r\n    public Mono&lt;Long&gt; getUniqueNumber() {\r\n\r\n        Long orderId = uniqueNumberCache.poll();\r\n\r\n        if(orderId != null) {\r\n            return Mono.just(orderId);\r\n        } else {\r\n            return generateUniqueNumbers();\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * This is where the problem lies, When the queue is empty in the above method,\r\n     * All thw thread are concurrently trying to get the db sequence and generating the\r\n     * unique numbers and populating the queue,\r\n     * where I want to only one thread to populate the queue and make all other to wait for it\r\n     *\r\n     * @return\r\n     */\r\n\r\n    public Mono&lt;Long&gt; generateUniqueNumbers() {\r\n\r\n        Mono&lt;Long&gt; sequenceMono = getSequence()\r\n                .flatMap(nextVal -&gt; {\r\n                    var list = LongStream.rangeClosed(1, 9)\r\n                            .boxed()\r\n                            .map(value -&gt; Long.valueOf(nextVal + &quot;&quot; + value))\r\n                            .collect(Collectors.toList());\r\n                    System.out.println(&quot;Generated number &quot; + list);\r\n                    var nextOrderId = list.remove(0);\r\n                    uniqueNumberCache.addAll(list);\r\n                    return Mono.just(nextOrderId);\r\n                });\r\n\r\n        return sequenceMono;\r\n    }\r\n\r\n    /**\r\n     * This method is actually backed by db sequence\r\n     *\r\n     * @return\r\n     */\r\n    public Mono&lt;Long&gt; getSequence() {\r\n        return Mono.create(longMonoSink -&gt; {\r\n            synchronized (sequence) {\r\n                sequence = sequence + 1;\r\n                //System.out.println(&quot;sequence : &quot; + sequence);\r\n                longMonoSink.success(sequence);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nOutput\r\n\r\n```\r\nGenerated number [11, 12, 13, 14, 15, 16, 17, 18, 19]\r\nGenerated number [31, 32, 33, 34, 35, 36, 37, 38, 39]\r\nGenerated number [41, 42, 43, 44, 45, 46, 47, 48, 49]\r\nGenerated number [51, 52, 53, 54, 55, 56, 57, 58, 59]\r\nGenerated number [21, 22, 23, 24, 25, 26, 27, 28, 29]\r\nConsumed number : 31\r\nConsumed number : 11\r\nConsumed number : 21\r\nConsumed number : 41\r\nConsumed number : 51\r\nGenerated number [61, 62, 63, 64, 65, 66, 67, 68, 69]\r\nConsumed number : 61\r\nGenerated number [71, 72, 73, 74, 75, 76, 77, 78, 79]\r\nConsumed number : 71\r\nGenerated number [81, 82, 83, 84, 85, 86, 87, 88, 89]\r\nConsumed number : 81\r\nGenerated number [91, 92, 93, 94, 95, 96, 97, 98, 99]\r\nConsumed number : 91\r\nConsumed number : 17\r\nConsumed number : 12\r\nConsumed number : 13\r\nConsumed number : 16\r\nConsumed number : 14\r\nConsumed number : 15\r\n\r\n```\r\n\r\nBy looking at above example it is very clear that all the threads are populating the queue. There are around 90 (each thread generated 10 numbers ) unique numbers generated for 15 requests\r\n","title":"Spring Webflux, Make all request wait for queue to be replenished by first request","body":"<p>I am using Spring webflux and default project reactor. Each http request will poll the ConcurrentLinkedQueue and get a unique number, if the queue becomes empty all the request should wait for the queue to be populated (I am looking at smart way to refill the queue as part of the reactive chain of the first request which found queue is empty and make all the other requests wait for the queue to be replenished). I am find it hard to implement it in spring webflux and project reactor. By way, during the app startup I have event lister to populate the queue on app load. This problem will be prominent once the queue is empty. <strong>Any help here will be much appreciated</strong>. Here is the minified version of the code...</p>\n<pre><code>package com.learning;\n\nimport reactor.core.publisher.Mono;\n\nimport java.util.Queue;\nimport java.util.concurrent.ConcurrentLinkedQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.stream.Collectors;\nimport java.util.stream.LongStream;\n\npublic class UniqueNumberGenerator {\n\n    Queue&lt;Long&gt; uniqueNumberCache = new ConcurrentLinkedQueue&lt;&gt;();\n\n    static private Long sequence = 0l;\n\n    public static void main(String arg[]) throws InterruptedException {\n\n        ExecutorService executorService = Executors.newFixedThreadPool(9);\n\n        UniqueNumberGenerator uniqueNumberGenerator = new UniqueNumberGenerator();\n\n        for (int i = 0; i &lt; 15; i++) {\n            executorService.submit(() -&gt; {\n                uniqueNumberGenerator.getUniqueNumber()\n                        .doOnNext(number -&gt; System.out.println(&quot;Consumed number : &quot; + number))\n                        .subscribe();\n            });\n        }\n\n        Thread.sleep(5000);\n    }\n\n\n    public Mono&lt;Long&gt; getUniqueNumber() {\n\n        Long orderId = uniqueNumberCache.poll();\n\n        if(orderId != null) {\n            return Mono.just(orderId);\n        } else {\n            return generateUniqueNumbers();\n        }\n\n    }\n\n    /**\n     * This is where the problem lies, When the queue is empty in the above method,\n     * All thw thread are concurrently trying to get the db sequence and generating the\n     * unique numbers and populating the queue,\n     * where I want to only one thread to populate the queue and make all other to wait for it\n     *\n     * @return\n     */\n\n    public Mono&lt;Long&gt; generateUniqueNumbers() {\n\n        Mono&lt;Long&gt; sequenceMono = getSequence()\n                .flatMap(nextVal -&gt; {\n                    var list = LongStream.rangeClosed(1, 9)\n                            .boxed()\n                            .map(value -&gt; Long.valueOf(nextVal + &quot;&quot; + value))\n                            .collect(Collectors.toList());\n                    System.out.println(&quot;Generated number &quot; + list);\n                    var nextOrderId = list.remove(0);\n                    uniqueNumberCache.addAll(list);\n                    return Mono.just(nextOrderId);\n                });\n\n        return sequenceMono;\n    }\n\n    /**\n     * This method is actually backed by db sequence\n     *\n     * @return\n     */\n    public Mono&lt;Long&gt; getSequence() {\n        return Mono.create(longMonoSink -&gt; {\n            synchronized (sequence) {\n                sequence = sequence + 1;\n                //System.out.println(&quot;sequence : &quot; + sequence);\n                longMonoSink.success(sequence);\n            }\n        });\n    }\n\n\n}\n\n</code></pre>\n<p>Output</p>\n<pre><code>Generated number [11, 12, 13, 14, 15, 16, 17, 18, 19]\nGenerated number [31, 32, 33, 34, 35, 36, 37, 38, 39]\nGenerated number [41, 42, 43, 44, 45, 46, 47, 48, 49]\nGenerated number [51, 52, 53, 54, 55, 56, 57, 58, 59]\nGenerated number [21, 22, 23, 24, 25, 26, 27, 28, 29]\nConsumed number : 31\nConsumed number : 11\nConsumed number : 21\nConsumed number : 41\nConsumed number : 51\nGenerated number [61, 62, 63, 64, 65, 66, 67, 68, 69]\nConsumed number : 61\nGenerated number [71, 72, 73, 74, 75, 76, 77, 78, 79]\nConsumed number : 71\nGenerated number [81, 82, 83, 84, 85, 86, 87, 88, 89]\nConsumed number : 81\nGenerated number [91, 92, 93, 94, 95, 96, 97, 98, 99]\nConsumed number : 91\nConsumed number : 17\nConsumed number : 12\nConsumed number : 13\nConsumed number : 16\nConsumed number : 14\nConsumed number : 15\n\n</code></pre>\n<p>By looking at above example it is very clear that all the threads are populating the queue. There are around 90 (each thread generated 10 numbers ) unique numbers generated for 15 requests</p>\n"},{"tags":["java","spring","maven","dependencies","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":4,"up_vote_count":34,"is_accepted":true,"score":30,"last_activity_date":1642191087,"creation_date":1394640489,"answer_id":22357323,"question_id":22357179,"body_markdown":"It&#39;s a dependency tree. The things below a listing are dependencies of their parent.\r\n\r\n    [INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\r\n\r\nSpring-core depends on commons-logging.\r\n\r\n    [INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\r\n    [INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\r\n\r\nJersey-server depends on jersey-common. Jersey-common depends on rs-api and annotation-api, etc.","title":"How to understand Maven dependency tree","body":"<p>It's a dependency tree. The things below a listing are dependencies of their parent.</p>\n<pre><code>[INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\n</code></pre>\n<p>Spring-core depends on commons-logging.</p>\n<pre><code>[INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\n[INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\n</code></pre>\n<p>Jersey-server depends on jersey-common. Jersey-common depends on rs-api and annotation-api, etc.</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1394641009,"creation_date":1394641009,"answer_id":22357585,"question_id":22357179,"body_markdown":"The answer you linked to says that you should look for a version conflict between `spring-core` and `spring-asm`. \r\n\r\nIf you search for these libraries in the tree, you&#39;ll find that most of Spring components including `spring-core` are `4.0.2.RELEASE`, whereas `spring-asm` is `3.0.0.RC3`. Also you can see that offending `spring-asm` is a transitive dependency of the following top-level dependency:\r\n\r\n    [INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\r\n\r\nSo, now you need to find it in `pom.xml` and correct its version.","title":"How to understand Maven dependency tree","body":"<p>The answer you linked to says that you should look for a version conflict between <code>spring-core</code> and <code>spring-asm</code>. </p>\n\n<p>If you search for these libraries in the tree, you'll find that most of Spring components including <code>spring-core</code> are <code>4.0.2.RELEASE</code>, whereas <code>spring-asm</code> is <code>3.0.0.RC3</code>. Also you can see that offending <code>spring-asm</code> is a transitive dependency of the following top-level dependency:</p>\n\n<pre><code>[INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\n</code></pre>\n\n<p>So, now you need to find it in <code>pom.xml</code> and correct its version.</p>\n"}],"owner":{"account_id":177922,"reputation":1166,"user_id":409573,"accept_rate":66,"display_name":"R. Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29389,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":22357323,"answer_count":2,"score":41,"last_activity_date":1642191087,"creation_date":1394640160,"question_id":22357179,"body_markdown":"Please excuse if this a dump question but I have searched a lot and couldn&#39;t understand how to actually read Maven Dependency tee.\r\nI know this command is used to figure out the dependencies but how?\r\nThis is the result of `mvn dependency:tree -Dverbose` in my project.\r\n\r\n    [INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\r\n    [INFO] +- org.springframework:spring-web:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- org.springframework:spring-beans:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-webmvc:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- org.springframework:spring-expression:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-web:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-context:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-expression:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\r\n    [INFO] |  +- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  +- org.springframework:spring-asm:jar:3.0.0.RC3:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- org.springframework:spring-tx:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-orm:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- org.springframework:spring-jdbc:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile\r\n    [INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- org.springframework.security:spring-security-web:jar:3.2.2.RELEASE:compile\r\n    [INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-web:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- org.springframework.security:spring-security-config:jar:3.2.2.RELEASE:compile\r\n    [INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\r\n    [INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\r\n    [INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\r\n    [INFO] |  |  +- org.glassfish.jersey.bundles.repackaged:jersey-guava:jar:2.6:compile\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.1:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.6:compile\r\n    [INFO] |  |  +- (org.glassfish.jersey.core:jersey-common:jar:2.6:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  +- javax.ws.rs:javax.ws.rs-api:jar:2.0:compile\r\n    [INFO] |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\r\n    [INFO] |  +- org.glassfish.hk2:hk2-api:jar:2.2.0:compile\r\n    [INFO] |  |  +- org.glassfish.hk2:hk2-utils:jar:2.2.0:compile\r\n    [INFO] |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile\r\n    [INFO] |  +- org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile\r\n    [INFO] |  +- org.glassfish.hk2:hk2-locator:jar:2.2.0:compile\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-utils:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- (org.javassist:javassist:jar:3.18.1-GA:compile - omitted for conflict with 3.15.0-GA)\r\n    [INFO] |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] +- com.sun.jersey.contribs:jersey-spring:jar:1.18.1:compile\r\n    [INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.18.1:compile\r\n    [INFO] |  |  \\- com.sun.jersey:jersey-server:jar:1.18.1:compile\r\n    [INFO] |  |     \\- com.sun.jersey:jersey-core:jar:1.18.1:compile\r\n    [INFO] |  \\- (org.springframework:spring-aop:jar:3.0.0.RC3:compile - omitted for duplicate)\r\n    [INFO] +- commons-dbcp:commons-dbcp:jar:1.3:compile\r\n    [INFO] |  \\- commons-pool:commons-pool:jar:1.5.4:compile\r\n    [INFO] +- org.hibernate:hibernate-core:jar:4.0.1.Final:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\r\n    [INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar:1.0.0.Final:compile\r\n    [INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\r\n    [INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile\r\n    [INFO] |  +- org.javassist:javassist:jar:3.15.0-GA:compile\r\n    [INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:4.0.1.Final:compile\r\n    [INFO] |     \\- (org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile - omitted for duplicate)\r\n    [INFO] +- cglib:cglib:jar:2.2.2:compile\r\n    [INFO] |  \\- asm:asm:jar:3.3.1:compile\r\n    [INFO] +- mysql:mysql-connector-java:jar:5.1.22:compile\r\n    [INFO] +- org.hibernate:hibernate-validator:jar:4.2.0.Final:compile\r\n    [INFO] |  +- (javax.validation:validation-api:jar:1.0.0.GA:compile - omitted for conflict with 1.1.0.Final)\r\n    [INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.1:compile - omitted for conflict with 1.7.5)\r\n    [INFO] +- com.sun.xml.bind:jaxb-xjc:jar:2.2.6:compile\r\n    [INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.2.6:compile\r\n    [INFO] +- javax.xml.bind:jaxb-api:jar:2.2.6:compile\r\n    [INFO] +- javax.servlet:jstl:jar:1.2:compile\r\n    [INFO] +- org.apache.tomcat:jsp-api:jar:6.0.32:provided\r\n    [INFO] |  +- org.apache.tomcat:el-api:jar:6.0.32:provided\r\n    [INFO] |  \\- org.apache.tomcat:servlet-api:jar:6.0.32:provided\r\n    [INFO] +- log4j:log4j:jar:1.2.15:compile\r\n    [INFO] |  \\- javax.mail:mail:jar:1.4:compile\r\n    [INFO] |     \\- javax.activation:activation:jar:1.1:compile\r\n    [INFO] +- org.slf4j:slf4j-api:jar:1.7.5:compile\r\n    [INFO] +- org.slf4j:slf4j-simple:jar:1.6.4:compile\r\n    [INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.4:compile - omitted for conflict with 1.7.5)\r\n    [INFO] \\- org.slf4j:slf4j-log4j12:jar:1.7.5:compile\r\n    [INFO]    +- (org.slf4j:slf4j-api:jar:1.7.5:compile - omitted for duplicate)\r\n    [INFO]    \\- (log4j:log4j:jar:1.2.17:compile - omitted for conflict with 1.2.15)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 6.667 s\r\n    [INFO] Finished at: 2014-03-12T14:37:46+01:00\r\n    [INFO] Final Memory: 9M/16M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nAs marked as solution in this question: [https://stackoverflow.com/questions/16209623/incompatibleclasschangeerror-class-classmetadatareadingvisitor-has-interface-cl][1]\r\n  [1]: https://stackoverflow.com/questions/16209623/incompatibleclasschangeerror-class-classmetadatareadingvisitor-has-interface-cl\r\n\r\nhow can I check for the dependent jars and conflicts?","title":"How to understand Maven dependency tree","body":"<p>Please excuse if this a dump question but I have searched a lot and couldn't understand how to actually read Maven Dependency tee.\nI know this command is used to figure out the dependencies but how?\nThis is the result of <code>mvn dependency:tree -Dverbose</code> in my project.</p>\n\n<pre><code>[INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] +- org.springframework:spring-web:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- org.springframework:spring-beans:jar:4.0.2.RELEASE:compile\n[INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-webmvc:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- org.springframework:spring-expression:jar:4.0.2.RELEASE:compile\n[INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-web:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-context:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-expression:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\n[INFO] |  +- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  +- org.springframework:spring-asm:jar:3.0.0.RC3:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-core:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- org.springframework:spring-tx:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-orm:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- org.springframework:spring-jdbc:jar:4.0.2.RELEASE:compile\n[INFO] |  |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile\n[INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\n[INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- org.springframework.security:spring-security-web:jar:3.2.2.RELEASE:compile\n[INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-web:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- org.springframework.security:spring-security-config:jar:3.2.2.RELEASE:compile\n[INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\n[INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\n[INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\n[INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\n[INFO] |  |  +- org.glassfish.jersey.bundles.repackaged:jersey-guava:jar:2.6:compile\n[INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.1:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.6:compile\n[INFO] |  |  +- (org.glassfish.jersey.core:jersey-common:jar:2.6:compile - omitted for duplicate)\n[INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  +- javax.ws.rs:javax.ws.rs-api:jar:2.0:compile\n[INFO] |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\n[INFO] |  +- org.glassfish.hk2:hk2-api:jar:2.2.0:compile\n[INFO] |  |  +- org.glassfish.hk2:hk2-utils:jar:2.2.0:compile\n[INFO] |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile\n[INFO] |  +- org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile\n[INFO] |  +- org.glassfish.hk2:hk2-locator:jar:2.2.0:compile\n[INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-utils:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.javassist:javassist:jar:3.18.1-GA:compile - omitted for conflict with 3.15.0-GA)\n[INFO] |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] +- com.sun.jersey.contribs:jersey-spring:jar:1.18.1:compile\n[INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.18.1:compile\n[INFO] |  |  \\- com.sun.jersey:jersey-server:jar:1.18.1:compile\n[INFO] |  |     \\- com.sun.jersey:jersey-core:jar:1.18.1:compile\n[INFO] |  \\- (org.springframework:spring-aop:jar:3.0.0.RC3:compile - omitted for duplicate)\n[INFO] +- commons-dbcp:commons-dbcp:jar:1.3:compile\n[INFO] |  \\- commons-pool:commons-pool:jar:1.5.4:compile\n[INFO] +- org.hibernate:hibernate-core:jar:4.0.1.Final:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar:1.0.0.Final:compile\n[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\n[INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile\n[INFO] |  +- org.javassist:javassist:jar:3.15.0-GA:compile\n[INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:4.0.1.Final:compile\n[INFO] |     \\- (org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile - omitted for duplicate)\n[INFO] +- cglib:cglib:jar:2.2.2:compile\n[INFO] |  \\- asm:asm:jar:3.3.1:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.22:compile\n[INFO] +- org.hibernate:hibernate-validator:jar:4.2.0.Final:compile\n[INFO] |  +- (javax.validation:validation-api:jar:1.0.0.GA:compile - omitted for conflict with 1.1.0.Final)\n[INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.1:compile - omitted for conflict with 1.7.5)\n[INFO] +- com.sun.xml.bind:jaxb-xjc:jar:2.2.6:compile\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.2.6:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.2.6:compile\n[INFO] +- javax.servlet:jstl:jar:1.2:compile\n[INFO] +- org.apache.tomcat:jsp-api:jar:6.0.32:provided\n[INFO] |  +- org.apache.tomcat:el-api:jar:6.0.32:provided\n[INFO] |  \\- org.apache.tomcat:servlet-api:jar:6.0.32:provided\n[INFO] +- log4j:log4j:jar:1.2.15:compile\n[INFO] |  \\- javax.mail:mail:jar:1.4:compile\n[INFO] |     \\- javax.activation:activation:jar:1.1:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.5:compile\n[INFO] +- org.slf4j:slf4j-simple:jar:1.6.4:compile\n[INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.4:compile - omitted for conflict with 1.7.5)\n[INFO] \\- org.slf4j:slf4j-log4j12:jar:1.7.5:compile\n[INFO]    +- (org.slf4j:slf4j-api:jar:1.7.5:compile - omitted for duplicate)\n[INFO]    \\- (log4j:log4j:jar:1.2.17:compile - omitted for conflict with 1.2.15)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 6.667 s\n[INFO] Finished at: 2014-03-12T14:37:46+01:00\n[INFO] Final Memory: 9M/16M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>As marked as solution in this question: <a href=\"https://stackoverflow.com/questions/16209623/incompatibleclasschangeerror-class-classmetadatareadingvisitor-has-interface-cl\">IncompatibleClassChangeError: class ClassMetadataReadingVisitor has interface ClassVisitor as super class</a>\nhow can I check for the dependent jars and conflicts?</p>\n"},{"tags":["java","nullpointerexception","method-call"],"comments":[{"owner":{"account_id":11581290,"reputation":21,"user_id":8485115,"display_name":"Ajaykumar"},"score":0,"creation_date":1561862825,"post_id":1917384,"comment_id":100197438,"body_markdown":"Try making calling method **static** and check!","body":"Try making calling method <b>static</b> and check!"}],"answers":[{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260994990,"creation_date":1260994990,"answer_id":1917408,"question_id":1917384,"body_markdown":"It would be helpful to know what line number 117 in the logic class was. My guess would be either `mine`, `mine[x]`, `flagged` or `flagged[x]` is null.\r\n\r\nThat said, your technique of &quot;loop through the entire table to see which one was clicked&quot; doesn&#39;t strike me as particularly inspired.\r\n\r\nEDIT: Actually, the problem is that the `isOpen` array is null, because you&#39;ve only just instantiated the class.\r\n\r\nEDIT2: Alright, so it&#39;s one of the ones I listed initially. My guess would be *all of them*, because you&#39;ve only just instantiated the class, and it&#39;s using the default do-nothing constructor.","title":"NullPointer Exception when calling method from a difference class","body":"<p>It would be helpful to know what line number 117 in the logic class was. My guess would be either <code>mine</code>, <code>mine[x]</code>, <code>flagged</code> or <code>flagged[x]</code> is null.</p>\n\n<p>That said, your technique of \"loop through the entire table to see which one was clicked\" doesn't strike me as particularly inspired.</p>\n\n<p>EDIT: Actually, the problem is that the <code>isOpen</code> array is null, because you've only just instantiated the class.</p>\n\n<p>EDIT2: Alright, so it's one of the ones I listed initially. My guess would be <em>all of them</em>, because you've only just instantiated the class, and it's using the default do-nothing constructor.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1260994997,"creation_date":1260994997,"answer_id":1917410,"question_id":1917384,"body_markdown":"How about that:\r\n\r\n1. look at the first line of your exception stacktrace, and see which class and which line the problem occurs\r\n2. go to that line, and see which objects could possibly be &quot;null&quot; at this location\r\n3. find out why the object that is null doesn&#39;t have a value assgined\r\n4. if there are more than one objects that could be null, you could `System.out.println()` them, to see whchi one is.","title":"NullPointer Exception when calling method from a difference class","body":"<p>How about that:</p>\n\n<ol>\n<li>look at the first line of your exception stacktrace, and see which class and which line the problem occurs</li>\n<li>go to that line, and see which objects could possibly be \"null\" at this location</li>\n<li>find out why the object that is null doesn't have a value assgined</li>\n<li>if there are more than one objects that could be null, you could <code>System.out.println()</code> them, to see whchi one is.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":58573,"reputation":17921,"user_id":175308,"accept_rate":71,"display_name":"tster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260995290,"creation_date":1260995290,"answer_id":1917443,"question_id":1917384,"body_markdown":"The arrays (flag, isZero, isClicked) are not initialized and are null when you try and use them.  You need the GUI class to contain an instance of the logic class and always use that same instance.  Otherwise, each GUI action will take place on a different game!","title":"NullPointer Exception when calling method from a difference class","body":"<p>The arrays (flag, isZero, isClicked) are not initialized and are null when you try and use them.  You need the GUI class to contain an instance of the logic class and always use that same instance.  Otherwise, each GUI action will take place on a different game!</p>\n"},{"tags":[],"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260997706,"creation_date":1260995340,"answer_id":1917456,"question_id":1917384,"body_markdown":"Your stacktrace tells you this:\r\n\r\n&gt;  Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\r\n\r\nSo you can go to line 117 and determine which references could possibly be null.  (It seems like you added a line at 117 after the stacktrace was taken, and then commented out the new line, so I&#39;m going to go out on a limb here and say the stacktrace was actually referring to what is now called line 118: `isClicked[x][y] = true;`)  The only thing that could be null, in this case, is `isClicked[][]`.\r\n\r\nDigging a little deeper, we can see that you do initialize isClicked in startNewGame(), but obviously that instance is getting lost.  This is happening for two reasons: first, the logicClass from your constructor is going out-of-scope because it&#39;s not a member of the class.  Second (and this was probably a failed attempt to fix the first problem), in `mouseClicked`, you create a new `MinesweeperLogic` (along with a newly-created null isClicked) instead of using the one you previously created in your `MineSweeper()` constructor.\r\n\r\nThere are several other refactorings you should make to clean up your code, but making logicClass a member and removing the duplicate instantiation should fix the immediate problem.\r\n\r\nIt might be helpful for you to use the debugger, and step through the problem yourself to understand exactly what is happening.","title":"NullPointer Exception when calling method from a difference class","body":"<p>Your stacktrace tells you this:</p>\n\n<blockquote>\n  <p>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n   at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)</p>\n</blockquote>\n\n<p>So you can go to line 117 and determine which references could possibly be null.  (It seems like you added a line at 117 after the stacktrace was taken, and then commented out the new line, so I'm going to go out on a limb here and say the stacktrace was actually referring to what is now called line 118: <code>isClicked[x][y] = true;</code>)  The only thing that could be null, in this case, is <code>isClicked[][]</code>.</p>\n\n<p>Digging a little deeper, we can see that you do initialize isClicked in startNewGame(), but obviously that instance is getting lost.  This is happening for two reasons: first, the logicClass from your constructor is going out-of-scope because it's not a member of the class.  Second (and this was probably a failed attempt to fix the first problem), in <code>mouseClicked</code>, you create a new <code>MinesweeperLogic</code> (along with a newly-created null isClicked) instead of using the one you previously created in your <code>MineSweeper()</code> constructor.</p>\n\n<p>There are several other refactorings you should make to clean up your code, but making logicClass a member and removing the duplicate instantiation should fix the immediate problem.</p>\n\n<p>It might be helpful for you to use the debugger, and step through the problem yourself to understand exactly what is happening.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260995378,"creation_date":1260995378,"answer_id":1917463,"question_id":1917384,"body_markdown":"You say that the error occurs in the mouseClicked() method, however the stacktrace shows differently:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n     at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\r\n     at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\r\n\r\nThis is saying that the NPE occured on line 117 of MineSweeperLogic. Use either your debugger on that line, or insert print statements to work out what is null, from there, you can work out why.","title":"NullPointer Exception when calling method from a difference class","body":"<p>You say that the error occurs in the mouseClicked() method, however the stacktrace shows differently:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\n at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\n</code></pre>\n\n<p>This is saying that the NPE occured on line 117 of MineSweeperLogic. Use either your debugger on that line, or insert print statements to work out what is null, from there, you can work out why.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642191019,"creation_date":1642191019,"answer_id":70716037,"question_id":1917384,"body_markdown":"As a note, you can get this exception on a line like this\r\n\r\n` myMethod(myNumber);` due to auto-unboxing is &quot;myNumber&quot; is a type Long but is currently null.  Wish the JVM reported this better.  Fix is to not pass in null, which isn&#39;t auto converted to zero...","title":"NullPointer Exception when calling method from a difference class","body":"<p>As a note, you can get this exception on a line like this</p>\n<p><code> myMethod(myNumber);</code> due to auto-unboxing is &quot;myNumber&quot; is a type Long but is currently null.  Wish the JVM reported this better.  Fix is to not pass in null, which isn't auto converted to zero...</p>\n"}],"owner":{"account_id":83106,"reputation":17,"user_id":233224,"display_name":"newBie01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1917410,"answer_count":6,"score":1,"last_activity_date":1642191019,"creation_date":1260994702,"question_id":1917384,"body_markdown":"JAVA-\r\nHi,\r\nI am writing a minesweeper program (first biggie) and am really stuck. The program itself is comprised of 2 classes (one for the logic, one for the GUI) as per the specifications that I am to follow. I have done a fair bit in both classes but am not finished either. However, I am attempting to test implementing call methods from one class to the other and that is where I get stuck. From the GUI class, I am attempting to call the method openCell(int x, int y) in the Logic Class every time the user clicks on a box. That Logic Class method will in turn check to see whether there is a mine, a 0 or a number on the square and call the appropriate method from the GUI class. The two methods involved in the error are as follows:\r\n\r\n    GUI CLASS\r\n    public void mouseClicked(MouseEvent e) {\r\n        for (int x = 0 ; x &lt; width ; x++) {\r\n           for (int y = 0 ; y &lt; height ; y++) {\r\n               if (e.getSource() == table[x][y]) {    \r\n                    if(e.getButton() == e.BUTTON1) {\r\n                       MinesweeperLogic logicClass = new MinesweeperLogic();\r\n                       logicClass.isOpen(x, y); // &lt;--------------------------- ERROR\r\n                     }}}}}\r\n\r\n    LOGIC CLASS\r\n    boolean openCell(int x, int y) {\r\n    isClicked[x][y] = true;\r\n        if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\r\n            return false;\r\n        } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\r\n            return true;\r\n        }else {\r\n                marked = true;\r\n                return marked;\r\n        }}\r\n\r\n\r\nFollowing is the error report I recieve once the user clicks on a box in the game (it does to catch it when compiling the code):\r\n\r\n   \r\n\r\n     Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n     at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\r\n     at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\r\n     at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:253)\r\n     at java.awt.Component.processMouseEvent(Component.java:6266)\r\n     at javax.swing.JComponent.processMouseEvent(JComponent.java:3255)\r\n     at java.awt.Component.processEvent(Component.java:6028)\r\n     at java.awt.Container.processEvent(Container.java:2041)\r\n     at java.awt.Component.dispatchEventImpl(Component.java:4630)\r\n     at java.awt.Container.dispatchEventImpl(Container.java:2099)\r\n     at java.awt.Component.dispatchEvent(Component.java:4460)\r\n     at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4574)\r\n     at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4247)\r\n     at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\r\n     at java.awt.Container.dispatchEventImpl(Container.java:2085)\r\n     at java.awt.Window.dispatchEventImpl(Window.java:2475)\r\n     at java.awt.Component.dispatchEvent(Component.java:4460)\r\n     at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\r\n     at  java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n     at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n     at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n     at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\n\r\n\r\nFinally, the entire (tho incomplete at this point) code for two classes so far if needed. (The methods in the logic class are required to perform specific actions as per the instructions of the project and must  have no user interaction in the logic class). I cannot figure out what exactly is causing the error. Any guidance would be greatly appreciated. (hopefully it&#39;s not something really obvious cuz I have spent the last couple of hours trying to figure this out even though ive got the flu! lol).\r\n\r\n    import java.awt.* ;\r\n    import java.awt.event.* ;\r\n    import java.awt.geom.* ;\r\n    import javax.swing.* ;\r\n    import javax.swing.event.* ;\r\n\r\n    public class MineSweeperGUI extends JFrame implements ActionListener, MouseListener {  \r\n    int width = 10;\r\n    int height = 10;\r\n    JPanel p = new JPanel();\r\n    JButton[][] table = new JButton[width][height];\r\n\r\n    public void MineSweeper() {\r\n        MinesweeperLogic logicClass = new MinesweeperLogic();\r\n        logicClass.startNewGame(width, height);\r\n        JButton[] button = new JButton[width*height];\r\n        GridLayout layout = new GridLayout (width, height) ;\r\n        p.setLayout(layout);\r\n        for(int x = 0 ; x &lt; width ; x++) {\r\n            for(int y = 0 ; y &lt; height ; y++) {\r\n                table[x][y] = new JButton();\r\n                table[x][y].setPreferredSize(new Dimension(25,25));\r\n                table[x][y].addMouseListener (this);\r\n                p.add(table [x] [y]);\r\n            }\r\n        }       \r\n        this.add(p);\r\n        this.pack();\r\n        this.setVisible(true);\r\n    }\r\n\r\n   \r\n    public void mouseClicked(MouseEvent e) {\r\n        for (int x = 0 ; x &lt; width ; x++) {\r\n           for (int y = 0 ; y &lt; height ; y++) {\r\n               if (e.getSource() == table[x][y]) {    \r\n                    if(e.getButton() == e.BUTTON1) {\r\n                       MinesweeperLogic logicClass = new MinesweeperLogic();\r\n                       logicClass.isOpen(x, y); //&lt;--------------------------------------\r\n                   }\r\n               }\r\n           }\r\n       }\r\n     }\r\n    public void gameover(int x, int y) {\r\n       table[x][y].setText(&quot;*&quot;);\r\n    }\r\n    \r\n    public static void main(String[]args) {\r\n        MineSweeperGUI guiClass = new MineSweeperGUI();\r\n        guiClass.MineSweeper();\r\n    }}    \r\n\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n    }\r\n        \r\n    public void mouseEntered(MouseEvent e) {\r\n    }\r\n\r\n    public void mousePressed(MouseEvent e) {\r\n    }\r\n   \r\n    public void mouseExited(MouseEvent e) {\r\n    }\r\n \r\n    public void mouseReleased(MouseEvent e) {\r\n    }\r\n\r\n\r\n\r\n    \r\n    public class MinesweeperLogic {\r\n    \r\n    private int w, h, maxBombs, bombsremaining;\r\n    public int width, height;\r\n    private boolean mine[][];\r\n    private boolean flag[][];\r\n    private boolean isClicked[][];\r\n    private boolean isZero[][];\r\n    private boolean marked;\r\n\r\n\r\n\r\n    public void startNewGame(int width, int height) {\r\n        w = width;\r\n        h = height;\r\n        flag = new boolean[w][h];\r\n        isZero = new boolean[w][h];\r\n        isClicked = new boolean[w][h];\r\n        mine = new boolean[w][h];\r\n        maxBombs =(int) Math.floor (width*height*0.15);\r\n        bombsremaining = maxBombs;\r\n        for(int i = 0; i &lt; maxBombs; i++) {\r\n            int x = (int) (Math.random() * (w));\r\n            int y = (int) (Math.random() * (h));\r\n            if (mine[x][y] == false) {\r\n                mine[x][y] = true;\r\n                isClicked[x][y] = false;\r\n                flag[x][y] = false;\r\n            }\r\n        } \r\n    }\r\n\r\n    \r\n    int getWidth() {\r\n        return w;\r\n    }\r\n    \r\n    \r\n    int getHeight() {\r\n        return h;\r\n    }\r\n\r\n\r\n    boolean openCell(int x, int y) { // &lt;---------------------------------------------\r\n        //MineSweeperGUI guiClass = new MineSweeperGUI();\r\n        isClicked[x][y] = true;\r\n        if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\r\n            //guiClass.gameover(x, y);\r\n            return false;\r\n        } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\r\n            return true;\r\n        } else {\r\n                marked = true;\r\n                return marked;\r\n        }}\r\n        \r\n\r\n     boolean markCell(int x, int y) {\r\n         if(flag[x][y] == true) {\r\n                flag[x][y] = false;\r\n                isClicked[x][y] = false;\r\n                bombsremaining++;\r\n                marked = false;\r\n                return marked;\r\n            } else {\r\n                flag[x][y] = true;\r\n                isClicked[x][y] = true;\r\n                bombsremaining--;\r\n                    if(mine[x][y]==true) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            \r\n     boolean isOpen(int x, int y) {\r\n         if(isClicked[x][y] == false) {\r\n             return false;\r\n            } else {\r\n                return true;\r\n            }\r\n    }\r\n        \r\n        \r\n     boolean isMarked(int x, int y) {\r\n         if(flag[x][y] == true) {\r\n             return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        \r\n      int getValue(int x, int y) {\r\n          if(mine[x][y] == true) {\r\n              return -1;\r\n            } else {\r\n                return neighborBombs(x, y);\r\n            }\r\n        }\r\n        \r\n        \r\n        private int neighborBombs(int x, int y) {  // checks surrounding 8 squares for number of bombs \r\n            int surBombs = 0;\r\n                for (int q = x - 1 ; q &lt;= x + 1 ; q++) {\r\n                    for (int w = y - 1 ; w &lt;= y + 1 ; w++) {\r\n                        while (true) {\r\n                            if (q &lt; 0 || w &lt; 0 || q &gt;= w || w &gt;= h) { \r\n                                break;\r\n                            }\r\n                            if (mine[q][w] == true) {\r\n                                surBombs++;\r\n                                break;\r\n                            }\r\n                        }   \r\n                    }\r\n                }\r\n             return surBombs;\r\n            }\r\n        }\r\n            \r\n","title":"NullPointer Exception when calling method from a difference class","body":"<p>JAVA-\nHi,\nI am writing a minesweeper program (first biggie) and am really stuck. The program itself is comprised of 2 classes (one for the logic, one for the GUI) as per the specifications that I am to follow. I have done a fair bit in both classes but am not finished either. However, I am attempting to test implementing call methods from one class to the other and that is where I get stuck. From the GUI class, I am attempting to call the method openCell(int x, int y) in the Logic Class every time the user clicks on a box. That Logic Class method will in turn check to see whether there is a mine, a 0 or a number on the square and call the appropriate method from the GUI class. The two methods involved in the error are as follows:</p>\n\n<pre><code>GUI CLASS\npublic void mouseClicked(MouseEvent e) {\n    for (int x = 0 ; x &lt; width ; x++) {\n       for (int y = 0 ; y &lt; height ; y++) {\n           if (e.getSource() == table[x][y]) {    \n                if(e.getButton() == e.BUTTON1) {\n                   MinesweeperLogic logicClass = new MinesweeperLogic();\n                   logicClass.isOpen(x, y); // &lt;--------------------------- ERROR\n                 }}}}}\n\nLOGIC CLASS\nboolean openCell(int x, int y) {\nisClicked[x][y] = true;\n    if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\n        return false;\n    } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\n        return true;\n    }else {\n            marked = true;\n            return marked;\n    }}\n</code></pre>\n\n<p>Following is the error report I recieve once the user clicks on a box in the game (it does to catch it when compiling the code):</p>\n\n<pre><code> Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\n at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\n at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:253)\n at java.awt.Component.processMouseEvent(Component.java:6266)\n at javax.swing.JComponent.processMouseEvent(JComponent.java:3255)\n at java.awt.Component.processEvent(Component.java:6028)\n at java.awt.Container.processEvent(Container.java:2041)\n at java.awt.Component.dispatchEventImpl(Component.java:4630)\n at java.awt.Container.dispatchEventImpl(Container.java:2099)\n at java.awt.Component.dispatchEvent(Component.java:4460)\n at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4574)\n at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4247)\n at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\n at java.awt.Container.dispatchEventImpl(Container.java:2085)\n at java.awt.Window.dispatchEventImpl(Window.java:2475)\n at java.awt.Component.dispatchEvent(Component.java:4460)\n at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n at  java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\n at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\n at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\n at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\n at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\n at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\n</code></pre>\n\n<p>Finally, the entire (tho incomplete at this point) code for two classes so far if needed. (The methods in the logic class are required to perform specific actions as per the instructions of the project and must  have no user interaction in the logic class). I cannot figure out what exactly is causing the error. Any guidance would be greatly appreciated. (hopefully it's not something really obvious cuz I have spent the last couple of hours trying to figure this out even though ive got the flu! lol).</p>\n\n<pre><code>import java.awt.* ;\nimport java.awt.event.* ;\nimport java.awt.geom.* ;\nimport javax.swing.* ;\nimport javax.swing.event.* ;\n\npublic class MineSweeperGUI extends JFrame implements ActionListener, MouseListener {  \nint width = 10;\nint height = 10;\nJPanel p = new JPanel();\nJButton[][] table = new JButton[width][height];\n\npublic void MineSweeper() {\n    MinesweeperLogic logicClass = new MinesweeperLogic();\n    logicClass.startNewGame(width, height);\n    JButton[] button = new JButton[width*height];\n    GridLayout layout = new GridLayout (width, height) ;\n    p.setLayout(layout);\n    for(int x = 0 ; x &lt; width ; x++) {\n        for(int y = 0 ; y &lt; height ; y++) {\n            table[x][y] = new JButton();\n            table[x][y].setPreferredSize(new Dimension(25,25));\n            table[x][y].addMouseListener (this);\n            p.add(table [x] [y]);\n        }\n    }       \n    this.add(p);\n    this.pack();\n    this.setVisible(true);\n}\n\n\npublic void mouseClicked(MouseEvent e) {\n    for (int x = 0 ; x &lt; width ; x++) {\n       for (int y = 0 ; y &lt; height ; y++) {\n           if (e.getSource() == table[x][y]) {    \n                if(e.getButton() == e.BUTTON1) {\n                   MinesweeperLogic logicClass = new MinesweeperLogic();\n                   logicClass.isOpen(x, y); //&lt;--------------------------------------\n               }\n           }\n       }\n   }\n }\npublic void gameover(int x, int y) {\n   table[x][y].setText(\"*\");\n}\n\npublic static void main(String[]args) {\n    MineSweeperGUI guiClass = new MineSweeperGUI();\n    guiClass.MineSweeper();\n}}    \n\n\npublic void actionPerformed(ActionEvent e) {\n}\n\npublic void mouseEntered(MouseEvent e) {\n}\n\npublic void mousePressed(MouseEvent e) {\n}\n\npublic void mouseExited(MouseEvent e) {\n}\n\npublic void mouseReleased(MouseEvent e) {\n}\n\n\n\n\npublic class MinesweeperLogic {\n\nprivate int w, h, maxBombs, bombsremaining;\npublic int width, height;\nprivate boolean mine[][];\nprivate boolean flag[][];\nprivate boolean isClicked[][];\nprivate boolean isZero[][];\nprivate boolean marked;\n\n\n\npublic void startNewGame(int width, int height) {\n    w = width;\n    h = height;\n    flag = new boolean[w][h];\n    isZero = new boolean[w][h];\n    isClicked = new boolean[w][h];\n    mine = new boolean[w][h];\n    maxBombs =(int) Math.floor (width*height*0.15);\n    bombsremaining = maxBombs;\n    for(int i = 0; i &lt; maxBombs; i++) {\n        int x = (int) (Math.random() * (w));\n        int y = (int) (Math.random() * (h));\n        if (mine[x][y] == false) {\n            mine[x][y] = true;\n            isClicked[x][y] = false;\n            flag[x][y] = false;\n        }\n    } \n}\n\n\nint getWidth() {\n    return w;\n}\n\n\nint getHeight() {\n    return h;\n}\n\n\nboolean openCell(int x, int y) { // &lt;---------------------------------------------\n    //MineSweeperGUI guiClass = new MineSweeperGUI();\n    isClicked[x][y] = true;\n    if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\n        //guiClass.gameover(x, y);\n        return false;\n    } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\n        return true;\n    } else {\n            marked = true;\n            return marked;\n    }}\n\n\n boolean markCell(int x, int y) {\n     if(flag[x][y] == true) {\n            flag[x][y] = false;\n            isClicked[x][y] = false;\n            bombsremaining++;\n            marked = false;\n            return marked;\n        } else {\n            flag[x][y] = true;\n            isClicked[x][y] = true;\n            bombsremaining--;\n                if(mine[x][y]==true) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }\n\n\n boolean isOpen(int x, int y) {\n     if(isClicked[x][y] == false) {\n         return false;\n        } else {\n            return true;\n        }\n}\n\n\n boolean isMarked(int x, int y) {\n     if(flag[x][y] == true) {\n         return true;\n        } else {\n            return false;\n        }\n    }\n\n\n  int getValue(int x, int y) {\n      if(mine[x][y] == true) {\n          return -1;\n        } else {\n            return neighborBombs(x, y);\n        }\n    }\n\n\n    private int neighborBombs(int x, int y) {  // checks surrounding 8 squares for number of bombs \n        int surBombs = 0;\n            for (int q = x - 1 ; q &lt;= x + 1 ; q++) {\n                for (int w = y - 1 ; w &lt;= y + 1 ; w++) {\n                    while (true) {\n                        if (q &lt; 0 || w &lt; 0 || q &gt;= w || w &gt;= h) { \n                            break;\n                        }\n                        if (mine[q][w] == true) {\n                            surBombs++;\n                            break;\n                        }\n                    }   \n                }\n            }\n         return surBombs;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642190992,"creation_date":1642190642,"answer_id":70715981,"question_id":70713768,"body_markdown":"If you want to display a `json` object as request body in `Swagger` you can create a model object.\r\n\r\nYour model object can be as follows.\r\n\r\n    public class VerificationRequest {\r\n        private String phoneNumber;\r\n        private String mobileVerificationOtp;\r\n\r\n        public VerificationRequest(String phoneNumber, String mobileVerificationOtp) {\r\n            this.phoneNumber = phoneNumber;\r\n            this.mobileVerificationOtp = mobileVerificationOtp;\r\n        }\r\n\r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n\r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n\r\n        public String getMobileVerificationOtp() {\r\n            return mobileVerificationOtp;\r\n        }\r\n\r\n        public void setMobileVerificationOtp(String mobileVerificationOtp) {\r\n            this.mobileVerificationOtp = mobileVerificationOtp;\r\n        }\r\n    }\r\n\r\nThen you can edit this model where your endpoint is located as follows.\r\n\r\n    @PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody VerificationRequest verificationObj) {\r\n        Boolean isUpdated = userService.mobileVerification(verificationObj.getPhoneNumber(),\r\n                verificationObj.getMobileVerificationOtp());\r\n        Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\r\n        objMap.put(&quot;success&quot;, isUpdated);\r\n        return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\r\n                ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\r\n    }\r\n","title":"Pass custom json object in swagger with spring boot","body":"<p>If you want to display a <code>json</code> object as request body in <code>Swagger</code> you can create a model object.</p>\n<p>Your model object can be as follows.</p>\n<pre><code>public class VerificationRequest {\n    private String phoneNumber;\n    private String mobileVerificationOtp;\n\n    public VerificationRequest(String phoneNumber, String mobileVerificationOtp) {\n        this.phoneNumber = phoneNumber;\n        this.mobileVerificationOtp = mobileVerificationOtp;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getMobileVerificationOtp() {\n        return mobileVerificationOtp;\n    }\n\n    public void setMobileVerificationOtp(String mobileVerificationOtp) {\n        this.mobileVerificationOtp = mobileVerificationOtp;\n    }\n}\n</code></pre>\n<p>Then you can edit this model where your endpoint is located as follows.</p>\n<pre><code>@PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n@ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\npublic ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody VerificationRequest verificationObj) {\n    Boolean isUpdated = userService.mobileVerification(verificationObj.getPhoneNumber(),\n            verificationObj.getMobileVerificationOtp());\n    Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\n    objMap.put(&quot;success&quot;, isUpdated);\n    return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\n            ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\n}\n</code></pre>\n"}],"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70715981,"answer_count":1,"score":0,"last_activity_date":1642190992,"creation_date":1642178236,"question_id":70713768,"body_markdown":"I want to pass a custom json object as swagger request body. In Java we use `@ApiModelProperty(hidden = true)` annotation to hide some fields in swagger. But in my case I want to pass custom json object as swagger request body.\r\n\r\nhere&#39;s my code,\r\n\r\n    @PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        @ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\r\n        public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody Map&lt;String, Object&gt; verificationObj) {\r\n            Boolean isUpdated = userService.mobileVerification(verificationObj.get(&quot;phoneNumber&quot;).toString(),\r\n                    verificationObj.get(&quot;mobileVerificationOtp&quot;).toString());\r\n            Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\r\n            objMap.put(&quot;success&quot;, isUpdated);\r\n            return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\r\n                    ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\r\n        }\r\nand I will be accepting bellow as request body,\r\n\r\n    {\r\n        &quot;phoneNumber&quot;:&quot;+919038897580&quot;,\r\n        &quot;mobileVerificationOtp&quot;:&quot;9399&quot;\r\n    }\r\nHow can I implement this on swagger. Swagger body looks something like this.\r\n[![enter image description here][1]][1]\r\nPlease help me to fix this. &#128591;&#127995;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AspIP.png","title":"Pass custom json object in swagger with spring boot","body":"<p>I want to pass a custom json object as swagger request body. In Java we use <code>@ApiModelProperty(hidden = true)</code> annotation to hide some fields in swagger. But in my case I want to pass custom json object as swagger request body.</p>\n<p>here's my code,</p>\n<pre><code>@PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\n    public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody Map&lt;String, Object&gt; verificationObj) {\n        Boolean isUpdated = userService.mobileVerification(verificationObj.get(&quot;phoneNumber&quot;).toString(),\n                verificationObj.get(&quot;mobileVerificationOtp&quot;).toString());\n        Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\n        objMap.put(&quot;success&quot;, isUpdated);\n        return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\n                ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\n    }\n</code></pre>\n<p>and I will be accepting bellow as request body,</p>\n<pre><code>{\n    &quot;phoneNumber&quot;:&quot;+919038897580&quot;,\n    &quot;mobileVerificationOtp&quot;:&quot;9399&quot;\n}\n</code></pre>\n<p>How can I implement this on swagger. Swagger body looks something like this.\n<a href=\"https://i.stack.imgur.com/AspIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AspIP.png\" alt=\"enter image description here\" /></a>\nPlease help me to fix this. 🙏🏻</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":1,"creation_date":1642182156,"post_id":70714514,"comment_id":125011311,"body_markdown":"Variables can exist in different scopes. Any variable defined inside your `main` method would be a local variable, and would be inaccessible outside your `main` method. You can share variables between methods by defining them at the class level. (Simplified)","body":"Variables can exist in different scopes. Any variable defined inside your <code>main</code> method would be a local variable, and would be inaccessible outside your <code>main</code> method. You can share variables between methods by defining them at the class level. (Simplified)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642182753,"post_id":70714514,"comment_id":125011532,"body_markdown":"Given that `contacts` is never used in the other method, nor is `scanner` after that method is called, it doesn&#39;t really matter where they are defined for the code shown.","body":"Given that <code>contacts</code> is never used in the other method, nor is <code>scanner</code> after that method is called, it doesn&#39;t really matter where they are defined for the code shown."},{"owner":{"account_id":9970271,"reputation":6093,"user_id":7376590,"accept_rate":50,"display_name":"steven7mwesigwa"},"score":1,"creation_date":1642190949,"post_id":70714514,"comment_id":125014320,"body_markdown":"Does this answer your question? [what is difference between declaring variable out of main method and inside main method?](https://stackoverflow.com/questions/17700147/what-is-difference-between-declaring-variable-out-of-main-method-and-inside-main)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17700147/what-is-difference-between-declaring-variable-out-of-main-method-and-inside-main\">what is difference between declaring variable out of main method and inside main method?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11075738,"reputation":39,"user_id":8132524,"display_name":"Marius Nicolae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642190458,"creation_date":1642182363,"answer_id":70714603,"question_id":70714514,"body_markdown":"Variables outside a method are called global variables, it&#39;s extending the range of using them, unlike local variables instantiation. Search more for global vs. local variables to understand it better.\r\n\r\nYou can use local or global variables in the upper example but it is a better practice to instantiate them global for later usage, and a bigger range of the class scope.\r\n\r\nThe second example is a method, you can&#39;t create functions inside other functions in Java and in any programming languages (as far as i know).","title":"Putting variables outside of main(String[] args) in the Main java file","body":"<p>Variables outside a method are called global variables, it's extending the range of using them, unlike local variables instantiation. Search more for global vs. local variables to understand it better.</p>\n<p>You can use local or global variables in the upper example but it is a better practice to instantiate them global for later usage, and a bigger range of the class scope.</p>\n<p>The second example is a method, you can't create functions inside other functions in Java and in any programming languages (as far as i know).</p>\n"},{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642182492,"creation_date":1642182492,"answer_id":70714630,"question_id":70714514,"body_markdown":"Functions allow you to piece-up your code to be reusable, modular and abstractable. In your case showInitialOptions is a logic step in your procedure that can be abstracted in a function different from main, and only then used my other parts of the program that need it.\r\n\r\nAlso, variables are subject to [scoping rules][1] that define their lifetime and usage.\r\n\r\nIn short, since you seem to be a beginner and this is what you are asking for: some things are outside the main() because otherwise it would be too long and unreadable.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-variable-scope#:~:text=In%20Java%2C%20as%20in%20any,be%20used%20and%20is%20valid.","title":"Putting variables outside of main(String[] args) in the Main java file","body":"<p>Functions allow you to piece-up your code to be reusable, modular and abstractable. In your case showInitialOptions is a logic step in your procedure that can be abstracted in a function different from main, and only then used my other parts of the program that need it.</p>\n<p>Also, variables are subject to <a href=\"https://www.baeldung.com/java-variable-scope#:%7E:text=In%20Java%2C%20as%20in%20any,be%20used%20and%20is%20valid.\" rel=\"nofollow noreferrer\">scoping rules</a> that define their lifetime and usage.</p>\n<p>In short, since you seem to be a beginner and this is what you are asking for: some things are outside the main() because otherwise it would be too long and unreadable.</p>\n"}],"owner":{"account_id":23230690,"reputation":39,"user_id":17321507,"display_name":"menamejaff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642239851,"answer_count":2,"score":0,"last_activity_date":1642190458,"creation_date":1642181966,"question_id":70714514,"body_markdown":"I am new to java and have been watching a tutorial, the instructor has added initializing variables outside of the public static void main(String[] args) method as well as he creates another method outside of the main one. I was lead to believe the initialization of variables was to be inside of the public static void main(String[] args) method so why is he putting it outside? He tries to explain but earlier in the tutorial he put them inside so i am confused. Here is what code is going on:\r\n\r\n```\r\npublic class Main {\r\n\r\n    //initializing (why is this here not in the public static void main)\r\n    private static ArrayList&lt;Contact&gt; contacts;\r\n    private static Scanner scanner;\r\n\r\n    //the main code area\r\n    public static void main(String[] args) {\r\n\r\n    contacts = new ArrayList&lt;&gt;();\r\n\r\n    System.out.println(&quot;Welcome!&quot;);\r\n    showInitialOptions();\r\n\r\n    }\r\n\r\n\r\n    // why did he create this down here and not in public static void main)\r\n    private static void showInitialOptions(){\r\n        System.out.println(&quot;Please select one: &quot; +\r\n                &quot;\\n\\n1. Manage Contacts&quot; +\r\n                &quot;\\n\\n2. Messages&quot; +\r\n                &quot;\\n\\n3. Quit&quot;);\r\n\r\n        scanner = new Scanner(System.in);\r\n        int choice = scanner.nextInt();\r\n```\r\n\r\nMaybe i&#39;m just that dumb but if someone could clarify what&#39;s going on in a dumbed down way that would be great.\r\nHere is the tutorial where things get weird: https://youtu.be/fis26HvvDII?t=18174","title":"Putting variables outside of main(String[] args) in the Main java file","body":"<p>I am new to java and have been watching a tutorial, the instructor has added initializing variables outside of the public static void main(String[] args) method as well as he creates another method outside of the main one. I was lead to believe the initialization of variables was to be inside of the public static void main(String[] args) method so why is he putting it outside? He tries to explain but earlier in the tutorial he put them inside so i am confused. Here is what code is going on:</p>\n<pre><code>public class Main {\n\n    //initializing (why is this here not in the public static void main)\n    private static ArrayList&lt;Contact&gt; contacts;\n    private static Scanner scanner;\n\n    //the main code area\n    public static void main(String[] args) {\n\n    contacts = new ArrayList&lt;&gt;();\n\n    System.out.println(&quot;Welcome!&quot;);\n    showInitialOptions();\n\n    }\n\n\n    // why did he create this down here and not in public static void main)\n    private static void showInitialOptions(){\n        System.out.println(&quot;Please select one: &quot; +\n                &quot;\\n\\n1. Manage Contacts&quot; +\n                &quot;\\n\\n2. Messages&quot; +\n                &quot;\\n\\n3. Quit&quot;);\n\n        scanner = new Scanner(System.in);\n        int choice = scanner.nextInt();\n</code></pre>\n<p>Maybe i'm just that dumb but if someone could clarify what's going on in a dumbed down way that would be great.\nHere is the tutorial where things get weird: <a href=\"https://youtu.be/fis26HvvDII?t=18174\" rel=\"nofollow noreferrer\">https://youtu.be/fis26HvvDII?t=18174</a></p>\n"},{"tags":["java","spring-boot","gradle","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1581170277,"creation_date":1581170277,"answer_id":60127478,"question_id":60127458,"body_markdown":"There&#39;s a known bug in javac about statically importing generated methods. javac concludes that an annotation processor can&#39;t &#39;fix&#39; it incorrectly and just throws out an error.\r\n\r\nThe fix is to not statically import it:\r\n\r\n    import com.business.lunch.dto.OfferContent;\r\n\r\n    ....\r\n        return OfferContent.builder();\r\n\r\nEDIT: DISCLAIMER: I&#39;m a core contributor to Project Lombok.\r\n","title":"Compilation failure because of Lombok","body":"<p>There's a known bug in javac about statically importing generated methods. javac concludes that an annotation processor can't 'fix' it incorrectly and just throws out an error.</p>\n\n<p>The fix is to not statically import it:</p>\n\n<pre><code>import com.business.lunch.dto.OfferContent;\n\n....\n    return OfferContent.builder();\n</code></pre>\n\n<p>EDIT: DISCLAIMER: I'm a core contributor to Project Lombok.</p>\n"},{"tags":[],"owner":{"account_id":23933960,"reputation":1,"user_id":17927977,"display_name":"Jorge Arias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642190405,"creation_date":1642186310,"answer_id":70715286,"question_id":60127458,"body_markdown":"For me, it happened that I had the wrong import. I had:\r\n`import groovy.transform.builder.Builder;` instead of `import lombok.Builder;`\r\n\r\nRookie mistake.","title":"Compilation failure because of Lombok","body":"<p>For me, it happened that I had the wrong import. I had:\n<code>import groovy.transform.builder.Builder;</code> instead of <code>import lombok.Builder;</code></p>\n<p>Rookie mistake.</p>\n"}],"owner":{"account_id":5581565,"reputation":339,"user_id":4916010,"accept_rate":80,"display_name":"Lerul Ler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60127478,"answer_count":2,"score":0,"last_activity_date":1642190405,"creation_date":1581170139,"question_id":60127458,"body_markdown":"I have a springboot app using gradle as build tool and also lombok.\r\n\r\nWhen I&#39;m running `./gradlew build` command, then the `compileJava` task is failing with many messages related to lombok annotations. Examples:\r\n\r\n```\r\n&gt; Task :compileJava\r\n\\my\\path\\ResolverDelegator.java:12: error: cannot find symbol\r\nimport static com.business.lunch.dto.OfferContent.builder;\r\n^\r\n  symbol:   static builder\r\n  location: class OfferContent\r\n\\my\\path\\LunchOfferService.java:40: error: cannot find symbol\r\n        lunchOfferRepository.findByLocation(lunchOffer.getLocation())\r\n                                                      ^\r\n  symbol:   method getLocation()\r\n  location: variable lunchOffer of type LunchOffer\r\n\\my\\path\\ResolverDelegator.java:60: error: cannot find symbol\r\n        return builder()\r\n               ^\r\n  symbol:   method builder()\r\n  location: class ResolverDelegator\r\n\r\n...\r\n\r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n```\r\n\r\nMy gradle wrapper is set to use Gradle 6.1\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-bin.zip`\r\n\r\nLombok version is 1.18.12 and I mention that I have the following entries in `dependencies` block from my `build.gradle` file:\r\n```\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.12&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.12&#39;\r\n```\r\n\r\nAny idea/suggestion is welcome.","title":"Compilation failure because of Lombok","body":"<p>I have a springboot app using gradle as build tool and also lombok.</p>\n\n<p>When I'm running <code>./gradlew build</code> command, then the <code>compileJava</code> task is failing with many messages related to lombok annotations. Examples:</p>\n\n<pre><code>&gt; Task :compileJava\n\\my\\path\\ResolverDelegator.java:12: error: cannot find symbol\nimport static com.business.lunch.dto.OfferContent.builder;\n^\n  symbol:   static builder\n  location: class OfferContent\n\\my\\path\\LunchOfferService.java:40: error: cannot find symbol\n        lunchOfferRepository.findByLocation(lunchOffer.getLocation())\n                                                      ^\n  symbol:   method getLocation()\n  location: variable lunchOffer of type LunchOffer\n\\my\\path\\ResolverDelegator.java:60: error: cannot find symbol\n        return builder()\n               ^\n  symbol:   method builder()\n  location: class ResolverDelegator\n\n...\n\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n</code></pre>\n\n<p>My gradle wrapper is set to use Gradle 6.1\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-bin.zip</code></p>\n\n<p>Lombok version is 1.18.12 and I mention that I have the following entries in <code>dependencies</code> block from my <code>build.gradle</code> file:</p>\n\n<pre><code>    compileOnly 'org.projectlombok:lombok:1.18.12'\n    annotationProcessor 'org.projectlombok:lombok:1.18.12'\n</code></pre>\n\n<p>Any idea/suggestion is welcome.</p>\n"},{"tags":["java","sorting","data-structures","linked-list","nodes"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1642143657,"post_id":70706816,"comment_id":124997591,"body_markdown":"Can you add the driver code with an example of insertions, demonstrating the problem?","body":"Can you add the driver code with an example of insertions, demonstrating the problem?"},{"owner":{"account_id":23937035,"reputation":1,"user_id":17930649,"display_name":"Suma HC"},"score":0,"creation_date":1642144199,"post_id":70706816,"comment_id":124997700,"body_markdown":"public static void main(String args[]){\n      \n\t    MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;();\n\t   \n\t    for (int i=0; i&lt; 10; i++){\n\t        mine.insert((int)(100*Math.random()));\n\t    }\n\t    \n\t   \n\t    mine.print();\n    }","body":"public static void main(String args[]){        \t    MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;(); \t    \t    for (int i=0; i&lt; 10; i++){ \t        mine.insert((int)(100*Math.random())); \t    } \t     \t    \t    mine.print();     }"},{"owner":{"account_id":23937035,"reputation":1,"user_id":17930649,"display_name":"Suma HC"},"score":0,"creation_date":1642144257,"post_id":70706816,"comment_id":124997712,"body_markdown":"Above is my main method, where I am using Math.random() to generate the integers and trying to insert them into linked list","body":"Above is my main method, where I am using Math.random() to generate the integers and trying to insert them into linked list"},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1642144307,"post_id":70706816,"comment_id":124997725,"body_markdown":"Can you edit your question and add this code in a formatted way? Add enough code for us to reproduce the issue. So please add your Node class code as well.","body":"Can you edit your question and add this code in a formatted way? Add enough code for us to reproduce the issue. So please add your Node class code as well."},{"owner":{"account_id":4824120,"reputation":748,"user_id":3893990,"display_name":"Han"},"score":0,"creation_date":1642146290,"post_id":70706816,"comment_id":124998213,"body_markdown":"Sound like you need to check your &quot;info.compareTo&quot; method. If the input number is between (1-9) my guesses is that you may get consistent output. Coming to strings, or beyond 10 and it gets inconsistent then, most probably the comparator used is incorrect.","body":"Sound like you need to check your &quot;info.compareTo&quot; method. If the input number is between (1-9) my guesses is that you may get consistent output. Coming to strings, or beyond 10 and it gets inconsistent then, most probably the comparator used is incorrect."}],"answers":[{"tags":[],"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642150702,"creation_date":1642149281,"answer_id":70707938,"question_id":70706816,"body_markdown":"Your while statement needs to be `while(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &gt; 0)`. I&#39;d recommend running through the algorithm on paper with a few test numbers - for example, inserting 1 into [2,5], inserting 3 into [2,5], and inserting 6 into [2,5]. You might also want to test the case of duplicates such as inserting 2 into [1,2,2,3]. `info.compareTo(current.getNext().getInfo())` returns something less than 0 if `info` is less than `current.getNext().getInfo()` and something greater than 0 if `info` is greater than `current.getNext().getInfo()`. It returns 0 if the two values are equal.","title":"Inserting elements in a linked list in a sorted way","body":"<p>Your while statement needs to be <code>while(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &gt; 0)</code>. I'd recommend running through the algorithm on paper with a few test numbers - for example, inserting 1 into [2,5], inserting 3 into [2,5], and inserting 6 into [2,5]. You might also want to test the case of duplicates such as inserting 2 into [1,2,2,3]. <code>info.compareTo(current.getNext().getInfo())</code> returns something less than 0 if <code>info</code> is less than <code>current.getNext().getInfo()</code> and something greater than 0 if <code>info</code> is greater than <code>current.getNext().getInfo()</code>. It returns 0 if the two values are equal.</p>\n"}],"owner":{"account_id":23937035,"reputation":1,"user_id":17930649,"display_name":"Suma HC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642190327,"creation_date":1642142038,"question_id":70706816,"body_markdown":"- I am trying to add int elements to my single linked list in a sorted manner. but the output is coming in a random order. Can anyone please suggest me what is wrong with my code?\r\n\r\nThis is my Node.java class where I am using Generics \r\n\r\n```\r\n/* Node.java */\r\npublic class Node&lt;E&gt;{\r\n    private E info;\r\n    private Node&lt;E&gt; next;\r\n\r\n    public Node(){\r\n\t    this.next = null;\r\n    }\r\n\r\n    public Node(E info){\r\n\t    this.info = info;\r\n\t    this.next = null;\r\n    }\r\n    public Node(E info, Node&lt;E&gt; next){\r\n\t    this.info = info;\r\n\t    this.next = next;\r\n    }\r\n\r\n    public E getInfo(){\r\n\t    return this.info;\r\n    }\r\n    public void setInfo(E info){\r\n\t    this.info = info;\r\n    }\r\n    public Node&lt;E&gt; getNext(){\r\n\t    return this.next;\r\n    }\r\n\r\n    public void setNext(Node&lt;E&gt; next){\r\n\t    this.next = next;\r\n    }\r\n\r\n}\r\n````\r\nIn the main method, I created a linked list and using Math.random() method - I am trying to insert int elements to my linked list\r\n````\r\n/* Main Method */\r\n\r\npublic class SortedInsertionLinkedList{\r\n\r\n    public static void main(String args[]){\r\n        // Create a linked list using MyLinkedList&lt;Integer&gt;\r\n\t    MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;();\r\n\t   // Insert 10 ints \r\n\t    for (int i=0; i&lt; 10; i++){\r\n\t        mine.insert((int)(100*Math.random()));\r\n\t    }\r\n\t    \r\n\t    //Print the whole list\r\n\t    mine.print();\r\n    }\r\n}\r\n````\r\nIn the implementation of linked list, I am using compareTo() method \r\n````\r\n/* Linked list implementation */\r\n\r\npublic class MyLinkedList&lt;E extends Comparable&lt;E&gt;&gt;{\r\n   \r\n    private Node&lt;E&gt; first;\r\n    \r\n    public MyLinkedList(){\r\n\t    this.first = null;\r\n    }\r\n    \r\n       public void insert(E info){\r\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(info);\r\n\t    \r\n\t    if(first == null || info.compareTo(first.getInfo()) &lt; 0 ) {\r\n\t    \tnewNode.setNext(first);\r\n\t    \tfirst = newNode;\r\n\t    } else {\r\n\t    \tNode&lt;E&gt; current = first;\r\n\t    \twhile(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &lt; 0)\r\n\t    \t{\r\n\t    \t\tcurrent = current.getNext();\r\n\t    \t\t\r\n\t    \t}\r\n    \t\tnewNode.setNext(current.getNext());\r\n    \t\tcurrent.setNext(newNode); \r\n\t    }\r\n\t    }\r\n        \r\n    \r\n    public void print(){\r\n\t    Node&lt;E&gt; current = first;\r\n\t    \r\n\t    while (current != null){\r\n\t        System.out.print(current.getInfo() + &quot; &quot;);\r\n\t        current = current.getNext();\r\n\t    }\r\n\t    System.out.println();\r\n    }\r\n}\r\n","title":"Inserting elements in a linked list in a sorted way","body":"<ul>\n<li>I am trying to add int elements to my single linked list in a sorted manner. but the output is coming in a random order. Can anyone please suggest me what is wrong with my code?</li>\n</ul>\n<p>This is my Node.java class where I am using Generics</p>\n<pre><code>/* Node.java */\npublic class Node&lt;E&gt;{\n    private E info;\n    private Node&lt;E&gt; next;\n\n    public Node(){\n        this.next = null;\n    }\n\n    public Node(E info){\n        this.info = info;\n        this.next = null;\n    }\n    public Node(E info, Node&lt;E&gt; next){\n        this.info = info;\n        this.next = next;\n    }\n\n    public E getInfo(){\n        return this.info;\n    }\n    public void setInfo(E info){\n        this.info = info;\n    }\n    public Node&lt;E&gt; getNext(){\n        return this.next;\n    }\n\n    public void setNext(Node&lt;E&gt; next){\n        this.next = next;\n    }\n\n}\n</code></pre>\n<p>In the main method, I created a linked list and using Math.random() method - I am trying to insert int elements to my linked list</p>\n<pre><code>/* Main Method */\n\npublic class SortedInsertionLinkedList{\n\n    public static void main(String args[]){\n        // Create a linked list using MyLinkedList&lt;Integer&gt;\n        MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;();\n       // Insert 10 ints \n        for (int i=0; i&lt; 10; i++){\n            mine.insert((int)(100*Math.random()));\n        }\n        \n        //Print the whole list\n        mine.print();\n    }\n}\n</code></pre>\n<p>In the implementation of linked list, I am using compareTo() method</p>\n<pre><code>/* Linked list implementation */\n\npublic class MyLinkedList&lt;E extends Comparable&lt;E&gt;&gt;{\n   \n    private Node&lt;E&gt; first;\n    \n    public MyLinkedList(){\n        this.first = null;\n    }\n    \n       public void insert(E info){\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(info);\n        \n        if(first == null || info.compareTo(first.getInfo()) &lt; 0 ) {\n            newNode.setNext(first);\n            first = newNode;\n        } else {\n            Node&lt;E&gt; current = first;\n            while(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &lt; 0)\n            {\n                current = current.getNext();\n                \n            }\n            newNode.setNext(current.getNext());\n            current.setNext(newNode); \n        }\n        }\n        \n    \n    public void print(){\n        Node&lt;E&gt; current = first;\n        \n        while (current != null){\n            System.out.print(current.getInfo() + &quot; &quot;);\n            current = current.getNext();\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","apache-spark","logging","log4j"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642086686,"post_id":70698737,"comment_id":124983064,"body_markdown":"I can&#39;t be certain on Linux, but I don&#39;t think it matters. The `log` folder should be a folder relative to the base directory of your code project. From the IDE you might not see it right away (Eclipse is NOTORIOUS for this), so you will have to refresh your project to see it.  Also, just because you have a file appender, it doesn&#39;t mean that you are actually writing to it. Make sure the Log4J configuration is not just outputting to console. Lastly, if you are using Log4J, I suggest you upgrade to the latest Log4J2 version.","body":"I can&#39;t be certain on Linux, but I don&#39;t think it matters. The <code>log</code> folder should be a folder relative to the base directory of your code project. From the IDE you might not see it right away (Eclipse is NOTORIOUS for this), so you will have to refresh your project to see it.  Also, just because you have a file appender, it doesn&#39;t mean that you are actually writing to it. Make sure the Log4J configuration is not just outputting to console. Lastly, if you are using Log4J, I suggest you upgrade to the latest Log4J2 version."}],"answers":[{"tags":[],"owner":{"account_id":23109342,"reputation":51,"user_id":17217503,"display_name":"stackbacon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642130308,"creation_date":1642130308,"answer_id":70705659,"question_id":70698737,"body_markdown":"Check it:\r\n```\r\nlog4j.appender.stdout.File=${myhome}/log/myapp.log \r\n```\r\nOf course, without this statement, check the application&#39;s directory.","title":"Where is log4j logging out?","body":"<p>Check it:</p>\n<pre><code>log4j.appender.stdout.File=${myhome}/log/myapp.log \n</code></pre>\n<p>Of course, without this statement, check the application's directory.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642132188,"creation_date":1642132188,"answer_id":70705833,"question_id":70698737,"body_markdown":"There is no log4j specific base path for log4j paths.\r\n\r\nIf you use a relative file path in the log4j configs, it will be resolved in the same way that all relative file paths are resolved.  It will resolved relative to the *working directory* for the JVM.  Loosely speaking, that is &quot;the current directory where you launched the application&quot;.\r\n\r\nSee: https://stackoverflow.com/questions/21060992\r\n","title":"Where is log4j logging out?","body":"<p>There is no log4j specific base path for log4j paths.</p>\n<p>If you use a relative file path in the log4j configs, it will be resolved in the same way that all relative file paths are resolved.  It will resolved relative to the <em>working directory</em> for the JVM.  Loosely speaking, that is &quot;the current directory where you launched the application&quot;.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/21060992\">How does Java resolve a relative path in new File()?</a></p>\n"}],"owner":{"account_id":9996148,"reputation":9,"user_id":7393687,"display_name":"Willian A. Lauber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642190319,"creation_date":1642086219,"question_id":70698737,"body_markdown":"In a legacy project I found that in log4j.properties the appender file is defined as:\r\n```\r\nlog4j.appender.file.File=log/logging.log\r\n```\r\n\r\nWhere I can find that output file of log4j in linux?\r\nAt system level the application the logs of &quot;LOG.info&quot; command are not appearing, only the start of its execution\r\n```\r\n 2022-01-13 11:03:19 INFO  DAGScheduler:54 - Submitting 200 missing tasks from ShuffleMapStage 2 (MapPartitionsRDD[12] at count at appname.java:133) (first 15 tasks are for parti.. ```\r\n```\r\n\r\n***edit: complete log4j properties.:\r\n\r\n```\r\n#\r\n# Licensed to the Apache Software Foundation (ASF) under one or more\r\n# contributor license agreements.  See the NOTICE file distributed with\r\n# this work for additional information regarding copyright ownership.\r\n# The ASF licenses this file to You under the Apache License, Version 2.0\r\n# (the &quot;License&quot;); you may not use this file except in compliance with\r\n# the License.  You may obtain a copy of the License at\r\n#\r\n#    http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n#\r\n\r\nlog4j.rootCategory=INFO, console, file\r\n\r\n# Set events to be logged to a file\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=log/logging.log\r\nlog4j.appender.file.MaxFileSize=10MB\r\nlog4j.appender.file.MaxBackupIndex=10\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n\r\n# Set everything to be logged to the console\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.target=System.err\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\r\n\r\n# Set the default spark-shell log level to WARN. When running the spark-shell, the\r\n# log level for this class is used to overwrite the root logger&#39;s log level, so that\r\n# the user can have different defaults for the shell and regular Spark apps.\r\nlog4j.logger.org.apache.spark.repl.Main=WARN\r\n\r\n# Settings to quiet third party logs that are too verbose\r\nlog4j.logger.org.spark_project.jetty=WARN\r\nlog4j.logger.org.spark_project.jetty.util.component.AbstractLifeCycle=ERROR\r\nlog4j.logger.org.apache.spark.repl.SparkIMain$exprTyper=WARN\r\nlog4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter=WARN\r\n\r\n# SPARK-9183: Settings to avoid annoying messages when looking up nonexistent UDFs in SparkSQL with Hive support\r\nlog4j.logger.org.apache.hadoop.hive.metastore.RetryingHMSHandler=FATAL\r\nlog4j.logger.org.apache.hadoop.hive.ql.exec.FunctionRegistry=ERROR\r\n\r\n# Parquet related logging\r\nlog4j.logger.org.apache.parquet.CorruptStatistics=ERROR\r\nlog4j.logger.parquet.CorruptStatistics=ERROR\r\n```\r\n","title":"Where is log4j logging out?","body":"<p>In a legacy project I found that in log4j.properties the appender file is defined as:</p>\n<pre><code>log4j.appender.file.File=log/logging.log\n</code></pre>\n<p>Where I can find that output file of log4j in linux?\nAt system level the application the logs of &quot;LOG.info&quot; command are not appearing, only the start of its execution</p>\n<pre><code> 2022-01-13 11:03:19 INFO  DAGScheduler:54 - Submitting 200 missing tasks from ShuffleMapStage 2 (MapPartitionsRDD[12] at count at appname.java:133) (first 15 tasks are for parti.. ```\n</code></pre>\n<p>***edit: complete log4j properties.:</p>\n<pre><code>#\n# Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the &quot;License&quot;); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\nlog4j.rootCategory=INFO, console, file\n\n# Set events to be logged to a file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=log/logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n\n# Set everything to be logged to the console\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\n\n# Set the default spark-shell log level to WARN. When running the spark-shell, the\n# log level for this class is used to overwrite the root logger's log level, so that\n# the user can have different defaults for the shell and regular Spark apps.\nlog4j.logger.org.apache.spark.repl.Main=WARN\n\n# Settings to quiet third party logs that are too verbose\nlog4j.logger.org.spark_project.jetty=WARN\nlog4j.logger.org.spark_project.jetty.util.component.AbstractLifeCycle=ERROR\nlog4j.logger.org.apache.spark.repl.SparkIMain$exprTyper=WARN\nlog4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter=WARN\n\n# SPARK-9183: Settings to avoid annoying messages when looking up nonexistent UDFs in SparkSQL with Hive support\nlog4j.logger.org.apache.hadoop.hive.metastore.RetryingHMSHandler=FATAL\nlog4j.logger.org.apache.hadoop.hive.ql.exec.FunctionRegistry=ERROR\n\n# Parquet related logging\nlog4j.logger.org.apache.parquet.CorruptStatistics=ERROR\nlog4j.logger.parquet.CorruptStatistics=ERROR\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":0,"creation_date":1642185654,"post_id":70715066,"comment_id":125012565,"body_markdown":"There is a whole guide about reading connectivity state and reacting to changes: https://developer.android.com/training/basics/network-ops/reading-network-state","body":"There is a whole guide about reading connectivity state and reacting to changes: <a href=\"https://developer.android.com/training/basics/network-ops/reading-network-state\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/network-ops/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642190245,"creation_date":1642186016,"answer_id":70715232,"question_id":70715066,"body_markdown":"You can check if your internet connection is available before loading the page\r\n\r\n            WebView webView = new WebView(this);\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setBuiltInZoomControls(true);\r\n            webSettings.setJavaScriptEnabled(true);\r\n            setContentView(webView);\r\n            webView.getSettings().setLoadWithOverviewMode(true);\r\n            webView.getSettings().setUseWideViewPort(true);\r\n            webView.getSettings().setSupportZoom(true);\r\n            webView.getSettings().setBuiltInZoomControls(true);\r\n            webView.getSettings().setDisplayZoomControls(false);\r\n            webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n            webView.setScrollbarFadingEnabled(false);\r\n    \r\n    \r\n          if(isNetworkAvailable(this)){\r\n    \r\n            webView.loadUrl(&quot;https://example.com/&quot;);\r\n    \r\n             } else {\r\n    \r\n    \r\n          Toast.makeText(this,&quot;NO internet&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n             }\r\n\r\n\r\nCheck the connection\r\n\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n    \r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n            } else {\r\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n            }\r\n        }\r\n    \r\n        return false;\r\n    }\r\n\r\n","title":"How to show error message in my android webview app when no internet","body":"<p>You can check if your internet connection is available before loading the page</p>\n<pre><code>        WebView webView = new WebView(this);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n        setContentView(webView);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n\n\n      if(isNetworkAvailable(this)){\n\n        webView.loadUrl(&quot;https://example.com/&quot;);\n\n         } else {\n\n\n      Toast.makeText(this,&quot;NO internet&quot;, Toast.LENGTH_SHORT).show();\n\n         }\n</code></pre>\n<p>Check the connection</p>\n<pre><code>public static boolean isNetworkAvailable(Context context) {\n\n    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    if (connectivityManager != null) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n            return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n        } else {\n            NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n            return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70715232,"answer_count":1,"score":0,"last_activity_date":1642190245,"creation_date":1642185037,"question_id":70715066,"body_markdown":"I am working with an android webview application. I use my url succesfully in my app and it works only if an internet connection is available. But I want to show some messages when there is no internet connection. How can I do this?\r\n\r\n```java\r\npackage com.echoedev.rackstk;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        WebView webView = new WebView(this);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://example.com/&quot;);\r\n        setContentView(webView);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setSupportZoom(true);\r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n        webView.getSettings().setDisplayZoomControls(false);\r\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n        webView.setScrollbarFadingEnabled(false);\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to show error message in my android webview app when no internet","body":"<p>I am working with an android webview application. I use my url succesfully in my app and it works only if an internet connection is available. But I want to show some messages when there is no internet connection. How can I do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.echoedev.rackstk;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = new WebView(this);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://example.com/&quot;);\n        setContentView(webView);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","file-upload","struts2"],"answers":[{"tags":[],"owner":{"account_id":23941988,"reputation":16,"user_id":17934944,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642182064,"creation_date":1642182064,"answer_id":70714536,"question_id":70711059,"body_markdown":"The naming convention for the setters is\r\n\r\n```\r\nsetX(File file)\r\nsetXContentType(String contentType)\r\nsetXFileName(String fileName)\r\n```\r\n\r\nwhere X corresponds to the value of the name attribute of the `&lt;s:file /&gt;` tag in your jsp page\r\n\r\n**Jsp form**\r\n```\r\n&lt;s:form action=&quot;doUpload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n   &lt;s:file name=&quot;upload&quot; label=&quot;File&quot;/&gt;\r\n   &lt;s:submit/&gt;\r\n&lt;/s:form&gt;\r\n```\r\n\r\n**Action class**\r\n\r\n```\r\nprivate File upload ;\r\nprivate String uploadFileName ;\r\nprivate String uploadContentType ;\r\n\r\n// Getters and setters\r\n// ActionSupport methods \r\n```","title":"Getting original filename in Struts2","body":"<p>The naming convention for the setters is</p>\n<pre><code>setX(File file)\nsetXContentType(String contentType)\nsetXFileName(String fileName)\n</code></pre>\n<p>where X corresponds to the value of the name attribute of the <code>&lt;s:file /&gt;</code> tag in your jsp page</p>\n<p><strong>Jsp form</strong></p>\n<pre><code>&lt;s:form action=&quot;doUpload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n   &lt;s:file name=&quot;upload&quot; label=&quot;File&quot;/&gt;\n   &lt;s:submit/&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>Action class</strong></p>\n<pre><code>private File upload ;\nprivate String uploadFileName ;\nprivate String uploadContentType ;\n\n// Getters and setters\n// ActionSupport methods \n</code></pre>\n"}],"owner":{"account_id":18850169,"reputation":25,"user_id":13749495,"display_name":"Muzammil Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642190000,"accepted_answer_id":70714536,"answer_count":1,"score":1,"last_activity_date":1642190114,"creation_date":1642165768,"question_id":70711059,"body_markdown":"How can I get original filename of an uploaded file in Struts2. Currently what I am getting is a filename.tmp filename whereas the file being uploaded is a CSV and the filename is different to what I am getting. Here is the JSP code\r\n\r\n&lt;div class=&quot;col-md-6&quot;&gt;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;fileinput fileinput-new input-group&quot; data-provides=&quot;fileinput&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;form-control&quot; data-trigger=&quot;fileinput&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;fa fa-file fileinput-exists&quot;&gt;&lt;/i&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;fileinput-filename&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;span class=&quot;input-group-addon btn btn-default btn-file&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;fileinput-new&quot;&gt;Select file&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;fileinput-exists&quot;&gt;Change&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;s:file name=&quot;upload&quot; accept=&quot;text/csv&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;input-group-addon btn btn-default fileinput-exists&quot; data-dismiss=&quot;fileinput&quot;&gt;Remove&lt;/a&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\nHere is the action mapping in struts config\r\n\r\n```\r\n        &lt;action name=&quot;survey/send&quot; class=&quot;surveyAction&quot; method=&quot;send&quot;&gt;\r\n            &lt;interceptor-ref name=&quot;authorizationStack&quot;/&gt;\r\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\r\n                &lt;param name=&quot;maximumSize&quot;&gt;20971520&lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;result name=&quot;success&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\r\n        &lt;/action&gt;\r\n```\r\n\r\nAction class contains the following 3 instance variables instance with getter and setter\r\n\r\n```\r\n    public File upload;\r\n    private String contentType;\r\n    private String filename;\r\n```\r\n\r\nHowever, ```upload.getName()``` is not getting the actual filename, whereas ```contentType``` and ```filename``` properties are ```null```.\r\n","title":"Getting original filename in Struts2","body":"<p>How can I get original filename of an uploaded file in Struts2. Currently what I am getting is a filename.tmp filename whereas the file being uploaded is a CSV and the filename is different to what I am getting. Here is the JSP code</p>\n\n                                \n                                \n                                    \n                                        \n                                        \n                                    \n                                    \n                                        Select file\n                                        Change\n                                        \n                                    \n                                    Remove\n                                \n                            \n<p>Here is the action mapping in struts config</p>\n<pre><code>        &lt;action name=&quot;survey/send&quot; class=&quot;surveyAction&quot; method=&quot;send&quot;&gt;\n            &lt;interceptor-ref name=&quot;authorizationStack&quot;/&gt;\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\n                &lt;param name=&quot;maximumSize&quot;&gt;20971520&lt;/param&gt;\n            &lt;/interceptor-ref&gt;\n            &lt;result name=&quot;success&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\n            &lt;result name=&quot;input&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\n            &lt;result name=&quot;error&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\n        &lt;/action&gt;\n</code></pre>\n<p>Action class contains the following 3 instance variables instance with getter and setter</p>\n<pre><code>    public File upload;\n    private String contentType;\n    private String filename;\n</code></pre>\n<p>However, <code>upload.getName()</code> is not getting the actual filename, whereas <code>contentType</code> and <code>filename</code> properties are <code>null</code>.</p>\n"},{"tags":["java","android","json","firebase","android-studio"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642185600,"post_id":70715033,"comment_id":125012543,"body_markdown":"Seriously? The error captured in the image is telling you EXACTLY what&#39;s wrong. In this chain `response.body().toString()` either `response` object is `null` (doubtful) or the call to `body()` is returning null. And so, you can call any method (in this case `toString()`) on a `null` reference.","body":"Seriously? The error captured in the image is telling you EXACTLY what&#39;s wrong. In this chain <code>response.body().toString()</code> either <code>response</code> object is <code>null</code> (doubtful) or the call to <code>body()</code> is returning null. And so, you can call any method (in this case <code>toString()</code>) on a <code>null</code> reference."},{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1642185928,"post_id":70715033,"comment_id":125012660,"body_markdown":"Actually the error already says that it is not response to be null but the body","body":"Actually the error already says that it is not response to be null but the body"},{"owner":{"account_id":18841324,"reputation":1,"user_id":13742678,"display_name":"Roshan Adhikari"},"score":0,"creation_date":1642186687,"post_id":70715033,"comment_id":125012924,"body_markdown":"please clarify and write code","body":"please clarify and write code"}],"answers":[{"tags":[],"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642189880,"creation_date":1642186242,"answer_id":70715272,"question_id":70715033,"body_markdown":"You should move the log after the check for success. In general, unless you have a good reason to assume that a variable is not null it is better to check.\r\nBy the way you don&#39;t need to explicitly call the `toString` you can do something like `&quot;&quot;+response.body()` and eventually you will get `null`.","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.gson.JsonElement.toString()&#39; on a null object reference","body":"<p>You should move the log after the check for success. In general, unless you have a good reason to assume that a variable is not null it is better to check.\nBy the way you don't need to explicitly call the <code>toString</code> you can do something like <code>&quot;&quot;+response.body()</code> and eventually you will get <code>null</code>.</p>\n"}],"owner":{"account_id":18841324,"reputation":1,"user_id":13742678,"display_name":"Roshan Adhikari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1984,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642242779,"answer_count":1,"score":-1,"last_activity_date":1642189880,"creation_date":1642184847,"question_id":70715033,"body_markdown":"\r\n```    \r\n  private void getNewPhotos() {\r\n        Call&lt;JsonElement&gt; call1 = RestClient.post().getNewPhotos(Config.NEW_ID, Config.unsplash_access_key);\r\n        call1.enqueue(new Callback&lt;JsonElement&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;JsonElement&gt; call, Response&lt;JsonElement&gt; response) {\r\n                //  progressDialog.dismiss();\r\n                newPhotoslist.clear();\r\n                Log.e(&quot;FeatureNews&quot;, response.body().toString());\r\n                if (response.isSuccessful()) {\r\n\r\n                    JSONArray jsonArr = null;\r\n\r\n\r\n                    try {\r\n                        jsonArr = new JSONArray(response.body().toString());\r\n                        if (jsonArr.length() &gt; 0) {\r\n                            for (int i = 0; i &lt; jsonArr.length(); i++) {\r\n                                JSONObject json2 = jsonArr.getJSONObject(i);\r\n                                String id=json2.getString(&quot;id&quot;);\r\n\r\n                                JSONObject object=json2.getJSONObject(&quot;urls&quot;);\r\n                                String url=object.getString(&quot;regular&quot;);\r\n\r\n                                JSONObject objectUser=json2.getJSONObject(&quot;user&quot;);\r\n                                JSONObject objectUserProfile=objectUser.getJSONObject(&quot;profile_image&quot;);\r\n                                String userprofile=objectUserProfile.getString(&quot;large&quot;);\r\n\r\n\r\n                                newPhotoslist.add(new PhotosBean(id,url,userprofile));\r\n\r\n                            }\r\n\r\n                            bindTrendData();\r\n\r\n                        }\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }\r\n            }\r\n```","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.gson.JsonElement.toString()&#39; on a null object reference","body":"<pre><code>  private void getNewPhotos() {\n        Call&lt;JsonElement&gt; call1 = RestClient.post().getNewPhotos(Config.NEW_ID, Config.unsplash_access_key);\n        call1.enqueue(new Callback&lt;JsonElement&gt;() {\n            @Override\n            public void onResponse(Call&lt;JsonElement&gt; call, Response&lt;JsonElement&gt; response) {\n                //  progressDialog.dismiss();\n                newPhotoslist.clear();\n                Log.e(&quot;FeatureNews&quot;, response.body().toString());\n                if (response.isSuccessful()) {\n\n                    JSONArray jsonArr = null;\n\n\n                    try {\n                        jsonArr = new JSONArray(response.body().toString());\n                        if (jsonArr.length() &gt; 0) {\n                            for (int i = 0; i &lt; jsonArr.length(); i++) {\n                                JSONObject json2 = jsonArr.getJSONObject(i);\n                                String id=json2.getString(&quot;id&quot;);\n\n                                JSONObject object=json2.getJSONObject(&quot;urls&quot;);\n                                String url=object.getString(&quot;regular&quot;);\n\n                                JSONObject objectUser=json2.getJSONObject(&quot;user&quot;);\n                                JSONObject objectUserProfile=objectUser.getJSONObject(&quot;profile_image&quot;);\n                                String userprofile=objectUserProfile.getString(&quot;large&quot;);\n\n\n                                newPhotoslist.add(new PhotosBean(id,url,userprofile));\n\n                            }\n\n                            bindTrendData();\n\n                        }\n\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n\n\n                }\n            }\n</code></pre>\n"},{"tags":["javascript","java","jsp","struts2","type-conversion"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1411644259,"post_id":26036876,"comment_id":40785545,"body_markdown":"You want to convert from string to byte array?","body":"You want to convert from string to byte array?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1411645189,"post_id":26036876,"comment_id":40786128,"body_markdown":"Have you tried to gooogle for how to convert a string to byte array in java?","body":"Have you tried to gooogle for how to convert a string to byte array in java?"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1411645890,"post_id":26036876,"comment_id":40786458,"body_markdown":"Googling or just Stackoverflowing :P","body":"Googling or just Stackoverflowing :P"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411649656,"creation_date":1411649656,"answer_id":26039194,"question_id":26036876,"body_markdown":"You need to write a custom type converter. Strings from input are converted as `String` type by default. You can read [which types conversion is supported via built-in type conversion][1].  If you want to convert a string to bytearray you need to write a converter. Then use it with your property\r\n\r\n    @TypeConversion(converter=&quot;org.conversion.StringToBytearrayConverter&quot;)\r\n    public void setContent(byte[] bytes) {\r\n      this.content = bytes;\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25698962/573032","title":"Type conversion from string to byte array in Struts 2","body":"<p>You need to write a custom type converter. Strings from input are converted as <code>String</code> type by default. You can read <a href=\"https://stackoverflow.com/a/25698962/573032\">which types conversion is supported via built-in type conversion</a>.  If you want to convert a string to bytearray you need to write a converter. Then use it with your property</p>\n\n<pre><code>@TypeConversion(converter=\"org.conversion.StringToBytearrayConverter\")\npublic void setContent(byte[] bytes) {\n  this.content = bytes;\n}\n</code></pre>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642189479,"creation_date":1411642712,"question_id":26036876,"body_markdown":"I am getting some input from the user on client side with no limit on characters. So I am storing input as a BLOB data type.\r\n\r\nI am directly getting my entity filled using getters and setters.\r\n\r\n**Action class:**\r\n\r\n    public class OperatorNotesAction extends ActionSupport {\r\n    \t\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate OperatorNotesInfo note;\r\n    ....\t\r\n    }\r\n\r\n`OperatorNotesInfo` is the entity I wana get filled. On client side I send the input filled by the user to the action class using JavaScript:\r\n\r\n**JS:**\r\n\r\n    $.ajax({\r\n    \ttype: &#39;POST&#39;,\r\n    \turl: &quot;&lt;s:url action=&#39;updateNote&#39;/&gt;&quot;,\r\n    \tdata:\r\n    \t{\t\t\t\t\t\r\n    \t\t&#39;note.title&#39;:$(&#39;#title&#39;).val(),\r\n    \t\t&#39;note.id.operatorId&#39;:$(&#39;#operatorId&#39;).val(),\r\n            &#39;note.content&#39;:$(&#39;textarea&#39;).val()\r\n    \r\n    \t},\r\n\r\nHere content is of byte array type in action class as it&#39;s stored as a BLOB.\r\n\r\nHow do I type convert the input entered by the user into byte array, so that content property of the entity `note` gets saved ?\r\n\t\t\t","title":"Type conversion from string to byte array in Struts 2","body":"<p>I am getting some input from the user on client side with no limit on characters. So I am storing input as a BLOB data type.</p>\n<p>I am directly getting my entity filled using getters and setters.</p>\n<p><strong>Action class:</strong></p>\n<pre><code>public class OperatorNotesAction extends ActionSupport {\n    \n\n    private static final long serialVersionUID = 1L;\n    \n    private OperatorNotesInfo note;\n....    \n}\n</code></pre>\n<p><code>OperatorNotesInfo</code> is the entity I wana get filled. On client side I send the input filled by the user to the action class using JavaScript:</p>\n<p><strong>JS:</strong></p>\n<pre><code>$.ajax({\n    type: 'POST',\n    url: &quot;&lt;s:url action='updateNote'/&gt;&quot;,\n    data:\n    {                   \n        'note.title':$('#title').val(),\n        'note.id.operatorId':$('#operatorId').val(),\n        'note.content':$('textarea').val()\n\n    },\n</code></pre>\n<p>Here content is of byte array type in action class as it's stored as a BLOB.</p>\n<p>How do I type convert the input entered by the user into byte array, so that content property of the entity <code>note</code> gets saved ?</p>\n"},{"tags":["java","active-directory","apacheds"],"comments":[{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":0,"creation_date":1363620534,"post_id":15480512,"comment_id":21911279,"body_markdown":"Have you tried anything? Where are you stuck? I&#39;m pretty sure a search with a big searchengine would yield enough results.","body":"Have you tried anything? Where are you stuck? I&#39;m pretty sure a search with a big searchengine would yield enough results."},{"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"score":0,"creation_date":1363703766,"post_id":15480512,"comment_id":21949743,"body_markdown":"I had the same challenge a couple of months ago. Do you only want to add a few attributes? If so, you might be able to do it with apacheds, but I had very-very bad experiences with it. No documentation at all, and all my experiments to extend its schema have failed. (It could be all my fault, of course.) Anyway I ended up sacking apacheds, and used the UnboundID java ldap sdk instead. With that I could load an exported Active Directory schema, which wasn&#39;t very easy either, but succeeded eventually. I can try to find something useful for you if you still need it.","body":"I had the same challenge a couple of months ago. Do you only want to add a few attributes? If so, you might be able to do it with apacheds, but I had very-very bad experiences with it. No documentation at all, and all my experiments to extend its schema have failed. (It could be all my fault, of course.) Anyway I ended up sacking apacheds, and used the UnboundID java ldap sdk instead. With that I could load an exported Active Directory schema, which wasn&#39;t very easy either, but succeeded eventually. I can try to find something useful for you if you still need it."},{"owner":{"account_id":2001641,"reputation":2740,"user_id":1792540,"accept_rate":75,"display_name":"sndyuk"},"score":0,"creation_date":1363707249,"post_id":15480512,"comment_id":21952255,"body_markdown":"Thanks @zagyi !! I still need it. I just want to add few attributes.","body":"Thanks @zagyi !! I still need it. I just want to add few attributes."},{"owner":{"account_id":2001641,"reputation":2740,"user_id":1792540,"accept_rate":75,"display_name":"sndyuk"},"score":0,"creation_date":1363835193,"post_id":15480512,"comment_id":22015038,"body_markdown":"I added a few attribute. But it&#39;s very long code... I still want simple code.","body":"I added a few attribute. But it&#39;s very long code... I still want simple code."}],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642189327,"creation_date":1642189327,"answer_id":70715778,"question_id":15480512,"body_markdown":"Use Apache DS Studio to define your own schema. You can use attributes and object classes from core, cosine or other schemas. Actually you can take MS AD schema and define the required object classes and attributes.\r\n\r\nYou probably will not be able to import AD schema directly in Apache DS as the formats would vary (even if they are both in LDIF), however, you can create the same classes and attributes in Apache DS schema (I recommend using different OIDs than MS).\r\n\r\nYou can then import the schema LDIF to Apache DS.","title":"How to build a ldap server that is same schema as active directory","body":"<p>Use Apache DS Studio to define your own schema. You can use attributes and object classes from core, cosine or other schemas. Actually you can take MS AD schema and define the required object classes and attributes.</p>\n<p>You probably will not be able to import AD schema directly in Apache DS as the formats would vary (even if they are both in LDIF), however, you can create the same classes and attributes in Apache DS schema (I recommend using different OIDs than MS).</p>\n<p>You can then import the schema LDIF to Apache DS.</p>\n"}],"owner":{"account_id":2001641,"reputation":2740,"user_id":1792540,"accept_rate":75,"display_name":"sndyuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642189327,"creation_date":1363620397,"question_id":15480512,"body_markdown":"I want to build a stub server using apacheds that has same schema as active directory.\r\n\r\nWe need to add custom attribute like:\r\nuserAccountControl, unicodePwd, ..etc.\r\n\r\nI have no idea how to add this to the default schema programmatically.\r\nAny idea?\r\n\r\napacheds version 2.0.0-M10\r\n\r\nThanks!","title":"How to build a ldap server that is same schema as active directory","body":"<p>I want to build a stub server using apacheds that has same schema as active directory.</p>\n\n<p>We need to add custom attribute like:\nuserAccountControl, unicodePwd, ..etc.</p>\n\n<p>I have no idea how to add this to the default schema programmatically.\nAny idea?</p>\n\n<p>apacheds version 2.0.0-M10</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","push-notification"],"comments":[{"owner":{"account_id":14620333,"reputation":35,"user_id":10559220,"display_name":"SkywalkerLuke JS"},"score":0,"creation_date":1642155476,"post_id":70708960,"comment_id":125001105,"body_markdown":"https://stackoverflow.com/questions/60170040/firebase-admin-sdk-fcm-error-exactly-one-of-topic-token-or-condition-is-require","body":"<a href=\"https://stackoverflow.com/questions/60170040/firebase-admin-sdk-fcm-error-exactly-one-of-topic-token-or-condition-is-require\" title=\"firebase admin sdk fcm error exactly one of topic token or condition is require\">stackoverflow.com/questions/60170040/&hellip;</a>"},{"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"score":0,"creation_date":1642189053,"post_id":70708960,"comment_id":125013715,"body_markdown":"@SkywalkerLukeJS I don&#39;t think there&#39;s a solution in there to my code. I&#39;m trying to send a notification, not a message. Also that person is using NodeJS, not Java.","body":"@SkywalkerLukeJS I don&#39;t think there&#39;s a solution in there to my code. I&#39;m trying to send a notification, not a message. Also that person is using NodeJS, not Java."}],"answers":[{"tags":[],"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642189186,"creation_date":1642189186,"answer_id":70715756,"question_id":70708960,"body_markdown":"Just had to put .setToken(...) after the line: build())\r\n\r\nI was putting it in the wrong place.","title":"FireBase Admin SDK Java: Sending a notification","body":"<p>Just had to put .setToken(...) after the line: build())</p>\n<p>I was putting it in the wrong place.</p>\n"}],"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642189186,"creation_date":1642155085,"question_id":70708960,"body_markdown":"I&#39;m trying to send a notification to my Android device using my Java Server with the FireBase Admin SDK.\r\n\r\nI can send test notifications from the FireBase website successfully, but I&#39;m having trouble setting it up on Java in my server:\r\n\r\n\t\tMessage message = Message.builder()\r\n\t    .setNotification(Notification.builder()\r\n\t        .setTitle(&quot;$GOOG up 1.43% on the day&quot;)\r\n\t        .setBody(&quot;$GOOG gained 11.80 points to close at 835.67, up 1.43% on the day.&quot;)\r\n\t        .build())\r\n\t    .build();\r\n\r\n\r\n\t\t// Send a message to the device corresponding to the provided\r\n\t\t// registration token.\r\n\t\tString response = &quot;N/A&quot;;\r\n\t\ttry {\r\n\t\t\tresponse = FirebaseMessaging.getInstance().send(message);\r\n\t\t} catch (FirebaseMessagingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nI get this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Exactly one of token, topic or condition must be specified\r\n\r\nWhere do I even set the user token here? I just want to send a simple notification using FireBase in Java to my Android FireBase client.","title":"FireBase Admin SDK Java: Sending a notification","body":"<p>I'm trying to send a notification to my Android device using my Java Server with the FireBase Admin SDK.</p>\n<p>I can send test notifications from the FireBase website successfully, but I'm having trouble setting it up on Java in my server:</p>\n<pre><code>    Message message = Message.builder()\n    .setNotification(Notification.builder()\n        .setTitle(&quot;$GOOG up 1.43% on the day&quot;)\n        .setBody(&quot;$GOOG gained 11.80 points to close at 835.67, up 1.43% on the day.&quot;)\n        .build())\n    .build();\n\n\n    // Send a message to the device corresponding to the provided\n    // registration token.\n    String response = &quot;N/A&quot;;\n    try {\n        response = FirebaseMessaging.getInstance().send(message);\n    } catch (FirebaseMessagingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I get this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Exactly one of token, topic or condition must be specified</p>\n</blockquote>\n<p>Where do I even set the user token here? I just want to send a simple notification using FireBase in Java to my Android FireBase client.</p>\n"},{"tags":["java","java-8","aem","crx"],"comments":[{"owner":{"account_id":5055816,"reputation":348,"user_id":4059086,"display_name":"Rob McDougall"},"score":0,"creation_date":1641653977,"post_id":70620618,"comment_id":124863507,"body_markdown":"It would help if you indicated which file is not found.\n\nAEM does not support Java 17 yet, so only 8 and 11 are supported.  I would recommend 11, since it&#39;s faster.  \n\nIf you switch Java versions then you will have to start again from scratch (delete crx-quickstart directory) if you downgrade (say from 11 to 8 or 17 to 11).  It compiles some classes and older versions won&#39;t like classes previously compiled under newer versions.","body":"It would help if you indicated which file is not found.  AEM does not support Java 17 yet, so only 8 and 11 are supported.  I would recommend 11, since it&#39;s faster.    If you switch Java versions then you will have to start again from scratch (delete crx-quickstart directory) if you downgrade (say from 11 to 8 or 17 to 11).  It compiles some classes and older versions won&#39;t like classes previously compiled under newer versions."},{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":0,"creation_date":1641846227,"post_id":70620618,"comment_id":124909387,"body_markdown":"Is JAVA_HOME setup? Share what errors appear under crx-quickstart/logs","body":"Is JAVA_HOME setup? Share what errors appear under crx-quickstart/logs"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642359138,"post_id":70620618,"comment_id":125044452,"body_markdown":"Please provide the exact error message.","body":"Please provide the exact error message."}],"answers":[{"tags":[],"owner":{"account_id":2931738,"reputation":541,"user_id":2511804,"display_name":"Sadistic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642189111,"creation_date":1642189111,"answer_id":70715744,"question_id":70620618,"body_markdown":"Dont try java17 as it is not supported by AEM yet. AEM 6.5 supports java8 and java11.\r\n\r\nI am not sure what steps you are following to setup the local environment or why you are getting file not found exception. Below are some steps that are generally used to set up local dev environment for AEM on windows.\r\n\r\n 1. Set up jdk- Use jdk8 or jdk11. Do the path setting in the environment variable. Use JAVA_HOME as environment variable name. To test if java is properly installed type `java -version` in command prompt and if you get the proper version then java is installed properly.\r\n 2. Set up maven - Use maven version 3.3.6 or above. Set the environment variable M2_HOME. Maven internally relies on JAVA_HOME, so that variable is required. To check run the command `mvn -v` in commmand prompt. If a proper version is displayed then maven is installed properly.\r\n 3. AEM jar - Keep the AEM jar and the license property file in same folder. Rename the jar to &#39;aem-author-p4502.jar&#39; for author running on port 4502. If you need publish instance then replace the author with publish and port as 4503.\r\n 4. To start AEM - From command prompt run `java -jar aem-author-p4502.jar`. Depending on system configuration it may take few minutes to start.\r\n ","title":"Trying to set-up AEM installation in my new laptop and its showing File Not Fount exception","body":"<p>Dont try java17 as it is not supported by AEM yet. AEM 6.5 supports java8 and java11.</p>\n<p>I am not sure what steps you are following to setup the local environment or why you are getting file not found exception. Below are some steps that are generally used to set up local dev environment for AEM on windows.</p>\n<ol>\n<li>Set up jdk- Use jdk8 or jdk11. Do the path setting in the environment variable. Use JAVA_HOME as environment variable name. To test if java is properly installed type <code>java -version</code> in command prompt and if you get the proper version then java is installed properly.</li>\n<li>Set up maven - Use maven version 3.3.6 or above. Set the environment variable M2_HOME. Maven internally relies on JAVA_HOME, so that variable is required. To check run the command <code>mvn -v</code> in commmand prompt. If a proper version is displayed then maven is installed properly.</li>\n<li>AEM jar - Keep the AEM jar and the license property file in same folder. Rename the jar to 'aem-author-p4502.jar' for author running on port 4502. If you need publish instance then replace the author with publish and port as 4503.</li>\n<li>To start AEM - From command prompt run <code>java -jar aem-author-p4502.jar</code>. Depending on system configuration it may take few minutes to start.</li>\n</ol>\n"}],"owner":{"account_id":23859056,"reputation":11,"user_id":17862255,"display_name":"vidhya r s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642189111,"creation_date":1641555150,"question_id":70620618,"body_markdown":"Was trying to set-up my local environment to practice AEM dev concepts and installed the same version of jdk8 and crx 6.5 version.\r\n\r\nWhen I try to instantiate the author jar, it&#39;s showing a FILENOTFOUND EXCEPTION.\r\n\r\nI tried with different versions of AEM like 11,17 no clue to the problem\r\n\r\nPlease can somebody help! Thanks a lot in advance!","title":"Trying to set-up AEM installation in my new laptop and its showing File Not Fount exception","body":"<p>Was trying to set-up my local environment to practice AEM dev concepts and installed the same version of jdk8 and crx 6.5 version.</p>\n<p>When I try to instantiate the author jar, it's showing a FILENOTFOUND EXCEPTION.</p>\n<p>I tried with different versions of AEM like 11,17 no clue to the problem</p>\n<p>Please can somebody help! Thanks a lot in advance!</p>\n"},{"tags":["java","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1497954466,"post_id":44650274,"comment_id":76285903,"body_markdown":"What do you mean by &#39;different project&#39;? Is this another plugin? Is that plugin in the dependencies list of the current plugin?","body":"What do you mean by &#39;different project&#39;? Is this another plugin? Is that plugin in the dependencies list of the current plugin?"},{"owner":{"account_id":438921,"reputation":481,"user_id":827502,"accept_rate":46,"display_name":"Ganesh Rao B"},"score":0,"creation_date":1497954669,"post_id":44650274,"comment_id":76286036,"body_markdown":"Ya this is another plugin project .","body":"Ya this is another plugin project ."},{"owner":{"account_id":438921,"reputation":481,"user_id":827502,"accept_rate":46,"display_name":"Ganesh Rao B"},"score":0,"creation_date":1497954693,"post_id":44650274,"comment_id":76286055,"body_markdown":"that plugin in the dependencies list of the current plugin -NO","body":"that plugin in the dependencies list of the current plugin -NO"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497955485,"creation_date":1497955485,"answer_id":44650898,"question_id":44650274,"body_markdown":"If the class is in another plugin which is not in your plugin&#39;s dependency list then you need to know the id of the plugin to load the class.\r\n\r\nYou would get the class using:\r\n\r\n    Bundle bundle = Platform.getBundle(&quot;the plugin id&quot;);\r\n\r\n    Class&lt;?&gt; theClass = bundle.loadClass(&quot;the class name&quot;);\r\n\r\nYou can then use `NLS.initializeMessages` using the class, **but** the `BUNDLE_NAME` you specify must be loadable by the class loader for `theClass` - which means it must be in the same plugin or one of that plugin&#39;s dependencies, it can&#39;t be in your plugin.\r\n","title":"NLS initializing Messaging","body":"<p>If the class is in another plugin which is not in your plugin's dependency list then you need to know the id of the plugin to load the class.</p>\n\n<p>You would get the class using:</p>\n\n<pre><code>Bundle bundle = Platform.getBundle(\"the plugin id\");\n\nClass&lt;?&gt; theClass = bundle.loadClass(\"the class name\");\n</code></pre>\n\n<p>You can then use <code>NLS.initializeMessages</code> using the class, <strong>but</strong> the <code>BUNDLE_NAME</code> you specify must be loadable by the class loader for <code>theClass</code> - which means it must be in the same plugin or one of that plugin's dependencies, it can't be in your plugin.</p>\n"}],"owner":{"account_id":438921,"reputation":481,"user_id":827502,"accept_rate":46,"display_name":"Ganesh Rao B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642189104,"creation_date":1497953830,"question_id":44650274,"body_markdown":"I am using the `NLS.initializeMessages(BUNDLE_NAME, XYZ.class)` to load the constants.\r\n\r\nWhen &#39;BUNDLE_NAME&#39; and &#39;XYZ.class&#39; are present in the same project it works, but when it&#39;s in a different project it is not working.\r\n\r\nCan we use the above API when we have &#39;BUNDLE_NAME&#39; and &#39;XYZ.class&#39; in different project?\r\n\r\n\r\n","title":"NLS initializing Messaging","body":"<p>I am using the <code>NLS.initializeMessages(BUNDLE_NAME, XYZ.class)</code> to load the constants.</p>\n<p>When 'BUNDLE_NAME' and 'XYZ.class' are present in the same project it works, but when it's in a different project it is not working.</p>\n<p>Can we use the above API when we have 'BUNDLE_NAME' and 'XYZ.class' in different project?</p>\n"},{"tags":["java","metrics","dropwizard","codahale-metrics"],"answers":[{"tags":[],"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1435000289,"creation_date":1435000289,"answer_id":30987963,"question_id":30987775,"body_markdown":"Quoting the same [link][1] you added:\r\n\r\n&gt; &lt;h3&gt;Cached Gauges&lt;/h3&gt;\r\n&gt; \r\n&gt; A cached gauge allows for a more efficient reporting of values which\r\n&gt; are expensive to calculate\r\n\r\nWhat if your metric takes around two seconds seconds to calculate, or even minutes? Would you calculate every time the user request the data? Makes sense to store on a cache.\r\n\r\nSuch metric isn&#39;t what I would call *real time* because updating itself takes more time than rendering the information for the user. The metric is outdated already when it finishes it&#39;s calculation.\r\n\r\n\r\n  [1]: https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges","title":"Why ever use CachedGauage in Dropwizard Metrics?","body":"<p>Quoting the same <a href=\"https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges\" rel=\"noreferrer\">link</a> you added:</p>\n\n<blockquote>\n  <h3>Cached Gauges</h3>\n  \n  <p>A cached gauge allows for a more efficient reporting of values which\n  are expensive to calculate</p>\n</blockquote>\n\n<p>What if your metric takes around two seconds seconds to calculate, or even minutes? Would you calculate every time the user request the data? Makes sense to store on a cache.</p>\n\n<p>Such metric isn't what I would call <em>real time</em> because updating itself takes more time than rendering the information for the user. The metric is outdated already when it finishes it's calculation.</p>\n"},{"tags":[],"owner":{"account_id":5550205,"reputation":31,"user_id":4403580,"display_name":"Tiago L. Alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642188947,"creation_date":1642188947,"answer_id":70715720,"question_id":30987775,"body_markdown":"Just a note of warning when using `CachedGauge`. You need to take into account  the computation time when specifying the time for which you&#39;re caching that value. This is because the cache expiry period starts counting before the computation is done and it&#39;s not the cache period after the value is computed. \r\n\r\nFor example, in the example in the link which we&#39;re caching a value for 10 minutes, if `loadValue()` takes 5m, we&#39;re only caching it for 10m - 5m = 5 minutes.","title":"Why ever use CachedGauage in Dropwizard Metrics?","body":"<p>Just a note of warning when using <code>CachedGauge</code>. You need to take into account  the computation time when specifying the time for which you're caching that value. This is because the cache expiry period starts counting before the computation is done and it's not the cache period after the value is computed.</p>\n<p>For example, in the example in the link which we're caching a value for 10 minutes, if <code>loadValue()</code> takes 5m, we're only caching it for 10m - 5m = 5 minutes.</p>\n"}],"owner":{"account_id":4973546,"reputation":28157,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1325,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30987963,"answer_count":2,"score":5,"last_activity_date":1642188947,"creation_date":1434999719,"question_id":30987775,"body_markdown":"I see there is the [`CachedGauge`](https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges) in the DropWizard Metrics (formerly Coda Hale Metrics) lib. I&#39;m wondering why anyone would *ever* use this?!?\r\n\r\nMy *understanding* of the value of a metric is that it is real-time, accurate and relevant. If a metric is reporting a stale/cached value, of what purpose could it possibly serve?","title":"Why ever use CachedGauage in Dropwizard Metrics?","body":"<p>I see there is the <a href=\"https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges\" rel=\"noreferrer\"><code>CachedGauge</code></a> in the DropWizard Metrics (formerly Coda Hale Metrics) lib. I'm wondering why anyone would <em>ever</em> use this?!?</p>\n\n<p>My <em>understanding</em> of the value of a metric is that it is real-time, accurate and relevant. If a metric is reporting a stale/cached value, of what purpose could it possibly serve?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataproc"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1641741093,"post_id":70640346,"comment_id":124879698,"body_markdown":"From where are your run that code? If out of Google Cloud (on your local workstation or on another cloud/on-prem environment, which type of authentication do you use?","body":"From where are your run that code? If out of Google Cloud (on your local workstation or on another cloud/on-prem environment, which type of authentication do you use?"},{"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"score":0,"creation_date":1641742430,"post_id":70640346,"comment_id":124880037,"body_markdown":"yes it&#39;s on my local machine, I am authenticated using end user credentials","body":"yes it&#39;s on my local machine, I am authenticated using end user credentials"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1641748435,"post_id":70640346,"comment_id":124881770,"body_markdown":"Sadly, you have to use a service account key file. The library create a JWT and try to add scope. It&#39;s  not possible to create ID Token with user credential and google cloud auth....","body":"Sadly, you have to use a service account key file. The library create a JWT and try to add scope. It&#39;s  not possible to create ID Token with user credential and google cloud auth...."},{"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"score":0,"creation_date":1641750956,"post_id":70640346,"comment_id":124882403,"body_markdown":"Are you submitting with gcloud? Could you share your command?","body":"Are you submitting with gcloud? Could you share your command?"},{"owner":{"account_id":21489672,"reputation":1464,"user_id":15835642,"display_name":"Sandeep Mohanty"},"score":0,"creation_date":1641817353,"post_id":70640346,"comment_id":124897651,"body_markdown":"Could you try using the [service account keys](https://cloud.google.com/dataproc/docs/reference/libraries#setting_up_authentication) ? It worked for me.","body":"Could you try using the <a href=\"https://cloud.google.com/dataproc/docs/reference/libraries#setting_up_authentication\" rel=\"nofollow noreferrer\">service account keys</a> ? It worked for me."}],"answers":[{"tags":[],"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642188161,"creation_date":1642188161,"answer_id":70715582,"question_id":70640346,"body_markdown":"The method `com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)` was introduced in `com.google.api:gax` in version [2.3.0](https://github.com/googleapis/gax-java/releases/tag/v2.3.0).\r\n\r\nCan you \r\n\r\n1) run `mvn dependency:tree` and confirm that your version of `com.google.api:gax` is above version 2.3.0?\r\n\r\n2) upgrade all Google libraries to the latest version?\r\n\r\nHere is a [similar issue](https://issueexplorer.com/issue/GoogleCloudPlatform/google-cloud-graalvm-support/211) found on the internet.","title":"Dataproc Java client throws NoSuchMethodError setUseJwtAccessWithScope","body":"<p>The method <code>com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)</code> was introduced in <code>com.google.api:gax</code> in version <a href=\"https://github.com/googleapis/gax-java/releases/tag/v2.3.0\" rel=\"nofollow noreferrer\">2.3.0</a>.</p>\n<p>Can you</p>\n<ol>\n<li><p>run <code>mvn dependency:tree</code> and confirm that your version of <code>com.google.api:gax</code> is above version 2.3.0?</p>\n</li>\n<li><p>upgrade all Google libraries to the latest version?</p>\n</li>\n</ol>\n<p>Here is a <a href=\"https://issueexplorer.com/issue/GoogleCloudPlatform/google-cloud-graalvm-support/211\" rel=\"nofollow noreferrer\">similar issue</a> found on the internet.</p>\n"}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2547,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70715582,"answer_count":1,"score":3,"last_activity_date":1642188258,"creation_date":1641723796,"question_id":70640346,"body_markdown":"I am following this [article][1] ,for submit a job to an existing Dataproc cluster via a Dataproc API\r\n\r\nFor the following line of code : \r\n\r\n     // Configure the settings for the job controller client.\r\n        JobControllerSettings jobControllerSettings =\r\n            JobControllerSettings.newBuilder().setEndpoint(myEndpoint).build();\r\n\r\nI am getting the following errors : \r\n\r\n    SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)&#39;] with root cause\r\n    java.lang.NoSuchMethodError: &#39;com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)&#39;\r\n\r\nIn my pom I used the following dependencies :\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;24.1.2&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n\r\n And added the dataproc \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-cloud-dataproc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAny help what I am missing here?\r\n\r\n  [1]: https://cloud.google.com/dataproc/docs/guides/submit-job\r\n\r\n","title":"Dataproc Java client throws NoSuchMethodError setUseJwtAccessWithScope","body":"<p>I am following this <a href=\"https://cloud.google.com/dataproc/docs/guides/submit-job\" rel=\"nofollow noreferrer\">article</a> ,for submit a job to an existing Dataproc cluster via a Dataproc API</p>\n<p>For the following line of code :</p>\n<pre><code> // Configure the settings for the job controller client.\n    JobControllerSettings jobControllerSettings =\n        JobControllerSettings.newBuilder().setEndpoint(myEndpoint).build();\n</code></pre>\n<p>I am getting the following errors :</p>\n<pre><code>SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)'] with root cause\njava.lang.NoSuchMethodError: 'com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)'\n</code></pre>\n<p>In my pom I used the following dependencies :</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;24.1.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>And added the dataproc</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-dataproc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any help what I am missing here?</p>\n"},{"tags":["java","authentication","ldap","virtual-directory","apacheds"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642188151,"creation_date":1642188151,"answer_id":70715578,"question_id":31940543,"body_markdown":"**Disclaimer:** I know very little about Spring Framework and even less of Spring Security\r\n\r\nHaving said that. I did face a similar situation, in my case, it was Apache DS as my app authentication source and client AD as the other.\r\n\r\nMy deployment environment was Tomcat and I used Tomcat Combined realm, which nests more than one realm for authentication. My app realm was configured to be one and client&#39;s AD was configured to be another.\r\n\r\nUsers could authenticate from any one of the realm, it worked. However, I did have to replicate client&#39;s AD users every night (including AD tombstones to mark them inactive), for authentication is one thing but other client information was also required, e.g. email, roles etc. and inclusion of new users.\r\n\r\nI am kind of sure that Spring Security will also have the concept of Combined Realm.\r\n\r\nI understand that this answer is not really an answer and more of design approach and many years too late at that; however, I wished to share my experience.","title":"Providing LDAP support on top of existing Database authentication","body":"<p><strong>Disclaimer:</strong> I know very little about Spring Framework and even less of Spring Security</p>\n<p>Having said that. I did face a similar situation, in my case, it was Apache DS as my app authentication source and client AD as the other.</p>\n<p>My deployment environment was Tomcat and I used Tomcat Combined realm, which nests more than one realm for authentication. My app realm was configured to be one and client's AD was configured to be another.</p>\n<p>Users could authenticate from any one of the realm, it worked. However, I did have to replicate client's AD users every night (including AD tombstones to mark them inactive), for authentication is one thing but other client information was also required, e.g. email, roles etc. and inclusion of new users.</p>\n<p>I am kind of sure that Spring Security will also have the concept of Combined Realm.</p>\n<p>I understand that this answer is not really an answer and more of design approach and many years too late at that; however, I wished to share my experience.</p>\n"}],"owner":{"account_id":4706918,"reputation":764,"user_id":3808721,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642188151,"creation_date":1439292503,"question_id":31940543,"body_markdown":"I am working on a java application having Database authentication using spring-security.\r\nIt is very usual that, this application is used with other applications on similar domain. \r\n\r\n**Requirement:** The need is that all such partner apps should be able to share common authentication with my application.\r\nAlso it is required to continue supporting DB authentication as well.\r\n\r\nOne way I found is to embed LDAP server like ApacheDS in my application so that other partner apps can use it to get authenticated.\r\nIn this case, I need to load ApacheDS with related Database records and keep it in sync programmatically.\r\nBut disadvantage on this is to have redundant copy of authentication data - one at DB and another at ApacheDS LDAP.\r\n\r\n**Question:** Is there any way to avoid such duplication. By googling, I found option of having virtual directory server [Penrose](https://fedorahosted.org/penrose/) or [Oracle Virtual Directory](http://www.oracle.com/technetwork/middleware/id-mgmt/index-093158.html). But unfortunately they cannot be embedded in application. Is there any way to provide embedded LDAP support on top of existing Database authentication?","title":"Providing LDAP support on top of existing Database authentication","body":"<p>I am working on a java application having Database authentication using spring-security.\nIt is very usual that, this application is used with other applications on similar domain. </p>\n\n<p><strong>Requirement:</strong> The need is that all such partner apps should be able to share common authentication with my application.\nAlso it is required to continue supporting DB authentication as well.</p>\n\n<p>One way I found is to embed LDAP server like ApacheDS in my application so that other partner apps can use it to get authenticated.\nIn this case, I need to load ApacheDS with related Database records and keep it in sync programmatically.\nBut disadvantage on this is to have redundant copy of authentication data - one at DB and another at ApacheDS LDAP.</p>\n\n<p><strong>Question:</strong> Is there any way to avoid such duplication. By googling, I found option of having virtual directory server <a href=\"https://fedorahosted.org/penrose/\" rel=\"nofollow\">Penrose</a> or <a href=\"http://www.oracle.com/technetwork/middleware/id-mgmt/index-093158.html\" rel=\"nofollow\">Oracle Virtual Directory</a>. But unfortunately they cannot be embedded in application. Is there any way to provide embedded LDAP support on top of existing Database authentication?</p>\n"},{"tags":["java","sql","hadoop","hive","hiveql"],"answers":[{"tags":[],"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593238323,"creation_date":1593237172,"answer_id":62606459,"question_id":62605917,"body_markdown":"I think i figured it out\r\n\r\n    select k,collect_set(vi) from dum lateral view explode(val) x as k,v lateral view explode(v) y as vi group by k;\r\n\r\nand i get\r\n\r\n    B\t[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\r\n    A\t[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;]\r\n\r\nIs this the correct way ?","title":"Hive : How to flatten an array?","body":"<p>I think i figured it out</p>\n<pre><code>select k,collect_set(vi) from dum lateral view explode(val) x as k,v lateral view explode(v) y as vi group by k;\n</code></pre>\n<p>and i get</p>\n<pre><code>B   [&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\nA   [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;]\n</code></pre>\n<p>Is this the correct way ?</p>\n"},{"tags":[],"owner":{"account_id":1149847,"reputation":3845,"user_id":1131789,"accept_rate":85,"display_name":"Rishu S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593257684,"creation_date":1593257684,"answer_id":62609450,"question_id":62605917,"body_markdown":"You can also try to use `concat_ws` on top of `collect_list` / `collect_set` to flatten the collected data.\r\n\r\n    select split(concat_ws(&#39;,&#39;,collect_list(concat_ws(&#39;,&#39;,pe.v1))),&#39;,&#39;) from dum lateral view explode(val) pe as k1,v1 group by val\r\n\r\n\r\n\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9Hnp.png","title":"Hive : How to flatten an array?","body":"<p>You can also try to use <code>concat_ws</code> on top of <code>collect_list</code> / <code>collect_set</code> to flatten the collected data.</p>\n<pre><code>select split(concat_ws(',',collect_list(concat_ws(',',pe.v1))),',') from dum lateral view explode(val) pe as k1,v1 group by val\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/i9Hnp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i9Hnp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12481947,"reputation":154,"user_id":9086383,"display_name":"Keith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642187912,"creation_date":1642187912,"answer_id":70715537,"question_id":62605917,"body_markdown":"There&#39;s actually already a brickhouse UDF for this, `array_flatten`:\r\nhttps://github.com/klout/brickhouse/blob/master/src/main/java/brickhouse/udf/collect/ArrayFlattenUDF.java\r\n\r\n```sql\r\nhive (default)&gt; select array_flatten(array(array(&#39;a&#39;, &#39;b&#39;), array(&#39;b&#39;, &#39;c&#39;)));\r\nOK\r\n[&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;]\r\nTime taken: 0.302 seconds, Fetched: 1 row(s)\r\n```\r\nA bit janky, but you can also de-dupe using another brickhouse UDF, `array_union`, and just pass an additional empty array:\r\n```sql\r\nhive (default)&gt; select array_union(array_flatten(array(array(&#39;a&#39;, &#39;b&#39;), array(&#39;b&#39;, &#39;c&#39;))), array());\r\nOK\r\n[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]\r\nTime taken: 0.245 seconds, Fetched: 1 row(s)\r\n```","title":"Hive : How to flatten an array?","body":"<p>There's actually already a brickhouse UDF for this, <code>array_flatten</code>:\n<a href=\"https://github.com/klout/brickhouse/blob/master/src/main/java/brickhouse/udf/collect/ArrayFlattenUDF.java\" rel=\"nofollow noreferrer\">https://github.com/klout/brickhouse/blob/master/src/main/java/brickhouse/udf/collect/ArrayFlattenUDF.java</a></p>\n<pre class=\"lang-sql prettyprint-override\"><code>hive (default)&gt; select array_flatten(array(array('a', 'b'), array('b', 'c')));\nOK\n[&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;]\nTime taken: 0.302 seconds, Fetched: 1 row(s)\n</code></pre>\n<p>A bit janky, but you can also de-dupe using another brickhouse UDF, <code>array_union</code>, and just pass an additional empty array:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>hive (default)&gt; select array_union(array_flatten(array(array('a', 'b'), array('b', 'c'))), array());\nOK\n[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]\nTime taken: 0.245 seconds, Fetched: 1 row(s)\n</code></pre>\n"}],"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62609450,"answer_count":3,"score":1,"last_activity_date":1642187912,"creation_date":1593232725,"question_id":62605917,"body_markdown":"I have this table\r\n\r\n    CREATE TABLE `dum`(\r\n      `val` map&lt;string,array&lt;string&gt;&gt;)\r\n    ROW FORMAT SERDE\r\n      &#39;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&#39;\r\n    STORED AS INPUTFORMAT\r\n      &#39;org.apache.hadoop.mapred.SequenceFileInputFormat&#39;\r\n    OUTPUTFORMAT\r\n      &#39;org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat&#39;\r\n    LOCATION\r\n      &#39;some/hdfs/dum&#39;\r\n    TBLPROPERTIES (\r\n      &#39;transient_lastDdlTime&#39;=&#39;1593230834&#39;)\r\n\r\nand i insert a simple value here as\r\n\r\n    insert into dum select map(&#39;A&#39;,array(&#39;1&#39;,&#39;2&#39;,&#39;3&#39;),&#39;B&#39;,array(&#39;4&#39;,&#39;5&#39;,&#39;6&#39;));\r\n\r\nand i see this data as\r\n\r\n    hive&gt; select * from dum;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627042934_21c7038a-3499-4076-a67b-7260f0b57030\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks is set to 0 since there&#39;s no reduce operator\r\n    Starting Job = job_1593212599278_0076, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0076/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0076\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n    2020-06-27 04:29:43,830 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 04:29:51,000 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.04 sec\r\n    MapReduce Total cumulative CPU time: 4 seconds 40 msec\r\n    Ended Job = job_1593212599278_0076\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1   Cumulative CPU: 4.04 sec   HDFS Read: 237 HDFS Write: 124 SUCCESS\r\n    Total MapReduce CPU Time Spent: 4 seconds 40 msec\r\n    OK\r\n    {&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\r\n\r\nnow i want to collect all the values in the above map column. and i want to collect them as an array\r\n\r\nwhen i do\r\n\r\n    hive&gt; select map_values(val) from dum;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627043423_63c2a284-ca5b-4c6a-b8e9-3226f81c8b0d\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks is set to 0 since there&#39;s no reduce operator\r\n    Starting Job = job_1593212599278_0077, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0077/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0077\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n    2020-06-27 04:34:31,658 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 04:34:38,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.9 sec\r\n    MapReduce Total cumulative CPU time: 4 seconds 900 msec\r\n    Ended Job = job_1593212599278_0077\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1   Cumulative CPU: 4.9 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\r\n    Total MapReduce CPU Time Spent: 4 seconds 900 msec\r\n    OK\r\n    [[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\r\n    Time taken: 16.82 seconds, Fetched: 1 row(s)\r\n    hive&gt;\r\n\r\ni want the result in an array like this\r\n\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\r\n\r\nso basically i just want to **flatten the array of arrays**\r\n\r\nhow can i achieve that ? i tried collect_set but i got the same result as above\r\n\r\n    hive&gt; select collect_set(v) from dum lateral view explode(map_values(val)) vl as v;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627043601_e3483ad4-96be-459d-9384-6d4d2852afa1\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks determined at compile time: 1\r\n    In order to change the average load for a reducer (in bytes):\r\n      set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\r\n    In order to limit the maximum number of reducers:\r\n      set hive.exec.reducers.max=&lt;number&gt;\r\n    In order to set a constant number of reducers:\r\n      set mapreduce.job.reduces=&lt;number&gt;\r\n    Starting Job = job_1593212599278_0078, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0078/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0078\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\r\n    2020-06-27 04:36:11,241 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 04:36:19,424 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 5.36 sec\r\n    2020-06-27 04:36:25,556 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 8.04 sec\r\n    MapReduce Total cumulative CPU time: 8 seconds 40 msec\r\n    Ended Job = job_1593212599278_0078\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 8.04 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\r\n    Total MapReduce CPU Time Spent: 8 seconds 40 msec\r\n    OK\r\n    [[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\r\n\r\nwhat am i doing wrong ? Here is one way i found\r\n\r\n    hive&gt; select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627054452_d23a4e84-e68e-4087-8513-23b31d7ad1d1\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks determined at compile time: 1\r\n    In order to change the average load for a reducer (in bytes):\r\n      set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\r\n    In order to limit the maximum number of reducers:\r\n      set hive.exec.reducers.max=&lt;number&gt;\r\n    In order to set a constant number of reducers:\r\n      set mapreduce.job.reduces=&lt;number&gt;\r\n    Starting Job = job_1593212599278_0090, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0090/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0090\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\r\n    2020-06-27 05:44:58,435 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 05:45:06,604 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.95 sec\r\n    2020-06-27 05:45:12,725 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 7.5 sec\r\n    MapReduce Total cumulative CPU time: 7 seconds 500 msec\r\n    Ended Job = job_1593212599278_0090\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 7.5 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\r\n    Total MapReduce CPU Time Spent: 7 seconds 500 msec\r\n    OK\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\r\n    Time taken: 21.69 seconds, Fetched: 1 row(s)\r\n\r\nI dont know if this is the ideal approach\r\n\r\nalso, this does not work with multiple rows. consider this\r\n\r\n    insert into dum select map(&#39;A&#39;,array(&#39;7&#39;,&#39;8&#39;,&#39;9&#39;),&#39;B&#39;,array(&#39;10&#39;,&#39;11&#39;,&#39;12&#39;));\r\n\r\nso now we have\r\n\r\n    hive&gt; select * from dum;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627055921_69298f96-ebd4-4022-aa44-228e81203404\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks is set to 0 since there&#39;s no reduce operator\r\n    Starting Job = job_1593212599278_0098, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0098/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0098\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n    2020-06-27 05:59:27,692 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 05:59:33,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 3.86 sec\r\n    MapReduce Total cumulative CPU time: 3 seconds 860 msec\r\n    Ended Job = job_1593212599278_0098\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1   Cumulative CPU: 3.86 sec   HDFS Read: 336 HDFS Write: 164 SUCCESS\r\n    Total MapReduce CPU Time Spent: 3 seconds 860 msec\r\n    OK\r\n    {&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\r\n    {&quot;A&quot;:[&quot;7&quot;,&quot;8&quot;,&quot;9&quot;],&quot;B&quot;:[&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]}\r\n\r\nbut if try the above solution\r\n\r\n    select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\r\n\r\ni get\r\n\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\r\n\r\nhowever, i want to see\r\n\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\r\n    [&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]","title":"Hive : How to flatten an array?","body":"<p>I have this table</p>\n<pre><code>CREATE TABLE `dum`(\n  `val` map&lt;string,array&lt;string&gt;&gt;)\nROW FORMAT SERDE\n  'org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe'\nSTORED AS INPUTFORMAT\n  'org.apache.hadoop.mapred.SequenceFileInputFormat'\nOUTPUTFORMAT\n  'org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat'\nLOCATION\n  'some/hdfs/dum'\nTBLPROPERTIES (\n  'transient_lastDdlTime'='1593230834')\n</code></pre>\n<p>and i insert a simple value here as</p>\n<pre><code>insert into dum select map('A',array('1','2','3'),'B',array('4','5','6'));\n</code></pre>\n<p>and i see this data as</p>\n<pre><code>hive&gt; select * from dum;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627042934_21c7038a-3499-4076-a67b-7260f0b57030\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nStarting Job = job_1593212599278_0076, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0076/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0076\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\n2020-06-27 04:29:43,830 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 04:29:51,000 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.04 sec\nMapReduce Total cumulative CPU time: 4 seconds 40 msec\nEnded Job = job_1593212599278_0076\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1   Cumulative CPU: 4.04 sec   HDFS Read: 237 HDFS Write: 124 SUCCESS\nTotal MapReduce CPU Time Spent: 4 seconds 40 msec\nOK\n{&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\n</code></pre>\n<p>now i want to collect all the values in the above map column. and i want to collect them as an array</p>\n<p>when i do</p>\n<pre><code>hive&gt; select map_values(val) from dum;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627043423_63c2a284-ca5b-4c6a-b8e9-3226f81c8b0d\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nStarting Job = job_1593212599278_0077, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0077/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0077\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\n2020-06-27 04:34:31,658 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 04:34:38,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.9 sec\nMapReduce Total cumulative CPU time: 4 seconds 900 msec\nEnded Job = job_1593212599278_0077\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1   Cumulative CPU: 4.9 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\nTotal MapReduce CPU Time Spent: 4 seconds 900 msec\nOK\n[[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\nTime taken: 16.82 seconds, Fetched: 1 row(s)\nhive&gt;\n</code></pre>\n<p>i want the result in an array like this</p>\n<pre><code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\n</code></pre>\n<p>so basically i just want to <strong>flatten the array of arrays</strong></p>\n<p>how can i achieve that ? i tried collect_set but i got the same result as above</p>\n<pre><code>hive&gt; select collect_set(v) from dum lateral view explode(map_values(val)) vl as v;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627043601_e3483ad4-96be-459d-9384-6d4d2852afa1\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks determined at compile time: 1\nIn order to change the average load for a reducer (in bytes):\n  set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\nIn order to limit the maximum number of reducers:\n  set hive.exec.reducers.max=&lt;number&gt;\nIn order to set a constant number of reducers:\n  set mapreduce.job.reduces=&lt;number&gt;\nStarting Job = job_1593212599278_0078, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0078/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0078\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\n2020-06-27 04:36:11,241 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 04:36:19,424 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 5.36 sec\n2020-06-27 04:36:25,556 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 8.04 sec\nMapReduce Total cumulative CPU time: 8 seconds 40 msec\nEnded Job = job_1593212599278_0078\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 8.04 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\nTotal MapReduce CPU Time Spent: 8 seconds 40 msec\nOK\n[[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\n</code></pre>\n<p>what am i doing wrong ? Here is one way i found</p>\n<pre><code>hive&gt; select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627054452_d23a4e84-e68e-4087-8513-23b31d7ad1d1\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks determined at compile time: 1\nIn order to change the average load for a reducer (in bytes):\n  set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\nIn order to limit the maximum number of reducers:\n  set hive.exec.reducers.max=&lt;number&gt;\nIn order to set a constant number of reducers:\n  set mapreduce.job.reduces=&lt;number&gt;\nStarting Job = job_1593212599278_0090, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0090/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0090\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\n2020-06-27 05:44:58,435 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 05:45:06,604 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.95 sec\n2020-06-27 05:45:12,725 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 7.5 sec\nMapReduce Total cumulative CPU time: 7 seconds 500 msec\nEnded Job = job_1593212599278_0090\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 7.5 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\nTotal MapReduce CPU Time Spent: 7 seconds 500 msec\nOK\n[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\nTime taken: 21.69 seconds, Fetched: 1 row(s)\n</code></pre>\n<p>I dont know if this is the ideal approach</p>\n<p>also, this does not work with multiple rows. consider this</p>\n<pre><code>insert into dum select map('A',array('7','8','9'),'B',array('10','11','12'));\n</code></pre>\n<p>so now we have</p>\n<pre><code>hive&gt; select * from dum;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627055921_69298f96-ebd4-4022-aa44-228e81203404\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nStarting Job = job_1593212599278_0098, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0098/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0098\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\n2020-06-27 05:59:27,692 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 05:59:33,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 3.86 sec\nMapReduce Total cumulative CPU time: 3 seconds 860 msec\nEnded Job = job_1593212599278_0098\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1   Cumulative CPU: 3.86 sec   HDFS Read: 336 HDFS Write: 164 SUCCESS\nTotal MapReduce CPU Time Spent: 3 seconds 860 msec\nOK\n{&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\n{&quot;A&quot;:[&quot;7&quot;,&quot;8&quot;,&quot;9&quot;],&quot;B&quot;:[&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]}\n</code></pre>\n<p>but if try the above solution</p>\n<pre><code>select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\n</code></pre>\n<p>i get</p>\n<pre><code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\n</code></pre>\n<p>however, i want to see</p>\n<pre><code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\n[&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1642152320,"post_id":70700759,"comment_id":125000048,"body_markdown":"1) Have a look at [this Q&amp;A](https://stackoverflow.com/q/15025092/418556) which does much the same thing (I think). 2) Use tags wisely. This one will get a lot more views with the Swing and Java tags added. 3) For better help sooner, [edit] to add a [mre].","body":"1) Have a look at <a href=\"https://stackoverflow.com/q/15025092/418556\">this Q&amp;A</a> which does much the same thing (I think). 2) Use tags wisely. This one will get a lot more views with the Swing and Java tags added. 3) For better help sooner, <a href=\"https://stackoverflow.com/posts/70700759/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642187794,"creation_date":1642187354,"answer_id":70715459,"question_id":70700759,"body_markdown":"Please see below. Use it as you normally do in your provided example, i.e., \t\t`startButton.setBorder(new RoundedButton(20));` passing the radius parameter.\r\n\r\nAlso, optionally, you can add the next line of code, i.e., `startButton.setFocusPainted(false);` to disable the focus border of the JButton.\r\n\r\n\r\n\r\n    class RoundedButton implements Border {\r\n    \tprivate int roundRadius;\r\n    \r\n    \tRoundedButton(int roundRadius) {\r\n    \t\tthis.roundRadius = roundRadius;\r\n    \t}\r\n    \r\n    \tpublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n    \t\tGraphics2D g2 = (Graphics2D) g.create();\r\n    \t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tint r = roundRadius;\r\n    \t\tint w = width - 1;\r\n    \t\tint h = height - 1;\r\n    \r\n    \t\tArea round = new Area(new RoundRectangle2D.Float(x, y, w, h, r, r));\r\n    \t\tContainer parent = c.getParent();\r\n    \t\tif (Objects.nonNull(parent)) {\r\n    \t\t\tg2.setPaint(parent.getBackground());\r\n    \t\t\tArea corner = new Area(new Rectangle2D.Float(x, y, width, height));\r\n    \t\t\tcorner.subtract(round);\r\n    \t\t\tg2.fill(corner);\r\n    \t\t}\r\n    \t\tg2.draw(round);\r\n    \t\tg2.dispose();\r\n    \t}\r\n    \r\n    \tpublic Insets getBorderInsets(Component c) {\r\n    \t\treturn new Insets(this.roundRadius + 1, this.roundRadius + 1, this.roundRadius + 2, this.roundRadius + 2);\r\n    \t}\r\n    \r\n    \tpublic boolean isBorderOpaque() {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n","title":"How to remove &quot;shaded&quot; background/border of my rounded JButton?","body":"<p>Please see below. Use it as you normally do in your provided example, i.e.,         <code>startButton.setBorder(new RoundedButton(20));</code> passing the radius parameter.</p>\n<p>Also, optionally, you can add the next line of code, i.e., <code>startButton.setFocusPainted(false);</code> to disable the focus border of the JButton.</p>\n<pre><code>class RoundedButton implements Border {\n    private int roundRadius;\n\n    RoundedButton(int roundRadius) {\n        this.roundRadius = roundRadius;\n    }\n\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        int r = roundRadius;\n        int w = width - 1;\n        int h = height - 1;\n\n        Area round = new Area(new RoundRectangle2D.Float(x, y, w, h, r, r));\n        Container parent = c.getParent();\n        if (Objects.nonNull(parent)) {\n            g2.setPaint(parent.getBackground());\n            Area corner = new Area(new Rectangle2D.Float(x, y, width, height));\n            corner.subtract(round);\n            g2.fill(corner);\n        }\n        g2.draw(round);\n        g2.dispose();\n    }\n\n    public Insets getBorderInsets(Component c) {\n        return new Insets(this.roundRadius + 1, this.roundRadius + 1, this.roundRadius + 2, this.roundRadius + 2);\n    }\n\n    public boolean isBorderOpaque() {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23926345,"reputation":11,"user_id":17921411,"display_name":"Christian Bonifacio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642187794,"creation_date":1642095228,"question_id":70700759,"body_markdown":"I have a rounded JButton in my JFrame but it has the sharp corners of which I assume is the default background/border for the JButton itself. I would like to remove that &quot;shaded&quot; tint so that it blends well with the frame color. \r\n\r\nFor example, I&#39;ve changed the background color of the button to RED and the corners of the borders are still visible. \r\n\r\n[Red button with visible background/border][1]\r\n\r\nAnyway to go about this?\r\n\r\n    startButton = new JButton(&quot;Start!&quot;);\r\n\tstartButton.setPreferredSize(new Dimension(150,80));\r\n\tstartButton.setBorder(new RoundedButton(20));\r\n\tstartButton.setBackground(Color.RED);\r\n\tstartButton.setFont(new Font(null, Font.BOLD, 20));\r\n\tstartButton.addActionListener(this);\r\n\r\n---\r\n\r\n    class RoundedButton implements Border \r\n\t{\r\n\t\tprivate int roundRadius;\r\n\t\t\r\n\t\tRoundedButton(int roundRadius) \r\n\t\t{\r\n\t\t\tthis.roundRadius = roundRadius;\r\n\t\t}\r\n\r\n\t\tpublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height)\r\n\t\t{\r\n\t\t\tg.drawRoundRect(x, y, width-1, height-1, roundRadius, roundRadius);\r\n\t\t}\r\n\r\n\t\tpublic Insets getBorderInsets(Component c) \r\n\t\t{\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn new Insets(this.roundRadius+1, this.roundRadius+1, this.roundRadius+2, this.roundRadius+2);\r\n\t\t}\r\n\r\n\t\tpublic boolean isBorderOpaque()\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bOovy.png\r\n","title":"How to remove &quot;shaded&quot; background/border of my rounded JButton?","body":"<p>I have a rounded JButton in my JFrame but it has the sharp corners of which I assume is the default background/border for the JButton itself. I would like to remove that &quot;shaded&quot; tint so that it blends well with the frame color.</p>\n<p>For example, I've changed the background color of the button to RED and the corners of the borders are still visible.</p>\n<p><a href=\"https://i.stack.imgur.com/bOovy.png\" rel=\"nofollow noreferrer\">Red button with visible background/border</a></p>\n<p>Anyway to go about this?</p>\n<pre><code>startButton = new JButton(&quot;Start!&quot;);\nstartButton.setPreferredSize(new Dimension(150,80));\nstartButton.setBorder(new RoundedButton(20));\nstartButton.setBackground(Color.RED);\nstartButton.setFont(new Font(null, Font.BOLD, 20));\nstartButton.addActionListener(this);\n</code></pre>\n<hr />\n<pre><code>class RoundedButton implements Border \n{\n    private int roundRadius;\n    \n    RoundedButton(int roundRadius) \n    {\n        this.roundRadius = roundRadius;\n    }\n\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height)\n    {\n        g.drawRoundRect(x, y, width-1, height-1, roundRadius, roundRadius);\n    }\n\n    public Insets getBorderInsets(Component c) \n    {\n        // TODO Auto-generated method stub\n        return new Insets(this.roundRadius+1, this.roundRadius+1, this.roundRadius+2, this.roundRadius+2);\n    }\n\n    public boolean isBorderOpaque()\n    {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642177325,"post_id":70710115,"comment_id":125009383,"body_markdown":"The performance difference might be small but since the first variant is both, more readable and potentially more efficient why not just use it? `fruits.stream().findFirst()` enforces you to deal with the potentially absent value when the list is empty. But when you know that the list is not empty, `get(0)` obviously is simpler. And even `if(!fruits.isEmpty()) { … fruits.get(0) … }` might be simpler than bringing in a Stream operation.","body":"The performance difference might be small but since the first variant is both, more readable and potentially more efficient why not just use it? <code>fruits.stream().findFirst()</code> enforces you to deal with the potentially absent value when the list is empty. But when you know that the list is not empty, <code>get(0)</code> obviously is simpler. And even <code>if(!fruits.isEmpty()) { … fruits.get(0) … }</code> might be simpler than bringing in a Stream operation."}],"answers":[{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642186915,"creation_date":1642186915,"answer_id":70715383,"question_id":70710115,"body_markdown":"Yes some impact, but it might be negligible depending on the collection type and whether you&#39;re actually pulling item 0 or some higher index (different collection types have different scaling of `get`, e.g. `get(0)` vs. `get(1000000)` on a LinkedList would be very different in comparative runtimes).\r\n\r\nI would also say the first version is preferable from a cleanliness/maintenance POV.  Consider sequential calls to `fruits.get(0).getProperty()` for some set of properties, and then we need to change from the 0th item to the 1st (e.g. need to change to `fruits.get(0).getProperty()` in many spots).  That change now runs a higher risk of some typo leading to a bug (e.g. someone misses changing a 0 to a 1).","title":"Getting element properties from first list item by getting element once vs couple of times performance","body":"<p>Yes some impact, but it might be negligible depending on the collection type and whether you're actually pulling item 0 or some higher index (different collection types have different scaling of <code>get</code>, e.g. <code>get(0)</code> vs. <code>get(1000000)</code> on a LinkedList would be very different in comparative runtimes).</p>\n<p>I would also say the first version is preferable from a cleanliness/maintenance POV.  Consider sequential calls to <code>fruits.get(0).getProperty()</code> for some set of properties, and then we need to change from the 0th item to the 1st (e.g. need to change to <code>fruits.get(0).getProperty()</code> in many spots).  That change now runs a higher risk of some typo leading to a bug (e.g. someone misses changing a 0 to a 1).</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642187767,"creation_date":1642187767,"answer_id":70715516,"question_id":70710115,"body_markdown":"Generally it&#39;s rather about cleaner code style than about performance, and the first approach may be easily extracted into a mapper method, to copy the properties of an entity into DTO (and it does not actually matter that the entity belongs to some collection at some index):\r\n```java\r\nFruitDto dto = toDto(fruits.get(0));\r\n\r\nstatic FruitDto toDto(Fruit fruit) {\r\n    FruitDto dto = new FruitDto();\r\n    dto.setPrice(fruit.getPrice());\r\n    dto.setType(fruit.getType());\r\n    // ...\r\n    return dto;\r\n}\r\n```\r\nRegarding use of `Stream::findFirst` instead of checking the size/emptiness of the list -- it&#39;s also rather about code style and handling the empty input collection:\r\n* &quot;imperative&quot;\r\n```java\r\nif (fruits.isEmpty()) throw new NoFruitException(); // or return &quot;empty&quot; dto\r\n\r\nFruitDto dto = toDto(fruits.get(0));\r\n```\r\n* &quot;functional&quot; using `Optional`\r\n```java\r\nFruitDto dto = fruits.stream().findFirst() // Optional&lt;Fruit&gt;\r\n    .map(Mapper::toDto)                    // Optional&lt;FruitDto&gt;\r\n    .orElseThrow(NoFruitException::new);   // or .orElse(EMPTY_DTO)\r\n```","title":"Getting element properties from first list item by getting element once vs couple of times performance","body":"<p>Generally it's rather about cleaner code style than about performance, and the first approach may be easily extracted into a mapper method, to copy the properties of an entity into DTO (and it does not actually matter that the entity belongs to some collection at some index):</p>\n<pre class=\"lang-java prettyprint-override\"><code>FruitDto dto = toDto(fruits.get(0));\n\nstatic FruitDto toDto(Fruit fruit) {\n    FruitDto dto = new FruitDto();\n    dto.setPrice(fruit.getPrice());\n    dto.setType(fruit.getType());\n    // ...\n    return dto;\n}\n</code></pre>\n<p>Regarding use of <code>Stream::findFirst</code> instead of checking the size/emptiness of the list -- it's also rather about code style and handling the empty input collection:</p>\n<ul>\n<li>&quot;imperative&quot;</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (fruits.isEmpty()) throw new NoFruitException(); // or return &quot;empty&quot; dto\n\nFruitDto dto = toDto(fruits.get(0));\n</code></pre>\n<ul>\n<li>&quot;functional&quot; using <code>Optional</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>FruitDto dto = fruits.stream().findFirst() // Optional&lt;Fruit&gt;\n    .map(Mapper::toDto)                    // Optional&lt;FruitDto&gt;\n    .orElseThrow(NoFruitException::new);   // or .orElse(EMPTY_DTO)\n</code></pre>\n"}],"owner":{"account_id":22196809,"reputation":3,"user_id":16438114,"display_name":"Erflow Stackov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642187767,"creation_date":1642160879,"question_id":70710115,"body_markdown":"Can&#39;t find any article regarding this. Does it have any impact if we use:\r\n\r\n```\r\nFruit fruit = fruits.get(0);\r\n\r\nFruitDto dto = new FruitDto();\r\ndto.setPrice(fruit.getPrice());\r\ndto.setType(fruit.getType());\r\n... eg to set 10 properties using fruit.getSomeProperty\r\n```\r\n\r\ncompared to: \r\n```\r\nFruitDto dto = new FruitDto();\r\ndto.setPrice(fruits.get(0).getPrice());\r\ndto.setType(fruits.get(0).getType());\r\n... eg to set 10 properties using fruits.get(0).getSomeProperty\r\n```\r\n\r\nand is there any advantage if we use `fruits.stream().findFirst()` instead of `get(0)`?","title":"Getting element properties from first list item by getting element once vs couple of times performance","body":"<p>Can't find any article regarding this. Does it have any impact if we use:</p>\n<pre><code>Fruit fruit = fruits.get(0);\n\nFruitDto dto = new FruitDto();\ndto.setPrice(fruit.getPrice());\ndto.setType(fruit.getType());\n... eg to set 10 properties using fruit.getSomeProperty\n</code></pre>\n<p>compared to:</p>\n<pre><code>FruitDto dto = new FruitDto();\ndto.setPrice(fruits.get(0).getPrice());\ndto.setType(fruits.get(0).getType());\n... eg to set 10 properties using fruits.get(0).getSomeProperty\n</code></pre>\n<p>and is there any advantage if we use <code>fruits.stream().findFirst()</code> instead of <code>get(0)</code>?</p>\n"},{"tags":["java","spring","spring-mvc","jackson"],"answers":[{"tags":[],"owner":{"account_id":379421,"reputation":10229,"user_id":732771,"accept_rate":100,"display_name":"Jean-Philippe Bond"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1507520613,"creation_date":1507520613,"answer_id":46638528,"question_id":46637479,"body_markdown":"If both parts of the `API` are not dealing with the same domain objects, you&#39;ll be able to do it by providing your own implementation of `MappingJackson2HttpMessageConverter` that overwrite the `canRead` and `canWrite` methods. Here an example using the base package of the object which must be serialized : \r\n\r\n**Custom converter :** \r\n\r\n    public class CustomConverter extends MappingJackson2HttpMessageConverter {\r\n    \r\n        private String basePackage;\r\n    \r\n        public CustomConverter(String basePackage) {\r\n            this.basePackage = basePackage;\r\n        }\r\n    \r\n        @Override\r\n        public boolean canRead(Type type, Class&lt;?&gt; contextClass, MediaType mediaType) {\r\n            if (contextClass.getName().startsWith(basePackage)) {\r\n                return super.canRead(type, contextClass, mediaType);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType) {\r\n            if (clazz.getName().startsWith(basePackage)) {\r\n                return super.canWrite(clazz, mediaType);\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n**Configuration**\r\n\r\n    @Configuration\r\n    public class Configuration {\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter camelCaseConverter() {\r\n            MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.camel&quot;);\r\n            converter.setObjectMapper(camelCaseObjectMapper());\r\n            return converter;\r\n        }\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter snakeCaseConverter() {\r\n            MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.snake&quot;);\r\n            converter.setObjectMapper(snakeCaseObjectMapper());\r\n            return converter;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper camelCaseObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\r\n    \r\n            return mapper;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper snakeCaseObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n    \r\n            return mapper;\r\n        }\r\n    }","title":"Multiple ObjectMappers for different parts of API","body":"<p>If both parts of the <code>API</code> are not dealing with the same domain objects, you'll be able to do it by providing your own implementation of <code>MappingJackson2HttpMessageConverter</code> that overwrite the <code>canRead</code> and <code>canWrite</code> methods. Here an example using the base package of the object which must be serialized : </p>\n\n<p><strong>Custom converter :</strong> </p>\n\n<pre><code>public class CustomConverter extends MappingJackson2HttpMessageConverter {\n\n    private String basePackage;\n\n    public CustomConverter(String basePackage) {\n        this.basePackage = basePackage;\n    }\n\n    @Override\n    public boolean canRead(Type type, Class&lt;?&gt; contextClass, MediaType mediaType) {\n        if (contextClass.getName().startsWith(basePackage)) {\n            return super.canRead(type, contextClass, mediaType);\n        }\n        return false;\n    }\n\n    @Override\n    public boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType) {\n        if (clazz.getName().startsWith(basePackage)) {\n            return super.canWrite(clazz, mediaType);\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>Configuration</strong></p>\n\n<pre><code>@Configuration\npublic class Configuration {\n\n    @Bean\n    public MappingJackson2HttpMessageConverter camelCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(\"package.camel\");\n        converter.setObjectMapper(camelCaseObjectMapper());\n        return converter;\n    }\n\n    @Bean\n    public MappingJackson2HttpMessageConverter snakeCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(\"package.snake\");\n        converter.setObjectMapper(snakeCaseObjectMapper());\n        return converter;\n    }\n\n    @Bean\n    public ObjectMapper camelCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\n\n        return mapper;\n    }\n\n    @Bean\n    public ObjectMapper snakeCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n\n        return mapper;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16642958,"reputation":1,"user_id":12027976,"display_name":"CK SIOW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642187399,"creation_date":1642183567,"answer_id":70714826,"question_id":46637479,"body_markdown":"Remove `@Bean` of `ObjectMapper` to avoid multi bean errors\r\n\r\n```\r\n@Configuration\r\npublic class Configuration {\r\n\r\n    @Bean\r\n    public MappingJackson2HttpMessageConverter camelCaseConverter() {\r\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.camel&quot;);\r\n        converter.setObjectMapper(camelCaseObjectMapper());\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public MappingJackson2HttpMessageConverter snakeCaseConverter() {\r\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.snake&quot;);\r\n        converter.setObjectMapper(snakeCaseObjectMapper());\r\n        return converter;\r\n    }\r\n\r\n    public ObjectMapper camelCaseObjectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\r\n\r\n        return mapper;\r\n    }\r\n\r\n\r\n    public ObjectMapper snakeCaseObjectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n\r\n        return mapper;\r\n    }\r\n}\r\n```","title":"Multiple ObjectMappers for different parts of API","body":"<p>Remove <code>@Bean</code> of <code>ObjectMapper</code> to avoid multi bean errors</p>\n<pre><code>@Configuration\npublic class Configuration {\n\n    @Bean\n    public MappingJackson2HttpMessageConverter camelCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.camel&quot;);\n        converter.setObjectMapper(camelCaseObjectMapper());\n        return converter;\n    }\n\n    @Bean\n    public MappingJackson2HttpMessageConverter snakeCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.snake&quot;);\n        converter.setObjectMapper(snakeCaseObjectMapper());\n        return converter;\n    }\n\n    public ObjectMapper camelCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\n\n        return mapper;\n    }\n\n\n    public ObjectMapper snakeCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n\n        return mapper;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46638528,"answer_count":2,"score":3,"last_activity_date":1642187399,"creation_date":1507510301,"question_id":46637479,"body_markdown":"Currently I have a `@Bean` configuration in my Spring Boot App like that:\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n    \r\n        return mapper;\r\n    }\r\n\r\nIs it possible to have different ObjectMappers for different parts of the API?\r\nI am interested for example to have different property naming strategy for different parts of the API. I want a part of my API (e.g `/api/v1/snake/**`) to work with `SNAKE_CASE` and a part of it (e.g `/api/v1/camel/**`) to work with `LOWER_CAMEL_CASE`.\r\n\r\nThanks!","title":"Multiple ObjectMappers for different parts of API","body":"<p>Currently I have a <code>@Bean</code> configuration in my Spring Boot App like that:</p>\n\n<pre><code>@Bean\npublic ObjectMapper objectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n    mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n\n    return mapper;\n}\n</code></pre>\n\n<p>Is it possible to have different ObjectMappers for different parts of the API?\nI am interested for example to have different property naming strategy for different parts of the API. I want a part of my API (e.g <code>/api/v1/snake/**</code>) to work with <code>SNAKE_CASE</code> and a part of it (e.g <code>/api/v1/camel/**</code>) to work with <code>LOWER_CAMEL_CASE</code>.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","windows","url"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":45,"creation_date":1377810500,"post_id":18520972,"comment_id":27236348,"body_markdown":"Try Java 7 `Paths.get(new URL(url).toURI());`","body":"Try Java 7 <code>Paths.get(new URL(url).toURI());</code>"},{"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"score":1,"creation_date":1377815659,"post_id":18520972,"comment_id":27238182,"body_markdown":"Thanks (and +1) for pointing to java.nio.Paths. However, I need to be compatible with Java 6 (I edit the question) - sorry for that.","body":"Thanks (and +1) for pointing to java.nio.Paths. However, I need to be compatible with Java 6 (I edit the question) - sorry for that."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1393924754,"post_id":18520972,"comment_id":33643012,"body_markdown":"The standard way is `new File(url.toURI())`. Works even with Java&#160;5.","body":"The standard way is <code>new File(url.toURI())</code>. Works even with Java 5."},{"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"score":2,"creation_date":1454316146,"post_id":18520972,"comment_id":57972206,"body_markdown":"I suggest that comment from @SotiriosDelimanolis should be refactored out as a straight-to-the-point answer.","body":"I suggest that comment from @SotiriosDelimanolis should be refactored out as a straight-to-the-point answer."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1582797216,"post_id":18520972,"comment_id":106903689,"body_markdown":"Related: [java.nio.file.Path for a classpath resource](https://stackoverflow.com/questions/15713119/java-nio-file-path-for-a-classpath-resource)","body":"Related: <a href=\"https://stackoverflow.com/questions/15713119/java-nio-file-path-for-a-classpath-resource\">java.nio.file.Path for a classpath resource</a>"}],"answers":[{"tags":[],"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1377820506,"creation_date":1377820506,"answer_id":18522792,"question_id":18520972,"body_markdown":"Java (at least 5 and 6, java 7 Paths solved most) has a problem with UNC and URI. Eclipse team wrapped it up here : http://wiki.eclipse.org/Eclipse/UNC_Paths \r\n\r\nFrom java.io.File javadocs, the UNC prefix is &quot;////&quot;, and java.net.URI handles file:////host/path (four slashes).\r\n\r\nMore details on why this happens and possible problems it causes in other URI and URL methods can be found in the list of bugs at the end of the link given above.\r\n\r\nUsing these informations, Eclipse team developed org.eclipse.core.runtime.URIUtil class, which source code can probably help out when dealing with UNC paths.","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>Java (at least 5 and 6, java 7 Paths solved most) has a problem with UNC and URI. Eclipse team wrapped it up here : <a href=\"http://wiki.eclipse.org/Eclipse/UNC_Paths\" rel=\"nofollow\">http://wiki.eclipse.org/Eclipse/UNC_Paths</a> </p>\n\n<p>From java.io.File javadocs, the UNC prefix is \"////\", and java.net.URI handles file:////host/path (four slashes).</p>\n\n<p>More details on why this happens and possible problems it causes in other URI and URL methods can be found in the list of bugs at the end of the link given above.</p>\n\n<p>Using these informations, Eclipse team developed org.eclipse.core.runtime.URIUtil class, which source code can probably help out when dealing with UNC paths.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1642187131,"creation_date":1377852629,"answer_id":18528710,"question_id":18520972,"body_markdown":"Based on the hint and link provided in [Simone Giannis&#39; answer](https://stackoverflow.com/a/18522792), this is my *hack* to fix this.\r\n\r\nI am testing on `uri.getAuthority()`, because UNC path will report an Authority. This is a bug - so I rely on the existence of a bug, which is evil, but it apears as if this will stay forever (since Java 7 solves the problem in java.nio.Paths).\r\n\r\nNote: In my context I will receive absolute paths. I have tested this on Windows and OS X.\r\n\r\n(Still looking for a better way to do it)\r\n\r\n\tpackage com.christianfries.test;\r\n\t\r\n\timport java.io.File;\r\n\timport java.net.MalformedURLException;\r\n\timport java.net.URI;\r\n\timport java.net.URISyntaxException;\r\n\timport java.net.URL;\r\n\t\r\n\tpublic class UNCPathTest {\r\n\t\r\n\t\tpublic static void main(String[] args) throws MalformedURLException, URISyntaxException {\r\n\t\t\tUNCPathTest upt = new UNCPathTest();\r\n\t\t\t\r\n\t\t\tupt.testURL(&quot;file://server/dir/file.txt&quot;);\t// Windows UNC Path\r\n\t\r\n\t\t\tupt.testURL(&quot;file:///Z:/dir/file.txt&quot;);\t\t// Windows drive letter path\r\n\t\t\t\r\n\t\t\tupt.testURL(&quot;file:///dir/file.txt&quot;);\t\t// Unix (absolute) path\r\n\t\t}\r\n\t\r\n\t\tprivate void testURL(String urlString) throws MalformedURLException, URISyntaxException {\r\n\t\t\tURL url = new URL(urlString);\r\n\t\t\tSystem.out.println(&quot;URL is: &quot; + url.toString());\r\n\t\r\n\t\t\tURI uri = url.toURI();\r\n\t\t\tSystem.out.println(&quot;URI is: &quot; + uri.toString());\r\n\t\t\t\r\n\t\t\tif(uri.getAuthority() != null &amp;&amp; uri.getAuthority().length() &gt; 0) {\r\n\t\t\t\t// Hack for UNC Path\r\n\t\t\t\turi = (new URL(&quot;file://&quot; + urlString.substring(&quot;file:&quot;.length()))).toURI();\r\n\t\t\t}\r\n\t\r\n\t\t\tFile file = new File(uri);\r\n\t\t\tSystem.out.println(&quot;File is: &quot; + file.toString());\r\n\t\r\n\t\t\tString parent = file.getParent();\r\n\t\t\tSystem.out.println(&quot;Parent is: &quot; + parent);\r\n\t\r\n\t\t\tSystem.out.println(&quot;____________________________________________________________&quot;);\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>Based on the hint and link provided in <a href=\"https://stackoverflow.com/a/18522792\">Simone Giannis' answer</a>, this is my <em>hack</em> to fix this.</p>\n<p>I am testing on <code>uri.getAuthority()</code>, because UNC path will report an Authority. This is a bug - so I rely on the existence of a bug, which is evil, but it apears as if this will stay forever (since Java 7 solves the problem in java.nio.Paths).</p>\n<p>Note: In my context I will receive absolute paths. I have tested this on Windows and OS X.</p>\n<p>(Still looking for a better way to do it)</p>\n<pre><code>package com.christianfries.test;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\n\npublic class UNCPathTest {\n\n    public static void main(String[] args) throws MalformedURLException, URISyntaxException {\n        UNCPathTest upt = new UNCPathTest();\n        \n        upt.testURL(&quot;file://server/dir/file.txt&quot;);  // Windows UNC Path\n\n        upt.testURL(&quot;file:///Z:/dir/file.txt&quot;);     // Windows drive letter path\n        \n        upt.testURL(&quot;file:///dir/file.txt&quot;);        // Unix (absolute) path\n    }\n\n    private void testURL(String urlString) throws MalformedURLException, URISyntaxException {\n        URL url = new URL(urlString);\n        System.out.println(&quot;URL is: &quot; + url.toString());\n\n        URI uri = url.toURI();\n        System.out.println(&quot;URI is: &quot; + uri.toString());\n        \n        if(uri.getAuthority() != null &amp;&amp; uri.getAuthority().length() &gt; 0) {\n            // Hack for UNC Path\n            uri = (new URL(&quot;file://&quot; + urlString.substring(&quot;file:&quot;.length()))).toURI();\n        }\n\n        File file = new File(uri);\n        System.out.println(&quot;File is: &quot; + file.toString());\n\n        String parent = file.getParent();\n        System.out.println(&quot;Parent is: &quot; + parent);\n\n        System.out.println(&quot;____________________________________________________________&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3658600,"reputation":417,"user_id":3048996,"display_name":"judovana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493122201,"creation_date":1493122201,"answer_id":43610274,"question_id":18520972,"body_markdown":"I hope (not exactly verified) that newer java brought nio package and Path. Hopefully it have it fixed:`\r\n        String s=&quot;C:\\\\some\\\\ile.txt&quot;;\r\n        System.out.println(new File(s).toPath().toUri());`","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>I hope (not exactly verified) that newer java brought nio package and Path. Hopefully it have it fixed:<code>\n        String s=\"C:\\\\some\\\\ile.txt\";\n        System.out.println(new File(s).toPath().toUri());</code></p>\n"},{"tags":[],"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1563978338,"creation_date":1508252818,"answer_id":46793408,"question_id":18520972,"body_markdown":"Building on @SotiriosDelimanolis&#39;s comment, here is a method to deal with URLs (such as file:...) and non-URLs (such as C:\\...), using Spring&#39;s FileSystemResource:\r\n\r\n    public FileSystemResource get(String file) {\r\n    \ttry {\r\n\t\t\t// First try to resolve as URL (file:...)\r\n\t\t\tPath path = Paths.get(new URL(file).toURI());\r\n\t\t\tFileSystemResource resource = new FileSystemResource(path.toFile());\r\n\t\t\treturn resource;\r\n\t\t} catch (URISyntaxException | MalformedURLException e) {\r\n\t\t\t// If given file string isn&#39;t an URL, fall back to using a normal file \r\n\t\t\treturn new FileSystemResource(file);\r\n\t\t}\r\n    }\r\n","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>Building on @SotiriosDelimanolis's comment, here is a method to deal with URLs (such as file:...) and non-URLs (such as C:...), using Spring's FileSystemResource:</p>\n\n<pre><code>public FileSystemResource get(String file) {\n    try {\n        // First try to resolve as URL (file:...)\n        Path path = Paths.get(new URL(file).toURI());\n        FileSystemResource resource = new FileSystemResource(path.toFile());\n        return resource;\n    } catch (URISyntaxException | MalformedURLException e) {\n        // If given file string isn't an URL, fall back to using a normal file \n        return new FileSystemResource(file);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1547104245,"creation_date":1547103675,"answer_id":54123394,"question_id":18520972,"body_markdown":"For Java 8 the following method works:\r\n\r\n 1. Form an URI from file URI string\r\n 2. Create a file from the URI (not directly from URI string, absolute URI string are not paths)\r\n\r\nRefer, below code snippet\r\n\r\n    \tString fileURiString=&quot;file:///D:/etc/MySQL.txt&quot;;\r\n\t\tURI fileURI=new URI(fileURiString);\r\n\t\tFile file=new File(fileURI);//File file=new File(fileURiString) - will generate exception\r\n\t\t\r\n\t\tFileInputStream fis=new FileInputStream(file);\r\n\t\tfis.close();\r\n\r\n","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>For Java 8 the following method works:</p>\n\n<ol>\n<li>Form an URI from file URI string</li>\n<li>Create a file from the URI (not directly from URI string, absolute URI string are not paths)</li>\n</ol>\n\n<p>Refer, below code snippet</p>\n\n<pre><code>    String fileURiString=\"file:///D:/etc/MySQL.txt\";\n    URI fileURI=new URI(fileURiString);\n    File file=new File(fileURI);//File file=new File(fileURiString) - will generate exception\n\n    FileInputStream fis=new FileInputStream(file);\n    fis.close();\n</code></pre>\n"}],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123057,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":5,"score":41,"last_activity_date":1642187131,"creation_date":1377810342,"question_id":18520972,"body_markdown":"I am developing a platform independent application. I am receiving a file URL*.\r\nOn windows these are:\r\n\r\n - `file:///Z:/folder%20to%20file/file.txt`\r\n\r\n - `file://host/folder%20to%20file/file.txt` (an UNC path)\r\n\r\nI am using `new File(URI(urlOfDocument).getPath())`which works fine with the first one and also on Unix, Linux, OS X, but does not work with UNC paths.\r\n\r\nWhat is the standard way to convert file: URLs to File(..) paths, being compatible with Java 6?\r\n\r\n\r\n......\r\n\r\n*\r\nNote: I am receiving theses URLs from OpenOffice / LibreOffice (XModel.getURL()).","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>I am developing a platform independent application. I am receiving a file URL*.\nOn windows these are:</p>\n\n<ul>\n<li><p><code>file:///Z:/folder%20to%20file/file.txt</code></p></li>\n<li><p><code>file://host/folder%20to%20file/file.txt</code> (an UNC path)</p></li>\n</ul>\n\n<p>I am using <code>new File(URI(urlOfDocument).getPath())</code>which works fine with the first one and also on Unix, Linux, OS X, but does not work with UNC paths.</p>\n\n<p>What is the standard way to convert file: URLs to File(..) paths, being compatible with Java 6?</p>\n\n<p>......</p>\n\n<p>*\nNote: I am receiving theses URLs from OpenOffice / LibreOffice (XModel.getURL()).</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642185564,"post_id":70715082,"comment_id":125012529,"body_markdown":"You create a new array in each loop iteration with one element. That is not what you want.  And the access of `arr[i]` will throw an ArrayOutOfBoundsException right away.","body":"You create a new array in each loop iteration with one element. That is not what you want.  And the access of <code>arr[i]</code> will throw an ArrayOutOfBoundsException right away."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642185589,"post_id":70715082,"comment_id":125012539,"body_markdown":"Do you know how you can create an (empty) array with 100 elements?","body":"Do you know how you can create an (empty) array with 100 elements?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642187571,"post_id":70715082,"comment_id":125013222,"body_markdown":"@xFive the solution you selected as the answer is innacurate. Try running these two arrays `{1,2,3,4,5,6,7,8,9,10}` and `{10,2,3,4,5,6,7,8,9,10}`. Both will add up to 55.","body":"@xFive the solution you selected as the answer is innacurate. Try running these two arrays <code>{1,2,3,4,5,6,7,8,9,10}</code> and <code>{10,2,3,4,5,6,7,8,9,10}</code>. Both will add up to 55."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642187853,"post_id":70715082,"comment_id":125013305,"body_markdown":"@xFive I also noticed the line `arr[i] = i+1;` This OVERRIDES the values of the array with the value of the counter. Totally incorrect. You are not supposed to mutate the array. You are supposed to _read_ the values and add them up.","body":"@xFive I also noticed the line <code>arr[i] = i+1;</code> This OVERRIDES the values of the array with the value of the counter. Totally incorrect. You are not supposed to mutate the array. You are supposed to <i>read</i> the values and add them up."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642188806,"post_id":70715082,"comment_id":125013631,"body_markdown":"@xFive this is why you need to test out code with different inputs.","body":"@xFive this is why you need to test out code with different inputs."}],"answers":[{"tags":[],"owner":{"account_id":23271322,"reputation":145,"user_id":17356111,"display_name":"Devck - DC"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1642185677,"creation_date":1642185677,"answer_id":70715183,"question_id":70715082,"body_markdown":"I think you are looking for something like this:\r\n\r\n```\r\nint i, sum = 0;\r\n        int[] arr = new int[100];\r\n        for(i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = i+1;\r\n            sum += arr[i];\r\n        }\r\n         System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\r\n```","title":"print the summation of an array","body":"<p>I think you are looking for something like this:</p>\n<pre><code>int i, sum = 0;\n        int[] arr = new int[100];\n        for(i = 0; i &lt; arr.length; i++) {\n            arr[i] = i+1;\n            sum += arr[i];\n        }\n         System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642186975,"creation_date":1642186171,"answer_id":70715262,"question_id":70715082,"body_markdown":"A &quot;one-liner&quot; solution.\r\n\r\n    int[] arr = {...}; // Your array here\r\n    int sum = 0;\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        sum = sum + arr[i]; // can also be written as sum += arr[i];\r\n    }\r\n\r\n    System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\r\n\r\nIf the array is empty, the sum will be zero. Otherwise, it is the accumulated sum. The best thing to do is to declare and increment the loop counter variable inside the `for` structure and not outside. That&#39;s how it is designed. If you need this variable accessible outside the loop, use a `while` loop instead.\r\n\r\nUPDATE: In case you&#39;re curious for a `while` loop equivalent:\r\n\r\n    int[] arr = {...}; // Your array here\r\n    int sum = 0;\r\n    int i = 0; \r\n    while (i &lt; arr.length) {\r\n        sum = sum + arr[i]; // can also be written as sum += arr[i];\r\n        i++; // always increment the variable at the end of the loop\r\n    }","title":"print the summation of an array","body":"<p>A &quot;one-liner&quot; solution.</p>\n<pre><code>int[] arr = {...}; // Your array here\nint sum = 0;\nfor (int i = 0; i &lt; arr.length; i++) {\n    sum = sum + arr[i]; // can also be written as sum += arr[i];\n}\n\nSystem.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\n</code></pre>\n<p>If the array is empty, the sum will be zero. Otherwise, it is the accumulated sum. The best thing to do is to declare and increment the loop counter variable inside the <code>for</code> structure and not outside. That's how it is designed. If you need this variable accessible outside the loop, use a <code>while</code> loop instead.</p>\n<p>UPDATE: In case you're curious for a <code>while</code> loop equivalent:</p>\n<pre><code>int[] arr = {...}; // Your array here\nint sum = 0;\nint i = 0; \nwhile (i &lt; arr.length) {\n    sum = sum + arr[i]; // can also be written as sum += arr[i];\n    i++; // always increment the variable at the end of the loop\n}\n</code></pre>\n"}],"owner":{"account_id":23472896,"reputation":13,"user_id":17695409,"display_name":"xFive"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70715262,"answer_count":2,"score":-1,"last_activity_date":1642186975,"creation_date":1642185142,"question_id":70715082,"body_markdown":"I need to create an array of 1 to 100 and print the summation of the elements. \r\n\r\nActually, I have used for loop and Array together! But it won&#39;t work.\r\n\r\n      int i, sum = 0;\r\n        for(i = 1; i &lt; 100; i++) {\r\n          int [] arr = new int [] {i};\r\n                sum = sum + arr[i];\r\n        }\r\n                System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\r\n    }","title":"print the summation of an array","body":"<p>I need to create an array of 1 to 100 and print the summation of the elements.</p>\n<p>Actually, I have used for loop and Array together! But it won't work.</p>\n<pre><code>  int i, sum = 0;\n    for(i = 1; i &lt; 100; i++) {\n      int [] arr = new int [] {i};\n            sum = sum + arr[i];\n    }\n            System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\n}\n</code></pre>\n"},{"tags":["java","string","for-loop","count","user-input"],"answers":[{"tags":[],"owner":{"account_id":3244122,"reputation":21,"user_id":2736247,"display_name":"Jelmer Mulder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478572,"creation_date":1380478503,"answer_id":19081549,"question_id":19081463,"body_markdown":"First you&#39;ll want to store the first character:\r\n\r\n    char firstChar = userInput.charAt(0);\r\n\r\nMake a variably to keep track of the amount of matches you have found:\r\n\r\n    int count = 0;\r\n\r\nLoop through the String and increase count if applicable:\r\n\r\n    for(int i=0; i&lt;userInput.length(); i++){\r\n      if(userInput.charAt(i) == firstChar){\r\n        count++\r\n      }\r\n     }\r\n\r\n\r\nEDIT: All you were basically missing is storing the first letter in a seperate variable.\r\n    \r\n\r\n","title":"How many times the first character appears in a string","body":"<p>First you'll want to store the first character:</p>\n\n<pre><code>char firstChar = userInput.charAt(0);\n</code></pre>\n\n<p>Make a variably to keep track of the amount of matches you have found:</p>\n\n<pre><code>int count = 0;\n</code></pre>\n\n<p>Loop through the String and increase count if applicable:</p>\n\n<pre><code>for(int i=0; i&lt;userInput.length(); i++){\n  if(userInput.charAt(i) == firstChar){\n    count++\n  }\n }\n</code></pre>\n\n<p>EDIT: All you were basically missing is storing the first letter in a seperate variable.</p>\n"},{"tags":[],"owner":{"account_id":2670372,"reputation":911,"user_id":2307921,"display_name":"Carsten Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478634,"creation_date":1380478634,"answer_id":19081571,"question_id":19081463,"body_markdown":"I am not willing to give you working code, since it is no help to deliver the homework for you.\r\nSince you already know how to retrieve a character with `userInput.charAt(n)` you should save the first character as `targetCharacter` using the index 0 before the for-loop. You can now use the for loop to check every character for equality against that character and count those. For better readability you should correctly indent the code and use braces, like this:\r\n\r\n    if(userInput.charAt(i) == &#39;a&#39;) {\r\n      count++;\r\n    }\r\n\r\nThen you can print out the count *after* the for loop (which means after the curly brace of the for-loop. If you still have any trouble, alter your original question.","title":"How many times the first character appears in a string","body":"<p>I am not willing to give you working code, since it is no help to deliver the homework for you.\nSince you already know how to retrieve a character with <code>userInput.charAt(n)</code> you should save the first character as <code>targetCharacter</code> using the index 0 before the for-loop. You can now use the for loop to check every character for equality against that character and count those. For better readability you should correctly indent the code and use braces, like this:</p>\n\n<pre><code>if(userInput.charAt(i) == 'a') {\n  count++;\n}\n</code></pre>\n\n<p>Then you can print out the count <em>after</em> the for loop (which means after the curly brace of the for-loop. If you still have any trouble, alter your original question.</p>\n"},{"tags":[],"owner":{"account_id":3308628,"reputation":3588,"user_id":2782628,"display_name":"Stefan Freitag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478713,"creation_date":1380478713,"answer_id":19081587,"question_id":19081463,"body_markdown":"I would try it like this:\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class CounterCharacter {\r\n     public static void main(String[] args) {\r\n        String userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n        // Use charAt to retrieve a character at a specific position\r\n        char firstChar = userInput.charAt(0);\r\n        int count=0;\r\n\r\n        for(int i =0; i &lt; userInput.length(); i++)\r\n            if(userInput.charAt(i) == firstChar)\r\n          {\r\n             count++;\r\n          }\r\n       System.out.println(count);\r\n     }\r\n    }\r\n","title":"How many times the first character appears in a string","body":"<p>I would try it like this:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class CounterCharacter {\n public static void main(String[] args) {\n    String userInput = JOptionPane.showInputDialog(\"Input a string\");\n    // Use charAt to retrieve a character at a specific position\n    char firstChar = userInput.charAt(0);\n    int count=0;\n\n    for(int i =0; i &lt; userInput.length(); i++)\n        if(userInput.charAt(i) == firstChar)\n      {\n         count++;\n      }\n   System.out.println(count);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908539,"reputation":1102,"user_id":1722923,"accept_rate":43,"display_name":"Raju Rudru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478795,"creation_date":1380478795,"answer_id":19081601,"question_id":19081463,"body_markdown":"&lt;code&gt;\r\n    public class CountCharacter {\r\n\t\r\n    public static void main(String[] args)\r\n\t{\r\n\tint count = 1;\r\n\tString userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n\tchar ch = userInput.charAt(0);\r\n\tfor(int i =1; i &lt; userInput.length(); i++)\r\n\t{\r\n\t    if(userInput.charAt(i) == ch)\r\n\t\r\n\t    count++;\r\n\t}\r\n\t    \r\n\t\r\n\tSystem.out.println(count);\r\n\t\r\n\t}\r\n\r\n\t}\r\n\r\n&lt;/code&gt;\r\n\r\n\r\nThis will give you the output you intended to produce ....","title":"How many times the first character appears in a string","body":"<p><code>\n    public class CountCharacter {</p>\n\n<pre><code>public static void main(String[] args)\n{\nint count = 1;\nString userInput = JOptionPane.showInputDialog(\"Input a string\");\nchar ch = userInput.charAt(0);\nfor(int i =1; i &lt; userInput.length(); i++)\n{\n    if(userInput.charAt(i) == ch)\n\n    count++;\n}\n\n\nSystem.out.println(count);\n\n}\n\n}\n</code></pre>\n\n<p></code></p>\n\n<p>This will give you the output you intended to produce ....</p>\n"},{"tags":[],"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380479116,"creation_date":1380479116,"answer_id":19081665,"question_id":19081463,"body_markdown":"You&#39;ve described the problem fairly well, so you really need to just take your description of it and turn it into code.\r\n\r\nThis is probably difficult right now because you don&#39;t seem to understand why your code is doing what it is right now.  Once you understand it -- line by line -- it should be easier to achieve the result you want.\r\n\r\n**I&#39;ll help you understand what you have now, you can take it and turn it into the working result:**\r\n\r\n    String userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n\r\nGet an input string to operate on.\r\n\r\n    int count = userInput.indexOf(0);\r\n\r\nThis method is using [indexOf(int)](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#indexOf(int)).  You are asking &quot;where is the first occurrence (index) of character 0 ([null character](http://en.wikipedia.org/wiki/Null_character)).  This is not helpful, because what you want is the opposite -- you want the *first character at **index** 0*.  That&#39;s what `charAt` does instead.  The docs for [`String`](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html) are helpful -- read them.\r\n\r\nNot only that but you are also assigning this result to `count`.  Why?\r\n\r\nYou will you need to remember the character at index `0` (hint, a character, not an `int`) but you also need to start a count -- at 0 if you start looping right at the beginning of the string.  So I think you&#39;ll need to start with two variables.\r\n\r\n    for(int i =0; i &lt; userInput.length(); i++)\r\n\r\nStart a loop with `i` at 0 and increment until the last index of the string.  That sounds right to me.\r\n\r\nHowever, notice that you haven&#39;t included a `{` to open a *block* - this means that only the next statement (up to the next semicolon) will be included in the loop.  This doesn&#39;t mean your code is broken, but this can be easy to turn into a bug later, if you add any more statements that you want to be in your loop.\r\n\r\n        if(userInput.charAt(i) == &#39;a&#39;)\r\n\r\nThis checks if the character at `i` is `&#39;a&#39;` -- why?  What you really need is to see if it matches the first character.\r\n\r\nAlso be aware that if blocks (again, `{ ... }`) work the same way as for loops.  It&#39;s best practice to use them on every `if`, `else`, `for`, `while`, etc. until you really know what you are doing.  That way you won&#39;t get accidentally tripped up.\r\n\r\n        count++;\r\n\r\nIncrement the count.  This is what you want if your `count` is correct (but it wasn&#39;t, remember).\r\n\r\n        System.out.println(count);\r\n\r\nLooks good to me, except remember that this not in the loop block, but you&#39;ve indented it like it is.","title":"How many times the first character appears in a string","body":"<p>You've described the problem fairly well, so you really need to just take your description of it and turn it into code.</p>\n\n<p>This is probably difficult right now because you don't seem to understand why your code is doing what it is right now.  Once you understand it -- line by line -- it should be easier to achieve the result you want.</p>\n\n<p><strong>I'll help you understand what you have now, you can take it and turn it into the working result:</strong></p>\n\n<pre><code>String userInput = JOptionPane.showInputDialog(\"Input a string\");\n</code></pre>\n\n<p>Get an input string to operate on.</p>\n\n<pre><code>int count = userInput.indexOf(0);\n</code></pre>\n\n<p>This method is using <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#indexOf%28int%29\" rel=\"nofollow\">indexOf(int)</a>.  You are asking \"where is the first occurrence (index) of character 0 (<a href=\"http://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow\">null character</a>).  This is not helpful, because what you want is the opposite -- you want the <em>first character at <strong>index</strong> 0</em>.  That's what <code>charAt</code> does instead.  The docs for <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html\" rel=\"nofollow\"><code>String</code></a> are helpful -- read them.</p>\n\n<p>Not only that but you are also assigning this result to <code>count</code>.  Why?</p>\n\n<p>You will you need to remember the character at index <code>0</code> (hint, a character, not an <code>int</code>) but you also need to start a count -- at 0 if you start looping right at the beginning of the string.  So I think you'll need to start with two variables.</p>\n\n<pre><code>for(int i =0; i &lt; userInput.length(); i++)\n</code></pre>\n\n<p>Start a loop with <code>i</code> at 0 and increment until the last index of the string.  That sounds right to me.</p>\n\n<p>However, notice that you haven't included a <code>{</code> to open a <em>block</em> - this means that only the next statement (up to the next semicolon) will be included in the loop.  This doesn't mean your code is broken, but this can be easy to turn into a bug later, if you add any more statements that you want to be in your loop.</p>\n\n<pre><code>    if(userInput.charAt(i) == 'a')\n</code></pre>\n\n<p>This checks if the character at <code>i</code> is <code>'a'</code> -- why?  What you really need is to see if it matches the first character.</p>\n\n<p>Also be aware that if blocks (again, <code>{ ... }</code>) work the same way as for loops.  It's best practice to use them on every <code>if</code>, <code>else</code>, <code>for</code>, <code>while</code>, etc. until you really know what you are doing.  That way you won't get accidentally tripped up.</p>\n\n<pre><code>    count++;\n</code></pre>\n\n<p>Increment the count.  This is what you want if your <code>count</code> is correct (but it wasn't, remember).</p>\n\n<pre><code>    System.out.println(count);\n</code></pre>\n\n<p>Looks good to me, except remember that this not in the loop block, but you've indented it like it is.</p>\n"}],"owner":{"account_id":3369269,"reputation":11,"user_id":2828963,"display_name":"user2828963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1642186675,"creation_date":1380478055,"question_id":19081463,"body_markdown":"What I am Trying to Achieve:\r\n\r\nWrite a program that will ask the user to input a String.  Then output the number of times the first letter of that String occurs.  Assume the user will enter a String with all uppercase letters.  For example, if the user enters “PETER PIPER PICKED A PECK OF PICKLED PEPPERS” your program should output “P occurs 9 times”.\r\n\r\nWhat I have so far:\r\n\r\n    import javax.swing.JOptionPane;\r\n  \r\n    public class counterCharacter {\r\n    \t\r\n      public static void main(String[] args)\r\n      {\r\n        String userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n        int count = userInput.indexOf(0);\r\n        for(int i =0; i &lt; userInput.length(); i++)\r\n    \t\t\r\n            if(userInput.charAt(i) == &#39;a&#39;)\t\r\n              count++;\r\n            System.out.println(count);\r\n    \t}\r\n    }\r\n\r\n\r\nThe problem with this code is that it only prints the character &#39;a&#39; and only if it occurs in index point 0. My task is to allow a user to input any string, take the character from index point 0 of the users input, and count exactly how many times that character reoccurs within the input. For the PETER PIPER example, the system should print out &quot;6&quot; because that is how many times the character in the index 0 position occurs. But if the user input abcdcbabcdcda, it should print out &quot;3.&quot; \r\n\r\nAny help with this would be much appreciated as I am a new programmer and missed a day of class and am now far behind and trying to catch up. If you can, please explain why you used the specific code you used and any reference materials I can use to learn how to use that specific thing. Thank You! \r\n\r\n\r\n\r\n","title":"How many times the first character appears in a string","body":"<p>What I am Trying to Achieve:</p>\n\n<p>Write a program that will ask the user to input a String.  Then output the number of times the first letter of that String occurs.  Assume the user will enter a String with all uppercase letters.  For example, if the user enters “PETER PIPER PICKED A PECK OF PICKLED PEPPERS” your program should output “P occurs 9 times”.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class counterCharacter {\n\n  public static void main(String[] args)\n  {\n    String userInput = JOptionPane.showInputDialog(\"Input a string\");\n    int count = userInput.indexOf(0);\n    for(int i =0; i &lt; userInput.length(); i++)\n\n        if(userInput.charAt(i) == 'a')  \n          count++;\n        System.out.println(count);\n    }\n}\n</code></pre>\n\n<p>The problem with this code is that it only prints the character 'a' and only if it occurs in index point 0. My task is to allow a user to input any string, take the character from index point 0 of the users input, and count exactly how many times that character reoccurs within the input. For the PETER PIPER example, the system should print out \"6\" because that is how many times the character in the index 0 position occurs. But if the user input abcdcbabcdcda, it should print out \"3.\" </p>\n\n<p>Any help with this would be much appreciated as I am a new programmer and missed a day of class and am now far behind and trying to catch up. If you can, please explain why you used the specific code you used and any reference materials I can use to learn how to use that specific thing. Thank You! </p>\n"},{"tags":["java","sql-server"],"answers":[{"tags":[],"owner":{"account_id":5207957,"reputation":156,"user_id":4165265,"accept_rate":25,"display_name":"anand kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485377524,"creation_date":1428053441,"answer_id":29429578,"question_id":29429193,"body_markdown":"I will suggest you to add one column to Active_QC1 table that names `Status_Flag` its `varchar` type and set status flag &#39;Y&#39; or &#39;N&#39; as corresponding to deleted or not. then you can try following queries\r\n\r\nQuery #1:\r\n\r\n    ALTER TABLE Active_QC1\r\n    ADD Status_Flag VARCHAR2(3 BYTE)\r\n\r\nQuery #2:\r\n\r\n    UPDATE Active_QC1\r\n    SET Status_Flag = &#39;Y&#39; \r\n    WHERE id = &lt;deleted records id&gt;\r\n\r\nQuery #3:\r\n\r\n    INSERT INTO Deleted_QC1 (id, req_name, req_type)\r\n        SELECT id, req_name, req_type\r\n        FROM Active_QC1\r\n        WHERE Status_Flag = &#39;Y&#39;;\r\n\r\nQuery #4.\r\n\r\n    DELETE FROM Active_QC1\r\n    WHERE Status_Flag = &#39;N&#39;;","title":"Moving deleted rows from one table to another table (has the triggers as well) using ms sql","body":"<p>I will suggest you to add one column to Active_QC1 table that names <code>Status_Flag</code> its <code>varchar</code> type and set status flag 'Y' or 'N' as corresponding to deleted or not. then you can try following queries</p>\n\n<p>Query #1:</p>\n\n<pre><code>ALTER TABLE Active_QC1\nADD Status_Flag VARCHAR2(3 BYTE)\n</code></pre>\n\n<p>Query #2:</p>\n\n<pre><code>UPDATE Active_QC1\nSET Status_Flag = 'Y' \nWHERE id = &lt;deleted records id&gt;\n</code></pre>\n\n<p>Query #3:</p>\n\n<pre><code>INSERT INTO Deleted_QC1 (id, req_name, req_type)\n    SELECT id, req_name, req_type\n    FROM Active_QC1\n    WHERE Status_Flag = 'Y';\n</code></pre>\n\n<p>Query #4.</p>\n\n<pre><code>DELETE FROM Active_QC1\nWHERE Status_Flag = 'N';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477736326,"creation_date":1428056614,"answer_id":29430344,"question_id":29429193,"body_markdown":"You can use the [OUTPUT clause][1] (microsoft.com) in a DELETE statement. The basic outline for a simple delete statement would be something as follows:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    DELETE FROM Active_QC1 \r\n    OUTPUT DELETED.* INTO Deleted_QC1\r\n    WHERE id=5;\r\n\r\nWhat it does is delete all rows in `Active_QC1` with `id=5`, then inserts those rows into `Deleted_QC1`.\r\n\r\nAn example:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE #Active_QC1(id INT, req_name VARCHAR(128), req_type INT);\r\n    CREATE TABLE #Deleted_QC1(id INT, req_name VARCHAR(128), req_type INT);\r\n    \r\n    INSERT INTO #Active_QC1(id,req_name,req_type)\r\n    VALUES\r\n    \t(1,&#39;engage&#39;,3),\r\n    \t(2,&#39;forward&#39;,5),\r\n    \t(3,&#39;obliterate&#39;,3),\r\n    \t(4,&#39;reply&#39;,5),\r\n    \t(5,&#39;delete&#39;,5);\r\n    \r\n    DELETE FROM \r\n    \t#Active_QC1\r\n    OUTPUT \r\n    \tDELETED.id,\r\n    \tDELETED.req_name,\r\n    \tDELETED.req_type \r\n    INTO \r\n    \t#Deleted_QC1(id,req_name,req_type)\r\n    WHERE \r\n    \treq_type=5;\r\n    \r\n    SELECT*FROM #Deleted_QC1;\r\n    \r\n    DROP TABLE #Deleted_QC1;\r\n    DROP TABLE #Active_QC1;\r\n\r\nThis script makes two temporary tables `#Active_QC1` and `#Deleted_QC1` with identical table definitions. Some rows are added to `#Active_QC1`. The `DELETE` statement deletes all rows in `#Active_QC1` with `req_type=5`, and inserts them into `#Deleted_QC1`. The script finally selects all rows in `#Deleted_QC1`. The result is the following:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ╔════════╦══════════╦══════════╗\r\n    ║     id ║ req_name ║ req_type ║\r\n    ╠════════╬══════════╬══════════╣\r\n    ║      2 ║ forward  ║        5 ║\r\n    ║      4 ║ reply    ║        5 ║\r\n    ║      5 ║ delete   ║        5 ║\r\n    ╚════════╩══════════╩══════════╝\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/ms177564.aspx\r\n\r\n\r\n","title":"Moving deleted rows from one table to another table (has the triggers as well) using ms sql","body":"<p>You can use the <a href=\"https://msdn.microsoft.com/en-us/library/ms177564.aspx\" rel=\"nofollow\">OUTPUT clause</a> (microsoft.com) in a DELETE statement. The basic outline for a simple delete statement would be something as follows:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>DELETE FROM Active_QC1 \nOUTPUT DELETED.* INTO Deleted_QC1\nWHERE id=5;\n</code></pre>\n\n<p>What it does is delete all rows in <code>Active_QC1</code> with <code>id=5</code>, then inserts those rows into <code>Deleted_QC1</code>.</p>\n\n<p>An example:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE #Active_QC1(id INT, req_name VARCHAR(128), req_type INT);\nCREATE TABLE #Deleted_QC1(id INT, req_name VARCHAR(128), req_type INT);\n\nINSERT INTO #Active_QC1(id,req_name,req_type)\nVALUES\n    (1,'engage',3),\n    (2,'forward',5),\n    (3,'obliterate',3),\n    (4,'reply',5),\n    (5,'delete',5);\n\nDELETE FROM \n    #Active_QC1\nOUTPUT \n    DELETED.id,\n    DELETED.req_name,\n    DELETED.req_type \nINTO \n    #Deleted_QC1(id,req_name,req_type)\nWHERE \n    req_type=5;\n\nSELECT*FROM #Deleted_QC1;\n\nDROP TABLE #Deleted_QC1;\nDROP TABLE #Active_QC1;\n</code></pre>\n\n<p>This script makes two temporary tables <code>#Active_QC1</code> and <code>#Deleted_QC1</code> with identical table definitions. Some rows are added to <code>#Active_QC1</code>. The <code>DELETE</code> statement deletes all rows in <code>#Active_QC1</code> with <code>req_type=5</code>, and inserts them into <code>#Deleted_QC1</code>. The script finally selects all rows in <code>#Deleted_QC1</code>. The result is the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>╔════════╦══════════╦══════════╗\n║     id ║ req_name ║ req_type ║\n╠════════╬══════════╬══════════╣\n║      2 ║ forward  ║        5 ║\n║      4 ║ reply    ║        5 ║\n║      5 ║ delete   ║        5 ║\n╚════════╩══════════╩══════════╝\n</code></pre>\n"}],"owner":{"account_id":6079390,"reputation":21,"user_id":4745639,"display_name":"Anand K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642186639,"creation_date":1428051728,"question_id":29429193,"body_markdown":"I have two tables called `Active_QC1(id, req_name, req_type)` and `Deleted_QC1(id, req_name, req_type)`. In case I delete data from the `Active_QC1` table, that data should move to the `Deleted_QC1` table. Both tables can have triggers.\r\n\r\nCan anyone guide me with this?","title":"Moving deleted rows from one table to another table (has the triggers as well) using ms sql","body":"<p>I have two tables called <code>Active_QC1(id, req_name, req_type)</code> and <code>Deleted_QC1(id, req_name, req_type)</code>. In case I delete data from the <code>Active_QC1</code> table, that data should move to the <code>Deleted_QC1</code> table. Both tables can have triggers.</p>\n<p>Can anyone guide me with this?</p>\n"},{"tags":["java","subtraction","shunting-yard"],"comments":[{"owner":{"account_id":138915,"reputation":1025,"user_id":344169,"accept_rate":67,"display_name":"Trevor Boyle"},"score":0,"creation_date":1299628998,"post_id":5239715,"comment_id":5898100,"body_markdown":"I added the &#39;java&#39; tag, I thought it might get your question more views.","body":"I added the &#39;java&#39; tag, I thought it might get your question more views."}],"answers":[{"tags":[],"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299633024,"creation_date":1299633024,"answer_id":5240309,"question_id":5239715,"body_markdown":"The answers to [this question][1] might be helpful.\r\n\r\nIn particular, one of those answers references a [solution][2] in C that handles unary minus.\r\n\r\nBasically, you have to recognize a unary minus based on the appearance of the minus sign in positions where a binary operator can&#39;t be, and make a different token for it, as it has different precedence.\r\n\r\nDijkstra&#39;s [original paper][3] doesn&#39;t too clearly explain how he dealt with this, but the unary minus was listed as a separate operator.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1593080/how-can-i-modify-my-shunting-yard-algorithm-so-it-accepts-unary-operators\r\n  [2]: http://en.literateprograms.org/Shunting_yard_algorithm_%28C%29\r\n  [3]: http://www.cs.utexas.edu/~EWD/MCReps/MR35.PDF","title":"Problems with a shunting yard algorithm","body":"<p>The answers to <a href=\"https://stackoverflow.com/questions/1593080/how-can-i-modify-my-shunting-yard-algorithm-so-it-accepts-unary-operators\">this question</a> might be helpful.</p>\n\n<p>In particular, one of those answers references a <a href=\"http://en.literateprograms.org/Shunting_yard_algorithm_%28C%29\" rel=\"nofollow noreferrer\">solution</a> in C that handles unary minus.</p>\n\n<p>Basically, you have to recognize a unary minus based on the appearance of the minus sign in positions where a binary operator can't be, and make a different token for it, as it has different precedence.</p>\n\n<p>Dijkstra's <a href=\"http://www.cs.utexas.edu/~EWD/MCReps/MR35.PDF\" rel=\"nofollow noreferrer\">original paper</a> doesn't too clearly explain how he dealt with this, but the unary minus was listed as a separate operator.</p>\n"},{"tags":[],"owner":{"account_id":83081,"reputation":5427,"user_id":233160,"display_name":"Austin Taylor"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1299639265,"creation_date":1299639265,"answer_id":5240781,"question_id":5239715,"body_markdown":"It sounds like you&#39;re doing a lex-then-parse style parser, where you&#39;re going to need a simple state machine in the lexer in order to get separate tokens for unary and binary minus. (In a PEG parser, this isn&#39;t something you have to worry about.)\r\n\r\nIn JavaCC, you would have a `DEFAULT` state, where you would consider the `-` character to be `UNARY_MINUS`. When you tokenized the end of a primary expression (either a closing paren, or an integer, based on the examples you gave), then you would switch to the `INFIX` state where `-` would be considered to be `INFIX_MINUS`. Once you encountered any infix operator, you would return to the `DEFAULT` state.\r\n\r\nIf you&#39;re rolling your own, it might be a bit simpler than that. Look at this [Python code][1] for a clever way of doing it. Basically, when you encounter a `-`, you just check to see if the previous token was an infix operator. That example uses the string `&quot;-u&quot;` to represent the unary minus token, which is convenient for an informal tokenization. Best I can tell, the Python example does fail to handle case where a `-` follows an open paren, or comes at the beginning of the input. Those should be considered unary as well.\r\n\r\nIn order for unary minus to be handled correctly in the shunting-yard algorithm itself, it needs to have higher precedence than any of the infix operators, and it needs to marked as right-associative. (Make sure you handle right-associativity. You may have left it out since the rest of your operators are left-associative.) This is clear enough in the Python code (although I would use some kind of struct rather than two separate maps).\r\n\r\nWhen it comes time to evaluate, you will need to handle unary operators a little differently, since you only need to pop one number off the stack, rather than two. Depending on what your implementation looks like, it may be easier to just go through the list and replace every occurrence of `&quot;-u&quot;` with `[-1, &quot;*&quot;]`.\r\n\r\nIf you can follow Python at all, you should be able to see everything I&#39;m talking about in the example I linked to. I find the code to be a bit easier to read than the C version that someone else mentioned. Also, if you&#39;re curious, I did a little write-up a while back about using shunting-yard [in Ruby][2], but I handled unary operators as a separate nonterminal, so they are not shown.\r\n\r\n  [1]: http://en.literateprograms.org/Shunting_yard_algorithm_%28Python%29#Operators\r\n  [2]: http://austintaylor.org/blog/2010/07/25/treetop-operator-precedence/\r\n","title":"Problems with a shunting yard algorithm","body":"<p>It sounds like you're doing a lex-then-parse style parser, where you're going to need a simple state machine in the lexer in order to get separate tokens for unary and binary minus. (In a PEG parser, this isn't something you have to worry about.)</p>\n\n<p>In JavaCC, you would have a <code>DEFAULT</code> state, where you would consider the <code>-</code> character to be <code>UNARY_MINUS</code>. When you tokenized the end of a primary expression (either a closing paren, or an integer, based on the examples you gave), then you would switch to the <code>INFIX</code> state where <code>-</code> would be considered to be <code>INFIX_MINUS</code>. Once you encountered any infix operator, you would return to the <code>DEFAULT</code> state.</p>\n\n<p>If you're rolling your own, it might be a bit simpler than that. Look at this <a href=\"http://en.literateprograms.org/Shunting_yard_algorithm_%28Python%29#Operators\" rel=\"noreferrer\">Python code</a> for a clever way of doing it. Basically, when you encounter a <code>-</code>, you just check to see if the previous token was an infix operator. That example uses the string <code>\"-u\"</code> to represent the unary minus token, which is convenient for an informal tokenization. Best I can tell, the Python example does fail to handle case where a <code>-</code> follows an open paren, or comes at the beginning of the input. Those should be considered unary as well.</p>\n\n<p>In order for unary minus to be handled correctly in the shunting-yard algorithm itself, it needs to have higher precedence than any of the infix operators, and it needs to marked as right-associative. (Make sure you handle right-associativity. You may have left it out since the rest of your operators are left-associative.) This is clear enough in the Python code (although I would use some kind of struct rather than two separate maps).</p>\n\n<p>When it comes time to evaluate, you will need to handle unary operators a little differently, since you only need to pop one number off the stack, rather than two. Depending on what your implementation looks like, it may be easier to just go through the list and replace every occurrence of <code>\"-u\"</code> with <code>[-1, \"*\"]</code>.</p>\n\n<p>If you can follow Python at all, you should be able to see everything I'm talking about in the example I linked to. I find the code to be a bit easier to read than the C version that someone else mentioned. Also, if you're curious, I did a little write-up a while back about using shunting-yard <a href=\"http://austintaylor.org/blog/2010/07/25/treetop-operator-precedence/\" rel=\"noreferrer\">in Ruby</a>, but I handled unary operators as a separate nonterminal, so they are not shown.</p>\n"},{"tags":[],"owner":{"account_id":1385398,"reputation":4788,"user_id":1317564,"accept_rate":100,"display_name":"Learn OpenGL ES"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349297696,"creation_date":1349296197,"answer_id":12716401,"question_id":5239715,"body_markdown":"In your lexer, you can implement this pseudo-logic:\r\n\r\n    if (symbol == &#39;-&#39;) {\r\n        if (previousToken is a number \r\n         OR previousToken is an identifier \r\n         OR previousToken is a function) {\r\n            currentToken = SUBTRACT;\r\n        } else {\r\n            currentToken = NEGATION;\r\n        }\r\n    }\r\n\r\nYou can set up negation to have a precedence higher than multiply and divide, but lower than exponentiation. You can also set it up to be right associative (just like &#39;^&#39;).\r\nThen you just need to integrate the precedence and associativity into the algorithm as described on Wikipedia&#39;s page.\r\n\r\n&gt; If the token is an operator, o1, then: while there is an operator\r\n&gt; token, o2, at the top of the stack, and either o1 is left-associative\r\n&gt; and its precedence is less than or equal to that of o2, or o1 has\r\n&gt; precedence less than that of o2, pop o2 off the stack, onto the output\r\n&gt; queue; push o1 onto the stack.\r\n\r\nI ended up implementing this corresponding code:\r\n\r\n    } else if (nextToken instanceof Operator) {\r\n        final Operator o1 = (Operator) nextToken;\r\n        \r\n        while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Operator) {\r\n            final Operator o2 = (Operator) stack.peek();\r\n\r\n            if ((o1.associativity == Associativity.LEFT &amp;&amp; o1.precedence &lt;= o2.precedence)\r\n             || (o1.associativity == Associativity.RIGHT &amp;&amp; o1.precedence &lt; o2.precedence)) {\r\n                popStackTopToOutput();\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        stack.push(nextToken);\r\n    }\r\n\r\nAustin Taylor is quite right that you only need to pop off one number for a unary operator:\r\n\r\n    if (token is operator negate) {\r\n        operand = pop;\r\n        push operand * -1;\r\n    }\r\n\r\nExample project:\r\n\r\nhttps://github.com/Digipom/Calculator-for-Android/\r\n\r\nFurther reading: \r\n\r\nhttp://en.wikipedia.org/wiki/Shunting-yard_algorithm\r\n\r\nhttp://sankuru.biz/blog/1-parsing-object-oriented-expressions-with-dijkstras-shunting-yard-algorithm","title":"Problems with a shunting yard algorithm","body":"<p>In your lexer, you can implement this pseudo-logic:</p>\n\n<pre><code>if (symbol == '-') {\n    if (previousToken is a number \n     OR previousToken is an identifier \n     OR previousToken is a function) {\n        currentToken = SUBTRACT;\n    } else {\n        currentToken = NEGATION;\n    }\n}\n</code></pre>\n\n<p>You can set up negation to have a precedence higher than multiply and divide, but lower than exponentiation. You can also set it up to be right associative (just like '^').\nThen you just need to integrate the precedence and associativity into the algorithm as described on Wikipedia's page.</p>\n\n<blockquote>\n  <p>If the token is an operator, o1, then: while there is an operator\n  token, o2, at the top of the stack, and either o1 is left-associative\n  and its precedence is less than or equal to that of o2, or o1 has\n  precedence less than that of o2, pop o2 off the stack, onto the output\n  queue; push o1 onto the stack.</p>\n</blockquote>\n\n<p>I ended up implementing this corresponding code:</p>\n\n<pre><code>} else if (nextToken instanceof Operator) {\n    final Operator o1 = (Operator) nextToken;\n\n    while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Operator) {\n        final Operator o2 = (Operator) stack.peek();\n\n        if ((o1.associativity == Associativity.LEFT &amp;&amp; o1.precedence &lt;= o2.precedence)\n         || (o1.associativity == Associativity.RIGHT &amp;&amp; o1.precedence &lt; o2.precedence)) {\n            popStackTopToOutput();\n        } else {\n            break;\n        }\n    }\n\n    stack.push(nextToken);\n}\n</code></pre>\n\n<p>Austin Taylor is quite right that you only need to pop off one number for a unary operator:</p>\n\n<pre><code>if (token is operator negate) {\n    operand = pop;\n    push operand * -1;\n}\n</code></pre>\n\n<p>Example project:</p>\n\n<p><a href=\"https://github.com/Digipom/Calculator-for-Android/\" rel=\"nofollow\">https://github.com/Digipom/Calculator-for-Android/</a></p>\n\n<p>Further reading: </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Shunting-yard_algorithm</a></p>\n\n<p><a href=\"http://sankuru.biz/blog/1-parsing-object-oriented-expressions-with-dijkstras-shunting-yard-algorithm\" rel=\"nofollow\">http://sankuru.biz/blog/1-parsing-object-oriented-expressions-with-dijkstras-shunting-yard-algorithm</a></p>\n"},{"tags":[],"owner":{"account_id":2195447,"reputation":931,"user_id":1941253,"accept_rate":54,"display_name":"Yasmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384114958,"creation_date":1384114958,"answer_id":19894709,"question_id":5239715,"body_markdown":"I know it&#39;s an old post, but may be someone will find it useful .\r\nI implemented this algorithm before, starting by toknizer using StreamTokenizer class\r\nand it works fine. In StreamTokenizer in Java, there are some character with specific meaning. For example: ( is an operator, sin is a word,...\r\nFor your question, There is a method called &quot;streamToknizer.ordinaryChar(..)&quot; which it specifies that the character argument is &quot;ordinary&quot; in this tokenizer. It removes any special significance the character has as a comment character, word component, string delimiter, white space, or number character. Source [here][1]\r\n\r\nSo you can define - as ordinary character which means, it won&#39;t be considered as a sign for number.For example, if you have expression 2-3 , You will have [2,-,3], but if you didn&#39;t specify it as ordinary, so it will be [2,-3]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/io/streamtokenizer_ordinarychar.htm","title":"Problems with a shunting yard algorithm","body":"<p>I know it's an old post, but may be someone will find it useful .\nI implemented this algorithm before, starting by toknizer using StreamTokenizer class\nand it works fine. In StreamTokenizer in Java, there are some character with specific meaning. For example: ( is an operator, sin is a word,...\nFor your question, There is a method called \"streamToknizer.ordinaryChar(..)\" which it specifies that the character argument is \"ordinary\" in this tokenizer. It removes any special significance the character has as a comment character, word component, string delimiter, white space, or number character. Source <a href=\"http://www.tutorialspoint.com/java/io/streamtokenizer_ordinarychar.htm\" rel=\"nofollow\">here</a></p>\n\n<p>So you can define - as ordinary character which means, it won't be considered as a sign for number.For example, if you have expression 2-3 , You will have [2,-,3], but if you didn't specify it as ordinary, so it will be [2,-3]</p>\n"},{"tags":[],"owner":{"account_id":2005447,"reputation":3070,"user_id":1795483,"accept_rate":73,"display_name":"David Ljung Madison Stellar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642186632,"creation_date":1641955738,"answer_id":70675749,"question_id":5239715,"body_markdown":"This isn&#39;t in Java, but here is a library I wrote to specifically solve this problem after searching and not finding any clear answers. \r\n This does all you want and more:\r\n\r\nhttps://marginalhacks.com/Hacks/libExpr.rb/\r\n\r\nIt is a ruby library (as well as a testbench to check it) that runs a modified shunting yard algorithm that also supports unary (&#39;-a&#39;) and ternary (&#39;a?b:c&#39;) ops.  It also does RPN, Prefix and AST (abstract syntax trees) - your choice, and can evaluate the expression, including the ability to yield to a block (a lambda of sorts) that can handle any variable evaluation.  Only AST does the full set of operations, including the ability to handle short-circuit operations (such as &#39;||&#39; and &#39;?:&#39; and so on), but RPN *does* support unary.  It also has a flexible precedence model that includes presets for precedence as done by C expressions or by Ruby expressions (not the same).  The testbench itself is interesting as it can create random expressions which it can then eval() and also run through libExpr to compare results.\r\n\r\nIt&#39;s fairly documented/commented, so it shouldn&#39;t be too hard to convert the ideas to Java or some other language.\r\n\r\nThe basic idea as far as unary operators is that you can recognize them based on the previous token. If the previous token is either an operator or a left-paren, then the &quot;unary-possible&quot; operators (+ and -) are just unary and can be pushed with only one operand.  It&#39;s important that your RPN stack distinguishes between the unary operator and the binary operator so it knows what to do on evaluation.\r\n\r\n","title":"Problems with a shunting yard algorithm","body":"<p>This isn't in Java, but here is a library I wrote to specifically solve this problem after searching and not finding any clear answers.\nThis does all you want and more:</p>\n<p><a href=\"https://marginalhacks.com/Hacks/libExpr.rb/\" rel=\"nofollow noreferrer\">https://marginalhacks.com/Hacks/libExpr.rb/</a></p>\n<p>It is a ruby library (as well as a testbench to check it) that runs a modified shunting yard algorithm that also supports unary ('-a') and ternary ('a?b:c') ops.  It also does RPN, Prefix and AST (abstract syntax trees) - your choice, and can evaluate the expression, including the ability to yield to a block (a lambda of sorts) that can handle any variable evaluation.  Only AST does the full set of operations, including the ability to handle short-circuit operations (such as '||' and '?:' and so on), but RPN <em>does</em> support unary.  It also has a flexible precedence model that includes presets for precedence as done by C expressions or by Ruby expressions (not the same).  The testbench itself is interesting as it can create random expressions which it can then eval() and also run through libExpr to compare results.</p>\n<p>It's fairly documented/commented, so it shouldn't be too hard to convert the ideas to Java or some other language.</p>\n<p>The basic idea as far as unary operators is that you can recognize them based on the previous token. If the previous token is either an operator or a left-paren, then the &quot;unary-possible&quot; operators (+ and -) are just unary and can be pushed with only one operand.  It's important that your RPN stack distinguishes between the unary operator and the binary operator so it knows what to do on evaluation.</p>\n"}],"owner":{"account_id":231757,"reputation":310,"user_id":496150,"accept_rate":56,"display_name":"The Dude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8562,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1642186632,"creation_date":1299627672,"question_id":5239715,"body_markdown":"I have successfully implemented a shunting yard algorithm in java. The algorithm itself was simple however I am having trouble with the tokenizer. Currently the algorithm works with everything I want excluding one thing. How can I tell the difference between subtraction(-) and negative (-)\r\n\r\nsuch as 4-3 is subtraction\r\nbut -4+3 is negative \r\n\r\nI now know how to find out when it should be a negative and when it should be a minus, but where in the algorithm should it be placed because if you use it like a function it wont always work for example\r\n\r\n3 + 4 * 2 / -( 1 − 5 ) ^ 2 ^ 3\r\n\r\nwhen 1-5 becomes -4 it will become 4 before it gets squared and cubed\r\n\r\njust like\r\n3 + 4 * 2 / cos( 1 − 5 ) ^ 2 ^ 3 , you would take the cosine before squaring and cubing\r\n\r\nbut in real math you wouldn’t with a - because what your really saying is\r\n3 + 4 * 2 / -(( 1 − 5 ) ^ 2 ^ 3)   in order to have the right value\r\n","title":"Problems with a shunting yard algorithm","body":"<p>I have successfully implemented a shunting yard algorithm in java. The algorithm itself was simple however I am having trouble with the tokenizer. Currently the algorithm works with everything I want excluding one thing. How can I tell the difference between subtraction(-) and negative (-)</p>\n\n<p>such as 4-3 is subtraction\nbut -4+3 is negative </p>\n\n<p>I now know how to find out when it should be a negative and when it should be a minus, but where in the algorithm should it be placed because if you use it like a function it wont always work for example</p>\n\n<p>3 + 4 * 2 / -( 1 − 5 ) ^ 2 ^ 3</p>\n\n<p>when 1-5 becomes -4 it will become 4 before it gets squared and cubed</p>\n\n<p>just like\n3 + 4 * 2 / cos( 1 − 5 ) ^ 2 ^ 3 , you would take the cosine before squaring and cubing</p>\n\n<p>but in real math you wouldn’t with a - because what your really saying is\n3 + 4 * 2 / -(( 1 − 5 ) ^ 2 ^ 3)   in order to have the right value</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":5171841,"reputation":111,"user_id":4140086,"display_name":"Rohail Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420039668,"creation_date":1420039668,"answer_id":27723059,"question_id":27723002,"body_markdown":"are you perhaps talking about settings the hint text ?\r\n\r\n    editText.setHint(&quot;Enter Text Here&quot;); \r\nin XML\r\n    \r\n    android:hint=&quot;Enter Text Here&quot;\r\n\r\nIf this is not what you are looking for then please alaborate the problem a bit more\r\n","title":"How to insert a text in EditText?","body":"<p>are you perhaps talking about settings the hint text ?</p>\n\n<pre><code>editText.setHint(\"Enter Text Here\"); \n</code></pre>\n\n<p>in XML</p>\n\n<pre><code>android:hint=\"Enter Text Here\"\n</code></pre>\n\n<p>If this is not what you are looking for then please alaborate the problem a bit more</p>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420039968,"creation_date":1420039968,"answer_id":27723123,"question_id":27723002,"body_markdown":"Add *\\n* before the text you want to add...\r\n\r\nvar.setText(var.getText() + &quot;\\nnewtext&quot;);\r\n","title":"How to insert a text in EditText?","body":"<p>Add <em>\\n</em> before the text you want to add...</p>\n\n<p>var.setText(var.getText() + \"\\nnewtext\");</p>\n"},{"tags":[],"owner":{"account_id":5531907,"reputation":673,"user_id":4391652,"display_name":"gsanskar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1420041448,"creation_date":1420041448,"answer_id":27723392,"question_id":27723002,"body_markdown":"Its very easy to do this :\r\n\r\n    int start =editText.getSelectionStart(); //Get cursor position with this function\r\n    String str = &quot;my text&quot;;//String you want to insert\r\n    editText.getText().insert(start, str); //This will get the text and insert the String str at the current position.\r\n\r\nHope this Helps!","title":"How to insert a text in EditText?","body":"<p>Its very easy to do this :</p>\n\n<pre><code>int start =editText.getSelectionStart(); //Get cursor position with this function\nString str = \"my text\";//String you want to insert\neditText.getText().insert(start, str); //This will get the text and insert the String str at the current position.\n</code></pre>\n\n<p>Hope this Helps!</p>\n"}],"owner":{"account_id":5553013,"reputation":100,"user_id":4405457,"display_name":"massivemadness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27723392,"answer_count":3,"score":1,"last_activity_date":1642186611,"creation_date":1420039325,"question_id":27723002,"body_markdown":"How to insert a text in `EditText` at the cursor position? `editText.setText` erases the current text and sets the new one, which is not what I want. `editText.setText(editText.getText() + &quot;my text&quot;);` inserts the text at the end, that&#39;s also not the case.","title":"How to insert a text in EditText?","body":"<p>How to insert a text in <code>EditText</code> at the cursor position? <code>editText.setText</code> erases the current text and sets the new one, which is not what I want. <code>editText.setText(editText.getText() + &quot;my text&quot;);</code> inserts the text at the end, that's also not the case.</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14","vaadin22"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1641760303,"post_id":70644551,"comment_id":124884736,"body_markdown":"You could remove and then add the components in beforeEnter.","body":"You could remove and then add the components in beforeEnter."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1641852077,"post_id":70644551,"comment_id":124911172,"body_markdown":"Right now I have a flag isRendered which skips that part of the code but to me that&#39;s a pretty hacky solution that I&#39;d like to avoid if possible.","body":"Right now I have a flag isRendered which skips that part of the code but to me that&#39;s a pretty hacky solution that I&#39;d like to avoid if possible."}],"answers":[{"tags":[],"owner":{"account_id":4356937,"reputation":418,"user_id":3555230,"display_name":"gruntled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642101240,"creation_date":1642101240,"answer_id":70701895,"question_id":70644551,"body_markdown":"If you are using Spring with Vaadin, you can annotate the class with \r\n```\r\n@Component\r\n@Scope(&quot;prototype&quot;)\r\n```\r\n\r\n","title":"How do I force the view class to reload in Vaadin Flow when navigating to the same view","body":"<p>If you are using Spring with Vaadin, you can annotate the class with</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22446224,"reputation":76,"user_id":16650110,"display_name":"Mikhail Shabarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642186524,"creation_date":1642186524,"answer_id":70715315,"question_id":70644551,"body_markdown":"Please try the code below. It removes the view (navigation target) instance from UI and then calls page reload on the client side. Then, after page reload, the next request to server will force creating a new instance of the view.\r\n\r\n```java\r\n@Route(value=&quot;test&quot;)\r\npublic class TestView extends VerticalLayout implements BeforeEnterObserver {\r\n\r\n    private final String uuid;\r\n\r\n    public TestView() {\r\n        super();\r\n        // do some stuff.\r\n        System.out.println(&quot;CTOR called&quot;);\r\n        uuid = UUID.randomUUID().toString();\r\n\r\n        final Element view = getElement();\r\n        Button button = new Button(&quot;Test&quot;, click -&gt; {\r\n                    getUI().ifPresent(ui -&gt; ui.getPage().setLocation(&quot;test&quot;));\r\n                    view.removeFromParent();\r\n                });\r\n        add(button);\r\n    }\r\n\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        // do some other stuff.\r\n        System.out.println(&quot;Before enter&quot;);\r\n        System.out.println(&quot;UUID = &quot; + uuid);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nCTOR called\r\nBefore enter\r\nUUID = 74306acc-3771-4998-aa46-19834ca9e033\r\nCTOR called\r\nBefore enter\r\nUUID = dbc1be2a-1bee-4da7-b676-187208621569\r\n```\r\nHope this is something you wanted to reach.","title":"How do I force the view class to reload in Vaadin Flow when navigating to the same view","body":"<p>Please try the code below. It removes the view (navigation target) instance from UI and then calls page reload on the client side. Then, after page reload, the next request to server will force creating a new instance of the view.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Route(value=&quot;test&quot;)\npublic class TestView extends VerticalLayout implements BeforeEnterObserver {\n\n    private final String uuid;\n\n    public TestView() {\n        super();\n        // do some stuff.\n        System.out.println(&quot;CTOR called&quot;);\n        uuid = UUID.randomUUID().toString();\n\n        final Element view = getElement();\n        Button button = new Button(&quot;Test&quot;, click -&gt; {\n                    getUI().ifPresent(ui -&gt; ui.getPage().setLocation(&quot;test&quot;));\n                    view.removeFromParent();\n                });\n        add(button);\n    }\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        // do some other stuff.\n        System.out.println(&quot;Before enter&quot;);\n        System.out.println(&quot;UUID = &quot; + uuid);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>CTOR called\nBefore enter\nUUID = 74306acc-3771-4998-aa46-19834ca9e033\nCTOR called\nBefore enter\nUUID = dbc1be2a-1bee-4da7-b676-187208621569\n</code></pre>\n<p>Hope this is something you wanted to reach.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642186524,"creation_date":1641754919,"question_id":70644551,"body_markdown":"Assuming my view is: \r\n\r\n    @Route(value=&quot;test&quot;)\r\n    public class TestView extends VerticalLayout implements BeforeEnterObserver {\r\n    \tpublic TestView() {\r\n    \t\tsuper();\r\n    \t\t// do some stuff.\r\n    \t\tnew Button(&quot;Test&quot;, click -&gt; getUI().ifPresent(ui -&gt; ui.navigate(&quot;test&quot;)));\r\n    \t}\r\n    \t\r\n        @Override\r\n        public void beforeEnter(BeforeEnterEvent event) {\r\n    \t\t// do some other stuff.\r\n    \t}\r\n    }\r\n\r\nIf I click on the Test button above then the constructor is not instantiated however the `beforeEnter()` method is called. In my case I would much prefer to instantiate the whole view class because the `beforeEnter()` method includes some logic and setup code that the view needs that if called twice can mess up the components. Specially the `beforeEnter()` does some checks and depending on the details may call different component rendering paths.\r\n\r\n","title":"How do I force the view class to reload in Vaadin Flow when navigating to the same view","body":"<p>Assuming my view is:</p>\n<pre><code>@Route(value=&quot;test&quot;)\npublic class TestView extends VerticalLayout implements BeforeEnterObserver {\n    public TestView() {\n        super();\n        // do some stuff.\n        new Button(&quot;Test&quot;, click -&gt; getUI().ifPresent(ui -&gt; ui.navigate(&quot;test&quot;)));\n    }\n    \n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        // do some other stuff.\n    }\n}\n</code></pre>\n<p>If I click on the Test button above then the constructor is not instantiated however the <code>beforeEnter()</code> method is called. In my case I would much prefer to instantiate the whole view class because the <code>beforeEnter()</code> method includes some logic and setup code that the view needs that if called twice can mess up the components. Specially the <code>beforeEnter()</code> does some checks and depending on the details may call different component rendering paths.</p>\n"},{"tags":["java","selenium","web","intellij-idea","copy"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642177814,"creation_date":1642177814,"answer_id":70713686,"question_id":70713408,"body_markdown":"I am not sure what `Navegador` does and it really does not matter. The key here are the Selenium methods you are invoking. For example, to *write* to a web element, `sendKeys()` is appropriate. But, based on the description of your post, you need to *read* from the page and not write to it. One way to obtain the text from a page is\r\n\r\n    WebElement myElement = driver.findElement(By.xpath(&quot;...&quot;)); // Provide the XPath expression for the element containing the text you need.\r\n    String myText = myElement.getText();  // Saves the obtained text into a String object\r\n\r\nOutside of this, I am not sure what else you need. Again, based on the limited information here, this seems all you need.","title":"How to select and copy info from webpage using Selenium and send to IntelliJ console","body":"<p>I am not sure what <code>Navegador</code> does and it really does not matter. The key here are the Selenium methods you are invoking. For example, to <em>write</em> to a web element, <code>sendKeys()</code> is appropriate. But, based on the description of your post, you need to <em>read</em> from the page and not write to it. One way to obtain the text from a page is</p>\n<pre><code>WebElement myElement = driver.findElement(By.xpath(&quot;...&quot;)); // Provide the XPath expression for the element containing the text you need.\nString myText = myElement.getText();  // Saves the obtained text into a String object\n</code></pre>\n<p>Outside of this, I am not sure what else you need. Again, based on the limited information here, this seems all you need.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642185741,"creation_date":1642179477,"answer_id":70714046,"question_id":70713408,"body_markdown":"To select and copy any info from any webpage using [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) and send it to the IntelliJ console you can use the following solution:\r\n\r\n\t//required imports\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n\timport java.awt.HeadlessException;\r\n\timport java.awt.Toolkit;\r\n\timport java.awt.datatransfer.DataFlavor;\r\n\timport java.awt.datatransfer.UnsupportedFlavorException;\r\n\timport java.io.IOException;\r\n\r\n\t// simulating CONTROL + A\r\n\tdriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;));\r\n\t// simulating CONTROL + C\r\n\tdriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;c&quot;));\r\n\t// extracting the text from the clipboard\r\n\tString myText = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor); \r\n\t// printing the text\r\n    System.out.println(myText)","title":"How to select and copy info from webpage using Selenium and send to IntelliJ console","body":"<p>To select and copy any info from any webpage using <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> and send it to the IntelliJ console you can use the following solution:</p>\n<pre><code>//required imports\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport java.awt.HeadlessException;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.io.IOException;\n\n// simulating CONTROL + A\ndriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;));\n// simulating CONTROL + C\ndriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;c&quot;));\n// extracting the text from the clipboard\nString myText = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor); \n// printing the text\nSystem.out.println(myText)\n</code></pre>\n"}],"owner":{"account_id":23941574,"reputation":11,"user_id":17934597,"display_name":"Victor Roberto Skroch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642185741,"creation_date":1642176513,"question_id":70713408,"body_markdown":"How do I select/copy info from web with Selenium and copy into IntelliJ to String? I&#39;m using IntelliJ in Java. I am trying to use:\r\n```\r\nNavegador.getInstance().instanciaNavegador().findElement(By.xpath(&quot;//div[@id=&#39;cpf&#39;]/span[2]&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;v&quot;));\r\n```","title":"How to select and copy info from webpage using Selenium and send to IntelliJ console","body":"<p>How do I select/copy info from web with Selenium and copy into IntelliJ to String? I'm using IntelliJ in Java. I am trying to use:</p>\n<pre><code>Navegador.getInstance().instanciaNavegador().findElement(By.xpath(&quot;//div[@id='cpf']/span[2]&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;v&quot;));\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-juno"],"comments":[{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1398864024,"post_id":23389221,"comment_id":35831732,"body_markdown":"Is `Project -&gt; Build Automatically` ticked? And did you save the relevant file before debugging?","body":"Is <code>Project -&gt; Build Automatically</code> ticked? And did you save the relevant file before debugging?"},{"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"score":0,"creation_date":1398864798,"post_id":23389221,"comment_id":35832311,"body_markdown":"Hi, the project is saved. Im new to Eclipse, is there a tickbox to trigger the build automatically when i save it? Or do i need to go Project &gt;&gt; Build Automatically","body":"Hi, the project is saved. Im new to Eclipse, is there a tickbox to trigger the build automatically when i save it? Or do i need to go Project &gt;&gt; Build Automatically"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1398864924,"post_id":23389221,"comment_id":35832406,"body_markdown":"When you click Project in the title bar you should see a tick left of `Build Automatically`, if not click it one time.","body":"When you click Project in the title bar you should see a tick left of <code>Build Automatically</code>, if not click it one time."},{"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"score":0,"creation_date":1398866448,"post_id":23389221,"comment_id":35833521,"body_markdown":"that still does not work, seems like i still have to clean/install with maven ..","body":"that still does not work, seems like i still have to clean/install with maven .."},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1398866661,"post_id":23389221,"comment_id":35833683,"body_markdown":"That&#39;s odd. What Kind of Project is it? Are there any error (in `Problems` section)? Can you provide a screenshot of your eclipse?","body":"That&#39;s odd. What Kind of Project is it? Are there any error (in <code>Problems</code> section)? Can you provide a screenshot of your eclipse?"},{"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"score":0,"creation_date":1398867729,"post_id":23389221,"comment_id":35834374,"body_markdown":"Just a basic java application. It seems that eclipse packages the module as a jar and then during debug/compilation runs the code from jar. Is there a way to avoid this? or an automated process? similar to Intellj","body":"Just a basic java application. It seems that eclipse packages the module as a jar and then during debug/compilation runs the code from jar. Is there a way to avoid this? or an automated process? similar to Intellj"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1398868092,"post_id":23389221,"comment_id":35834623,"body_markdown":"No, it doesn&#39;t. It builds all classes to `target/` directory and runs them from there. Is your project a dependency used by a different project?","body":"No, it doesn&#39;t. It builds all classes to <code>target&#47;</code> directory and runs them from there. Is your project a dependency used by a different project?"},{"owner":{"account_id":19516253,"reputation":173,"user_id":14279052,"display_name":"akash patel"},"score":0,"creation_date":1603805239,"post_id":23389221,"comment_id":114148103,"body_markdown":"@user648244 how it worked for you?","body":"@user648244 how it worked for you?"}],"answers":[{"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1398918705,"creation_date":1398918705,"answer_id":23402030,"question_id":23389221,"body_markdown":"Click `Project &gt; Build Automatically` once and make sure that tick mark is appeared in front of `Build Automatically` option.\r\n\r\nAlso you have to enable hot code replace options. Click `Windows &gt; Preferences`. Go to `Java &gt; Debug`  select all options in **Hot Code Replace** group","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>Click <code>Project &gt; Build Automatically</code> once and make sure that tick mark is appeared in front of <code>Build Automatically</code> option.</p>\n\n<p>Also you have to enable hot code replace options. Click <code>Windows &gt; Preferences</code>. Go to <code>Java &gt; Debug</code>  select all options in <strong>Hot Code Replace</strong> group</p>\n"},{"tags":[],"owner":{"account_id":4009584,"reputation":21,"user_id":3303387,"display_name":"pmk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464111564,"creation_date":1464111564,"answer_id":37420363,"question_id":23389221,"body_markdown":"I had the same problem and these steps fixed it:\r\n\r\n- Run -&gt; Run configurations \r\n- Select the one giving the problem \r\n- Go to the Source tab \r\n- Make sure your project is the first entry there\r\n- Mine had just the Default set there so I had to do this:\r\n Add -&gt; Java Project -&gt; Select your Project and add it\r\n\r\n\r\n","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>I had the same problem and these steps fixed it:</p>\n\n<ul>\n<li>Run -> Run configurations </li>\n<li>Select the one giving the problem </li>\n<li>Go to the Source tab </li>\n<li>Make sure your project is the first entry there</li>\n<li>Mine had just the Default set there so I had to do this:\nAdd -> Java Project -> Select your Project and add it</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642185368,"creation_date":1629029156,"answer_id":68791369,"question_id":23389221,"body_markdown":"I had the same problem, the reason was a wrong configuration of the javabuilder in the *.project* managed by Eclipse. I opened it and rewrote the `buildspec` section so that either Maven or jdt.core can compile. Once done, relaunch Eclipse and if the *Project &gt; Build Automatically* option is enabled, any change should now be reflected:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;projectDescription&gt;\r\n\t  &lt;name&gt;ProjectName&lt;/name&gt;\r\n\t  &lt;comment&gt;My beautiful project&lt;/comment&gt;\r\n\t  &lt;projects&gt;\r\n\t  &lt;/projects&gt;\r\n\t  &lt;buildSpec&gt;\r\n\t    &lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t  &lt;/buildSpec&gt;\r\n\t  &lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t  &lt;/natures&gt;\r\n     &lt;/projectDescription&gt;","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>I had the same problem, the reason was a wrong configuration of the javabuilder in the <em>.project</em> managed by Eclipse. I opened it and rewrote the <code>buildspec</code> section so that either Maven or jdt.core can compile. Once done, relaunch Eclipse and if the <em>Project &gt; Build Automatically</em> option is enabled, any change should now be reflected:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;projectDescription&gt;\n  &lt;name&gt;ProjectName&lt;/name&gt;\n  &lt;comment&gt;My beautiful project&lt;/comment&gt;\n  &lt;projects&gt;\n  &lt;/projects&gt;\n  &lt;buildSpec&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n  &lt;/buildSpec&gt;\n  &lt;natures&gt;\n    &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n    &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n  &lt;/natures&gt;\n &lt;/projectDescription&gt;\n</code></pre>\n"}],"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11511,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":23402030,"answer_count":3,"score":5,"last_activity_date":1642185368,"creation_date":1398863932,"question_id":23389221,"body_markdown":"I&#39;m using Eclipse IDE (4.2). When I make a change in Eclipse and try to debug it, the previous version is compiled, but not the new one. To get around this, I do maven clean/build and then refresh the project. But this is very tedious and I need to do it every time I make any changes. Is there another way around this or a plugin that I can use to pick up these changes automatically?","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>I'm using Eclipse IDE (4.2). When I make a change in Eclipse and try to debug it, the previous version is compiled, but not the new one. To get around this, I do maven clean/build and then refresh the project. But this is very tedious and I need to do it every time I make any changes. Is there another way around this or a plugin that I can use to pick up these changes automatically?</p>\n"},{"tags":["java","javafx","audio","nullpointerexception","embedded-resource"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1642027016,"post_id":70689170,"comment_id":124966655,"body_markdown":"Note you don&#39;t need Java Sound imports when using JavaFX&#39;s media API. Also note you should maintain a strong reference to the `MediaPlayer`; if it&#39;s garbage collected the media will stop playing. As for the error, `getResource(String)` returns null if the resource could not be found using the specified path. Check out [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other) for some help with that.","body":"Note you don&#39;t need Java Sound imports when using JavaFX&#39;s media API. Also note you should maintain a strong reference to the <code>MediaPlayer</code>; if it&#39;s garbage collected the media will stop playing. As for the error, <code>getResource(String)</code> returns null if the resource could not be found using the specified path. Check out <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a> for some help with that."},{"owner":{"account_id":15062918,"reputation":69,"user_id":10871037,"display_name":"Patryk Kobyłka"},"score":0,"creation_date":1642027074,"post_id":70689170,"comment_id":124966673,"body_markdown":"thx for advices, i gonna do it right now!","body":"thx for advices, i gonna do it right now!"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1642042679,"post_id":70689170,"comment_id":124969256,"body_markdown":"As far as I can tell, `&quot;test2.mp3&quot;` should be `&quot;/sample/test2.mp3&quot;`.","body":"As far as I can tell, <code>&quot;test2.mp3&quot;</code> should be <code>&quot;&#47;sample&#47;test2.mp3&quot;</code>."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642154123,"post_id":70689170,"comment_id":125000646,"body_markdown":"@AndrewThompson, I&#39;m thinking since the class Main is in the same folder as the audio file, the relative form may actually be correct, even if your form, with the audio file in the resources folder would be better. The method getClass() will be referring to the Main class and it&#39;s folder location, yes? This stuff can get confusing.","body":"@AndrewThompson, I&#39;m thinking since the class Main is in the same folder as the audio file, the relative form may actually be correct, even if your form, with the audio file in the resources folder would be better. The method getClass() will be referring to the Main class and it&#39;s folder location, yes? This stuff can get confusing."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642154256,"post_id":70689170,"comment_id":125000709,"body_markdown":"@Slaw, I&#39;m curious why you didn&#39;t put this comment into an Answer area. It seems to me to be a valid answer, not a request for clarifying info as the Stackoverflow guidelines suggest for this area.","body":"@Slaw, I&#39;m curious why you didn&#39;t put this comment into an Answer area. It seems to me to be a valid answer, not a request for clarifying info as the Stackoverflow guidelines suggest for this area."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642160188,"post_id":70689170,"comment_id":125002739,"body_markdown":"@PhilFreihofner *&quot;This stuff can get confusing.&quot;* That&#39;s a large part of the reason I would never, ever, *ever* use anything but the explicit &#39;path from the root of the class path&#39;. Why guess or be confused?","body":"@PhilFreihofner <i>&quot;This stuff can get confusing.&quot;</i> That&#39;s a large part of the reason I would never, ever, <i>ever</i> use anything but the explicit &#39;path from the root of the class path&#39;. Why guess or be confused?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1642183413,"post_id":70689170,"comment_id":125011807,"body_markdown":"@PhilFreihofner Because the question is, in my opinion, a duplicate of the one I linked in my comment, but I didn&#39;t feel like using my gold badge to single-handedly make that decision. The other notes are auxiliary to the problem.","body":"@PhilFreihofner Because the question is, in my opinion, a duplicate of the one I linked in my comment, but I didn&#39;t feel like using my gold badge to single-handedly make that decision. The other notes are auxiliary to the problem."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642195890,"post_id":70689170,"comment_id":125015652,"body_markdown":"@Slaw Thanks for the explanation. As I did not see the phrase &quot;duplicate question&quot; I didn&#39;t make that connection. You can indicate this and put it up for a vote without using your gold badge, yes?","body":"@Slaw Thanks for the explanation. As I did not see the phrase &quot;duplicate question&quot; I didn&#39;t make that connection. You can indicate this and put it up for a vote without using your gold badge, yes?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1642197448,"post_id":70689170,"comment_id":125016118,"body_markdown":"@PhilFreihofner No, I don&#39;t think I can avoid the gold badge (but maybe I&#39;m wrong). In any case, the answer posted by the OP seems to agree that their question is a duplicate and so I&#39;ve marked it as such.","body":"@PhilFreihofner No, I don&#39;t think I can avoid the gold badge (but maybe I&#39;m wrong). In any case, the answer posted by the OP seems to agree that their question is a duplicate and so I&#39;ve marked it as such."}],"answers":[{"tags":[],"owner":{"account_id":15062918,"reputation":69,"user_id":10871037,"display_name":"Patryk Kobyłka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642185329,"creation_date":1642185329,"answer_id":70715113,"question_id":70689170,"body_markdown":"As @Slaw wrote problem was with path to resource, there is more information in link belove,\r\n\r\nTHX Slaw!\r\n\r\n&quot;Note you don&#39;t need Java Sound imports when using JavaFX&#39;s media API. Also note you should maintain a strong reference to the MediaPlayer; if it&#39;s garbage collected the media will stop playing. As for the error, getResource(String) returns null if the resource could not be found using the specified path. Check out [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application][1]? for some help with that.&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","title":"Trying play audio file with JavaFX","body":"<p>As @Slaw wrote problem was with path to resource, there is more information in link belove,</p>\n<p>THX Slaw!</p>\n<p>&quot;Note you don't need Java Sound imports when using JavaFX's media API. Also note you should maintain a strong reference to the MediaPlayer; if it's garbage collected the media will stop playing. As for the error, getResource(String) returns null if the resource could not be found using the specified path. Check out <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application</a>? for some help with that.&quot;</p>\n"}],"owner":{"account_id":15062918,"reputation":69,"user_id":10871037,"display_name":"Patryk Kobyłka"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1642197404,"answer_count":1,"score":2,"last_activity_date":1642185329,"creation_date":1642026263,"question_id":70689170,"body_markdown":"I&#39;m trying to play audio file in my JavaFX app, code look fine for me but I&#39;m getting errors\r\n\r\nI think that the problem is in line 28:\r\n\r\n&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\r\n\tat sample.Main.start(Main.java:28)&quot;\r\n\r\nwhy resource is null? in my file structure I got resource package, but it doesn&#39;t matter where audio file is, error is the same\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m new in coding, so I don&#39;t know how to exactly read these errors... if anyone could help, would be great\r\n\r\ncode and errors belove\r\n\r\n\r\n    package sample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.stage.Stage;\r\n    \r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n    import java.io.IOException;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws UnsupportedAudioFileException, IOException, LineUnavailableException\r\n        {\r\n            String css = this.getClass().getResource(&quot;styles.css&quot;).toExternalForm();\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n            root.getStylesheets().add(css);\r\n            primaryStage.setTitle(&quot;Hello World&quot;);\r\n            primaryStage.setScene(new Scene(root, 300, 275));\r\n            primaryStage.show();\r\n    \r\n            final java.net.URL resource = getClass().getResource(&quot;test2.mp3&quot;);\r\n            final Media media = new Media(resource.toString());\r\n            final MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n            mediaPlayer.play();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nafter run this code I;m getting these errors\r\n\r\n```none\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\r\n\tat sample.Main.start(Main.java:28)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application sample.Main\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nthx for any help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rO9EF.png","title":"Trying play audio file with JavaFX","body":"<p>I'm trying to play audio file in my JavaFX app, code look fine for me but I'm getting errors</p>\n<p>I think that the problem is in line 28:</p>\n<p>&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\nat sample.Main.start(Main.java:28)&quot;</p>\n<p>why resource is null? in my file structure I got resource package, but it doesn't matter where audio file is, error is the same</p>\n<p><a href=\"https://i.stack.imgur.com/rO9EF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rO9EF.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm new in coding, so I don't know how to exactly read these errors... if anyone could help, would be great</p>\n<p>code and errors belove</p>\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport java.io.IOException;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws UnsupportedAudioFileException, IOException, LineUnavailableException\n    {\n        String css = this.getClass().getResource(&quot;styles.css&quot;).toExternalForm();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\n        root.getStylesheets().add(css);\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n\n        final java.net.URL resource = getClass().getResource(&quot;test2.mp3&quot;);\n        final Media media = new Media(resource.toString());\n        final MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.play();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>after run this code I;m getting these errors</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\n    at sample.Main.start(Main.java:28)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application sample.Main\n\nProcess finished with exit code 1\n</code></pre>\n<p>thx for any help!</p>\n"},{"tags":["java","eclipse","eclipse-plugin","plugin.xml"],"answers":[{"tags":[],"owner":{"account_id":419412,"reputation":12668,"user_id":796559,"accept_rate":75,"display_name":"Tonny Madsen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1312472465,"creation_date":1312472465,"answer_id":6944398,"question_id":6944051,"body_markdown":"That is not possible by design.\r\n\r\nThe idea is that the Eclipse core can load the `plugin.xml` files for all resolved plug-ins/bundles without loading/activating the plug-ins. Resolving your construct above would normally require Eclipse to resolve all references for the class - `MyNature` in this case - which can easily lead to the activation of many other dependent plug-ins. Not good.\r\n\r\nSo - by design - all data in `plugin.xml` must be self-contained. (With the possible exception of localized strings).","title":"Use a class field in the &#39;plugin.xml&#39; for an eclipse plugin","body":"<p>That is not possible by design.</p>\n\n<p>The idea is that the Eclipse core can load the <code>plugin.xml</code> files for all resolved plug-ins/bundles without loading/activating the plug-ins. Resolving your construct above would normally require Eclipse to resolve all references for the class - <code>MyNature</code> in this case - which can easily lead to the activation of many other dependent plug-ins. Not good.</p>\n\n<p>So - by design - all data in <code>plugin.xml</code> must be self-contained. (With the possible exception of localized strings).</p>\n"}],"owner":{"account_id":802541,"reputation":13,"user_id":878907,"display_name":"geoffroy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6944398,"answer_count":1,"score":1,"last_activity_date":1642185275,"creation_date":1312471194,"question_id":6944051,"body_markdown":"I am currently working on a little Eclipse plugin and I have to deal with the classic *&#39;plugin.xml&#39;* stuff, such as the creation of a nature:\r\n\r\n```xml\r\n&lt;extension\r\n    id=&quot;aplugin.natures.MyNature.NATURE_ID.id&quot;\r\n    name=&quot;Sample Project Nature&quot;\r\n    point=&quot;org.eclipse.core.resources.natures&quot;&gt;\r\n```\r\n\r\nNow in this particular example, I must, somewhere in my plugin code, give this *&#39;id&#39;* as a *String* to some Eclipse function. So I need to create a specific class like:\r\n\r\n```java\r\npackage aplugin.natures;\r\n\r\npublic class MyNature implements IProjectNature {\r\n    public static final String NATURE_ID = &quot;aplugin.natures.MyNature.NATURE_ID.id&quot;; //$NON-NLS-1$\r\n}\r\n```\r\n\r\nAnd **here comes my problem, I got some copy and paste of my *&#39;id&#39;***. I must admit that I am not very proud of it.\r\n\r\nSo my question is, does someone know a way to use the *&#39;NATURE_ID&#39;* field in the *&#39;MyNature&#39;* class directly in the *&#39;plugin.xml&#39;* file ?.\r\n\r\nIn the end I wish to write something like:\r\n\r\n```xml\r\n&lt;extension id=&quot;${aplugin.natures.MyNature.NATURE_ID}&quot; ... &gt;\r\n````\r\n\r\n","title":"Use a class field in the &#39;plugin.xml&#39; for an eclipse plugin","body":"<p>I am currently working on a little Eclipse plugin and I have to deal with the classic <em>'plugin.xml'</em> stuff, such as the creation of a nature:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;extension\n    id=&quot;aplugin.natures.MyNature.NATURE_ID.id&quot;\n    name=&quot;Sample Project Nature&quot;\n    point=&quot;org.eclipse.core.resources.natures&quot;&gt;\n</code></pre>\n<p>Now in this particular example, I must, somewhere in my plugin code, give this <em>'id'</em> as a <em>String</em> to some Eclipse function. So I need to create a specific class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package aplugin.natures;\n\npublic class MyNature implements IProjectNature {\n    public static final String NATURE_ID = &quot;aplugin.natures.MyNature.NATURE_ID.id&quot;; //$NON-NLS-1$\n}\n</code></pre>\n<p>And <strong>here comes my problem, I got some copy and paste of my <em>'id'</em></strong>. I must admit that I am not very proud of it.</p>\n<p>So my question is, does someone know a way to use the <em>'NATURE_ID'</em> field in the <em>'MyNature'</em> class directly in the <em>'plugin.xml'</em> file ?.</p>\n<p>In the end I wish to write something like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;extension id=&quot;${aplugin.natures.MyNature.NATURE_ID}&quot; ... &gt;\n</code></pre>\n"},{"tags":["java","postgresql","precision","jdbctemplate"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1642073620,"post_id":70695200,"comment_id":124977600,"body_markdown":"If it is a float, you use `getFloat()`, I dont undertand what you need exactly.  Perhaps show code, where your problem in the code.","body":"If it is a float, you use <code>getFloat()</code>, I dont undertand what you need exactly.  Perhaps show code, where your problem in the code."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1642074082,"post_id":70695200,"comment_id":124977785,"body_markdown":"Why are you storing numbers in a `text` column? That is a really bad idea to begin with. Additionally: `float` (and `double precision`)  are **approximate** data types. What you store is not necessarily the same that you get back. If you need accurate numbers, use `numeric`","body":"Why are you storing numbers in a <code>text</code> column? That is a really bad idea to begin with. Additionally: <code>float</code> (and <code>double precision</code>)  are <b>approximate</b> data types. What you store is not necessarily the same that you get back. If you need accurate numbers, use <code>numeric</code>"},{"owner":{"account_id":17043042,"reputation":41,"user_id":12330442,"display_name":"Daniel"},"score":0,"creation_date":1642150904,"post_id":70695200,"comment_id":124999631,"body_markdown":"It is too big project for me to handle every query and implement getFloat() everywhere it is needed.\nI am not storing numbers in text type columns. To be more specific. When I call the procedure which returns table with text type columns in pgAdmin I get exact values. As I wrote above, for example 23.9. Unfortunately from java it returns 23.899995.","body":"It is too big project for me to handle every query and implement getFloat() everywhere it is needed. I am not storing numbers in text type columns. To be more specific. When I call the procedure which returns table with text type columns in pgAdmin I get exact values. As I wrote above, for example 23.9. Unfortunately from java it returns 23.899995."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1642154637,"post_id":70695200,"comment_id":125000852,"body_markdown":"Well, `float` (and `double precision`)  is a _approximate_ data type (see https://floating-point-gui.de/). You don&#39;t always get back what you put in. When you need exact values, use `numeric`.","body":"Well, <code>float</code> (and <code>double precision</code>)  is a <i>approximate</i> data type (see <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>). You don&#39;t always get back what you put in. When you need exact values, use <code>numeric</code>."},{"owner":{"account_id":17043042,"reputation":41,"user_id":12330442,"display_name":"Daniel"},"score":0,"creation_date":1642159796,"post_id":70695200,"comment_id":125002593,"body_markdown":"Thank you for your answers and support :) All problem was about &#39;extra_float_digits&#39; database variable. A driver which java use in my project use &#39;extra_float_digits&#39; =3, wheras postgresql has value 0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. This resolve problem and avoid doing changes on every sql query results. Hope that this topic will help save some time to anyone else.","body":"Thank you for your answers and support :) All problem was about &#39;extra_float_digits&#39; database variable. A driver which java use in my project use &#39;extra_float_digits&#39; =3, wheras postgresql has value 0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. This resolve problem and avoid doing changes on every sql query results. Hope that this topic will help save some time to anyone else."}],"owner":{"account_id":17043042,"reputation":41,"user_id":12330442,"display_name":"Daniel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642184776,"creation_date":1642070478,"question_id":70695200,"body_markdown":"I develop a Java project and running into a problem with incorrect text data value from the PostgreSQL database.\r\n\r\nFor example, in PostgreSQL I have a table with text type columns. Inside that table, I have a text value of 62.1 or something similar. When retrieving data with jdbcTemplate (query or queryForList method) the result is 62.09999999999999996.\r\n\r\nWhen I use ResultSet getFloat (index) it works fine. But I need a different solution as my database is huge and the tables contain different values ​​on different column indexes. So if I get stuck with the getFloat (index) method then I will have to implement a different approach for each table.\r\n\r\nCode Example.\r\nDatabase pocedure:\r\n```sql\r\n    CREATE OR REPLACE FUNCTION public.float_test_ret_cast_table2(\r\n\t)\r\n    RETURNS TABLE(value text, value2 character varying, value3 text, value4 text, value5 text, value6 text) \r\n    LANGUAGE &#39;plpgsql&#39;\r\n    COST 100\r\n    VOLATILE PARALLEL UNSAFE\r\n    ROWS 1000\r\n\r\nAS $BODY$\r\nDECLARE\r\nBEGIN\r\n\tDROP TABLE IF EXISTS tmp_float_cast_test2;\r\n\t\tEXECUTE &#39;CREATE TABLE tmp_float_cast_test2 AS ( \r\n\t\t\tSELECT value, value2, value3::text, value4::text, value5::text, (value6::real / 100)::text FROM &quot;FloatTest&quot;    \r\n\t\t)&#39;;\r\n\tRETURN QUERY SELECT * FROM tmp_float_cast_test2;\r\nEND;\r\n$BODY$;\r\n```\r\n\r\nQuery results:\r\n - from pg admin: \r\n\r\n```none\r\nselect * from float_test_ret_cast_table2()\r\n62.1 | 62,1 | 62.1111 | 62.1111 | 62.1111 | 6.21\r\n```\r\n\r\nfrom java: \r\n```none\r\nselect * from float_test_ret_cast_table2()\r\n62.1 | 62,1 | 62.1111000000000004 | 62.1110992 | 62.1111 | 6.20999999999999996\r\n```\r\n\r\nHow can I fix this problem?\r\n","title":"Float precision issue - different values then from pgAdmin","body":"<p>I develop a Java project and running into a problem with incorrect text data value from the PostgreSQL database.</p>\n<p>For example, in PostgreSQL I have a table with text type columns. Inside that table, I have a text value of 62.1 or something similar. When retrieving data with jdbcTemplate (query or queryForList method) the result is 62.09999999999999996.</p>\n<p>When I use ResultSet getFloat (index) it works fine. But I need a different solution as my database is huge and the tables contain different values ​​on different column indexes. So if I get stuck with the getFloat (index) method then I will have to implement a different approach for each table.</p>\n<p>Code Example.\nDatabase pocedure:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    CREATE OR REPLACE FUNCTION public.float_test_ret_cast_table2(\n    )\n    RETURNS TABLE(value text, value2 character varying, value3 text, value4 text, value5 text, value6 text) \n    LANGUAGE 'plpgsql'\n    COST 100\n    VOLATILE PARALLEL UNSAFE\n    ROWS 1000\n\nAS $BODY$\nDECLARE\nBEGIN\n    DROP TABLE IF EXISTS tmp_float_cast_test2;\n        EXECUTE 'CREATE TABLE tmp_float_cast_test2 AS ( \n            SELECT value, value2, value3::text, value4::text, value5::text, (value6::real / 100)::text FROM &quot;FloatTest&quot;    \n        )';\n    RETURN QUERY SELECT * FROM tmp_float_cast_test2;\nEND;\n$BODY$;\n</code></pre>\n<p>Query results:</p>\n<ul>\n<li>from pg admin:</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>select * from float_test_ret_cast_table2()\n62.1 | 62,1 | 62.1111 | 62.1111 | 62.1111 | 6.21\n</code></pre>\n<p>from java:</p>\n<pre class=\"lang-none prettyprint-override\"><code>select * from float_test_ret_cast_table2()\n62.1 | 62,1 | 62.1111000000000004 | 62.1110992 | 62.1111 | 6.20999999999999996\n</code></pre>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1527532814,"post_id":50571926,"comment_id":88153511,"body_markdown":"You return `HttpStatus.OK`, when an exception occurs. However, there are HTTP status codes for a reason. E.g. if the requested resource is not found, return a 404.","body":"You return <code>HttpStatus.OK</code>, when an exception occurs. However, there are HTTP status codes for a reason. E.g. if the requested resource is not found, return a 404."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1527533219,"post_id":50571926,"comment_id":88153640,"body_markdown":"@dunni is 404 recommended when a business exception occurs? i thought that 404 was recommended when a resource wasn&#39;t found on the server, something like http://myservice.com/user &lt;- should be **users** instead of **user**, then a 404 is thrown, isn&#39;t it?","body":"@dunni is 404 recommended when a business exception occurs? i thought that 404 was recommended when a resource wasn&#39;t found on the server, something like <a href=\"http://myservice.com/user\" rel=\"nofollow noreferrer\">myservice.com/user</a> &lt;- should be <b>users</b> instead of <b>user</b>, then a 404 is thrown, isn&#39;t it?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1527533296,"post_id":50571926,"comment_id":88153669,"body_markdown":"Well, it looks like you provide a REST API, to search for users, right? So eg. myservice.com/user/1234 to get the user with ID 1234. That is a resource, so if the user is not found, return 404.","body":"Well, it looks like you provide a REST API, to search for users, right? So eg. myservice.com/user/1234 to get the user with ID 1234. That is a resource, so if the user is not found, return 404."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1527533332,"post_id":50571926,"comment_id":88153681,"body_markdown":"Well explained, thanks!","body":"Well explained, thanks!"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":1,"creation_date":1527537254,"post_id":50571926,"comment_id":88155052,"body_markdown":"It&#39;s a good way. My only tip is simplify and use only a concrete class `BusinessException` and control the error reason by an error code when the `BusinessException` is throwed. Eventually, you will end up with a lot of exception classes and the error code can accomplish the same thing. [See here an example](https://github.com/dherik/java-exception-handling)","body":"It&#39;s a good way. My only tip is simplify and use only a concrete class <code>BusinessException</code> and control the error reason by an error code when the <code>BusinessException</code> is throwed. Eventually, you will end up with a lot of exception classes and the error code can accomplish the same thing. <a href=\"https://github.com/dherik/java-exception-handling\" rel=\"nofollow noreferrer\">See here an example</a>"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":1,"creation_date":1527596582,"post_id":50571926,"comment_id":88177764,"body_markdown":"@Dherik great tip and excellent example!","body":"@Dherik great tip and excellent example!"}],"answers":[{"tags":[],"owner":{"account_id":3958600,"reputation":149,"user_id":3266342,"display_name":"Ara Kokeba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527536374,"creation_date":1527536374,"answer_id":50572621,"question_id":50571926,"body_markdown":"I use a similar way to handle exceptions. But in my case, different handlers are managed according to the error status (e.g. an user exists, an user cannot be registered due to some unsatisfied condition, etc.). \r\n\r\nYou also might add your generic BusinessException for some special cases. Hope it helps you feel better. \r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n    import com.rest.restwebservices.controller.UserController;\r\n    import com.rest.restwebservices.exception.ResourceNotFoundException;\r\n    import com.rest.restwebservices.exception.PreconditionFailedException;\r\n    import com.rest.restwebservices.exception.ResourceAlreadyExistsException;\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n\r\n    @ControllerAdvice(basePackageClasses = UserController.class)\r\n    public class BusinessExceptionHandler {\r\n\r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceNotFoundException ex) {\r\n            return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.NOT_FOUND);\r\n        }\r\n\r\n        @ExceptionHandler(PreconditionFailedException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, PreconditionFailedExceptionex) {\r\n            return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.PRECONDITION_FAILED);\r\n        }\r\n\r\n        @ExceptionHandler(ResourceAlreadyExistsException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceAlreadyExistsException) {\r\n            return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.CONFLICT);\r\n        }\r\n    }\r\n\r\n","title":"Correct way to handle exceptions in Spring Boot","body":"<p>I use a similar way to handle exceptions. But in my case, different handlers are managed according to the error status (e.g. an user exists, an user cannot be registered due to some unsatisfied condition, etc.). </p>\n\n<p>You also might add your generic BusinessException for some special cases. Hope it helps you feel better. </p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.rest.restwebservices.controller.UserController;\nimport com.rest.restwebservices.exception.ResourceNotFoundException;\nimport com.rest.restwebservices.exception.PreconditionFailedException;\nimport com.rest.restwebservices.exception.ResourceAlreadyExistsException;\nimport com.rest.restwebservices.exception.fault.BusinessFault;\n\n@ControllerAdvice(basePackageClasses = UserController.class)\npublic class BusinessExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceNotFoundException ex) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(PreconditionFailedException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, PreconditionFailedExceptionex) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.PRECONDITION_FAILED);\n    }\n\n    @ExceptionHandler(ResourceAlreadyExistsException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceAlreadyExistsException) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.CONFLICT);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642184572,"creation_date":1527537570,"answer_id":50572816,"question_id":50571926,"body_markdown":"I&#39;ve got a little problem with your exception handling. Principally it is absolutely ok to catch ``runtime exceptions``, handle them and send them forth to the client, which is probably someone using your REST service and getting the error response as a JSON object. If you manage to tell him what he did wrong and what he can do about it, great! Of course, it will add some complexity to it, but it is probably easy and comfortable to work with that API.\r\n\r\nBut think about the backend developers, too, that work with your code. Especially the ``public User findById(Long id)`` method in your UserService is obscure. The reason for this is that you made your ``BusinessException``, in particular, the ``UserNotFoundException`` *unchecked*.\r\n\r\nIf I joined your (backend) team, and I was to write some business logic using that service, I&#39;d be quite sure what I had to expect from that method: I pass a _user ID_ and get back a ``User`` object if it was found or ``null`` if not. That&#39;s why I would write code like that\r\n\r\n    User user = userService.findById(&quot;42A&quot;);\r\n    if (user == null) {\r\n      // create a User or return an error or null or whatever\r\n    } else {\r\n      // proceed\r\n    }\r\n\r\nHowever, I would never know, that the first condition will never be true since you never return ``null``. How should I know that I had to catch an Exception? \r\n\r\n**Is the compiler telling me to catch it?** No, as it is not checked. \r\n\r\n**Would I look into your source code?** Hell, no! Your case is extremely simple. That ``UserNotFoundException`` may be raised in another method in another class among hundred lines of code. Sometimes I couldn&#39;t look inside it, anyway, as that ``UserService`` is just a compiled class in a dependency. \r\n\r\n**Do I read the JavaDoc?** Hahaha. Let&#39;s say, 50% of the time I wouldn&#39;t, and the other 50% you&#39;ve forgotten to document it, anyway. \r\n\r\nSo, the developer has to wait until his code is used (either by a client or in Unit tests) to see that it doesn&#39;t work as he intended, forcing him to redesign what he has coded so far. And if your whole API is designed that way, that unchecked exceptions pop out of nowhere, it can be very very annoying, it costs time and money and is so easy to avoid, actually.\r\n\r\n\r\n\r\n","title":"Correct way to handle exceptions in Spring Boot","body":"<p>I've got a little problem with your exception handling. Principally it is absolutely ok to catch <code>runtime exceptions</code>, handle them and send them forth to the client, which is probably someone using your REST service and getting the error response as a JSON object. If you manage to tell him what he did wrong and what he can do about it, great! Of course, it will add some complexity to it, but it is probably easy and comfortable to work with that API.</p>\n<p>But think about the backend developers, too, that work with your code. Especially the <code>public User findById(Long id)</code> method in your UserService is obscure. The reason for this is that you made your <code>BusinessException</code>, in particular, the <code>UserNotFoundException</code> <em>unchecked</em>.</p>\n<p>If I joined your (backend) team, and I was to write some business logic using that service, I'd be quite sure what I had to expect from that method: I pass a <em>user ID</em> and get back a <code>User</code> object if it was found or <code>null</code> if not. That's why I would write code like that</p>\n<pre><code>User user = userService.findById(&quot;42A&quot;);\nif (user == null) {\n  // create a User or return an error or null or whatever\n} else {\n  // proceed\n}\n</code></pre>\n<p>However, I would never know, that the first condition will never be true since you never return <code>null</code>. How should I know that I had to catch an Exception?</p>\n<p><strong>Is the compiler telling me to catch it?</strong> No, as it is not checked.</p>\n<p><strong>Would I look into your source code?</strong> Hell, no! Your case is extremely simple. That <code>UserNotFoundException</code> may be raised in another method in another class among hundred lines of code. Sometimes I couldn't look inside it, anyway, as that <code>UserService</code> is just a compiled class in a dependency.</p>\n<p><strong>Do I read the JavaDoc?</strong> Hahaha. Let's say, 50% of the time I wouldn't, and the other 50% you've forgotten to document it, anyway.</p>\n<p>So, the developer has to wait until his code is used (either by a client or in Unit tests) to see that it doesn't work as he intended, forcing him to redesign what he has coded so far. And if your whole API is designed that way, that unchecked exceptions pop out of nowhere, it can be very very annoying, it costs time and money and is so easy to avoid, actually.</p>\n"}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12319,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50572816,"answer_count":2,"score":9,"last_activity_date":1642184572,"creation_date":1527532605,"question_id":50571926,"body_markdown":"I was reading the Spring docs and found that creating a subclass from `ResponseEntityExceptionHandler` was a good way on handling exceptions. However, I tried to handle exceptions in a different way, since I need to diff `BusinessExceptions` from `TechnicalExceptions`. \r\n\r\nCreated a bean called `BusinessFault` which encapsulates the exception details:\r\n\r\n**BusinessFault.java** \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @JsonInclude(value = Include.NON_NULL)\r\n    public class BusinessFault {\r\n    \r\n    \t@JsonProperty(value = &quot;category&quot;)\r\n    \tprivate final String CATEGORY = &quot;Business Failure&quot;;\r\n    \tprotected String type;\r\n    \tprotected String code;\r\n    \tprotected String reason;\r\n    \tprotected String description;\r\n    \tprotected String instruction;\r\n    \r\n    \tpublic BusinessFault(String type, String code, String reason) {\r\n    \t\tthis.type = type;\r\n    \t\tthis.code = code;\r\n    \t\tthis.reason = reason;\r\n    \t}\r\n    \r\n    \tpublic BusinessFault(String type, String code, String reason, String description, String instruction) {\r\n    \t\tthis.type = type;\r\n    \t\tthis.code = code;\r\n    \t\tthis.reason = reason;\r\n    \t\tthis.description = description;\r\n    \t\tthis.instruction = instruction;\r\n    \t}\r\n    \r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \r\n    \tpublic String getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \r\n    \tpublic void setCode(String code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    \r\n    \tpublic String getReason() {\r\n    \t\treturn reason;\r\n    \t}\r\n    \r\n    \tpublic void setReason(String reason) {\r\n    \t\tthis.reason = reason;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic String getInstruction() {\r\n    \t\treturn instruction;\r\n    \t}\r\n    \r\n    \tpublic void setInstruction(String instruction) {\r\n    \t\tthis.instruction = instruction;\r\n    \t}\r\n    \r\n    \tpublic String getCATEGORY() {\r\n    \t\treturn CATEGORY;\r\n    \t}\r\n    }\r\n\r\nCreated a `BusinessException` class, which do the job by creating a `BusinessFault` beans through the details passed by its constructor:\r\n\r\n**BusinessException.java**\r\n\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n    \r\n    public abstract class BusinessException extends RuntimeException {\r\n    \r\n    \tprivate BusinessFault businessFault;\r\n    \r\n    \tpublic BusinessException(String type, String code, String reason) {\r\n    \t\tthis.businessFault = new BusinessFault(type, code, reason);\r\n    \t}\r\n    \r\n    \tpublic BusinessException(String type, String code, String reason, String description, String instruction) {\r\n    \t\tthis.businessFault = new BusinessFault(type, code, reason, description, instruction);\r\n    \t}\r\n    \r\n    \tpublic BusinessException(BusinessFault businessFault) {\r\n    \t\tthis.businessFault = businessFault;\r\n    \t}\r\n    \r\n    \tpublic BusinessFault getBusinessFault() {\r\n    \t\treturn businessFault;\r\n    \t}\r\n    \r\n    \tpublic void setBusinessFault(BusinessFault businessFault) {\r\n    \t\tthis.businessFault = businessFault;\r\n    \t}\r\n    }\r\n\r\nCreated a specific `UserNotFoundException` class, which extends from `BusinessException` class:\r\n\r\n**UserNotFoundException.java**\r\n\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n    import com.rest.restwebservices.exception.map.ExceptionMap;\r\n    \r\n    public class UserNotFoundException extends BusinessException {\r\n    \r\n    \tpublic UserNotFoundException(BusinessFault businessFault) {\r\n    \t\tsuper(businessFault);\r\n    \t}\r\n    \r\n    \tpublic UserNotFoundException(String reason) {\r\n    \t\tsuper(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason);\r\n    \t}\r\n    \r\n    \tpublic UserNotFoundException(String reason, String description, String instruction) {\r\n    \t\tsuper(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason, description,\r\n    \t\t\t\tinstruction);\r\n    \t}\r\n    }\r\n\r\nCreated a `BusinessExceptionHandler`, but instead of being a subclass of `ResponseEntityExceptionHandler`, it&#39;s only has a `@ControllerAdvice` annotation and a method that handles all thrown `BusinessExceptions`:\r\n\r\n**BusinessExceptionHandler.java**\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import com.rest.restwebservices.controller.UserController;\r\n    import com.rest.restwebservices.exception.BusinessException;\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n    \r\n    @ControllerAdvice(basePackageClasses = UserController.class)\r\n    public class BusinessExceptionHandler {\r\n    \r\n    \t@ExceptionHandler(BusinessException.class)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, BusinessException ex) {\r\n    \t\treturn new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nThe service layer can throw a `UserNotFoundException`:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserRepository userRepository;\r\n    \r\n    \tpublic User findById(Long id) {\r\n    \t\tUser user = userRepository.findOne(id);\r\n    \t\tif (user == null)\r\n    \t\t\tthrow new UserNotFoundException(&quot;The ID &quot; + id + &quot; doesn&#39;t behave to any user!&quot;);\r\n    \r\n    \t\treturn user;\r\n    \t}\r\n    }\r\n\r\nIt works fine. But I was wondering if this is a bad practice on handling exceptions?","title":"Correct way to handle exceptions in Spring Boot","body":"<p>I was reading the Spring docs and found that creating a subclass from <code>ResponseEntityExceptionHandler</code> was a good way on handling exceptions. However, I tried to handle exceptions in a different way, since I need to diff <code>BusinessExceptions</code> from <code>TechnicalExceptions</code>. </p>\n\n<p>Created a bean called <code>BusinessFault</code> which encapsulates the exception details:</p>\n\n<p><strong>BusinessFault.java</strong> </p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonInclude(value = Include.NON_NULL)\npublic class BusinessFault {\n\n    @JsonProperty(value = \"category\")\n    private final String CATEGORY = \"Business Failure\";\n    protected String type;\n    protected String code;\n    protected String reason;\n    protected String description;\n    protected String instruction;\n\n    public BusinessFault(String type, String code, String reason) {\n        this.type = type;\n        this.code = code;\n        this.reason = reason;\n    }\n\n    public BusinessFault(String type, String code, String reason, String description, String instruction) {\n        this.type = type;\n        this.code = code;\n        this.reason = reason;\n        this.description = description;\n        this.instruction = instruction;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getReason() {\n        return reason;\n    }\n\n    public void setReason(String reason) {\n        this.reason = reason;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getInstruction() {\n        return instruction;\n    }\n\n    public void setInstruction(String instruction) {\n        this.instruction = instruction;\n    }\n\n    public String getCATEGORY() {\n        return CATEGORY;\n    }\n}\n</code></pre>\n\n<p>Created a <code>BusinessException</code> class, which do the job by creating a <code>BusinessFault</code> beans through the details passed by its constructor:</p>\n\n<p><strong>BusinessException.java</strong></p>\n\n<pre><code>import com.rest.restwebservices.exception.fault.BusinessFault;\n\npublic abstract class BusinessException extends RuntimeException {\n\n    private BusinessFault businessFault;\n\n    public BusinessException(String type, String code, String reason) {\n        this.businessFault = new BusinessFault(type, code, reason);\n    }\n\n    public BusinessException(String type, String code, String reason, String description, String instruction) {\n        this.businessFault = new BusinessFault(type, code, reason, description, instruction);\n    }\n\n    public BusinessException(BusinessFault businessFault) {\n        this.businessFault = businessFault;\n    }\n\n    public BusinessFault getBusinessFault() {\n        return businessFault;\n    }\n\n    public void setBusinessFault(BusinessFault businessFault) {\n        this.businessFault = businessFault;\n    }\n}\n</code></pre>\n\n<p>Created a specific <code>UserNotFoundException</code> class, which extends from <code>BusinessException</code> class:</p>\n\n<p><strong>UserNotFoundException.java</strong></p>\n\n<pre><code>import com.rest.restwebservices.exception.fault.BusinessFault;\nimport com.rest.restwebservices.exception.map.ExceptionMap;\n\npublic class UserNotFoundException extends BusinessException {\n\n    public UserNotFoundException(BusinessFault businessFault) {\n        super(businessFault);\n    }\n\n    public UserNotFoundException(String reason) {\n        super(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason);\n    }\n\n    public UserNotFoundException(String reason, String description, String instruction) {\n        super(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason, description,\n                instruction);\n    }\n}\n</code></pre>\n\n<p>Created a <code>BusinessExceptionHandler</code>, but instead of being a subclass of <code>ResponseEntityExceptionHandler</code>, it's only has a <code>@ControllerAdvice</code> annotation and a method that handles all thrown <code>BusinessExceptions</code>:</p>\n\n<p><strong>BusinessExceptionHandler.java</strong></p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.rest.restwebservices.controller.UserController;\nimport com.rest.restwebservices.exception.BusinessException;\nimport com.rest.restwebservices.exception.fault.BusinessFault;\n\n@ControllerAdvice(basePackageClasses = UserController.class)\npublic class BusinessExceptionHandler {\n\n    @ExceptionHandler(BusinessException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, BusinessException ex) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>The service layer can throw a <code>UserNotFoundException</code>:</p>\n\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public User findById(Long id) {\n        User user = userRepository.findOne(id);\n        if (user == null)\n            throw new UserNotFoundException(\"The ID \" + id + \" doesn't behave to any user!\");\n\n        return user;\n    }\n}\n</code></pre>\n\n<p>It works fine. But I was wondering if this is a bad practice on handling exceptions?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","apache-tomee"],"answers":[{"tags":[],"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642184501,"creation_date":1642184501,"answer_id":70714985,"question_id":70713163,"body_markdown":"It turns out it wasn&#39;t working in Tomcat, It was only working in the embedded server.\r\n\r\nI was missing a configure method in the Servlet Initializer\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n      }\r\n    }","title":"Spring Boot application not running on TomEE Plus","body":"<p>It turns out it wasn't working in Tomcat, It was only working in the embedded server.</p>\n<p>I was missing a configure method in the Servlet Initializer</p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70714985,"answer_count":1,"score":0,"last_activity_date":1642184501,"creation_date":1642175276,"question_id":70713163,"body_markdown":"I have a spring boot application that I am trying to deploy onto a TomEE Plus server. The application works perfectly fine with the embedded Tomcat server and on a Tomcat 9.0.43 setup.\r\nI copy the deployment files into the TomEE webapps folder, start the server and ... nothing.\r\n\r\nI don&#39;t see the usual Spring Boot startup logo and TOMEE seems to just skip the spring boot application.\r\nInstead, I get a the following errors (shortened for clarity):\r\n\r\n    java.lang.IllegalStateException: Error starting child\r\n         at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\r\n         at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n         at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\r\n         at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1133)\r\n    ...\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\r\n         at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n         at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n         at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n         ... 37 more\r\n    Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally\r\n         at java.lang.ClassLoader.defineClass1(Native Method)\r\n         at java.lang.ClassLoader.defineClass(Unknown Source)\r\n         at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    ...\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.jsp.tagext.TryCatchFinally\r\n         at java.net.URLClassLoader.findClass(Unknown Source)\r\n         at java.lang.ClassLoader.loadClass(Unknown Source)\r\n         at java.lang.ClassLoader.loadClass(Unknown Source)\r\n         ... 73 more\r\n\r\nMy Tomcat configuration is as follows: Apache Tomcat (TomEE)/9.0.39 (8.0.5) running on Windows 10 with JVM 1.8.0_281-b09 from Oracle\r\n","title":"Spring Boot application not running on TomEE Plus","body":"<p>I have a spring boot application that I am trying to deploy onto a TomEE Plus server. The application works perfectly fine with the embedded Tomcat server and on a Tomcat 9.0.43 setup.\nI copy the deployment files into the TomEE webapps folder, start the server and ... nothing.</p>\n<p>I don't see the usual Spring Boot startup logo and TOMEE seems to just skip the spring boot application.\nInstead, I get a the following errors (shortened for clarity):</p>\n<pre><code>java.lang.IllegalStateException: Error starting child\n     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\n     at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n     at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\n     at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1133)\n...\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\n     at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n     ... 37 more\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally\n     at java.lang.ClassLoader.defineClass1(Native Method)\n     at java.lang.ClassLoader.defineClass(Unknown Source)\n     at java.security.SecureClassLoader.defineClass(Unknown Source)\n...\nCaused by: java.lang.ClassNotFoundException: javax.servlet.jsp.tagext.TryCatchFinally\n     at java.net.URLClassLoader.findClass(Unknown Source)\n     at java.lang.ClassLoader.loadClass(Unknown Source)\n     at java.lang.ClassLoader.loadClass(Unknown Source)\n     ... 73 more\n</code></pre>\n<p>My Tomcat configuration is as follows: Apache Tomcat (TomEE)/9.0.39 (8.0.5) running on Windows 10 with JVM 1.8.0_281-b09 from Oracle</p>\n"},{"tags":["java","spring","spring-boot","dto"],"answers":[{"tags":[],"owner":{"account_id":23930232,"reputation":118,"user_id":17924830,"display_name":"Ali Arabat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642162640,"creation_date":1642162640,"answer_id":70710452,"question_id":70710144,"body_markdown":"You may create an generic abstract class like this:\r\n\r\n    public abstract class AbstractConverter&lt;T, DTO&gt; {\r\n        public abstract T fromDto(DTO dto);\r\n    \r\n        public abstract DTO toDTO(T t);\r\n    \r\n        public List&lt;T&gt; fromDTOs(List&lt;DTO&gt; dtos) {\r\n            if (dtos == null || dtos.isEmpty()) {\r\n                return null;\r\n            } else {\r\n                return dtos.stream().map(this::fromDTO).collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n        public List&lt;DTO&gt; toDTOs(List&lt;T&gt; ts) {\r\n            if (ts == null || ts.isEmpty()) {\r\n                return null;\r\n            } else {\r\n                return ts.stream().map(this::toDTO).collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThen create another class that implements the aforecreated abstract class by assigning your desired values like this:\r\n\r\n    @Component(value = &quot;coinConverter&quot;)\r\n    public class CoinConverter extends AbstractConverter&lt;Coin, CoinDTO&gt; {\r\n    \r\n        @Override\r\n        public Coin fromDTO(CoinDTO dto) {\r\n            if (dto == null) {\r\n                return null;\r\n            } else {\r\n                Coin coin = new Coin();\r\n                // Assign all values you wanted to consume\r\n                // of the following form\r\n                // coin.setYourAttribite(dto.getYourAttribute())\r\n                return coin;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public CoinDTO toDTO(Coin coin) {\r\n            if (t == null) {\r\n                return null;\r\n            } else {\r\n                CoinDTO coinDTO = new CoinDTO();\r\n                // Assign all values you wanted to expose\r\n                // of the following form\r\n                // coinDTO.setYourAttribite(coin.getYourAttribute())\r\n                return coinDTO;\r\n            }\r\n        }\r\n    }\r\n\r\nIn controller layer you may change your existing code by this one:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;coinConverter&quot;)\r\n    AbstractConverter&lt;Coin, CoinDTO&gt; abstractConverter;\r\n\r\n    @Override\r\n    public List&lt;CoinDTO&gt; getCoinList() {\r\n    \r\n        List&lt;Coin&gt; coinsList = this.coinRepository.findAll();\r\n        return abstractConverter.toDTOs(cointList);\r\n    }\r\n\r\nThis way your code is flexible to add more converters without changing the existing ones.","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>You may create an generic abstract class like this:</p>\n<pre><code>public abstract class AbstractConverter&lt;T, DTO&gt; {\n    public abstract T fromDto(DTO dto);\n\n    public abstract DTO toDTO(T t);\n\n    public List&lt;T&gt; fromDTOs(List&lt;DTO&gt; dtos) {\n        if (dtos == null || dtos.isEmpty()) {\n            return null;\n        } else {\n            return dtos.stream().map(this::fromDTO).collect(Collectors.toList());\n        }\n    }\n\n    public List&lt;DTO&gt; toDTOs(List&lt;T&gt; ts) {\n        if (ts == null || ts.isEmpty()) {\n            return null;\n        } else {\n            return ts.stream().map(this::toDTO).collect(Collectors.toList());\n        }\n    }\n\n}\n</code></pre>\n<p>Then create another class that implements the aforecreated abstract class by assigning your desired values like this:</p>\n<pre><code>@Component(value = &quot;coinConverter&quot;)\npublic class CoinConverter extends AbstractConverter&lt;Coin, CoinDTO&gt; {\n\n    @Override\n    public Coin fromDTO(CoinDTO dto) {\n        if (dto == null) {\n            return null;\n        } else {\n            Coin coin = new Coin();\n            // Assign all values you wanted to consume\n            // of the following form\n            // coin.setYourAttribite(dto.getYourAttribute())\n            return coin;\n        }\n    }\n\n    @Override\n    public CoinDTO toDTO(Coin coin) {\n        if (t == null) {\n            return null;\n        } else {\n            CoinDTO coinDTO = new CoinDTO();\n            // Assign all values you wanted to expose\n            // of the following form\n            // coinDTO.setYourAttribite(coin.getYourAttribute())\n            return coinDTO;\n        }\n    }\n}\n</code></pre>\n<p>In controller layer you may change your existing code by this one:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;coinConverter&quot;)\nAbstractConverter&lt;Coin, CoinDTO&gt; abstractConverter;\n\n@Override\npublic List&lt;CoinDTO&gt; getCoinList() {\n\n    List&lt;Coin&gt; coinsList = this.coinRepository.findAll();\n    return abstractConverter.toDTOs(cointList);\n}\n</code></pre>\n<p>This way your code is flexible to add more converters without changing the existing ones.</p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642163867,"creation_date":1642163867,"answer_id":70710681,"question_id":70710144,"body_markdown":"As far as I understand, you are looking for a way that makes the conversion process shorter and more convenient. if so use ModelMapper class in this case, read this [http://modelmapper.org/][1] documentation, ModelMapper uses TypeTokens to allow mapping of generic parameterized types.\r\n\r\n\r\n  [1]: http://modelmapper.org/","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>As far as I understand, you are looking for a way that makes the conversion process shorter and more convenient. if so use ModelMapper class in this case, read this <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">http://modelmapper.org/</a> documentation, ModelMapper uses TypeTokens to allow mapping of generic parameterized types.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642184295,"creation_date":1642184295,"answer_id":70714948,"question_id":70710144,"body_markdown":"Not sure if I understood your question, but is the following what you are looking for:\r\n```java\r\n@Override\r\npublic List&lt;CoinDTO&gt; getCoinList() {\r\n    return this.coinRepository.findAll().stream()\r\n        .map(coin -&gt; conversionService.convert(coin, CoinDTO.class))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>Not sure if I understood your question, but is the following what you are looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;CoinDTO&gt; getCoinList() {\n    return this.coinRepository.findAll().stream()\n        .map(coin -&gt; conversionService.convert(coin, CoinDTO.class))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642184295,"creation_date":1642161060,"question_id":70710144,"body_markdown":"I am working on a Spring Boot application and I have the following doubt.\r\n\r\nI have this service method (that works fine) that insert an object into the DB calling the repository:\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic CoinDTO createCoin(CoinDTO coin) throws DuplicateException {\r\n\t\tCoin checkCoinExists = coinRepository.findByCode(coin.getCode());\r\n\r\n\t\tif (checkCoinExists != null) {\r\n\t\t\tString MsgErr = String.format(&quot;Coin %s already registered in the system !!! &quot;\r\n\t\t\t\t\t+ &quot;Impossible to use POST&quot;, coin.getCode());\r\n\r\n\t\t\tlog.warning(MsgErr);\r\n\r\n\t\t\tthrow new DuplicateException(MsgErr);\r\n\t\t}\r\n\r\n\t\tCoin result = coinRepository.save(conversionService.convert(coin,Coin.class));\r\n\t\treturn conversionService.convert(result,CoinDTO.class);\r\n\t}\r\n\r\nAs you can see the **save()** methjod return the inserted **Coin** object (that is an Hibernate entity class mapping my table). The service method than convert this **Coin** object into the **CoinDTO** object in order to return the DTO object instead the entity instance. It works fine and it is the expected behavior.\r\n\r\nNow I created this second service method that simply retrieve the list of all the **Coin** objects and must return the list of the related **CoinDTO** objects:\r\n\r\n\t@Override\r\n\tpublic List&lt;CoinDTO&gt; getCoinList() {\r\n\t\t\r\n\t\tList&lt;Coin&gt; coinsList = this.coinRepository.findAll();\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\nand here I have the following doubt: I think that I can implement thid **ENTITY to DTO** conversion behavior iterating on the **coinsList** element, converting each element of the list one by one and then adding it to a new **List&lt;CoinDTO&gt;** list. It should work\r\n\r\nExist some more modern and smarter way to do it? Maybe using lambda function? Can you help me to implement this behavior in a modern and a smart way?\r\n","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>I am working on a Spring Boot application and I have the following doubt.</p>\n<p>I have this service method (that works fine) that insert an object into the DB calling the repository:</p>\n<pre><code>@Override\n@Transactional\npublic CoinDTO createCoin(CoinDTO coin) throws DuplicateException {\n    Coin checkCoinExists = coinRepository.findByCode(coin.getCode());\n\n    if (checkCoinExists != null) {\n        String MsgErr = String.format(&quot;Coin %s already registered in the system !!! &quot;\n                + &quot;Impossible to use POST&quot;, coin.getCode());\n\n        log.warning(MsgErr);\n\n        throw new DuplicateException(MsgErr);\n    }\n\n    Coin result = coinRepository.save(conversionService.convert(coin,Coin.class));\n    return conversionService.convert(result,CoinDTO.class);\n}\n</code></pre>\n<p>As you can see the <strong>save()</strong> methjod return the inserted <strong>Coin</strong> object (that is an Hibernate entity class mapping my table). The service method than convert this <strong>Coin</strong> object into the <strong>CoinDTO</strong> object in order to return the DTO object instead the entity instance. It works fine and it is the expected behavior.</p>\n<p>Now I created this second service method that simply retrieve the list of all the <strong>Coin</strong> objects and must return the list of the related <strong>CoinDTO</strong> objects:</p>\n<pre><code>@Override\npublic List&lt;CoinDTO&gt; getCoinList() {\n    \n    List&lt;Coin&gt; coinsList = this.coinRepository.findAll();\n    \n    return null;\n}\n</code></pre>\n<p>and here I have the following doubt: I think that I can implement thid <strong>ENTITY to DTO</strong> conversion behavior iterating on the <strong>coinsList</strong> element, converting each element of the list one by one and then adding it to a new <strong>List</strong> list. It should work</p>\n<p>Exist some more modern and smarter way to do it? Maybe using lambda function? Can you help me to implement this behavior in a modern and a smart way?</p>\n"},{"tags":["java","sockets","p2p","nat","stun"],"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642216632,"post_id":70714861,"comment_id":125018921,"body_markdown":"You&#39;ll need a STUN library and a service for exchanging address candidates: https://stackoverflow.com/a/8524609/104458","body":"You&#39;ll need a STUN library and a service for exchanging address candidates: <a href=\"https://stackoverflow.com/a/8524609/104458\">stackoverflow.com/a/8524609/104458</a>"},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642222452,"post_id":70714861,"comment_id":125019420,"body_markdown":"How can I request a stun server my ip and port with sockets? I want a code implementation in Java","body":"How can I request a stun server my ip and port with sockets? I want a code implementation in Java"},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642222532,"post_id":70714861,"comment_id":125019428,"body_markdown":"How to use JSTUN library?","body":"How to use JSTUN library?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642222571,"post_id":70714861,"comment_id":125019432,"body_markdown":"JSTUN is the answer you seek.","body":"JSTUN is the answer you seek."},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642223110,"post_id":70714861,"comment_id":125019504,"body_markdown":"There is no documentation for JSTUN. I am getting exceptions. Can you give a code snippet of it?","body":"There is no documentation for JSTUN. I am getting exceptions. Can you give a code snippet of it?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642267766,"post_id":70714861,"comment_id":125027733,"body_markdown":"Start by compiling jstun library and the sample apps yourself and running it. Then step through it with a debugger - you&#39;ll quickly see the class hierarchy.","body":"Start by compiling jstun library and the sample apps yourself and running it. Then step through it with a debugger - you&#39;ll quickly see the class hierarchy."},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642569044,"post_id":70714861,"comment_id":125102577,"body_markdown":"Please give a code snippet of the function that takes socket or port number and returns external ip and port.","body":"Please give a code snippet of the function that takes socket or port number and returns external ip and port."},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642569081,"post_id":70714861,"comment_id":125102580,"body_markdown":"I want to use Google&#39;s stun server, stun.l.google.com","body":"I want to use Google&#39;s stun server, stun.l.google.com"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642573365,"post_id":70714861,"comment_id":125103392,"body_markdown":"Start with the JSTUN sample code here to run the &quot;Discovery Test&quot; or the &quot;Fast Discovery Test&quot; client code.  It&#39;s all here: https://github.com/tking/JSTUN/tree/master/src/main/java/de/javawi/jstun/test/demo","body":"Start with the JSTUN sample code here to run the &quot;Discovery Test&quot; or the &quot;Fast Discovery Test&quot; client code.  It&#39;s all here: <a href=\"https://github.com/tking/JSTUN/tree/master/src/main/java/de/javawi/jstun/test/demo\" rel=\"nofollow noreferrer\">github.com/tking/JSTUN/tree/master/src/main/java/de/javawi/&hellip;</a>"},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642573987,"post_id":70714861,"comment_id":125103527,"body_markdown":"How to get InetAddress for constructor?","body":"How to get InetAddress for constructor?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642574137,"post_id":70714861,"comment_id":125103567,"body_markdown":"Sonu.  Learn how to send UDP packets first using Java&#39;s network and socket libraries.","body":"Sonu.  Learn how to send UDP packets first using Java&#39;s network and socket libraries."}],"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642183791,"creation_date":1642183791,"question_id":70714861,"body_markdown":"How to get external ip and port from stun server? For example Google&#39;s stun server, `stun.l.google.com`\r\n\r\nSo I can use that to establish P2P connection with sockets between clients behind NAT.\r\n\r\nCurrently, I can only connect to peers in local network, but I want to connect peers outside of local network with sockets.","title":"How to get external port from stun server","body":"<p>How to get external ip and port from stun server? For example Google's stun server, <code>stun.l.google.com</code></p>\n<p>So I can use that to establish P2P connection with sockets between clients behind NAT.</p>\n<p>Currently, I can only connect to peers in local network, but I want to connect peers outside of local network with sockets.</p>\n"},{"tags":["java","option-type","java-9","flatmap"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1642182357,"post_id":70714516,"comment_id":125011372,"body_markdown":"What is `toDateOfInjury`? Please provide a complete example.","body":"What is <code>toDateOfInjury</code>? Please provide a complete example."},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1642182593,"post_id":70714516,"comment_id":125011465,"body_markdown":"I&#39;m not really sure what you are trying to do here, but there is a probably a better more clear way to code this.","body":"I&#39;m not really sure what you are trying to do here, but there is a probably a better more clear way to code this."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1642182596,"post_id":70714516,"comment_id":125011467,"body_markdown":"Your code essentially performs `opt.flatMap(doi -&gt; Optional::empty)`, which always triggers the `or` part. What did you expect?","body":"Your code essentially performs <code>opt.flatMap(doi -&gt; Optional::empty)</code>, which always triggers the <code>or</code> part. What did you expect?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1642182813,"post_id":70714516,"comment_id":125011563,"body_markdown":"`opt.map(doi -&gt; Optional.empty()).orElseGet(() -&gt; Optional.of(&quot;...&quot;))`","body":"<code>opt.map(doi -&gt; Optional.empty()).orElseGet(() -&gt; Optional.of(&quot;...&quot;))</code>"},{"owner":{"account_id":17069592,"reputation":115,"user_id":12350751,"display_name":"FaraBara"},"score":0,"creation_date":1642184088,"post_id":70714516,"comment_id":125012040,"body_markdown":"@shmosel yes this did the trick. I will award you the answer if you post this.","body":"@shmosel yes this did the trick. I will award you the answer if you post this."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642415308,"post_id":70714516,"comment_id":125056103,"body_markdown":"or `opt.isPresent()? Optional.empty(): Optional.of(&quot;No date of injury&quot;)`","body":"or <code>opt.isPresent()? Optional.empty(): Optional.of(&quot;No date of injury&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642182728,"creation_date":1642182728,"answer_id":70714674,"question_id":70714516,"body_markdown":"This looks like you want a simple null check. What about\r\n\r\n    return dateOfInjury==null?Optional.empty():Optional.of(&quot;No date of injury&quot;);\r\n\r\n","title":"How do I avoid reaching the .or() in this code?","body":"<p>This looks like you want a simple null check. What about</p>\n<pre><code>return dateOfInjury==null?Optional.empty():Optional.of(&quot;No date of injury&quot;);\n</code></pre>\n"}],"owner":{"account_id":17069592,"reputation":115,"user_id":12350751,"display_name":"FaraBara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642183663,"creation_date":1642181980,"question_id":70714516,"body_markdown":"```\r\nstatic final Function&lt;Bill,Optional&lt;LocalDate&gt;&gt; toDateOfInjury = b -&gt; toClaim.andThen(opt -&gt; opt.map(Claim::getDatInjuryDate)).apply(b); \r\n\r\npublic static final Supplier&lt;Optional&lt;String&gt;&gt; emptyStrOpt = Optional::empty;\r\n\r\nstatic final Function&lt;Bill,Optional&lt;String&gt;&gt; dateOfInjuryNotNull = b -&gt;\r\n            toDateOfInjury.andThen(\r\n                    opt -&gt; opt.flatMap(doi -&gt; emptyStrOpt.get())\r\n                            .or(() -&gt; Optional.of(&quot;No date of injury&quot;))).apply(b);\r\n```\r\n\r\nIn a unit test, this always returns the &quot;No date of injury&quot; optional. I assume it is because  the empty result of flatMap triggers it. This is what I want:\r\n\r\n - null dateOfInjury: Optional.of(&quot;.....&quot;)\r\n - non-null dateOfInjury: Optional.empty()","title":"How do I avoid reaching the .or() in this code?","body":"<pre><code>static final Function&lt;Bill,Optional&lt;LocalDate&gt;&gt; toDateOfInjury = b -&gt; toClaim.andThen(opt -&gt; opt.map(Claim::getDatInjuryDate)).apply(b); \n\npublic static final Supplier&lt;Optional&lt;String&gt;&gt; emptyStrOpt = Optional::empty;\n\nstatic final Function&lt;Bill,Optional&lt;String&gt;&gt; dateOfInjuryNotNull = b -&gt;\n            toDateOfInjury.andThen(\n                    opt -&gt; opt.flatMap(doi -&gt; emptyStrOpt.get())\n                            .or(() -&gt; Optional.of(&quot;No date of injury&quot;))).apply(b);\n</code></pre>\n<p>In a unit test, this always returns the &quot;No date of injury&quot; optional. I assume it is because  the empty result of flatMap triggers it. This is what I want:</p>\n<ul>\n<li>null dateOfInjury: Optional.of(&quot;.....&quot;)</li>\n<li>non-null dateOfInjury: Optional.empty()</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8311,"page":1681,"page_size":100}
